/* Generated by Nimrod Compiler v0.8.11 */
/*   (c) 2011 Andreas Rumpf */

typedef long int NI;
typedef unsigned long int NU;
#include "nimbase.h"

typedef struct TY193208 TY193208;
typedef struct TY193206 TY193206;
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct TY56548 TY56548;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct TY10802 TY10802;
typedef struct TY10818 TY10818;
typedef struct TY11196 TY11196;
typedef struct TY10814 TY10814;
typedef struct TY10810 TY10810;
typedef struct TY11194 TY11194;
typedef struct TY44019 TY44019;
typedef struct TY44013 TY44013;
typedef struct TY38661 TY38661;
typedef struct TY56526 TY56526;
typedef struct TY94031 TY94031;
typedef struct TY55005 TY55005;
typedef struct TNimObject TNimObject;
typedef struct TY56552 TY56552;
typedef struct TY55011 TY55011;
typedef struct TY48538 TY48538;
typedef struct TY56530 TY56530;
typedef struct TY56528 TY56528;
typedef struct TY56540 TY56540;
typedef struct TY53008 TY53008;
typedef struct TY56544 TY56544;
typedef struct TY76204 TY76204;
typedef struct TY106006 TY106006;
typedef struct TY106002 TY106002;
typedef struct TY44015 TY44015;
typedef struct TY78267 TY78267;
typedef struct TY77015 TY77015;
typedef struct TY78281 TY78281;
typedef struct TY78263 TY78263;
typedef struct TY56520 TY56520;
typedef struct TY39221 TY39221;
typedef struct TY94029 TY94029;
typedef struct TY61215 TY61215;
typedef struct TY61213 TY61213;
typedef struct TY61211 TY61211;
typedef struct TY56564 TY56564;
typedef struct TY56562 TY56562;
typedef struct TY56560 TY56560;
typedef struct TY56550 TY56550;
struct TGenericSeq {
NI len;
NI space;
};
typedef NIM_CHAR TY245[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY245 data;
};
struct TY193206 {
NimStringDesc* Filename;
TY56548* Module;
};
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct TY10802 {
NI Refcount;
TNimType* Typ;
};
struct TY10818 {
NI Len;
NI Cap;
TY10802** D;
};
struct TY10814 {
NI Counter;
NI Max;
TY10810* Head;
TY10810** Data;
};
struct TY11194 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY11196 {
TY10818 Zct;
TY10818 Decstack;
TY10814 Cycleroots;
TY10818 Tempstack;
TY11194 Stat;
};
struct TY44019 {
TNimType* m_type;
TY44013* Head;
TY44013* Tail;
NI Counter;
};
struct TY38661 {
NimStringDesc* Dir;
NimStringDesc* Name;
NimStringDesc* Ext;
};
typedef N_NIMCALL_PTR(TY56526*, TY106045) (NimStringDesc* Filename_106046);
typedef N_NIMCALL_PTR(TY56548*, TY106041) (NimStringDesc* Filename_106042);
struct TNimObject {
TNimType* m_type;
};
struct TY55005 {
  TNimObject Sup;
NI Id;
};
struct TY48538 {
NI16 Line;
NI16 Col;
int Fileindex;
};
struct TY56530 {
TNimType* m_type;
NI Counter;
TY56528* Data;
};
struct TY56540 {
NU8 K;
NU8 S;
NU8 Flags;
TY56552* T;
TY53008* R;
NI A;
};
struct TY56548 {
  TY55005 Sup;
NU8 Kind;
NU8 Magic;
TY56552* Typ;
TY55011* Name;
TY48538 Info;
TY56548* Owner;
NU32 Flags;
TY56530 Tab;
TY56526* Ast;
NU32 Options;
NI Position;
NI Offset;
TY56540 Loc;
TY56544* Annex;
};
struct TY55011 {
  TY55005 Sup;
NimStringDesc* S;
TY55011* Next;
NI H;
};
typedef N_NIMCALL_PTR(TY106002*, TY106007) (TY56548* Module_106008, NimStringDesc* Filename_106009);
typedef N_NIMCALL_PTR(TY106002*, TY106012) (TY56548* Module_106013, NimStringDesc* Filename_106014, TY94031* Rd_106015);
typedef N_NIMCALL_PTR(TY56526*, TY106018) (TY106002* P_106019, TY56526* N_106020);
typedef N_NIMCALL_PTR(TY56526*, TY106023) (TY106002* P_106024, TY56526* Toplevelstmt_106025);
struct TY106006 {
TY106007 Open;
TY106012 Opencached;
TY106018 Close;
TY106023 Process;
};
struct TY44013 {
  TNimObject Sup;
TY44013* Prev;
TY44013* Next;
};
struct TY44015 {
  TY44013 Sup;
NimStringDesc* Data;
};
struct TY77015 {
  TNimObject Sup;
NI Bufpos;
NCSTRING Buf;
NI Buflen;
TY76204* Stream;
NI Linenumber;
NI Sentinel;
NI Linestart;
};
struct TY78267 {
  TY77015 Sup;
NimStringDesc* Filename;
TY78281* Indentstack;
NI Dedent;
NI Indentahead;
};
struct TY78263 {
TNimType* m_type;
NU8 Toktype;
NI Indent;
TY55011* Ident;
NI64 Inumber;
NF64 Fnumber;
NU8 Base;
NimStringDesc* Literal;
TY78263* Next;
};
typedef NI TY8814[16];
struct TY10810 {
TY10810* Next;
NI Key;
TY8814 Bits;
};
struct TY56526 {
TY56552* Typ;
NimStringDesc* Comment;
TY48538 Info;
NU8 Flags;
NU8 Kind;
union {
struct {NI64 Intval;
} S1;
struct {NF64 Floatval;
} S2;
struct {NimStringDesc* Strval;
} S3;
struct {TY56548* Sym;
} S4;
struct {TY55011* Ident;
} S5;
struct {TY56520* Sons;
} S6;
} KindU;
};
struct TY61211 {
NI Key;
NI Val;
};
struct TY61215 {
NI Counter;
TY61213* Data;
};
struct TY94029 {
NI Lastidxkey;
NI Lastidxval;
TY61215 Tab;
TY53008* R;
NI Offset;
};
struct TY56560 {
TY55005* Key;
TNimObject* Val;
};
struct TY56564 {
NI Counter;
TY56562* Data;
};
struct TY94031 {
  TNimObject Sup;
NI Pos;
NimStringDesc* S;
NU32 Options;
NU8 Reason;
TY39221* Moddeps;
TY39221* Files;
NI Dataidx;
NI Convertersidx;
NI Initidx;
NI Interfidx;
NI Compilerprocsidx;
NI Cgenidx;
NimStringDesc* Filename;
TY94029 Index;
TY94029 Imports;
NI Readerindex;
NI Line;
NI Moduleid;
TY56564 Syms;
};
struct TY56552 {
  TY55005 Sup;
NU8 Kind;
TY56550* Sons;
TY56526* N;
NU8 Flags;
NU8 Callconv;
TY56548* Owner;
TY56548* Sym;
NI64 Size;
NI Align;
NI Containerid;
TY56540 Loc;
};
struct TY53008 {
  TNimObject Sup;
TY53008* Left;
TY53008* Right;
NI Length;
NimStringDesc* Data;
};
struct TY56544 {
  TY44013 Sup;
NU8 Kind;
NIM_BOOL Generated;
TY53008* Name;
TY56526* Path;
};
struct TY76204 {
  TNimObject Sup;
NU8 Kind;
FILE* F;
NimStringDesc* S;
NI Rd;
NI Wr;
NI Lineoffset;
};
struct TY106002 {
  TNimObject Sup;
};
struct TY193208 {
  TGenericSeq Sup;
  TY193206 data[SEQ_DECL_SIZE];
};
struct TY56528 {
  TGenericSeq Sup;
  TY56548* data[SEQ_DECL_SIZE];
};
struct TY78281 {
  TGenericSeq Sup;
  NI data[SEQ_DECL_SIZE];
};
struct TY56520 {
  TGenericSeq Sup;
  TY56526* data[SEQ_DECL_SIZE];
};
struct TY39221 {
  TGenericSeq Sup;
  NimStringDesc* data[SEQ_DECL_SIZE];
};
struct TY61213 {
  TGenericSeq Sup;
  TY61211 data[SEQ_DECL_SIZE];
};
struct TY56562 {
  TGenericSeq Sup;
  TY56560 data[SEQ_DECL_SIZE];
};
struct TY56550 {
  TGenericSeq Sup;
  TY56552* data[SEQ_DECL_SIZE];
};
N_NIMCALL(void*, newSeq)(TNimType* Typ_14404, NI Len_14405);
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13218, void* Src_13219);
static N_INLINE(TY10802*, Usrtocell_11612)(void* Usr_11614);
static N_INLINE(NI, Atomicinc_3221)(NI* Memloc_3224, NI X_3225);
static N_INLINE(NI, Atomicdec_3226)(NI* Memloc_3229, NI X_3230);
static N_INLINE(void, Rtladdzct_12601)(TY10802* C_12603);
N_NOINLINE(void, Addzct_11601)(TY10818* S_11604, TY10802* C_11605);
N_NIMCALL(void, Appendstr_44061)(TY44019* List_44064, NimStringDesc* Data_44065);
N_NIMCALL(void, Prependstr_44071)(TY44019* List_44074, NimStringDesc* Data_44075);
N_NIMCALL(void, nossplitFile)(NimStringDesc* Path_38660, TY38661* Result);
static N_INLINE(void, Setid_56696)(NI Id_56698);
N_NIMCALL(TY56526*, Parsefile_93031)(NimStringDesc* Filename_93033);
N_NIMCALL(TY56548*, Importmodule_193325)(NimStringDesc* Filename_193327);
N_NIMCALL(TY56548*, Getmodule_193256)(NimStringDesc* Filename_193258);
N_NIMCALL(NIM_BOOL, nossameFile)(NimStringDesc* Path1_38850, NimStringDesc* Path2_38851);
N_NIMCALL(TY56548*, Compilemodule_193320)(NimStringDesc* Filename_193322, NIM_BOOL Ismainfile_193323, NIM_BOOL Issystemfile_193324);
N_NIMCALL(NimStringDesc*, nosaddFileExt)(NimStringDesc* Filename_38830, NimStringDesc* Ext_38831);
N_NIMCALL(TY56548*, Newmodule_193287)(NimStringDesc* Filename_193289);
N_NIMCALL(void*, newObj)(TNimType* Typ_13910, NI Size_13911);
N_NIMCALL(void, objectInit)(void* Dest_19681, TNimType* Typ_19682);
N_NIMCALL(TY55011*, Getident_55016)(NimStringDesc* Identifier_55018);
N_NIMCALL(NIM_BOOL, Isnimrodidentifier_78357)(NimStringDesc* S_78359);
N_NIMCALL(void, Rawmessage_49094)(NU8 Msg_49096, NimStringDesc* Arg_49097);
static N_INLINE(void, asgnRef)(void** Dest_13214, void* Src_13215);
static N_INLINE(void, Incref_13202)(TY10802* C_13204);
static N_INLINE(NIM_BOOL, Canbecycleroot_11616)(TY10802* C_11618);
static N_INLINE(void, Rtladdcycleroot_12252)(TY10802* C_12254);
N_NOINLINE(void, Incl_11080)(TY10814* S_11083, TY10802* Cell_11084);
static N_INLINE(void, Decref_13001)(TY10802* C_13003);
N_NIMCALL(TY48538, Newlineinfo_48718)(NimStringDesc* Filename_48720, NI Line_48721, NI Col_48722);
N_NIMCALL(void, Initstrtable_56747)(TY56530* X_56750);
N_NIMCALL(void, Registermodule_193229)(NimStringDesc* Filename_193231, TY56548* Module_193232);
N_NIMCALL(TGenericSeq*, setLengthSeq)(TGenericSeq* Seq_19003, NI Elemsize_19004, NI Newlen_19005);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* Src_18712);
N_NIMCALL(void, Strtableadd_61061)(TY56530* T_61064, TY56548* N_61065);
N_NIMCALL(TY94031*, Handlesymbolfile_94060)(TY56548* Module_94062, NimStringDesc* Filename_94063);
N_NIMCALL(void, Internalerror_49212)(NimStringDesc* Errmsg_49214);
static N_INLINE(NI, Getid_56694)(void);
N_NIMCALL(void, Processmodule_106035)(TY56548* Module_106037, NimStringDesc* Filename_106038, TY76204* Stream_106039, TY94031* Rd_106040);
N_NIMCALL(void, Localerror_49193)(TY48538 Info_49195, NU8 Msg_49196, NimStringDesc* Arg_49197);
N_NIMCALL(NimStringDesc*, nsuNormalize)(NimStringDesc* S_24540);
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* A_18649, NimStringDesc* B_18650);
N_NIMCALL(NI, hashString)(NimStringDesc* S_18727);
N_NIMCALL(void, Wantfile_193707)(NimStringDesc* Filename_193709);
N_NIMCALL(void, Fatal_49183)(TY48538 Info_49185, NU8 Msg_49186, NimStringDesc* Arg_49187);
N_NIMCALL(void, Commandcompiletoc_193416)(NimStringDesc* Filename_193418);
N_NIMCALL(void, Semanticpasses_193408)(void);
N_NIMCALL(void, Registerpass_106028)(TY106006* P_106030);
N_NIMCALL(TY106006, Verbosepass_188045)(void);
N_NIMCALL(TY106006, Sempass_132001)(void);
N_NIMCALL(TY106006, Transfpass_190005)(void);
N_NIMCALL(TY106006, Cgenpass_164201)(void);
N_NIMCALL(TY106006, Rodwritepass_112001)(void);
N_NIMCALL(void, Compileproject_193405)(NimStringDesc* Filename_193407);
N_NIMCALL(NimStringDesc*, nosJoinPath)(NimStringDesc* Head_38403, NimStringDesc* Tail_38404);
N_NIMCALL(void, Callccompiler_71806)(NimStringDesc* Projectfile_71808);
N_NIMCALL(NimStringDesc*, nosChangeFileExt)(NimStringDesc* Filename_38820, NimStringDesc* Ext_38821);
N_NIMCALL(void, Commandcompiletoecmascript_193601)(NimStringDesc* Filename_193603);
N_NIMCALL(void, Settarget_52582)(NU8 O_52584, NU8 C_52585);
N_NIMCALL(void, Initdefines_65049)(void);
N_NIMCALL(TY106006, Ecmasgenpass_181004)(void);
N_NIMCALL(void, Commandpretty_193643)(NimStringDesc* Filename_193645);
N_NIMCALL(void, Rendermodule_86035)(TY56526* N_86037, NimStringDesc* Filename_86038, NU8 Renderflags_86041);
N_NIMCALL(NimStringDesc*, Getoutfile_47167)(NimStringDesc* Filename_47169, NimStringDesc* Ext_47170);
N_NIMCALL(void, Loadspecialconfig_81007)(NimStringDesc* Configfilename_81009);
N_NIMCALL(void, Commanddoc_159001)(NimStringDesc* Filename_159003);
N_NIMCALL(void, Commandrst2html_159004)(NimStringDesc* Filename_159006);
N_NIMCALL(void, Commandrst2tex_159007)(NimStringDesc* Filename_159009);
N_NIMCALL(void, Commandgendepend_193410)(NimStringDesc* Filename_193412);
N_NIMCALL(TY106006, Gendependpass_189004)(void);
N_NIMCALL(TY106006, Cleanuppass_188173)(void);
N_NIMCALL(void, Generatedot_189006)(NimStringDesc* Project_189008);
N_NIMCALL(void, Execexternalprogram_71570)(NimStringDesc* Cmd_71572);
static N_INLINE(void, appendString)(NimStringDesc* Dest_18799, NimStringDesc* Src_18800);
static N_INLINE(void, appendChar)(NimStringDesc* Dest_18816, NIM_CHAR C_18817);
N_NIMCALL(NimStringDesc*, rawNewString)(NI Space_18689);
N_NIMCALL(void, Listsymbols_65062)(void);
N_NIMCALL(void, Msgwriteln_48794)(NimStringDesc* S_48796);
N_NIMCALL(void, Commandcheck_193413)(NimStringDesc* Filename_193415);
N_NIMCALL(void, Commandscan_193658)(NimStringDesc* Filename_193660);
N_NIMCALL(TY76204*, Llstreamopen_76224)(NimStringDesc* Filename_76226, NU8 Mode_76227);
N_NIMCALL(void, genericReset)(void* Dest_19728, TNimType* Mt_19729);
N_NIMCALL(void, Openlexer_78298)(TY78267* Lex_78301, NimStringDesc* Filename_78302, TY76204* Inputstream_78303);
N_NIMCALL(void, Rawgettok_78304)(TY78267* L_78307, TY78263* Tok_78309);
N_NIMCALL(void, Printtok_78320)(TY78263* Tok_78322);
N_NIMCALL(void, Closelexer_78316)(TY78267* Lex_78319);
N_NIMCALL(void, Commandinteractive_193616)(void);
N_NIMCALL(TY106006, Evalpass_121511)(void);
N_NIMCALL(TY76204*, Llstreamopenstdin_76230)(void);
N_NIMCALL(void, Commandsuggest_193704)(NimStringDesc* Filename_193706);
STRING_LITERAL(TMP197875, "nim", 3);
STRING_LITERAL(TMP197928, "handleSymbolFile should have set the module\'s ID", 48);
STRING_LITERAL(TMP197930, "c", 1);
STRING_LITERAL(TMP197931, "cc", 2);
STRING_LITERAL(TMP197932, "compile", 7);
STRING_LITERAL(TMP197933, "compiletoc", 10);
STRING_LITERAL(TMP197934, "compiletocpp", 12);
STRING_LITERAL(TMP197935, "oc", 2);
STRING_LITERAL(TMP197936, "compiletooc", 11);
STRING_LITERAL(TMP197937, "run", 3);
STRING_LITERAL(TMP197938, "js", 2);
STRING_LITERAL(TMP197939, "compiletoecmascript", 19);
STRING_LITERAL(TMP197940, "compiletollvm", 13);
STRING_LITERAL(TMP197941, "pretty", 6);
STRING_LITERAL(TMP197942, "doc", 3);
STRING_LITERAL(TMP197943, "rst2html", 8);
STRING_LITERAL(TMP197944, "rst2tex", 7);
STRING_LITERAL(TMP197945, "gendepend", 9);
STRING_LITERAL(TMP197946, "dump", 4);
STRING_LITERAL(TMP197947, "check", 5);
STRING_LITERAL(TMP197948, "parse", 5);
STRING_LITERAL(TMP197949, "scan", 4);
STRING_LITERAL(TMP197950, "i", 1);
STRING_LITERAL(TMP197951, "idetools", 8);
STRING_LITERAL(TMP197952, "command line", 12);
STRING_LITERAL(TMP197953, "", 0);
STRING_LITERAL(TMP198906, "system", 6);
STRING_LITERAL(TMP198924, ".cpp", 4);
STRING_LITERAL(TMP198925, ".m", 2);
STRING_LITERAL(TMP199133, "pretty.nim", 10);
STRING_LITERAL(TMP199134, "nimdoc.cfg", 10);
STRING_LITERAL(TMP199537, "nimdoc.tex.cfg", 14);
STRING_LITERAL(TMP199545, "dot -Tpng -o", 12);
STRING_LITERAL(TMP199546, "png", 3);
STRING_LITERAL(TMP199547, "dot", 3);
STRING_LITERAL(TMP199551, "Beware: Indentation tokens depend on the parser\'s state!", 56);
STRING_LITERAL(TMP199552, "stdin", 5);
TY193208* Compmods_193227;
extern TNimType* NTI193208; /* TFileModuleMap */
extern TY11196 Gch_11214;
extern TY44019 Searchpaths_47086;
extern NimStringDesc* Libpath_47117;
extern NI Gid_56693;
extern TY106045 Gincludefile_106048;
extern TY106041 Gimportmodule_106044;
extern TNimType* NTI56524; /* PSym */
extern TNimType* NTI56548; /* TSym */
extern NU8 Gcmd_47089;
extern NimStringDesc* Cext_71342;
extern NU32 Gglobaloptions_47084;
extern NI Gerrormax_48568;
extern TNimType* NTI78267; /* TLexer */
extern TNimType* NTI78261; /* PToken */
extern TNimType* NTI78263; /* TToken */
static N_INLINE(TY10802*, Usrtocell_11612)(void* Usr_11614) {
TY10802* Result_11615;
Result_11615 = 0;
Result_11615 = ((TY10802*) ((NI32)((NU32)(((NI) (Usr_11614))) - (NU32)(((NI) (((NI)sizeof(TY10802))))))));
return Result_11615;
}
static N_INLINE(NI, Atomicinc_3221)(NI* Memloc_3224, NI X_3225) {
NI Result_7807;
Result_7807 = 0;
(*Memloc_3224) += X_3225;
Result_7807 = (*Memloc_3224);
return Result_7807;
}
static N_INLINE(NI, Atomicdec_3226)(NI* Memloc_3229, NI X_3230) {
NI Result_8006;
Result_8006 = 0;
(*Memloc_3229) -= X_3230;
Result_8006 = (*Memloc_3229);
return Result_8006;
}
static N_INLINE(void, Rtladdzct_12601)(TY10802* C_12603) {
Addzct_11601(&Gch_11214.Zct, C_12603);
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13218, void* Src_13219) {
TY10802* C_13220;
NI LOC4;
TY10802* C_13222;
NI LOC9;
if (!!((Src_13219 == NIM_NIL))) goto LA2;
C_13220 = 0;
C_13220 = Usrtocell_11612(Src_13219);
LOC4 = Atomicinc_3221(&(*C_13220).Refcount, 8);
LA2: ;
if (!!(((*Dest_13218) == NIM_NIL))) goto LA6;
C_13222 = 0;
C_13222 = Usrtocell_11612((*Dest_13218));
LOC9 = Atomicdec_3226(&(*C_13222).Refcount, 8);
if (!((NU32)(LOC9) < (NU32)(8))) goto LA10;
Rtladdzct_12601(C_13222);
LA10: ;
LA6: ;
(*Dest_13218) = Src_13219;
}
static N_INLINE(void, Setid_56696)(NI Id_56698) {
Gid_56693 = ((Gid_56693 >= (NI32)(Id_56698 + 1)) ? Gid_56693 : (NI32)(Id_56698 + 1));
}
N_NIMCALL(TY56548*, Getmodule_193256)(NimStringDesc* Filename_193258) {
TY56548* Result_193259;
NI I_193283;
NI HEX3Atmp_193284;
NI Res_193286;
NIM_BOOL LOC3;
Result_193259 = 0;
Result_193259 = NIM_NIL;
I_193283 = 0;
HEX3Atmp_193284 = 0;
HEX3Atmp_193284 = (Compmods_193227->Sup.len-1);
Res_193286 = 0;
Res_193286 = 0;
while (1) {
if (!(Res_193286 <= HEX3Atmp_193284)) goto LA1;
I_193283 = Res_193286;
LOC3 = nossameFile(Compmods_193227->data[I_193283].Filename, Filename_193258);
if (!LOC3) goto LA4;
Result_193259 = Compmods_193227->data[I_193283].Module;
goto BeforeRet;
LA4: ;
Res_193286 += 1;
} LA1: ;
BeforeRet: ;
return Result_193259;
}
static N_INLINE(NIM_BOOL, Canbecycleroot_11616)(TY10802* C_11618) {
NIM_BOOL Result_11619;
Result_11619 = 0;
Result_11619 = !((((*(*C_11618).Typ).flags &(1<<((((NU8) 1))&7)))!=0));
return Result_11619;
}
static N_INLINE(void, Rtladdcycleroot_12252)(TY10802* C_12254) {
Incl_11080(&Gch_11214.Cycleroots, C_12254);
}
static N_INLINE(void, Incref_13202)(TY10802* C_13204) {
NI LOC1;
NIM_BOOL LOC3;
LOC1 = Atomicinc_3221(&(*C_13204).Refcount, 8);
LOC3 = Canbecycleroot_11616(C_13204);
if (!LOC3) goto LA4;
Rtladdcycleroot_12252(C_13204);
LA4: ;
}
static N_INLINE(void, Decref_13001)(TY10802* C_13003) {
NI LOC2;
NIM_BOOL LOC5;
LOC2 = Atomicdec_3226(&(*C_13003).Refcount, 8);
if (!((NU32)(LOC2) < (NU32)(8))) goto LA3;
Rtladdzct_12601(C_13003);
goto LA1;
LA3: ;
LOC5 = Canbecycleroot_11616(C_13003);
if (!LOC5) goto LA6;
Rtladdcycleroot_12252(C_13003);
goto LA1;
LA6: ;
LA1: ;
}
static N_INLINE(void, asgnRef)(void** Dest_13214, void* Src_13215) {
TY10802* LOC4;
TY10802* LOC8;
if (!!((Src_13215 == NIM_NIL))) goto LA2;
LOC4 = Usrtocell_11612(Src_13215);
Incref_13202(LOC4);
LA2: ;
if (!!(((*Dest_13214) == NIM_NIL))) goto LA6;
LOC8 = Usrtocell_11612((*Dest_13214));
Decref_13001(LOC8);
LA6: ;
(*Dest_13214) = Src_13215;
}
N_NIMCALL(void, Registermodule_193229)(NimStringDesc* Filename_193231, TY56548* Module_193232) {
NI Length_193243;
Length_193243 = 0;
Length_193243 = Compmods_193227->Sup.len;
Compmods_193227 = (TY193208*) setLengthSeq(&(Compmods_193227)->Sup, sizeof(TY193206), (NI32)(Length_193243 + 1));
asgnRefNoCycle((void**) &Compmods_193227->data[Length_193243].Filename, copyString(Filename_193231));
asgnRef((void**) &Compmods_193227->data[Length_193243].Module, Module_193232);
}
N_NIMCALL(TY56548*, Newmodule_193287)(NimStringDesc* Filename_193289) {
TY56548* Result_193290;
TY38661 LOC1;
NIM_BOOL LOC3;
Result_193290 = 0;
Result_193290 = NIM_NIL;
Result_193290 = (TY56548*) newObj(NTI56524, sizeof(TY56548));
objectInit(Result_193290, NTI56548);
(*Result_193290).Sup.Id = -1;
(*Result_193290).Kind = ((NU8) 6);
memset((void*)&LOC1, 0, sizeof(LOC1));
nossplitFile(Filename_193289, &LOC1);
asgnRefNoCycle((void**) &(*Result_193290).Name, Getident_55016(LOC1.Name));
LOC3 = Isnimrodidentifier_78357((*(*Result_193290).Name).S);
if (!!(LOC3)) goto LA4;
Rawmessage_49094(((NU8) 19), (*(*Result_193290).Name).S);
LA4: ;
asgnRef((void**) &(*Result_193290).Owner, Result_193290);
(*Result_193290).Info = Newlineinfo_48718(Filename_193289, 1, 1);
(*Result_193290).Flags |=(1<<((NI32)(((NU8) 0))%(sizeof(NI32)*8)));
Initstrtable_56747(&(*Result_193290).Tab);
Registermodule_193229(Filename_193289, Result_193290);
Strtableadd_61061(&(*Result_193290).Tab, Result_193290);
return Result_193290;
}
static N_INLINE(NI, Getid_56694)(void) {
NI Result_56943;
Result_56943 = 0;
Result_56943 = Gid_56693;
Gid_56693 += 1;
return Result_56943;
}
N_NIMCALL(TY56548*, Compilemodule_193320)(NimStringDesc* Filename_193322, NIM_BOOL Ismainfile_193323, NIM_BOOL Issystemfile_193324) {
TY56548* Result_193356;
TY94031* Rd_193357;
NimStringDesc* F_193358;
NIM_BOOL LOC8;
Result_193356 = 0;
Rd_193357 = 0;
F_193358 = 0;
Result_193356 = NIM_NIL;
Rd_193357 = NIM_NIL;
Rd_193357 = NIM_NIL;
F_193358 = NIM_NIL;
F_193358 = nosaddFileExt(Filename_193322, ((NimStringDesc*) &TMP197875));
Result_193356 = Newmodule_193287(Filename_193322);
if (!Ismainfile_193323) goto LA2;
(*Result_193356).Flags |=(1<<((NI32)(((NU8) 15))%(sizeof(NI32)*8)));
LA2: ;
if (!Issystemfile_193324) goto LA5;
(*Result_193356).Flags |=(1<<((NI32)(((NU8) 16))%(sizeof(NI32)*8)));
LA5: ;
LOC8 = (Gcmd_47089 == ((NU8) 1));
if (LOC8) goto LA9;
LOC8 = (Gcmd_47089 == ((NU8) 2));
LA9: ;
if (!LOC8) goto LA10;
Rd_193357 = Handlesymbolfile_94060(Result_193356, F_193358);
if (!((*Result_193356).Sup.Id < 0)) goto LA13;
Internalerror_49212(((NimStringDesc*) &TMP197928));
LA13: ;
goto LA7;
LA10: ;
(*Result_193356).Sup.Id = Getid_56694();
LA7: ;
Processmodule_106035(Result_193356, F_193358, NIM_NIL, Rd_193357);
return Result_193356;
}
N_NIMCALL(TY56548*, Importmodule_193325)(NimStringDesc* Filename_193327) {
TY56548* Result_193328;
Result_193328 = 0;
Result_193328 = NIM_NIL;
Result_193328 = Getmodule_193256(Filename_193327);
if (!(Result_193328 == NIM_NIL)) goto LA2;
Result_193328 = Compilemodule_193320(Filename_193327, NIM_FALSE, NIM_FALSE);
goto LA1;
LA2: ;
if (!(((*Result_193328).Flags &(1<<((((NU8) 16))&31)))!=0)) goto LA4;
Localerror_49193((*Result_193328).Info, ((NU8) 37), (*(*Result_193328).Name).S);
goto LA1;
LA4: ;
LA1: ;
return Result_193328;
}
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* A_18649, NimStringDesc* B_18650) {
NIM_BOOL Result_18651;
NIM_BOOL LOC5;
NIM_BOOL LOC9;
int LOC11;
Result_18651 = 0;
if (!(A_18649 == B_18650)) goto LA2;
Result_18651 = NIM_TRUE;
goto BeforeRet;
LA2: ;
LOC5 = (A_18649 == NIM_NIL);
if (LOC5) goto LA6;
LOC5 = (B_18650 == NIM_NIL);
LA6: ;
if (!LOC5) goto LA7;
Result_18651 = NIM_FALSE;
goto BeforeRet;
LA7: ;
LOC9 = ((*A_18649).Sup.len == (*B_18650).Sup.len);
if (!(LOC9)) goto LA10;
LOC11 = memcmp(((NCSTRING) ((*A_18649).data)), ((NCSTRING) ((*B_18650).data)), ((int) ((NI32)((*A_18649).Sup.len * 1))));
LOC9 = (LOC11 == ((NI32) 0));
LA10: ;
Result_18651 = LOC9;
goto BeforeRet;
BeforeRet: ;
return Result_18651;
}
N_NIMCALL(void, Wantfile_193707)(NimStringDesc* Filename_193709) {
TY48538 LOC4;
if (!((Filename_193709) && (Filename_193709)->Sup.len == 0)) goto LA2;
LOC4 = Newlineinfo_48718(((NimStringDesc*) &TMP197952), 1, 1);
Fatal_49183(LOC4, ((NU8) 182), ((NimStringDesc*) &TMP197953));
LA2: ;
}
N_NIMCALL(void, Semanticpasses_193408)(void) {
TY106006 LOC1;
TY106006 LOC2;
TY106006 LOC3;
LOC1 = Verbosepass_188045();
Registerpass_106028(&LOC1);
LOC2 = Sempass_132001();
Registerpass_106028(&LOC2);
LOC3 = Transfpass_190005();
Registerpass_106028(&LOC3);
}
N_NIMCALL(void, Compileproject_193405)(NimStringDesc* Filename_193407) {
NimStringDesc* LOC1;
NimStringDesc* LOC2;
TY56548* LOC3;
NimStringDesc* LOC4;
TY56548* LOC5;
LOC1 = 0;
LOC1 = nosaddFileExt(((NimStringDesc*) &TMP198906), ((NimStringDesc*) &TMP197875));
LOC2 = 0;
LOC2 = nosJoinPath(Libpath_47117, LOC1);
LOC3 = 0;
LOC3 = Compilemodule_193320(LOC2, NIM_FALSE, NIM_TRUE);
LOC4 = 0;
LOC4 = nosaddFileExt(Filename_193407, ((NimStringDesc*) &TMP197875));
LOC5 = 0;
LOC5 = Compilemodule_193320(LOC4, NIM_TRUE, NIM_FALSE);
}
N_NIMCALL(void, Commandcompiletoc_193416)(NimStringDesc* Filename_193418) {
TY106006 LOC1;
TY106006 LOC2;
NimStringDesc* LOC6;
Semanticpasses_193408();
LOC1 = Cgenpass_164201();
Registerpass_106028(&LOC1);
LOC2 = Rodwritepass_112001();
Registerpass_106028(&LOC2);
Compileproject_193405(Filename_193418);
if (!!((Gcmd_47089 == ((NU8) 19)))) goto LA4;
LOC6 = 0;
LOC6 = nosChangeFileExt(Filename_193418, ((NimStringDesc*) &TMP197953));
Callccompiler_71806(LOC6);
LA4: ;
}
N_NIMCALL(void, Commandcompiletoecmascript_193601)(NimStringDesc* Filename_193603) {
TY106006 LOC1;
Gglobaloptions_47084 |=(1<<((NI32)(((NU8) 8))%(sizeof(NI32)*8)));
Settarget_52582(((NU8) 20), ((NU8) 12));
Initdefines_65049();
Semanticpasses_193408();
LOC1 = Ecmasgenpass_181004();
Registerpass_106028(&LOC1);
Compileproject_193405(Filename_193603);
}
N_NIMCALL(void, Commandpretty_193643)(NimStringDesc* Filename_193645) {
TY56526* Module_193646;
NimStringDesc* LOC1;
NimStringDesc* LOC5;
Module_193646 = 0;
Module_193646 = NIM_NIL;
LOC1 = 0;
LOC1 = nosaddFileExt(Filename_193645, ((NimStringDesc*) &TMP197875));
Module_193646 = Parsefile_93031(LOC1);
if (!!((Module_193646 == NIM_NIL))) goto LA3;
LOC5 = 0;
LOC5 = Getoutfile_47167(Filename_193645, ((NimStringDesc*) &TMP199133));
Rendermodule_86035(Module_193646, LOC5, 0);
LA3: ;
}
static N_INLINE(void, appendString)(NimStringDesc* Dest_18799, NimStringDesc* Src_18800) {
memcpy(((NCSTRING) (&(*Dest_18799).data[((*Dest_18799).Sup.len)-0])), ((NCSTRING) ((*Src_18800).data)), ((int) ((NI32)((NI32)((*Src_18800).Sup.len + 1) * 1))));
(*Dest_18799).Sup.len += (*Src_18800).Sup.len;
}
static N_INLINE(void, appendChar)(NimStringDesc* Dest_18816, NIM_CHAR C_18817) {
(*Dest_18816).data[((*Dest_18816).Sup.len)-0] = C_18817;
(*Dest_18816).data[((NI32)((*Dest_18816).Sup.len + 1))-0] = 0;
(*Dest_18816).Sup.len += 1;
}
N_NIMCALL(void, Commandgendepend_193410)(NimStringDesc* Filename_193412) {
TY106006 LOC1;
TY106006 LOC2;
NimStringDesc* LOC3;
NimStringDesc* LOC4;
NimStringDesc* LOC5;
Semanticpasses_193408();
LOC1 = Gendependpass_189004();
Registerpass_106028(&LOC1);
LOC2 = Cleanuppass_188173();
Registerpass_106028(&LOC2);
Compileproject_193405(Filename_193412);
Generatedot_189006(Filename_193412);
LOC3 = 0;
LOC4 = 0;
LOC4 = nosChangeFileExt(Filename_193412, ((NimStringDesc*) &TMP199546));
LOC5 = 0;
LOC5 = nosChangeFileExt(Filename_193412, ((NimStringDesc*) &TMP199547));
LOC3 = rawNewString(LOC4->Sup.len + LOC5->Sup.len + 13);
appendString(LOC3, ((NimStringDesc*) &TMP199545));
appendString(LOC3, LOC4);
appendChar(LOC3, 32);
appendString(LOC3, LOC5);
Execexternalprogram_71570(LOC3);
}
N_NIMCALL(void, Commandcheck_193413)(NimStringDesc* Filename_193415) {
Gerrormax_48568 = 2147483647;
Semanticpasses_193408();
Compileproject_193405(Filename_193415);
}
N_NIMCALL(void, Commandscan_193658)(NimStringDesc* Filename_193660) {
NimStringDesc* F_193661;
TY76204* Stream_193662;
TY78267 L_193674;
TY78263* Tok_193675;
F_193661 = 0;
Stream_193662 = 0;
memset((void*)&L_193674, 0, sizeof(L_193674));
L_193674.Sup.Sup.m_type = NTI78267;
Tok_193675 = 0;
F_193661 = NIM_NIL;
F_193661 = nosaddFileExt(Filename_193660, ((NimStringDesc*) &TMP197875));
Stream_193662 = NIM_NIL;
Stream_193662 = Llstreamopen_76224(F_193661, ((NU8) 0));
if (!!((Stream_193662 == NIM_NIL))) goto LA2;
genericReset((void*)&L_193674, NTI78267);
Tok_193675 = NIM_NIL;
Tok_193675 = (TY78263*) newObj(NTI78261, sizeof(TY78263));
(*Tok_193675).m_type = NTI78263;
Openlexer_78298(&L_193674, F_193661, Stream_193662);
while (1) {
Rawgettok_78304(&L_193674, Tok_193675);
Printtok_78320(Tok_193675);
if (!((*Tok_193675).Toktype == ((NU8) 1))) goto LA6;
goto LA4;
LA6: ;
} LA4: ;
Closelexer_78316(&L_193674);
goto LA1;
LA2: ;
Rawmessage_49094(((NU8) 2), F_193661);
LA1: ;
}
N_NIMCALL(void, Commandinteractive_193616)(void) {
TY106006 LOC1;
TY106006 LOC2;
TY106006 LOC3;
TY106006 LOC4;
NimStringDesc* LOC5;
NimStringDesc* LOC6;
TY56548* LOC7;
TY56548* M_193630;
TY76204* LOC8;
M_193630 = 0;
Gerrormax_48568 = 2147483647;
Gglobaloptions_47084 |=(1<<((NI32)(((NU8) 8))%(sizeof(NI32)*8)));
Settarget_52582(((NU8) 21), ((NU8) 13));
Initdefines_65049();
LOC1 = Verbosepass_188045();
Registerpass_106028(&LOC1);
LOC2 = Sempass_132001();
Registerpass_106028(&LOC2);
LOC3 = Transfpass_190005();
Registerpass_106028(&LOC3);
LOC4 = Evalpass_121511();
Registerpass_106028(&LOC4);
LOC5 = 0;
LOC5 = nosaddFileExt(((NimStringDesc*) &TMP198906), ((NimStringDesc*) &TMP197875));
LOC6 = 0;
LOC6 = nosJoinPath(Libpath_47117, LOC5);
LOC7 = 0;
LOC7 = Compilemodule_193320(LOC6, NIM_FALSE, NIM_TRUE);
M_193630 = NIM_NIL;
M_193630 = Newmodule_193287(((NimStringDesc*) &TMP199552));
(*M_193630).Sup.Id = Getid_56694();
(*M_193630).Flags |=(1<<((NI32)(((NU8) 15))%(sizeof(NI32)*8)));
LOC8 = 0;
LOC8 = Llstreamopenstdin_76230();
Processmodule_106035(M_193630, ((NimStringDesc*) &TMP199552), LOC8, NIM_NIL);
}
N_NIMCALL(void, Commandsuggest_193704)(NimStringDesc* Filename_193706) {
Gerrormax_48568 = 2147483647;
Semanticpasses_193408();
Compileproject_193405(Filename_193706);
}
N_NIMCALL(void, Maincommand_193201)(NimStringDesc* Cmd_193203, NimStringDesc* Filename_193204) {
TY38661 LOC4;
NimStringDesc* LOC5;
NimStringDesc* It_194001;
TY44015* It_194003;
NimStringDesc* LOC26;
TY56526* LOC27;
It_194001 = 0;
It_194003 = 0;
Appendstr_44061(&Searchpaths_47086, Libpath_47117);
if (!!(((Filename_193204) && (Filename_193204)->Sup.len == 0))) goto LA2;
memset((void*)&LOC4, 0, sizeof(LOC4));
nossplitFile(Filename_193204, &LOC4);
Prependstr_44071(&Searchpaths_47086, LOC4.Dir);
LA2: ;
Setid_56696(100);
Gincludefile_106048 = Parsefile_93031;
Gimportmodule_106044 = Importmodule_193325;
LOC5 = 0;
LOC5 = nsuNormalize(Cmd_193203);
switch (hashString(LOC5) & 31) {
case 0: 
if (eqStrings(LOC5, ((NimStringDesc*) &TMP197932))) goto LA6;
if (eqStrings(LOC5, ((NimStringDesc*) &TMP197936))) goto LA8;
if (eqStrings(LOC5, ((NimStringDesc*) &TMP197951))) goto LA22;
break;
case 2: 
if (eqStrings(LOC5, ((NimStringDesc*) &TMP197946))) goto LA17;
break;
case 4: 
if (eqStrings(LOC5, ((NimStringDesc*) &TMP197948))) goto LA19;
break;
case 7: 
if (eqStrings(LOC5, ((NimStringDesc*) &TMP197943))) goto LA14;
break;
case 9: 
if (eqStrings(LOC5, ((NimStringDesc*) &TMP197937))) goto LA9;
break;
case 10: 
if (eqStrings(LOC5, ((NimStringDesc*) &TMP197931))) goto LA6;
if (eqStrings(LOC5, ((NimStringDesc*) &TMP197947))) goto LA18;
break;
case 11: 
if (eqStrings(LOC5, ((NimStringDesc*) &TMP197945))) goto LA16;
break;
case 13: 
if (eqStrings(LOC5, ((NimStringDesc*) &TMP197942))) goto LA13;
if (eqStrings(LOC5, ((NimStringDesc*) &TMP197944))) goto LA15;
break;
case 14: 
if (eqStrings(LOC5, ((NimStringDesc*) &TMP197935))) goto LA8;
break;
case 15: 
if (eqStrings(LOC5, ((NimStringDesc*) &TMP197950))) goto LA21;
break;
case 16: 
if (eqStrings(LOC5, ((NimStringDesc*) &TMP197933))) goto LA6;
break;
case 19: 
if (eqStrings(LOC5, ((NimStringDesc*) &TMP197934))) goto LA7;
break;
case 23: 
if (eqStrings(LOC5, ((NimStringDesc*) &TMP197939))) goto LA10;
break;
case 25: 
if (eqStrings(LOC5, ((NimStringDesc*) &TMP197930))) goto LA6;
break;
case 26: 
if (eqStrings(LOC5, ((NimStringDesc*) &TMP197941))) goto LA12;
if (eqStrings(LOC5, ((NimStringDesc*) &TMP197949))) goto LA20;
break;
case 27: 
if (eqStrings(LOC5, ((NimStringDesc*) &TMP197938))) goto LA10;
break;
case 28: 
if (eqStrings(LOC5, ((NimStringDesc*) &TMP197940))) goto LA11;
break;
}
goto LA23;
LA6: ;
Gcmd_47089 = ((NU8) 1);
Wantfile_193707(Filename_193204);
Commandcompiletoc_193416(Filename_193204);
goto LA24;
LA7: ;
asgnRefNoCycle((void**) &Cext_71342, copyString(((NimStringDesc*) &TMP198924)));
Gcmd_47089 = ((NU8) 2);
Wantfile_193707(Filename_193204);
Commandcompiletoc_193416(Filename_193204);
goto LA24;
LA8: ;
asgnRefNoCycle((void**) &Cext_71342, copyString(((NimStringDesc*) &TMP198925)));
Gcmd_47089 = ((NU8) 3);
Wantfile_193707(Filename_193204);
Commandcompiletoc_193416(Filename_193204);
goto LA24;
LA9: ;
Gcmd_47089 = ((NU8) 19);
Wantfile_193707(Filename_193204);
Rawmessage_49094(((NU8) 176), Cmd_193203);
goto LA24;
LA10: ;
Gcmd_47089 = ((NU8) 4);
Wantfile_193707(Filename_193204);
Commandcompiletoecmascript_193601(Filename_193204);
goto LA24;
LA11: ;
Gcmd_47089 = ((NU8) 5);
Wantfile_193707(Filename_193204);
Rawmessage_49094(((NU8) 176), Cmd_193203);
goto LA24;
LA12: ;
Gcmd_47089 = ((NU8) 7);
Wantfile_193707(Filename_193204);
Commandpretty_193643(Filename_193204);
goto LA24;
LA13: ;
Gcmd_47089 = ((NU8) 8);
Loadspecialconfig_81007(((NimStringDesc*) &TMP199134));
Wantfile_193707(Filename_193204);
Commanddoc_159001(Filename_193204);
goto LA24;
LA14: ;
Gcmd_47089 = ((NU8) 16);
Loadspecialconfig_81007(((NimStringDesc*) &TMP199134));
Wantfile_193707(Filename_193204);
Commandrst2html_159004(Filename_193204);
goto LA24;
LA15: ;
Gcmd_47089 = ((NU8) 17);
Loadspecialconfig_81007(((NimStringDesc*) &TMP199537));
Wantfile_193707(Filename_193204);
Commandrst2tex_159007(Filename_193204);
goto LA24;
LA16: ;
Gcmd_47089 = ((NU8) 9);
Wantfile_193707(Filename_193204);
Commandgendepend_193410(Filename_193204);
goto LA24;
LA17: ;
Gcmd_47089 = ((NU8) 10);
Listsymbols_65062();
It_194001 = NIM_NIL;
It_194003 = NIM_NIL;
It_194003 = ((TY44015*) (Searchpaths_47086.Head));
while (1) {
if (!!((It_194003 == NIM_NIL))) goto LA25;
It_194001 = (*It_194003).Data;
Msgwriteln_48794(It_194001);
It_194003 = ((TY44015*) ((*It_194003).Sup.Next));
} LA25: ;
goto LA24;
LA18: ;
Gcmd_47089 = ((NU8) 11);
Wantfile_193707(Filename_193204);
Commandcheck_193413(Filename_193204);
goto LA24;
LA19: ;
Gcmd_47089 = ((NU8) 12);
Wantfile_193707(Filename_193204);
LOC26 = 0;
LOC26 = nosaddFileExt(Filename_193204, ((NimStringDesc*) &TMP197875));
LOC27 = 0;
LOC27 = Parsefile_93031(LOC26);
goto LA24;
LA20: ;
Gcmd_47089 = ((NU8) 13);
Wantfile_193707(Filename_193204);
Commandscan_193658(Filename_193204);
Msgwriteln_48794(((NimStringDesc*) &TMP199551));
goto LA24;
LA21: ;
Gcmd_47089 = ((NU8) 18);
Commandinteractive_193616();
goto LA24;
LA22: ;
Gcmd_47089 = ((NU8) 14);
Wantfile_193707(Filename_193204);
Commandsuggest_193704(Filename_193204);
goto LA24;
LA23: ;
Rawmessage_49094(((NU8) 176), Cmd_193203);
LA24: ;
}
N_NOINLINE(void, mainInit)(void) {
asgnRefNoCycle((void**) &Compmods_193227, (TY193208*) newSeq(NTI193208, 0));
}

