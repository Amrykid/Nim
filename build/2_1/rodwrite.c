/* Generated by Nimrod Compiler v0.8.11 */
/*   (c) 2011 Andreas Rumpf */

typedef long int NI;
typedef unsigned long int NU;
#include "nimbase.h"

typedef struct TY54900 TY54900;
typedef struct TY54896 TY54896;
typedef struct TY54898 TY54898;
typedef struct TGenericSeq TGenericSeq;
typedef struct TY104006 TY104006;
typedef struct TY104002 TY104002;
typedef struct TY54547 TY54547;
typedef struct NimStringDesc NimStringDesc;
typedef struct TY92031 TY92031;
typedef struct TY54525 TY54525;
typedef struct TY53005 TY53005;
typedef struct TNimObject TNimObject;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct TY54551 TY54551;
typedef struct TY53011 TY53011;
typedef struct TY46536 TY46536;
typedef struct TY54529 TY54529;
typedef struct TY54527 TY54527;
typedef struct TY54539 TY54539;
typedef struct TY51008 TY51008;
typedef struct TY54543 TY54543;
typedef struct TY110004 TY110004;
typedef struct TY92029 TY92029;
typedef struct TY59220 TY59220;
typedef struct TY59218 TY59218;
typedef struct TY59216 TY59216;
typedef struct TY54549 TY54549;
typedef struct TY38221 TY38221;
typedef struct TY10402 TY10402;
typedef struct TY10414 TY10414;
typedef struct TY10790 TY10790;
typedef struct TY10418 TY10418;
typedef struct TY10410 TY10410;
typedef struct TY10788 TY10788;
typedef struct TY59076 TY59076;
typedef struct TY54519 TY54519;
typedef struct TY42013 TY42013;
typedef struct TY54563 TY54563;
typedef struct TY54561 TY54561;
typedef struct TY54559 TY54559;
struct TGenericSeq {
NI len;
NI space;
};
struct TY54900 {
NI Counter;
NI Max;
TY54896* Head;
TY54898* Data;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
typedef N_NIMCALL_PTR(TY104002*, TY104007) (TY54547* Module_104008, NimStringDesc* Filename_104009);
typedef N_NIMCALL_PTR(TY104002*, TY104012) (TY54547* Module_104013, NimStringDesc* Filename_104014, TY92031* Rd_104015);
typedef N_NIMCALL_PTR(TY54525*, TY104018) (TY104002* P_104019, TY54525* N_104020);
typedef N_NIMCALL_PTR(TY54525*, TY104023) (TY104002* P_104024, TY54525* Toplevelstmt_104025);
struct TY104006 {
TY104007 Open;
TY104012 Opencached;
TY104018 Close;
TY104023 Process;
};
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TNimObject {
TNimType* m_type;
};
struct TY53005 {
  TNimObject Sup;
NI Id;
};
struct TY46536 {
NI16 Line;
NI16 Col;
int Fileindex;
};
struct TY54529 {
TNimType* m_type;
NI Counter;
TY54527* Data;
};
struct TY54539 {
NU8 K;
NU8 S;
NU8 Flags;
TY54551* T;
TY51008* R;
NI A;
};
struct TY54547 {
  TY53005 Sup;
NU8 Kind;
NU8 Magic;
TY54551* Typ;
TY53011* Name;
TY46536 Info;
TY54547* Owner;
NU32 Flags;
TY54529 Tab;
TY54525* Ast;
NU32 Options;
NI Position;
NI Offset;
TY54539 Loc;
TY54543* Annex;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct TY104002 {
  TNimObject Sup;
};
struct TY59216 {
NI Key;
NI Val;
};
struct TY59220 {
NI Counter;
TY59218* Data;
};
struct TY92029 {
NI Lastidxkey;
NI Lastidxval;
TY59220 Tab;
TY51008* R;
NI Offset;
};
struct TY110004 {
  TY104002 Sup;
TY54547* Module;
int Crc;
NU32 Options;
TY51008* Defines;
TY51008* Incldeps;
TY51008* Moddeps;
TY51008* Interf;
TY51008* Compilerprocs;
TY92029 Index;
TY92029 Imports;
TY51008* Converters;
TY51008* Init;
TY51008* Data;
NimStringDesc* Filename;
TY54527* Sstack;
TY54549* Tstack;
TY38221* Files;
};
struct TY10402 {
NI Refcount;
TNimType* Typ;
};
struct TY10418 {
NI Len;
NI Cap;
TY10402** D;
};
struct TY10414 {
NI Counter;
NI Max;
TY10410* Head;
TY10410** Data;
};
struct TY10788 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY10790 {
TY10418 Zct;
TY10418 Decstack;
TY10414 Cycleroots;
TY10418 Tempstack;
TY10788 Stat;
};
struct TY59076 {
NI H;
};
struct TY53011 {
  TY53005 Sup;
NimStringDesc* S;
TY53011* Next;
NI H;
};
typedef TY51008* TY174640[2];
typedef TY51008* TY51399[1];
struct TY54551 {
  TY53005 Sup;
NU8 Kind;
TY54549* Sons;
TY54525* N;
NU8 Flags;
NU8 Callconv;
TY54547* Owner;
TY54547* Sym;
NI64 Size;
NI Align;
NI Containerid;
TY54539 Loc;
};
typedef TY51008* TY160003[3];
struct TY54525 {
TY54551* Typ;
NimStringDesc* Comment;
TY46536 Info;
NU8 Flags;
NU8 Kind;
union {
struct {NI64 Intval;
} S1;
struct {NF64 Floatval;
} S2;
struct {NimStringDesc* Strval;
} S3;
struct {TY54547* Sym;
} S4;
struct {TY53011* Ident;
} S5;
struct {TY54519* Sons;
} S6;
} KindU;
};
struct TY42013 {
  TNimObject Sup;
TY42013* Prev;
TY42013* Next;
};
struct TY54543 {
  TY42013 Sup;
NU8 Kind;
NIM_BOOL Generated;
TY51008* Name;
TY54525* Path;
};
typedef NI TY8414[16];
struct TY54896 {
TY54896* Next;
NI Key;
TY8414 Bits;
};
struct TY54559 {
TY53005* Key;
TNimObject* Val;
};
struct TY54563 {
NI Counter;
TY54561* Data;
};
struct TY92031 {
  TNimObject Sup;
NI Pos;
NimStringDesc* S;
NU32 Options;
NU8 Reason;
TY38221* Moddeps;
TY38221* Files;
NI Dataidx;
NI Convertersidx;
NI Initidx;
NI Interfidx;
NI Compilerprocsidx;
NI Cgenidx;
NimStringDesc* Filename;
TY92029 Index;
TY92029 Imports;
NI Readerindex;
NI Line;
NI Moduleid;
TY54563 Syms;
};
struct TY51008 {
  TNimObject Sup;
TY51008* Left;
TY51008* Right;
NI Length;
NimStringDesc* Data;
};
struct TY10410 {
TY10410* Next;
NI Key;
TY8414 Bits;
};
struct TY54898 {
  TGenericSeq Sup;
  TY54896* data[SEQ_DECL_SIZE];
};
struct TY54527 {
  TGenericSeq Sup;
  TY54547* data[SEQ_DECL_SIZE];
};
struct TY59218 {
  TGenericSeq Sup;
  TY59216 data[SEQ_DECL_SIZE];
};
struct TY54549 {
  TGenericSeq Sup;
  TY54551* data[SEQ_DECL_SIZE];
};
struct TY38221 {
  TGenericSeq Sup;
  NimStringDesc* data[SEQ_DECL_SIZE];
};
struct TY54519 {
  TGenericSeq Sup;
  TY54525* data[SEQ_DECL_SIZE];
};
struct TY54561 {
  TGenericSeq Sup;
  TY54559 data[SEQ_DECL_SIZE];
};
N_NIMCALL(void, Intsetinit_54924)(TY54900* S_54927);
N_NIMCALL(void, Initpass_104031)(TY104006* P_104034);
N_NIMCALL(TY104002*, Myopen_111809)(TY54547* Module_111811, NimStringDesc* Filename_111812);
N_NIMCALL(void, Internalerror_46575)(NimStringDesc* Errmsg_46577);
N_NIMCALL(TY110004*, Newrodwriter_110024)(NimStringDesc* Modfilename_110026, int Crc_110027, TY54547* Module_110028);
N_NIMCALL(void*, newObj)(TNimType* Typ_13507, NI Size_13508);
N_NIMCALL(void*, newSeq)(TNimType* Typ_14004, NI Len_14005);
static N_INLINE(void, asgnRef)(void** Dest_12814, void* Src_12815);
static N_INLINE(void, Incref_12802)(TY10402* C_12804);
static N_INLINE(NI, Atomicinc_3001)(NI* Memloc_3004, NI X_3005);
static N_INLINE(NIM_BOOL, Canbecycleroot_11216)(TY10402* C_11218);
static N_INLINE(void, Rtladdcycleroot_11852)(TY10402* C_11854);
N_NOINLINE(void, Incl_10674)(TY10414* S_10677, TY10402* Cell_10678);
static N_INLINE(TY10402*, Usrtocell_11212)(void* Usr_11214);
static N_INLINE(void, Decref_12601)(TY10402* C_12603);
static N_INLINE(NI, Atomicdec_3006)(NI* Memloc_3009, NI X_3010);
static N_INLINE(void, Rtladdzct_12201)(TY10402* C_12203);
N_NOINLINE(void, Addzct_11201)(TY10418* S_11204, TY10402* C_11205);
N_NIMCALL(void, Initiitable_59225)(TY59220* X_59228);
static N_INLINE(void, asgnRefNoCycle)(void** Dest_12818, void* Src_12819);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* Src_18308);
N_NIMCALL(TY51008*, Getdefines_110056)(void);
N_NIMCALL(TY54547*, Inittabiter_59078)(TY59076* Ti_59081, TY54529* Tab_59082);
N_NIMCALL(void, App_51036)(TY51008** A_51039, NimStringDesc* B_51040);
N_NIMCALL(TY54547*, Nextiter_59083)(TY59076* Ti_59086, TY54529* Tab_59087);
N_NIMCALL(int, Getcrc_92064)(NimStringDesc* Filename_92066);
N_NIMCALL(void, Rawaddinterfacesym_111282)(TY110004* W_111284, TY54547* S_111285);
N_NIMCALL(void, Pushsym_110268)(TY110004* W_110270, TY54547* S_110271);
N_NIMCALL(NI, Iitableget_59229)(TY59220 T_59231, NI Key_59232);
N_NIMCALL(TGenericSeq*, setLengthSeq)(TGenericSeq* Seq_18603, NI Elemsize_18604, NI Newlen_18605);
N_NIMCALL(void, Processstacks_110053)(TY110004* W_110055);
N_NIMCALL(void, Symstack_111080)(TY110004* W_111082);
N_NIMCALL(TY54547*, Getmodule_59203)(TY54547* S_59205);
static N_INLINE(void, appendString)(NimStringDesc* Dest_18392, NimStringDesc* Src_18393);
N_NIMCALL(NimStringDesc*, rawNewString)(NI Space_18287);
N_NIMCALL(NI, Ropelen_51052)(TY51008* A_51054);
N_NIMCALL(void, Addtoindex_111063)(TY92029* W_111066, NI Key_111067, NI Val_111068);
N_NIMCALL(void, App_51031)(TY51008** A_51034, TY51008* B_51035);
N_NIMCALL(TY51008*, Encodeint_92073)(NI64 X_92075);
N_NIMCALL(void, Appf_51071)(TY51008** C_51074, NimStringDesc* Frmt_51075, TY51008** Args_51077, NI Args_51077Len0);
N_NIMCALL(void, Iitableput_59233)(TY59220* T_59236, NI Key_59237, NI Val_59238);
N_NIMCALL(TY51008*, Encodesym_110850)(TY110004* W_110852, TY54547* S_110853);
N_NIMCALL(TY51008*, Torope_51046)(NimStringDesc* S_51048);
N_NIMCALL(TY51008*, Encodestr_110048)(TY110004* W_110050, NimStringDesc* S_110051);
N_NIMCALL(TY51008*, Encode_92076)(NimStringDesc* S_92078);
N_NIMCALL(void, Pushtype_110239)(TY110004* W_110241, TY54551* T_110242);
N_NIMCALL(NI, Fileidx_110089)(TY110004* W_110091, NimStringDesc* Filename_110092);
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* A_18247, NimStringDesc* B_18248);
N_NIMCALL(NimStringDesc*, Tofilename_46583)(TY46536 Info_46585);
N_NIMCALL(NIM_BOOL, Astneeded_104041)(TY54547* S_104043);
N_NIMCALL(TY51008*, Encodenode_110297)(TY110004* W_110299, TY46536 Finfo_110300, TY54525* N_110301);
N_NIMCALL(NimStringDesc*, nimFloatToStr)(NF X_19060);
static N_INLINE(NI, Sonslen_54803)(TY54525* N_54805);
N_NIMCALL(TY51008*, Encodeloc_110546)(TY110004* W_110548, TY54539 Loc_110549);
N_NIMCALL(NimStringDesc*, Ropetostr_51063)(TY51008* P_51065);
N_NIMCALL(TY51008*, Ropef_51066)(NimStringDesc* Frmt_51068, TY51008** Args_51070, NI Args_51070Len0);
N_NIMCALL(TY51008*, Encodelib_110824)(TY110004* W_110826, TY54543* Lib_110827, TY46536 Info_110828);
N_NIMCALL(void, Typestack_111209)(TY110004* W_111211);
N_NIMCALL(TY51008*, Encodetype_110657)(TY110004* W_110659, TY54551* T_110660);
N_NIMCALL(TY46536, Unknownlineinfo_46540)(void);
static N_INLINE(NI, Sonslen_54806)(TY54551* N_54808);
N_NIMCALL(TY54525*, Myclose_111817)(TY104002* C_111819, TY54525* N_111820);
N_NIMCALL(void, Writerod_110045)(TY110004* W_110047);
N_NIMCALL(void, Writerope_51055)(TY51008* Head_51057, NimStringDesc* Filename_51058);
N_NIMCALL(NimStringDesc*, Completegeneratedfilepath_45100)(NimStringDesc* F_45102, NIM_BOOL Createsubdir_45103);
N_NIMCALL(NimStringDesc*, nosChangeFileExt)(NimStringDesc* Filename_37820, NimStringDesc* Ext_37821);
N_NIMCALL(TY54525*, Process_111393)(TY104002* C_111395, TY54525* N_111396);
N_NIMCALL(void, Addinterfacesym_110037)(TY110004* W_110039, TY54547* S_110040);
N_NIMCALL(void, Internalerror_46571)(TY46536 Info_46573, NimStringDesc* Errmsg_46574);
N_NIMCALL(void, Addmoddep_110029)(TY110004* W_110031, NimStringDesc* Dep_110032);
N_NIMCALL(NimStringDesc*, Getmodulefile_109013)(TY54525* N_109015);
N_NIMCALL(void, Addstmt_110041)(TY110004* W_110043, TY54525* N_110044);
N_NIMCALL(void, Addincldep_110033)(TY110004* W_110035, NimStringDesc* Dep_110036);
N_NIMCALL(int, Crcfromfile_49029)(NimStringDesc* Filename_49031);
STRING_LITERAL(TMP194806, "rodwrite: module ID not set", 27);
STRING_LITERAL(TMP194808, " ", 1);
STRING_LITERAL(TMP194809, "symStack: module nil: ", 22);
STRING_LITERAL(TMP194810, "\012", 1);
STRING_LITERAL(TMP194811, "$1 $2\012", 6);
STRING_LITERAL(TMP194812, "{}", 2);
STRING_LITERAL(TMP194813, "+$1", 3);
STRING_LITERAL(TMP194814, "&$1", 3);
STRING_LITERAL(TMP194815, "^$1", 3);
STRING_LITERAL(TMP194816, "?$1,$2,$3", 9);
STRING_LITERAL(TMP194817, "*$1", 3);
STRING_LITERAL(TMP194818, "$$$1", 4);
STRING_LITERAL(TMP194819, "@$1", 3);
STRING_LITERAL(TMP194820, "()", 2);
STRING_LITERAL(TMP194821, "(", 1);
STRING_LITERAL(TMP194822, "?$1,$2", 6);
STRING_LITERAL(TMP194823, "?$1", 3);
STRING_LITERAL(TMP194824, "!$1", 3);
STRING_LITERAL(TMP194825, ")", 1);
STRING_LITERAL(TMP194826, "%$1", 3);
STRING_LITERAL(TMP194827, "`$1", 3);
STRING_LITERAL(TMP194828, "<$1>", 4);
STRING_LITERAL(TMP194829, "|$1", 3);
STRING_LITERAL(TMP194830, "[]", 2);
STRING_LITERAL(TMP194831, "encodeType: tyForward", 21);
STRING_LITERAL(TMP194832, "/$1", 3);
STRING_LITERAL(TMP194833, "=$1", 3);
STRING_LITERAL(TMP194834, "^()", 3);
STRING_LITERAL(TMP194835, "NIM:", 4);
STRING_LITERAL(TMP194836, "1012", 4);
STRING_LITERAL(TMP194837, "ID:", 3);
STRING_LITERAL(TMP194838, "CRC:", 4);
STRING_LITERAL(TMP194839, "OPTIONS:", 8);
STRING_LITERAL(TMP194840, "DEFINES:", 8);
STRING_LITERAL(TMP194841, "FILES(\012", 7);
STRING_LITERAL(TMP194842, ")\012", 2);
STRING_LITERAL(TMP194843, "INCLUDES(\012", 10);
STRING_LITERAL(TMP194844, "DEPS:", 5);
STRING_LITERAL(TMP194845, "INTERF(\012", 8);
STRING_LITERAL(TMP194846, "COMPILERPROCS(\012", 15);
STRING_LITERAL(TMP194847, "INDEX(\012", 7);
STRING_LITERAL(TMP194848, "IMPORTS(\012", 9);
STRING_LITERAL(TMP194849, "CONVERTERS:", 11);
STRING_LITERAL(TMP194850, "INIT(\012", 6);
STRING_LITERAL(TMP194851, "DATA(\012", 6);
STRING_LITERAL(TMP194852, "rod", 3);
STRING_LITERAL(TMP194853, "rodwrite.process", 16);
TY54900 Debugwritten_111079;
extern NU32 Gglobaloptions_45078;
extern TNimType* NTI110006; /* PRodWriter */
extern TNimType* NTI110004; /* TRodWriter */
extern TNimType* NTI54527; /* TSymSeq */
extern TY10790 Gch_10808;
extern TNimType* NTI54549; /* TTypeSeq */
extern TY54529 Gsymbols_63001;
extern NU32 Goptions_45076;
extern TNimType* NTI38221; /* seq[string] */
static N_INLINE(NI, Atomicinc_3001)(NI* Memloc_3004, NI X_3005) {
NI Result_7407;
Result_7407 = 0;
(*Memloc_3004) += X_3005;
Result_7407 = (*Memloc_3004);
return Result_7407;
}
static N_INLINE(NIM_BOOL, Canbecycleroot_11216)(TY10402* C_11218) {
NIM_BOOL Result_11219;
Result_11219 = 0;
Result_11219 = !((((*(*C_11218).Typ).flags &(1<<((((NU8) 1))&7)))!=0));
return Result_11219;
}
static N_INLINE(void, Rtladdcycleroot_11852)(TY10402* C_11854) {
Incl_10674(&Gch_10808.Cycleroots, C_11854);
}
static N_INLINE(void, Incref_12802)(TY10402* C_12804) {
NI LOC1;
NIM_BOOL LOC3;
LOC1 = Atomicinc_3001(&(*C_12804).Refcount, 8);
LOC3 = Canbecycleroot_11216(C_12804);
if (!LOC3) goto LA4;
Rtladdcycleroot_11852(C_12804);
LA4: ;
}
static N_INLINE(TY10402*, Usrtocell_11212)(void* Usr_11214) {
TY10402* Result_11215;
Result_11215 = 0;
Result_11215 = ((TY10402*) ((NI32)((NU32)(((NI) (Usr_11214))) - (NU32)(((NI) (((NI)sizeof(TY10402))))))));
return Result_11215;
}
static N_INLINE(NI, Atomicdec_3006)(NI* Memloc_3009, NI X_3010) {
NI Result_7606;
Result_7606 = 0;
(*Memloc_3009) -= X_3010;
Result_7606 = (*Memloc_3009);
return Result_7606;
}
static N_INLINE(void, Rtladdzct_12201)(TY10402* C_12203) {
Addzct_11201(&Gch_10808.Zct, C_12203);
}
static N_INLINE(void, Decref_12601)(TY10402* C_12603) {
NI LOC2;
NIM_BOOL LOC5;
LOC2 = Atomicdec_3006(&(*C_12603).Refcount, 8);
if (!((NU32)(LOC2) < (NU32)(8))) goto LA3;
Rtladdzct_12201(C_12603);
goto LA1;
LA3: ;
LOC5 = Canbecycleroot_11216(C_12603);
if (!LOC5) goto LA6;
Rtladdcycleroot_11852(C_12603);
goto LA1;
LA6: ;
LA1: ;
}
static N_INLINE(void, asgnRef)(void** Dest_12814, void* Src_12815) {
TY10402* LOC4;
TY10402* LOC8;
if (!!((Src_12815 == NIM_NIL))) goto LA2;
LOC4 = Usrtocell_11212(Src_12815);
Incref_12802(LOC4);
LA2: ;
if (!!(((*Dest_12814) == NIM_NIL))) goto LA6;
LOC8 = Usrtocell_11212((*Dest_12814));
Decref_12601(LOC8);
LA6: ;
(*Dest_12814) = Src_12815;
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_12818, void* Src_12819) {
TY10402* C_12820;
NI LOC4;
TY10402* C_12822;
NI LOC9;
if (!!((Src_12819 == NIM_NIL))) goto LA2;
C_12820 = 0;
C_12820 = Usrtocell_11212(Src_12819);
LOC4 = Atomicinc_3001(&(*C_12820).Refcount, 8);
LA2: ;
if (!!(((*Dest_12818) == NIM_NIL))) goto LA6;
C_12822 = 0;
C_12822 = Usrtocell_11212((*Dest_12818));
LOC9 = Atomicdec_3006(&(*C_12822).Refcount, 8);
if (!((NU32)(LOC9) < (NU32)(8))) goto LA10;
Rtladdzct_12201(C_12822);
LA10: ;
LA6: ;
(*Dest_12818) = Src_12819;
}
N_NIMCALL(TY51008*, Getdefines_110056)(void) {
TY51008* Result_110058;
TY59076 It_110059;
TY54547* S_110061;
Result_110058 = 0;
memset((void*)&It_110059, 0, sizeof(It_110059));
S_110061 = 0;
S_110061 = Inittabiter_59078(&It_110059, &Gsymbols_63001);
Result_110058 = NIM_NIL;
while (1) {
if (!!((S_110061 == NIM_NIL))) goto LA1;
if (!((*S_110061).Position == 1)) goto LA3;
if (!!((Result_110058 == NIM_NIL))) goto LA6;
App_51036(&Result_110058, ((NimStringDesc*) &TMP194808));
LA6: ;
App_51036(&Result_110058, (*(*S_110061).Name).S);
LA3: ;
S_110061 = Nextiter_59083(&It_110059, &Gsymbols_63001);
} LA1: ;
return Result_110058;
}
N_NIMCALL(TY110004*, Newrodwriter_110024)(NimStringDesc* Modfilename_110026, int Crc_110027, TY54547* Module_110028) {
TY110004* Result_110147;
Result_110147 = 0;
Result_110147 = (TY110004*) newObj(NTI110006, sizeof(TY110004));
(*Result_110147).Sup.Sup.m_type = NTI110004;
asgnRef((void**) &(*Result_110147).Sstack, (TY54527*) newSeq(NTI54527, 0));
asgnRef((void**) &(*Result_110147).Tstack, (TY54549*) newSeq(NTI54549, 0));
Initiitable_59225(&(*Result_110147).Index.Tab);
Initiitable_59225(&(*Result_110147).Imports.Tab);
asgnRefNoCycle((void**) &(*Result_110147).Filename, copyString(Modfilename_110026));
(*Result_110147).Crc = Crc_110027;
asgnRef((void**) &(*Result_110147).Module, Module_110028);
asgnRefNoCycle((void**) &(*Result_110147).Defines, Getdefines_110056());
(*Result_110147).Options = Goptions_45076;
asgnRefNoCycle((void**) &(*Result_110147).Files, (TY38221*) newSeq(NTI38221, 0));
return Result_110147;
}
N_NIMCALL(void, Pushsym_110268)(TY110004* W_110270, TY54547* S_110271) {
NI LOC2;
NI L_110284;
LOC2 = Iitableget_59229((*W_110270).Index.Tab, (*S_110271).Sup.Id);
if (!(LOC2 == (-2147483647 -1))) goto LA3;
L_110284 = 0;
L_110284 = (*W_110270).Sstack->Sup.len;
(*W_110270).Sstack = (TY54527*) setLengthSeq(&((*W_110270).Sstack)->Sup, sizeof(TY54547*), (NI32)(L_110284 + 1));
asgnRef((void**) &(*W_110270).Sstack->data[L_110284], S_110271);
LA3: ;
}
static N_INLINE(void, appendString)(NimStringDesc* Dest_18392, NimStringDesc* Src_18393) {
memcpy(((NCSTRING) (&(*Dest_18392).data[((*Dest_18392).Sup.len)-0])), ((NCSTRING) ((*Src_18393).data)), ((int) ((NI32)((NI32)((*Src_18393).Sup.len + 1) * 1))));
(*Dest_18392).Sup.len += (*Src_18393).Sup.len;
}
N_NIMCALL(void, Addtoindex_111063)(TY92029* W_111066, NI Key_111067, NI Val_111068) {
TY51008* LOC4;
TY174640 LOC5;
if (!((NI32)(Key_111067 - (*W_111066).Lastidxkey) == 1)) goto LA2;
LOC4 = 0;
LOC4 = Encodeint_92073(((NI64) ((NI32)(Val_111068 - (*W_111066).Lastidxval))));
App_51031(&(*W_111066).R, LOC4);
App_51036(&(*W_111066).R, ((NimStringDesc*) &TMP194810));
goto LA1;
LA2: ;
memset((void*)&LOC5, 0, sizeof(LOC5));
LOC5[0] = Encodeint_92073(((NI64) ((NI32)(Key_111067 - (*W_111066).Lastidxkey))));
LOC5[1] = Encodeint_92073(((NI64) ((NI32)(Val_111068 - (*W_111066).Lastidxval))));
Appf_51071(&(*W_111066).R, ((NimStringDesc*) &TMP194811), LOC5, 2);
LA1: ;
(*W_111066).Lastidxkey = Key_111067;
(*W_111066).Lastidxval = Val_111068;
Iitableput_59233(&(*W_111066).Tab, Key_111067, Val_111068);
}
N_NIMCALL(TY51008*, Encodestr_110048)(TY110004* W_110050, NimStringDesc* S_110051) {
TY51008* Result_110052;
Result_110052 = 0;
Result_110052 = Encode_92076(S_110051);
return Result_110052;
}
N_NIMCALL(void, Pushtype_110239)(TY110004* W_110241, TY54551* T_110242) {
NI LOC2;
NI L_110255;
LOC2 = Iitableget_59229((*W_110241).Index.Tab, (*T_110242).Sup.Id);
if (!(LOC2 == (-2147483647 -1))) goto LA3;
L_110255 = 0;
L_110255 = (*W_110241).Tstack->Sup.len;
(*W_110241).Tstack = (TY54549*) setLengthSeq(&((*W_110241).Tstack)->Sup, sizeof(TY54551*), (NI32)(L_110255 + 1));
asgnRef((void**) &(*W_110241).Tstack->data[L_110255], T_110242);
LA3: ;
}
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* A_18247, NimStringDesc* B_18248) {
NIM_BOOL Result_18249;
NIM_BOOL LOC5;
NIM_BOOL LOC9;
int LOC11;
Result_18249 = 0;
if (!(A_18247 == B_18248)) goto LA2;
Result_18249 = NIM_TRUE;
goto BeforeRet;
LA2: ;
LOC5 = (A_18247 == NIM_NIL);
if (LOC5) goto LA6;
LOC5 = (B_18248 == NIM_NIL);
LA6: ;
if (!LOC5) goto LA7;
Result_18249 = NIM_FALSE;
goto BeforeRet;
LA7: ;
LOC9 = ((*A_18247).Sup.len == (*B_18248).Sup.len);
if (!(LOC9)) goto LA10;
LOC11 = memcmp(((NCSTRING) ((*A_18247).data)), ((NCSTRING) ((*B_18248).data)), ((int) ((NI32)((*A_18247).Sup.len * 1))));
LOC9 = (LOC11 == ((NI32) 0));
LA10: ;
Result_18249 = LOC9;
goto BeforeRet;
BeforeRet: ;
return Result_18249;
}
N_NIMCALL(NI, Fileidx_110089)(TY110004* W_110091, NimStringDesc* Filename_110092) {
NI Result_110093;
NI I_110116;
NI HEX3Atmp_110139;
NI Res_110141;
Result_110093 = 0;
I_110116 = 0;
HEX3Atmp_110139 = 0;
HEX3Atmp_110139 = ((*W_110091).Files->Sup.len-1);
Res_110141 = 0;
Res_110141 = 0;
while (1) {
if (!(Res_110141 <= HEX3Atmp_110139)) goto LA1;
I_110116 = Res_110141;
if (!eqStrings((*W_110091).Files->data[I_110116], Filename_110092)) goto LA3;
Result_110093 = I_110116;
goto BeforeRet;
LA3: ;
Res_110141 += 1;
} LA1: ;
Result_110093 = (*W_110091).Files->Sup.len;
(*W_110091).Files = (TY38221*) setLengthSeq(&((*W_110091).Files)->Sup, sizeof(NimStringDesc*), (NI32)(Result_110093 + 1));
asgnRefNoCycle((void**) &(*W_110091).Files->data[Result_110093], copyString(Filename_110092));
BeforeRet: ;
return Result_110093;
}
static N_INLINE(NI, Sonslen_54803)(TY54525* N_54805) {
NI Result_55880;
Result_55880 = 0;
if (!(*N_54805).KindU.S6.Sons == 0) goto LA2;
Result_55880 = 0;
goto LA1;
LA2: ;
Result_55880 = (*N_54805).KindU.S6.Sons->Sup.len;
LA1: ;
return Result_55880;
}
N_NIMCALL(TY51008*, Encodenode_110297)(TY110004* W_110299, TY46536 Finfo_110300, TY54525* N_110301) {
TY51008* Result_110302;
TY51008* LOC4;
TY160003 LOC8;
NimStringDesc* LOC9;
NI LOC10;
TY174640 LOC13;
TY51399 LOC16;
NU8 F_110351;
TY51399 LOC20;
TY51399 LOC24;
TY51399 LOC28;
TY51399 LOC32;
NimStringDesc* LOC33;
TY51399 LOC37;
TY51399 LOC38;
TY51399 LOC39;
NI I_110528;
NI HEX3Atmp_110543;
NI LOC40;
NI Res_110545;
TY51008* LOC42;
Result_110302 = 0;
if (!(N_110301 == NIM_NIL)) goto LA2;
Result_110302 = Torope_51046(((NimStringDesc*) &TMP194820));
goto BeforeRet;
LA2: ;
Result_110302 = Torope_51046(((NimStringDesc*) &TMP194821));
LOC4 = 0;
LOC4 = Encodeint_92073(((NI64) ((*N_110301).Kind)));
App_51031(&Result_110302, LOC4);
if (!!((Finfo_110300.Fileindex == (*N_110301).Info.Fileindex))) goto LA6;
memset((void*)&LOC8, 0, sizeof(LOC8));
LOC8[0] = Encodeint_92073(((NI64) ((*N_110301).Info.Col)));
LOC8[1] = Encodeint_92073(((NI64) ((*N_110301).Info.Line)));
LOC9 = 0;
LOC9 = Tofilename_46583((*N_110301).Info);
LOC10 = Fileidx_110089(W_110299, LOC9);
LOC8[2] = Encodeint_92073(((NI64) (LOC10)));
Appf_51071(&Result_110302, ((NimStringDesc*) &TMP194816), LOC8, 3);
goto LA5;
LA6: ;
if (!!((Finfo_110300.Line == (*N_110301).Info.Line))) goto LA11;
memset((void*)&LOC13, 0, sizeof(LOC13));
LOC13[0] = Encodeint_92073(((NI64) ((*N_110301).Info.Col)));
LOC13[1] = Encodeint_92073(((NI64) ((*N_110301).Info.Line)));
Appf_51071(&Result_110302, ((NimStringDesc*) &TMP194822), LOC13, 2);
goto LA5;
LA11: ;
if (!!((Finfo_110300.Col == (*N_110301).Info.Col))) goto LA14;
memset((void*)&LOC16, 0, sizeof(LOC16));
LOC16[0] = Encodeint_92073(((NI64) ((*N_110301).Info.Col)));
Appf_51071(&Result_110302, ((NimStringDesc*) &TMP194823), LOC16, 1);
goto LA5;
LA14: ;
LA5: ;
memset((void*)&F_110351, 0, sizeof(F_110351));
F_110351 = ((*N_110301).Flags & 30);
if (!!((F_110351 == 0))) goto LA18;
memset((void*)&LOC20, 0, sizeof(LOC20));
LOC20[0] = Encodeint_92073(((NI64) (((int) (F_110351)))));
Appf_51071(&Result_110302, ((NimStringDesc*) &TMP194818), LOC20, 1);
LA18: ;
if (!!(((*N_110301).Typ == NIM_NIL))) goto LA22;
memset((void*)&LOC24, 0, sizeof(LOC24));
LOC24[0] = Encodeint_92073(((NI64) ((*(*N_110301).Typ).Sup.Id)));
Appf_51071(&Result_110302, ((NimStringDesc*) &TMP194815), LOC24, 1);
Pushtype_110239(W_110299, (*N_110301).Typ);
LA22: ;
switch ((*N_110301).Kind) {
case ((NU8) 5) ... ((NU8) 10):
if (!!(((*N_110301).KindU.S1.Intval == 0))) goto LA26;
memset((void*)&LOC28, 0, sizeof(LOC28));
LOC28[0] = Encodeint_92073((*N_110301).KindU.S1.Intval);
Appf_51071(&Result_110302, ((NimStringDesc*) &TMP194824), LOC28, 1);
LA26: ;
break;
case ((NU8) 11) ... ((NU8) 13):
if (!!((((NF) ((*N_110301).KindU.S2.Floatval)) == 0.0))) goto LA30;
memset((void*)&LOC32, 0, sizeof(LOC32));
LOC33 = 0;
LOC33 = nimFloatToStr(((NF) ((*N_110301).KindU.S2.Floatval)));
LOC32[0] = Encodestr_110048(W_110299, LOC33);
Appf_51071(&Result_110302, ((NimStringDesc*) &TMP194824), LOC32, 1);
LA30: ;
break;
case ((NU8) 14) ... ((NU8) 16):
if (!!((((*N_110301).KindU.S3.Strval) && ((*N_110301).KindU.S3.Strval)->Sup.len == 0))) goto LA35;
memset((void*)&LOC37, 0, sizeof(LOC37));
LOC37[0] = Encodestr_110048(W_110299, (*N_110301).KindU.S3.Strval);
Appf_51071(&Result_110302, ((NimStringDesc*) &TMP194824), LOC37, 1);
LA35: ;
break;
case ((NU8) 2):
memset((void*)&LOC38, 0, sizeof(LOC38));
LOC38[0] = Encodestr_110048(W_110299, (*(*N_110301).KindU.S5.Ident).S);
Appf_51071(&Result_110302, ((NimStringDesc*) &TMP194824), LOC38, 1);
break;
case ((NU8) 3):
memset((void*)&LOC39, 0, sizeof(LOC39));
LOC39[0] = Encodeint_92073(((NI64) ((*(*N_110301).KindU.S4.Sym).Sup.Id)));
Appf_51071(&Result_110302, ((NimStringDesc*) &TMP194824), LOC39, 1);
Pushsym_110268(W_110299, (*N_110301).KindU.S4.Sym);
break;
default:
I_110528 = 0;
HEX3Atmp_110543 = 0;
LOC40 = Sonslen_54803(N_110301);
HEX3Atmp_110543 = (NI32)(LOC40 - 1);
Res_110545 = 0;
Res_110545 = 0;
while (1) {
if (!(Res_110545 <= HEX3Atmp_110543)) goto LA41;
I_110528 = Res_110545;
LOC42 = 0;
LOC42 = Encodenode_110297(W_110299, (*N_110301).Info, (*N_110301).KindU.S6.Sons->data[I_110528]);
App_51031(&Result_110302, LOC42);
Res_110545 += 1;
} LA41: ;
break;
}
App_51036(&Result_110302, ((NimStringDesc*) &TMP194825));
BeforeRet: ;
return Result_110302;
}
N_NIMCALL(TY51008*, Encodeloc_110546)(TY110004* W_110548, TY54539 Loc_110549) {
TY51008* Result_110550;
TY51008* LOC4;
TY51399 LOC8;
TY51399 LOC12;
TY51399 LOC16;
TY51399 LOC20;
NimStringDesc* LOC21;
TY51399 LOC25;
TY51399 LOC29;
Result_110550 = 0;
Result_110550 = NIM_NIL;
if (!!((Loc_110549.K == ((NU8) 0)))) goto LA2;
LOC4 = 0;
LOC4 = Encodeint_92073(((NI64) (Loc_110549.K)));
App_51031(&Result_110550, LOC4);
LA2: ;
if (!!((Loc_110549.S == ((NU8) 0)))) goto LA6;
memset((void*)&LOC8, 0, sizeof(LOC8));
LOC8[0] = Encodeint_92073(((NI64) (Loc_110549.S)));
Appf_51071(&Result_110550, ((NimStringDesc*) &TMP194817), LOC8, 1);
LA6: ;
if (!!((Loc_110549.Flags == 0))) goto LA10;
memset((void*)&LOC12, 0, sizeof(LOC12));
LOC12[0] = Encodeint_92073(((NI64) (((int) (Loc_110549.Flags)))));
Appf_51071(&Result_110550, ((NimStringDesc*) &TMP194818), LOC12, 1);
LA10: ;
if (!!((Loc_110549.T == NIM_NIL))) goto LA14;
memset((void*)&LOC16, 0, sizeof(LOC16));
LOC16[0] = Encodeint_92073(((NI64) ((*Loc_110549.T).Sup.Id)));
Appf_51071(&Result_110550, ((NimStringDesc*) &TMP194815), LOC16, 1);
Pushtype_110239(W_110548, Loc_110549.T);
LA14: ;
if (!!((Loc_110549.R == NIM_NIL))) goto LA18;
memset((void*)&LOC20, 0, sizeof(LOC20));
LOC21 = 0;
LOC21 = Ropetostr_51063(Loc_110549.R);
LOC20[0] = Encodestr_110048(W_110548, LOC21);
Appf_51071(&Result_110550, ((NimStringDesc*) &TMP194824), LOC20, 1);
LA18: ;
if (!!((Loc_110549.A == 0))) goto LA23;
memset((void*)&LOC25, 0, sizeof(LOC25));
LOC25[0] = Encodeint_92073(((NI64) (Loc_110549.A)));
Appf_51071(&Result_110550, ((NimStringDesc*) &TMP194823), LOC25, 1);
LA23: ;
if (!!((Result_110550 == NIM_NIL))) goto LA27;
memset((void*)&LOC29, 0, sizeof(LOC29));
LOC29[0] = Result_110550;
Result_110550 = Ropef_51066(((NimStringDesc*) &TMP194828), LOC29, 1);
LA27: ;
return Result_110550;
}
N_NIMCALL(TY51008*, Encodelib_110824)(TY110004* W_110826, TY54543* Lib_110827, TY46536 Info_110828) {
TY51008* Result_110829;
TY51399 LOC1;
TY51399 LOC2;
NimStringDesc* LOC3;
TY51399 LOC4;
Result_110829 = 0;
Result_110829 = NIM_NIL;
memset((void*)&LOC1, 0, sizeof(LOC1));
LOC1[0] = Encodeint_92073(((NI64) ((*Lib_110827).Kind)));
Appf_51071(&Result_110829, ((NimStringDesc*) &TMP194829), LOC1, 1);
memset((void*)&LOC2, 0, sizeof(LOC2));
LOC3 = 0;
LOC3 = Ropetostr_51063((*Lib_110827).Name);
LOC2[0] = Encodestr_110048(W_110826, LOC3);
Appf_51071(&Result_110829, ((NimStringDesc*) &TMP194829), LOC2, 1);
memset((void*)&LOC4, 0, sizeof(LOC4));
LOC4[0] = Encodenode_110297(W_110826, Info_110828, (*Lib_110827).Path);
Appf_51071(&Result_110829, ((NimStringDesc*) &TMP194829), LOC4, 1);
return Result_110829;
}
N_NIMCALL(TY51008*, Encodesym_110850)(TY110004* W_110852, TY54547* S_110853) {
TY51008* Result_110854;
TY54525* Codeast_110855;
TY51008* Col_110856;
TY51008* Line_110857;
TY51008* LOC4;
TY51399 LOC5;
TY51399 LOC6;
TY51399 LOC10;
TY160003 LOC17;
NimStringDesc* LOC18;
NI LOC19;
TY51399 LOC23;
TY51399 LOC27;
TY51399 LOC31;
NIM_BOOL LOC36;
TY51008* LOC39;
TY51399 LOC46;
TY51399 LOC50;
TY51399 LOC54;
TY51008* LOC55;
TY51008* LOC59;
Result_110854 = 0;
Codeast_110855 = 0;
Col_110856 = 0;
Line_110857 = 0;
Codeast_110855 = NIM_NIL;
if (!(S_110853 == NIM_NIL)) goto LA2;
Result_110854 = Torope_51046(((NimStringDesc*) &TMP194812));
goto BeforeRet;
LA2: ;
Result_110854 = NIM_NIL;
LOC4 = 0;
LOC4 = Encodeint_92073(((NI64) ((*S_110853).Kind)));
App_51031(&Result_110854, LOC4);
memset((void*)&LOC5, 0, sizeof(LOC5));
LOC5[0] = Encodeint_92073(((NI64) ((*S_110853).Sup.Id)));
Appf_51071(&Result_110854, ((NimStringDesc*) &TMP194813), LOC5, 1);
memset((void*)&LOC6, 0, sizeof(LOC6));
LOC6[0] = Encodestr_110048(W_110852, (*(*S_110853).Name).S);
Appf_51071(&Result_110854, ((NimStringDesc*) &TMP194814), LOC6, 1);
if (!!(((*S_110853).Typ == NIM_NIL))) goto LA8;
memset((void*)&LOC10, 0, sizeof(LOC10));
LOC10[0] = Encodeint_92073(((NI64) ((*(*S_110853).Typ).Sup.Id)));
Appf_51071(&Result_110854, ((NimStringDesc*) &TMP194815), LOC10, 1);
Pushtype_110239(W_110852, (*S_110853).Typ);
LA8: ;
if (!((*S_110853).Info.Col == ((NI16) -1))) goto LA12;
Col_110856 = NIM_NIL;
goto LA11;
LA12: ;
Col_110856 = Encodeint_92073(((NI64) ((*S_110853).Info.Col)));
LA11: ;
if (!((*S_110853).Info.Line == ((NI16) -1))) goto LA15;
Line_110857 = NIM_NIL;
goto LA14;
LA15: ;
Line_110857 = Encodeint_92073(((NI64) ((*S_110853).Info.Line)));
LA14: ;
memset((void*)&LOC17, 0, sizeof(LOC17));
LOC17[0] = Col_110856;
LOC17[1] = Line_110857;
LOC18 = 0;
LOC18 = Tofilename_46583((*S_110853).Info);
LOC19 = Fileidx_110089(W_110852, LOC18);
LOC17[2] = Encodeint_92073(((NI64) (LOC19)));
Appf_51071(&Result_110854, ((NimStringDesc*) &TMP194816), LOC17, 3);
if (!!(((*S_110853).Owner == NIM_NIL))) goto LA21;
memset((void*)&LOC23, 0, sizeof(LOC23));
LOC23[0] = Encodeint_92073(((NI64) ((*(*S_110853).Owner).Sup.Id)));
Appf_51071(&Result_110854, ((NimStringDesc*) &TMP194817), LOC23, 1);
Pushsym_110268(W_110852, (*S_110853).Owner);
LA21: ;
if (!!(((*S_110853).Flags == 0))) goto LA25;
memset((void*)&LOC27, 0, sizeof(LOC27));
LOC27[0] = Encodeint_92073(((NI64) (((int) ((*S_110853).Flags)))));
Appf_51071(&Result_110854, ((NimStringDesc*) &TMP194818), LOC27, 1);
LA25: ;
if (!!(((*S_110853).Magic == ((NU8) 0)))) goto LA29;
memset((void*)&LOC31, 0, sizeof(LOC31));
LOC31[0] = Encodeint_92073(((NI64) ((*S_110853).Magic)));
Appf_51071(&Result_110854, ((NimStringDesc*) &TMP194819), LOC31, 1);
LA29: ;
if (!!(((*S_110853).Ast == NIM_NIL))) goto LA33;
LOC36 = Astneeded_104041(S_110853);
if (!!(LOC36)) goto LA37;
Codeast_110855 = (*(*S_110853).Ast).KindU.S6.Sons->data[4];
asgnRefNoCycle((void**) &(*(*S_110853).Ast).KindU.S6.Sons->data[4], NIM_NIL);
LA37: ;
LOC39 = 0;
LOC39 = Encodenode_110297(W_110852, (*S_110853).Info, (*S_110853).Ast);
App_51031(&Result_110854, LOC39);
if (!!((Codeast_110855 == NIM_NIL))) goto LA41;
asgnRefNoCycle((void**) &(*(*S_110853).Ast).KindU.S6.Sons->data[4], Codeast_110855);
LA41: ;
LA33: ;
if (!!(((*S_110853).Options == (*W_110852).Options))) goto LA44;
memset((void*)&LOC46, 0, sizeof(LOC46));
LOC46[0] = Encodeint_92073(((NI64) (((int) ((*S_110853).Options)))));
Appf_51071(&Result_110854, ((NimStringDesc*) &TMP194824), LOC46, 1);
LA44: ;
if (!!(((*S_110853).Position == 0))) goto LA48;
memset((void*)&LOC50, 0, sizeof(LOC50));
LOC50[0] = Encodeint_92073(((NI64) ((*S_110853).Position)));
Appf_51071(&Result_110854, ((NimStringDesc*) &TMP194826), LOC50, 1);
LA48: ;
if (!!(((*S_110853).Offset == -1))) goto LA52;
memset((void*)&LOC54, 0, sizeof(LOC54));
LOC54[0] = Encodeint_92073(((NI64) ((*S_110853).Offset)));
Appf_51071(&Result_110854, ((NimStringDesc*) &TMP194827), LOC54, 1);
LA52: ;
LOC55 = 0;
LOC55 = Encodeloc_110546(W_110852, (*S_110853).Loc);
App_51031(&Result_110854, LOC55);
if (!!(((*S_110853).Annex == NIM_NIL))) goto LA57;
LOC59 = 0;
LOC59 = Encodelib_110824(W_110852, (*S_110853).Annex, (*S_110853).Info);
App_51031(&Result_110854, LOC59);
LA57: ;
BeforeRet: ;
return Result_110854;
}
N_NIMCALL(void, Symstack_111080)(TY110004* W_111082) {
NI I_111083;
NI L_111084;
TY54547* S_111085;
TY54547* M_111086;
NI LOC3;
NimStringDesc* LOC9;
NIM_BOOL LOC11;
TY51008* LOC15;
TY174640 LOC19;
TY174640 LOC23;
TY51008* LOC30;
NI LOC31;
I_111083 = 0;
L_111084 = 0;
S_111085 = 0;
M_111086 = 0;
I_111083 = 0;
while (1) {
if (!(I_111083 < (*W_111082).Sstack->Sup.len)) goto LA1;
S_111085 = (*W_111082).Sstack->data[I_111083];
LOC3 = Iitableget_59229((*W_111082).Index.Tab, (*S_111085).Sup.Id);
if (!(LOC3 == (-2147483647 -1))) goto LA4;
M_111086 = Getmodule_59203(S_111085);
if (!(M_111086 == NIM_NIL)) goto LA7;
LOC9 = 0;
LOC9 = rawNewString((*(*S_111085).Name).S->Sup.len + 22);
appendString(LOC9, ((NimStringDesc*) &TMP194809));
appendString(LOC9, (*(*S_111085).Name).S);
Internalerror_46575(LOC9);
LA7: ;
LOC11 = ((*M_111086).Sup.Id == (*(*W_111082).Module).Sup.Id);
if (LOC11) goto LA12;
LOC11 = (((*S_111085).Flags &(1<<((((NU8) 4))&31)))!=0);
LA12: ;
if (!LOC11) goto LA13;
L_111084 = Ropelen_51052((*W_111082).Data);
Addtoindex_111063(&(*W_111082).Index, (*S_111085).Sup.Id, L_111084);
LOC15 = 0;
LOC15 = Encodesym_110850(W_111082, S_111085);
App_51031(&(*W_111082).Data, LOC15);
App_51036(&(*W_111082).Data, ((NimStringDesc*) &TMP194810));
if (!(((*S_111085).Flags &(1<<((((NU8) 3))&31)))!=0)) goto LA17;
memset((void*)&LOC19, 0, sizeof(LOC19));
LOC19[0] = Encode_92076((*(*S_111085).Name).S);
LOC19[1] = Encodeint_92073(((NI64) ((*S_111085).Sup.Id)));
Appf_51071(&(*W_111082).Interf, ((NimStringDesc*) &TMP194811), LOC19, 2);
LA17: ;
if (!(((*S_111085).Flags &(1<<((((NU8) 19))&31)))!=0)) goto LA21;
memset((void*)&LOC23, 0, sizeof(LOC23));
LOC23[0] = Encode_92076((*(*S_111085).Name).S);
LOC23[1] = Encodeint_92073(((NI64) ((*S_111085).Sup.Id)));
Appf_51071(&(*W_111082).Compilerprocs, ((NimStringDesc*) &TMP194811), LOC23, 2);
LA21: ;
if (!((*S_111085).Kind == ((NU8) 13))) goto LA25;
if (!!(((*W_111082).Converters == NIM_NIL))) goto LA28;
App_51036(&(*W_111082).Converters, ((NimStringDesc*) &TMP194808));
LA28: ;
LOC30 = 0;
LOC30 = Encodeint_92073(((NI64) ((*S_111085).Sup.Id)));
App_51031(&(*W_111082).Converters, LOC30);
LA25: ;
goto LA10;
LA13: ;
LOC31 = Iitableget_59229((*W_111082).Imports.Tab, (*S_111085).Sup.Id);
if (!(LOC31 == (-2147483647 -1))) goto LA32;
Addtoindex_111063(&(*W_111082).Imports, (*S_111085).Sup.Id, (*M_111086).Sup.Id);
goto LA10;
LA32: ;
LA10: ;
LA4: ;
I_111083 += 1;
} LA1: ;
(*W_111082).Sstack = (TY54527*) setLengthSeq(&((*W_111082).Sstack)->Sup, sizeof(TY54547*), 0);
}
static N_INLINE(NI, Sonslen_54806)(TY54551* N_54808) {
NI Result_55744;
Result_55744 = 0;
if (!(*N_54808).Sons == 0) goto LA2;
Result_55744 = 0;
goto LA1;
LA2: ;
Result_55744 = (*N_54808).Sons->Sup.len;
LA1: ;
return Result_55744;
}
N_NIMCALL(TY51008*, Encodetype_110657)(TY110004* W_110659, TY54551* T_110660) {
TY51008* Result_110661;
TY51008* LOC7;
TY51399 LOC8;
TY46536 LOC12;
TY51008* LOC13;
TY51399 LOC17;
TY51399 LOC21;
TY51399 LOC25;
TY51399 LOC29;
TY51399 LOC33;
TY51399 LOC37;
TY51399 LOC41;
TY51008* LOC42;
NI I_110803;
NI HEX3Atmp_110821;
NI LOC43;
NI Res_110823;
TY51399 LOC48;
Result_110661 = 0;
if (!(T_110660 == NIM_NIL)) goto LA2;
Result_110661 = Torope_51046(((NimStringDesc*) &TMP194830));
goto BeforeRet;
LA2: ;
Result_110661 = NIM_NIL;
if (!((*T_110660).Kind == ((NU8) 30))) goto LA5;
Internalerror_46575(((NimStringDesc*) &TMP194831));
LA5: ;
LOC7 = 0;
LOC7 = Encodeint_92073(((NI64) ((*T_110660).Kind)));
App_51031(&Result_110661, LOC7);
memset((void*)&LOC8, 0, sizeof(LOC8));
LOC8[0] = Encodeint_92073(((NI64) ((*T_110660).Sup.Id)));
Appf_51071(&Result_110661, ((NimStringDesc*) &TMP194813), LOC8, 1);
if (!!(((*T_110660).N == NIM_NIL))) goto LA10;
LOC12 = Unknownlineinfo_46540();
LOC13 = 0;
LOC13 = Encodenode_110297(W_110659, LOC12, (*T_110660).N);
App_51031(&Result_110661, LOC13);
LA10: ;
if (!!(((*T_110660).Flags == 0))) goto LA15;
memset((void*)&LOC17, 0, sizeof(LOC17));
LOC17[0] = Encodeint_92073(((NI64) (((int) ((*T_110660).Flags)))));
Appf_51071(&Result_110661, ((NimStringDesc*) &TMP194818), LOC17, 1);
LA15: ;
if (!!(((*T_110660).Callconv == ((NU8) 0)))) goto LA19;
memset((void*)&LOC21, 0, sizeof(LOC21));
LOC21[0] = Encodeint_92073(((NI64) ((*T_110660).Callconv)));
Appf_51071(&Result_110661, ((NimStringDesc*) &TMP194823), LOC21, 1);
LA19: ;
if (!!(((*T_110660).Owner == NIM_NIL))) goto LA23;
memset((void*)&LOC25, 0, sizeof(LOC25));
LOC25[0] = Encodeint_92073(((NI64) ((*(*T_110660).Owner).Sup.Id)));
Appf_51071(&Result_110661, ((NimStringDesc*) &TMP194817), LOC25, 1);
Pushsym_110268(W_110659, (*T_110660).Owner);
LA23: ;
if (!!(((*T_110660).Sym == NIM_NIL))) goto LA27;
memset((void*)&LOC29, 0, sizeof(LOC29));
LOC29[0] = Encodeint_92073(((NI64) ((*(*T_110660).Sym).Sup.Id)));
Appf_51071(&Result_110661, ((NimStringDesc*) &TMP194814), LOC29, 1);
Pushsym_110268(W_110659, (*T_110660).Sym);
LA27: ;
if (!!(((*T_110660).Size == -1))) goto LA31;
memset((void*)&LOC33, 0, sizeof(LOC33));
LOC33[0] = Encodeint_92073((*T_110660).Size);
Appf_51071(&Result_110661, ((NimStringDesc*) &TMP194832), LOC33, 1);
LA31: ;
if (!!(((*T_110660).Align == 2))) goto LA35;
memset((void*)&LOC37, 0, sizeof(LOC37));
LOC37[0] = Encodeint_92073(((NI64) ((*T_110660).Align)));
Appf_51071(&Result_110661, ((NimStringDesc*) &TMP194833), LOC37, 1);
LA35: ;
if (!!(((*T_110660).Containerid == 0))) goto LA39;
memset((void*)&LOC41, 0, sizeof(LOC41));
LOC41[0] = Encodeint_92073(((NI64) ((*T_110660).Containerid)));
Appf_51071(&Result_110661, ((NimStringDesc*) &TMP194819), LOC41, 1);
LA39: ;
LOC42 = 0;
LOC42 = Encodeloc_110546(W_110659, (*T_110660).Loc);
App_51031(&Result_110661, LOC42);
I_110803 = 0;
HEX3Atmp_110821 = 0;
LOC43 = Sonslen_54806(T_110660);
HEX3Atmp_110821 = (NI32)(LOC43 - 1);
Res_110823 = 0;
Res_110823 = 0;
while (1) {
if (!(Res_110823 <= HEX3Atmp_110821)) goto LA44;
I_110803 = Res_110823;
if (!((*T_110660).Sons->data[I_110803] == NIM_NIL)) goto LA46;
App_51036(&Result_110661, ((NimStringDesc*) &TMP194834));
goto LA45;
LA46: ;
memset((void*)&LOC48, 0, sizeof(LOC48));
LOC48[0] = Encodeint_92073(((NI64) ((*(*T_110660).Sons->data[I_110803]).Sup.Id)));
Appf_51071(&Result_110661, ((NimStringDesc*) &TMP194815), LOC48, 1);
Pushtype_110239(W_110659, (*T_110660).Sons->data[I_110803]);
LA45: ;
Res_110823 += 1;
} LA44: ;
BeforeRet: ;
return Result_110661;
}
N_NIMCALL(void, Typestack_111209)(TY110004* W_111211) {
NI I_111212;
NI LOC3;
NI L_111227;
TY51008* LOC6;
I_111212 = 0;
I_111212 = 0;
while (1) {
if (!(I_111212 < (*W_111211).Tstack->Sup.len)) goto LA1;
LOC3 = Iitableget_59229((*W_111211).Index.Tab, (*(*W_111211).Tstack->data[I_111212]).Sup.Id);
if (!(LOC3 == (-2147483647 -1))) goto LA4;
L_111227 = 0;
L_111227 = Ropelen_51052((*W_111211).Data);
Addtoindex_111063(&(*W_111211).Index, (*(*W_111211).Tstack->data[I_111212]).Sup.Id, L_111227);
LOC6 = 0;
LOC6 = Encodetype_110657(W_111211, (*W_111211).Tstack->data[I_111212]);
App_51031(&(*W_111211).Data, LOC6);
App_51036(&(*W_111211).Data, ((NimStringDesc*) &TMP194810));
LA4: ;
I_111212 += 1;
} LA1: ;
(*W_111211).Tstack = (TY54549*) setLengthSeq(&((*W_111211).Tstack)->Sup, sizeof(TY54551*), 0);
}
N_NIMCALL(void, Processstacks_110053)(TY110004* W_110055) {
NIM_BOOL LOC2;
while (1) {
LOC2 = (0 < (*W_110055).Tstack->Sup.len);
if (LOC2) goto LA3;
LOC2 = (0 < (*W_110055).Sstack->Sup.len);
LA3: ;
if (!LOC2) goto LA1;
Symstack_111080(W_110055);
Typestack_111209(W_110055);
} LA1: ;
}
N_NIMCALL(void, Rawaddinterfacesym_111282)(TY110004* W_111284, TY54547* S_111285) {
Pushsym_110268(W_111284, S_111285);
Processstacks_110053(W_111284);
}
N_NIMCALL(TY104002*, Myopen_111809)(TY54547* Module_111811, NimStringDesc* Filename_111812) {
TY104002* Result_111813;
TY110004* W_111816;
int LOC4;
Result_111813 = 0;
if (!((*Module_111811).Sup.Id < 0)) goto LA2;
Internalerror_46575(((NimStringDesc*) &TMP194806));
LA2: ;
W_111816 = 0;
LOC4 = Getcrc_92064(Filename_111812);
W_111816 = Newrodwriter_110024(Filename_111812, LOC4, Module_111811);
Rawaddinterfacesym_111282(W_111816, Module_111811);
Result_111813 = &W_111816->Sup;
return Result_111813;
}
N_NIMCALL(void, Writerod_110045)(TY110004* W_110047) {
TY51008* Content_111336;
TY51008* LOC1;
TY51008* LOC2;
TY51008* LOC3;
TY51008* LOC4;
TY51008* LOC5;
TY51008* LOC6;
TY51008* LOC7;
TY51008* LOC8;
TY51008* LOC9;
NI I_111359;
NI HEX3Atmp_111390;
NI Res_111392;
TY51008* LOC11;
TY51008* LOC12;
TY51008* LOC13;
TY51008* LOC14;
TY51008* LOC15;
TY51008* LOC16;
TY51008* LOC17;
TY51008* LOC18;
TY51008* LOC19;
TY51008* LOC20;
TY51008* LOC21;
TY51008* LOC22;
TY51008* LOC23;
TY51008* LOC24;
TY51008* LOC25;
TY51008* LOC26;
TY51008* LOC27;
TY51008* LOC28;
TY51008* LOC29;
NimStringDesc* LOC30;
NimStringDesc* LOC31;
Processstacks_110053(W_110047);
Content_111336 = 0;
Content_111336 = Torope_51046(((NimStringDesc*) &TMP194835));
LOC1 = 0;
LOC1 = Torope_51046(((NimStringDesc*) &TMP194836));
App_51031(&Content_111336, LOC1);
App_51036(&Content_111336, ((NimStringDesc*) &TMP194810));
LOC2 = 0;
LOC2 = Torope_51046(((NimStringDesc*) &TMP194837));
App_51031(&Content_111336, LOC2);
LOC3 = 0;
LOC3 = Encodeint_92073(((NI64) ((*(*W_110047).Module).Sup.Id)));
App_51031(&Content_111336, LOC3);
App_51036(&Content_111336, ((NimStringDesc*) &TMP194810));
LOC4 = 0;
LOC4 = Torope_51046(((NimStringDesc*) &TMP194838));
App_51031(&Content_111336, LOC4);
LOC5 = 0;
LOC5 = Encodeint_92073(((NI64) ((*W_110047).Crc)));
App_51031(&Content_111336, LOC5);
App_51036(&Content_111336, ((NimStringDesc*) &TMP194810));
LOC6 = 0;
LOC6 = Torope_51046(((NimStringDesc*) &TMP194839));
App_51031(&Content_111336, LOC6);
LOC7 = 0;
LOC7 = Encodeint_92073(((NI64) (((int) ((*W_110047).Options)))));
App_51031(&Content_111336, LOC7);
App_51036(&Content_111336, ((NimStringDesc*) &TMP194810));
LOC8 = 0;
LOC8 = Torope_51046(((NimStringDesc*) &TMP194840));
App_51031(&Content_111336, LOC8);
App_51031(&Content_111336, (*W_110047).Defines);
App_51036(&Content_111336, ((NimStringDesc*) &TMP194810));
LOC9 = 0;
LOC9 = Torope_51046(((NimStringDesc*) &TMP194841));
App_51031(&Content_111336, LOC9);
I_111359 = 0;
HEX3Atmp_111390 = 0;
HEX3Atmp_111390 = ((*W_110047).Files->Sup.len-1);
Res_111392 = 0;
Res_111392 = 0;
while (1) {
if (!(Res_111392 <= HEX3Atmp_111390)) goto LA10;
I_111359 = Res_111392;
LOC11 = 0;
LOC11 = Encode_92076((*W_110047).Files->data[I_111359]);
App_51031(&Content_111336, LOC11);
App_51036(&Content_111336, ((NimStringDesc*) &TMP194810));
Res_111392 += 1;
} LA10: ;
LOC12 = 0;
LOC12 = Torope_51046(((NimStringDesc*) &TMP194842));
App_51031(&Content_111336, LOC12);
LOC13 = 0;
LOC13 = Torope_51046(((NimStringDesc*) &TMP194843));
App_51031(&Content_111336, LOC13);
App_51031(&Content_111336, (*W_110047).Incldeps);
LOC14 = 0;
LOC14 = Torope_51046(((NimStringDesc*) &TMP194842));
App_51031(&Content_111336, LOC14);
LOC15 = 0;
LOC15 = Torope_51046(((NimStringDesc*) &TMP194844));
App_51031(&Content_111336, LOC15);
App_51031(&Content_111336, (*W_110047).Moddeps);
App_51036(&Content_111336, ((NimStringDesc*) &TMP194810));
LOC16 = 0;
LOC16 = Torope_51046(((NimStringDesc*) &TMP194845));
App_51031(&Content_111336, LOC16);
App_51031(&Content_111336, (*W_110047).Interf);
LOC17 = 0;
LOC17 = Torope_51046(((NimStringDesc*) &TMP194842));
App_51031(&Content_111336, LOC17);
LOC18 = 0;
LOC18 = Torope_51046(((NimStringDesc*) &TMP194846));
App_51031(&Content_111336, LOC18);
App_51031(&Content_111336, (*W_110047).Compilerprocs);
LOC19 = 0;
LOC19 = Torope_51046(((NimStringDesc*) &TMP194842));
App_51031(&Content_111336, LOC19);
LOC20 = 0;
LOC20 = Torope_51046(((NimStringDesc*) &TMP194847));
App_51031(&Content_111336, LOC20);
App_51031(&Content_111336, (*W_110047).Index.R);
LOC21 = 0;
LOC21 = Torope_51046(((NimStringDesc*) &TMP194842));
App_51031(&Content_111336, LOC21);
LOC22 = 0;
LOC22 = Torope_51046(((NimStringDesc*) &TMP194848));
App_51031(&Content_111336, LOC22);
App_51031(&Content_111336, (*W_110047).Imports.R);
LOC23 = 0;
LOC23 = Torope_51046(((NimStringDesc*) &TMP194842));
App_51031(&Content_111336, LOC23);
LOC24 = 0;
LOC24 = Torope_51046(((NimStringDesc*) &TMP194849));
App_51031(&Content_111336, LOC24);
App_51031(&Content_111336, (*W_110047).Converters);
LOC25 = 0;
LOC25 = Torope_51046(((NimStringDesc*) &TMP194810));
App_51031(&Content_111336, LOC25);
LOC26 = 0;
LOC26 = Torope_51046(((NimStringDesc*) &TMP194850));
App_51031(&Content_111336, LOC26);
App_51031(&Content_111336, (*W_110047).Init);
LOC27 = 0;
LOC27 = Torope_51046(((NimStringDesc*) &TMP194842));
App_51031(&Content_111336, LOC27);
LOC28 = 0;
LOC28 = Torope_51046(((NimStringDesc*) &TMP194851));
App_51031(&Content_111336, LOC28);
App_51031(&Content_111336, (*W_110047).Data);
LOC29 = 0;
LOC29 = Torope_51046(((NimStringDesc*) &TMP194842));
App_51031(&Content_111336, LOC29);
LOC30 = 0;
LOC30 = nosChangeFileExt((*W_110047).Filename, ((NimStringDesc*) &TMP194852));
LOC31 = 0;
LOC31 = Completegeneratedfilepath_45100(LOC30, NIM_TRUE);
Writerope_51055(Content_111336, LOC31);
}
N_NIMCALL(TY54525*, Myclose_111817)(TY104002* C_111819, TY54525* N_111820) {
TY54525* Result_111821;
TY110004* W_111822;
Result_111821 = 0;
W_111822 = 0;
W_111822 = ((TY110004*) (C_111819));
Writerod_110045(W_111822);
Result_111821 = N_111820;
return Result_111821;
}
N_NIMCALL(void, Addinterfacesym_110037)(TY110004* W_110039, TY54547* S_110040) {
if (!(W_110039 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
if (!!(((524296 & (*S_110040).Flags) == 0))) goto LA5;
Rawaddinterfacesym_111282(W_110039, S_110040);
LA5: ;
BeforeRet: ;
}
N_NIMCALL(void, Addmoddep_110029)(TY110004* W_110031, NimStringDesc* Dep_110032) {
NI LOC4;
TY51008* LOC5;
if (!!(((*W_110031).Moddeps == NIM_NIL))) goto LA2;
App_51036(&(*W_110031).Moddeps, ((NimStringDesc*) &TMP194808));
LA2: ;
LOC4 = Fileidx_110089(W_110031, Dep_110032);
LOC5 = 0;
LOC5 = Encodeint_92073(((NI64) (LOC4)));
App_51031(&(*W_110031).Moddeps, LOC5);
}
N_NIMCALL(void, Addstmt_110041)(TY110004* W_110043, TY54525* N_110044) {
NI LOC1;
TY51008* LOC2;
TY46536 LOC3;
TY51008* LOC4;
LOC1 = Ropelen_51052((*W_110043).Data);
LOC2 = 0;
LOC2 = Encodeint_92073(((NI64) (LOC1)));
App_51031(&(*W_110043).Init, LOC2);
App_51036(&(*W_110043).Init, ((NimStringDesc*) &TMP194810));
LOC3 = Unknownlineinfo_46540();
LOC4 = 0;
LOC4 = Encodenode_110297(W_110043, LOC3, N_110044);
App_51031(&(*W_110043).Data, LOC4);
App_51036(&(*W_110043).Data, ((NimStringDesc*) &TMP194810));
Processstacks_110053(W_110043);
}
N_NIMCALL(void, Addincldep_110033)(TY110004* W_110035, NimStringDesc* Dep_110036) {
NI LOC1;
TY51008* LOC2;
int LOC3;
TY51008* LOC4;
LOC1 = Fileidx_110089(W_110035, Dep_110036);
LOC2 = 0;
LOC2 = Encodeint_92073(((NI64) (LOC1)));
App_51031(&(*W_110035).Incldeps, LOC2);
App_51036(&(*W_110035).Incldeps, ((NimStringDesc*) &TMP194808));
LOC3 = Crcfromfile_49029(Dep_110036);
LOC4 = 0;
LOC4 = Encodeint_92073(((NI64) (LOC3)));
App_51031(&(*W_110035).Incldeps, LOC4);
App_51036(&(*W_110035).Incldeps, ((NimStringDesc*) &TMP194810));
}
N_NIMCALL(TY54525*, Process_111393)(TY104002* C_111395, TY54525* N_111396) {
TY54525* Result_111397;
TY110004* W_111409;
NI I_111417;
NI HEX3Atmp_111788;
NI LOC4;
NI Res_111790;
TY54525* LOC6;
TY54547* S_111454;
TY54547* S_111479;
NIM_BOOL LOC11;
NIM_BOOL LOC12;
NI I_111541;
NI HEX3Atmp_111792;
NI LOC17;
NI Res_111794;
TY54525* A_111554;
NI I_111604;
NI HEX3Atmp_111796;
NI LOC26;
NI Res_111798;
TY54525* A_111617;
NI I_111667;
NI HEX3Atmp_111800;
NI LOC35;
NI Res_111802;
TY54525* A_111680;
TY54547* S_111735;
NI I_111743;
NI HEX3Atmp_111803;
NI LOC44;
NI Res_111805;
NimStringDesc* LOC46;
NimStringDesc* LOC47;
NI I_111775;
NI HEX3Atmp_111806;
NI LOC48;
NI Res_111808;
NimStringDesc* LOC50;
Result_111397 = 0;
Result_111397 = N_111396;
if (!(C_111395 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
W_111409 = 0;
W_111409 = ((TY110004*) (C_111395));
switch ((*N_111396).Kind) {
case ((NU8) 101):
I_111417 = 0;
HEX3Atmp_111788 = 0;
LOC4 = Sonslen_54803(N_111396);
HEX3Atmp_111788 = (NI32)(LOC4 - 1);
Res_111790 = 0;
Res_111790 = 0;
while (1) {
if (!(Res_111790 <= HEX3Atmp_111788)) goto LA5;
I_111417 = Res_111790;
LOC6 = 0;
LOC6 = Process_111393(C_111395, (*N_111396).KindU.S6.Sons->data[I_111417]);
Res_111790 += 1;
} LA5: ;
break;
case ((NU8) 73):
case ((NU8) 72):
S_111454 = 0;
S_111454 = (*(*N_111396).KindU.S6.Sons->data[0]).KindU.S4.Sym;
Addinterfacesym_110037(W_111409, S_111454);
break;
case ((NU8) 69):
case ((NU8) 70):
case ((NU8) 74):
case ((NU8) 71):
S_111479 = 0;
S_111479 = (*(*N_111396).KindU.S6.Sons->data[0]).KindU.S4.Sym;
if (!(S_111479 == NIM_NIL)) goto LA8;
Internalerror_46571((*N_111396).Info, ((NimStringDesc*) &TMP194853));
LA8: ;
LOC12 = !(((*N_111396).KindU.S6.Sons->data[4] == NIM_NIL));
if (LOC12) goto LA13;
LOC12 = !(((*S_111479).Magic == ((NU8) 0)));
LA13: ;
LOC11 = LOC12;
if (LOC11) goto LA14;
LOC11 = !((((*S_111479).Flags &(1<<((((NU8) 6))&31)))!=0));
LA14: ;
if (!LOC11) goto LA15;
Addinterfacesym_110037(W_111409, S_111479);
LA15: ;
break;
case ((NU8) 87):
I_111541 = 0;
HEX3Atmp_111792 = 0;
LOC17 = Sonslen_54803(N_111396);
HEX3Atmp_111792 = (NI32)(LOC17 - 1);
Res_111794 = 0;
Res_111794 = 0;
while (1) {
if (!(Res_111794 <= HEX3Atmp_111792)) goto LA18;
I_111541 = Res_111794;
A_111554 = 0;
A_111554 = (*N_111396).KindU.S6.Sons->data[I_111541];
if (!((*A_111554).Kind == ((NU8) 105))) goto LA21;
goto LA19;
LA21: ;
if (!!(((*A_111554).Kind == ((NU8) 25)))) goto LA24;
Internalerror_46571((*A_111554).Info, ((NimStringDesc*) &TMP194853));
LA24: ;
Addinterfacesym_110037(W_111409, (*(*A_111554).KindU.S6.Sons->data[0]).KindU.S4.Sym);
LA19: ;
Res_111794 += 1;
} LA18: ;
break;
case ((NU8) 88):
I_111604 = 0;
HEX3Atmp_111796 = 0;
LOC26 = Sonslen_54803(N_111396);
HEX3Atmp_111796 = (NI32)(LOC26 - 1);
Res_111798 = 0;
Res_111798 = 0;
while (1) {
if (!(Res_111798 <= HEX3Atmp_111796)) goto LA27;
I_111604 = Res_111798;
A_111617 = 0;
A_111617 = (*N_111396).KindU.S6.Sons->data[I_111604];
if (!((*A_111617).Kind == ((NU8) 105))) goto LA30;
goto LA28;
LA30: ;
if (!!(((*A_111617).Kind == ((NU8) 89)))) goto LA33;
Internalerror_46571((*A_111617).Info, ((NimStringDesc*) &TMP194853));
LA33: ;
Addinterfacesym_110037(W_111409, (*(*A_111617).KindU.S6.Sons->data[0]).KindU.S4.Sym);
LA28: ;
Res_111798 += 1;
} LA27: ;
break;
case ((NU8) 90):
I_111667 = 0;
HEX3Atmp_111800 = 0;
LOC35 = Sonslen_54803(N_111396);
HEX3Atmp_111800 = (NI32)(LOC35 - 1);
Res_111802 = 0;
Res_111802 = 0;
while (1) {
if (!(Res_111802 <= HEX3Atmp_111800)) goto LA36;
I_111667 = Res_111802;
A_111680 = 0;
A_111680 = (*N_111396).KindU.S6.Sons->data[I_111667];
if (!((*A_111680).Kind == ((NU8) 105))) goto LA39;
goto LA37;
LA39: ;
if (!!(((*(*A_111680).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA42;
Internalerror_46571((*A_111680).Info, ((NimStringDesc*) &TMP194853));
LA42: ;
S_111735 = 0;
S_111735 = (*(*A_111680).KindU.S6.Sons->data[0]).KindU.S4.Sym;
Addinterfacesym_110037(W_111409, S_111735);
LA37: ;
Res_111802 += 1;
} LA36: ;
break;
case ((NU8) 102):
I_111743 = 0;
HEX3Atmp_111803 = 0;
LOC44 = Sonslen_54803(N_111396);
HEX3Atmp_111803 = (NI32)(LOC44 - 1);
Res_111805 = 0;
Res_111805 = 0;
while (1) {
if (!(Res_111805 <= HEX3Atmp_111803)) goto LA45;
I_111743 = Res_111805;
LOC46 = 0;
LOC46 = Getmodulefile_109013((*N_111396).KindU.S6.Sons->data[I_111743]);
Addmoddep_110029(W_111409, LOC46);
Res_111805 += 1;
} LA45: ;
Addstmt_110041(W_111409, N_111396);
break;
case ((NU8) 103):
LOC47 = 0;
LOC47 = Getmodulefile_109013((*N_111396).KindU.S6.Sons->data[0]);
Addmoddep_110029(W_111409, LOC47);
Addstmt_110041(W_111409, N_111396);
break;
case ((NU8) 104):
I_111775 = 0;
HEX3Atmp_111806 = 0;
LOC48 = Sonslen_54803(N_111396);
HEX3Atmp_111806 = (NI32)(LOC48 - 1);
Res_111808 = 0;
Res_111808 = 0;
while (1) {
if (!(Res_111808 <= HEX3Atmp_111806)) goto LA49;
I_111775 = Res_111808;
LOC50 = 0;
LOC50 = Getmodulefile_109013((*N_111396).KindU.S6.Sons->data[I_111775]);
Addincldep_110033(W_111409, LOC50);
Res_111808 += 1;
} LA49: ;
break;
case ((NU8) 81):
Addstmt_110041(W_111409, N_111396);
break;
default:
break;
}
BeforeRet: ;
return Result_111397;
}
N_NIMCALL(TY104006, Rodwritepass_110001)(void) {
TY104006 Result_111825;
memset((void*)&Result_111825, 0, sizeof(Result_111825));
Initpass_104031(&Result_111825);
if (!((Gglobaloptions_45078 &(1<<((((NU8) 15))&31)))!=0)) goto LA2;
Result_111825.Open = Myopen_111809;
Result_111825.Close = Myclose_111817;
Result_111825.Process = Process_111393;
LA2: ;
return Result_111825;
}
N_NOINLINE(void, rodwriteInit)(void) {
Intsetinit_54924(&Debugwritten_111079);
}

