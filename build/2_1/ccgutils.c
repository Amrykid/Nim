/* Generated by Nimrod Compiler v0.8.10 */
/*   (c) 2010 Andreas Rumpf */

typedef long int NI;
typedef unsigned long int NU;
#include "nimbase.h"

typedef struct TY55563 TY55563;
typedef struct TY55561 TY55561;
typedef struct TY55559 TY55559;
typedef struct TY54005 TY54005;
typedef struct TNimObject TNimObject;
typedef struct TGenericSeq TGenericSeq;
typedef struct TY55551 TY55551;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct TY55549 TY55549;
typedef struct TY55525 TY55525;
typedef struct TY55547 TY55547;
typedef struct TY55539 TY55539;
typedef struct TY52008 TY52008;
typedef struct NimStringDesc NimStringDesc;
typedef struct TY47532 TY47532;
typedef struct TY54011 TY54011;
typedef struct TY55519 TY55519;
typedef struct TY55529 TY55529;
typedef struct TY55527 TY55527;
typedef struct TY55543 TY55543;
typedef struct TY43013 TY43013;
struct TY55559 {
TY54005* Key;
TNimObject* Val;
};
struct TGenericSeq {
NI len;
NI space;
};
struct TY55563 {
NI Counter;
TY55561* Data;
};
typedef TY55563 TY157023[40];
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TNimObject {
TNimType* m_type;
};
struct TY54005 {
  TNimObject Sup;
NI Id;
};
struct TY55539 {
NU8 K;
NU8 S;
NU8 Flags;
TY55551* T;
TY52008* R;
NI A;
};
struct TY55551 {
  TY54005 Sup;
NU8 Kind;
TY55549* Sons;
TY55525* N;
NU8 Flags;
NU8 Callconv;
TY55547* Owner;
TY55547* Sym;
NI64 Size;
NI Align;
NI Containerid;
TY55539 Loc;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct TY47532 {
NI16 Line;
NI16 Col;
int Fileindex;
};
struct TY55525 {
TY55551* Typ;
NimStringDesc* Comment;
TY47532 Info;
NU8 Flags;
NU8 Kind;
union {
struct {NI64 Intval;
} S1;
struct {NF64 Floatval;
} S2;
struct {NimStringDesc* Strval;
} S3;
struct {TY55547* Sym;
} S4;
struct {TY54011* Ident;
} S5;
struct {TY55519* Sons;
} S6;
} KindU;
};
struct TY55529 {
TNimType* m_type;
NI Counter;
TY55527* Data;
};
struct TY55547 {
  TY54005 Sup;
NU8 Kind;
NU8 Magic;
TY55551* Typ;
TY54011* Name;
TY47532 Info;
TY55547* Owner;
NU32 Flags;
TY55529 Tab;
TY55525* Ast;
NU32 Options;
NI Position;
NI Offset;
TY55539 Loc;
TY55543* Annex;
};
struct TY52008 {
  TNimObject Sup;
TY52008* Left;
TY52008* Right;
NI Length;
NimStringDesc* Data;
};
struct TY54011 {
  TY54005 Sup;
NimStringDesc* S;
TY54011* Next;
NI H;
};
struct TY43013 {
  TNimObject Sup;
TY43013* Prev;
TY43013* Next;
};
struct TY55543 {
  TY43013 Sup;
NU8 Kind;
NIM_BOOL Generated;
TY52008* Name;
TY55525* Path;
};
struct TY55561 {
  TGenericSeq Sup;
  TY55559 data[SEQ_DECL_SIZE];
};
struct TY55549 {
  TGenericSeq Sup;
  TY55551* data[SEQ_DECL_SIZE];
};
struct TY55519 {
  TGenericSeq Sup;
  TY55525* data[SEQ_DECL_SIZE];
};
struct TY55527 {
  TGenericSeq Sup;
  TY55547* data[SEQ_DECL_SIZE];
};
N_NIMCALL(void, Inittypetables_157025)(void);
N_NIMCALL(void, Initidtable_55754)(TY55563* X_55757);
N_NIMCALL(TNimObject*, Idtableget_59166)(TY55563 T_59168, TY54005* Key_59169);
N_NIMCALL(void, Idtableput_59174)(TY55563* T_59177, TY54005* Key_59178, TNimObject* Val_59179);
N_NIMCALL(TY55551*, Getuniquetype_157020)(TY55551* Key_157022);
N_NIMCALL(TY55551*, Lastson_55812)(TY55551* N_55814);
N_NIMCALL(NIM_BOOL, Idtablehasobjectaskey_59180)(TY55563 T_59182, TY54005* Key_59183);
N_NIMCALL(NIM_BOOL, Sametype_96048)(TY55551* X_96050, TY55551* Y_96051);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* Src_18708);
N_NIMCALL(void, App_52031)(TY52008** A_52034, TY52008* B_52035);
N_NIMCALL(TY52008*, Torope_52046)(NimStringDesc* S_52048);
N_NIMCALL(NimStringDesc*, setLengthStr)(NimStringDesc* S_18825, NI Newlen_18826);
N_NIMCALL(NimStringDesc*, addChar)(NimStringDesc* S_1603, NIM_CHAR C_1604);
N_NIMCALL(NimStringDesc*, nsuToHex)(NI64 X_25450, NI Len_25451);
static N_INLINE(void, appendString)(NimStringDesc* Dest_18792, NimStringDesc* Src_18793);
N_NIMCALL(NimStringDesc*, resizeString)(NimStringDesc* Dest_18782, NI Addlen_18783);
N_NIMCALL(NimStringDesc*, Tocchar_157007)(NIM_CHAR C_157009);
static N_INLINE(void, appendChar)(NimStringDesc* Dest_18809, NIM_CHAR C_18810);
N_NIMCALL(NimStringDesc*, nsuToOctal)(NIM_CHAR C_25043);
N_NIMCALL(NimStringDesc*, rawNewString)(NI Space_18687);
N_NIMCALL(NimStringDesc*, nimCharToStr)(NIM_CHAR X_19528);
STRING_LITERAL(TMP197307, "c\"", 2);
STRING_LITERAL(TMP197308, "\\00\"", 4);
STRING_LITERAL(TMP197310, "\"", 1);
STRING_LITERAL(TMP197311, "\012", 1);
TY157023 Gtypetable_157024;
N_NIMCALL(void, Inittypetables_157025)(void) {
NU8 I_157056;
NU8 Res_157060;
I_157056 = 0;
Res_157060 = 0;
Res_157060 = ((NU8) 0);
while (1) {
if (!(Res_157060 <= ((NU8) 39))) goto LA1;
I_157056 = Res_157060;
Initidtable_55754(&Gtypetable_157024[(I_157056)-0]);
Res_157060 += 1;
} LA1: ;
}
N_NIMCALL(TY55551*, Getuniquetype_157020)(TY55551* Key_157022) {
TY55551* Result_157066;
TY55551* T_157067;
NU8 K_157068;
TNimObject* LOC4;
TY55551* LOC8;
NIM_BOOL LOC10;
NI H_157114;
NI HEX3Atmp_157128;
NI Res_157130;
NIM_BOOL LOC15;
Result_157066 = 0;
T_157067 = 0;
K_157068 = 0;
Result_157066 = Key_157022;
if (!(Key_157022 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
K_157068 = (*Key_157022).Kind;
switch (K_157068) {
case ((NU8) 17):
case ((NU8) 14):
LOC4 = 0;
LOC4 = Idtableget_59166(Gtypetable_157024[(K_157068)-0], &Key_157022->Sup);
Result_157066 = ((TY55551*) (LOC4));
if (!(Result_157066 == NIM_NIL)) goto LA6;
Idtableput_59174(&Gtypetable_157024[(K_157068)-0], &Key_157022->Sup, &Key_157022->Sup.Sup);
Result_157066 = Key_157022;
LA6: ;
break;
case ((NU8) 11):
case ((NU8) 13):
case ((NU8) 15):
LOC8 = 0;
LOC8 = Lastson_55812(Key_157022);
Result_157066 = Getuniquetype_157020(LOC8);
break;
case ((NU8) 25):
break;
default:
LOC10 = Idtablehasobjectaskey_59180(Gtypetable_157024[(K_157068)-0], &Key_157022->Sup);
if (!LOC10) goto LA11;
goto BeforeRet;
LA11: ;
H_157114 = 0;
HEX3Atmp_157128 = 0;
HEX3Atmp_157128 = (Gtypetable_157024[(K_157068)-0].Data->Sup.len-1);
Res_157130 = 0;
Res_157130 = 0;
while (1) {
if (!(Res_157130 <= HEX3Atmp_157128)) goto LA13;
H_157114 = Res_157130;
T_157067 = ((TY55551*) (Gtypetable_157024[(K_157068)-0].Data->data[H_157114].Key));
LOC15 = !((T_157067 == NIM_NIL));
if (!(LOC15)) goto LA16;
LOC15 = Sametype_96048(T_157067, Key_157022);
LA16: ;
if (!LOC15) goto LA17;
Result_157066 = T_157067;
goto BeforeRet;
LA17: ;
Res_157130 += 1;
} LA13: ;
Idtableput_59174(&Gtypetable_157024[(K_157068)-0], &Key_157022->Sup, &Key_157022->Sup.Sup);
break;
}
BeforeRet: ;
return Result_157066;
}
static N_INLINE(void, appendString)(NimStringDesc* Dest_18792, NimStringDesc* Src_18793) {
memcpy(((NCSTRING) (&(*Dest_18792).data[((*Dest_18792).Sup.len)-0])), ((NCSTRING) ((*Src_18793).data)), ((int) ((NI32)((NI32)((*Src_18793).Sup.len + 1) * 1))));
(*Dest_18792).Sup.len += (*Src_18793).Sup.len;
}
N_NIMCALL(TY52008*, Makellvmstring_157013)(NimStringDesc* S_157015) {
TY52008* Result_157224;
NimStringDesc* Res_157226;
NI I_157236;
NI HEX3Atmp_157247;
NI Res_157249;
TY52008* LOC5;
NimStringDesc* LOC6;
TY52008* LOC7;
Result_157224 = 0;
Res_157226 = 0;
Result_157224 = NIM_NIL;
Res_157226 = copyString(((NimStringDesc*) &TMP197307));
I_157236 = 0;
HEX3Atmp_157247 = 0;
HEX3Atmp_157247 = (NI32)((NI32)(S_157015->Sup.len + 0) - 1);
Res_157249 = 0;
Res_157249 = 0;
while (1) {
if (!(Res_157249 <= HEX3Atmp_157247)) goto LA1;
I_157236 = Res_157249;
if (!((NI32)((NI32)((NI32)(I_157236 - 0) + 1) % 64) == 0)) goto LA3;
LOC5 = 0;
LOC5 = Torope_52046(Res_157226);
App_52031(&Result_157224, LOC5);
Res_157226 = setLengthStr(Res_157226, 0);
LA3: ;
switch (((NU8)(S_157015->data[I_157236]))) {
case 0 ... 31:
case 128 ... 255:
case 34:
case 92:
Res_157226 = addChar(Res_157226, 92);
LOC6 = 0;
LOC6 = nsuToHex(((NI64) (((NU8)(S_157015->data[I_157236])))), 2);
Res_157226 = resizeString(Res_157226, LOC6->Sup.len + 0);
appendString(Res_157226, LOC6);
break;
default:
Res_157226 = addChar(Res_157226, S_157015->data[I_157236]);
break;
}
Res_157249 += 1;
} LA1: ;
Res_157226 = resizeString(Res_157226, 4);
appendString(Res_157226, ((NimStringDesc*) &TMP197308));
LOC7 = 0;
LOC7 = Torope_52046(Res_157226);
App_52031(&Result_157224, LOC7);
return Result_157224;
}
static N_INLINE(void, appendChar)(NimStringDesc* Dest_18809, NIM_CHAR C_18810) {
(*Dest_18809).data[((*Dest_18809).Sup.len)-0] = C_18810;
(*Dest_18809).data[((NI32)((*Dest_18809).Sup.len + 1))-0] = 0;
(*Dest_18809).Sup.len += 1;
}
N_NIMCALL(NimStringDesc*, Tocchar_157007)(NIM_CHAR C_157009) {
NimStringDesc* Result_157180;
NimStringDesc* LOC1;
NimStringDesc* LOC2;
NimStringDesc* LOC3;
Result_157180 = 0;
switch (((NU8)(C_157009))) {
case 0 ... 31:
case 128 ... 255:
LOC1 = 0;
LOC2 = 0;
LOC2 = nsuToOctal(C_157009);
LOC1 = rawNewString(LOC2->Sup.len + 1);
appendChar(LOC1, 92);
appendString(LOC1, LOC2);
Result_157180 = LOC1;
break;
case 39:
case 34:
case 92:
LOC3 = 0;
LOC3 = rawNewString(2);
appendChar(LOC3, 92);
appendChar(LOC3, C_157009);
Result_157180 = LOC3;
break;
default:
Result_157180 = nimCharToStr(C_157009);
break;
}
return Result_157180;
}
N_NIMCALL(TY52008*, Makecstring_157010)(NimStringDesc* S_157012) {
TY52008* Result_157198;
NimStringDesc* Res_157200;
NI I_157210;
NI HEX3Atmp_157216;
NI Res_157218;
TY52008* LOC5;
NimStringDesc* LOC6;
TY52008* LOC7;
Result_157198 = 0;
Res_157200 = 0;
Result_157198 = NIM_NIL;
Res_157200 = copyString(((NimStringDesc*) &TMP197310));
I_157210 = 0;
HEX3Atmp_157216 = 0;
HEX3Atmp_157216 = (NI32)((NI32)(S_157012->Sup.len + 0) - 1);
Res_157218 = 0;
Res_157218 = 0;
while (1) {
if (!(Res_157218 <= HEX3Atmp_157216)) goto LA1;
I_157210 = Res_157218;
if (!((NI32)((NI32)((NI32)(I_157210 - 0) + 1) % 64) == 0)) goto LA3;
Res_157200 = addChar(Res_157200, 34);
Res_157200 = resizeString(Res_157200, 1);
appendString(Res_157200, ((NimStringDesc*) &TMP197311));
LOC5 = 0;
LOC5 = Torope_52046(Res_157200);
App_52031(&Result_157198, LOC5);
Res_157200 = setLengthStr(Res_157200, 1);
Res_157200->data[0] = 34;
LA3: ;
LOC6 = 0;
LOC6 = Tocchar_157007(S_157012->data[I_157210]);
Res_157200 = resizeString(Res_157200, LOC6->Sup.len + 0);
appendString(Res_157200, LOC6);
Res_157218 += 1;
} LA1: ;
Res_157200 = addChar(Res_157200, 34);
LOC7 = 0;
LOC7 = Torope_52046(Res_157200);
App_52031(&Result_157198, LOC7);
return Result_157198;
}
N_NOINLINE(void, ccgutilsInit)(void) {
Inittypetables_157025();
}

