/* Generated by Nimrod Compiler v0.8.11 */
/*   (c) 2011 Andreas Rumpf */

typedef long int NI;
typedef unsigned long int NU;
#include "nimbase.h"

typedef struct TY104008 TY104008;
typedef struct TGenericSeq TGenericSeq;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
struct TGenericSeq {
NI len;
NI space;
};
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct TY104008 {
  TGenericSeq Sup;
  NI8 data[SEQ_DECL_SIZE];
};
N_NIMCALL(void*, newSeq)(TNimType* Typ_14404, NI Len_14405);
N_NIMCALL(void, unsureAsgnRef)(void** Dest_13226, void* Src_13227);
extern TNimType* NTI104008; /* TBitSet */
N_NIMCALL(void, Bitsetinit_104010)(TY104008** B_104013, NI Length_104014) {
unsureAsgnRef((void**) &(*B_104013), (TY104008*) newSeq(NTI104008, Length_104014));
}
N_NIMCALL(void, Bitsetincl_104035)(TY104008** X_104038, NI64 Elem_104039) {
(*X_104038)->data[(NI64)(Elem_104039 / 8)] = (NI8)((*X_104038)->data[(NI64)(Elem_104039 / 8)] | ((NI8)(NU8)(NU)(((NI) ((NI64)((NU64)(1) << (NU64)((NI64)(Elem_104039 % 8))))))));
}
N_NIMCALL(void, Bitsetunion_104015)(TY104008** X_104018, TY104008* Y_104019) {
NI I_104121;
NI HEX3Atmp_104122;
NI Res_104124;
I_104121 = 0;
HEX3Atmp_104122 = 0;
HEX3Atmp_104122 = ((*X_104018)->Sup.len-1);
Res_104124 = 0;
Res_104124 = 0;
while (1) {
if (!(Res_104124 <= HEX3Atmp_104122)) goto LA1;
I_104121 = Res_104124;
(*X_104018)->data[I_104121] = (NI8)((*X_104018)->data[I_104121] | Y_104019->data[I_104121]);
Res_104124 += 1;
} LA1: ;
}
N_NIMCALL(void, Bitsetdiff_104020)(TY104008** X_104023, TY104008* Y_104024) {
NI I_104138;
NI HEX3Atmp_104139;
NI Res_104141;
I_104138 = 0;
HEX3Atmp_104139 = 0;
HEX3Atmp_104139 = ((*X_104023)->Sup.len-1);
Res_104141 = 0;
Res_104141 = 0;
while (1) {
if (!(Res_104141 <= HEX3Atmp_104139)) goto LA1;
I_104138 = Res_104141;
(*X_104023)->data[I_104138] = (NI8)((*X_104023)->data[I_104138] & (NI8)((NU8) ~(Y_104024->data[I_104138])));
Res_104141 += 1;
} LA1: ;
}
N_NIMCALL(void, Bitsetsymdiff_104025)(TY104008** X_104028, TY104008* Y_104029) {
NI I_104155;
NI HEX3Atmp_104156;
NI Res_104158;
I_104155 = 0;
HEX3Atmp_104156 = 0;
HEX3Atmp_104156 = ((*X_104028)->Sup.len-1);
Res_104158 = 0;
Res_104158 = 0;
while (1) {
if (!(Res_104158 <= HEX3Atmp_104156)) goto LA1;
I_104155 = Res_104158;
(*X_104028)->data[I_104155] = (NI8)((*X_104028)->data[I_104155] ^ Y_104029->data[I_104155]);
Res_104158 += 1;
} LA1: ;
}
N_NIMCALL(void, Bitsetintersect_104030)(TY104008** X_104033, TY104008* Y_104034) {
NI I_104172;
NI HEX3Atmp_104173;
NI Res_104175;
I_104172 = 0;
HEX3Atmp_104173 = 0;
HEX3Atmp_104173 = ((*X_104033)->Sup.len-1);
Res_104175 = 0;
Res_104175 = 0;
while (1) {
if (!(Res_104175 <= HEX3Atmp_104173)) goto LA1;
I_104172 = Res_104175;
(*X_104033)->data[I_104172] = (NI8)((*X_104033)->data[I_104172] & Y_104034->data[I_104172]);
Res_104175 += 1;
} LA1: ;
}
N_NIMCALL(NIM_BOOL, Bitsetin_104045)(TY104008* X_104047, NI64 E_104048) {
NIM_BOOL Result_104061;
Result_104061 = 0;
Result_104061 = !(((NI8)(X_104047->data[(NI64)(E_104048 / 8)] & ((NI8)(NU8)(NU)(((NI) ((NI64)((NU64)(1) << (NU64)((NI64)(E_104048 % 8)))))))) == ((NI8) 0)));
return Result_104061;
}
N_NIMCALL(NIM_BOOL, Bitsetcontains_104053)(TY104008* X_104055, TY104008* Y_104056) {
NIM_BOOL Result_104199;
NI I_104208;
NI HEX3Atmp_104211;
NI Res_104213;
Result_104199 = 0;
I_104208 = 0;
HEX3Atmp_104211 = 0;
HEX3Atmp_104211 = (X_104055->Sup.len-1);
Res_104213 = 0;
Res_104213 = 0;
while (1) {
if (!(Res_104213 <= HEX3Atmp_104211)) goto LA1;
I_104208 = Res_104213;
if (!!(((NI8)(X_104055->data[I_104208] & (NI8)((NU8) ~(Y_104056->data[I_104208]))) == ((NI8) 0)))) goto LA3;
Result_104199 = NIM_FALSE;
goto BeforeRet;
LA3: ;
Res_104213 += 1;
} LA1: ;
Result_104199 = NIM_TRUE;
BeforeRet: ;
return Result_104199;
}
N_NIMCALL(NIM_BOOL, Bitsetequals_104049)(TY104008* X_104051, TY104008* Y_104052) {
NIM_BOOL Result_104180;
NI I_104189;
NI HEX3Atmp_104192;
NI Res_104194;
Result_104180 = 0;
I_104189 = 0;
HEX3Atmp_104192 = 0;
HEX3Atmp_104192 = (X_104051->Sup.len-1);
Res_104194 = 0;
Res_104194 = 0;
while (1) {
if (!(Res_104194 <= HEX3Atmp_104192)) goto LA1;
I_104189 = Res_104194;
if (!!((X_104051->data[I_104189] == Y_104052->data[I_104189]))) goto LA3;
Result_104180 = NIM_FALSE;
goto BeforeRet;
LA3: ;
Res_104194 += 1;
} LA1: ;
Result_104180 = NIM_TRUE;
BeforeRet: ;
return Result_104180;
}
N_NOINLINE(void, bitsetsInit)(void) {
}

