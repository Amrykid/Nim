/* Generated by Nimrod Compiler v0.8.11 */
/*   (c) 2011 Andreas Rumpf */

typedef long int NI;
typedef unsigned long int NU;
#include "nimbase.h"

typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
struct TGenericSeq {
NI len;
NI space;
};
typedef NIM_CHAR TY245[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY245 data;
};
N_NIMCALL(NI, Gethashstr_45031)(NimStringDesc* S_45033) {
NI Result_45130;
NI H_45131;
NI I_45157;
NI HEX3Atmp_45163;
NI Res_45165;
Result_45130 = 0;
H_45131 = 0;
H_45131 = 0;
I_45157 = 0;
HEX3Atmp_45163 = 0;
HEX3Atmp_45163 = S_45033->Sup.len;
Res_45165 = 0;
Res_45165 = 1;
while (1) {
if (!(Res_45165 <= HEX3Atmp_45163)) goto LA1;
I_45157 = Res_45165;
H_45131 = (NI32)((NU32)(H_45131) + (NU32)(((NU8)(S_45033->data[I_45157]))));
H_45131 = (NI32)((NU32)(H_45131) + (NU32)((NI32)((NU32)(H_45131) << (NU32)(10))));
H_45131 = (NI32)(H_45131 ^ (NI32)((NU32)(H_45131) >> (NU32)(6)));
Res_45165 += 1;
} LA1: ;
H_45131 = (NI32)((NU32)(H_45131) + (NU32)((NI32)((NU32)(H_45131) << (NU32)(3))));
H_45131 = (NI32)(H_45131 ^ (NI32)((NU32)(H_45131) >> (NU32)(11)));
H_45131 = (NI32)((NU32)(H_45131) + (NU32)((NI32)((NU32)(H_45131) << (NU32)(15))));
Result_45130 = ((NI) (H_45131));
return Result_45130;
}
N_NIMCALL(NI, Gethashstrci_45034)(NimStringDesc* S_45036) {
NI Result_45224;
NI H_45225;
NIM_CHAR C_45226;
NI I_45237;
NI HEX3Atmp_45270;
NI Res_45272;
Result_45224 = 0;
H_45225 = 0;
C_45226 = 0;
H_45225 = 0;
I_45237 = 0;
HEX3Atmp_45270 = 0;
HEX3Atmp_45270 = (NI32)((NI32)(S_45036->Sup.len + 0) - 1);
Res_45272 = 0;
Res_45272 = 0;
while (1) {
if (!(Res_45272 <= HEX3Atmp_45270)) goto LA1;
I_45237 = Res_45272;
C_45226 = S_45036->data[I_45237];
if (!(((NU8)(C_45226)) >= ((NU8)(65)) && ((NU8)(C_45226)) <= ((NU8)(90)))) goto LA3;
C_45226 = ((NIM_CHAR) (((NI) ((NI32)(((NU8)(C_45226)) + 32)))));
LA3: ;
H_45225 = (NI32)((NU32)(H_45225) + (NU32)(((NU8)(C_45226))));
H_45225 = (NI32)((NU32)(H_45225) + (NU32)((NI32)((NU32)(H_45225) << (NU32)(10))));
H_45225 = (NI32)(H_45225 ^ (NI32)((NU32)(H_45225) >> (NU32)(6)));
Res_45272 += 1;
} LA1: ;
H_45225 = (NI32)((NU32)(H_45225) + (NU32)((NI32)((NU32)(H_45225) << (NU32)(3))));
H_45225 = (NI32)(H_45225 ^ (NI32)((NU32)(H_45225) >> (NU32)(11)));
H_45225 = (NI32)((NU32)(H_45225) + (NU32)((NI32)((NU32)(H_45225) << (NU32)(15))));
Result_45224 = ((NI) (H_45225));
return Result_45224;
}
N_NIMCALL(NI, Getnormalizedhash_45037)(NimStringDesc* S_45039) {
NI Result_45169;
NI H_45170;
NIM_CHAR C_45171;
NI I_45182;
NI HEX3Atmp_45218;
NI Res_45220;
Result_45169 = 0;
H_45170 = 0;
C_45171 = 0;
H_45170 = 0;
I_45182 = 0;
HEX3Atmp_45218 = 0;
HEX3Atmp_45218 = (NI32)((NI32)(S_45039->Sup.len + 0) - 1);
Res_45220 = 0;
Res_45220 = 0;
while (1) {
if (!(Res_45220 <= HEX3Atmp_45218)) goto LA1;
I_45182 = Res_45220;
C_45171 = S_45039->data[I_45182];
if (!((NU8)(C_45171) == (NU8)(95))) goto LA4;
goto LA2;
LA4: ;
if (!(((NU8)(C_45171)) >= ((NU8)(65)) && ((NU8)(C_45171)) <= ((NU8)(90)))) goto LA7;
C_45171 = ((NIM_CHAR) (((NI) ((NI32)(((NU8)(C_45171)) + 32)))));
LA7: ;
H_45170 = (NI32)((NU32)(H_45170) + (NU32)(((NU8)(C_45171))));
H_45170 = (NI32)((NU32)(H_45170) + (NU32)((NI32)((NU32)(H_45170) << (NU32)(10))));
H_45170 = (NI32)(H_45170 ^ (NI32)((NU32)(H_45170) >> (NU32)(6)));
LA2: ;
Res_45220 += 1;
} LA1: ;
H_45170 = (NI32)((NU32)(H_45170) + (NU32)((NI32)((NU32)(H_45170) << (NU32)(3))));
H_45170 = (NI32)(H_45170 ^ (NI32)((NU32)(H_45170) >> (NU32)(11)));
H_45170 = (NI32)((NU32)(H_45170) + (NU32)((NI32)((NU32)(H_45170) << (NU32)(15))));
Result_45169 = ((NI) (H_45170));
return Result_45169;
}
N_NIMCALL(NI, Conchash_45040)(NI H_45042, NI Val_45043) {
NI Result_45051;
Result_45051 = 0;
Result_45051 = (NI32)((NU32)(H_45042) + (NU32)(Val_45043));
Result_45051 = (NI32)((NU32)(Result_45051) + (NU32)((NI32)((NU32)(Result_45051) << (NU32)(10))));
Result_45051 = (NI32)(Result_45051 ^ (NI32)((NU32)(Result_45051) >> (NU32)(6)));
return Result_45051;
}
N_NOINLINE(void, nhashesInit)(void) {
}

