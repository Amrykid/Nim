/* Generated by Nimrod Compiler v0.8.10 */
/*   (c) 2010 Andreas Rumpf */

typedef long int NI;
typedef unsigned long int NU;
#include "nimbase.h"

typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
struct TGenericSeq {
NI len;
NI space;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
N_NIMCALL(NI, Gethashstr_44031)(NimStringDesc* S_44033) {
NI Result_44130;
NI H_44131;
NI I_44156;
NI HEX3Atmp_44163;
NI Res_44165;
Result_44130 = 0;
H_44131 = 0;
H_44131 = 0;
I_44156 = 0;
HEX3Atmp_44163 = 0;
HEX3Atmp_44163 = S_44033->Sup.len;
Res_44165 = 0;
Res_44165 = 1;
while (1) {
if (!(Res_44165 <= HEX3Atmp_44163)) goto LA1;
I_44156 = Res_44165;
H_44131 = (NI32)((NU32)(H_44131) + (NU32)(((NU8)(S_44033->data[I_44156]))));
H_44131 = (NI32)((NU32)(H_44131) + (NU32)((NI32)((NU32)(H_44131) << (NU32)(10))));
H_44131 = (NI32)(H_44131 ^ (NI32)((NU32)(H_44131) >> (NU32)(6)));
Res_44165 += 1;
} LA1: ;
H_44131 = (NI32)((NU32)(H_44131) + (NU32)((NI32)((NU32)(H_44131) << (NU32)(3))));
H_44131 = (NI32)(H_44131 ^ (NI32)((NU32)(H_44131) >> (NU32)(11)));
H_44131 = (NI32)((NU32)(H_44131) + (NU32)((NI32)((NU32)(H_44131) << (NU32)(15))));
Result_44130 = ((NI) (H_44131));
return Result_44130;
}
N_NIMCALL(NI, Gethashstrci_44034)(NimStringDesc* S_44036) {
NI Result_44227;
NI H_44228;
NIM_CHAR C_44229;
NI I_44239;
NI HEX3Atmp_44273;
NI Res_44275;
Result_44227 = 0;
H_44228 = 0;
C_44229 = 0;
H_44228 = 0;
I_44239 = 0;
HEX3Atmp_44273 = 0;
HEX3Atmp_44273 = (NI32)((NI32)(S_44036->Sup.len + 0) - 1);
Res_44275 = 0;
Res_44275 = 0;
while (1) {
if (!(Res_44275 <= HEX3Atmp_44273)) goto LA1;
I_44239 = Res_44275;
C_44229 = S_44036->data[I_44239];
if (!(((NU8)(C_44229)) >= ((NU8)(65)) && ((NU8)(C_44229)) <= ((NU8)(90)))) goto LA3;
C_44229 = ((NIM_CHAR) (((NI) ((NI32)(((NU8)(C_44229)) + 32)))));
LA3: ;
H_44228 = (NI32)((NU32)(H_44228) + (NU32)(((NU8)(C_44229))));
H_44228 = (NI32)((NU32)(H_44228) + (NU32)((NI32)((NU32)(H_44228) << (NU32)(10))));
H_44228 = (NI32)(H_44228 ^ (NI32)((NU32)(H_44228) >> (NU32)(6)));
Res_44275 += 1;
} LA1: ;
H_44228 = (NI32)((NU32)(H_44228) + (NU32)((NI32)((NU32)(H_44228) << (NU32)(3))));
H_44228 = (NI32)(H_44228 ^ (NI32)((NU32)(H_44228) >> (NU32)(11)));
H_44228 = (NI32)((NU32)(H_44228) + (NU32)((NI32)((NU32)(H_44228) << (NU32)(15))));
Result_44227 = ((NI) (H_44228));
return Result_44227;
}
N_NIMCALL(NI, Getnormalizedhash_44037)(NimStringDesc* S_44039) {
NI Result_44171;
NI H_44172;
NIM_CHAR C_44173;
NI I_44183;
NI HEX3Atmp_44219;
NI Res_44221;
Result_44171 = 0;
H_44172 = 0;
C_44173 = 0;
H_44172 = 0;
I_44183 = 0;
HEX3Atmp_44219 = 0;
HEX3Atmp_44219 = (NI32)((NI32)(S_44039->Sup.len + 0) - 1);
Res_44221 = 0;
Res_44221 = 0;
while (1) {
if (!(Res_44221 <= HEX3Atmp_44219)) goto LA1;
I_44183 = Res_44221;
C_44173 = S_44039->data[I_44183];
if (!((NU8)(C_44173) == (NU8)(95))) goto LA4;
goto LA2;
LA4: ;
if (!(((NU8)(C_44173)) >= ((NU8)(65)) && ((NU8)(C_44173)) <= ((NU8)(90)))) goto LA7;
C_44173 = ((NIM_CHAR) (((NI) ((NI32)(((NU8)(C_44173)) + 32)))));
LA7: ;
H_44172 = (NI32)((NU32)(H_44172) + (NU32)(((NU8)(C_44173))));
H_44172 = (NI32)((NU32)(H_44172) + (NU32)((NI32)((NU32)(H_44172) << (NU32)(10))));
H_44172 = (NI32)(H_44172 ^ (NI32)((NU32)(H_44172) >> (NU32)(6)));
LA2: ;
Res_44221 += 1;
} LA1: ;
H_44172 = (NI32)((NU32)(H_44172) + (NU32)((NI32)((NU32)(H_44172) << (NU32)(3))));
H_44172 = (NI32)(H_44172 ^ (NI32)((NU32)(H_44172) >> (NU32)(11)));
H_44172 = (NI32)((NU32)(H_44172) + (NU32)((NI32)((NU32)(H_44172) << (NU32)(15))));
Result_44171 = ((NI) (H_44172));
return Result_44171;
}
N_NIMCALL(NI, Conchash_44040)(NI H_44042, NI Val_44043) {
NI Result_44051;
Result_44051 = 0;
Result_44051 = (NI32)((NU32)(H_44042) + (NU32)(Val_44043));
Result_44051 = (NI32)((NU32)(Result_44051) + (NU32)((NI32)((NU32)(Result_44051) << (NU32)(10))));
Result_44051 = (NI32)(Result_44051 ^ (NI32)((NU32)(Result_44051) >> (NU32)(6)));
return Result_44051;
}
N_NOINLINE(void, nhashesInit)(void) {
}

