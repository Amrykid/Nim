/* Generated by Nimrod Compiler v0.8.9 */
/*   (c) 2010 Andreas Rumpf */

typedef long int NI;
typedef unsigned long int NU;
#include "nimbase.h"

typedef struct TY155165 TY155165;
typedef struct TY53525 TY53525;
typedef struct TY53545 TY53545;
typedef struct TGenericSeq TGenericSeq;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct TY10402 TY10402;
typedef struct TY10418 TY10418;
typedef struct TY10790 TY10790;
typedef struct TY10414 TY10414;
typedef struct TY10410 TY10410;
typedef struct TY10788 TY10788;
typedef struct TY53549 TY53549;
typedef struct TY52005 TY52005;
typedef struct TNimObject TNimObject;
typedef struct TY52011 TY52011;
typedef struct TY45532 TY45532;
typedef struct TY53527 TY53527;
typedef struct TY53523 TY53523;
typedef struct TY53537 TY53537;
typedef struct TY50008 TY50008;
typedef struct TY53541 TY53541;
typedef struct NimStringDesc NimStringDesc;
typedef struct TY53547 TY53547;
typedef struct TY53517 TY53517;
typedef struct TY53898 TY53898;
typedef struct TY53894 TY53894;
typedef struct TY53896 TY53896;
typedef struct TY41013 TY41013;
struct TGenericSeq {
NI len;
NI space;
};
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct TY10402 {
NI Refcount;
TNimType* Typ;
};
struct TY10418 {
NI Len;
NI Cap;
TY10402** D;
};
struct TY10414 {
NI Counter;
NI Max;
TY10410* Head;
TY10410** Data;
};
struct TY10788 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY10790 {
TY10418 Zct;
TY10418 Decstack;
TY10414 Cycleroots;
TY10418 Tempstack;
TY10788 Stat;
};
struct TNimObject {
TNimType* m_type;
};
struct TY52005 {
  TNimObject Sup;
NI Id;
};
struct TY45532 {
NI16 Line;
NI16 Col;
int Fileindex;
};
struct TY53527 {
TNimType* m_type;
NI Counter;
TY53525* Data;
};
struct TY53537 {
NU8 K;
NU8 S;
NU8 Flags;
TY53549* T;
TY50008* R;
NI A;
};
struct TY53545 {
  TY52005 Sup;
NU8 Kind;
NU8 Magic;
TY53549* Typ;
TY52011* Name;
TY45532 Info;
TY53545* Owner;
NU32 Flags;
TY53527 Tab;
TY53523* Ast;
NU32 Options;
NI Position;
NI Offset;
TY53537 Loc;
TY53541* Annex;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
struct TY52011 {
  TY52005 Sup;
NimStringDesc* S;
TY52011* Next;
NI H;
};
struct TY53549 {
  TY52005 Sup;
NU8 Kind;
TY53547* Sons;
TY53523* N;
NU8 Flags;
NU8 Callconv;
TY53545* Owner;
TY53545* Sym;
NI64 Size;
NI Align;
NI Containerid;
TY53537 Loc;
};
typedef TY53545* TY155294[1];
struct TY53523 {
TY53549* Typ;
NimStringDesc* Comment;
TY45532 Info;
NU8 Flags;
NU8 Kind;
union {
struct {NI64 Intval;
} S1;
struct {NF64 Floatval;
} S2;
struct {NimStringDesc* Strval;
} S3;
struct {TY53545* Sym;
} S4;
struct {TY52011* Ident;
} S5;
struct {TY53517* Sons;
} S6;
} KindU;
};
struct TY53898 {
NI Counter;
NI Max;
TY53894* Head;
TY53896* Data;
};
typedef NI TY8414[16];
struct TY10410 {
TY10410* Next;
NI Key;
TY8414 Bits;
};
struct TY50008 {
  TNimObject Sup;
TY50008* Left;
TY50008* Right;
NI Length;
NimStringDesc* Data;
};
struct TY41013 {
  TNimObject Sup;
TY41013* Prev;
TY41013* Next;
};
struct TY53541 {
  TY41013 Sup;
NU8 Kind;
NIM_BOOL Generated;
TY50008* Name;
TY53523* Path;
};
struct TY53894 {
TY53894* Next;
NI Key;
TY8414 Bits;
};
struct TY53525 {
  TGenericSeq Sup;
  TY53545* data[SEQ_DECL_SIZE];
};
struct TY155165 {
  TGenericSeq Sup;
  TY53525* data[SEQ_DECL_SIZE];
};
struct TY53547 {
  TGenericSeq Sup;
  TY53549* data[SEQ_DECL_SIZE];
};
struct TY53517 {
  TGenericSeq Sup;
  TY53523* data[SEQ_DECL_SIZE];
};
struct TY53896 {
  TGenericSeq Sup;
  TY53894* data[SEQ_DECL_SIZE];
};
N_NIMCALL(void*, newSeq)(TNimType* Typ_12603, NI Len_12604);
static N_INLINE(void, asgnRefNoCycle)(void** Dest_11616, void* Src_11617);
static N_INLINE(TY10402*, Usrtocell_10822)(void* Usr_10824);
static N_INLINE(void, Rtladdzct_11456)(TY10402* C_11458);
N_NOINLINE(void, Addzct_10811)(TY10418* S_10814, TY10402* C_10815);
N_NIMCALL(NIM_BOOL, Samemethodbucket_155167)(TY53545* A_155169, TY53545* B_155170);
N_NIMCALL(NI, Sonslen_53804)(TY53549* N_53806);
N_NIMCALL(NIM_BOOL, Sametypeornil_93052)(TY53549* A_93054, TY53549* B_93055);
N_NIMCALL(TY53549*, Skiptypes_93085)(TY53549* T_93087, NU64 Kinds_93088);
N_NIMCALL(NIM_BOOL, Sametype_93048)(TY53549* X_93050, TY53549* Y_93051);
N_NIMCALL(NI, Inheritancediff_93119)(TY53549* A_93121, TY53549* B_93122);
N_NIMCALL(TGenericSeq*, incrSeq)(TGenericSeq* Seq_17235, NI Elemsize_17236);
static N_INLINE(void, asgnRef)(void** Dest_11612, void* Src_11613);
static N_INLINE(void, Incref_11601)(TY10402* C_11603);
static N_INLINE(NIM_BOOL, Canbecycleroot_10826)(TY10402* C_10828);
static N_INLINE(void, Rtladdcycleroot_11452)(TY10402* C_11454);
N_NOINLINE(void, Incl_10674)(TY10414* S_10677, TY10402* Cell_10678);
static N_INLINE(void, Decref_11460)(TY10402* C_11462);
N_NIMCALL(void, Addson_53821)(TY53523* Father_53823, TY53523* Son_53824);
N_NIMCALL(TY53523*, Lastson_53807)(TY53523* N_53809);
N_NIMCALL(void, genericSeqAssign)(void* Dest_18039, void* Src_18040, TNimType* Mt_18041);
N_NIMCALL(TY53545*, Copysym_53773)(TY53545* S_53775, NIM_BOOL Keepid_53776);
N_NIMCALL(TY53549*, Copytype_53768)(TY53549* T_53770, TY53545* Owner_53771, NIM_BOOL Keepid_53772);
N_NIMCALL(TY53523*, Copytree_53856)(TY53523* Src_53858);
N_NIMCALL(TY53523*, Newsymnode_53732)(TY53545* Sym_53734);
N_NIMCALL(NI, Sonslen_53801)(TY53523* N_53803);
N_NIMCALL(TY53523*, Genconv_155014)(TY53523* N_155016, TY53549* D_155017, NIM_BOOL Downcast_155018);
N_NIMCALL(void, Internalerror_45567)(TY45532 Info_45569, NimStringDesc* Errmsg_45570);
N_NIMCALL(TY53523*, Newnodeit_53739)(NU8 Kind_53741, TY45532 Info_53742, TY53549* Typ_53743);
N_NIMCALL(TY53523*, Newnode_53708)(NU8 Kind_53710);
N_NIMCALL(void, Intsetinit_53922)(TY53898* S_53925);
N_NIMCALL(NIM_BOOL, Relevantcol_155400)(TY53525* Methods_155402, NI Col_155403);
N_NIMCALL(void, Intsetincl_53912)(TY53898* S_53915, NI Key_53916);
N_NIMCALL(void, Sortbucket_155454)(TY53525** A_155457, TY53898 Relevantcols_155458);
N_NIMCALL(NI, Cmpsignatures_155429)(TY53545* A_155431, TY53545* B_155432, TY53898 Relevantcols_155433);
N_NIMCALL(NIM_BOOL, Intsetcontains_53908)(TY53898 S_53910, NI Key_53911);
N_NIMCALL(TY53545*, Gendispatcher_155502)(TY53525* Methods_155504, TY53898 Relevantcols_155505);
N_NIMCALL(TY53523*, Newnodei_53735)(NU8 Kind_53737, TY45532 Info_53738);
N_NIMCALL(TY53545*, Getsyssym_98024)(NimStringDesc* Name_98026);
N_NIMCALL(TY53549*, Getsystype_98008)(NU8 Kind_98010);
NIM_CONST NU64 Skipptrs_155012 = 14682112;
STRING_LITERAL(TMP194228, "cgmeth.genConv", 14);
STRING_LITERAL(TMP194229, "cgmeth.genConv: no upcast allowed", 33);
STRING_LITERAL(TMP194230, "cgmeth.genConv: no downcast allowed", 35);
STRING_LITERAL(TMP194764, "and", 3);
STRING_LITERAL(TMP194765, "is", 2);
TY155165* Gmethods_155166;
extern TNimType* NTI155165; /* seq[TSymSeq] */
extern TY10790 Gch_10808;
extern TNimType* NTI53525; /* TSymSeq */
static N_INLINE(TY10402*, Usrtocell_10822)(void* Usr_10824) {
TY10402* Result_10825;
Result_10825 = 0;
Result_10825 = ((TY10402*) ((NI32)((NU32)(((NI) (Usr_10824))) - (NU32)(((NI) (((NI)sizeof(TY10402))))))));
return Result_10825;
}
static N_INLINE(void, Rtladdzct_11456)(TY10402* C_11458) {
Addzct_10811(&Gch_10808.Zct, C_11458);
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_11616, void* Src_11617) {
TY10402* C_11618;
TY10402* C_11619;
if (!!((Src_11617 == NIM_NIL))) goto LA2;
C_11618 = 0;
C_11618 = Usrtocell_10822(Src_11617);
(*C_11618).Refcount = (NI32)((NU32)((*C_11618).Refcount) + (NU32)(8));
LA2: ;
if (!!(((*Dest_11616) == NIM_NIL))) goto LA5;
C_11619 = 0;
C_11619 = Usrtocell_10822((*Dest_11616));
(*C_11619).Refcount = (NI32)((NU32)((*C_11619).Refcount) - (NU32)(8));
if (!((NU32)((*C_11619).Refcount) < (NU32)(8))) goto LA8;
Rtladdzct_11456(C_11619);
LA8: ;
LA5: ;
(*Dest_11616) = Src_11617;
}
N_NIMCALL(NIM_BOOL, Samemethodbucket_155167)(TY53545* A_155169, TY53545* B_155170) {
NIM_BOOL Result_155171;
TY53549* Aa_155172;
TY53549* Bb_155173;
NI LOC5;
NI LOC6;
NIM_BOOL LOC10;
NI I_155185;
NI HEX3Atmp_155231;
NI LOC13;
NI Res_155233;
NIM_BOOL LOC17;
NIM_BOOL LOC22;
NIM_BOOL LOC24;
NIM_BOOL LOC25;
NI LOC28;
Result_155171 = 0;
Aa_155172 = 0;
Bb_155173 = 0;
Result_155171 = NIM_FALSE;
if (!!(((*(*A_155169).Name).Sup.Id == (*(*B_155170).Name).Sup.Id))) goto LA2;
goto BeforeRet;
LA2: ;
LOC5 = Sonslen_53804((*A_155169).Typ);
LOC6 = Sonslen_53804((*B_155170).Typ);
if (!!((LOC5 == LOC6))) goto LA7;
goto BeforeRet;
LA7: ;
LOC10 = Sametypeornil_93052((*(*A_155169).Typ).Sons->data[0], (*(*B_155170).Typ).Sons->data[0]);
if (!!(LOC10)) goto LA11;
goto BeforeRet;
LA11: ;
I_155185 = 0;
HEX3Atmp_155231 = 0;
LOC13 = Sonslen_53804((*A_155169).Typ);
HEX3Atmp_155231 = (NI32)(LOC13 - 1);
Res_155233 = 0;
Res_155233 = 1;
while (1) {
if (!(Res_155233 <= HEX3Atmp_155231)) goto LA14;
I_155185 = Res_155233;
Aa_155172 = (*(*A_155169).Typ).Sons->data[I_155185];
Bb_155173 = (*(*B_155170).Typ).Sons->data[I_155185];
while (1) {
Aa_155172 = Skiptypes_93085(Aa_155172, 2048);
Bb_155173 = Skiptypes_93085(Bb_155173, 2048);
LOC17 = ((*Aa_155172).Kind == (*Bb_155173).Kind);
if (!(LOC17)) goto LA18;
LOC17 = ((*Aa_155172).Kind == ((NU8) 23) || (*Aa_155172).Kind == ((NU8) 21) || (*Aa_155172).Kind == ((NU8) 22));
LA18: ;
if (!LOC17) goto LA19;
Aa_155172 = (*Aa_155172).Sons->data[0];
Bb_155173 = (*Bb_155173).Sons->data[0];
goto LA16;
LA19: ;
goto LA15;
LA16: ;
} LA15: ;
LOC22 = Sametype_93048(Aa_155172, Bb_155173);
if (LOC22) goto LA23;
LOC25 = ((*Aa_155172).Kind == ((NU8) 17));
if (!(LOC25)) goto LA26;
LOC25 = ((*Bb_155173).Kind == ((NU8) 17));
LA26: ;
LOC24 = LOC25;
if (!(LOC24)) goto LA27;
LOC28 = Inheritancediff_93119(Bb_155173, Aa_155172);
LOC24 = (LOC28 < 0);
LA27: ;
LOC22 = LOC24;
LA23: ;
if (!LOC22) goto LA29;
goto LA21;
LA29: ;
goto BeforeRet;
LA21: ;
Res_155233 += 1;
} LA14: ;
Result_155171 = NIM_TRUE;
BeforeRet: ;
return Result_155171;
}
static N_INLINE(NIM_BOOL, Canbecycleroot_10826)(TY10402* C_10828) {
NIM_BOOL Result_10829;
Result_10829 = 0;
Result_10829 = !((((*(*C_10828).Typ).flags &(1<<((((NU8) 1))&7)))!=0));
return Result_10829;
}
static N_INLINE(void, Rtladdcycleroot_11452)(TY10402* C_11454) {
Incl_10674(&Gch_10808.Cycleroots, C_11454);
}
static N_INLINE(void, Incref_11601)(TY10402* C_11603) {
NIM_BOOL LOC2;
(*C_11603).Refcount = (NI32)((NU32)((*C_11603).Refcount) + (NU32)(8));
LOC2 = Canbecycleroot_10826(C_11603);
if (!LOC2) goto LA3;
Rtladdcycleroot_11452(C_11603);
LA3: ;
}
static N_INLINE(void, Decref_11460)(TY10402* C_11462) {
NIM_BOOL LOC4;
(*C_11462).Refcount = (NI32)((NU32)((*C_11462).Refcount) - (NU32)(8));
if (!((NU32)((*C_11462).Refcount) < (NU32)(8))) goto LA2;
Rtladdzct_11456(C_11462);
goto LA1;
LA2: ;
LOC4 = Canbecycleroot_10826(C_11462);
if (!LOC4) goto LA5;
Rtladdcycleroot_11452(C_11462);
goto LA1;
LA5: ;
LA1: ;
}
static N_INLINE(void, asgnRef)(void** Dest_11612, void* Src_11613) {
TY10402* LOC4;
TY10402* LOC8;
if (!!((Src_11613 == NIM_NIL))) goto LA2;
LOC4 = Usrtocell_10822(Src_11613);
Incref_11601(LOC4);
LA2: ;
if (!!(((*Dest_11612) == NIM_NIL))) goto LA6;
LOC8 = Usrtocell_10822((*Dest_11612));
Decref_11460(LOC8);
LA6: ;
(*Dest_11612) = Src_11613;
}
N_NIMCALL(void, Methoddef_155004)(TY53545* S_155006) {
NI L_155243;
NI Q_155244;
TY53545* Disp_155245;
NI I_155263;
NI HEX3Atmp_155395;
NI Res_155397;
NIM_BOOL LOC3;
TY53523* LOC6;
TY53525* LOC7;
TY155294 LOC8;
TY53523* LOC15;
L_155243 = 0;
Q_155244 = 0;
Disp_155245 = 0;
L_155243 = Gmethods_155166->Sup.len;
I_155263 = 0;
HEX3Atmp_155395 = 0;
HEX3Atmp_155395 = (NI32)(L_155243 - 1);
Res_155397 = 0;
Res_155397 = 0;
while (1) {
if (!(Res_155397 <= HEX3Atmp_155395)) goto LA1;
I_155263 = Res_155397;
LOC3 = Samemethodbucket_155167(Gmethods_155166->data[I_155263]->data[0], S_155006);
if (!LOC3) goto LA4;
Gmethods_155166->data[I_155263] = (TY53525*) incrSeq(&(Gmethods_155166->data[I_155263])->Sup, sizeof(TY53545*));
asgnRef((void**) &Gmethods_155166->data[I_155263]->data[Gmethods_155166->data[I_155263]->Sup.len-1], S_155006);
LOC6 = Lastson_53807((*Gmethods_155166->data[I_155263]->data[0]).Ast);
Addson_53821((*S_155006).Ast, LOC6);
goto BeforeRet;
LA4: ;
Res_155397 += 1;
} LA1: ;
LOC7 = (TY53525*) newSeq(NTI53525, 1);
LOC8[0] = S_155006;
asgnRef((void**) &LOC7->data[0], LOC8[0]);
Gmethods_155166 = (TY155165*) incrSeq(&(Gmethods_155166)->Sup, sizeof(TY53525*));
genericSeqAssign(&Gmethods_155166->data[Gmethods_155166->Sup.len-1], LOC7, NTI53525);
Disp_155245 = Copysym_53773(S_155006, NIM_FALSE);
asgnRef((void**) &(*Disp_155245).Typ, Copytype_53768((*Disp_155245).Typ, (*(*Disp_155245).Typ).Owner, NIM_FALSE));
if (!((*(*Disp_155245).Typ).Callconv == ((NU8) 5))) goto LA10;
(*(*Disp_155245).Typ).Callconv = ((NU8) 0);
LA10: ;
asgnRefNoCycle((void**) &(*Disp_155245).Ast, Copytree_53856((*S_155006).Ast));
asgnRefNoCycle((void**) &(*(*Disp_155245).Ast).KindU.S6.Sons->data[4], NIM_NIL);
if (!!(((*(*S_155006).Typ).Sons->data[0] == NIM_NIL))) goto LA13;
asgnRef((void**) &(*(*(*Disp_155245).Ast).KindU.S6.Sons->data[5]).KindU.S4.Sym, Copysym_53773((*(*(*S_155006).Ast).KindU.S6.Sons->data[5]).KindU.S4.Sym, NIM_FALSE));
LA13: ;
LOC15 = Newsymnode_53732(Disp_155245);
Addson_53821((*S_155006).Ast, LOC15);
BeforeRet: ;
}
N_NIMCALL(TY53523*, Genconv_155014)(TY53523* N_155016, TY53549* D_155017, NIM_BOOL Downcast_155018) {
TY53523* Result_155019;
TY53549* Dest_155020;
TY53549* Source_155021;
NI Diff_155022;
NIM_BOOL LOC2;
Result_155019 = 0;
Dest_155020 = 0;
Source_155021 = 0;
Diff_155022 = 0;
Dest_155020 = Skiptypes_93085(D_155017, 14723072);
Source_155021 = Skiptypes_93085((*N_155016).Typ, 14723072);
LOC2 = ((*Source_155021).Kind == ((NU8) 17));
if (!(LOC2)) goto LA3;
LOC2 = ((*Dest_155020).Kind == ((NU8) 17));
LA3: ;
if (!LOC2) goto LA4;
Diff_155022 = Inheritancediff_93119(Dest_155020, Source_155021);
if (!(Diff_155022 == 2147483647)) goto LA7;
Internalerror_45567((*N_155016).Info, ((NimStringDesc*) &TMP194228));
LA7: ;
if (!(Diff_155022 < 0)) goto LA10;
Result_155019 = Newnodeit_53739(((NU8) 56), (*N_155016).Info, D_155017);
Addson_53821(Result_155019, N_155016);
if (!Downcast_155018) goto LA13;
Internalerror_45567((*N_155016).Info, ((NimStringDesc*) &TMP194229));
LA13: ;
goto LA9;
LA10: ;
if (!(0 < Diff_155022)) goto LA15;
Result_155019 = Newnodeit_53739(((NU8) 55), (*N_155016).Info, D_155017);
Addson_53821(Result_155019, N_155016);
if (!!(Downcast_155018)) goto LA18;
Internalerror_45567((*N_155016).Info, ((NimStringDesc*) &TMP194230));
LA18: ;
goto LA9;
LA15: ;
Result_155019 = N_155016;
LA9: ;
goto LA1;
LA4: ;
Result_155019 = N_155016;
LA1: ;
return Result_155019;
}
N_NIMCALL(TY53523*, Methodcall_155007)(TY53523* N_155009) {
TY53523* Result_155050;
TY53545* Disp_155051;
TY53523* LOC1;
NI I_155134;
NI HEX3Atmp_155160;
NI LOC2;
NI Res_155162;
Result_155050 = 0;
Disp_155051 = 0;
Result_155050 = N_155009;
LOC1 = Lastson_53807((*(*(*Result_155050).KindU.S6.Sons->data[0]).KindU.S4.Sym).Ast);
Disp_155051 = (*LOC1).KindU.S4.Sym;
asgnRef((void**) &(*(*Result_155050).KindU.S6.Sons->data[0]).KindU.S4.Sym, Disp_155051);
I_155134 = 0;
HEX3Atmp_155160 = 0;
LOC2 = Sonslen_53801(Result_155050);
HEX3Atmp_155160 = (NI32)(LOC2 - 1);
Res_155162 = 0;
Res_155162 = 1;
while (1) {
if (!(Res_155162 <= HEX3Atmp_155160)) goto LA3;
I_155134 = Res_155162;
asgnRefNoCycle((void**) &(*Result_155050).KindU.S6.Sons->data[I_155134], Genconv_155014((*Result_155050).KindU.S6.Sons->data[I_155134], (*(*Disp_155051).Typ).Sons->data[I_155134], NIM_TRUE));
Res_155162 += 1;
} LA3: ;
return Result_155050;
}
N_NIMCALL(NIM_BOOL, Relevantcol_155400)(TY53525* Methods_155402, NI Col_155403) {
NIM_BOOL Result_155404;
TY53549* T_155405;
TY53549* LOC2;
NI I_155422;
NI HEX3Atmp_155424;
NI Res_155426;
NIM_BOOL LOC7;
Result_155404 = 0;
T_155405 = 0;
T_155405 = (*(*Methods_155402->data[0]).Typ).Sons->data[Col_155403];
Result_155404 = NIM_FALSE;
LOC2 = Skiptypes_93085(T_155405, 14682112);
if (!((*LOC2).Kind == ((NU8) 17))) goto LA3;
I_155422 = 0;
HEX3Atmp_155424 = 0;
HEX3Atmp_155424 = (Methods_155402->Sup.len-1);
Res_155426 = 0;
Res_155426 = 1;
while (1) {
if (!(Res_155426 <= HEX3Atmp_155424)) goto LA5;
I_155422 = Res_155426;
LOC7 = Sametype_93048((*(*Methods_155402->data[I_155422]).Typ).Sons->data[Col_155403], T_155405);
if (!!(LOC7)) goto LA8;
Result_155404 = NIM_TRUE;
goto BeforeRet;
LA8: ;
Res_155426 += 1;
} LA5: ;
LA3: ;
BeforeRet: ;
return Result_155404;
}
N_NIMCALL(NI, Cmpsignatures_155429)(TY53545* A_155431, TY53545* B_155432, TY53898 Relevantcols_155433) {
NI Result_155434;
NI D_155435;
TY53549* Aa_155436;
TY53549* Bb_155437;
NI Col_155445;
NI HEX3Atmp_155449;
NI LOC1;
NI Res_155451;
NIM_BOOL LOC4;
Result_155434 = 0;
D_155435 = 0;
Aa_155436 = 0;
Bb_155437 = 0;
Result_155434 = 0;
Col_155445 = 0;
HEX3Atmp_155449 = 0;
LOC1 = Sonslen_53804((*A_155431).Typ);
HEX3Atmp_155449 = (NI32)(LOC1 - 1);
Res_155451 = 0;
Res_155451 = 1;
while (1) {
if (!(Res_155451 <= HEX3Atmp_155449)) goto LA2;
Col_155445 = Res_155451;
LOC4 = Intsetcontains_53908(Relevantcols_155433, Col_155445);
if (!LOC4) goto LA5;
Aa_155436 = Skiptypes_93085((*(*A_155431).Typ).Sons->data[Col_155445], 14682112);
Bb_155437 = Skiptypes_93085((*(*B_155432).Typ).Sons->data[Col_155445], 14682112);
D_155435 = Inheritancediff_93119(Aa_155436, Bb_155437);
if (!!((D_155435 == 2147483647))) goto LA8;
Result_155434 = D_155435;
goto BeforeRet;
LA8: ;
LA5: ;
Res_155451 += 1;
} LA2: ;
BeforeRet: ;
return Result_155434;
}
N_NIMCALL(void, Sortbucket_155454)(TY53525** A_155457, TY53898 Relevantcols_155458) {
NI N_155459;
NI J_155460;
NI H_155461;
TY53545* V_155462;
NI I_155482;
NI HEX3Atmp_155492;
NI Res_155494;
NI LOC8;
N_155459 = 0;
J_155460 = 0;
H_155461 = 0;
V_155462 = 0;
N_155459 = (*A_155457)->Sup.len;
H_155461 = 1;
while (1) {
H_155461 = (NI32)((NI32)(3 * H_155461) + 1);
if (!(N_155459 < H_155461)) goto LA3;
goto LA1;
LA3: ;
} LA1: ;
while (1) {
H_155461 = (NI32)(H_155461 / 3);
I_155482 = 0;
HEX3Atmp_155492 = 0;
HEX3Atmp_155492 = (NI32)(N_155459 - 1);
Res_155494 = 0;
Res_155494 = H_155461;
while (1) {
if (!(Res_155494 <= HEX3Atmp_155492)) goto LA6;
I_155482 = Res_155494;
V_155462 = (*A_155457)->data[I_155482];
J_155460 = I_155482;
while (1) {
LOC8 = Cmpsignatures_155429((*A_155457)->data[(NI32)(J_155460 - H_155461)], V_155462, Relevantcols_155458);
if (!(0 <= LOC8)) goto LA7;
asgnRef((void**) &(*A_155457)->data[J_155460], (*A_155457)->data[(NI32)(J_155460 - H_155461)]);
J_155460 = (NI32)(J_155460 - H_155461);
if (!(J_155460 < H_155461)) goto LA10;
goto LA7;
LA10: ;
} LA7: ;
asgnRef((void**) &(*A_155457)->data[J_155460], V_155462);
Res_155494 += 1;
} LA6: ;
if (!(H_155461 == 1)) goto LA13;
goto LA5;
LA13: ;
} LA5: ;
}
N_NIMCALL(TY53545*, Gendispatcher_155502)(TY53525* Methods_155504, TY53898 Relevantcols_155505) {
TY53545* Result_155506;
TY53523* Disp_155507;
TY53523* Cond_155508;
TY53523* Call_155509;
TY53523* Ret_155510;
TY53523* A_155511;
TY53523* Isn_155512;
TY53545* Base_155513;
TY53545* Curr_155514;
TY53545* Ands_155515;
TY53545* Iss_155516;
NI Paramlen_155517;
TY53523* LOC1;
NI Meth_155537;
NI HEX3Atmp_155673;
NI Res_155675;
NI Col_155545;
NI HEX3Atmp_155661;
NI Res_155663;
NIM_BOOL LOC5;
TY53549* LOC8;
TY53523* LOC9;
TY53523* LOC10;
TY53523* LOC11;
TY53549* LOC15;
TY53523* LOC16;
TY53523* LOC17;
NI Col_155588;
NI HEX3Atmp_155667;
NI Res_155669;
TY53523* LOC19;
TY53523* LOC20;
TY53523* LOC24;
Result_155506 = 0;
Disp_155507 = 0;
Cond_155508 = 0;
Call_155509 = 0;
Ret_155510 = 0;
A_155511 = 0;
Isn_155512 = 0;
Base_155513 = 0;
Curr_155514 = 0;
Ands_155515 = 0;
Iss_155516 = 0;
Paramlen_155517 = 0;
LOC1 = Lastson_53807((*Methods_155504->data[0]).Ast);
Base_155513 = (*LOC1).KindU.S4.Sym;
Result_155506 = Base_155513;
Paramlen_155517 = Sonslen_53804((*Base_155513).Typ);
Disp_155507 = Newnodei_53735(((NU8) 82), (*Base_155513).Info);
Ands_155515 = Getsyssym_98024(((NimStringDesc*) &TMP194764));
Iss_155516 = Getsyssym_98024(((NimStringDesc*) &TMP194765));
Meth_155537 = 0;
HEX3Atmp_155673 = 0;
HEX3Atmp_155673 = (Methods_155504->Sup.len-1);
Res_155675 = 0;
Res_155675 = 0;
while (1) {
if (!(Res_155675 <= HEX3Atmp_155673)) goto LA2;
Meth_155537 = Res_155675;
Curr_155514 = Methods_155504->data[Meth_155537];
Cond_155508 = NIM_NIL;
Col_155545 = 0;
HEX3Atmp_155661 = 0;
HEX3Atmp_155661 = (NI32)(Paramlen_155517 - 1);
Res_155663 = 0;
Res_155663 = 1;
while (1) {
if (!(Res_155663 <= HEX3Atmp_155661)) goto LA3;
Col_155545 = Res_155663;
LOC5 = Intsetcontains_53908(Relevantcols_155505, Col_155545);
if (!LOC5) goto LA6;
LOC8 = Getsystype_98008(((NU8) 1));
Isn_155512 = Newnodeit_53739(((NU8) 21), (*Base_155513).Info, LOC8);
LOC9 = Newsymnode_53732(Iss_155516);
Addson_53821(Isn_155512, LOC9);
LOC10 = Newsymnode_53732((*(*(*(*Base_155513).Typ).N).KindU.S6.Sons->data[Col_155545]).KindU.S4.Sym);
Addson_53821(Isn_155512, LOC10);
LOC11 = Newnodeit_53739(((NU8) 4), (*Base_155513).Info, (*(*Curr_155514).Typ).Sons->data[Col_155545]);
Addson_53821(Isn_155512, LOC11);
if (!!((Cond_155508 == NIM_NIL))) goto LA13;
LOC15 = Getsystype_98008(((NU8) 1));
A_155511 = Newnodeit_53739(((NU8) 21), (*Base_155513).Info, LOC15);
LOC16 = Newsymnode_53732(Ands_155515);
Addson_53821(A_155511, LOC16);
Addson_53821(A_155511, Cond_155508);
Addson_53821(A_155511, Isn_155512);
Cond_155508 = A_155511;
goto LA12;
LA13: ;
Cond_155508 = Isn_155512;
LA12: ;
LA6: ;
Res_155663 += 1;
} LA3: ;
Call_155509 = Newnodei_53735(((NU8) 21), (*Base_155513).Info);
LOC17 = Newsymnode_53732(Curr_155514);
Addson_53821(Call_155509, LOC17);
Col_155588 = 0;
HEX3Atmp_155667 = 0;
HEX3Atmp_155667 = (NI32)(Paramlen_155517 - 1);
Res_155669 = 0;
Res_155669 = 1;
while (1) {
if (!(Res_155669 <= HEX3Atmp_155667)) goto LA18;
Col_155588 = Res_155669;
LOC19 = Newsymnode_53732((*(*(*(*Base_155513).Typ).N).KindU.S6.Sons->data[Col_155588]).KindU.S4.Sym);
LOC20 = Genconv_155014(LOC19, (*(*Curr_155514).Typ).Sons->data[Col_155588], NIM_FALSE);
Addson_53821(Call_155509, LOC20);
Res_155669 += 1;
} LA18: ;
if (!!(((*(*Base_155513).Typ).Sons->data[0] == NIM_NIL))) goto LA22;
A_155511 = Newnodei_53735(((NU8) 63), (*Base_155513).Info);
LOC24 = Newsymnode_53732((*(*(*Base_155513).Ast).KindU.S6.Sons->data[5]).KindU.S4.Sym);
Addson_53821(A_155511, LOC24);
Addson_53821(A_155511, Call_155509);
Ret_155510 = Newnodei_53735(((NU8) 96), (*Base_155513).Info);
Addson_53821(Ret_155510, A_155511);
goto LA21;
LA22: ;
Ret_155510 = Call_155509;
LA21: ;
A_155511 = Newnodei_53735(((NU8) 76), (*Base_155513).Info);
Addson_53821(A_155511, Cond_155508);
Addson_53821(A_155511, Ret_155510);
Addson_53821(Disp_155507, A_155511);
Res_155675 += 1;
} LA2: ;
asgnRefNoCycle((void**) &(*(*Result_155506).Ast).KindU.S6.Sons->data[4], Disp_155507);
return Result_155506;
}
N_NIMCALL(TY53523*, Generatemethoddispatchers_155010)(void) {
TY53523* Result_155688;
TY53898 Relevantcols_155689;
NI Bucket_155707;
NI HEX3Atmp_155726;
NI Res_155728;
NI Col_155716;
NI HEX3Atmp_155720;
NI LOC2;
NI Res_155722;
NIM_BOOL LOC5;
TY53545* LOC8;
TY53523* LOC9;
Result_155688 = 0;
memset((void*)&Relevantcols_155689, 0, sizeof(Relevantcols_155689));
Result_155688 = Newnode_53708(((NU8) 101));
Bucket_155707 = 0;
HEX3Atmp_155726 = 0;
HEX3Atmp_155726 = (NI32)(Gmethods_155166->Sup.len - 1);
Res_155728 = 0;
Res_155728 = 0;
while (1) {
if (!(Res_155728 <= HEX3Atmp_155726)) goto LA1;
Bucket_155707 = Res_155728;
Intsetinit_53922(&Relevantcols_155689);
Col_155716 = 0;
HEX3Atmp_155720 = 0;
LOC2 = Sonslen_53804((*Gmethods_155166->data[Bucket_155707]->data[0]).Typ);
HEX3Atmp_155720 = (NI32)(LOC2 - 1);
Res_155722 = 0;
Res_155722 = 1;
while (1) {
if (!(Res_155722 <= HEX3Atmp_155720)) goto LA3;
Col_155716 = Res_155722;
LOC5 = Relevantcol_155400(Gmethods_155166->data[Bucket_155707], Col_155716);
if (!LOC5) goto LA6;
Intsetincl_53912(&Relevantcols_155689, Col_155716);
LA6: ;
Res_155722 += 1;
} LA3: ;
Sortbucket_155454(&Gmethods_155166->data[Bucket_155707], Relevantcols_155689);
LOC8 = Gendispatcher_155502(Gmethods_155166->data[Bucket_155707], Relevantcols_155689);
LOC9 = Newsymnode_53732(LOC8);
Addson_53821(Result_155688, LOC9);
Res_155728 += 1;
} LA1: ;
return Result_155688;
}
N_NOINLINE(void, cgmethInit)(void) {
asgnRefNoCycle((void**) &Gmethods_155166, (TY155165*) newSeq(NTI155165, 0));
}

