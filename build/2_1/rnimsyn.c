/* Generated by Nimrod Compiler v0.8.11 */
/*   (c) 2011 Andreas Rumpf */

typedef long int NI;
typedef unsigned long int NU;
#include "nimbase.h"

typedef struct TY86848 TY86848;
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct TY55526 TY55526;
typedef struct TY85016 TY85016;
typedef struct TY85014 TY85014;
typedef struct TY85012 TY85012;
typedef struct TY55520 TY55520;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct TY55552 TY55552;
typedef struct TY47539 TY47539;
typedef struct TY55548 TY55548;
typedef struct TY54011 TY54011;
typedef struct TY11002 TY11002;
typedef struct TY11018 TY11018;
typedef struct TY11396 TY11396;
typedef struct TY11014 TY11014;
typedef struct TY11010 TY11010;
typedef struct TY11394 TY11394;
typedef struct TY54005 TY54005;
typedef struct TNimObject TNimObject;
typedef struct TY55530 TY55530;
typedef struct TY55528 TY55528;
typedef struct TY55540 TY55540;
typedef struct TY52008 TY52008;
typedef struct TY55544 TY55544;
typedef struct TY55550 TY55550;
typedef struct TY43013 TY43013;
struct TY86848 {
NI Spacing;
NU8 Flags;
};
struct TGenericSeq {
NI len;
NI space;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
struct TY85012 {
NU8 Kind;
NI16 Length;
};
struct TY85016 {
NI Indent;
NI Linelen;
NI Pos;
NI Idx;
TY85014* Tokens;
NimStringDesc* Buf;
NI Pendingnl;
TY55520* Comstack;
NU8 Flags;
};
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct TY47539 {
NI16 Line;
NI16 Col;
int Fileindex;
};
struct TY55526 {
TY55552* Typ;
NimStringDesc* Comment;
TY47539 Info;
NU8 Flags;
NU8 Kind;
union {
struct {NI64 Intval;
} S1;
struct {NF64 Floatval;
} S2;
struct {NimStringDesc* Strval;
} S3;
struct {TY55548* Sym;
} S4;
struct {TY54011* Ident;
} S5;
struct {TY55520* Sons;
} S6;
} KindU;
};
struct TY11002 {
NI Refcount;
TNimType* Typ;
};
struct TY11018 {
NI Len;
NI Cap;
TY11002** D;
};
struct TY11014 {
NI Counter;
NI Max;
TY11010* Head;
TY11010** Data;
};
struct TY11394 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY11396 {
TY11018 Zct;
TY11018 Decstack;
TY11014 Cycleroots;
TY11018 Tempstack;
TY11394 Stat;
};
struct TNimObject {
TNimType* m_type;
};
struct TY54005 {
  TNimObject Sup;
NI Id;
};
struct TY54011 {
  TY54005 Sup;
NimStringDesc* S;
TY54011* Next;
NI H;
};
struct TY55530 {
TNimType* m_type;
NI Counter;
TY55528* Data;
};
struct TY55540 {
NU8 K;
NU8 S;
NU8 Flags;
TY55552* T;
TY52008* R;
NI A;
};
struct TY55548 {
  TY54005 Sup;
NU8 Kind;
NU8 Magic;
TY55552* Typ;
TY54011* Name;
TY47539 Info;
TY55548* Owner;
NU32 Flags;
TY55530 Tab;
TY55526* Ast;
NU32 Options;
NI Position;
NI Offset;
TY55540 Loc;
TY55544* Annex;
};
struct TY55552 {
  TY54005 Sup;
NU8 Kind;
TY55550* Sons;
TY55526* N;
NU8 Flags;
NU8 Callconv;
TY55548* Owner;
TY55548* Sym;
NI64 Size;
NI Align;
NI Containerid;
TY55540 Loc;
};
typedef NI TY9014[16];
struct TY11010 {
TY11010* Next;
NI Key;
TY9014 Bits;
};
struct TY52008 {
  TNimObject Sup;
TY52008* Left;
TY52008* Right;
NI Length;
NimStringDesc* Data;
};
struct TY43013 {
  TNimObject Sup;
TY43013* Prev;
TY43013* Next;
};
struct TY55544 {
  TY43013 Sup;
NU8 Kind;
NIM_BOOL Generated;
TY52008* Name;
TY55526* Path;
};
struct TY85014 {
  TGenericSeq Sup;
  TY85012 data[SEQ_DECL_SIZE];
};
struct TY55520 {
  TGenericSeq Sup;
  TY55526* data[SEQ_DECL_SIZE];
};
struct TY55528 {
  TGenericSeq Sup;
  TY55548* data[SEQ_DECL_SIZE];
};
struct TY55550 {
  TGenericSeq Sup;
  TY55552* data[SEQ_DECL_SIZE];
};
N_NIMCALL(void, Initsrcgen_85068)(TY85016* G_85071, NU8 Renderflags_85072);
N_NIMCALL(void*, newSeq)(TNimType* Typ_14604, NI Len_14605);
N_NIMCALL(void, unsureAsgnRef)(void** Dest_13426, void* Src_13427);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* Src_18912);
N_NIMCALL(void, Gsub_86872)(TY85016* G_86875, TY55526* N_86876);
N_NIMCALL(void, Initcontext_86860)(TY86848* C_86863);
N_NIMCALL(void, Gsub_86866)(TY85016* G_86869, TY55526* N_86870, TY86848 C_86871);
N_NIMCALL(void, Pushcom_85595)(TY85016* G_85598, TY55526* N_85599);
N_NIMCALL(TGenericSeq*, setLengthSeq)(TGenericSeq* Seq_19203, NI Elemsize_19204, NI Newlen_19205);
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13418, void* Src_13419);
static N_INLINE(TY11002*, Usrtocell_11812)(void* Usr_11814);
static N_INLINE(NI, Atomicinc_3401)(NI* Memloc_3404, NI X_3405);
static N_INLINE(NI, Atomicdec_3406)(NI* Memloc_3409, NI X_3410);
static N_INLINE(void, Rtladdzct_12801)(TY11002* C_12803);
N_NOINLINE(void, Addzct_11801)(TY11018* S_11804, TY11002* C_11805);
N_NIMCALL(void, Putrawstr_85512)(TY85016* G_85515, NU8 Kind_85516, NimStringDesc* S_85517);
N_NIMCALL(void, Put_85224)(TY85016* G_85227, NU8 Kind_85228, NimStringDesc* S_85229);
N_NIMCALL(void, Addpendingnl_85136)(TY85016* G_85139);
N_NIMCALL(void, Addtok_85105)(TY85016* G_85108, NU8 Kind_85109, NimStringDesc* S_85110);
static N_INLINE(void, appendString)(NimStringDesc* Dest_18999, NimStringDesc* Src_19000);
N_NIMCALL(NimStringDesc*, resizeString)(NimStringDesc* Dest_18989, NI Addlen_18990);
N_NIMCALL(NimStringDesc*, nsuRepeatChar)(NI Count_25666, NIM_CHAR C_25667);
N_NIMCALL(NimStringDesc*, rawNewString)(NI Space_18889);
N_NIMCALL(void, Optnl_85153)(TY85016* G_85156, NI Indent_85157);
N_NIMCALL(NimStringDesc*, addChar)(NimStringDesc* S_1803, NIM_CHAR C_1804);
N_NIMCALL(NimStringDesc*, Atom_85801)(TY55526* N_85803);
N_NIMCALL(NimStringDesc*, Makenimstring_85266)(NimStringDesc* S_85268);
N_NIMCALL(NimStringDesc*, Tonimchar_85257)(NIM_CHAR C_85259);
N_NIMCALL(NimStringDesc*, nsuToHex)(NI64 X_25410, NI Len_25411);
static N_INLINE(void, appendChar)(NimStringDesc* Dest_19016, NIM_CHAR C_19017);
N_NIMCALL(NimStringDesc*, nsuReplaceStr)(NimStringDesc* S_26301, NimStringDesc* Sub_26302, NimStringDesc* By_26303);
N_NIMCALL(NimStringDesc*, Litaux_85760)(TY55526* N_85762, NI64 X_85763, NI Size_85764);
N_NIMCALL(NimStringDesc*, nsuToBin)(NI64 X_26486, NI Len_26487);
N_NIMCALL(NimStringDesc*, nsuToOct)(NI64 X_26459, NI Len_26460);
N_NIMCALL(NimStringDesc*, nimInt64ToStr)(NI64 X_19670);
N_NIMCALL(NimStringDesc*, nimFloatToStr)(NF X_19663);
N_NIMCALL(void, Internalerror_47578)(NimStringDesc* Errmsg_47580);
N_NIMCALL(NimStringDesc*, reprEnum)(NI E_19971, TNimType* Typ_19972);
N_NIMCALL(void, Gident_87862)(TY85016* G_87865, TY55526* N_87866);
N_NIMCALL(NimStringDesc*, nimIntToStr)(NI X_19603);
static N_INLINE(NI, Sonslen_55804)(TY55526* N_55806);
N_NIMCALL(void, Gcomma_87019)(TY85016* G_87022, TY55526* N_87023, NI Start_87024, NI Theend_87025);
N_NIMCALL(void, Gcommaaux_86924)(TY85016* G_86927, TY55526* N_86928, NI Ind_86929, NI Start_86930, NI Theend_86931);
N_NIMCALL(NI, Lsub_85757)(TY55526* N_85759);
N_NIMCALL(NIM_BOOL, Containsnl_85577)(NimStringDesc* S_85579);
N_NIMCALL(NI, Lcomma_86115)(TY55526* N_86117, NI Start_86118, NI Theend_86119);
static N_INLINE(TY55526*, HEX5BHEX5D_57057)(TY55526* N_57059, NI I_57060);
N_NIMCALL(NI, Lsons_86189)(TY55526* N_86191, NI Start_86192, NI Theend_86193);
static N_INLINE(TY55526*, Lastson_55810)(TY55526* N_55812);
N_NIMCALL(NIM_BOOL, Fits_86836)(TY85016* G_86838, NI X_86839);
N_NIMCALL(void, Putwithspace_86918)(TY85016* G_86921, NU8 Kind_86922, NimStringDesc* S_86923);
N_NIMCALL(NIM_BOOL, Hascom_86879)(TY55526* N_86881);
N_NIMCALL(void, Gcoms_85741)(TY85016* G_85744);
N_NIMCALL(void, Gcom_85694)(TY85016* G_85697, TY55526* N_85698);
N_NIMCALL(NIM_BOOL, Shouldrendercomment_85666)(TY85016* G_85669, TY55526* N_85670);
N_NIMCALL(NIM_BOOL, nsuStartsWith)(NimStringDesc* S_25848, NimStringDesc* Prefix_25849);
N_NIMCALL(NI, Maxlinelength_85440)(NimStringDesc* S_85442);
N_NIMCALL(void, Putcomment_85299)(TY85016* G_85302, NimStringDesc* S_85303);
N_NIMCALL(void, Optnl_85158)(TY85016* G_85161);
N_NIMCALL(void, Popallcoms_85623)(TY85016* G_85626);
N_NIMCALL(void, Gcomma_86995)(TY85016* G_86998, TY55526* N_86999, TY86848 C_87000, NI Start_87001, NI Theend_87002);
N_NIMCALL(void, Gsons_87031)(TY85016* G_87034, TY55526* N_87035, TY86848 C_87036, NI Start_87037, NI Theend_87038);
N_NIMCALL(void, Indentnl_85162)(TY85016* G_85165);
N_NIMCALL(void, Dedent_85178)(TY85016* G_85181);
N_NIMCALL(void, Putnl_85149)(TY85016* G_85152);
N_NIMCALL(void, Putnl_85142)(TY85016* G_85145, NI Indent_85146);
N_NIMCALL(void, Gstmts_87131)(TY85016* G_87134, TY55526* N_87135, TY86848 C_87136);
N_NIMCALL(void, Gif_87212)(TY85016* G_87215, TY55526* N_87216);
N_NIMCALL(NIM_BOOL, Longmode_87097)(TY55526* N_87099, NI Start_87100, NI Theend_87101);
N_NIMCALL(void, Gwhile_87332)(TY85016* G_87335, TY55526* N_87336);
N_NIMCALL(void, Gcase_87557)(TY85016* G_87560, TY55526* N_87561);
N_NIMCALL(void, Gmacro_87510)(TY85016* G_87513, TY55526* N_87514);
N_NIMCALL(void, Gtry_87391)(TY85016* G_87394, TY55526* N_87395);
N_NIMCALL(void, Gfor_87438)(TY85016* G_87441, TY55526* N_87442);
N_NIMCALL(void, Gblock_87751)(TY85016* G_87754, TY55526* N_87755);
N_NIMCALL(void, Gasm_87833)(TY85016* G_87836, TY55526* N_87837);
N_NIMCALL(void, Gproc_87650)(TY85016* G_87653, TY55526* N_87654);
N_NIMCALL(void, Gsection_87063)(TY85016* G_87066, TY55526* N_87067, TY86848 C_87068, NU8 Kind_87069, NimStringDesc* K_87070);
N_NIMCALL(void, Internalerror_47574)(TY47539 Info_47576, NimStringDesc* Errmsg_47577);
N_NIMCALL(NIM_BOOL, Open_4017)(FILE** F_4020, NimStringDesc* Filename_4021, NU8 Mode_4022, NI Bufsize_4023);
N_NIMCALL(void, Write_4066)(FILE* F_4068, NimStringDesc* S_4069);
N_NIMCALL(NimStringDesc*, copyStrLast)(NimStringDesc* S_2328, NI First_2329, NI Last_2330);
NIM_CONST TY86848 Emptycontext_86854 = {0,
0}
;
STRING_LITERAL(TMP195739, "", 0);
STRING_LITERAL(TMP195740, "\012", 1);
STRING_LITERAL(TMP195741, "\"", 1);
STRING_LITERAL(TMP195742, "\\0", 2);
STRING_LITERAL(TMP195743, "\\x", 2);
STRING_LITERAL(TMP195745, "r\"", 2);
STRING_LITERAL(TMP195746, "\"\"", 2);
STRING_LITERAL(TMP195747, "\"\"\"", 3);
STRING_LITERAL(TMP195748, "0b", 2);
STRING_LITERAL(TMP195749, "0o", 2);
STRING_LITERAL(TMP195750, "0x", 2);
STRING_LITERAL(TMP195751, "\'i8", 3);
STRING_LITERAL(TMP195752, "\'i16", 4);
STRING_LITERAL(TMP195753, "\'i32", 4);
STRING_LITERAL(TMP195754, "\'i64", 4);
STRING_LITERAL(TMP195755, "\'f32", 4);
STRING_LITERAL(TMP195756, "\'f64", 4);
STRING_LITERAL(TMP195757, "nil", 3);
STRING_LITERAL(TMP195758, "[type node]", 11);
STRING_LITERAL(TMP195759, "rnimsyn.atom ", 13);
STRING_LITERAL(TMP195761, "(", 1);
STRING_LITERAL(TMP195762, " ", 1);
STRING_LITERAL(TMP195763, ",", 1);
STRING_LITERAL(TMP195764, "##", 2);
STRING_LITERAL(TMP195765, ")", 1);
STRING_LITERAL(TMP195766, "cast", 4);
STRING_LITERAL(TMP195767, "[", 1);
STRING_LITERAL(TMP195768, "]", 1);
STRING_LITERAL(TMP195769, "addr", 4);
STRING_LITERAL(TMP195770, "=", 1);
STRING_LITERAL(TMP195771, "chckRangeF", 10);
STRING_LITERAL(TMP195772, "chckRange64", 11);
STRING_LITERAL(TMP195773, "chckRange", 9);
STRING_LITERAL(TMP195774, "|", 1);
STRING_LITERAL(TMP195775, "{", 1);
STRING_LITERAL(TMP195776, "}", 1);
STRING_LITERAL(TMP195777, ".", 1);
STRING_LITERAL(TMP195778, "bind", 4);
STRING_LITERAL(TMP195779, "lambda", 6);
STRING_LITERAL(TMP195780, ":", 1);
STRING_LITERAL(TMP195781, "..", 2);
STRING_LITERAL(TMP195782, "^", 1);
STRING_LITERAL(TMP195783, "`", 1);
STRING_LITERAL(TMP195784, "if", 2);
NIM_CONST TY86848 TMP195785 = {0,
0}
;
STRING_LITERAL(TMP195786, " elif", 5);
STRING_LITERAL(TMP195787, " else", 5);
STRING_LITERAL(TMP195788, "type", 4);
STRING_LITERAL(TMP195789, "ref", 3);
STRING_LITERAL(TMP195790, "ptr", 3);
STRING_LITERAL(TMP195791, "var", 3);
STRING_LITERAL(TMP195792, "distinct", 8);
STRING_LITERAL(TMP195793, "object", 6);
STRING_LITERAL(TMP195794, "of", 2);
STRING_LITERAL(TMP195795, "proc", 4);
STRING_LITERAL(TMP195796, "enum", 4);
STRING_LITERAL(TMP195797, "when", 4);
STRING_LITERAL(TMP195798, "while", 5);
STRING_LITERAL(TMP195799, "case", 4);
STRING_LITERAL(TMP195800, "try", 3);
STRING_LITERAL(TMP195801, "for", 3);
STRING_LITERAL(TMP195802, "in", 2);
STRING_LITERAL(TMP195803, "block", 5);
STRING_LITERAL(TMP195804, "asm", 3);
STRING_LITERAL(TMP195805, "method", 6);
STRING_LITERAL(TMP195806, "iterator", 8);
STRING_LITERAL(TMP195807, "macro", 5);
STRING_LITERAL(TMP195808, "template", 8);
STRING_LITERAL(TMP195809, "const", 5);
STRING_LITERAL(TMP195810, "return", 6);
STRING_LITERAL(TMP195811, "raise", 5);
STRING_LITERAL(TMP195812, "yield", 5);
STRING_LITERAL(TMP195813, "discard", 7);
STRING_LITERAL(TMP195814, "break", 5);
STRING_LITERAL(TMP195815, "continue", 8);
STRING_LITERAL(TMP195816, "{.", 2);
STRING_LITERAL(TMP195817, ".}", 2);
STRING_LITERAL(TMP195818, "import", 6);
STRING_LITERAL(TMP195819, "from", 4);
STRING_LITERAL(TMP195820, "include", 7);
STRING_LITERAL(TMP195821, "elif", 4);
STRING_LITERAL(TMP195822, "else", 4);
STRING_LITERAL(TMP195823, "finally", 7);
STRING_LITERAL(TMP195824, "except", 6);
STRING_LITERAL(TMP195825, "tuple", 5);
STRING_LITERAL(TMP195826, "rnimsyn.gsub(", 13);
extern TNimType* NTI55520; /* TNodeSeq */
extern TNimType* NTI85014; /* TRenderTokSeq */
extern TY11396 Gch_11414;
extern TNimType* NTI55030; /* TNodeKind */
N_NIMCALL(void, Initsrcgen_85068)(TY85016* G_85071, NU8 Renderflags_85072) {
unsureAsgnRef((void**) &(*G_85071).Comstack, (TY55520*) newSeq(NTI55520, 0));
unsureAsgnRef((void**) &(*G_85071).Tokens, (TY85014*) newSeq(NTI85014, 0));
(*G_85071).Indent = 0;
(*G_85071).Linelen = 0;
(*G_85071).Pos = 0;
(*G_85071).Idx = 0;
unsureAsgnRef((void**) &(*G_85071).Buf, copyString(((NimStringDesc*) &TMP195739)));
(*G_85071).Flags = Renderflags_85072;
(*G_85071).Pendingnl = -1;
}
N_NIMCALL(void, Initcontext_86860)(TY86848* C_86863) {
(*C_86863).Spacing = 0;
(*C_86863).Flags = 0;
}
static N_INLINE(TY11002*, Usrtocell_11812)(void* Usr_11814) {
TY11002* Result_11815;
Result_11815 = 0;
Result_11815 = ((TY11002*) ((NI32)((NU32)(((NI) (Usr_11814))) - (NU32)(((NI) (((NI)sizeof(TY11002))))))));
return Result_11815;
}
static N_INLINE(NI, Atomicinc_3401)(NI* Memloc_3404, NI X_3405) {
NI Result_8007;
Result_8007 = 0;
(*Memloc_3404) += X_3405;
Result_8007 = (*Memloc_3404);
return Result_8007;
}
static N_INLINE(NI, Atomicdec_3406)(NI* Memloc_3409, NI X_3410) {
NI Result_8206;
Result_8206 = 0;
(*Memloc_3409) -= X_3410;
Result_8206 = (*Memloc_3409);
return Result_8206;
}
static N_INLINE(void, Rtladdzct_12801)(TY11002* C_12803) {
Addzct_11801(&Gch_11414.Zct, C_12803);
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13418, void* Src_13419) {
TY11002* C_13420;
NI LOC4;
TY11002* C_13422;
NI LOC9;
if (!!((Src_13419 == NIM_NIL))) goto LA2;
C_13420 = 0;
C_13420 = Usrtocell_11812(Src_13419);
LOC4 = Atomicinc_3401(&(*C_13420).Refcount, 8);
LA2: ;
if (!!(((*Dest_13418) == NIM_NIL))) goto LA6;
C_13422 = 0;
C_13422 = Usrtocell_11812((*Dest_13418));
LOC9 = Atomicdec_3406(&(*C_13422).Refcount, 8);
if (!((NU32)(LOC9) < (NU32)(8))) goto LA10;
Rtladdzct_12801(C_13422);
LA10: ;
LA6: ;
(*Dest_13418) = Src_13419;
}
N_NIMCALL(void, Pushcom_85595)(TY85016* G_85598, TY55526* N_85599) {
NI Length_85610;
Length_85610 = 0;
Length_85610 = (*G_85598).Comstack->Sup.len;
(*G_85598).Comstack = (TY55520*) setLengthSeq(&((*G_85598).Comstack)->Sup, sizeof(TY55526*), (NI32)(Length_85610 + 1));
asgnRefNoCycle((void**) &(*G_85598).Comstack->data[Length_85610], N_85599);
}
static N_INLINE(void, appendString)(NimStringDesc* Dest_18999, NimStringDesc* Src_19000) {
memcpy(((NCSTRING) (&(*Dest_18999).data[((*Dest_18999).Sup.len)-0])), ((NCSTRING) ((*Src_19000).data)), ((int) ((NI32)((NI32)((*Src_19000).Sup.len + 1) * 1))));
(*Dest_18999).Sup.len += (*Src_19000).Sup.len;
}
N_NIMCALL(void, Addtok_85105)(TY85016* G_85108, NU8 Kind_85109, NimStringDesc* S_85110) {
NI Length_85121;
Length_85121 = 0;
Length_85121 = (*G_85108).Tokens->Sup.len;
(*G_85108).Tokens = (TY85014*) setLengthSeq(&((*G_85108).Tokens)->Sup, sizeof(TY85012), (NI32)(Length_85121 + 1));
(*G_85108).Tokens->data[Length_85121].Kind = Kind_85109;
(*G_85108).Tokens->data[Length_85121].Length = ((NI16) (S_85110->Sup.len));
(*G_85108).Buf = resizeString((*G_85108).Buf, S_85110->Sup.len + 0);
appendString((*G_85108).Buf, S_85110);
}
N_NIMCALL(void, Addpendingnl_85136)(TY85016* G_85139) {
NimStringDesc* LOC4;
NimStringDesc* LOC5;
if (!(0 <= (*G_85139).Pendingnl)) goto LA2;
LOC4 = 0;
LOC5 = 0;
LOC5 = nsuRepeatChar((*G_85139).Pendingnl, 32);
LOC4 = rawNewString(LOC5->Sup.len + 1);
appendString(LOC4, ((NimStringDesc*) &TMP195740));
appendString(LOC4, LOC5);
Addtok_85105(G_85139, ((NU8) 102), LOC4);
(*G_85139).Linelen = (*G_85139).Pendingnl;
(*G_85139).Pendingnl = -1;
LA2: ;
}
N_NIMCALL(void, Put_85224)(TY85016* G_85227, NU8 Kind_85228, NimStringDesc* S_85229) {
Addpendingnl_85136(G_85227);
if (!(0 < S_85229->Sup.len)) goto LA2;
Addtok_85105(G_85227, Kind_85228, S_85229);
(*G_85227).Linelen += S_85229->Sup.len;
LA2: ;
}
N_NIMCALL(void, Optnl_85153)(TY85016* G_85156, NI Indent_85157) {
(*G_85156).Pendingnl = Indent_85157;
(*G_85156).Linelen = Indent_85157;
}
N_NIMCALL(void, Putrawstr_85512)(TY85016* G_85515, NU8 Kind_85516, NimStringDesc* S_85517) {
NI I_85518;
NI Hi_85521;
NimStringDesc* Str_85522;
NIM_BOOL LOC3;
I_85518 = 0;
I_85518 = 0;
Hi_85521 = 0;
Hi_85521 = (NI32)((NI32)(S_85517->Sup.len + 0) - 1);
Str_85522 = 0;
Str_85522 = copyString(((NimStringDesc*) &TMP195739));
while (1) {
if (!(I_85518 <= Hi_85521)) goto LA1;
switch (((NU8)(S_85517->data[I_85518]))) {
case 13:
Put_85224(G_85515, Kind_85516, Str_85522);
Str_85522 = copyString(((NimStringDesc*) &TMP195739));
I_85518 += 1;
LOC3 = (I_85518 <= Hi_85521);
if (!(LOC3)) goto LA4;
LOC3 = ((NU8)(S_85517->data[I_85518]) == (NU8)(10));
LA4: ;
if (!LOC3) goto LA5;
I_85518 += 1;
LA5: ;
Optnl_85153(G_85515, 0);
break;
case 10:
Put_85224(G_85515, Kind_85516, Str_85522);
Str_85522 = copyString(((NimStringDesc*) &TMP195739));
I_85518 += 1;
Optnl_85153(G_85515, 0);
break;
default:
Str_85522 = addChar(Str_85522, S_85517->data[I_85518]);
I_85518 += 1;
break;
}
} LA1: ;
Put_85224(G_85515, Kind_85516, Str_85522);
}
static N_INLINE(void, appendChar)(NimStringDesc* Dest_19016, NIM_CHAR C_19017) {
(*Dest_19016).data[((*Dest_19016).Sup.len)-0] = C_19017;
(*Dest_19016).data[((NI32)((*Dest_19016).Sup.len + 1))-0] = 0;
(*Dest_19016).Sup.len += 1;
}
N_NIMCALL(NimStringDesc*, Tonimchar_85257)(NIM_CHAR C_85259) {
NimStringDesc* Result_85260;
NimStringDesc* LOC1;
NimStringDesc* LOC2;
NimStringDesc* LOC3;
NimStringDesc* LOC4;
Result_85260 = 0;
switch (((NU8)(C_85259))) {
case 0:
Result_85260 = copyString(((NimStringDesc*) &TMP195742));
break;
case 1 ... 31:
case 128 ... 255:
LOC1 = 0;
LOC2 = 0;
LOC2 = nsuToHex(((NI64) (((NU8)(C_85259)))), 2);
LOC1 = rawNewString(LOC2->Sup.len + 2);
appendString(LOC1, ((NimStringDesc*) &TMP195743));
appendString(LOC1, LOC2);
Result_85260 = LOC1;
break;
case 39:
case 34:
case 92:
LOC3 = 0;
LOC3 = rawNewString(2);
appendChar(LOC3, 92);
appendChar(LOC3, C_85259);
Result_85260 = LOC3;
break;
default:
LOC4 = 0;
LOC4 = rawNewString(1);
appendChar(LOC4, C_85259);
appendString(LOC4, ((NimStringDesc*) &TMP195739));
Result_85260 = LOC4;
break;
}
return Result_85260;
}
N_NIMCALL(NimStringDesc*, Makenimstring_85266)(NimStringDesc* S_85268) {
NimStringDesc* Result_85269;
NI I_85295;
NI HEX3Atmp_85296;
NI Res_85298;
NimStringDesc* LOC2;
Result_85269 = 0;
Result_85269 = copyString(((NimStringDesc*) &TMP195741));
I_85295 = 0;
HEX3Atmp_85296 = 0;
HEX3Atmp_85296 = (NI32)((NI32)(S_85268->Sup.len + 0) - 1);
Res_85298 = 0;
Res_85298 = 0;
while (1) {
if (!(Res_85298 <= HEX3Atmp_85296)) goto LA1;
I_85295 = Res_85298;
LOC2 = 0;
LOC2 = Tonimchar_85257(S_85268->data[I_85295]);
Result_85269 = resizeString(Result_85269, LOC2->Sup.len + 0);
appendString(Result_85269, LOC2);
Res_85298 += 1;
} LA1: ;
Result_85269 = addChar(Result_85269, 34);
return Result_85269;
}
N_NIMCALL(NimStringDesc*, Litaux_85760)(TY55526* N_85762, NI64 X_85763, NI Size_85764) {
NimStringDesc* Result_85765;
NimStringDesc* LOC4;
NimStringDesc* LOC5;
NimStringDesc* LOC8;
NimStringDesc* LOC9;
NimStringDesc* LOC12;
NimStringDesc* LOC13;
Result_85765 = 0;
if (!(((*N_85762).Flags &(1<<((((NU8) 1))&7)))!=0)) goto LA2;
LOC4 = 0;
LOC5 = 0;
LOC5 = nsuToBin(X_85763, (NI32)(Size_85764 * 8));
LOC4 = rawNewString(LOC5->Sup.len + 2);
appendString(LOC4, ((NimStringDesc*) &TMP195748));
appendString(LOC4, LOC5);
Result_85765 = LOC4;
goto LA1;
LA2: ;
if (!(((*N_85762).Flags &(1<<((((NU8) 2))&7)))!=0)) goto LA6;
LOC8 = 0;
LOC9 = 0;
LOC9 = nsuToOct(X_85763, (NI32)(Size_85764 * 3));
LOC8 = rawNewString(LOC9->Sup.len + 2);
appendString(LOC8, ((NimStringDesc*) &TMP195749));
appendString(LOC8, LOC9);
Result_85765 = LOC8;
goto LA1;
LA6: ;
if (!(((*N_85762).Flags &(1<<((((NU8) 3))&7)))!=0)) goto LA10;
LOC12 = 0;
LOC13 = 0;
LOC13 = nsuToHex(X_85763, (NI32)(Size_85764 * 2));
LOC12 = rawNewString(LOC13->Sup.len + 2);
appendString(LOC12, ((NimStringDesc*) &TMP195750));
appendString(LOC12, LOC13);
Result_85765 = LOC12;
goto LA1;
LA10: ;
Result_85765 = nimInt64ToStr(X_85763);
LA1: ;
return Result_85765;
}
N_NIMCALL(NimStringDesc*, Atom_85801)(TY55526* N_85803) {
NimStringDesc* Result_85804;
NF32 F_85805;
NimStringDesc* LOC1;
NimStringDesc* LOC2;
NimStringDesc* LOC3;
NimStringDesc* LOC4;
NimStringDesc* LOC5;
NimStringDesc* LOC6;
NimStringDesc* LOC7;
NimStringDesc* LOC8;
NimStringDesc* LOC9;
NimStringDesc* LOC10;
NimStringDesc* LOC11;
NimStringDesc* LOC12;
NimStringDesc* LOC13;
NimStringDesc* LOC20;
NimStringDesc* LOC21;
NimStringDesc* LOC22;
NimStringDesc* LOC23;
NimStringDesc* LOC27;
NimStringDesc* LOC28;
NimStringDesc* LOC29;
NimStringDesc* LOC30;
NIM_BOOL LOC32;
NimStringDesc* LOC36;
Result_85804 = 0;
F_85805 = 0;
switch ((*N_85803).Kind) {
case ((NU8) 1):
Result_85804 = copyString(((NimStringDesc*) &TMP195739));
break;
case ((NU8) 2):
Result_85804 = copyString((*(*N_85803).KindU.S5.Ident).S);
break;
case ((NU8) 3):
Result_85804 = copyString((*(*(*N_85803).KindU.S4.Sym).Name).S);
break;
case ((NU8) 14):
Result_85804 = Makenimstring_85266((*N_85803).KindU.S3.Strval);
break;
case ((NU8) 15):
LOC1 = 0;
LOC2 = 0;
LOC2 = nsuReplaceStr((*N_85803).KindU.S3.Strval, ((NimStringDesc*) &TMP195741), ((NimStringDesc*) &TMP195746));
LOC1 = rawNewString(LOC2->Sup.len + 3);
appendString(LOC1, ((NimStringDesc*) &TMP195745));
appendString(LOC1, LOC2);
appendChar(LOC1, 34);
Result_85804 = LOC1;
break;
case ((NU8) 16):
LOC3 = 0;
LOC3 = rawNewString((*N_85803).KindU.S3.Strval->Sup.len + 6);
appendString(LOC3, ((NimStringDesc*) &TMP195747));
appendString(LOC3, (*N_85803).KindU.S3.Strval);
appendString(LOC3, ((NimStringDesc*) &TMP195747));
Result_85804 = LOC3;
break;
case ((NU8) 5):
LOC4 = 0;
LOC5 = 0;
LOC5 = Tonimchar_85257(((NIM_CHAR) (((NI) (((NI) ((*N_85803).KindU.S1.Intval)))))));
LOC4 = rawNewString(LOC5->Sup.len + 2);
appendChar(LOC4, 39);
appendString(LOC4, LOC5);
appendChar(LOC4, 39);
Result_85804 = LOC4;
break;
case ((NU8) 6):
Result_85804 = Litaux_85760(N_85803, (*N_85803).KindU.S1.Intval, 4);
break;
case ((NU8) 7):
LOC6 = 0;
LOC7 = 0;
LOC7 = Litaux_85760(N_85803, (*N_85803).KindU.S1.Intval, 1);
LOC6 = rawNewString(LOC7->Sup.len + 3);
appendString(LOC6, LOC7);
appendString(LOC6, ((NimStringDesc*) &TMP195751));
Result_85804 = LOC6;
break;
case ((NU8) 8):
LOC8 = 0;
LOC9 = 0;
LOC9 = Litaux_85760(N_85803, (*N_85803).KindU.S1.Intval, 2);
LOC8 = rawNewString(LOC9->Sup.len + 4);
appendString(LOC8, LOC9);
appendString(LOC8, ((NimStringDesc*) &TMP195752));
Result_85804 = LOC8;
break;
case ((NU8) 9):
LOC10 = 0;
LOC11 = 0;
LOC11 = Litaux_85760(N_85803, (*N_85803).KindU.S1.Intval, 4);
LOC10 = rawNewString(LOC11->Sup.len + 4);
appendString(LOC10, LOC11);
appendString(LOC10, ((NimStringDesc*) &TMP195753));
Result_85804 = LOC10;
break;
case ((NU8) 10):
LOC12 = 0;
LOC13 = 0;
LOC13 = Litaux_85760(N_85803, (*N_85803).KindU.S1.Intval, 8);
LOC12 = rawNewString(LOC13->Sup.len + 4);
appendString(LOC12, LOC13);
appendString(LOC12, ((NimStringDesc*) &TMP195754));
Result_85804 = LOC12;
break;
case ((NU8) 11):
if (!(((*N_85803).Flags & 14) == 0)) goto LA15;
Result_85804 = nimFloatToStr(((NF) ((*N_85803).KindU.S2.Floatval)));
goto LA14;
LA15: ;
Result_85804 = Litaux_85760(N_85803, (*((NI64*) (&(*N_85803).KindU.S2.Floatval))), 8);
LA14: ;
break;
case ((NU8) 12):
if (!(((*N_85803).Flags & 14) == 0)) goto LA18;
LOC20 = 0;
LOC21 = 0;
LOC21 = nimFloatToStr(((NF) ((*N_85803).KindU.S2.Floatval)));
LOC20 = rawNewString(LOC21->Sup.len + 4);
appendString(LOC20, LOC21);
appendString(LOC20, ((NimStringDesc*) &TMP195755));
Result_85804 = LOC20;
goto LA17;
LA18: ;
F_85805 = ((NF32) ((*N_85803).KindU.S2.Floatval));
LOC22 = 0;
LOC23 = 0;
LOC23 = Litaux_85760(N_85803, ((NI64) ((*((int*) (&F_85805))))), 4);
LOC22 = rawNewString(LOC23->Sup.len + 4);
appendString(LOC22, LOC23);
appendString(LOC22, ((NimStringDesc*) &TMP195755));
Result_85804 = LOC22;
LA17: ;
break;
case ((NU8) 13):
if (!(((*N_85803).Flags & 14) == 0)) goto LA25;
LOC27 = 0;
LOC28 = 0;
LOC28 = nimFloatToStr(((NF) ((*N_85803).KindU.S2.Floatval)));
LOC27 = rawNewString(LOC28->Sup.len + 4);
appendString(LOC27, LOC28);
appendString(LOC27, ((NimStringDesc*) &TMP195756));
Result_85804 = LOC27;
goto LA24;
LA25: ;
LOC29 = 0;
LOC30 = 0;
LOC30 = Litaux_85760(N_85803, (*((NI64*) (&(*N_85803).KindU.S2.Floatval))), 8);
LOC29 = rawNewString(LOC30->Sup.len + 4);
appendString(LOC29, LOC30);
appendString(LOC29, ((NimStringDesc*) &TMP195756));
Result_85804 = LOC29;
LA24: ;
break;
case ((NU8) 18):
Result_85804 = copyString(((NimStringDesc*) &TMP195757));
break;
case ((NU8) 4):
LOC32 = !(((*N_85803).Typ == NIM_NIL));
if (!(LOC32)) goto LA33;
LOC32 = !(((*(*N_85803).Typ).Sym == NIM_NIL));
LA33: ;
if (!LOC32) goto LA34;
Result_85804 = copyString((*(*(*(*N_85803).Typ).Sym).Name).S);
goto LA31;
LA34: ;
Result_85804 = copyString(((NimStringDesc*) &TMP195758));
LA31: ;
break;
default:
LOC36 = 0;
LOC36 = rawNewString(reprEnum((*N_85803).Kind, NTI55030)->Sup.len + 13);
appendString(LOC36, ((NimStringDesc*) &TMP195759));
appendString(LOC36, reprEnum((*N_85803).Kind, NTI55030));
Internalerror_47578(LOC36);
break;
}
return Result_85804;
}
N_NIMCALL(void, Gident_87862)(TY85016* G_87865, TY55526* N_87866) {
NU8 T_87867;
NimStringDesc* S_87868;
NIM_BOOL LOC8;
NIM_BOOL LOC13;
NimStringDesc* LOC17;
T_87867 = 0;
S_87868 = 0;
S_87868 = Atom_85801(N_87866);
if (!(((NU8)(S_87868->data[0])) >= ((NU8)(97)) && ((NU8)(S_87868->data[0])) <= ((NU8)(122)) || ((NU8)(S_87868->data[0])) >= ((NU8)(65)) && ((NU8)(S_87868->data[0])) <= ((NU8)(90)) || ((NU8)(S_87868->data[0])) >= ((NU8)(48)) && ((NU8)(S_87868->data[0])) <= ((NU8)(57)) || ((NU8)(S_87868->data[0])) >= ((NU8)(128)) && ((NU8)(S_87868->data[0])) <= ((NU8)(255)))) goto LA2;
if (!((*N_87866).Kind == ((NU8) 2))) goto LA5;
LOC8 = ((*(*N_87866).KindU.S5.Ident).Sup.Id < 1);
if (LOC8) goto LA9;
LOC8 = (63 < (*(*N_87866).KindU.S5.Ident).Sup.Id);
LA9: ;
if (!LOC8) goto LA10;
T_87867 = ((NU8) 2);
goto LA7;
LA10: ;
T_87867 = ((NU8) ((NI32)((*(*N_87866).KindU.S5.Ident).Sup.Id + 2)));
LA7: ;
goto LA4;
LA5: ;
T_87867 = ((NU8) 2);
LA4: ;
goto LA1;
LA2: ;
T_87867 = ((NU8) 99);
LA1: ;
Put_85224(G_87865, T_87867, S_87868);
LOC13 = ((*N_87866).Kind == ((NU8) 3));
if (!(LOC13)) goto LA14;
LOC13 = (((*G_87865).Flags &(1<<((((NU8) 5))&7)))!=0);
LA14: ;
if (!LOC13) goto LA15;
LOC17 = 0;
LOC17 = nimIntToStr((*(*N_87866).KindU.S4.Sym).Sup.Id);
Put_85224(G_87865, ((NU8) 66), LOC17);
LA15: ;
}
static N_INLINE(NI, Sonslen_55804)(TY55526* N_55806) {
NI Result_56886;
Result_56886 = 0;
if (!(*N_55806).KindU.S6.Sons == 0) goto LA2;
Result_56886 = 0;
goto LA1;
LA2: ;
Result_56886 = (*N_55806).KindU.S6.Sons->Sup.len;
LA1: ;
return Result_56886;
}
N_NIMCALL(NIM_BOOL, Containsnl_85577)(NimStringDesc* S_85579) {
NIM_BOOL Result_85580;
NI I_85591;
NI HEX3Atmp_85592;
NI Res_85594;
Result_85580 = 0;
I_85591 = 0;
HEX3Atmp_85592 = 0;
HEX3Atmp_85592 = (NI32)((NI32)(S_85579->Sup.len + 0) - 1);
Res_85594 = 0;
Res_85594 = 0;
while (1) {
if (!(Res_85594 <= HEX3Atmp_85592)) goto LA1;
I_85591 = Res_85594;
switch (((NU8)(S_85579->data[I_85591]))) {
case 13:
case 10:
Result_85580 = NIM_TRUE;
goto BeforeRet;
break;
default:
break;
}
Res_85594 += 1;
} LA1: ;
Result_85580 = NIM_FALSE;
BeforeRet: ;
return Result_85580;
}
N_NIMCALL(NI, Lcomma_86115)(TY55526* N_86117, NI Start_86118, NI Theend_86119) {
NI Result_86120;
NI I_86133;
NI HEX3Atmp_86186;
NI LOC1;
NI Res_86188;
NI LOC3;
Result_86120 = 0;
Result_86120 = 0;
I_86133 = 0;
HEX3Atmp_86186 = 0;
LOC1 = Sonslen_55804(N_86117);
HEX3Atmp_86186 = (NI32)(LOC1 + Theend_86119);
Res_86188 = 0;
Res_86188 = Start_86118;
while (1) {
if (!(Res_86188 <= HEX3Atmp_86186)) goto LA2;
I_86133 = Res_86188;
LOC3 = Lsub_85757((*N_86117).KindU.S6.Sons->data[I_86133]);
Result_86120 += LOC3;
Result_86120 += 2;
Res_86188 += 1;
} LA2: ;
if (!(0 < Result_86120)) goto LA5;
Result_86120 -= 2;
LA5: ;
return Result_86120;
}
static N_INLINE(TY55526*, HEX5BHEX5D_57057)(TY55526* N_57059, NI I_57060) {
TY55526* Result_57061;
Result_57061 = 0;
Result_57061 = (*N_57059).KindU.S6.Sons->data[I_57060];
return Result_57061;
}
N_NIMCALL(NI, Lsons_86189)(TY55526* N_86191, NI Start_86192, NI Theend_86193) {
NI Result_86194;
NI I_86207;
NI HEX3Atmp_86232;
NI LOC1;
NI Res_86234;
NI LOC3;
Result_86194 = 0;
Result_86194 = 0;
I_86207 = 0;
HEX3Atmp_86232 = 0;
LOC1 = Sonslen_55804(N_86191);
HEX3Atmp_86232 = (NI32)(LOC1 + Theend_86193);
Res_86234 = 0;
Res_86234 = Start_86192;
while (1) {
if (!(Res_86234 <= HEX3Atmp_86232)) goto LA2;
I_86207 = Res_86234;
LOC3 = Lsub_85757((*N_86191).KindU.S6.Sons->data[I_86207]);
Result_86194 += LOC3;
Res_86234 += 1;
} LA2: ;
return Result_86194;
}
static N_INLINE(TY55526*, Lastson_55810)(TY55526* N_55812) {
TY55526* Result_57825;
NI LOC1;
Result_57825 = 0;
LOC1 = Sonslen_55804(N_55812);
Result_57825 = (*N_55812).KindU.S6.Sons->data[(NI32)(LOC1 - 1)];
return Result_57825;
}
N_NIMCALL(NI, Lsub_85757)(TY55526* N_85759) {
NI Result_86238;
NIM_BOOL LOC8;
NimStringDesc* LOC11;
NimStringDesc* LOC12;
NI LOC13;
NI LOC14;
TY55526* LOC15;
NI LOC16;
NI LOC17;
NI LOC18;
NI LOC19;
NI LOC20;
NI LOC21;
NI LOC22;
NI LOC23;
NI LOC24;
NI LOC25;
NI LOC26;
NI LOC27;
NI LOC28;
NI L_86380;
NI LOC32;
NI LOC36;
NI LOC37;
TY55526* LOC38;
NI LOC39;
NI LOC40;
NI LOC41;
NI LOC42;
NI LOC44;
NI LOC47;
NI LOC48;
NI LOC49;
NI LOC50;
NI LOC51;
NI LOC52;
NI LOC53;
NI LOC54;
NI LOC55;
NI LOC56;
NI LOC57;
NI LOC58;
NI LOC59;
NI LOC60;
NI LOC61;
NI LOC62;
NI LOC63;
NI LOC64;
NI LOC65;
NI LOC66;
NI LOC67;
NI LOC68;
NI LOC69;
NI LOC70;
NI LOC71;
NI LOC72;
NI LOC74;
NI LOC77;
NI LOC78;
NI LOC79;
NI LOC80;
NI LOC81;
NI LOC82;
NI LOC83;
NI LOC84;
NI LOC85;
TY55526* LOC86;
NI LOC87;
NI LOC88;
NI LOC89;
NI LOC90;
NI LOC91;
NI LOC92;
NI LOC96;
NI LOC97;
TY55526* LOC98;
NI LOC99;
Result_86238 = 0;
if (!(N_85759 == NIM_NIL)) goto LA2;
Result_86238 = 0;
goto BeforeRet;
LA2: ;
if (!!(((*N_85759).Comment == NIM_NIL))) goto LA5;
Result_86238 = 81;
goto BeforeRet;
LA5: ;
switch ((*N_85759).Kind) {
case ((NU8) 16):
LOC8 = Containsnl_85577((*N_85759).KindU.S3.Strval);
if (!LOC8) goto LA9;
Result_86238 = 81;
goto LA7;
LA9: ;
LOC11 = 0;
LOC11 = Atom_85801(N_85759);
Result_86238 = LOC11->Sup.len;
LA7: ;
break;
case ((NU8) 1) ... ((NU8) 15):
case ((NU8) 17) ... ((NU8) 18):
LOC12 = 0;
LOC12 = Atom_85801(N_85759);
Result_86238 = LOC12->Sup.len;
break;
case ((NU8) 21):
case ((NU8) 33):
case ((NU8) 50):
LOC13 = Lsub_85757((*N_85759).KindU.S6.Sons->data[0]);
LOC14 = Lcomma_86115(N_85759, 1, -1);
Result_86238 = (NI32)((NI32)(LOC13 + LOC14) + 2);
break;
case ((NU8) 47):
case ((NU8) 48):
case ((NU8) 49):
LOC15 = 0;
LOC15 = HEX5BHEX5D_57057(N_85759, 1);
Result_86238 = Lsub_85757(LOC15);
break;
case ((NU8) 51):
LOC16 = Lsub_85757((*N_85759).KindU.S6.Sons->data[0]);
LOC17 = Lsub_85757((*N_85759).KindU.S6.Sons->data[1]);
Result_86238 = (NI32)((NI32)(LOC16 + LOC17) + 8);
break;
case ((NU8) 52):
LOC18 = Lsub_85757((*N_85759).KindU.S6.Sons->data[0]);
Result_86238 = (NI32)(LOC18 + 6);
break;
case ((NU8) 53):
case ((NU8) 54):
Result_86238 = Lsub_85757((*N_85759).KindU.S6.Sons->data[0]);
break;
case ((NU8) 20):
LOC19 = Lsub_85757((*N_85759).KindU.S6.Sons->data[0]);
LOC20 = Lcomma_86115(N_85759, 1, -1);
Result_86238 = (NI32)((NI32)(LOC19 + LOC20) + 1);
break;
case ((NU8) 23):
case ((NU8) 63):
case ((NU8) 64):
LOC21 = Lsons_86189(N_85759, 0, -1);
Result_86238 = (NI32)(LOC21 + 3);
break;
case ((NU8) 30):
case ((NU8) 31):
case ((NU8) 32):
LOC22 = Lcomma_86115(N_85759, 0, -1);
Result_86238 = (NI32)(LOC22 + 2);
break;
case ((NU8) 46):
LOC23 = Lsons_86189(N_85759, 0, -1);
LOC24 = Sonslen_55804(N_85759);
Result_86238 = (NI32)((NI32)((NI32)(LOC23 + 2) + LOC24) - 1);
break;
case ((NU8) 112):
LOC25 = Lcomma_86115(N_85759, 0, -1);
Result_86238 = (NI32)(LOC25 + 7);
break;
case ((NU8) 36):
LOC26 = Lsons_86189(N_85759, 0, -1);
Result_86238 = (NI32)(LOC26 + 1);
break;
case ((NU8) 45):
LOC27 = Lsons_86189(N_85759, 0, -1);
Result_86238 = (NI32)(LOC27 + 5);
break;
case ((NU8) 37):
Result_86238 = Lsub_85757((*N_85759).KindU.S6.Sons->data[0]);
break;
case ((NU8) 42):
LOC28 = Lsons_86189(N_85759, 0, -1);
Result_86238 = (NI32)(LOC28 + 10);
break;
case ((NU8) 89):
case ((NU8) 25):
Result_86238 = Lcomma_86115(N_85759, 0, -3);
L_86380 = 0;
L_86380 = Sonslen_55804(N_85759);
if (!!(((*N_85759).KindU.S6.Sons->data[(NI32)(L_86380 - 2)] == NIM_NIL))) goto LA30;
LOC32 = Lsub_85757((*N_85759).KindU.S6.Sons->data[(NI32)(L_86380 - 2)]);
Result_86238 = (NI32)((NI32)(Result_86238 + LOC32) + 2);
LA30: ;
if (!!(((*N_85759).KindU.S6.Sons->data[(NI32)(L_86380 - 1)] == NIM_NIL))) goto LA34;
LOC36 = Lsub_85757((*N_85759).KindU.S6.Sons->data[(NI32)(L_86380 - 1)]);
Result_86238 = (NI32)((NI32)(Result_86238 + LOC36) + 3);
LA34: ;
break;
case ((NU8) 26):
LOC37 = Lcomma_86115(N_85759, 0, -3);
LOC38 = 0;
LOC38 = Lastson_55810(N_85759);
LOC39 = Lsub_85757(LOC38);
Result_86238 = (NI32)((NI32)(LOC37 + 5) + LOC39);
break;
case ((NU8) 57):
LOC40 = Lcomma_86115(N_85759, 0, -1);
Result_86238 = (NI32)(12 + LOC40);
break;
case ((NU8) 58):
LOC41 = Lcomma_86115(N_85759, 0, -1);
Result_86238 = (NI32)(13 + LOC41);
break;
case ((NU8) 59):
LOC42 = Lcomma_86115(N_85759, 0, -1);
Result_86238 = (NI32)(11 + LOC42);
break;
case ((NU8) 55):
case ((NU8) 56):
case ((NU8) 60):
case ((NU8) 61):
case ((NU8) 62):
Result_86238 = 2;
LOC44 = Sonslen_55804(N_85759);
if (!(1 <= LOC44)) goto LA45;
LOC47 = Lsub_85757((*N_85759).KindU.S6.Sons->data[0]);
Result_86238 = (NI32)(Result_86238 + LOC47);
LA45: ;
LOC48 = Lcomma_86115(N_85759, 1, -1);
Result_86238 = (NI32)(Result_86238 + LOC48);
break;
case ((NU8) 24):
LOC49 = Lsons_86189(N_85759, 0, -1);
Result_86238 = (NI32)(LOC49 + 2);
break;
case ((NU8) 27):
LOC50 = Lsons_86189(N_85759, 0, -1);
Result_86238 = (NI32)(LOC50 + 2);
break;
case ((NU8) 28):
LOC51 = Lsons_86189(N_85759, 0, -1);
Result_86238 = (NI32)(LOC51 + 1);
break;
case ((NU8) 29):
Result_86238 = Lsons_86189(N_85759, 0, -1);
break;
case ((NU8) 22):
Result_86238 = Lsons_86189(N_85759, 0, -1);
break;
case ((NU8) 34):
LOC52 = Lsub_85757((*N_85759).KindU.S6.Sons->data[0]);
LOC53 = Lcomma_86115(N_85759, 1, -1);
Result_86238 = (NI32)(LOC52 + LOC53);
break;
case ((NU8) 35):
LOC54 = Lsons_86189(N_85759, 0, -1);
Result_86238 = (NI32)(LOC54 + 2);
break;
case ((NU8) 38):
LOC55 = Lsub_85757((*N_85759).KindU.S6.Sons->data[0]);
Result_86238 = (NI32)(LOC55 + 2);
break;
case ((NU8) 43):
LOC56 = Lsub_85757((*N_85759).KindU.S6.Sons->data[0]);
Result_86238 = (NI32)(LOC56 + 2);
break;
case ((NU8) 39):
LOC57 = Lsub_85757((*(*N_85759).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[0]);
LOC58 = Lsub_85757((*(*N_85759).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[1]);
LOC59 = Lsons_86189(N_85759, 1, -1);
Result_86238 = (NI32)((NI32)((NI32)(LOC57 + LOC58) + LOC59) + 5);
break;
case ((NU8) 40):
LOC60 = Lsons_86189(N_85759, 0, -1);
Result_86238 = (NI32)(LOC60 + 8);
break;
case ((NU8) 41):
LOC61 = Lsub_85757((*N_85759).KindU.S6.Sons->data[0]);
Result_86238 = (NI32)(LOC61 + 7);
break;
case ((NU8) 110):
LOC62 = Lsub_85757((*N_85759).KindU.S6.Sons->data[0]);
Result_86238 = (NI32)(LOC62 + 5);
break;
case ((NU8) 116):
LOC63 = Lsub_85757((*N_85759).KindU.S6.Sons->data[0]);
Result_86238 = (NI32)(LOC63 + 4);
break;
case ((NU8) 117):
LOC64 = Lsub_85757((*N_85759).KindU.S6.Sons->data[0]);
Result_86238 = (NI32)(LOC64 + 4);
break;
case ((NU8) 118):
LOC65 = Lsub_85757((*N_85759).KindU.S6.Sons->data[0]);
Result_86238 = (NI32)(LOC65 + 4);
break;
case ((NU8) 119):
LOC66 = Lsub_85757((*N_85759).KindU.S6.Sons->data[0]);
Result_86238 = (NI32)(LOC66 + 9);
break;
case ((NU8) 91):
LOC67 = Lsons_86189(N_85759, 0, -1);
Result_86238 = (NI32)(LOC67 + 3);
break;
case ((NU8) 67):
LOC68 = Lsub_85757((*N_85759).KindU.S6.Sons->data[0]);
Result_86238 = (NI32)(LOC68 + 3);
break;
case ((NU8) 120):
LOC69 = Lsons_86189(N_85759, 0, -1);
Result_86238 = (NI32)(LOC69 + 5);
break;
case ((NU8) 121):
LOC70 = Lsub_85757((*N_85759).KindU.S6.Sons->data[0]);
LOC71 = Lcomma_86115(N_85759, 1, -1);
Result_86238 = (NI32)((NI32)(LOC70 + LOC71) + 5);
break;
case ((NU8) 122):
LOC72 = Lsons_86189(N_85759, 0, -1);
Result_86238 = (NI32)(LOC72 + 3);
break;
case ((NU8) 87):
LOC74 = Sonslen_55804(N_85759);
if (!(1 < LOC74)) goto LA75;
Result_86238 = 81;
goto LA73;
LA75: ;
LOC77 = Lsons_86189(N_85759, 0, -1);
Result_86238 = (NI32)(LOC77 + 4);
LA73: ;
break;
case ((NU8) 96):
LOC78 = Lsub_85757((*N_85759).KindU.S6.Sons->data[0]);
Result_86238 = (NI32)(LOC78 + 7);
break;
case ((NU8) 95):
LOC79 = Lsub_85757((*N_85759).KindU.S6.Sons->data[0]);
Result_86238 = (NI32)(LOC79 + 6);
break;
case ((NU8) 92):
LOC80 = Lsub_85757((*N_85759).KindU.S6.Sons->data[0]);
Result_86238 = (NI32)(LOC80 + 6);
break;
case ((NU8) 100):
LOC81 = Lsub_85757((*N_85759).KindU.S6.Sons->data[0]);
Result_86238 = (NI32)(LOC81 + 8);
break;
case ((NU8) 97):
LOC82 = Lsub_85757((*N_85759).KindU.S6.Sons->data[0]);
Result_86238 = (NI32)(LOC82 + 6);
break;
case ((NU8) 98):
LOC83 = Lsub_85757((*N_85759).KindU.S6.Sons->data[0]);
Result_86238 = (NI32)(LOC83 + 9);
break;
case ((NU8) 81):
LOC84 = Lcomma_86115(N_85759, 0, -1);
Result_86238 = (NI32)(LOC84 + 4);
break;
case ((NU8) 105):
Result_86238 = (*N_85759).Comment->Sup.len;
break;
case ((NU8) 75):
LOC85 = Lcomma_86115(N_85759, 0, -2);
LOC86 = 0;
LOC86 = Lastson_55810(N_85759);
LOC87 = Lsub_85757(LOC86);
Result_86238 = (NI32)((NI32)(LOC85 + LOC87) + 5);
break;
case ((NU8) 76):
LOC88 = Lsons_86189(N_85759, 0, -1);
Result_86238 = (NI32)(LOC88 + 7);
break;
case ((NU8) 78):
LOC89 = Lsub_85757((*N_85759).KindU.S6.Sons->data[0]);
Result_86238 = (NI32)(LOC89 + 6);
break;
case ((NU8) 94):
LOC90 = Lsub_85757((*N_85759).KindU.S6.Sons->data[0]);
Result_86238 = (NI32)(LOC90 + 9);
break;
case ((NU8) 65):
LOC91 = Lcomma_86115(N_85759, 0, -1);
Result_86238 = (NI32)(LOC91 + 2);
break;
case ((NU8) 66):
LOC92 = Lcomma_86115(N_85759, 1, -1);
Result_86238 = (NI32)(LOC92 + 2);
if (!!(((*N_85759).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA94;
LOC96 = Lsub_85757((*N_85759).KindU.S6.Sons->data[0]);
Result_86238 = (NI32)((NI32)(Result_86238 + LOC96) + 2);
LA94: ;
break;
case ((NU8) 77):
LOC97 = Lcomma_86115(N_85759, 0, -2);
LOC98 = 0;
LOC98 = Lastson_55810(N_85759);
LOC99 = Lsub_85757(LOC98);
Result_86238 = (NI32)((NI32)(LOC97 + LOC99) + 9);
break;
default:
Result_86238 = 81;
break;
}
BeforeRet: ;
return Result_86238;
}
N_NIMCALL(NIM_BOOL, Fits_86836)(TY85016* G_86838, NI X_86839) {
NIM_BOOL Result_86840;
Result_86840 = 0;
Result_86840 = ((NI32)(X_86839 + (*G_86838).Linelen) <= 80);
return Result_86840;
}
N_NIMCALL(void, Putwithspace_86918)(TY85016* G_86921, NU8 Kind_86922, NimStringDesc* S_86923) {
Put_85224(G_86921, Kind_86922, S_86923);
Put_85224(G_86921, ((NU8) 105), ((NimStringDesc*) &TMP195762));
}
N_NIMCALL(NIM_BOOL, Hascom_86879)(TY55526* N_86881) {
NIM_BOOL Result_86882;
NI I_86902;
NI HEX3Atmp_86915;
NI LOC7;
NI Res_86917;
NIM_BOOL LOC10;
Result_86882 = 0;
Result_86882 = NIM_FALSE;
if (!(N_86881 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
if (!!(((*N_86881).Comment == NIM_NIL))) goto LA5;
Result_86882 = NIM_TRUE;
goto BeforeRet;
LA5: ;
switch ((*N_86881).Kind) {
case ((NU8) 1) ... ((NU8) 18):
break;
default:
I_86902 = 0;
HEX3Atmp_86915 = 0;
LOC7 = Sonslen_55804(N_86881);
HEX3Atmp_86915 = (NI32)(LOC7 - 1);
Res_86917 = 0;
Res_86917 = 0;
while (1) {
if (!(Res_86917 <= HEX3Atmp_86915)) goto LA8;
I_86902 = Res_86917;
LOC10 = Hascom_86879((*N_86881).KindU.S6.Sons->data[I_86902]);
if (!LOC10) goto LA11;
Result_86882 = NIM_TRUE;
goto BeforeRet;
LA11: ;
Res_86917 += 1;
} LA8: ;
break;
}
BeforeRet: ;
return Result_86882;
}
N_NIMCALL(NIM_BOOL, Shouldrendercomment_85666)(TY85016* G_85669, TY55526* N_85670) {
NIM_BOOL Result_85671;
NIM_BOOL LOC4;
NIM_BOOL LOC6;
Result_85671 = 0;
Result_85671 = NIM_FALSE;
if (!!(((*N_85670).Comment == NIM_NIL))) goto LA2;
LOC4 = !((((*G_85669).Flags &(1<<((((NU8) 2))&7)))!=0));
if (LOC4) goto LA5;
LOC6 = (((*G_85669).Flags &(1<<((((NU8) 3))&7)))!=0);
if (!(LOC6)) goto LA7;
LOC6 = nsuStartsWith((*N_85670).Comment, ((NimStringDesc*) &TMP195764));
LA7: ;
LOC4 = LOC6;
LA5: ;
Result_85671 = LOC4;
LA2: ;
return Result_85671;
}
N_NIMCALL(NI, Maxlinelength_85440)(NimStringDesc* S_85442) {
NI Result_85443;
NI I_85444;
NI Linelen_85445;
Result_85443 = 0;
Result_85443 = 0;
I_85444 = 0;
I_85444 = 0;
Linelen_85445 = 0;
Linelen_85445 = 0;
while (1) {
switch (((NU8)(S_85442->data[I_85444]))) {
case 0:
goto LA1;
break;
case 13:
I_85444 += 1;
if (!((NU8)(S_85442->data[I_85444]) == (NU8)(10))) goto LA3;
I_85444 += 1;
LA3: ;
Result_85443 = ((Result_85443 >= Linelen_85445) ? Result_85443 : Linelen_85445);
Linelen_85445 = 0;
break;
case 10:
I_85444 += 1;
Result_85443 = ((Result_85443 >= Linelen_85445) ? Result_85443 : Linelen_85445);
Linelen_85445 = 0;
break;
default:
Linelen_85445 += 1;
I_85444 += 1;
break;
}
} LA1: ;
return Result_85443;
}
N_NIMCALL(void, Optnl_85158)(TY85016* G_85161) {
Optnl_85153(G_85161, (*G_85161).Indent);
}
N_NIMCALL(void, Putcomment_85299)(TY85016* G_85302, NimStringDesc* S_85303) {
NI I_85304;
NI Comindent_85305;
NIM_BOOL Iscode_85312;
NIM_BOOL LOC1;
NI Ind_85313;
NimStringDesc* Com_85314;
NI J_85403;
NIM_BOOL LOC10;
NimStringDesc* LOC14;
NimStringDesc* LOC15;
I_85304 = 0;
I_85304 = 0;
Comindent_85305 = 0;
Comindent_85305 = 1;
Iscode_85312 = 0;
LOC1 = (2 <= S_85303->Sup.len);
if (!(LOC1)) goto LA2;
LOC1 = !(((NU8)(S_85303->data[1]) == (NU8)(32)));
LA2: ;
Iscode_85312 = LOC1;
Ind_85313 = 0;
Ind_85313 = (*G_85302).Linelen;
Com_85314 = 0;
Com_85314 = copyString(((NimStringDesc*) &TMP195739));
while (1) {
switch (((NU8)(S_85303->data[I_85304]))) {
case 0:
goto LA3;
break;
case 13:
Put_85224(G_85302, ((NU8) 100), Com_85314);
Com_85314 = copyString(((NimStringDesc*) &TMP195739));
I_85304 += 1;
if (!((NU8)(S_85303->data[I_85304]) == (NU8)(10))) goto LA5;
I_85304 += 1;
LA5: ;
Optnl_85153(G_85302, Ind_85313);
break;
case 10:
Put_85224(G_85302, ((NU8) 100), Com_85314);
Com_85314 = copyString(((NimStringDesc*) &TMP195739));
I_85304 += 1;
Optnl_85153(G_85302, Ind_85313);
break;
case 35:
Com_85314 = addChar(Com_85314, S_85303->data[I_85304]);
I_85304 += 1;
Comindent_85305 = 0;
while (1) {
if (!((NU8)(S_85303->data[I_85304]) == (NU8)(32))) goto LA7;
Com_85314 = addChar(Com_85314, S_85303->data[I_85304]);
I_85304 += 1;
Comindent_85305 += 1;
} LA7: ;
break;
case 32:
case 9:
Com_85314 = addChar(Com_85314, S_85303->data[I_85304]);
I_85304 += 1;
break;
default:
J_85403 = 0;
J_85403 = I_85304;
while (1) {
if (!((NU8)(32) < (NU8)(S_85303->data[J_85403]))) goto LA8;
J_85403 += 1;
} LA8: ;
LOC10 = !(Iscode_85312);
if (!(LOC10)) goto LA11;
LOC10 = (80 < (NI32)((*G_85302).Linelen + (NI32)(J_85403 - I_85304)));
LA11: ;
if (!LOC10) goto LA12;
Put_85224(G_85302, ((NU8) 100), Com_85314);
Com_85314 = copyString(((NimStringDesc*) &TMP195739));
Optnl_85153(G_85302, Ind_85313);
LOC14 = 0;
LOC15 = 0;
LOC15 = nsuRepeatChar(Comindent_85305, 32);
LOC14 = rawNewString(Com_85314->Sup.len + LOC15->Sup.len + 1);
appendString(LOC14, Com_85314);
appendChar(LOC14, 35);
appendString(LOC14, LOC15);
Com_85314 = LOC14;
LA12: ;
while (1) {
if (!((NU8)(32) < (NU8)(S_85303->data[I_85304]))) goto LA16;
Com_85314 = addChar(Com_85314, S_85303->data[I_85304]);
I_85304 += 1;
} LA16: ;
break;
}
} LA3: ;
Put_85224(G_85302, ((NU8) 100), Com_85314);
Optnl_85158(G_85302);
}
N_NIMCALL(void, Gcom_85694)(TY85016* G_85697, TY55526* N_85698) {
NIM_BOOL LOC2;
NIM_BOOL LOC6;
NIM_BOOL LOC7;
NIM_BOOL LOC13;
NIM_BOOL LOC14;
NI Ml_85738;
NimStringDesc* LOC22;
LOC2 = Shouldrendercomment_85666(G_85697, N_85698);
if (!LOC2) goto LA3;
LOC7 = ((*G_85697).Pendingnl < 0);
if (!(LOC7)) goto LA8;
LOC7 = (0 < (*G_85697).Buf->Sup.len);
LA8: ;
LOC6 = LOC7;
if (!(LOC6)) goto LA9;
LOC6 = !(((NU8)((*G_85697).Buf->data[(*G_85697).Buf->Sup.len]) == (NU8)(32)));
LA9: ;
if (!LOC6) goto LA10;
Put_85224(G_85697, ((NU8) 105), ((NimStringDesc*) &TMP195762));
LA10: ;
LOC14 = ((*G_85697).Pendingnl < 0);
if (!(LOC14)) goto LA15;
LOC14 = (0 < (*G_85697).Buf->Sup.len);
LA15: ;
LOC13 = LOC14;
if (!(LOC13)) goto LA16;
LOC13 = ((*G_85697).Linelen < 30);
LA16: ;
if (!LOC13) goto LA17;
Ml_85738 = 0;
Ml_85738 = Maxlinelength_85440((*N_85698).Comment);
if (!((NI32)(Ml_85738 + 30) <= 80)) goto LA20;
LOC22 = 0;
LOC22 = nsuRepeatChar((NI32)(30 - (*G_85697).Linelen), 32);
Put_85224(G_85697, ((NU8) 105), LOC22);
LA20: ;
LA17: ;
Putcomment_85299(G_85697, (*N_85698).Comment);
LA3: ;
}
N_NIMCALL(void, Popallcoms_85623)(TY85016* G_85626) {
(*G_85626).Comstack = (TY55520*) setLengthSeq(&((*G_85626).Comstack)->Sup, sizeof(TY55526*), 0);
}
N_NIMCALL(void, Gcoms_85741)(TY85016* G_85744) {
NI I_85753;
NI HEX3Atmp_85754;
NI Res_85756;
I_85753 = 0;
HEX3Atmp_85754 = 0;
HEX3Atmp_85754 = ((*G_85744).Comstack->Sup.len-1);
Res_85756 = 0;
Res_85756 = 0;
while (1) {
if (!(Res_85756 <= HEX3Atmp_85754)) goto LA1;
I_85753 = Res_85756;
Gcom_85694(G_85744, (*G_85744).Comstack->data[I_85753]);
Res_85756 += 1;
} LA1: ;
Popallcoms_85623(G_85744);
}
N_NIMCALL(void, Gcommaaux_86924)(TY85016* G_86927, TY55526* N_86928, NI Ind_86929, NI Start_86930, NI Theend_86931) {
NI I_86940;
NI HEX3Atmp_86992;
NI LOC1;
NI Res_86994;
NIM_BOOL C_86945;
NI LOC3;
NI Sublen_86963;
NI LOC4;
NIM_BOOL LOC6;
NIM_BOOL LOC7;
NIM_BOOL LOC15;
I_86940 = 0;
HEX3Atmp_86992 = 0;
LOC1 = Sonslen_55804(N_86928);
HEX3Atmp_86992 = (NI32)(LOC1 + Theend_86931);
Res_86994 = 0;
Res_86994 = Start_86930;
while (1) {
if (!(Res_86994 <= HEX3Atmp_86992)) goto LA2;
I_86940 = Res_86994;
C_86945 = 0;
LOC3 = Sonslen_55804(N_86928);
C_86945 = (I_86940 < (NI32)(LOC3 + Theend_86931));
Sublen_86963 = 0;
LOC4 = Lsub_85757((*N_86928).KindU.S6.Sons->data[I_86940]);
Sublen_86963 = (NI32)(LOC4 + C_86945);
LOC7 = Fits_86836(&(*G_86927), Sublen_86963);
LOC6 = !(LOC7);
if (!(LOC6)) goto LA8;
LOC6 = ((NI32)(Ind_86929 + Sublen_86963) < 80);
LA8: ;
if (!LOC6) goto LA9;
Optnl_85153(G_86927, Ind_86929);
LA9: ;
Gsub_86872(G_86927, (*N_86928).KindU.S6.Sons->data[I_86940]);
if (!C_86945) goto LA12;
Putwithspace_86918(G_86927, ((NU8) 92), ((NimStringDesc*) &TMP195763));
LOC15 = Hascom_86879((*N_86928).KindU.S6.Sons->data[I_86940]);
if (!LOC15) goto LA16;
Gcoms_85741(G_86927);
Optnl_85153(G_86927, Ind_86929);
LA16: ;
LA12: ;
Res_86994 += 1;
} LA2: ;
}
N_NIMCALL(void, Gcomma_87019)(TY85016* G_87022, TY55526* N_87023, NI Start_87024, NI Theend_87025) {
NI Ind_87026;
Ind_87026 = 0;
Ind_87026 = (*G_87022).Linelen;
if (!(40 < Ind_87026)) goto LA2;
Ind_87026 = (NI32)((*G_87022).Indent + 4);
LA2: ;
Gcommaaux_86924(G_87022, N_87023, Ind_87026, Start_87024, Theend_87025);
}
N_NIMCALL(void, Gcomma_86995)(TY85016* G_86998, TY55526* N_86999, TY86848 C_87000, NI Start_87001, NI Theend_87002) {
NI Ind_87003;
Ind_87003 = 0;
if (!((C_87000.Flags &(1<<((((NU8) 2))&7)))!=0)) goto LA2;
Ind_87003 = (NI32)((*G_86998).Indent + 2);
goto LA1;
LA2: ;
Ind_87003 = (*G_86998).Linelen;
if (!(40 < Ind_87003)) goto LA5;
Ind_87003 = (NI32)((*G_86998).Indent + 4);
LA5: ;
LA1: ;
Gcommaaux_86924(G_86998, N_86999, Ind_87003, Start_87001, Theend_87002);
}
N_NIMCALL(void, Gsons_87031)(TY85016* G_87034, TY55526* N_87035, TY86848 C_87036, NI Start_87037, NI Theend_87038) {
NI I_87047;
NI HEX3Atmp_87060;
NI LOC1;
NI Res_87062;
I_87047 = 0;
HEX3Atmp_87060 = 0;
LOC1 = Sonslen_55804(N_87035);
HEX3Atmp_87060 = (NI32)(LOC1 + Theend_87038);
Res_87062 = 0;
Res_87062 = Start_87037;
while (1) {
if (!(Res_87062 <= HEX3Atmp_87060)) goto LA2;
I_87047 = Res_87062;
Gsub_86866(G_87034, (*N_87035).KindU.S6.Sons->data[I_87047], C_87036);
Res_87062 += 1;
} LA2: ;
}
N_NIMCALL(void, Indentnl_85162)(TY85016* G_85165) {
(*G_85165).Indent += 2;
(*G_85165).Pendingnl = (*G_85165).Indent;
(*G_85165).Linelen = (*G_85165).Indent;
}
N_NIMCALL(void, Dedent_85178)(TY85016* G_85181) {
(*G_85181).Indent -= 2;
if (!(2 < (*G_85181).Pendingnl)) goto LA2;
(*G_85181).Pendingnl -= 2;
(*G_85181).Linelen -= 2;
LA2: ;
}
N_NIMCALL(void, Putnl_85142)(TY85016* G_85145, NI Indent_85146) {
if (!(0 <= (*G_85145).Pendingnl)) goto LA2;
Addpendingnl_85136(G_85145);
goto LA1;
LA2: ;
Addtok_85105(G_85145, ((NU8) 102), ((NimStringDesc*) &TMP195740));
LA1: ;
(*G_85145).Pendingnl = Indent_85146;
(*G_85145).Linelen = Indent_85146;
}
N_NIMCALL(void, Putnl_85149)(TY85016* G_85152) {
Putnl_85142(G_85152, (*G_85152).Indent);
}
N_NIMCALL(void, Gstmts_87131)(TY85016* G_87134, TY55526* N_87135, TY86848 C_87136) {
NIM_BOOL LOC5;
NI I_87174;
NI HEX3Atmp_87209;
NI LOC9;
NI Res_87211;
if (!(N_87135 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
LOC5 = ((*N_87135).Kind == ((NU8) 101));
if (LOC5) goto LA6;
LOC5 = ((*N_87135).Kind == ((NU8) 106));
LA6: ;
if (!LOC5) goto LA7;
Indentnl_85162(G_87134);
I_87174 = 0;
HEX3Atmp_87209 = 0;
LOC9 = Sonslen_55804(N_87135);
HEX3Atmp_87209 = (NI32)(LOC9 - 1);
Res_87211 = 0;
Res_87211 = 0;
while (1) {
if (!(Res_87211 <= HEX3Atmp_87209)) goto LA10;
I_87174 = Res_87211;
Optnl_85158(G_87134);
Gsub_86872(G_87134, (*N_87135).KindU.S6.Sons->data[I_87174]);
Gcoms_85741(G_87134);
Res_87211 += 1;
} LA10: ;
Dedent_85178(G_87134);
goto LA4;
LA7: ;
if (!((C_87136.Flags &(1<<((((NU8) 0))&7)))!=0)) goto LA12;
Indentnl_85162(G_87134);
LA12: ;
Gsub_86872(G_87134, N_87135);
Gcoms_85741(G_87134);
Optnl_85158(G_87134);
if (!((C_87136.Flags &(1<<((((NU8) 0))&7)))!=0)) goto LA15;
Dedent_85178(G_87134);
LA15: ;
LA4: ;
BeforeRet: ;
}
N_NIMCALL(NIM_BOOL, Longmode_87097)(TY55526* N_87099, NI Start_87100, NI Theend_87101) {
NIM_BOOL Result_87102;
NI I_87111;
NI HEX3Atmp_87128;
NI LOC4;
NI Res_87130;
NI LOC7;
Result_87102 = 0;
Result_87102 = !(((*N_87099).Comment == NIM_NIL));
if (!!(Result_87102)) goto LA2;
I_87111 = 0;
HEX3Atmp_87128 = 0;
LOC4 = Sonslen_55804(N_87099);
HEX3Atmp_87128 = (NI32)(LOC4 + Theend_87101);
Res_87130 = 0;
Res_87130 = Start_87100;
while (1) {
if (!(Res_87130 <= HEX3Atmp_87128)) goto LA5;
I_87111 = Res_87130;
LOC7 = Lsub_85757((*N_87099).KindU.S6.Sons->data[I_87111]);
if (!(80 < LOC7)) goto LA8;
Result_87102 = NIM_TRUE;
goto LA5;
LA8: ;
Res_87130 += 1;
} LA5: ;
LA2: ;
return Result_87102;
}
N_NIMCALL(void, Gif_87212)(TY85016* G_87215, TY55526* N_87216) {
TY86848 C_87217;
NIM_BOOL LOC2;
NI LOC4;
NI Length_87307;
NI I_87316;
NI HEX3Atmp_87329;
NI Res_87331;
memset((void*)&C_87217, 0, sizeof(C_87217));
Gsub_86872(G_87215, (*(*N_87216).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[0]);
Initcontext_86860(&C_87217);
Putwithspace_86918(G_87215, ((NU8) 94), ((NimStringDesc*) &TMP195780));
LOC2 = Longmode_87097(N_87216, 0, -1);
if (LOC2) goto LA3;
LOC4 = Lsub_85757((*(*N_87216).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[1]);
LOC2 = (80 < (NI32)(LOC4 + (*G_87215).Linelen));
LA3: ;
if (!LOC2) goto LA5;
C_87217.Flags |=(1<<((NI8)(((NU8) 0))%(sizeof(NI8)*8)));
LA5: ;
Gcoms_85741(G_87215);
Gstmts_87131(G_87215, (*(*N_87216).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[1], C_87217);
Length_87307 = 0;
Length_87307 = Sonslen_55804(N_87216);
I_87316 = 0;
HEX3Atmp_87329 = 0;
HEX3Atmp_87329 = (NI32)(Length_87307 - 1);
Res_87331 = 0;
Res_87331 = 1;
while (1) {
if (!(Res_87331 <= HEX3Atmp_87329)) goto LA7;
I_87316 = Res_87331;
Optnl_85158(G_87215);
Gsub_86866(G_87215, (*N_87216).KindU.S6.Sons->data[I_87316], C_87217);
Res_87331 += 1;
} LA7: ;
}
N_NIMCALL(void, Gwhile_87332)(TY85016* G_87335, TY55526* N_87336) {
TY86848 C_87337;
NIM_BOOL LOC2;
NI LOC4;
memset((void*)&C_87337, 0, sizeof(C_87337));
Putwithspace_86918(G_87335, ((NU8) 61), ((NimStringDesc*) &TMP195798));
Gsub_86872(G_87335, (*N_87336).KindU.S6.Sons->data[0]);
Putwithspace_86918(G_87335, ((NU8) 94), ((NimStringDesc*) &TMP195780));
Initcontext_86860(&C_87337);
LOC2 = Longmode_87097(N_87336, 0, -1);
if (LOC2) goto LA3;
LOC4 = Lsub_85757((*N_87336).KindU.S6.Sons->data[1]);
LOC2 = (80 < (NI32)(LOC4 + (*G_87335).Linelen));
LA3: ;
if (!LOC2) goto LA5;
C_87337.Flags |=(1<<((NI8)(((NU8) 0))%(sizeof(NI8)*8)));
LA5: ;
Gcoms_85741(G_87335);
Gstmts_87131(G_87335, (*N_87336).KindU.S6.Sons->data[1], C_87337);
}
N_NIMCALL(void, Gcase_87557)(TY85016* G_87560, TY55526* N_87561) {
TY86848 C_87562;
NI Length_87564;
NI Last_87586;
NI LOC1;
NIM_BOOL LOC5;
NIM_BOOL LOC12;
memset((void*)&C_87562, 0, sizeof(C_87562));
Initcontext_86860(&C_87562);
Length_87564 = 0;
Length_87564 = Sonslen_55804(N_87561);
Last_87586 = 0;
if (!((*(*N_87561).KindU.S6.Sons->data[(NI32)(Length_87564 - 1)]).Kind == ((NU8) 78))) goto LA3;
LOC1 = -2;
goto LA2;
LA3: ;
LOC1 = -1;
LA2: ;
Last_87586 = LOC1;
LOC5 = Longmode_87097(N_87561, 0, Last_87586);
if (!LOC5) goto LA6;
C_87562.Flags |=(1<<((NI8)(((NU8) 0))%(sizeof(NI8)*8)));
LA6: ;
Putwithspace_86918(G_87560, ((NU8) 11), ((NimStringDesc*) &TMP195799));
Gsub_86872(G_87560, (*N_87561).KindU.S6.Sons->data[0]);
Gcoms_85741(G_87560);
Optnl_85158(G_87560);
Gsons_87031(G_87560, N_87561, C_87562, 1, Last_87586);
if (!(Last_87586 == -2)) goto LA9;
Initcontext_86860(&C_87562);
LOC12 = Longmode_87097((*N_87561).KindU.S6.Sons->data[(NI32)(Length_87564 - 1)], 0, -1);
if (!LOC12) goto LA13;
C_87562.Flags |=(1<<((NI8)(((NU8) 0))%(sizeof(NI8)*8)));
LA13: ;
Gsub_86866(G_87560, (*N_87561).KindU.S6.Sons->data[(NI32)(Length_87564 - 1)], C_87562);
LA9: ;
}
N_NIMCALL(void, Gmacro_87510)(TY85016* G_87513, TY55526* N_87514) {
TY86848 C_87515;
NIM_BOOL LOC2;
NI LOC4;
memset((void*)&C_87515, 0, sizeof(C_87515));
Initcontext_86860(&C_87515);
Gsub_86872(G_87513, (*N_87514).KindU.S6.Sons->data[0]);
Putwithspace_86918(G_87513, ((NU8) 94), ((NimStringDesc*) &TMP195780));
LOC2 = Longmode_87097(N_87514, 0, -1);
if (LOC2) goto LA3;
LOC4 = Lsub_85757((*N_87514).KindU.S6.Sons->data[1]);
LOC2 = (80 < (NI32)(LOC4 + (*G_87513).Linelen));
LA3: ;
if (!LOC2) goto LA5;
C_87515.Flags |=(1<<((NI8)(((NU8) 0))%(sizeof(NI8)*8)));
LA5: ;
Gcoms_85741(G_87513);
Gsons_87031(G_87513, N_87514, C_87515, 1, -1);
}
N_NIMCALL(void, Gtry_87391)(TY85016* G_87394, TY55526* N_87395) {
TY86848 C_87396;
NIM_BOOL LOC2;
NI LOC4;
memset((void*)&C_87396, 0, sizeof(C_87396));
Put_85224(G_87394, ((NU8) 56), ((NimStringDesc*) &TMP195800));
Putwithspace_86918(G_87394, ((NU8) 94), ((NimStringDesc*) &TMP195780));
Initcontext_86860(&C_87396);
LOC2 = Longmode_87097(N_87395, 0, -1);
if (LOC2) goto LA3;
LOC4 = Lsub_85757((*N_87395).KindU.S6.Sons->data[0]);
LOC2 = (80 < (NI32)(LOC4 + (*G_87394).Linelen));
LA3: ;
if (!LOC2) goto LA5;
C_87396.Flags |=(1<<((NI8)(((NU8) 0))%(sizeof(NI8)*8)));
LA5: ;
Gcoms_85741(G_87394);
Gstmts_87131(G_87394, (*N_87395).KindU.S6.Sons->data[0], C_87396);
Gsons_87031(G_87394, N_87395, C_87396, 1, -1);
}
N_NIMCALL(void, Gfor_87438)(TY85016* G_87441, TY55526* N_87442) {
TY86848 C_87443;
NI Length_87444;
NIM_BOOL LOC2;
NI LOC4;
NI LOC5;
memset((void*)&C_87443, 0, sizeof(C_87443));
Length_87444 = 0;
Length_87444 = Sonslen_55804(N_87442);
Putwithspace_86918(G_87441, ((NU8) 25), ((NimStringDesc*) &TMP195801));
Initcontext_86860(&C_87443);
LOC2 = Longmode_87097(N_87442, 0, -1);
if (LOC2) goto LA3;
LOC4 = Lsub_85757((*N_87442).KindU.S6.Sons->data[(NI32)(Length_87444 - 1)]);
LOC5 = Lsub_85757((*N_87442).KindU.S6.Sons->data[(NI32)(Length_87444 - 2)]);
LOC2 = (80 < (NI32)((NI32)((NI32)(LOC4 + LOC5) + 6) + (*G_87441).Linelen));
LA3: ;
if (!LOC2) goto LA6;
C_87443.Flags |=(1<<((NI8)(((NU8) 0))%(sizeof(NI8)*8)));
LA6: ;
Gcomma_86995(G_87441, N_87442, C_87443, 0, -3);
Put_85224(G_87441, ((NU8) 105), ((NimStringDesc*) &TMP195762));
Putwithspace_86918(G_87441, ((NU8) 31), ((NimStringDesc*) &TMP195802));
Gsub_86866(G_87441, (*N_87442).KindU.S6.Sons->data[(NI32)(Length_87444 - 2)], C_87443);
Putwithspace_86918(G_87441, ((NU8) 94), ((NimStringDesc*) &TMP195780));
Gcoms_85741(G_87441);
Gstmts_87131(G_87441, (*N_87442).KindU.S6.Sons->data[(NI32)(Length_87444 - 1)], C_87443);
}
N_NIMCALL(void, Gblock_87751)(TY85016* G_87754, TY55526* N_87755) {
TY86848 C_87756;
NIM_BOOL LOC5;
NI LOC7;
memset((void*)&C_87756, 0, sizeof(C_87756));
Initcontext_86860(&C_87756);
if (!!(((*N_87755).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA2;
Putwithspace_86918(G_87754, ((NU8) 9), ((NimStringDesc*) &TMP195803));
Gsub_86872(G_87754, (*N_87755).KindU.S6.Sons->data[0]);
goto LA1;
LA2: ;
Put_85224(G_87754, ((NU8) 9), ((NimStringDesc*) &TMP195803));
LA1: ;
Putwithspace_86918(G_87754, ((NU8) 94), ((NimStringDesc*) &TMP195780));
LOC5 = Longmode_87097(N_87755, 0, -1);
if (LOC5) goto LA6;
LOC7 = Lsub_85757((*N_87755).KindU.S6.Sons->data[1]);
LOC5 = (80 < (NI32)(LOC7 + (*G_87754).Linelen));
LA6: ;
if (!LOC5) goto LA8;
C_87756.Flags |=(1<<((NI8)(((NU8) 0))%(sizeof(NI8)*8)));
LA8: ;
Gcoms_85741(G_87754);
Indentnl_85162(G_87754);
Gstmts_87131(G_87754, (*N_87755).KindU.S6.Sons->data[1], C_87756);
Dedent_85178(G_87754);
}
N_NIMCALL(void, Gasm_87833)(TY85016* G_87836, TY55526* N_87837) {
Putwithspace_86918(G_87836, ((NU8) 6), ((NimStringDesc*) &TMP195804));
Gsub_86872(G_87836, (*N_87837).KindU.S6.Sons->data[0]);
Gcoms_85741(G_87836);
Gsub_86872(G_87836, (*N_87837).KindU.S6.Sons->data[1]);
}
N_NIMCALL(void, Gproc_87650)(TY85016* G_87653, TY55526* N_87654) {
TY86848 C_87655;
memset((void*)&C_87655, 0, sizeof(C_87655));
Gsub_86872(G_87653, (*N_87654).KindU.S6.Sons->data[0]);
Gsub_86872(G_87653, (*N_87654).KindU.S6.Sons->data[1]);
Gsub_86872(G_87653, (*N_87654).KindU.S6.Sons->data[2]);
Gsub_86872(G_87653, (*N_87654).KindU.S6.Sons->data[3]);
if (!!((((*G_87653).Flags &(1<<((((NU8) 1))&7)))!=0))) goto LA2;
if (!!(((*N_87654).KindU.S6.Sons->data[4] == NIM_NIL))) goto LA5;
Put_85224(G_87653, ((NU8) 105), ((NimStringDesc*) &TMP195762));
Putwithspace_86918(G_87653, ((NU8) 95), ((NimStringDesc*) &TMP195770));
Indentnl_85162(G_87653);
Gcoms_85741(G_87653);
Dedent_85178(G_87653);
Initcontext_86860(&C_87655);
Gstmts_87131(G_87653, (*N_87654).KindU.S6.Sons->data[4], C_87655);
Putnl_85149(G_87653);
goto LA4;
LA5: ;
Indentnl_85162(G_87653);
Gcoms_85741(G_87653);
Dedent_85178(G_87653);
LA4: ;
LA2: ;
}
N_NIMCALL(void, Gsection_87063)(TY85016* G_87066, TY55526* N_87067, TY86848 C_87068, NU8 Kind_87069, NimStringDesc* K_87070) {
NI LOC2;
NI I_87081;
NI HEX3Atmp_87094;
NI LOC5;
NI Res_87096;
LOC2 = Sonslen_55804(N_87067);
if (!(LOC2 == 0)) goto LA3;
goto BeforeRet;
LA3: ;
Putwithspace_86918(G_87066, Kind_87069, K_87070);
Gcoms_85741(G_87066);
Indentnl_85162(G_87066);
I_87081 = 0;
HEX3Atmp_87094 = 0;
LOC5 = Sonslen_55804(N_87067);
HEX3Atmp_87094 = (NI32)(LOC5 - 1);
Res_87096 = 0;
Res_87096 = 0;
while (1) {
if (!(Res_87096 <= HEX3Atmp_87094)) goto LA6;
I_87081 = Res_87096;
Optnl_85158(G_87066);
Gsub_86866(G_87066, (*N_87067).KindU.S6.Sons->data[I_87081], C_87068);
Gcoms_85741(G_87066);
Res_87096 += 1;
} LA6: ;
Dedent_85178(G_87066);
BeforeRet: ;
}
N_NIMCALL(void, Gsub_86866)(TY85016* G_86869, TY55526* N_86870, TY86848 C_86871) {
NI L_87998;
TY86848 A_87999;
NimStringDesc* LOC7;
NimStringDesc* LOC8;
NimStringDesc* LOC9;
NimStringDesc* LOC10;
NimStringDesc* LOC11;
NimStringDesc* LOC12;
NimStringDesc* LOC13;
NimStringDesc* LOC14;
NimStringDesc* LOC15;
NimStringDesc* LOC16;
NimStringDesc* LOC17;
NimStringDesc* LOC18;
NimStringDesc* LOC19;
NI LOC21;
NimStringDesc* LOC27;
TY55526* LOC28;
NimStringDesc* LOC29;
NI LOC31;
NI I_88224;
NI HEX3Atmp_89169;
NI LOC34;
NI Res_89171;
NI L_88348;
TY55526* LOC45;
NI LOC47;
NI LOC48;
NIM_BOOL LOC49;
NI I_88846;
NI HEX3Atmp_89172;
NI LOC55;
NI Res_89174;
NI I_88958;
NI HEX3Atmp_89175;
NI Res_89177;
TY55526* LOC67;
TY55526* LOC68;
NimStringDesc* LOC72;
L_87998 = 0;
memset((void*)&A_87999, 0, sizeof(A_87999));
if (!(N_86870 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
if (!!(((*N_86870).Comment == NIM_NIL))) goto LA5;
Pushcom_85595(G_86869, N_86870);
LA5: ;
switch ((*N_86870).Kind) {
case ((NU8) 16):
Putrawstr_85512(G_86869, ((NU8) 76), (*N_86870).KindU.S3.Strval);
break;
case ((NU8) 1):
case ((NU8) 4):
LOC7 = 0;
LOC7 = Atom_85801(N_86870);
Put_85224(G_86869, ((NU8) 0), LOC7);
break;
case ((NU8) 3):
case ((NU8) 2):
Gident_87862(G_86869, N_86870);
break;
case ((NU8) 6):
LOC8 = 0;
LOC8 = Atom_85801(N_86870);
Put_85224(G_86869, ((NU8) 66), LOC8);
break;
case ((NU8) 7):
LOC9 = 0;
LOC9 = Atom_85801(N_86870);
Put_85224(G_86869, ((NU8) 67), LOC9);
break;
case ((NU8) 8):
LOC10 = 0;
LOC10 = Atom_85801(N_86870);
Put_85224(G_86869, ((NU8) 68), LOC10);
break;
case ((NU8) 9):
LOC11 = 0;
LOC11 = Atom_85801(N_86870);
Put_85224(G_86869, ((NU8) 69), LOC11);
break;
case ((NU8) 10):
LOC12 = 0;
LOC12 = Atom_85801(N_86870);
Put_85224(G_86869, ((NU8) 70), LOC12);
break;
case ((NU8) 11):
LOC13 = 0;
LOC13 = Atom_85801(N_86870);
Put_85224(G_86869, ((NU8) 71), LOC13);
break;
case ((NU8) 12):
LOC14 = 0;
LOC14 = Atom_85801(N_86870);
Put_85224(G_86869, ((NU8) 72), LOC14);
break;
case ((NU8) 13):
LOC15 = 0;
LOC15 = Atom_85801(N_86870);
Put_85224(G_86869, ((NU8) 73), LOC15);
break;
case ((NU8) 14):
LOC16 = 0;
LOC16 = Atom_85801(N_86870);
Put_85224(G_86869, ((NU8) 74), LOC16);
break;
case ((NU8) 15):
LOC17 = 0;
LOC17 = Atom_85801(N_86870);
Put_85224(G_86869, ((NU8) 75), LOC17);
break;
case ((NU8) 5):
LOC18 = 0;
LOC18 = Atom_85801(N_86870);
Put_85224(G_86869, ((NU8) 79), LOC18);
break;
case ((NU8) 18):
LOC19 = 0;
LOC19 = Atom_85801(N_86870);
Put_85224(G_86869, ((NU8) 41), LOC19);
break;
case ((NU8) 21):
case ((NU8) 50):
case ((NU8) 19):
LOC21 = Sonslen_55804(N_86870);
if (!(1 <= LOC21)) goto LA22;
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[0]);
LA22: ;
Put_85224(G_86869, ((NU8) 80), ((NimStringDesc*) &TMP195761));
Gcomma_87019(G_86869, N_86870, 1, -1);
Put_85224(G_86869, ((NU8) 81), ((NimStringDesc*) &TMP195765));
break;
case ((NU8) 22):
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[0]);
if (!((*(*N_86870).KindU.S6.Sons->data[1]).Kind == ((NU8) 15))) goto LA25;
LOC27 = 0;
LOC28 = 0;
LOC28 = HEX5BHEX5D_57057(N_86870, 1);
LOC29 = 0;
LOC29 = nsuReplaceStr((*LOC28).KindU.S3.Strval, ((NimStringDesc*) &TMP195741), ((NimStringDesc*) &TMP195746));
LOC27 = rawNewString(LOC29->Sup.len + 2);
appendChar(LOC27, 34);
appendString(LOC27, LOC29);
appendChar(LOC27, 34);
Put_85224(G_86869, ((NU8) 75), LOC27);
goto LA24;
LA25: ;
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[0]);
LA24: ;
break;
case ((NU8) 47):
case ((NU8) 48):
case ((NU8) 49):
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[0]);
break;
case ((NU8) 51):
Put_85224(G_86869, ((NU8) 12), ((NimStringDesc*) &TMP195766));
Put_85224(G_86869, ((NU8) 82), ((NimStringDesc*) &TMP195767));
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[0]);
Put_85224(G_86869, ((NU8) 83), ((NimStringDesc*) &TMP195768));
Put_85224(G_86869, ((NU8) 80), ((NimStringDesc*) &TMP195761));
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[1]);
Put_85224(G_86869, ((NU8) 81), ((NimStringDesc*) &TMP195765));
break;
case ((NU8) 52):
Put_85224(G_86869, ((NU8) 3), ((NimStringDesc*) &TMP195769));
Put_85224(G_86869, ((NU8) 80), ((NimStringDesc*) &TMP195761));
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[0]);
Put_85224(G_86869, ((NU8) 81), ((NimStringDesc*) &TMP195765));
break;
case ((NU8) 33):
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[0]);
Put_85224(G_86869, ((NU8) 82), ((NimStringDesc*) &TMP195767));
Gcomma_87019(G_86869, N_86870, 1, -1);
Put_85224(G_86869, ((NU8) 83), ((NimStringDesc*) &TMP195768));
break;
case ((NU8) 34):
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[0]);
Gcomma_87019(G_86869, N_86870, 1, -1);
break;
case ((NU8) 20):
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[0]);
Put_85224(G_86869, ((NU8) 105), ((NimStringDesc*) &TMP195762));
Gcomma_87019(G_86869, N_86870, 1, -1);
break;
case ((NU8) 23):
case ((NU8) 63):
case ((NU8) 64):
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[0]);
Put_85224(G_86869, ((NU8) 105), ((NimStringDesc*) &TMP195762));
Putwithspace_86918(G_86869, ((NU8) 95), ((NimStringDesc*) &TMP195770));
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[1]);
break;
case ((NU8) 57):
Put_85224(G_86869, ((NU8) 2), ((NimStringDesc*) &TMP195771));
Put_85224(G_86869, ((NU8) 80), ((NimStringDesc*) &TMP195761));
Gcomma_87019(G_86869, N_86870, 0, -1);
Put_85224(G_86869, ((NU8) 81), ((NimStringDesc*) &TMP195765));
break;
case ((NU8) 58):
Put_85224(G_86869, ((NU8) 2), ((NimStringDesc*) &TMP195772));
Put_85224(G_86869, ((NU8) 80), ((NimStringDesc*) &TMP195761));
Gcomma_87019(G_86869, N_86870, 0, -1);
Put_85224(G_86869, ((NU8) 81), ((NimStringDesc*) &TMP195765));
break;
case ((NU8) 59):
Put_85224(G_86869, ((NU8) 2), ((NimStringDesc*) &TMP195773));
Put_85224(G_86869, ((NU8) 80), ((NimStringDesc*) &TMP195761));
Gcomma_87019(G_86869, N_86870, 0, -1);
Put_85224(G_86869, ((NU8) 81), ((NimStringDesc*) &TMP195765));
break;
case ((NU8) 55):
case ((NU8) 56):
case ((NU8) 60):
case ((NU8) 61):
case ((NU8) 62):
LOC31 = Sonslen_55804(N_86870);
if (!(1 <= LOC31)) goto LA32;
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[0]);
LA32: ;
Put_85224(G_86869, ((NU8) 80), ((NimStringDesc*) &TMP195761));
Gcomma_87019(G_86869, N_86870, 1, -1);
Put_85224(G_86869, ((NU8) 81), ((NimStringDesc*) &TMP195765));
break;
case ((NU8) 46):
Put_85224(G_86869, ((NU8) 80), ((NimStringDesc*) &TMP195761));
I_88224 = 0;
HEX3Atmp_89169 = 0;
LOC34 = Sonslen_55804(N_86870);
HEX3Atmp_89169 = (NI32)(LOC34 - 1);
Res_89171 = 0;
Res_89171 = 0;
while (1) {
if (!(Res_89171 <= HEX3Atmp_89169)) goto LA35;
I_88224 = Res_89171;
if (!(0 < I_88224)) goto LA37;
Put_85224(G_86869, ((NU8) 99), ((NimStringDesc*) &TMP195774));
LA37: ;
Gsub_86866(G_86869, (*N_86870).KindU.S6.Sons->data[I_88224], C_86871);
Res_89171 += 1;
} LA35: ;
Put_85224(G_86869, ((NU8) 81), ((NimStringDesc*) &TMP195765));
break;
case ((NU8) 30):
Put_85224(G_86869, ((NU8) 80), ((NimStringDesc*) &TMP195761));
Gcomma_86995(G_86869, N_86870, C_86871, 0, -1);
Put_85224(G_86869, ((NU8) 81), ((NimStringDesc*) &TMP195765));
break;
case ((NU8) 31):
Put_85224(G_86869, ((NU8) 84), ((NimStringDesc*) &TMP195775));
Gcomma_86995(G_86869, N_86870, C_86871, 0, -1);
Put_85224(G_86869, ((NU8) 85), ((NimStringDesc*) &TMP195776));
break;
case ((NU8) 32):
Put_85224(G_86869, ((NU8) 82), ((NimStringDesc*) &TMP195767));
Gcomma_86995(G_86869, N_86870, C_86871, 0, -1);
Put_85224(G_86869, ((NU8) 83), ((NimStringDesc*) &TMP195768));
break;
case ((NU8) 36):
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[0]);
Put_85224(G_86869, ((NU8) 96), ((NimStringDesc*) &TMP195777));
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[1]);
break;
case ((NU8) 45):
Putwithspace_86918(G_86869, ((NU8) 8), ((NimStringDesc*) &TMP195778));
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[0]);
break;
case ((NU8) 37):
case ((NU8) 53):
case ((NU8) 54):
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[0]);
break;
case ((NU8) 42):
Putwithspace_86918(G_86869, ((NU8) 36), ((NimStringDesc*) &TMP195779));
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[2]);
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[3]);
Put_85224(G_86869, ((NU8) 105), ((NimStringDesc*) &TMP195762));
Putwithspace_86918(G_86869, ((NU8) 95), ((NimStringDesc*) &TMP195770));
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[4]);
break;
case ((NU8) 89):
case ((NU8) 25):
Gcomma_87019(G_86869, N_86870, 0, -3);
L_88348 = 0;
L_88348 = Sonslen_55804(N_86870);
if (!!(((*N_86870).KindU.S6.Sons->data[(NI32)(L_88348 - 2)] == NIM_NIL))) goto LA40;
Putwithspace_86918(G_86869, ((NU8) 94), ((NimStringDesc*) &TMP195780));
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[(NI32)(L_88348 - 2)]);
LA40: ;
if (!!(((*N_86870).KindU.S6.Sons->data[(NI32)(L_88348 - 1)] == NIM_NIL))) goto LA43;
Put_85224(G_86869, ((NU8) 105), ((NimStringDesc*) &TMP195762));
Putwithspace_86918(G_86869, ((NU8) 95), ((NimStringDesc*) &TMP195770));
Gsub_86866(G_86869, (*N_86870).KindU.S6.Sons->data[(NI32)(L_88348 - 1)], C_86871);
LA43: ;
break;
case ((NU8) 26):
Put_85224(G_86869, ((NU8) 80), ((NimStringDesc*) &TMP195761));
Gcomma_87019(G_86869, N_86870, 0, -3);
Put_85224(G_86869, ((NU8) 81), ((NimStringDesc*) &TMP195765));
Put_85224(G_86869, ((NU8) 105), ((NimStringDesc*) &TMP195762));
Putwithspace_86918(G_86869, ((NU8) 95), ((NimStringDesc*) &TMP195770));
LOC45 = 0;
LOC45 = Lastson_55810(N_86870);
Gsub_86866(G_86869, LOC45, C_86871);
break;
case ((NU8) 24):
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[0]);
Putwithspace_86918(G_86869, ((NU8) 94), ((NimStringDesc*) &TMP195780));
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[1]);
break;
case ((NU8) 27):
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[1]);
Put_85224(G_86869, ((NU8) 105), ((NimStringDesc*) &TMP195762));
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[0]);
LOC47 = Lsub_85757((*N_86870).KindU.S6.Sons->data[2]);
LOC48 = Lsub_85757((*N_86870).KindU.S6.Sons->data[0]);
LOC49 = Fits_86836(&(*G_86869), (NI32)((NI32)(LOC47 + LOC48) + 1));
if (!!(LOC49)) goto LA50;
Optnl_85153(G_86869, (NI32)((*G_86869).Indent + 4));
goto LA46;
LA50: ;
Put_85224(G_86869, ((NU8) 105), ((NimStringDesc*) &TMP195762));
LA46: ;
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[2]);
break;
case ((NU8) 28):
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[0]);
Put_85224(G_86869, ((NU8) 105), ((NimStringDesc*) &TMP195762));
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[1]);
break;
case ((NU8) 29):
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[1]);
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[0]);
break;
case ((NU8) 35):
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[0]);
Put_85224(G_86869, ((NU8) 97), ((NimStringDesc*) &TMP195781));
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[1]);
break;
case ((NU8) 38):
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[0]);
Putwithspace_86918(G_86869, ((NU8) 98), ((NimStringDesc*) &TMP195782));
break;
case ((NU8) 43):
Put_85224(G_86869, ((NU8) 101), ((NimStringDesc*) &TMP195783));
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[0]);
Put_85224(G_86869, ((NU8) 101), ((NimStringDesc*) &TMP195783));
break;
case ((NU8) 39):
Putwithspace_86918(G_86869, ((NU8) 28), ((NimStringDesc*) &TMP195784));
Gsub_86872(G_86869, (*(*N_86870).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[0]);
Putwithspace_86918(G_86869, ((NU8) 94), ((NimStringDesc*) &TMP195780));
Gsub_86872(G_86869, (*(*N_86870).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[1]);
Gsons_87031(G_86869, N_86870, TMP195785, 1, -1);
break;
case ((NU8) 40):
Putwithspace_86918(G_86869, ((NU8) 19), ((NimStringDesc*) &TMP195786));
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[0]);
Putwithspace_86918(G_86869, ((NU8) 94), ((NimStringDesc*) &TMP195780));
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[1]);
break;
case ((NU8) 41):
Put_85224(G_86869, ((NU8) 20), ((NimStringDesc*) &TMP195787));
Putwithspace_86918(G_86869, ((NU8) 94), ((NimStringDesc*) &TMP195780));
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[0]);
break;
case ((NU8) 110):
Putwithspace_86918(G_86869, ((NU8) 58), ((NimStringDesc*) &TMP195788));
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[0]);
break;
case ((NU8) 116):
Putwithspace_86918(G_86869, ((NU8) 51), ((NimStringDesc*) &TMP195789));
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[0]);
break;
case ((NU8) 117):
Putwithspace_86918(G_86869, ((NU8) 49), ((NimStringDesc*) &TMP195790));
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[0]);
break;
case ((NU8) 118):
Putwithspace_86918(G_86869, ((NU8) 59), ((NimStringDesc*) &TMP195791));
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[0]);
break;
case ((NU8) 119):
Putwithspace_86918(G_86869, ((NU8) 17), ((NimStringDesc*) &TMP195792));
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[0]);
break;
case ((NU8) 91):
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[0]);
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[1]);
Put_85224(G_86869, ((NU8) 105), ((NimStringDesc*) &TMP195762));
if (!!(((*N_86870).KindU.S6.Sons->data[2] == NIM_NIL))) goto LA53;
Putwithspace_86918(G_86869, ((NU8) 95), ((NimStringDesc*) &TMP195770));
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[2]);
LA53: ;
break;
case ((NU8) 111):
Putwithspace_86918(G_86869, ((NU8) 44), ((NimStringDesc*) &TMP195793));
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[0]);
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[1]);
Gcoms_85741(G_86869);
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[2]);
break;
case ((NU8) 113):
Indentnl_85162(G_86869);
I_88846 = 0;
HEX3Atmp_89172 = 0;
LOC55 = Sonslen_55804(N_86870);
HEX3Atmp_89172 = (NI32)(LOC55 - 1);
Res_89174 = 0;
Res_89174 = 0;
while (1) {
if (!(Res_89174 <= HEX3Atmp_89172)) goto LA56;
I_88846 = Res_89174;
Optnl_85158(G_86869);
Gsub_86866(G_86869, (*N_86870).KindU.S6.Sons->data[I_88846], C_86871);
Gcoms_85741(G_86869);
Res_89174 += 1;
} LA56: ;
Dedent_85178(G_86869);
Putnl_85149(G_86869);
break;
case ((NU8) 67):
Putwithspace_86918(G_86869, ((NU8) 45), ((NimStringDesc*) &TMP195794));
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[0]);
break;
case ((NU8) 120):
Putwithspace_86918(G_86869, ((NU8) 48), ((NimStringDesc*) &TMP195795));
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[0]);
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[1]);
break;
case ((NU8) 121):
Putwithspace_86918(G_86869, ((NU8) 22), ((NimStringDesc*) &TMP195796));
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[0]);
Gcoms_85741(G_86869);
Indentnl_85162(G_86869);
Gcommaaux_86924(G_86869, N_86870, (*G_86869).Indent, 1, -1);
Gcoms_85741(G_86869);
Dedent_85178(G_86869);
break;
case ((NU8) 122):
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[0]);
Put_85224(G_86869, ((NU8) 105), ((NimStringDesc*) &TMP195762));
Putwithspace_86918(G_86869, ((NU8) 95), ((NimStringDesc*) &TMP195770));
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[1]);
break;
case ((NU8) 101):
case ((NU8) 106):
Gstmts_87131(G_86869, N_86870, TMP195785);
break;
case ((NU8) 82):
Putwithspace_86918(G_86869, ((NU8) 28), ((NimStringDesc*) &TMP195784));
Gif_87212(G_86869, N_86870);
break;
case ((NU8) 83):
case ((NU8) 115):
Putwithspace_86918(G_86869, ((NU8) 60), ((NimStringDesc*) &TMP195797));
Gif_87212(G_86869, N_86870);
break;
case ((NU8) 85):
Gwhile_87332(G_86869, N_86870);
break;
case ((NU8) 86):
case ((NU8) 114):
Gcase_87557(G_86869, N_86870);
break;
case ((NU8) 79):
Gmacro_87510(G_86869, N_86870);
break;
case ((NU8) 93):
Gtry_87391(G_86869, N_86870);
break;
case ((NU8) 84):
Gfor_87438(G_86869, N_86870);
break;
case ((NU8) 99):
case ((NU8) 107):
Gblock_87751(G_86869, N_86870);
break;
case ((NU8) 80):
Gasm_87833(G_86869, N_86870);
break;
case ((NU8) 69):
Putwithspace_86918(G_86869, ((NU8) 48), ((NimStringDesc*) &TMP195795));
Gproc_87650(G_86869, N_86870);
break;
case ((NU8) 70):
Putwithspace_86918(G_86869, ((NU8) 39), ((NimStringDesc*) &TMP195805));
Gproc_87650(G_86869, N_86870);
break;
case ((NU8) 74):
Putwithspace_86918(G_86869, ((NU8) 35), ((NimStringDesc*) &TMP195806));
Gproc_87650(G_86869, N_86870);
break;
case ((NU8) 72):
Putwithspace_86918(G_86869, ((NU8) 38), ((NimStringDesc*) &TMP195807));
Gproc_87650(G_86869, N_86870);
break;
case ((NU8) 73):
Putwithspace_86918(G_86869, ((NU8) 55), ((NimStringDesc*) &TMP195808));
Gproc_87650(G_86869, N_86870);
break;
case ((NU8) 90):
Gsection_87063(G_86869, N_86870, TMP195785, ((NU8) 58), ((NimStringDesc*) &TMP195788));
break;
case ((NU8) 88):
Initcontext_86860(&A_87999);
A_87999.Flags |=(1<<((NI8)(((NU8) 2))%(sizeof(NI8)*8)));
Gsection_87063(G_86869, N_86870, A_87999, ((NU8) 13), ((NimStringDesc*) &TMP195809));
break;
case ((NU8) 87):
L_87998 = Sonslen_55804(N_86870);
if (!(L_87998 == 0)) goto LA58;
goto BeforeRet;
LA58: ;
Putwithspace_86918(G_86869, ((NU8) 59), ((NimStringDesc*) &TMP195791));
if (!(1 < L_87998)) goto LA61;
Gcoms_85741(G_86869);
Indentnl_85162(G_86869);
I_88958 = 0;
HEX3Atmp_89175 = 0;
HEX3Atmp_89175 = (NI32)(L_87998 - 1);
Res_89177 = 0;
Res_89177 = 0;
while (1) {
if (!(Res_89177 <= HEX3Atmp_89175)) goto LA63;
I_88958 = Res_89177;
Optnl_85158(G_86869);
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[I_88958]);
Gcoms_85741(G_86869);
Res_89177 += 1;
} LA63: ;
Dedent_85178(G_86869);
goto LA60;
LA61: ;
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[0]);
LA60: ;
break;
case ((NU8) 96):
Putwithspace_86918(G_86869, ((NU8) 52), ((NimStringDesc*) &TMP195810));
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[0]);
break;
case ((NU8) 95):
Putwithspace_86918(G_86869, ((NU8) 50), ((NimStringDesc*) &TMP195811));
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[0]);
break;
case ((NU8) 92):
Putwithspace_86918(G_86869, ((NU8) 65), ((NimStringDesc*) &TMP195812));
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[0]);
break;
case ((NU8) 100):
Putwithspace_86918(G_86869, ((NU8) 16), ((NimStringDesc*) &TMP195813));
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[0]);
break;
case ((NU8) 97):
Putwithspace_86918(G_86869, ((NU8) 10), ((NimStringDesc*) &TMP195814));
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[0]);
break;
case ((NU8) 98):
Putwithspace_86918(G_86869, ((NU8) 14), ((NimStringDesc*) &TMP195815));
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[0]);
break;
case ((NU8) 81):
if (!!((((*G_86869).Flags &(1<<((((NU8) 4))&7)))!=0))) goto LA65;
Put_85224(G_86869, ((NU8) 88), ((NimStringDesc*) &TMP195816));
Gcomma_86995(G_86869, N_86870, TMP195785, 0, -1);
Put_85224(G_86869, ((NU8) 89), ((NimStringDesc*) &TMP195817));
LA65: ;
break;
case ((NU8) 102):
Putwithspace_86918(G_86869, ((NU8) 30), ((NimStringDesc*) &TMP195818));
Gcoms_85741(G_86869);
Indentnl_85162(G_86869);
Gcommaaux_86924(G_86869, N_86870, (*G_86869).Indent, 0, -1);
Dedent_85178(G_86869);
Putnl_85149(G_86869);
break;
case ((NU8) 103):
Putwithspace_86918(G_86869, ((NU8) 26), ((NimStringDesc*) &TMP195819));
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[0]);
Put_85224(G_86869, ((NU8) 105), ((NimStringDesc*) &TMP195762));
Putwithspace_86918(G_86869, ((NU8) 30), ((NimStringDesc*) &TMP195818));
Gcomma_86995(G_86869, N_86870, TMP195785, 1, -1);
Putnl_85149(G_86869);
break;
case ((NU8) 104):
Putwithspace_86918(G_86869, ((NU8) 32), ((NimStringDesc*) &TMP195820));
Gcoms_85741(G_86869);
Indentnl_85162(G_86869);
Gcommaaux_86924(G_86869, N_86870, (*G_86869).Indent, 0, -1);
Dedent_85178(G_86869);
Putnl_85149(G_86869);
break;
case ((NU8) 105):
Gcoms_85741(G_86869);
Optnl_85158(G_86869);
break;
case ((NU8) 75):
Optnl_85158(G_86869);
Putwithspace_86918(G_86869, ((NU8) 45), ((NimStringDesc*) &TMP195794));
Gcomma_86995(G_86869, N_86870, C_86871, 0, -2);
Putwithspace_86918(G_86869, ((NU8) 94), ((NimStringDesc*) &TMP195780));
Gcoms_85741(G_86869);
LOC67 = 0;
LOC67 = Lastson_55810(N_86870);
Gstmts_87131(G_86869, LOC67, C_86871);
break;
case ((NU8) 76):
Optnl_85158(G_86869);
Putwithspace_86918(G_86869, ((NU8) 19), ((NimStringDesc*) &TMP195821));
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[0]);
Putwithspace_86918(G_86869, ((NU8) 94), ((NimStringDesc*) &TMP195780));
Gcoms_85741(G_86869);
Gstmts_87131(G_86869, (*N_86870).KindU.S6.Sons->data[1], C_86871);
break;
case ((NU8) 78):
Optnl_85158(G_86869);
Put_85224(G_86869, ((NU8) 20), ((NimStringDesc*) &TMP195822));
Putwithspace_86918(G_86869, ((NU8) 94), ((NimStringDesc*) &TMP195780));
Gcoms_85741(G_86869);
Gstmts_87131(G_86869, (*N_86870).KindU.S6.Sons->data[0], C_86871);
break;
case ((NU8) 94):
Optnl_85158(G_86869);
Put_85224(G_86869, ((NU8) 24), ((NimStringDesc*) &TMP195823));
Putwithspace_86918(G_86869, ((NU8) 94), ((NimStringDesc*) &TMP195780));
Gcoms_85741(G_86869);
Gstmts_87131(G_86869, (*N_86870).KindU.S6.Sons->data[0], C_86871);
break;
case ((NU8) 77):
Optnl_85158(G_86869);
Putwithspace_86918(G_86869, ((NU8) 23), ((NimStringDesc*) &TMP195824));
Gcomma_87019(G_86869, N_86870, 0, -2);
Putwithspace_86918(G_86869, ((NU8) 94), ((NimStringDesc*) &TMP195780));
Gcoms_85741(G_86869);
LOC68 = 0;
LOC68 = Lastson_55810(N_86870);
Gstmts_87131(G_86869, LOC68, C_86871);
break;
case ((NU8) 65):
Put_85224(G_86869, ((NU8) 82), ((NimStringDesc*) &TMP195767));
Gcomma_87019(G_86869, N_86870, 0, -1);
Put_85224(G_86869, ((NU8) 83), ((NimStringDesc*) &TMP195768));
break;
case ((NU8) 66):
Put_85224(G_86869, ((NU8) 80), ((NimStringDesc*) &TMP195761));
Gcomma_87019(G_86869, N_86870, 1, -1);
Put_85224(G_86869, ((NU8) 81), ((NimStringDesc*) &TMP195765));
if (!!(((*N_86870).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA70;
Putwithspace_86918(G_86869, ((NU8) 94), ((NimStringDesc*) &TMP195780));
Gsub_86872(G_86869, (*N_86870).KindU.S6.Sons->data[0]);
LA70: ;
break;
case ((NU8) 112):
Put_85224(G_86869, ((NU8) 57), ((NimStringDesc*) &TMP195825));
Put_85224(G_86869, ((NU8) 82), ((NimStringDesc*) &TMP195767));
Gcomma_87019(G_86869, N_86870, 0, -1);
Put_85224(G_86869, ((NU8) 83), ((NimStringDesc*) &TMP195768));
break;
default:
LOC72 = 0;
LOC72 = rawNewString(reprEnum((*N_86870).Kind, NTI55030)->Sup.len + 14);
appendString(LOC72, ((NimStringDesc*) &TMP195826));
appendString(LOC72, reprEnum((*N_86870).Kind, NTI55030));
appendChar(LOC72, 41);
Internalerror_47574((*N_86870).Info, LOC72);
break;
}
BeforeRet: ;
}
N_NIMCALL(void, Gsub_86872)(TY85016* G_86875, TY55526* N_86876) {
TY86848 C_86877;
memset((void*)&C_86877, 0, sizeof(C_86877));
Initcontext_86860(&C_86877);
Gsub_86866(G_86875, N_86876, C_86877);
}
N_NIMCALL(NimStringDesc*, Rendertree_85042)(TY55526* N_85044, NU8 Renderflags_85047) {
NimStringDesc* Result_89184;
TY85016 G_89185;
Result_89184 = 0;
memset((void*)&G_89185, 0, sizeof(G_89185));
Initsrcgen_85068(&G_89185, Renderflags_85047);
Gsub_86872(&G_89185, N_85044);
Result_89184 = copyString(G_89185.Buf);
return Result_89184;
}
N_NIMCALL(void, Rendermodule_85035)(TY55526* N_85037, NimStringDesc* Filename_85038, NU8 Renderflags_85041) {
FILE* F_89195;
TY85016 G_89196;
NI I_89206;
NI HEX3Atmp_89259;
NI LOC1;
NI Res_89261;
NIM_BOOL LOC7;
F_89195 = 0;
memset((void*)&G_89196, 0, sizeof(G_89196));
Initsrcgen_85068(&G_89196, Renderflags_85041);
I_89206 = 0;
HEX3Atmp_89259 = 0;
LOC1 = Sonslen_55804(N_85037);
HEX3Atmp_89259 = (NI32)(LOC1 - 1);
Res_89261 = 0;
Res_89261 = 0;
while (1) {
if (!(Res_89261 <= HEX3Atmp_89259)) goto LA2;
I_89206 = Res_89261;
Gsub_86872(&G_89196, (*N_85037).KindU.S6.Sons->data[I_89206]);
Optnl_85158(&G_89196);
if (!!(((*N_85037).KindU.S6.Sons->data[I_89206] == NIM_NIL))) goto LA4;
switch ((*(*N_85037).KindU.S6.Sons->data[I_89206]).Kind) {
case ((NU8) 90):
case ((NU8) 88):
case ((NU8) 87):
case ((NU8) 105):
Putnl_85149(&G_89196);
break;
default:
break;
}
LA4: ;
Res_89261 += 1;
} LA2: ;
Gcoms_85741(&G_89196);
LOC7 = Open_4017(&F_89195, Filename_85038, ((NU8) 1), -1);
if (!LOC7) goto LA8;
Write_4066(F_89195, G_89196.Buf);
fclose(F_89195);
LA8: ;
}
N_NIMCALL(void, Inittokrender_85048)(TY85016* R_85051, TY55526* N_85052, NU8 Renderflags_85055) {
Initsrcgen_85068(R_85051, Renderflags_85055);
Gsub_86872(R_85051, N_85052);
}
N_NIMCALL(void, Getnexttok_85056)(TY85016* R_85059, NU8* Kind_85061, NimStringDesc** Literal_85063) {
NI16 Length_89292;
if (!((*R_85059).Idx < (*R_85059).Tokens->Sup.len)) goto LA2;
(*Kind_85061) = (*R_85059).Tokens->data[(*R_85059).Idx].Kind;
Length_89292 = 0;
Length_89292 = (*R_85059).Tokens->data[(*R_85059).Idx].Length;
unsureAsgnRef((void**) &(*Literal_85063), copyStrLast((*R_85059).Buf, (NI32)((*R_85059).Pos + 0), (NI32)((NI32)((NI32)((*R_85059).Pos + 0) + ((NI) (Length_89292))) - 1)));
(*R_85059).Pos += ((NI) (Length_89292));
(*R_85059).Idx += 1;
goto LA1;
LA2: ;
(*Kind_85061) = ((NU8) 1);
LA1: ;
}
N_NOINLINE(void, rnimsynInit)(void) {
}

