/* Generated by Nimrod Compiler v0.8.11 */
/*   (c) 2011 Andreas Rumpf */

typedef long long int NI;
typedef unsigned long long int NU;
#include "nimbase.h"

typedef struct TY100006 TY100006;
typedef struct TY100002 TY100002;
typedef struct TY50547 TY50547;
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct TY88031 TY88031;
typedef struct TY50525 TY50525;
typedef struct TY182014 TY182014;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct TNimObject TNimObject;
typedef struct TY182012 TY182012;
typedef struct TY50527 TY50527;
typedef struct TY10202 TY10202;
typedef struct TY10214 TY10214;
typedef struct TY10590 TY10590;
typedef struct TY10218 TY10218;
typedef struct TY10210 TY10210;
typedef struct TY10588 TY10588;
typedef struct TY50569 TY50569;
typedef struct TY50567 TY50567;
typedef struct TY50565 TY50565;
typedef struct TY49005 TY49005;
typedef struct TY50551 TY50551;
typedef struct TY42536 TY42536;
typedef struct TY49011 TY49011;
typedef struct TY50519 TY50519;
typedef struct TY50529 TY50529;
typedef struct TY50539 TY50539;
typedef struct TY47008 TY47008;
typedef struct TY50543 TY50543;
typedef struct TY50549 TY50549;
typedef struct TY34021 TY34021;
typedef struct TY88029 TY88029;
typedef struct TY55220 TY55220;
typedef struct TY55218 TY55218;
typedef struct TY55216 TY55216;
typedef struct TY50563 TY50563;
typedef struct TY50561 TY50561;
typedef struct TY50559 TY50559;
typedef struct TY38013 TY38013;
struct TGenericSeq {
NI len;
NI space;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
typedef N_NIMCALL_PTR(TY100002*, TY100007) (TY50547* Module_100008, NimStringDesc* Filename_100009);
typedef N_NIMCALL_PTR(TY100002*, TY100012) (TY50547* Module_100013, NimStringDesc* Filename_100014, TY88031* Rd_100015);
typedef N_NIMCALL_PTR(TY50525*, TY100018) (TY100002* P_100019, TY50525* N_100020);
typedef N_NIMCALL_PTR(TY50525*, TY100023) (TY100002* P_100024, TY50525* Toplevelstmt_100025);
struct TY100006 {
TY100007 Open;
TY100012 Opencached;
TY100018 Close;
TY100023 Process;
};
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct TNimObject {
TNimType* m_type;
};
struct TY100002 {
  TNimObject Sup;
};
struct TY182014 {
  TY100002 Sup;
TY50547* Module;
TY182012* Transcon;
NI Inlining;
TY50527* Blocksyms;
};
struct TY10202 {
NI Refcount;
TNimType* Typ;
};
struct TY10218 {
NI Len;
NI Cap;
TY10202** D;
};
struct TY10214 {
NI Counter;
NI Max;
TY10210* Head;
TY10210** Data;
};
struct TY10588 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY10590 {
TY10218 Zct;
TY10218 Decstack;
TY10214 Cycleroots;
TY10218 Tempstack;
TY10588 Stat;
};
struct TY50565 {
TY49005* Key;
TY50525* Val;
};
struct TY50569 {
NI Counter;
TY50567* Data;
};
struct TY182012 {
TY50569 Mapping;
TY50547* Owner;
TY50525* Forstmt;
TY50525* Forloopbody;
NI Yieldstmts;
TY182012* Next;
};
struct TY42536 {
NI16 Line;
NI16 Col;
NI32 Fileindex;
};
struct TY50525 {
TY50551* Typ;
NimStringDesc* Comment;
TY42536 Info;
NU8 Flags;
NU8 Kind;
union {
struct {NI64 Intval;
} S1;
struct {NF64 Floatval;
} S2;
struct {NimStringDesc* Strval;
} S3;
struct {TY50547* Sym;
} S4;
struct {TY49011* Ident;
} S5;
struct {TY50519* Sons;
} S6;
} KindU;
};
struct TY49005 {
  TNimObject Sup;
NI Id;
};
struct TY50529 {
TNimType* m_type;
NI Counter;
TY50527* Data;
};
struct TY50539 {
NU8 K;
NU8 S;
NU8 Flags;
TY50551* T;
TY47008* R;
NI A;
};
struct TY50547 {
  TY49005 Sup;
NU8 Kind;
NU8 Magic;
TY50551* Typ;
TY49011* Name;
TY42536 Info;
TY50547* Owner;
NU32 Flags;
TY50529 Tab;
TY50525* Ast;
NU32 Options;
NI Position;
NI Offset;
TY50539 Loc;
TY50543* Annex;
};
struct TY50551 {
  TY49005 Sup;
NU8 Kind;
TY50549* Sons;
TY50525* N;
NU8 Flags;
NU8 Callconv;
TY50547* Owner;
TY50547* Sym;
NI64 Size;
NI Align;
NI Containerid;
TY50539 Loc;
};
struct TY55216 {
NI Key;
NI Val;
};
struct TY55220 {
NI Counter;
TY55218* Data;
};
struct TY88029 {
NI Lastidxkey;
NI Lastidxval;
TY55220 Tab;
TY47008* R;
NI Offset;
};
struct TY50559 {
TY49005* Key;
TNimObject* Val;
};
struct TY50563 {
NI Counter;
TY50561* Data;
};
struct TY88031 {
  TNimObject Sup;
NI Pos;
NimStringDesc* S;
NU32 Options;
NU8 Reason;
TY34021* Moddeps;
TY34021* Files;
NI Dataidx;
NI Convertersidx;
NI Initidx;
NI Interfidx;
NI Compilerprocsidx;
NI Cgenidx;
NimStringDesc* Filename;
TY88029 Index;
TY88029 Imports;
NI Readerindex;
NI Line;
NI Moduleid;
TY50563 Syms;
};
typedef NI TY8214[8];
struct TY10210 {
TY10210* Next;
NI Key;
TY8214 Bits;
};
struct TY49011 {
  TY49005 Sup;
NimStringDesc* S;
TY49011* Next;
NI H;
};
struct TY47008 {
  TNimObject Sup;
TY47008* Left;
TY47008* Right;
NI Length;
NimStringDesc* Data;
};
struct TY38013 {
  TNimObject Sup;
TY38013* Prev;
TY38013* Next;
};
struct TY50543 {
  TY38013 Sup;
NU8 Kind;
NIM_BOOL Generated;
TY47008* Name;
TY50525* Path;
};
struct TY50527 {
  TGenericSeq Sup;
  TY50547* data[SEQ_DECL_SIZE];
};
struct TY50567 {
  TGenericSeq Sup;
  TY50565 data[SEQ_DECL_SIZE];
};
struct TY50519 {
  TGenericSeq Sup;
  TY50525* data[SEQ_DECL_SIZE];
};
struct TY50549 {
  TGenericSeq Sup;
  TY50551* data[SEQ_DECL_SIZE];
};
struct TY34021 {
  TGenericSeq Sup;
  NimStringDesc* data[SEQ_DECL_SIZE];
};
struct TY55218 {
  TGenericSeq Sup;
  TY55216 data[SEQ_DECL_SIZE];
};
struct TY50561 {
  TGenericSeq Sup;
  TY50559 data[SEQ_DECL_SIZE];
};
N_NIMCALL(void, Initpass_100031)(TY100006* P_100034);
N_NIMCALL(TY100002*, Opentransf_184940)(TY50547* Module_184942, NimStringDesc* Filename_184943);
N_NIMCALL(void*, newObj)(TNimType* Typ_13307, NI Size_13308);
N_NIMCALL(void*, newSeq)(TNimType* Typ_13804, NI Len_13805);
static N_INLINE(void, asgnRef)(void** Dest_12614, void* Src_12615);
static N_INLINE(void, Incref_12602)(TY10202* C_12604);
static N_INLINE(NI, Atomicinc_3001)(NI* Memloc_3004, NI X_3005);
static N_INLINE(NIM_BOOL, Canbecycleroot_11016)(TY10202* C_11018);
static N_INLINE(void, Rtladdcycleroot_11652)(TY10202* C_11654);
N_NOINLINE(void, Incl_10474)(TY10214* S_10477, TY10202* Cell_10478);
static N_INLINE(TY10202*, Usrtocell_11012)(void* Usr_11014);
static N_INLINE(void, Decref_12401)(TY10202* C_12403);
static N_INLINE(NI, Atomicdec_3006)(NI* Memloc_3009, NI X_3010);
static N_INLINE(void, Rtladdzct_12001)(TY10202* C_12003);
N_NOINLINE(void, Addzct_11001)(TY10218* S_11004, TY10202* C_11005);
N_NIMCALL(TY50525*, Processtransf_184934)(TY100002* Context_184936, TY50525* N_184937);
N_NIMCALL(void, Pushtranscon_182169)(TY182014* C_182171, TY182012* T_182172);
N_NIMCALL(TY182012*, Newtranscon_182138)(TY50547* Owner_182140);
N_NIMCALL(void, Initidnodetable_50762)(TY50569* X_50765);
N_NIMCALL(TY50547*, Getcurrowner_182187)(TY182014* C_182189);
N_NIMCALL(TY50525*, Transform_182221)(TY182014* C_182223, TY50525* N_182224);
N_NIMCALL(TY50525*, Transformsym_182438)(TY182014* C_182440, TY50525* N_182441);
N_NIMCALL(TY50525*, Transformsymaux_182274)(TY182014* C_182276, TY50525* N_182277);
N_NIMCALL(void, Internalerror_42571)(TY42536 Info_42573, NimStringDesc* Errmsg_42574);
N_NIMCALL(TY50525*, Newsymnode_50734)(TY50547* Sym_50736);
N_NIMCALL(TY50525*, Idnodetableget_55181)(TY50569 T_55183, TY49005* Key_55184);
N_NIMCALL(TY50551*, Skiptypes_92087)(TY50551* T_92089, NU64 Kinds_92090);
N_NIMCALL(TY50525*, Getconstexpr_108010)(TY50547* M_108012, TY50525* N_108013);
N_NIMCALL(TY50525*, Transformarrayaccess_184364)(TY182014* C_184366, TY50525* N_184367);
static N_INLINE(TY50525*, Newtransnode_182028)(TY50525* A_182030);
N_NIMCALL(TY50525*, Shallowcopy_52477)(TY50525* Src_52479);
static N_INLINE(void, HEX5BHEX5DHEX3D_182094)(TY50525* A_182096, NI I_182097, TY50525* X_182098);
static N_INLINE(void, asgnRefNoCycle)(void** Dest_12618, void* Src_12619);
N_NIMCALL(TY50525*, Skipconv_182817)(TY50525* N_182819);
N_NIMCALL(TY50525*, Transformfor_183661)(TY182014* C_183663, TY50525* N_183664);
static N_INLINE(TY50525*, Newtransnode_182032)(NU8 Kind_182034, TY42536 Info_182035, NI Sons_182036);
N_NIMCALL(TY50525*, Newnodei_50737)(NU8 Kind_50739, TY42536 Info_50740);
static N_INLINE(NI, Sonslen_50803)(TY50525* N_50805);
N_NIMCALL(TY50525*, Transformloopbody_182755)(TY182014* C_182757, TY50525* N_182758);
N_NIMCALL(NIM_BOOL, Hascontinue_182717)(TY50525* N_182719);
N_NIMCALL(TY50547*, Newsym_50701)(NU8 Symkind_50703, TY49011* Name_50704, TY50547* Owner_50705);
N_NIMCALL(TY49011*, Getident_49016)(NimStringDesc* Identifier_49018);
static N_INLINE(void, appendString)(NimStringDesc* Dest_18192, NimStringDesc* Src_18193);
N_NIMCALL(NimStringDesc*, nimIntToStr)(NI X_18803);
N_NIMCALL(NimStringDesc*, rawNewString)(NI Space_18087);
N_NIMCALL(TGenericSeq*, incrSeq)(TGenericSeq* Seq_18235, NI Elemsize_18236);
N_NIMCALL(void, Addvar_183047)(TY50525* Father_183049, TY50525* V_183050);
N_NIMCALL(void, Addson_50823)(TY50525* Father_50825, TY50525* Son_50826);
N_NIMCALL(TY50525*, Copytree_50858)(TY50525* Src_50860);
static N_INLINE(void, Add_182130)(TY50525* A_182132, TY50525* B_182133);
N_NIMCALL(TY50525*, Skippassasopenarray_183576)(TY50525* N_183578);
N_NIMCALL(NU8, Putarginto_183606)(TY50525* Arg_183608, TY50551* Formal_183609);
N_NIMCALL(void, Idnodetableput_55185)(TY50569* T_55188, TY49005* Key_55189, TY50525* Val_55190);
N_NIMCALL(TY50547*, Newtemp_182202)(TY182014* C_182204, TY50551* Typ_182205, TY42536 Info_182206);
N_NIMCALL(TY50525*, Newasgnstmt_182268)(TY182014* C_182270, TY50525* Le_182271, TY50525* Ri_182272);
N_NIMCALL(void, Pushinfocontext_42610)(TY42536 Info_42612);
N_NIMCALL(void, Popinfocontext_42613)(void);
N_NIMCALL(void, Poptranscon_182173)(TY182014* C_182175);
N_NIMCALL(void, Internalerror_42575)(NimStringDesc* Errmsg_42577);
N_NIMCALL(TY50525*, Transformcase_184265)(TY182014* C_184267, TY50525* N_184268);
static N_INLINE(TY50525*, Newtransnode_182063)(NU8 Kind_182065, TY50525* N_182066, NI Sons_182067);
N_NIMCALL(TY50525*, Newnodeit_50741)(NU8 Kind_50743, TY42536 Info_50744, TY50551* Typ_50745);
static N_INLINE(TY50525*, Lastson_50809)(TY50525* N_50811);
N_NIMCALL(void, Methoddef_154004)(TY50547* S_154006);
N_NIMCALL(TY50525*, Newnode_50710)(NU8 Kind_50712);
N_NIMCALL(TY50525*, Transformcall_184598)(TY182014* C_184600, TY50525* N_184601);
N_NIMCALL(TY50525*, Flattentree_184570)(TY50525* Root_184572);
N_NIMCALL(TY50547*, Getmergeop_184393)(TY50525* N_184395);
N_NIMCALL(TY50525*, Copynode_50855)(TY50525* Src_50857);
N_NIMCALL(void, Flattentreeaux_184510)(TY50525* D_184512, TY50525* A_184513, TY50547* Op_184514);
N_NIMCALL(NIM_BOOL, Isconstexpr_91016)(TY50525* N_91018);
N_NIMCALL(TY50525*, Evalop_108014)(NU8 M_108016, TY50525* N_108017, TY50525* A_108018, TY50525* B_108019, TY50525* C_108020);
static N_INLINE(NI, Len_182134)(TY50525* A_182136);
static N_INLINE(TY50525*, HEX5BHEX5D_182112)(TY50525* A_182114, NI I_182115);
N_NIMCALL(TY50525*, Methodcall_154007)(TY50525* N_154009);
N_NIMCALL(TY50525*, Transformsons_182225)(TY182014* C_182227, TY50525* N_182228);
N_NIMCALL(TY50525*, Transformaddrderef_183052)(TY182014* C_183054, TY50525* N_183055, NU8 A_183056, NU8 B_183057);
N_NIMCALL(TY50525*, Transformconv_183321)(TY182014* C_183323, TY50525* N_183324);
N_NIMCALL(NIM_BOOL, Isordinaltype_92069)(TY50551* T_92071);
N_NIMCALL(NI64, Firstord_92001)(TY50551* T_92003);
N_NIMCALL(NI64, Lastord_92004)(TY50551* T_92006);
N_NIMCALL(TY50525*, Newinttypenode_50717)(NU8 Kind_50719, NI64 Intval_50720, TY50551* Typ_50721);
N_NIMCALL(NI, Inheritancediff_92121)(TY50551* A_92123, TY50551* B_92124);
N_NIMCALL(TY50525*, Transformvarsection_182443)(TY182014* C_182445, TY50525* V_182446);
N_NIMCALL(TY50547*, Copysym_50775)(TY50547* S_50777, NIM_BOOL Keepid_50778);
N_NIMCALL(TY50525*, Transformyield_182948)(TY182014* C_182950, TY50525* N_182951);
N_NIMCALL(void, Unpacktuple_182863)(TY182014* C_182865, TY50525* N_182866, TY50525* Father_182867);
N_NIMCALL(TY50525*, Newtupleaccess_182845)(TY50525* Tup_182847, NI I_182848);
N_NIMCALL(TY50551*, Getsystype_97008)(NU8 Kind_97010);
N_NIMCALL(TY50525*, Introducenewlocalvars_182891)(TY182014* C_182893, TY50525* N_182894);
N_NIMCALL(TY50547*, Pop_182786)(TY50527** S_182791);
N_NIMCALL(TGenericSeq*, setLengthSeq)(TGenericSeq* Seq_18403, NI Elemsize_18404, NI Newlen_18405);
STRING_LITERAL(TMP190220, "transformSym", 12);
STRING_LITERAL(TMP190221, "wrong AST for borrowed symbol", 29);
STRING_LITERAL(TMP190222, "transformSym: const", 19);
STRING_LITERAL(TMP190223, "transformFor", 12);
STRING_LITERAL(TMP190224, ":tmp", 4);
STRING_LITERAL(TMP190225, "not implemented: pass to var parameter", 38);
STRING_LITERAL(TMP190226, "popTransCon", 11);
STRING_LITERAL(TMP190230, "transformVarSection", 19);
STRING_LITERAL(TMP190231, "transformVarSection: not nkVarTuple", 35);
extern TNimType* NTI182016; /* PTransf */
extern TNimType* NTI182014; /* TTransfContext */
extern TNimType* NTI50527; /* TSymSeq */
extern TY10590 Gch_10608;
extern TNimType* NTI182010; /* PTransCon */
extern TNimType* NTI50519; /* TNodeSeq */
static N_INLINE(NI, Atomicinc_3001)(NI* Memloc_3004, NI X_3005) {
NI Result_7407;
Result_7407 = 0;
(*Memloc_3004) += X_3005;
Result_7407 = (*Memloc_3004);
return Result_7407;
}
static N_INLINE(NIM_BOOL, Canbecycleroot_11016)(TY10202* C_11018) {
NIM_BOOL Result_11019;
Result_11019 = 0;
Result_11019 = !((((*(*C_11018).Typ).flags &(1<<((((NU8) 1))&7)))!=0));
return Result_11019;
}
static N_INLINE(void, Rtladdcycleroot_11652)(TY10202* C_11654) {
Incl_10474(&Gch_10608.Cycleroots, C_11654);
}
static N_INLINE(void, Incref_12602)(TY10202* C_12604) {
NI LOC1;
NIM_BOOL LOC3;
LOC1 = Atomicinc_3001(&(*C_12604).Refcount, 8);
LOC3 = Canbecycleroot_11016(C_12604);
if (!LOC3) goto LA4;
Rtladdcycleroot_11652(C_12604);
LA4: ;
}
static N_INLINE(TY10202*, Usrtocell_11012)(void* Usr_11014) {
TY10202* Result_11015;
Result_11015 = 0;
Result_11015 = ((TY10202*) ((NI64)((NU64)(((NI) (Usr_11014))) - (NU64)(((NI) (((NI)sizeof(TY10202))))))));
return Result_11015;
}
static N_INLINE(NI, Atomicdec_3006)(NI* Memloc_3009, NI X_3010) {
NI Result_7606;
Result_7606 = 0;
(*Memloc_3009) -= X_3010;
Result_7606 = (*Memloc_3009);
return Result_7606;
}
static N_INLINE(void, Rtladdzct_12001)(TY10202* C_12003) {
Addzct_11001(&Gch_10608.Zct, C_12003);
}
static N_INLINE(void, Decref_12401)(TY10202* C_12403) {
NI LOC2;
NIM_BOOL LOC5;
LOC2 = Atomicdec_3006(&(*C_12403).Refcount, 8);
if (!((NU64)(LOC2) < (NU64)(8))) goto LA3;
Rtladdzct_12001(C_12403);
goto LA1;
LA3: ;
LOC5 = Canbecycleroot_11016(C_12403);
if (!LOC5) goto LA6;
Rtladdcycleroot_11652(C_12403);
goto LA1;
LA6: ;
LA1: ;
}
static N_INLINE(void, asgnRef)(void** Dest_12614, void* Src_12615) {
TY10202* LOC4;
TY10202* LOC8;
if (!!((Src_12615 == NIM_NIL))) goto LA2;
LOC4 = Usrtocell_11012(Src_12615);
Incref_12602(LOC4);
LA2: ;
if (!!(((*Dest_12614) == NIM_NIL))) goto LA6;
LOC8 = Usrtocell_11012((*Dest_12614));
Decref_12401(LOC8);
LA6: ;
(*Dest_12614) = Src_12615;
}
N_NIMCALL(TY100002*, Opentransf_184940)(TY50547* Module_184942, NimStringDesc* Filename_184943) {
TY100002* Result_184944;
TY182014* N_184945;
Result_184944 = 0;
N_184945 = 0;
N_184945 = (TY182014*) newObj(NTI182016, sizeof(TY182014));
(*N_184945).Sup.Sup.m_type = NTI182014;
asgnRef((void**) &(*N_184945).Blocksyms, (TY50527*) newSeq(NTI50527, 0));
asgnRef((void**) &(*N_184945).Module, Module_184942);
Result_184944 = &N_184945->Sup;
return Result_184944;
}
N_NIMCALL(void, Pushtranscon_182169)(TY182014* C_182171, TY182012* T_182172) {
asgnRef((void**) &(*T_182172).Next, (*C_182171).Transcon);
asgnRef((void**) &(*C_182171).Transcon, T_182172);
}
N_NIMCALL(TY182012*, Newtranscon_182138)(TY50547* Owner_182140) {
TY182012* Result_182141;
Result_182141 = 0;
Result_182141 = (TY182012*) newObj(NTI182010, sizeof(TY182012));
Initidnodetable_50762(&(*Result_182141).Mapping);
asgnRef((void**) &(*Result_182141).Owner, Owner_182140);
return Result_182141;
}
N_NIMCALL(TY50547*, Getcurrowner_182187)(TY182014* C_182189) {
TY50547* Result_182190;
Result_182190 = 0;
if (!!(((*C_182189).Transcon == NIM_NIL))) goto LA2;
Result_182190 = (*(*C_182189).Transcon).Owner;
goto LA1;
LA2: ;
Result_182190 = (*C_182189).Module;
LA1: ;
return Result_182190;
}
N_NIMCALL(TY50525*, Transformsymaux_182274)(TY182014* C_182276, TY50525* N_182277) {
TY50525* Result_182278;
TY50525* B_182279;
TY182012* Tc_182289;
TY50551* LOC15;
Result_182278 = 0;
B_182279 = 0;
if (!!(((*N_182277).Kind == ((NU8) 3)))) goto LA2;
Internalerror_42571((*N_182277).Info, ((NimStringDesc*) &TMP190220));
LA2: ;
Tc_182289 = 0;
Tc_182289 = (*C_182276).Transcon;
if (!(((*(*N_182277).KindU.S4.Sym).Flags &(1<<((((NU8) 29))&31)))!=0)) goto LA5;
B_182279 = (*(*(*N_182277).KindU.S4.Sym).Ast).KindU.S6.Sons->data[4];
if (!!(((*B_182279).Kind == ((NU8) 3)))) goto LA8;
Internalerror_42571((*N_182277).Info, ((NimStringDesc*) &TMP190221));
LA8: ;
B_182279 = Newsymnode_50734((*B_182279).KindU.S4.Sym);
(*B_182279).Info = (*N_182277).Info;
goto LA4;
LA5: ;
B_182279 = N_182277;
LA4: ;
while (1) {
if (!!((Tc_182289 == NIM_NIL))) goto LA10;
Result_182278 = Idnodetableget_55181((*Tc_182289).Mapping, &(*B_182279).KindU.S4.Sym->Sup);
if (!!((Result_182278 == NIM_NIL))) goto LA12;
goto BeforeRet;
LA12: ;
Tc_182289 = (*Tc_182289).Next;
} LA10: ;
Result_182278 = B_182279;
switch ((*(*B_182279).KindU.S4.Sym).Kind) {
case ((NU8) 8):
case ((NU8) 17):
LOC15 = 0;
LOC15 = Skiptypes_92087((*(*B_182279).KindU.S4.Sym).Typ, 43008);
if (!!(((851968 &(IL64(1)<<(((*LOC15).Kind)&IL64(63))))!=0))) goto LA16;
Result_182278 = Getconstexpr_108010((*C_182276).Module, B_182279);
if (!(Result_182278 == NIM_NIL)) goto LA19;
Internalerror_42571((*B_182279).Info, ((NimStringDesc*) &TMP190222));
LA19: ;
LA16: ;
break;
default:
break;
}
BeforeRet: ;
return Result_182278;
}
N_NIMCALL(TY50525*, Transformsym_182438)(TY182014* C_182440, TY50525* N_182441) {
TY50525* Result_182442;
Result_182442 = 0;
Result_182442 = Transformsymaux_182274(C_182440, N_182441);
return Result_182442;
}
static N_INLINE(TY50525*, Newtransnode_182028)(TY50525* A_182030) {
TY50525* Result_182031;
Result_182031 = 0;
Result_182031 = Shallowcopy_52477(A_182030);
return Result_182031;
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_12618, void* Src_12619) {
TY10202* C_12620;
NI LOC4;
TY10202* C_12622;
NI LOC9;
if (!!((Src_12619 == NIM_NIL))) goto LA2;
C_12620 = 0;
C_12620 = Usrtocell_11012(Src_12619);
LOC4 = Atomicinc_3001(&(*C_12620).Refcount, 8);
LA2: ;
if (!!(((*Dest_12618) == NIM_NIL))) goto LA6;
C_12622 = 0;
C_12622 = Usrtocell_11012((*Dest_12618));
LOC9 = Atomicdec_3006(&(*C_12622).Refcount, 8);
if (!((NU64)(LOC9) < (NU64)(8))) goto LA10;
Rtladdzct_12001(C_12622);
LA10: ;
LA6: ;
(*Dest_12618) = Src_12619;
}
static N_INLINE(void, HEX5BHEX5DHEX3D_182094)(TY50525* A_182096, NI I_182097, TY50525* X_182098) {
TY50525* N_182099;
N_182099 = 0;
N_182099 = A_182096;
asgnRefNoCycle((void**) &(*N_182099).KindU.S6.Sons->data[I_182097], X_182098);
}
N_NIMCALL(TY50525*, Skipconv_182817)(TY50525* N_182819) {
TY50525* Result_182820;
Result_182820 = 0;
switch ((*N_182819).Kind) {
case ((NU8) 56):
case ((NU8) 55):
case ((NU8) 62):
case ((NU8) 59):
case ((NU8) 57):
case ((NU8) 58):
Result_182820 = (*N_182819).KindU.S6.Sons->data[0];
break;
case ((NU8) 47):
case ((NU8) 48):
case ((NU8) 50):
Result_182820 = (*N_182819).KindU.S6.Sons->data[1];
break;
default:
Result_182820 = N_182819;
break;
}
return Result_182820;
}
N_NIMCALL(TY50525*, Transformarrayaccess_184364)(TY182014* C_184366, TY50525* N_184367) {
TY50525* Result_184368;
TY50525* LOC1;
TY50525* LOC2;
TY50525* LOC3;
TY50525* LOC4;
Result_184368 = 0;
Result_184368 = Newtransnode_182028(N_184367);
LOC1 = 0;
LOC1 = Skipconv_182817((*N_184367).KindU.S6.Sons->data[0]);
LOC2 = 0;
LOC2 = Transform_182221(C_184366, LOC1);
HEX5BHEX5DHEX3D_182094(Result_184368, 0, LOC2);
LOC3 = 0;
LOC3 = Skipconv_182817((*N_184367).KindU.S6.Sons->data[1]);
LOC4 = 0;
LOC4 = Transform_182221(C_184366, LOC3);
HEX5BHEX5DHEX3D_182094(Result_184368, 1, LOC4);
return Result_184368;
}
static N_INLINE(TY50525*, Newtransnode_182032)(NU8 Kind_182034, TY42536 Info_182035, NI Sons_182036) {
TY50525* Result_182037;
TY50525* X_182038;
Result_182037 = 0;
X_182038 = 0;
X_182038 = Newnodei_50737(Kind_182034, Info_182035);
asgnRefNoCycle((void**) &(*X_182038).KindU.S6.Sons, (TY50519*) newSeq(NTI50519, Sons_182036));
Result_182037 = X_182038;
return Result_182037;
}
static N_INLINE(NI, Sonslen_50803)(TY50525* N_50805) {
NI Result_51880;
Result_51880 = 0;
if (!(*N_50805).KindU.S6.Sons == 0) goto LA2;
Result_51880 = 0;
goto LA1;
LA2: ;
Result_51880 = (*N_50805).KindU.S6.Sons->Sup.len;
LA1: ;
return Result_51880;
}
N_NIMCALL(NIM_BOOL, Hascontinue_182717)(TY50525* N_182719) {
NIM_BOOL Result_182720;
NI I_182739;
NI HEX3Atmp_182752;
NI LOC4;
NI Res_182754;
NIM_BOOL LOC7;
Result_182720 = 0;
if (!(N_182719 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*N_182719).Kind) {
case ((NU8) 1) ... ((NU8) 18):
case ((NU8) 84):
case ((NU8) 85):
break;
case ((NU8) 98):
Result_182720 = NIM_TRUE;
break;
default:
I_182739 = 0;
HEX3Atmp_182752 = 0;
LOC4 = Sonslen_50803(N_182719);
HEX3Atmp_182752 = (NI64)(LOC4 - 1);
Res_182754 = 0;
Res_182754 = 0;
while (1) {
if (!(Res_182754 <= HEX3Atmp_182752)) goto LA5;
I_182739 = Res_182754;
LOC7 = Hascontinue_182717((*N_182719).KindU.S6.Sons->data[I_182739]);
if (!LOC7) goto LA8;
Result_182720 = NIM_TRUE;
goto BeforeRet;
LA8: ;
Res_182754 += 1;
} LA5: ;
break;
}
BeforeRet: ;
return Result_182720;
}
static N_INLINE(void, appendString)(NimStringDesc* Dest_18192, NimStringDesc* Src_18193) {
memcpy(((NCSTRING) (&(*Dest_18192).data[((*Dest_18192).Sup.len)-0])), ((NCSTRING) ((*Src_18193).data)), ((NI32) ((NI64)((NI64)((*Src_18193).Sup.len + 1) * 1))));
(*Dest_18192).Sup.len += (*Src_18193).Sup.len;
}
N_NIMCALL(TY50525*, Transformloopbody_182755)(TY182014* C_182757, TY50525* N_182758) {
TY50525* Result_182759;
NIM_BOOL LOC2;
TY50547* Labl_182760;
TY50547* LOC5;
NimStringDesc* LOC6;
NimStringDesc* LOC7;
TY50525* LOC8;
TY50525* LOC9;
TY50547* LOC10;
Result_182759 = 0;
LOC2 = Hascontinue_182717(N_182758);
if (!LOC2) goto LA3;
Labl_182760 = 0;
LOC5 = 0;
LOC5 = Getcurrowner_182187(C_182757);
Labl_182760 = Newsym_50701(((NU8) 19), NIM_NIL, LOC5);
LOC6 = 0;
LOC7 = 0;
LOC7 = nimIntToStr((*Labl_182760).Sup.Id);
LOC6 = rawNewString(LOC7->Sup.len + 4);
appendString(LOC6, ((NimStringDesc*) &TMP190224));
appendString(LOC6, LOC7);
asgnRefNoCycle((void**) &(*Labl_182760).Name, Getident_49016(LOC6));
(*Labl_182760).Info = (*N_182758).Info;
(*C_182757).Blocksyms = (TY50527*) incrSeq(&((*C_182757).Blocksyms)->Sup, sizeof(TY50547*));
asgnRef((void**) &(*C_182757).Blocksyms->data[(*C_182757).Blocksyms->Sup.len-1], Labl_182760);
Result_182759 = Newtransnode_182032(((NU8) 99), (*N_182758).Info, 2);
LOC8 = 0;
LOC8 = Newsymnode_50734(Labl_182760);
HEX5BHEX5DHEX3D_182094(Result_182759, 0, LOC8);
LOC9 = 0;
LOC9 = Transform_182221(C_182757, N_182758);
HEX5BHEX5DHEX3D_182094(Result_182759, 1, LOC9);
LOC10 = 0;
LOC10 = Pop_182786(&(*C_182757).Blocksyms);
goto LA1;
LA3: ;
Result_182759 = Transform_182221(C_182757, N_182758);
LA1: ;
return Result_182759;
}
N_NIMCALL(void, Addvar_183047)(TY50525* Father_183049, TY50525* V_183050) {
TY50525* Vpart_183051;
Vpart_183051 = 0;
Vpart_183051 = Newnodei_50737(((NU8) 25), (*V_183050).Info);
Addson_50823(Vpart_183051, V_183050);
Addson_50823(Vpart_183051, NIM_NIL);
Addson_50823(Vpart_183051, NIM_NIL);
Addson_50823(Father_183049, Vpart_183051);
}
static N_INLINE(void, Add_182130)(TY50525* A_182132, TY50525* B_182133) {
Addson_50823(A_182132, B_182133);
}
N_NIMCALL(TY50525*, Skippassasopenarray_183576)(TY50525* N_183578) {
TY50525* Result_183579;
Result_183579 = 0;
Result_183579 = N_183578;
while (1) {
if (!((*Result_183579).Kind == ((NU8) 62))) goto LA1;
Result_183579 = (*Result_183579).KindU.S6.Sons->data[0];
} LA1: ;
return Result_183579;
}
N_NIMCALL(NU8, Putarginto_183606)(TY50525* Arg_183608, TY50551* Formal_183609) {
NU8 Result_183610;
TY50551* LOC2;
NI I_183627;
NI HEX3Atmp_183658;
NI LOC5;
NI Res_183660;
NU8 LOC8;
TY50551* LOC12;
Result_183610 = 0;
LOC2 = 0;
LOC2 = Skiptypes_92087(Formal_183609, 43008);
if (!((*LOC2).Kind == ((NU8) 27))) goto LA3;
Result_183610 = ((NU8) 0);
goto BeforeRet;
LA3: ;
switch ((*Arg_183608).Kind) {
case ((NU8) 1) ... ((NU8) 18):
Result_183610 = ((NU8) 0);
break;
case ((NU8) 30):
case ((NU8) 31):
case ((NU8) 32):
Result_183610 = ((NU8) 1);
I_183627 = 0;
HEX3Atmp_183658 = 0;
LOC5 = Sonslen_50803(Arg_183608);
HEX3Atmp_183658 = (NI64)(LOC5 - 1);
Res_183660 = 0;
Res_183660 = 0;
while (1) {
if (!(Res_183660 <= HEX3Atmp_183658)) goto LA6;
I_183627 = Res_183660;
LOC8 = Putarginto_183606((*Arg_183608).KindU.S6.Sons->data[I_183627], Formal_183609);
if (!!((LOC8 == ((NU8) 0)))) goto LA9;
goto BeforeRet;
LA9: ;
Res_183660 += 1;
} LA6: ;
Result_183610 = ((NU8) 0);
break;
default:
LOC12 = 0;
LOC12 = Skiptypes_92087(Formal_183609, 43008);
if (!((*LOC12).Kind == ((NU8) 23))) goto LA13;
Result_183610 = ((NU8) 2);
goto LA11;
LA13: ;
Result_183610 = ((NU8) 1);
LA11: ;
break;
}
BeforeRet: ;
return Result_183610;
}
N_NIMCALL(TY50547*, Newtemp_182202)(TY182014* C_182204, TY50551* Typ_182205, TY42536 Info_182206) {
TY50547* Result_182207;
TY49011* LOC1;
TY50547* LOC2;
Result_182207 = 0;
LOC1 = 0;
LOC1 = Getident_49016(((NimStringDesc*) &TMP190224));
LOC2 = 0;
LOC2 = Getcurrowner_182187(C_182204);
Result_182207 = Newsym_50701(((NU8) 5), LOC1, LOC2);
(*Result_182207).Info = Info_182206;
asgnRef((void**) &(*Result_182207).Typ, Skiptypes_92087(Typ_182205, 2048));
(*Result_182207).Flags |=(1<<((NI32)(((NU8) 4))%(sizeof(NI32)*8)));
return Result_182207;
}
N_NIMCALL(TY50525*, Newasgnstmt_182268)(TY182014* C_182270, TY50525* Le_182271, TY50525* Ri_182272) {
TY50525* Result_182273;
Result_182273 = 0;
Result_182273 = Newtransnode_182032(((NU8) 64), (*Ri_182272).Info, 2);
HEX5BHEX5DHEX3D_182094(Result_182273, 0, Le_182271);
HEX5BHEX5DHEX3D_182094(Result_182273, 1, Ri_182272);
return Result_182273;
}
N_NIMCALL(void, Poptranscon_182173)(TY182014* C_182175) {
if (!((*C_182175).Transcon == NIM_NIL)) goto LA2;
Internalerror_42575(((NimStringDesc*) &TMP190226));
LA2: ;
asgnRef((void**) &(*C_182175).Transcon, (*(*C_182175).Transcon).Next);
}
N_NIMCALL(TY50525*, Transformfor_183661)(TY182014* C_183663, TY50525* N_183664) {
TY50525* Result_183665;
NI Length_183675;
TY50525* Loopbody_183688;
TY50525* V_183689;
NI I_183697;
NI HEX3Atmp_183882;
NI Res_183884;
TY50525* LOC5;
TY50525* Call_183722;
NIM_BOOL LOC7;
TY182012* Newc_183777;
NI I_183794;
NI HEX3Atmp_183885;
NI LOC14;
NI Res_183887;
TY50525* Arg_183807;
TY50525* LOC16;
TY50547* Formal_183832;
TY50551* LOC17;
NU8 LOC18;
TY50547* Temp_183834;
TY50525* LOC19;
TY50525* LOC20;
TY50525* LOC21;
TY50525* LOC22;
TY50525* Body_183857;
TY50525* LOC23;
Result_183665 = 0;
if (!!(((*N_183664).Kind == ((NU8) 84)))) goto LA2;
Internalerror_42571((*N_183664).Info, ((NimStringDesc*) &TMP190223));
LA2: ;
Result_183665 = Newtransnode_182032(((NU8) 101), (*N_183664).Info, 0);
Length_183675 = 0;
Length_183675 = Sonslen_50803(N_183664);
Loopbody_183688 = 0;
Loopbody_183688 = Transformloopbody_182755(C_183663, (*N_183664).KindU.S6.Sons->data[(NI64)(Length_183675 - 1)]);
V_183689 = 0;
V_183689 = Newnodei_50737(((NU8) 87), (*N_183664).Info);
I_183697 = 0;
HEX3Atmp_183882 = 0;
HEX3Atmp_183882 = (NI64)(Length_183675 - 3);
Res_183884 = 0;
Res_183884 = 0;
while (1) {
if (!(Res_183884 <= HEX3Atmp_183882)) goto LA4;
I_183697 = Res_183884;
LOC5 = 0;
LOC5 = Copytree_50858((*N_183664).KindU.S6.Sons->data[I_183697]);
Addvar_183047(V_183689, LOC5);
Res_183884 += 1;
} LA4: ;
Add_182130(Result_183665, V_183689);
Call_183722 = 0;
Call_183722 = (*N_183664).KindU.S6.Sons->data[(NI64)(Length_183675 - 2)];
LOC7 = !(((*Call_183722).Kind == ((NU8) 21)));
if (LOC7) goto LA8;
LOC7 = !(((*(*Call_183722).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)));
LA8: ;
if (!LOC7) goto LA9;
Internalerror_42571((*Call_183722).Info, ((NimStringDesc*) &TMP190223));
LA9: ;
Newc_183777 = 0;
Newc_183777 = Newtranscon_182138((*(*Call_183722).KindU.S6.Sons->data[0]).KindU.S4.Sym);
asgnRefNoCycle((void**) &(*Newc_183777).Forstmt, N_183664);
asgnRefNoCycle((void**) &(*Newc_183777).Forloopbody, Loopbody_183688);
if (!!(((*(*Newc_183777).Owner).Kind == ((NU8) 12)))) goto LA12;
Internalerror_42571((*Call_183722).Info, ((NimStringDesc*) &TMP190223));
LA12: ;
Pushtranscon_182169(C_183663, Newc_183777);
I_183794 = 0;
HEX3Atmp_183885 = 0;
LOC14 = Sonslen_50803(Call_183722);
HEX3Atmp_183885 = (NI64)(LOC14 - 1);
Res_183887 = 0;
Res_183887 = 1;
while (1) {
if (!(Res_183887 <= HEX3Atmp_183885)) goto LA15;
I_183794 = Res_183887;
Arg_183807 = 0;
LOC16 = 0;
LOC16 = Transform_182221(C_183663, (*Call_183722).KindU.S6.Sons->data[I_183794]);
Arg_183807 = Skippassasopenarray_183576(LOC16);
Formal_183832 = 0;
LOC17 = 0;
LOC17 = Skiptypes_92087((*(*Newc_183777).Owner).Typ, 43008);
Formal_183832 = (*(*(*LOC17).N).KindU.S6.Sons->data[I_183794]).KindU.S4.Sym;
LOC18 = Putarginto_183606(Arg_183807, (*Formal_183832).Typ);
switch (LOC18) {
case ((NU8) 0):
Idnodetableput_55185(&(*Newc_183777).Mapping, &Formal_183832->Sup, Arg_183807);
break;
case ((NU8) 1):
Temp_183834 = 0;
Temp_183834 = Newtemp_182202(C_183663, (*Formal_183832).Typ, (*Formal_183832).Info);
LOC19 = 0;
LOC19 = Newsymnode_50734(Temp_183834);
Addvar_183047(V_183689, LOC19);
LOC20 = 0;
LOC20 = Newsymnode_50734(Temp_183834);
LOC21 = 0;
LOC21 = Newasgnstmt_182268(C_183663, LOC20, Arg_183807);
Add_182130(Result_183665, LOC21);
LOC22 = 0;
LOC22 = Newsymnode_50734(Temp_183834);
Idnodetableput_55185(&(*Newc_183777).Mapping, &Formal_183832->Sup, LOC22);
break;
case ((NU8) 2):
Internalerror_42571((*Arg_183807).Info, ((NimStringDesc*) &TMP190225));
break;
}
Res_183887 += 1;
} LA15: ;
Body_183857 = 0;
Body_183857 = (*(*(*Newc_183777).Owner).Ast).KindU.S6.Sons->data[4];
Pushinfocontext_42610((*N_183664).Info);
(*C_183663).Inlining += 1;
LOC23 = 0;
LOC23 = Transform_182221(C_183663, Body_183857);
Add_182130(Result_183665, LOC23);
(*C_183663).Inlining -= 1;
Popinfocontext_42613();
Poptranscon_182173(C_183663);
return Result_183665;
}
static N_INLINE(TY50525*, Newtransnode_182063)(NU8 Kind_182065, TY50525* N_182066, NI Sons_182067) {
TY50525* Result_182068;
TY50525* X_182069;
Result_182068 = 0;
X_182069 = 0;
X_182069 = Newnodeit_50741(Kind_182065, (*N_182066).Info, (*N_182066).Typ);
asgnRefNoCycle((void**) &(*X_182069).KindU.S6.Sons, (TY50519*) newSeq(NTI50519, Sons_182067));
asgnRef((void**) &(*X_182069).Typ, (*N_182066).Typ);
Result_182068 = X_182069;
return Result_182068;
}
static N_INLINE(TY50525*, Lastson_50809)(TY50525* N_50811) {
TY50525* Result_52817;
NI LOC1;
Result_52817 = 0;
LOC1 = Sonslen_50803(N_50811);
Result_52817 = (*N_50811).KindU.S6.Sons->data[(NI64)(LOC1 - 1)];
return Result_52817;
}
N_NIMCALL(TY50525*, Transformcase_184265)(TY182014* C_184267, TY50525* N_184268) {
TY50525* Result_184269;
TY50525* Ifs_184270;
NI I_184278;
NI HEX3Atmp_184361;
NI LOC1;
NI Res_184363;
TY50525* It_184291;
TY50525* E_184292;
TY50525* Elsebranch_184326;
NIM_BOOL LOC12;
TY50525* LOC13;
TY50551* LOC15;
TY50525* Elsebranch_184360;
TY50525* LOC18;
Result_184269 = 0;
Result_184269 = Newtransnode_182063(((NU8) 86), N_184268, 0);
Ifs_184270 = 0;
Ifs_184270 = NIM_NIL;
I_184278 = 0;
HEX3Atmp_184361 = 0;
LOC1 = Sonslen_50803(N_184268);
HEX3Atmp_184361 = (NI64)(LOC1 - 1);
Res_184363 = 0;
Res_184363 = 0;
while (1) {
if (!(Res_184363 <= HEX3Atmp_184361)) goto LA2;
I_184278 = Res_184363;
It_184291 = 0;
It_184291 = (*N_184268).KindU.S6.Sons->data[I_184278];
E_184292 = 0;
E_184292 = Transform_182221(C_184267, It_184291);
switch ((*It_184291).Kind) {
case ((NU8) 76):
if (!(Ifs_184270 == NIM_NIL)) goto LA4;
Ifs_184270 = Newtransnode_182032(((NU8) 82), (*It_184291).Info, 0);
LA4: ;
Add_182130(Ifs_184270, E_184292);
break;
case ((NU8) 78):
if (!(Ifs_184270 == NIM_NIL)) goto LA7;
Add_182130(Result_184269, E_184292);
goto LA6;
LA7: ;
Add_182130(Ifs_184270, E_184292);
LA6: ;
break;
default:
Add_182130(Result_184269, E_184292);
break;
}
Res_184363 += 1;
} LA2: ;
if (!!((Ifs_184270 == NIM_NIL))) goto LA10;
Elsebranch_184326 = 0;
Elsebranch_184326 = Newtransnode_182032(((NU8) 78), (*N_184268).Info, 1);
HEX5BHEX5DHEX3D_182094(Elsebranch_184326, 0, Ifs_184270);
Add_182130(Result_184269, Elsebranch_184326);
goto LA9;
LA10: ;
LOC13 = 0;
LOC13 = Lastson_50809(Result_184269);
LOC12 = !(((*LOC13).Kind == ((NU8) 78)));
if (!(LOC12)) goto LA14;
LOC15 = 0;
LOC15 = Skiptypes_92087((*(*N_184268).KindU.S6.Sons->data[0]).Typ, 9480192);
LOC12 = !(((IL64(66572009476) &(IL64(1)<<(((*LOC15).Kind)&IL64(63))))!=0));
LA14: ;
if (!LOC12) goto LA16;
Elsebranch_184360 = 0;
Elsebranch_184360 = Newtransnode_182032(((NU8) 78), (*N_184268).Info, 1);
LOC18 = 0;
LOC18 = Newtransnode_182032(((NU8) 18), (*N_184268).Info, 0);
HEX5BHEX5DHEX3D_182094(Elsebranch_184360, 0, LOC18);
Add_182130(Result_184269, Elsebranch_184360);
goto LA9;
LA16: ;
LA9: ;
return Result_184269;
}
N_NIMCALL(TY50547*, Getmergeop_184393)(TY50525* N_184395) {
TY50547* Result_184396;
NIM_BOOL LOC2;
NIM_BOOL LOC3;
Result_184396 = 0;
switch ((*N_184395).Kind) {
case ((NU8) 21):
case ((NU8) 49):
case ((NU8) 20):
case ((NU8) 27):
case ((NU8) 28):
case ((NU8) 29):
case ((NU8) 22):
LOC3 = ((*(*N_184395).KindU.S6.Sons->data[0]).Kind == ((NU8) 3));
if (!(LOC3)) goto LA4;
LOC3 = ((*(*(*N_184395).KindU.S6.Sons->data[0]).KindU.S4.Sym).Kind == ((NU8) 10));
LA4: ;
LOC2 = LOC3;
if (!(LOC2)) goto LA5;
LOC2 = (((*(*(*N_184395).KindU.S6.Sons->data[0]).KindU.S4.Sym).Flags &(1<<((((NU8) 27))&31)))!=0);
LA5: ;
if (!LOC2) goto LA6;
Result_184396 = (*(*N_184395).KindU.S6.Sons->data[0]).KindU.S4.Sym;
LA6: ;
break;
default:
break;
}
return Result_184396;
}
N_NIMCALL(void, Flattentreeaux_184510)(TY50525* D_184512, TY50525* A_184513, TY50547* Op_184514) {
TY50547* Op2_184515;
NIM_BOOL LOC2;
NIM_BOOL LOC4;
NIM_BOOL LOC6;
NI I_184554;
NI HEX3Atmp_184567;
NI LOC10;
NI Res_184569;
TY50525* LOC12;
Op2_184515 = 0;
Op2_184515 = Getmergeop_184393(A_184513);
LOC2 = !((Op2_184515 == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC4 = ((*Op2_184515).Sup.Id == (*Op_184514).Sup.Id);
if (LOC4) goto LA5;
LOC6 = !(((*Op_184514).Magic == ((NU8) 0)));
if (!(LOC6)) goto LA7;
LOC6 = ((*Op2_184515).Magic == (*Op_184514).Magic);
LA7: ;
LOC4 = LOC6;
LA5: ;
LOC2 = LOC4;
LA3: ;
if (!LOC2) goto LA8;
I_184554 = 0;
HEX3Atmp_184567 = 0;
LOC10 = Sonslen_50803(A_184513);
HEX3Atmp_184567 = (NI64)(LOC10 - 1);
Res_184569 = 0;
Res_184569 = 1;
while (1) {
if (!(Res_184569 <= HEX3Atmp_184567)) goto LA11;
I_184554 = Res_184569;
Flattentreeaux_184510(D_184512, (*A_184513).KindU.S6.Sons->data[I_184554], Op_184514);
Res_184569 += 1;
} LA11: ;
goto LA1;
LA8: ;
LOC12 = 0;
LOC12 = Copytree_50858(A_184513);
Addson_50823(D_184512, LOC12);
LA1: ;
}
N_NIMCALL(TY50525*, Flattentree_184570)(TY50525* Root_184572) {
TY50525* Result_184573;
TY50547* Op_184574;
TY50525* LOC4;
Result_184573 = 0;
Op_184574 = 0;
Op_184574 = Getmergeop_184393(Root_184572);
if (!!((Op_184574 == NIM_NIL))) goto LA2;
Result_184573 = Copynode_50855(Root_184572);
LOC4 = 0;
LOC4 = Copytree_50858((*Root_184572).KindU.S6.Sons->data[0]);
Addson_50823(Result_184573, LOC4);
Flattentreeaux_184510(Result_184573, Root_184572, Op_184574);
goto LA1;
LA2: ;
Result_184573 = Root_184572;
LA1: ;
return Result_184573;
}
static N_INLINE(NI, Len_182134)(TY50525* A_182136) {
NI Result_182137;
Result_182137 = 0;
Result_182137 = Sonslen_50803(A_182136);
return Result_182137;
}
static N_INLINE(TY50525*, HEX5BHEX5D_182112)(TY50525* A_182114, NI I_182115) {
TY50525* Result_182116;
TY50525* N_182117;
Result_182116 = 0;
N_182117 = 0;
N_182117 = A_182114;
Result_182116 = (*N_182117).KindU.S6.Sons->data[I_182115];
return Result_182116;
}
N_NIMCALL(TY50525*, Transformsons_182225)(TY182014* C_182227, TY50525* N_182228) {
TY50525* Result_182229;
NI I_182252;
NI HEX3Atmp_182265;
NI LOC1;
NI Res_182267;
TY50525* LOC3;
Result_182229 = 0;
Result_182229 = Newtransnode_182028(N_182228);
I_182252 = 0;
HEX3Atmp_182265 = 0;
LOC1 = Sonslen_50803(N_182228);
HEX3Atmp_182265 = (NI64)(LOC1 - 1);
Res_182267 = 0;
Res_182267 = 0;
while (1) {
if (!(Res_182267 <= HEX3Atmp_182265)) goto LA2;
I_182252 = Res_182267;
LOC3 = 0;
LOC3 = Transform_182221(C_182227, (*N_182228).KindU.S6.Sons->data[I_182252]);
HEX5BHEX5DHEX3D_182094(Result_182229, I_182252, LOC3);
Res_182267 += 1;
} LA2: ;
return Result_182229;
}
N_NIMCALL(TY50525*, Transformcall_184598)(TY182014* C_184600, TY50525* N_184601) {
TY50525* Result_184602;
TY50525* N_184603;
TY50547* Op_184604;
NIM_BOOL LOC2;
NIM_BOOL LOC3;
NI LOC6;
TY50525* LOC9;
NI J_184639;
NI LOC11;
TY50525* A_184654;
NIM_BOOL LOC13;
NIM_BOOL LOC17;
NI LOC18;
TY50525* LOC20;
NI LOC22;
NIM_BOOL LOC25;
TY50525* LOC29;
Result_184602 = 0;
N_184603 = 0;
N_184603 = Flattentree_184570(N_184601);
Op_184604 = 0;
Op_184604 = Getmergeop_184393(N_184603);
LOC3 = !((Op_184604 == NIM_NIL));
if (!(LOC3)) goto LA4;
LOC3 = !(((*Op_184604).Magic == ((NU8) 0)));
LA4: ;
LOC2 = LOC3;
if (!(LOC2)) goto LA5;
LOC6 = Sonslen_50803(N_184603);
LOC2 = (3 <= LOC6);
LA5: ;
if (!LOC2) goto LA7;
Result_184602 = Newtransnode_182063(((NU8) 21), N_184603, 0);
LOC9 = 0;
LOC9 = Transform_182221(C_184600, (*N_184603).KindU.S6.Sons->data[0]);
Add_182130(Result_184602, LOC9);
J_184639 = 0;
J_184639 = 1;
while (1) {
LOC11 = Sonslen_50803(N_184603);
if (!(J_184639 < LOC11)) goto LA10;
A_184654 = 0;
A_184654 = (*N_184603).KindU.S6.Sons->data[J_184639];
J_184639 += 1;
LOC13 = Isconstexpr_91016(A_184654);
if (!LOC13) goto LA14;
while (1) {
LOC18 = Sonslen_50803(N_184603);
LOC17 = (J_184639 < LOC18);
if (!(LOC17)) goto LA19;
LOC17 = Isconstexpr_91016((*N_184603).KindU.S6.Sons->data[J_184639]);
LA19: ;
if (!LOC17) goto LA16;
A_184654 = Evalop_108014((*Op_184604).Magic, N_184603, A_184654, (*N_184603).KindU.S6.Sons->data[J_184639], NIM_NIL);
J_184639 += 1;
} LA16: ;
LA14: ;
LOC20 = 0;
LOC20 = Transform_182221(C_184600, A_184654);
Add_182130(Result_184602, LOC20);
} LA10: ;
LOC22 = Len_182134(Result_184602);
if (!(LOC22 == 2)) goto LA23;
Result_184602 = HEX5BHEX5D_182112(Result_184602, 1);
LA23: ;
goto LA1;
LA7: ;
LOC25 = ((*(*N_184603).KindU.S6.Sons->data[0]).Kind == ((NU8) 3));
if (!(LOC25)) goto LA26;
LOC25 = ((*(*(*N_184603).KindU.S6.Sons->data[0]).KindU.S4.Sym).Kind == ((NU8) 11));
LA26: ;
if (!LOC25) goto LA27;
LOC29 = 0;
LOC29 = Transformsons_182225(C_184600, N_184603);
Result_184602 = Methodcall_154007(LOC29);
goto LA1;
LA27: ;
Result_184602 = Transformsons_182225(C_184600, N_184603);
LA1: ;
return Result_184602;
}
N_NIMCALL(TY50525*, Transformaddrderef_183052)(TY182014* C_183054, TY50525* N_183055, NU8 A_183056, NU8 B_183057) {
TY50525* Result_183058;
TY50525* M_183095;
NIM_BOOL LOC2;
TY50525* X_183114;
TY50525* M_183187;
NIM_BOOL LOC7;
TY50525* X_183206;
NIM_BOOL LOC12;
Result_183058 = 0;
switch ((*(*N_183055).KindU.S6.Sons->data[0]).Kind) {
case ((NU8) 56):
case ((NU8) 55):
case ((NU8) 62):
case ((NU8) 59):
case ((NU8) 57):
case ((NU8) 58):
M_183095 = 0;
M_183095 = (*(*N_183055).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[0];
LOC2 = ((*M_183095).Kind == A_183056);
if (LOC2) goto LA3;
LOC2 = ((*M_183095).Kind == B_183057);
LA3: ;
if (!LOC2) goto LA4;
X_183114 = 0;
X_183114 = Copytree_50858(N_183055);
asgnRefNoCycle((void**) &(*(*X_183114).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[0], (*M_183095).KindU.S6.Sons->data[0]);
Result_183058 = Transform_182221(C_183054, (*X_183114).KindU.S6.Sons->data[0]);
goto LA1;
LA4: ;
Result_183058 = Transformsons_182225(C_183054, N_183055);
LA1: ;
break;
case ((NU8) 47):
case ((NU8) 48):
case ((NU8) 50):
M_183187 = 0;
M_183187 = (*(*N_183055).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[1];
LOC7 = ((*M_183187).Kind == A_183056);
if (LOC7) goto LA8;
LOC7 = ((*M_183187).Kind == B_183057);
LA8: ;
if (!LOC7) goto LA9;
X_183206 = 0;
X_183206 = Copytree_50858(N_183055);
asgnRefNoCycle((void**) &(*(*X_183206).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[1], (*M_183187).KindU.S6.Sons->data[0]);
Result_183058 = Transform_182221(C_183054, (*X_183206).KindU.S6.Sons->data[0]);
goto LA6;
LA9: ;
Result_183058 = Transformsons_182225(C_183054, N_183055);
LA6: ;
break;
default:
LOC12 = ((*(*N_183055).KindU.S6.Sons->data[0]).Kind == A_183056);
if (LOC12) goto LA13;
LOC12 = ((*(*N_183055).KindU.S6.Sons->data[0]).Kind == B_183057);
LA13: ;
if (!LOC12) goto LA14;
Result_183058 = Transform_182221(C_183054, (*(*N_183055).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[0]);
goto LA11;
LA14: ;
Result_183058 = Transformsons_182225(C_183054, N_183055);
LA11: ;
break;
}
return Result_183058;
}
N_NIMCALL(TY50525*, Transformconv_183321)(TY182014* C_183323, TY50525* N_183324) {
TY50525* Result_183325;
TY50551* Dest_183326;
TY50551* Source_183339;
NIM_BOOL LOC2;
NIM_BOOL LOC5;
NI64 LOC6;
NI64 LOC7;
NI64 LOC9;
NI64 LOC10;
NIM_BOOL LOC14;
TY50525* LOC18;
NI64 LOC19;
TY50525* LOC20;
NI64 LOC21;
TY50525* LOC22;
TY50551* LOC24;
TY50525* LOC27;
TY50525* LOC28;
TY50525* LOC29;
TY50525* LOC30;
TY50525* LOC34;
TY50525* LOC38;
NI Diff_183482;
TY50525* LOC45;
TY50525* LOC48;
NI Diff_183523;
TY50525* LOC52;
TY50525* LOC55;
Result_183325 = 0;
Dest_183326 = 0;
Dest_183326 = Skiptypes_92087((*N_183324).Typ, 9480192);
Source_183339 = 0;
Source_183339 = Skiptypes_92087((*(*N_183324).KindU.S6.Sons->data[1]).Typ, 9480192);
switch ((*Dest_183326).Kind) {
case ((NU8) 31) ... ((NU8) 35):
case ((NU8) 14):
case ((NU8) 2):
case ((NU8) 1):
LOC2 = Isordinaltype_92069(Source_183339);
if (!!(LOC2)) goto LA3;
Result_183325 = Transformsons_182225(C_183323, N_183324);
goto LA1;
LA3: ;
LOC6 = Firstord_92001(Dest_183326);
LOC7 = Firstord_92001(Source_183339);
LOC5 = (LOC6 <= LOC7);
if (!(LOC5)) goto LA8;
LOC9 = Lastord_92004(Source_183339);
LOC10 = Lastord_92004(Dest_183326);
LOC5 = (LOC9 <= LOC10);
LA8: ;
if (!LOC5) goto LA11;
Result_183325 = Transformsons_182225(C_183323, N_183324);
goto LA1;
LA11: ;
LOC14 = ((*Dest_183326).Kind == ((NU8) 35));
if (LOC14) goto LA15;
LOC14 = ((*Source_183339).Kind == ((NU8) 35));
LA15: ;
if (!LOC14) goto LA16;
Result_183325 = Newtransnode_182063(((NU8) 58), N_183324, 3);
goto LA13;
LA16: ;
Result_183325 = Newtransnode_182063(((NU8) 59), N_183324, 3);
LA13: ;
Dest_183326 = Skiptypes_92087((*N_183324).Typ, 8431616);
LOC18 = 0;
LOC18 = Transform_182221(C_183323, (*N_183324).KindU.S6.Sons->data[1]);
HEX5BHEX5DHEX3D_182094(Result_183325, 0, LOC18);
LOC19 = Firstord_92001(Dest_183326);
LOC20 = 0;
LOC20 = Newinttypenode_50717(((NU8) 6), LOC19, Source_183339);
HEX5BHEX5DHEX3D_182094(Result_183325, 1, LOC20);
LOC21 = Lastord_92004(Dest_183326);
LOC22 = 0;
LOC22 = Newinttypenode_50717(((NU8) 6), LOC21, Source_183339);
HEX5BHEX5DHEX3D_182094(Result_183325, 2, LOC22);
LA1: ;
break;
case ((NU8) 36) ... ((NU8) 39):
LOC24 = 0;
LOC24 = Skiptypes_92087((*N_183324).Typ, 8431616);
if (!((*LOC24).Kind == ((NU8) 20))) goto LA25;
Result_183325 = Newtransnode_182063(((NU8) 57), N_183324, 3);
Dest_183326 = Skiptypes_92087((*N_183324).Typ, 8431616);
LOC27 = 0;
LOC27 = Transform_182221(C_183323, (*N_183324).KindU.S6.Sons->data[1]);
HEX5BHEX5DHEX3D_182094(Result_183325, 0, LOC27);
LOC28 = 0;
LOC28 = Copytree_50858((*(*Dest_183326).N).KindU.S6.Sons->data[0]);
HEX5BHEX5DHEX3D_182094(Result_183325, 1, LOC28);
LOC29 = 0;
LOC29 = Copytree_50858((*(*Dest_183326).N).KindU.S6.Sons->data[1]);
HEX5BHEX5DHEX3D_182094(Result_183325, 2, LOC29);
goto LA23;
LA25: ;
Result_183325 = Transformsons_182225(C_183323, N_183324);
LA23: ;
break;
case ((NU8) 27):
Result_183325 = Newtransnode_182063(((NU8) 62), N_183324, 1);
LOC30 = 0;
LOC30 = Transform_182221(C_183323, (*N_183324).KindU.S6.Sons->data[1]);
HEX5BHEX5DHEX3D_182094(Result_183325, 0, LOC30);
break;
case ((NU8) 29):
if (!((*Source_183339).Kind == ((NU8) 28))) goto LA32;
Result_183325 = Newtransnode_182063(((NU8) 60), N_183324, 1);
LOC34 = 0;
LOC34 = Transform_182221(C_183323, (*N_183324).KindU.S6.Sons->data[1]);
HEX5BHEX5DHEX3D_182094(Result_183325, 0, LOC34);
goto LA31;
LA32: ;
Result_183325 = Transformsons_182225(C_183323, N_183324);
LA31: ;
break;
case ((NU8) 28):
if (!((*Source_183339).Kind == ((NU8) 29))) goto LA36;
Result_183325 = Newtransnode_182063(((NU8) 61), N_183324, 1);
LOC38 = 0;
LOC38 = Transform_182221(C_183323, (*N_183324).KindU.S6.Sons->data[1]);
HEX5BHEX5DHEX3D_182094(Result_183325, 0, LOC38);
goto LA35;
LA36: ;
Result_183325 = Transformsons_182225(C_183323, N_183324);
LA35: ;
break;
case ((NU8) 22):
case ((NU8) 21):
Dest_183326 = Skiptypes_92087(Dest_183326, 14723072);
Source_183339 = Skiptypes_92087(Source_183339, 14723072);
if (!((*Source_183339).Kind == ((NU8) 17))) goto LA40;
Diff_183482 = 0;
Diff_183482 = Inheritancediff_92121(Dest_183326, Source_183339);
if (!(Diff_183482 < 0)) goto LA43;
Result_183325 = Newtransnode_182063(((NU8) 56), N_183324, 1);
LOC45 = 0;
LOC45 = Transform_182221(C_183323, (*N_183324).KindU.S6.Sons->data[1]);
HEX5BHEX5DHEX3D_182094(Result_183325, 0, LOC45);
goto LA42;
LA43: ;
if (!(0 < Diff_183482)) goto LA46;
Result_183325 = Newtransnode_182063(((NU8) 55), N_183324, 1);
LOC48 = 0;
LOC48 = Transform_182221(C_183323, (*N_183324).KindU.S6.Sons->data[1]);
HEX5BHEX5DHEX3D_182094(Result_183325, 0, LOC48);
goto LA42;
LA46: ;
Result_183325 = Transform_182221(C_183323, (*N_183324).KindU.S6.Sons->data[1]);
LA42: ;
goto LA39;
LA40: ;
Result_183325 = Transformsons_182225(C_183323, N_183324);
LA39: ;
break;
case ((NU8) 17):
Diff_183523 = 0;
Diff_183523 = Inheritancediff_92121(Dest_183326, Source_183339);
if (!(Diff_183523 < 0)) goto LA50;
Result_183325 = Newtransnode_182063(((NU8) 56), N_183324, 1);
LOC52 = 0;
LOC52 = Transform_182221(C_183323, (*N_183324).KindU.S6.Sons->data[1]);
HEX5BHEX5DHEX3D_182094(Result_183325, 0, LOC52);
goto LA49;
LA50: ;
if (!(0 < Diff_183523)) goto LA53;
Result_183325 = Newtransnode_182063(((NU8) 55), N_183324, 1);
LOC55 = 0;
LOC55 = Transform_182221(C_183323, (*N_183324).KindU.S6.Sons->data[1]);
HEX5BHEX5DHEX3D_182094(Result_183325, 0, LOC55);
goto LA49;
LA53: ;
Result_183325 = Transform_182221(C_183323, (*N_183324).KindU.S6.Sons->data[1]);
LA49: ;
break;
case ((NU8) 12):
case ((NU8) 15):
Result_183325 = Transform_182221(C_183323, (*N_183324).KindU.S6.Sons->data[1]);
break;
default:
Result_183325 = Transformsons_182225(C_183323, N_183324);
break;
}
return Result_183325;
}
N_NIMCALL(TY50525*, Transformvarsection_182443)(TY182014* C_182445, TY50525* V_182446) {
TY50525* Result_182447;
NI I_182455;
NI HEX3Atmp_182714;
NI LOC1;
NI Res_182716;
TY50525* It_182468;
TY50547* Newvar_182532;
TY50525* LOC11;
TY50525* Defs_182570;
TY50525* LOC12;
TY50525* LOC13;
NI L_182604;
TY50525* Defs_182605;
NI J_182613;
NI HEX3Atmp_182711;
NI Res_182713;
TY50547* Newvar_182638;
TY50525* LOC18;
TY50525* LOC19;
TY50525* LOC20;
Result_182447 = 0;
Result_182447 = Newtransnode_182028(V_182446);
I_182455 = 0;
HEX3Atmp_182714 = 0;
LOC1 = Sonslen_50803(V_182446);
HEX3Atmp_182714 = (NI64)(LOC1 - 1);
Res_182716 = 0;
Res_182716 = 0;
while (1) {
if (!(Res_182716 <= HEX3Atmp_182714)) goto LA2;
I_182455 = Res_182716;
It_182468 = 0;
It_182468 = (*V_182446).KindU.S6.Sons->data[I_182455];
if (!((*It_182468).Kind == ((NU8) 105))) goto LA4;
HEX5BHEX5DHEX3D_182094(Result_182447, I_182455, It_182468);
goto LA3;
LA4: ;
if (!((*It_182468).Kind == ((NU8) 25))) goto LA6;
if (!!(((*(*It_182468).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA9;
Internalerror_42571((*It_182468).Info, ((NimStringDesc*) &TMP190230));
LA9: ;
Newvar_182532 = 0;
Newvar_182532 = Copysym_50775((*(*It_182468).KindU.S6.Sons->data[0]).KindU.S4.Sym, NIM_FALSE);
(*Newvar_182532).Flags |=(1<<((NI32)(((NU8) 4))%(sizeof(NI32)*8)));
asgnRef((void**) &(*Newvar_182532).Owner, Getcurrowner_182187(C_182445));
LOC11 = 0;
LOC11 = Newsymnode_50734(Newvar_182532);
Idnodetableput_55185(&(*(*C_182445).Transcon).Mapping, &(*(*It_182468).KindU.S6.Sons->data[0]).KindU.S4.Sym->Sup, LOC11);
Defs_182570 = 0;
Defs_182570 = Newtransnode_182032(((NU8) 25), (*It_182468).Info, 3);
LOC12 = 0;
LOC12 = Newsymnode_50734(Newvar_182532);
HEX5BHEX5DHEX3D_182094(Defs_182570, 0, LOC12);
HEX5BHEX5DHEX3D_182094(Defs_182570, 1, (*It_182468).KindU.S6.Sons->data[1]);
LOC13 = 0;
LOC13 = Transform_182221(C_182445, (*It_182468).KindU.S6.Sons->data[2]);
HEX5BHEX5DHEX3D_182094(Defs_182570, 2, LOC13);
HEX5BHEX5DHEX3D_182094(Result_182447, I_182455, Defs_182570);
goto LA3;
LA6: ;
if (!!(((*It_182468).Kind == ((NU8) 26)))) goto LA15;
Internalerror_42571((*It_182468).Info, ((NimStringDesc*) &TMP190231));
LA15: ;
L_182604 = 0;
L_182604 = Sonslen_50803(It_182468);
Defs_182605 = 0;
Defs_182605 = Newtransnode_182032((*It_182468).Kind, (*It_182468).Info, L_182604);
J_182613 = 0;
HEX3Atmp_182711 = 0;
HEX3Atmp_182711 = (NI64)(L_182604 - 3);
Res_182713 = 0;
Res_182713 = 0;
while (1) {
if (!(Res_182713 <= HEX3Atmp_182711)) goto LA17;
J_182613 = Res_182713;
Newvar_182638 = 0;
Newvar_182638 = Copysym_50775((*(*It_182468).KindU.S6.Sons->data[J_182613]).KindU.S4.Sym, NIM_FALSE);
(*Newvar_182638).Flags |=(1<<((NI32)(((NU8) 4))%(sizeof(NI32)*8)));
asgnRef((void**) &(*Newvar_182638).Owner, Getcurrowner_182187(C_182445));
LOC18 = 0;
LOC18 = Newsymnode_50734(Newvar_182638);
Idnodetableput_55185(&(*(*C_182445).Transcon).Mapping, &(*(*It_182468).KindU.S6.Sons->data[J_182613]).KindU.S4.Sym->Sup, LOC18);
LOC19 = 0;
LOC19 = Newsymnode_50734(Newvar_182638);
HEX5BHEX5DHEX3D_182094(Defs_182605, J_182613, LOC19);
Res_182713 += 1;
} LA17: ;
LOC20 = 0;
LOC20 = Transform_182221(C_182445, (*It_182468).KindU.S6.Sons->data[(NI64)(L_182604 - 1)]);
HEX5BHEX5DHEX3D_182094(Defs_182605, (NI64)(L_182604 - 1), LOC20);
HEX5BHEX5DHEX3D_182094(Result_182447, I_182455, Defs_182605);
LA3: ;
Res_182716 += 1;
} LA2: ;
return Result_182447;
}
N_NIMCALL(TY50525*, Newtupleaccess_182845)(TY50525* Tup_182847, NI I_182848) {
TY50525* Result_182849;
TY50525* LOC1;
TY50525* Lit_182850;
TY50551* LOC2;
Result_182849 = 0;
Result_182849 = Newnodeit_50741(((NU8) 33), (*Tup_182847).Info, (*(*Tup_182847).Typ).Sons->data[I_182848]);
LOC1 = 0;
LOC1 = Copytree_50858(Tup_182847);
Addson_50823(Result_182849, LOC1);
Lit_182850 = 0;
LOC2 = 0;
LOC2 = Getsystype_97008(((NU8) 31));
Lit_182850 = Newnodeit_50741(((NU8) 6), (*Tup_182847).Info, LOC2);
(*Lit_182850).KindU.S1.Intval = ((NI64) (I_182848));
Addson_50823(Result_182849, Lit_182850);
return Result_182849;
}
N_NIMCALL(void, Unpacktuple_182863)(TY182014* C_182865, TY50525* N_182866, TY50525* Father_182867) {
NI I_182875;
NI HEX3Atmp_182888;
NI LOC1;
NI Res_182890;
TY50525* LOC3;
TY50525* LOC4;
TY50525* LOC5;
I_182875 = 0;
HEX3Atmp_182888 = 0;
LOC1 = Sonslen_50803((*(*C_182865).Transcon).Forstmt);
HEX3Atmp_182888 = (NI64)(LOC1 - 3);
Res_182890 = 0;
Res_182890 = 0;
while (1) {
if (!(Res_182890 <= HEX3Atmp_182888)) goto LA2;
I_182875 = Res_182890;
LOC3 = 0;
LOC3 = Newtupleaccess_182845(N_182866, I_182875);
LOC4 = 0;
LOC4 = Transform_182221(C_182865, LOC3);
LOC5 = 0;
LOC5 = Newasgnstmt_182268(C_182865, (*(*(*C_182865).Transcon).Forstmt).KindU.S6.Sons->data[I_182875], LOC4);
Add_182130(Father_182867, LOC5);
Res_182890 += 1;
} LA2: ;
}
N_NIMCALL(TY50525*, Introducenewlocalvars_182891)(TY182014* C_182893, TY50525* N_182894) {
TY50525* Result_182895;
NI I_182932;
NI HEX3Atmp_182945;
NI LOC4;
NI Res_182947;
TY50525* LOC6;
Result_182895 = 0;
if (!(N_182894 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*N_182894).Kind) {
case ((NU8) 3):
Result_182895 = Transformsym_182438(C_182893, N_182894);
goto BeforeRet;
break;
case ((NU8) 1) ... ((NU8) 2):
case ((NU8) 4) ... ((NU8) 18):
Result_182895 = N_182894;
break;
case ((NU8) 87):
Result_182895 = Transformvarsection_182443(C_182893, N_182894);
break;
default:
Result_182895 = Newtransnode_182028(N_182894);
I_182932 = 0;
HEX3Atmp_182945 = 0;
LOC4 = Sonslen_50803(N_182894);
HEX3Atmp_182945 = (NI64)(LOC4 - 1);
Res_182947 = 0;
Res_182947 = 0;
while (1) {
if (!(Res_182947 <= HEX3Atmp_182945)) goto LA5;
I_182932 = Res_182947;
LOC6 = 0;
LOC6 = Introducenewlocalvars_182891(C_182893, (*N_182894).KindU.S6.Sons->data[I_182932]);
HEX5BHEX5DHEX3D_182094(Result_182895, I_182932, LOC6);
Res_182947 += 1;
} LA5: ;
break;
}
BeforeRet: ;
return Result_182895;
}
N_NIMCALL(TY50525*, Transformyield_182948)(TY182014* C_182950, TY50525* N_182951) {
TY50525* Result_182952;
TY50525* E_182965;
TY50551* LOC2;
NI I_182992;
NI HEX3Atmp_183044;
NI LOC8;
NI Res_183046;
TY50525* LOC10;
TY50525* LOC11;
TY50525* X_183017;
TY50525* LOC12;
TY50525* LOC16;
Result_182952 = 0;
Result_182952 = Newtransnode_182032(((NU8) 101), (*N_182951).Info, 0);
E_182965 = 0;
E_182965 = (*N_182951).KindU.S6.Sons->data[0];
LOC2 = 0;
LOC2 = Skiptypes_92087((*E_182965).Typ, 2048);
if (!((*LOC2).Kind == ((NU8) 18))) goto LA3;
E_182965 = Skipconv_182817(E_182965);
if (!((*E_182965).Kind == ((NU8) 30))) goto LA6;
I_182992 = 0;
HEX3Atmp_183044 = 0;
LOC8 = Sonslen_50803(E_182965);
HEX3Atmp_183044 = (NI64)(LOC8 - 1);
Res_183046 = 0;
Res_183046 = 0;
while (1) {
if (!(Res_183046 <= HEX3Atmp_183044)) goto LA9;
I_182992 = Res_183046;
LOC10 = 0;
LOC10 = Transform_182221(C_182950, (*E_182965).KindU.S6.Sons->data[I_182992]);
LOC11 = 0;
LOC11 = Newasgnstmt_182268(C_182950, (*(*(*C_182950).Transcon).Forstmt).KindU.S6.Sons->data[I_182992], LOC10);
Add_182130(Result_182952, LOC11);
Res_183046 += 1;
} LA9: ;
goto LA5;
LA6: ;
Unpacktuple_182863(C_182950, E_182965, Result_182952);
LA5: ;
goto LA1;
LA3: ;
X_183017 = 0;
X_183017 = Transform_182221(C_182950, E_182965);
LOC12 = 0;
LOC12 = Newasgnstmt_182268(C_182950, (*(*(*C_182950).Transcon).Forstmt).KindU.S6.Sons->data[0], X_183017);
Add_182130(Result_182952, LOC12);
LA1: ;
(*(*C_182950).Transcon).Yieldstmts += 1;
if (!((*(*C_182950).Transcon).Yieldstmts <= 1)) goto LA14;
Add_182130(Result_182952, (*(*C_182950).Transcon).Forloopbody);
goto LA13;
LA14: ;
LOC16 = 0;
LOC16 = Introducenewlocalvars_182891(C_182950, (*(*C_182950).Transcon).Forloopbody);
Add_182130(Result_182952, LOC16);
LA13: ;
return Result_182952;
}
N_NIMCALL(TY50525*, Transform_182221)(TY182014* C_182223, TY50525* N_182224) {
TY50525* Result_184767;
TY50547* Labl_184881;
TY50525* LOC10;
TY50525* LOC11;
TY50525* LOC12;
NIM_BOOL LOC14;
TY50525* Cnst_184922;
Result_184767 = 0;
if (!(N_182224 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*N_182224).Kind) {
case ((NU8) 3):
Result_184767 = Transformsym_182438(C_182223, N_182224);
goto BeforeRet;
break;
case ((NU8) 1) ... ((NU8) 2):
case ((NU8) 4) ... ((NU8) 18):
Result_184767 = N_182224;
break;
case ((NU8) 33):
Result_184767 = Transformarrayaccess_184364(C_182223, N_182224);
break;
case ((NU8) 42):
break;
case ((NU8) 84):
Result_184767 = Transformfor_183661(C_182223, N_182224);
break;
case ((NU8) 86):
Result_184767 = Transformcase_184265(C_182223, N_182224);
break;
case ((NU8) 69):
case ((NU8) 70):
case ((NU8) 74):
case ((NU8) 72):
if (!((*N_182224).KindU.S6.Sons->data[1] == NIM_NIL)) goto LA5;
asgnRefNoCycle((void**) &(*N_182224).KindU.S6.Sons->data[4], Transform_182221(C_182223, (*N_182224).KindU.S6.Sons->data[4]));
if (!((*N_182224).Kind == ((NU8) 70))) goto LA8;
Methoddef_154004((*(*N_182224).KindU.S6.Sons->data[0]).KindU.S4.Sym);
LA8: ;
LA5: ;
Result_184767 = N_182224;
break;
case ((NU8) 98):
Result_184767 = Newnode_50710(((NU8) 97));
Labl_184881 = 0;
Labl_184881 = (*C_182223).Blocksyms->data[((*C_182223).Blocksyms->Sup.len-1)];
LOC10 = 0;
LOC10 = Newsymnode_50734(Labl_184881);
Add_182130(Result_184767, LOC10);
break;
case ((NU8) 85):
Result_184767 = Newtransnode_182028(N_182224);
LOC11 = 0;
LOC11 = Transform_182221(C_182223, (*N_182224).KindU.S6.Sons->data[0]);
HEX5BHEX5DHEX3D_182094(Result_184767, 0, LOC11);
LOC12 = 0;
LOC12 = Transformloopbody_182755(C_182223, (*N_182224).KindU.S6.Sons->data[1]);
HEX5BHEX5DHEX3D_182094(Result_184767, 1, LOC12);
break;
case ((NU8) 21):
case ((NU8) 49):
case ((NU8) 20):
case ((NU8) 27):
case ((NU8) 28):
case ((NU8) 29):
case ((NU8) 22):
Result_184767 = Transformcall_184598(C_182223, N_182224);
break;
case ((NU8) 52):
case ((NU8) 53):
Result_184767 = Transformaddrderef_183052(C_182223, N_182224, ((NU8) 38), ((NU8) 54));
break;
case ((NU8) 38):
case ((NU8) 54):
Result_184767 = Transformaddrderef_183052(C_182223, N_182224, ((NU8) 52), ((NU8) 53));
break;
case ((NU8) 47):
case ((NU8) 48):
case ((NU8) 50):
Result_184767 = Transformconv_183321(C_182223, N_182224);
break;
case ((NU8) 100):
Result_184767 = Transformsons_182225(C_182223, N_182224);
LOC14 = Isconstexpr_91016((*Result_184767).KindU.S6.Sons->data[0]);
if (!LOC14) goto LA15;
Result_184767 = Newnode_50710(((NU8) 105));
LA15: ;
break;
case ((NU8) 105):
case ((NU8) 73):
Result_184767 = N_182224;
goto BeforeRet;
break;
case ((NU8) 88):
Result_184767 = N_182224;
goto BeforeRet;
break;
case ((NU8) 87):
if (!(0 < (*C_182223).Inlining)) goto LA18;
Result_184767 = Transformvarsection_182443(C_182223, N_182224);
goto LA17;
LA18: ;
Result_184767 = Transformsons_182225(C_182223, N_182224);
LA17: ;
break;
case ((NU8) 92):
if (!(0 < (*C_182223).Inlining)) goto LA21;
Result_184767 = Transformyield_182948(C_182223, N_182224);
goto LA20;
LA21: ;
Result_184767 = Transformsons_182225(C_182223, N_182224);
LA20: ;
break;
default:
Result_184767 = Transformsons_182225(C_182223, N_182224);
break;
}
Cnst_184922 = 0;
Cnst_184922 = Getconstexpr_108010((*C_182223).Module, Result_184767);
if (!!((Cnst_184922 == NIM_NIL))) goto LA24;
Result_184767 = Cnst_184922;
LA24: ;
BeforeRet: ;
return Result_184767;
}
N_NIMCALL(TY50525*, Processtransf_184934)(TY100002* Context_184936, TY50525* N_184937) {
TY50525* Result_184938;
TY182014* C_184939;
TY50547* LOC1;
TY182012* LOC2;
Result_184938 = 0;
C_184939 = 0;
C_184939 = ((TY182014*) (Context_184936));
LOC1 = 0;
LOC1 = Getcurrowner_182187(C_184939);
LOC2 = 0;
LOC2 = Newtranscon_182138(LOC1);
Pushtranscon_182169(C_184939, LOC2);
Result_184938 = Transform_182221(C_184939, N_184937);
Poptranscon_182173(C_184939);
return Result_184938;
}
N_NIMCALL(TY100006, Transfpass_182005)(void) {
TY100006 Result_184979;
memset((void*)&Result_184979, 0, sizeof(Result_184979));
Initpass_100031(&Result_184979);
Result_184979.Open = Opentransf_184940;
Result_184979.Process = Processtransf_184934;
Result_184979.Close = Processtransf_184934;
return Result_184979;
}
N_NIMCALL(TY50547*, Pop_182786)(TY50527** S_182791) {
TY50547* Result_182792;
NI L_182803;
Result_182792 = 0;
L_182803 = 0;
L_182803 = (NI64)((*S_182791)->Sup.len - 1);
Result_182792 = (*S_182791)->data[L_182803];
(*S_182791) = (TY50527*) setLengthSeq(&((*S_182791))->Sup, sizeof(TY50547*), L_182803);
return Result_182792;
}
N_NOINLINE(void, transfInit)(void) {
}

