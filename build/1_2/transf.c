/* Generated by Nimrod Compiler v0.8.11 */
/*   (c) 2011 Andreas Rumpf */

typedef long long int NI;
typedef unsigned long long int NU;
#include "nimbase.h"

typedef struct TY102006 TY102006;
typedef struct TY102002 TY102002;
typedef struct TY51548 TY51548;
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct TY90031 TY90031;
typedef struct TY51526 TY51526;
typedef struct TY186014 TY186014;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct TNimObject TNimObject;
typedef struct TY186012 TY186012;
typedef struct TY51528 TY51528;
typedef struct TY10602 TY10602;
typedef struct TY10614 TY10614;
typedef struct TY10996 TY10996;
typedef struct TY10618 TY10618;
typedef struct TY10610 TY10610;
typedef struct TY10994 TY10994;
typedef struct TY51570 TY51570;
typedef struct TY51568 TY51568;
typedef struct TY51566 TY51566;
typedef struct TY50005 TY50005;
typedef struct TY51552 TY51552;
typedef struct TY43538 TY43538;
typedef struct TY50011 TY50011;
typedef struct TY51520 TY51520;
typedef struct TY51530 TY51530;
typedef struct TY51540 TY51540;
typedef struct TY48008 TY48008;
typedef struct TY51544 TY51544;
typedef struct TY51550 TY51550;
typedef struct TY35021 TY35021;
typedef struct TY90029 TY90029;
typedef struct TY56215 TY56215;
typedef struct TY56213 TY56213;
typedef struct TY56211 TY56211;
typedef struct TY51564 TY51564;
typedef struct TY51562 TY51562;
typedef struct TY51560 TY51560;
typedef struct TY39013 TY39013;
struct TGenericSeq {
NI len;
NI space;
};
typedef NIM_CHAR TY245[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY245 data;
};
typedef N_NIMCALL_PTR(TY102002*, TY102007) (TY51548* Module_102008, NimStringDesc* Filename_102009);
typedef N_NIMCALL_PTR(TY102002*, TY102012) (TY51548* Module_102013, NimStringDesc* Filename_102014, TY90031* Rd_102015);
typedef N_NIMCALL_PTR(TY51526*, TY102018) (TY102002* P_102019, TY51526* N_102020);
typedef N_NIMCALL_PTR(TY51526*, TY102023) (TY102002* P_102024, TY51526* Toplevelstmt_102025);
struct TY102006 {
TY102007 Open;
TY102012 Opencached;
TY102018 Close;
TY102023 Process;
};
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct TNimObject {
TNimType* m_type;
};
struct TY102002 {
  TNimObject Sup;
};
struct TY186014 {
  TY102002 Sup;
TY51548* Module;
TY186012* Transcon;
NI Inlining;
TY51528* Blocksyms;
};
struct TY10602 {
NI Refcount;
TNimType* Typ;
};
struct TY10618 {
NI Len;
NI Cap;
TY10602** D;
};
struct TY10614 {
NI Counter;
NI Max;
TY10610* Head;
TY10610** Data;
};
struct TY10994 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY10996 {
TY10618 Zct;
TY10618 Decstack;
TY10614 Cycleroots;
TY10618 Tempstack;
TY10994 Stat;
};
struct TY51566 {
TY50005* Key;
TY51526* Val;
};
struct TY51570 {
NI Counter;
TY51568* Data;
};
struct TY186012 {
TY51570 Mapping;
TY51548* Owner;
TY51526* Forstmt;
TY51526* Forloopbody;
NI Yieldstmts;
TY186012* Next;
};
struct TY43538 {
NI16 Line;
NI16 Col;
NI32 Fileindex;
};
struct TY51526 {
TY51552* Typ;
NimStringDesc* Comment;
TY43538 Info;
NU8 Flags;
NU8 Kind;
union {
struct {NI64 Intval;
} S1;
struct {NF64 Floatval;
} S2;
struct {NimStringDesc* Strval;
} S3;
struct {TY51548* Sym;
} S4;
struct {TY50011* Ident;
} S5;
struct {TY51520* Sons;
} S6;
} KindU;
};
struct TY50005 {
  TNimObject Sup;
NI Id;
};
struct TY51530 {
TNimType* m_type;
NI Counter;
TY51528* Data;
};
struct TY51540 {
NU8 K;
NU8 S;
NU8 Flags;
TY51552* T;
TY48008* R;
NI A;
};
struct TY51548 {
  TY50005 Sup;
NU8 Kind;
NU8 Magic;
TY51552* Typ;
TY50011* Name;
TY43538 Info;
TY51548* Owner;
NU32 Flags;
TY51530 Tab;
TY51526* Ast;
NU32 Options;
NI Position;
NI Offset;
TY51540 Loc;
TY51544* Annex;
};
struct TY51552 {
  TY50005 Sup;
NU8 Kind;
TY51550* Sons;
TY51526* N;
NU8 Flags;
NU8 Callconv;
TY51548* Owner;
TY51548* Sym;
NI64 Size;
NI Align;
NI Containerid;
TY51540 Loc;
};
struct TY56211 {
NI Key;
NI Val;
};
struct TY56215 {
NI Counter;
TY56213* Data;
};
struct TY90029 {
NI Lastidxkey;
NI Lastidxval;
TY56215 Tab;
TY48008* R;
NI Offset;
};
struct TY51560 {
TY50005* Key;
TNimObject* Val;
};
struct TY51564 {
NI Counter;
TY51562* Data;
};
struct TY90031 {
  TNimObject Sup;
NI Pos;
NimStringDesc* S;
NU32 Options;
NU8 Reason;
TY35021* Moddeps;
TY35021* Files;
NI Dataidx;
NI Convertersidx;
NI Initidx;
NI Interfidx;
NI Compilerprocsidx;
NI Cgenidx;
NimStringDesc* Filename;
TY90029 Index;
TY90029 Imports;
NI Readerindex;
NI Line;
NI Moduleid;
TY51564 Syms;
};
typedef NI TY8614[8];
struct TY10610 {
TY10610* Next;
NI Key;
TY8614 Bits;
};
struct TY50011 {
  TY50005 Sup;
NimStringDesc* S;
TY50011* Next;
NI H;
};
struct TY48008 {
  TNimObject Sup;
TY48008* Left;
TY48008* Right;
NI Length;
NimStringDesc* Data;
};
struct TY39013 {
  TNimObject Sup;
TY39013* Prev;
TY39013* Next;
};
struct TY51544 {
  TY39013 Sup;
NU8 Kind;
NIM_BOOL Generated;
TY48008* Name;
TY51526* Path;
};
struct TY51528 {
  TGenericSeq Sup;
  TY51548* data[SEQ_DECL_SIZE];
};
struct TY51568 {
  TGenericSeq Sup;
  TY51566 data[SEQ_DECL_SIZE];
};
struct TY51520 {
  TGenericSeq Sup;
  TY51526* data[SEQ_DECL_SIZE];
};
struct TY51550 {
  TGenericSeq Sup;
  TY51552* data[SEQ_DECL_SIZE];
};
struct TY35021 {
  TGenericSeq Sup;
  NimStringDesc* data[SEQ_DECL_SIZE];
};
struct TY56213 {
  TGenericSeq Sup;
  TY56211 data[SEQ_DECL_SIZE];
};
struct TY51562 {
  TGenericSeq Sup;
  TY51560 data[SEQ_DECL_SIZE];
};
N_NIMCALL(void, Initpass_102031)(TY102006* P_102034);
N_NIMCALL(TY102002*, Opentransf_188942)(TY51548* Module_188944, NimStringDesc* Filename_188945);
N_NIMCALL(void*, newObj)(TNimType* Typ_13710, NI Size_13711);
N_NIMCALL(void*, newSeq)(TNimType* Typ_14204, NI Len_14205);
static N_INLINE(void, asgnRef)(void** Dest_13014, void* Src_13015);
static N_INLINE(void, Incref_13002)(TY10602* C_13004);
static N_INLINE(NI, Atomicinc_3221)(NI* Memloc_3224, NI X_3225);
static N_INLINE(NIM_BOOL, Canbecycleroot_11416)(TY10602* C_11418);
static N_INLINE(void, Rtladdcycleroot_12052)(TY10602* C_12054);
N_NOINLINE(void, Incl_10880)(TY10614* S_10883, TY10602* Cell_10884);
static N_INLINE(TY10602*, Usrtocell_11412)(void* Usr_11414);
static N_INLINE(void, Decref_12801)(TY10602* C_12803);
static N_INLINE(NI, Atomicdec_3226)(NI* Memloc_3229, NI X_3230);
static N_INLINE(void, Rtladdzct_12401)(TY10602* C_12403);
N_NOINLINE(void, Addzct_11401)(TY10618* S_11404, TY10602* C_11405);
N_NIMCALL(TY51526*, Processtransf_188936)(TY102002* Context_188938, TY51526* N_188939);
N_NIMCALL(void, Pushtranscon_186169)(TY186014* C_186171, TY186012* T_186172);
N_NIMCALL(TY186012*, Newtranscon_186138)(TY51548* Owner_186140);
N_NIMCALL(void, Initidnodetable_51763)(TY51570* X_51766);
N_NIMCALL(TY51548*, Getcurrowner_186187)(TY186014* C_186189);
N_NIMCALL(TY51526*, Transform_186221)(TY186014* C_186223, TY51526* N_186224);
N_NIMCALL(TY51526*, Transformsym_186439)(TY186014* C_186441, TY51526* N_186442);
N_NIMCALL(TY51526*, Transformsymaux_186275)(TY186014* C_186277, TY51526* N_186278);
N_NIMCALL(void, Internalerror_44208)(TY43538 Info_44210, NimStringDesc* Errmsg_44211);
N_NIMCALL(TY51526*, Newsymnode_51735)(TY51548* Sym_51737);
N_NIMCALL(TY51526*, Idnodetableget_56176)(TY51570 T_56178, TY50005* Key_56179);
N_NIMCALL(TY51552*, Skiptypes_94087)(TY51552* T_94089, NU64 Kinds_94090);
N_NIMCALL(TY51526*, Getconstexpr_110010)(TY51548* M_110012, TY51526* N_110013);
N_NIMCALL(TY51526*, Transformarrayaccess_188352)(TY186014* C_188354, TY51526* N_188355);
static N_INLINE(TY51526*, Newtransnode_186028)(TY51526* A_186030);
N_NIMCALL(TY51526*, Shallowcopy_53575)(TY51526* Src_53577);
static N_INLINE(void, HEX5BHEX5DHEX3D_186094)(TY51526* A_186096, NI I_186097, TY51526* X_186098);
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13018, void* Src_13019);
N_NIMCALL(TY51526*, Skipconv_186808)(TY51526* N_186810);
N_NIMCALL(TY51526*, Transformfor_187653)(TY186014* C_187655, TY51526* N_187656);
static N_INLINE(TY51526*, Newtransnode_186032)(NU8 Kind_186034, TY43538 Info_186035, NI Sons_186036);
N_NIMCALL(TY51526*, Newnodei_51738)(NU8 Kind_51740, TY43538 Info_51741);
static N_INLINE(NI, Sonslen_51804)(TY51526* N_51806);
N_NIMCALL(TY51526*, Transformloopbody_186746)(TY186014* C_186748, TY51526* N_186749);
N_NIMCALL(NIM_BOOL, Hascontinue_186718)(TY51526* N_186720);
N_NIMCALL(TY51548*, Newsym_51702)(NU8 Symkind_51704, TY50011* Name_51705, TY51548* Owner_51706);
N_NIMCALL(TY50011*, Getident_50016)(NimStringDesc* Identifier_50018);
static N_INLINE(void, appendString)(NimStringDesc* Dest_18599, NimStringDesc* Src_18600);
N_NIMCALL(NimStringDesc*, nimIntToStr)(NI X_19203);
N_NIMCALL(NimStringDesc*, rawNewString)(NI Space_18489);
N_NIMCALL(TGenericSeq*, incrSeq)(TGenericSeq* Seq_18642, NI Elemsize_18643);
N_NIMCALL(void, Addvar_187030)(TY51526* Father_187032, TY51526* V_187033);
N_NIMCALL(void, Addson_51824)(TY51526* Father_51826, TY51526* Son_51827);
N_NIMCALL(TY51526*, Copytree_51852)(TY51526* Src_51854);
static N_INLINE(void, Add_186130)(TY51526* A_186132, TY51526* B_186133);
N_NIMCALL(TY51526*, Skippassasopenarray_187567)(TY51526* N_187569);
N_NIMCALL(NU8, Putarginto_187597)(TY51526* Arg_187599, TY51552* Formal_187600);
N_NIMCALL(void, Idnodetableput_56180)(TY51570* T_56183, TY50005* Key_56184, TY51526* Val_56185);
N_NIMCALL(TY51548*, Newtemp_186202)(TY186014* C_186204, TY51552* Typ_186205, TY43538 Info_186206);
N_NIMCALL(TY51526*, Newasgnstmt_186269)(TY186014* C_186271, TY51526* Le_186272, TY51526* Ri_186273);
N_NIMCALL(void, Pushinfocontext_43615)(TY43538 Info_43617);
N_NIMCALL(void, Popinfocontext_43636)(void);
N_NIMCALL(void, Poptranscon_186173)(TY186014* C_186175);
N_NIMCALL(void, Internalerror_44212)(NimStringDesc* Errmsg_44214);
N_NIMCALL(TY51526*, Transformcase_188252)(TY186014* C_188254, TY51526* N_188255);
static N_INLINE(TY51526*, Newtransnode_186063)(NU8 Kind_186065, TY51526* N_186066, NI Sons_186067);
N_NIMCALL(TY51526*, Newnodeit_51742)(NU8 Kind_51744, TY43538 Info_51745, TY51552* Typ_51746);
static N_INLINE(TY51526*, Lastson_51810)(TY51526* N_51812);
N_NIMCALL(void, Methoddef_159227)(TY51548* S_159229);
N_NIMCALL(TY51526*, Newnode_51711)(NU8 Kind_51713);
N_NIMCALL(TY51526*, Transformcall_188587)(TY186014* C_188589, TY51526* N_188590);
N_NIMCALL(TY51526*, Flattentree_188559)(TY51526* Root_188561);
N_NIMCALL(TY51548*, Getmergeop_188381)(TY51526* N_188383);
N_NIMCALL(TY51526*, Copynode_51849)(TY51526* Src_51851);
N_NIMCALL(void, Flattentreeaux_188498)(TY51526* D_188500, TY51526* A_188501, TY51548* Op_188502);
N_NIMCALL(NIM_BOOL, Isconstexpr_93016)(TY51526* N_93018);
N_NIMCALL(TY51526*, Evalop_110014)(NU8 M_110016, TY51526* N_110017, TY51526* A_110018, TY51526* B_110019, TY51526* C_110020);
static N_INLINE(NI, Len_186134)(TY51526* A_186136);
static N_INLINE(TY51526*, HEX5BHEX5D_186112)(TY51526* A_186114, NI I_186115);
N_NIMCALL(TY51526*, Methodcall_159041)(TY51526* N_159043);
N_NIMCALL(TY51526*, Transformsons_186225)(TY186014* C_186227, TY51526* N_186228);
N_NIMCALL(TY51526*, Transformaddrderef_187035)(TY186014* C_187037, TY51526* N_187038, NU8 A_187039, NU8 B_187040);
N_NIMCALL(TY51526*, Transformconv_187304)(TY186014* C_187306, TY51526* N_187307);
N_NIMCALL(NIM_BOOL, Isordinaltype_94069)(TY51552* T_94071);
N_NIMCALL(NI64, Firstord_94001)(TY51552* T_94003);
N_NIMCALL(NI64, Lastord_94004)(TY51552* T_94006);
N_NIMCALL(TY51526*, Newinttypenode_51718)(NU8 Kind_51720, NI64 Intval_51721, TY51552* Typ_51722);
N_NIMCALL(NI, Inheritancediff_94121)(TY51552* A_94123, TY51552* B_94124);
N_NIMCALL(TY51526*, Transformvarsection_186444)(TY186014* C_186446, TY51526* V_186447);
N_NIMCALL(TY51548*, Copysym_51776)(TY51548* S_51778, NIM_BOOL Keepid_51779);
N_NIMCALL(TY51526*, Transformyield_186930)(TY186014* C_186932, TY51526* N_186933);
N_NIMCALL(void, Unpacktuple_186854)(TY186014* C_186856, TY51526* N_186857, TY51526* Father_186858);
N_NIMCALL(TY51526*, Newtupleaccess_186836)(TY51526* Tup_186838, NI I_186839);
N_NIMCALL(TY51552*, Getsystype_99008)(NU8 Kind_99010);
N_NIMCALL(TY51526*, Introducenewlocalvars_186883)(TY186014* C_186885, TY51526* N_186886);
static N_INLINE(TY51548*, Pop_186777)(TY51528** S_186782);
N_NIMCALL(TGenericSeq*, setLengthSeq)(TGenericSeq* Seq_18803, NI Elemsize_18804, NI Newlen_18805);
STRING_LITERAL(TMP194272, "transformSym", 12);
STRING_LITERAL(TMP194273, "wrong AST for borrowed symbol", 29);
STRING_LITERAL(TMP194274, "transformSym: const", 19);
STRING_LITERAL(TMP194275, "transformFor", 12);
STRING_LITERAL(TMP194276, ":tmp", 4);
STRING_LITERAL(TMP194277, "not implemented: pass to var parameter", 38);
STRING_LITERAL(TMP194278, "popTransCon", 11);
STRING_LITERAL(TMP194282, "transformVarSection", 19);
STRING_LITERAL(TMP194283, "transformVarSection: not nkVarTuple", 35);
extern TNimType* NTI186016; /* PTransf */
extern TNimType* NTI186014; /* TTransfContext */
extern TNimType* NTI51528; /* TSymSeq */
extern TY10996 Gch_11014;
extern TNimType* NTI186010; /* PTransCon */
extern TNimType* NTI51520; /* TNodeSeq */
extern TY51526* Emptynode_51858;
static N_INLINE(NI, Atomicinc_3221)(NI* Memloc_3224, NI X_3225) {
NI Result_7807;
Result_7807 = 0;
(*Memloc_3224) += X_3225;
Result_7807 = (*Memloc_3224);
return Result_7807;
}
static N_INLINE(NIM_BOOL, Canbecycleroot_11416)(TY10602* C_11418) {
NIM_BOOL Result_11419;
Result_11419 = 0;
Result_11419 = !((((*(*C_11418).Typ).flags &(1<<((((NU8) 1))&7)))!=0));
return Result_11419;
}
static N_INLINE(void, Rtladdcycleroot_12052)(TY10602* C_12054) {
Incl_10880(&Gch_11014.Cycleroots, C_12054);
}
static N_INLINE(void, Incref_13002)(TY10602* C_13004) {
NI LOC1;
NIM_BOOL LOC3;
LOC1 = Atomicinc_3221(&(*C_13004).Refcount, 8);
LOC3 = Canbecycleroot_11416(C_13004);
if (!LOC3) goto LA4;
Rtladdcycleroot_12052(C_13004);
LA4: ;
}
static N_INLINE(TY10602*, Usrtocell_11412)(void* Usr_11414) {
TY10602* Result_11415;
Result_11415 = 0;
Result_11415 = ((TY10602*) ((NI64)((NU64)(((NI) (Usr_11414))) - (NU64)(((NI) (((NI)sizeof(TY10602))))))));
return Result_11415;
}
static N_INLINE(NI, Atomicdec_3226)(NI* Memloc_3229, NI X_3230) {
NI Result_8006;
Result_8006 = 0;
(*Memloc_3229) -= X_3230;
Result_8006 = (*Memloc_3229);
return Result_8006;
}
static N_INLINE(void, Rtladdzct_12401)(TY10602* C_12403) {
Addzct_11401(&Gch_11014.Zct, C_12403);
}
static N_INLINE(void, Decref_12801)(TY10602* C_12803) {
NI LOC2;
NIM_BOOL LOC5;
LOC2 = Atomicdec_3226(&(*C_12803).Refcount, 8);
if (!((NU64)(LOC2) < (NU64)(8))) goto LA3;
Rtladdzct_12401(C_12803);
goto LA1;
LA3: ;
LOC5 = Canbecycleroot_11416(C_12803);
if (!LOC5) goto LA6;
Rtladdcycleroot_12052(C_12803);
goto LA1;
LA6: ;
LA1: ;
}
static N_INLINE(void, asgnRef)(void** Dest_13014, void* Src_13015) {
TY10602* LOC4;
TY10602* LOC8;
if (!!((Src_13015 == NIM_NIL))) goto LA2;
LOC4 = Usrtocell_11412(Src_13015);
Incref_13002(LOC4);
LA2: ;
if (!!(((*Dest_13014) == NIM_NIL))) goto LA6;
LOC8 = Usrtocell_11412((*Dest_13014));
Decref_12801(LOC8);
LA6: ;
(*Dest_13014) = Src_13015;
}
N_NIMCALL(TY102002*, Opentransf_188942)(TY51548* Module_188944, NimStringDesc* Filename_188945) {
TY102002* Result_188946;
TY186014* N_188947;
Result_188946 = 0;
N_188947 = 0;
Result_188946 = NIM_NIL;
N_188947 = NIM_NIL;
N_188947 = (TY186014*) newObj(NTI186016, sizeof(TY186014));
(*N_188947).Sup.Sup.m_type = NTI186014;
asgnRef((void**) &(*N_188947).Blocksyms, (TY51528*) newSeq(NTI51528, 0));
asgnRef((void**) &(*N_188947).Module, Module_188944);
Result_188946 = &N_188947->Sup;
return Result_188946;
}
N_NIMCALL(void, Pushtranscon_186169)(TY186014* C_186171, TY186012* T_186172) {
asgnRef((void**) &(*T_186172).Next, (*C_186171).Transcon);
asgnRef((void**) &(*C_186171).Transcon, T_186172);
}
N_NIMCALL(TY186012*, Newtranscon_186138)(TY51548* Owner_186140) {
TY186012* Result_186141;
Result_186141 = 0;
Result_186141 = NIM_NIL;
Result_186141 = (TY186012*) newObj(NTI186010, sizeof(TY186012));
Initidnodetable_51763(&(*Result_186141).Mapping);
asgnRef((void**) &(*Result_186141).Owner, Owner_186140);
return Result_186141;
}
N_NIMCALL(TY51548*, Getcurrowner_186187)(TY186014* C_186189) {
TY51548* Result_186190;
Result_186190 = 0;
Result_186190 = NIM_NIL;
if (!!(((*C_186189).Transcon == NIM_NIL))) goto LA2;
Result_186190 = (*(*C_186189).Transcon).Owner;
goto LA1;
LA2: ;
Result_186190 = (*C_186189).Module;
LA1: ;
return Result_186190;
}
N_NIMCALL(TY51526*, Transformsymaux_186275)(TY186014* C_186277, TY51526* N_186278) {
TY51526* Result_186279;
TY51526* B_186280;
TY186012* Tc_186290;
TY51552* LOC15;
Result_186279 = 0;
B_186280 = 0;
Tc_186290 = 0;
Result_186279 = NIM_NIL;
B_186280 = NIM_NIL;
if (!!(((*N_186278).Kind == ((NU8) 3)))) goto LA2;
Internalerror_44208((*N_186278).Info, ((NimStringDesc*) &TMP194272));
LA2: ;
Tc_186290 = NIM_NIL;
Tc_186290 = (*C_186277).Transcon;
if (!(((*(*N_186278).KindU.S4.Sym).Flags &(1<<((((NU8) 29))&31)))!=0)) goto LA5;
B_186280 = (*(*(*N_186278).KindU.S4.Sym).Ast).KindU.S6.Sons->data[4];
if (!!(((*B_186280).Kind == ((NU8) 3)))) goto LA8;
Internalerror_44208((*N_186278).Info, ((NimStringDesc*) &TMP194273));
LA8: ;
B_186280 = Newsymnode_51735((*B_186280).KindU.S4.Sym);
(*B_186280).Info = (*N_186278).Info;
goto LA4;
LA5: ;
B_186280 = N_186278;
LA4: ;
while (1) {
if (!!((Tc_186290 == NIM_NIL))) goto LA10;
Result_186279 = Idnodetableget_56176((*Tc_186290).Mapping, &(*B_186280).KindU.S4.Sym->Sup);
if (!!((Result_186279 == NIM_NIL))) goto LA12;
goto BeforeRet;
LA12: ;
Tc_186290 = (*Tc_186290).Next;
} LA10: ;
Result_186279 = B_186280;
switch ((*(*B_186280).KindU.S4.Sym).Kind) {
case ((NU8) 8):
case ((NU8) 17):
LOC15 = 0;
LOC15 = Skiptypes_94087((*(*B_186280).KindU.S4.Sym).Typ, 43008);
if (!!(((851968 &(IL64(1)<<(((*LOC15).Kind)&IL64(63))))!=0))) goto LA16;
Result_186279 = Getconstexpr_110010((*C_186277).Module, B_186280);
if (!(Result_186279 == NIM_NIL)) goto LA19;
Internalerror_44208((*B_186280).Info, ((NimStringDesc*) &TMP194274));
LA19: ;
LA16: ;
break;
default:
break;
}
BeforeRet: ;
return Result_186279;
}
N_NIMCALL(TY51526*, Transformsym_186439)(TY186014* C_186441, TY51526* N_186442) {
TY51526* Result_186443;
Result_186443 = 0;
Result_186443 = NIM_NIL;
Result_186443 = Transformsymaux_186275(C_186441, N_186442);
return Result_186443;
}
static N_INLINE(TY51526*, Newtransnode_186028)(TY51526* A_186030) {
TY51526* Result_186031;
Result_186031 = 0;
Result_186031 = NIM_NIL;
Result_186031 = Shallowcopy_53575(A_186030);
return Result_186031;
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13018, void* Src_13019) {
TY10602* C_13020;
NI LOC4;
TY10602* C_13022;
NI LOC9;
if (!!((Src_13019 == NIM_NIL))) goto LA2;
C_13020 = 0;
C_13020 = Usrtocell_11412(Src_13019);
LOC4 = Atomicinc_3221(&(*C_13020).Refcount, 8);
LA2: ;
if (!!(((*Dest_13018) == NIM_NIL))) goto LA6;
C_13022 = 0;
C_13022 = Usrtocell_11412((*Dest_13018));
LOC9 = Atomicdec_3226(&(*C_13022).Refcount, 8);
if (!((NU64)(LOC9) < (NU64)(8))) goto LA10;
Rtladdzct_12401(C_13022);
LA10: ;
LA6: ;
(*Dest_13018) = Src_13019;
}
static N_INLINE(void, HEX5BHEX5DHEX3D_186094)(TY51526* A_186096, NI I_186097, TY51526* X_186098) {
TY51526* N_186099;
N_186099 = 0;
N_186099 = NIM_NIL;
N_186099 = A_186096;
asgnRefNoCycle((void**) &(*N_186099).KindU.S6.Sons->data[I_186097], X_186098);
}
N_NIMCALL(TY51526*, Skipconv_186808)(TY51526* N_186810) {
TY51526* Result_186811;
Result_186811 = 0;
Result_186811 = NIM_NIL;
switch ((*N_186810).Kind) {
case ((NU8) 56):
case ((NU8) 55):
case ((NU8) 62):
case ((NU8) 59):
case ((NU8) 57):
case ((NU8) 58):
Result_186811 = (*N_186810).KindU.S6.Sons->data[0];
break;
case ((NU8) 47):
case ((NU8) 48):
case ((NU8) 50):
Result_186811 = (*N_186810).KindU.S6.Sons->data[1];
break;
default:
Result_186811 = N_186810;
break;
}
return Result_186811;
}
N_NIMCALL(TY51526*, Transformarrayaccess_188352)(TY186014* C_188354, TY51526* N_188355) {
TY51526* Result_188356;
TY51526* LOC1;
TY51526* LOC2;
TY51526* LOC3;
TY51526* LOC4;
Result_188356 = 0;
Result_188356 = NIM_NIL;
Result_188356 = Newtransnode_186028(N_188355);
LOC1 = 0;
LOC1 = Skipconv_186808((*N_188355).KindU.S6.Sons->data[0]);
LOC2 = 0;
LOC2 = Transform_186221(C_188354, LOC1);
HEX5BHEX5DHEX3D_186094(Result_188356, 0, LOC2);
LOC3 = 0;
LOC3 = Skipconv_186808((*N_188355).KindU.S6.Sons->data[1]);
LOC4 = 0;
LOC4 = Transform_186221(C_188354, LOC3);
HEX5BHEX5DHEX3D_186094(Result_188356, 1, LOC4);
return Result_188356;
}
static N_INLINE(TY51526*, Newtransnode_186032)(NU8 Kind_186034, TY43538 Info_186035, NI Sons_186036) {
TY51526* Result_186037;
TY51526* X_186038;
Result_186037 = 0;
X_186038 = 0;
Result_186037 = NIM_NIL;
X_186038 = NIM_NIL;
X_186038 = Newnodei_51738(Kind_186034, Info_186035);
asgnRefNoCycle((void**) &(*X_186038).KindU.S6.Sons, (TY51520*) newSeq(NTI51520, Sons_186036));
Result_186037 = X_186038;
return Result_186037;
}
static N_INLINE(NI, Sonslen_51804)(TY51526* N_51806) {
NI Result_52897;
Result_52897 = 0;
if (!(*N_51806).KindU.S6.Sons == 0) goto LA2;
Result_52897 = 0;
goto LA1;
LA2: ;
Result_52897 = (*N_51806).KindU.S6.Sons->Sup.len;
LA1: ;
return Result_52897;
}
N_NIMCALL(NIM_BOOL, Hascontinue_186718)(TY51526* N_186720) {
NIM_BOOL Result_186721;
NI I_186730;
NI HEX3Atmp_186743;
NI LOC1;
NI Res_186745;
NIM_BOOL LOC4;
Result_186721 = 0;
switch ((*N_186720).Kind) {
case ((NU8) 1) ... ((NU8) 18):
case ((NU8) 84):
case ((NU8) 85):
break;
case ((NU8) 98):
Result_186721 = NIM_TRUE;
break;
default:
I_186730 = 0;
HEX3Atmp_186743 = 0;
LOC1 = Sonslen_51804(N_186720);
HEX3Atmp_186743 = (NI64)(LOC1 - 1);
Res_186745 = 0;
Res_186745 = 0;
while (1) {
if (!(Res_186745 <= HEX3Atmp_186743)) goto LA2;
I_186730 = Res_186745;
LOC4 = Hascontinue_186718((*N_186720).KindU.S6.Sons->data[I_186730]);
if (!LOC4) goto LA5;
Result_186721 = NIM_TRUE;
goto BeforeRet;
LA5: ;
Res_186745 += 1;
} LA2: ;
break;
}
BeforeRet: ;
return Result_186721;
}
static N_INLINE(void, appendString)(NimStringDesc* Dest_18599, NimStringDesc* Src_18600) {
memcpy(((NCSTRING) (&(*Dest_18599).data[((*Dest_18599).Sup.len)-0])), ((NCSTRING) ((*Src_18600).data)), ((NI32) ((NI64)((NI64)((*Src_18600).Sup.len + 1) * 1))));
(*Dest_18599).Sup.len += (*Src_18600).Sup.len;
}
N_NIMCALL(TY51526*, Transformloopbody_186746)(TY186014* C_186748, TY51526* N_186749) {
TY51526* Result_186750;
NIM_BOOL LOC2;
TY51548* Labl_186751;
TY51548* LOC5;
NimStringDesc* LOC6;
NimStringDesc* LOC7;
TY51526* LOC8;
TY51526* LOC9;
TY51548* LOC10;
Result_186750 = 0;
Labl_186751 = 0;
Result_186750 = NIM_NIL;
LOC2 = Hascontinue_186718(N_186749);
if (!LOC2) goto LA3;
Labl_186751 = NIM_NIL;
LOC5 = 0;
LOC5 = Getcurrowner_186187(C_186748);
Labl_186751 = Newsym_51702(((NU8) 19), NIM_NIL, LOC5);
LOC6 = 0;
LOC7 = 0;
LOC7 = nimIntToStr((*Labl_186751).Sup.Id);
LOC6 = rawNewString(LOC7->Sup.len + 4);
appendString(LOC6, ((NimStringDesc*) &TMP194276));
appendString(LOC6, LOC7);
asgnRefNoCycle((void**) &(*Labl_186751).Name, Getident_50016(LOC6));
(*Labl_186751).Info = (*N_186749).Info;
(*C_186748).Blocksyms = (TY51528*) incrSeq(&((*C_186748).Blocksyms)->Sup, sizeof(TY51548*));
asgnRef((void**) &(*C_186748).Blocksyms->data[(*C_186748).Blocksyms->Sup.len-1], Labl_186751);
Result_186750 = Newtransnode_186032(((NU8) 99), (*N_186749).Info, 2);
LOC8 = 0;
LOC8 = Newsymnode_51735(Labl_186751);
HEX5BHEX5DHEX3D_186094(Result_186750, 0, LOC8);
LOC9 = 0;
LOC9 = Transform_186221(C_186748, N_186749);
HEX5BHEX5DHEX3D_186094(Result_186750, 1, LOC9);
LOC10 = 0;
LOC10 = Pop_186777(&(*C_186748).Blocksyms);
goto LA1;
LA3: ;
Result_186750 = Transform_186221(C_186748, N_186749);
LA1: ;
return Result_186750;
}
N_NIMCALL(void, Addvar_187030)(TY51526* Father_187032, TY51526* V_187033) {
TY51526* Vpart_187034;
Vpart_187034 = 0;
Vpart_187034 = NIM_NIL;
Vpart_187034 = Newnodei_51738(((NU8) 25), (*V_187033).Info);
Addson_51824(Vpart_187034, V_187033);
Addson_51824(Vpart_187034, Emptynode_51858);
Addson_51824(Vpart_187034, Emptynode_51858);
Addson_51824(Father_187032, Vpart_187034);
}
static N_INLINE(void, Add_186130)(TY51526* A_186132, TY51526* B_186133) {
Addson_51824(A_186132, B_186133);
}
N_NIMCALL(TY51526*, Skippassasopenarray_187567)(TY51526* N_187569) {
TY51526* Result_187570;
Result_187570 = 0;
Result_187570 = NIM_NIL;
Result_187570 = N_187569;
while (1) {
if (!((*Result_187570).Kind == ((NU8) 62))) goto LA1;
Result_187570 = (*Result_187570).KindU.S6.Sons->data[0];
} LA1: ;
return Result_187570;
}
N_NIMCALL(NU8, Putarginto_187597)(TY51526* Arg_187599, TY51552* Formal_187600) {
NU8 Result_187601;
TY51552* LOC2;
NI I_187619;
NI HEX3Atmp_187650;
NI LOC5;
NI Res_187652;
NU8 LOC8;
TY51552* LOC12;
Result_187601 = 0;
LOC2 = 0;
LOC2 = Skiptypes_94087(Formal_187600, 43008);
if (!((*LOC2).Kind == ((NU8) 27))) goto LA3;
Result_187601 = ((NU8) 0);
goto BeforeRet;
LA3: ;
switch ((*Arg_187599).Kind) {
case ((NU8) 1) ... ((NU8) 18):
Result_187601 = ((NU8) 0);
break;
case ((NU8) 30):
case ((NU8) 31):
case ((NU8) 32):
Result_187601 = ((NU8) 1);
I_187619 = 0;
HEX3Atmp_187650 = 0;
LOC5 = Sonslen_51804(Arg_187599);
HEX3Atmp_187650 = (NI64)(LOC5 - 1);
Res_187652 = 0;
Res_187652 = 0;
while (1) {
if (!(Res_187652 <= HEX3Atmp_187650)) goto LA6;
I_187619 = Res_187652;
LOC8 = Putarginto_187597((*Arg_187599).KindU.S6.Sons->data[I_187619], Formal_187600);
if (!!((LOC8 == ((NU8) 0)))) goto LA9;
goto BeforeRet;
LA9: ;
Res_187652 += 1;
} LA6: ;
Result_187601 = ((NU8) 0);
break;
default:
LOC12 = 0;
LOC12 = Skiptypes_94087(Formal_187600, 43008);
if (!((*LOC12).Kind == ((NU8) 23))) goto LA13;
Result_187601 = ((NU8) 2);
goto LA11;
LA13: ;
Result_187601 = ((NU8) 1);
LA11: ;
break;
}
BeforeRet: ;
return Result_187601;
}
N_NIMCALL(TY51548*, Newtemp_186202)(TY186014* C_186204, TY51552* Typ_186205, TY43538 Info_186206) {
TY51548* Result_186207;
TY50011* LOC1;
TY51548* LOC2;
Result_186207 = 0;
Result_186207 = NIM_NIL;
LOC1 = 0;
LOC1 = Getident_50016(((NimStringDesc*) &TMP194276));
LOC2 = 0;
LOC2 = Getcurrowner_186187(C_186204);
Result_186207 = Newsym_51702(((NU8) 5), LOC1, LOC2);
(*Result_186207).Info = Info_186206;
asgnRef((void**) &(*Result_186207).Typ, Skiptypes_94087(Typ_186205, 2048));
(*Result_186207).Flags |=(1<<((NI32)(((NU8) 4))%(sizeof(NI32)*8)));
return Result_186207;
}
N_NIMCALL(TY51526*, Newasgnstmt_186269)(TY186014* C_186271, TY51526* Le_186272, TY51526* Ri_186273) {
TY51526* Result_186274;
Result_186274 = 0;
Result_186274 = NIM_NIL;
Result_186274 = Newtransnode_186032(((NU8) 64), (*Ri_186273).Info, 2);
HEX5BHEX5DHEX3D_186094(Result_186274, 0, Le_186272);
HEX5BHEX5DHEX3D_186094(Result_186274, 1, Ri_186273);
return Result_186274;
}
N_NIMCALL(void, Poptranscon_186173)(TY186014* C_186175) {
if (!((*C_186175).Transcon == NIM_NIL)) goto LA2;
Internalerror_44212(((NimStringDesc*) &TMP194278));
LA2: ;
asgnRef((void**) &(*C_186175).Transcon, (*(*C_186175).Transcon).Next);
}
N_NIMCALL(TY51526*, Transformfor_187653)(TY186014* C_187655, TY51526* N_187656) {
TY51526* Result_187657;
NI Length_187667;
TY51526* Loopbody_187680;
TY51526* V_187681;
NI I_187690;
NI HEX3Atmp_187876;
NI Res_187878;
TY51526* LOC5;
TY51526* Call_187715;
NIM_BOOL LOC7;
TY186012* Newc_187770;
NI I_187788;
NI HEX3Atmp_187879;
NI LOC14;
NI Res_187881;
TY51526* Arg_187801;
TY51526* LOC16;
TY51548* Formal_187826;
TY51552* LOC17;
NU8 LOC18;
TY51548* Temp_187828;
TY51526* LOC19;
TY51526* LOC20;
TY51526* LOC21;
TY51526* LOC22;
TY51526* Body_187851;
TY51526* LOC23;
Result_187657 = 0;
Loopbody_187680 = 0;
V_187681 = 0;
Call_187715 = 0;
Newc_187770 = 0;
Arg_187801 = 0;
Formal_187826 = 0;
Temp_187828 = 0;
Body_187851 = 0;
Result_187657 = NIM_NIL;
if (!!(((*N_187656).Kind == ((NU8) 84)))) goto LA2;
Internalerror_44208((*N_187656).Info, ((NimStringDesc*) &TMP194275));
LA2: ;
Result_187657 = Newtransnode_186032(((NU8) 101), (*N_187656).Info, 0);
Length_187667 = 0;
Length_187667 = Sonslen_51804(N_187656);
Loopbody_187680 = NIM_NIL;
Loopbody_187680 = Transformloopbody_186746(C_187655, (*N_187656).KindU.S6.Sons->data[(NI64)(Length_187667 - 1)]);
V_187681 = NIM_NIL;
V_187681 = Newnodei_51738(((NU8) 87), (*N_187656).Info);
I_187690 = 0;
HEX3Atmp_187876 = 0;
HEX3Atmp_187876 = (NI64)(Length_187667 - 3);
Res_187878 = 0;
Res_187878 = 0;
while (1) {
if (!(Res_187878 <= HEX3Atmp_187876)) goto LA4;
I_187690 = Res_187878;
LOC5 = 0;
LOC5 = Copytree_51852((*N_187656).KindU.S6.Sons->data[I_187690]);
Addvar_187030(V_187681, LOC5);
Res_187878 += 1;
} LA4: ;
Add_186130(Result_187657, V_187681);
Call_187715 = NIM_NIL;
Call_187715 = (*N_187656).KindU.S6.Sons->data[(NI64)(Length_187667 - 2)];
LOC7 = !(((*Call_187715).Kind == ((NU8) 21)));
if (LOC7) goto LA8;
LOC7 = !(((*(*Call_187715).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)));
LA8: ;
if (!LOC7) goto LA9;
Internalerror_44208((*Call_187715).Info, ((NimStringDesc*) &TMP194275));
LA9: ;
Newc_187770 = NIM_NIL;
Newc_187770 = Newtranscon_186138((*(*Call_187715).KindU.S6.Sons->data[0]).KindU.S4.Sym);
asgnRefNoCycle((void**) &(*Newc_187770).Forstmt, N_187656);
asgnRefNoCycle((void**) &(*Newc_187770).Forloopbody, Loopbody_187680);
if (!!(((*(*Newc_187770).Owner).Kind == ((NU8) 12)))) goto LA12;
Internalerror_44208((*Call_187715).Info, ((NimStringDesc*) &TMP194275));
LA12: ;
Pushtranscon_186169(C_187655, Newc_187770);
I_187788 = 0;
HEX3Atmp_187879 = 0;
LOC14 = Sonslen_51804(Call_187715);
HEX3Atmp_187879 = (NI64)(LOC14 - 1);
Res_187881 = 0;
Res_187881 = 1;
while (1) {
if (!(Res_187881 <= HEX3Atmp_187879)) goto LA15;
I_187788 = Res_187881;
Arg_187801 = NIM_NIL;
LOC16 = 0;
LOC16 = Transform_186221(C_187655, (*Call_187715).KindU.S6.Sons->data[I_187788]);
Arg_187801 = Skippassasopenarray_187567(LOC16);
Formal_187826 = NIM_NIL;
LOC17 = 0;
LOC17 = Skiptypes_94087((*(*Newc_187770).Owner).Typ, 43008);
Formal_187826 = (*(*(*LOC17).N).KindU.S6.Sons->data[I_187788]).KindU.S4.Sym;
LOC18 = Putarginto_187597(Arg_187801, (*Formal_187826).Typ);
switch (LOC18) {
case ((NU8) 0):
Idnodetableput_56180(&(*Newc_187770).Mapping, &Formal_187826->Sup, Arg_187801);
break;
case ((NU8) 1):
Temp_187828 = NIM_NIL;
Temp_187828 = Newtemp_186202(C_187655, (*Formal_187826).Typ, (*Formal_187826).Info);
LOC19 = 0;
LOC19 = Newsymnode_51735(Temp_187828);
Addvar_187030(V_187681, LOC19);
LOC20 = 0;
LOC20 = Newsymnode_51735(Temp_187828);
LOC21 = 0;
LOC21 = Newasgnstmt_186269(C_187655, LOC20, Arg_187801);
Add_186130(Result_187657, LOC21);
LOC22 = 0;
LOC22 = Newsymnode_51735(Temp_187828);
Idnodetableput_56180(&(*Newc_187770).Mapping, &Formal_187826->Sup, LOC22);
break;
case ((NU8) 2):
Internalerror_44208((*Arg_187801).Info, ((NimStringDesc*) &TMP194277));
break;
}
Res_187881 += 1;
} LA15: ;
Body_187851 = NIM_NIL;
Body_187851 = (*(*(*Newc_187770).Owner).Ast).KindU.S6.Sons->data[4];
Pushinfocontext_43615((*N_187656).Info);
(*C_187655).Inlining += 1;
LOC23 = 0;
LOC23 = Transform_186221(C_187655, Body_187851);
Add_186130(Result_187657, LOC23);
(*C_187655).Inlining -= 1;
Popinfocontext_43636();
Poptranscon_186173(C_187655);
return Result_187657;
}
static N_INLINE(TY51526*, Newtransnode_186063)(NU8 Kind_186065, TY51526* N_186066, NI Sons_186067) {
TY51526* Result_186068;
TY51526* X_186069;
Result_186068 = 0;
X_186069 = 0;
Result_186068 = NIM_NIL;
X_186069 = NIM_NIL;
X_186069 = Newnodeit_51742(Kind_186065, (*N_186066).Info, (*N_186066).Typ);
asgnRefNoCycle((void**) &(*X_186069).KindU.S6.Sons, (TY51520*) newSeq(NTI51520, Sons_186067));
asgnRef((void**) &(*X_186069).Typ, (*N_186066).Typ);
Result_186068 = X_186069;
return Result_186068;
}
static N_INLINE(TY51526*, Lastson_51810)(TY51526* N_51812) {
TY51526* Result_53916;
NI LOC1;
Result_53916 = 0;
Result_53916 = NIM_NIL;
LOC1 = Sonslen_51804(N_51812);
Result_53916 = (*N_51812).KindU.S6.Sons->data[(NI64)(LOC1 - 1)];
return Result_53916;
}
N_NIMCALL(TY51526*, Transformcase_188252)(TY186014* C_188254, TY51526* N_188255) {
TY51526* Result_188256;
TY51526* Ifs_188257;
NI I_188266;
NI HEX3Atmp_188349;
NI LOC1;
NI Res_188351;
TY51526* It_188279;
TY51526* E_188280;
TY51526* Elsebranch_188314;
NIM_BOOL LOC12;
TY51526* LOC13;
TY51552* LOC15;
TY51526* Elsebranch_188348;
TY51526* LOC18;
Result_188256 = 0;
Ifs_188257 = 0;
It_188279 = 0;
E_188280 = 0;
Elsebranch_188314 = 0;
Elsebranch_188348 = 0;
Result_188256 = NIM_NIL;
Result_188256 = Newtransnode_186063(((NU8) 86), N_188255, 0);
Ifs_188257 = NIM_NIL;
Ifs_188257 = NIM_NIL;
I_188266 = 0;
HEX3Atmp_188349 = 0;
LOC1 = Sonslen_51804(N_188255);
HEX3Atmp_188349 = (NI64)(LOC1 - 1);
Res_188351 = 0;
Res_188351 = 0;
while (1) {
if (!(Res_188351 <= HEX3Atmp_188349)) goto LA2;
I_188266 = Res_188351;
It_188279 = NIM_NIL;
It_188279 = (*N_188255).KindU.S6.Sons->data[I_188266];
E_188280 = NIM_NIL;
E_188280 = Transform_186221(C_188254, It_188279);
switch ((*It_188279).Kind) {
case ((NU8) 76):
if (!(Ifs_188257 == NIM_NIL)) goto LA4;
Ifs_188257 = Newtransnode_186032(((NU8) 82), (*It_188279).Info, 0);
LA4: ;
Add_186130(Ifs_188257, E_188280);
break;
case ((NU8) 78):
if (!(Ifs_188257 == NIM_NIL)) goto LA7;
Add_186130(Result_188256, E_188280);
goto LA6;
LA7: ;
Add_186130(Ifs_188257, E_188280);
LA6: ;
break;
default:
Add_186130(Result_188256, E_188280);
break;
}
Res_188351 += 1;
} LA2: ;
if (!!((Ifs_188257 == NIM_NIL))) goto LA10;
Elsebranch_188314 = NIM_NIL;
Elsebranch_188314 = Newtransnode_186032(((NU8) 78), (*N_188255).Info, 1);
HEX5BHEX5DHEX3D_186094(Elsebranch_188314, 0, Ifs_188257);
Add_186130(Result_188256, Elsebranch_188314);
goto LA9;
LA10: ;
LOC13 = 0;
LOC13 = Lastson_51810(Result_188256);
LOC12 = !(((*LOC13).Kind == ((NU8) 78)));
if (!(LOC12)) goto LA14;
LOC15 = 0;
LOC15 = Skiptypes_94087((*(*N_188255).KindU.S6.Sons->data[0]).Typ, 9480192);
LOC12 = !(((IL64(66572009476) &(IL64(1)<<(((*LOC15).Kind)&IL64(63))))!=0));
LA14: ;
if (!LOC12) goto LA16;
Elsebranch_188348 = NIM_NIL;
Elsebranch_188348 = Newtransnode_186032(((NU8) 78), (*N_188255).Info, 1);
LOC18 = 0;
LOC18 = Newtransnode_186032(((NU8) 18), (*N_188255).Info, 0);
HEX5BHEX5DHEX3D_186094(Elsebranch_188348, 0, LOC18);
Add_186130(Result_188256, Elsebranch_188348);
goto LA9;
LA16: ;
LA9: ;
return Result_188256;
}
N_NIMCALL(TY51548*, Getmergeop_188381)(TY51526* N_188383) {
TY51548* Result_188384;
NIM_BOOL LOC2;
NIM_BOOL LOC3;
Result_188384 = 0;
Result_188384 = NIM_NIL;
switch ((*N_188383).Kind) {
case ((NU8) 21):
case ((NU8) 49):
case ((NU8) 20):
case ((NU8) 27):
case ((NU8) 28):
case ((NU8) 29):
case ((NU8) 22):
LOC3 = ((*(*N_188383).KindU.S6.Sons->data[0]).Kind == ((NU8) 3));
if (!(LOC3)) goto LA4;
LOC3 = ((*(*(*N_188383).KindU.S6.Sons->data[0]).KindU.S4.Sym).Kind == ((NU8) 10));
LA4: ;
LOC2 = LOC3;
if (!(LOC2)) goto LA5;
LOC2 = (((*(*(*N_188383).KindU.S6.Sons->data[0]).KindU.S4.Sym).Flags &(1<<((((NU8) 27))&31)))!=0);
LA5: ;
if (!LOC2) goto LA6;
Result_188384 = (*(*N_188383).KindU.S6.Sons->data[0]).KindU.S4.Sym;
LA6: ;
break;
default:
break;
}
return Result_188384;
}
N_NIMCALL(void, Flattentreeaux_188498)(TY51526* D_188500, TY51526* A_188501, TY51548* Op_188502) {
TY51548* Op2_188503;
NIM_BOOL LOC2;
NIM_BOOL LOC4;
NIM_BOOL LOC6;
NI I_188543;
NI HEX3Atmp_188556;
NI LOC10;
NI Res_188558;
TY51526* LOC12;
Op2_188503 = 0;
Op2_188503 = NIM_NIL;
Op2_188503 = Getmergeop_188381(A_188501);
LOC2 = !((Op2_188503 == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC4 = ((*Op2_188503).Sup.Id == (*Op_188502).Sup.Id);
if (LOC4) goto LA5;
LOC6 = !(((*Op_188502).Magic == ((NU8) 0)));
if (!(LOC6)) goto LA7;
LOC6 = ((*Op2_188503).Magic == (*Op_188502).Magic);
LA7: ;
LOC4 = LOC6;
LA5: ;
LOC2 = LOC4;
LA3: ;
if (!LOC2) goto LA8;
I_188543 = 0;
HEX3Atmp_188556 = 0;
LOC10 = Sonslen_51804(A_188501);
HEX3Atmp_188556 = (NI64)(LOC10 - 1);
Res_188558 = 0;
Res_188558 = 1;
while (1) {
if (!(Res_188558 <= HEX3Atmp_188556)) goto LA11;
I_188543 = Res_188558;
Flattentreeaux_188498(D_188500, (*A_188501).KindU.S6.Sons->data[I_188543], Op_188502);
Res_188558 += 1;
} LA11: ;
goto LA1;
LA8: ;
LOC12 = 0;
LOC12 = Copytree_51852(A_188501);
Addson_51824(D_188500, LOC12);
LA1: ;
}
N_NIMCALL(TY51526*, Flattentree_188559)(TY51526* Root_188561) {
TY51526* Result_188562;
TY51548* Op_188563;
TY51526* LOC4;
Result_188562 = 0;
Op_188563 = 0;
Result_188562 = NIM_NIL;
Op_188563 = NIM_NIL;
Op_188563 = Getmergeop_188381(Root_188561);
if (!!((Op_188563 == NIM_NIL))) goto LA2;
Result_188562 = Copynode_51849(Root_188561);
LOC4 = 0;
LOC4 = Copytree_51852((*Root_188561).KindU.S6.Sons->data[0]);
Addson_51824(Result_188562, LOC4);
Flattentreeaux_188498(Result_188562, Root_188561, Op_188563);
goto LA1;
LA2: ;
Result_188562 = Root_188561;
LA1: ;
return Result_188562;
}
static N_INLINE(NI, Len_186134)(TY51526* A_186136) {
NI Result_186137;
Result_186137 = 0;
Result_186137 = Sonslen_51804(A_186136);
return Result_186137;
}
static N_INLINE(TY51526*, HEX5BHEX5D_186112)(TY51526* A_186114, NI I_186115) {
TY51526* Result_186116;
TY51526* N_186117;
Result_186116 = 0;
N_186117 = 0;
Result_186116 = NIM_NIL;
N_186117 = NIM_NIL;
N_186117 = A_186114;
Result_186116 = (*N_186117).KindU.S6.Sons->data[I_186115];
return Result_186116;
}
N_NIMCALL(TY51526*, Transformsons_186225)(TY186014* C_186227, TY51526* N_186228) {
TY51526* Result_186229;
NI I_186253;
NI HEX3Atmp_186266;
NI LOC1;
NI Res_186268;
TY51526* LOC3;
Result_186229 = 0;
Result_186229 = NIM_NIL;
Result_186229 = Newtransnode_186028(N_186228);
I_186253 = 0;
HEX3Atmp_186266 = 0;
LOC1 = Sonslen_51804(N_186228);
HEX3Atmp_186266 = (NI64)(LOC1 - 1);
Res_186268 = 0;
Res_186268 = 0;
while (1) {
if (!(Res_186268 <= HEX3Atmp_186266)) goto LA2;
I_186253 = Res_186268;
LOC3 = 0;
LOC3 = Transform_186221(C_186227, (*N_186228).KindU.S6.Sons->data[I_186253]);
HEX5BHEX5DHEX3D_186094(Result_186229, I_186253, LOC3);
Res_186268 += 1;
} LA2: ;
return Result_186229;
}
N_NIMCALL(TY51526*, Transformcall_188587)(TY186014* C_188589, TY51526* N_188590) {
TY51526* Result_188591;
TY51526* N_188592;
TY51548* Op_188593;
NIM_BOOL LOC2;
NIM_BOOL LOC3;
NI LOC6;
TY51526* LOC9;
NI J_188628;
NI LOC11;
TY51526* A_188645;
NIM_BOOL LOC13;
NIM_BOOL LOC17;
NI LOC18;
TY51526* LOC20;
NI LOC22;
NIM_BOOL LOC25;
TY51526* LOC29;
Result_188591 = 0;
N_188592 = 0;
Op_188593 = 0;
A_188645 = 0;
Result_188591 = NIM_NIL;
N_188592 = NIM_NIL;
N_188592 = Flattentree_188559(N_188590);
Op_188593 = NIM_NIL;
Op_188593 = Getmergeop_188381(N_188592);
LOC3 = !((Op_188593 == NIM_NIL));
if (!(LOC3)) goto LA4;
LOC3 = !(((*Op_188593).Magic == ((NU8) 0)));
LA4: ;
LOC2 = LOC3;
if (!(LOC2)) goto LA5;
LOC6 = Sonslen_51804(N_188592);
LOC2 = (3 <= LOC6);
LA5: ;
if (!LOC2) goto LA7;
Result_188591 = Newtransnode_186063(((NU8) 21), N_188592, 0);
LOC9 = 0;
LOC9 = Transform_186221(C_188589, (*N_188592).KindU.S6.Sons->data[0]);
Add_186130(Result_188591, LOC9);
J_188628 = 0;
J_188628 = 1;
while (1) {
LOC11 = Sonslen_51804(N_188592);
if (!(J_188628 < LOC11)) goto LA10;
A_188645 = NIM_NIL;
A_188645 = (*N_188592).KindU.S6.Sons->data[J_188628];
J_188628 += 1;
LOC13 = Isconstexpr_93016(A_188645);
if (!LOC13) goto LA14;
while (1) {
LOC18 = Sonslen_51804(N_188592);
LOC17 = (J_188628 < LOC18);
if (!(LOC17)) goto LA19;
LOC17 = Isconstexpr_93016((*N_188592).KindU.S6.Sons->data[J_188628]);
LA19: ;
if (!LOC17) goto LA16;
A_188645 = Evalop_110014((*Op_188593).Magic, N_188592, A_188645, (*N_188592).KindU.S6.Sons->data[J_188628], NIM_NIL);
J_188628 += 1;
} LA16: ;
LA14: ;
LOC20 = 0;
LOC20 = Transform_186221(C_188589, A_188645);
Add_186130(Result_188591, LOC20);
} LA10: ;
LOC22 = Len_186134(Result_188591);
if (!(LOC22 == 2)) goto LA23;
Result_188591 = HEX5BHEX5D_186112(Result_188591, 1);
LA23: ;
goto LA1;
LA7: ;
LOC25 = ((*(*N_188592).KindU.S6.Sons->data[0]).Kind == ((NU8) 3));
if (!(LOC25)) goto LA26;
LOC25 = ((*(*(*N_188592).KindU.S6.Sons->data[0]).KindU.S4.Sym).Kind == ((NU8) 11));
LA26: ;
if (!LOC25) goto LA27;
LOC29 = 0;
LOC29 = Transformsons_186225(C_188589, N_188592);
Result_188591 = Methodcall_159041(LOC29);
goto LA1;
LA27: ;
Result_188591 = Transformsons_186225(C_188589, N_188592);
LA1: ;
return Result_188591;
}
N_NIMCALL(TY51526*, Transformaddrderef_187035)(TY186014* C_187037, TY51526* N_187038, NU8 A_187039, NU8 B_187040) {
TY51526* Result_187041;
TY51526* M_187078;
NIM_BOOL LOC2;
TY51526* X_187097;
TY51526* M_187170;
NIM_BOOL LOC7;
TY51526* X_187189;
NIM_BOOL LOC12;
Result_187041 = 0;
M_187078 = 0;
X_187097 = 0;
M_187170 = 0;
X_187189 = 0;
Result_187041 = NIM_NIL;
switch ((*(*N_187038).KindU.S6.Sons->data[0]).Kind) {
case ((NU8) 56):
case ((NU8) 55):
case ((NU8) 62):
case ((NU8) 59):
case ((NU8) 57):
case ((NU8) 58):
M_187078 = NIM_NIL;
M_187078 = (*(*N_187038).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[0];
LOC2 = ((*M_187078).Kind == A_187039);
if (LOC2) goto LA3;
LOC2 = ((*M_187078).Kind == B_187040);
LA3: ;
if (!LOC2) goto LA4;
X_187097 = NIM_NIL;
X_187097 = Copytree_51852(N_187038);
asgnRefNoCycle((void**) &(*(*X_187097).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[0], (*M_187078).KindU.S6.Sons->data[0]);
Result_187041 = Transform_186221(C_187037, (*X_187097).KindU.S6.Sons->data[0]);
goto LA1;
LA4: ;
Result_187041 = Transformsons_186225(C_187037, N_187038);
LA1: ;
break;
case ((NU8) 47):
case ((NU8) 48):
case ((NU8) 50):
M_187170 = NIM_NIL;
M_187170 = (*(*N_187038).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[1];
LOC7 = ((*M_187170).Kind == A_187039);
if (LOC7) goto LA8;
LOC7 = ((*M_187170).Kind == B_187040);
LA8: ;
if (!LOC7) goto LA9;
X_187189 = NIM_NIL;
X_187189 = Copytree_51852(N_187038);
asgnRefNoCycle((void**) &(*(*X_187189).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[1], (*M_187170).KindU.S6.Sons->data[0]);
Result_187041 = Transform_186221(C_187037, (*X_187189).KindU.S6.Sons->data[0]);
goto LA6;
LA9: ;
Result_187041 = Transformsons_186225(C_187037, N_187038);
LA6: ;
break;
default:
LOC12 = ((*(*N_187038).KindU.S6.Sons->data[0]).Kind == A_187039);
if (LOC12) goto LA13;
LOC12 = ((*(*N_187038).KindU.S6.Sons->data[0]).Kind == B_187040);
LA13: ;
if (!LOC12) goto LA14;
Result_187041 = Transform_186221(C_187037, (*(*N_187038).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[0]);
goto LA11;
LA14: ;
Result_187041 = Transformsons_186225(C_187037, N_187038);
LA11: ;
break;
}
return Result_187041;
}
N_NIMCALL(TY51526*, Transformconv_187304)(TY186014* C_187306, TY51526* N_187307) {
TY51526* Result_187308;
TY51552* Dest_187309;
TY51552* Source_187322;
NIM_BOOL LOC2;
NIM_BOOL LOC5;
NI64 LOC6;
NI64 LOC7;
NI64 LOC9;
NI64 LOC10;
NIM_BOOL LOC14;
TY51526* LOC18;
NI64 LOC19;
TY51526* LOC20;
NI64 LOC21;
TY51526* LOC22;
TY51552* LOC24;
TY51526* LOC27;
TY51526* LOC28;
TY51526* LOC29;
TY51526* LOC30;
TY51526* LOC34;
TY51526* LOC38;
NI Diff_187465;
TY51526* LOC45;
TY51526* LOC48;
NI Diff_187510;
TY51526* LOC52;
TY51526* LOC55;
Result_187308 = 0;
Dest_187309 = 0;
Source_187322 = 0;
Result_187308 = NIM_NIL;
Dest_187309 = NIM_NIL;
Dest_187309 = Skiptypes_94087((*N_187307).Typ, 9480192);
Source_187322 = NIM_NIL;
Source_187322 = Skiptypes_94087((*(*N_187307).KindU.S6.Sons->data[1]).Typ, 9480192);
switch ((*Dest_187309).Kind) {
case ((NU8) 31) ... ((NU8) 35):
case ((NU8) 14):
case ((NU8) 2):
case ((NU8) 1):
LOC2 = Isordinaltype_94069(Source_187322);
if (!!(LOC2)) goto LA3;
Result_187308 = Transformsons_186225(C_187306, N_187307);
goto LA1;
LA3: ;
LOC6 = Firstord_94001(Dest_187309);
LOC7 = Firstord_94001(Source_187322);
LOC5 = (LOC6 <= LOC7);
if (!(LOC5)) goto LA8;
LOC9 = Lastord_94004(Source_187322);
LOC10 = Lastord_94004(Dest_187309);
LOC5 = (LOC9 <= LOC10);
LA8: ;
if (!LOC5) goto LA11;
Result_187308 = Transformsons_186225(C_187306, N_187307);
goto LA1;
LA11: ;
LOC14 = ((*Dest_187309).Kind == ((NU8) 35));
if (LOC14) goto LA15;
LOC14 = ((*Source_187322).Kind == ((NU8) 35));
LA15: ;
if (!LOC14) goto LA16;
Result_187308 = Newtransnode_186063(((NU8) 58), N_187307, 3);
goto LA13;
LA16: ;
Result_187308 = Newtransnode_186063(((NU8) 59), N_187307, 3);
LA13: ;
Dest_187309 = Skiptypes_94087((*N_187307).Typ, 8431616);
LOC18 = 0;
LOC18 = Transform_186221(C_187306, (*N_187307).KindU.S6.Sons->data[1]);
HEX5BHEX5DHEX3D_186094(Result_187308, 0, LOC18);
LOC19 = Firstord_94001(Dest_187309);
LOC20 = 0;
LOC20 = Newinttypenode_51718(((NU8) 6), LOC19, Source_187322);
HEX5BHEX5DHEX3D_186094(Result_187308, 1, LOC20);
LOC21 = Lastord_94004(Dest_187309);
LOC22 = 0;
LOC22 = Newinttypenode_51718(((NU8) 6), LOC21, Source_187322);
HEX5BHEX5DHEX3D_186094(Result_187308, 2, LOC22);
LA1: ;
break;
case ((NU8) 36) ... ((NU8) 39):
LOC24 = 0;
LOC24 = Skiptypes_94087((*N_187307).Typ, 8431616);
if (!((*LOC24).Kind == ((NU8) 20))) goto LA25;
Result_187308 = Newtransnode_186063(((NU8) 57), N_187307, 3);
Dest_187309 = Skiptypes_94087((*N_187307).Typ, 8431616);
LOC27 = 0;
LOC27 = Transform_186221(C_187306, (*N_187307).KindU.S6.Sons->data[1]);
HEX5BHEX5DHEX3D_186094(Result_187308, 0, LOC27);
LOC28 = 0;
LOC28 = Copytree_51852((*(*Dest_187309).N).KindU.S6.Sons->data[0]);
HEX5BHEX5DHEX3D_186094(Result_187308, 1, LOC28);
LOC29 = 0;
LOC29 = Copytree_51852((*(*Dest_187309).N).KindU.S6.Sons->data[1]);
HEX5BHEX5DHEX3D_186094(Result_187308, 2, LOC29);
goto LA23;
LA25: ;
Result_187308 = Transformsons_186225(C_187306, N_187307);
LA23: ;
break;
case ((NU8) 27):
Result_187308 = Newtransnode_186063(((NU8) 62), N_187307, 1);
LOC30 = 0;
LOC30 = Transform_186221(C_187306, (*N_187307).KindU.S6.Sons->data[1]);
HEX5BHEX5DHEX3D_186094(Result_187308, 0, LOC30);
break;
case ((NU8) 29):
if (!((*Source_187322).Kind == ((NU8) 28))) goto LA32;
Result_187308 = Newtransnode_186063(((NU8) 60), N_187307, 1);
LOC34 = 0;
LOC34 = Transform_186221(C_187306, (*N_187307).KindU.S6.Sons->data[1]);
HEX5BHEX5DHEX3D_186094(Result_187308, 0, LOC34);
goto LA31;
LA32: ;
Result_187308 = Transformsons_186225(C_187306, N_187307);
LA31: ;
break;
case ((NU8) 28):
if (!((*Source_187322).Kind == ((NU8) 29))) goto LA36;
Result_187308 = Newtransnode_186063(((NU8) 61), N_187307, 1);
LOC38 = 0;
LOC38 = Transform_186221(C_187306, (*N_187307).KindU.S6.Sons->data[1]);
HEX5BHEX5DHEX3D_186094(Result_187308, 0, LOC38);
goto LA35;
LA36: ;
Result_187308 = Transformsons_186225(C_187306, N_187307);
LA35: ;
break;
case ((NU8) 22):
case ((NU8) 21):
Dest_187309 = Skiptypes_94087(Dest_187309, 14723072);
Source_187322 = Skiptypes_94087(Source_187322, 14723072);
if (!((*Source_187322).Kind == ((NU8) 17))) goto LA40;
Diff_187465 = 0;
Diff_187465 = Inheritancediff_94121(Dest_187309, Source_187322);
if (!(Diff_187465 < 0)) goto LA43;
Result_187308 = Newtransnode_186063(((NU8) 56), N_187307, 1);
LOC45 = 0;
LOC45 = Transform_186221(C_187306, (*N_187307).KindU.S6.Sons->data[1]);
HEX5BHEX5DHEX3D_186094(Result_187308, 0, LOC45);
goto LA42;
LA43: ;
if (!(0 < Diff_187465)) goto LA46;
Result_187308 = Newtransnode_186063(((NU8) 55), N_187307, 1);
LOC48 = 0;
LOC48 = Transform_186221(C_187306, (*N_187307).KindU.S6.Sons->data[1]);
HEX5BHEX5DHEX3D_186094(Result_187308, 0, LOC48);
goto LA42;
LA46: ;
Result_187308 = Transform_186221(C_187306, (*N_187307).KindU.S6.Sons->data[1]);
LA42: ;
goto LA39;
LA40: ;
Result_187308 = Transformsons_186225(C_187306, N_187307);
LA39: ;
break;
case ((NU8) 17):
Diff_187510 = 0;
Diff_187510 = Inheritancediff_94121(Dest_187309, Source_187322);
if (!(Diff_187510 < 0)) goto LA50;
Result_187308 = Newtransnode_186063(((NU8) 56), N_187307, 1);
LOC52 = 0;
LOC52 = Transform_186221(C_187306, (*N_187307).KindU.S6.Sons->data[1]);
HEX5BHEX5DHEX3D_186094(Result_187308, 0, LOC52);
goto LA49;
LA50: ;
if (!(0 < Diff_187510)) goto LA53;
Result_187308 = Newtransnode_186063(((NU8) 55), N_187307, 1);
LOC55 = 0;
LOC55 = Transform_186221(C_187306, (*N_187307).KindU.S6.Sons->data[1]);
HEX5BHEX5DHEX3D_186094(Result_187308, 0, LOC55);
goto LA49;
LA53: ;
Result_187308 = Transform_186221(C_187306, (*N_187307).KindU.S6.Sons->data[1]);
LA49: ;
break;
case ((NU8) 12):
case ((NU8) 15):
Result_187308 = Transform_186221(C_187306, (*N_187307).KindU.S6.Sons->data[1]);
break;
default:
Result_187308 = Transformsons_186225(C_187306, N_187307);
break;
}
return Result_187308;
}
N_NIMCALL(TY51526*, Transformvarsection_186444)(TY186014* C_186446, TY51526* V_186447) {
TY51526* Result_186448;
NI I_186457;
NI HEX3Atmp_186715;
NI LOC1;
NI Res_186717;
TY51526* It_186470;
TY51548* Newvar_186534;
TY51526* LOC11;
TY51526* Defs_186572;
TY51526* LOC12;
TY51526* LOC13;
NI L_186606;
TY51526* Defs_186607;
NI J_186616;
NI HEX3Atmp_186712;
NI Res_186714;
TY51548* Newvar_186641;
TY51526* LOC18;
TY51526* LOC19;
TY51526* LOC20;
Result_186448 = 0;
It_186470 = 0;
Newvar_186534 = 0;
Defs_186572 = 0;
Defs_186607 = 0;
Newvar_186641 = 0;
Result_186448 = NIM_NIL;
Result_186448 = Newtransnode_186028(V_186447);
I_186457 = 0;
HEX3Atmp_186715 = 0;
LOC1 = Sonslen_51804(V_186447);
HEX3Atmp_186715 = (NI64)(LOC1 - 1);
Res_186717 = 0;
Res_186717 = 0;
while (1) {
if (!(Res_186717 <= HEX3Atmp_186715)) goto LA2;
I_186457 = Res_186717;
It_186470 = NIM_NIL;
It_186470 = (*V_186447).KindU.S6.Sons->data[I_186457];
if (!((*It_186470).Kind == ((NU8) 105))) goto LA4;
HEX5BHEX5DHEX3D_186094(Result_186448, I_186457, It_186470);
goto LA3;
LA4: ;
if (!((*It_186470).Kind == ((NU8) 25))) goto LA6;
if (!!(((*(*It_186470).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA9;
Internalerror_44208((*It_186470).Info, ((NimStringDesc*) &TMP194282));
LA9: ;
Newvar_186534 = NIM_NIL;
Newvar_186534 = Copysym_51776((*(*It_186470).KindU.S6.Sons->data[0]).KindU.S4.Sym, NIM_FALSE);
(*Newvar_186534).Flags |=(1<<((NI32)(((NU8) 4))%(sizeof(NI32)*8)));
asgnRef((void**) &(*Newvar_186534).Owner, Getcurrowner_186187(C_186446));
LOC11 = 0;
LOC11 = Newsymnode_51735(Newvar_186534);
Idnodetableput_56180(&(*(*C_186446).Transcon).Mapping, &(*(*It_186470).KindU.S6.Sons->data[0]).KindU.S4.Sym->Sup, LOC11);
Defs_186572 = NIM_NIL;
Defs_186572 = Newtransnode_186032(((NU8) 25), (*It_186470).Info, 3);
LOC12 = 0;
LOC12 = Newsymnode_51735(Newvar_186534);
HEX5BHEX5DHEX3D_186094(Defs_186572, 0, LOC12);
HEX5BHEX5DHEX3D_186094(Defs_186572, 1, (*It_186470).KindU.S6.Sons->data[1]);
LOC13 = 0;
LOC13 = Transform_186221(C_186446, (*It_186470).KindU.S6.Sons->data[2]);
HEX5BHEX5DHEX3D_186094(Defs_186572, 2, LOC13);
HEX5BHEX5DHEX3D_186094(Result_186448, I_186457, Defs_186572);
goto LA3;
LA6: ;
if (!!(((*It_186470).Kind == ((NU8) 26)))) goto LA15;
Internalerror_44208((*It_186470).Info, ((NimStringDesc*) &TMP194283));
LA15: ;
L_186606 = 0;
L_186606 = Sonslen_51804(It_186470);
Defs_186607 = NIM_NIL;
Defs_186607 = Newtransnode_186032((*It_186470).Kind, (*It_186470).Info, L_186606);
J_186616 = 0;
HEX3Atmp_186712 = 0;
HEX3Atmp_186712 = (NI64)(L_186606 - 3);
Res_186714 = 0;
Res_186714 = 0;
while (1) {
if (!(Res_186714 <= HEX3Atmp_186712)) goto LA17;
J_186616 = Res_186714;
Newvar_186641 = NIM_NIL;
Newvar_186641 = Copysym_51776((*(*It_186470).KindU.S6.Sons->data[J_186616]).KindU.S4.Sym, NIM_FALSE);
(*Newvar_186641).Flags |=(1<<((NI32)(((NU8) 4))%(sizeof(NI32)*8)));
asgnRef((void**) &(*Newvar_186641).Owner, Getcurrowner_186187(C_186446));
LOC18 = 0;
LOC18 = Newsymnode_51735(Newvar_186641);
Idnodetableput_56180(&(*(*C_186446).Transcon).Mapping, &(*(*It_186470).KindU.S6.Sons->data[J_186616]).KindU.S4.Sym->Sup, LOC18);
LOC19 = 0;
LOC19 = Newsymnode_51735(Newvar_186641);
HEX5BHEX5DHEX3D_186094(Defs_186607, J_186616, LOC19);
Res_186714 += 1;
} LA17: ;
LOC20 = 0;
LOC20 = Transform_186221(C_186446, (*It_186470).KindU.S6.Sons->data[(NI64)(L_186606 - 1)]);
HEX5BHEX5DHEX3D_186094(Defs_186607, (NI64)(L_186606 - 1), LOC20);
HEX5BHEX5DHEX3D_186094(Result_186448, I_186457, Defs_186607);
LA3: ;
Res_186717 += 1;
} LA2: ;
return Result_186448;
}
N_NIMCALL(TY51526*, Newtupleaccess_186836)(TY51526* Tup_186838, NI I_186839) {
TY51526* Result_186840;
TY51526* LOC1;
TY51526* Lit_186841;
TY51552* LOC2;
Result_186840 = 0;
Lit_186841 = 0;
Result_186840 = NIM_NIL;
Result_186840 = Newnodeit_51742(((NU8) 33), (*Tup_186838).Info, (*(*Tup_186838).Typ).Sons->data[I_186839]);
LOC1 = 0;
LOC1 = Copytree_51852(Tup_186838);
Addson_51824(Result_186840, LOC1);
Lit_186841 = NIM_NIL;
LOC2 = 0;
LOC2 = Getsystype_99008(((NU8) 31));
Lit_186841 = Newnodeit_51742(((NU8) 6), (*Tup_186838).Info, LOC2);
(*Lit_186841).KindU.S1.Intval = ((NI64) (I_186839));
Addson_51824(Result_186840, Lit_186841);
return Result_186840;
}
N_NIMCALL(void, Unpacktuple_186854)(TY186014* C_186856, TY51526* N_186857, TY51526* Father_186858) {
NI I_186867;
NI HEX3Atmp_186880;
NI LOC1;
NI Res_186882;
TY51526* LOC3;
TY51526* LOC4;
TY51526* LOC5;
I_186867 = 0;
HEX3Atmp_186880 = 0;
LOC1 = Sonslen_51804((*(*C_186856).Transcon).Forstmt);
HEX3Atmp_186880 = (NI64)(LOC1 - 3);
Res_186882 = 0;
Res_186882 = 0;
while (1) {
if (!(Res_186882 <= HEX3Atmp_186880)) goto LA2;
I_186867 = Res_186882;
LOC3 = 0;
LOC3 = Newtupleaccess_186836(N_186857, I_186867);
LOC4 = 0;
LOC4 = Transform_186221(C_186856, LOC3);
LOC5 = 0;
LOC5 = Newasgnstmt_186269(C_186856, (*(*(*C_186856).Transcon).Forstmt).KindU.S6.Sons->data[I_186867], LOC4);
Add_186130(Father_186858, LOC5);
Res_186882 += 1;
} LA2: ;
}
N_NIMCALL(TY51526*, Introducenewlocalvars_186883)(TY186014* C_186885, TY51526* N_186886) {
TY51526* Result_186887;
NI I_186914;
NI HEX3Atmp_186927;
NI LOC1;
NI Res_186929;
TY51526* LOC3;
Result_186887 = 0;
Result_186887 = NIM_NIL;
switch ((*N_186886).Kind) {
case ((NU8) 3):
Result_186887 = Transformsym_186439(C_186885, N_186886);
goto BeforeRet;
break;
case ((NU8) 1) ... ((NU8) 2):
case ((NU8) 4) ... ((NU8) 18):
Result_186887 = N_186886;
break;
case ((NU8) 87):
Result_186887 = Transformvarsection_186444(C_186885, N_186886);
break;
default:
Result_186887 = Newtransnode_186028(N_186886);
I_186914 = 0;
HEX3Atmp_186927 = 0;
LOC1 = Sonslen_51804(N_186886);
HEX3Atmp_186927 = (NI64)(LOC1 - 1);
Res_186929 = 0;
Res_186929 = 0;
while (1) {
if (!(Res_186929 <= HEX3Atmp_186927)) goto LA2;
I_186914 = Res_186929;
LOC3 = 0;
LOC3 = Introducenewlocalvars_186883(C_186885, (*N_186886).KindU.S6.Sons->data[I_186914]);
HEX5BHEX5DHEX3D_186094(Result_186887, I_186914, LOC3);
Res_186929 += 1;
} LA2: ;
break;
}
BeforeRet: ;
return Result_186887;
}
N_NIMCALL(TY51526*, Transformyield_186930)(TY186014* C_186932, TY51526* N_186933) {
TY51526* Result_186934;
TY51526* E_186947;
TY51552* LOC2;
NI I_186975;
NI HEX3Atmp_187027;
NI LOC8;
NI Res_187029;
TY51526* LOC10;
TY51526* LOC11;
TY51526* X_187000;
TY51526* LOC12;
TY51526* LOC16;
Result_186934 = 0;
E_186947 = 0;
X_187000 = 0;
Result_186934 = NIM_NIL;
Result_186934 = Newtransnode_186032(((NU8) 101), (*N_186933).Info, 0);
E_186947 = NIM_NIL;
E_186947 = (*N_186933).KindU.S6.Sons->data[0];
LOC2 = 0;
LOC2 = Skiptypes_94087((*E_186947).Typ, 2048);
if (!((*LOC2).Kind == ((NU8) 18))) goto LA3;
E_186947 = Skipconv_186808(E_186947);
if (!((*E_186947).Kind == ((NU8) 30))) goto LA6;
I_186975 = 0;
HEX3Atmp_187027 = 0;
LOC8 = Sonslen_51804(E_186947);
HEX3Atmp_187027 = (NI64)(LOC8 - 1);
Res_187029 = 0;
Res_187029 = 0;
while (1) {
if (!(Res_187029 <= HEX3Atmp_187027)) goto LA9;
I_186975 = Res_187029;
LOC10 = 0;
LOC10 = Transform_186221(C_186932, (*E_186947).KindU.S6.Sons->data[I_186975]);
LOC11 = 0;
LOC11 = Newasgnstmt_186269(C_186932, (*(*(*C_186932).Transcon).Forstmt).KindU.S6.Sons->data[I_186975], LOC10);
Add_186130(Result_186934, LOC11);
Res_187029 += 1;
} LA9: ;
goto LA5;
LA6: ;
Unpacktuple_186854(C_186932, E_186947, Result_186934);
LA5: ;
goto LA1;
LA3: ;
X_187000 = NIM_NIL;
X_187000 = Transform_186221(C_186932, E_186947);
LOC12 = 0;
LOC12 = Newasgnstmt_186269(C_186932, (*(*(*C_186932).Transcon).Forstmt).KindU.S6.Sons->data[0], X_187000);
Add_186130(Result_186934, LOC12);
LA1: ;
(*(*C_186932).Transcon).Yieldstmts += 1;
if (!((*(*C_186932).Transcon).Yieldstmts <= 1)) goto LA14;
Add_186130(Result_186934, (*(*C_186932).Transcon).Forloopbody);
goto LA13;
LA14: ;
LOC16 = 0;
LOC16 = Introducenewlocalvars_186883(C_186932, (*(*C_186932).Transcon).Forloopbody);
Add_186130(Result_186934, LOC16);
LA13: ;
return Result_186934;
}
N_NIMCALL(TY51526*, Transform_186221)(TY186014* C_186223, TY51526* N_186224) {
TY51526* Result_188760;
TY51548* Labl_188879;
TY51526* LOC7;
TY51526* LOC8;
TY51526* LOC9;
NIM_BOOL LOC11;
TY51526* Cnst_188924;
Result_188760 = 0;
Labl_188879 = 0;
Cnst_188924 = 0;
Result_188760 = NIM_NIL;
switch ((*N_186224).Kind) {
case ((NU8) 3):
Result_188760 = Transformsym_186439(C_186223, N_186224);
goto BeforeRet;
break;
case ((NU8) 1) ... ((NU8) 2):
case ((NU8) 4) ... ((NU8) 18):
Result_188760 = N_186224;
break;
case ((NU8) 33):
Result_188760 = Transformarrayaccess_188352(C_186223, N_186224);
break;
case ((NU8) 42):
break;
case ((NU8) 84):
Result_188760 = Transformfor_187653(C_186223, N_186224);
break;
case ((NU8) 86):
Result_188760 = Transformcase_188252(C_186223, N_186224);
break;
case ((NU8) 69):
case ((NU8) 70):
case ((NU8) 74):
case ((NU8) 72):
if (!((*(*N_186224).KindU.S6.Sons->data[1]).Kind == ((NU8) 1))) goto LA2;
asgnRefNoCycle((void**) &(*N_186224).KindU.S6.Sons->data[4], Transform_186221(C_186223, (*N_186224).KindU.S6.Sons->data[4]));
if (!((*N_186224).Kind == ((NU8) 70))) goto LA5;
Methoddef_159227((*(*N_186224).KindU.S6.Sons->data[0]).KindU.S4.Sym);
LA5: ;
LA2: ;
Result_188760 = N_186224;
break;
case ((NU8) 98):
Result_188760 = Newnode_51711(((NU8) 97));
Labl_188879 = NIM_NIL;
Labl_188879 = (*C_186223).Blocksyms->data[((*C_186223).Blocksyms->Sup.len-1)];
LOC7 = 0;
LOC7 = Newsymnode_51735(Labl_188879);
Add_186130(Result_188760, LOC7);
break;
case ((NU8) 85):
Result_188760 = Newtransnode_186028(N_186224);
LOC8 = 0;
LOC8 = Transform_186221(C_186223, (*N_186224).KindU.S6.Sons->data[0]);
HEX5BHEX5DHEX3D_186094(Result_188760, 0, LOC8);
LOC9 = 0;
LOC9 = Transformloopbody_186746(C_186223, (*N_186224).KindU.S6.Sons->data[1]);
HEX5BHEX5DHEX3D_186094(Result_188760, 1, LOC9);
break;
case ((NU8) 21):
case ((NU8) 49):
case ((NU8) 20):
case ((NU8) 27):
case ((NU8) 28):
case ((NU8) 29):
case ((NU8) 22):
Result_188760 = Transformcall_188587(C_186223, N_186224);
break;
case ((NU8) 52):
case ((NU8) 53):
Result_188760 = Transformaddrderef_187035(C_186223, N_186224, ((NU8) 38), ((NU8) 54));
break;
case ((NU8) 38):
case ((NU8) 54):
Result_188760 = Transformaddrderef_187035(C_186223, N_186224, ((NU8) 52), ((NU8) 53));
break;
case ((NU8) 47):
case ((NU8) 48):
case ((NU8) 50):
Result_188760 = Transformconv_187304(C_186223, N_186224);
break;
case ((NU8) 100):
Result_188760 = Transformsons_186225(C_186223, N_186224);
LOC11 = Isconstexpr_93016((*Result_188760).KindU.S6.Sons->data[0]);
if (!LOC11) goto LA12;
Result_188760 = Newnode_51711(((NU8) 105));
LA12: ;
break;
case ((NU8) 105):
case ((NU8) 73):
Result_188760 = N_186224;
goto BeforeRet;
break;
case ((NU8) 88):
Result_188760 = N_186224;
goto BeforeRet;
break;
case ((NU8) 87):
if (!(0 < (*C_186223).Inlining)) goto LA15;
Result_188760 = Transformvarsection_186444(C_186223, N_186224);
goto LA14;
LA15: ;
Result_188760 = Transformsons_186225(C_186223, N_186224);
LA14: ;
break;
case ((NU8) 92):
if (!(0 < (*C_186223).Inlining)) goto LA18;
Result_188760 = Transformyield_186930(C_186223, N_186224);
goto LA17;
LA18: ;
Result_188760 = Transformsons_186225(C_186223, N_186224);
LA17: ;
break;
default:
Result_188760 = Transformsons_186225(C_186223, N_186224);
break;
}
Cnst_188924 = NIM_NIL;
Cnst_188924 = Getconstexpr_110010((*C_186223).Module, Result_188760);
if (!!((Cnst_188924 == NIM_NIL))) goto LA21;
Result_188760 = Cnst_188924;
LA21: ;
BeforeRet: ;
return Result_188760;
}
N_NIMCALL(TY51526*, Processtransf_188936)(TY102002* Context_188938, TY51526* N_188939) {
TY51526* Result_188940;
TY186014* C_188941;
TY51548* LOC1;
TY186012* LOC2;
Result_188940 = 0;
C_188941 = 0;
Result_188940 = NIM_NIL;
C_188941 = NIM_NIL;
C_188941 = ((TY186014*) (Context_188938));
LOC1 = 0;
LOC1 = Getcurrowner_186187(C_188941);
LOC2 = 0;
LOC2 = Newtranscon_186138(LOC1);
Pushtranscon_186169(C_188941, LOC2);
Result_188940 = Transform_186221(C_188941, N_188939);
Poptranscon_186173(C_188941);
return Result_188940;
}
N_NIMCALL(TY102006, Transfpass_186005)(void) {
TY102006 Result_188981;
memset((void*)&Result_188981, 0, sizeof(Result_188981));
Initpass_102031(&Result_188981);
Result_188981.Open = Opentransf_188942;
Result_188981.Process = Processtransf_188936;
Result_188981.Close = Processtransf_188936;
return Result_188981;
}
static N_INLINE(TY51548*, Pop_186777)(TY51528** S_186782) {
TY51548* Result_186783;
NI L_186794;
Result_186783 = 0;
Result_186783 = NIM_NIL;
L_186794 = 0;
L_186794 = (NI64)((*S_186782)->Sup.len - 1);
Result_186783 = (*S_186782)->data[L_186794];
(*S_186782) = (TY51528*) setLengthSeq(&((*S_186782))->Sup, sizeof(TY51548*), L_186794);
return Result_186783;
}
N_NOINLINE(void, transfInit)(void) {
}

