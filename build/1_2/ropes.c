/* Generated by Nimrod Compiler v0.8.9 */
/*   (c) 2010 Andreas Rumpf */

typedef long long int NI;
typedef unsigned long long int NU;
#include "nimbase.h"

typedef struct TY46008 TY46008;
typedef struct TNimObject TNimObject;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct TY10402 TY10402;
typedef struct TY7804 TY7804;
typedef struct TY10790 TY10790;
typedef struct TY10418 TY10418;
typedef struct TY10414 TY10414;
typedef struct TY10410 TY10410;
typedef struct TY10788 TY10788;
typedef struct TY46010 TY46010;
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TNimObject {
TNimType* m_type;
};
struct TGenericSeq {
NI len;
NI space;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
struct TY46008 {
  TNimObject Sup;
TY46008* Left;
TY46008* Right;
NI Length;
NimStringDesc* Data;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct TY10402 {
NI Refcount;
TNimType* Typ;
};
typedef N_STDCALL_PTR(void, TY7816) (TY7804* L_7818);
struct TY10418 {
NI Len;
NI Cap;
TY10402** D;
};
struct TY10414 {
NI Counter;
NI Max;
TY10410* Head;
TY10410** Data;
};
struct TY7804 {
void* Debuginfo;
NI32 Lockcount;
NI32 Recursioncount;
NI Owningthread;
NI Locksemaphore;
NI32 Reserved;
};
struct TY10788 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY10790 {
TY10418 Zct;
TY10418 Decstack;
TY10414 Cycleroots;
TY10418 Tempstack;
TY7804 Cyclerootslock;
TY7804 Zctlock;
TY10788 Stat;
};
typedef N_STDCALL_PTR(void, TY7820) (TY7804* L_7822);
typedef TY46008* TY46451[1];
typedef NI TY44040[256];
typedef NI TY8414[8];
struct TY10410 {
TY10410* Next;
NI Key;
TY8414 Bits;
};
struct TY46010 {
  TGenericSeq Sup;
  TY46008* data[SEQ_DECL_SIZE];
};
N_NIMCALL(NI, Ropelen_46055)(TY46008* A_46057);
N_NIMCALL(TY46008*, Newrope_46105)(NimStringDesc* Data_46107);
N_NIMCALL(void*, newObj)(TNimType* Typ_12107, NI Size_12108);
static N_INLINE(void, asgnRefNoCycle)(void** Dest_11618, void* Src_11619);
static N_INLINE(TY10402*, Usrtocell_10836)(void* Usr_10838);
static N_INLINE(NI, Atomicinc_3001)(NI* Memloc_3004, NI X_3005);
static N_INLINE(NI, Atomicdec_3006)(NI* Memloc_3009, NI X_3010);
static N_INLINE(void, Rtladdzct_11458)(TY10402* C_11460);
N_NOINLINE(void, Addzct_10825)(TY10418* S_10828, TY10402* C_10829);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* Src_17108);
N_NIMCALL(NimStringDesc*, Getcachestats_46081)(void);
static N_INLINE(NI, addInt)(NI A_5603, NI B_5604);
N_NOINLINE(void, raiseOverflow)(void);
static N_INLINE(void, appendString)(NimStringDesc* Dest_17192, NimStringDesc* Src_17193);
N_NIMCALL(NimStringDesc*, nimIntToStr)(NI X_17803);
N_NIMCALL(NimStringDesc*, nimFloatToStr)(NF X_17860);
N_NIMCALL(NimStringDesc*, rawNewString)(NI Space_17087);
N_NIMCALL(TY46008*, Splay_46184)(NimStringDesc* S_46186, TY46008* Tree_46187, NI* Cmpres_46189);
N_NIMCALL(NI, Cmp_1321)(NimStringDesc* X_1323, NimStringDesc* Y_1324);
static N_INLINE(NI, cmpStrings)(NimStringDesc* A_17011, NimStringDesc* B_17012);
N_NIMCALL(TY46008*, Insertincache_46246)(NimStringDesc* S_46248, TY46008* Tree_46249);
N_NIMCALL(NIM_BOOL, Ropeinvariant_46087)(TY46008* R_46089);
N_NIMCALL(TY46008*, Torope_46046)(NimStringDesc* S_46048);
N_NIMCALL(void, internalAssert)(NCSTRING File_5054, NI Line_5055, NIM_BOOL Cond_5056);
N_NIMCALL(void, Ropeseqinsert_46324)(TY46010** Rs_46327, TY46008* R_46328, NI At_46329);
N_NIMCALL(TGenericSeq*, setLengthSeq)(TGenericSeq* Seq_17403, NI Elemsize_17404, NI Newlen_17405);
N_NOINLINE(void, raiseIndexError)(void);
static N_INLINE(NI, subInt)(NI A_5803, NI B_5804);
N_NIMCALL(void, Recropetostr_46396)(NimStringDesc** Result_46399, NI* Resultlen_46401, TY46008* P_46402);
N_NIMCALL(void, Newrecropetostr_46432)(NimStringDesc** Result_46435, NI* Resultlen_46437, TY46008* R_46438);
N_NIMCALL(void*, newSeq)(TNimType* Typ_12604, NI Len_12605);
N_NIMCALL(TGenericSeq*, incrSeq)(TGenericSeq* Seq_17235, NI Elemsize_17236);
N_NIMCALL(NimStringDesc*, Ropetostr_46066)(TY46008* P_46068);
N_NIMCALL(NimStringDesc*, mnewString)(NI Len_1349);
N_NIMCALL(TY46008*, Con_46015)(TY46008* A_46017, TY46008* B_46018);
N_NIMCALL(TY46008*, Con_46019)(TY46008* A_46021, NimStringDesc* B_46022);
N_NIMCALL(TY46008*, Con_46023)(NimStringDesc* A_46025, TY46008* B_46026);
N_NIMCALL(TY46008*, Con_46027)(TY46008** A_46030, NI A_46030Len0);
N_NIMCALL(TY46008*, Torope_46052)(NI64 I_46054);
N_NIMCALL(NimStringDesc*, nimInt64ToStr)(NI64 X_17867);
N_NIMCALL(TY46008*, Toropef_46049)(NF64 R_46051);
N_NIMCALL(void, App_46031)(TY46008** A_46034, TY46008* B_46035);
N_NIMCALL(void, unsureAsgnRef)(void** Dest_11626, void* Src_11627);
N_NIMCALL(void, App_46036)(TY46008** A_46039, NimStringDesc* B_46040);
N_NIMCALL(void, Prepend_46041)(TY46008** A_46044, TY46008* B_46045);
N_NIMCALL(void, Writeroperec_46655)(FILE** F_46658, TY46008* C_46659);
N_NIMCALL(void, Write_3658)(FILE* F_3660, NimStringDesc* S_3661);
N_NIMCALL(void, Newwriteroperec_46671)(FILE** F_46674, TY46008* C_46675);
N_NIMCALL(void, Writerope_46058)(TY46008* Head_46060, NimStringDesc* Filename_46061);
N_NIMCALL(NIM_BOOL, Open_3617)(FILE** F_3620, NimStringDesc* Filename_3621, NU8 Mode_3622, NI Bufsize_3623);
N_NIMCALL(void, Rawmessage_41553)(NU8 Msg_41555, NimStringDesc* Arg_41556);
N_NIMCALL(TY46008*, Ropef_46069)(NimStringDesc* Frmt_46071, TY46008** Args_46073, NI Args_46073Len0);
N_NIMCALL(NI, mulInt)(NI A_6603, NI B_6604);
N_NIMCALL(void, Internalerror_41571)(NimStringDesc* Errmsg_41573);
static N_INLINE(void, appendChar)(NimStringDesc* Dest_17209, NIM_CHAR C_17210);
N_NIMCALL(NimStringDesc*, copyStrLast)(NimStringDesc* S_1752, NI First_1753, NI Last_1754);
N_NIMCALL(void, Appf_46074)(TY46008** C_46077, NimStringDesc* Frmt_46078, TY46008** Args_46080, NI Args_46080Len0);
N_NIMCALL(NIM_BOOL, Auxropeequalsfile_46930)(TY46008* R_46932, FILE** Bin_46934, void* Buf_46935);
N_NIMCALL(NI, Readbuffer_3714)(FILE* F_3716, void* Buffer_3717, NI Len_3718);
N_NIMCALL(NIM_BOOL, Ropeequalsfile_46083)(TY46008* R_46085, NimStringDesc* F_46086);
N_NOCONV(void*, Alloc_1774)(NI Size_1776);
N_NOCONV(void, Dealloc_1784)(void* P_1786);
N_NIMCALL(NI32, Crcfromropeaux_46955)(TY46008* R_46957, NI32 Startval_46958);
static N_INLINE(NI32, Updatecrc32_44018)(NIM_CHAR Val_44020, NI32 Crc_44021);
static N_INLINE(NI32, Updatecrc32_44014)(NI8 Val_44016, NI32 Crc_44017);
static N_INLINE(NI, chckRange)(NI I_4610, NI A_4611, NI B_4612);
N_NOINLINE(void, raiseRangeError)(NI64 Val_5218);
N_NIMCALL(NI32, Newcrcfromropeaux_46976)(TY46008* R_46978, NI32 Startval_46979);
N_NIMCALL(NI32, Crcfromrope_47060)(TY46008* R_47062);
N_NIMCALL(NIM_BOOL, Writeropeifnotequal_46062)(TY46008* R_46064, NimStringDesc* Filename_46065);
N_NIMCALL(NI32, Crcfromfile_44029)(NimStringDesc* Filename_44031);
N_NIMCALL(TY46008*, Pop_46471)(TY46010** S_46476);
STRING_LITERAL(TMP46180, "Misses: ", 8);
STRING_LITERAL(TMP46181, " total: ", 8);
STRING_LITERAL(TMP46182, " quot: ", 7);
STRING_LITERAL(TMP46183, "", 0);
STRING_LITERAL(TMP46920, "$", 1);
STRING_LITERAL(TMP46921, "ropes: invalid format string $", 30);
STRING_LITERAL(TMP46943, "ropes: token too long", 21);
extern NIM_CONST TY44040 Crc32table_44039;
extern TNimType* NTI46006; /* PRope */
extern TNimType* NTI46008; /* TRope */
extern TY7816 Dl_7815;
extern TY10790 Gch_10810;
extern TY7820 Dl_7819;
TY46008* Cache_46127;
NI Misses_46128;
NI Hits_46129;
TY46008* N_46130;
extern TNimType* NTI46010; /* TRopeSeq */
extern NimStringDesc* Tnl_45573;
N_NIMCALL(NI, Ropelen_46055)(TY46008* A_46057) {
NI Result_46093;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "ropeLen";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_46093 = 0;
F.line = 106;F.filename = "ropes.nim";
if (!(A_46057 == NIM_NIL)) goto LA2;
F.line = 106;F.filename = "ropes.nim";
Result_46093 = 0;
goto LA1;
LA2: ;
F.line = 107;F.filename = "ropes.nim";
Result_46093 = (*A_46057).Length;
LA1: ;
framePtr = framePtr->prev;
return Result_46093;
}
static N_INLINE(TY10402*, Usrtocell_10836)(void* Usr_10838) {
TY10402* Result_10839;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "usrToCell";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_10839 = 0;
F.line = 100;F.filename = "gc.nim";
Result_10839 = ((TY10402*) ((NI64)((NU64)(((NI) (Usr_10838))) - (NU64)(((NI) (((NI)sizeof(TY10402))))))));
framePtr = framePtr->prev;
return Result_10839;
}
static N_INLINE(NI, Atomicinc_3001)(NI* Memloc_3004, NI X_3005) {
NI Result_7208;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "atomicInc";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/systhread.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_7208 = 0;
F.line = 29;F.filename = "systhread.nim";
Result_7208 = __sync_add_and_fetch(Memloc_3004, X_3005);
framePtr = framePtr->prev;
return Result_7208;
}
static N_INLINE(NI, Atomicdec_3006)(NI* Memloc_3009, NI X_3010) {
NI Result_7406;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "atomicDec";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/systhread.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_7406 = 0;
F.line = 37;F.filename = "systhread.nim";
Result_7406 = __sync_sub_and_fetch(Memloc_3009, X_3010);
framePtr = framePtr->prev;
return Result_7406;
}
static N_INLINE(void, Rtladdzct_11458)(TY10402* C_11460) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "rtlAddZCT";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 211;F.filename = "gc.nim";
if (!NIM_TRUE) goto LA2;
F.line = 211;F.filename = "gc.nim";
Dl_7815(&Gch_10810.Zctlock);
LA2: ;
F.line = 212;F.filename = "gc.nim";
Addzct_10825(&Gch_10810.Zct, C_11460);
F.line = 213;F.filename = "gc.nim";
if (!NIM_TRUE) goto LA5;
F.line = 213;F.filename = "gc.nim";
Dl_7819(&Gch_10810.Zctlock);
LA5: ;
framePtr = framePtr->prev;
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_11618, void* Src_11619) {
TY10402* C_11620;
NI LOC4;
TY10402* C_11622;
NI LOC9;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "asgnRefNoCycle";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 244;F.filename = "gc.nim";
if (!!((Src_11619 == NIM_NIL))) goto LA2;
C_11620 = 0;
F.line = 245;F.filename = "gc.nim";
C_11620 = Usrtocell_10836(Src_11619);
F.line = 246;F.filename = "gc.nim";
LOC4 = Atomicinc_3001(&(*C_11620).Refcount, 8);
LA2: ;
F.line = 247;F.filename = "gc.nim";
if (!!(((*Dest_11618) == NIM_NIL))) goto LA6;
C_11622 = 0;
F.line = 248;F.filename = "gc.nim";
C_11622 = Usrtocell_10836((*Dest_11618));
F.line = 249;F.filename = "gc.nim";
LOC9 = Atomicdec_3006(&(*C_11622).Refcount, 8);
if (!((NU64)(LOC9) < (NU64)(8))) goto LA10;
F.line = 250;F.filename = "gc.nim";
Rtladdzct_11458(C_11622);
LA10: ;
LA6: ;
F.line = 251;F.filename = "gc.nim";
(*Dest_11618) = Src_11619;
framePtr = framePtr->prev;
}
N_NIMCALL(TY46008*, Newrope_46105)(NimStringDesc* Data_46107) {
TY46008* Result_46108;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "newRope";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_46108 = 0;
F.line = 110;F.filename = "ropes.nim";
Result_46108 = (TY46008*) newObj(NTI46006, sizeof(TY46008));
(*Result_46108).Sup.m_type = NTI46008;
F.line = 111;F.filename = "ropes.nim";
if (!!((Data_46107 == NIM_NIL))) goto LA2;
F.line = 112;F.filename = "ropes.nim";
(*Result_46108).Length = Data_46107->Sup.len;
F.line = 113;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*Result_46108).Data, copyString(Data_46107));
LA2: ;
framePtr = framePtr->prev;
return Result_46108;
}
static N_INLINE(NI, addInt)(NI A_5603, NI B_5604) {
NI Result_5605;
NIM_BOOL LOC2;
Result_5605 = 0;
Result_5605 = (NI64)((NU64)(A_5603) + (NU64)(B_5604));
LOC2 = (0 <= (NI64)(Result_5605 ^ A_5603));
if (LOC2) goto LA3;
LOC2 = (0 <= (NI64)(Result_5605 ^ B_5604));
LA3: ;
if (!LOC2) goto LA4;
goto BeforeRet;
LA4: ;
raiseOverflow();
BeforeRet: ;
return Result_5605;
}
static N_INLINE(void, appendString)(NimStringDesc* Dest_17192, NimStringDesc* Src_17193) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "appendString";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/sysstr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 150;F.filename = "sysstr.nim";
memcpy(((NCSTRING) (&(*Dest_17192).data[((*Dest_17192).Sup.len)-0])), ((NCSTRING) ((*Src_17193).data)), ((NI32) ((NI64)((NI64)((*Src_17193).Sup.len + 1) * 1))));
F.line = 151;F.filename = "sysstr.nim";
(*Dest_17192).Sup.len += (*Src_17193).Sup.len;
framePtr = framePtr->prev;
}
N_NIMCALL(NimStringDesc*, Getcachestats_46081)(void) {
NimStringDesc* Result_46133;
NimStringDesc* LOC4;
NimStringDesc* LOC5;
NimStringDesc* LOC6;
NimStringDesc* LOC7;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "getCacheStats";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_46133 = 0;
F.line = 121;F.filename = "ropes.nim";
if (!!((addInt(Hits_46129, Misses_46128) == 0))) goto LA2;
F.line = 122;F.filename = "ropes.nim";
LOC4 = 0;
LOC5 = 0;
LOC5 = nimIntToStr(Misses_46128);
LOC6 = 0;
LOC6 = nimIntToStr(addInt(Hits_46129, Misses_46128));
LOC7 = 0;
LOC7 = nimFloatToStr((((double) (Misses_46128)) / ((double) (addInt(Hits_46129, Misses_46128)))));
LOC4 = rawNewString(LOC5->Sup.len + LOC6->Sup.len + LOC7->Sup.len + 23);
appendString(LOC4, ((NimStringDesc*) &TMP46180));
appendString(LOC4, LOC5);
appendString(LOC4, ((NimStringDesc*) &TMP46181));
appendString(LOC4, LOC6);
appendString(LOC4, ((NimStringDesc*) &TMP46182));
appendString(LOC4, LOC7);
Result_46133 = LOC4;
goto LA1;
LA2: ;
F.line = 125;F.filename = "ropes.nim";
Result_46133 = copyString(((NimStringDesc*) &TMP46183));
LA1: ;
framePtr = framePtr->prev;
return Result_46133;
}
static N_INLINE(NI, cmpStrings)(NimStringDesc* A_17011, NimStringDesc* B_17012) {
NI Result_17013;
NI32 LOC10;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "cmpStrings";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/sysstr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_17013 = 0;
F.line = 26;F.filename = "sysstr.nim";
if (!(A_17011 == B_17012)) goto LA2;
F.line = 26;F.filename = "sysstr.nim";
F.line = 26;F.filename = "sysstr.nim";
Result_17013 = 0;
goto BeforeRet;
LA2: ;
F.line = 27;F.filename = "sysstr.nim";
if (!(A_17011 == NIM_NIL)) goto LA5;
F.line = 27;F.filename = "sysstr.nim";
F.line = 27;F.filename = "sysstr.nim";
Result_17013 = -1;
goto BeforeRet;
LA5: ;
F.line = 28;F.filename = "sysstr.nim";
if (!(B_17012 == NIM_NIL)) goto LA8;
F.line = 28;F.filename = "sysstr.nim";
F.line = 28;F.filename = "sysstr.nim";
Result_17013 = 1;
goto BeforeRet;
LA8: ;
F.line = 29;F.filename = "sysstr.nim";
F.line = 29;F.filename = "sysstr.nim";
LOC10 = strcmp(((NCSTRING) ((*A_17011).data)), ((NCSTRING) ((*B_17012).data)));
Result_17013 = ((NI) (LOC10));
goto BeforeRet;
BeforeRet: ;
framePtr = framePtr->prev;
return Result_17013;
}
N_NIMCALL(TY46008*, Splay_46184)(NimStringDesc* S_46186, TY46008* Tree_46187, NI* Cmpres_46189) {
TY46008* Result_46190;
NI C_46191;
TY46008* T_46192;
TY46008* Le_46193;
TY46008* R_46194;
NIM_BOOL LOC6;
TY46008* Y_46208;
NIM_BOOL LOC16;
TY46008* Y_46233;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "splay";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_46190 = 0;
C_46191 = 0;
T_46192 = 0;
F.line = 129;F.filename = "ropes.nim";
T_46192 = Tree_46187;
F.line = 130;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*N_46130).Left, NIM_NIL);
F.line = 131;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*N_46130).Right, NIM_NIL);
Le_46193 = 0;
F.line = 132;F.filename = "ropes.nim";
Le_46193 = N_46130;
R_46194 = 0;
F.line = 133;F.filename = "ropes.nim";
R_46194 = N_46130;
F.line = 134;F.filename = "ropes.nim";
while (1) {
F.line = 135;F.filename = "ropes.nim";
C_46191 = Cmp_1321(S_46186, (*T_46192).Data);
F.line = 136;F.filename = "ropes.nim";
if (!(C_46191 < 0)) goto LA3;
F.line = 137;F.filename = "ropes.nim";
LOC6 = !(((*T_46192).Left == NIM_NIL));
if (!(LOC6)) goto LA7;
LOC6 = (cmpStrings(S_46186, (*(*T_46192).Left).Data) < 0);
LA7: ;
if (!LOC6) goto LA8;
Y_46208 = 0;
F.line = 138;F.filename = "ropes.nim";
Y_46208 = (*T_46192).Left;
F.line = 139;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*T_46192).Left, (*Y_46208).Right);
F.line = 140;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*Y_46208).Right, T_46192);
F.line = 141;F.filename = "ropes.nim";
T_46192 = Y_46208;
LA8: ;
F.line = 142;F.filename = "ropes.nim";
if (!((*T_46192).Left == NIM_NIL)) goto LA11;
F.line = 142;F.filename = "ropes.nim";
goto LA1;
LA11: ;
F.line = 143;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*R_46194).Left, T_46192);
F.line = 144;F.filename = "ropes.nim";
R_46194 = T_46192;
F.line = 145;F.filename = "ropes.nim";
T_46192 = (*T_46192).Left;
goto LA2;
LA3: ;
if (!(0 < C_46191)) goto LA13;
F.line = 147;F.filename = "ropes.nim";
LOC16 = !(((*T_46192).Right == NIM_NIL));
if (!(LOC16)) goto LA17;
LOC16 = (cmpStrings((*(*T_46192).Right).Data, S_46186) < 0);
LA17: ;
if (!LOC16) goto LA18;
Y_46233 = 0;
F.line = 148;F.filename = "ropes.nim";
Y_46233 = (*T_46192).Right;
F.line = 149;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*T_46192).Right, (*Y_46233).Left);
F.line = 150;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*Y_46233).Left, T_46192);
F.line = 151;F.filename = "ropes.nim";
T_46192 = Y_46233;
LA18: ;
F.line = 152;F.filename = "ropes.nim";
if (!((*T_46192).Right == NIM_NIL)) goto LA21;
F.line = 152;F.filename = "ropes.nim";
goto LA1;
LA21: ;
F.line = 153;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*Le_46193).Right, T_46192);
F.line = 154;F.filename = "ropes.nim";
Le_46193 = T_46192;
F.line = 155;F.filename = "ropes.nim";
T_46192 = (*T_46192).Right;
goto LA2;
LA13: ;
F.line = 157;F.filename = "ropes.nim";
goto LA1;
LA2: ;
} LA1: ;
F.line = 158;F.filename = "ropes.nim";
(*Cmpres_46189) = C_46191;
F.line = 159;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*Le_46193).Right, (*T_46192).Left);
F.line = 160;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*R_46194).Left, (*T_46192).Right);
F.line = 161;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*T_46192).Left, (*N_46130).Right);
F.line = 162;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*T_46192).Right, (*N_46130).Left);
F.line = 163;F.filename = "ropes.nim";
Result_46190 = T_46192;
framePtr = framePtr->prev;
return Result_46190;
}
N_NIMCALL(TY46008*, Insertincache_46246)(NimStringDesc* S_46248, TY46008* Tree_46249) {
TY46008* Result_46250;
TY46008* T_46251;
NI Cmp_46275;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "insertInCache";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_46250 = 0;
T_46251 = 0;
F.line = 168;F.filename = "ropes.nim";
T_46251 = Tree_46249;
F.line = 169;F.filename = "ropes.nim";
if (!(T_46251 == NIM_NIL)) goto LA2;
F.line = 170;F.filename = "ropes.nim";
Result_46250 = Newrope_46105(S_46248);
F.line = 171;F.filename = "ropes.nim";
if (!NIM_FALSE) goto LA5;
F.line = 171;F.filename = "ropes.nim";
Misses_46128 = addInt(Misses_46128, 1);
LA5: ;
F.line = 172;F.filename = "ropes.nim";
goto BeforeRet;
LA2: ;
Cmp_46275 = 0;
F.line = 174;F.filename = "ropes.nim";
T_46251 = Splay_46184(S_46248, T_46251, &Cmp_46275);
F.line = 175;F.filename = "ropes.nim";
if (!(Cmp_46275 == 0)) goto LA8;
F.line = 178;F.filename = "ropes.nim";
Result_46250 = T_46251;
F.line = 179;F.filename = "ropes.nim";
if (!NIM_FALSE) goto LA11;
F.line = 179;F.filename = "ropes.nim";
Hits_46129 = addInt(Hits_46129, 1);
LA11: ;
goto LA7;
LA8: ;
F.line = 181;F.filename = "ropes.nim";
if (!NIM_FALSE) goto LA14;
F.line = 181;F.filename = "ropes.nim";
Misses_46128 = addInt(Misses_46128, 1);
LA14: ;
F.line = 182;F.filename = "ropes.nim";
Result_46250 = Newrope_46105(S_46248);
F.line = 183;F.filename = "ropes.nim";
if (!(Cmp_46275 < 0)) goto LA17;
F.line = 184;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*Result_46250).Left, (*T_46251).Left);
F.line = 185;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*Result_46250).Right, T_46251);
F.line = 186;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*T_46251).Left, NIM_NIL);
goto LA16;
LA17: ;
F.line = 189;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*Result_46250).Right, (*T_46251).Right);
F.line = 190;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*Result_46250).Left, T_46251);
F.line = 191;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*T_46251).Right, NIM_NIL);
LA16: ;
LA7: ;
BeforeRet: ;
framePtr = framePtr->prev;
return Result_46250;
}
N_NIMCALL(NIM_BOOL, Ropeinvariant_46087)(TY46008* R_46089) {
NIM_BOOL Result_46308;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "RopeInvariant";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_46308 = 0;
F.line = 194;F.filename = "ropes.nim";
if (!(R_46089 == NIM_NIL)) goto LA2;
F.line = 195;F.filename = "ropes.nim";
Result_46308 = NIM_TRUE;
goto LA1;
LA2: ;
F.line = 197;F.filename = "ropes.nim";
Result_46308 = NIM_TRUE;
LA1: ;
framePtr = framePtr->prev;
return Result_46308;
}
N_NIMCALL(TY46008*, Torope_46046)(NimStringDesc* S_46048) {
TY46008* Result_46323;
NIM_BOOL LOC6;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "toRope";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_46323 = 0;
F.line = 207;F.filename = "ropes.nim";
if (!((S_46048) && (S_46048)->Sup.len == 0)) goto LA2;
F.line = 208;F.filename = "ropes.nim";
Result_46323 = NIM_NIL;
goto LA1;
LA2: ;
if (!NIM_TRUE) goto LA4;
F.line = 210;F.filename = "ropes.nim";
Result_46323 = Insertincache_46246(S_46048, Cache_46127);
F.line = 211;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &Cache_46127, Result_46323);
goto LA1;
LA4: ;
F.line = 213;F.filename = "ropes.nim";
Result_46323 = Newrope_46105(S_46048);
LA1: ;
F.line = 214;F.filename = "ropes.nim";
LOC6 = Ropeinvariant_46087(Result_46323);
internalAssert("rod/ropes.nim", 214, LOC6);
framePtr = framePtr->prev;
return Result_46323;
}
static N_INLINE(NI, subInt)(NI A_5803, NI B_5804) {
NI Result_5805;
NIM_BOOL LOC2;
Result_5805 = 0;
Result_5805 = (NI64)((NU64)(A_5803) - (NU64)(B_5804));
LOC2 = (0 <= (NI64)(Result_5805 ^ A_5803));
if (LOC2) goto LA3;
LOC2 = (0 <= (NI64)(Result_5805 ^ (NI64)((NU64) ~(B_5804))));
LA3: ;
if (!LOC2) goto LA4;
goto BeforeRet;
LA4: ;
raiseOverflow();
BeforeRet: ;
return Result_5805;
}
N_NIMCALL(void, Ropeseqinsert_46324)(TY46010** Rs_46327, TY46008* R_46328, NI At_46329) {
NI Length_46340;
NI I_46389;
NI HEX3Atmp_46391;
NI Res_46393;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "RopeSeqInsert";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Length_46340 = 0;
F.line = 217;F.filename = "ropes.nim";
Length_46340 = (*Rs_46327)->Sup.len;
F.line = 218;F.filename = "ropes.nim";
if (!(Length_46340 < ((NI) (At_46329)))) goto LA2;
F.line = 219;F.filename = "ropes.nim";
(*Rs_46327) = (TY46010*) setLengthSeq(&((*Rs_46327))->Sup, sizeof(TY46008*), addInt(((NI) (At_46329)), 1));
goto LA1;
LA2: ;
F.line = 221;F.filename = "ropes.nim";
(*Rs_46327) = (TY46010*) setLengthSeq(&((*Rs_46327))->Sup, sizeof(TY46008*), addInt(Length_46340, 1));
LA1: ;
I_46389 = 0;
HEX3Atmp_46391 = 0;
F.line = 222;F.filename = "ropes.nim";
HEX3Atmp_46391 = addInt(((NI) (At_46329)), 1);
Res_46393 = 0;
F.line = 1002;F.filename = "system.nim";
Res_46393 = Length_46340;
F.line = 1003;F.filename = "system.nim";
while (1) {
if (!(HEX3Atmp_46391 <= Res_46393)) goto LA4;
F.line = 1002;F.filename = "system.nim";
I_46389 = Res_46393;
F.line = 223;F.filename = "ropes.nim";
if ((NU)(I_46389) >= (NU)((*Rs_46327)->Sup.len)) raiseIndexError();
if ((NU)(subInt(I_46389, 1)) >= (NU)((*Rs_46327)->Sup.len)) raiseIndexError();
asgnRefNoCycle((void**) &(*Rs_46327)->data[I_46389], (*Rs_46327)->data[subInt(I_46389, 1)]);
F.line = 1005;F.filename = "system.nim";
Res_46393 = subInt(Res_46393, 1);
} LA4: ;
F.line = 224;F.filename = "ropes.nim";
if ((NU)(At_46329) >= (NU)((*Rs_46327)->Sup.len)) raiseIndexError();
asgnRefNoCycle((void**) &(*Rs_46327)->data[At_46329], R_46328);
framePtr = framePtr->prev;
}
N_NIMCALL(void, Recropetostr_46396)(NimStringDesc** Result_46399, NI* Resultlen_46401, TY46008* P_46402) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "recRopeToStr";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 227;F.filename = "ropes.nim";
if (!(P_46402 == NIM_NIL)) goto LA2;
F.line = 228;F.filename = "ropes.nim";
goto BeforeRet;
LA2: ;
F.line = 229;F.filename = "ropes.nim";
if (!((*P_46402).Data == NIM_NIL)) goto LA5;
F.line = 230;F.filename = "ropes.nim";
Recropetostr_46396(Result_46399, Resultlen_46401, (*P_46402).Left);
F.line = 231;F.filename = "ropes.nim";
Recropetostr_46396(Result_46399, Resultlen_46401, (*P_46402).Right);
goto LA4;
LA5: ;
F.line = 233;F.filename = "ropes.nim";
if ((NU)(addInt((*Resultlen_46401), 0)) > (NU)((*Result_46399)->Sup.len)) raiseIndexError();
if ((NU)(0) > (NU)((*P_46402).Data->Sup.len)) raiseIndexError();
memcpy(((void*) (&(*Result_46399)->data[addInt((*Resultlen_46401), 0)])), ((void*) (&(*P_46402).Data->data[0])), (*P_46402).Length);
F.line = 234;F.filename = "ropes.nim";
(*Resultlen_46401) = addInt((*Resultlen_46401), (*P_46402).Length);
F.line = 235;F.filename = "ropes.nim";
internalAssert("rod/ropes.nim", 235, ((*Resultlen_46401) <= (*Result_46399)->Sup.len));
LA4: ;
BeforeRet: ;
framePtr = framePtr->prev;
}
N_NIMCALL(void, Newrecropetostr_46432)(NimStringDesc** Result_46435, NI* Resultlen_46437, TY46008* R_46438) {
TY46010* Stack_46453;
TY46451 LOC1;
TY46008* It_46502;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "newRecRopeToStr";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Stack_46453 = 0;
F.line = 238;F.filename = "ropes.nim";
Stack_46453 = (TY46010*) newSeq(NTI46010, 1);
memset((void*)&LOC1, 0, sizeof(LOC1));
LOC1[0] = R_46438;
asgnRefNoCycle((void**) &Stack_46453->data[0], LOC1[0]);
F.line = 239;F.filename = "ropes.nim";
while (1) {
if (!(0 < Stack_46453->Sup.len)) goto LA2;
It_46502 = 0;
F.line = 240;F.filename = "ropes.nim";
It_46502 = Pop_46471(&Stack_46453);
F.line = 241;F.filename = "ropes.nim";
while (1) {
if (!((*It_46502).Data == NIM_NIL)) goto LA3;
F.line = 242;F.filename = "ropes.nim";
Stack_46453 = (TY46010*) incrSeq(&(Stack_46453)->Sup, sizeof(TY46008*));
asgnRefNoCycle((void**) &Stack_46453->data[Stack_46453->Sup.len-1], (*It_46502).Right);
F.line = 243;F.filename = "ropes.nim";
It_46502 = (*It_46502).Left;
} LA3: ;
F.line = 244;F.filename = "ropes.nim";
internalAssert("rod/ropes.nim", 244, !(((*It_46502).Data == NIM_NIL)));
F.line = 245;F.filename = "ropes.nim";
if ((NU)((*Resultlen_46437)) > (NU)((*Result_46435)->Sup.len)) raiseIndexError();
if ((NU)(0) > (NU)((*It_46502).Data->Sup.len)) raiseIndexError();
memcpy(((void*) (&(*Result_46435)->data[(*Resultlen_46437)])), ((void*) (&(*It_46502).Data->data[0])), (*It_46502).Length);
F.line = 246;F.filename = "ropes.nim";
(*Resultlen_46437) = addInt((*Resultlen_46437), (*It_46502).Length);
F.line = 247;F.filename = "ropes.nim";
internalAssert("rod/ropes.nim", 247, ((*Resultlen_46437) <= (*Result_46435)->Sup.len));
} LA2: ;
framePtr = framePtr->prev;
}
N_NIMCALL(NimStringDesc*, Ropetostr_46066)(TY46008* P_46068) {
NimStringDesc* Result_46544;
NI Resultlen_46556;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "ropeToStr";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_46544 = 0;
F.line = 250;F.filename = "ropes.nim";
if (!(P_46068 == NIM_NIL)) goto LA2;
F.line = 251;F.filename = "ropes.nim";
Result_46544 = copyString(((NimStringDesc*) &TMP46183));
goto LA1;
LA2: ;
F.line = 253;F.filename = "ropes.nim";
Result_46544 = mnewString((*P_46068).Length);
Resultlen_46556 = 0;
F.line = 254;F.filename = "ropes.nim";
Resultlen_46556 = 0;
F.line = 255;F.filename = "ropes.nim";
Newrecropetostr_46432(&Result_46544, &Resultlen_46556, P_46068);
LA1: ;
framePtr = framePtr->prev;
return Result_46544;
}
N_NIMCALL(TY46008*, Con_46015)(TY46008* A_46017, TY46008* B_46018) {
TY46008* Result_46563;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "con";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_46563 = 0;
F.line = 258;F.filename = "ropes.nim";
if (!(A_46017 == NIM_NIL)) goto LA2;
F.line = 258;F.filename = "ropes.nim";
Result_46563 = B_46018;
goto LA1;
LA2: ;
if (!(B_46018 == NIM_NIL)) goto LA4;
F.line = 259;F.filename = "ropes.nim";
Result_46563 = A_46017;
goto LA1;
LA4: ;
F.line = 261;F.filename = "ropes.nim";
Result_46563 = Newrope_46105(NIM_NIL);
F.line = 262;F.filename = "ropes.nim";
(*Result_46563).Length = addInt((*A_46017).Length, (*B_46018).Length);
F.line = 263;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*Result_46563).Left, A_46017);
F.line = 264;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &(*Result_46563).Right, B_46018);
LA1: ;
framePtr = framePtr->prev;
return Result_46563;
}
N_NIMCALL(TY46008*, Con_46019)(TY46008* A_46021, NimStringDesc* B_46022) {
TY46008* Result_46590;
TY46008* LOC1;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "con";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_46590 = 0;
F.line = 266;F.filename = "ropes.nim";
LOC1 = 0;
LOC1 = Torope_46046(B_46022);
Result_46590 = Con_46015(A_46021, LOC1);
framePtr = framePtr->prev;
return Result_46590;
}
N_NIMCALL(TY46008*, Con_46023)(NimStringDesc* A_46025, TY46008* B_46026) {
TY46008* Result_46595;
TY46008* LOC1;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "con";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_46595 = 0;
F.line = 267;F.filename = "ropes.nim";
LOC1 = 0;
LOC1 = Torope_46046(A_46025);
Result_46595 = Con_46015(LOC1, B_46026);
framePtr = framePtr->prev;
return Result_46595;
}
N_NIMCALL(TY46008*, Con_46027)(TY46008** A_46030, NI A_46030Len0) {
TY46008* Result_46600;
NI I_46623;
NI HEX3Atmp_46625;
NI Res_46627;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "con";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_46600 = 0;
I_46623 = 0;
HEX3Atmp_46625 = 0;
F.line = 270;F.filename = "ropes.nim";
HEX3Atmp_46625 = (A_46030Len0-1);
Res_46627 = 0;
F.line = 1011;F.filename = "system.nim";
Res_46627 = 0;
F.line = 1012;F.filename = "system.nim";
while (1) {
if (!(Res_46627 <= HEX3Atmp_46625)) goto LA1;
F.line = 1011;F.filename = "system.nim";
I_46623 = Res_46627;
F.line = 270;F.filename = "ropes.nim";
if ((NU)(I_46623) >= (NU)(A_46030Len0)) raiseIndexError();
Result_46600 = Con_46015(Result_46600, A_46030[I_46623]);
F.line = 1014;F.filename = "system.nim";
Res_46627 = addInt(Res_46627, 1);
} LA1: ;
framePtr = framePtr->prev;
return Result_46600;
}
N_NIMCALL(TY46008*, Torope_46052)(NI64 I_46054) {
TY46008* Result_46633;
NimStringDesc* LOC1;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "toRope";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_46633 = 0;
F.line = 272;F.filename = "ropes.nim";
LOC1 = 0;
LOC1 = nimInt64ToStr(I_46054);
Result_46633 = Torope_46046(LOC1);
framePtr = framePtr->prev;
return Result_46633;
}
N_NIMCALL(TY46008*, Toropef_46049)(NF64 R_46051) {
TY46008* Result_46639;
NimStringDesc* LOC1;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "toRopeF";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_46639 = 0;
F.line = 273;F.filename = "ropes.nim";
LOC1 = 0;
LOC1 = nimFloatToStr(((NF) (R_46051)));
Result_46639 = Torope_46046(LOC1);
framePtr = framePtr->prev;
return Result_46639;
}
N_NIMCALL(void, App_46031)(TY46008** A_46034, TY46008* B_46035) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "app";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 274;F.filename = "ropes.nim";
unsureAsgnRef((void**) &(*A_46034), Con_46015((*A_46034), B_46035));
framePtr = framePtr->prev;
}
N_NIMCALL(void, App_46036)(TY46008** A_46039, NimStringDesc* B_46040) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "app";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 275;F.filename = "ropes.nim";
unsureAsgnRef((void**) &(*A_46039), Con_46019((*A_46039), B_46040));
framePtr = framePtr->prev;
}
N_NIMCALL(void, Prepend_46041)(TY46008** A_46044, TY46008* B_46045) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "prepend";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 276;F.filename = "ropes.nim";
unsureAsgnRef((void**) &(*A_46044), Con_46015(B_46045, (*A_46044)));
framePtr = framePtr->prev;
}
N_NIMCALL(void, Writeroperec_46655)(FILE** F_46658, TY46008* C_46659) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "WriteRopeRec";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 279;F.filename = "ropes.nim";
if (!(C_46659 == NIM_NIL)) goto LA2;
F.line = 279;F.filename = "ropes.nim";
goto BeforeRet;
LA2: ;
F.line = 280;F.filename = "ropes.nim";
if (!!(((*C_46659).Data == NIM_NIL))) goto LA5;
F.line = 281;F.filename = "ropes.nim";
Write_3658((*F_46658), (*C_46659).Data);
goto LA4;
LA5: ;
F.line = 283;F.filename = "ropes.nim";
Writeroperec_46655(F_46658, (*C_46659).Left);
F.line = 284;F.filename = "ropes.nim";
Writeroperec_46655(F_46658, (*C_46659).Right);
LA4: ;
BeforeRet: ;
framePtr = framePtr->prev;
}
N_NIMCALL(void, Newwriteroperec_46671)(FILE** F_46674, TY46008* C_46675) {
TY46010* Stack_46690;
TY46451 LOC1;
TY46008* It_46715;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "newWriteRopeRec";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Stack_46690 = 0;
F.line = 287;F.filename = "ropes.nim";
Stack_46690 = (TY46010*) newSeq(NTI46010, 1);
memset((void*)&LOC1, 0, sizeof(LOC1));
LOC1[0] = C_46675;
asgnRefNoCycle((void**) &Stack_46690->data[0], LOC1[0]);
F.line = 288;F.filename = "ropes.nim";
while (1) {
if (!(0 < Stack_46690->Sup.len)) goto LA2;
It_46715 = 0;
F.line = 289;F.filename = "ropes.nim";
It_46715 = Pop_46471(&Stack_46690);
F.line = 290;F.filename = "ropes.nim";
while (1) {
if (!((*It_46715).Data == NIM_NIL)) goto LA3;
F.line = 291;F.filename = "ropes.nim";
Stack_46690 = (TY46010*) incrSeq(&(Stack_46690)->Sup, sizeof(TY46008*));
asgnRefNoCycle((void**) &Stack_46690->data[Stack_46690->Sup.len-1], (*It_46715).Right);
F.line = 292;F.filename = "ropes.nim";
It_46715 = (*It_46715).Left;
F.line = 293;F.filename = "ropes.nim";
internalAssert("rod/ropes.nim", 293, !((It_46715 == NIM_NIL)));
} LA3: ;
F.line = 294;F.filename = "ropes.nim";
internalAssert("rod/ropes.nim", 294, !(((*It_46715).Data == NIM_NIL)));
F.line = 295;F.filename = "ropes.nim";
Write_3658((*F_46674), (*It_46715).Data);
} LA2: ;
framePtr = framePtr->prev;
}
N_NIMCALL(void, Writerope_46058)(TY46008* Head_46060, NimStringDesc* Filename_46061) {
FILE* F_46751;
NIM_BOOL LOC2;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "WriteRope";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F_46751 = 0;
F.line = 299;F.filename = "ropes.nim";
LOC2 = Open_3617(&F_46751, Filename_46061, ((NU8) 1), -1);
if (!LOC2) goto LA3;
F.line = 300;F.filename = "ropes.nim";
if (!!((Head_46060 == NIM_NIL))) goto LA6;
F.line = 300;F.filename = "ropes.nim";
Newwriteroperec_46671(&F_46751, Head_46060);
LA6: ;
F.line = 301;F.filename = "ropes.nim";
fclose(F_46751);
goto LA1;
LA3: ;
F.line = 303;F.filename = "ropes.nim";
Rawmessage_41553(((NU8) 2), Filename_46061);
LA1: ;
framePtr = framePtr->prev;
}
static N_INLINE(void, appendChar)(NimStringDesc* Dest_17209, NIM_CHAR C_17210) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "appendChar";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/sysstr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 154;F.filename = "sysstr.nim";
(*Dest_17209).data[((*Dest_17209).Sup.len)-0] = C_17210;
F.line = 155;F.filename = "sysstr.nim";
(*Dest_17209).data[((NI64)((*Dest_17209).Sup.len + 1))-0] = 0;
F.line = 156;F.filename = "sysstr.nim";
(*Dest_17209).Sup.len += 1;
framePtr = framePtr->prev;
}
N_NIMCALL(TY46008*, Ropef_46069)(NimStringDesc* Frmt_46071, TY46008** Args_46073, NI Args_46073Len0) {
TY46008* Result_46770;
NI I_46771;
NI J_46772;
NI Length_46773;
NI Start_46774;
NI Num_46775;
NIM_BOOL LOC7;
NimStringDesc* LOC14;
NimStringDesc* LOC15;
NimStringDesc* LOC16;
NimStringDesc* LOC24;
NIM_BOOL LOC25;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "ropef";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_46770 = 0;
I_46771 = 0;
J_46772 = 0;
Length_46773 = 0;
Start_46774 = 0;
Num_46775 = 0;
F.line = 307;F.filename = "ropes.nim";
I_46771 = 0;
F.line = 308;F.filename = "ropes.nim";
Length_46773 = Frmt_46071->Sup.len;
F.line = 309;F.filename = "ropes.nim";
Result_46770 = NIM_NIL;
F.line = 310;F.filename = "ropes.nim";
Num_46775 = 0;
F.line = 311;F.filename = "ropes.nim";
while (1) {
if (!(I_46771 <= subInt(Length_46773, 1))) goto LA1;
F.line = 312;F.filename = "ropes.nim";
if ((NU)(I_46771) > (NU)(Frmt_46071->Sup.len)) raiseIndexError();
if (!((NU8)(Frmt_46071->data[I_46771]) == (NU8)(36))) goto LA3;
F.line = 313;F.filename = "ropes.nim";
I_46771 = addInt(I_46771, 1);
F.line = 314;F.filename = "ropes.nim";
if ((NU)(I_46771) > (NU)(Frmt_46071->Sup.len)) raiseIndexError();
switch (((NU8)(Frmt_46071->data[I_46771]))) {
case 36:
F.line = 316;F.filename = "ropes.nim";
App_46036(&Result_46770, ((NimStringDesc*) &TMP46920));
F.line = 317;F.filename = "ropes.nim";
I_46771 = addInt(I_46771, 1);
break;
case 35:
F.line = 319;F.filename = "ropes.nim";
I_46771 = addInt(I_46771, 1);
F.line = 320;F.filename = "ropes.nim";
if ((NU)(Num_46775) >= (NU)(Args_46073Len0)) raiseIndexError();
App_46031(&Result_46770, Args_46073[Num_46775]);
F.line = 321;F.filename = "ropes.nim";
Num_46775 = addInt(Num_46775, 1);
break;
case 48 ... 57:
F.line = 323;F.filename = "ropes.nim";
J_46772 = 0;
F.line = 324;F.filename = "ropes.nim";
while (1) {
F.line = 325;F.filename = "ropes.nim";
if ((NU)(I_46771) > (NU)(Frmt_46071->Sup.len)) raiseIndexError();
J_46772 = subInt(addInt(mulInt(J_46772, 10), ((NU8)(Frmt_46071->data[I_46771]))), 48);
F.line = 326;F.filename = "ropes.nim";
I_46771 = addInt(I_46771, 1);
F.line = 327;F.filename = "ropes.nim";
LOC7 = (subInt(addInt(Length_46773, 0), 1) < I_46771);
if (LOC7) goto LA8;
if ((NU)(I_46771) > (NU)(Frmt_46071->Sup.len)) raiseIndexError();
LOC7 = !((((NU8)(Frmt_46071->data[I_46771])) >= ((NU8)(48)) && ((NU8)(Frmt_46071->data[I_46771])) <= ((NU8)(57))));
LA8: ;
if (!LOC7) goto LA9;
F.line = 327;F.filename = "ropes.nim";
goto LA5;
LA9: ;
} LA5: ;
F.line = 328;F.filename = "ropes.nim";
Num_46775 = J_46772;
F.line = 329;F.filename = "ropes.nim";
if (!(addInt((Args_46073Len0-1), 1) < J_46772)) goto LA12;
F.line = 330;F.filename = "ropes.nim";
LOC14 = 0;
LOC15 = 0;
LOC15 = nimIntToStr(J_46772);
LOC14 = rawNewString(LOC15->Sup.len + 30);
appendString(LOC14, ((NimStringDesc*) &TMP46921));
appendString(LOC14, LOC15);
Internalerror_41571(LOC14);
LA12: ;
F.line = 331;F.filename = "ropes.nim";
if ((NU)(subInt(J_46772, 1)) >= (NU)(Args_46073Len0)) raiseIndexError();
App_46031(&Result_46770, Args_46073[subInt(J_46772, 1)]);
break;
case 78:
case 110:
F.line = 333;F.filename = "ropes.nim";
App_46036(&Result_46770, Tnl_45573);
F.line = 334;F.filename = "ropes.nim";
I_46771 = addInt(I_46771, 1);
break;
default:
F.line = 335;F.filename = "ropes.nim";
LOC16 = 0;
if ((NU)(I_46771) > (NU)(Frmt_46071->Sup.len)) raiseIndexError();
LOC16 = rawNewString(31);
appendString(LOC16, ((NimStringDesc*) &TMP46921));
appendChar(LOC16, Frmt_46071->data[I_46771]);
Internalerror_41571(LOC16);
break;
}
LA3: ;
F.line = 336;F.filename = "ropes.nim";
Start_46774 = I_46771;
F.line = 337;F.filename = "ropes.nim";
while (1) {
if (!(I_46771 <= subInt(Length_46773, 1))) goto LA17;
F.line = 338;F.filename = "ropes.nim";
if ((NU)(I_46771) > (NU)(Frmt_46071->Sup.len)) raiseIndexError();
if (!!(((NU8)(Frmt_46071->data[I_46771]) == (NU8)(36)))) goto LA19;
F.line = 338;F.filename = "ropes.nim";
I_46771 = addInt(I_46771, 1);
goto LA18;
LA19: ;
F.line = 339;F.filename = "ropes.nim";
goto LA17;
LA18: ;
} LA17: ;
F.line = 340;F.filename = "ropes.nim";
if (!(Start_46774 <= subInt(I_46771, 1))) goto LA22;
F.line = 341;F.filename = "ropes.nim";
LOC24 = 0;
LOC24 = copyStrLast(Frmt_46071, Start_46774, subInt(I_46771, 1));
App_46036(&Result_46770, LOC24);
LA22: ;
} LA1: ;
F.line = 342;F.filename = "ropes.nim";
LOC25 = Ropeinvariant_46087(Result_46770);
internalAssert("rod/ropes.nim", 342, LOC25);
framePtr = framePtr->prev;
return Result_46770;
}
N_NIMCALL(void, Appf_46074)(TY46008** C_46077, NimStringDesc* Frmt_46078, TY46008** Args_46080, NI Args_46080Len0) {
TY46008* LOC1;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "appf";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 345;F.filename = "ropes.nim";
LOC1 = 0;
LOC1 = Ropef_46069(Frmt_46078, Args_46080, Args_46080Len0);
App_46031(C_46077, LOC1);
framePtr = framePtr->prev;
}
N_NIMCALL(NIM_BOOL, Auxropeequalsfile_46930)(TY46008* R_46932, FILE** Bin_46934, void* Buf_46935) {
NIM_BOOL Result_46936;
NI Readbytes_46939;
NIM_BOOL LOC7;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "auxRopeEqualsFile";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_46936 = 0;
F.line = 351;F.filename = "ropes.nim";
if (!!(((*R_46932).Data == NIM_NIL))) goto LA2;
F.line = 352;F.filename = "ropes.nim";
if (!(1024 < (*R_46932).Length)) goto LA5;
F.line = 353;F.filename = "ropes.nim";
Internalerror_41571(((NimStringDesc*) &TMP46943));
LA5: ;
Readbytes_46939 = 0;
F.line = 354;F.filename = "ropes.nim";
Readbytes_46939 = Readbuffer_3714((*Bin_46934), Buf_46935, (*R_46932).Length);
F.line = 355;F.filename = "ropes.nim";
LOC7 = (Readbytes_46939 == (*R_46932).Length);
if (!(LOC7)) goto LA8;
if ((NU)(0) > (NU)((*R_46932).Data->Sup.len)) raiseIndexError();
LOC7 = equalMem(Buf_46935, ((void*) (&(*R_46932).Data->data[0])), (*R_46932).Length);
LA8: ;
Result_46936 = LOC7;
goto LA1;
LA2: ;
F.line = 358;F.filename = "ropes.nim";
Result_46936 = Auxropeequalsfile_46930((*R_46932).Left, Bin_46934, Buf_46935);
F.line = 359;F.filename = "ropes.nim";
if (!Result_46936) goto LA10;
F.line = 359;F.filename = "ropes.nim";
Result_46936 = Auxropeequalsfile_46930((*R_46932).Right, Bin_46934, Buf_46935);
LA10: ;
LA1: ;
framePtr = framePtr->prev;
return Result_46936;
}
N_NIMCALL(NIM_BOOL, Ropeequalsfile_46083)(TY46008* R_46085, NimStringDesc* F_46086) {
NIM_BOOL Result_46948;
FILE* Bin_46949;
void* Buf_46951;
NI LOC7;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "RopeEqualsFile";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_46948 = 0;
Bin_46949 = 0;
F.line = 363;F.filename = "ropes.nim";
Result_46948 = Open_3617(&Bin_46949, F_46086, ((NU8) 0), -1);
F.line = 364;F.filename = "ropes.nim";
if (!!(Result_46948)) goto LA2;
F.line = 365;F.filename = "ropes.nim";
goto BeforeRet;
LA2: ;
Buf_46951 = 0;
F.line = 366;F.filename = "ropes.nim";
Buf_46951 = Alloc_1774(1024);
F.line = 367;F.filename = "ropes.nim";
Result_46948 = Auxropeequalsfile_46930(R_46085, &Bin_46949, Buf_46951);
F.line = 368;F.filename = "ropes.nim";
if (!Result_46948) goto LA5;
F.line = 369;F.filename = "ropes.nim";
LOC7 = Readbuffer_3714(Bin_46949, Buf_46951, 1024);
Result_46948 = (LOC7 == 0);
LA5: ;
F.line = 370;F.filename = "ropes.nim";
Dealloc_1784(Buf_46951);
F.line = 371;F.filename = "ropes.nim";
fclose(Bin_46949);
BeforeRet: ;
framePtr = framePtr->prev;
return Result_46948;
}
static N_INLINE(NI, chckRange)(NI I_4610, NI A_4611, NI B_4612) {
NI Result_5316;
NIM_BOOL LOC2;
Result_5316 = 0;
LOC2 = (A_4611 <= I_4610);
if (!(LOC2)) goto LA3;
LOC2 = (I_4610 <= B_4612);
LA3: ;
if (!LOC2) goto LA4;
Result_5316 = I_4610;
goto BeforeRet;
goto LA1;
LA4: ;
raiseRangeError(((NI64) (I_4610)));
LA1: ;
BeforeRet: ;
return Result_5316;
}
static N_INLINE(NI32, Updatecrc32_44014)(NI8 Val_44016, NI32 Crc_44017) {
NI32 Result_44048;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "updateCrc32";
F.prev = framePtr;
F.filename = "rod/crc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_44048 = 0;
F.line = 78;F.filename = "crc.nim";
if ((NU)((NI64)((NI64)(((NI) (Crc_44017)) ^ (NI64)(((NI) (Val_44016)) & 255)) & 255)) > (NU)(255)) raiseIndexError();
Result_44048 = (NI32)(((NI32)chckRange(Crc32table_44039[((NI64)((NI64)(((NI) (Crc_44017)) ^ (NI64)(((NI) (Val_44016)) & 255)) & 255))-0], ((NI32) (-2147483647 -1)), ((NI32) 2147483647))) ^ (NI32)((NU32)(Crc_44017) >> (NU32)(((NI32) 8))));
framePtr = framePtr->prev;
return Result_44048;
}
static N_INLINE(NI32, Updatecrc32_44018)(NIM_CHAR Val_44020, NI32 Crc_44021) {
NI32 Result_44053;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "updateCrc32";
F.prev = framePtr;
F.filename = "rod/crc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_44053 = 0;
F.line = 82;F.filename = "crc.nim";
Result_44053 = Updatecrc32_44014(((NI8)chckRange(((NU8)(Val_44020)), ((NI8) -128), ((NI8) 127))), Crc_44021);
framePtr = framePtr->prev;
return Result_44053;
}
N_NIMCALL(NI32, Crcfromropeaux_46955)(TY46008* R_46957, NI32 Startval_46958) {
NI32 Result_46959;
NI I_46969;
NI HEX3Atmp_46971;
NI Res_46973;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "crcFromRopeAux";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_46959 = 0;
F.line = 374;F.filename = "ropes.nim";
if (!!(((*R_46957).Data == NIM_NIL))) goto LA2;
F.line = 375;F.filename = "ropes.nim";
Result_46959 = Startval_46958;
I_46969 = 0;
HEX3Atmp_46971 = 0;
F.line = 376;F.filename = "ropes.nim";
HEX3Atmp_46971 = subInt((*R_46957).Data->Sup.len, 1);
Res_46973 = 0;
F.line = 1011;F.filename = "system.nim";
Res_46973 = 0;
F.line = 1012;F.filename = "system.nim";
while (1) {
if (!(Res_46973 <= HEX3Atmp_46971)) goto LA4;
F.line = 1011;F.filename = "system.nim";
I_46969 = Res_46973;
F.line = 377;F.filename = "ropes.nim";
if ((NU)(I_46969) > (NU)((*R_46957).Data->Sup.len)) raiseIndexError();
Result_46959 = Updatecrc32_44018((*R_46957).Data->data[I_46969], Result_46959);
F.line = 1014;F.filename = "system.nim";
Res_46973 = addInt(Res_46973, 1);
} LA4: ;
goto LA1;
LA2: ;
F.line = 379;F.filename = "ropes.nim";
Result_46959 = Crcfromropeaux_46955((*R_46957).Left, Startval_46958);
F.line = 380;F.filename = "ropes.nim";
Result_46959 = Crcfromropeaux_46955((*R_46957).Right, Result_46959);
LA1: ;
framePtr = framePtr->prev;
return Result_46959;
}
N_NIMCALL(NI32, Newcrcfromropeaux_46976)(TY46008* R_46978, NI32 Startval_46979) {
NI32 Result_46980;
TY46010* Stack_46995;
TY46451 LOC1;
TY46008* It_47020;
NI I_47039;
NI L_47042;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "newCrcFromRopeAux";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_46980 = 0;
Stack_46995 = 0;
F.line = 383;F.filename = "ropes.nim";
Stack_46995 = (TY46010*) newSeq(NTI46010, 1);
memset((void*)&LOC1, 0, sizeof(LOC1));
LOC1[0] = R_46978;
asgnRefNoCycle((void**) &Stack_46995->data[0], LOC1[0]);
F.line = 384;F.filename = "ropes.nim";
Result_46980 = Startval_46979;
F.line = 385;F.filename = "ropes.nim";
while (1) {
if (!(0 < Stack_46995->Sup.len)) goto LA2;
It_47020 = 0;
F.line = 386;F.filename = "ropes.nim";
It_47020 = Pop_46471(&Stack_46995);
F.line = 387;F.filename = "ropes.nim";
while (1) {
if (!((*It_47020).Data == NIM_NIL)) goto LA3;
F.line = 388;F.filename = "ropes.nim";
Stack_46995 = (TY46010*) incrSeq(&(Stack_46995)->Sup, sizeof(TY46008*));
asgnRefNoCycle((void**) &Stack_46995->data[Stack_46995->Sup.len-1], (*It_47020).Right);
F.line = 389;F.filename = "ropes.nim";
It_47020 = (*It_47020).Left;
} LA3: ;
F.line = 390;F.filename = "ropes.nim";
internalAssert("rod/ropes.nim", 390, !(((*It_47020).Data == NIM_NIL)));
I_47039 = 0;
F.line = 391;F.filename = "ropes.nim";
I_47039 = 0;
L_47042 = 0;
F.line = 392;F.filename = "ropes.nim";
L_47042 = (*It_47020).Data->Sup.len;
F.line = 393;F.filename = "ropes.nim";
while (1) {
if (!(I_47039 < L_47042)) goto LA4;
F.line = 394;F.filename = "ropes.nim";
if ((NU)(I_47039) > (NU)((*It_47020).Data->Sup.len)) raiseIndexError();
Result_46980 = Updatecrc32_44018((*It_47020).Data->data[I_47039], Result_46980);
F.line = 395;F.filename = "ropes.nim";
I_47039 = addInt(I_47039, 1);
} LA4: ;
} LA2: ;
framePtr = framePtr->prev;
return Result_46980;
}
N_NIMCALL(NI32, Crcfromrope_47060)(TY46008* R_47062) {
NI32 Result_47063;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "crcFromRope";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_47063 = 0;
F.line = 398;F.filename = "ropes.nim";
Result_47063 = Newcrcfromropeaux_46976(R_47062, ((NI32) -1));
framePtr = framePtr->prev;
return Result_47063;
}
N_NIMCALL(NIM_BOOL, Writeropeifnotequal_46062)(TY46008* R_46064, NimStringDesc* Filename_46065) {
NIM_BOOL Result_47068;
NI32 C_47069;
NI32 LOC2;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "writeRopeIfNotEqual";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_47068 = 0;
C_47069 = 0;
F.line = 403;F.filename = "ropes.nim";
C_47069 = Crcfromfile_44029(Filename_46065);
F.line = 404;F.filename = "ropes.nim";
LOC2 = Crcfromrope_47060(R_46064);
if (!!((C_47069 == LOC2))) goto LA3;
F.line = 405;F.filename = "ropes.nim";
Writerope_46058(R_46064, Filename_46065);
F.line = 406;F.filename = "ropes.nim";
Result_47068 = NIM_TRUE;
goto LA1;
LA3: ;
F.line = 408;F.filename = "ropes.nim";
Result_47068 = NIM_FALSE;
LA1: ;
framePtr = framePtr->prev;
return Result_47068;
}
N_NIMCALL(TY46008*, Pop_46471)(TY46010** S_46476) {
TY46008* Result_46477;
NI L_46488;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "pop";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_46477 = 0;
L_46488 = 0;
F.line = 1156;F.filename = "system.nim";
L_46488 = subInt((*S_46476)->Sup.len, 1);
F.line = 1157;F.filename = "system.nim";
if ((NU)(L_46488) >= (NU)((*S_46476)->Sup.len)) raiseIndexError();
Result_46477 = (*S_46476)->data[L_46488];
F.line = 1158;F.filename = "system.nim";
(*S_46476) = (TY46010*) setLengthSeq(&((*S_46476))->Sup, sizeof(TY46008*), L_46488);
framePtr = framePtr->prev;
return Result_46477;
}
N_NOINLINE(void, ropesInit)(void) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "ropes";
F.prev = framePtr;
F.filename = "rod/ropes.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 410;F.filename = "ropes.nim";
asgnRefNoCycle((void**) &N_46130, (TY46008*) newObj(NTI46006, sizeof(TY46008)));
(*N_46130).Sup.m_type = NTI46008;
framePtr = framePtr->prev;
}

