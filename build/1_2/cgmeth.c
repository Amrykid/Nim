/* Generated by Nimrod Compiler v0.8.10 */
/*   (c) 2010 Andreas Rumpf */

typedef long long int NI;
typedef unsigned long long int NU;
#include "nimbase.h"

typedef struct TY155165 TY155165;
typedef struct TY51527 TY51527;
typedef struct TY51547 TY51547;
typedef struct TGenericSeq TGenericSeq;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct TY10602 TY10602;
typedef struct TY10618 TY10618;
typedef struct TY10990 TY10990;
typedef struct TY10614 TY10614;
typedef struct TY10610 TY10610;
typedef struct TY8004 TY8004;
typedef struct TY10988 TY10988;
typedef struct TY51551 TY51551;
typedef struct TY50005 TY50005;
typedef struct TNimObject TNimObject;
typedef struct TY50011 TY50011;
typedef struct TY43532 TY43532;
typedef struct TY51529 TY51529;
typedef struct TY51525 TY51525;
typedef struct TY51539 TY51539;
typedef struct TY48008 TY48008;
typedef struct TY51543 TY51543;
typedef struct NimStringDesc NimStringDesc;
typedef struct TY51549 TY51549;
typedef struct TY51519 TY51519;
typedef struct TY51900 TY51900;
typedef struct TY51896 TY51896;
typedef struct TY51898 TY51898;
typedef struct TY39013 TY39013;
struct TGenericSeq {
NI len;
NI space;
};
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct TY10602 {
NI Refcount;
TNimType* Typ;
};
struct TY10618 {
NI Len;
NI Cap;
TY10602** D;
};
struct TY10614 {
NI Counter;
NI Max;
TY10610* Head;
TY10610** Data;
};
struct TY8004 {
void* Debuginfo;
NI32 Lockcount;
NI32 Recursioncount;
NI Owningthread;
NI Locksemaphore;
NI32 Reserved;
};
struct TY10988 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY10990 {
TY10618 Zct;
TY10618 Decstack;
TY10614 Cycleroots;
TY10618 Tempstack;
TY8004 Cyclerootslock;
TY8004 Zctlock;
TY10988 Stat;
};
struct TNimObject {
TNimType* m_type;
};
struct TY50005 {
  TNimObject Sup;
NI Id;
};
struct TY43532 {
NI16 Line;
NI16 Col;
NI32 Fileindex;
};
struct TY51529 {
TNimType* m_type;
NI Counter;
TY51527* Data;
};
struct TY51539 {
NU8 K;
NU8 S;
NU8 Flags;
TY51551* T;
TY48008* R;
NI A;
};
struct TY51547 {
  TY50005 Sup;
NU8 Kind;
NU8 Magic;
TY51551* Typ;
TY50011* Name;
TY43532 Info;
TY51547* Owner;
NU32 Flags;
TY51529 Tab;
TY51525* Ast;
NU32 Options;
NI Position;
NI Offset;
TY51539 Loc;
TY51543* Annex;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
struct TY50011 {
  TY50005 Sup;
NimStringDesc* S;
TY50011* Next;
NI H;
};
struct TY51551 {
  TY50005 Sup;
NU8 Kind;
TY51549* Sons;
TY51525* N;
NU8 Flags;
NU8 Callconv;
TY51547* Owner;
TY51547* Sym;
NI64 Size;
NI Align;
NI Containerid;
TY51539 Loc;
};
typedef TY51547* TY155294[1];
struct TY51525 {
TY51551* Typ;
NimStringDesc* Comment;
TY43532 Info;
NU8 Flags;
NU8 Kind;
union {
struct {NI64 Intval;
} S1;
struct {NF64 Floatval;
} S2;
struct {NimStringDesc* Strval;
} S3;
struct {TY51547* Sym;
} S4;
struct {TY50011* Ident;
} S5;
struct {TY51519* Sons;
} S6;
} KindU;
};
struct TY51900 {
NI Counter;
NI Max;
TY51896* Head;
TY51898* Data;
};
typedef NI TY8614[8];
struct TY10610 {
TY10610* Next;
NI Key;
TY8614 Bits;
};
struct TY48008 {
  TNimObject Sup;
TY48008* Left;
TY48008* Right;
NI Length;
NimStringDesc* Data;
};
struct TY39013 {
  TNimObject Sup;
TY39013* Prev;
TY39013* Next;
};
struct TY51543 {
  TY39013 Sup;
NU8 Kind;
NIM_BOOL Generated;
TY48008* Name;
TY51525* Path;
};
struct TY51896 {
TY51896* Next;
NI Key;
TY8614 Bits;
};
struct TY51527 {
  TGenericSeq Sup;
  TY51547* data[SEQ_DECL_SIZE];
};
struct TY155165 {
  TGenericSeq Sup;
  TY51527* data[SEQ_DECL_SIZE];
};
struct TY51549 {
  TGenericSeq Sup;
  TY51551* data[SEQ_DECL_SIZE];
};
struct TY51519 {
  TGenericSeq Sup;
  TY51525* data[SEQ_DECL_SIZE];
};
struct TY51898 {
  TGenericSeq Sup;
  TY51896* data[SEQ_DECL_SIZE];
};
N_NIMCALL(void*, newSeq)(TNimType* Typ_14004, NI Len_14005);
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13018, void* Src_13019);
static N_INLINE(TY10602*, Usrtocell_11412)(void* Usr_11414);
static N_INLINE(NI, Atomicinc_3001)(NI* Memloc_3004, NI X_3005);
static N_INLINE(NI, Atomicdec_3006)(NI* Memloc_3009, NI X_3010);
static N_INLINE(void, Rtladdzct_12401)(TY10602* C_12403);
N_NOINLINE(void, Addzct_11401)(TY10618* S_11404, TY10602* C_11405);
N_NIMCALL(NIM_BOOL, Samemethodbucket_155167)(TY51547* A_155169, TY51547* B_155170);
N_NIMCALL(NI, Sonslen_51806)(TY51551* N_51808);
N_NIMCALL(NIM_BOOL, Sametypeornil_93052)(TY51551* A_93054, TY51551* B_93055);
N_NIMCALL(TY51551*, Skiptypes_93085)(TY51551* T_93087, NU64 Kinds_93088);
N_NIMCALL(NIM_BOOL, Sametype_93048)(TY51551* X_93050, TY51551* Y_93051);
N_NIMCALL(NI, Inheritancediff_93119)(TY51551* A_93121, TY51551* B_93122);
N_NIMCALL(TGenericSeq*, incrSeq)(TGenericSeq* Seq_18635, NI Elemsize_18636);
static N_INLINE(void, asgnRef)(void** Dest_13014, void* Src_13015);
static N_INLINE(void, Incref_13002)(TY10602* C_13004);
static N_INLINE(NIM_BOOL, Canbecycleroot_11416)(TY10602* C_11418);
static N_INLINE(void, Rtladdcycleroot_12052)(TY10602* C_12054);
N_NOINLINE(void, Incl_10874)(TY10614* S_10877, TY10602* Cell_10878);
static N_INLINE(void, Decref_12801)(TY10602* C_12803);
N_NIMCALL(void, Addson_51823)(TY51525* Father_51825, TY51525* Son_51826);
N_NIMCALL(TY51525*, Lastson_51809)(TY51525* N_51811);
N_NIMCALL(void, genericSeqAssign)(void* Dest_19439, void* Src_19440, TNimType* Mt_19441);
N_NIMCALL(TY51547*, Copysym_51775)(TY51547* S_51777, NIM_BOOL Keepid_51778);
N_NIMCALL(TY51551*, Copytype_51770)(TY51551* T_51772, TY51547* Owner_51773, NIM_BOOL Keepid_51774);
N_NIMCALL(TY51525*, Copytree_51858)(TY51525* Src_51860);
N_NIMCALL(TY51525*, Newsymnode_51734)(TY51547* Sym_51736);
N_NIMCALL(NI, Sonslen_51803)(TY51525* N_51805);
N_NIMCALL(TY51525*, Genconv_155014)(TY51525* N_155016, TY51551* D_155017, NIM_BOOL Downcast_155018);
N_NIMCALL(void, Internalerror_43567)(TY43532 Info_43569, NimStringDesc* Errmsg_43570);
N_NIMCALL(TY51525*, Newnodeit_51741)(NU8 Kind_51743, TY43532 Info_51744, TY51551* Typ_51745);
N_NIMCALL(TY51525*, Newnode_51710)(NU8 Kind_51712);
N_NIMCALL(void, Intsetinit_51924)(TY51900* S_51927);
N_NIMCALL(NIM_BOOL, Relevantcol_155400)(TY51527* Methods_155402, NI Col_155403);
N_NIMCALL(void, Intsetincl_51914)(TY51900* S_51917, NI Key_51918);
N_NIMCALL(void, Sortbucket_155454)(TY51527** A_155457, TY51900* Relevantcols_155458);
N_NIMCALL(NI, Cmpsignatures_155429)(TY51547* A_155431, TY51547* B_155432, TY51900* Relevantcols_155433);
N_NIMCALL(NIM_BOOL, Intsetcontains_51910)(TY51900* S_51912, NI Key_51913);
N_NIMCALL(TY51547*, Gendispatcher_155502)(TY51527* Methods_155504, TY51900* Relevantcols_155505);
N_NIMCALL(TY51525*, Newnodei_51737)(NU8 Kind_51739, TY43532 Info_51740);
N_NIMCALL(TY51547*, Getsyssym_98024)(NimStringDesc* Name_98026);
N_NIMCALL(TY51551*, Getsystype_98008)(NU8 Kind_98010);
NIM_CONST NU64 Skipptrs_155012 = 14682112;
STRING_LITERAL(TMP194241, "cgmeth.genConv", 14);
STRING_LITERAL(TMP194242, "cgmeth.genConv: no upcast allowed", 33);
STRING_LITERAL(TMP194243, "cgmeth.genConv: no downcast allowed", 35);
STRING_LITERAL(TMP194775, "and", 3);
STRING_LITERAL(TMP194776, "is", 2);
TY155165* Gmethods_155166;
extern TNimType* NTI155165; /* seq[TSymSeq] */
extern TY10990 Gch_11010;
extern TNimType* NTI51527; /* TSymSeq */
static N_INLINE(TY10602*, Usrtocell_11412)(void* Usr_11414) {
TY10602* Result_11415;
Result_11415 = 0;
Result_11415 = ((TY10602*) ((NI64)((NU64)(((NI) (Usr_11414))) - (NU64)(((NI) (((NI)sizeof(TY10602))))))));
return Result_11415;
}
static N_INLINE(NI, Atomicinc_3001)(NI* Memloc_3004, NI X_3005) {
NI Result_7607;
Result_7607 = 0;
(*Memloc_3004) += X_3005;
Result_7607 = (*Memloc_3004);
return Result_7607;
}
static N_INLINE(NI, Atomicdec_3006)(NI* Memloc_3009, NI X_3010) {
NI Result_7806;
Result_7806 = 0;
(*Memloc_3009) -= X_3010;
Result_7806 = (*Memloc_3009);
return Result_7806;
}
static N_INLINE(void, Rtladdzct_12401)(TY10602* C_12403) {
Addzct_11401(&Gch_11010.Zct, C_12403);
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13018, void* Src_13019) {
TY10602* C_13020;
NI LOC4;
TY10602* C_13022;
NI LOC9;
if (!!((Src_13019 == NIM_NIL))) goto LA2;
C_13020 = 0;
C_13020 = Usrtocell_11412(Src_13019);
LOC4 = Atomicinc_3001(&(*C_13020).Refcount, 8);
LA2: ;
if (!!(((*Dest_13018) == NIM_NIL))) goto LA6;
C_13022 = 0;
C_13022 = Usrtocell_11412((*Dest_13018));
LOC9 = Atomicdec_3006(&(*C_13022).Refcount, 8);
if (!((NU64)(LOC9) < (NU64)(8))) goto LA10;
Rtladdzct_12401(C_13022);
LA10: ;
LA6: ;
(*Dest_13018) = Src_13019;
}
N_NIMCALL(NIM_BOOL, Samemethodbucket_155167)(TY51547* A_155169, TY51547* B_155170) {
NIM_BOOL Result_155171;
TY51551* Aa_155172;
TY51551* Bb_155173;
NI LOC5;
NI LOC6;
NIM_BOOL LOC10;
NI I_155185;
NI HEX3Atmp_155231;
NI LOC13;
NI Res_155233;
NIM_BOOL LOC17;
NIM_BOOL LOC22;
NIM_BOOL LOC24;
NIM_BOOL LOC25;
NI LOC28;
Result_155171 = 0;
Aa_155172 = 0;
Bb_155173 = 0;
Result_155171 = NIM_FALSE;
if (!!(((*(*A_155169).Name).Sup.Id == (*(*B_155170).Name).Sup.Id))) goto LA2;
goto BeforeRet;
LA2: ;
LOC5 = Sonslen_51806((*A_155169).Typ);
LOC6 = Sonslen_51806((*B_155170).Typ);
if (!!((LOC5 == LOC6))) goto LA7;
goto BeforeRet;
LA7: ;
LOC10 = Sametypeornil_93052((*(*A_155169).Typ).Sons->data[0], (*(*B_155170).Typ).Sons->data[0]);
if (!!(LOC10)) goto LA11;
goto BeforeRet;
LA11: ;
I_155185 = 0;
HEX3Atmp_155231 = 0;
LOC13 = Sonslen_51806((*A_155169).Typ);
HEX3Atmp_155231 = (NI64)(LOC13 - 1);
Res_155233 = 0;
Res_155233 = 1;
while (1) {
if (!(Res_155233 <= HEX3Atmp_155231)) goto LA14;
I_155185 = Res_155233;
Aa_155172 = (*(*A_155169).Typ).Sons->data[I_155185];
Bb_155173 = (*(*B_155170).Typ).Sons->data[I_155185];
while (1) {
Aa_155172 = Skiptypes_93085(Aa_155172, 2048);
Bb_155173 = Skiptypes_93085(Bb_155173, 2048);
LOC17 = ((*Aa_155172).Kind == (*Bb_155173).Kind);
if (!(LOC17)) goto LA18;
LOC17 = ((14680064 &(IL64(1)<<(((*Aa_155172).Kind)&IL64(63))))!=0);
LA18: ;
if (!LOC17) goto LA19;
Aa_155172 = (*Aa_155172).Sons->data[0];
Bb_155173 = (*Bb_155173).Sons->data[0];
goto LA16;
LA19: ;
goto LA15;
LA16: ;
} LA15: ;
LOC22 = Sametype_93048(Aa_155172, Bb_155173);
if (LOC22) goto LA23;
LOC25 = ((*Aa_155172).Kind == ((NU8) 17));
if (!(LOC25)) goto LA26;
LOC25 = ((*Bb_155173).Kind == ((NU8) 17));
LA26: ;
LOC24 = LOC25;
if (!(LOC24)) goto LA27;
LOC28 = Inheritancediff_93119(Bb_155173, Aa_155172);
LOC24 = (LOC28 < 0);
LA27: ;
LOC22 = LOC24;
LA23: ;
if (!LOC22) goto LA29;
goto LA21;
LA29: ;
goto BeforeRet;
LA21: ;
Res_155233 += 1;
} LA14: ;
Result_155171 = NIM_TRUE;
BeforeRet: ;
return Result_155171;
}
static N_INLINE(NIM_BOOL, Canbecycleroot_11416)(TY10602* C_11418) {
NIM_BOOL Result_11419;
Result_11419 = 0;
Result_11419 = !((((*(*C_11418).Typ).flags &(1<<((((NU8) 1))&7)))!=0));
return Result_11419;
}
static N_INLINE(void, Rtladdcycleroot_12052)(TY10602* C_12054) {
Incl_10874(&Gch_11010.Cycleroots, C_12054);
}
static N_INLINE(void, Incref_13002)(TY10602* C_13004) {
NI LOC1;
NIM_BOOL LOC3;
LOC1 = Atomicinc_3001(&(*C_13004).Refcount, 8);
LOC3 = Canbecycleroot_11416(C_13004);
if (!LOC3) goto LA4;
Rtladdcycleroot_12052(C_13004);
LA4: ;
}
static N_INLINE(void, Decref_12801)(TY10602* C_12803) {
NI LOC2;
NIM_BOOL LOC5;
LOC2 = Atomicdec_3006(&(*C_12803).Refcount, 8);
if (!((NU64)(LOC2) < (NU64)(8))) goto LA3;
Rtladdzct_12401(C_12803);
goto LA1;
LA3: ;
LOC5 = Canbecycleroot_11416(C_12803);
if (!LOC5) goto LA6;
Rtladdcycleroot_12052(C_12803);
goto LA1;
LA6: ;
LA1: ;
}
static N_INLINE(void, asgnRef)(void** Dest_13014, void* Src_13015) {
TY10602* LOC4;
TY10602* LOC8;
if (!!((Src_13015 == NIM_NIL))) goto LA2;
LOC4 = Usrtocell_11412(Src_13015);
Incref_13002(LOC4);
LA2: ;
if (!!(((*Dest_13014) == NIM_NIL))) goto LA6;
LOC8 = Usrtocell_11412((*Dest_13014));
Decref_12801(LOC8);
LA6: ;
(*Dest_13014) = Src_13015;
}
N_NIMCALL(void, Methoddef_155004)(TY51547* S_155006) {
NI L_155243;
NI Q_155244;
TY51547* Disp_155245;
NI I_155263;
NI HEX3Atmp_155395;
NI Res_155397;
NIM_BOOL LOC3;
TY51525* LOC6;
TY51527* LOC7;
TY155294 LOC8;
TY51525* LOC15;
L_155243 = 0;
Q_155244 = 0;
Disp_155245 = 0;
L_155243 = Gmethods_155166->Sup.len;
I_155263 = 0;
HEX3Atmp_155395 = 0;
HEX3Atmp_155395 = (NI64)(L_155243 - 1);
Res_155397 = 0;
Res_155397 = 0;
while (1) {
if (!(Res_155397 <= HEX3Atmp_155395)) goto LA1;
I_155263 = Res_155397;
LOC3 = Samemethodbucket_155167(Gmethods_155166->data[I_155263]->data[0], S_155006);
if (!LOC3) goto LA4;
Gmethods_155166->data[I_155263] = (TY51527*) incrSeq(&(Gmethods_155166->data[I_155263])->Sup, sizeof(TY51547*));
asgnRef((void**) &Gmethods_155166->data[I_155263]->data[Gmethods_155166->data[I_155263]->Sup.len-1], S_155006);
LOC6 = 0;
LOC6 = Lastson_51809((*Gmethods_155166->data[I_155263]->data[0]).Ast);
Addson_51823((*S_155006).Ast, LOC6);
goto BeforeRet;
LA4: ;
Res_155397 += 1;
} LA1: ;
LOC7 = 0;
LOC7 = (TY51527*) newSeq(NTI51527, 1);
memset((void*)&LOC8, 0, sizeof(LOC8));
LOC8[0] = S_155006;
asgnRef((void**) &LOC7->data[0], LOC8[0]);
Gmethods_155166 = (TY155165*) incrSeq(&(Gmethods_155166)->Sup, sizeof(TY51527*));
genericSeqAssign(&Gmethods_155166->data[Gmethods_155166->Sup.len-1], LOC7, NTI51527);
Disp_155245 = Copysym_51775(S_155006, NIM_FALSE);
asgnRef((void**) &(*Disp_155245).Typ, Copytype_51770((*Disp_155245).Typ, (*(*Disp_155245).Typ).Owner, NIM_FALSE));
if (!((*(*Disp_155245).Typ).Callconv == ((NU8) 5))) goto LA10;
(*(*Disp_155245).Typ).Callconv = ((NU8) 0);
LA10: ;
asgnRefNoCycle((void**) &(*Disp_155245).Ast, Copytree_51858((*S_155006).Ast));
asgnRefNoCycle((void**) &(*(*Disp_155245).Ast).KindU.S6.Sons->data[4], NIM_NIL);
if (!!(((*(*S_155006).Typ).Sons->data[0] == NIM_NIL))) goto LA13;
asgnRef((void**) &(*(*(*Disp_155245).Ast).KindU.S6.Sons->data[5]).KindU.S4.Sym, Copysym_51775((*(*(*S_155006).Ast).KindU.S6.Sons->data[5]).KindU.S4.Sym, NIM_FALSE));
LA13: ;
LOC15 = 0;
LOC15 = Newsymnode_51734(Disp_155245);
Addson_51823((*S_155006).Ast, LOC15);
BeforeRet: ;
}
N_NIMCALL(TY51525*, Genconv_155014)(TY51525* N_155016, TY51551* D_155017, NIM_BOOL Downcast_155018) {
TY51525* Result_155019;
TY51551* Dest_155020;
TY51551* Source_155021;
NI Diff_155022;
NIM_BOOL LOC2;
Result_155019 = 0;
Dest_155020 = 0;
Source_155021 = 0;
Diff_155022 = 0;
Dest_155020 = Skiptypes_93085(D_155017, 14723072);
Source_155021 = Skiptypes_93085((*N_155016).Typ, 14723072);
LOC2 = ((*Source_155021).Kind == ((NU8) 17));
if (!(LOC2)) goto LA3;
LOC2 = ((*Dest_155020).Kind == ((NU8) 17));
LA3: ;
if (!LOC2) goto LA4;
Diff_155022 = Inheritancediff_93119(Dest_155020, Source_155021);
if (!(Diff_155022 == IL64(9223372036854775807))) goto LA7;
Internalerror_43567((*N_155016).Info, ((NimStringDesc*) &TMP194241));
LA7: ;
if (!(Diff_155022 < 0)) goto LA10;
Result_155019 = Newnodeit_51741(((NU8) 56), (*N_155016).Info, D_155017);
Addson_51823(Result_155019, N_155016);
if (!Downcast_155018) goto LA13;
Internalerror_43567((*N_155016).Info, ((NimStringDesc*) &TMP194242));
LA13: ;
goto LA9;
LA10: ;
if (!(0 < Diff_155022)) goto LA15;
Result_155019 = Newnodeit_51741(((NU8) 55), (*N_155016).Info, D_155017);
Addson_51823(Result_155019, N_155016);
if (!!(Downcast_155018)) goto LA18;
Internalerror_43567((*N_155016).Info, ((NimStringDesc*) &TMP194243));
LA18: ;
goto LA9;
LA15: ;
Result_155019 = N_155016;
LA9: ;
goto LA1;
LA4: ;
Result_155019 = N_155016;
LA1: ;
return Result_155019;
}
N_NIMCALL(TY51525*, Methodcall_155007)(TY51525* N_155009) {
TY51525* Result_155050;
TY51547* Disp_155051;
TY51525* LOC1;
NI I_155134;
NI HEX3Atmp_155160;
NI LOC2;
NI Res_155162;
Result_155050 = 0;
Disp_155051 = 0;
Result_155050 = N_155009;
LOC1 = 0;
LOC1 = Lastson_51809((*(*(*Result_155050).KindU.S6.Sons->data[0]).KindU.S4.Sym).Ast);
Disp_155051 = (*LOC1).KindU.S4.Sym;
asgnRef((void**) &(*(*Result_155050).KindU.S6.Sons->data[0]).KindU.S4.Sym, Disp_155051);
I_155134 = 0;
HEX3Atmp_155160 = 0;
LOC2 = Sonslen_51803(Result_155050);
HEX3Atmp_155160 = (NI64)(LOC2 - 1);
Res_155162 = 0;
Res_155162 = 1;
while (1) {
if (!(Res_155162 <= HEX3Atmp_155160)) goto LA3;
I_155134 = Res_155162;
asgnRefNoCycle((void**) &(*Result_155050).KindU.S6.Sons->data[I_155134], Genconv_155014((*Result_155050).KindU.S6.Sons->data[I_155134], (*(*Disp_155051).Typ).Sons->data[I_155134], NIM_TRUE));
Res_155162 += 1;
} LA3: ;
return Result_155050;
}
N_NIMCALL(NIM_BOOL, Relevantcol_155400)(TY51527* Methods_155402, NI Col_155403) {
NIM_BOOL Result_155404;
TY51551* T_155405;
TY51551* LOC2;
NI I_155422;
NI HEX3Atmp_155424;
NI Res_155426;
NIM_BOOL LOC7;
Result_155404 = 0;
T_155405 = 0;
T_155405 = (*(*Methods_155402->data[0]).Typ).Sons->data[Col_155403];
Result_155404 = NIM_FALSE;
LOC2 = 0;
LOC2 = Skiptypes_93085(T_155405, 14682112);
if (!((*LOC2).Kind == ((NU8) 17))) goto LA3;
I_155422 = 0;
HEX3Atmp_155424 = 0;
HEX3Atmp_155424 = (Methods_155402->Sup.len-1);
Res_155426 = 0;
Res_155426 = 1;
while (1) {
if (!(Res_155426 <= HEX3Atmp_155424)) goto LA5;
I_155422 = Res_155426;
LOC7 = Sametype_93048((*(*Methods_155402->data[I_155422]).Typ).Sons->data[Col_155403], T_155405);
if (!!(LOC7)) goto LA8;
Result_155404 = NIM_TRUE;
goto BeforeRet;
LA8: ;
Res_155426 += 1;
} LA5: ;
LA3: ;
BeforeRet: ;
return Result_155404;
}
N_NIMCALL(NI, Cmpsignatures_155429)(TY51547* A_155431, TY51547* B_155432, TY51900* Relevantcols_155433) {
NI Result_155434;
NI D_155435;
TY51551* Aa_155436;
TY51551* Bb_155437;
NI Col_155445;
NI HEX3Atmp_155449;
NI LOC1;
NI Res_155451;
NIM_BOOL LOC4;
Result_155434 = 0;
D_155435 = 0;
Aa_155436 = 0;
Bb_155437 = 0;
Result_155434 = 0;
Col_155445 = 0;
HEX3Atmp_155449 = 0;
LOC1 = Sonslen_51806((*A_155431).Typ);
HEX3Atmp_155449 = (NI64)(LOC1 - 1);
Res_155451 = 0;
Res_155451 = 1;
while (1) {
if (!(Res_155451 <= HEX3Atmp_155449)) goto LA2;
Col_155445 = Res_155451;
LOC4 = Intsetcontains_51910(Relevantcols_155433, Col_155445);
if (!LOC4) goto LA5;
Aa_155436 = Skiptypes_93085((*(*A_155431).Typ).Sons->data[Col_155445], 14682112);
Bb_155437 = Skiptypes_93085((*(*B_155432).Typ).Sons->data[Col_155445], 14682112);
D_155435 = Inheritancediff_93119(Aa_155436, Bb_155437);
if (!!((D_155435 == IL64(9223372036854775807)))) goto LA8;
Result_155434 = D_155435;
goto BeforeRet;
LA8: ;
LA5: ;
Res_155451 += 1;
} LA2: ;
BeforeRet: ;
return Result_155434;
}
N_NIMCALL(void, Sortbucket_155454)(TY51527** A_155457, TY51900* Relevantcols_155458) {
NI N_155459;
NI J_155460;
NI H_155461;
TY51547* V_155462;
NI I_155482;
NI HEX3Atmp_155492;
NI Res_155494;
NI LOC8;
N_155459 = 0;
J_155460 = 0;
H_155461 = 0;
V_155462 = 0;
N_155459 = (*A_155457)->Sup.len;
H_155461 = 1;
while (1) {
H_155461 = (NI64)((NI64)(3 * H_155461) + 1);
if (!(N_155459 < H_155461)) goto LA3;
goto LA1;
LA3: ;
} LA1: ;
while (1) {
H_155461 = (NI64)(H_155461 / 3);
I_155482 = 0;
HEX3Atmp_155492 = 0;
HEX3Atmp_155492 = (NI64)(N_155459 - 1);
Res_155494 = 0;
Res_155494 = H_155461;
while (1) {
if (!(Res_155494 <= HEX3Atmp_155492)) goto LA6;
I_155482 = Res_155494;
V_155462 = (*A_155457)->data[I_155482];
J_155460 = I_155482;
while (1) {
LOC8 = Cmpsignatures_155429((*A_155457)->data[(NI64)(J_155460 - H_155461)], V_155462, Relevantcols_155458);
if (!(0 <= LOC8)) goto LA7;
asgnRef((void**) &(*A_155457)->data[J_155460], (*A_155457)->data[(NI64)(J_155460 - H_155461)]);
J_155460 = (NI64)(J_155460 - H_155461);
if (!(J_155460 < H_155461)) goto LA10;
goto LA7;
LA10: ;
} LA7: ;
asgnRef((void**) &(*A_155457)->data[J_155460], V_155462);
Res_155494 += 1;
} LA6: ;
if (!(H_155461 == 1)) goto LA13;
goto LA5;
LA13: ;
} LA5: ;
}
N_NIMCALL(TY51547*, Gendispatcher_155502)(TY51527* Methods_155504, TY51900* Relevantcols_155505) {
TY51547* Result_155506;
TY51525* Disp_155507;
TY51525* Cond_155508;
TY51525* Call_155509;
TY51525* Ret_155510;
TY51525* A_155511;
TY51525* Isn_155512;
TY51547* Base_155513;
TY51547* Curr_155514;
TY51547* Ands_155515;
TY51547* Iss_155516;
NI Paramlen_155517;
TY51525* LOC1;
NI Meth_155537;
NI HEX3Atmp_155673;
NI Res_155675;
NI Col_155545;
NI HEX3Atmp_155661;
NI Res_155663;
NIM_BOOL LOC5;
TY51551* LOC8;
TY51525* LOC9;
TY51525* LOC10;
TY51525* LOC11;
TY51551* LOC15;
TY51525* LOC16;
TY51525* LOC17;
NI Col_155588;
NI HEX3Atmp_155667;
NI Res_155669;
TY51525* LOC19;
TY51525* LOC20;
TY51525* LOC24;
Result_155506 = 0;
Disp_155507 = 0;
Cond_155508 = 0;
Call_155509 = 0;
Ret_155510 = 0;
A_155511 = 0;
Isn_155512 = 0;
Base_155513 = 0;
Curr_155514 = 0;
Ands_155515 = 0;
Iss_155516 = 0;
Paramlen_155517 = 0;
LOC1 = 0;
LOC1 = Lastson_51809((*Methods_155504->data[0]).Ast);
Base_155513 = (*LOC1).KindU.S4.Sym;
Result_155506 = Base_155513;
Paramlen_155517 = Sonslen_51806((*Base_155513).Typ);
Disp_155507 = Newnodei_51737(((NU8) 82), (*Base_155513).Info);
Ands_155515 = Getsyssym_98024(((NimStringDesc*) &TMP194775));
Iss_155516 = Getsyssym_98024(((NimStringDesc*) &TMP194776));
Meth_155537 = 0;
HEX3Atmp_155673 = 0;
HEX3Atmp_155673 = (Methods_155504->Sup.len-1);
Res_155675 = 0;
Res_155675 = 0;
while (1) {
if (!(Res_155675 <= HEX3Atmp_155673)) goto LA2;
Meth_155537 = Res_155675;
Curr_155514 = Methods_155504->data[Meth_155537];
Cond_155508 = NIM_NIL;
Col_155545 = 0;
HEX3Atmp_155661 = 0;
HEX3Atmp_155661 = (NI64)(Paramlen_155517 - 1);
Res_155663 = 0;
Res_155663 = 1;
while (1) {
if (!(Res_155663 <= HEX3Atmp_155661)) goto LA3;
Col_155545 = Res_155663;
LOC5 = Intsetcontains_51910(Relevantcols_155505, Col_155545);
if (!LOC5) goto LA6;
LOC8 = 0;
LOC8 = Getsystype_98008(((NU8) 1));
Isn_155512 = Newnodeit_51741(((NU8) 21), (*Base_155513).Info, LOC8);
LOC9 = 0;
LOC9 = Newsymnode_51734(Iss_155516);
Addson_51823(Isn_155512, LOC9);
LOC10 = 0;
LOC10 = Newsymnode_51734((*(*(*(*Base_155513).Typ).N).KindU.S6.Sons->data[Col_155545]).KindU.S4.Sym);
Addson_51823(Isn_155512, LOC10);
LOC11 = 0;
LOC11 = Newnodeit_51741(((NU8) 4), (*Base_155513).Info, (*(*Curr_155514).Typ).Sons->data[Col_155545]);
Addson_51823(Isn_155512, LOC11);
if (!!((Cond_155508 == NIM_NIL))) goto LA13;
LOC15 = 0;
LOC15 = Getsystype_98008(((NU8) 1));
A_155511 = Newnodeit_51741(((NU8) 21), (*Base_155513).Info, LOC15);
LOC16 = 0;
LOC16 = Newsymnode_51734(Ands_155515);
Addson_51823(A_155511, LOC16);
Addson_51823(A_155511, Cond_155508);
Addson_51823(A_155511, Isn_155512);
Cond_155508 = A_155511;
goto LA12;
LA13: ;
Cond_155508 = Isn_155512;
LA12: ;
LA6: ;
Res_155663 += 1;
} LA3: ;
Call_155509 = Newnodei_51737(((NU8) 21), (*Base_155513).Info);
LOC17 = 0;
LOC17 = Newsymnode_51734(Curr_155514);
Addson_51823(Call_155509, LOC17);
Col_155588 = 0;
HEX3Atmp_155667 = 0;
HEX3Atmp_155667 = (NI64)(Paramlen_155517 - 1);
Res_155669 = 0;
Res_155669 = 1;
while (1) {
if (!(Res_155669 <= HEX3Atmp_155667)) goto LA18;
Col_155588 = Res_155669;
LOC19 = 0;
LOC19 = Newsymnode_51734((*(*(*(*Base_155513).Typ).N).KindU.S6.Sons->data[Col_155588]).KindU.S4.Sym);
LOC20 = 0;
LOC20 = Genconv_155014(LOC19, (*(*Curr_155514).Typ).Sons->data[Col_155588], NIM_FALSE);
Addson_51823(Call_155509, LOC20);
Res_155669 += 1;
} LA18: ;
if (!!(((*(*Base_155513).Typ).Sons->data[0] == NIM_NIL))) goto LA22;
A_155511 = Newnodei_51737(((NU8) 63), (*Base_155513).Info);
LOC24 = 0;
LOC24 = Newsymnode_51734((*(*(*Base_155513).Ast).KindU.S6.Sons->data[5]).KindU.S4.Sym);
Addson_51823(A_155511, LOC24);
Addson_51823(A_155511, Call_155509);
Ret_155510 = Newnodei_51737(((NU8) 96), (*Base_155513).Info);
Addson_51823(Ret_155510, A_155511);
goto LA21;
LA22: ;
Ret_155510 = Call_155509;
LA21: ;
A_155511 = Newnodei_51737(((NU8) 76), (*Base_155513).Info);
Addson_51823(A_155511, Cond_155508);
Addson_51823(A_155511, Ret_155510);
Addson_51823(Disp_155507, A_155511);
Res_155675 += 1;
} LA2: ;
asgnRefNoCycle((void**) &(*(*Result_155506).Ast).KindU.S6.Sons->data[4], Disp_155507);
return Result_155506;
}
N_NIMCALL(TY51525*, Generatemethoddispatchers_155010)(void) {
TY51525* Result_155688;
TY51900 Relevantcols_155689;
NI Bucket_155707;
NI HEX3Atmp_155726;
NI Res_155728;
NI Col_155716;
NI HEX3Atmp_155720;
NI LOC2;
NI Res_155722;
NIM_BOOL LOC5;
TY51547* LOC8;
TY51525* LOC9;
Result_155688 = 0;
memset((void*)&Relevantcols_155689, 0, sizeof(Relevantcols_155689));
Result_155688 = Newnode_51710(((NU8) 101));
Bucket_155707 = 0;
HEX3Atmp_155726 = 0;
HEX3Atmp_155726 = (NI64)(Gmethods_155166->Sup.len - 1);
Res_155728 = 0;
Res_155728 = 0;
while (1) {
if (!(Res_155728 <= HEX3Atmp_155726)) goto LA1;
Bucket_155707 = Res_155728;
Intsetinit_51924(&Relevantcols_155689);
Col_155716 = 0;
HEX3Atmp_155720 = 0;
LOC2 = Sonslen_51806((*Gmethods_155166->data[Bucket_155707]->data[0]).Typ);
HEX3Atmp_155720 = (NI64)(LOC2 - 1);
Res_155722 = 0;
Res_155722 = 1;
while (1) {
if (!(Res_155722 <= HEX3Atmp_155720)) goto LA3;
Col_155716 = Res_155722;
LOC5 = Relevantcol_155400(Gmethods_155166->data[Bucket_155707], Col_155716);
if (!LOC5) goto LA6;
Intsetincl_51914(&Relevantcols_155689, Col_155716);
LA6: ;
Res_155722 += 1;
} LA3: ;
Sortbucket_155454(&Gmethods_155166->data[Bucket_155707], &Relevantcols_155689);
LOC8 = 0;
LOC8 = Gendispatcher_155502(Gmethods_155166->data[Bucket_155707], &Relevantcols_155689);
LOC9 = 0;
LOC9 = Newsymnode_51734(LOC8);
Addson_51823(Result_155688, LOC9);
Res_155728 += 1;
} LA1: ;
return Result_155688;
}
N_NOINLINE(void, cgmethInit)(void) {
asgnRefNoCycle((void**) &Gmethods_155166, (TY155165*) newSeq(NTI155165, 0));
}

