/* Generated by Nimrod Compiler v0.8.11 */
/*   (c) 2011 Andreas Rumpf */

typedef long long int NI;
typedef unsigned long long int NU;
#include "nimbase.h"

typedef struct TY156165 TY156165;
typedef struct TY51528 TY51528;
typedef struct TY51548 TY51548;
typedef struct TGenericSeq TGenericSeq;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct TY10802 TY10802;
typedef struct TY10818 TY10818;
typedef struct TY11196 TY11196;
typedef struct TY10814 TY10814;
typedef struct TY10810 TY10810;
typedef struct TY11194 TY11194;
typedef struct TY51552 TY51552;
typedef struct TY50005 TY50005;
typedef struct TNimObject TNimObject;
typedef struct TY50011 TY50011;
typedef struct TY43539 TY43539;
typedef struct TY51530 TY51530;
typedef struct TY51526 TY51526;
typedef struct TY51540 TY51540;
typedef struct TY48008 TY48008;
typedef struct TY51544 TY51544;
typedef struct NimStringDesc NimStringDesc;
typedef struct TY51550 TY51550;
typedef struct TY51520 TY51520;
typedef struct TY51901 TY51901;
typedef struct TY51897 TY51897;
typedef struct TY51899 TY51899;
typedef struct TY39013 TY39013;
struct TGenericSeq {
NI len;
NI space;
};
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct TY10802 {
NI Refcount;
TNimType* Typ;
};
struct TY10818 {
NI Len;
NI Cap;
TY10802** D;
};
struct TY10814 {
NI Counter;
NI Max;
TY10810* Head;
TY10810** Data;
};
struct TY11194 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY11196 {
TY10818 Zct;
TY10818 Decstack;
TY10814 Cycleroots;
TY10818 Tempstack;
TY11194 Stat;
};
struct TNimObject {
TNimType* m_type;
};
struct TY50005 {
  TNimObject Sup;
NI Id;
};
struct TY43539 {
NI16 Line;
NI16 Col;
NI32 Fileindex;
};
struct TY51530 {
TNimType* m_type;
NI Counter;
TY51528* Data;
};
struct TY51540 {
NU8 K;
NU8 S;
NU8 Flags;
TY51552* T;
TY48008* R;
NI A;
};
struct TY51548 {
  TY50005 Sup;
NU8 Kind;
NU8 Magic;
TY51552* Typ;
TY50011* Name;
TY43539 Info;
TY51548* Owner;
NU32 Flags;
TY51530 Tab;
TY51526* Ast;
NU32 Options;
NI Position;
NI Offset;
TY51540 Loc;
TY51544* Annex;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
struct TY50011 {
  TY50005 Sup;
NimStringDesc* S;
TY50011* Next;
NI H;
};
struct TY51552 {
  TY50005 Sup;
NU8 Kind;
TY51550* Sons;
TY51526* N;
NU8 Flags;
NU8 Callconv;
TY51548* Owner;
TY51548* Sym;
NI64 Size;
NI Align;
NI Containerid;
TY51540 Loc;
};
struct TY51526 {
TY51552* Typ;
NimStringDesc* Comment;
TY43539 Info;
NU8 Flags;
NU8 Kind;
union {
struct {NI64 Intval;
} S1;
struct {NF64 Floatval;
} S2;
struct {NimStringDesc* Strval;
} S3;
struct {TY51548* Sym;
} S4;
struct {TY50011* Ident;
} S5;
struct {TY51520* Sons;
} S6;
} KindU;
};
typedef TY51548* TY156290[1];
struct TY51901 {
NI Counter;
NI Max;
TY51897* Head;
TY51899* Data;
};
typedef NI TY8814[8];
struct TY10810 {
TY10810* Next;
NI Key;
TY8814 Bits;
};
struct TY48008 {
  TNimObject Sup;
TY48008* Left;
TY48008* Right;
NI Length;
NimStringDesc* Data;
};
struct TY39013 {
  TNimObject Sup;
TY39013* Prev;
TY39013* Next;
};
struct TY51544 {
  TY39013 Sup;
NU8 Kind;
NIM_BOOL Generated;
TY48008* Name;
TY51526* Path;
};
struct TY51897 {
TY51897* Next;
NI Key;
TY8814 Bits;
};
struct TY51528 {
  TGenericSeq Sup;
  TY51548* data[SEQ_DECL_SIZE];
};
struct TY156165 {
  TGenericSeq Sup;
  TY51528* data[SEQ_DECL_SIZE];
};
struct TY51550 {
  TGenericSeq Sup;
  TY51552* data[SEQ_DECL_SIZE];
};
struct TY51520 {
  TGenericSeq Sup;
  TY51526* data[SEQ_DECL_SIZE];
};
struct TY51899 {
  TGenericSeq Sup;
  TY51897* data[SEQ_DECL_SIZE];
};
N_NIMCALL(void*, newSeq)(TNimType* Typ_14404, NI Len_14405);
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13218, void* Src_13219);
static N_INLINE(TY10802*, Usrtocell_11612)(void* Usr_11614);
static N_INLINE(NI, Atomicinc_3401)(NI* Memloc_3404, NI X_3405);
static N_INLINE(NI, Atomicdec_3406)(NI* Memloc_3409, NI X_3410);
static N_INLINE(void, Rtladdzct_12601)(TY10802* C_12603);
N_NOINLINE(void, Addzct_11601)(TY10818* S_11604, TY10802* C_11605);
N_NIMCALL(NIM_BOOL, Samemethodbucket_156167)(TY51548* A_156169, TY51548* B_156170);
static N_INLINE(NI, Sonslen_51807)(TY51552* N_51809);
N_NIMCALL(NIM_BOOL, Sametypeornil_94052)(TY51552* A_94054, TY51552* B_94055);
N_NIMCALL(TY51552*, Skiptypes_94087)(TY51552* T_94089, NU64 Kinds_94090);
N_NIMCALL(NIM_BOOL, Sametype_94048)(TY51552* X_94050, TY51552* Y_94051);
N_NIMCALL(NI, Inheritancediff_94121)(TY51552* A_94123, TY51552* B_94124);
N_NIMCALL(TGenericSeq*, incrSeq)(TGenericSeq* Seq_18842, NI Elemsize_18843);
static N_INLINE(void, asgnRef)(void** Dest_13214, void* Src_13215);
static N_INLINE(void, Incref_13202)(TY10802* C_13204);
static N_INLINE(NIM_BOOL, Canbecycleroot_11616)(TY10802* C_11618);
static N_INLINE(void, Rtladdcycleroot_12252)(TY10802* C_12254);
N_NOINLINE(void, Incl_11080)(TY10814* S_11083, TY10802* Cell_11084);
static N_INLINE(void, Decref_13001)(TY10802* C_13003);
N_NIMCALL(void, Addson_51824)(TY51526* Father_51826, TY51526* Son_51827);
static N_INLINE(TY51526*, Lastson_51810)(TY51526* N_51812);
static N_INLINE(NI, Sonslen_51804)(TY51526* N_51806);
N_NIMCALL(void, genericSeqAssign)(void* Dest_19652, void* Src_19653, TNimType* Mt_19654);
N_NIMCALL(TY51548*, Copysym_51776)(TY51548* S_51778, NIM_BOOL Keepid_51779);
N_NIMCALL(TY51552*, Copytype_51771)(TY51552* T_51773, TY51548* Owner_51774, NIM_BOOL Keepid_51775);
N_NIMCALL(TY51526*, Copytree_51859)(TY51526* Src_51861);
N_NIMCALL(TY51526*, Newsymnode_51735)(TY51548* Sym_51737);
N_NIMCALL(TY51526*, Genconv_156012)(TY51526* N_156014, TY51552* D_156015, NIM_BOOL Downcast_156016);
N_NIMCALL(void, Internalerror_43574)(TY43539 Info_43576, NimStringDesc* Errmsg_43577);
N_NIMCALL(TY51526*, Newnodeit_51742)(NU8 Kind_51744, TY43539 Info_51745, TY51552* Typ_51746);
N_NIMCALL(TY51526*, Newnode_51711)(NU8 Kind_51713);
N_NIMCALL(void, Intsetinit_51925)(TY51901* S_51928);
N_NIMCALL(NIM_BOOL, Relevantcol_156393)(TY51528* Methods_156395, NI Col_156396);
N_NIMCALL(void, Intsetincl_51915)(TY51901* S_51918, NI Key_51919);
N_NIMCALL(void, Sortbucket_156443)(TY51528** A_156446, TY51901* Relevantcols_156447);
N_NIMCALL(NI, Cmpsignatures_156420)(TY51548* A_156422, TY51548* B_156423, TY51901* Relevantcols_156424);
N_NIMCALL(NIM_BOOL, Intsetcontains_51911)(TY51901* S_51913, NI Key_51914);
N_NIMCALL(TY51548*, Gendispatcher_156486)(TY51528* Methods_156488, TY51901* Relevantcols_156489);
N_NIMCALL(TY51526*, Newnodei_51738)(NU8 Kind_51740, TY43539 Info_51741);
N_NIMCALL(TY51548*, Getsyssym_99024)(NimStringDesc* Name_99026);
N_NIMCALL(TY51552*, Getsystype_99008)(NU8 Kind_99010);
STRING_LITERAL(TMP193225, "cgmeth.genConv", 14);
STRING_LITERAL(TMP193226, "cgmeth.genConv: no upcast allowed", 33);
STRING_LITERAL(TMP193227, "cgmeth.genConv: no downcast allowed", 35);
STRING_LITERAL(TMP193763, "and", 3);
STRING_LITERAL(TMP193764, "is", 2);
TY156165* Gmethods_156166;
extern TNimType* NTI156165; /* seq[TSymSeq] */
extern TY11196 Gch_11214;
extern TNimType* NTI51528; /* TSymSeq */
static N_INLINE(TY10802*, Usrtocell_11612)(void* Usr_11614) {
TY10802* Result_11615;
Result_11615 = 0;
Result_11615 = ((TY10802*) ((NI64)((NU64)(((NI) (Usr_11614))) - (NU64)(((NI) (((NI)sizeof(TY10802))))))));
return Result_11615;
}
static N_INLINE(NI, Atomicinc_3401)(NI* Memloc_3404, NI X_3405) {
NI Result_8007;
Result_8007 = 0;
(*Memloc_3404) += X_3405;
Result_8007 = (*Memloc_3404);
return Result_8007;
}
static N_INLINE(NI, Atomicdec_3406)(NI* Memloc_3409, NI X_3410) {
NI Result_8206;
Result_8206 = 0;
(*Memloc_3409) -= X_3410;
Result_8206 = (*Memloc_3409);
return Result_8206;
}
static N_INLINE(void, Rtladdzct_12601)(TY10802* C_12603) {
Addzct_11601(&Gch_11214.Zct, C_12603);
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13218, void* Src_13219) {
TY10802* C_13220;
NI LOC4;
TY10802* C_13222;
NI LOC9;
if (!!((Src_13219 == NIM_NIL))) goto LA2;
C_13220 = 0;
C_13220 = Usrtocell_11612(Src_13219);
LOC4 = Atomicinc_3401(&(*C_13220).Refcount, 8);
LA2: ;
if (!!(((*Dest_13218) == NIM_NIL))) goto LA6;
C_13222 = 0;
C_13222 = Usrtocell_11612((*Dest_13218));
LOC9 = Atomicdec_3406(&(*C_13222).Refcount, 8);
if (!((NU64)(LOC9) < (NU64)(8))) goto LA10;
Rtladdzct_12601(C_13222);
LA10: ;
LA6: ;
(*Dest_13218) = Src_13219;
}
static N_INLINE(NI, Sonslen_51807)(TY51552* N_51809) {
NI Result_52750;
Result_52750 = 0;
if (!(*N_51809).Sons == 0) goto LA2;
Result_52750 = 0;
goto LA1;
LA2: ;
Result_52750 = (*N_51809).Sons->Sup.len;
LA1: ;
return Result_52750;
}
N_NIMCALL(NIM_BOOL, Samemethodbucket_156167)(TY51548* A_156169, TY51548* B_156170) {
NIM_BOOL Result_156171;
TY51552* Aa_156172;
TY51552* Bb_156173;
NI LOC5;
NI LOC6;
NIM_BOOL LOC10;
NI I_156186;
NI HEX3Atmp_156232;
NI LOC13;
NI Res_156234;
NIM_BOOL LOC17;
NIM_BOOL LOC22;
NIM_BOOL LOC24;
NIM_BOOL LOC25;
NI LOC28;
Result_156171 = 0;
Aa_156172 = 0;
Bb_156173 = 0;
Result_156171 = NIM_FALSE;
if (!!(((*(*A_156169).Name).Sup.Id == (*(*B_156170).Name).Sup.Id))) goto LA2;
goto BeforeRet;
LA2: ;
LOC5 = Sonslen_51807((*A_156169).Typ);
LOC6 = Sonslen_51807((*B_156170).Typ);
if (!!((LOC5 == LOC6))) goto LA7;
goto BeforeRet;
LA7: ;
LOC10 = Sametypeornil_94052((*(*A_156169).Typ).Sons->data[0], (*(*B_156170).Typ).Sons->data[0]);
if (!!(LOC10)) goto LA11;
goto BeforeRet;
LA11: ;
I_156186 = 0;
HEX3Atmp_156232 = 0;
LOC13 = Sonslen_51807((*A_156169).Typ);
HEX3Atmp_156232 = (NI64)(LOC13 - 1);
Res_156234 = 0;
Res_156234 = 1;
while (1) {
if (!(Res_156234 <= HEX3Atmp_156232)) goto LA14;
I_156186 = Res_156234;
Aa_156172 = (*(*A_156169).Typ).Sons->data[I_156186];
Bb_156173 = (*(*B_156170).Typ).Sons->data[I_156186];
while (1) {
Aa_156172 = Skiptypes_94087(Aa_156172, 2048);
Bb_156173 = Skiptypes_94087(Bb_156173, 2048);
LOC17 = ((*Aa_156172).Kind == (*Bb_156173).Kind);
if (!(LOC17)) goto LA18;
LOC17 = ((14680064 &(IL64(1)<<(((*Aa_156172).Kind)&IL64(63))))!=0);
LA18: ;
if (!LOC17) goto LA19;
Aa_156172 = (*Aa_156172).Sons->data[0];
Bb_156173 = (*Bb_156173).Sons->data[0];
goto LA16;
LA19: ;
goto LA15;
LA16: ;
} LA15: ;
LOC22 = Sametype_94048(Aa_156172, Bb_156173);
if (LOC22) goto LA23;
LOC25 = ((*Aa_156172).Kind == ((NU8) 17));
if (!(LOC25)) goto LA26;
LOC25 = ((*Bb_156173).Kind == ((NU8) 17));
LA26: ;
LOC24 = LOC25;
if (!(LOC24)) goto LA27;
LOC28 = Inheritancediff_94121(Bb_156173, Aa_156172);
LOC24 = (LOC28 < 0);
LA27: ;
LOC22 = LOC24;
LA23: ;
if (!LOC22) goto LA29;
goto LA21;
LA29: ;
goto BeforeRet;
LA21: ;
Res_156234 += 1;
} LA14: ;
Result_156171 = NIM_TRUE;
BeforeRet: ;
return Result_156171;
}
static N_INLINE(NIM_BOOL, Canbecycleroot_11616)(TY10802* C_11618) {
NIM_BOOL Result_11619;
Result_11619 = 0;
Result_11619 = !((((*(*C_11618).Typ).flags &(1<<((((NU8) 1))&7)))!=0));
return Result_11619;
}
static N_INLINE(void, Rtladdcycleroot_12252)(TY10802* C_12254) {
Incl_11080(&Gch_11214.Cycleroots, C_12254);
}
static N_INLINE(void, Incref_13202)(TY10802* C_13204) {
NI LOC1;
NIM_BOOL LOC3;
LOC1 = Atomicinc_3401(&(*C_13204).Refcount, 8);
LOC3 = Canbecycleroot_11616(C_13204);
if (!LOC3) goto LA4;
Rtladdcycleroot_12252(C_13204);
LA4: ;
}
static N_INLINE(void, Decref_13001)(TY10802* C_13003) {
NI LOC2;
NIM_BOOL LOC5;
LOC2 = Atomicdec_3406(&(*C_13003).Refcount, 8);
if (!((NU64)(LOC2) < (NU64)(8))) goto LA3;
Rtladdzct_12601(C_13003);
goto LA1;
LA3: ;
LOC5 = Canbecycleroot_11616(C_13003);
if (!LOC5) goto LA6;
Rtladdcycleroot_12252(C_13003);
goto LA1;
LA6: ;
LA1: ;
}
static N_INLINE(void, asgnRef)(void** Dest_13214, void* Src_13215) {
TY10802* LOC4;
TY10802* LOC8;
if (!!((Src_13215 == NIM_NIL))) goto LA2;
LOC4 = Usrtocell_11612(Src_13215);
Incref_13202(LOC4);
LA2: ;
if (!!(((*Dest_13214) == NIM_NIL))) goto LA6;
LOC8 = Usrtocell_11612((*Dest_13214));
Decref_13001(LOC8);
LA6: ;
(*Dest_13214) = Src_13215;
}
static N_INLINE(NI, Sonslen_51804)(TY51526* N_51806) {
NI Result_52886;
Result_52886 = 0;
if (!(*N_51806).KindU.S6.Sons == 0) goto LA2;
Result_52886 = 0;
goto LA1;
LA2: ;
Result_52886 = (*N_51806).KindU.S6.Sons->Sup.len;
LA1: ;
return Result_52886;
}
static N_INLINE(TY51526*, Lastson_51810)(TY51526* N_51812) {
TY51526* Result_53825;
NI LOC1;
Result_53825 = 0;
LOC1 = Sonslen_51804(N_51812);
Result_53825 = (*N_51812).KindU.S6.Sons->data[(NI64)(LOC1 - 1)];
return Result_53825;
}
N_NIMCALL(void, Methoddef_156004)(TY51548* S_156006) {
NI L_156238;
NI Q_156239;
TY51548* Disp_156240;
NI I_156259;
NI HEX3Atmp_156390;
NI Res_156392;
NIM_BOOL LOC3;
TY51526* LOC6;
TY51528* LOC7;
TY156290 LOC8;
TY51526* LOC15;
L_156238 = 0;
Q_156239 = 0;
Disp_156240 = 0;
L_156238 = Gmethods_156166->Sup.len;
I_156259 = 0;
HEX3Atmp_156390 = 0;
HEX3Atmp_156390 = (NI64)(L_156238 - 1);
Res_156392 = 0;
Res_156392 = 0;
while (1) {
if (!(Res_156392 <= HEX3Atmp_156390)) goto LA1;
I_156259 = Res_156392;
LOC3 = Samemethodbucket_156167(Gmethods_156166->data[I_156259]->data[0], S_156006);
if (!LOC3) goto LA4;
Gmethods_156166->data[I_156259] = (TY51528*) incrSeq(&(Gmethods_156166->data[I_156259])->Sup, sizeof(TY51548*));
asgnRef((void**) &Gmethods_156166->data[I_156259]->data[Gmethods_156166->data[I_156259]->Sup.len-1], S_156006);
LOC6 = 0;
LOC6 = Lastson_51810((*Gmethods_156166->data[I_156259]->data[0]).Ast);
Addson_51824((*S_156006).Ast, LOC6);
goto BeforeRet;
LA4: ;
Res_156392 += 1;
} LA1: ;
LOC7 = 0;
LOC7 = (TY51528*) newSeq(NTI51528, 1);
memset((void*)&LOC8, 0, sizeof(LOC8));
LOC8[0] = S_156006;
asgnRef((void**) &LOC7->data[0], LOC8[0]);
Gmethods_156166 = (TY156165*) incrSeq(&(Gmethods_156166)->Sup, sizeof(TY51528*));
genericSeqAssign(&Gmethods_156166->data[Gmethods_156166->Sup.len-1], LOC7, NTI51528);
Disp_156240 = Copysym_51776(S_156006, NIM_FALSE);
asgnRef((void**) &(*Disp_156240).Typ, Copytype_51771((*Disp_156240).Typ, (*(*Disp_156240).Typ).Owner, NIM_FALSE));
if (!((*(*Disp_156240).Typ).Callconv == ((NU8) 5))) goto LA10;
(*(*Disp_156240).Typ).Callconv = ((NU8) 0);
LA10: ;
asgnRefNoCycle((void**) &(*Disp_156240).Ast, Copytree_51859((*S_156006).Ast));
asgnRefNoCycle((void**) &(*(*Disp_156240).Ast).KindU.S6.Sons->data[4], NIM_NIL);
if (!!(((*(*S_156006).Typ).Sons->data[0] == NIM_NIL))) goto LA13;
asgnRef((void**) &(*(*(*Disp_156240).Ast).KindU.S6.Sons->data[5]).KindU.S4.Sym, Copysym_51776((*(*(*S_156006).Ast).KindU.S6.Sons->data[5]).KindU.S4.Sym, NIM_FALSE));
LA13: ;
LOC15 = 0;
LOC15 = Newsymnode_51735(Disp_156240);
Addson_51824((*S_156006).Ast, LOC15);
BeforeRet: ;
}
N_NIMCALL(TY51526*, Genconv_156012)(TY51526* N_156014, TY51552* D_156015, NIM_BOOL Downcast_156016) {
TY51526* Result_156017;
TY51552* Dest_156018;
TY51552* Source_156019;
NI Diff_156020;
NIM_BOOL LOC2;
Result_156017 = 0;
Dest_156018 = 0;
Source_156019 = 0;
Diff_156020 = 0;
Dest_156018 = Skiptypes_94087(D_156015, 14723072);
Source_156019 = Skiptypes_94087((*N_156014).Typ, 14723072);
LOC2 = ((*Source_156019).Kind == ((NU8) 17));
if (!(LOC2)) goto LA3;
LOC2 = ((*Dest_156018).Kind == ((NU8) 17));
LA3: ;
if (!LOC2) goto LA4;
Diff_156020 = Inheritancediff_94121(Dest_156018, Source_156019);
if (!(Diff_156020 == IL64(9223372036854775807))) goto LA7;
Internalerror_43574((*N_156014).Info, ((NimStringDesc*) &TMP193225));
LA7: ;
if (!(Diff_156020 < 0)) goto LA10;
Result_156017 = Newnodeit_51742(((NU8) 56), (*N_156014).Info, D_156015);
Addson_51824(Result_156017, N_156014);
if (!Downcast_156016) goto LA13;
Internalerror_43574((*N_156014).Info, ((NimStringDesc*) &TMP193226));
LA13: ;
goto LA9;
LA10: ;
if (!(0 < Diff_156020)) goto LA15;
Result_156017 = Newnodeit_51742(((NU8) 55), (*N_156014).Info, D_156015);
Addson_51824(Result_156017, N_156014);
if (!!(Downcast_156016)) goto LA18;
Internalerror_43574((*N_156014).Info, ((NimStringDesc*) &TMP193227));
LA18: ;
goto LA9;
LA15: ;
Result_156017 = N_156014;
LA9: ;
goto LA1;
LA4: ;
Result_156017 = N_156014;
LA1: ;
return Result_156017;
}
N_NIMCALL(TY51526*, Methodcall_156007)(TY51526* N_156009) {
TY51526* Result_156052;
TY51548* Disp_156053;
TY51526* LOC1;
NI I_156137;
NI HEX3Atmp_156162;
NI LOC2;
NI Res_156164;
Result_156052 = 0;
Disp_156053 = 0;
Result_156052 = N_156009;
LOC1 = 0;
LOC1 = Lastson_51810((*(*(*Result_156052).KindU.S6.Sons->data[0]).KindU.S4.Sym).Ast);
Disp_156053 = (*LOC1).KindU.S4.Sym;
asgnRef((void**) &(*(*Result_156052).KindU.S6.Sons->data[0]).KindU.S4.Sym, Disp_156053);
I_156137 = 0;
HEX3Atmp_156162 = 0;
LOC2 = Sonslen_51804(Result_156052);
HEX3Atmp_156162 = (NI64)(LOC2 - 1);
Res_156164 = 0;
Res_156164 = 1;
while (1) {
if (!(Res_156164 <= HEX3Atmp_156162)) goto LA3;
I_156137 = Res_156164;
asgnRefNoCycle((void**) &(*Result_156052).KindU.S6.Sons->data[I_156137], Genconv_156012((*Result_156052).KindU.S6.Sons->data[I_156137], (*(*Disp_156053).Typ).Sons->data[I_156137], NIM_TRUE));
Res_156164 += 1;
} LA3: ;
return Result_156052;
}
N_NIMCALL(NIM_BOOL, Relevantcol_156393)(TY51528* Methods_156395, NI Col_156396) {
NIM_BOOL Result_156397;
TY51552* T_156398;
TY51552* LOC2;
NI I_156416;
NI HEX3Atmp_156417;
NI Res_156419;
NIM_BOOL LOC7;
Result_156397 = 0;
T_156398 = 0;
T_156398 = (*(*Methods_156395->data[0]).Typ).Sons->data[Col_156396];
Result_156397 = NIM_FALSE;
LOC2 = 0;
LOC2 = Skiptypes_94087(T_156398, 14682112);
if (!((*LOC2).Kind == ((NU8) 17))) goto LA3;
I_156416 = 0;
HEX3Atmp_156417 = 0;
HEX3Atmp_156417 = (Methods_156395->Sup.len-1);
Res_156419 = 0;
Res_156419 = 1;
while (1) {
if (!(Res_156419 <= HEX3Atmp_156417)) goto LA5;
I_156416 = Res_156419;
LOC7 = Sametype_94048((*(*Methods_156395->data[I_156416]).Typ).Sons->data[Col_156396], T_156398);
if (!!(LOC7)) goto LA8;
Result_156397 = NIM_TRUE;
goto BeforeRet;
LA8: ;
Res_156419 += 1;
} LA5: ;
LA3: ;
BeforeRet: ;
return Result_156397;
}
N_NIMCALL(NI, Cmpsignatures_156420)(TY51548* A_156422, TY51548* B_156423, TY51901* Relevantcols_156424) {
NI Result_156425;
NI D_156426;
TY51552* Aa_156427;
TY51552* Bb_156428;
NI Col_156437;
NI HEX3Atmp_156440;
NI LOC1;
NI Res_156442;
NIM_BOOL LOC4;
Result_156425 = 0;
D_156426 = 0;
Aa_156427 = 0;
Bb_156428 = 0;
Result_156425 = 0;
Col_156437 = 0;
HEX3Atmp_156440 = 0;
LOC1 = Sonslen_51807((*A_156422).Typ);
HEX3Atmp_156440 = (NI64)(LOC1 - 1);
Res_156442 = 0;
Res_156442 = 1;
while (1) {
if (!(Res_156442 <= HEX3Atmp_156440)) goto LA2;
Col_156437 = Res_156442;
LOC4 = Intsetcontains_51911(Relevantcols_156424, Col_156437);
if (!LOC4) goto LA5;
Aa_156427 = Skiptypes_94087((*(*A_156422).Typ).Sons->data[Col_156437], 14682112);
Bb_156428 = Skiptypes_94087((*(*B_156423).Typ).Sons->data[Col_156437], 14682112);
D_156426 = Inheritancediff_94121(Aa_156427, Bb_156428);
if (!!((D_156426 == IL64(9223372036854775807)))) goto LA8;
Result_156425 = D_156426;
goto BeforeRet;
LA8: ;
LA5: ;
Res_156442 += 1;
} LA2: ;
BeforeRet: ;
return Result_156425;
}
N_NIMCALL(void, Sortbucket_156443)(TY51528** A_156446, TY51901* Relevantcols_156447) {
NI N_156448;
NI J_156449;
NI H_156450;
TY51548* V_156451;
NI I_156474;
NI HEX3Atmp_156483;
NI Res_156485;
NI LOC8;
N_156448 = 0;
J_156449 = 0;
H_156450 = 0;
V_156451 = 0;
N_156448 = (*A_156446)->Sup.len;
H_156450 = 1;
while (1) {
H_156450 = (NI64)((NI64)(3 * H_156450) + 1);
if (!(N_156448 < H_156450)) goto LA3;
goto LA1;
LA3: ;
} LA1: ;
while (1) {
H_156450 = (NI64)(H_156450 / 3);
I_156474 = 0;
HEX3Atmp_156483 = 0;
HEX3Atmp_156483 = (NI64)(N_156448 - 1);
Res_156485 = 0;
Res_156485 = H_156450;
while (1) {
if (!(Res_156485 <= HEX3Atmp_156483)) goto LA6;
I_156474 = Res_156485;
V_156451 = (*A_156446)->data[I_156474];
J_156449 = I_156474;
while (1) {
LOC8 = Cmpsignatures_156420((*A_156446)->data[(NI64)(J_156449 - H_156450)], V_156451, Relevantcols_156447);
if (!(0 <= LOC8)) goto LA7;
asgnRef((void**) &(*A_156446)->data[J_156449], (*A_156446)->data[(NI64)(J_156449 - H_156450)]);
J_156449 = (NI64)(J_156449 - H_156450);
if (!(J_156449 < H_156450)) goto LA10;
goto LA7;
LA10: ;
} LA7: ;
asgnRef((void**) &(*A_156446)->data[J_156449], V_156451);
Res_156485 += 1;
} LA6: ;
if (!(H_156450 == 1)) goto LA13;
goto LA5;
LA13: ;
} LA5: ;
}
N_NIMCALL(TY51548*, Gendispatcher_156486)(TY51528* Methods_156488, TY51901* Relevantcols_156489) {
TY51548* Result_156490;
TY51526* Disp_156491;
TY51526* Cond_156492;
TY51526* Call_156493;
TY51526* Ret_156494;
TY51526* A_156495;
TY51526* Isn_156496;
TY51548* Base_156497;
TY51548* Curr_156498;
TY51548* Ands_156499;
TY51548* Iss_156500;
NI Paramlen_156501;
TY51526* LOC1;
NI Meth_156522;
NI HEX3Atmp_156653;
NI Res_156655;
NI Col_156531;
NI HEX3Atmp_156647;
NI Res_156649;
NIM_BOOL LOC5;
TY51552* LOC8;
TY51526* LOC9;
TY51526* LOC10;
TY51526* LOC11;
TY51552* LOC15;
TY51526* LOC16;
TY51526* LOC17;
NI Col_156575;
NI HEX3Atmp_156650;
NI Res_156652;
TY51526* LOC19;
TY51526* LOC20;
TY51526* LOC24;
Result_156490 = 0;
Disp_156491 = 0;
Cond_156492 = 0;
Call_156493 = 0;
Ret_156494 = 0;
A_156495 = 0;
Isn_156496 = 0;
Base_156497 = 0;
Curr_156498 = 0;
Ands_156499 = 0;
Iss_156500 = 0;
Paramlen_156501 = 0;
LOC1 = 0;
LOC1 = Lastson_51810((*Methods_156488->data[0]).Ast);
Base_156497 = (*LOC1).KindU.S4.Sym;
Result_156490 = Base_156497;
Paramlen_156501 = Sonslen_51807((*Base_156497).Typ);
Disp_156491 = Newnodei_51738(((NU8) 82), (*Base_156497).Info);
Ands_156499 = Getsyssym_99024(((NimStringDesc*) &TMP193763));
Iss_156500 = Getsyssym_99024(((NimStringDesc*) &TMP193764));
Meth_156522 = 0;
HEX3Atmp_156653 = 0;
HEX3Atmp_156653 = (Methods_156488->Sup.len-1);
Res_156655 = 0;
Res_156655 = 0;
while (1) {
if (!(Res_156655 <= HEX3Atmp_156653)) goto LA2;
Meth_156522 = Res_156655;
Curr_156498 = Methods_156488->data[Meth_156522];
Cond_156492 = NIM_NIL;
Col_156531 = 0;
HEX3Atmp_156647 = 0;
HEX3Atmp_156647 = (NI64)(Paramlen_156501 - 1);
Res_156649 = 0;
Res_156649 = 1;
while (1) {
if (!(Res_156649 <= HEX3Atmp_156647)) goto LA3;
Col_156531 = Res_156649;
LOC5 = Intsetcontains_51911(Relevantcols_156489, Col_156531);
if (!LOC5) goto LA6;
LOC8 = 0;
LOC8 = Getsystype_99008(((NU8) 1));
Isn_156496 = Newnodeit_51742(((NU8) 21), (*Base_156497).Info, LOC8);
LOC9 = 0;
LOC9 = Newsymnode_51735(Iss_156500);
Addson_51824(Isn_156496, LOC9);
LOC10 = 0;
LOC10 = Newsymnode_51735((*(*(*(*Base_156497).Typ).N).KindU.S6.Sons->data[Col_156531]).KindU.S4.Sym);
Addson_51824(Isn_156496, LOC10);
LOC11 = 0;
LOC11 = Newnodeit_51742(((NU8) 4), (*Base_156497).Info, (*(*Curr_156498).Typ).Sons->data[Col_156531]);
Addson_51824(Isn_156496, LOC11);
if (!!((Cond_156492 == NIM_NIL))) goto LA13;
LOC15 = 0;
LOC15 = Getsystype_99008(((NU8) 1));
A_156495 = Newnodeit_51742(((NU8) 21), (*Base_156497).Info, LOC15);
LOC16 = 0;
LOC16 = Newsymnode_51735(Ands_156499);
Addson_51824(A_156495, LOC16);
Addson_51824(A_156495, Cond_156492);
Addson_51824(A_156495, Isn_156496);
Cond_156492 = A_156495;
goto LA12;
LA13: ;
Cond_156492 = Isn_156496;
LA12: ;
LA6: ;
Res_156649 += 1;
} LA3: ;
Call_156493 = Newnodei_51738(((NU8) 21), (*Base_156497).Info);
LOC17 = 0;
LOC17 = Newsymnode_51735(Curr_156498);
Addson_51824(Call_156493, LOC17);
Col_156575 = 0;
HEX3Atmp_156650 = 0;
HEX3Atmp_156650 = (NI64)(Paramlen_156501 - 1);
Res_156652 = 0;
Res_156652 = 1;
while (1) {
if (!(Res_156652 <= HEX3Atmp_156650)) goto LA18;
Col_156575 = Res_156652;
LOC19 = 0;
LOC19 = Newsymnode_51735((*(*(*(*Base_156497).Typ).N).KindU.S6.Sons->data[Col_156575]).KindU.S4.Sym);
LOC20 = 0;
LOC20 = Genconv_156012(LOC19, (*(*Curr_156498).Typ).Sons->data[Col_156575], NIM_FALSE);
Addson_51824(Call_156493, LOC20);
Res_156652 += 1;
} LA18: ;
if (!!(((*(*Base_156497).Typ).Sons->data[0] == NIM_NIL))) goto LA22;
A_156495 = Newnodei_51738(((NU8) 63), (*Base_156497).Info);
LOC24 = 0;
LOC24 = Newsymnode_51735((*(*(*Base_156497).Ast).KindU.S6.Sons->data[5]).KindU.S4.Sym);
Addson_51824(A_156495, LOC24);
Addson_51824(A_156495, Call_156493);
Ret_156494 = Newnodei_51738(((NU8) 96), (*Base_156497).Info);
Addson_51824(Ret_156494, A_156495);
goto LA21;
LA22: ;
Ret_156494 = Call_156493;
LA21: ;
A_156495 = Newnodei_51738(((NU8) 76), (*Base_156497).Info);
Addson_51824(A_156495, Cond_156492);
Addson_51824(A_156495, Ret_156494);
Addson_51824(Disp_156491, A_156495);
Res_156655 += 1;
} LA2: ;
asgnRefNoCycle((void**) &(*(*Result_156490).Ast).KindU.S6.Sons->data[4], Disp_156491);
return Result_156490;
}
N_NIMCALL(TY51526*, Generatemethoddispatchers_156010)(void) {
TY51526* Result_156658;
TY51901 Relevantcols_156659;
NI Bucket_156678;
NI HEX3Atmp_156694;
NI Res_156696;
NI Col_156688;
NI HEX3Atmp_156691;
NI LOC2;
NI Res_156693;
NIM_BOOL LOC5;
TY51548* LOC8;
TY51526* LOC9;
Result_156658 = 0;
memset((void*)&Relevantcols_156659, 0, sizeof(Relevantcols_156659));
Result_156658 = Newnode_51711(((NU8) 101));
Bucket_156678 = 0;
HEX3Atmp_156694 = 0;
HEX3Atmp_156694 = (NI64)(Gmethods_156166->Sup.len - 1);
Res_156696 = 0;
Res_156696 = 0;
while (1) {
if (!(Res_156696 <= HEX3Atmp_156694)) goto LA1;
Bucket_156678 = Res_156696;
Intsetinit_51925(&Relevantcols_156659);
Col_156688 = 0;
HEX3Atmp_156691 = 0;
LOC2 = Sonslen_51807((*Gmethods_156166->data[Bucket_156678]->data[0]).Typ);
HEX3Atmp_156691 = (NI64)(LOC2 - 1);
Res_156693 = 0;
Res_156693 = 1;
while (1) {
if (!(Res_156693 <= HEX3Atmp_156691)) goto LA3;
Col_156688 = Res_156693;
LOC5 = Relevantcol_156393(Gmethods_156166->data[Bucket_156678], Col_156688);
if (!LOC5) goto LA6;
Intsetincl_51915(&Relevantcols_156659, Col_156688);
LA6: ;
Res_156693 += 1;
} LA3: ;
Sortbucket_156443(&Gmethods_156166->data[Bucket_156678], &Relevantcols_156659);
LOC8 = 0;
LOC8 = Gendispatcher_156486(Gmethods_156166->data[Bucket_156678], &Relevantcols_156659);
LOC9 = 0;
LOC9 = Newsymnode_51735(LOC8);
Addson_51824(Result_156658, LOC9);
Res_156696 += 1;
} LA1: ;
return Result_156658;
}
N_NOINLINE(void, cgmethInit)(void) {
asgnRefNoCycle((void**) &Gmethods_156166, (TY156165*) newSeq(NTI156165, 0));
}

