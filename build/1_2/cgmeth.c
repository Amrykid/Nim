/* Generated by Nimrod Compiler v0.8.11 */
/*   (c) 2011 Andreas Rumpf */

typedef long long int NI;
typedef unsigned long long int NU;
#include "nimbase.h"

typedef struct TY156157 TY156157;
typedef struct TY50528 TY50528;
typedef struct TY50548 TY50548;
typedef struct TGenericSeq TGenericSeq;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct TY10602 TY10602;
typedef struct TY10618 TY10618;
typedef struct TY10996 TY10996;
typedef struct TY10614 TY10614;
typedef struct TY10610 TY10610;
typedef struct TY10994 TY10994;
typedef struct TY50552 TY50552;
typedef struct TY49005 TY49005;
typedef struct TNimObject TNimObject;
typedef struct TY49011 TY49011;
typedef struct TY42538 TY42538;
typedef struct TY50530 TY50530;
typedef struct TY50526 TY50526;
typedef struct TY50540 TY50540;
typedef struct TY47008 TY47008;
typedef struct TY50544 TY50544;
typedef struct NimStringDesc NimStringDesc;
typedef struct TY50550 TY50550;
typedef struct TY50520 TY50520;
typedef struct TY50895 TY50895;
typedef struct TY50891 TY50891;
typedef struct TY50893 TY50893;
typedef struct TY38013 TY38013;
struct TGenericSeq {
NI len;
NI space;
};
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct TY10602 {
NI Refcount;
TNimType* Typ;
};
struct TY10618 {
NI Len;
NI Cap;
TY10602** D;
};
struct TY10614 {
NI Counter;
NI Max;
TY10610* Head;
TY10610** Data;
};
struct TY10994 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY10996 {
TY10618 Zct;
TY10618 Decstack;
TY10614 Cycleroots;
TY10618 Tempstack;
TY10994 Stat;
};
struct TNimObject {
TNimType* m_type;
};
struct TY49005 {
  TNimObject Sup;
NI Id;
};
struct TY42538 {
NI16 Line;
NI16 Col;
NI32 Fileindex;
};
struct TY50530 {
TNimType* m_type;
NI Counter;
TY50528* Data;
};
struct TY50540 {
NU8 K;
NU8 S;
NU8 Flags;
TY50552* T;
TY47008* R;
NI A;
};
struct TY50548 {
  TY49005 Sup;
NU8 Kind;
NU8 Magic;
TY50552* Typ;
TY49011* Name;
TY42538 Info;
TY50548* Owner;
NU32 Flags;
TY50530 Tab;
TY50526* Ast;
NU32 Options;
NI Position;
NI Offset;
TY50540 Loc;
TY50544* Annex;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
struct TY49011 {
  TY49005 Sup;
NimStringDesc* S;
TY49011* Next;
NI H;
};
struct TY50552 {
  TY49005 Sup;
NU8 Kind;
TY50550* Sons;
TY50526* N;
NU8 Flags;
NU8 Callconv;
TY50548* Owner;
TY50548* Sym;
NI64 Size;
NI Align;
NI Containerid;
TY50540 Loc;
};
struct TY50526 {
TY50552* Typ;
NimStringDesc* Comment;
TY42538 Info;
NU8 Flags;
NU8 Kind;
union {
struct {NI64 Intval;
} S1;
struct {NF64 Floatval;
} S2;
struct {NimStringDesc* Strval;
} S3;
struct {TY50548* Sym;
} S4;
struct {TY49011* Ident;
} S5;
struct {TY50520* Sons;
} S6;
} KindU;
};
typedef TY50548* TY156282[1];
struct TY50895 {
NI Counter;
NI Max;
TY50891* Head;
TY50893* Data;
};
typedef NI TY8614[8];
struct TY10610 {
TY10610* Next;
NI Key;
TY8614 Bits;
};
struct TY47008 {
  TNimObject Sup;
TY47008* Left;
TY47008* Right;
NI Length;
NimStringDesc* Data;
};
struct TY38013 {
  TNimObject Sup;
TY38013* Prev;
TY38013* Next;
};
struct TY50544 {
  TY38013 Sup;
NU8 Kind;
NIM_BOOL Generated;
TY47008* Name;
TY50526* Path;
};
struct TY50891 {
TY50891* Next;
NI Key;
TY8614 Bits;
};
struct TY50528 {
  TGenericSeq Sup;
  TY50548* data[SEQ_DECL_SIZE];
};
struct TY156157 {
  TGenericSeq Sup;
  TY50528* data[SEQ_DECL_SIZE];
};
struct TY50550 {
  TGenericSeq Sup;
  TY50552* data[SEQ_DECL_SIZE];
};
struct TY50520 {
  TGenericSeq Sup;
  TY50526* data[SEQ_DECL_SIZE];
};
struct TY50893 {
  TGenericSeq Sup;
  TY50891* data[SEQ_DECL_SIZE];
};
N_NIMCALL(void*, newSeq)(TNimType* Typ_14204, NI Len_14205);
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13018, void* Src_13019);
static N_INLINE(TY10602*, Usrtocell_11412)(void* Usr_11414);
static N_INLINE(NI, Atomicinc_3221)(NI* Memloc_3224, NI X_3225);
static N_INLINE(NI, Atomicdec_3226)(NI* Memloc_3229, NI X_3230);
static N_INLINE(void, Rtladdzct_12401)(TY10602* C_12403);
N_NOINLINE(void, Addzct_11401)(TY10618* S_11404, TY10602* C_11405);
N_NIMCALL(NIM_BOOL, Samemethodbucket_156159)(TY50548* A_156161, TY50548* B_156162);
static N_INLINE(NI, Sonslen_50807)(TY50552* N_50809);
N_NIMCALL(NIM_BOOL, Sametypeornil_93052)(TY50552* A_93054, TY50552* B_93055);
N_NIMCALL(TY50552*, Skiptypes_93087)(TY50552* T_93089, NU64 Kinds_93090);
N_NIMCALL(NIM_BOOL, Sametype_93048)(TY50552* X_93050, TY50552* Y_93051);
N_NIMCALL(NI, Inheritancediff_93121)(TY50552* A_93123, TY50552* B_93124);
N_NIMCALL(TGenericSeq*, incrSeq)(TGenericSeq* Seq_18642, NI Elemsize_18643);
static N_INLINE(void, asgnRef)(void** Dest_13014, void* Src_13015);
static N_INLINE(void, Incref_13002)(TY10602* C_13004);
static N_INLINE(NIM_BOOL, Canbecycleroot_11416)(TY10602* C_11418);
static N_INLINE(void, Rtladdcycleroot_12052)(TY10602* C_12054);
N_NOINLINE(void, Incl_10880)(TY10614* S_10883, TY10602* Cell_10884);
static N_INLINE(void, Decref_12801)(TY10602* C_12803);
N_NIMCALL(void, Addson_50824)(TY50526* Father_50826, TY50526* Son_50827);
static N_INLINE(TY50526*, Lastson_50810)(TY50526* N_50812);
static N_INLINE(NI, Sonslen_50804)(TY50526* N_50806);
N_NIMCALL(void, genericSeqAssign)(void* Dest_19452, void* Src_19453, TNimType* Mt_19454);
N_NIMCALL(TY50548*, Copysym_50776)(TY50548* S_50778, NIM_BOOL Keepid_50779);
N_NIMCALL(TY50552*, Copytype_50771)(TY50552* T_50773, TY50548* Owner_50774, NIM_BOOL Keepid_50775);
N_NIMCALL(TY50526*, Copytree_50852)(TY50526* Src_50854);
N_NIMCALL(TY50526*, Newsymnode_50735)(TY50548* Sym_50737);
N_NIMCALL(TY50526*, Genconv_156004)(TY50526* N_156006, TY50552* D_156007, NIM_BOOL Downcast_156008);
N_NIMCALL(void, Internalerror_43159)(TY42538 Info_43161, NimStringDesc* Errmsg_43162);
N_NIMCALL(TY50526*, Newnodeit_50742)(NU8 Kind_50744, TY42538 Info_50745, TY50552* Typ_50746);
N_NIMCALL(TY50526*, Newnode_50711)(NU8 Kind_50713);
N_NIMCALL(void, Intsetinit_50919)(TY50895* S_50922);
N_NIMCALL(NIM_BOOL, Relevantcol_156385)(TY50528* Methods_156387, NI Col_156388);
N_NIMCALL(void, Intsetincl_50909)(TY50895* S_50912, NI Key_50913);
N_NIMCALL(void, Sortbucket_156435)(TY50528** A_156438, TY50895* Relevantcols_156439);
N_NIMCALL(NI, Cmpsignatures_156412)(TY50548* A_156414, TY50548* B_156415, TY50895* Relevantcols_156416);
N_NIMCALL(NIM_BOOL, Intsetcontains_50905)(TY50895* S_50907, NI Key_50908);
N_NIMCALL(TY50548*, Gendispatcher_156478)(TY50528* Methods_156480, TY50895* Relevantcols_156481);
N_NIMCALL(TY50526*, Newnodei_50738)(NU8 Kind_50740, TY42538 Info_50741);
N_NIMCALL(TY50548*, Getsyssym_98024)(NimStringDesc* Name_98026);
N_NIMCALL(TY50552*, Getsystype_98008)(NU8 Kind_98010);
STRING_LITERAL(TMP192231, "cgmeth.genConv", 14);
STRING_LITERAL(TMP192232, "cgmeth.genConv: no upcast allowed", 33);
STRING_LITERAL(TMP192233, "cgmeth.genConv: no downcast allowed", 35);
STRING_LITERAL(TMP192768, "and", 3);
STRING_LITERAL(TMP192769, "is", 2);
TY156157* Gmethods_156158;
extern TNimType* NTI156157; /* seq[TSymSeq] */
extern TY10996 Gch_11014;
extern TNimType* NTI50528; /* TSymSeq */
extern TY50526* Emptynode_50858;
static N_INLINE(TY10602*, Usrtocell_11412)(void* Usr_11414) {
TY10602* Result_11415;
Result_11415 = 0;
Result_11415 = ((TY10602*) ((NI64)((NU64)(((NI) (Usr_11414))) - (NU64)(((NI) (((NI)sizeof(TY10602))))))));
return Result_11415;
}
static N_INLINE(NI, Atomicinc_3221)(NI* Memloc_3224, NI X_3225) {
NI Result_7807;
Result_7807 = 0;
(*Memloc_3224) += X_3225;
Result_7807 = (*Memloc_3224);
return Result_7807;
}
static N_INLINE(NI, Atomicdec_3226)(NI* Memloc_3229, NI X_3230) {
NI Result_8006;
Result_8006 = 0;
(*Memloc_3229) -= X_3230;
Result_8006 = (*Memloc_3229);
return Result_8006;
}
static N_INLINE(void, Rtladdzct_12401)(TY10602* C_12403) {
Addzct_11401(&Gch_11014.Zct, C_12403);
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13018, void* Src_13019) {
TY10602* C_13020;
NI LOC4;
TY10602* C_13022;
NI LOC9;
if (!!((Src_13019 == NIM_NIL))) goto LA2;
C_13020 = 0;
C_13020 = Usrtocell_11412(Src_13019);
LOC4 = Atomicinc_3221(&(*C_13020).Refcount, 8);
LA2: ;
if (!!(((*Dest_13018) == NIM_NIL))) goto LA6;
C_13022 = 0;
C_13022 = Usrtocell_11412((*Dest_13018));
LOC9 = Atomicdec_3226(&(*C_13022).Refcount, 8);
if (!((NU64)(LOC9) < (NU64)(8))) goto LA10;
Rtladdzct_12401(C_13022);
LA10: ;
LA6: ;
(*Dest_13018) = Src_13019;
}
static N_INLINE(NI, Sonslen_50807)(TY50552* N_50809) {
NI Result_51744;
Result_51744 = 0;
if (!(*N_50809).Sons == 0) goto LA2;
Result_51744 = 0;
goto LA1;
LA2: ;
Result_51744 = (*N_50809).Sons->Sup.len;
LA1: ;
return Result_51744;
}
N_NIMCALL(NIM_BOOL, Samemethodbucket_156159)(TY50548* A_156161, TY50548* B_156162) {
NIM_BOOL Result_156163;
TY50552* Aa_156164;
TY50552* Bb_156165;
NI LOC5;
NI LOC6;
NIM_BOOL LOC10;
NI I_156178;
NI HEX3Atmp_156224;
NI LOC13;
NI Res_156226;
NIM_BOOL LOC17;
NIM_BOOL LOC22;
NIM_BOOL LOC24;
NIM_BOOL LOC25;
NI LOC28;
Result_156163 = 0;
Aa_156164 = 0;
Bb_156165 = 0;
Result_156163 = NIM_FALSE;
if (!!(((*(*A_156161).Name).Sup.Id == (*(*B_156162).Name).Sup.Id))) goto LA2;
goto BeforeRet;
LA2: ;
LOC5 = Sonslen_50807((*A_156161).Typ);
LOC6 = Sonslen_50807((*B_156162).Typ);
if (!!((LOC5 == LOC6))) goto LA7;
goto BeforeRet;
LA7: ;
LOC10 = Sametypeornil_93052((*(*A_156161).Typ).Sons->data[0], (*(*B_156162).Typ).Sons->data[0]);
if (!!(LOC10)) goto LA11;
goto BeforeRet;
LA11: ;
I_156178 = 0;
HEX3Atmp_156224 = 0;
LOC13 = Sonslen_50807((*A_156161).Typ);
HEX3Atmp_156224 = (NI64)(LOC13 - 1);
Res_156226 = 0;
Res_156226 = 1;
while (1) {
if (!(Res_156226 <= HEX3Atmp_156224)) goto LA14;
I_156178 = Res_156226;
Aa_156164 = (*(*A_156161).Typ).Sons->data[I_156178];
Bb_156165 = (*(*B_156162).Typ).Sons->data[I_156178];
while (1) {
Aa_156164 = Skiptypes_93087(Aa_156164, 2048);
Bb_156165 = Skiptypes_93087(Bb_156165, 2048);
LOC17 = ((*Aa_156164).Kind == (*Bb_156165).Kind);
if (!(LOC17)) goto LA18;
LOC17 = ((14680064 &(IL64(1)<<(((*Aa_156164).Kind)&IL64(63))))!=0);
LA18: ;
if (!LOC17) goto LA19;
Aa_156164 = (*Aa_156164).Sons->data[0];
Bb_156165 = (*Bb_156165).Sons->data[0];
goto LA16;
LA19: ;
goto LA15;
LA16: ;
} LA15: ;
LOC22 = Sametype_93048(Aa_156164, Bb_156165);
if (LOC22) goto LA23;
LOC25 = ((*Aa_156164).Kind == ((NU8) 17));
if (!(LOC25)) goto LA26;
LOC25 = ((*Bb_156165).Kind == ((NU8) 17));
LA26: ;
LOC24 = LOC25;
if (!(LOC24)) goto LA27;
LOC28 = Inheritancediff_93121(Bb_156165, Aa_156164);
LOC24 = (LOC28 < 0);
LA27: ;
LOC22 = LOC24;
LA23: ;
if (!LOC22) goto LA29;
goto LA21;
LA29: ;
goto BeforeRet;
LA21: ;
Res_156226 += 1;
} LA14: ;
Result_156163 = NIM_TRUE;
BeforeRet: ;
return Result_156163;
}
static N_INLINE(NIM_BOOL, Canbecycleroot_11416)(TY10602* C_11418) {
NIM_BOOL Result_11419;
Result_11419 = 0;
Result_11419 = !((((*(*C_11418).Typ).flags &(1<<((((NU8) 1))&7)))!=0));
return Result_11419;
}
static N_INLINE(void, Rtladdcycleroot_12052)(TY10602* C_12054) {
Incl_10880(&Gch_11014.Cycleroots, C_12054);
}
static N_INLINE(void, Incref_13002)(TY10602* C_13004) {
NI LOC1;
NIM_BOOL LOC3;
LOC1 = Atomicinc_3221(&(*C_13004).Refcount, 8);
LOC3 = Canbecycleroot_11416(C_13004);
if (!LOC3) goto LA4;
Rtladdcycleroot_12052(C_13004);
LA4: ;
}
static N_INLINE(void, Decref_12801)(TY10602* C_12803) {
NI LOC2;
NIM_BOOL LOC5;
LOC2 = Atomicdec_3226(&(*C_12803).Refcount, 8);
if (!((NU64)(LOC2) < (NU64)(8))) goto LA3;
Rtladdzct_12401(C_12803);
goto LA1;
LA3: ;
LOC5 = Canbecycleroot_11416(C_12803);
if (!LOC5) goto LA6;
Rtladdcycleroot_12052(C_12803);
goto LA1;
LA6: ;
LA1: ;
}
static N_INLINE(void, asgnRef)(void** Dest_13014, void* Src_13015) {
TY10602* LOC4;
TY10602* LOC8;
if (!!((Src_13015 == NIM_NIL))) goto LA2;
LOC4 = Usrtocell_11412(Src_13015);
Incref_13002(LOC4);
LA2: ;
if (!!(((*Dest_13014) == NIM_NIL))) goto LA6;
LOC8 = Usrtocell_11412((*Dest_13014));
Decref_12801(LOC8);
LA6: ;
(*Dest_13014) = Src_13015;
}
static N_INLINE(NI, Sonslen_50804)(TY50526* N_50806) {
NI Result_51880;
Result_51880 = 0;
if (!(*N_50806).KindU.S6.Sons == 0) goto LA2;
Result_51880 = 0;
goto LA1;
LA2: ;
Result_51880 = (*N_50806).KindU.S6.Sons->Sup.len;
LA1: ;
return Result_51880;
}
static N_INLINE(TY50526*, Lastson_50810)(TY50526* N_50812) {
TY50526* Result_52841;
NI LOC1;
Result_52841 = 0;
LOC1 = Sonslen_50804(N_50812);
Result_52841 = (*N_50812).KindU.S6.Sons->data[(NI64)(LOC1 - 1)];
return Result_52841;
}
N_NIMCALL(void, Methoddef_156227)(TY50548* S_156229) {
NI L_156230;
NI Q_156231;
TY50548* Disp_156232;
NI I_156251;
NI HEX3Atmp_156382;
NI Res_156384;
NIM_BOOL LOC3;
TY50526* LOC6;
TY50528* LOC7;
TY156282 LOC8;
TY50526* LOC15;
L_156230 = 0;
Q_156231 = 0;
Disp_156232 = 0;
L_156230 = Gmethods_156158->Sup.len;
I_156251 = 0;
HEX3Atmp_156382 = 0;
HEX3Atmp_156382 = (NI64)(L_156230 - 1);
Res_156384 = 0;
Res_156384 = 0;
while (1) {
if (!(Res_156384 <= HEX3Atmp_156382)) goto LA1;
I_156251 = Res_156384;
LOC3 = Samemethodbucket_156159(Gmethods_156158->data[I_156251]->data[0], S_156229);
if (!LOC3) goto LA4;
Gmethods_156158->data[I_156251] = (TY50528*) incrSeq(&(Gmethods_156158->data[I_156251])->Sup, sizeof(TY50548*));
asgnRef((void**) &Gmethods_156158->data[I_156251]->data[Gmethods_156158->data[I_156251]->Sup.len-1], S_156229);
LOC6 = 0;
LOC6 = Lastson_50810((*Gmethods_156158->data[I_156251]->data[0]).Ast);
Addson_50824((*S_156229).Ast, LOC6);
goto BeforeRet;
LA4: ;
Res_156384 += 1;
} LA1: ;
LOC7 = 0;
LOC7 = (TY50528*) newSeq(NTI50528, 1);
memset((void*)&LOC8, 0, sizeof(LOC8));
LOC8[0] = S_156229;
asgnRef((void**) &LOC7->data[0], LOC8[0]);
Gmethods_156158 = (TY156157*) incrSeq(&(Gmethods_156158)->Sup, sizeof(TY50528*));
genericSeqAssign(&Gmethods_156158->data[Gmethods_156158->Sup.len-1], LOC7, NTI50528);
Disp_156232 = Copysym_50776(S_156229, NIM_FALSE);
asgnRef((void**) &(*Disp_156232).Typ, Copytype_50771((*Disp_156232).Typ, (*(*Disp_156232).Typ).Owner, NIM_FALSE));
if (!((*(*Disp_156232).Typ).Callconv == ((NU8) 5))) goto LA10;
(*(*Disp_156232).Typ).Callconv = ((NU8) 0);
LA10: ;
asgnRefNoCycle((void**) &(*Disp_156232).Ast, Copytree_50852((*S_156229).Ast));
asgnRefNoCycle((void**) &(*(*Disp_156232).Ast).KindU.S6.Sons->data[4], Emptynode_50858);
if (!!(((*(*S_156229).Typ).Sons->data[0] == NIM_NIL))) goto LA13;
asgnRef((void**) &(*(*(*Disp_156232).Ast).KindU.S6.Sons->data[5]).KindU.S4.Sym, Copysym_50776((*(*(*S_156229).Ast).KindU.S6.Sons->data[5]).KindU.S4.Sym, NIM_FALSE));
LA13: ;
LOC15 = 0;
LOC15 = Newsymnode_50735(Disp_156232);
Addson_50824((*S_156229).Ast, LOC15);
BeforeRet: ;
}
N_NIMCALL(TY50526*, Genconv_156004)(TY50526* N_156006, TY50552* D_156007, NIM_BOOL Downcast_156008) {
TY50526* Result_156009;
TY50552* Dest_156010;
TY50552* Source_156011;
NI Diff_156012;
NIM_BOOL LOC2;
Result_156009 = 0;
Dest_156010 = 0;
Source_156011 = 0;
Diff_156012 = 0;
Dest_156010 = Skiptypes_93087(D_156007, 14723072);
Source_156011 = Skiptypes_93087((*N_156006).Typ, 14723072);
LOC2 = ((*Source_156011).Kind == ((NU8) 17));
if (!(LOC2)) goto LA3;
LOC2 = ((*Dest_156010).Kind == ((NU8) 17));
LA3: ;
if (!LOC2) goto LA4;
Diff_156012 = Inheritancediff_93121(Dest_156010, Source_156011);
if (!(Diff_156012 == IL64(9223372036854775807))) goto LA7;
Internalerror_43159((*N_156006).Info, ((NimStringDesc*) &TMP192231));
LA7: ;
if (!(Diff_156012 < 0)) goto LA10;
Result_156009 = Newnodeit_50742(((NU8) 56), (*N_156006).Info, D_156007);
Addson_50824(Result_156009, N_156006);
if (!Downcast_156008) goto LA13;
Internalerror_43159((*N_156006).Info, ((NimStringDesc*) &TMP192232));
LA13: ;
goto LA9;
LA10: ;
if (!(0 < Diff_156012)) goto LA15;
Result_156009 = Newnodeit_50742(((NU8) 55), (*N_156006).Info, D_156007);
Addson_50824(Result_156009, N_156006);
if (!!(Downcast_156008)) goto LA18;
Internalerror_43159((*N_156006).Info, ((NimStringDesc*) &TMP192233));
LA18: ;
goto LA9;
LA15: ;
Result_156009 = N_156006;
LA9: ;
goto LA1;
LA4: ;
Result_156009 = N_156006;
LA1: ;
return Result_156009;
}
N_NIMCALL(TY50526*, Methodcall_156041)(TY50526* N_156043) {
TY50526* Result_156044;
TY50548* Disp_156045;
TY50526* LOC1;
NI I_156129;
NI HEX3Atmp_156154;
NI LOC2;
NI Res_156156;
Result_156044 = 0;
Disp_156045 = 0;
Result_156044 = N_156043;
LOC1 = 0;
LOC1 = Lastson_50810((*(*(*Result_156044).KindU.S6.Sons->data[0]).KindU.S4.Sym).Ast);
Disp_156045 = (*LOC1).KindU.S4.Sym;
asgnRef((void**) &(*(*Result_156044).KindU.S6.Sons->data[0]).KindU.S4.Sym, Disp_156045);
I_156129 = 0;
HEX3Atmp_156154 = 0;
LOC2 = Sonslen_50804(Result_156044);
HEX3Atmp_156154 = (NI64)(LOC2 - 1);
Res_156156 = 0;
Res_156156 = 1;
while (1) {
if (!(Res_156156 <= HEX3Atmp_156154)) goto LA3;
I_156129 = Res_156156;
asgnRefNoCycle((void**) &(*Result_156044).KindU.S6.Sons->data[I_156129], Genconv_156004((*Result_156044).KindU.S6.Sons->data[I_156129], (*(*Disp_156045).Typ).Sons->data[I_156129], NIM_TRUE));
Res_156156 += 1;
} LA3: ;
return Result_156044;
}
N_NIMCALL(NIM_BOOL, Relevantcol_156385)(TY50528* Methods_156387, NI Col_156388) {
NIM_BOOL Result_156389;
TY50552* T_156390;
TY50552* LOC2;
NI I_156408;
NI HEX3Atmp_156409;
NI Res_156411;
NIM_BOOL LOC7;
Result_156389 = 0;
T_156390 = 0;
T_156390 = (*(*Methods_156387->data[0]).Typ).Sons->data[Col_156388];
Result_156389 = NIM_FALSE;
LOC2 = 0;
LOC2 = Skiptypes_93087(T_156390, 14682112);
if (!((*LOC2).Kind == ((NU8) 17))) goto LA3;
I_156408 = 0;
HEX3Atmp_156409 = 0;
HEX3Atmp_156409 = (Methods_156387->Sup.len-1);
Res_156411 = 0;
Res_156411 = 1;
while (1) {
if (!(Res_156411 <= HEX3Atmp_156409)) goto LA5;
I_156408 = Res_156411;
LOC7 = Sametype_93048((*(*Methods_156387->data[I_156408]).Typ).Sons->data[Col_156388], T_156390);
if (!!(LOC7)) goto LA8;
Result_156389 = NIM_TRUE;
goto BeforeRet;
LA8: ;
Res_156411 += 1;
} LA5: ;
LA3: ;
BeforeRet: ;
return Result_156389;
}
N_NIMCALL(NI, Cmpsignatures_156412)(TY50548* A_156414, TY50548* B_156415, TY50895* Relevantcols_156416) {
NI Result_156417;
NI D_156418;
TY50552* Aa_156419;
TY50552* Bb_156420;
NI Col_156429;
NI HEX3Atmp_156432;
NI LOC1;
NI Res_156434;
NIM_BOOL LOC4;
Result_156417 = 0;
D_156418 = 0;
Aa_156419 = 0;
Bb_156420 = 0;
Result_156417 = 0;
Col_156429 = 0;
HEX3Atmp_156432 = 0;
LOC1 = Sonslen_50807((*A_156414).Typ);
HEX3Atmp_156432 = (NI64)(LOC1 - 1);
Res_156434 = 0;
Res_156434 = 1;
while (1) {
if (!(Res_156434 <= HEX3Atmp_156432)) goto LA2;
Col_156429 = Res_156434;
LOC4 = Intsetcontains_50905(Relevantcols_156416, Col_156429);
if (!LOC4) goto LA5;
Aa_156419 = Skiptypes_93087((*(*A_156414).Typ).Sons->data[Col_156429], 14682112);
Bb_156420 = Skiptypes_93087((*(*B_156415).Typ).Sons->data[Col_156429], 14682112);
D_156418 = Inheritancediff_93121(Aa_156419, Bb_156420);
if (!!((D_156418 == IL64(9223372036854775807)))) goto LA8;
Result_156417 = D_156418;
goto BeforeRet;
LA8: ;
LA5: ;
Res_156434 += 1;
} LA2: ;
BeforeRet: ;
return Result_156417;
}
N_NIMCALL(void, Sortbucket_156435)(TY50528** A_156438, TY50895* Relevantcols_156439) {
NI N_156440;
NI J_156441;
NI H_156442;
TY50548* V_156443;
NI I_156466;
NI HEX3Atmp_156475;
NI Res_156477;
NI LOC8;
N_156440 = 0;
J_156441 = 0;
H_156442 = 0;
V_156443 = 0;
N_156440 = (*A_156438)->Sup.len;
H_156442 = 1;
while (1) {
H_156442 = (NI64)((NI64)(3 * H_156442) + 1);
if (!(N_156440 < H_156442)) goto LA3;
goto LA1;
LA3: ;
} LA1: ;
while (1) {
H_156442 = (NI64)(H_156442 / 3);
I_156466 = 0;
HEX3Atmp_156475 = 0;
HEX3Atmp_156475 = (NI64)(N_156440 - 1);
Res_156477 = 0;
Res_156477 = H_156442;
while (1) {
if (!(Res_156477 <= HEX3Atmp_156475)) goto LA6;
I_156466 = Res_156477;
V_156443 = (*A_156438)->data[I_156466];
J_156441 = I_156466;
while (1) {
LOC8 = Cmpsignatures_156412((*A_156438)->data[(NI64)(J_156441 - H_156442)], V_156443, Relevantcols_156439);
if (!(0 <= LOC8)) goto LA7;
asgnRef((void**) &(*A_156438)->data[J_156441], (*A_156438)->data[(NI64)(J_156441 - H_156442)]);
J_156441 = (NI64)(J_156441 - H_156442);
if (!(J_156441 < H_156442)) goto LA10;
goto LA7;
LA10: ;
} LA7: ;
asgnRef((void**) &(*A_156438)->data[J_156441], V_156443);
Res_156477 += 1;
} LA6: ;
if (!(H_156442 == 1)) goto LA13;
goto LA5;
LA13: ;
} LA5: ;
}
N_NIMCALL(TY50548*, Gendispatcher_156478)(TY50528* Methods_156480, TY50895* Relevantcols_156481) {
TY50548* Result_156482;
TY50526* Disp_156483;
TY50526* Cond_156484;
TY50526* Call_156485;
TY50526* Ret_156486;
TY50526* A_156487;
TY50526* Isn_156488;
TY50548* Base_156489;
TY50548* Curr_156490;
TY50548* Ands_156491;
TY50548* Iss_156492;
NI Paramlen_156493;
TY50526* LOC1;
NI Meth_156514;
NI HEX3Atmp_156645;
NI Res_156647;
NI Col_156523;
NI HEX3Atmp_156639;
NI Res_156641;
NIM_BOOL LOC5;
TY50552* LOC8;
TY50526* LOC9;
TY50526* LOC10;
TY50526* LOC11;
TY50552* LOC15;
TY50526* LOC16;
TY50526* LOC17;
NI Col_156567;
NI HEX3Atmp_156642;
NI Res_156644;
TY50526* LOC19;
TY50526* LOC20;
TY50526* LOC24;
Result_156482 = 0;
Disp_156483 = 0;
Cond_156484 = 0;
Call_156485 = 0;
Ret_156486 = 0;
A_156487 = 0;
Isn_156488 = 0;
Base_156489 = 0;
Curr_156490 = 0;
Ands_156491 = 0;
Iss_156492 = 0;
Paramlen_156493 = 0;
LOC1 = 0;
LOC1 = Lastson_50810((*Methods_156480->data[0]).Ast);
Base_156489 = (*LOC1).KindU.S4.Sym;
Result_156482 = Base_156489;
Paramlen_156493 = Sonslen_50807((*Base_156489).Typ);
Disp_156483 = Newnodei_50738(((NU8) 82), (*Base_156489).Info);
Ands_156491 = Getsyssym_98024(((NimStringDesc*) &TMP192768));
Iss_156492 = Getsyssym_98024(((NimStringDesc*) &TMP192769));
Meth_156514 = 0;
HEX3Atmp_156645 = 0;
HEX3Atmp_156645 = (Methods_156480->Sup.len-1);
Res_156647 = 0;
Res_156647 = 0;
while (1) {
if (!(Res_156647 <= HEX3Atmp_156645)) goto LA2;
Meth_156514 = Res_156647;
Curr_156490 = Methods_156480->data[Meth_156514];
Cond_156484 = NIM_NIL;
Col_156523 = 0;
HEX3Atmp_156639 = 0;
HEX3Atmp_156639 = (NI64)(Paramlen_156493 - 1);
Res_156641 = 0;
Res_156641 = 1;
while (1) {
if (!(Res_156641 <= HEX3Atmp_156639)) goto LA3;
Col_156523 = Res_156641;
LOC5 = Intsetcontains_50905(Relevantcols_156481, Col_156523);
if (!LOC5) goto LA6;
LOC8 = 0;
LOC8 = Getsystype_98008(((NU8) 1));
Isn_156488 = Newnodeit_50742(((NU8) 21), (*Base_156489).Info, LOC8);
LOC9 = 0;
LOC9 = Newsymnode_50735(Iss_156492);
Addson_50824(Isn_156488, LOC9);
LOC10 = 0;
LOC10 = Newsymnode_50735((*(*(*(*Base_156489).Typ).N).KindU.S6.Sons->data[Col_156523]).KindU.S4.Sym);
Addson_50824(Isn_156488, LOC10);
LOC11 = 0;
LOC11 = Newnodeit_50742(((NU8) 4), (*Base_156489).Info, (*(*Curr_156490).Typ).Sons->data[Col_156523]);
Addson_50824(Isn_156488, LOC11);
if (!!((Cond_156484 == NIM_NIL))) goto LA13;
LOC15 = 0;
LOC15 = Getsystype_98008(((NU8) 1));
A_156487 = Newnodeit_50742(((NU8) 21), (*Base_156489).Info, LOC15);
LOC16 = 0;
LOC16 = Newsymnode_50735(Ands_156491);
Addson_50824(A_156487, LOC16);
Addson_50824(A_156487, Cond_156484);
Addson_50824(A_156487, Isn_156488);
Cond_156484 = A_156487;
goto LA12;
LA13: ;
Cond_156484 = Isn_156488;
LA12: ;
LA6: ;
Res_156641 += 1;
} LA3: ;
Call_156485 = Newnodei_50738(((NU8) 21), (*Base_156489).Info);
LOC17 = 0;
LOC17 = Newsymnode_50735(Curr_156490);
Addson_50824(Call_156485, LOC17);
Col_156567 = 0;
HEX3Atmp_156642 = 0;
HEX3Atmp_156642 = (NI64)(Paramlen_156493 - 1);
Res_156644 = 0;
Res_156644 = 1;
while (1) {
if (!(Res_156644 <= HEX3Atmp_156642)) goto LA18;
Col_156567 = Res_156644;
LOC19 = 0;
LOC19 = Newsymnode_50735((*(*(*(*Base_156489).Typ).N).KindU.S6.Sons->data[Col_156567]).KindU.S4.Sym);
LOC20 = 0;
LOC20 = Genconv_156004(LOC19, (*(*Curr_156490).Typ).Sons->data[Col_156567], NIM_FALSE);
Addson_50824(Call_156485, LOC20);
Res_156644 += 1;
} LA18: ;
if (!!(((*(*Base_156489).Typ).Sons->data[0] == NIM_NIL))) goto LA22;
A_156487 = Newnodei_50738(((NU8) 63), (*Base_156489).Info);
LOC24 = 0;
LOC24 = Newsymnode_50735((*(*(*Base_156489).Ast).KindU.S6.Sons->data[5]).KindU.S4.Sym);
Addson_50824(A_156487, LOC24);
Addson_50824(A_156487, Call_156485);
Ret_156486 = Newnodei_50738(((NU8) 96), (*Base_156489).Info);
Addson_50824(Ret_156486, A_156487);
goto LA21;
LA22: ;
Ret_156486 = Call_156485;
LA21: ;
A_156487 = Newnodei_50738(((NU8) 76), (*Base_156489).Info);
Addson_50824(A_156487, Cond_156484);
Addson_50824(A_156487, Ret_156486);
Addson_50824(Disp_156483, A_156487);
Res_156647 += 1;
} LA2: ;
asgnRefNoCycle((void**) &(*(*Result_156482).Ast).KindU.S6.Sons->data[4], Disp_156483);
return Result_156482;
}
N_NIMCALL(TY50526*, Generatemethoddispatchers_156648)(void) {
TY50526* Result_156650;
TY50895 Relevantcols_156651;
NI Bucket_156670;
NI HEX3Atmp_156686;
NI Res_156688;
NI Col_156680;
NI HEX3Atmp_156683;
NI LOC2;
NI Res_156685;
NIM_BOOL LOC5;
TY50548* LOC8;
TY50526* LOC9;
Result_156650 = 0;
memset((void*)&Relevantcols_156651, 0, sizeof(Relevantcols_156651));
Result_156650 = Newnode_50711(((NU8) 101));
Bucket_156670 = 0;
HEX3Atmp_156686 = 0;
HEX3Atmp_156686 = (NI64)(Gmethods_156158->Sup.len - 1);
Res_156688 = 0;
Res_156688 = 0;
while (1) {
if (!(Res_156688 <= HEX3Atmp_156686)) goto LA1;
Bucket_156670 = Res_156688;
Intsetinit_50919(&Relevantcols_156651);
Col_156680 = 0;
HEX3Atmp_156683 = 0;
LOC2 = Sonslen_50807((*Gmethods_156158->data[Bucket_156670]->data[0]).Typ);
HEX3Atmp_156683 = (NI64)(LOC2 - 1);
Res_156685 = 0;
Res_156685 = 1;
while (1) {
if (!(Res_156685 <= HEX3Atmp_156683)) goto LA3;
Col_156680 = Res_156685;
LOC5 = Relevantcol_156385(Gmethods_156158->data[Bucket_156670], Col_156680);
if (!LOC5) goto LA6;
Intsetincl_50909(&Relevantcols_156651, Col_156680);
LA6: ;
Res_156685 += 1;
} LA3: ;
Sortbucket_156435(&Gmethods_156158->data[Bucket_156670], &Relevantcols_156651);
LOC8 = 0;
LOC8 = Gendispatcher_156478(Gmethods_156158->data[Bucket_156670], &Relevantcols_156651);
LOC9 = 0;
LOC9 = Newsymnode_50735(LOC8);
Addson_50824(Result_156650, LOC9);
Res_156688 += 1;
} LA1: ;
return Result_156650;
}
N_NOINLINE(void, cgmethInit)(void) {
asgnRefNoCycle((void**) &Gmethods_156158, (TY156157*) newSeq(NTI156157, 0));
}

