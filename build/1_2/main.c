/* Generated by Nimrod Compiler v0.8.10 */
/*   (c) 2010 Andreas Rumpf */

typedef long long int NI;
typedef unsigned long long int NU;
#include "nimbase.h"

typedef struct TY189208 TY189208;
typedef struct TY189206 TY189206;
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct TY51547 TY51547;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct TY10602 TY10602;
typedef struct TY10618 TY10618;
typedef struct TY10990 TY10990;
typedef struct TY10614 TY10614;
typedef struct TY10610 TY10610;
typedef struct TY8004 TY8004;
typedef struct TY10988 TY10988;
typedef struct TY39019 TY39019;
typedef struct TY39013 TY39013;
typedef struct TY34515 TY34515;
typedef struct TY51525 TY51525;
typedef struct TY89031 TY89031;
typedef struct TY50005 TY50005;
typedef struct TNimObject TNimObject;
typedef struct TY51551 TY51551;
typedef struct TY50011 TY50011;
typedef struct TY43532 TY43532;
typedef struct TY51529 TY51529;
typedef struct TY51527 TY51527;
typedef struct TY51539 TY51539;
typedef struct TY48008 TY48008;
typedef struct TY51543 TY51543;
typedef struct TY71013 TY71013;
typedef struct TY101006 TY101006;
typedef struct TY101002 TY101002;
typedef struct TY73267 TY73267;
typedef struct TY72015 TY72015;
typedef struct TY73281 TY73281;
typedef struct TY73263 TY73263;
typedef struct TY51519 TY51519;
typedef struct TY35221 TY35221;
typedef struct TY89029 TY89029;
typedef struct TY55223 TY55223;
typedef struct TY55221 TY55221;
typedef struct TY55219 TY55219;
typedef struct TY51563 TY51563;
typedef struct TY51561 TY51561;
typedef struct TY51559 TY51559;
typedef struct TY51549 TY51549;
struct TGenericSeq {
NI len;
NI space;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
struct TY189206 {
NimStringDesc* Filename;
TY51547* Module;
};
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct TY10602 {
NI Refcount;
TNimType* Typ;
};
struct TY10618 {
NI Len;
NI Cap;
TY10602** D;
};
struct TY10614 {
NI Counter;
NI Max;
TY10610* Head;
TY10610** Data;
};
struct TY8004 {
void* Debuginfo;
NI32 Lockcount;
NI32 Recursioncount;
NI Owningthread;
NI Locksemaphore;
NI32 Reserved;
};
struct TY10988 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY10990 {
TY10618 Zct;
TY10618 Decstack;
TY10614 Cycleroots;
TY10618 Tempstack;
TY8004 Cyclerootslock;
TY8004 Zctlock;
TY10988 Stat;
};
struct TY39019 {
TNimType* m_type;
TY39013* Head;
TY39013* Tail;
NI Counter;
};
struct TY34515 {
NimStringDesc* Dir;
NimStringDesc* Name;
NimStringDesc* Ext;
};
typedef N_NIMCALL_PTR(TY51525*, TY101048) (NimStringDesc* Filename_101049);
typedef N_NIMCALL_PTR(TY51547*, TY101044) (NimStringDesc* Filename_101045);
struct TNimObject {
TNimType* m_type;
};
struct TY50005 {
  TNimObject Sup;
NI Id;
};
struct TY43532 {
NI16 Line;
NI16 Col;
NI32 Fileindex;
};
struct TY51529 {
TNimType* m_type;
NI Counter;
TY51527* Data;
};
struct TY51539 {
NU8 K;
NU8 S;
NU8 Flags;
TY51551* T;
TY48008* R;
NI A;
};
struct TY51547 {
  TY50005 Sup;
NU8 Kind;
NU8 Magic;
TY51551* Typ;
TY50011* Name;
TY43532 Info;
TY51547* Owner;
NU32 Flags;
TY51529 Tab;
TY51525* Ast;
NU32 Options;
NI Position;
NI Offset;
TY51539 Loc;
TY51543* Annex;
};
struct TY50011 {
  TY50005 Sup;
NimStringDesc* S;
TY50011* Next;
NI H;
};
typedef N_NIMCALL_PTR(TY101002*, TY101007) (TY51547* Module_101008, NimStringDesc* Filename_101009);
typedef N_NIMCALL_PTR(TY101002*, TY101012) (TY51547* Module_101013, NimStringDesc* Filename_101014, TY89031* Rd_101015);
typedef N_NIMCALL_PTR(TY51525*, TY101018) (TY101002* P_101019, TY51525* N_101020);
typedef N_NIMCALL_PTR(TY51525*, TY101023) (TY101002* P_101024, TY51525* Toplevelstmt_101025);
struct TY101006 {
TY101007 Open;
TY101012 Opencached;
TY101018 Close;
TY101023 Process;
};
struct TY72015 {
  TNimObject Sup;
NI Bufpos;
NCSTRING Buf;
NI Buflen;
TY71013* Stream;
NI Linenumber;
NI Sentinel;
NI Linestart;
};
struct TY73267 {
  TY72015 Sup;
NimStringDesc* Filename;
TY73281* Indentstack;
NI Dedent;
NI Indentahead;
};
struct TY73263 {
TNimType* m_type;
NU8 Toktype;
NI Indent;
TY50011* Ident;
NI64 Inumber;
NF64 Fnumber;
NU8 Base;
NimStringDesc* Literal;
TY73263* Next;
};
typedef NI TY8614[8];
struct TY10610 {
TY10610* Next;
NI Key;
TY8614 Bits;
};
struct TY39013 {
  TNimObject Sup;
TY39013* Prev;
TY39013* Next;
};
struct TY51525 {
TY51551* Typ;
NimStringDesc* Comment;
TY43532 Info;
NU8 Flags;
NU8 Kind;
union {
struct {NI64 Intval;
} S1;
struct {NF64 Floatval;
} S2;
struct {NimStringDesc* Strval;
} S3;
struct {TY51547* Sym;
} S4;
struct {TY50011* Ident;
} S5;
struct {TY51519* Sons;
} S6;
} KindU;
};
struct TY55219 {
NI Key;
NI Val;
};
struct TY55223 {
NI Counter;
TY55221* Data;
};
struct TY89029 {
NI Lastidxkey;
NI Lastidxval;
TY55223 Tab;
TY48008* R;
NI Offset;
};
struct TY51559 {
TY50005* Key;
TNimObject* Val;
};
struct TY51563 {
NI Counter;
TY51561* Data;
};
struct TY89031 {
  TNimObject Sup;
NI Pos;
NimStringDesc* S;
NU32 Options;
NU8 Reason;
TY35221* Moddeps;
TY35221* Files;
NI Dataidx;
NI Convertersidx;
NI Initidx;
NI Interfidx;
NI Compilerprocsidx;
NI Cgenidx;
NimStringDesc* Filename;
TY89029 Index;
TY89029 Imports;
NI Readerindex;
NI Line;
NI Moduleid;
TY51563 Syms;
};
struct TY51551 {
  TY50005 Sup;
NU8 Kind;
TY51549* Sons;
TY51525* N;
NU8 Flags;
NU8 Callconv;
TY51547* Owner;
TY51547* Sym;
NI64 Size;
NI Align;
NI Containerid;
TY51539 Loc;
};
struct TY48008 {
  TNimObject Sup;
TY48008* Left;
TY48008* Right;
NI Length;
NimStringDesc* Data;
};
struct TY51543 {
  TY39013 Sup;
NU8 Kind;
NIM_BOOL Generated;
TY48008* Name;
TY51525* Path;
};
struct TY71013 {
  TNimObject Sup;
NU8 Kind;
FILE* F;
NimStringDesc* S;
NI Rd;
NI Wr;
};
struct TY101002 {
  TNimObject Sup;
};
struct TY189208 {
  TGenericSeq Sup;
  TY189206 data[SEQ_DECL_SIZE];
};
struct TY51527 {
  TGenericSeq Sup;
  TY51547* data[SEQ_DECL_SIZE];
};
struct TY73281 {
  TGenericSeq Sup;
  NI data[SEQ_DECL_SIZE];
};
struct TY51519 {
  TGenericSeq Sup;
  TY51525* data[SEQ_DECL_SIZE];
};
struct TY35221 {
  TGenericSeq Sup;
  NimStringDesc* data[SEQ_DECL_SIZE];
};
struct TY55221 {
  TGenericSeq Sup;
  TY55219 data[SEQ_DECL_SIZE];
};
struct TY51561 {
  TGenericSeq Sup;
  TY51559 data[SEQ_DECL_SIZE];
};
struct TY51549 {
  TGenericSeq Sup;
  TY51551* data[SEQ_DECL_SIZE];
};
N_NIMCALL(void*, newSeq)(TNimType* Typ_14004, NI Len_14005);
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13018, void* Src_13019);
static N_INLINE(TY10602*, Usrtocell_11412)(void* Usr_11414);
static N_INLINE(NI, Atomicinc_3001)(NI* Memloc_3004, NI X_3005);
static N_INLINE(NI, Atomicdec_3006)(NI* Memloc_3009, NI X_3010);
static N_INLINE(void, Rtladdzct_12401)(TY10602* C_12403);
N_NOINLINE(void, Addzct_11401)(TY10618* S_11404, TY10602* C_11405);
N_NIMCALL(void, Appendstr_39061)(TY39019* List_39064, NimStringDesc* Data_39065);
N_NIMCALL(void, Prependstr_39071)(TY39019* List_39074, NimStringDesc* Data_39075);
N_NIMCALL(void, nossplitFile)(NimStringDesc* Path_34514, TY34515* Result);
N_NIMCALL(void, Setid_51695)(NI Id_51697);
N_NIMCALL(TY51525*, Parsefile_88031)(NimStringDesc* Filename_88033);
N_NIMCALL(TY51547*, Importmodule_189327)(NimStringDesc* Filename_189329);
N_NIMCALL(TY51547*, Getmodule_189256)(NimStringDesc* Filename_189258);
N_NIMCALL(NIM_BOOL, nossameFile)(NimStringDesc* Path1_34870, NimStringDesc* Path2_34871);
N_NIMCALL(TY51547*, Compilemodule_189322)(NimStringDesc* Filename_189324, NIM_BOOL Ismainfile_189325, NIM_BOOL Issystemfile_189326);
N_NIMCALL(NimStringDesc*, nosaddFileExt)(NimStringDesc* Filename_34844, NimStringDesc* Ext_34845);
N_NIMCALL(TY51547*, Newmodule_189289)(NimStringDesc* Filename_189291);
N_NIMCALL(void*, newObj)(TNimType* Typ_13507, NI Size_13508);
N_NIMCALL(void, objectInit)(void* Dest_19462, TNimType* Typ_19463);
N_NIMCALL(TY50011*, Getident_50016)(NimStringDesc* Identifier_50018);
N_NIMCALL(NIM_BOOL, Isnimrodidentifier_73357)(NimStringDesc* S_73359);
N_NIMCALL(void, Rawmessage_43553)(NU8 Msg_43555, NimStringDesc* Arg_43556);
static N_INLINE(void, asgnRef)(void** Dest_13014, void* Src_13015);
static N_INLINE(void, Incref_13002)(TY10602* C_13004);
static N_INLINE(NIM_BOOL, Canbecycleroot_11416)(TY10602* C_11418);
static N_INLINE(void, Rtladdcycleroot_12052)(TY10602* C_12054);
N_NOINLINE(void, Incl_10874)(TY10614* S_10877, TY10602* Cell_10878);
static N_INLINE(void, Decref_12801)(TY10602* C_12803);
N_NIMCALL(TY43532, Newlineinfo_43574)(NimStringDesc* Filename_43576, NI Line_43577, NI Col_43578);
N_NIMCALL(void, Initstrtable_51746)(TY51529* X_51749);
N_NIMCALL(void, Registermodule_189229)(NimStringDesc* Filename_189231, TY51547* Module_189232);
N_NIMCALL(TGenericSeq*, setLengthSeq)(TGenericSeq* Seq_18803, NI Elemsize_18804, NI Newlen_18805);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* Src_18508);
N_NIMCALL(void, Strtableadd_55064)(TY51529* T_55067, TY51547* N_55068);
N_NIMCALL(TY89031*, Handlesymbolfile_89060)(TY51547* Module_89062, NimStringDesc* Filename_89063);
N_NIMCALL(void, Internalerror_43571)(NimStringDesc* Errmsg_43573);
N_NIMCALL(NI, Getid_51693)(void);
N_NIMCALL(void, Processmodule_101035)(TY51547* Module_101037, NimStringDesc* Filename_101038, TY71013* Stream_101039, TY89031* Rd_101040);
N_NIMCALL(void, Limessage_43562)(TY43532 Info_43564, NU8 Msg_43565, NimStringDesc* Arg_43566);
N_NIMCALL(NU8, Whichkeyword_68468)(NimStringDesc* Id_68470);
N_NIMCALL(void, Wantfile_189713)(NimStringDesc* Filename_189715);
N_NIMCALL(void, Commandcompiletoc_189436)(NimStringDesc* Filename_189438);
N_NIMCALL(void, Semanticpasses_189408)(void);
N_NIMCALL(void, Registerpass_101028)(TY101006* P_101030);
N_NIMCALL(TY101006, Verbosepass_183004)(void);
N_NIMCALL(TY101006, Sempass_121001)(void);
N_NIMCALL(TY101006, Transfpass_185005)(void);
N_NIMCALL(TY101006, Cgenpass_156201)(void);
N_NIMCALL(TY101006, Rodwritepass_107001)(void);
N_NIMCALL(void, Compileproject_189405)(NimStringDesc* Filename_189407);
N_NIMCALL(NimStringDesc*, nosJoinPath)(NimStringDesc* Head_34203, NimStringDesc* Tail_34204);
N_NIMCALL(void, Callccompiler_66370)(NimStringDesc* Projectfile_66372);
N_NIMCALL(NimStringDesc*, nosChangeFileExt)(NimStringDesc* Filename_34820, NimStringDesc* Ext_34821);
N_NIMCALL(void, Commandcompiletoecmascript_189601)(NimStringDesc* Filename_189603);
N_NIMCALL(void, Settarget_47574)(NU8 O_47576, NU8 C_47577);
N_NIMCALL(void, Initdefines_59049)(void);
N_NIMCALL(TY101006, Ecmasgenpass_175004)(void);
N_NIMCALL(void, Commandpretty_189643)(NimStringDesc* Filename_189645);
N_NIMCALL(void, Rendermodule_81035)(TY51525* N_81037, NimStringDesc* Filename_81038, NU8 Renderflags_81041);
N_NIMCALL(NimStringDesc*, Getoutfile_42143)(NimStringDesc* Filename_42145, NimStringDesc* Ext_42146);
N_NIMCALL(void, Loadspecialconfig_76007)(NimStringDesc* Configfilename_76009);
N_NIMCALL(void, Commanddoc_151001)(NimStringDesc* Filename_151003);
N_NIMCALL(void, Commandrst2html_151004)(NimStringDesc* Filename_151006);
N_NIMCALL(void, Commandrst2tex_151007)(NimStringDesc* Filename_151009);
N_NIMCALL(void, Commandgendepend_189410)(NimStringDesc* Filename_189412);
N_NIMCALL(TY101006, Gendependpass_184004)(void);
N_NIMCALL(TY101006, Cleanuppass_183006)(void);
N_NIMCALL(void, Generatedot_184006)(NimStringDesc* Project_184008);
N_NIMCALL(void, Execexternalprogram_66373)(NimStringDesc* Cmd_66375);
static N_INLINE(void, appendString)(NimStringDesc* Dest_18592, NimStringDesc* Src_18593);
static N_INLINE(void, appendChar)(NimStringDesc* Dest_18609, NIM_CHAR C_18610);
N_NIMCALL(NimStringDesc*, rawNewString)(NI Space_18487);
N_NIMCALL(void, Listsymbols_59062)(void);
N_NIMCALL(void, Commandcheck_189433)(NimStringDesc* Filename_189435);
N_NIMCALL(void, Commandscan_189666)(NimStringDesc* Filename_189668);
N_NIMCALL(TY71013*, Llstreamopen_71032)(NimStringDesc* Filename_71034, NU8 Mode_71035);
N_NIMCALL(void, Openlexer_73298)(TY73267* Lex_73301, NimStringDesc* Filename_73302, TY71013* Inputstream_73303);
N_NIMCALL(void, Rawgettok_73304)(TY73267* L_73307, TY73263* Tok_73309);
N_NIMCALL(void, Printtok_73320)(TY73263* Tok_73322);
N_NIMCALL(void, Closelexer_73316)(TY73267* Lex_73319);
N_NIMCALL(void, Messageout_43550)(NimStringDesc* S_43552);
N_NIMCALL(void, Commandinteractive_189616)(void);
N_NIMCALL(TY101006, Evalpass_111046)(void);
N_NIMCALL(TY71013*, Llstreamopenstdin_71038)(void);
STRING_LITERAL(TMP193872, "nim", 3);
STRING_LITERAL(TMP193925, "handleSymbolFile should have set the module\'s ID", 48);
STRING_LITERAL(TMP193927, "command line", 12);
STRING_LITERAL(TMP193928, "", 0);
STRING_LITERAL(TMP194872, "system", 6);
STRING_LITERAL(TMP195088, "pretty.nim", 10);
STRING_LITERAL(TMP195089, "nimdoc.cfg", 10);
STRING_LITERAL(TMP195477, "nimdoc.tex.cfg", 14);
STRING_LITERAL(TMP195485, "dot -Tpng -o", 12);
STRING_LITERAL(TMP195486, "png", 3);
STRING_LITERAL(TMP195487, "dot", 3);
STRING_LITERAL(TMP195489, "Beware: Indentation tokens depend on the parser\'s state!", 56);
STRING_LITERAL(TMP195490, "stdin", 5);
TY189208* Compmods_189227;
extern TNimType* NTI189208; /* TFileModuleMap */
extern TY10990 Gch_11010;
extern TY39019 Searchpaths_42079;
extern NimStringDesc* Libpath_42110;
extern TY101048 Gincludefile_101051;
extern TY101044 Gimportmodule_101047;
extern TNimType* NTI51523; /* PSym */
extern TNimType* NTI51547; /* TSym */
extern NU8 Gcmd_42082;
extern NU32 Gglobaloptions_42077;
extern TNimType* NTI73267; /* TLexer */
extern TNimType* NTI73261; /* PToken */
extern TNimType* NTI73263; /* TToken */
static N_INLINE(TY10602*, Usrtocell_11412)(void* Usr_11414) {
TY10602* Result_11415;
Result_11415 = 0;
Result_11415 = ((TY10602*) ((NI64)((NU64)(((NI) (Usr_11414))) - (NU64)(((NI) (((NI)sizeof(TY10602))))))));
return Result_11415;
}
static N_INLINE(NI, Atomicinc_3001)(NI* Memloc_3004, NI X_3005) {
NI Result_7607;
Result_7607 = 0;
(*Memloc_3004) += X_3005;
Result_7607 = (*Memloc_3004);
return Result_7607;
}
static N_INLINE(NI, Atomicdec_3006)(NI* Memloc_3009, NI X_3010) {
NI Result_7806;
Result_7806 = 0;
(*Memloc_3009) -= X_3010;
Result_7806 = (*Memloc_3009);
return Result_7806;
}
static N_INLINE(void, Rtladdzct_12401)(TY10602* C_12403) {
Addzct_11401(&Gch_11010.Zct, C_12403);
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13018, void* Src_13019) {
TY10602* C_13020;
NI LOC4;
TY10602* C_13022;
NI LOC9;
if (!!((Src_13019 == NIM_NIL))) goto LA2;
C_13020 = 0;
C_13020 = Usrtocell_11412(Src_13019);
LOC4 = Atomicinc_3001(&(*C_13020).Refcount, 8);
LA2: ;
if (!!(((*Dest_13018) == NIM_NIL))) goto LA6;
C_13022 = 0;
C_13022 = Usrtocell_11412((*Dest_13018));
LOC9 = Atomicdec_3006(&(*C_13022).Refcount, 8);
if (!((NU64)(LOC9) < (NU64)(8))) goto LA10;
Rtladdzct_12401(C_13022);
LA10: ;
LA6: ;
(*Dest_13018) = Src_13019;
}
N_NIMCALL(TY51547*, Getmodule_189256)(NimStringDesc* Filename_189258) {
TY51547* Result_189259;
NI I_189282;
NI HEX3Atmp_189284;
NI Res_189286;
NIM_BOOL LOC3;
Result_189259 = 0;
I_189282 = 0;
HEX3Atmp_189284 = 0;
HEX3Atmp_189284 = (Compmods_189227->Sup.len-1);
Res_189286 = 0;
Res_189286 = 0;
while (1) {
if (!(Res_189286 <= HEX3Atmp_189284)) goto LA1;
I_189282 = Res_189286;
LOC3 = nossameFile(Compmods_189227->data[I_189282].Filename, Filename_189258);
if (!LOC3) goto LA4;
Result_189259 = Compmods_189227->data[I_189282].Module;
goto BeforeRet;
LA4: ;
Res_189286 += 1;
} LA1: ;
BeforeRet: ;
return Result_189259;
}
static N_INLINE(NIM_BOOL, Canbecycleroot_11416)(TY10602* C_11418) {
NIM_BOOL Result_11419;
Result_11419 = 0;
Result_11419 = !((((*(*C_11418).Typ).flags &(1<<((((NU8) 1))&7)))!=0));
return Result_11419;
}
static N_INLINE(void, Rtladdcycleroot_12052)(TY10602* C_12054) {
Incl_10874(&Gch_11010.Cycleroots, C_12054);
}
static N_INLINE(void, Incref_13002)(TY10602* C_13004) {
NI LOC1;
NIM_BOOL LOC3;
LOC1 = Atomicinc_3001(&(*C_13004).Refcount, 8);
LOC3 = Canbecycleroot_11416(C_13004);
if (!LOC3) goto LA4;
Rtladdcycleroot_12052(C_13004);
LA4: ;
}
static N_INLINE(void, Decref_12801)(TY10602* C_12803) {
NI LOC2;
NIM_BOOL LOC5;
LOC2 = Atomicdec_3006(&(*C_12803).Refcount, 8);
if (!((NU64)(LOC2) < (NU64)(8))) goto LA3;
Rtladdzct_12401(C_12803);
goto LA1;
LA3: ;
LOC5 = Canbecycleroot_11416(C_12803);
if (!LOC5) goto LA6;
Rtladdcycleroot_12052(C_12803);
goto LA1;
LA6: ;
LA1: ;
}
static N_INLINE(void, asgnRef)(void** Dest_13014, void* Src_13015) {
TY10602* LOC4;
TY10602* LOC8;
if (!!((Src_13015 == NIM_NIL))) goto LA2;
LOC4 = Usrtocell_11412(Src_13015);
Incref_13002(LOC4);
LA2: ;
if (!!(((*Dest_13014) == NIM_NIL))) goto LA6;
LOC8 = Usrtocell_11412((*Dest_13014));
Decref_12801(LOC8);
LA6: ;
(*Dest_13014) = Src_13015;
}
N_NIMCALL(void, Registermodule_189229)(NimStringDesc* Filename_189231, TY51547* Module_189232) {
NI Length_189243;
Length_189243 = 0;
Length_189243 = Compmods_189227->Sup.len;
Compmods_189227 = (TY189208*) setLengthSeq(&(Compmods_189227)->Sup, sizeof(TY189206), (NI64)(Length_189243 + 1));
asgnRefNoCycle((void**) &Compmods_189227->data[Length_189243].Filename, copyString(Filename_189231));
asgnRef((void**) &Compmods_189227->data[Length_189243].Module, Module_189232);
}
N_NIMCALL(TY51547*, Newmodule_189289)(NimStringDesc* Filename_189291) {
TY51547* Result_189292;
TY34515 LOC1;
NIM_BOOL LOC3;
Result_189292 = 0;
Result_189292 = (TY51547*) newObj(NTI51523, sizeof(TY51547));
objectInit(Result_189292, NTI51547);
(*Result_189292).Sup.Id = -1;
(*Result_189292).Kind = ((NU8) 18);
memset((void*)&LOC1, 0, sizeof(LOC1));
nossplitFile(Filename_189291, &LOC1);
asgnRefNoCycle((void**) &(*Result_189292).Name, Getident_50016(LOC1.Name));
LOC3 = Isnimrodidentifier_73357((*(*Result_189292).Name).S);
if (!!(LOC3)) goto LA4;
Rawmessage_43553(((NU8) 19), (*(*Result_189292).Name).S);
LA4: ;
asgnRef((void**) &(*Result_189292).Owner, Result_189292);
(*Result_189292).Info = Newlineinfo_43574(Filename_189291, 1, 1);
(*Result_189292).Flags |=(1<<((NI32)(((NU8) 0))%(sizeof(NI32)*8)));
Initstrtable_51746(&(*Result_189292).Tab);
Registermodule_189229(Filename_189291, Result_189292);
Strtableadd_55064(&(*Result_189292).Tab, Result_189292);
return Result_189292;
}
N_NIMCALL(TY51547*, Compilemodule_189322)(NimStringDesc* Filename_189324, NIM_BOOL Ismainfile_189325, NIM_BOOL Issystemfile_189326) {
TY51547* Result_189358;
TY89031* Rd_189359;
NimStringDesc* F_189360;
NIM_BOOL LOC8;
Result_189358 = 0;
Rd_189359 = 0;
Rd_189359 = NIM_NIL;
F_189360 = 0;
F_189360 = nosaddFileExt(Filename_189324, ((NimStringDesc*) &TMP193872));
Result_189358 = Newmodule_189289(Filename_189324);
if (!Ismainfile_189325) goto LA2;
(*Result_189358).Flags |=(1<<((NI32)(((NU8) 15))%(sizeof(NI32)*8)));
LA2: ;
if (!Issystemfile_189326) goto LA5;
(*Result_189358).Flags |=(1<<((NI32)(((NU8) 16))%(sizeof(NI32)*8)));
LA5: ;
LOC8 = (Gcmd_42082 == ((NU8) 1));
if (LOC8) goto LA9;
LOC8 = (Gcmd_42082 == ((NU8) 2));
LA9: ;
if (!LOC8) goto LA10;
Rd_189359 = Handlesymbolfile_89060(Result_189358, F_189360);
if (!((*Result_189358).Sup.Id < 0)) goto LA13;
Internalerror_43571(((NimStringDesc*) &TMP193925));
LA13: ;
goto LA7;
LA10: ;
(*Result_189358).Sup.Id = Getid_51693();
LA7: ;
Processmodule_101035(Result_189358, F_189360, NIM_NIL, Rd_189359);
return Result_189358;
}
N_NIMCALL(TY51547*, Importmodule_189327)(NimStringDesc* Filename_189329) {
TY51547* Result_189330;
Result_189330 = 0;
Result_189330 = Getmodule_189256(Filename_189329);
if (!(Result_189330 == NIM_NIL)) goto LA2;
Result_189330 = Compilemodule_189322(Filename_189329, NIM_FALSE, NIM_FALSE);
goto LA1;
LA2: ;
if (!(((*Result_189330).Flags &(1<<((((NU8) 16))&31)))!=0)) goto LA4;
Limessage_43562((*Result_189330).Info, ((NU8) 37), (*(*Result_189330).Name).S);
goto LA1;
LA4: ;
LA1: ;
return Result_189330;
}
N_NIMCALL(void, Wantfile_189713)(NimStringDesc* Filename_189715) {
TY43532 LOC4;
if (!((Filename_189715) && (Filename_189715)->Sup.len == 0)) goto LA2;
LOC4 = Newlineinfo_43574(((NimStringDesc*) &TMP193927), 1, 1);
Limessage_43562(LOC4, ((NU8) 181), ((NimStringDesc*) &TMP193928));
LA2: ;
}
N_NIMCALL(void, Semanticpasses_189408)(void) {
TY101006 LOC1;
TY101006 LOC2;
TY101006 LOC3;
LOC1 = Verbosepass_183004();
Registerpass_101028(&LOC1);
LOC2 = Sempass_121001();
Registerpass_101028(&LOC2);
LOC3 = Transfpass_185005();
Registerpass_101028(&LOC3);
}
N_NIMCALL(void, Compileproject_189405)(NimStringDesc* Filename_189407) {
NimStringDesc* LOC1;
NimStringDesc* LOC2;
TY51547* LOC3;
NimStringDesc* LOC4;
TY51547* LOC5;
LOC1 = 0;
LOC1 = nosaddFileExt(((NimStringDesc*) &TMP194872), ((NimStringDesc*) &TMP193872));
LOC2 = 0;
LOC2 = nosJoinPath(Libpath_42110, LOC1);
LOC3 = 0;
LOC3 = Compilemodule_189322(LOC2, NIM_FALSE, NIM_TRUE);
LOC4 = 0;
LOC4 = nosaddFileExt(Filename_189407, ((NimStringDesc*) &TMP193872));
LOC5 = 0;
LOC5 = Compilemodule_189322(LOC4, NIM_TRUE, NIM_FALSE);
}
N_NIMCALL(void, Commandcompiletoc_189436)(NimStringDesc* Filename_189438) {
TY101006 LOC1;
TY101006 LOC2;
NimStringDesc* LOC6;
Semanticpasses_189408();
LOC1 = Cgenpass_156201();
Registerpass_101028(&LOC1);
LOC2 = Rodwritepass_107001();
Registerpass_101028(&LOC2);
Compileproject_189405(Filename_189438);
if (!!((Gcmd_42082 == ((NU8) 17)))) goto LA4;
LOC6 = 0;
LOC6 = nosChangeFileExt(Filename_189438, ((NimStringDesc*) &TMP193928));
Callccompiler_66370(LOC6);
LA4: ;
}
N_NIMCALL(void, Commandcompiletoecmascript_189601)(NimStringDesc* Filename_189603) {
TY101006 LOC1;
Gglobaloptions_42077 |=(1<<((NI32)(((NU8) 8))%(sizeof(NI32)*8)));
Settarget_47574(((NU8) 20), ((NU8) 11));
Initdefines_59049();
Semanticpasses_189408();
LOC1 = Ecmasgenpass_175004();
Registerpass_101028(&LOC1);
Compileproject_189405(Filename_189603);
}
N_NIMCALL(void, Commandpretty_189643)(NimStringDesc* Filename_189645) {
TY51525* Module_189646;
NimStringDesc* LOC1;
NimStringDesc* LOC5;
Module_189646 = 0;
LOC1 = 0;
LOC1 = nosaddFileExt(Filename_189645, ((NimStringDesc*) &TMP193872));
Module_189646 = Parsefile_88031(LOC1);
if (!!((Module_189646 == NIM_NIL))) goto LA3;
LOC5 = 0;
LOC5 = Getoutfile_42143(Filename_189645, ((NimStringDesc*) &TMP195088));
Rendermodule_81035(Module_189646, LOC5, 0);
LA3: ;
}
static N_INLINE(void, appendString)(NimStringDesc* Dest_18592, NimStringDesc* Src_18593) {
memcpy(((NCSTRING) (&(*Dest_18592).data[((*Dest_18592).Sup.len)-0])), ((NCSTRING) ((*Src_18593).data)), ((NI32) ((NI64)((NI64)((*Src_18593).Sup.len + 1) * 1))));
(*Dest_18592).Sup.len += (*Src_18593).Sup.len;
}
static N_INLINE(void, appendChar)(NimStringDesc* Dest_18609, NIM_CHAR C_18610) {
(*Dest_18609).data[((*Dest_18609).Sup.len)-0] = C_18610;
(*Dest_18609).data[((NI64)((*Dest_18609).Sup.len + 1))-0] = 0;
(*Dest_18609).Sup.len += 1;
}
N_NIMCALL(void, Commandgendepend_189410)(NimStringDesc* Filename_189412) {
TY101006 LOC1;
TY101006 LOC2;
NimStringDesc* LOC3;
NimStringDesc* LOC4;
NimStringDesc* LOC5;
Semanticpasses_189408();
LOC1 = Gendependpass_184004();
Registerpass_101028(&LOC1);
LOC2 = Cleanuppass_183006();
Registerpass_101028(&LOC2);
Compileproject_189405(Filename_189412);
Generatedot_184006(Filename_189412);
LOC3 = 0;
LOC4 = 0;
LOC4 = nosChangeFileExt(Filename_189412, ((NimStringDesc*) &TMP195486));
LOC5 = 0;
LOC5 = nosChangeFileExt(Filename_189412, ((NimStringDesc*) &TMP195487));
LOC3 = rawNewString(LOC4->Sup.len + LOC5->Sup.len + 13);
appendString(LOC3, ((NimStringDesc*) &TMP195485));
appendString(LOC3, LOC4);
appendChar(LOC3, 32);
appendString(LOC3, LOC5);
Execexternalprogram_66373(LOC3);
}
N_NIMCALL(void, Commandcheck_189433)(NimStringDesc* Filename_189435) {
Semanticpasses_189408();
Compileproject_189405(Filename_189435);
}
N_NIMCALL(void, Commandscan_189666)(NimStringDesc* Filename_189668) {
NimStringDesc* F_189669;
TY71013* Stream_189670;
TY73267 L_189682;
TY73263* Tok_189683;
F_189669 = 0;
F_189669 = nosaddFileExt(Filename_189668, ((NimStringDesc*) &TMP193872));
Stream_189670 = 0;
Stream_189670 = Llstreamopen_71032(F_189669, ((NU8) 0));
if (!!((Stream_189670 == NIM_NIL))) goto LA2;
memset((void*)&L_189682, 0, sizeof(L_189682));
L_189682.Sup.Sup.m_type = NTI73267;
Tok_189683 = 0;
Tok_189683 = (TY73263*) newObj(NTI73261, sizeof(TY73263));
(*Tok_189683).m_type = NTI73263;
Openlexer_73298(&L_189682, F_189669, Stream_189670);
while (1) {
Rawgettok_73304(&L_189682, Tok_189683);
Printtok_73320(Tok_189683);
if (!((*Tok_189683).Toktype == ((NU8) 1))) goto LA6;
goto LA4;
LA6: ;
} LA4: ;
Closelexer_73316(&L_189682);
goto LA1;
LA2: ;
Rawmessage_43553(((NU8) 2), F_189669);
LA1: ;
}
N_NIMCALL(void, Commandinteractive_189616)(void) {
TY101006 LOC1;
TY101006 LOC2;
TY101006 LOC3;
TY101006 LOC4;
NimStringDesc* LOC5;
NimStringDesc* LOC6;
TY51547* LOC7;
TY51547* M_189630;
TY71013* LOC8;
Gglobaloptions_42077 |=(1<<((NI32)(((NU8) 8))%(sizeof(NI32)*8)));
Settarget_47574(((NU8) 21), ((NU8) 12));
Initdefines_59049();
LOC1 = Verbosepass_183004();
Registerpass_101028(&LOC1);
LOC2 = Sempass_121001();
Registerpass_101028(&LOC2);
LOC3 = Transfpass_185005();
Registerpass_101028(&LOC3);
LOC4 = Evalpass_111046();
Registerpass_101028(&LOC4);
LOC5 = 0;
LOC5 = nosaddFileExt(((NimStringDesc*) &TMP194872), ((NimStringDesc*) &TMP193872));
LOC6 = 0;
LOC6 = nosJoinPath(Libpath_42110, LOC5);
LOC7 = 0;
LOC7 = Compilemodule_189322(LOC6, NIM_FALSE, NIM_TRUE);
M_189630 = 0;
M_189630 = Newmodule_189289(((NimStringDesc*) &TMP195490));
(*M_189630).Sup.Id = Getid_51693();
(*M_189630).Flags |=(1<<((NI32)(((NU8) 15))%(sizeof(NI32)*8)));
LOC8 = 0;
LOC8 = Llstreamopenstdin_71038();
Processmodule_101035(M_189630, ((NimStringDesc*) &TMP195490), LOC8, NIM_NIL);
}
N_NIMCALL(void, Maincommand_189201)(NimStringDesc* Cmd_189203, NimStringDesc* Filename_189204) {
TY34515 LOC4;
NU8 LOC5;
NimStringDesc* LOC6;
TY51525* LOC7;
Appendstr_39061(&Searchpaths_42079, Libpath_42110);
if (!!(((Filename_189204) && (Filename_189204)->Sup.len == 0))) goto LA2;
memset((void*)&LOC4, 0, sizeof(LOC4));
nossplitFile(Filename_189204, &LOC4);
Prependstr_39071(&Searchpaths_42079, LOC4.Dir);
LA2: ;
Setid_51695(100);
Gincludefile_101051 = Parsefile_88031;
Gimportmodule_101047 = Importmodule_189327;
LOC5 = Whichkeyword_68468(Cmd_189203);
switch (LOC5) {
case ((NU8) 107):
case ((NU8) 200):
case ((NU8) 176):
case ((NU8) 192):
Gcmd_42082 = ((NU8) 1);
Wantfile_189713(Filename_189204);
Commandcompiletoc_189436(Filename_189204);
break;
case ((NU8) 179):
Gcmd_42082 = ((NU8) 17);
Wantfile_189713(Filename_189204);
Rawmessage_43553(((NU8) 176), Cmd_189203);
break;
case ((NU8) 201):
Gcmd_42082 = ((NU8) 2);
Wantfile_189713(Filename_189204);
Commandcompiletoc_189436(Filename_189204);
break;
case ((NU8) 202):
case ((NU8) 211):
Gcmd_42082 = ((NU8) 3);
Wantfile_189713(Filename_189204);
Commandcompiletoecmascript_189601(Filename_189204);
break;
case ((NU8) 203):
Gcmd_42082 = ((NU8) 4);
Wantfile_189713(Filename_189204);
Rawmessage_43553(((NU8) 176), Cmd_189203);
break;
case ((NU8) 204):
Gcmd_42082 = ((NU8) 6);
Wantfile_189713(Filename_189204);
Commandpretty_189643(Filename_189204);
break;
case ((NU8) 205):
Gcmd_42082 = ((NU8) 7);
Loadspecialconfig_76007(((NimStringDesc*) &TMP195089));
Wantfile_189713(Filename_189204);
Commanddoc_151001(Filename_189204);
break;
case ((NU8) 212):
Gcmd_42082 = ((NU8) 14);
Loadspecialconfig_76007(((NimStringDesc*) &TMP195089));
Wantfile_189713(Filename_189204);
Commandrst2html_151004(Filename_189204);
break;
case ((NU8) 213):
Gcmd_42082 = ((NU8) 15);
Loadspecialconfig_76007(((NimStringDesc*) &TMP195477));
Wantfile_189713(Filename_189204);
Commandrst2tex_151007(Filename_189204);
break;
case ((NU8) 206):
Gcmd_42082 = ((NU8) 8);
Wantfile_189713(Filename_189204);
Commandgendepend_189410(Filename_189204);
break;
case ((NU8) 207):
Gcmd_42082 = ((NU8) 9);
Listsymbols_59062();
break;
case ((NU8) 208):
Gcmd_42082 = ((NU8) 10);
Wantfile_189713(Filename_189204);
Commandcheck_189433(Filename_189204);
break;
case ((NU8) 209):
Gcmd_42082 = ((NU8) 11);
Wantfile_189713(Filename_189204);
LOC6 = 0;
LOC6 = nosaddFileExt(Filename_189204, ((NimStringDesc*) &TMP193872));
LOC7 = 0;
LOC7 = Parsefile_88031(LOC6);
break;
case ((NU8) 210):
Gcmd_42082 = ((NU8) 12);
Wantfile_189713(Filename_189204);
Commandscan_189666(Filename_189204);
Messageout_43550(((NimStringDesc*) &TMP195489));
break;
case ((NU8) 214):
Gcmd_42082 = ((NU8) 16);
Commandinteractive_189616();
break;
default:
Rawmessage_43553(((NU8) 176), Cmd_189203);
break;
}
}
N_NOINLINE(void, mainInit)(void) {
asgnRefNoCycle((void**) &Compmods_189227, (TY189208*) newSeq(NTI189208, 0));
}

