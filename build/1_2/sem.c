/* Generated by Nimrod Compiler v0.8.10 */
/*   (c) 2010 Andreas Rumpf */

typedef long long int NI;
typedef unsigned long long int NU;
#include "nimbase.h"

typedef struct TY101006 TY101006;
typedef struct TY101002 TY101002;
typedef struct TY51547 TY51547;
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct TY89031 TY89031;
typedef struct TY51525 TY51525;
typedef struct TY103012 TY103012;
typedef struct TNimObject TNimObject;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct TY103006 TY103006;
typedef struct TY55107 TY55107;
typedef struct TY55109 TY55109;
typedef struct TY51529 TY51529;
typedef struct TY51527 TY51527;
typedef struct TY51900 TY51900;
typedef struct TY51896 TY51896;
typedef struct TY51898 TY51898;
typedef struct TY39019 TY39019;
typedef struct TY39013 TY39013;
typedef struct TY43532 TY43532;
typedef struct TY50005 TY50005;
typedef struct TY51551 TY51551;
typedef struct TY50011 TY50011;
typedef struct TY51539 TY51539;
typedef struct TY48008 TY48008;
typedef struct TY51543 TY51543;
typedef struct TY51519 TY51519;
typedef struct TY51549 TY51549;
typedef struct TY104004 TY104004;
typedef struct TY55092 TY55092;
typedef struct TY10602 TY10602;
typedef struct TY10614 TY10614;
typedef struct TY10990 TY10990;
typedef struct TY10618 TY10618;
typedef struct TY10610 TY10610;
typedef struct TY8004 TY8004;
typedef struct TY10988 TY10988;
typedef struct TY111006 TY111006;
typedef struct TY111004 TY111004;
typedef struct TY51569 TY51569;
typedef struct TY51567 TY51567;
typedef struct TY51565 TY51565;
typedef struct TY123058 TY123058;
typedef struct TY51563 TY51563;
typedef struct TY51561 TY51561;
typedef struct TY51559 TY51559;
typedef struct TY122712 TY122712;
typedef struct TY103002 TY103002;
typedef struct TY35221 TY35221;
typedef struct TY89029 TY89029;
typedef struct TY55223 TY55223;
typedef struct TY55221 TY55221;
typedef struct TY55219 TY55219;
struct TGenericSeq {
NI len;
NI space;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
typedef N_NIMCALL_PTR(TY101002*, TY101007) (TY51547* Module_101008, NimStringDesc* Filename_101009);
typedef N_NIMCALL_PTR(TY101002*, TY101012) (TY51547* Module_101013, NimStringDesc* Filename_101014, TY89031* Rd_101015);
typedef N_NIMCALL_PTR(TY51525*, TY101018) (TY101002* P_101019, TY51525* N_101020);
typedef N_NIMCALL_PTR(TY51525*, TY101023) (TY101002* P_101024, TY51525* Toplevelstmt_101025);
struct TY101006 {
TY101007 Open;
TY101012 Opencached;
TY101018 Close;
TY101023 Process;
};
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TNimObject {
TNimType* m_type;
};
struct TY101002 {
  TNimObject Sup;
};
struct TY51529 {
TNimType* m_type;
NI Counter;
TY51527* Data;
};
struct TY55107 {
NI Tos;
TY55109* Stack;
};
struct TY51900 {
NI Counter;
NI Max;
TY51896* Head;
TY51898* Data;
};
struct TY39019 {
TNimType* m_type;
TY39013* Head;
TY39013* Tail;
NI Counter;
};
typedef N_NIMCALL_PTR(TY51525*, TY103032) (TY103012* C_103033, TY51525* N_103034);
typedef N_NIMCALL_PTR(TY51525*, TY103037) (TY103012* C_103038, TY51525* N_103039);
struct TY103012 {
  TY101002 Sup;
TY51547* Module;
TY103006* P;
NI Instcounter;
TY51525* Generics;
NI Lastgenericidx;
TY55107 Tab;
TY51900 Ambiguoussymbols;
TY51527* Converters;
TY39019 Optionstack;
TY39019 Libs;
NIM_BOOL Fromcache;
TY103032 Semconstexpr;
TY103037 Semexpr;
TY51900 Includedfiles;
NimStringDesc* Filename;
TY51529 Userpragmas;
};
struct TY43532 {
NI16 Line;
NI16 Col;
NI32 Fileindex;
};
struct TY50005 {
  TNimObject Sup;
NI Id;
};
struct TY51539 {
NU8 K;
NU8 S;
NU8 Flags;
TY51551* T;
TY48008* R;
NI A;
};
struct TY51547 {
  TY50005 Sup;
NU8 Kind;
NU8 Magic;
TY51551* Typ;
TY50011* Name;
TY43532 Info;
TY51547* Owner;
NU32 Flags;
TY51529 Tab;
TY51525* Ast;
NU32 Options;
NI Position;
NI Offset;
TY51539 Loc;
TY51543* Annex;
};
struct TY51525 {
TY51551* Typ;
NimStringDesc* Comment;
TY43532 Info;
NU8 Flags;
NU8 Kind;
union {
struct {NI64 Intval;
} S1;
struct {NF64 Floatval;
} S2;
struct {NimStringDesc* Strval;
} S3;
struct {TY51547* Sym;
} S4;
struct {TY50011* Ident;
} S5;
struct {TY51519* Sons;
} S6;
} KindU;
};
struct TY51551 {
  TY50005 Sup;
NU8 Kind;
TY51549* Sons;
TY51525* N;
NU8 Flags;
NU8 Callconv;
TY51547* Owner;
TY51547* Sym;
NI64 Size;
NI Align;
NI Containerid;
TY51539 Loc;
};
struct TY50011 {
  TY50005 Sup;
NimStringDesc* S;
TY50011* Next;
NI H;
};
struct TY55092 {
NI H;
TY50011* Name;
};
struct TY104004 {
NI Stackptr;
TY55092 It;
TY51547* M;
NU8 Mode;
};
struct TY10602 {
NI Refcount;
TNimType* Typ;
};
struct TY10618 {
NI Len;
NI Cap;
TY10602** D;
};
struct TY10614 {
NI Counter;
NI Max;
TY10610* Head;
TY10610** Data;
};
struct TY8004 {
void* Debuginfo;
NI32 Lockcount;
NI32 Recursioncount;
NI Owningthread;
NI Locksemaphore;
NI32 Reserved;
};
struct TY10988 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY10990 {
TY10618 Zct;
TY10618 Decstack;
TY10614 Cycleroots;
TY10618 Tempstack;
TY8004 Cyclerootslock;
TY8004 Zctlock;
TY10988 Stat;
};
struct TY51565 {
TY50005* Key;
TY51525* Val;
};
struct TY51569 {
NI Counter;
TY51567* Data;
};
struct TY111004 {
TY51569 Mapping;
TY51547* Prc;
TY51525* Call;
TY111004* Next;
TY51519* Params;
};
typedef NU8 TY178254[16];
struct TY51559 {
TY50005* Key;
TNimObject* Val;
};
struct TY51563 {
NI Counter;
TY51561* Data;
};
struct TY123058 {
NI Exactmatches;
NI Subtypematches;
NI Intconvmatches;
NI Convmatches;
NI Genericmatches;
NU8 State;
TY51551* Callee;
TY51547* Calleesym;
TY51525* Call;
TY51563 Bindings;
NIM_BOOL Basetypematch;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
typedef N_NIMCALL_PTR(NIM_BOOL, TY93025) (TY51551* T_93030, TNimObject* Closure_93031);
struct TY122712 {
TY103012* C;
TY51563 Typemap;
TY51563 Symmap;
TY43532 Info;
};
typedef NimStringDesc* TY69066[3];
struct TY39013 {
  TNimObject Sup;
TY39013* Prev;
TY39013* Next;
};
struct TY103002 {
  TY39013 Sup;
NU32 Options;
NU8 Defaultcc;
TY51543* Dynlib;
NU32 Notes;
};
typedef NimStringDesc* TY43865[1];
typedef NU8 TY118007[28];
struct TY103006 {
TY51547* Owner;
TY51547* Resultsym;
NI Nestedloopcounter;
NI Nestedblockcounter;
};
typedef NU8 TY130939[29];
typedef N_NIMCALL_PTR(TY51525*, TY101048) (NimStringDesc* Filename_101049);
typedef NimStringDesc* TY111148[2];
typedef NimStringDesc* TY129558[2];
struct TY55219 {
NI Key;
NI Val;
};
struct TY55223 {
NI Counter;
TY55221* Data;
};
struct TY89029 {
NI Lastidxkey;
NI Lastidxval;
TY55223 Tab;
TY48008* R;
NI Offset;
};
struct TY89031 {
  TNimObject Sup;
NI Pos;
NimStringDesc* S;
NU32 Options;
NU8 Reason;
TY35221* Moddeps;
TY35221* Files;
NI Dataidx;
NI Convertersidx;
NI Initidx;
NI Interfidx;
NI Compilerprocsidx;
NI Cgenidx;
NimStringDesc* Filename;
TY89029 Index;
TY89029 Imports;
NI Readerindex;
NI Line;
NI Moduleid;
TY51563 Syms;
};
typedef NI TY8614[8];
struct TY51896 {
TY51896* Next;
NI Key;
TY8614 Bits;
};
struct TY48008 {
  TNimObject Sup;
TY48008* Left;
TY48008* Right;
NI Length;
NimStringDesc* Data;
};
struct TY51543 {
  TY39013 Sup;
NU8 Kind;
NIM_BOOL Generated;
TY48008* Name;
TY51525* Path;
};
struct TY10610 {
TY10610* Next;
NI Key;
TY8614 Bits;
};
struct TY111006 {
  TY101002 Sup;
TY51547* Module;
TY111004* Tos;
TY51525* Lastexception;
NIM_BOOL Opteval;
};
struct TY51527 {
  TGenericSeq Sup;
  TY51547* data[SEQ_DECL_SIZE];
};
struct TY55109 {
  TGenericSeq Sup;
  TY51529 data[SEQ_DECL_SIZE];
};
struct TY51898 {
  TGenericSeq Sup;
  TY51896* data[SEQ_DECL_SIZE];
};
struct TY51519 {
  TGenericSeq Sup;
  TY51525* data[SEQ_DECL_SIZE];
};
struct TY51549 {
  TGenericSeq Sup;
  TY51551* data[SEQ_DECL_SIZE];
};
struct TY51567 {
  TGenericSeq Sup;
  TY51565 data[SEQ_DECL_SIZE];
};
struct TY51561 {
  TGenericSeq Sup;
  TY51559 data[SEQ_DECL_SIZE];
};
struct TY35221 {
  TGenericSeq Sup;
  NimStringDesc* data[SEQ_DECL_SIZE];
};
struct TY55221 {
  TGenericSeq Sup;
  TY55219 data[SEQ_DECL_SIZE];
};
N_NIMCALL(void, Initpass_101031)(TY101006* P_101034);
N_NIMCALL(TY101002*, Myopen_142545)(TY51547* Module_142547, NimStringDesc* Filename_142548);
N_NIMCALL(TY103012*, Newcontext_103046)(TY51547* Module_103048, NimStringDesc* Nimfile_103049);
N_NIMCALL(void, Internalerror_43567)(TY43532 Info_43569, NimStringDesc* Errmsg_43570);
N_NIMCALL(TY51525*, Semconstexpr_121171)(TY103012* C_121173, TY51525* N_121174);
N_NIMCALL(TY51525*, Semexprwithtype_121122)(TY103012* C_121124, TY51525* N_121125, NU8 Flags_121128);
N_NIMCALL(TY51525*, Semexpr_121115)(TY103012* C_121117, TY51525* N_121118, NU8 Flags_121121);
N_NIMCALL(TY51547*, Lookup_104049)(TY103012* C_104051, TY51525* N_104052);
N_NIMCALL(TY51525*, Semsym_129074)(TY103012* C_129076, TY51525* N_129077, TY51547* S_129078, NU8 Flags_129079);
N_NIMCALL(void, Limessage_43562)(TY43532 Info_43564, NU8 Msg_43565, NimStringDesc* Arg_43566);
N_NIMCALL(TY51547*, Getmodule_55206)(TY51547* S_55208);
N_NIMCALL(TY51525*, Symchoice_121549)(TY103012* C_121551, TY51525* N_121552, TY51547* S_121553);
N_NIMCALL(TY51547*, Initoverloaditer_104058)(TY104004* O_104061, TY103012* C_104062, TY51525* N_104063);
N_NIMCALL(TY51547*, Nextoverloaditer_104064)(TY104004* O_104067, TY103012* C_104068, TY51525* N_104069);
N_NIMCALL(TY51525*, Newsymnode_51734)(TY51547* Sym_51736);
N_NIMCALL(void, Markused_121065)(TY51525* N_121067, TY51547* S_121068);
N_NIMCALL(TY51525*, Newnodeit_51741)(NU8 Kind_51743, TY43532 Info_51744, TY51551* Typ_51745);
N_NIMCALL(TY51551*, Newtypes_103077)(NU8 Kind_103079, TY103012* C_103080);
N_NIMCALL(void, Addson_51823)(TY51525* Father_51825, TY51525* Son_51826);
N_NIMCALL(TY51525*, Copytree_51858)(TY51525* Src_51860);
static N_INLINE(void, asgnRef)(void** Dest_13014, void* Src_13015);
static N_INLINE(void, Incref_13002)(TY10602* C_13004);
static N_INLINE(NI, Atomicinc_3001)(NI* Memloc_3004, NI X_3005);
static N_INLINE(NIM_BOOL, Canbecycleroot_11416)(TY10602* C_11418);
static N_INLINE(void, Rtladdcycleroot_12052)(TY10602* C_12054);
N_NOINLINE(void, Incl_10874)(TY10614* S_10877, TY10602* Cell_10878);
static N_INLINE(TY10602*, Usrtocell_11412)(void* Usr_11414);
static N_INLINE(void, Decref_12801)(TY10602* C_12803);
static N_INLINE(NI, Atomicdec_3006)(NI* Memloc_3009, NI X_3010);
static N_INLINE(void, Rtladdzct_12401)(TY10602* C_12403);
N_NOINLINE(void, Addzct_11401)(TY10618* S_11404, TY10602* C_11405);
N_NIMCALL(TY51525*, Semmacroexpr_122093)(TY103012* C_122095, TY51525* N_122096, TY51547* Sym_122097, NIM_BOOL Semcheck_122098);
N_NIMCALL(TY111006*, Newevalcontext_111033)(TY51547* Module_111035, NimStringDesc* Filename_111036, NIM_BOOL Opteval_111037);
N_NIMCALL(TY111004*, Newstackframe_111024)(void);
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13018, void* Src_13019);
N_NIMCALL(TGenericSeq*, setLengthSeq)(TGenericSeq* Seq_18803, NI Elemsize_18804, NI Newlen_18805);
N_NIMCALL(void, Pushstackframe_111026)(TY111006* C_111028, TY111004* T_111029);
N_NIMCALL(TY51525*, Eval_111038)(TY111006* C_111040, TY51525* N_111041);
N_NIMCALL(void, Popstackframe_111030)(TY111006* C_111032);
N_NIMCALL(NIM_BOOL, Cyclictree_92043)(TY51525* N_92045);
N_NIMCALL(TY51525*, Semaftermacrocall_121246)(TY103012* C_121248, TY51525* N_121249, TY51547* S_121250);
N_NIMCALL(TY51525*, Semstmt_121143)(TY103012* C_121145, TY51525* N_121146);
N_NIMCALL(TY51525*, Semasgn_137665)(TY103012* C_137667, TY51525* N_137668);
N_NIMCALL(void, Checksonslen_103099)(TY51525* N_103101, NI Length_103102);
N_NIMCALL(TY51525*, Builtinfieldaccess_132226)(TY103012* C_132228, TY51525* N_132229, NU8 Flags_132230);
N_NIMCALL(TY51547*, Qualifiedlookup_104053)(TY103012* C_104055, TY51525* N_104056, NIM_BOOL Ambiguouscheck_104057);
N_NIMCALL(TY50011*, Consideracc_121003)(TY51525* N_121005);
N_NIMCALL(NimStringDesc*, Rendertree_81042)(TY51525* N_81044, NU8 Renderflags_81047);
N_NIMCALL(TY51547*, Getsymfromlist_55197)(TY51525* List_55199, TY50011* Ident_55200, NI Start_55201);
N_NIMCALL(NIM_BOOL, Istypeexpr_131930)(TY51525* N_131932);
N_NIMCALL(TY51551*, Skiptypes_93085)(TY51551* T_93087, NU64 Kinds_93088);
N_NIMCALL(TY51547*, Lookupinrecordandbuildcheck_131955)(TY103012* C_131957, TY51525* N_131958, TY51525* R_131959, TY50011* Field_131960, TY51525** Check_131962);
N_NIMCALL(NI, Sonslen_51803)(TY51525* N_51805);
N_NIMCALL(void, Checkminsonslen_103103)(TY51525* N_103105, NI Length_103106);
N_NIMCALL(void, Illformedast_103092)(TY51525* N_103094);
N_NIMCALL(TY51525*, Newnodei_51737)(NU8 Kind_51739, TY43532 Info_51740);
N_NIMCALL(TY51525*, Lastson_51809)(TY51525* N_51811);
N_NIMCALL(void, unsureAsgnRef)(void** Dest_13026, void* Src_13027);
N_NIMCALL(TY51525*, Newidentnode_51730)(TY50011* Ident_51732, TY43532 Info_51733);
N_NIMCALL(TY50011*, Getident_50016)(NimStringDesc* Identifier_50018);
N_NIMCALL(TY51525*, Makederef_132197)(TY51525* N_132199);
N_NIMCALL(TY51525*, Propertywriteaccess_137641)(TY103012* C_137643, TY51525* N_137644, TY51525* A_137645);
static N_INLINE(TY51525*, HEX5BHEX5D_53074)(TY51525* N_53076, NI I_53077);
static N_INLINE(void, appendString)(NimStringDesc* Dest_18592, NimStringDesc* Src_18593);
static N_INLINE(void, appendChar)(NimStringDesc* Dest_18609, NIM_CHAR C_18610);
N_NIMCALL(NimStringDesc*, rawNewString)(NI Space_18487);
N_NIMCALL(TY51525*, Semdirectcallanalyseeffects_131104)(TY103012* C_131106, TY51525* N_131107, NU8 Flags_131108);
N_NIMCALL(TY51525*, Semdirectcall_125747)(TY103012* C_125749, TY51525* N_125750, NU32 Filter_125751);
N_NIMCALL(TY51525*, Semdirectcallwithbinding_125602)(TY103012* C_125604, TY51525* N_125605, TY51525* F_125606, NU32 Filter_125607, TY51525* Initialbinding_125608);
N_NIMCALL(void, Initcandidate_123092)(TY123058* C_123095, TY51547* Callee_123096, TY51525* Binding_123097);
static N_INLINE(void, Initcandidateaux_123081)(TY123058* C_123084, TY51551* Callee_123085);
N_NIMCALL(void, Initidtable_51754)(TY51563* X_51757);
N_NIMCALL(void, Idtableput_55174)(TY51563* T_55177, TY50005* Key_55178, TNimObject* Val_55179);
N_NIMCALL(void, Matches_124970)(TY103012* C_124972, TY51525* N_124973, TY123058* M_124975);
N_NIMCALL(TY51551*, Base_93021)(TY51551* T_93023);
N_NIMCALL(void, Intsetinit_51924)(TY51900* S_51927);
N_NIMCALL(NIM_BOOL, Intsetcontainsorincl_51928)(TY51900* S_51931, NI Key_51932);
N_NIMCALL(TY51525*, Paramtypesmatch_124731)(TY103012* C_124733, TY123058* M_124735, TY51551* F_124736, TY51551* A_124737, TY51525* Arg_124738);
N_NIMCALL(TY51525*, Paramtypesmatchaux_124585)(TY103012* C_124587, TY123058* M_124589, TY51551* F_124590, TY51551* A_124591, TY51525* Arg_124592);
N_NIMCALL(NU8, Typerel_123350)(TY51563* Mapping_123353, TY51551* F_123354, TY51551* A_123355);
N_NIMCALL(TY51551*, Lastson_51812)(TY51551* N_51814);
N_NIMCALL(NU8, Handlerange_123381)(TY51551* F_123383, TY51551* A_123384, NU8 Min_123385, NU8 Max_123386);
N_NIMCALL(NU8, Handlefloatrange_123447)(TY51551* F_123449, TY51551* A_123450);
N_NIMCALL(NU8, Minrel_123520)(NU8 A_123522, NU8 B_123523);
N_NIMCALL(NI64, Lengthord_93007)(TY51551* T_93009);
N_NIMCALL(NIM_BOOL, Isordinaltype_93069)(TY51551* T_93071);
N_NIMCALL(void, Internalerror_43571)(NimStringDesc* Errmsg_43573);
N_NIMCALL(NU8, Tuplerel_123534)(TY51563* Mapping_123537, TY51551* F_123538, TY51551* A_123539);
N_NIMCALL(NI, Sonslen_51806)(TY51551* N_51808);
N_NIMCALL(NIM_BOOL, Isobjectsubtype_123490)(TY51551* A_123492, TY51551* F_123493);
N_NIMCALL(NI64, Firstord_93001)(TY51551* T_93003);
N_NIMCALL(TNimObject*, Idtableget_55166)(TY51563 T_55168, TY50005* Key_55169);
N_NIMCALL(TY51551*, Concretetype_123356)(TY51563 Mapping_123358, TY51551* T_123359);
N_NIMCALL(TY51551*, Newtype_51706)(NU8 Kind_51708, TY51547* Owner_51709);
N_NIMCALL(void, Addson_51827)(TY51551* Father_51829, TY51551* Son_51830);
N_NIMCALL(NimStringDesc*, reprEnum)(NI E_19579, TNimType* Typ_19580);
N_NIMCALL(TY51525*, Implicitconv_124504)(NU8 Kind_124506, TY51551* F_124507, TY51525* Arg_124508, TY123058* M_124509, TY103012* C_124510);
N_NIMCALL(NIM_BOOL, Containsgenerictype_122223)(TY51551* T_122225);
N_NIMCALL(NIM_BOOL, Iterovertype_93038)(TY51551* T_93040, TY93025 Iter_93041, TNimObject* Closure_93042);
N_NIMCALL(NIM_BOOL, Containsgenerictypeiter_122207)(TY51551* T_122209, TNimObject* Closure_122210);
N_NIMCALL(TY51551*, Getinstantiatedtype_124475)(TY103012* C_124477, TY51525* Arg_124478, TY123058* M_124479, TY51551* F_124480);
N_NIMCALL(TY51551*, Generatetypeinstance_123006)(TY103012* P_123008, TY51563 Pt_123009, TY51525* Arg_123010, TY51551* T_123011);
N_NIMCALL(void, Copyidtable_51798)(TY51563* Dest_51801, TY51563 Src_51802);
N_NIMCALL(void, Pushinfocontext_43606)(TY43532 Info_43608);
N_NIMCALL(TY51551*, Replacetypevarst_122717)(TY122712* Cl_122720, TY51551* T_122721);
N_NIMCALL(TY51551*, Lookuptypevar_122862)(TY122712* Cl_122864, TY51551* T_122865);
N_NIMCALL(NimStringDesc*, Typetostring_93014)(TY51551* Typ_93016, NU8 Prefer_93017);
N_NIMCALL(TY51551*, Copytype_51770)(TY51551* T_51772, TY51547* Owner_51773, NIM_BOOL Keepid_51774);
N_NIMCALL(TY51551*, Searchinsttypes_122158)(TY51563 Tab_122160, TY51551* Key_122161);
N_NIMCALL(NIM_BOOL, Sametype_93048)(TY51551* X_93050, TY51551* Y_93051);
N_NIMCALL(TY51525*, Replacetypevarsn_122727)(TY122712* Cl_122730, TY51525* N_122731);
N_NIMCALL(TY51525*, Copynode_51855)(TY51525* Src_51857);
N_NIMCALL(TY51547*, Replacetypevarss_122722)(TY122712* Cl_122725, TY51547* S_122726);
N_NIMCALL(TY51547*, Copysym_51775)(TY51547* S_51777, NIM_BOOL Keepid_51778);
N_NIMCALL(void, Newsons_51815)(TY51525* Father_51817, NI Length_51818);
N_NIMCALL(void, Checkconstructedtype_122667)(TY43532 Info_122669, TY51551* T_122670);
N_NIMCALL(NI64, Computesize_93110)(TY51551* Typ_93112);
N_NIMCALL(void, Popinfocontext_43609)(void);
N_NIMCALL(TY51525*, Userconvmatch_124523)(TY103012* C_124525, TY123058* M_124527, TY51551* F_124528, TY51551* A_124529, TY51525* Arg_124530);
N_NIMCALL(void, Initcandidate_123086)(TY123058* C_123089, TY51551* Callee_123090);
N_NIMCALL(void, Copycandidate_123135)(TY123058* A_123138, TY123058* B_123139);
N_NIMCALL(void, genericAssign)(void* Dest_19365, void* Src_19366, TNimType* Mt_19367);
N_NIMCALL(NI, Cmpcandidates_123141)(TY123058* A_123143, TY123058* B_123144);
N_NIMCALL(void, Setson_124927)(TY51525* Father_124929, NI At_124930, TY51525* Son_124931);
N_NIMCALL(TY51551*, Getsystype_98008)(NU8 Kind_98010);
N_NIMCALL(NIM_BOOL, Samemethoddispatcher_125526)(TY51547* A_125528, TY51547* B_125529);
N_NIMCALL(NimStringDesc*, nsuFormatOpenArray)(NimStringDesc* Formatstr_24965, NimStringDesc** A_24967, NI A_24967Len0);
N_NIMCALL(NimStringDesc*, Msgkindtostring_43588)(NU8 Kind_43590);
N_NIMCALL(NimStringDesc*, Getprocheader_93018)(TY51547* Sym_93020);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* Src_18508);
N_NIMCALL(TY51547*, Generateinstance_122152)(TY103012* C_122154, TY51547* Fn_122155, TY51563 Pt_122156, TY43532 Info_122157);
N_NIMCALL(TY51547*, Getcurrowner_103107)(void);
N_NIMCALL(void, Pushowner_103109)(TY51547* Owner_103111);
N_NIMCALL(void, Openscope_55149)(TY55107* Tab_55152);
N_NIMCALL(void, Instantiategenericparamlist_122227)(TY103012* C_122229, TY51525* N_122230, TY51563 Pt_122231);
N_NIMCALL(TY51547*, Newsym_51701)(NU8 Symkind_51703, TY50011* Name_51704, TY51547* Owner_51705);
N_NIMCALL(void, Adddecl_104026)(TY103012* C_104028, TY51547* Sym_104029);
N_NIMCALL(void, Semparamlist_121147)(TY103012* C_121149, TY51525* N_121150, TY51525* Genericparams_121151, TY51547* S_121152);
N_NIMCALL(TY51551*, Semproctypenode_128437)(TY103012* C_128439, TY51525* N_128440, TY51525* Genericparams_128441, TY51551* Prev_128442);
N_NIMCALL(TY51551*, Neworprevtype_125986)(NU8 Kind_125988, TY51551* Prev_125989, TY103012* C_125990);
N_NIMCALL(TY103002*, Lastoptionentry_103053)(TY103012* C_103055);
N_NIMCALL(TY51551*, Paramtype_128416)(TY103012* C_128418, TY51525* N_128419, TY51525* Genericparams_128420, TY51900* Cl_128422);
N_NIMCALL(TY51551*, Semtypenode_121138)(TY103012* C_121140, TY51525* N_121141, TY51551* Prev_121142);
N_NIMCALL(TY51547*, Semtypeident_126724)(TY103012* C_126726, TY51525* N_126727);
N_NIMCALL(TY51551*, Semarray_126573)(TY103012* C_126575, TY51525* N_126576, TY51551* Prev_126577);
N_NIMCALL(TY51551*, Semrangeaux_126421)(TY103012* C_126423, TY51525* N_126424, TY51551* Prev_126425);
N_NIMCALL(NIM_BOOL, Enumhaswholes_93072)(TY51551* T_93074);
N_NIMCALL(NIM_BOOL, Levalue_51870)(TY51525* A_51872, TY51525* B_51873);
N_NIMCALL(TY51551*, Semcontainer_126325)(TY103012* C_126327, TY51525* N_126328, NU8 Kind_126329, NimStringDesc* Kindstr_126330, TY51551* Prev_126331);
N_NIMCALL(TY51551*, Semrange_126520)(TY103012* C_126522, TY51525* N_126523, TY51551* Prev_126524);
N_NIMCALL(TY51551*, Semset_126284)(TY103012* C_126286, TY51525* N_126287, TY51551* Prev_126288);
N_NIMCALL(TY51551*, Semordinal_126682)(TY103012* C_126684, TY51525* N_126685, TY51551* Prev_126686);
N_NIMCALL(TY51551*, Semgeneric_126906)(TY103012* C_126908, TY51525* N_126909, TY51547* S_126910, TY51551* Prev_126911);
N_NIMCALL(TY51551*, Instgenericcontainer_121166)(TY103012* C_121168, TY51525* N_121169, TY51551* Header_121170);
N_NIMCALL(void, Assigntype_51779)(TY51551* Dest_51781, TY51551* Src_51782);
N_NIMCALL(TY51551*, Semobjectnode_128205)(TY103012* C_128207, TY51525* N_128208, TY51551* Prev_128209);
N_NIMCALL(void, Addinheritedfields_128184)(TY103012* C_128186, TY51900* Check_128188, NI* Pos_128190, TY51551* Obj_128191);
N_NIMCALL(void, Addinheritedfieldsaux_128067)(TY103012* C_128069, TY51900* Check_128071, NI* Pos_128073, TY51525* N_128074);
N_NIMCALL(void, Intsetincl_51914)(TY51900* S_51917, NI Key_51918);
N_NIMCALL(void, Semrecordnodeaux_127437)(TY103012* C_127439, TY51525* N_127440, TY51900* Check_127442, NI* Pos_127444, TY51525* Father_127445, TY51547* Rectype_127446);
N_NIMCALL(void, Checkbool_125912)(TY51525* T_125914);
N_NIMCALL(void, Semrecordcase_127447)(TY103012* C_127449, TY51525* N_127450, TY51900* Check_127452, NI* Pos_127454, TY51525* Father_127455, TY51547* Rectype_127456);
N_NIMCALL(void, Semcasebranch_127288)(TY103012* C_127290, TY51525* T_127291, TY51525* Branch_127292, NI Branchindex_127293, NI64* Covered_127295);
N_NIMCALL(void, Sembranchexpr_127249)(TY103012* C_127251, TY51525* T_127252, TY51525** Ex_127254);
N_NIMCALL(NU8, Cmptypes_124467)(TY51551* F_124469, TY51551* A_124470);
N_NIMCALL(void, Typemismatch_125936)(TY51525* N_125938, TY51551* Formal_125939, TY51551* Actual_125940);
N_NIMCALL(NIM_BOOL, Emptyrange_100019)(TY51525* A_100021, TY51525* B_100022);
N_NIMCALL(NI64, Getordvalue_93107)(TY51525* N_93109);
N_NIMCALL(void, Checkforoverlap_127191)(TY103012* C_127193, TY51525* T_127194, TY51525* Ex_127195, NI Branchindex_127196);
N_NIMCALL(NIM_BOOL, Overlap_100006)(TY51525* A_100008, TY51525* B_100009);
N_NIMCALL(void, Delson_51835)(TY51525* Father_51837, NI Idx_51838);
N_NIMCALL(TY51547*, Semidentwithpragma_121098)(TY103012* C_121100, NU8 Kind_121101, TY51525* N_121102, NU32 Allowed_121103);
N_NIMCALL(TY51547*, Semidentvis_121092)(TY103012* C_121094, NU8 Kind_121095, TY51525* N_121096, NU32 Allowed_121097);
N_NIMCALL(TY51547*, Newsyms_121059)(NU8 Kind_121061, TY51525* N_121062, TY103012* C_121063);
N_NIMCALL(void, Pragma_118028)(TY103012* C_118030, TY51547* Sym_118031, TY51525* N_118032, TY118007 Validpragmas_118033);
N_NIMCALL(TY48008*, Torope_48046)(NimStringDesc* S_48048);
N_NIMCALL(TY51551*, Semtuple_126749)(TY103012* C_126751, TY51525* N_126752, TY51551* Prev_126753);
N_NIMCALL(TY51551*, Semanyref_126348)(TY103012* C_126350, TY51525* N_126351, NU8 Kind_126352, NimStringDesc* Kindstr_126353, TY51551* Prev_126354);
N_NIMCALL(TY51551*, Semvartype_126371)(TY103012* C_126373, TY51525* N_126374, TY51551* Prev_126375);
N_NIMCALL(TY51551*, Semdistinct_126401)(TY103012* C_126403, TY51525* N_126404, TY51551* Prev_126405);
N_NIMCALL(TY51551*, Semenum_126012)(TY103012* C_126014, TY51525* N_126015, TY51551* Prev_126016);
N_NIMCALL(NI64, Lastord_93004)(TY51551* T_93006);
N_NIMCALL(void, Strtableadd_55064)(TY51529* T_55067, TY51547* N_55068);
N_NIMCALL(void, Adddeclat_104030)(TY103012* C_104032, TY51547* Sym_104033, NI At_104034);
N_NIMCALL(TY51551*, Semstmtlisttype_128681)(TY103012* C_128683, TY51525* N_128684, TY51551* Prev_128685);
N_NIMCALL(TY51551*, Semblocktype_128746)(TY103012* C_128748, TY51525* N_128749, TY51551* Prev_128750);
N_NIMCALL(void, Closescope_104017)(TY55107* Tab_104020);
N_NIMCALL(TY51551*, Addtypevarsofgenericbody_128342)(TY103012* C_128344, TY51551* T_128345, TY51525* Genericparams_128346, TY51900* Cl_128348);
N_NIMCALL(TY51525*, Fitnode_121129)(TY103012* C_121131, TY51551* Formal_121132, TY51525* Arg_121133);
N_NIMCALL(TY51525*, Indextypesmatch_124917)(TY103012* C_124919, TY51551* F_124920, TY51551* A_124921, TY51525* Arg_124922);
N_NIMCALL(void, Addparams_121153)(TY103012* C_121155, TY51525* N_121156);
N_NIMCALL(TY51547*, Genericcacheget_122326)(TY103012* C_122328, TY51547* Genericsym_122329, TY51547* Instsym_122330);
N_NIMCALL(NU8, Equalparams_93065)(TY51525* A_93067, TY51525* B_93068);
N_NIMCALL(void, Genericcacheadd_122446)(TY103012* C_122448, TY51547* Genericsym_122449, TY51547* Instsym_122450);
N_NIMCALL(TY51525*, Newnode_51710)(NU8 Kind_51712);
N_NIMCALL(TY103006*, Newproccon_103050)(TY51547* Owner_103052);
N_NIMCALL(void, Addresult_121157)(TY103012* C_121159, TY51551* T_121160, TY43532 Info_121161);
N_NIMCALL(void, Addresultnode_121162)(TY103012* C_121164, TY51525* N_121165);
N_NIMCALL(TY51525*, Semstmtscope_121104)(TY103012* C_121106, TY51525* N_121107);
N_NIMCALL(void, Popowner_103112)(void);
N_NIMCALL(void, Fixabstracttype_130230)(TY103012* C_130232, TY51525* N_130233);
N_NIMCALL(TY51525*, Semarrayconstr_130153)(TY103012* C_130155, TY51525* N_130156);
N_NIMCALL(TY51551*, Makerangetype_103086)(TY103012* C_103088, NI64 First_103089, NI64 Last_103090, TY43532 Info_103091);
N_NIMCALL(TY51551*, Elemtype_93089)(TY51551* T_93091);
N_NIMCALL(void, Changetype_129939)(TY51525* N_129941, TY51551* Newtype_129942);
N_NIMCALL(void, Analyseifaddresstakenincall_130934)(TY103012* C_130936, TY51525* N_130937);
N_NIMCALL(NU8, Isassignable_130501)(TY51525* N_130503);
N_NIMCALL(TY51525*, Analyseifaddresstaken_130716)(TY103012* C_130718, TY51525* N_130719);
N_NIMCALL(TY51525*, Newhiddenaddrtaken_130681)(TY103012* C_130683, TY51525* N_130684);
N_NIMCALL(TY51551*, Makevartype_103073)(TY103012* C_103075, TY51551* Basetype_103076);
N_NIMCALL(TY51525*, Semsubscript_132775)(TY103012* C_132777, TY51525* N_132778, NU8 Flags_132779);
N_NIMCALL(TY51525*, Buildoverloadedsubscripts_132735)(TY51525* N_132737, NIM_BOOL Inasgn_132738);
N_NIMCALL(void, Add_52992)(TY51525* Father_52994, TY51525* Son_52995);
static N_INLINE(NI, Len_52946)(TY51525* N_52948);
N_NIMCALL(NimStringDesc*, resizeString)(NimStringDesc* Dest_18582, NI Addlen_18583);
N_NIMCALL(void, Addsliceopr_132697)(NimStringDesc** Result_132700, TY51525* N_132701);
N_NIMCALL(void, Addsonifnotnil_51831)(TY51525* Father_51833, TY51525* N_51834);
N_NIMCALL(TY51525*, Semexprnotype_136703)(TY103012* C_136705, TY51525* N_136706);
N_NIMCALL(TY51525*, Semcommand_141685)(TY103012* C_141687, TY51525* N_141688);
N_NIMCALL(TY51525*, Semblock_137153)(TY103012* C_137155, TY51525* N_137156);
N_NIMCALL(TY51525*, Semraise_139191)(TY103012* C_139193, TY51525* N_139194);
N_NIMCALL(TY51525*, Semvar_138296)(TY103012* C_138298, TY51525* N_138299);
N_NIMCALL(NIM_BOOL, Typeallowed_93134)(TY51551* T_93136, NU8 Kind_93137);
N_NIMCALL(void, Addinterfacedecl_104040)(TY103012* C_104042, TY51547* Sym_104043);
N_NIMCALL(TY51525*, Semconst_138594)(TY103012* C_138596, TY51525* N_138597);
N_NIMCALL(TY51525*, Semandevalconstexpr_121198)(TY103012* C_121200, TY51525* N_121201);
N_NIMCALL(TY51525*, Getconstexpr_109010)(TY51547* M_109012, TY51525* N_109013);
N_NIMCALL(TY51525*, Evalconstexpr_111042)(TY51547* Module_111044, TY51525* E_111045);
N_NIMCALL(TY51525*, Fitremovehiddenconv_138254)(TY103012* C_138256, TY51551* Typ_138257, TY51525* N_138258);
N_NIMCALL(TY51525*, Semtypesection_139694)(TY103012* C_139696, TY51525* N_139697);
N_NIMCALL(void, Processmagictype_129013)(TY103012* C_129015, TY51547* M_129016);
N_NIMCALL(void, Setmagictype_129008)(TY51547* M_129010, NU8 Kind_129011, NI Size_129012);
N_NIMCALL(NI, Getid_51693)(void);
N_NIMCALL(TY51525*, Semgenericparamlist_139469)(TY103012* C_139471, TY51525* N_139472, TY51551* Father_139473);
N_NIMCALL(TY51525*, Semif_136858)(TY103012* C_136860, TY51525* N_136861);
N_NIMCALL(TY51525*, Semwhen_136728)(TY103012* C_136730, TY51525* N_136731);
N_NIMCALL(void, Idsynchronizationpoint_51698)(NI Idrange_51700);
N_NIMCALL(TY51525*, Semdiscard_136983)(TY103012* C_136985, TY51525* N_136986);
N_NIMCALL(TY51525*, Semwhile_137346)(TY103012* C_137348, TY51525* N_137349);
N_NIMCALL(TY51525*, Semtry_139274)(TY103012* C_139276, TY51525* N_139277);
N_NIMCALL(TY51525*, Sembreakorcontinue_137035)(TY103012* C_137037, TY51525* N_137038);
N_NIMCALL(TY51525*, Semfor_138784)(TY103012* C_138786, TY51525* N_138787);
N_NIMCALL(TY51547*, Strtableget_55069)(TY51529* T_55071, TY50011* Name_55072);
N_NIMCALL(TY51525*, Semcase_137451)(TY103012* C_137453, TY51525* N_137454);
N_NIMCALL(NI64, Tocover_137437)(TY51551* T_137439);
N_NIMCALL(TY51525*, Semreturn_137907)(TY103012* C_137909, TY51525* N_137910);
N_NIMCALL(TY51525*, Semasm_137256)(TY103012* Con_137258, TY51525* N_137259);
N_NIMCALL(NIM_CHAR, Pragmaasm_118034)(TY103012* C_118036, TY51525* N_118037);
N_NIMCALL(NI, nsuFindChar)(NimStringDesc* S_26227, NIM_CHAR Sub_26228, NI Start_26229);
N_NIMCALL(NimStringDesc*, copyStr)(NimStringDesc* S_1924, NI First_1925);
N_NIMCALL(NimStringDesc*, copyStrLast)(NimStringDesc* S_1928, NI First_1929, NI Last_1930);
N_NIMCALL(TY51525*, Newstrnode_51726)(NU8 Kind_51728, NimStringDesc* Strval_51729);
N_NIMCALL(TY51547*, Symtabget_55119)(TY55107 Tab_55121, TY50011* S_55122);
N_NIMCALL(void, Loadstub_89070)(TY51547* S_89072);
N_NIMCALL(TY51525*, Semyield_138123)(TY103012* C_138125, TY51525* N_138126);
N_NIMCALL(TY51525*, Semiterator_141424)(TY103012* C_141426, TY51525* N_141427);
N_NIMCALL(TY51525*, Semprocaux_140662)(TY103012* C_140664, TY51525* N_140665, NU8 Kind_140666, TY118007 Validpragmas_140667);
N_NIMCALL(TY51547*, Searchforproc_117004)(TY103012* C_117006, TY51547* Fn_117007, NI Tos_117008);
N_NIMCALL(void, Addinterfaceoverloadablesymat_104044)(TY103012* C_104046, TY51547* Sym_104047, NI At_104048);
N_NIMCALL(void, Addinterfacedeclat_104246)(TY103012* C_104248, TY51547* Sym_104249, NI At_104250);
N_NIMCALL(void, Addgenericparamlisttoscope_139639)(TY103012* C_139641, TY51525* N_139642);
N_NIMCALL(TY51525*, Semgenericstmtscope_135109)(TY103012* C_135111, TY51525* N_135112, NU8 Flags_135115);
N_NIMCALL(TY51525*, Semgenericstmt_135102)(TY103012* C_135104, TY51525* N_135105, NU8 Flags_135108);
N_NIMCALL(TY51525*, Semgenericstmtsymbol_135119)(TY103012* C_135121, TY51525* N_135122, TY51547* S_135123);
N_NIMCALL(TY51525*, Semtemplateexpr_129019)(TY103012* C_129021, TY51525* N_129022, TY51547* S_129023, NIM_BOOL Semcheck_129024);
N_NIMCALL(TY51525*, Evaltemplate_121504)(TY103012* C_121506, TY51525* N_121507, TY51547* Sym_121508);
N_NIMCALL(TY51525*, Evaltemplateargs_121424)(TY103012* C_121426, TY51525* N_121427, TY51547* S_121428);
N_NIMCALL(TY51525*, Evaltemplateaux_121337)(TY103012* C_121339, TY51525* Templ_121340, TY51525* Actual_121341, TY51547* Sym_121342);
N_NIMCALL(TY51525*, Semmacrostmt_134499)(TY103012* C_134501, TY51525* N_134502, NIM_BOOL Semcheck_134503);
N_NIMCALL(NIM_BOOL, Iscallexpr_134483)(TY51525* N_134485);
N_NIMCALL(TY51525*, Getidentnode_135145)(TY51525* N_135147);
N_NIMCALL(void, Semborrow_140368)(TY103012* C_140370, TY51525* N_140371, TY51547* S_140372);
N_NIMCALL(TY51547*, Searchforborrowproc_117009)(TY103012* C_117011, TY51547* Fn_117012, NI Tos_117013);
N_NIMCALL(void, Sideeffectscheck_140397)(TY103012* C_140399, TY51547* S_140400);
N_NIMCALL(TY51525*, Semproc_141489)(TY103012* C_141491, TY51525* N_141492);
N_NIMCALL(TY51525*, Semmethod_141494)(TY103012* C_141496, TY51525* N_141497);
N_NIMCALL(NIM_BOOL, Istoplevel_121053)(TY103012* C_121055);
N_NIMCALL(TY51525*, Semconverterdef_141499)(TY103012* C_141501, TY51525* N_141502);
N_NIMCALL(void, Addconverter_103058)(TY103012* C_103060, TY51547* Conv_103061);
N_NIMCALL(TY51525*, Semmacrodef_141566)(TY103012* C_141568, TY51525* N_141569);
N_NIMCALL(TY51525*, Semtemplatedef_121750)(TY103012* C_121752, TY51525* N_121753);
N_NIMCALL(TY51525*, Resolvetemplateparams_121598)(TY103012* C_121600, TY51525* N_121601, NIM_BOOL Withinbind_121602, TY51900* Tobind_121604);
N_NIMCALL(NIM_BOOL, Intsetcontains_51910)(TY51900* S_51912, NI Key_51913);
N_NIMCALL(TY51547*, Symtablocalget_55123)(TY55107 Tab_55125, TY50011* S_55126);
N_NIMCALL(TY51525*, Transformtoexpr_121709)(TY51525* N_121711);
N_NIMCALL(TY51525*, Evalimport_106001)(TY103012* C_106003, TY51525* N_106004);
N_NIMCALL(TY51525*, Evalfrom_106005)(TY103012* C_106007, TY51525* N_106008);
N_NIMCALL(TY51525*, Evalinclude_141656)(TY103012* C_141658, TY51525* N_141659);
N_NIMCALL(NimStringDesc*, Getmodulefile_106013)(TY51525* N_106015);
N_NIMCALL(NI, Includefilename_43611)(NimStringDesc* F_43613);
N_NIMCALL(void, Intsetexcl_51919)(TY51900* S_51922, NI Key_51923);
N_NIMCALL(TY51525*, Semfieldaccess_129026)(TY103012* C_129028, TY51525* N_129029, NU8 Flags_129032);
N_NIMCALL(TY51525*, Semconv_129329)(TY103012* C_129331, TY51525* N_129332, TY51547* S_129333);
N_NIMCALL(void, Checkconvertible_129180)(TY43532 Info_129182, TY51551* Castdest_129183, TY51551* Src_129184);
N_NIMCALL(void, Checkconversionbetweenobjects_129168)(TY43532 Info_129170, TY51551* Castdest_129171, TY51551* Src_129172);
N_NIMCALL(NI, Inheritancediff_93119)(TY51551* A_93121, TY51551* B_93122);
N_NIMCALL(NIM_BOOL, Equalordistinctof_93056)(TY51551* X_93058, TY51551* Y_93059);
N_NIMCALL(TY51525*, Semdirectop_131587)(TY103012* C_131589, TY51525* N_131590, NU8 Flags_131591);
N_NIMCALL(void, Semopaux_129783)(TY103012* C_129785, TY51525* N_129786);
N_NIMCALL(TY51525*, Overloadedcallopr_129902)(TY103012* C_129904, TY51525* N_129905);
N_NIMCALL(NimStringDesc*, Getnotfounderror_123247)(TY103012* C_123249, TY51525* N_123250);
N_NIMCALL(NimStringDesc*, addChar)(NimStringDesc* S_1603, NIM_CHAR C_1604);
N_NIMCALL(TY51525*, Semmagic_131923)(TY103012* C_131925, TY51525* N_131926, TY51547* S_131927, NU8 Flags_131928);
N_NIMCALL(TY51525*, Semdefined_131796)(TY103012* C_131798, TY51525* N_131799, NIM_BOOL Onlycurrentscope_131800);
N_NIMCALL(TY51525*, Newintnode_51713)(NU8 Kind_51715, NI64 Intval_51716);
N_NIMCALL(TY51547*, Lookupfordefined_131654)(TY103012* C_131656, TY51525* N_131657, NIM_BOOL Onlycurrentscope_131658);
N_NIMCALL(NIM_BOOL, Isdefined_59059)(TY50011* Symbol_59061);
N_NIMCALL(TY51525*, Setms_131894)(TY51525* N_131896, TY51547* S_131897);
N_NIMCALL(TY51525*, Semlowhigh_129551)(TY103012* C_129553, TY51525* N_129554, NU8 M_129555);
N_NIMCALL(TY51525*, Semsizeof_129626)(TY103012* C_129628, TY51525* N_129629);
N_NIMCALL(TY51525*, Semis_129658)(TY103012* C_129660, TY51525* N_129661);
N_NIMCALL(TY51525*, Semecho_131615)(TY103012* C_131617, TY51525* N_131618);
N_NIMCALL(TY51525*, Semindirectop_131249)(TY103012* C_131251, TY51525* N_131252, NU8 Flags_131253);
N_NIMCALL(TY51525*, Partialspecialization_123017)(TY103012* C_123019, TY51525* N_123020, TY51547* S_123021);
N_NIMCALL(TY51525*, Semarrayaccess_133045)(TY103012* C_133047, TY51525* N_133048, NU8 Flags_133049);
N_NIMCALL(NU8, Checkpar_133769)(TY51525* N_133771);
N_NIMCALL(TY51525*, Semtuplepositionsconstr_134255)(TY103012* C_134257, TY51525* N_134258);
N_NIMCALL(TY51525*, Semtuplefieldsconstr_133918)(TY103012* C_133920, TY51525* N_133921);
N_NIMCALL(TY51525*, Semsetconstr_133394)(TY103012* C_133396, TY51525* N_133397);
N_NIMCALL(TY51525*, Semlambda_121134)(TY103012* C_121136, TY51525* N_121137);
N_NIMCALL(TY51551*, Makeptrtype_103069)(TY103012* C_103071, TY51551* Basetype_103072);
N_NIMCALL(TY51525*, Semcast_129475)(TY103012* C_129477, TY51525* N_129478);
N_NIMCALL(NIM_BOOL, Iscastable_129292)(TY51551* Dst_129294, TY51551* Src_129295);
N_NIMCALL(TY51525*, Semifexpr_133201)(TY103012* C_133203, TY51525* N_133204);
N_NIMCALL(TY51525*, Semstmtlistexpr_134305)(TY103012* C_134307, TY51525* N_134308);
N_NIMCALL(TY51525*, Semblockexpr_134381)(TY103012* C_134383, TY51525* N_134384);
N_NIMCALL(TY51525*, Semexprnoflags_142538)(TY103012* C_142540, TY51525* N_142541);
N_NIMCALL(void, Symtabadd_55127)(TY55107* Tab_55130, TY51547* E_55131);
N_NIMCALL(void, Initsystem_98017)(TY55107* Tab_98020);
N_NIMCALL(void, Importallsymbols_106009)(TY103012* C_106011, TY51547* Frommod_106012);
N_NIMCALL(TY101002*, Myopencached_142578)(TY51547* Module_142580, NimStringDesc* Filename_142581, TY89031* Rd_142582);
N_NIMCALL(TY51525*, Myclose_142596)(TY101002* Context_142598, TY51525* N_142599);
N_NIMCALL(void, Rawclosescope_55153)(TY55107* Tab_55156);
N_NIMCALL(void, Addcodeforgenerics_142409)(TY103012* C_142411, TY51525* N_142412);
N_NIMCALL(TY51525*, Myprocess_142585)(TY101002* Context_142587, TY51525* N_142588);
NIM_CONST NU64 Constabstracttypes_129017 = IL64(1097364930612);
STRING_LITERAL(TMP193937, "sem.myOpen", 10);
STRING_LITERAL(TMP193939, "", 0);
NIM_CONST TY178254 Lastblockstmts_141695 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x80, 0x07, 0x00, 0x00, 0x00}
;
STRING_LITERAL(TMP194070, "in", 2);
STRING_LITERAL(TMP194071, "not", 3);
STRING_LITERAL(TMP194072, "forward type in typeRel()", 25);
STRING_LITERAL(TMP194073, "tupleRel", 8);
STRING_LITERAL(TMP194074, "typeRel: tyGenericInvokation -> tyGenericInvokation", 51);
STRING_LITERAL(TMP194075, "wrong instantiated type!", 24);
STRING_LITERAL(TMP194076, "lookup failed", 13);
STRING_LITERAL(TMP194077, "has constraints: ", 17);
STRING_LITERAL(TMP194078, "typeRel(", 8);
STRING_LITERAL(TMP194079, "substitution with generic parameter", 35);
STRING_LITERAL(TMP194080, "no generic body", 15);
STRING_LITERAL(TMP194082, "acyclic", 7);
STRING_LITERAL(TMP194083, "ReplaceTypeVarsT: tyGenericBody", 31);
STRING_LITERAL(TMP194084, "getInstantiatedType", 19);
STRING_LITERAL(TMP194085, "implicitConv", 12);
STRING_LITERAL(TMP194090, "x.state is not csMatch", 22);
STRING_LITERAL(TMP194091, "matches", 7);
STRING_LITERAL(TMP194093, "calleeSym.ast is nil", 20);
STRING_LITERAL(TMP194094, "nesting too deep", 16);
STRING_LITERAL(TMP194095, "generateInstance", 16);
STRING_LITERAL(TMP194096, "instantiateGenericParamList; no generic params", 46);
STRING_LITERAL(TMP194097, "instantiateGenericParamList; no symbol", 38);
STRING_LITERAL(TMP194098, "instantiateGenericParamList: ", 29);
STRING_LITERAL(TMP194099, "semRangeAux", 11);
STRING_LITERAL(TMP194100, "openarray", 9);
STRING_LITERAL(TMP194101, "range", 5);
STRING_LITERAL(TMP194102, "set", 3);
STRING_LITERAL(TMP194103, "ordinal", 7);
STRING_LITERAL(TMP194104, "seq", 3);
STRING_LITERAL(TMP194105, "semtypes.semGeneric", 19);
STRING_LITERAL(TMP194106, "addInheritedFieldsAux", 21);
STRING_LITERAL(TMP194107, "addInheritedFieldsAux(record case branch)", 41);
STRING_LITERAL(TMP194108, "addInheritedFieldsAux()", 23);
STRING_LITERAL(TMP194109, "semObjectNode", 13);
STRING_LITERAL(TMP194110, "semRecordNodeAux", 16);
STRING_LITERAL(TMP194111, "semRecordCase: dicriminant is no symbol", 39);
STRING_LITERAL(TMP194112, ") ", 2);
static NIM_CONST TY118007 TMP194118 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x70, 0x00, 0x00, 0x00, 0x20, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00}
;static NIM_CONST TY118007 TMP194119 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x70, 0x2D, 0x0C, 0x00, 0x20, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x08}
;static NIM_CONST TY118007 TMP194120 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x70, 0x21, 0x00, 0x00, 0x20, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP194121, "ref", 3);
STRING_LITERAL(TMP194122, "ptr", 3);
STRING_LITERAL(TMP194123, "var", 3);
STRING_LITERAL(TMP194124, "distinct", 8);
STRING_LITERAL(TMP194125, "dummy", 5);
static NIM_CONST TY118007 TMP194126 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x40, 0x00, 0x00, 0x40, 0xF8, 0x1F,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP194128, "addTypeVarsOfGenericBody", 24);
STRING_LITERAL(TMP194129, "addTypeVarsOfGenericBody 2", 26);
STRING_LITERAL(TMP194130, "addParams", 9);
STRING_LITERAL(TMP194131, "GenericCacheGet", 15);
STRING_LITERAL(TMP194133, "result", 6);
STRING_LITERAL(TMP194135, "semDirectCallAnalyseEffects", 27);
STRING_LITERAL(TMP194136, "changeType: no tuple type for constructor", 41);
STRING_LITERAL(TMP194137, "changeType: no tuple fields", 27);
STRING_LITERAL(TMP194138, "changeType(): invalid tuple constr", 34);
STRING_LITERAL(TMP194139, "changeType(): invalid identifier", 32);
STRING_LITERAL(TMP194140, "fixAbstractType: ", 17);
NIM_CONST TY130939 Fakevarparams_130938 = {
0x00, 0xEC, 0x30, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x1C, 0x16, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00}
;
static NIM_CONST TY130939 TMP194141 = {
0x00, 0xEC, 0x30, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x1C, 0x16, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP194143, "analyseIfAddressTaken", 21);
STRING_LITERAL(TMP194144, "[", 1);
STRING_LITERAL(TMP194145, ",", 1);
STRING_LITERAL(TMP194146, "..", 2);
STRING_LITERAL(TMP194147, "..$", 3);
STRING_LITERAL(TMP194148, "$..", 3);
STRING_LITERAL(TMP194149, "$..$", 4);
STRING_LITERAL(TMP194150, "]=", 2);
STRING_LITERAL(TMP194151, "]", 1);
STRING_LITERAL(TMP194157, "tuple", 5);
static NIM_CONST TY118007 TMP194174 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x72, 0x23, 0x08, 0x00, 0x20, 0x00, 0x00,
0x00, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x40, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP194175, "semTypeSection: containerID", 27);
STRING_LITERAL(TMP194176, "semGenericParamList", 19);
STRING_LITERAL(TMP194177, "semTypeSection()", 16);
STRING_LITERAL(TMP194178, "semWhen", 7);
STRING_LITERAL(TMP194179, "countup", 7);
STRING_LITERAL(TMP194180, "\'return\'", 8);
STRING_LITERAL(TMP194181, "semReturn", 9);
STRING_LITERAL(TMP194182, "semYield", 8);
static NIM_CONST TY118007 TMP194183 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x08, 0x02, 0xE0, 0xFD, 0x3D, 0x02, 0x80,
0xFF, 0x0D, 0x00, 0x05, 0xA0, 0x00, 0x00, 0x04,
0x04, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP194186, "addGenericParamListToScope", 26);
STRING_LITERAL(TMP194187, "semProcAux", 10);
static NIM_CONST TY118007 TMP194188 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x70, 0x51, 0x00, 0x00, 0x20, 0xF8, 0x1F,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x04, 0x00,
0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP194189, "iterator", 8);
static NIM_CONST TY118007 TMP194190 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x70, 0xF3, 0x1D, 0x00, 0x60, 0xF8, 0x1F,
0x00, 0x00, 0x00, 0x08, 0x00, 0x00, 0x04, 0x00,
0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP194191, "method", 6);
STRING_LITERAL(TMP194192, "converter", 9);
STRING_LITERAL(TMP194193, "macro", 5);
static NIM_CONST TY118007 TMP194194 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x71, 0x41, 0x08, 0x00, 0x20, 0xF8, 0x1F,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP194195, "template", 8);
STRING_LITERAL(TMP194196, "import", 6);
STRING_LITERAL(TMP194202, "from", 4);
STRING_LITERAL(TMP194206, "include", 7);
STRING_LITERAL(TMP194207, "SemStmt: result = nil", 21);
STRING_LITERAL(TMP194208, "no default for", 14);
NIM_CONST NU64 Integraltypes_129185 = IL64(1097364160518);
STRING_LITERAL(TMP194209, "()", 2);
STRING_LITERAL(TMP194210, ", ", 2);
STRING_LITERAL(TMP194211, "\015\012", 2);
STRING_LITERAL(TMP194212, "low", 3);
STRING_LITERAL(TMP194213, "high", 4);
NIM_CONST TY129558 Optostr_129557 = {((NimStringDesc*) &TMP194212),
((NimStringDesc*) &TMP194213)}
;
extern NIM_CONST TY129558 Optostr_129557;
STRING_LITERAL(TMP194214, "sizeof", 6);
STRING_LITERAL(TMP194215, "$", 1);
STRING_LITERAL(TMP194216, ")\015\012", 3);
STRING_LITERAL(TMP194217, "semExpr() to implement", 22);
STRING_LITERAL(TMP194218, ":anonymous", 10);
static NIM_CONST TY118007 TMP194219 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x70, 0xF3, 0x04, 0x00, 0x20, 0xF8, 0x1F,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP194221, "semIfExpr", 9);
STRING_LITERAL(TMP194222, "semExprWithType", 15);
STRING_LITERAL(TMP194223, "n is not nil", 12);
STRING_LITERAL(TMP194224, "addCodeForGenerics", 18);
STRING_LITERAL(TMP194225, "no code for ", 12);
NI Evaltemplatecounter_121423;
extern TY10990 Gch_11010;
extern TNimType* NTI51162; /* TTypeKind */
extern TY51563 Ginsttypes_103045;
extern TNimType* NTI123058; /* TCandidate */
extern NI Intsize_47570;
extern NI Floatsize_47571;
extern NI Ptrsize_47572;
extern TY51547* Systemmodule_98004;
extern NU32 Goptions_42075;
extern TY101048 Gincludefile_101051;
extern NU32 Gglobaloptions_42077;
N_NIMCALL(void, Markused_121065)(TY51525* N_121067, TY51547* S_121068) {
(*S_121068).Flags |=(1<<((NI32)(((NU8) 0))%(sizeof(NI32)*8)));
if (!(((*S_121068).Flags &(1<<((((NU8) 22))&31)))!=0)) goto LA2;
Limessage_43562((*N_121067).Info, ((NU8) 213), (*(*S_121068).Name).S);
LA2: ;
}
N_NIMCALL(TY51525*, Symchoice_121549)(TY103012* C_121551, TY51525* N_121552, TY51547* S_121553) {
TY51525* Result_121554;
TY51547* A_121555;
TY104004 O_121556;
NI I_121557;
TY51551* LOC5;
TY51525* LOC7;
Result_121554 = 0;
A_121555 = 0;
memset((void*)&O_121556, 0, sizeof(O_121556));
I_121557 = 0;
I_121557 = 0;
A_121555 = Initoverloaditer_104058(&O_121556, C_121551, N_121552);
while (1) {
if (!!((A_121555 == NIM_NIL))) goto LA1;
A_121555 = Nextoverloaditer_104064(&O_121556, C_121551, N_121552);
I_121557 += 1;
} LA1: ;
if (!(I_121557 <= 1)) goto LA3;
Result_121554 = Newsymnode_51734(S_121553);
(*Result_121554).Info = (*N_121552).Info;
Markused_121065(N_121552, S_121553);
goto LA2;
LA3: ;
LOC5 = 0;
LOC5 = Newtypes_103077(((NU8) 0), C_121551);
Result_121554 = Newnodeit_51741(((NU8) 46), (*N_121552).Info, LOC5);
A_121555 = Initoverloaditer_104058(&O_121556, C_121551, N_121552);
while (1) {
if (!!((A_121555 == NIM_NIL))) goto LA6;
LOC7 = 0;
LOC7 = Newsymnode_51734(A_121555);
Addson_51823(Result_121554, LOC7);
A_121555 = Nextoverloaditer_104064(&O_121556, C_121551, N_121552);
} LA6: ;
LA2: ;
return Result_121554;
}
static N_INLINE(NI, Atomicinc_3001)(NI* Memloc_3004, NI X_3005) {
NI Result_7607;
Result_7607 = 0;
(*Memloc_3004) += X_3005;
Result_7607 = (*Memloc_3004);
return Result_7607;
}
static N_INLINE(NIM_BOOL, Canbecycleroot_11416)(TY10602* C_11418) {
NIM_BOOL Result_11419;
Result_11419 = 0;
Result_11419 = !((((*(*C_11418).Typ).flags &(1<<((((NU8) 1))&7)))!=0));
return Result_11419;
}
static N_INLINE(void, Rtladdcycleroot_12052)(TY10602* C_12054) {
Incl_10874(&Gch_11010.Cycleroots, C_12054);
}
static N_INLINE(void, Incref_13002)(TY10602* C_13004) {
NI LOC1;
NIM_BOOL LOC3;
LOC1 = Atomicinc_3001(&(*C_13004).Refcount, 8);
LOC3 = Canbecycleroot_11416(C_13004);
if (!LOC3) goto LA4;
Rtladdcycleroot_12052(C_13004);
LA4: ;
}
static N_INLINE(TY10602*, Usrtocell_11412)(void* Usr_11414) {
TY10602* Result_11415;
Result_11415 = 0;
Result_11415 = ((TY10602*) ((NI64)((NU64)(((NI) (Usr_11414))) - (NU64)(((NI) (((NI)sizeof(TY10602))))))));
return Result_11415;
}
static N_INLINE(NI, Atomicdec_3006)(NI* Memloc_3009, NI X_3010) {
NI Result_7806;
Result_7806 = 0;
(*Memloc_3009) -= X_3010;
Result_7806 = (*Memloc_3009);
return Result_7806;
}
static N_INLINE(void, Rtladdzct_12401)(TY10602* C_12403) {
Addzct_11401(&Gch_11010.Zct, C_12403);
}
static N_INLINE(void, Decref_12801)(TY10602* C_12803) {
NI LOC2;
NIM_BOOL LOC5;
LOC2 = Atomicdec_3006(&(*C_12803).Refcount, 8);
if (!((NU64)(LOC2) < (NU64)(8))) goto LA3;
Rtladdzct_12401(C_12803);
goto LA1;
LA3: ;
LOC5 = Canbecycleroot_11416(C_12803);
if (!LOC5) goto LA6;
Rtladdcycleroot_12052(C_12803);
goto LA1;
LA6: ;
LA1: ;
}
static N_INLINE(void, asgnRef)(void** Dest_13014, void* Src_13015) {
TY10602* LOC4;
TY10602* LOC8;
if (!!((Src_13015 == NIM_NIL))) goto LA2;
LOC4 = Usrtocell_11412(Src_13015);
Incref_13002(LOC4);
LA2: ;
if (!!(((*Dest_13014) == NIM_NIL))) goto LA6;
LOC8 = Usrtocell_11412((*Dest_13014));
Decref_12801(LOC8);
LA6: ;
(*Dest_13014) = Src_13015;
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13018, void* Src_13019) {
TY10602* C_13020;
NI LOC4;
TY10602* C_13022;
NI LOC9;
if (!!((Src_13019 == NIM_NIL))) goto LA2;
C_13020 = 0;
C_13020 = Usrtocell_11412(Src_13019);
LOC4 = Atomicinc_3001(&(*C_13020).Refcount, 8);
LA2: ;
if (!!(((*Dest_13018) == NIM_NIL))) goto LA6;
C_13022 = 0;
C_13022 = Usrtocell_11412((*Dest_13018));
LOC9 = Atomicdec_3006(&(*C_13022).Refcount, 8);
if (!((NU64)(LOC9) < (NU64)(8))) goto LA10;
Rtladdzct_12401(C_13022);
LA10: ;
LA6: ;
(*Dest_13018) = Src_13019;
}
N_NIMCALL(TY50011*, Consideracc_121003)(TY51525* N_121005) {
TY50011* Result_121006;
TY51525* X_121007;
NimStringDesc* LOC4;
Result_121006 = 0;
X_121007 = 0;
X_121007 = N_121005;
if (!((*X_121007).Kind == ((NU8) 43))) goto LA2;
X_121007 = (*X_121007).KindU.S6.Sons->data[0];
LA2: ;
switch ((*X_121007).Kind) {
case ((NU8) 2):
Result_121006 = (*X_121007).KindU.S5.Ident;
break;
case ((NU8) 3):
Result_121006 = (*(*X_121007).KindU.S4.Sym).Name;
break;
default:
LOC4 = 0;
LOC4 = Rendertree_81042(N_121005, 0);
Limessage_43562((*N_121005).Info, ((NU8) 19), LOC4);
Result_121006 = NIM_NIL;
break;
}
return Result_121006;
}
N_NIMCALL(NIM_BOOL, Istypeexpr_131930)(TY51525* N_131932) {
NIM_BOOL Result_131933;
Result_131933 = 0;
switch ((*N_131932).Kind) {
case ((NU8) 4):
case ((NU8) 110):
Result_131933 = NIM_TRUE;
break;
case ((NU8) 3):
Result_131933 = ((*(*N_131932).KindU.S4.Sym).Kind == ((NU8) 6));
break;
default:
Result_131933 = NIM_FALSE;
break;
}
return Result_131933;
}
N_NIMCALL(TY51547*, Lookupinrecordandbuildcheck_131955)(TY103012* C_131957, TY51525* N_131958, TY51525* R_131959, TY50011* Field_131960, TY51525** Check_131962) {
TY51547* Result_131963;
TY51525* S_131964;
TY51525* It_131965;
TY51525* Inexpr_131966;
TY51525* Notexpr_131967;
NI I_131975;
NI HEX3Atmp_142044;
NI LOC1;
NI Res_142046;
NI I_132050;
NI HEX3Atmp_142062;
NI LOC12;
NI Res_142064;
TY51525* LOC14;
NI J_132081;
NI HEX3Atmp_142050;
NI LOC18;
NI Res_142052;
TY51525* LOC20;
NI J_132112;
NI HEX3Atmp_142056;
NI LOC24;
NI Res_142058;
TY51525* LOC26;
TY50011* LOC27;
TY51525* LOC28;
TY51525* LOC29;
TY51525* LOC30;
TY51525* LOC31;
TY50011* LOC38;
TY51525* LOC39;
TY51525* LOC40;
TY50011* LOC41;
TY51525* LOC42;
TY51525* LOC43;
Result_131963 = 0;
S_131964 = 0;
It_131965 = 0;
Inexpr_131966 = 0;
Notexpr_131967 = 0;
Result_131963 = NIM_NIL;
switch ((*R_131959).Kind) {
case ((NU8) 113):
I_131975 = 0;
HEX3Atmp_142044 = 0;
LOC1 = Sonslen_51803(R_131959);
HEX3Atmp_142044 = (NI64)(LOC1 - 1);
Res_142046 = 0;
Res_142046 = 0;
while (1) {
if (!(Res_142046 <= HEX3Atmp_142044)) goto LA2;
I_131975 = Res_142046;
Result_131963 = Lookupinrecordandbuildcheck_131955(C_131957, N_131958, (*R_131959).KindU.S6.Sons->data[I_131975], Field_131960, Check_131962);
if (!!((Result_131963 == NIM_NIL))) goto LA4;
goto BeforeRet;
LA4: ;
Res_142046 += 1;
} LA2: ;
break;
case ((NU8) 114):
Checkminsonslen_103103(R_131959, 2);
if (!!(((*(*R_131959).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA7;
Illformedast_103092(R_131959);
LA7: ;
Result_131963 = Lookupinrecordandbuildcheck_131955(C_131957, N_131958, (*R_131959).KindU.S6.Sons->data[0], Field_131960, Check_131962);
if (!!((Result_131963 == NIM_NIL))) goto LA10;
goto BeforeRet;
LA10: ;
S_131964 = Newnodei_51737(((NU8) 31), (*R_131959).Info);
I_132050 = 0;
HEX3Atmp_142062 = 0;
LOC12 = Sonslen_51803(R_131959);
HEX3Atmp_142062 = (NI64)(LOC12 - 1);
Res_142064 = 0;
Res_142064 = 1;
while (1) {
if (!(Res_142064 <= HEX3Atmp_142062)) goto LA13;
I_132050 = Res_142064;
It_131965 = (*R_131959).KindU.S6.Sons->data[I_132050];
switch ((*It_131965).Kind) {
case ((NU8) 75):
LOC14 = 0;
LOC14 = Lastson_51809(It_131965);
Result_131963 = Lookupinrecordandbuildcheck_131955(C_131957, N_131958, LOC14, Field_131960, Check_131962);
if (!(Result_131963 == NIM_NIL)) goto LA16;
J_132081 = 0;
HEX3Atmp_142050 = 0;
LOC18 = Sonslen_51803(It_131965);
HEX3Atmp_142050 = (NI64)(LOC18 - 2);
Res_142052 = 0;
Res_142052 = 0;
while (1) {
if (!(Res_142052 <= HEX3Atmp_142050)) goto LA19;
J_132081 = Res_142052;
LOC20 = 0;
LOC20 = Copytree_51858((*It_131965).KindU.S6.Sons->data[J_132081]);
Addson_51823(S_131964, LOC20);
Res_142052 += 1;
} LA19: ;
goto LA15;
LA16: ;
if (!((*Check_131962) == NIM_NIL)) goto LA22;
unsureAsgnRef((void**) &(*Check_131962), Newnodei_51737(((NU8) 37), (*N_131958).Info));
Addson_51823((*Check_131962), NIM_NIL);
LA22: ;
S_131964 = Newnodei_51737(((NU8) 31), (*N_131958).Info);
J_132112 = 0;
HEX3Atmp_142056 = 0;
LOC24 = Sonslen_51803(It_131965);
HEX3Atmp_142056 = (NI64)(LOC24 - 2);
Res_142058 = 0;
Res_142058 = 0;
while (1) {
if (!(Res_142058 <= HEX3Atmp_142056)) goto LA25;
J_132112 = Res_142058;
LOC26 = 0;
LOC26 = Copytree_51858((*It_131965).KindU.S6.Sons->data[J_132112]);
Addson_51823(S_131964, LOC26);
Res_142058 += 1;
} LA25: ;
Inexpr_131966 = Newnodei_51737(((NU8) 21), (*N_131958).Info);
LOC27 = 0;
LOC27 = Getident_50016(((NimStringDesc*) &TMP194070));
LOC28 = 0;
LOC28 = Newidentnode_51730(LOC27, (*N_131958).Info);
Addson_51823(Inexpr_131966, LOC28);
LOC29 = 0;
LOC29 = Copytree_51858((*R_131959).KindU.S6.Sons->data[0]);
Addson_51823(Inexpr_131966, LOC29);
Addson_51823(Inexpr_131966, S_131964);
LOC30 = 0;
LOC30 = Semexpr_121115(C_131957, Inexpr_131966, 0);
Addson_51823((*Check_131962), LOC30);
goto BeforeRet;
LA15: ;
break;
case ((NU8) 78):
LOC31 = 0;
LOC31 = Lastson_51809(It_131965);
Result_131963 = Lookupinrecordandbuildcheck_131955(C_131957, N_131958, LOC31, Field_131960, Check_131962);
if (!!((Result_131963 == NIM_NIL))) goto LA33;
if (!((*Check_131962) == NIM_NIL)) goto LA36;
unsureAsgnRef((void**) &(*Check_131962), Newnodei_51737(((NU8) 37), (*N_131958).Info));
Addson_51823((*Check_131962), NIM_NIL);
LA36: ;
Inexpr_131966 = Newnodei_51737(((NU8) 21), (*N_131958).Info);
LOC38 = 0;
LOC38 = Getident_50016(((NimStringDesc*) &TMP194070));
LOC39 = 0;
LOC39 = Newidentnode_51730(LOC38, (*N_131958).Info);
Addson_51823(Inexpr_131966, LOC39);
LOC40 = 0;
LOC40 = Copytree_51858((*R_131959).KindU.S6.Sons->data[0]);
Addson_51823(Inexpr_131966, LOC40);
Addson_51823(Inexpr_131966, S_131964);
Notexpr_131967 = Newnodei_51737(((NU8) 21), (*N_131958).Info);
LOC41 = 0;
LOC41 = Getident_50016(((NimStringDesc*) &TMP194071));
LOC42 = 0;
LOC42 = Newidentnode_51730(LOC41, (*N_131958).Info);
Addson_51823(Notexpr_131967, LOC42);
Addson_51823(Notexpr_131967, Inexpr_131966);
LOC43 = 0;
LOC43 = Semexpr_121115(C_131957, Notexpr_131967, 0);
Addson_51823((*Check_131962), LOC43);
goto BeforeRet;
LA33: ;
break;
default:
Illformedast_103092(It_131965);
break;
}
Res_142064 += 1;
} LA13: ;
break;
case ((NU8) 3):
if (!((*(*(*R_131959).KindU.S4.Sym).Name).Sup.Id == (*Field_131960).Sup.Id)) goto LA45;
Result_131963 = (*R_131959).KindU.S4.Sym;
LA45: ;
break;
default:
Illformedast_103092(N_131958);
break;
}
BeforeRet: ;
return Result_131963;
}
N_NIMCALL(TY51525*, Makederef_132197)(TY51525* N_132199) {
TY51525* Result_132200;
TY51551* T_132202;
TY51525* A_132225;
Result_132200 = 0;
T_132202 = 0;
T_132202 = Skiptypes_93085((*N_132199).Typ, 2048);
Result_132200 = N_132199;
if (!((*T_132202).Kind == ((NU8) 23))) goto LA2;
Result_132200 = Newnodeit_51741(((NU8) 54), (*N_132199).Info, (*T_132202).Sons->data[0]);
Addson_51823(Result_132200, N_132199);
T_132202 = Skiptypes_93085((*T_132202).Sons->data[0], 2048);
LA2: ;
if (!((6291456 &(IL64(1)<<(((*T_132202).Kind)&IL64(63))))!=0)) goto LA5;
A_132225 = 0;
A_132225 = Result_132200;
Result_132200 = Newnodeit_51741(((NU8) 38), (*N_132199).Info, (*T_132202).Sons->data[0]);
Addson_51823(Result_132200, A_132225);
LA5: ;
return Result_132200;
}
N_NIMCALL(TY51525*, Builtinfieldaccess_132226)(TY103012* C_132228, TY51525* N_132229, NU8 Flags_132230) {
TY51525* Result_132231;
TY51547* S_132232;
TY50011* I_132291;
TY51551* Ty_132304;
TY51547* F_132305;
NIM_BOOL LOC14;
TY51525* Check_132396;
NIM_BOOL LOC32;
TY51547* LOC34;
Result_132231 = 0;
S_132232 = 0;
S_132232 = Qualifiedlookup_104053(C_132228, N_132229, NIM_TRUE);
if (!!((S_132232 == NIM_NIL))) goto LA2;
Result_132231 = Semsym_129074(C_132228, N_132229, S_132232, Flags_132230);
goto BeforeRet;
LA2: ;
Checksonslen_103099(N_132229, 2);
asgnRefNoCycle((void**) &(*N_132229).KindU.S6.Sons->data[0], Semexprwithtype_121122(C_132228, (*N_132229).KindU.S6.Sons->data[0], (1 | Flags_132230)));
I_132291 = 0;
I_132291 = Consideracc_121003((*N_132229).KindU.S6.Sons->data[1]);
Ty_132304 = 0;
Ty_132304 = (*(*N_132229).KindU.S6.Sons->data[0]).Typ;
F_132305 = 0;
F_132305 = NIM_NIL;
Result_132231 = NIM_NIL;
if (!((*Ty_132304).Kind == ((NU8) 14))) goto LA5;
while (1) {
if (!!((Ty_132304 == NIM_NIL))) goto LA7;
F_132305 = Getsymfromlist_55197((*Ty_132304).N, I_132291, 0);
if (!!((F_132305 == NIM_NIL))) goto LA9;
goto LA7;
LA9: ;
Ty_132304 = (*Ty_132304).Sons->data[0];
} LA7: ;
if (!!((F_132305 == NIM_NIL))) goto LA12;
Result_132231 = Newsymnode_51734(F_132305);
(*Result_132231).Info = (*N_132229).Info;
asgnRef((void**) &(*Result_132231).Typ, Ty_132304);
Markused_121065(N_132229, F_132305);
goto LA11;
LA12: ;
Limessage_43562((*(*N_132229).KindU.S6.Sons->data[1]).Info, ((NU8) 166), (*I_132291).S);
LA11: ;
goto BeforeRet;
goto LA4;
LA5: ;
LOC14 = !(((Flags_132230 &(1<<((((NU8) 0))&7)))!=0));
if (!(LOC14)) goto LA15;
LOC14 = Istypeexpr_131930((*N_132229).KindU.S6.Sons->data[0]);
LA15: ;
if (!LOC14) goto LA16;
Limessage_43562((*(*N_132229).KindU.S6.Sons->data[0]).Info, ((NU8) 161), ((NimStringDesc*) &TMP193939));
goto BeforeRet;
goto LA4;
LA16: ;
LA4: ;
Ty_132304 = Skiptypes_93085(Ty_132304, 14682112);
Check_132396 = 0;
Check_132396 = NIM_NIL;
if (!((*Ty_132304).Kind == ((NU8) 17))) goto LA19;
while (1) {
Check_132396 = NIM_NIL;
F_132305 = Lookupinrecordandbuildcheck_131955(C_132228, N_132229, (*Ty_132304).N, I_132291, &Check_132396);
if (!!((F_132305 == NIM_NIL))) goto LA23;
goto LA21;
LA23: ;
if (!((*Ty_132304).Sons->data[0] == NIM_NIL)) goto LA26;
goto LA21;
LA26: ;
Ty_132304 = Skiptypes_93085((*Ty_132304).Sons->data[0], 2048);
} LA21: ;
if (!!((F_132305 == NIM_NIL))) goto LA29;
LOC32 = !(((6 & (*F_132305).Flags) == 0));
if (LOC32) goto LA33;
LOC34 = 0;
LOC34 = Getmodule_55206(F_132305);
LOC32 = ((*LOC34).Sup.Id == (*(*C_132228).Module).Sup.Id);
LA33: ;
if (!LOC32) goto LA35;
asgnRefNoCycle((void**) &(*N_132229).KindU.S6.Sons->data[0], Makederef_132197((*N_132229).KindU.S6.Sons->data[0]));
asgnRefNoCycle((void**) &(*N_132229).KindU.S6.Sons->data[1], Newsymnode_51734(F_132305));
asgnRef((void**) &(*N_132229).Typ, (*F_132305).Typ);
Markused_121065(N_132229, F_132305);
if (!(Check_132396 == NIM_NIL)) goto LA38;
Result_132231 = N_132229;
goto LA37;
LA38: ;
asgnRefNoCycle((void**) &(*Check_132396).KindU.S6.Sons->data[0], N_132229);
asgnRef((void**) &(*Check_132396).Typ, (*N_132229).Typ);
Result_132231 = Check_132396;
LA37: ;
LA35: ;
LA29: ;
goto LA18;
LA19: ;
if (!((*Ty_132304).Kind == ((NU8) 18))) goto LA40;
F_132305 = Getsymfromlist_55197((*Ty_132304).N, I_132291, 0);
if (!!((F_132305 == NIM_NIL))) goto LA43;
asgnRefNoCycle((void**) &(*N_132229).KindU.S6.Sons->data[0], Makederef_132197((*N_132229).KindU.S6.Sons->data[0]));
asgnRefNoCycle((void**) &(*N_132229).KindU.S6.Sons->data[1], Newsymnode_51734(F_132305));
asgnRef((void**) &(*N_132229).Typ, (*F_132305).Typ);
Result_132231 = N_132229;
Markused_121065(N_132229, F_132305);
LA43: ;
goto LA18;
LA40: ;
LA18: ;
BeforeRet: ;
return Result_132231;
}
static N_INLINE(TY51525*, HEX5BHEX5D_53074)(TY51525* N_53076, NI I_53077) {
TY51525* Result_53078;
Result_53078 = 0;
Result_53078 = (*N_53076).KindU.S6.Sons->data[I_53077];
return Result_53078;
}
static N_INLINE(void, appendString)(NimStringDesc* Dest_18592, NimStringDesc* Src_18593) {
memcpy(((NCSTRING) (&(*Dest_18592).data[((*Dest_18592).Sup.len)-0])), ((NCSTRING) ((*Src_18593).data)), ((NI32) ((NI64)((NI64)((*Src_18593).Sup.len + 1) * 1))));
(*Dest_18592).Sup.len += (*Src_18593).Sup.len;
}
static N_INLINE(void, appendChar)(NimStringDesc* Dest_18609, NIM_CHAR C_18610) {
(*Dest_18609).data[((*Dest_18609).Sup.len)-0] = C_18610;
(*Dest_18609).data[((NI64)((*Dest_18609).Sup.len + 1))-0] = 0;
(*Dest_18609).Sup.len += 1;
}
static N_INLINE(void, Initcandidateaux_123081)(TY123058* C_123084, TY51551* Callee_123085) {
(*C_123084).Exactmatches = 0;
(*C_123084).Subtypematches = 0;
(*C_123084).Convmatches = 0;
(*C_123084).Intconvmatches = 0;
(*C_123084).Genericmatches = 0;
(*C_123084).State = ((NU8) 0);
unsureAsgnRef((void**) &(*C_123084).Callee, Callee_123085);
unsureAsgnRef((void**) &(*C_123084).Call, NIM_NIL);
(*C_123084).Basetypematch = NIM_FALSE;
}
N_NIMCALL(void, Initcandidate_123092)(TY123058* C_123095, TY51547* Callee_123096, TY51525* Binding_123097) {
TY51525* Typeparams_123110;
NI I_123120;
NI HEX3Atmp_125847;
NI LOC4;
NI LOC5;
NI Res_125849;
TY51551* Formaltypeparam_123133;
TY51525* LOC7;
Initcandidateaux_123081(C_123095, (*Callee_123096).Typ);
unsureAsgnRef((void**) &(*C_123095).Calleesym, Callee_123096);
Initidtable_51754(&(*C_123095).Bindings);
if (!!((Binding_123097 == NIM_NIL))) goto LA2;
Typeparams_123110 = 0;
Typeparams_123110 = HEX5BHEX5D_53074((*Callee_123096).Ast, 1);
I_123120 = 0;
HEX3Atmp_125847 = 0;
LOC4 = Sonslen_51803(Typeparams_123110);
LOC5 = Sonslen_51803(Binding_123097);
HEX3Atmp_125847 = ((LOC4 <= (NI64)(LOC5 - 1)) ? LOC4 : (NI64)(LOC5 - 1));
Res_125849 = 0;
Res_125849 = 1;
while (1) {
if (!(Res_125849 <= HEX3Atmp_125847)) goto LA6;
I_123120 = Res_125849;
Formaltypeparam_123133 = 0;
Formaltypeparam_123133 = (*(*Typeparams_123110).KindU.S6.Sons->data[(NI64)(I_123120 - 1)]).Typ;
LOC7 = 0;
LOC7 = HEX5BHEX5D_53074(Binding_123097, I_123120);
Idtableput_55174(&(*C_123095).Bindings, &Formaltypeparam_123133->Sup, &(*LOC7).Typ->Sup.Sup);
Res_125849 += 1;
} LA6: ;
LA2: ;
}
N_NIMCALL(NU8, Handlerange_123381)(TY51551* F_123383, TY51551* A_123384, NU8 Min_123385, NU8 Max_123386) {
NU8 Result_123387;
NU8 K_123398;
TY51551* LOC4;
NIM_BOOL LOC8;
NIM_BOOL LOC12;
Result_123387 = 0;
if (!((*A_123384).Kind == (*F_123383).Kind)) goto LA2;
Result_123387 = ((NU8) 5);
goto LA1;
LA2: ;
K_123398 = 0;
LOC4 = 0;
LOC4 = Skiptypes_93085(A_123384, 1048576);
K_123398 = (*LOC4).Kind;
if (!(K_123398 == (*F_123383).Kind)) goto LA6;
Result_123387 = ((NU8) 3);
goto LA5;
LA6: ;
LOC8 = ((*F_123383).Kind == ((NU8) 31));
if (!(LOC8)) goto LA9;
LOC8 = ((IL64(32212254720) &(IL64(1)<<((K_123398)&IL64(63))))!=0);
LA9: ;
if (!LOC8) goto LA10;
Result_123387 = ((NU8) 2);
goto LA5;
LA10: ;
LOC12 = (Min_123385 <= K_123398);
if (!(LOC12)) goto LA13;
LOC12 = (K_123398 <= Max_123386);
LA13: ;
if (!LOC12) goto LA14;
Result_123387 = ((NU8) 1);
goto LA5;
LA14: ;
Result_123387 = ((NU8) 0);
LA5: ;
LA1: ;
return Result_123387;
}
N_NIMCALL(NU8, Handlefloatrange_123447)(TY51551* F_123449, TY51551* A_123450) {
NU8 Result_123451;
NU8 K_123462;
TY51551* LOC4;
NIM_BOOL LOC8;
Result_123451 = 0;
if (!((*A_123450).Kind == (*F_123449).Kind)) goto LA2;
Result_123451 = ((NU8) 5);
goto LA1;
LA2: ;
K_123462 = 0;
LOC4 = 0;
LOC4 = Skiptypes_93085(A_123450, 1048576);
K_123462 = (*LOC4).Kind;
if (!(K_123462 == (*F_123449).Kind)) goto LA6;
Result_123451 = ((NU8) 3);
goto LA5;
LA6: ;
LOC8 = (((NU8) 36) <= K_123462);
if (!(LOC8)) goto LA9;
LOC8 = (K_123462 <= ((NU8) 39));
LA9: ;
if (!LOC8) goto LA10;
Result_123451 = ((NU8) 1);
goto LA5;
LA10: ;
Result_123451 = ((NU8) 0);
LA5: ;
LA1: ;
return Result_123451;
}
N_NIMCALL(NU8, Minrel_123520)(NU8 A_123522, NU8 B_123523) {
NU8 Result_123524;
Result_123524 = 0;
if (!(A_123522 <= B_123523)) goto LA2;
Result_123524 = A_123522;
goto LA1;
LA2: ;
Result_123524 = B_123523;
LA1: ;
return Result_123524;
}
N_NIMCALL(NU8, Tuplerel_123534)(TY51563* Mapping_123537, TY51551* F_123538, TY51551* A_123539) {
NU8 Result_123540;
NI LOC2;
NI LOC3;
NI I_123550;
NI HEX3Atmp_125862;
NI LOC6;
NI Res_125864;
NU8 M_123551;
NIM_BOOL LOC12;
NI I_123590;
NI HEX3Atmp_125868;
NI LOC16;
NI Res_125870;
TY51547* X_123657;
TY51547* Y_123682;
Result_123540 = 0;
Result_123540 = ((NU8) 0);
LOC2 = Sonslen_51806(A_123539);
LOC3 = Sonslen_51806(F_123538);
if (!(LOC2 == LOC3)) goto LA4;
Result_123540 = ((NU8) 5);
I_123550 = 0;
HEX3Atmp_125862 = 0;
LOC6 = Sonslen_51806(F_123538);
HEX3Atmp_125862 = (NI64)(LOC6 - 1);
Res_125864 = 0;
Res_125864 = 0;
while (1) {
if (!(Res_125864 <= HEX3Atmp_125862)) goto LA7;
I_123550 = Res_125864;
M_123551 = 0;
M_123551 = Typerel_123350(Mapping_123537, (*F_123538).Sons->data[I_123550], (*A_123539).Sons->data[I_123550]);
if (!(M_123551 < ((NU8) 3))) goto LA9;
Result_123540 = ((NU8) 0);
goto BeforeRet;
LA9: ;
Result_123540 = Minrel_123520(Result_123540, M_123551);
Res_125864 += 1;
} LA7: ;
LOC12 = !(((*F_123538).N == NIM_NIL));
if (!(LOC12)) goto LA13;
LOC12 = !(((*A_123539).N == NIM_NIL));
LA13: ;
if (!LOC12) goto LA14;
I_123590 = 0;
HEX3Atmp_125868 = 0;
LOC16 = Sonslen_51803((*F_123538).N);
HEX3Atmp_125868 = (NI64)(LOC16 - 1);
Res_125870 = 0;
Res_125870 = 0;
while (1) {
if (!(Res_125870 <= HEX3Atmp_125868)) goto LA17;
I_123590 = Res_125870;
if (!!(((*(*(*F_123538).N).KindU.S6.Sons->data[I_123590]).Kind == ((NU8) 3)))) goto LA19;
Internalerror_43567((*(*F_123538).N).Info, ((NimStringDesc*) &TMP194073));
LA19: ;
if (!!(((*(*(*A_123539).N).KindU.S6.Sons->data[I_123590]).Kind == ((NU8) 3)))) goto LA22;
Internalerror_43567((*(*A_123539).N).Info, ((NimStringDesc*) &TMP194073));
LA22: ;
X_123657 = 0;
X_123657 = (*(*(*F_123538).N).KindU.S6.Sons->data[I_123590]).KindU.S4.Sym;
Y_123682 = 0;
Y_123682 = (*(*(*A_123539).N).KindU.S6.Sons->data[I_123590]).KindU.S4.Sym;
if (!!(((*(*X_123657).Name).Sup.Id == (*(*Y_123682).Name).Sup.Id))) goto LA25;
Result_123540 = ((NU8) 0);
goto BeforeRet;
LA25: ;
Res_125870 += 1;
} LA17: ;
LA14: ;
LA4: ;
BeforeRet: ;
return Result_123540;
}
N_NIMCALL(NIM_BOOL, Isobjectsubtype_123490)(TY51551* A_123492, TY51551* F_123493) {
NIM_BOOL Result_123494;
TY51551* T_123495;
NIM_BOOL LOC2;
Result_123494 = 0;
T_123495 = 0;
T_123495 = A_123492;
while (1) {
LOC2 = !((T_123495 == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC2 = !(((*T_123495).Sup.Id == (*F_123493).Sup.Id));
LA3: ;
if (!LOC2) goto LA1;
T_123495 = Base_93021(T_123495);
} LA1: ;
Result_123494 = !((T_123495 == NIM_NIL));
return Result_123494;
}
N_NIMCALL(TY51551*, Concretetype_123356)(TY51563 Mapping_123358, TY51551* T_123359) {
TY51551* Result_123360;
TNimObject* LOC2;
Result_123360 = 0;
switch ((*T_123359).Kind) {
case ((NU8) 4):
Result_123360 = Newtype_51706(((NU8) 16), (*T_123359).Owner);
Addson_51827(Result_123360, (*T_123359).Sons->data[0]);
Addson_51827(Result_123360, (*T_123359).Sons->data[1]);
break;
case ((NU8) 5):
Result_123360 = NIM_NIL;
break;
case ((NU8) 12):
Result_123360 = T_123359;
while (1) {
LOC2 = 0;
LOC2 = Idtableget_55166(Mapping_123358, &T_123359->Sup);
Result_123360 = ((TY51551*) (LOC2));
if (!(Result_123360 == NIM_NIL)) goto LA4;
Internalerror_43571(((NimStringDesc*) &TMP194076));
LA4: ;
if (!!(((*Result_123360).Kind == ((NU8) 12)))) goto LA7;
goto LA1;
LA7: ;
} LA1: ;
break;
default:
Result_123360 = T_123359;
break;
}
return Result_123360;
}
N_NIMCALL(NU8, Typerel_123350)(TY51563* Mapping_123353, TY51551* F_123354, TY51551* A_123355) {
NU8 Result_123691;
TY51551* X_123692;
TY51551* Concrete_123693;
NU8 M_123694;
NIM_BOOL LOC2;
TY51551* LOC4;
TY51551* LOC7;
NIM_BOOL LOC9;
NIM_BOOL LOC14;
TY51551* LOC18;
TY51551* LOC24;
TY51551* LOC30;
TY51551* LOC31;
TY51551* LOC35;
TY51551* LOC41;
TY51551* LOC42;
TY51551* LOC43;
NU8 LOC44;
NU8 LOC45;
NIM_BOOL LOC53;
NI64 LOC55;
NI64 LOC56;
NU8 LOC61;
TY51551* LOC62;
TY51551* LOC63;
NIM_BOOL LOC68;
TY51551* LOC72;
NU8 LOC73;
NIM_BOOL LOC77;
TY51551* LOC81;
NU8 LOC82;
NIM_BOOL LOC86;
TY51551* LOC90;
NU8 LOC91;
NIM_BOOL LOC95;
NIM_BOOL LOC103;
NIM_BOOL LOC124;
NIM_BOOL LOC128;
NIM_BOOL LOC136;
TY51551* LOC143;
TY51551* LOC144;
TY51551* LOC148;
TY51551* LOC149;
NIM_BOOL LOC154;
NI LOC155;
NI LOC156;
NI I_124114;
NI HEX3Atmp_125874;
NI LOC160;
NI Res_125876;
NIM_BOOL LOC163;
NU8 LOC165;
NIM_BOOL LOC184;
NIM_BOOL LOC192;
NIM_BOOL LOC193;
NI64 LOC194;
TY51551* LOC196;
TY51551* LOC203;
TY51551* LOC204;
NIM_BOOL LOC212;
NI LOC214;
NI LOC215;
NI I_124304;
NI HEX3Atmp_125880;
NI LOC218;
NI Res_125882;
NU8 LOC224;
NI I_124339;
NI HEX3Atmp_125886;
NI LOC230;
NI Res_125888;
TNimObject* LOC232;
NIM_BOOL LOC234;
TNimObject* LOC238;
NI LOC243;
NimStringDesc* LOC249;
NI I_124399;
NI HEX3Atmp_125892;
NI LOC250;
NI Res_125894;
NU8 LOC253;
NimStringDesc* LOC266;
Result_123691 = 0;
X_123692 = 0;
Concrete_123693 = 0;
M_123694 = 0;
Result_123691 = ((NU8) 0);
LOC2 = ((*A_123355).Kind == ((NU8) 11));
if (!(LOC2)) goto LA3;
LOC4 = 0;
LOC4 = Skiptypes_93085(F_123354, 8388608);
LOC2 = !(((1536 &(IL64(1)<<(((*LOC4).Kind)&IL64(63))))!=0));
LA3: ;
if (!LOC2) goto LA5;
LOC7 = 0;
LOC7 = Lastson_51812(A_123355);
Result_123691 = Typerel_123350(Mapping_123353, F_123354, LOC7);
goto BeforeRet;
LA5: ;
LOC9 = ((*A_123355).Kind == ((NU8) 23));
if (!(LOC9)) goto LA10;
LOC9 = !(((*F_123354).Kind == ((NU8) 23)));
LA10: ;
if (!LOC9) goto LA11;
Result_123691 = Typerel_123350(Mapping_123353, F_123354, (*A_123355).Sons->data[0]);
goto BeforeRet;
LA11: ;
switch ((*F_123354).Kind) {
case ((NU8) 14):
LOC14 = ((*A_123355).Kind == (*F_123354).Kind);
if (!(LOC14)) goto LA15;
LOC14 = ((*A_123355).Sup.Id == (*F_123354).Sup.Id);
LA15: ;
if (!LOC14) goto LA16;
Result_123691 = ((NU8) 5);
goto LA13;
LA16: ;
LOC18 = 0;
LOC18 = Skiptypes_93085(A_123355, 1048576);
if (!((*LOC18).Sup.Id == (*F_123354).Sup.Id)) goto LA19;
Result_123691 = ((NU8) 3);
goto LA13;
LA19: ;
LA13: ;
break;
case ((NU8) 1):
case ((NU8) 2):
if (!((*A_123355).Kind == (*F_123354).Kind)) goto LA22;
Result_123691 = ((NU8) 5);
goto LA21;
LA22: ;
LOC24 = 0;
LOC24 = Skiptypes_93085(A_123355, 1048576);
if (!((*LOC24).Kind == (*F_123354).Kind)) goto LA25;
Result_123691 = ((NU8) 3);
goto LA21;
LA25: ;
LA21: ;
break;
case ((NU8) 20):
if (!((*A_123355).Kind == (*F_123354).Kind)) goto LA28;
LOC30 = 0;
LOC30 = Base_93021(A_123355);
LOC31 = 0;
LOC31 = Base_93021(F_123354);
Result_123691 = Typerel_123350(Mapping_123353, LOC30, LOC31);
if (!(Result_123691 < ((NU8) 4))) goto LA33;
Result_123691 = ((NU8) 0);
LA33: ;
goto LA27;
LA28: ;
LOC35 = 0;
LOC35 = Skiptypes_93085(F_123354, 1048576);
if (!((*LOC35).Kind == (*A_123355).Kind)) goto LA36;
Result_123691 = ((NU8) 1);
goto LA27;
LA36: ;
LA27: ;
break;
case ((NU8) 31):
Result_123691 = Handlerange_123381(F_123354, A_123355, ((NU8) 32), ((NU8) 34));
break;
case ((NU8) 32):
Result_123691 = Handlerange_123381(F_123354, A_123355, ((NU8) 32), ((NU8) 32));
break;
case ((NU8) 33):
Result_123691 = Handlerange_123381(F_123354, A_123355, ((NU8) 32), ((NU8) 33));
break;
case ((NU8) 34):
Result_123691 = Handlerange_123381(F_123354, A_123355, ((NU8) 31), ((NU8) 34));
break;
case ((NU8) 35):
Result_123691 = Handlerange_123381(F_123354, A_123355, ((NU8) 31), ((NU8) 35));
break;
case ((NU8) 36):
Result_123691 = Handlefloatrange_123447(F_123354, A_123355);
break;
case ((NU8) 37):
Result_123691 = Handlefloatrange_123447(F_123354, A_123355);
break;
case ((NU8) 38):
Result_123691 = Handlefloatrange_123447(F_123354, A_123355);
break;
case ((NU8) 39):
Result_123691 = Handlefloatrange_123447(F_123354, A_123355);
break;
case ((NU8) 23):
if (!((*A_123355).Kind == (*F_123354).Kind)) goto LA39;
LOC41 = 0;
LOC41 = Base_93021(F_123354);
LOC42 = 0;
LOC42 = Base_93021(A_123355);
Result_123691 = Typerel_123350(Mapping_123353, LOC41, LOC42);
goto LA38;
LA39: ;
LOC43 = 0;
LOC43 = Base_93021(F_123354);
Result_123691 = Typerel_123350(Mapping_123353, LOC43, A_123355);
LA38: ;
break;
case ((NU8) 16):
case ((NU8) 4):
switch ((*A_123355).Kind) {
case ((NU8) 16):
LOC44 = Typerel_123350(Mapping_123353, (*F_123354).Sons->data[0], (*A_123355).Sons->data[0]);
LOC45 = Typerel_123350(Mapping_123353, (*F_123354).Sons->data[1], (*A_123355).Sons->data[1]);
Result_123691 = Minrel_123520(LOC44, LOC45);
if (!(Result_123691 < ((NU8) 4))) goto LA47;
Result_123691 = ((NU8) 0);
LA47: ;
break;
case ((NU8) 4):
Result_123691 = Typerel_123350(Mapping_123353, (*F_123354).Sons->data[1], (*A_123355).Sons->data[1]);
if (!(Result_123691 < ((NU8) 4))) goto LA50;
Result_123691 = ((NU8) 0);
goto LA49;
LA50: ;
LOC53 = !((Result_123691 == ((NU8) 4)));
if (!(LOC53)) goto LA54;
LOC55 = Lengthord_93007(F_123354);
LOC56 = Lengthord_93007(A_123355);
LOC53 = !((LOC55 == LOC56));
LA54: ;
if (!LOC53) goto LA57;
Result_123691 = ((NU8) 0);
goto LA52;
LA57: ;
if (!((5632 &(IL64(1)<<(((*(*F_123354).Sons->data[0]).Kind)&IL64(63))))!=0)) goto LA59;
LOC61 = Typerel_123350(Mapping_123353, (*F_123354).Sons->data[0], (*A_123355).Sons->data[0]);
Result_123691 = Minrel_123520(Result_123691, LOC61);
goto LA52;
LA59: ;
LA52: ;
LA49: ;
break;
default:
break;
}
break;
case ((NU8) 27):
switch ((*A_123355).Kind) {
case ((NU8) 27):
LOC62 = 0;
LOC62 = Base_93021(F_123354);
LOC63 = 0;
LOC63 = Base_93021(A_123355);
Result_123691 = Typerel_123350(Mapping_123353, LOC62, LOC63);
if (!(Result_123691 < ((NU8) 4))) goto LA65;
Result_123691 = ((NU8) 0);
LA65: ;
break;
case ((NU8) 4):
LOC68 = !(((*(*F_123354).Sons->data[0]).Kind == ((NU8) 12)));
if (!(LOC68)) goto LA69;
LOC68 = ((*(*A_123355).Sons->data[1]).Kind == ((NU8) 3));
LA69: ;
if (!LOC68) goto LA70;
Result_123691 = ((NU8) 3);
goto LA67;
LA70: ;
LOC72 = 0;
LOC72 = Base_93021(F_123354);
LOC73 = Typerel_123350(Mapping_123353, LOC72, (*A_123355).Sons->data[1]);
if (!(((NU8) 4) <= LOC73)) goto LA74;
Result_123691 = ((NU8) 3);
goto LA67;
LA74: ;
LA67: ;
break;
case ((NU8) 16):
LOC77 = !(((*(*F_123354).Sons->data[0]).Kind == ((NU8) 12)));
if (!(LOC77)) goto LA78;
LOC77 = ((*(*A_123355).Sons->data[1]).Kind == ((NU8) 3));
LA78: ;
if (!LOC77) goto LA79;
Result_123691 = ((NU8) 3);
goto LA76;
LA79: ;
LOC81 = 0;
LOC81 = Base_93021(F_123354);
LOC82 = Typerel_123350(Mapping_123353, LOC81, (*A_123355).Sons->data[1]);
if (!(((NU8) 4) <= LOC82)) goto LA83;
Result_123691 = ((NU8) 1);
goto LA76;
LA83: ;
LA76: ;
break;
case ((NU8) 24):
LOC86 = !(((*(*F_123354).Sons->data[0]).Kind == ((NU8) 12)));
if (!(LOC86)) goto LA87;
LOC86 = ((*(*A_123355).Sons->data[0]).Kind == ((NU8) 3));
LA87: ;
if (!LOC86) goto LA88;
Result_123691 = ((NU8) 1);
goto LA85;
LA88: ;
LOC90 = 0;
LOC90 = Base_93021(F_123354);
LOC91 = Typerel_123350(Mapping_123353, LOC90, (*A_123355).Sons->data[0]);
if (!(((NU8) 4) <= LOC91)) goto LA92;
Result_123691 = ((NU8) 1);
goto LA85;
LA92: ;
LA85: ;
break;
default:
break;
}
break;
case ((NU8) 24):
switch ((*A_123355).Kind) {
case ((NU8) 5):
Result_123691 = ((NU8) 3);
break;
case ((NU8) 24):
LOC95 = !(((*(*F_123354).Sons->data[0]).Kind == ((NU8) 12)));
if (!(LOC95)) goto LA96;
LOC95 = ((*(*A_123355).Sons->data[0]).Kind == ((NU8) 3));
LA96: ;
if (!LOC95) goto LA97;
Result_123691 = ((NU8) 3);
goto LA94;
LA97: ;
Result_123691 = Typerel_123350(Mapping_123353, (*F_123354).Sons->data[0], (*A_123355).Sons->data[0]);
if (!(Result_123691 < ((NU8) 4))) goto LA100;
Result_123691 = ((NU8) 0);
LA100: ;
LA94: ;
break;
default:
break;
}
break;
case ((NU8) 15):
LOC103 = Isordinaltype_93069(A_123355);
if (!LOC103) goto LA104;
if (!((*A_123355).Kind == ((NU8) 15))) goto LA107;
X_123692 = (*A_123355).Sons->data[0];
goto LA106;
LA107: ;
X_123692 = A_123355;
LA106: ;
Result_123691 = Typerel_123350(Mapping_123353, (*F_123354).Sons->data[0], X_123692);
if (!(Result_123691 < ((NU8) 4))) goto LA110;
Result_123691 = ((NU8) 0);
LA110: ;
LA104: ;
break;
case ((NU8) 30):
Internalerror_43571(((NimStringDesc*) &TMP194072));
break;
case ((NU8) 5):
if (!((*A_123355).Kind == (*F_123354).Kind)) goto LA113;
Result_123691 = ((NU8) 5);
LA113: ;
break;
case ((NU8) 18):
if (!((*A_123355).Kind == ((NU8) 18))) goto LA116;
Result_123691 = Tuplerel_123534(Mapping_123353, F_123354, A_123355);
LA116: ;
break;
case ((NU8) 17):
if (!((*A_123355).Kind == ((NU8) 17))) goto LA119;
if (!((*A_123355).Sup.Id == (*F_123354).Sup.Id)) goto LA122;
Result_123691 = ((NU8) 5);
goto LA121;
LA122: ;
LOC124 = Isobjectsubtype_123490(A_123355, F_123354);
if (!LOC124) goto LA125;
Result_123691 = ((NU8) 3);
goto LA121;
LA125: ;
LA121: ;
LA119: ;
break;
case ((NU8) 13):
LOC128 = ((*A_123355).Kind == ((NU8) 13));
if (!(LOC128)) goto LA129;
LOC128 = ((*A_123355).Sup.Id == (*F_123354).Sup.Id);
LA129: ;
if (!LOC128) goto LA130;
Result_123691 = ((NU8) 5);
LA130: ;
break;
case ((NU8) 19):
if (!((*A_123355).Kind == ((NU8) 19))) goto LA133;
LOC136 = !(((*(*F_123354).Sons->data[0]).Kind == ((NU8) 12)));
if (!(LOC136)) goto LA137;
LOC136 = ((*(*A_123355).Sons->data[0]).Kind == ((NU8) 3));
LA137: ;
if (!LOC136) goto LA138;
Result_123691 = ((NU8) 3);
goto LA135;
LA138: ;
Result_123691 = Typerel_123350(Mapping_123353, (*F_123354).Sons->data[0], (*A_123355).Sons->data[0]);
if (!(Result_123691 <= ((NU8) 1))) goto LA141;
Result_123691 = ((NU8) 0);
LA141: ;
LA135: ;
LA133: ;
break;
case ((NU8) 21):
switch ((*A_123355).Kind) {
case ((NU8) 21):
LOC143 = 0;
LOC143 = Base_93021(F_123354);
LOC144 = 0;
LOC144 = Base_93021(A_123355);
Result_123691 = Typerel_123350(Mapping_123353, LOC143, LOC144);
if (!(Result_123691 <= ((NU8) 1))) goto LA146;
Result_123691 = ((NU8) 0);
LA146: ;
break;
case ((NU8) 5):
Result_123691 = ((NU8) 3);
break;
default:
break;
}
break;
case ((NU8) 22):
switch ((*A_123355).Kind) {
case ((NU8) 22):
LOC148 = 0;
LOC148 = Base_93021(F_123354);
LOC149 = 0;
LOC149 = Base_93021(A_123355);
Result_123691 = Typerel_123350(Mapping_123353, LOC148, LOC149);
if (!(Result_123691 <= ((NU8) 1))) goto LA151;
Result_123691 = ((NU8) 0);
LA151: ;
break;
case ((NU8) 5):
Result_123691 = ((NU8) 3);
break;
default:
break;
}
break;
case ((NU8) 25):
switch ((*A_123355).Kind) {
case ((NU8) 5):
Result_123691 = ((NU8) 3);
break;
case ((NU8) 25):
LOC155 = Sonslen_51806(F_123354);
LOC156 = Sonslen_51806(A_123355);
LOC154 = (LOC155 == LOC156);
if (!(LOC154)) goto LA157;
LOC154 = ((*F_123354).Callconv == (*A_123355).Callconv);
LA157: ;
if (!LOC154) goto LA158;
Result_123691 = ((NU8) 5);
I_124114 = 0;
HEX3Atmp_125874 = 0;
LOC160 = Sonslen_51806(F_123354);
HEX3Atmp_125874 = (NI64)(LOC160 - 1);
Res_125876 = 0;
Res_125876 = 1;
while (1) {
if (!(Res_125876 <= HEX3Atmp_125874)) goto LA161;
I_124114 = Res_125876;
M_123694 = Typerel_123350(Mapping_123353, (*F_123354).Sons->data[I_124114], (*A_123355).Sons->data[I_124114]);
LOC163 = (M_123694 == ((NU8) 0));
if (!(LOC163)) goto LA164;
LOC165 = Typerel_123350(Mapping_123353, (*A_123355).Sons->data[I_124114], (*F_123354).Sons->data[I_124114]);
LOC163 = (LOC165 == ((NU8) 3));
LA164: ;
if (!LOC163) goto LA166;
Result_123691 = ((NU8) 1);
goto LA162;
LA166: ;
if (!(M_123694 < ((NU8) 3))) goto LA168;
Result_123691 = ((NU8) 0);
goto BeforeRet;
goto LA162;
LA168: ;
Result_123691 = Minrel_123520(M_123694, Result_123691);
LA162: ;
Res_125876 += 1;
} LA161: ;
if (!!(((*F_123354).Sons->data[0] == NIM_NIL))) goto LA171;
if (!!(((*A_123355).Sons->data[0] == NIM_NIL))) goto LA174;
M_123694 = Typerel_123350(Mapping_123353, (*F_123354).Sons->data[0], (*A_123355).Sons->data[0]);
if (!(M_123694 < ((NU8) 3))) goto LA177;
Result_123691 = ((NU8) 0);
goto LA176;
LA177: ;
if (!(M_123694 == ((NU8) 3))) goto LA179;
Result_123691 = ((NU8) 1);
goto LA176;
LA179: ;
Result_123691 = Minrel_123520(M_123694, Result_123691);
LA176: ;
goto LA173;
LA174: ;
Result_123691 = ((NU8) 0);
LA173: ;
goto LA170;
LA171: ;
if (!!(((*A_123355).Sons->data[0] == NIM_NIL))) goto LA181;
Result_123691 = ((NU8) 0);
goto LA170;
LA181: ;
LA170: ;
LOC184 = (((*F_123354).Flags &(1<<((((NU8) 1))&7)))!=0);
if (!(LOC184)) goto LA185;
LOC184 = !((((*A_123355).Flags &(1<<((((NU8) 1))&7)))!=0));
LA185: ;
if (!LOC184) goto LA186;
Result_123691 = ((NU8) 0);
LA186: ;
LA158: ;
break;
default:
break;
}
break;
case ((NU8) 26):
switch ((*A_123355).Kind) {
case ((NU8) 26):
Result_123691 = ((NU8) 5);
break;
case ((NU8) 5):
Result_123691 = ((NU8) 3);
break;
case ((NU8) 21):
case ((NU8) 25):
case ((NU8) 29):
Result_123691 = ((NU8) 1);
break;
default:
break;
}
break;
case ((NU8) 28):
switch ((*A_123355).Kind) {
case ((NU8) 28):
Result_123691 = ((NU8) 5);
break;
case ((NU8) 5):
Result_123691 = ((NU8) 3);
break;
default:
break;
}
break;
case ((NU8) 29):
switch ((*A_123355).Kind) {
case ((NU8) 29):
Result_123691 = ((NU8) 5);
break;
case ((NU8) 5):
Result_123691 = ((NU8) 3);
break;
case ((NU8) 28):
Result_123691 = ((NU8) 1);
break;
case ((NU8) 21):
if (!((*(*A_123355).Sons->data[0]).Kind == ((NU8) 2))) goto LA189;
Result_123691 = ((NU8) 1);
LA189: ;
break;
case ((NU8) 16):
LOC194 = Firstord_93001((*A_123355).Sons->data[0]);
LOC193 = (LOC194 == 0);
if (!(LOC193)) goto LA195;
LOC196 = 0;
LOC196 = Skiptypes_93085((*A_123355).Sons->data[0], 1048576);
LOC193 = ((IL64(66571993088) &(IL64(1)<<(((*LOC196).Kind)&IL64(63))))!=0);
LA195: ;
LOC192 = LOC193;
if (!(LOC192)) goto LA197;
LOC192 = ((*(*A_123355).Sons->data[1]).Kind == ((NU8) 2));
LA197: ;
if (!LOC192) goto LA198;
Result_123691 = ((NU8) 1);
LA198: ;
break;
default:
break;
}
break;
case ((NU8) 3):
if (!((*A_123355).Kind == ((NU8) 3))) goto LA201;
Result_123691 = ((NU8) 5);
LA201: ;
break;
case ((NU8) 11):
LOC203 = 0;
LOC203 = Lastson_51812(F_123354);
Result_123691 = Typerel_123350(Mapping_123353, LOC203, A_123355);
break;
case ((NU8) 10):
LOC204 = 0;
LOC204 = Lastson_51812(F_123354);
Result_123691 = Typerel_123350(Mapping_123353, LOC204, A_123355);
break;
case ((NU8) 9):
if (!((*A_123355).Kind == ((NU8) 9))) goto LA206;
Internalerror_43571(((NimStringDesc*) &TMP194074));
LA206: ;
if (!((*A_123355).Kind == ((NU8) 11))) goto LA209;
LOC212 = ((*(*F_123354).Sons->data[0]).Containerid == (*(*A_123355).Sons->data[0]).Containerid);
if (!(LOC212)) goto LA213;
LOC214 = Sonslen_51806(A_123355);
LOC215 = Sonslen_51806(F_123354);
LOC212 = ((NI64)(LOC214 - 1) == LOC215);
LA213: ;
if (!LOC212) goto LA216;
I_124304 = 0;
HEX3Atmp_125880 = 0;
LOC218 = Sonslen_51806(F_123354);
HEX3Atmp_125880 = (NI64)(LOC218 - 1);
Res_125882 = 0;
Res_125882 = 1;
while (1) {
if (!(Res_125882 <= HEX3Atmp_125880)) goto LA219;
I_124304 = Res_125882;
if (!((*(*A_123355).Sons->data[I_124304]).Kind == ((NU8) 12))) goto LA221;
Internalerror_43571(((NimStringDesc*) &TMP194075));
LA221: ;
LOC224 = Typerel_123350(Mapping_123353, (*F_123354).Sons->data[I_124304], (*A_123355).Sons->data[I_124304]);
if (!(LOC224 < ((NU8) 4))) goto LA225;
goto BeforeRet;
LA225: ;
Res_125882 += 1;
} LA219: ;
Result_123691 = ((NU8) 4);
LA216: ;
goto LA208;
LA209: ;
Result_123691 = Typerel_123350(Mapping_123353, (*F_123354).Sons->data[0], A_123355);
if (!!((Result_123691 == ((NU8) 0)))) goto LA228;
I_124339 = 0;
HEX3Atmp_125886 = 0;
LOC230 = Sonslen_51806(F_123354);
HEX3Atmp_125886 = (NI64)(LOC230 - 1);
Res_125888 = 0;
Res_125888 = 1;
while (1) {
if (!(Res_125888 <= HEX3Atmp_125886)) goto LA231;
I_124339 = Res_125888;
LOC232 = 0;
LOC232 = Idtableget_55166((*Mapping_123353), &(*(*F_123354).Sons->data[0]).Sons->data[(NI64)(I_124339 - 1)]->Sup);
X_123692 = ((TY51551*) (LOC232));
LOC234 = (X_123692 == NIM_NIL);
if (LOC234) goto LA235;
LOC234 = ((*X_123692).Kind == ((NU8) 12));
LA235: ;
if (!LOC234) goto LA236;
Internalerror_43571(((NimStringDesc*) &TMP194075));
LA236: ;
Idtableput_55174(Mapping_123353, &(*F_123354).Sons->data[I_124339]->Sup, &X_123692->Sup.Sup);
Res_125888 += 1;
} LA231: ;
LA228: ;
LA208: ;
break;
case ((NU8) 12):
LOC238 = 0;
LOC238 = Idtableget_55166((*Mapping_123353), &F_123354->Sup);
X_123692 = ((TY51551*) (LOC238));
if (!(X_123692 == NIM_NIL)) goto LA240;
LOC243 = Sonslen_51806(F_123354);
if (!(LOC243 == 0)) goto LA244;
Concrete_123693 = Concretetype_123356((*Mapping_123353), A_123355);
if (!!((Concrete_123693 == NIM_NIL))) goto LA247;
Idtableput_55174(Mapping_123353, &F_123354->Sup, &Concrete_123693->Sup.Sup);
Result_123691 = ((NU8) 4);
LA247: ;
goto LA242;
LA244: ;
LOC249 = 0;
LOC249 = rawNewString((*(*(*F_123354).Sym).Name).S->Sup.len + 17);
appendString(LOC249, ((NimStringDesc*) &TMP194077));
appendString(LOC249, (*(*(*F_123354).Sym).Name).S);
Internalerror_43567((*(*F_123354).Sym).Info, LOC249);
I_124399 = 0;
HEX3Atmp_125892 = 0;
LOC250 = Sonslen_51806(F_123354);
HEX3Atmp_125892 = (NI64)(LOC250 - 1);
Res_125894 = 0;
Res_125894 = 0;
while (1) {
if (!(Res_125894 <= HEX3Atmp_125892)) goto LA251;
I_124399 = Res_125894;
LOC253 = Typerel_123350(Mapping_123353, (*F_123354).Sons->data[I_124399], A_123355);
if (!(((NU8) 3) <= LOC253)) goto LA254;
Concrete_123693 = Concretetype_123356((*Mapping_123353), A_123355);
if (!!((Concrete_123693 == NIM_NIL))) goto LA257;
Idtableput_55174(Mapping_123353, &F_123354->Sup, &Concrete_123693->Sup.Sup);
Result_123691 = ((NU8) 4);
LA257: ;
goto LA251;
LA254: ;
Res_125894 += 1;
} LA251: ;
LA242: ;
goto LA239;
LA240: ;
if (!((*A_123355).Kind == ((NU8) 3))) goto LA259;
Result_123691 = ((NU8) 4);
goto LA239;
LA259: ;
if (!((*X_123692).Kind == ((NU8) 12))) goto LA261;
Result_123691 = ((NU8) 4);
goto LA239;
LA261: ;
Result_123691 = Typerel_123350(Mapping_123353, X_123692, A_123355);
LA239: ;
break;
case ((NU8) 6):
case ((NU8) 7):
case ((NU8) 8):
if (!((*A_123355).Kind == (*F_123354).Kind)) goto LA264;
Result_123691 = ((NU8) 5);
goto LA263;
LA264: ;
switch ((*A_123355).Kind) {
case ((NU8) 6):
case ((NU8) 7):
case ((NU8) 8):
Result_123691 = ((NU8) 4);
break;
case ((NU8) 5):
Result_123691 = ((NU8) 3);
break;
default:
break;
}
LA263: ;
break;
default:
LOC266 = 0;
LOC266 = rawNewString(reprEnum((*F_123354).Kind, NTI51162)->Sup.len + 9);
appendString(LOC266, ((NimStringDesc*) &TMP194078));
appendString(LOC266, reprEnum((*F_123354).Kind, NTI51162));
appendChar(LOC266, 41);
Internalerror_43571(LOC266);
break;
}
BeforeRet: ;
return Result_123691;
}
N_NIMCALL(NIM_BOOL, Containsgenerictypeiter_122207)(TY51551* T_122209, TNimObject* Closure_122210) {
NIM_BOOL Result_122211;
Result_122211 = 0;
Result_122211 = ((5632 &(IL64(1)<<(((*T_122209).Kind)&IL64(63))))!=0);
return Result_122211;
}
N_NIMCALL(NIM_BOOL, Containsgenerictype_122223)(TY51551* T_122225) {
NIM_BOOL Result_122226;
Result_122226 = 0;
Result_122226 = Iterovertype_93038(T_122225, Containsgenerictypeiter_122207, NIM_NIL);
return Result_122226;
}
N_NIMCALL(TY51551*, Lookuptypevar_122862)(TY122712* Cl_122864, TY51551* T_122865) {
TY51551* Result_122866;
TNimObject* LOC1;
NimStringDesc* LOC5;
Result_122866 = 0;
LOC1 = 0;
LOC1 = Idtableget_55166((*Cl_122864).Typemap, &T_122865->Sup);
Result_122866 = ((TY51551*) (LOC1));
if (!(Result_122866 == NIM_NIL)) goto LA3;
LOC5 = 0;
LOC5 = Typetostring_93014(T_122865, ((NU8) 0));
Limessage_43562((*(*T_122865).Sym).Info, ((NU8) 122), LOC5);
goto LA2;
LA3: ;
if (!((*Result_122866).Kind == ((NU8) 12))) goto LA6;
Internalerror_43567((*Cl_122864).Info, ((NimStringDesc*) &TMP194079));
goto LA2;
LA6: ;
LA2: ;
return Result_122866;
}
N_NIMCALL(TY51551*, Searchinsttypes_122158)(TY51563 Tab_122160, TY51551* Key_122161) {
TY51551* Result_122162;
TNimObject* LOC1;
NIM_BOOL LOC3;
NI H_122183;
NI HEX3Atmp_125795;
NI Res_125797;
TY51551* T_122184;
NIM_BOOL Match_122198;
NI J_122206;
NI HEX3Atmp_125789;
NI LOC14;
NI Res_125791;
NIM_BOOL LOC17;
Result_122162 = 0;
LOC1 = 0;
LOC1 = Idtableget_55166(Tab_122160, &Key_122161->Sup);
Result_122162 = ((TY51551*) (LOC1));
LOC3 = (Result_122162 == NIM_NIL);
if (!(LOC3)) goto LA4;
LOC3 = (0 < Tab_122160.Counter);
LA4: ;
if (!LOC3) goto LA5;
H_122183 = 0;
HEX3Atmp_125795 = 0;
HEX3Atmp_125795 = (Tab_122160.Data->Sup.len-1);
Res_125797 = 0;
Res_125797 = 0;
while (1) {
if (!(Res_125797 <= HEX3Atmp_125795)) goto LA7;
H_122183 = Res_125797;
T_122184 = 0;
T_122184 = ((TY51551*) (Tab_122160.Data->data[H_122183].Key));
if (!!((T_122184 == NIM_NIL))) goto LA9;
if (!((*Key_122161).Containerid == (*T_122184).Containerid)) goto LA12;
Match_122198 = 0;
Match_122198 = NIM_TRUE;
J_122206 = 0;
HEX3Atmp_125789 = 0;
LOC14 = Sonslen_51806(T_122184);
HEX3Atmp_125789 = (NI64)(LOC14 - 1);
Res_125791 = 0;
Res_125791 = 0;
while (1) {
if (!(Res_125791 <= HEX3Atmp_125789)) goto LA15;
J_122206 = Res_125791;
LOC17 = Sametype_93048((*T_122184).Sons->data[J_122206], (*Key_122161).Sons->data[J_122206]);
if (!!(LOC17)) goto LA18;
Match_122198 = NIM_FALSE;
goto LA15;
LA18: ;
Res_125791 += 1;
} LA15: ;
if (!Match_122198) goto LA21;
Result_122162 = ((TY51551*) (Tab_122160.Data->data[H_122183].Val));
goto BeforeRet;
LA21: ;
LA12: ;
LA9: ;
Res_125797 += 1;
} LA7: ;
LA5: ;
BeforeRet: ;
return Result_122162;
}
N_NIMCALL(TY51547*, Replacetypevarss_122722)(TY122712* Cl_122725, TY51547* S_122726) {
TY51547* Result_122826;
TNimObject* LOC4;
Result_122826 = 0;
if (!(S_122726 == NIM_NIL)) goto LA2;
Result_122826 = NIM_NIL;
goto BeforeRet;
LA2: ;
LOC4 = 0;
LOC4 = Idtableget_55166((*Cl_122725).Symmap, &S_122726->Sup);
Result_122826 = ((TY51547*) (LOC4));
if (!(Result_122826 == NIM_NIL)) goto LA6;
Result_122826 = Copysym_51775(S_122726, NIM_FALSE);
(*Result_122826).Flags |=(1<<((NI32)(((NU8) 4))%(sizeof(NI32)*8)));
Idtableput_55174(&(*Cl_122725).Symmap, &S_122726->Sup, &Result_122826->Sup.Sup);
asgnRef((void**) &(*Result_122826).Typ, Replacetypevarst_122717(Cl_122725, (*S_122726).Typ));
asgnRef((void**) &(*Result_122826).Owner, (*S_122726).Owner);
asgnRefNoCycle((void**) &(*Result_122826).Ast, Replacetypevarsn_122727(Cl_122725, (*S_122726).Ast));
LA6: ;
BeforeRet: ;
return Result_122826;
}
N_NIMCALL(TY51525*, Replacetypevarsn_122727)(TY122712* Cl_122730, TY51525* N_122731) {
TY51525* Result_122732;
NI Length_122786;
NI I_122796;
NI HEX3Atmp_125817;
NI Res_125819;
Result_122732 = 0;
if (!!((N_122731 == NIM_NIL))) goto LA2;
Result_122732 = Copynode_51855(N_122731);
asgnRef((void**) &(*Result_122732).Typ, Replacetypevarst_122717(Cl_122730, (*N_122731).Typ));
switch ((*N_122731).Kind) {
case ((NU8) 0) ... ((NU8) 2):
case ((NU8) 4) ... ((NU8) 18):
break;
case ((NU8) 3):
asgnRef((void**) &(*Result_122732).KindU.S4.Sym, Replacetypevarss_122722(Cl_122730, (*N_122731).KindU.S4.Sym));
break;
default:
Length_122786 = 0;
Length_122786 = Sonslen_51803(N_122731);
if (!(0 < Length_122786)) goto LA5;
Newsons_51815(Result_122732, Length_122786);
I_122796 = 0;
HEX3Atmp_125817 = 0;
HEX3Atmp_125817 = (NI64)(Length_122786 - 1);
Res_125819 = 0;
Res_125819 = 0;
while (1) {
if (!(Res_125819 <= HEX3Atmp_125817)) goto LA7;
I_122796 = Res_125819;
asgnRefNoCycle((void**) &(*Result_122732).KindU.S6.Sons->data[I_122796], Replacetypevarsn_122727(Cl_122730, (*N_122731).KindU.S6.Sons->data[I_122796]));
Res_125819 += 1;
} LA7: ;
LA5: ;
break;
}
LA2: ;
return Result_122732;
}
N_NIMCALL(void, Checkconstructedtype_122667)(TY43532 Info_122669, TY51551* T_122670) {
NIM_BOOL LOC2;
TY51551* LOC4;
NI64 LOC8;
NimStringDesc* LOC11;
NIM_BOOL LOC13;
LOC2 = (((*T_122670).Flags &(1<<((((NU8) 3))&7)))!=0);
if (!(LOC2)) goto LA3;
LOC4 = 0;
LOC4 = Skiptypes_93085(T_122670, 43008);
LOC2 = !(((*LOC4).Kind == ((NU8) 17)));
LA3: ;
if (!LOC2) goto LA5;
Limessage_43562(Info_122669, ((NU8) 158), ((NimStringDesc*) &TMP194082));
LA5: ;
LOC8 = Computesize_93110(T_122670);
if (!(LOC8 < 0)) goto LA9;
LOC11 = 0;
LOC11 = Typetostring_93014(T_122670, ((NU8) 0));
Limessage_43562(Info_122669, ((NU8) 121), LOC11);
LA9: ;
LOC13 = ((*T_122670).Kind == ((NU8) 23));
if (!(LOC13)) goto LA14;
LOC13 = ((*(*T_122670).Sons->data[0]).Kind == ((NU8) 23));
LA14: ;
if (!LOC13) goto LA15;
Limessage_43562(Info_122669, ((NU8) 190), ((NimStringDesc*) &TMP193939));
LA15: ;
}
N_NIMCALL(TY51551*, Replacetypevarst_122717)(TY122712* Cl_122720, TY51551* T_122721) {
TY51551* Result_122892;
TY51551* Body_122893;
TY51551* Newbody_122894;
TY51551* X_122895;
TY51551* Header_122896;
NI I_122924;
NI HEX3Atmp_125823;
NI LOC7;
NI Res_125825;
NI I_122975;
NI HEX3Atmp_125829;
NI LOC21;
NI Res_125831;
TY51551* LOC23;
TY51551* LOC24;
TY51551* LOC25;
NIM_BOOL LOC27;
NI I_122984;
NI HEX3Atmp_125835;
NI LOC30;
NI Res_125837;
NimStringDesc* LOC35;
Result_122892 = 0;
Body_122893 = 0;
Newbody_122894 = 0;
X_122895 = 0;
Header_122896 = 0;
Result_122892 = T_122721;
if (!(T_122721 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*T_122721).Kind) {
case ((NU8) 12):
Result_122892 = Lookuptypevar_122862(&(*Cl_122720), T_122721);
break;
case ((NU8) 9):
Body_122893 = (*T_122721).Sons->data[0];
if (!!(((*Body_122893).Kind == ((NU8) 10)))) goto LA5;
Internalerror_43567((*Cl_122720).Info, ((NimStringDesc*) &TMP194080));
LA5: ;
Header_122896 = NIM_NIL;
I_122924 = 0;
HEX3Atmp_125823 = 0;
LOC7 = Sonslen_51806(T_122721);
HEX3Atmp_125823 = (NI64)(LOC7 - 1);
Res_125825 = 0;
Res_125825 = 1;
while (1) {
if (!(Res_125825 <= HEX3Atmp_125823)) goto LA8;
I_122924 = Res_125825;
if (!((*(*T_122721).Sons->data[I_122924]).Kind == ((NU8) 12))) goto LA10;
X_122895 = Lookuptypevar_122862(&(*Cl_122720), (*T_122721).Sons->data[I_122924]);
if (!(Header_122896 == NIM_NIL)) goto LA13;
Header_122896 = Copytype_51770(T_122721, (*T_122721).Owner, NIM_FALSE);
LA13: ;
asgnRef((void**) &(*Header_122896).Sons->data[I_122924], X_122895);
goto LA9;
LA10: ;
X_122895 = (*T_122721).Sons->data[I_122924];
LA9: ;
Idtableput_55174(&(*Cl_122720).Typemap, &(*Body_122893).Sons->data[(NI64)(I_122924 - 1)]->Sup, &X_122895->Sup.Sup);
Res_125825 += 1;
} LA8: ;
if (!(Header_122896 == NIM_NIL)) goto LA16;
Header_122896 = T_122721;
LA16: ;
Result_122892 = Searchinsttypes_122158(Ginsttypes_103045, Header_122896);
if (!!((Result_122892 == NIM_NIL))) goto LA19;
goto BeforeRet;
LA19: ;
Result_122892 = Newtype_51706(((NU8) 11), (*(*T_122721).Sons->data[0]).Owner);
I_122975 = 0;
HEX3Atmp_125829 = 0;
LOC21 = Sonslen_51806(T_122721);
HEX3Atmp_125829 = (NI64)(LOC21 - 1);
Res_125831 = 0;
Res_125831 = 0;
while (1) {
if (!(Res_125831 <= HEX3Atmp_125829)) goto LA22;
I_122975 = Res_125831;
Addson_51827(Result_122892, (*Header_122896).Sons->data[I_122975]);
Res_125831 += 1;
} LA22: ;
Idtableput_55174(&Ginsttypes_103045, &Header_122896->Sup, &Result_122892->Sup.Sup);
LOC23 = 0;
LOC23 = Lastson_51812(Body_122893);
Newbody_122894 = Replacetypevarst_122717(Cl_122720, LOC23);
LOC24 = 0;
LOC24 = Lastson_51812(Body_122893);
asgnRefNoCycle((void**) &(*Newbody_122894).N, Replacetypevarsn_122727(Cl_122720, (*LOC24).N));
Addson_51827(Result_122892, Newbody_122894);
Checkconstructedtype_122667((*Cl_122720).Info, Newbody_122894);
break;
case ((NU8) 10):
Internalerror_43567((*Cl_122720).Info, ((NimStringDesc*) &TMP194083));
LOC25 = 0;
LOC25 = Lastson_51812(T_122721);
Result_122892 = Replacetypevarst_122717(Cl_122720, LOC25);
break;
default:
LOC27 = Containsgenerictype_122223(T_122721);
if (!LOC27) goto LA28;
Result_122892 = Copytype_51770(T_122721, (*T_122721).Owner, NIM_FALSE);
I_122984 = 0;
HEX3Atmp_125835 = 0;
LOC30 = Sonslen_51806(Result_122892);
HEX3Atmp_125835 = (NI64)(LOC30 - 1);
Res_125837 = 0;
Res_125837 = 0;
while (1) {
if (!(Res_125837 <= HEX3Atmp_125835)) goto LA31;
I_122984 = Res_125837;
asgnRef((void**) &(*Result_122892).Sons->data[I_122984], Replacetypevarst_122717(Cl_122720, (*Result_122892).Sons->data[I_122984]));
Res_125837 += 1;
} LA31: ;
asgnRefNoCycle((void**) &(*Result_122892).N, Replacetypevarsn_122727(Cl_122720, (*Result_122892).N));
if (!((5632 &(IL64(1)<<(((*Result_122892).Kind)&IL64(63))))!=0)) goto LA33;
LOC35 = 0;
LOC35 = Typetostring_93014(T_122721, ((NU8) 0));
Limessage_43562((*Cl_122720).Info, ((NU8) 122), LOC35);
LA33: ;
LA28: ;
break;
}
BeforeRet: ;
return Result_122892;
}
N_NIMCALL(TY51551*, Generatetypeinstance_123006)(TY103012* P_123008, TY51563 Pt_123009, TY51525* Arg_123010, TY51551* T_123011) {
TY51551* Result_123012;
TY122712 Cl_123013;
Result_123012 = 0;
memset((void*)&Cl_123013, 0, sizeof(Cl_123013));
Initidtable_51754(&Cl_123013.Symmap);
Copyidtable_51798(&Cl_123013.Typemap, Pt_123009);
Cl_123013.Info = (*Arg_123010).Info;
Cl_123013.C = P_123008;
Pushinfocontext_43606((*Arg_123010).Info);
Result_123012 = Replacetypevarst_122717(&Cl_123013, T_123011);
Popinfocontext_43609();
return Result_123012;
}
N_NIMCALL(TY51551*, Getinstantiatedtype_124475)(TY103012* C_124477, TY51525* Arg_124478, TY123058* M_124479, TY51551* F_124480) {
TY51551* Result_124481;
TNimObject* LOC1;
Result_124481 = 0;
LOC1 = 0;
LOC1 = Idtableget_55166((*M_124479).Bindings, &F_124480->Sup);
Result_124481 = ((TY51551*) (LOC1));
if (!(Result_124481 == NIM_NIL)) goto LA3;
Result_124481 = Generatetypeinstance_123006(C_124477, (*M_124479).Bindings, Arg_124478, F_124480);
LA3: ;
if (!(Result_124481 == NIM_NIL)) goto LA6;
Internalerror_43567((*Arg_124478).Info, ((NimStringDesc*) &TMP194084));
LA6: ;
return Result_124481;
}
N_NIMCALL(TY51525*, Implicitconv_124504)(NU8 Kind_124506, TY51551* F_124507, TY51525* Arg_124508, TY123058* M_124509, TY103012* C_124510) {
TY51525* Result_124511;
NIM_BOOL LOC2;
Result_124511 = 0;
Result_124511 = Newnodei_51737(Kind_124506, (*Arg_124508).Info);
LOC2 = Containsgenerictype_122223(F_124507);
if (!LOC2) goto LA3;
asgnRef((void**) &(*Result_124511).Typ, Getinstantiatedtype_124475(C_124510, Arg_124508, M_124509, F_124507));
goto LA1;
LA3: ;
asgnRef((void**) &(*Result_124511).Typ, F_124507);
LA1: ;
if (!((*Result_124511).Typ == NIM_NIL)) goto LA6;
Internalerror_43567((*Arg_124508).Info, ((NimStringDesc*) &TMP194085));
LA6: ;
Addson_51823(Result_124511, NIM_NIL);
Addson_51823(Result_124511, Arg_124508);
return Result_124511;
}
N_NIMCALL(TY51525*, Userconvmatch_124523)(TY103012* C_124525, TY123058* M_124527, TY51551* F_124528, TY51551* A_124529, TY51525* Arg_124530) {
TY51525* Result_124531;
NI I_124549;
NI HEX3Atmp_125898;
NI Res_125900;
TY51551* Src_124550;
TY51551* Dest_124551;
NIM_BOOL LOC3;
NU8 LOC4;
NU8 LOC6;
TY51525* S_124572;
TY51525* LOC9;
Result_124531 = 0;
Result_124531 = NIM_NIL;
I_124549 = 0;
HEX3Atmp_125898 = 0;
HEX3Atmp_125898 = (NI64)((*C_124525).Converters->Sup.len - 1);
Res_125900 = 0;
Res_125900 = 0;
while (1) {
if (!(Res_125900 <= HEX3Atmp_125898)) goto LA1;
I_124549 = Res_125900;
Src_124550 = 0;
Src_124550 = (*(*(*C_124525).Converters->data[I_124549]).Typ).Sons->data[1];
Dest_124551 = 0;
Dest_124551 = (*(*(*C_124525).Converters->data[I_124549]).Typ).Sons->data[0];
LOC4 = Typerel_123350(&(*M_124527).Bindings, F_124528, Dest_124551);
LOC3 = (LOC4 == ((NU8) 5));
if (!(LOC3)) goto LA5;
LOC6 = Typerel_123350(&(*M_124527).Bindings, Src_124550, A_124529);
LOC3 = (LOC6 == ((NU8) 5));
LA5: ;
if (!LOC3) goto LA7;
S_124572 = 0;
S_124572 = Newsymnode_51734((*C_124525).Converters->data[I_124549]);
asgnRef((void**) &(*S_124572).Typ, (*(*C_124525).Converters->data[I_124549]).Typ);
(*S_124572).Info = (*Arg_124530).Info;
Result_124531 = Newnodeit_51741(((NU8) 49), (*Arg_124530).Info, (*(*S_124572).Typ).Sons->data[0]);
Addson_51823(Result_124531, S_124572);
LOC9 = 0;
LOC9 = Copytree_51858(Arg_124530);
Addson_51823(Result_124531, LOC9);
(*M_124527).Convmatches += 1;
goto BeforeRet;
LA7: ;
Res_125900 += 1;
} LA1: ;
BeforeRet: ;
return Result_124531;
}
N_NIMCALL(TY51525*, Paramtypesmatchaux_124585)(TY103012* C_124587, TY123058* M_124589, TY51551* F_124590, TY51551* A_124591, TY51525* Arg_124592) {
TY51525* Result_124593;
NU8 R_124595;
TY51525* LOC1;
TY51525* LOC2;
TY51525* LOC3;
TY51551* LOC5;
TY51525* LOC8;
TY51551* LOC10;
TY51525* LOC13;
NIM_BOOL LOC15;
TY51551* LOC19;
TY51551* LOC26;
TY51551* LOC27;
Result_124593 = 0;
R_124595 = 0;
R_124595 = Typerel_123350(&(*M_124589).Bindings, F_124590, A_124591);
switch (R_124595) {
case ((NU8) 1):
(*M_124589).Convmatches += 1;
LOC1 = 0;
LOC1 = Copytree_51858(Arg_124592);
Result_124593 = Implicitconv_124504(((NU8) 47), F_124590, LOC1, &(*M_124589), C_124587);
break;
case ((NU8) 2):
(*M_124589).Intconvmatches += 1;
LOC2 = 0;
LOC2 = Copytree_51858(Arg_124592);
Result_124593 = Implicitconv_124504(((NU8) 47), F_124590, LOC2, &(*M_124589), C_124587);
break;
case ((NU8) 3):
(*M_124589).Subtypematches += 1;
LOC3 = 0;
LOC3 = Copytree_51858(Arg_124592);
Result_124593 = Implicitconv_124504(((NU8) 48), F_124590, LOC3, &(*M_124589), C_124587);
break;
case ((NU8) 4):
(*M_124589).Genericmatches += 1;
Result_124593 = Copytree_51858(Arg_124592);
asgnRef((void**) &(*Result_124593).Typ, Getinstantiatedtype_124475(C_124587, Arg_124592, &(*M_124589), F_124590));
LOC5 = 0;
LOC5 = Skiptypes_93085((*Result_124593).Typ, 8431616);
if (!((134479872 &(IL64(1)<<(((*LOC5).Kind)&IL64(63))))!=0)) goto LA6;
LOC8 = 0;
LOC8 = Copytree_51858(Arg_124592);
Result_124593 = Implicitconv_124504(((NU8) 47), F_124590, LOC8, &(*M_124589), C_124587);
LA6: ;
break;
case ((NU8) 5):
(*M_124589).Exactmatches += 1;
Result_124593 = Copytree_51858(Arg_124592);
LOC10 = 0;
LOC10 = Skiptypes_93085(F_124590, 8431616);
if (!((134479872 &(IL64(1)<<(((*LOC10).Kind)&IL64(63))))!=0)) goto LA11;
LOC13 = 0;
LOC13 = Copytree_51858(Arg_124592);
Result_124593 = Implicitconv_124504(((NU8) 47), F_124590, LOC13, &(*M_124589), C_124587);
LA11: ;
break;
case ((NU8) 0):
Result_124593 = Userconvmatch_124523(C_124587, M_124589, F_124590, A_124591, Arg_124592);
LOC15 = (Result_124593 == NIM_NIL);
if (!(LOC15)) goto LA16;
LOC15 = ((*F_124590).Kind == ((NU8) 27));
LA16: ;
if (!LOC15) goto LA17;
LOC19 = 0;
LOC19 = Base_93021(F_124590);
R_124595 = Typerel_123350(&(*M_124589).Bindings, LOC19, A_124591);
if (!(((NU8) 4) <= R_124595)) goto LA21;
(*M_124589).Convmatches += 1;
Result_124593 = Copytree_51858(Arg_124592);
if (!(R_124595 == ((NU8) 4))) goto LA24;
LOC26 = 0;
LOC26 = Base_93021(F_124590);
asgnRef((void**) &(*Result_124593).Typ, Getinstantiatedtype_124475(C_124587, Arg_124592, &(*M_124589), LOC26));
LA24: ;
(*M_124589).Basetypematch = NIM_TRUE;
goto LA20;
LA21: ;
LOC27 = 0;
LOC27 = Base_93021(F_124590);
Result_124593 = Userconvmatch_124523(C_124587, M_124589, LOC27, A_124591, Arg_124592);
LA20: ;
LA17: ;
break;
}
return Result_124593;
}
N_NIMCALL(void, Initcandidate_123086)(TY123058* C_123089, TY51551* Callee_123090) {
Initcandidateaux_123081(C_123089, Callee_123090);
unsureAsgnRef((void**) &(*C_123089).Calleesym, NIM_NIL);
Initidtable_51754(&(*C_123089).Bindings);
}
N_NIMCALL(void, Copycandidate_123135)(TY123058* A_123138, TY123058* B_123139) {
(*A_123138).Exactmatches = (*B_123139).Exactmatches;
(*A_123138).Subtypematches = (*B_123139).Subtypematches;
(*A_123138).Convmatches = (*B_123139).Convmatches;
(*A_123138).Intconvmatches = (*B_123139).Intconvmatches;
(*A_123138).Genericmatches = (*B_123139).Genericmatches;
(*A_123138).State = (*B_123139).State;
unsureAsgnRef((void**) &(*A_123138).Callee, (*B_123139).Callee);
unsureAsgnRef((void**) &(*A_123138).Calleesym, (*B_123139).Calleesym);
unsureAsgnRef((void**) &(*A_123138).Call, Copytree_51858((*B_123139).Call));
(*A_123138).Basetypematch = (*B_123139).Basetypematch;
Copyidtable_51798(&(*A_123138).Bindings, (*B_123139).Bindings);
}
N_NIMCALL(NI, Cmpcandidates_123141)(TY123058* A_123143, TY123058* B_123144) {
NI Result_123145;
Result_123145 = 0;
Result_123145 = (NI64)((*A_123143).Exactmatches - (*B_123144).Exactmatches);
if (!!((Result_123145 == 0))) goto LA2;
goto BeforeRet;
LA2: ;
Result_123145 = (NI64)((*A_123143).Genericmatches - (*B_123144).Genericmatches);
if (!!((Result_123145 == 0))) goto LA5;
goto BeforeRet;
LA5: ;
Result_123145 = (NI64)((*A_123143).Subtypematches - (*B_123144).Subtypematches);
if (!!((Result_123145 == 0))) goto LA8;
goto BeforeRet;
LA8: ;
Result_123145 = (NI64)((*A_123143).Intconvmatches - (*B_123144).Intconvmatches);
if (!!((Result_123145 == 0))) goto LA11;
goto BeforeRet;
LA11: ;
Result_123145 = (NI64)((*A_123143).Convmatches - (*B_123144).Convmatches);
BeforeRet: ;
return Result_123145;
}
N_NIMCALL(TY51525*, Paramtypesmatch_124731)(TY103012* C_124733, TY123058* M_124735, TY51551* F_124736, TY51551* A_124737, TY51525* Arg_124738) {
TY51525* Result_124739;
NIM_BOOL LOC2;
TY123058 X_124760;
TY123058 Y_124761;
TY123058 Z_124762;
NI Best_124766;
NI I_124774;
NI HEX3Atmp_125904;
NI LOC6;
NI Res_125906;
NU8 R_124825;
NI Cmp_124835;
NIM_BOOL LOC22;
NI LOC24;
Result_124739 = 0;
LOC2 = (Arg_124738 == NIM_NIL);
if (LOC2) goto LA3;
LOC2 = !(((*Arg_124738).Kind == ((NU8) 46)));
LA3: ;
if (!LOC2) goto LA4;
Result_124739 = Paramtypesmatchaux_124585(C_124733, M_124735, F_124736, A_124737, Arg_124738);
goto LA1;
LA4: ;
memset((void*)&X_124760, 0, sizeof(X_124760));
memset((void*)&Y_124761, 0, sizeof(Y_124761));
memset((void*)&Z_124762, 0, sizeof(Z_124762));
Initcandidate_123086(&X_124760, (*M_124735).Callee);
Initcandidate_123086(&Y_124761, (*M_124735).Callee);
Initcandidate_123086(&Z_124762, (*M_124735).Callee);
X_124760.Calleesym = (*M_124735).Calleesym;
Y_124761.Calleesym = (*M_124735).Calleesym;
Z_124762.Calleesym = (*M_124735).Calleesym;
Best_124766 = 0;
Best_124766 = -1;
I_124774 = 0;
HEX3Atmp_125904 = 0;
LOC6 = Sonslen_51803(Arg_124738);
HEX3Atmp_125904 = (NI64)(LOC6 - 1);
Res_125906 = 0;
Res_125906 = 0;
while (1) {
if (!(Res_125906 <= HEX3Atmp_125904)) goto LA7;
I_124774 = Res_125906;
if (!((5632 &(1<<(((*(*(*Arg_124738).KindU.S6.Sons->data[I_124774]).KindU.S4.Sym).Kind)&31)))!=0)) goto LA9;
Copycandidate_123135(&Z_124762, &(*M_124735));
R_124825 = 0;
R_124825 = Typerel_123350(&Z_124762.Bindings, F_124736, (*(*Arg_124738).KindU.S6.Sons->data[I_124774]).Typ);
if (!!((R_124825 == ((NU8) 0)))) goto LA12;
switch (X_124760.State) {
case ((NU8) 0):
case ((NU8) 2):
genericAssign((void*)&X_124760, (void*)&Z_124762, NTI123058);
Best_124766 = I_124774;
X_124760.State = ((NU8) 1);
break;
case ((NU8) 1):
Cmp_124835 = 0;
Cmp_124835 = Cmpcandidates_123141(&X_124760, &Z_124762);
if (!(Cmp_124835 < 0)) goto LA15;
Best_124766 = I_124774;
genericAssign((void*)&X_124760, (void*)&Z_124762, NTI123058);
goto LA14;
LA15: ;
if (!(Cmp_124835 == 0)) goto LA17;
genericAssign((void*)&Y_124761, (void*)&Z_124762, NTI123058);
goto LA14;
LA17: ;
LA14: ;
break;
}
LA12: ;
LA9: ;
Res_125906 += 1;
} LA7: ;
if (!(X_124760.State == ((NU8) 0))) goto LA20;
Result_124739 = NIM_NIL;
goto LA19;
LA20: ;
LOC22 = (Y_124761.State == ((NU8) 1));
if (!(LOC22)) goto LA23;
LOC24 = Cmpcandidates_123141(&X_124760, &Y_124761);
LOC22 = (LOC24 == 0);
LA23: ;
if (!LOC22) goto LA25;
if (!!((X_124760.State == ((NU8) 1)))) goto LA28;
Internalerror_43567((*Arg_124738).Info, ((NimStringDesc*) &TMP194090));
LA28: ;
Result_124739 = NIM_NIL;
goto LA19;
LA25: ;
Markused_121065(Arg_124738, (*(*Arg_124738).KindU.S6.Sons->data[Best_124766]).KindU.S4.Sym);
Result_124739 = Paramtypesmatchaux_124585(C_124733, M_124735, F_124736, (*(*Arg_124738).KindU.S6.Sons->data[Best_124766]).Typ, (*Arg_124738).KindU.S6.Sons->data[Best_124766]);
LA19: ;
LA1: ;
return Result_124739;
}
N_NIMCALL(void, Setson_124927)(TY51525* Father_124929, NI At_124930, TY51525* Son_124931) {
NI LOC2;
LOC2 = Sonslen_51803(Father_124929);
if (!(LOC2 <= At_124930)) goto LA3;
(*Father_124929).KindU.S6.Sons = (TY51519*) setLengthSeq(&((*Father_124929).KindU.S6.Sons)->Sup, sizeof(TY51525*), (NI64)(At_124930 + 1));
LA3: ;
asgnRefNoCycle((void**) &(*Father_124929).KindU.S6.Sons->data[At_124930], Son_124931);
}
N_NIMCALL(void, Matches_124970)(TY103012* C_124972, TY51525* N_124973, TY123058* M_124975) {
NI F_124976;
NI A_124977;
NI Formallen_124978;
TY51525* LOC1;
TY51900 Marker_124991;
TY51525* Container_124993;
TY51547* Formal_124994;
NI LOC3;
NIM_BOOL LOC14;
TY51525* Arg_125159;
TY51551* LOC33;
TY51551* LOC36;
TY51525* LOC37;
TY51525* LOC38;
TY51525* LOC39;
TY51525* Arg_125289;
NIM_BOOL LOC43;
NIM_BOOL LOC44;
NIM_BOOL LOC53;
TY51525* Arg_125406;
TY51525* LOC62;
NI LOC67;
NIM_BOOL LOC69;
TY51525* LOC78;
TY51525* LOC79;
F_124976 = 0;
F_124976 = 1;
A_124977 = 0;
A_124977 = 1;
(*M_124975).State = ((NU8) 1);
unsureAsgnRef((void**) &(*M_124975).Call, Newnodei_51737(((NU8) 21), (*N_124973).Info));
asgnRef((void**) &(*(*M_124975).Call).Typ, Base_93021((*M_124975).Callee));
Formallen_124978 = 0;
Formallen_124978 = Sonslen_51803((*(*M_124975).Callee).N);
LOC1 = 0;
LOC1 = Copytree_51858((*N_124973).KindU.S6.Sons->data[0]);
Addson_51823((*M_124975).Call, LOC1);
memset((void*)&Marker_124991, 0, sizeof(Marker_124991));
Intsetinit_51924(&Marker_124991);
Container_124993 = 0;
Container_124993 = NIM_NIL;
Formal_124994 = 0;
Formal_124994 = NIM_NIL;
while (1) {
LOC3 = Sonslen_51803(N_124973);
if (!(A_124977 < LOC3)) goto LA2;
if (!((*(*N_124973).KindU.S6.Sons->data[A_124977]).Kind == ((NU8) 23))) goto LA5;
if (!!(((*(*(*N_124973).KindU.S6.Sons->data[A_124977]).KindU.S6.Sons->data[0]).Kind == ((NU8) 2)))) goto LA8;
Limessage_43562((*(*N_124973).KindU.S6.Sons->data[A_124977]).Info, ((NU8) 155), ((NimStringDesc*) &TMP193939));
(*M_124975).State = ((NU8) 2);
goto BeforeRet;
LA8: ;
Formal_124994 = Getsymfromlist_55197((*(*M_124975).Callee).N, (*(*(*N_124973).KindU.S6.Sons->data[A_124977]).KindU.S6.Sons->data[0]).KindU.S5.Ident, 1);
if (!(Formal_124994 == NIM_NIL)) goto LA11;
(*M_124975).State = ((NU8) 2);
goto BeforeRet;
LA11: ;
LOC14 = Intsetcontainsorincl_51928(&Marker_124991, (*Formal_124994).Position);
if (!LOC14) goto LA15;
Limessage_43562((*(*N_124973).KindU.S6.Sons->data[A_124977]).Info, ((NU8) 140), (*(*Formal_124994).Name).S);
(*M_124975).State = ((NU8) 2);
goto BeforeRet;
LA15: ;
(*M_124975).Basetypematch = NIM_FALSE;
Arg_125159 = 0;
Arg_125159 = Paramtypesmatch_124731(C_124972, M_124975, (*Formal_124994).Typ, (*(*N_124973).KindU.S6.Sons->data[A_124977]).Typ, (*(*N_124973).KindU.S6.Sons->data[A_124977]).KindU.S6.Sons->data[1]);
if (!(Arg_125159 == NIM_NIL)) goto LA18;
(*M_124975).State = ((NU8) 2);
goto BeforeRet;
LA18: ;
if (!(*M_124975).Basetypematch) goto LA21;
Container_124993 = Newnodei_51737(((NU8) 32), (*(*N_124973).KindU.S6.Sons->data[A_124977]).Info);
Addson_51823(Container_124993, Arg_125159);
Setson_124927((*M_124975).Call, (NI64)((*Formal_124994).Position + 1), Container_124993);
if (!!((F_124976 == (NI64)(Formallen_124978 - 1)))) goto LA24;
Container_124993 = NIM_NIL;
LA24: ;
goto LA20;
LA21: ;
Setson_124927((*M_124975).Call, (NI64)((*Formal_124994).Position + 1), Arg_125159);
LA20: ;
goto LA4;
LA5: ;
if (!(Formallen_124978 <= F_124976)) goto LA27;
if (!(((*(*M_124975).Callee).Flags &(1<<((((NU8) 0))&7)))!=0)) goto LA30;
LOC33 = 0;
LOC33 = Skiptypes_93085((*(*N_124973).KindU.S6.Sons->data[A_124977]).Typ, 8431616);
if (!((*LOC33).Kind == ((NU8) 28))) goto LA34;
LOC36 = 0;
LOC36 = Getsystype_98008(((NU8) 29));
LOC37 = 0;
LOC37 = Copytree_51858((*N_124973).KindU.S6.Sons->data[A_124977]);
LOC38 = 0;
LOC38 = Implicitconv_124504(((NU8) 47), LOC36, LOC37, &(*M_124975), C_124972);
Addson_51823((*M_124975).Call, LOC38);
goto LA32;
LA34: ;
LOC39 = 0;
LOC39 = Copytree_51858((*N_124973).KindU.S6.Sons->data[A_124977]);
Addson_51823((*M_124975).Call, LOC39);
LA32: ;
goto LA29;
LA30: ;
if (!!((Formal_124994 == NIM_NIL))) goto LA40;
(*M_124975).Basetypematch = NIM_FALSE;
Arg_125289 = 0;
Arg_125289 = Paramtypesmatch_124731(C_124972, M_124975, (*Formal_124994).Typ, (*(*N_124973).KindU.S6.Sons->data[A_124977]).Typ, (*N_124973).KindU.S6.Sons->data[A_124977]);
LOC44 = !((Arg_125289 == NIM_NIL));
if (!(LOC44)) goto LA45;
LOC44 = (*M_124975).Basetypematch;
LA45: ;
LOC43 = LOC44;
if (!(LOC43)) goto LA46;
LOC43 = !((Container_124993 == NIM_NIL));
LA46: ;
if (!LOC43) goto LA47;
Addson_51823(Container_124993, Arg_125289);
goto LA42;
LA47: ;
(*M_124975).State = ((NU8) 2);
goto BeforeRet;
LA42: ;
goto LA29;
LA40: ;
(*M_124975).State = ((NU8) 2);
goto BeforeRet;
LA29: ;
goto LA26;
LA27: ;
if (!!(((*(*(*(*M_124975).Callee).N).KindU.S6.Sons->data[F_124976]).Kind == ((NU8) 3)))) goto LA50;
Internalerror_43567((*(*N_124973).KindU.S6.Sons->data[A_124977]).Info, ((NimStringDesc*) &TMP194091));
LA50: ;
Formal_124994 = (*(*(*(*M_124975).Callee).N).KindU.S6.Sons->data[F_124976]).KindU.S4.Sym;
LOC53 = Intsetcontainsorincl_51928(&Marker_124991, (*Formal_124994).Position);
if (!LOC53) goto LA54;
Limessage_43562((*(*N_124973).KindU.S6.Sons->data[A_124977]).Info, ((NU8) 140), (*(*Formal_124994).Name).S);
(*M_124975).State = ((NU8) 2);
goto BeforeRet;
LA54: ;
(*M_124975).Basetypematch = NIM_FALSE;
Arg_125406 = 0;
Arg_125406 = Paramtypesmatch_124731(C_124972, M_124975, (*Formal_124994).Typ, (*(*N_124973).KindU.S6.Sons->data[A_124977]).Typ, (*N_124973).KindU.S6.Sons->data[A_124977]);
if (!(Arg_125406 == NIM_NIL)) goto LA57;
(*M_124975).State = ((NU8) 2);
goto BeforeRet;
LA57: ;
if (!(*M_124975).Basetypematch) goto LA60;
Container_124993 = Newnodei_51737(((NU8) 32), (*(*N_124973).KindU.S6.Sons->data[A_124977]).Info);
Addson_51823(Container_124993, Arg_125406);
LOC62 = 0;
LOC62 = Implicitconv_124504(((NU8) 47), (*Formal_124994).Typ, Container_124993, &(*M_124975), C_124972);
Setson_124927((*M_124975).Call, (NI64)((*Formal_124994).Position + 1), LOC62);
if (!!((F_124976 == (NI64)(Formallen_124978 - 1)))) goto LA64;
Container_124993 = NIM_NIL;
LA64: ;
goto LA59;
LA60: ;
Setson_124927((*M_124975).Call, (NI64)((*Formal_124994).Position + 1), Arg_125406);
LA59: ;
LA26: ;
LA4: ;
A_124977 += 1;
F_124976 += 1;
} LA2: ;
F_124976 = 1;
while (1) {
LOC67 = Sonslen_51803((*(*M_124975).Callee).N);
if (!(F_124976 < LOC67)) goto LA66;
Formal_124994 = (*(*(*(*M_124975).Callee).N).KindU.S6.Sons->data[F_124976]).KindU.S4.Sym;
LOC69 = Intsetcontainsorincl_51928(&Marker_124991, (*Formal_124994).Position);
if (!!(LOC69)) goto LA70;
if (!((*Formal_124994).Ast == NIM_NIL)) goto LA73;
if (!((*(*Formal_124994).Typ).Kind == ((NU8) 27))) goto LA76;
Container_124993 = Newnodei_51737(((NU8) 32), (*N_124973).Info);
LOC78 = 0;
LOC78 = Implicitconv_124504(((NU8) 47), (*Formal_124994).Typ, Container_124993, &(*M_124975), C_124972);
Addson_51823((*M_124975).Call, LOC78);
goto LA75;
LA76: ;
(*M_124975).State = ((NU8) 2);
goto LA66;
LA75: ;
goto LA72;
LA73: ;
LOC79 = 0;
LOC79 = Copytree_51858((*Formal_124994).Ast);
Setson_124927((*M_124975).Call, (NI64)((*Formal_124994).Position + 1), LOC79);
LA72: ;
LA70: ;
F_124976 += 1;
} LA66: ;
BeforeRet: ;
}
N_NIMCALL(NIM_BOOL, Samemethoddispatcher_125526)(TY51547* A_125528, TY51547* B_125529) {
NIM_BOOL Result_125530;
NIM_BOOL LOC2;
TY51525* Aa_125549;
TY51525* Bb_125550;
NIM_BOOL LOC7;
NIM_BOOL LOC8;
Result_125530 = 0;
Result_125530 = NIM_FALSE;
LOC2 = ((*A_125528).Kind == ((NU8) 10));
if (!(LOC2)) goto LA3;
LOC2 = ((*B_125529).Kind == ((NU8) 10));
LA3: ;
if (!LOC2) goto LA4;
Aa_125549 = 0;
Aa_125549 = Lastson_51809((*A_125528).Ast);
Bb_125550 = 0;
Bb_125550 = Lastson_51809((*B_125529).Ast);
LOC8 = ((*Aa_125549).Kind == ((NU8) 3));
if (!(LOC8)) goto LA9;
LOC8 = ((*Bb_125550).Kind == ((NU8) 3));
LA9: ;
LOC7 = LOC8;
if (!(LOC7)) goto LA10;
LOC7 = ((*Aa_125549).KindU.S4.Sym == (*Bb_125550).KindU.S4.Sym);
LA10: ;
if (!LOC7) goto LA11;
Result_125530 = NIM_TRUE;
LA11: ;
LA4: ;
return Result_125530;
}
N_NIMCALL(void, Instantiategenericparamlist_122227)(TY103012* C_122229, TY51525* N_122230, TY51563 Pt_122231) {
NI I_122248;
NI HEX3Atmp_125805;
NI LOC4;
NI Res_125807;
TY51525* A_122261;
TY51547* Q_122283;
TY51547* S_122296;
TY51547* LOC13;
TY51551* T_122297;
TNimObject* LOC14;
NimStringDesc* LOC21;
if (!!(((*N_122230).Kind == ((NU8) 65)))) goto LA2;
Internalerror_43567((*N_122230).Info, ((NimStringDesc*) &TMP194096));
LA2: ;
I_122248 = 0;
HEX3Atmp_125805 = 0;
LOC4 = Sonslen_51803(N_122230);
HEX3Atmp_125805 = (NI64)(LOC4 - 1);
Res_125807 = 0;
Res_125807 = 0;
while (1) {
if (!(Res_125807 <= HEX3Atmp_125805)) goto LA5;
I_122248 = Res_125807;
A_122261 = 0;
A_122261 = (*N_122230).KindU.S6.Sons->data[I_122248];
if (!!(((*A_122261).Kind == ((NU8) 3)))) goto LA8;
Internalerror_43567((*A_122261).Info, ((NimStringDesc*) &TMP194097));
LA8: ;
Q_122283 = 0;
Q_122283 = (*A_122261).KindU.S4.Sym;
if (!!(((4352 &(IL64(1)<<(((*(*Q_122283).Typ).Kind)&IL64(63))))!=0))) goto LA11;
goto LA6;
LA11: ;
S_122296 = 0;
LOC13 = 0;
LOC13 = Getcurrowner_103107();
S_122296 = Newsym_51701(((NU8) 6), (*Q_122283).Name, LOC13);
T_122297 = 0;
LOC14 = 0;
LOC14 = Idtableget_55166(Pt_122231, &(*Q_122283).Typ->Sup);
T_122297 = ((TY51551*) (LOC14));
if (!(T_122297 == NIM_NIL)) goto LA16;
Limessage_43562((*A_122261).Info, ((NU8) 122), (*(*S_122296).Name).S);
LA16: ;
if (!((*T_122297).Kind == ((NU8) 12))) goto LA19;
LOC21 = 0;
LOC21 = rawNewString((*(*Q_122283).Name).S->Sup.len + 29);
appendString(LOC21, ((NimStringDesc*) &TMP194098));
appendString(LOC21, (*(*Q_122283).Name).S);
Internalerror_43567((*A_122261).Info, LOC21);
LA19: ;
asgnRef((void**) &(*S_122296).Typ, T_122297);
Adddecl_104026(C_122229, S_122296);
LA6: ;
Res_125807 += 1;
} LA5: ;
}
N_NIMCALL(TY51551*, Neworprevtype_125986)(NU8 Kind_125988, TY51551* Prev_125989, TY103012* C_125990) {
TY51551* Result_125991;
Result_125991 = 0;
if (!(Prev_125989 == NIM_NIL)) goto LA2;
Result_125991 = Newtypes_103077(Kind_125988, C_125990);
goto LA1;
LA2: ;
Result_125991 = Prev_125989;
if (!((*Result_125991).Kind == ((NU8) 30))) goto LA5;
(*Result_125991).Kind = Kind_125988;
LA5: ;
LA1: ;
return Result_125991;
}
N_NIMCALL(TY51547*, Semtypeident_126724)(TY103012* C_126726, TY51525* N_126727) {
TY51547* Result_126728;
Result_126728 = 0;
Result_126728 = Qualifiedlookup_104053(C_126726, N_126727, NIM_TRUE);
if (!!((Result_126728 == NIM_NIL))) goto LA2;
Markused_121065(N_126727, Result_126728);
if (!!(((*Result_126728).Kind == ((NU8) 6)))) goto LA5;
Limessage_43562((*N_126727).Info, ((NU8) 60), ((NimStringDesc*) &TMP193939));
LA5: ;
goto LA1;
LA2: ;
Limessage_43562((*N_126727).Info, ((NU8) 19), ((NimStringDesc*) &TMP193939));
LA1: ;
return Result_126728;
}
N_NIMCALL(TY51551*, Semrangeaux_126421)(TY103012* C_126423, TY51525* N_126424, TY51551* Prev_126425) {
TY51551* Result_126426;
NIM_BOOL LOC5;
TY51525* A_126494;
TY51525* B_126507;
NIM_BOOL LOC10;
NIM_BOOL LOC17;
NIM_BOOL LOC21;
Result_126426 = 0;
if (!!(((*N_126424).Kind == ((NU8) 35)))) goto LA2;
Internalerror_43567((*N_126424).Info, ((NimStringDesc*) &TMP194099));
LA2: ;
Checksonslen_103099(N_126424, 2);
Result_126426 = Neworprevtype_125986(((NU8) 20), Prev_126425, C_126423);
asgnRefNoCycle((void**) &(*Result_126426).N, Newnodei_51737(((NU8) 35), (*N_126424).Info));
LOC5 = ((*N_126424).KindU.S6.Sons->data[0] == NIM_NIL);
if (LOC5) goto LA6;
LOC5 = ((*N_126424).KindU.S6.Sons->data[1] == NIM_NIL);
LA6: ;
if (!LOC5) goto LA7;
Limessage_43562((*N_126424).Info, ((NU8) 104), ((NimStringDesc*) &TMP193939));
LA7: ;
A_126494 = 0;
A_126494 = Semconstexpr_121171(C_126423, (*N_126424).KindU.S6.Sons->data[0]);
B_126507 = 0;
B_126507 = Semconstexpr_121171(C_126423, (*N_126424).KindU.S6.Sons->data[1]);
LOC10 = Sametype_93048((*A_126494).Typ, (*B_126507).Typ);
if (!!(LOC10)) goto LA11;
Limessage_43562((*N_126424).Info, ((NU8) 125), ((NimStringDesc*) &TMP193939));
LA11: ;
if (!!(((IL64(1097364160518) &(IL64(1)<<(((*(*A_126494).Typ).Kind)&IL64(63))))!=0))) goto LA14;
Limessage_43562((*N_126424).Info, ((NU8) 71), ((NimStringDesc*) &TMP193939));
LA14: ;
LOC17 = Enumhaswholes_93072((*A_126494).Typ);
if (!LOC17) goto LA18;
Limessage_43562((*N_126424).Info, ((NU8) 142), (*(*(*(*A_126494).Typ).Sym).Name).S);
LA18: ;
LOC21 = Levalue_51870(A_126494, B_126507);
if (!!(LOC21)) goto LA22;
Limessage_43562((*N_126424).Info, ((NU8) 104), ((NimStringDesc*) &TMP193939));
LA22: ;
Addson_51823((*Result_126426).N, A_126494);
Addson_51823((*Result_126426).N, B_126507);
Addson_51827(Result_126426, (*B_126507).Typ);
return Result_126426;
}
N_NIMCALL(TY51551*, Semarray_126573)(TY103012* C_126575, TY51525* N_126576, TY51551* Prev_126577) {
TY51551* Result_126578;
TY51551* Indx_126579;
TY51551* Base_126580;
NI LOC2;
NIM_BOOL LOC15;
NIM_BOOL LOC19;
Result_126578 = 0;
Indx_126579 = 0;
Base_126580 = 0;
Result_126578 = Neworprevtype_125986(((NU8) 16), Prev_126577, C_126575);
LOC2 = Sonslen_51803(N_126576);
if (!(LOC2 == 3)) goto LA3;
if (!((*(*N_126576).KindU.S6.Sons->data[1]).Kind == ((NU8) 35))) goto LA6;
Indx_126579 = Semrangeaux_126421(C_126575, (*N_126576).KindU.S6.Sons->data[1], NIM_NIL);
goto LA5;
LA6: ;
Indx_126579 = Semtypenode_121138(C_126575, (*N_126576).KindU.S6.Sons->data[1], NIM_NIL);
LA5: ;
Addson_51827(Result_126578, Indx_126579);
if (!((*Indx_126579).Kind == ((NU8) 11))) goto LA9;
Indx_126579 = Lastson_51812(Indx_126579);
LA9: ;
if (!!(((*Indx_126579).Kind == ((NU8) 12)))) goto LA12;
LOC15 = Isordinaltype_93069(Indx_126579);
if (!!(LOC15)) goto LA16;
Limessage_43562((*(*N_126576).KindU.S6.Sons->data[1]).Info, ((NU8) 71), ((NimStringDesc*) &TMP193939));
LA16: ;
LOC19 = Enumhaswholes_93072(Indx_126579);
if (!LOC19) goto LA20;
Limessage_43562((*(*N_126576).KindU.S6.Sons->data[1]).Info, ((NU8) 142), (*(*(*Indx_126579).Sym).Name).S);
LA20: ;
LA12: ;
Base_126580 = Semtypenode_121138(C_126575, (*N_126576).KindU.S6.Sons->data[2], NIM_NIL);
Addson_51827(Result_126578, Base_126580);
goto LA1;
LA3: ;
Limessage_43562((*N_126576).Info, ((NU8) 170), ((NimStringDesc*) &TMP193939));
LA1: ;
return Result_126578;
}
N_NIMCALL(TY51551*, Semcontainer_126325)(TY103012* C_126327, TY51525* N_126328, NU8 Kind_126329, NimStringDesc* Kindstr_126330, TY51551* Prev_126331) {
TY51551* Result_126332;
NI LOC2;
TY51551* Base_126347;
Result_126332 = 0;
Result_126332 = Neworprevtype_125986(Kind_126329, Prev_126331, C_126327);
LOC2 = Sonslen_51803(N_126328);
if (!(LOC2 == 2)) goto LA3;
Base_126347 = 0;
Base_126347 = Semtypenode_121138(C_126327, (*N_126328).KindU.S6.Sons->data[1], NIM_NIL);
Addson_51827(Result_126332, Base_126347);
goto LA1;
LA3: ;
Limessage_43562((*N_126328).Info, ((NU8) 169), Kindstr_126330);
LA1: ;
return Result_126332;
}
N_NIMCALL(TY51551*, Semrange_126520)(TY103012* C_126522, TY51525* N_126523, TY51551* Prev_126524) {
TY51551* Result_126525;
NI LOC2;
Result_126525 = 0;
Result_126525 = NIM_NIL;
LOC2 = Sonslen_51803(N_126523);
if (!(LOC2 == 2)) goto LA3;
if (!((*(*N_126523).KindU.S6.Sons->data[1]).Kind == ((NU8) 35))) goto LA6;
Result_126525 = Semrangeaux_126421(C_126522, (*N_126523).KindU.S6.Sons->data[1], Prev_126524);
goto LA5;
LA6: ;
Limessage_43562((*(*N_126523).KindU.S6.Sons->data[0]).Info, ((NU8) 93), ((NimStringDesc*) &TMP193939));
LA5: ;
goto LA1;
LA3: ;
Limessage_43562((*N_126523).Info, ((NU8) 169), ((NimStringDesc*) &TMP194101));
LA1: ;
return Result_126525;
}
N_NIMCALL(TY51551*, Semset_126284)(TY103012* C_126286, TY51525* N_126287, TY51551* Prev_126288) {
TY51551* Result_126289;
NI LOC2;
TY51551* Base_126304;
NIM_BOOL LOC12;
NI64 LOC16;
Result_126289 = 0;
Result_126289 = Neworprevtype_125986(((NU8) 19), Prev_126288, C_126286);
LOC2 = Sonslen_51803(N_126287);
if (!(LOC2 == 2)) goto LA3;
Base_126304 = 0;
Base_126304 = Semtypenode_121138(C_126286, (*N_126287).KindU.S6.Sons->data[1], NIM_NIL);
Addson_51827(Result_126289, Base_126304);
if (!((*Base_126304).Kind == ((NU8) 11))) goto LA6;
Base_126304 = Lastson_51812(Base_126304);
LA6: ;
if (!!(((*Base_126304).Kind == ((NU8) 12)))) goto LA9;
LOC12 = Isordinaltype_93069(Base_126304);
if (!!(LOC12)) goto LA13;
Limessage_43562((*N_126287).Info, ((NU8) 71), ((NimStringDesc*) &TMP193939));
LA13: ;
LOC16 = Lengthord_93007(Base_126304);
if (!(65536 < LOC16)) goto LA17;
Limessage_43562((*N_126287).Info, ((NU8) 117), ((NimStringDesc*) &TMP193939));
LA17: ;
LA9: ;
goto LA1;
LA3: ;
Limessage_43562((*N_126287).Info, ((NU8) 169), ((NimStringDesc*) &TMP194102));
LA1: ;
return Result_126289;
}
N_NIMCALL(TY51551*, Semordinal_126682)(TY103012* C_126684, TY51525* N_126685, TY51551* Prev_126686) {
TY51551* Result_126687;
NI LOC2;
TY51551* Base_126702;
NIM_BOOL LOC9;
Result_126687 = 0;
Result_126687 = Neworprevtype_125986(((NU8) 15), Prev_126686, C_126684);
LOC2 = Sonslen_51803(N_126685);
if (!(LOC2 == 2)) goto LA3;
Base_126702 = 0;
Base_126702 = Semtypenode_121138(C_126684, (*N_126685).KindU.S6.Sons->data[1], NIM_NIL);
if (!!(((*Base_126702).Kind == ((NU8) 12)))) goto LA6;
LOC9 = Isordinaltype_93069(Base_126702);
if (!!(LOC9)) goto LA10;
Limessage_43562((*(*N_126685).KindU.S6.Sons->data[1]).Info, ((NU8) 71), ((NimStringDesc*) &TMP193939));
LA10: ;
LA6: ;
Addson_51827(Result_126687, Base_126702);
goto LA1;
LA3: ;
Limessage_43562((*N_126685).Info, ((NU8) 169), ((NimStringDesc*) &TMP194103));
LA1: ;
return Result_126687;
}
N_NIMCALL(TY51551*, Instgenericcontainer_121166)(TY103012* C_121168, TY51525* N_121169, TY51551* Header_121170) {
TY51551* Result_123001;
TY122712 Cl_123002;
Result_123001 = 0;
memset((void*)&Cl_123002, 0, sizeof(Cl_123002));
Initidtable_51754(&Cl_123002.Symmap);
Initidtable_51754(&Cl_123002.Typemap);
Cl_123002.Info = (*N_121169).Info;
Cl_123002.C = C_121168;
Result_123001 = Replacetypevarst_122717(&Cl_123002, Header_121170);
return Result_123001;
}
N_NIMCALL(TY51551*, Semgeneric_126906)(TY103012* C_126908, TY51525* N_126909, TY51547* S_126910, TY51551* Prev_126911) {
TY51551* Result_126912;
TY51551* Elem_126913;
NIM_BOOL Isconcrete_126914;
NIM_BOOL LOC2;
NI LOC10;
NI LOC11;
NI I_126946;
NI HEX3Atmp_141860;
NI LOC14;
NI Res_141862;
Result_126912 = 0;
Elem_126913 = 0;
Isconcrete_126914 = 0;
LOC2 = ((*S_126910).Typ == NIM_NIL);
if (LOC2) goto LA3;
LOC2 = !(((*(*S_126910).Typ).Kind == ((NU8) 10)));
LA3: ;
if (!LOC2) goto LA4;
Limessage_43562((*N_126909).Info, ((NU8) 122), (*(*S_126910).Name).S);
LA4: ;
Result_126912 = Neworprevtype_125986(((NU8) 9), Prev_126911, C_126908);
if (!((*(*S_126910).Typ).Containerid == 0)) goto LA7;
Internalerror_43567((*N_126909).Info, ((NimStringDesc*) &TMP194105));
LA7: ;
LOC10 = Sonslen_51803(N_126909);
LOC11 = Sonslen_51806((*S_126910).Typ);
if (!!((LOC10 == LOC11))) goto LA12;
Limessage_43562((*N_126909).Info, ((NU8) 130), ((NimStringDesc*) &TMP193939));
LA12: ;
Addson_51827(Result_126912, (*S_126910).Typ);
Isconcrete_126914 = NIM_TRUE;
I_126946 = 0;
HEX3Atmp_141860 = 0;
LOC14 = Sonslen_51803(N_126909);
HEX3Atmp_141860 = (NI64)(LOC14 - 1);
Res_141862 = 0;
Res_141862 = 1;
while (1) {
if (!(Res_141862 <= HEX3Atmp_141860)) goto LA15;
I_126946 = Res_141862;
Elem_126913 = Semtypenode_121138(C_126908, (*N_126909).KindU.S6.Sons->data[I_126946], NIM_NIL);
if (!((*Elem_126913).Kind == ((NU8) 12))) goto LA17;
Isconcrete_126914 = NIM_FALSE;
LA17: ;
Addson_51827(Result_126912, Elem_126913);
Res_141862 += 1;
} LA15: ;
if (!Isconcrete_126914) goto LA20;
if (!((*S_126910).Ast == NIM_NIL)) goto LA23;
Limessage_43562((*N_126909).Info, ((NU8) 122), (*(*S_126910).Name).S);
LA23: ;
Result_126912 = Instgenericcontainer_121166(C_126908, N_126909, Result_126912);
LA20: ;
return Result_126912;
}
N_NIMCALL(void, Addinheritedfieldsaux_128067)(TY103012* C_128069, TY51900* Check_128071, NI* Pos_128073, TY51525* N_128074) {
NI I_128115;
NI HEX3Atmp_141912;
NI LOC4;
NI Res_141914;
TY51525* LOC6;
NI I_128147;
NI HEX3Atmp_141918;
NI LOC7;
NI Res_141920;
switch ((*N_128074).Kind) {
case ((NU8) 114):
if (!!(((*(*N_128074).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA2;
Internalerror_43567((*N_128074).Info, ((NimStringDesc*) &TMP194106));
LA2: ;
Addinheritedfieldsaux_128067(C_128069, Check_128071, Pos_128073, (*N_128074).KindU.S6.Sons->data[0]);
I_128115 = 0;
HEX3Atmp_141912 = 0;
LOC4 = Sonslen_51803(N_128074);
HEX3Atmp_141912 = (NI64)(LOC4 - 1);
Res_141914 = 0;
Res_141914 = 1;
while (1) {
if (!(Res_141914 <= HEX3Atmp_141912)) goto LA5;
I_128115 = Res_141914;
switch ((*(*N_128074).KindU.S6.Sons->data[I_128115]).Kind) {
case ((NU8) 75):
case ((NU8) 78):
LOC6 = 0;
LOC6 = Lastson_51809((*N_128074).KindU.S6.Sons->data[I_128115]);
Addinheritedfieldsaux_128067(C_128069, Check_128071, Pos_128073, LOC6);
break;
default:
Internalerror_43567((*N_128074).Info, ((NimStringDesc*) &TMP194107));
break;
}
Res_141914 += 1;
} LA5: ;
break;
case ((NU8) 113):
I_128147 = 0;
HEX3Atmp_141918 = 0;
LOC7 = Sonslen_51803(N_128074);
HEX3Atmp_141918 = (NI64)(LOC7 - 1);
Res_141920 = 0;
Res_141920 = 0;
while (1) {
if (!(Res_141920 <= HEX3Atmp_141918)) goto LA8;
I_128147 = Res_141920;
Addinheritedfieldsaux_128067(C_128069, Check_128071, Pos_128073, (*N_128074).KindU.S6.Sons->data[I_128147]);
Res_141920 += 1;
} LA8: ;
break;
case ((NU8) 3):
Intsetincl_51914(Check_128071, (*(*(*N_128074).KindU.S4.Sym).Name).Sup.Id);
(*Pos_128073) += 1;
break;
default:
Internalerror_43567((*N_128074).Info, ((NimStringDesc*) &TMP194108));
break;
}
}
N_NIMCALL(void, Addinheritedfields_128184)(TY103012* C_128186, TY51900* Check_128188, NI* Pos_128190, TY51551* Obj_128191) {
NIM_BOOL LOC2;
NI LOC3;
LOC3 = Sonslen_51806(Obj_128191);
LOC2 = (0 < LOC3);
if (!(LOC2)) goto LA4;
LOC2 = !(((*Obj_128191).Sons->data[0] == NIM_NIL));
LA4: ;
if (!LOC2) goto LA5;
Addinheritedfields_128184(C_128186, Check_128188, Pos_128190, (*Obj_128191).Sons->data[0]);
LA5: ;
Addinheritedfieldsaux_128067(C_128186, Check_128188, Pos_128190, (*Obj_128191).N);
}
N_NIMCALL(void, Checkbool_125912)(TY51525* T_125914) {
NIM_BOOL LOC2;
TY51551* LOC4;
LOC2 = ((*T_125914).Typ == NIM_NIL);
if (LOC2) goto LA3;
LOC4 = 0;
LOC4 = Skiptypes_93085((*T_125914).Typ, 8423424);
LOC2 = !(((*LOC4).Kind == ((NU8) 1)));
LA3: ;
if (!LOC2) goto LA5;
Limessage_43562((*T_125914).Info, ((NU8) 101), ((NimStringDesc*) &TMP193939));
LA5: ;
}
N_NIMCALL(NU8, Cmptypes_124467)(TY51551* F_124469, TY51551* A_124470) {
NU8 Result_124471;
TY51563 Mapping_124472;
Result_124471 = 0;
memset((void*)&Mapping_124472, 0, sizeof(Mapping_124472));
Initidtable_51754(&Mapping_124472);
Result_124471 = Typerel_123350(&Mapping_124472, F_124469, A_124470);
return Result_124471;
}
N_NIMCALL(void, Typemismatch_125936)(TY51525* N_125938, TY51551* Formal_125939, TY51551* Actual_125940) {
NimStringDesc* LOC1;
NimStringDesc* LOC2;
NimStringDesc* LOC3;
NimStringDesc* LOC4;
TY43865 LOC5;
NimStringDesc* LOC6;
LOC1 = 0;
LOC2 = 0;
LOC2 = Msgkindtostring_43588(((NU8) 126));
LOC3 = 0;
LOC3 = Typetostring_93014(Actual_125940, ((NU8) 0));
LOC4 = 0;
LOC4 = Msgkindtostring_43588(((NU8) 128));
memset((void*)&LOC5, 0, sizeof(LOC5));
LOC5[0] = Typetostring_93014(Formal_125939, ((NU8) 0));
LOC6 = 0;
LOC6 = nsuFormatOpenArray(LOC4, LOC5, 1);
LOC1 = rawNewString(LOC2->Sup.len + LOC3->Sup.len + LOC6->Sup.len + 2);
appendString(LOC1, LOC2);
appendString(LOC1, LOC3);
appendString(LOC1, ((NimStringDesc*) &TMP194112));
appendString(LOC1, LOC6);
Limessage_43562((*N_125938).Info, ((NU8) 4), LOC1);
}
N_NIMCALL(void, Sembranchexpr_127249)(TY103012* C_127251, TY51525* T_127252, TY51525** Ex_127254) {
NU8 LOC2;
unsureAsgnRef((void**) &(*Ex_127254), Semconstexpr_121171(C_127251, (*Ex_127254)));
Checkminsonslen_103103(T_127252, 1);
LOC2 = Cmptypes_124467((*(*T_127252).KindU.S6.Sons->data[0]).Typ, (*(*Ex_127254)).Typ);
if (!(LOC2 <= ((NU8) 1))) goto LA3;
Typemismatch_125936((*Ex_127254), (*(*T_127252).KindU.S6.Sons->data[0]).Typ, (*(*Ex_127254)).Typ);
LA3: ;
}
N_NIMCALL(void, Checkforoverlap_127191)(TY103012* C_127193, TY51525* T_127194, TY51525* Ex_127195, NI Branchindex_127196) {
NI I_127204;
NI HEX3Atmp_141872;
NI Res_141874;
NI J_127224;
NI HEX3Atmp_141866;
NI LOC2;
NI Res_141868;
NIM_BOOL LOC5;
I_127204 = 0;
HEX3Atmp_141872 = 0;
HEX3Atmp_141872 = (NI64)(Branchindex_127196 - 1);
Res_141874 = 0;
Res_141874 = 1;
while (1) {
if (!(Res_141874 <= HEX3Atmp_141872)) goto LA1;
I_127204 = Res_141874;
J_127224 = 0;
HEX3Atmp_141866 = 0;
LOC2 = Sonslen_51803((*T_127194).KindU.S6.Sons->data[I_127204]);
HEX3Atmp_141866 = (NI64)(LOC2 - 2);
Res_141868 = 0;
Res_141868 = 0;
while (1) {
if (!(Res_141868 <= HEX3Atmp_141866)) goto LA3;
J_127224 = Res_141868;
LOC5 = Overlap_100006((*(*T_127194).KindU.S6.Sons->data[I_127204]).KindU.S6.Sons->data[J_127224], Ex_127195);
if (!LOC5) goto LA6;
Limessage_43562((*Ex_127195).Info, ((NU8) 103), ((NimStringDesc*) &TMP193939));
LA6: ;
Res_141868 += 1;
} LA3: ;
Res_141874 += 1;
} LA1: ;
}
N_NIMCALL(void, Semcasebranch_127288)(TY103012* C_127290, TY51525* T_127291, TY51525* Branch_127292, NI Branchindex_127293, NI64* Covered_127295) {
NI I_127303;
NI HEX3Atmp_141882;
NI LOC1;
NI Res_141884;
TY51525* B_127316;
NIM_BOOL LOC7;
NI64 LOC10;
NI64 LOC11;
I_127303 = 0;
HEX3Atmp_141882 = 0;
LOC1 = Sonslen_51803(Branch_127292);
HEX3Atmp_141882 = (NI64)(LOC1 - 2);
Res_141884 = 0;
Res_141884 = 0;
while (1) {
if (!(Res_141884 <= HEX3Atmp_141882)) goto LA2;
I_127303 = Res_141884;
B_127316 = 0;
B_127316 = (*Branch_127292).KindU.S6.Sons->data[I_127303];
if (!((*B_127316).Kind == ((NU8) 35))) goto LA4;
Checksonslen_103099(B_127316, 2);
Sembranchexpr_127249(C_127290, T_127291, &(*B_127316).KindU.S6.Sons->data[0]);
Sembranchexpr_127249(C_127290, T_127291, &(*B_127316).KindU.S6.Sons->data[1]);
LOC7 = Emptyrange_100019((*B_127316).KindU.S6.Sons->data[0], (*B_127316).KindU.S6.Sons->data[1]);
if (!LOC7) goto LA8;
Limessage_43562((*B_127316).Info, ((NU8) 104), ((NimStringDesc*) &TMP193939));
LA8: ;
LOC10 = Getordvalue_93107((*B_127316).KindU.S6.Sons->data[1]);
LOC11 = Getordvalue_93107((*B_127316).KindU.S6.Sons->data[0]);
(*Covered_127295) = (NI64)((NI64)((NI64)((*Covered_127295) + LOC10) - LOC11) + 1);
goto LA3;
LA4: ;
Sembranchexpr_127249(C_127290, T_127291, &(*Branch_127292).KindU.S6.Sons->data[I_127303]);
(*Covered_127295) += 1;
LA3: ;
Checkforoverlap_127191(C_127290, T_127291, (*Branch_127292).KindU.S6.Sons->data[I_127303], Branchindex_127293);
Res_141884 += 1;
} LA2: ;
}
N_NIMCALL(void, Semrecordcase_127447)(TY103012* C_127449, TY51525* N_127450, TY51900* Check_127452, NI* Pos_127454, TY51525* Father_127455, TY51547* Rectype_127456) {
NI64 Covered_127457;
NIM_BOOL Chckcovered_127458;
TY51525* A_127459;
TY51525* B_127460;
TY51551* Typ_127461;
NIM_BOOL LOC5;
NI64 LOC9;
NI64 LOC13;
NI I_127602;
NI HEX3Atmp_141888;
NI LOC16;
NI Res_141890;
NI LOC18;
TY51525* LOC19;
NIM_BOOL LOC21;
NI64 LOC23;
Covered_127457 = 0;
Chckcovered_127458 = 0;
A_127459 = 0;
B_127460 = 0;
Typ_127461 = 0;
A_127459 = Copynode_51855(N_127450);
Checkminsonslen_103103(N_127450, 2);
Semrecordnodeaux_127437(C_127449, (*N_127450).KindU.S6.Sons->data[0], Check_127452, Pos_127454, A_127459, Rectype_127456);
if (!!(((*(*A_127459).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA2;
Internalerror_43571(((NimStringDesc*) &TMP194111));
LA2: ;
(*(*(*A_127459).KindU.S6.Sons->data[0]).KindU.S4.Sym).Flags |=(1<<((NI32)(((NU8) 21))%(sizeof(NI32)*8)));
Covered_127457 = 0;
Typ_127461 = Skiptypes_93085((*(*A_127459).KindU.S6.Sons->data[0]).Typ, 8431616);
LOC5 = Isordinaltype_93069(Typ_127461);
if (!!(LOC5)) goto LA6;
Limessage_43562((*N_127450).Info, ((NU8) 106), ((NimStringDesc*) &TMP193939));
LA6: ;
LOC9 = Firstord_93001(Typ_127461);
if (!(LOC9 < 0)) goto LA10;
Limessage_43562((*N_127450).Info, ((NU8) 107), (*(*(*(*A_127459).KindU.S6.Sons->data[0]).KindU.S4.Sym).Name).S);
LA10: ;
LOC13 = Lengthord_93007(Typ_127461);
if (!(32767 < LOC13)) goto LA14;
Limessage_43562((*N_127450).Info, ((NU8) 108), (*(*(*(*A_127459).KindU.S6.Sons->data[0]).KindU.S4.Sym).Name).S);
LA14: ;
Chckcovered_127458 = NIM_TRUE;
I_127602 = 0;
HEX3Atmp_141888 = 0;
LOC16 = Sonslen_51803(N_127450);
HEX3Atmp_141888 = (NI64)(LOC16 - 1);
Res_141890 = 0;
Res_141890 = 1;
while (1) {
if (!(Res_141890 <= HEX3Atmp_141888)) goto LA17;
I_127602 = Res_141890;
B_127460 = Copytree_51858((*N_127450).KindU.S6.Sons->data[I_127602]);
switch ((*(*N_127450).KindU.S6.Sons->data[I_127602]).Kind) {
case ((NU8) 75):
Checkminsonslen_103103(B_127460, 2);
Semcasebranch_127288(C_127449, A_127459, B_127460, I_127602, &Covered_127457);
break;
case ((NU8) 78):
Chckcovered_127458 = NIM_FALSE;
Checksonslen_103099(B_127460, 1);
break;
default:
Illformedast_103092(N_127450);
break;
}
LOC18 = Sonslen_51803(B_127460);
Delson_51835(B_127460, (NI64)(LOC18 - 1));
LOC19 = 0;
LOC19 = Lastson_51809((*N_127450).KindU.S6.Sons->data[I_127602]);
Semrecordnodeaux_127437(C_127449, LOC19, Check_127452, Pos_127454, B_127460, Rectype_127456);
Addson_51823(A_127459, B_127460);
Res_141890 += 1;
} LA17: ;
LOC21 = Chckcovered_127458;
if (!(LOC21)) goto LA22;
LOC23 = Lengthord_93007((*(*A_127459).KindU.S6.Sons->data[0]).Typ);
LOC21 = !((Covered_127457 == LOC23));
LA22: ;
if (!LOC21) goto LA24;
Limessage_43562((*A_127459).Info, ((NU8) 147), ((NimStringDesc*) &TMP193939));
LA24: ;
Addson_51823(Father_127455, A_127459);
}
N_NIMCALL(TY51547*, Newsyms_121059)(NU8 Kind_121061, TY51525* N_121062, TY103012* C_121063) {
TY51547* Result_121064;
TY50011* LOC1;
TY51547* LOC2;
Result_121064 = 0;
LOC1 = 0;
LOC1 = Consideracc_121003(N_121062);
LOC2 = 0;
LOC2 = Getcurrowner_103107();
Result_121064 = Newsym_51701(Kind_121061, LOC1, LOC2);
(*Result_121064).Info = (*N_121062).Info;
return Result_121064;
}
N_NIMCALL(TY51547*, Semidentvis_121092)(TY103012* C_121094, NU8 Kind_121095, TY51525* N_121096, NU32 Allowed_121097) {
TY51547* Result_126985;
NIM_BOOL LOC5;
NI LOC6;
TY50011* V_127054;
NIM_BOOL LOC11;
NIM_BOOL LOC15;
Result_126985 = 0;
if (!((*N_121096).Kind == ((NU8) 29))) goto LA2;
LOC6 = Sonslen_51803(N_121096);
LOC5 = (LOC6 == 2);
if (!(LOC5)) goto LA7;
LOC5 = ((*(*N_121096).KindU.S6.Sons->data[0]).Kind == ((NU8) 2));
LA7: ;
if (!LOC5) goto LA8;
Result_126985 = Newsyms_121059(Kind_121095, (*N_121096).KindU.S6.Sons->data[1], C_121094);
V_127054 = 0;
V_127054 = (*(*N_121096).KindU.S6.Sons->data[0]).KindU.S5.Ident;
LOC11 = ((Allowed_121097 &(1<<((((NU8) 1))&31)))!=0);
if (!(LOC11)) goto LA12;
LOC11 = ((*V_127054).Sup.Id == 69);
LA12: ;
if (!LOC11) goto LA13;
(*Result_126985).Flags |=(1<<((NI32)(((NU8) 1))%(sizeof(NI32)*8)));
goto LA10;
LA13: ;
LOC15 = ((Allowed_121097 &(1<<((((NU8) 2))&31)))!=0);
if (!(LOC15)) goto LA16;
LOC15 = ((*V_127054).Sup.Id == 70);
LA16: ;
if (!LOC15) goto LA17;
(*Result_126985).Flags |=(1<<((NI32)(((NU8) 2))%(sizeof(NI32)*8)));
goto LA10;
LA17: ;
Limessage_43562((*(*N_121096).KindU.S6.Sons->data[0]).Info, ((NU8) 171), (*V_127054).S);
LA10: ;
goto LA4;
LA8: ;
Illformedast_103092(N_121096);
LA4: ;
goto LA1;
LA2: ;
Result_126985 = Newsyms_121059(Kind_121095, N_121096, C_121094);
LA1: ;
return Result_126985;
}
N_NIMCALL(TY51547*, Semidentwithpragma_121098)(TY103012* C_121100, NU8 Kind_121101, TY51525* N_121102, NU32 Allowed_121103) {
TY51547* Result_127133;
Result_127133 = 0;
if (!((*N_121102).Kind == ((NU8) 34))) goto LA2;
Checksonslen_103099(N_121102, 2);
Result_127133 = Semidentvis_121092(C_121100, Kind_121101, (*N_121102).KindU.S6.Sons->data[0], Allowed_121103);
switch (Kind_121101) {
case ((NU8) 6):
break;
case ((NU8) 15):
Pragma_118028(C_121100, Result_127133, (*N_121102).KindU.S6.Sons->data[1], TMP194118);
break;
case ((NU8) 8):
Pragma_118028(C_121100, Result_127133, (*N_121102).KindU.S6.Sons->data[1], TMP194119);
break;
case ((NU8) 7):
Pragma_118028(C_121100, Result_127133, (*N_121102).KindU.S6.Sons->data[1], TMP194120);
break;
default:
break;
}
goto LA1;
LA2: ;
Result_127133 = Semidentvis_121092(C_121100, Kind_121101, N_121102, Allowed_121103);
LA1: ;
return Result_127133;
}
N_NIMCALL(void, Semrecordnodeaux_127437)(TY103012* C_127439, TY51525* N_127440, TY51900* Check_127442, NI* Pos_127444, TY51525* Father_127445, TY51547* Rectype_127446) {
NI Length_127664;
TY51547* F_127665;
TY51525* A_127666;
TY51525* It_127667;
TY51525* E_127668;
TY51525* Branch_127669;
TY51551* Typ_127670;
NI I_127689;
NI HEX3Atmp_141894;
NI LOC4;
NI Res_141896;
NIM_BOOL LOC13;
TY51525* LOC26;
NI I_127830;
NI HEX3Atmp_141900;
NI LOC30;
NI Res_141902;
NIM_BOOL LOC36;
NI I_127940;
NI HEX3Atmp_141906;
NI LOC46;
NI Res_141908;
NIM_BOOL LOC49;
NIM_BOOL LOC50;
NIM_BOOL LOC56;
TY51525* LOC62;
TY51525* LOC63;
Length_127664 = 0;
F_127665 = 0;
A_127666 = 0;
It_127667 = 0;
E_127668 = 0;
Branch_127669 = 0;
Typ_127670 = 0;
if (!(N_127440 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*N_127440).Kind) {
case ((NU8) 115):
Branch_127669 = NIM_NIL;
I_127689 = 0;
HEX3Atmp_141894 = 0;
LOC4 = Sonslen_51803(N_127440);
HEX3Atmp_141894 = (NI64)(LOC4 - 1);
Res_141896 = 0;
Res_141896 = 0;
while (1) {
if (!(Res_141896 <= HEX3Atmp_141894)) goto LA5;
I_127689 = Res_141896;
It_127667 = (*N_127440).KindU.S6.Sons->data[I_127689];
if (!(It_127667 == NIM_NIL)) goto LA7;
Illformedast_103092(N_127440);
LA7: ;
switch ((*It_127667).Kind) {
case ((NU8) 76):
Checksonslen_103099(It_127667, 2);
E_127668 = Semconstexpr_121171(C_127439, (*It_127667).KindU.S6.Sons->data[0]);
Checkbool_125912(E_127668);
if (!!(((*E_127668).Kind == ((NU8) 6)))) goto LA10;
Internalerror_43567((*E_127668).Info, ((NimStringDesc*) &TMP194110));
LA10: ;
LOC13 = !(((*E_127668).KindU.S1.Intval == 0));
if (!(LOC13)) goto LA14;
LOC13 = (Branch_127669 == NIM_NIL);
LA14: ;
if (!LOC13) goto LA15;
Branch_127669 = (*It_127667).KindU.S6.Sons->data[1];
LA15: ;
break;
case ((NU8) 78):
Checksonslen_103099(It_127667, 1);
if (!(Branch_127669 == NIM_NIL)) goto LA18;
Branch_127669 = (*It_127667).KindU.S6.Sons->data[0];
LA18: ;
break;
default:
Illformedast_103092(N_127440);
break;
}
Res_141896 += 1;
} LA5: ;
if (!!((Branch_127669 == NIM_NIL))) goto LA21;
Semrecordnodeaux_127437(C_127439, Branch_127669, Check_127442, Pos_127444, Father_127445, Rectype_127446);
LA21: ;
break;
case ((NU8) 114):
Semrecordcase_127447(C_127439, N_127440, Check_127442, Pos_127444, Father_127445, Rectype_127446);
break;
case ((NU8) 18):
if (!!(((*Father_127445).Kind == ((NU8) 113)))) goto LA24;
LOC26 = 0;
LOC26 = Newnodei_51737(((NU8) 113), (*N_127440).Info);
Addson_51823(Father_127445, LOC26);
LA24: ;
break;
case ((NU8) 113):
if (!((*Father_127445).Kind == ((NU8) 113))) goto LA28;
A_127666 = Father_127445;
goto LA27;
LA28: ;
A_127666 = Copynode_51855(N_127440);
LA27: ;
I_127830 = 0;
HEX3Atmp_141900 = 0;
LOC30 = Sonslen_51803(N_127440);
HEX3Atmp_141900 = (NI64)(LOC30 - 1);
Res_141902 = 0;
Res_141902 = 0;
while (1) {
if (!(Res_141902 <= HEX3Atmp_141900)) goto LA31;
I_127830 = Res_141902;
Semrecordnodeaux_127437(C_127439, (*N_127440).KindU.S6.Sons->data[I_127830], Check_127442, Pos_127444, A_127666, Rectype_127446);
Res_141902 += 1;
} LA31: ;
if (!!((A_127666 == Father_127445))) goto LA33;
Addson_51823(Father_127445, A_127666);
LA33: ;
break;
case ((NU8) 25):
Checkminsonslen_103103(N_127440, 3);
Length_127664 = Sonslen_51803(N_127440);
LOC36 = !(((*Father_127445).Kind == ((NU8) 113)));
if (!(LOC36)) goto LA37;
LOC36 = (4 <= Length_127664);
LA37: ;
if (!LOC36) goto LA38;
A_127666 = Newnodei_51737(((NU8) 113), (*N_127440).Info);
goto LA35;
LA38: ;
A_127666 = NIM_NIL;
LA35: ;
if (!!(((*N_127440).KindU.S6.Sons->data[(NI64)(Length_127664 - 1)] == NIM_NIL))) goto LA41;
Limessage_43562((*(*N_127440).KindU.S6.Sons->data[(NI64)(Length_127664 - 1)]).Info, ((NU8) 172), ((NimStringDesc*) &TMP193939));
LA41: ;
if (!((*N_127440).KindU.S6.Sons->data[(NI64)(Length_127664 - 2)] == NIM_NIL)) goto LA44;
Limessage_43562((*N_127440).Info, ((NU8) 60), ((NimStringDesc*) &TMP193939));
LA44: ;
Typ_127670 = Semtypenode_121138(C_127439, (*N_127440).KindU.S6.Sons->data[(NI64)(Length_127664 - 2)], NIM_NIL);
I_127940 = 0;
HEX3Atmp_141906 = 0;
LOC46 = Sonslen_51803(N_127440);
HEX3Atmp_141906 = (NI64)(LOC46 - 3);
Res_141908 = 0;
Res_141908 = 0;
while (1) {
if (!(Res_141908 <= HEX3Atmp_141906)) goto LA47;
I_127940 = Res_141908;
F_127665 = Semidentwithpragma_121098(C_127439, ((NU8) 15), (*N_127440).KindU.S6.Sons->data[I_127940], 6);
asgnRef((void**) &(*F_127665).Typ, Typ_127670);
(*F_127665).Position = (*Pos_127444);
LOC50 = !((Rectype_127446 == NIM_NIL));
if (!(LOC50)) goto LA51;
LOC50 = !(((384 & (*Rectype_127446).Flags) == 0));
LA51: ;
LOC49 = LOC50;
if (!(LOC49)) goto LA52;
LOC49 = ((*F_127665).Loc.R == NIM_NIL);
LA52: ;
if (!LOC49) goto LA53;
asgnRefNoCycle((void**) &(*F_127665).Loc.R, Torope_48046((*(*F_127665).Name).S));
(*F_127665).Flags = ((*F_127665).Flags | (384 & (*Rectype_127446).Flags));
LA53: ;
(*Pos_127444) += 1;
LOC56 = Intsetcontainsorincl_51928(Check_127442, (*(*F_127665).Name).Sup.Id);
if (!LOC56) goto LA57;
Limessage_43562((*(*N_127440).KindU.S6.Sons->data[I_127940]).Info, ((NU8) 37), (*(*F_127665).Name).S);
LA57: ;
if (!(A_127666 == NIM_NIL)) goto LA60;
LOC62 = 0;
LOC62 = Newsymnode_51734(F_127665);
Addson_51823(Father_127445, LOC62);
goto LA59;
LA60: ;
LOC63 = 0;
LOC63 = Newsymnode_51734(F_127665);
Addson_51823(A_127666, LOC63);
LA59: ;
Res_141908 += 1;
} LA47: ;
if (!!((A_127666 == NIM_NIL))) goto LA65;
Addson_51823(Father_127445, A_127666);
LA65: ;
break;
default:
Illformedast_103092(N_127440);
break;
}
BeforeRet: ;
}
N_NIMCALL(TY51551*, Semobjectnode_128205)(TY103012* C_128207, TY51525* N_128208, TY51551* Prev_128209) {
TY51551* Result_128210;
TY51900 Check_128211;
TY51551* Base_128212;
NI Pos_128213;
NIM_BOOL LOC11;
Result_128210 = 0;
memset((void*)&Check_128211, 0, sizeof(Check_128211));
Base_128212 = 0;
Pos_128213 = 0;
Intsetinit_51924(&Check_128211);
Pos_128213 = 0;
Checksonslen_103099(N_128208, 3);
if (!!(((*N_128208).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA2;
Base_128212 = Semtypenode_121138(C_128207, (*(*N_128208).KindU.S6.Sons->data[1]).KindU.S6.Sons->data[0], NIM_NIL);
if (!((*Base_128212).Kind == ((NU8) 17))) goto LA5;
Addinheritedfields_128184(C_128207, &Check_128211, &Pos_128213, Base_128212);
goto LA4;
LA5: ;
Limessage_43562((*(*N_128208).KindU.S6.Sons->data[1]).Info, ((NU8) 119), ((NimStringDesc*) &TMP193939));
LA4: ;
goto LA1;
LA2: ;
Base_128212 = NIM_NIL;
LA1: ;
if (!!(((*N_128208).Kind == ((NU8) 111)))) goto LA8;
Internalerror_43567((*N_128208).Info, ((NimStringDesc*) &TMP194109));
LA8: ;
Result_128210 = Neworprevtype_125986(((NU8) 17), Prev_128209, C_128207);
Addson_51827(Result_128210, Base_128212);
asgnRefNoCycle((void**) &(*Result_128210).N, Newnodei_51737(((NU8) 113), (*N_128208).Info));
Semrecordnodeaux_127437(C_128207, (*N_128208).KindU.S6.Sons->data[2], &Check_128211, &Pos_128213, (*Result_128210).N, (*Result_128210).Sym);
LOC11 = !((Base_128212 == NIM_NIL));
if (!(LOC11)) goto LA12;
LOC11 = (((*Base_128212).Flags &(1<<((((NU8) 2))&7)))!=0);
LA12: ;
if (!LOC11) goto LA13;
Limessage_43562((*(*N_128208).KindU.S6.Sons->data[1]).Info, ((NU8) 119), ((NimStringDesc*) &TMP193939));
LA13: ;
return Result_128210;
}
N_NIMCALL(TY51551*, Semtuple_126749)(TY103012* C_126751, TY51525* N_126752, TY51551* Prev_126753) {
TY51551* Result_126754;
NI Length_126755;
NI Counter_126756;
TY51551* Typ_126757;
TY51900 Check_126758;
TY51525* A_126759;
TY51547* Field_126760;
NI I_126769;
NI HEX3Atmp_141850;
NI LOC1;
NI Res_141852;
NI J_126868;
NI HEX3Atmp_141844;
NI Res_141846;
NIM_BOOL LOC14;
TY51525* LOC17;
Result_126754 = 0;
Length_126755 = 0;
Counter_126756 = 0;
Typ_126757 = 0;
memset((void*)&Check_126758, 0, sizeof(Check_126758));
A_126759 = 0;
Field_126760 = 0;
Result_126754 = Neworprevtype_125986(((NU8) 18), Prev_126753, C_126751);
asgnRefNoCycle((void**) &(*Result_126754).N, Newnodei_51737(((NU8) 113), (*N_126752).Info));
Intsetinit_51924(&Check_126758);
Counter_126756 = 0;
I_126769 = 0;
HEX3Atmp_141850 = 0;
LOC1 = Sonslen_51803(N_126752);
HEX3Atmp_141850 = (NI64)(LOC1 - 1);
Res_141852 = 0;
Res_141852 = 0;
while (1) {
if (!(Res_141852 <= HEX3Atmp_141850)) goto LA2;
I_126769 = Res_141852;
A_126759 = (*N_126752).KindU.S6.Sons->data[I_126769];
if (!!(((*A_126759).Kind == ((NU8) 25)))) goto LA4;
Illformedast_103092(A_126759);
LA4: ;
Checkminsonslen_103103(A_126759, 3);
Length_126755 = Sonslen_51803(A_126759);
if (!!(((*A_126759).KindU.S6.Sons->data[(NI64)(Length_126755 - 2)] == NIM_NIL))) goto LA7;
Typ_126757 = Semtypenode_121138(C_126751, (*A_126759).KindU.S6.Sons->data[(NI64)(Length_126755 - 2)], NIM_NIL);
goto LA6;
LA7: ;
Limessage_43562((*A_126759).Info, ((NU8) 60), ((NimStringDesc*) &TMP193939));
LA6: ;
if (!!(((*A_126759).KindU.S6.Sons->data[(NI64)(Length_126755 - 1)] == NIM_NIL))) goto LA10;
Limessage_43562((*(*A_126759).KindU.S6.Sons->data[(NI64)(Length_126755 - 1)]).Info, ((NU8) 172), ((NimStringDesc*) &TMP193939));
LA10: ;
J_126868 = 0;
HEX3Atmp_141844 = 0;
HEX3Atmp_141844 = (NI64)(Length_126755 - 3);
Res_141846 = 0;
Res_141846 = 0;
while (1) {
if (!(Res_141846 <= HEX3Atmp_141844)) goto LA12;
J_126868 = Res_141846;
Field_126760 = Newsyms_121059(((NU8) 15), (*A_126759).KindU.S6.Sons->data[J_126868], C_126751);
asgnRef((void**) &(*Field_126760).Typ, Typ_126757);
(*Field_126760).Position = Counter_126756;
Counter_126756 += 1;
LOC14 = Intsetcontainsorincl_51928(&Check_126758, (*(*Field_126760).Name).Sup.Id);
if (!LOC14) goto LA15;
Limessage_43562((*(*A_126759).KindU.S6.Sons->data[J_126868]).Info, ((NU8) 37), (*(*Field_126760).Name).S);
LA15: ;
LOC17 = 0;
LOC17 = Newsymnode_51734(Field_126760);
Addson_51823((*Result_126754).N, LOC17);
Addson_51827(Result_126754, Typ_126757);
Res_141846 += 1;
} LA12: ;
Res_141852 += 1;
} LA2: ;
return Result_126754;
}
N_NIMCALL(TY51551*, Semanyref_126348)(TY103012* C_126350, TY51525* N_126351, NU8 Kind_126352, NimStringDesc* Kindstr_126353, TY51551* Prev_126354) {
TY51551* Result_126355;
NI LOC2;
TY51551* Base_126370;
Result_126355 = 0;
Result_126355 = Neworprevtype_125986(Kind_126352, Prev_126354, C_126350);
LOC2 = Sonslen_51803(N_126351);
if (!(LOC2 == 1)) goto LA3;
Base_126370 = 0;
Base_126370 = Semtypenode_121138(C_126350, (*N_126351).KindU.S6.Sons->data[0], NIM_NIL);
Addson_51827(Result_126355, Base_126370);
goto LA1;
LA3: ;
Limessage_43562((*N_126351).Info, ((NU8) 169), Kindstr_126353);
LA1: ;
return Result_126355;
}
N_NIMCALL(TY51551*, Semvartype_126371)(TY103012* C_126373, TY51525* N_126374, TY51551* Prev_126375) {
TY51551* Result_126376;
NI LOC2;
TY51551* Base_126391;
Result_126376 = 0;
Result_126376 = Neworprevtype_125986(((NU8) 23), Prev_126375, C_126373);
LOC2 = Sonslen_51803(N_126374);
if (!(LOC2 == 1)) goto LA3;
Base_126391 = 0;
Base_126391 = Semtypenode_121138(C_126373, (*N_126374).KindU.S6.Sons->data[0], NIM_NIL);
if (!((*Base_126391).Kind == ((NU8) 23))) goto LA6;
Limessage_43562((*N_126374).Info, ((NU8) 190), ((NimStringDesc*) &TMP193939));
LA6: ;
Addson_51827(Result_126376, Base_126391);
goto LA1;
LA3: ;
Limessage_43562((*N_126374).Info, ((NU8) 169), ((NimStringDesc*) &TMP194123));
LA1: ;
return Result_126376;
}
N_NIMCALL(TY51551*, Semdistinct_126401)(TY103012* C_126403, TY51525* N_126404, TY51551* Prev_126405) {
TY51551* Result_126406;
NI LOC2;
TY51551* LOC5;
Result_126406 = 0;
Result_126406 = Neworprevtype_125986(((NU8) 13), Prev_126405, C_126403);
LOC2 = Sonslen_51803(N_126404);
if (!(LOC2 == 1)) goto LA3;
LOC5 = 0;
LOC5 = Semtypenode_121138(C_126403, (*N_126404).KindU.S6.Sons->data[0], NIM_NIL);
Addson_51827(Result_126406, LOC5);
goto LA1;
LA3: ;
Limessage_43562((*N_126404).Info, ((NU8) 169), ((NimStringDesc*) &TMP194124));
LA1: ;
return Result_126406;
}
N_NIMCALL(TY51551*, Semenum_126012)(TY103012* C_126014, TY51525* N_126015, TY51551* Prev_126016) {
TY51551* Result_126017;
NI64 Counter_126018;
NI64 X_126019;
TY51547* E_126020;
TY51551* Base_126021;
TY51525* V_126022;
NI64 LOC7;
NI I_126098;
NI HEX3Atmp_141838;
NI LOC8;
NI Res_141840;
NIM_BOOL LOC20;
TY51525* LOC24;
Result_126017 = 0;
Counter_126018 = 0;
X_126019 = 0;
E_126020 = 0;
Base_126021 = 0;
V_126022 = 0;
Counter_126018 = 0;
Base_126021 = NIM_NIL;
Result_126017 = Neworprevtype_125986(((NU8) 14), Prev_126016, C_126014);
asgnRefNoCycle((void**) &(*Result_126017).N, Newnodei_51737(((NU8) 121), (*N_126015).Info));
Checkminsonslen_103103(N_126015, 1);
if (!!(((*N_126015).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA2;
Base_126021 = Semtypenode_121138(C_126014, (*(*N_126015).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[0], NIM_NIL);
if (!!(((*Base_126021).Kind == ((NU8) 14)))) goto LA5;
Limessage_43562((*(*N_126015).KindU.S6.Sons->data[0]).Info, ((NU8) 120), ((NimStringDesc*) &TMP193939));
LA5: ;
LOC7 = Lastord_93004(Base_126021);
Counter_126018 = (NI64)(LOC7 + 1);
LA2: ;
Addson_51827(Result_126017, Base_126021);
I_126098 = 0;
HEX3Atmp_141838 = 0;
LOC8 = Sonslen_51803(N_126015);
HEX3Atmp_141838 = (NI64)(LOC8 - 1);
Res_141840 = 0;
Res_141840 = 1;
while (1) {
if (!(Res_141840 <= HEX3Atmp_141838)) goto LA9;
I_126098 = Res_141840;
switch ((*(*N_126015).KindU.S6.Sons->data[I_126098]).Kind) {
case ((NU8) 122):
E_126020 = Newsyms_121059(((NU8) 16), (*(*N_126015).KindU.S6.Sons->data[I_126098]).KindU.S6.Sons->data[0], C_126014);
V_126022 = Semconstexpr_121171(C_126014, (*(*N_126015).KindU.S6.Sons->data[I_126098]).KindU.S6.Sons->data[1]);
X_126019 = Getordvalue_93107(V_126022);
if (!!((I_126098 == 1))) goto LA11;
if (!!((X_126019 == Counter_126018))) goto LA14;
(*Result_126017).Flags |=(1<<((NI8)(((NU8) 4))%(sizeof(NI8)*8)));
LA14: ;
if (!(X_126019 < Counter_126018)) goto LA17;
Limessage_43562((*(*N_126015).KindU.S6.Sons->data[I_126098]).Info, ((NU8) 141), (*(*E_126020).Name).S);
LA17: ;
LA11: ;
Counter_126018 = X_126019;
break;
case ((NU8) 3):
E_126020 = (*(*N_126015).KindU.S6.Sons->data[I_126098]).KindU.S4.Sym;
break;
case ((NU8) 2):
E_126020 = Newsyms_121059(((NU8) 16), (*N_126015).KindU.S6.Sons->data[I_126098], C_126014);
break;
default:
Illformedast_103092(N_126015);
break;
}
asgnRef((void**) &(*E_126020).Typ, Result_126017);
(*E_126020).Position = ((NI) (Counter_126018));
LOC20 = !(((*Result_126017).Sym == NIM_NIL));
if (!(LOC20)) goto LA21;
LOC20 = (((*(*Result_126017).Sym).Flags &(1<<((((NU8) 3))&31)))!=0);
LA21: ;
if (!LOC20) goto LA22;
(*E_126020).Flags |=(1<<((NI32)(((NU8) 0))%(sizeof(NI32)*8)));
(*E_126020).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
Strtableadd_55064(&(*(*C_126014).Module).Tab, E_126020);
LA22: ;
LOC24 = 0;
LOC24 = Newsymnode_51734(E_126020);
Addson_51823((*Result_126017).N, LOC24);
Adddeclat_104030(C_126014, E_126020, ((NI) ((NI64)(((NI) ((*C_126014).Tab.Tos)) - 1))));
Counter_126018 += 1;
Res_141840 += 1;
} LA9: ;
return Result_126017;
}
N_NIMCALL(TY51551*, Semstmtlisttype_128681)(TY103012* C_128683, TY51525* N_128684, TY51551* Prev_128685) {
TY51551* Result_128686;
NI Length_128687;
NI I_128695;
NI HEX3Atmp_141958;
NI Res_141960;
Result_128686 = 0;
Checkminsonslen_103103(N_128684, 1);
Length_128687 = 0;
Length_128687 = Sonslen_51803(N_128684);
I_128695 = 0;
HEX3Atmp_141958 = 0;
HEX3Atmp_141958 = (NI64)(Length_128687 - 2);
Res_141960 = 0;
Res_141960 = 0;
while (1) {
if (!(Res_141960 <= HEX3Atmp_141958)) goto LA1;
I_128695 = Res_141960;
asgnRefNoCycle((void**) &(*N_128684).KindU.S6.Sons->data[I_128695], Semstmt_121143(C_128683, (*N_128684).KindU.S6.Sons->data[I_128695]));
Res_141960 += 1;
} LA1: ;
if (!(0 < Length_128687)) goto LA3;
Result_128686 = Semtypenode_121138(C_128683, (*N_128684).KindU.S6.Sons->data[(NI64)(Length_128687 - 1)], Prev_128685);
asgnRef((void**) &(*N_128684).Typ, Result_128686);
asgnRef((void**) &(*(*N_128684).KindU.S6.Sons->data[(NI64)(Length_128687 - 1)]).Typ, Result_128686);
goto LA2;
LA3: ;
Result_128686 = NIM_NIL;
LA2: ;
return Result_128686;
}
N_NIMCALL(TY51551*, Semblocktype_128746)(TY103012* C_128748, TY51525* N_128749, TY51551* Prev_128750) {
TY51551* Result_128751;
TY51547* LOC4;
Result_128751 = 0;
(*(*C_128748).P).Nestedblockcounter += 1;
Checksonslen_103099(N_128749, 2);
Openscope_55149(&(*C_128748).Tab);
if (!!(((*N_128749).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA2;
LOC4 = 0;
LOC4 = Newsyms_121059(((NU8) 19), (*N_128749).KindU.S6.Sons->data[0], C_128748);
Adddecl_104026(C_128748, LOC4);
LA2: ;
Result_128751 = Semstmtlisttype_128681(C_128748, (*N_128749).KindU.S6.Sons->data[1], Prev_128750);
asgnRef((void**) &(*(*N_128749).KindU.S6.Sons->data[1]).Typ, Result_128751);
asgnRef((void**) &(*N_128749).Typ, Result_128751);
Closescope_104017(&(*C_128748).Tab);
(*(*C_128748).P).Nestedblockcounter -= 1;
return Result_128751;
}
N_NIMCALL(TY51551*, Semtypenode_121138)(TY103012* C_121140, TY51525* N_121141, TY51551* Prev_121142) {
TY51551* Result_128842;
TY51547* S_128843;
TY51551* T_128844;
TY51525* LOC4;
NI LOC6;
NIM_BOOL LOC16;
TY50011* LOC23;
TY51525* LOC24;
Result_128842 = 0;
S_128843 = 0;
T_128844 = 0;
Result_128842 = NIM_NIL;
if (!(N_121141 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*N_121141).Kind) {
case ((NU8) 110):
LOC4 = 0;
LOC4 = Semexprwithtype_121122(C_121140, N_121141, 1);
Result_128842 = (*LOC4).Typ;
break;
case ((NU8) 30):
LOC6 = Sonslen_51803(N_121141);
if (!(LOC6 == 1)) goto LA7;
Result_128842 = Semtypenode_121138(C_121140, (*N_121141).KindU.S6.Sons->data[0], Prev_121142);
goto LA5;
LA7: ;
Limessage_43562((*N_121141).Info, ((NU8) 60), ((NimStringDesc*) &TMP193939));
LA5: ;
break;
case ((NU8) 33):
Checkminsonslen_103103(N_121141, 2);
S_128843 = Semtypeident_126724(C_121140, (*N_121141).KindU.S6.Sons->data[0]);
switch ((*S_128843).Magic) {
case ((NU8) 162):
Result_128842 = Semarray_126573(C_121140, N_121141, Prev_121142);
break;
case ((NU8) 163):
Result_128842 = Semcontainer_126325(C_121140, N_121141, ((NU8) 27), ((NimStringDesc*) &TMP194100), Prev_121142);
break;
case ((NU8) 164):
Result_128842 = Semrange_126520(C_121140, N_121141, Prev_121142);
break;
case ((NU8) 165):
Result_128842 = Semset_126284(C_121140, N_121141, Prev_121142);
break;
case ((NU8) 167):
Result_128842 = Semordinal_126682(C_121140, N_121141, Prev_121142);
break;
case ((NU8) 166):
Result_128842 = Semcontainer_126325(C_121140, N_121141, ((NU8) 24), ((NimStringDesc*) &TMP194104), Prev_121142);
break;
default:
Result_128842 = Semgeneric_126906(C_121140, N_121141, S_128843, Prev_121142);
break;
}
break;
case ((NU8) 2):
case ((NU8) 36):
case ((NU8) 43):
S_128843 = Semtypeident_126724(C_121140, N_121141);
if (!((*S_128843).Typ == NIM_NIL)) goto LA10;
Limessage_43562((*N_121141).Info, ((NU8) 60), ((NimStringDesc*) &TMP193939));
LA10: ;
if (!(Prev_121142 == NIM_NIL)) goto LA13;
Result_128842 = (*S_128843).Typ;
goto LA12;
LA13: ;
Assigntype_51779(Prev_121142, (*S_128843).Typ);
(*Prev_121142).Sup.Id = (*(*S_128843).Typ).Sup.Id;
Result_128842 = Prev_121142;
LA12: ;
break;
case ((NU8) 3):
LOC16 = ((*(*N_121141).KindU.S4.Sym).Kind == ((NU8) 6));
if (!(LOC16)) goto LA17;
LOC16 = !(((*(*N_121141).KindU.S4.Sym).Typ == NIM_NIL));
LA17: ;
if (!LOC16) goto LA18;
T_128844 = (*(*N_121141).KindU.S4.Sym).Typ;
if (!(Prev_121142 == NIM_NIL)) goto LA21;
Result_128842 = T_128844;
goto LA20;
LA21: ;
Assigntype_51779(Prev_121142, T_128844);
Result_128842 = Prev_121142;
LA20: ;
Markused_121065(N_121141, (*N_121141).KindU.S4.Sym);
goto LA15;
LA18: ;
Limessage_43562((*N_121141).Info, ((NU8) 60), ((NimStringDesc*) &TMP193939));
LA15: ;
break;
case ((NU8) 111):
Result_128842 = Semobjectnode_128205(C_121140, N_121141, Prev_121142);
break;
case ((NU8) 112):
Result_128842 = Semtuple_126749(C_121140, N_121141, Prev_121142);
break;
case ((NU8) 116):
Result_128842 = Semanyref_126348(C_121140, N_121141, ((NU8) 22), ((NimStringDesc*) &TMP194121), Prev_121142);
break;
case ((NU8) 117):
Result_128842 = Semanyref_126348(C_121140, N_121141, ((NU8) 21), ((NimStringDesc*) &TMP194122), Prev_121142);
break;
case ((NU8) 118):
Result_128842 = Semvartype_126371(C_121140, N_121141, Prev_121142);
break;
case ((NU8) 119):
Result_128842 = Semdistinct_126401(C_121140, N_121141, Prev_121142);
break;
case ((NU8) 120):
Checksonslen_103099(N_121141, 2);
Result_128842 = Semproctypenode_128437(C_121140, (*N_121141).KindU.S6.Sons->data[0], NIM_NIL, Prev_121142);
LOC23 = 0;
LOC23 = Getident_50016(((NimStringDesc*) &TMP194125));
LOC24 = 0;
LOC24 = Newidentnode_51730(LOC23, (*N_121141).Info);
S_128843 = Newsyms_121059(((NU8) 9), LOC24, C_121140);
asgnRef((void**) &(*S_128843).Typ, Result_128842);
Pragma_118028(C_121140, S_128843, (*N_121141).KindU.S6.Sons->data[1], TMP194126);
break;
case ((NU8) 121):
Result_128842 = Semenum_126012(C_121140, N_121141, Prev_121142);
break;
case ((NU8) 4):
Result_128842 = (*N_121141).Typ;
break;
case ((NU8) 108):
Result_128842 = Semstmtlisttype_128681(C_121140, N_121141, Prev_121142);
break;
case ((NU8) 109):
Result_128842 = Semblocktype_128746(C_121140, N_121141, Prev_121142);
break;
default:
Limessage_43562((*N_121141).Info, ((NU8) 60), ((NimStringDesc*) &TMP193939));
break;
}
BeforeRet: ;
return Result_128842;
}
N_NIMCALL(TY51551*, Addtypevarsofgenericbody_128342)(TY103012* C_128344, TY51551* T_128345, TY51525* Genericparams_128346, TY51900* Cl_128348) {
TY51551* Result_128349;
NIM_BOOL LOC5;
NI I_128368;
NI HEX3Atmp_141924;
NI LOC8;
NI Res_141926;
TY51547* S_128378;
NIM_BOOL LOC14;
TY51525* LOC18;
NI L_128399;
NI LOC19;
NI I_128407;
NI HEX3Atmp_141930;
NI LOC20;
NI Res_141932;
NI I_128415;
NI HEX3Atmp_141936;
NI LOC22;
NI Res_141938;
Result_128349 = 0;
Result_128349 = T_128345;
if (!(T_128345 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
LOC5 = Intsetcontainsorincl_51928(Cl_128348, (*T_128345).Sup.Id);
if (!LOC5) goto LA6;
goto BeforeRet;
LA6: ;
switch ((*T_128345).Kind) {
case ((NU8) 10):
Result_128349 = Newtypes_103077(((NU8) 9), C_128344);
Addson_51827(Result_128349, T_128345);
I_128368 = 0;
HEX3Atmp_141924 = 0;
LOC8 = Sonslen_51806(T_128345);
HEX3Atmp_141924 = (NI64)(LOC8 - 2);
Res_141926 = 0;
Res_141926 = 0;
while (1) {
if (!(Res_141926 <= HEX3Atmp_141924)) goto LA9;
I_128368 = Res_141926;
if (!!(((*(*T_128345).Sons->data[I_128368]).Kind == ((NU8) 12)))) goto LA11;
Internalerror_43571(((NimStringDesc*) &TMP194128));
LA11: ;
S_128378 = 0;
S_128378 = Copysym_51775((*(*T_128345).Sons->data[I_128368]).Sym, NIM_FALSE);
(*S_128378).Position = Sonslen_51803(Genericparams_128346);
LOC14 = ((*S_128378).Typ == NIM_NIL);
if (LOC14) goto LA15;
LOC14 = !(((*(*S_128378).Typ).Kind == ((NU8) 12)));
LA15: ;
if (!LOC14) goto LA16;
Internalerror_43571(((NimStringDesc*) &TMP194129));
LA16: ;
Adddecl_104026(C_128344, S_128378);
LOC18 = 0;
LOC18 = Newsymnode_51734(S_128378);
Addson_51823(Genericparams_128346, LOC18);
Addson_51827(Result_128349, (*T_128345).Sons->data[I_128368]);
Res_141926 += 1;
} LA9: ;
break;
case ((NU8) 11):
L_128399 = 0;
LOC19 = Sonslen_51806(T_128345);
L_128399 = (NI64)(LOC19 - 1);
asgnRef((void**) &(*T_128345).Sons->data[L_128399], Addtypevarsofgenericbody_128342(C_128344, (*T_128345).Sons->data[L_128399], Genericparams_128346, Cl_128348));
break;
case ((NU8) 9):
I_128407 = 0;
HEX3Atmp_141930 = 0;
LOC20 = Sonslen_51806(T_128345);
HEX3Atmp_141930 = (NI64)(LOC20 - 1);
Res_141932 = 0;
Res_141932 = 1;
while (1) {
if (!(Res_141932 <= HEX3Atmp_141930)) goto LA21;
I_128407 = Res_141932;
asgnRef((void**) &(*T_128345).Sons->data[I_128407], Addtypevarsofgenericbody_128342(C_128344, (*T_128345).Sons->data[I_128407], Genericparams_128346, Cl_128348));
Res_141932 += 1;
} LA21: ;
break;
default:
I_128415 = 0;
HEX3Atmp_141936 = 0;
LOC22 = Sonslen_51806(T_128345);
HEX3Atmp_141936 = (NI64)(LOC22 - 1);
Res_141938 = 0;
Res_141938 = 0;
while (1) {
if (!(Res_141938 <= HEX3Atmp_141936)) goto LA23;
I_128415 = Res_141938;
asgnRef((void**) &(*T_128345).Sons->data[I_128415], Addtypevarsofgenericbody_128342(C_128344, (*T_128345).Sons->data[I_128415], Genericparams_128346, Cl_128348));
Res_141938 += 1;
} LA23: ;
break;
}
BeforeRet: ;
return Result_128349;
}
N_NIMCALL(TY51551*, Paramtype_128416)(TY103012* C_128418, TY51525* N_128419, TY51525* Genericparams_128420, TY51900* Cl_128422) {
TY51551* Result_128423;
NIM_BOOL LOC2;
NI LOC4;
Result_128423 = 0;
Result_128423 = Semtypenode_121138(C_128418, N_128419, NIM_NIL);
LOC2 = !((Genericparams_128420 == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC4 = Sonslen_51803(Genericparams_128420);
LOC2 = (LOC4 == 0);
LA3: ;
if (!LOC2) goto LA5;
Result_128423 = Addtypevarsofgenericbody_128342(C_128418, Result_128423, Genericparams_128420, Cl_128422);
LA5: ;
return Result_128423;
}
N_NIMCALL(TY51525*, Indextypesmatch_124917)(TY103012* C_124919, TY51551* F_124920, TY51551* A_124921, TY51525* Arg_124922) {
TY51525* Result_124923;
TY123058 M_124924;
Result_124923 = 0;
memset((void*)&M_124924, 0, sizeof(M_124924));
Initcandidate_123086(&M_124924, F_124920);
Result_124923 = Paramtypesmatch_124731(C_124919, &M_124924, F_124920, A_124921, Arg_124922);
return Result_124923;
}
N_NIMCALL(TY51525*, Fitnode_121129)(TY103012* C_121131, TY51551* Formal_121132, TY51525* Arg_121133) {
TY51525* Result_125974;
Result_125974 = 0;
Result_125974 = Indextypesmatch_124917(C_121131, Formal_121132, (*Arg_121133).Typ, Arg_121133);
if (!(Result_125974 == NIM_NIL)) goto LA2;
Typemismatch_125936(Arg_121133, Formal_121132, (*Arg_121133).Typ);
LA2: ;
return Result_125974;
}
N_NIMCALL(TY51551*, Semproctypenode_128437)(TY103012* C_128439, TY51525* N_128440, TY51525* Genericparams_128441, TY51551* Prev_128442) {
TY51551* Result_128443;
TY51525* Def_128444;
TY51525* Res_128445;
TY51551* Typ_128446;
TY51900 Check_128447;
TY51900 Cl_128448;
TY103002* LOC1;
NIM_BOOL LOC3;
NI LOC5;
NI Counter_128464;
NI I_128472;
NI HEX3Atmp_141948;
NI LOC8;
NI Res_141950;
TY51525* A_128485;
NI Length_128495;
NU8 LOC23;
NI J_128606;
NI HEX3Atmp_141942;
NI Res_141944;
TY51547* Arg_128619;
NIM_BOOL LOC28;
TY51525* LOC31;
Result_128443 = 0;
Def_128444 = 0;
Res_128445 = 0;
Typ_128446 = 0;
memset((void*)&Check_128447, 0, sizeof(Check_128447));
memset((void*)&Cl_128448, 0, sizeof(Cl_128448));
Checkminsonslen_103103(N_128440, 1);
Result_128443 = Neworprevtype_125986(((NU8) 25), Prev_128442, C_128439);
LOC1 = 0;
LOC1 = Lastoptionentry_103053(C_128439);
(*Result_128443).Callconv = (*LOC1).Defaultcc;
asgnRefNoCycle((void**) &(*Result_128443).N, Newnodei_51737(((NU8) 66), (*N_128440).Info));
LOC3 = !((Genericparams_128441 == NIM_NIL));
if (!(LOC3)) goto LA4;
LOC5 = Sonslen_51803(Genericparams_128441);
LOC3 = (LOC5 == 0);
LA4: ;
if (!LOC3) goto LA6;
Intsetinit_51924(&Cl_128448);
LA6: ;
Addson_51827(Result_128443, NIM_NIL);
Res_128445 = Newnodei_51737(((NU8) 4), (*N_128440).Info);
Addson_51823((*Result_128443).N, Res_128445);
Intsetinit_51924(&Check_128447);
Counter_128464 = 0;
Counter_128464 = 0;
I_128472 = 0;
HEX3Atmp_141948 = 0;
LOC8 = Sonslen_51803(N_128440);
HEX3Atmp_141948 = (NI64)(LOC8 - 1);
Res_141950 = 0;
Res_141950 = 1;
while (1) {
if (!(Res_141950 <= HEX3Atmp_141948)) goto LA9;
I_128472 = Res_141950;
A_128485 = 0;
A_128485 = (*N_128440).KindU.S6.Sons->data[I_128472];
if (!!(((*A_128485).Kind == ((NU8) 25)))) goto LA11;
Illformedast_103092(A_128485);
LA11: ;
Checkminsonslen_103103(A_128485, 3);
Length_128495 = 0;
Length_128495 = Sonslen_51803(A_128485);
if (!!(((*A_128485).KindU.S6.Sons->data[(NI64)(Length_128495 - 2)] == NIM_NIL))) goto LA14;
Typ_128446 = Paramtype_128416(C_128439, (*A_128485).KindU.S6.Sons->data[(NI64)(Length_128495 - 2)], Genericparams_128441, &Cl_128448);
goto LA13;
LA14: ;
Typ_128446 = NIM_NIL;
LA13: ;
if (!!(((*A_128485).KindU.S6.Sons->data[(NI64)(Length_128495 - 1)] == NIM_NIL))) goto LA17;
Def_128444 = Semexprwithtype_121122(C_128439, (*A_128485).KindU.S6.Sons->data[(NI64)(Length_128495 - 1)], 0);
if (!!((Typ_128446 == NIM_NIL))) goto LA20;
LOC23 = Cmptypes_124467(Typ_128446, (*Def_128444).Typ);
if (!(LOC23 < ((NU8) 1))) goto LA24;
Typemismatch_125936((*A_128485).KindU.S6.Sons->data[(NI64)(Length_128495 - 1)], Typ_128446, (*Def_128444).Typ);
LA24: ;
Def_128444 = Fitnode_121129(C_128439, Typ_128446, Def_128444);
goto LA19;
LA20: ;
Typ_128446 = (*Def_128444).Typ;
LA19: ;
goto LA16;
LA17: ;
Def_128444 = NIM_NIL;
LA16: ;
J_128606 = 0;
HEX3Atmp_141942 = 0;
HEX3Atmp_141942 = (NI64)(Length_128495 - 3);
Res_141944 = 0;
Res_141944 = 0;
while (1) {
if (!(Res_141944 <= HEX3Atmp_141942)) goto LA26;
J_128606 = Res_141944;
Arg_128619 = 0;
Arg_128619 = Newsyms_121059(((NU8) 3), (*A_128485).KindU.S6.Sons->data[J_128606], C_128439);
asgnRef((void**) &(*Arg_128619).Typ, Typ_128446);
(*Arg_128619).Position = Counter_128464;
Counter_128464 += 1;
asgnRefNoCycle((void**) &(*Arg_128619).Ast, Copytree_51858(Def_128444));
LOC28 = Intsetcontainsorincl_51928(&Check_128447, (*(*Arg_128619).Name).Sup.Id);
if (!LOC28) goto LA29;
Limessage_43562((*(*A_128485).KindU.S6.Sons->data[J_128606]).Info, ((NU8) 37), (*(*Arg_128619).Name).S);
LA29: ;
LOC31 = 0;
LOC31 = Newsymnode_51734(Arg_128619);
Addson_51823((*Result_128443).N, LOC31);
Addson_51827(Result_128443, Typ_128446);
Res_141944 += 1;
} LA26: ;
Res_141950 += 1;
} LA9: ;
if (!!(((*N_128440).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA33;
asgnRef((void**) &(*Result_128443).Sons->data[0], Paramtype_128416(C_128439, (*N_128440).KindU.S6.Sons->data[0], Genericparams_128441, &Cl_128448));
asgnRef((void**) &(*Res_128445).Typ, (*Result_128443).Sons->data[0]);
LA33: ;
return Result_128443;
}
N_NIMCALL(void, Semparamlist_121147)(TY103012* C_121149, TY51525* N_121150, TY51525* Genericparams_121151, TY51547* S_121152) {
asgnRef((void**) &(*S_121152).Typ, Semproctypenode_128437(C_121149, N_121150, Genericparams_121151, NIM_NIL));
}
N_NIMCALL(void, Addparams_121153)(TY103012* C_121155, TY51525* N_121156) {
NI I_140322;
NI HEX3Atmp_142381;
NI LOC1;
NI Res_142383;
I_140322 = 0;
HEX3Atmp_142381 = 0;
LOC1 = Sonslen_51803(N_121156);
HEX3Atmp_142381 = (NI64)(LOC1 - 1);
Res_142383 = 0;
Res_142383 = 1;
while (1) {
if (!(Res_142383 <= HEX3Atmp_142381)) goto LA2;
I_140322 = Res_142383;
if (!!(((*(*N_121156).KindU.S6.Sons->data[I_140322]).Kind == ((NU8) 3)))) goto LA4;
Internalerror_43567((*N_121156).Info, ((NimStringDesc*) &TMP194130));
LA4: ;
Adddecl_104026(C_121155, (*(*N_121156).KindU.S6.Sons->data[I_140322]).KindU.S4.Sym);
Res_142383 += 1;
} LA2: ;
}
N_NIMCALL(TY51547*, Genericcacheget_122326)(TY103012* C_122328, TY51547* Genericsym_122329, TY51547* Instsym_122330) {
TY51547* Result_122331;
NI I_122339;
NI HEX3Atmp_125811;
NI LOC1;
NI Res_125813;
TY51547* A_122397;
TY51547* B_122436;
NU8 LOC10;
Result_122331 = 0;
Result_122331 = NIM_NIL;
I_122339 = 0;
HEX3Atmp_125811 = 0;
LOC1 = Sonslen_51803((*C_122328).Generics);
HEX3Atmp_125811 = (NI64)(LOC1 - 1);
Res_125813 = 0;
Res_125813 = 0;
while (1) {
if (!(Res_125813 <= HEX3Atmp_125811)) goto LA2;
I_122339 = Res_125813;
if (!!(((*(*(*C_122328).Generics).KindU.S6.Sons->data[I_122339]).Kind == ((NU8) 23)))) goto LA4;
Internalerror_43567((*Genericsym_122329).Info, ((NimStringDesc*) &TMP194131));
LA4: ;
A_122397 = 0;
A_122397 = (*(*(*(*C_122328).Generics).KindU.S6.Sons->data[I_122339]).KindU.S6.Sons->data[0]).KindU.S4.Sym;
if (!((*Genericsym_122329).Sup.Id == (*A_122397).Sup.Id)) goto LA7;
B_122436 = 0;
B_122436 = (*(*(*(*C_122328).Generics).KindU.S6.Sons->data[I_122339]).KindU.S6.Sons->data[1]).KindU.S4.Sym;
LOC10 = Equalparams_93065((*(*B_122436).Typ).N, (*(*Instsym_122330).Typ).N);
if (!(LOC10 == ((NU8) 1))) goto LA11;
Result_122331 = B_122436;
goto BeforeRet;
LA11: ;
LA7: ;
Res_125813 += 1;
} LA2: ;
BeforeRet: ;
return Result_122331;
}
N_NIMCALL(void, Genericcacheadd_122446)(TY103012* C_122448, TY51547* Genericsym_122449, TY51547* Instsym_122450) {
TY51525* N_122451;
TY51525* LOC1;
TY51525* LOC2;
N_122451 = 0;
N_122451 = Newnode_51710(((NU8) 23));
LOC1 = 0;
LOC1 = Newsymnode_51734(Genericsym_122449);
Addson_51823(N_122451, LOC1);
LOC2 = 0;
LOC2 = Newsymnode_51734(Instsym_122450);
Addson_51823(N_122451, LOC2);
Addson_51823((*C_122448).Generics, N_122451);
}
N_NIMCALL(void, Addresult_121157)(TY103012* C_121159, TY51551* T_121160, TY43532 Info_121161) {
TY51547* S_140438;
TY50011* LOC4;
TY51547* LOC5;
if (!!((T_121160 == NIM_NIL))) goto LA2;
S_140438 = 0;
LOC4 = 0;
LOC4 = Getident_50016(((NimStringDesc*) &TMP194133));
LOC5 = 0;
LOC5 = Getcurrowner_103107();
S_140438 = Newsym_51701(((NU8) 8), LOC4, LOC5);
(*S_140438).Info = Info_121161;
asgnRef((void**) &(*S_140438).Typ, T_121160);
(*S_140438).Flags |=(1<<((NI32)(((NU8) 12))%(sizeof(NI32)*8)));
(*S_140438).Flags |=(1<<((NI32)(((NU8) 0))%(sizeof(NI32)*8)));
Adddecl_104026(C_121159, S_140438);
asgnRef((void**) &(*(*C_121159).P).Resultsym, S_140438);
LA2: ;
}
N_NIMCALL(void, Addresultnode_121162)(TY103012* C_121164, TY51525* N_121165) {
TY51525* LOC4;
if (!!(((*(*C_121164).P).Resultsym == NIM_NIL))) goto LA2;
LOC4 = 0;
LOC4 = Newsymnode_51734((*(*C_121164).P).Resultsym);
Addson_51823(N_121165, LOC4);
LA2: ;
}
N_NIMCALL(TY51525*, Semstmtscope_121104)(TY103012* C_121106, TY51525* N_121107) {
TY51525* Result_141834;
Result_141834 = 0;
Openscope_55149(&(*C_121106).Tab);
Result_141834 = Semstmt_121143(C_121106, N_121107);
Closescope_104017(&(*C_121106).Tab);
return Result_141834;
}
N_NIMCALL(TY51547*, Generateinstance_122152)(TY103012* C_122154, TY51547* Fn_122155, TY51563 Pt_122156, TY43532 Info_122157) {
TY51547* Result_122458;
TY51547* Oldprc_122459;
TY51547* Oldmod_122460;
TY103006* Oldp_122461;
TY51525* N_122462;
TY51547* LOC4;
Result_122458 = 0;
Oldprc_122459 = 0;
Oldmod_122460 = 0;
Oldp_122461 = 0;
N_122462 = 0;
if (!(1000 < (*C_122154).Instcounter)) goto LA2;
Internalerror_43567((*(*Fn_122155).Ast).Info, ((NimStringDesc*) &TMP194094));
LA2: ;
(*C_122154).Instcounter += 1;
Oldp_122461 = (*C_122154).P;
Oldmod_122460 = (*C_122154).Module;
asgnRef((void**) &(*C_122154).Module, Getmodule_55206(Fn_122155));
Result_122458 = Copysym_51775(Fn_122155, NIM_FALSE);
(*Result_122458).Flags |=(1<<((NI32)(((NU8) 4))%(sizeof(NI32)*8)));
LOC4 = 0;
LOC4 = Getcurrowner_103107();
asgnRef((void**) &(*Result_122458).Owner, (*LOC4).Owner);
N_122462 = Copytree_51858((*Fn_122155).Ast);
asgnRefNoCycle((void**) &(*Result_122458).Ast, N_122462);
Pushowner_103109(Result_122458);
Openscope_55149(&(*C_122154).Tab);
if (!((*N_122462).KindU.S6.Sons->data[1] == NIM_NIL)) goto LA6;
Internalerror_43567((*N_122462).Info, ((NimStringDesc*) &TMP194095));
LA6: ;
asgnRefNoCycle((void**) &(*N_122462).KindU.S6.Sons->data[0], Newsymnode_51734(Result_122458));
Pushinfocontext_43606(Info_122157);
Instantiategenericparamlist_122227(C_122154, (*N_122462).KindU.S6.Sons->data[1], Pt_122156);
asgnRefNoCycle((void**) &(*N_122462).KindU.S6.Sons->data[1], NIM_NIL);
if (!!(((*N_122462).KindU.S6.Sons->data[2] == NIM_NIL))) goto LA9;
Semparamlist_121147(C_122154, (*N_122462).KindU.S6.Sons->data[2], NIM_NIL, Result_122458);
Addparams_121153(C_122154, (*(*Result_122458).Typ).N);
goto LA8;
LA9: ;
asgnRef((void**) &(*Result_122458).Typ, Newtypes_103077(((NU8) 25), C_122154));
Addson_51827((*Result_122458).Typ, NIM_NIL);
LA8: ;
Oldprc_122459 = Genericcacheget_122326(C_122154, Fn_122155, Result_122458);
if (!(Oldprc_122459 == NIM_NIL)) goto LA12;
Genericcacheadd_122446(C_122154, Fn_122155, Result_122458);
Adddecl_104026(C_122154, Result_122458);
if (!!(((*N_122462).KindU.S6.Sons->data[4] == NIM_NIL))) goto LA15;
asgnRefNoCycle((void**) &(*C_122154).P, Newproccon_103050(Result_122458));
if (!((5632 &(1<<(((*Result_122458).Kind)&31)))!=0)) goto LA18;
Addresult_121157(C_122154, (*(*Result_122458).Typ).Sons->data[0], (*N_122462).Info);
Addresultnode_121162(C_122154, N_122462);
LA18: ;
asgnRefNoCycle((void**) &(*N_122462).KindU.S6.Sons->data[4], Semstmtscope_121104(C_122154, (*N_122462).KindU.S6.Sons->data[4]));
LA15: ;
goto LA11;
LA12: ;
Result_122458 = Oldprc_122459;
LA11: ;
Popinfocontext_43609();
Closescope_104017(&(*C_122154).Tab);
Popowner_103112();
asgnRefNoCycle((void**) &(*C_122154).P, Oldp_122461);
asgnRef((void**) &(*C_122154).Module, Oldmod_122460);
(*C_122154).Instcounter -= 1;
return Result_122458;
}
N_NIMCALL(TY51525*, Semdirectcallwithbinding_125602)(TY103012* C_125604, TY51525* N_125605, TY51525* F_125606, NU32 Filter_125607, TY51525* Initialbinding_125608) {
TY51525* Result_125609;
TY104004 O_125610;
TY123058 X_125611;
TY123058 Y_125612;
TY123058 Z_125613;
TY51547* Sym_125615;
NI Cmp_125662;
NIM_BOOL LOC19;
NIM_BOOL LOC20;
NI LOC22;
NIM_BOOL LOC24;
NimStringDesc* LOC30;
TY69066 LOC31;
NimStringDesc* LOC32;
Result_125609 = 0;
memset((void*)&O_125610, 0, sizeof(O_125610));
memset((void*)&X_125611, 0, sizeof(X_125611));
memset((void*)&Y_125612, 0, sizeof(Y_125612));
memset((void*)&Z_125613, 0, sizeof(Z_125613));
Sym_125615 = 0;
Sym_125615 = Initoverloaditer_104058(&O_125610, C_125604, F_125606);
Result_125609 = NIM_NIL;
if (!(Sym_125615 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
Initcandidate_123092(&X_125611, Sym_125615, Initialbinding_125608);
Initcandidate_123092(&Y_125612, Sym_125615, Initialbinding_125608);
while (1) {
if (!!((Sym_125615 == NIM_NIL))) goto LA4;
if (!((Filter_125607 &(1<<(((*Sym_125615).Kind)&31)))!=0)) goto LA6;
Initcandidate_123092(&Z_125613, Sym_125615, Initialbinding_125608);
Z_125613.Calleesym = Sym_125615;
Matches_124970(C_125604, N_125605, &Z_125613);
if (!(Z_125613.State == ((NU8) 1))) goto LA9;
switch (X_125611.State) {
case ((NU8) 0):
case ((NU8) 2):
genericAssign((void*)&X_125611, (void*)&Z_125613, NTI123058);
break;
case ((NU8) 1):
Cmp_125662 = 0;
Cmp_125662 = Cmpcandidates_123141(&X_125611, &Z_125613);
if (!(Cmp_125662 < 0)) goto LA12;
genericAssign((void*)&X_125611, (void*)&Z_125613, NTI123058);
goto LA11;
LA12: ;
if (!(Cmp_125662 == 0)) goto LA14;
genericAssign((void*)&Y_125612, (void*)&Z_125613, NTI123058);
goto LA11;
LA14: ;
LA11: ;
break;
}
LA9: ;
LA6: ;
Sym_125615 = Nextoverloaditer_104064(&O_125610, C_125604, F_125606);
} LA4: ;
if (!(X_125611.State == ((NU8) 0))) goto LA17;
goto LA16;
LA17: ;
LOC20 = (Y_125612.State == ((NU8) 1));
if (!(LOC20)) goto LA21;
LOC22 = Cmpcandidates_123141(&X_125611, &Y_125612);
LOC20 = (LOC22 == 0);
LA21: ;
LOC19 = LOC20;
if (!(LOC19)) goto LA23;
LOC24 = Samemethoddispatcher_125526(X_125611.Calleesym, Y_125612.Calleesym);
LOC19 = !(LOC24);
LA23: ;
if (!LOC19) goto LA25;
if (!!((X_125611.State == ((NU8) 1)))) goto LA28;
Internalerror_43567((*N_125605).Info, ((NimStringDesc*) &TMP194090));
LA28: ;
LOC30 = 0;
LOC30 = Msgkindtostring_43588(((NU8) 129));
memset((void*)&LOC31, 0, sizeof(LOC31));
LOC31[0] = Getprocheader_93018(X_125611.Calleesym);
LOC31[1] = Getprocheader_93018(Y_125612.Calleesym);
LOC31[2] = copyString((*(*X_125611.Calleesym).Name).S);
LOC32 = 0;
LOC32 = nsuFormatOpenArray(LOC30, LOC31, 3);
Limessage_43562((*N_125605).Info, ((NU8) 4), LOC32);
goto LA16;
LA25: ;
Markused_121065(N_125605, X_125611.Calleesym);
if (!((*X_125611.Calleesym).Ast == NIM_NIL)) goto LA34;
Internalerror_43567((*N_125605).Info, ((NimStringDesc*) &TMP194093));
LA34: ;
if (!!(((*(*X_125611.Calleesym).Ast).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA37;
X_125611.Calleesym = Generateinstance_122152(C_125604, X_125611.Calleesym, X_125611.Bindings, (*N_125605).Info);
X_125611.Callee = (*X_125611.Calleesym).Typ;
LA37: ;
Result_125609 = X_125611.Call;
asgnRefNoCycle((void**) &(*Result_125609).KindU.S6.Sons->data[0], Newsymnode_51734(X_125611.Calleesym));
asgnRef((void**) &(*Result_125609).Typ, (*X_125611.Callee).Sons->data[0]);
LA16: ;
BeforeRet: ;
return Result_125609;
}
N_NIMCALL(TY51525*, Semdirectcall_125747)(TY103012* C_125749, TY51525* N_125750, NU32 Filter_125751) {
TY51525* Result_125752;
TY51525* Initialbinding_125753;
TY51525* F_125766;
Result_125752 = 0;
Initialbinding_125753 = 0;
F_125766 = 0;
F_125766 = (*N_125750).KindU.S6.Sons->data[0];
if (!((*F_125766).Kind == ((NU8) 33))) goto LA2;
Initialbinding_125753 = F_125766;
F_125766 = (*F_125766).KindU.S6.Sons->data[0];
goto LA1;
LA2: ;
Initialbinding_125753 = NIM_NIL;
LA1: ;
Result_125752 = Semdirectcallwithbinding_125602(C_125749, N_125750, F_125766, Filter_125751, Initialbinding_125753);
return Result_125752;
}
N_NIMCALL(TY51525*, Semdirectcallanalyseeffects_131104)(TY103012* C_131106, TY51525* N_131107, NU8 Flags_131108) {
TY51525* Result_131109;
TY51547* Callee_131179;
NIM_BOOL LOC11;
NIM_BOOL LOC19;
Result_131109 = 0;
if (!!(((Flags_131108 &(1<<((((NU8) 2))&7)))!=0))) goto LA2;
Result_131109 = Semdirectcall_125747(C_131106, N_131107, 5632);
goto LA1;
LA2: ;
Result_131109 = Semdirectcall_125747(C_131106, N_131107, 2048);
LA1: ;
if (!!((Result_131109 == NIM_NIL))) goto LA5;
if (!!(((*(*Result_131109).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA8;
Internalerror_43571(((NimStringDesc*) &TMP194135));
LA8: ;
Callee_131179 = 0;
Callee_131179 = (*(*Result_131109).KindU.S6.Sons->data[0]).KindU.S4.Sym;
LOC11 = ((*Callee_131179).Kind == ((NU8) 11));
if (!(LOC11)) goto LA12;
LOC11 = ((*Callee_131179).Sup.Id == (*(*(*C_131106).P).Owner).Sup.Id);
LA12: ;
if (!LOC11) goto LA13;
Limessage_43562((*N_131107).Info, ((NU8) 23), (*(*Callee_131179).Name).S);
LA13: ;
if (!!((((*Callee_131179).Flags &(1<<((((NU8) 13))&31)))!=0))) goto LA16;
LOC19 = (((*Callee_131179).Flags &(1<<((((NU8) 6))&31)))!=0);
if (LOC19) goto LA20;
LOC19 = !(((16512 & (*Callee_131179).Flags) == 0));
LA20: ;
if (!LOC19) goto LA21;
(*(*(*C_131106).P).Owner).Flags |=(1<<((NI32)(((NU8) 14))%(sizeof(NI32)*8)));
LA21: ;
LA16: ;
LA5: ;
return Result_131109;
}
N_NIMCALL(TY51525*, Semarrayconstr_130153)(TY103012* C_130155, TY51525* N_130156) {
TY51525* Result_130157;
NI LOC2;
TY51551* LOC5;
TY51525* LOC6;
TY51551* Typ_130185;
NI I_130193;
NI HEX3Atmp_142002;
NI LOC7;
NI Res_142004;
TY51525* LOC9;
NI LOC10;
Result_130157 = 0;
Result_130157 = Newnodei_51737(((NU8) 32), (*N_130156).Info);
asgnRef((void**) &(*Result_130157).Typ, Newtypes_103077(((NU8) 4), C_130155));
Addson_51827((*Result_130157).Typ, NIM_NIL);
LOC2 = Sonslen_51803(N_130156);
if (!(LOC2 == 0)) goto LA3;
LOC5 = 0;
LOC5 = Newtypes_103077(((NU8) 3), C_130155);
Addson_51827((*Result_130157).Typ, LOC5);
goto LA1;
LA3: ;
LOC6 = 0;
LOC6 = Semexprwithtype_121122(C_130155, (*N_130156).KindU.S6.Sons->data[0], 0);
Addson_51823(Result_130157, LOC6);
Typ_130185 = 0;
Typ_130185 = Skiptypes_93085((*(*Result_130157).KindU.S6.Sons->data[0]).Typ, 8423424);
I_130193 = 0;
HEX3Atmp_142002 = 0;
LOC7 = Sonslen_51803(N_130156);
HEX3Atmp_142002 = (NI64)(LOC7 - 1);
Res_142004 = 0;
Res_142004 = 1;
while (1) {
if (!(Res_142004 <= HEX3Atmp_142002)) goto LA8;
I_130193 = Res_142004;
asgnRefNoCycle((void**) &(*N_130156).KindU.S6.Sons->data[I_130193], Semexprwithtype_121122(C_130155, (*N_130156).KindU.S6.Sons->data[I_130193], 0));
LOC9 = 0;
LOC9 = Fitnode_121129(C_130155, Typ_130185, (*N_130156).KindU.S6.Sons->data[I_130193]);
Addson_51823(Result_130157, LOC9);
Res_142004 += 1;
} LA8: ;
Addson_51827((*Result_130157).Typ, Typ_130185);
LA1: ;
LOC10 = Sonslen_51803(Result_130157);
asgnRef((void**) &(*(*Result_130157).Typ).Sons->data[0], Makerangetype_103086(C_130155, 0, ((NI64) ((NI64)(LOC10 - 1))), (*N_130156).Info));
return Result_130157;
}
N_NIMCALL(void, Changetype_129939)(TY51525* N_129941, TY51551* Newtype_129942) {
TY51547* F_129943;
TY51525* A_129944;
TY51525* M_129945;
NI I_129953;
NI HEX3Atmp_141984;
NI LOC1;
NI Res_141986;
TY51551* LOC3;
NIM_BOOL LOC11;
NI LOC12;
NI I_130016;
NI HEX3Atmp_141990;
NI LOC16;
NI Res_141992;
NI I_130104;
NI HEX3Atmp_141996;
NI LOC24;
NI Res_141998;
TY51525* LOC26;
F_129943 = 0;
A_129944 = 0;
M_129945 = 0;
switch ((*N_129941).Kind) {
case ((NU8) 31):
case ((NU8) 32):
I_129953 = 0;
HEX3Atmp_141984 = 0;
LOC1 = Sonslen_51803(N_129941);
HEX3Atmp_141984 = (NI64)(LOC1 - 1);
Res_141986 = 0;
Res_141986 = 0;
while (1) {
if (!(Res_141986 <= HEX3Atmp_141984)) goto LA2;
I_129953 = Res_141986;
LOC3 = 0;
LOC3 = Elemtype_93089(Newtype_129942);
Changetype_129939((*N_129941).KindU.S6.Sons->data[I_129953], LOC3);
Res_141986 += 1;
} LA2: ;
break;
case ((NU8) 30):
if (!!(((*Newtype_129942).Kind == ((NU8) 18)))) goto LA5;
Internalerror_43567((*N_129941).Info, ((NimStringDesc*) &TMP194136));
LA5: ;
if (!((*Newtype_129942).N == NIM_NIL)) goto LA8;
Internalerror_43567((*N_129941).Info, ((NimStringDesc*) &TMP194137));
LA8: ;
LOC12 = Sonslen_51803(N_129941);
LOC11 = (0 < LOC12);
if (!(LOC11)) goto LA13;
LOC11 = ((*(*N_129941).KindU.S6.Sons->data[0]).Kind == ((NU8) 24));
LA13: ;
if (!LOC11) goto LA14;
I_130016 = 0;
HEX3Atmp_141990 = 0;
LOC16 = Sonslen_51803(N_129941);
HEX3Atmp_141990 = (NI64)(LOC16 - 1);
Res_141992 = 0;
Res_141992 = 0;
while (1) {
if (!(Res_141992 <= HEX3Atmp_141990)) goto LA17;
I_130016 = Res_141992;
M_129945 = (*(*N_129941).KindU.S6.Sons->data[I_130016]).KindU.S6.Sons->data[0];
if (!!(((*M_129945).Kind == ((NU8) 3)))) goto LA19;
Internalerror_43567((*M_129945).Info, ((NimStringDesc*) &TMP194138));
LA19: ;
F_129943 = Getsymfromlist_55197((*Newtype_129942).N, (*(*M_129945).KindU.S4.Sym).Name, 0);
if (!(F_129943 == NIM_NIL)) goto LA22;
Internalerror_43567((*M_129945).Info, ((NimStringDesc*) &TMP194139));
LA22: ;
Changetype_129939((*(*N_129941).KindU.S6.Sons->data[I_130016]).KindU.S6.Sons->data[1], (*F_129943).Typ);
Res_141992 += 1;
} LA17: ;
goto LA10;
LA14: ;
I_130104 = 0;
HEX3Atmp_141996 = 0;
LOC24 = Sonslen_51803(N_129941);
HEX3Atmp_141996 = (NI64)(LOC24 - 1);
Res_141998 = 0;
Res_141998 = 0;
while (1) {
if (!(Res_141998 <= HEX3Atmp_141996)) goto LA25;
I_130104 = Res_141998;
M_129945 = (*N_129941).KindU.S6.Sons->data[I_130104];
A_129944 = Newnodeit_51741(((NU8) 24), (*M_129945).Info, (*Newtype_129942).Sons->data[I_130104]);
LOC26 = 0;
LOC26 = Newsymnode_51734((*(*(*Newtype_129942).N).KindU.S6.Sons->data[I_130104]).KindU.S4.Sym);
Addson_51823(A_129944, LOC26);
Addson_51823(A_129944, M_129945);
Changetype_129939(M_129945, (*Newtype_129942).Sons->data[I_130104]);
asgnRefNoCycle((void**) &(*N_129941).KindU.S6.Sons->data[I_130104], A_129944);
Res_141998 += 1;
} LA25: ;
LA10: ;
break;
default:
break;
}
asgnRef((void**) &(*N_129941).Typ, Newtype_129942);
}
N_NIMCALL(void, Fixabstracttype_130230)(TY103012* C_130232, TY51525* N_130233) {
NI I_130241;
NI HEX3Atmp_142008;
NI LOC1;
NI Res_142010;
TY51525* It_130254;
TY51551* LOC7;
TY51551* S_130321;
NIM_BOOL LOC11;
TY51547* LOC15;
TY51551* LOC16;
TY51551* LOC17;
TY51551* LOC18;
TY51551* S_130376;
NimStringDesc* LOC24;
NimStringDesc* LOC25;
I_130241 = 0;
HEX3Atmp_142008 = 0;
LOC1 = Sonslen_51803(N_130233);
HEX3Atmp_142008 = (NI64)(LOC1 - 1);
Res_142010 = 0;
Res_142010 = 1;
while (1) {
if (!(Res_142010 <= HEX3Atmp_142008)) goto LA2;
I_130241 = Res_142010;
It_130254 = 0;
It_130254 = (*N_130233).KindU.S6.Sons->data[I_130241];
switch ((*It_130254).Kind) {
case ((NU8) 47):
case ((NU8) 48):
if (!((*(*It_130254).KindU.S6.Sons->data[1]).Kind == ((NU8) 32))) goto LA4;
asgnRefNoCycle((void**) &(*It_130254).KindU.S6.Sons->data[1], Semarrayconstr_130153(C_130232, (*It_130254).KindU.S6.Sons->data[1]));
LA4: ;
LOC7 = 0;
LOC7 = Skiptypes_93085((*It_130254).Typ, 8431616);
if (!((*LOC7).Kind == ((NU8) 27))) goto LA8;
S_130321 = 0;
S_130321 = Skiptypes_93085((*(*It_130254).KindU.S6.Sons->data[1]).Typ, 8431616);
LOC11 = ((*S_130321).Kind == ((NU8) 4));
if (!(LOC11)) goto LA12;
LOC11 = ((*(*S_130321).Sons->data[1]).Kind == ((NU8) 3));
LA12: ;
if (!LOC11) goto LA13;
LOC15 = 0;
LOC15 = Getcurrowner_103107();
S_130321 = Copytype_51770(S_130321, LOC15, NIM_FALSE);
LOC16 = 0;
LOC16 = Skiptypes_93085(S_130321, 8431616);
LOC17 = 0;
LOC17 = Skiptypes_93085((*It_130254).Typ, 8431616);
asgnRef((void**) &(*LOC16).Sons->data[1], Elemtype_93089(LOC17));
asgnRef((void**) &(*(*It_130254).KindU.S6.Sons->data[1]).Typ, S_130321);
LA13: ;
goto LA6;
LA8: ;
LOC18 = 0;
LOC18 = Skiptypes_93085((*(*It_130254).KindU.S6.Sons->data[1]).Typ, 8431616);
if (!((786480 &(IL64(1)<<(((*LOC18).Kind)&IL64(63))))!=0)) goto LA19;
S_130376 = 0;
S_130376 = Skiptypes_93085((*It_130254).Typ, 8431616);
Changetype_129939((*It_130254).KindU.S6.Sons->data[1], S_130376);
asgnRefNoCycle((void**) &(*N_130233).KindU.S6.Sons->data[I_130241], (*It_130254).KindU.S6.Sons->data[1]);
goto LA6;
LA19: ;
LA6: ;
break;
case ((NU8) 32):
asgnRefNoCycle((void**) &(*N_130233).KindU.S6.Sons->data[I_130241], Semarrayconstr_130153(C_130232, It_130254));
break;
default:
if (!((*It_130254).Typ == NIM_NIL)) goto LA22;
LOC24 = 0;
LOC25 = 0;
LOC25 = Rendertree_81042(It_130254, 0);
LOC24 = rawNewString(LOC25->Sup.len + 17);
appendString(LOC24, ((NimStringDesc*) &TMP194140));
appendString(LOC24, LOC25);
Internalerror_43567((*It_130254).Info, LOC24);
LA22: ;
break;
}
Res_142010 += 1;
} LA2: ;
}
N_NIMCALL(NU8, Isassignable_130501)(TY51525* N_130503) {
NU8 Result_130504;
TY51551* LOC5;
NIM_BOOL LOC9;
TY51551* LOC14;
TY51551* LOC18;
Result_130504 = 0;
Result_130504 = ((NU8) 0);
switch ((*N_130503).Kind) {
case ((NU8) 3):
if (!((288 &(1<<(((*(*N_130503).KindU.S4.Sym).Kind)&31)))!=0)) goto LA2;
Result_130504 = ((NU8) 1);
LA2: ;
break;
case ((NU8) 36):
Checkminsonslen_103103(N_130503, 1);
LOC5 = 0;
LOC5 = Skiptypes_93085((*(*N_130503).KindU.S6.Sons->data[0]).Typ, 43008);
if (!((14680064 &(IL64(1)<<(((*LOC5).Kind)&IL64(63))))!=0)) goto LA6;
Result_130504 = ((NU8) 1);
goto LA4;
LA6: ;
Result_130504 = Isassignable_130501((*N_130503).KindU.S6.Sons->data[0]);
LA4: ;
LOC9 = (Result_130504 == ((NU8) 1));
if (!(LOC9)) goto LA10;
LOC9 = (((*(*(*N_130503).KindU.S6.Sons->data[1]).KindU.S4.Sym).Flags &(1<<((((NU8) 21))&31)))!=0);
LA10: ;
if (!LOC9) goto LA11;
Result_130504 = ((NU8) 2);
LA11: ;
break;
case ((NU8) 33):
Checkminsonslen_103103(N_130503, 1);
LOC14 = 0;
LOC14 = Skiptypes_93085((*(*N_130503).KindU.S6.Sons->data[0]).Typ, 43008);
if (!((14680064 &(IL64(1)<<(((*LOC14).Kind)&IL64(63))))!=0)) goto LA15;
Result_130504 = ((NU8) 1);
goto LA13;
LA15: ;
Result_130504 = Isassignable_130501((*N_130503).KindU.S6.Sons->data[0]);
LA13: ;
break;
case ((NU8) 47):
case ((NU8) 48):
case ((NU8) 50):
LOC18 = 0;
LOC18 = Skiptypes_93085((*N_130503).Typ, 14723072);
if (!((134610944 &(IL64(1)<<(((*LOC18).Kind)&IL64(63))))!=0)) goto LA19;
Result_130504 = Isassignable_130501((*N_130503).KindU.S6.Sons->data[1]);
LA19: ;
break;
case ((NU8) 54):
case ((NU8) 38):
Result_130504 = ((NU8) 1);
break;
case ((NU8) 56):
case ((NU8) 55):
case ((NU8) 37):
Result_130504 = Isassignable_130501((*N_130503).KindU.S6.Sons->data[0]);
break;
default:
break;
}
return Result_130504;
}
N_NIMCALL(TY51525*, Newhiddenaddrtaken_130681)(TY103012* C_130683, TY51525* N_130684) {
TY51525* Result_130685;
TY51551* LOC4;
NU8 LOC6;
Result_130685 = 0;
if (!((*N_130684).Kind == ((NU8) 54))) goto LA2;
Checksonslen_103099(N_130684, 1);
Result_130685 = (*N_130684).KindU.S6.Sons->data[0];
goto LA1;
LA2: ;
LOC4 = 0;
LOC4 = Makevartype_103073(C_130683, (*N_130684).Typ);
Result_130685 = Newnodeit_51741(((NU8) 53), (*N_130684).Info, LOC4);
Addson_51823(Result_130685, N_130684);
LOC6 = Isassignable_130501(N_130684);
if (!!((LOC6 == ((NU8) 1)))) goto LA7;
Limessage_43562((*N_130684).Info, ((NU8) 124), ((NimStringDesc*) &TMP193939));
LA7: ;
LA1: ;
return Result_130685;
}
N_NIMCALL(TY51525*, Analyseifaddresstaken_130716)(TY103012* C_130718, TY51525* N_130719) {
TY51525* Result_130720;
TY51551* LOC2;
TY51551* LOC9;
TY51551* LOC13;
Result_130720 = 0;
Result_130720 = N_130719;
switch ((*N_130719).Kind) {
case ((NU8) 3):
LOC2 = 0;
LOC2 = Skiptypes_93085((*(*N_130719).KindU.S4.Sym).Typ, 43008);
if (!!(((*LOC2).Kind == ((NU8) 23)))) goto LA3;
(*(*N_130719).KindU.S4.Sym).Flags |=(1<<((NI32)(((NU8) 18))%(sizeof(NI32)*8)));
Result_130720 = Newhiddenaddrtaken_130681(C_130718, N_130719);
LA3: ;
break;
case ((NU8) 36):
Checksonslen_103099(N_130719, 2);
if (!!(((*(*N_130719).KindU.S6.Sons->data[1]).Kind == ((NU8) 3)))) goto LA6;
Internalerror_43567((*N_130719).Info, ((NimStringDesc*) &TMP194143));
LA6: ;
LOC9 = 0;
LOC9 = Skiptypes_93085((*(*(*N_130719).KindU.S6.Sons->data[1]).KindU.S4.Sym).Typ, 43008);
if (!!(((*LOC9).Kind == ((NU8) 23)))) goto LA10;
(*(*(*N_130719).KindU.S6.Sons->data[1]).KindU.S4.Sym).Flags |=(1<<((NI32)(((NU8) 18))%(sizeof(NI32)*8)));
Result_130720 = Newhiddenaddrtaken_130681(C_130718, N_130719);
LA10: ;
break;
case ((NU8) 33):
Checkminsonslen_103103(N_130719, 1);
LOC13 = 0;
LOC13 = Skiptypes_93085((*(*N_130719).KindU.S6.Sons->data[0]).Typ, 43008);
if (!!(((*LOC13).Kind == ((NU8) 23)))) goto LA14;
if (!((*(*N_130719).KindU.S6.Sons->data[0]).Kind == ((NU8) 3))) goto LA17;
(*(*(*N_130719).KindU.S6.Sons->data[0]).KindU.S4.Sym).Flags |=(1<<((NI32)(((NU8) 18))%(sizeof(NI32)*8)));
LA17: ;
Result_130720 = Newhiddenaddrtaken_130681(C_130718, N_130719);
LA14: ;
break;
default:
Result_130720 = Newhiddenaddrtaken_130681(C_130718, N_130719);
break;
}
return Result_130720;
}
N_NIMCALL(void, Analyseifaddresstakenincall_130934)(TY103012* C_130936, TY51525* N_130937) {
TY51551* T_130952;
NIM_BOOL LOC2;
NI I_131016;
NI HEX3Atmp_142014;
NI LOC6;
NI Res_142016;
NIM_BOOL LOC9;
NI LOC10;
TY51551* LOC12;
NU8 LOC16;
NI I_131068;
NI HEX3Atmp_142020;
NI LOC19;
NI Res_142022;
NIM_BOOL LOC22;
NI LOC23;
TY51551* LOC25;
Checkminsonslen_103103(N_130937, 1);
T_130952 = 0;
T_130952 = (*(*N_130937).KindU.S6.Sons->data[0]).Typ;
LOC2 = ((*(*N_130937).KindU.S6.Sons->data[0]).Kind == ((NU8) 3));
if (!(LOC2)) goto LA3;
LOC2 = ((TMP194141[(*(*(*N_130937).KindU.S6.Sons->data[0]).KindU.S4.Sym).Magic/8] &(1<<((*(*(*N_130937).KindU.S6.Sons->data[0]).KindU.S4.Sym).Magic%8)))!=0);
LA3: ;
if (!LOC2) goto LA4;
I_131016 = 0;
HEX3Atmp_142014 = 0;
LOC6 = Sonslen_51803(N_130937);
HEX3Atmp_142014 = (NI64)(LOC6 - 1);
Res_142016 = 0;
Res_142016 = 1;
while (1) {
if (!(Res_142016 <= HEX3Atmp_142014)) goto LA7;
I_131016 = Res_142016;
LOC10 = Sonslen_51806(T_130952);
LOC9 = (I_131016 < LOC10);
if (!(LOC9)) goto LA11;
LOC12 = 0;
LOC12 = Skiptypes_93085((*T_130952).Sons->data[I_131016], 43008);
LOC9 = ((*LOC12).Kind == ((NU8) 23));
LA11: ;
if (!LOC9) goto LA13;
LOC16 = Isassignable_130501((*N_130937).KindU.S6.Sons->data[I_131016]);
if (!!((LOC16 == ((NU8) 1)))) goto LA17;
Limessage_43562((*(*N_130937).KindU.S6.Sons->data[I_131016]).Info, ((NU8) 124), ((NimStringDesc*) &TMP193939));
LA17: ;
LA13: ;
Res_142016 += 1;
} LA7: ;
goto BeforeRet;
LA4: ;
I_131068 = 0;
HEX3Atmp_142020 = 0;
LOC19 = Sonslen_51803(N_130937);
HEX3Atmp_142020 = (NI64)(LOC19 - 1);
Res_142022 = 0;
Res_142022 = 1;
while (1) {
if (!(Res_142022 <= HEX3Atmp_142020)) goto LA20;
I_131068 = Res_142022;
LOC23 = Sonslen_51806(T_130952);
LOC22 = (I_131068 < LOC23);
if (!(LOC22)) goto LA24;
LOC25 = 0;
LOC25 = Skiptypes_93085((*T_130952).Sons->data[I_131068], 43008);
LOC22 = ((*LOC25).Kind == ((NU8) 23));
LA24: ;
if (!LOC22) goto LA26;
asgnRefNoCycle((void**) &(*N_130937).KindU.S6.Sons->data[I_131068], Analyseifaddresstaken_130716(C_130936, (*N_130937).KindU.S6.Sons->data[I_131068]));
LA26: ;
Res_142022 += 1;
} LA20: ;
BeforeRet: ;
}
N_NIMCALL(TY51525*, Propertywriteaccess_137641)(TY103012* C_137643, TY51525* N_137644, TY51525* A_137645) {
TY51525* Result_137646;
TY50011* Id_137647;
TY51525* LOC1;
NimStringDesc* LOC2;
TY50011* LOC3;
TY51525* LOC4;
TY51525* LOC5;
TY51525* LOC6;
TY51525* LOC7;
Result_137646 = 0;
Id_137647 = 0;
LOC1 = 0;
LOC1 = HEX5BHEX5D_53074(A_137645, 1);
Id_137647 = Consideracc_121003(LOC1);
Result_137646 = Newnodei_51737(((NU8) 21), (*N_137644).Info);
LOC2 = 0;
LOC2 = rawNewString((*Id_137647).S->Sup.len + 1);
appendString(LOC2, (*Id_137647).S);
appendChar(LOC2, 61);
LOC3 = 0;
LOC3 = Getident_50016(LOC2);
LOC4 = 0;
LOC4 = Newidentnode_51730(LOC3, (*N_137644).Info);
Addson_51823(Result_137646, LOC4);
LOC5 = 0;
LOC5 = HEX5BHEX5D_53074(A_137645, 0);
Addson_51823(Result_137646, LOC5);
LOC6 = 0;
LOC6 = HEX5BHEX5D_53074(N_137644, 1);
LOC7 = 0;
LOC7 = Semexpr_121115(C_137643, LOC6, 0);
Addson_51823(Result_137646, LOC7);
Result_137646 = Semdirectcallanalyseeffects_131104(C_137643, Result_137646, 0);
if (!!((Result_137646 == NIM_NIL))) goto LA9;
Fixabstracttype_130230(C_137643, Result_137646);
Analyseifaddresstakenincall_130934(C_137643, Result_137646);
goto LA8;
LA9: ;
Limessage_43562((*N_137644).Info, ((NU8) 77), (*Id_137647).S);
LA8: ;
return Result_137646;
}
N_NIMCALL(TY51525*, Semsubscript_132775)(TY103012* C_132777, TY51525* N_132778, NU8 Flags_132779) {
TY51525* Result_132780;
TY51551* Arr_132829;
NI I_132861;
NI HEX3Atmp_142084;
NI LOC1;
NI Res_142086;
TY51551* Indextype_132906;
TY51551* LOC3;
TY51525* Arg_132931;
TY51551* LOC10;
NI64 Idx_133040;
NIM_BOOL LOC14;
NI LOC16;
Result_132780 = 0;
Checkminsonslen_103103(N_132778, 2);
asgnRefNoCycle((void**) &(*N_132778).KindU.S6.Sons->data[0], Semexprwithtype_121122(C_132777, (*N_132778).KindU.S6.Sons->data[0], (Flags_132779 & ~ 1)));
Arr_132829 = 0;
Arr_132829 = Skiptypes_93085((*(*N_132778).KindU.S6.Sons->data[0]).Typ, 14682112);
switch ((*Arr_132829).Kind) {
case ((NU8) 16):
case ((NU8) 27):
case ((NU8) 4):
case ((NU8) 24):
case ((NU8) 28):
case ((NU8) 29):
Checksonslen_103099(N_132778, 2);
asgnRefNoCycle((void**) &(*N_132778).KindU.S6.Sons->data[0], Makederef_132197((*N_132778).KindU.S6.Sons->data[0]));
I_132861 = 0;
HEX3Atmp_142084 = 0;
LOC1 = Sonslen_51803(N_132778);
HEX3Atmp_142084 = (NI64)(LOC1 - 1);
Res_142086 = 0;
Res_142086 = 1;
while (1) {
if (!(Res_142086 <= HEX3Atmp_142084)) goto LA2;
I_132861 = Res_142086;
asgnRefNoCycle((void**) &(*N_132778).KindU.S6.Sons->data[I_132861], Semexprwithtype_121122(C_132777, (*N_132778).KindU.S6.Sons->data[I_132861], (Flags_132779 & ~ 1)));
Res_142086 += 1;
} LA2: ;
Indextype_132906 = 0;
LOC3 = 0;
if (!((*Arr_132829).Kind == ((NU8) 16))) goto LA5;
LOC3 = (*Arr_132829).Sons->data[0];
goto LA4;
LA5: ;
LOC3 = Getsystype_98008(((NU8) 31));
LA4: ;
Indextype_132906 = LOC3;
Arg_132931 = 0;
Arg_132931 = Indextypesmatch_124917(C_132777, Indextype_132906, (*(*N_132778).KindU.S6.Sons->data[1]).Typ, (*N_132778).KindU.S6.Sons->data[1]);
if (!!((Arg_132931 == NIM_NIL))) goto LA7;
asgnRefNoCycle((void**) &(*N_132778).KindU.S6.Sons->data[1], Arg_132931);
goto LA6;
LA7: ;
Limessage_43562((*N_132778).Info, ((NU8) 80), ((NimStringDesc*) &TMP193939));
LA6: ;
Result_132780 = N_132778;
asgnRef((void**) &(*Result_132780).Typ, Elemtype_93089(Arr_132829));
break;
case ((NU8) 18):
Checksonslen_103099(N_132778, 2);
asgnRefNoCycle((void**) &(*N_132778).KindU.S6.Sons->data[0], Makederef_132197((*N_132778).KindU.S6.Sons->data[0]));
asgnRefNoCycle((void**) &(*N_132778).KindU.S6.Sons->data[1], Semconstexpr_121171(C_132777, (*N_132778).KindU.S6.Sons->data[1]));
LOC10 = 0;
LOC10 = Skiptypes_93085((*(*N_132778).KindU.S6.Sons->data[1]).Typ, 1083392);
if (!((IL64(66571993088) &(IL64(1)<<(((*LOC10).Kind)&IL64(63))))!=0)) goto LA11;
Idx_133040 = 0;
Idx_133040 = Getordvalue_93107((*N_132778).KindU.S6.Sons->data[1]);
LOC14 = (0 <= Idx_133040);
if (!(LOC14)) goto LA15;
LOC16 = Sonslen_51806(Arr_132829);
LOC14 = (Idx_133040 < ((NI64) (LOC16)));
LA15: ;
if (!LOC14) goto LA17;
asgnRef((void**) &(*N_132778).Typ, (*Arr_132829).Sons->data[Idx_133040]);
goto LA13;
LA17: ;
Limessage_43562((*N_132778).Info, ((NU8) 180), ((NimStringDesc*) &TMP193939));
LA13: ;
goto LA9;
LA11: ;
Limessage_43562((*N_132778).Info, ((NU8) 80), ((NimStringDesc*) &TMP193939));
LA9: ;
Result_132780 = N_132778;
break;
default:
break;
}
return Result_132780;
}
static N_INLINE(NI, Len_52946)(TY51525* N_52948) {
NI Result_52949;
Result_52949 = 0;
if (!(*N_52948).KindU.S6.Sons == 0) goto LA2;
Result_52949 = 0;
goto LA1;
LA2: ;
Result_52949 = (*N_52948).KindU.S6.Sons->Sup.len;
LA1: ;
return Result_52949;
}
N_NIMCALL(void, Addsliceopr_132697)(NimStringDesc** Result_132700, TY51525* N_132701) {
TY51525* LOC2;
TY51525* LOC6;
TY51525* LOC9;
LOC2 = 0;
LOC2 = HEX5BHEX5D_53074(N_132701, 0);
if (!(LOC2 == NIM_NIL)) goto LA3;
LOC6 = 0;
LOC6 = HEX5BHEX5D_53074(N_132701, 1);
if (!(LOC6 == NIM_NIL)) goto LA7;
(*Result_132700) = resizeString((*Result_132700), 2);
appendString((*Result_132700), ((NimStringDesc*) &TMP194146));
goto LA5;
LA7: ;
(*Result_132700) = resizeString((*Result_132700), 3);
appendString((*Result_132700), ((NimStringDesc*) &TMP194147));
LA5: ;
goto LA1;
LA3: ;
LOC9 = 0;
LOC9 = HEX5BHEX5D_53074(N_132701, 1);
if (!(LOC9 == NIM_NIL)) goto LA10;
(*Result_132700) = resizeString((*Result_132700), 3);
appendString((*Result_132700), ((NimStringDesc*) &TMP194148));
goto LA1;
LA10: ;
(*Result_132700) = resizeString((*Result_132700), 4);
appendString((*Result_132700), ((NimStringDesc*) &TMP194149));
LA1: ;
}
N_NIMCALL(TY51525*, Buildoverloadedsubscripts_132735)(TY51525* N_132737, NIM_BOOL Inasgn_132738) {
TY51525* Result_132739;
TY51525* LOC1;
NimStringDesc* Opr_132740;
NI I_132750;
NI HEX3Atmp_142078;
NI LOC2;
NI Res_142080;
TY51525* LOC8;
TY51525* LOC11;
TY51525* LOC12;
TY51525* LOC13;
TY51525* LOC14;
TY51525* LOC15;
TY51525* LOC16;
TY51525* LOC17;
TY50011* LOC21;
Result_132739 = 0;
Result_132739 = Newnodei_51737(((NU8) 21), (*N_132737).Info);
Add_52992(Result_132739, NIM_NIL);
LOC1 = 0;
LOC1 = HEX5BHEX5D_53074(N_132737, 0);
Add_52992(Result_132739, LOC1);
Opr_132740 = 0;
Opr_132740 = copyString(((NimStringDesc*) &TMP194144));
I_132750 = 0;
HEX3Atmp_142078 = 0;
LOC2 = Len_52946(N_132737);
HEX3Atmp_142078 = (NI64)(LOC2 - 1);
Res_142080 = 0;
Res_142080 = 1;
while (1) {
if (!(Res_142080 <= HEX3Atmp_142078)) goto LA3;
I_132750 = Res_142080;
if (!(1 < I_132750)) goto LA5;
Opr_132740 = resizeString(Opr_132740, 1);
appendString(Opr_132740, ((NimStringDesc*) &TMP194145));
LA5: ;
LOC8 = 0;
LOC8 = HEX5BHEX5D_53074(N_132737, I_132750);
if (!((*LOC8).Kind == ((NU8) 35))) goto LA9;
LOC11 = 0;
LOC11 = HEX5BHEX5D_53074(N_132737, I_132750);
Checksonslen_103099(LOC11, 2);
LOC12 = 0;
LOC12 = HEX5BHEX5D_53074(N_132737, I_132750);
Addsliceopr_132697(&Opr_132740, LOC12);
LOC13 = 0;
LOC13 = HEX5BHEX5D_53074(N_132737, I_132750);
LOC14 = 0;
LOC14 = HEX5BHEX5D_53074(LOC13, 0);
Addsonifnotnil_51831(Result_132739, LOC14);
LOC15 = 0;
LOC15 = HEX5BHEX5D_53074(N_132737, I_132750);
LOC16 = 0;
LOC16 = HEX5BHEX5D_53074(LOC15, 1);
Addsonifnotnil_51831(Result_132739, LOC16);
goto LA7;
LA9: ;
LOC17 = 0;
LOC17 = HEX5BHEX5D_53074(N_132737, I_132750);
Add_52992(Result_132739, LOC17);
LA7: ;
Res_142080 += 1;
} LA3: ;
if (!Inasgn_132738) goto LA19;
Opr_132740 = resizeString(Opr_132740, 2);
appendString(Opr_132740, ((NimStringDesc*) &TMP194150));
goto LA18;
LA19: ;
Opr_132740 = resizeString(Opr_132740, 1);
appendString(Opr_132740, ((NimStringDesc*) &TMP194151));
LA18: ;
LOC21 = 0;
LOC21 = Getident_50016(Opr_132740);
asgnRefNoCycle((void**) &(*Result_132739).KindU.S6.Sons->data[0], Newidentnode_51730(LOC21, (*N_132737).Info));
return Result_132739;
}
N_NIMCALL(TY51525*, Semexprnotype_136703)(TY103012* C_136705, TY51525* N_136706) {
TY51525* Result_136707;
NIM_BOOL LOC2;
Result_136707 = 0;
Result_136707 = Semexpr_121115(C_136705, N_136706, 0);
LOC2 = !(((*Result_136707).Typ == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC2 = !(((*(*Result_136707).Typ).Kind == ((NU8) 7)));
LA3: ;
if (!LOC2) goto LA4;
Limessage_43562((*N_136706).Info, ((NU8) 137), ((NimStringDesc*) &TMP193939));
LA4: ;
return Result_136707;
}
N_NIMCALL(TY51525*, Semasgn_137665)(TY103012* C_137667, TY51525* N_137668) {
TY51525* Result_137669;
TY51525* A_137682;
TY51525* LOC4;
TY51525* LOC8;
TY51551* Le_137862;
NIM_BOOL LOC10;
TY51551* LOC11;
NU8 LOC13;
NimStringDesc* LOC16;
Result_137669 = 0;
Checksonslen_103099(N_137668, 2);
A_137682 = 0;
A_137682 = (*N_137668).KindU.S6.Sons->data[0];
switch ((*A_137682).Kind) {
case ((NU8) 36):
A_137682 = Builtinfieldaccess_132226(C_137667, A_137682, 2);
if (!(A_137682 == NIM_NIL)) goto LA2;
LOC4 = 0;
LOC4 = HEX5BHEX5D_53074(N_137668, 0);
Result_137669 = Propertywriteaccess_137641(C_137667, N_137668, LOC4);
goto BeforeRet;
LA2: ;
break;
case ((NU8) 33):
A_137682 = Semsubscript_132775(C_137667, A_137682, 2);
if (!(A_137682 == NIM_NIL)) goto LA6;
Result_137669 = Buildoverloadedsubscripts_132735((*N_137668).KindU.S6.Sons->data[0], NIM_TRUE);
LOC8 = 0;
LOC8 = HEX5BHEX5D_53074(N_137668, 1);
Add_52992(Result_137669, LOC8);
Result_137669 = Semexprnotype_136703(C_137667, Result_137669);
goto BeforeRet;
LA6: ;
break;
default:
A_137682 = Semexprwithtype_121122(C_137667, A_137682, 2);
break;
}
asgnRefNoCycle((void**) &(*N_137668).KindU.S6.Sons->data[0], A_137682);
asgnRefNoCycle((void**) &(*N_137668).KindU.S6.Sons->data[1], Semexprwithtype_121122(C_137667, (*N_137668).KindU.S6.Sons->data[1], 0));
Le_137862 = 0;
Le_137862 = (*A_137682).Typ;
LOC11 = 0;
LOC11 = Skiptypes_93085(Le_137862, 2048);
LOC10 = !(((*LOC11).Kind == ((NU8) 23)));
if (!(LOC10)) goto LA12;
LOC13 = Isassignable_130501(A_137682);
LOC10 = (LOC13 == ((NU8) 0));
LA12: ;
if (!LOC10) goto LA14;
LOC16 = 0;
LOC16 = Rendertree_81042(A_137682, 4);
Limessage_43562((*A_137682).Info, ((NU8) 173), LOC16);
goto LA9;
LA14: ;
asgnRefNoCycle((void**) &(*N_137668).KindU.S6.Sons->data[1], Fitnode_121129(C_137667, Le_137862, (*N_137668).KindU.S6.Sons->data[1]));
Fixabstracttype_130230(C_137667, N_137668);
LA9: ;
Result_137669 = N_137668;
BeforeRet: ;
return Result_137669;
}
N_NIMCALL(TY51525*, Semcommand_141685)(TY103012* C_141687, TY51525* N_141688) {
TY51525* Result_141689;
Result_141689 = 0;
Result_141689 = Semexprnotype_136703(C_141687, N_141688);
return Result_141689;
}
N_NIMCALL(TY51525*, Semblock_137153)(TY103012* C_137155, TY51525* N_137156) {
TY51525* Result_137157;
TY51547* Labl_137206;
Result_137157 = 0;
Result_137157 = N_137156;
(*(*C_137155).P).Nestedblockcounter += 1;
Checksonslen_103099(N_137156, 2);
Openscope_55149(&(*C_137155).Tab);
if (!!(((*N_137156).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA2;
Labl_137206 = 0;
Labl_137206 = Newsyms_121059(((NU8) 19), (*N_137156).KindU.S6.Sons->data[0], C_137155);
Adddecl_104026(C_137155, Labl_137206);
asgnRefNoCycle((void**) &(*N_137156).KindU.S6.Sons->data[0], Newsymnode_51734(Labl_137206));
LA2: ;
asgnRefNoCycle((void**) &(*N_137156).KindU.S6.Sons->data[1], Semstmt_121143(C_137155, (*N_137156).KindU.S6.Sons->data[1]));
Closescope_104017(&(*C_137155).Tab);
(*(*C_137155).P).Nestedblockcounter -= 1;
return Result_137157;
}
N_NIMCALL(TY51525*, Semraise_139191)(TY103012* C_139193, TY51525* N_139194) {
TY51525* Result_139195;
TY51551* Typ_139255;
NIM_BOOL LOC5;
Result_139195 = 0;
Result_139195 = N_139194;
Checksonslen_103099(N_139194, 1);
if (!!(((*N_139194).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA2;
asgnRefNoCycle((void**) &(*N_139194).KindU.S6.Sons->data[0], Semexprwithtype_121122(C_139193, (*N_139194).KindU.S6.Sons->data[0], 0));
Typ_139255 = 0;
Typ_139255 = (*(*N_139194).KindU.S6.Sons->data[0]).Typ;
LOC5 = !(((*Typ_139255).Kind == ((NU8) 22)));
if (LOC5) goto LA6;
LOC5 = !(((*(*Typ_139255).Sons->data[0]).Kind == ((NU8) 17)));
LA6: ;
if (!LOC5) goto LA7;
Limessage_43562((*N_139194).Info, ((NU8) 110), ((NimStringDesc*) &TMP193939));
LA7: ;
LA2: ;
return Result_139195;
}
N_NIMCALL(TY51525*, Semvar_138296)(TY103012* C_138298, TY51525* N_138299) {
TY51525* Result_138300;
NI Length_138301;
TY51525* A_138302;
TY51525* B_138303;
TY51525* Def_138304;
TY51551* Typ_138305;
TY51551* Tup_138306;
TY51547* V_138307;
NI I_138315;
NI HEX3Atmp_142303;
NI LOC1;
NI Res_142305;
NIM_BOOL LOC8;
NIM_BOOL LOC22;
NimStringDesc* LOC25;
NI LOC33;
NI J_138488;
NI HEX3Atmp_142297;
NI Res_142299;
TY51525* LOC46;
TY51525* LOC47;
Result_138300 = 0;
Length_138301 = 0;
A_138302 = 0;
B_138303 = 0;
Def_138304 = 0;
Typ_138305 = 0;
Tup_138306 = 0;
V_138307 = 0;
Result_138300 = Copynode_51855(N_138299);
I_138315 = 0;
HEX3Atmp_142303 = 0;
LOC1 = Sonslen_51803(N_138299);
HEX3Atmp_142303 = (NI64)(LOC1 - 1);
Res_142305 = 0;
Res_142305 = 0;
while (1) {
if (!(Res_142305 <= HEX3Atmp_142303)) goto LA2;
I_138315 = Res_142305;
A_138302 = (*N_138299).KindU.S6.Sons->data[I_138315];
if (!((*A_138302).Kind == ((NU8) 105))) goto LA5;
goto LA3;
LA5: ;
LOC8 = !(((*A_138302).Kind == ((NU8) 25)));
if (!(LOC8)) goto LA9;
LOC8 = !(((*A_138302).Kind == ((NU8) 26)));
LA9: ;
if (!LOC8) goto LA10;
Illformedast_103092(A_138302);
LA10: ;
Checkminsonslen_103103(A_138302, 3);
Length_138301 = Sonslen_51803(A_138302);
if (!!(((*A_138302).KindU.S6.Sons->data[(NI64)(Length_138301 - 2)] == NIM_NIL))) goto LA13;
Typ_138305 = Semtypenode_121138(C_138298, (*A_138302).KindU.S6.Sons->data[(NI64)(Length_138301 - 2)], NIM_NIL);
goto LA12;
LA13: ;
Typ_138305 = NIM_NIL;
LA12: ;
if (!!(((*A_138302).KindU.S6.Sons->data[(NI64)(Length_138301 - 1)] == NIM_NIL))) goto LA16;
Def_138304 = Semexprwithtype_121122(C_138298, (*A_138302).KindU.S6.Sons->data[(NI64)(Length_138301 - 1)], 0);
if (!!((Typ_138305 == NIM_NIL))) goto LA19;
Def_138304 = Fitnode_121129(C_138298, Typ_138305, Def_138304);
goto LA18;
LA19: ;
Typ_138305 = (*Def_138304).Typ;
LA18: ;
goto LA15;
LA16: ;
Def_138304 = NIM_NIL;
LA15: ;
LOC22 = Typeallowed_93134(Typ_138305, ((NU8) 8));
if (!!(LOC22)) goto LA23;
LOC25 = 0;
LOC25 = Typetostring_93014(Typ_138305, ((NU8) 0));
Limessage_43562((*A_138302).Info, ((NU8) 162), LOC25);
LA23: ;
Tup_138306 = Skiptypes_93085(Typ_138305, 2048);
if (!((*A_138302).Kind == ((NU8) 26))) goto LA27;
if (!!(((*Tup_138306).Kind == ((NU8) 18)))) goto LA30;
Limessage_43562((*A_138302).Info, ((NU8) 182), ((NimStringDesc*) &TMP194157));
LA30: ;
LOC33 = Sonslen_51806(Tup_138306);
if (!!(((NI64)(Length_138301 - 2) == LOC33))) goto LA34;
Limessage_43562((*A_138302).Info, ((NU8) 109), ((NimStringDesc*) &TMP193939));
LA34: ;
B_138303 = Newnodei_51737(((NU8) 26), (*A_138302).Info);
Newsons_51815(B_138303, Length_138301);
asgnRefNoCycle((void**) &(*B_138303).KindU.S6.Sons->data[(NI64)(Length_138301 - 2)], NIM_NIL);
asgnRefNoCycle((void**) &(*B_138303).KindU.S6.Sons->data[(NI64)(Length_138301 - 1)], Def_138304);
Addson_51823(Result_138300, B_138303);
LA27: ;
J_138488 = 0;
HEX3Atmp_142297 = 0;
HEX3Atmp_142297 = (NI64)(Length_138301 - 3);
Res_142299 = 0;
Res_142299 = 0;
while (1) {
if (!(Res_142299 <= HEX3Atmp_142297)) goto LA36;
J_138488 = Res_142299;
if (!((*(*(*C_138298).P).Owner).Kind == ((NU8) 18))) goto LA38;
V_138307 = Semidentwithpragma_121098(C_138298, ((NU8) 8), (*A_138302).KindU.S6.Sons->data[J_138488], 6);
(*V_138307).Flags |=(1<<((NI32)(((NU8) 5))%(sizeof(NI32)*8)));
goto LA37;
LA38: ;
V_138307 = Semidentwithpragma_121098(C_138298, ((NU8) 8), (*A_138302).KindU.S6.Sons->data[J_138488], 0);
LA37: ;
if (!!((((*V_138307).Flags & 6) == 0))) goto LA41;
(*V_138307).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
LA41: ;
Addinterfacedecl_104040(C_138298, V_138307);
if (!!(((*A_138302).Kind == ((NU8) 26)))) goto LA44;
asgnRef((void**) &(*V_138307).Typ, Typ_138305);
B_138303 = Newnodei_51737(((NU8) 25), (*A_138302).Info);
LOC46 = 0;
LOC46 = Newsymnode_51734(V_138307);
Addson_51823(B_138303, LOC46);
Addson_51823(B_138303, NIM_NIL);
LOC47 = 0;
LOC47 = Copytree_51858(Def_138304);
Addson_51823(B_138303, LOC47);
Addson_51823(Result_138300, B_138303);
goto LA43;
LA44: ;
asgnRef((void**) &(*V_138307).Typ, (*Tup_138306).Sons->data[J_138488]);
asgnRefNoCycle((void**) &(*B_138303).KindU.S6.Sons->data[J_138488], Newsymnode_51734(V_138307));
LA43: ;
Res_142299 += 1;
} LA36: ;
LA3: ;
Res_142305 += 1;
} LA2: ;
return Result_138300;
}
N_NIMCALL(TY51525*, Semandevalconstexpr_121198)(TY103012* C_121200, TY51525* N_121201) {
TY51525* Result_121202;
TY51525* E_121203;
NIM_BOOL LOC8;
Result_121202 = 0;
E_121203 = 0;
E_121203 = Semexprwithtype_121122(C_121200, N_121201, 0);
if (!(E_121203 == NIM_NIL)) goto LA2;
Limessage_43562((*N_121201).Info, ((NU8) 102), ((NimStringDesc*) &TMP193939));
Result_121202 = NIM_NIL;
goto BeforeRet;
LA2: ;
Result_121202 = Getconstexpr_109010((*C_121200).Module, E_121203);
if (!(Result_121202 == NIM_NIL)) goto LA5;
Result_121202 = Evalconstexpr_111042((*C_121200).Module, E_121203);
LOC8 = (Result_121202 == NIM_NIL);
if (LOC8) goto LA9;
LOC8 = ((*Result_121202).Kind == ((NU8) 1));
LA9: ;
if (!LOC8) goto LA10;
Limessage_43562((*N_121201).Info, ((NU8) 102), ((NimStringDesc*) &TMP193939));
LA10: ;
LA5: ;
BeforeRet: ;
return Result_121202;
}
N_NIMCALL(TY51525*, Fitremovehiddenconv_138254)(TY103012* C_138256, TY51551* Typ_138257, TY51525* N_138258) {
TY51525* Result_138259;
NIM_BOOL LOC4;
Result_138259 = 0;
Result_138259 = Fitnode_121129(C_138256, Typ_138257, N_138258);
if (!((*Result_138259).Kind == ((NU8) 47) || (*Result_138259).Kind == ((NU8) 48))) goto LA2;
Changetype_129939((*Result_138259).KindU.S6.Sons->data[1], Typ_138257);
Result_138259 = (*Result_138259).KindU.S6.Sons->data[1];
goto LA1;
LA2: ;
LOC4 = Sametype_93048((*Result_138259).Typ, Typ_138257);
if (!!(LOC4)) goto LA5;
Changetype_129939(Result_138259, Typ_138257);
goto LA1;
LA5: ;
LA1: ;
return Result_138259;
}
N_NIMCALL(TY51525*, Semconst_138594)(TY103012* C_138596, TY51525* N_138597) {
TY51525* Result_138598;
TY51525* A_138599;
TY51525* Def_138600;
TY51525* B_138601;
TY51547* V_138602;
TY51551* Typ_138603;
NI I_138611;
NI HEX3Atmp_142313;
NI LOC1;
NI Res_142315;
NIM_BOOL LOC20;
NimStringDesc* LOC23;
TY51525* LOC27;
TY51525* LOC28;
Result_138598 = 0;
A_138599 = 0;
Def_138600 = 0;
B_138601 = 0;
V_138602 = 0;
Typ_138603 = 0;
Result_138598 = Copynode_51855(N_138597);
I_138611 = 0;
HEX3Atmp_142313 = 0;
LOC1 = Sonslen_51803(N_138597);
HEX3Atmp_142313 = (NI64)(LOC1 - 1);
Res_142315 = 0;
Res_142315 = 0;
while (1) {
if (!(Res_142315 <= HEX3Atmp_142313)) goto LA2;
I_138611 = Res_142315;
A_138599 = (*N_138597).KindU.S6.Sons->data[I_138611];
if (!((*A_138599).Kind == ((NU8) 105))) goto LA5;
goto LA3;
LA5: ;
if (!!(((*A_138599).Kind == ((NU8) 89)))) goto LA8;
Illformedast_103092(A_138599);
LA8: ;
Checksonslen_103099(A_138599, 3);
if (!((*(*(*C_138596).P).Owner).Kind == ((NU8) 18))) goto LA11;
V_138602 = Semidentwithpragma_121098(C_138596, ((NU8) 7), (*A_138599).KindU.S6.Sons->data[0], 6);
(*V_138602).Flags |=(1<<((NI32)(((NU8) 5))%(sizeof(NI32)*8)));
goto LA10;
LA11: ;
V_138602 = Semidentwithpragma_121098(C_138596, ((NU8) 7), (*A_138599).KindU.S6.Sons->data[0], 0);
LA10: ;
if (!!(((*A_138599).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA14;
Typ_138603 = Semtypenode_121138(C_138596, (*A_138599).KindU.S6.Sons->data[1], NIM_NIL);
goto LA13;
LA14: ;
Typ_138603 = NIM_NIL;
LA13: ;
Def_138600 = Semandevalconstexpr_121198(C_138596, (*A_138599).KindU.S6.Sons->data[2]);
if (!!((Typ_138603 == NIM_NIL))) goto LA17;
Def_138600 = Fitremovehiddenconv_138254(C_138596, Typ_138603, Def_138600);
goto LA16;
LA17: ;
Typ_138603 = (*Def_138600).Typ;
LA16: ;
LOC20 = Typeallowed_93134(Typ_138603, ((NU8) 7));
if (!!(LOC20)) goto LA21;
LOC23 = 0;
LOC23 = Typetostring_93014(Typ_138603, ((NU8) 0));
Limessage_43562((*A_138599).Info, ((NU8) 162), LOC23);
LA21: ;
asgnRef((void**) &(*V_138602).Typ, Typ_138603);
asgnRefNoCycle((void**) &(*V_138602).Ast, Def_138600);
if (!!((((*V_138602).Flags & 6) == 0))) goto LA25;
(*V_138602).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
LA25: ;
Addinterfacedecl_104040(C_138596, V_138602);
B_138601 = Newnodei_51737(((NU8) 89), (*A_138599).Info);
LOC27 = 0;
LOC27 = Newsymnode_51734(V_138602);
Addson_51823(B_138601, LOC27);
Addson_51823(B_138601, NIM_NIL);
LOC28 = 0;
LOC28 = Copytree_51858(Def_138600);
Addson_51823(B_138601, LOC28);
Addson_51823(Result_138598, B_138601);
LA3: ;
Res_142315 += 1;
} LA2: ;
return Result_138598;
}
N_NIMCALL(void, Setmagictype_129008)(TY51547* M_129010, NU8 Kind_129011, NI Size_129012) {
(*(*M_129010).Typ).Kind = Kind_129011;
(*(*M_129010).Typ).Align = Size_129012;
(*(*M_129010).Typ).Size = ((NI64) (Size_129012));
}
N_NIMCALL(void, Processmagictype_129013)(TY103012* C_129015, TY51547* M_129016) {
TY51551* LOC1;
TY51551* LOC2;
TY51551* LOC3;
switch ((*M_129016).Magic) {
case ((NU8) 168):
Setmagictype_129008(M_129016, ((NU8) 31), Intsize_47570);
break;
case ((NU8) 169):
Setmagictype_129008(M_129016, ((NU8) 32), 1);
break;
case ((NU8) 170):
Setmagictype_129008(M_129016, ((NU8) 33), 2);
break;
case ((NU8) 171):
Setmagictype_129008(M_129016, ((NU8) 34), 4);
break;
case ((NU8) 172):
Setmagictype_129008(M_129016, ((NU8) 35), 8);
break;
case ((NU8) 173):
Setmagictype_129008(M_129016, ((NU8) 36), Floatsize_47571);
break;
case ((NU8) 174):
Setmagictype_129008(M_129016, ((NU8) 37), 4);
break;
case ((NU8) 175):
Setmagictype_129008(M_129016, ((NU8) 38), 8);
break;
case ((NU8) 176):
Setmagictype_129008(M_129016, ((NU8) 1), 1);
break;
case ((NU8) 177):
Setmagictype_129008(M_129016, ((NU8) 2), 1);
break;
case ((NU8) 178):
Setmagictype_129008(M_129016, ((NU8) 28), Ptrsize_47572);
LOC1 = 0;
LOC1 = Getsystype_98008(((NU8) 2));
Addson_51827((*M_129016).Typ, LOC1);
break;
case ((NU8) 179):
Setmagictype_129008(M_129016, ((NU8) 29), Ptrsize_47572);
LOC2 = 0;
LOC2 = Getsystype_98008(((NU8) 2));
Addson_51827((*M_129016).Typ, LOC2);
break;
case ((NU8) 180):
Setmagictype_129008(M_129016, ((NU8) 26), Ptrsize_47572);
break;
case ((NU8) 181):
Setmagictype_129008(M_129016, ((NU8) 19), 1);
LOC3 = 0;
LOC3 = Newtypes_103077(((NU8) 3), C_129015);
Addson_51827((*M_129016).Typ, LOC3);
break;
case ((NU8) 182):
Setmagictype_129008(M_129016, ((NU8) 20), Intsize_47570);
goto BeforeRet;
break;
case ((NU8) 183):
Setmagictype_129008(M_129016, ((NU8) 5), Ptrsize_47572);
break;
case ((NU8) 184):
Setmagictype_129008(M_129016, ((NU8) 6), 0);
break;
case ((NU8) 185):
Setmagictype_129008(M_129016, ((NU8) 7), 0);
break;
case ((NU8) 186):
Setmagictype_129008(M_129016, ((NU8) 8), 0);
break;
case ((NU8) 162):
case ((NU8) 163):
case ((NU8) 164):
case ((NU8) 165):
case ((NU8) 166):
case ((NU8) 167):
goto BeforeRet;
break;
default:
Limessage_43562((*M_129016).Info, ((NU8) 60), ((NimStringDesc*) &TMP193939));
break;
}
BeforeRet: ;
}
N_NIMCALL(TY51525*, Semgenericparamlist_139469)(TY103012* C_139471, TY51525* N_139472, TY51551* Father_139473) {
TY51525* Result_139474;
NI I_139491;
NI HEX3Atmp_142347;
NI LOC4;
NI Res_142349;
TY51525* A_139504;
NI L_139514;
TY51525* Def_139527;
TY51551* Typ_139528;
NI J_139582;
NI HEX3Atmp_142341;
NI Res_142343;
TY51547* S_139583;
NIM_BOOL LOC16;
TY51525* LOC23;
Result_139474 = 0;
Result_139474 = Copynode_51855(N_139472);
if (!!(((*N_139472).Kind == ((NU8) 65)))) goto LA2;
Internalerror_43567((*N_139472).Info, ((NimStringDesc*) &TMP194176));
LA2: ;
I_139491 = 0;
HEX3Atmp_142347 = 0;
LOC4 = Sonslen_51803(N_139472);
HEX3Atmp_142347 = (NI64)(LOC4 - 1);
Res_142349 = 0;
Res_142349 = 0;
while (1) {
if (!(Res_142349 <= HEX3Atmp_142347)) goto LA5;
I_139491 = Res_142349;
A_139504 = 0;
A_139504 = (*N_139472).KindU.S6.Sons->data[I_139491];
if (!!(((*A_139504).Kind == ((NU8) 25)))) goto LA7;
Illformedast_103092(N_139472);
LA7: ;
L_139514 = 0;
L_139514 = Sonslen_51803(A_139504);
Def_139527 = 0;
Def_139527 = (*A_139504).KindU.S6.Sons->data[(NI64)(L_139514 - 1)];
Typ_139528 = 0;
if (!!(((*A_139504).KindU.S6.Sons->data[(NI64)(L_139514 - 2)] == NIM_NIL))) goto LA10;
Typ_139528 = Semtypenode_121138(C_139471, (*A_139504).KindU.S6.Sons->data[(NI64)(L_139514 - 2)], NIM_NIL);
goto LA9;
LA10: ;
if (!!((Def_139527 == NIM_NIL))) goto LA12;
Typ_139528 = Newtypes_103077(((NU8) 6), C_139471);
goto LA9;
LA12: ;
Typ_139528 = NIM_NIL;
LA9: ;
J_139582 = 0;
HEX3Atmp_142341 = 0;
HEX3Atmp_142341 = (NI64)(L_139514 - 3);
Res_142343 = 0;
Res_142343 = 0;
while (1) {
if (!(Res_142343 <= HEX3Atmp_142341)) goto LA14;
J_139582 = Res_142343;
S_139583 = 0;
LOC16 = (Typ_139528 == NIM_NIL);
if (LOC16) goto LA17;
LOC16 = ((*Typ_139528).Kind == ((NU8) 8));
LA17: ;
if (!LOC16) goto LA18;
S_139583 = Newsyms_121059(((NU8) 6), (*A_139504).KindU.S6.Sons->data[J_139582], C_139471);
asgnRef((void**) &(*S_139583).Typ, Newtypes_103077(((NU8) 12), C_139471));
goto LA15;
LA18: ;
S_139583 = Newsyms_121059(((NU8) 4), (*A_139504).KindU.S6.Sons->data[J_139582], C_139471);
asgnRef((void**) &(*S_139583).Typ, Typ_139528);
LA15: ;
asgnRefNoCycle((void**) &(*S_139583).Ast, Def_139527);
asgnRef((void**) &(*(*S_139583).Typ).Sym, S_139583);
if (!!((Father_139473 == NIM_NIL))) goto LA21;
Addson_51827(Father_139473, (*S_139583).Typ);
LA21: ;
(*S_139583).Position = I_139491;
LOC23 = 0;
LOC23 = Newsymnode_51734(S_139583);
Addson_51823(Result_139474, LOC23);
Adddecl_104026(C_139471, S_139583);
Res_142343 += 1;
} LA14: ;
Res_142349 += 1;
} LA5: ;
return Result_139474;
}
N_NIMCALL(TY51525*, Semtypesection_139694)(TY103012* C_139696, TY51525* N_139697) {
TY51525* Result_139698;
TY51547* S_139699;
TY51551* T_139700;
TY51551* Body_139701;
NI I_139709;
NI HEX3Atmp_142363;
NI LOC1;
NI Res_142365;
TY51525* A_139722;
NI I_139889;
NI HEX3Atmp_142369;
NI LOC19;
NI Res_142371;
TY51525* A_139902;
NIM_BOOL LOC32;
NI LOC48;
NIM_BOOL LOC52;
NI I_140143;
NI HEX3Atmp_142375;
NI LOC56;
NI Res_142377;
TY51525* A_140156;
NIM_BOOL LOC69;
Result_139698 = 0;
S_139699 = 0;
T_139700 = 0;
Body_139701 = 0;
Result_139698 = N_139697;
I_139709 = 0;
HEX3Atmp_142363 = 0;
LOC1 = Sonslen_51803(N_139697);
HEX3Atmp_142363 = (NI64)(LOC1 - 1);
Res_142365 = 0;
Res_142365 = 0;
while (1) {
if (!(Res_142365 <= HEX3Atmp_142363)) goto LA2;
I_139709 = Res_142365;
A_139722 = 0;
A_139722 = (*N_139697).KindU.S6.Sons->data[I_139709];
if (!((*A_139722).Kind == ((NU8) 105))) goto LA5;
goto LA3;
LA5: ;
if (!!(((*A_139722).Kind == ((NU8) 91)))) goto LA8;
Illformedast_103092(A_139722);
LA8: ;
Checksonslen_103099(A_139722, 3);
if (!((*(*(*C_139696).P).Owner).Kind == ((NU8) 18))) goto LA11;
S_139699 = Semidentwithpragma_121098(C_139696, ((NU8) 6), (*A_139722).KindU.S6.Sons->data[0], 6);
(*S_139699).Flags |=(1<<((NI32)(((NU8) 5))%(sizeof(NI32)*8)));
goto LA10;
LA11: ;
S_139699 = Semidentwithpragma_121098(C_139696, ((NU8) 6), (*A_139722).KindU.S6.Sons->data[0], 0);
LA10: ;
if (!!((((*S_139699).Flags & 6) == 0))) goto LA14;
(*S_139699).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
LA14: ;
asgnRef((void**) &(*S_139699).Typ, Newtypes_103077(((NU8) 30), C_139696));
asgnRef((void**) &(*(*S_139699).Typ).Sym, S_139699);
if (!((*(*A_139722).KindU.S6.Sons->data[0]).Kind == ((NU8) 34))) goto LA17;
Pragma_118028(C_139696, S_139699, (*(*A_139722).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[1], TMP194174);
LA17: ;
Addinterfacedecl_104040(C_139696, S_139699);
asgnRefNoCycle((void**) &(*A_139722).KindU.S6.Sons->data[0], Newsymnode_51734(S_139699));
LA3: ;
Res_142365 += 1;
} LA2: ;
I_139889 = 0;
HEX3Atmp_142369 = 0;
LOC19 = Sonslen_51803(N_139697);
HEX3Atmp_142369 = (NI64)(LOC19 - 1);
Res_142371 = 0;
Res_142371 = 0;
while (1) {
if (!(Res_142371 <= HEX3Atmp_142369)) goto LA20;
I_139889 = Res_142371;
A_139902 = 0;
A_139902 = (*N_139697).KindU.S6.Sons->data[I_139889];
if (!((*A_139902).Kind == ((NU8) 105))) goto LA23;
goto LA21;
LA23: ;
if (!!(((*A_139902).Kind == ((NU8) 91)))) goto LA26;
Illformedast_103092(A_139902);
LA26: ;
Checksonslen_103099(A_139902, 3);
if (!!(((*(*A_139902).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA29;
Illformedast_103092(A_139902);
LA29: ;
S_139699 = (*(*A_139902).KindU.S6.Sons->data[0]).KindU.S4.Sym;
LOC32 = ((*S_139699).Magic == ((NU8) 0));
if (!(LOC32)) goto LA33;
LOC32 = ((*A_139902).KindU.S6.Sons->data[2] == NIM_NIL);
LA33: ;
if (!LOC32) goto LA34;
Limessage_43562((*A_139902).Info, ((NU8) 135), (*(*S_139699).Name).S);
LA34: ;
if (!!(((*S_139699).Magic == ((NU8) 0)))) goto LA37;
Processmagictype_129013(C_139696, S_139699);
LA37: ;
if (!!(((*A_139902).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA40;
Openscope_55149(&(*C_139696).Tab);
Pushowner_103109(S_139699);
(*(*S_139699).Typ).Kind = ((NU8) 10);
if (!!(((*(*S_139699).Typ).Containerid == 0))) goto LA43;
Internalerror_43567((*A_139902).Info, ((NimStringDesc*) &TMP194175));
LA43: ;
(*(*S_139699).Typ).Containerid = Getid_51693();
asgnRefNoCycle((void**) &(*A_139902).KindU.S6.Sons->data[1], Semgenericparamlist_139469(C_139696, (*A_139902).KindU.S6.Sons->data[1], (*S_139699).Typ));
Addson_51827((*S_139699).Typ, NIM_NIL);
asgnRefNoCycle((void**) &(*S_139699).Ast, A_139902);
Body_139701 = Semtypenode_121138(C_139696, (*A_139902).KindU.S6.Sons->data[2], NIM_NIL);
if (!!((Body_139701 == NIM_NIL))) goto LA46;
asgnRef((void**) &(*Body_139701).Sym, S_139699);
LA46: ;
LOC48 = Sonslen_51806((*S_139699).Typ);
asgnRef((void**) &(*(*S_139699).Typ).Sons->data[(NI64)(LOC48 - 1)], Body_139701);
Popowner_103112();
Closescope_104017(&(*C_139696).Tab);
goto LA39;
LA40: ;
if (!!(((*A_139902).KindU.S6.Sons->data[2] == NIM_NIL))) goto LA49;
Pushowner_103109(S_139699);
T_139700 = Semtypenode_121138(C_139696, (*A_139902).KindU.S6.Sons->data[2], (*S_139699).Typ);
LOC52 = !((T_139700 == (*S_139699).Typ));
if (!(LOC52)) goto LA53;
LOC52 = !(((*S_139699).Typ == NIM_NIL));
LA53: ;
if (!LOC52) goto LA54;
Internalerror_43567((*A_139902).Info, ((NimStringDesc*) &TMP194177));
LA54: ;
asgnRef((void**) &(*S_139699).Typ, T_139700);
asgnRefNoCycle((void**) &(*S_139699).Ast, A_139902);
Popowner_103112();
goto LA39;
LA49: ;
LA39: ;
LA21: ;
Res_142371 += 1;
} LA20: ;
I_140143 = 0;
HEX3Atmp_142375 = 0;
LOC56 = Sonslen_51803(N_139697);
HEX3Atmp_142375 = (NI64)(LOC56 - 1);
Res_142377 = 0;
Res_142377 = 0;
while (1) {
if (!(Res_142377 <= HEX3Atmp_142375)) goto LA57;
I_140143 = Res_142377;
A_140156 = 0;
A_140156 = (*N_139697).KindU.S6.Sons->data[I_140143];
if (!((*A_140156).Kind == ((NU8) 105))) goto LA60;
goto LA58;
LA60: ;
if (!!(((*(*A_140156).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA63;
Illformedast_103092(A_140156);
LA63: ;
S_139699 = (*(*A_140156).KindU.S6.Sons->data[0]).KindU.S4.Sym;
if (!((*A_140156).KindU.S6.Sons->data[1] == NIM_NIL)) goto LA66;
LOC69 = !(((*A_140156).KindU.S6.Sons->data[2] == NIM_NIL));
if (!(LOC69)) goto LA70;
LOC69 = ((*(*A_140156).KindU.S6.Sons->data[2]).Kind == ((NU8) 3) || (*(*A_140156).KindU.S6.Sons->data[2]).Kind == ((NU8) 2) || (*(*A_140156).KindU.S6.Sons->data[2]).Kind == ((NU8) 43));
LA70: ;
if (!LOC69) goto LA71;
T_139700 = Semtypenode_121138(C_139696, (*A_140156).KindU.S6.Sons->data[2], NIM_NIL);
if (!((147456 &(IL64(1)<<(((*T_139700).Kind)&IL64(63))))!=0)) goto LA74;
Assigntype_51779((*S_139699).Typ, T_139700);
(*(*S_139699).Typ).Sup.Id = (*T_139700).Sup.Id;
LA74: ;
LA71: ;
Checkconstructedtype_122667((*S_139699).Info, (*S_139699).Typ);
LA66: ;
LA58: ;
Res_142377 += 1;
} LA57: ;
return Result_139698;
}
N_NIMCALL(TY51525*, Semif_136858)(TY103012* C_136860, TY51525* N_136861) {
TY51525* Result_136862;
NI I_136870;
NI HEX3Atmp_142284;
NI LOC1;
NI Res_142286;
TY51525* It_136883;
NI LOC7;
Result_136862 = 0;
Result_136862 = N_136861;
I_136870 = 0;
HEX3Atmp_142284 = 0;
LOC1 = Sonslen_51803(N_136861);
HEX3Atmp_142284 = (NI64)(LOC1 - 1);
Res_142286 = 0;
Res_142286 = 0;
while (1) {
if (!(Res_142286 <= HEX3Atmp_142284)) goto LA2;
I_136870 = Res_142286;
It_136883 = 0;
It_136883 = (*N_136861).KindU.S6.Sons->data[I_136870];
if (!(It_136883 == NIM_NIL)) goto LA4;
Illformedast_103092(N_136861);
LA4: ;
switch ((*It_136883).Kind) {
case ((NU8) 76):
Checksonslen_103099(It_136883, 2);
Openscope_55149(&(*C_136860).Tab);
asgnRefNoCycle((void**) &(*It_136883).KindU.S6.Sons->data[0], Semexprwithtype_121122(C_136860, (*It_136883).KindU.S6.Sons->data[0], 0));
Checkbool_125912((*It_136883).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*It_136883).KindU.S6.Sons->data[1], Semstmt_121143(C_136860, (*It_136883).KindU.S6.Sons->data[1]));
Closescope_104017(&(*C_136860).Tab);
break;
case ((NU8) 78):
LOC7 = Sonslen_51803(It_136883);
if (!(LOC7 == 1)) goto LA8;
asgnRefNoCycle((void**) &(*It_136883).KindU.S6.Sons->data[0], Semstmtscope_121104(C_136860, (*It_136883).KindU.S6.Sons->data[0]));
goto LA6;
LA8: ;
Illformedast_103092(It_136883);
LA6: ;
break;
default:
Illformedast_103092(N_136861);
break;
}
Res_142286 += 1;
} LA2: ;
return Result_136862;
}
N_NIMCALL(TY51525*, Semwhen_136728)(TY103012* C_136730, TY51525* N_136731) {
TY51525* Result_136732;
NI I_136740;
NI HEX3Atmp_142278;
NI LOC1;
NI Res_142280;
TY51525* It_136753;
TY51525* E_136777;
NIM_BOOL LOC10;
Result_136732 = 0;
Result_136732 = NIM_NIL;
I_136740 = 0;
HEX3Atmp_142278 = 0;
LOC1 = Sonslen_51803(N_136731);
HEX3Atmp_142278 = (NI64)(LOC1 - 1);
Res_142280 = 0;
Res_142280 = 0;
while (1) {
if (!(Res_142280 <= HEX3Atmp_142278)) goto LA2;
I_136740 = Res_142280;
It_136753 = 0;
It_136753 = (*N_136731).KindU.S6.Sons->data[I_136740];
if (!(It_136753 == NIM_NIL)) goto LA4;
Illformedast_103092(N_136731);
LA4: ;
switch ((*It_136753).Kind) {
case ((NU8) 76):
Checksonslen_103099(It_136753, 2);
E_136777 = 0;
E_136777 = Semconstexpr_121171(C_136730, (*It_136753).KindU.S6.Sons->data[0]);
Checkbool_125912(E_136777);
if (!!(((*E_136777).Kind == ((NU8) 6)))) goto LA7;
Internalerror_43567((*N_136731).Info, ((NimStringDesc*) &TMP194178));
LA7: ;
LOC10 = !(((*E_136777).KindU.S1.Intval == 0));
if (!(LOC10)) goto LA11;
LOC10 = (Result_136732 == NIM_NIL);
LA11: ;
if (!LOC10) goto LA12;
Result_136732 = Semstmt_121143(C_136730, (*It_136753).KindU.S6.Sons->data[1]);
LA12: ;
break;
case ((NU8) 78):
Checksonslen_103099(It_136753, 1);
if (!(Result_136732 == NIM_NIL)) goto LA15;
Result_136732 = Semstmt_121143(C_136730, (*It_136753).KindU.S6.Sons->data[0]);
LA15: ;
break;
default:
Illformedast_103092(N_136731);
break;
}
Res_142280 += 1;
} LA2: ;
if (!(Result_136732 == NIM_NIL)) goto LA18;
Result_136732 = Newnodei_51737(((NU8) 18), (*N_136731).Info);
LA18: ;
Idsynchronizationpoint_51698(200);
return Result_136732;
}
N_NIMCALL(TY51525*, Semdiscard_136983)(TY103012* C_136985, TY51525* N_136986) {
TY51525* Result_136987;
Result_136987 = 0;
Result_136987 = N_136986;
Checksonslen_103099(N_136986, 1);
asgnRefNoCycle((void**) &(*N_136986).KindU.S6.Sons->data[0], Semexprwithtype_121122(C_136985, (*N_136986).KindU.S6.Sons->data[0], 0));
if (!((*(*N_136986).KindU.S6.Sons->data[0]).Typ == NIM_NIL)) goto LA2;
Limessage_43562((*N_136986).Info, ((NU8) 138), ((NimStringDesc*) &TMP193939));
LA2: ;
return Result_136987;
}
N_NIMCALL(TY51525*, Semwhile_137346)(TY103012* C_137348, TY51525* N_137349) {
TY51525* Result_137350;
Result_137350 = 0;
Result_137350 = N_137349;
Checksonslen_103099(N_137349, 2);
Openscope_55149(&(*C_137348).Tab);
asgnRefNoCycle((void**) &(*N_137349).KindU.S6.Sons->data[0], Semexprwithtype_121122(C_137348, (*N_137349).KindU.S6.Sons->data[0], 0));
Checkbool_125912((*N_137349).KindU.S6.Sons->data[0]);
(*(*C_137348).P).Nestedloopcounter += 1;
asgnRefNoCycle((void**) &(*N_137349).KindU.S6.Sons->data[1], Semstmt_121143(C_137348, (*N_137349).KindU.S6.Sons->data[1]));
(*(*C_137348).P).Nestedloopcounter -= 1;
Closescope_104017(&(*C_137348).Tab);
return Result_137350;
}
N_NIMCALL(TY51525*, Semtry_139274)(TY103012* C_139276, TY51525* N_139277) {
TY51525* Result_139278;
TY51900 Check_139279;
NI I_139312;
NI HEX3Atmp_142331;
NI LOC1;
NI Res_142333;
TY51525* A_139325;
NI Length_139326;
NI J_139343;
NI HEX3Atmp_142325;
NI Res_142327;
TY51551* Typ_139356;
NIM_BOOL LOC14;
Result_139278 = 0;
memset((void*)&Check_139279, 0, sizeof(Check_139279));
Result_139278 = N_139277;
Checkminsonslen_103103(N_139277, 2);
asgnRefNoCycle((void**) &(*N_139277).KindU.S6.Sons->data[0], Semstmtscope_121104(C_139276, (*N_139277).KindU.S6.Sons->data[0]));
Intsetinit_51924(&Check_139279);
I_139312 = 0;
HEX3Atmp_142331 = 0;
LOC1 = Sonslen_51803(N_139277);
HEX3Atmp_142331 = (NI64)(LOC1 - 1);
Res_142333 = 0;
Res_142333 = 1;
while (1) {
if (!(Res_142333 <= HEX3Atmp_142331)) goto LA2;
I_139312 = Res_142333;
A_139325 = 0;
A_139325 = (*N_139277).KindU.S6.Sons->data[I_139312];
Checkminsonslen_103103(A_139325, 1);
Length_139326 = 0;
Length_139326 = Sonslen_51803(A_139325);
if (!((*A_139325).Kind == ((NU8) 77))) goto LA4;
J_139343 = 0;
HEX3Atmp_142325 = 0;
HEX3Atmp_142325 = (NI64)(Length_139326 - 2);
Res_142327 = 0;
Res_142327 = 0;
while (1) {
if (!(Res_142327 <= HEX3Atmp_142325)) goto LA6;
J_139343 = Res_142327;
Typ_139356 = 0;
Typ_139356 = Semtypenode_121138(C_139276, (*A_139325).KindU.S6.Sons->data[J_139343], NIM_NIL);
if (!((*Typ_139356).Kind == ((NU8) 22))) goto LA8;
Typ_139356 = (*Typ_139356).Sons->data[0];
LA8: ;
if (!!(((*Typ_139356).Kind == ((NU8) 17)))) goto LA11;
Limessage_43562((*(*A_139325).KindU.S6.Sons->data[J_139343]).Info, ((NU8) 110), ((NimStringDesc*) &TMP193939));
LA11: ;
asgnRefNoCycle((void**) &(*A_139325).KindU.S6.Sons->data[J_139343], Newnodei_51737(((NU8) 4), (*(*A_139325).KindU.S6.Sons->data[J_139343]).Info));
asgnRef((void**) &(*(*A_139325).KindU.S6.Sons->data[J_139343]).Typ, Typ_139356);
LOC14 = Intsetcontainsorincl_51928(&Check_139279, (*Typ_139356).Sup.Id);
if (!LOC14) goto LA15;
Limessage_43562((*(*A_139325).KindU.S6.Sons->data[J_139343]).Info, ((NU8) 33), ((NimStringDesc*) &TMP193939));
LA15: ;
Res_142327 += 1;
} LA6: ;
goto LA3;
LA4: ;
if (!!(((*A_139325).Kind == ((NU8) 94)))) goto LA17;
Illformedast_103092(N_139277);
goto LA3;
LA17: ;
LA3: ;
asgnRefNoCycle((void**) &(*A_139325).KindU.S6.Sons->data[(NI64)(Length_139326 - 1)], Semstmtscope_121104(C_139276, (*A_139325).KindU.S6.Sons->data[(NI64)(Length_139326 - 1)]));
Res_142333 += 1;
} LA2: ;
return Result_139278;
}
N_NIMCALL(TY51525*, Sembreakorcontinue_137035)(TY103012* C_137037, TY51525* N_137038) {
TY51525* Result_137039;
TY51547* S_137063;
NIM_BOOL LOC5;
TY51525* X_137123;
NIM_BOOL LOC9;
NimStringDesc* LOC13;
Result_137039 = 0;
Result_137039 = N_137038;
Checksonslen_103099(N_137038, 1);
if (!!(((*N_137038).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA2;
S_137063 = 0;
switch ((*(*N_137038).KindU.S6.Sons->data[0]).Kind) {
case ((NU8) 2):
S_137063 = Lookup_104049(C_137037, (*N_137038).KindU.S6.Sons->data[0]);
break;
case ((NU8) 3):
S_137063 = (*(*N_137038).KindU.S6.Sons->data[0]).KindU.S4.Sym;
break;
default:
Illformedast_103092(N_137038);
break;
}
LOC5 = ((*S_137063).Kind == ((NU8) 19));
if (!(LOC5)) goto LA6;
LOC5 = ((*(*S_137063).Owner).Sup.Id == (*(*(*C_137037).P).Owner).Sup.Id);
LA6: ;
if (!LOC5) goto LA7;
X_137123 = 0;
X_137123 = Newsymnode_51734(S_137063);
(*X_137123).Info = (*N_137038).Info;
(*S_137063).Flags |=(1<<((NI32)(((NU8) 0))%(sizeof(NI32)*8)));
asgnRefNoCycle((void**) &(*N_137038).KindU.S6.Sons->data[0], X_137123);
goto LA4;
LA7: ;
Limessage_43562((*N_137038).Info, ((NU8) 160), (*(*S_137063).Name).S);
LA4: ;
goto LA1;
LA2: ;
LOC9 = ((*(*C_137037).P).Nestedloopcounter <= 0);
if (!(LOC9)) goto LA10;
LOC9 = ((*(*C_137037).P).Nestedblockcounter <= 0);
LA10: ;
if (!LOC9) goto LA11;
LOC13 = 0;
LOC13 = Rendertree_81042(N_137038, 4);
Limessage_43562((*N_137038).Info, ((NU8) 160), LOC13);
goto LA1;
LA11: ;
LA1: ;
return Result_137039;
}
N_NIMCALL(TY51525*, Semfor_138784)(TY103012* C_138786, TY51525* N_138787) {
TY51525* Result_138788;
NI Length_138789;
TY51547* V_138790;
TY51547* Countup_138791;
TY51551* Iter_138792;
TY51525* Countupnode_138793;
TY51525* Call_138794;
TY50011* LOC4;
NIM_BOOL LOC9;
NIM_BOOL LOC10;
NI LOC22;
NI I_139117;
NI HEX3Atmp_142319;
NI Res_142321;
Result_138788 = 0;
Length_138789 = 0;
V_138790 = 0;
Countup_138791 = 0;
Iter_138792 = 0;
Countupnode_138793 = 0;
Call_138794 = 0;
Result_138788 = N_138787;
Checkminsonslen_103103(N_138787, 3);
Length_138789 = Sonslen_51803(N_138787);
Openscope_55149(&(*C_138786).Tab);
if (!((*(*N_138787).KindU.S6.Sons->data[(NI64)(Length_138789 - 2)]).Kind == ((NU8) 35))) goto LA2;
Checksonslen_103099((*N_138787).KindU.S6.Sons->data[(NI64)(Length_138789 - 2)], 2);
Countupnode_138793 = Newnodei_51737(((NU8) 21), (*(*N_138787).KindU.S6.Sons->data[(NI64)(Length_138789 - 2)]).Info);
LOC4 = 0;
LOC4 = Getident_50016(((NimStringDesc*) &TMP194179));
Countup_138791 = Strtableget_55069(&(*Systemmodule_98004).Tab, LOC4);
if (!(Countup_138791 == NIM_NIL)) goto LA6;
Limessage_43562((*Countupnode_138793).Info, ((NU8) 61), ((NimStringDesc*) &TMP194179));
LA6: ;
Newsons_51815(Countupnode_138793, 3);
asgnRefNoCycle((void**) &(*Countupnode_138793).KindU.S6.Sons->data[0], Newsymnode_51734(Countup_138791));
asgnRefNoCycle((void**) &(*Countupnode_138793).KindU.S6.Sons->data[1], (*(*N_138787).KindU.S6.Sons->data[(NI64)(Length_138789 - 2)]).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*Countupnode_138793).KindU.S6.Sons->data[2], (*(*N_138787).KindU.S6.Sons->data[(NI64)(Length_138789 - 2)]).KindU.S6.Sons->data[1]);
asgnRefNoCycle((void**) &(*N_138787).KindU.S6.Sons->data[(NI64)(Length_138789 - 2)], Countupnode_138793);
LA2: ;
asgnRefNoCycle((void**) &(*N_138787).KindU.S6.Sons->data[(NI64)(Length_138789 - 2)], Semexprwithtype_121122(C_138786, (*N_138787).KindU.S6.Sons->data[(NI64)(Length_138789 - 2)], 4));
Call_138794 = (*N_138787).KindU.S6.Sons->data[(NI64)(Length_138789 - 2)];
LOC10 = !(((*Call_138794).Kind == ((NU8) 21)));
if (LOC10) goto LA11;
LOC10 = !(((*(*Call_138794).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)));
LA11: ;
LOC9 = LOC10;
if (LOC9) goto LA12;
LOC9 = !(((*(*(*Call_138794).KindU.S6.Sons->data[0]).KindU.S4.Sym).Kind == ((NU8) 11)));
LA12: ;
if (!LOC9) goto LA13;
Limessage_43562((*(*N_138787).KindU.S6.Sons->data[(NI64)(Length_138789 - 2)]).Info, ((NU8) 205), ((NimStringDesc*) &TMP193939));
LA13: ;
Iter_138792 = Skiptypes_93085((*(*N_138787).KindU.S6.Sons->data[(NI64)(Length_138789 - 2)]).Typ, 2048);
if (!!(((*Iter_138792).Kind == ((NU8) 18)))) goto LA16;
if (!!((Length_138789 == 3))) goto LA19;
Limessage_43562((*N_138787).Info, ((NU8) 109), ((NimStringDesc*) &TMP193939));
LA19: ;
V_138790 = Newsyms_121059(((NU8) 17), (*N_138787).KindU.S6.Sons->data[0], C_138786);
asgnRef((void**) &(*V_138790).Typ, Iter_138792);
asgnRefNoCycle((void**) &(*N_138787).KindU.S6.Sons->data[0], Newsymnode_51734(V_138790));
Adddecl_104026(C_138786, V_138790);
goto LA15;
LA16: ;
LOC22 = Sonslen_51806(Iter_138792);
if (!!(((NI64)(Length_138789 - 2) == LOC22))) goto LA23;
Limessage_43562((*N_138787).Info, ((NU8) 109), ((NimStringDesc*) &TMP193939));
LA23: ;
I_139117 = 0;
HEX3Atmp_142319 = 0;
HEX3Atmp_142319 = (NI64)(Length_138789 - 3);
Res_142321 = 0;
Res_142321 = 0;
while (1) {
if (!(Res_142321 <= HEX3Atmp_142319)) goto LA25;
I_139117 = Res_142321;
V_138790 = Newsyms_121059(((NU8) 17), (*N_138787).KindU.S6.Sons->data[I_139117], C_138786);
asgnRef((void**) &(*V_138790).Typ, (*Iter_138792).Sons->data[I_139117]);
asgnRefNoCycle((void**) &(*N_138787).KindU.S6.Sons->data[I_139117], Newsymnode_51734(V_138790));
Adddecl_104026(C_138786, V_138790);
Res_142321 += 1;
} LA25: ;
LA15: ;
(*(*C_138786).P).Nestedloopcounter += 1;
asgnRefNoCycle((void**) &(*N_138787).KindU.S6.Sons->data[(NI64)(Length_138789 - 1)], Semstmt_121143(C_138786, (*N_138787).KindU.S6.Sons->data[(NI64)(Length_138789 - 1)]));
Closescope_104017(&(*C_138786).Tab);
(*(*C_138786).P).Nestedloopcounter -= 1;
return Result_138788;
}
N_NIMCALL(NI64, Tocover_137437)(TY51551* T_137439) {
NI64 Result_137440;
TY51551* T2_137441;
NIM_BOOL LOC2;
NI LOC6;
TY51551* LOC7;
Result_137440 = 0;
T2_137441 = 0;
T2_137441 = Skiptypes_93085(T_137439, 9480192);
LOC2 = ((*T2_137441).Kind == ((NU8) 14));
if (!(LOC2)) goto LA3;
LOC2 = Enumhaswholes_93072(T2_137441);
LA3: ;
if (!LOC2) goto LA4;
LOC6 = Sonslen_51803((*T2_137441).N);
Result_137440 = ((NI64) (LOC6));
goto LA1;
LA4: ;
LOC7 = 0;
LOC7 = Skiptypes_93085(T_137439, 8431616);
Result_137440 = Lengthord_93007(LOC7);
LA1: ;
return Result_137440;
}
N_NIMCALL(TY51525*, Semcase_137451)(TY103012* C_137453, TY51525* N_137454) {
TY51525* Result_137455;
NIM_BOOL Chckcovered_137481;
NI64 Covered_137482;
TY51551* LOC1;
NI I_137502;
NI HEX3Atmp_142291;
NI LOC2;
NI Res_142293;
TY51525* X_137515;
NI Length_137517;
NIM_BOOL LOC5;
NI64 LOC7;
Result_137455 = 0;
Result_137455 = N_137454;
Checkminsonslen_103103(N_137454, 2);
Openscope_55149(&(*C_137453).Tab);
asgnRefNoCycle((void**) &(*N_137454).KindU.S6.Sons->data[0], Semexprwithtype_121122(C_137453, (*N_137454).KindU.S6.Sons->data[0], 0));
Chckcovered_137481 = 0;
Chckcovered_137481 = NIM_FALSE;
Covered_137482 = 0;
Covered_137482 = 0;
LOC1 = 0;
LOC1 = Skiptypes_93085((*(*N_137454).KindU.S6.Sons->data[0]).Typ, 9480192);
switch ((*LOC1).Kind) {
case ((NU8) 31) ... ((NU8) 35):
case ((NU8) 2):
case ((NU8) 14):
Chckcovered_137481 = NIM_TRUE;
break;
case ((NU8) 36) ... ((NU8) 39):
case ((NU8) 28):
break;
default:
Limessage_43562((*N_137454).Info, ((NU8) 105), ((NimStringDesc*) &TMP193939));
break;
}
I_137502 = 0;
HEX3Atmp_142291 = 0;
LOC2 = Sonslen_51803(N_137454);
HEX3Atmp_142291 = (NI64)(LOC2 - 1);
Res_142293 = 0;
Res_142293 = 1;
while (1) {
if (!(Res_142293 <= HEX3Atmp_142291)) goto LA3;
I_137502 = Res_142293;
X_137515 = 0;
X_137515 = (*N_137454).KindU.S6.Sons->data[I_137502];
switch ((*X_137515).Kind) {
case ((NU8) 75):
Checkminsonslen_103103(X_137515, 2);
Semcasebranch_127288(C_137453, N_137454, X_137515, I_137502, &Covered_137482);
Length_137517 = 0;
Length_137517 = Sonslen_51803(X_137515);
asgnRefNoCycle((void**) &(*X_137515).KindU.S6.Sons->data[(NI64)(Length_137517 - 1)], Semstmtscope_121104(C_137453, (*X_137515).KindU.S6.Sons->data[(NI64)(Length_137517 - 1)]));
break;
case ((NU8) 76):
Chckcovered_137481 = NIM_FALSE;
Checksonslen_103099(X_137515, 2);
asgnRefNoCycle((void**) &(*X_137515).KindU.S6.Sons->data[0], Semexprwithtype_121122(C_137453, (*X_137515).KindU.S6.Sons->data[0], 0));
Checkbool_125912((*X_137515).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*X_137515).KindU.S6.Sons->data[1], Semstmtscope_121104(C_137453, (*X_137515).KindU.S6.Sons->data[1]));
break;
case ((NU8) 78):
Chckcovered_137481 = NIM_FALSE;
Checksonslen_103099(X_137515, 1);
asgnRefNoCycle((void**) &(*X_137515).KindU.S6.Sons->data[0], Semstmtscope_121104(C_137453, (*X_137515).KindU.S6.Sons->data[0]));
break;
default:
Illformedast_103092(X_137515);
break;
}
Res_142293 += 1;
} LA3: ;
LOC5 = Chckcovered_137481;
if (!(LOC5)) goto LA6;
LOC7 = Tocover_137437((*(*N_137454).KindU.S6.Sons->data[0]).Typ);
LOC5 = !((Covered_137482 == LOC7));
LA6: ;
if (!LOC5) goto LA8;
Limessage_43562((*N_137454).Info, ((NU8) 147), ((NimStringDesc*) &TMP193939));
LA8: ;
Closescope_104017(&(*C_137453).Tab);
return Result_137455;
}
N_NIMCALL(TY51525*, Semreturn_137907)(TY103012* C_137909, TY51525* N_137910) {
TY51525* Result_137911;
TY51551* Restype_137912;
TY51525* A_137913;
NIM_BOOL LOC11;
TY51525* LOC18;
TY51525* LOC19;
Result_137911 = 0;
Restype_137912 = 0;
A_137913 = 0;
Result_137911 = N_137910;
Checksonslen_103099(N_137910, 1);
if (!!(((13824 &(1<<(((*(*(*C_137909).P).Owner).Kind)&31)))!=0))) goto LA2;
Limessage_43562((*N_137910).Info, ((NU8) 159), ((NimStringDesc*) &TMP194180));
LA2: ;
if (!!(((*N_137910).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA5;
asgnRefNoCycle((void**) &(*N_137910).KindU.S6.Sons->data[0], Semexprwithtype_121122(C_137909, (*N_137910).KindU.S6.Sons->data[0], 0));
Restype_137912 = (*(*(*(*C_137909).P).Owner).Typ).Sons->data[0];
if (!!((Restype_137912 == NIM_NIL))) goto LA8;
A_137913 = Newnodei_51737(((NU8) 63), (*(*N_137910).KindU.S6.Sons->data[0]).Info);
asgnRefNoCycle((void**) &(*N_137910).KindU.S6.Sons->data[0], Fitnode_121129(C_137909, Restype_137912, (*N_137910).KindU.S6.Sons->data[0]));
LOC11 = ((*(*N_137910).KindU.S6.Sons->data[0]).Kind == ((NU8) 3));
if (!(LOC11)) goto LA12;
LOC11 = (((*(*(*N_137910).KindU.S6.Sons->data[0]).KindU.S4.Sym).Flags &(1<<((((NU8) 12))&31)))!=0);
LA12: ;
if (!LOC11) goto LA13;
asgnRefNoCycle((void**) &(*N_137910).KindU.S6.Sons->data[0], NIM_NIL);
goto LA10;
LA13: ;
if (!((*(*C_137909).P).Resultsym == NIM_NIL)) goto LA16;
Internalerror_43567((*N_137910).Info, ((NimStringDesc*) &TMP194181));
LA16: ;
LOC18 = 0;
LOC18 = Newsymnode_51734((*(*C_137909).P).Resultsym);
LOC19 = 0;
LOC19 = Semexprwithtype_121122(C_137909, LOC18, 0);
Addson_51823(A_137913, LOC19);
Addson_51823(A_137913, (*N_137910).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*N_137910).KindU.S6.Sons->data[0], A_137913);
LA10: ;
goto LA7;
LA8: ;
Limessage_43562((*N_137910).Info, ((NU8) 36), ((NimStringDesc*) &TMP193939));
LA7: ;
LA5: ;
return Result_137911;
}
N_NIMCALL(TY51525*, Semasm_137256)(TY103012* Con_137258, TY51525* N_137259) {
TY51525* Result_137260;
NIM_CHAR Marker_137273;
NimStringDesc* Str_137312;
NI A_137313;
NI B_137314;
NimStringDesc* Sub_137317;
NimStringDesc* LOC8;
TY51525* LOC14;
NI C_137320;
TY51547* E_137323;
TY50011* LOC24;
TY51525* LOC31;
TY51525* LOC32;
Result_137260 = 0;
Result_137260 = N_137259;
Checksonslen_103099(N_137259, 2);
Marker_137273 = 0;
Marker_137273 = Pragmaasm_118034(Con_137258, (*N_137259).KindU.S6.Sons->data[0]);
if (!((NU8)(Marker_137273) == (NU8)(0))) goto LA2;
Marker_137273 = 96;
LA2: ;
switch ((*(*N_137259).KindU.S6.Sons->data[1]).Kind) {
case ((NU8) 14):
case ((NU8) 15):
case ((NU8) 16):
Result_137260 = Copynode_51855(N_137259);
Str_137312 = 0;
Str_137312 = copyString((*(*N_137259).KindU.S6.Sons->data[1]).KindU.S3.Strval);
if (!((Str_137312) && (Str_137312)->Sup.len == 0)) goto LA5;
Limessage_43562((*N_137259).Info, ((NU8) 30), ((NimStringDesc*) &TMP193939));
LA5: ;
A_137313 = 0;
A_137313 = 0;
while (1) {
B_137314 = 0;
B_137314 = nsuFindChar(Str_137312, Marker_137273, A_137313);
Sub_137317 = 0;
LOC8 = 0;
if (!(B_137314 < 0)) goto LA10;
LOC8 = copyStr(Str_137312, A_137313);
goto LA9;
LA10: ;
LOC8 = copyStrLast(Str_137312, A_137313, (NI64)(B_137314 - 1));
LA9: ;
Sub_137317 = LOC8;
if (!!(((Sub_137317) && (Sub_137317)->Sup.len == 0))) goto LA12;
LOC14 = 0;
LOC14 = Newstrnode_51726(((NU8) 14), Sub_137317);
Addson_51823(Result_137260, LOC14);
LA12: ;
if (!(B_137314 < 0)) goto LA16;
goto LA7;
LA16: ;
C_137320 = 0;
C_137320 = nsuFindChar(Str_137312, Marker_137273, (NI64)(B_137314 + 1));
if (!(C_137320 < 0)) goto LA19;
Sub_137317 = copyStr(Str_137312, (NI64)(B_137314 + 1));
goto LA18;
LA19: ;
Sub_137317 = copyStrLast(Str_137312, (NI64)(B_137314 + 1), (NI64)(C_137320 - 1));
LA18: ;
if (!!(((Sub_137317) && (Sub_137317)->Sup.len == 0))) goto LA22;
E_137323 = 0;
LOC24 = 0;
LOC24 = Getident_50016(Sub_137317);
E_137323 = Symtabget_55119((*Con_137258).Tab, LOC24);
if (!!((E_137323 == NIM_NIL))) goto LA26;
if (!((*E_137323).Kind == ((NU8) 20))) goto LA29;
Loadstub_89070(E_137323);
LA29: ;
LOC31 = 0;
LOC31 = Newsymnode_51734(E_137323);
Addson_51823(Result_137260, LOC31);
goto LA25;
LA26: ;
LOC32 = 0;
LOC32 = Newstrnode_51726(((NU8) 14), Sub_137317);
Addson_51823(Result_137260, LOC32);
LA25: ;
LA22: ;
if (!(C_137320 < 0)) goto LA34;
goto LA7;
LA34: ;
A_137313 = (NI64)(C_137320 + 1);
} LA7: ;
break;
default:
Illformedast_103092(N_137259);
break;
}
return Result_137260;
}
N_NIMCALL(TY51525*, Semyield_138123)(TY103012* C_138125, TY51525* N_138126) {
TY51525* Result_138127;
NIM_BOOL LOC2;
TY51551* Restype_138195;
Result_138127 = 0;
Result_138127 = N_138126;
Checksonslen_103099(N_138126, 1);
LOC2 = ((*(*C_138125).P).Owner == NIM_NIL);
if (LOC2) goto LA3;
LOC2 = !(((*(*(*C_138125).P).Owner).Kind == ((NU8) 11)));
LA3: ;
if (!LOC2) goto LA4;
Limessage_43562((*N_138126).Info, ((NU8) 34), ((NimStringDesc*) &TMP193939));
LA4: ;
if (!!(((*N_138126).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA7;
asgnRefNoCycle((void**) &(*N_138126).KindU.S6.Sons->data[0], Semexprwithtype_121122(C_138125, (*N_138126).KindU.S6.Sons->data[0], 0));
Restype_138195 = 0;
Restype_138195 = (*(*(*(*C_138125).P).Owner).Typ).Sons->data[0];
if (!!((Restype_138195 == NIM_NIL))) goto LA10;
asgnRefNoCycle((void**) &(*N_138126).KindU.S6.Sons->data[0], Fitnode_121129(C_138125, Restype_138195, (*N_138126).KindU.S6.Sons->data[0]));
if (!((*(*N_138126).KindU.S6.Sons->data[0]).Typ == NIM_NIL)) goto LA13;
Internalerror_43567((*N_138126).Info, ((NimStringDesc*) &TMP194182));
LA13: ;
goto LA9;
LA10: ;
Limessage_43562((*N_138126).Info, ((NU8) 36), ((NimStringDesc*) &TMP193939));
LA9: ;
LA7: ;
return Result_138127;
}
N_NIMCALL(void, Addgenericparamlisttoscope_139639)(TY103012* C_139641, TY51525* N_139642) {
NI I_139659;
NI HEX3Atmp_142357;
NI LOC4;
NI Res_142359;
TY51525* A_139672;
if (!!(((*N_139642).Kind == ((NU8) 65)))) goto LA2;
Internalerror_43567((*N_139642).Info, ((NimStringDesc*) &TMP194186));
LA2: ;
I_139659 = 0;
HEX3Atmp_142357 = 0;
LOC4 = Sonslen_51803(N_139642);
HEX3Atmp_142357 = (NI64)(LOC4 - 1);
Res_142359 = 0;
Res_142359 = 0;
while (1) {
if (!(Res_142359 <= HEX3Atmp_142357)) goto LA5;
I_139659 = Res_142359;
A_139672 = 0;
A_139672 = (*N_139642).KindU.S6.Sons->data[I_139659];
if (!!(((*A_139672).Kind == ((NU8) 3)))) goto LA7;
Internalerror_43567((*A_139672).Info, ((NimStringDesc*) &TMP194186));
LA7: ;
Adddecl_104026(C_139641, (*A_139672).KindU.S4.Sym);
Res_142359 += 1;
} LA5: ;
}
N_NIMCALL(TY51525*, Evaltemplateargs_121424)(TY103012* C_121426, TY51525* N_121427, TY51547* S_121428) {
TY51525* Result_121429;
NI F_121430;
NI A_121431;
TY51525* Arg_121432;
NI I_121442;
NI HEX3Atmp_122074;
NI Res_122076;
TY51525* LOC14;
Result_121429 = 0;
F_121430 = 0;
A_121431 = 0;
Arg_121432 = 0;
F_121430 = Sonslen_51806((*S_121428).Typ);
switch ((*N_121427).Kind) {
case ((NU8) 21):
case ((NU8) 27):
case ((NU8) 28):
case ((NU8) 29):
case ((NU8) 20):
case ((NU8) 22):
A_121431 = Sonslen_51803(N_121427);
break;
default:
A_121431 = 0;
break;
}
if (!(F_121430 < A_121431)) goto LA2;
Limessage_43562((*N_121427).Info, ((NU8) 130), ((NimStringDesc*) &TMP193939));
LA2: ;
Result_121429 = Copynode_51855(N_121427);
I_121442 = 0;
HEX3Atmp_122074 = 0;
HEX3Atmp_122074 = (NI64)(F_121430 - 1);
Res_122076 = 0;
Res_122076 = 1;
while (1) {
if (!(Res_122076 <= HEX3Atmp_122074)) goto LA4;
I_121442 = Res_122076;
if (!(I_121442 < A_121431)) goto LA6;
Arg_121432 = (*N_121427).KindU.S6.Sons->data[I_121442];
goto LA5;
LA6: ;
Arg_121432 = Copytree_51858((*(*(*(*(*S_121428).Typ).N).KindU.S6.Sons->data[I_121442]).KindU.S4.Sym).Ast);
LA5: ;
if (!(Arg_121432 == NIM_NIL)) goto LA9;
Limessage_43562((*N_121427).Info, ((NU8) 130), ((NimStringDesc*) &TMP193939));
LA9: ;
if (!!(((448 &(IL64(1)<<(((*(*(*S_121428).Typ).Sons->data[I_121442]).Kind)&IL64(63))))!=0))) goto LA12;
LOC14 = 0;
LOC14 = Semexprwithtype_121122(C_121426, Arg_121432, 0);
Arg_121432 = Fitnode_121129(C_121426, (*(*S_121428).Typ).Sons->data[I_121442], LOC14);
LA12: ;
Addson_51823(Result_121429, Arg_121432);
Res_122076 += 1;
} LA4: ;
return Result_121429;
}
N_NIMCALL(TY51525*, Evaltemplateaux_121337)(TY103012* C_121339, TY51525* Templ_121340, TY51525* Actual_121341, TY51547* Sym_121342) {
TY51525* Result_121343;
TY51547* P_121344;
NIM_BOOL LOC5;
NI LOC9;
NI I_121398;
NI HEX3Atmp_122068;
NI LOC10;
NI Res_122070;
Result_121343 = 0;
P_121344 = 0;
if (!(Templ_121340 == NIM_NIL)) goto LA2;
Result_121343 = NIM_NIL;
goto BeforeRet;
LA2: ;
switch ((*Templ_121340).Kind) {
case ((NU8) 3):
P_121344 = (*Templ_121340).KindU.S4.Sym;
LOC5 = ((*P_121344).Kind == ((NU8) 3));
if (!(LOC5)) goto LA6;
LOC5 = ((*(*P_121344).Owner).Sup.Id == (*Sym_121342).Sup.Id);
LA6: ;
if (!LOC5) goto LA7;
Result_121343 = Copytree_51858((*Actual_121341).KindU.S6.Sons->data[(*P_121344).Position]);
goto LA4;
LA7: ;
Result_121343 = Copynode_51855(Templ_121340);
LA4: ;
break;
case ((NU8) 0) ... ((NU8) 2):
case ((NU8) 4) ... ((NU8) 18):
Result_121343 = Copynode_51855(Templ_121340);
break;
default:
Result_121343 = Copynode_51855(Templ_121340);
LOC9 = Sonslen_51803(Templ_121340);
Newsons_51815(Result_121343, LOC9);
I_121398 = 0;
HEX3Atmp_122068 = 0;
LOC10 = Sonslen_51803(Templ_121340);
HEX3Atmp_122068 = (NI64)(LOC10 - 1);
Res_122070 = 0;
Res_122070 = 0;
while (1) {
if (!(Res_122070 <= HEX3Atmp_122068)) goto LA11;
I_121398 = Res_122070;
asgnRefNoCycle((void**) &(*Result_121343).KindU.S6.Sons->data[I_121398], Evaltemplateaux_121337(C_121339, (*Templ_121340).KindU.S6.Sons->data[I_121398], Actual_121341, Sym_121342));
Res_122070 += 1;
} LA11: ;
break;
}
BeforeRet: ;
return Result_121343;
}
N_NIMCALL(TY51525*, Evaltemplate_121504)(TY103012* C_121506, TY51525* N_121507, TY51547* Sym_121508) {
TY51525* Result_121509;
TY51525* Args_121510;
Result_121509 = 0;
Args_121510 = 0;
Evaltemplatecounter_121423 += 1;
if (!(100 < Evaltemplatecounter_121423)) goto LA2;
Limessage_43562((*N_121507).Info, ((NU8) 178), ((NimStringDesc*) &TMP193939));
LA2: ;
Args_121510 = Evaltemplateargs_121424(C_121506, N_121507, Sym_121508);
Result_121509 = Evaltemplateaux_121337(C_121506, (*(*Sym_121508).Ast).KindU.S6.Sons->data[4], Args_121510, Sym_121508);
Evaltemplatecounter_121423 -= 1;
return Result_121509;
}
N_NIMCALL(TY51525*, Semtemplateexpr_129019)(TY103012* C_129021, TY51525* N_129022, TY51547* S_129023, NIM_BOOL Semcheck_129024) {
TY51525* Result_129025;
Result_129025 = 0;
Markused_121065(N_129022, S_129023);
Pushinfocontext_43606((*N_129022).Info);
Result_129025 = Evaltemplate_121504(C_129021, N_129022, S_129023);
if (!Semcheck_129024) goto LA2;
Result_129025 = Semaftermacrocall_121246(C_129021, Result_129025, S_129023);
LA2: ;
Popinfocontext_43609();
return Result_129025;
}
N_NIMCALL(TY51525*, Semgenericstmtsymbol_135119)(TY103012* C_135121, TY51525* N_135122, TY51547* S_135123) {
TY51525* Result_135124;
NIM_BOOL LOC2;
Result_135124 = 0;
switch ((*S_135123).Kind) {
case ((NU8) 0):
Result_135124 = N_135122;
break;
case ((NU8) 9):
case ((NU8) 10):
case ((NU8) 11):
case ((NU8) 12):
Result_135124 = Symchoice_121549(C_135121, N_135122, S_135123);
break;
case ((NU8) 14):
Result_135124 = Semtemplateexpr_129019(C_135121, N_135122, S_135123, NIM_FALSE);
break;
case ((NU8) 13):
Result_135124 = Semmacroexpr_122093(C_135121, N_135122, S_135123, NIM_FALSE);
break;
case ((NU8) 4):
Result_135124 = Newsymnode_51734(S_135123);
break;
case ((NU8) 3):
Result_135124 = N_135122;
break;
case ((NU8) 6):
LOC2 = !(((*S_135123).Typ == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC2 = !(((*(*S_135123).Typ).Kind == ((NU8) 12)));
LA3: ;
if (!LOC2) goto LA4;
Result_135124 = Newsymnode_51734(S_135123);
goto LA1;
LA4: ;
Result_135124 = N_135122;
LA1: ;
break;
default:
Result_135124 = Newsymnode_51734(S_135123);
break;
}
return Result_135124;
}
N_NIMCALL(NIM_BOOL, Iscallexpr_134483)(TY51525* N_134485) {
NIM_BOOL Result_134486;
Result_134486 = 0;
Result_134486 = ((*N_134485).Kind == ((NU8) 21) || (*N_134485).Kind == ((NU8) 27) || (*N_134485).Kind == ((NU8) 28) || (*N_134485).Kind == ((NU8) 29) || (*N_134485).Kind == ((NU8) 20) || (*N_134485).Kind == ((NU8) 22));
return Result_134486;
}
N_NIMCALL(TY51525*, Semmacrostmt_134499)(TY103012* C_134501, TY51525* N_134502, NIM_BOOL Semcheck_134503) {
TY51525* Result_134504;
TY51525* A_134505;
NIM_BOOL LOC2;
TY51547* S_134554;
NIM_BOOL LOC9;
NI I_134597;
NI HEX3Atmp_142132;
NI LOC12;
NI Res_142134;
NI I_134629;
NI HEX3Atmp_142138;
NI LOC14;
NI Res_142140;
NimStringDesc* LOC16;
Result_134504 = 0;
Checkminsonslen_103103(N_134502, 2);
A_134505 = 0;
LOC2 = Iscallexpr_134483((*N_134502).KindU.S6.Sons->data[0]);
if (!LOC2) goto LA3;
A_134505 = (*(*N_134502).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[0];
goto LA1;
LA3: ;
A_134505 = (*N_134502).KindU.S6.Sons->data[0];
LA1: ;
S_134554 = 0;
S_134554 = Qualifiedlookup_104053(C_134501, A_134505, NIM_FALSE);
if (!!((S_134554 == NIM_NIL))) goto LA6;
switch ((*S_134554).Kind) {
case ((NU8) 13):
Result_134504 = Semmacroexpr_122093(C_134501, N_134502, S_134554, Semcheck_134503);
break;
case ((NU8) 14):
Result_134504 = Newnodei_51737(((NU8) 21), (*N_134502).Info);
Addson_51823(Result_134504, A_134505);
LOC9 = Iscallexpr_134483((*N_134502).KindU.S6.Sons->data[0]);
if (!LOC9) goto LA10;
I_134597 = 0;
HEX3Atmp_142132 = 0;
LOC12 = Sonslen_51803((*N_134502).KindU.S6.Sons->data[0]);
HEX3Atmp_142132 = (NI64)(LOC12 - 1);
Res_142134 = 0;
Res_142134 = 1;
while (1) {
if (!(Res_142134 <= HEX3Atmp_142132)) goto LA13;
I_134597 = Res_142134;
Addson_51823(Result_134504, (*(*N_134502).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[I_134597]);
Res_142134 += 1;
} LA13: ;
LA10: ;
I_134629 = 0;
HEX3Atmp_142138 = 0;
LOC14 = Sonslen_51803(N_134502);
HEX3Atmp_142138 = (NI64)(LOC14 - 1);
Res_142140 = 0;
Res_142140 = 1;
while (1) {
if (!(Res_142140 <= HEX3Atmp_142138)) goto LA15;
I_134629 = Res_142140;
Addson_51823(Result_134504, (*N_134502).KindU.S6.Sons->data[I_134629]);
Res_142140 += 1;
} LA15: ;
Result_134504 = Semtemplateexpr_129019(C_134501, Result_134504, S_134554, Semcheck_134503);
break;
default:
Limessage_43562((*N_134502).Info, ((NU8) 203), (*(*S_134554).Name).S);
break;
}
goto LA5;
LA6: ;
LOC16 = 0;
LOC16 = Rendertree_81042(A_134505, 4);
Limessage_43562((*N_134502).Info, ((NU8) 165), LOC16);
LA5: ;
return Result_134504;
}
N_NIMCALL(TY51525*, Getidentnode_135145)(TY51525* N_135147) {
TY51525* Result_135148;
Result_135148 = 0;
switch ((*N_135147).Kind) {
case ((NU8) 29):
Result_135148 = Getidentnode_135145((*N_135147).KindU.S6.Sons->data[1]);
break;
case ((NU8) 34):
case ((NU8) 43):
Result_135148 = Getidentnode_135145((*N_135147).KindU.S6.Sons->data[0]);
break;
case ((NU8) 2):
Result_135148 = N_135147;
break;
default:
Illformedast_103092(N_135147);
Result_135148 = NIM_NIL;
break;
}
return Result_135148;
}
N_NIMCALL(TY51525*, Semgenericstmt_135102)(TY103012* C_135104, TY51525* N_135105, NU8 Flags_135108) {
TY51525* Result_135180;
NI L_135181;
TY51525* A_135182;
TY51547* S_135183;
NIM_BOOL LOC14;
NI I_135340;
NI HEX3Atmp_142144;
NI LOC18;
NI Res_142146;
NI I_135372;
NI HEX3Atmp_142150;
NI LOC20;
NI Res_142152;
NI I_135405;
NI HEX3Atmp_142156;
NI LOC22;
NI Res_142158;
NI I_135463;
NI HEX3Atmp_142168;
NI LOC24;
NI Res_142170;
NI J_135483;
NI HEX3Atmp_142162;
NI Res_142164;
NI I_135565;
NI HEX3Atmp_142178;
NI Res_142180;
TY51547* LOC28;
TY51547* LOC32;
NI I_135695;
NI HEX3Atmp_142190;
NI LOC33;
NI Res_142192;
NI J_135715;
NI HEX3Atmp_142184;
NI Res_142186;
NI I_135772;
NI HEX3Atmp_142206;
NI LOC36;
NI Res_142208;
NIM_BOOL LOC43;
NI J_135868;
NI HEX3Atmp_142200;
NI Res_142202;
TY51525* LOC48;
TY51547* LOC49;
NI I_135888;
NI HEX3Atmp_142222;
NI LOC50;
NI Res_142224;
NI J_135942;
NI HEX3Atmp_142216;
NI Res_142218;
TY51525* LOC56;
TY51547* LOC57;
NI I_135962;
NI HEX3Atmp_142232;
NI LOC58;
NI Res_142234;
TY51525* LOC67;
TY51547* LOC68;
NI I_136061;
NI HEX3Atmp_142238;
NI LOC69;
NI Res_142240;
TY51525* LOC78;
TY51547* LOC79;
NI I_136111;
NI HEX3Atmp_142244;
NI LOC80;
NI Res_142246;
NI I_136296;
NI HEX3Atmp_142250;
NI LOC95;
NI Res_142252;
TY51525* LOC97;
TY51547* LOC98;
NI I_136412;
NI HEX3Atmp_142262;
NI LOC102;
NI Res_142264;
NI J_136490;
NI HEX3Atmp_142256;
NI Res_142258;
TY51525* LOC108;
TY51547* LOC109;
TY51525* LOC110;
TY51547* LOC111;
TY50011* LOC118;
TY51547* LOC119;
NI I_136678;
NI HEX3Atmp_142272;
NI LOC120;
NI Res_142274;
Result_135180 = 0;
L_135181 = 0;
A_135182 = 0;
S_135183 = 0;
Result_135180 = N_135105;
if (!(N_135105 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*N_135105).Kind) {
case ((NU8) 2):
case ((NU8) 43):
S_135183 = Lookup_104049(C_135104, N_135105);
if (!((Flags_135108 &(1<<((((NU8) 0))&7)))!=0)) goto LA5;
Result_135180 = Symchoice_121549(C_135104, N_135105, S_135183);
goto LA4;
LA5: ;
Result_135180 = Semgenericstmtsymbol_135119(C_135104, N_135105, S_135183);
LA4: ;
break;
case ((NU8) 36):
S_135183 = Qualifiedlookup_104053(C_135104, N_135105, NIM_TRUE);
if (!!((S_135183 == NIM_NIL))) goto LA8;
Result_135180 = Semgenericstmtsymbol_135119(C_135104, N_135105, S_135183);
LA8: ;
break;
case ((NU8) 3) ... ((NU8) 18):
break;
case ((NU8) 45):
Result_135180 = Semgenericstmt_135102(C_135104, (*N_135105).KindU.S6.Sons->data[0], 1);
break;
case ((NU8) 21):
case ((NU8) 49):
case ((NU8) 27):
case ((NU8) 28):
case ((NU8) 20):
case ((NU8) 22):
Checkminsonslen_103103(N_135105, 1);
S_135183 = Qualifiedlookup_104053(C_135104, (*N_135105).KindU.S6.Sons->data[0], NIM_FALSE);
if (!!((S_135183 == NIM_NIL))) goto LA11;
switch ((*S_135183).Kind) {
case ((NU8) 13):
Result_135180 = Semmacroexpr_122093(C_135104, N_135105, S_135183, NIM_FALSE);
goto BeforeRet;
break;
case ((NU8) 14):
Result_135180 = Semtemplateexpr_129019(C_135104, N_135105, S_135183, NIM_FALSE);
goto BeforeRet;
break;
case ((NU8) 0):
case ((NU8) 3):
break;
case ((NU8) 9):
case ((NU8) 10):
case ((NU8) 11):
case ((NU8) 12):
asgnRefNoCycle((void**) &(*N_135105).KindU.S6.Sons->data[0], Symchoice_121549(C_135104, (*N_135105).KindU.S6.Sons->data[0], S_135183));
break;
case ((NU8) 4):
asgnRefNoCycle((void**) &(*N_135105).KindU.S6.Sons->data[0], Newsymnode_51734(S_135183));
break;
case ((NU8) 6):
LOC14 = !(((*S_135183).Typ == NIM_NIL));
if (!(LOC14)) goto LA15;
LOC14 = !(((*(*S_135183).Typ).Kind == ((NU8) 12)));
LA15: ;
if (!LOC14) goto LA16;
asgnRefNoCycle((void**) &(*N_135105).KindU.S6.Sons->data[0], Newsymnode_51734(S_135183));
LA16: ;
break;
default:
asgnRefNoCycle((void**) &(*N_135105).KindU.S6.Sons->data[0], Newsymnode_51734(S_135183));
break;
}
LA11: ;
I_135340 = 0;
HEX3Atmp_142144 = 0;
LOC18 = Sonslen_51803(N_135105);
HEX3Atmp_142144 = (NI64)(LOC18 - 1);
Res_142146 = 0;
Res_142146 = 1;
while (1) {
if (!(Res_142146 <= HEX3Atmp_142144)) goto LA19;
I_135340 = Res_142146;
asgnRefNoCycle((void**) &(*N_135105).KindU.S6.Sons->data[I_135340], Semgenericstmt_135102(C_135104, (*N_135105).KindU.S6.Sons->data[I_135340], Flags_135108));
Res_142146 += 1;
} LA19: ;
break;
case ((NU8) 79):
Result_135180 = Semmacrostmt_134499(C_135104, N_135105, NIM_FALSE);
break;
case ((NU8) 82):
I_135372 = 0;
HEX3Atmp_142150 = 0;
LOC20 = Sonslen_51803(N_135105);
HEX3Atmp_142150 = (NI64)(LOC20 - 1);
Res_142152 = 0;
Res_142152 = 0;
while (1) {
if (!(Res_142152 <= HEX3Atmp_142150)) goto LA21;
I_135372 = Res_142152;
asgnRefNoCycle((void**) &(*N_135105).KindU.S6.Sons->data[I_135372], Semgenericstmtscope_135109(C_135104, (*N_135105).KindU.S6.Sons->data[I_135372], 0));
Res_142152 += 1;
} LA21: ;
break;
case ((NU8) 85):
Openscope_55149(&(*C_135104).Tab);
I_135405 = 0;
HEX3Atmp_142156 = 0;
LOC22 = Sonslen_51803(N_135105);
HEX3Atmp_142156 = (NI64)(LOC22 - 1);
Res_142158 = 0;
Res_142158 = 0;
while (1) {
if (!(Res_142158 <= HEX3Atmp_142156)) goto LA23;
I_135405 = Res_142158;
asgnRefNoCycle((void**) &(*N_135105).KindU.S6.Sons->data[I_135405], Semgenericstmt_135102(C_135104, (*N_135105).KindU.S6.Sons->data[I_135405], 0));
Res_142158 += 1;
} LA23: ;
Closescope_104017(&(*C_135104).Tab);
break;
case ((NU8) 86):
Openscope_55149(&(*C_135104).Tab);
asgnRefNoCycle((void**) &(*N_135105).KindU.S6.Sons->data[0], Semgenericstmt_135102(C_135104, (*N_135105).KindU.S6.Sons->data[0], 0));
I_135463 = 0;
HEX3Atmp_142168 = 0;
LOC24 = Sonslen_51803(N_135105);
HEX3Atmp_142168 = (NI64)(LOC24 - 1);
Res_142170 = 0;
Res_142170 = 1;
while (1) {
if (!(Res_142170 <= HEX3Atmp_142168)) goto LA25;
I_135463 = Res_142170;
A_135182 = (*N_135105).KindU.S6.Sons->data[I_135463];
Checkminsonslen_103103(A_135182, 1);
L_135181 = Sonslen_51803(A_135182);
J_135483 = 0;
HEX3Atmp_142162 = 0;
HEX3Atmp_142162 = (NI64)(L_135181 - 2);
Res_142164 = 0;
Res_142164 = 0;
while (1) {
if (!(Res_142164 <= HEX3Atmp_142162)) goto LA26;
J_135483 = Res_142164;
asgnRefNoCycle((void**) &(*A_135182).KindU.S6.Sons->data[J_135483], Semgenericstmt_135102(C_135104, (*A_135182).KindU.S6.Sons->data[J_135483], 0));
Res_142164 += 1;
} LA26: ;
asgnRefNoCycle((void**) &(*A_135182).KindU.S6.Sons->data[(NI64)(L_135181 - 1)], Semgenericstmtscope_135109(C_135104, (*A_135182).KindU.S6.Sons->data[(NI64)(L_135181 - 1)], 0));
Res_142170 += 1;
} LA25: ;
Closescope_104017(&(*C_135104).Tab);
break;
case ((NU8) 84):
L_135181 = Sonslen_51803(N_135105);
Openscope_55149(&(*C_135104).Tab);
asgnRefNoCycle((void**) &(*N_135105).KindU.S6.Sons->data[(NI64)(L_135181 - 2)], Semgenericstmt_135102(C_135104, (*N_135105).KindU.S6.Sons->data[(NI64)(L_135181 - 2)], 0));
I_135565 = 0;
HEX3Atmp_142178 = 0;
HEX3Atmp_142178 = (NI64)(L_135181 - 3);
Res_142180 = 0;
Res_142180 = 0;
while (1) {
if (!(Res_142180 <= HEX3Atmp_142178)) goto LA27;
I_135565 = Res_142180;
LOC28 = 0;
LOC28 = Newsyms_121059(((NU8) 0), (*N_135105).KindU.S6.Sons->data[I_135565], C_135104);
Adddecl_104026(C_135104, LOC28);
Res_142180 += 1;
} LA27: ;
asgnRefNoCycle((void**) &(*N_135105).KindU.S6.Sons->data[(NI64)(L_135181 - 1)], Semgenericstmt_135102(C_135104, (*N_135105).KindU.S6.Sons->data[(NI64)(L_135181 - 1)], 0));
Closescope_104017(&(*C_135104).Tab);
break;
case ((NU8) 99):
case ((NU8) 107):
case ((NU8) 109):
Checksonslen_103099(N_135105, 2);
Openscope_55149(&(*C_135104).Tab);
if (!!(((*N_135105).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA30;
LOC32 = 0;
LOC32 = Newsyms_121059(((NU8) 0), (*N_135105).KindU.S6.Sons->data[0], C_135104);
Adddecl_104026(C_135104, LOC32);
LA30: ;
asgnRefNoCycle((void**) &(*N_135105).KindU.S6.Sons->data[1], Semgenericstmt_135102(C_135104, (*N_135105).KindU.S6.Sons->data[1], 0));
Closescope_104017(&(*C_135104).Tab);
break;
case ((NU8) 93):
Checkminsonslen_103103(N_135105, 2);
asgnRefNoCycle((void**) &(*N_135105).KindU.S6.Sons->data[0], Semgenericstmtscope_135109(C_135104, (*N_135105).KindU.S6.Sons->data[0], 0));
I_135695 = 0;
HEX3Atmp_142190 = 0;
LOC33 = Sonslen_51803(N_135105);
HEX3Atmp_142190 = (NI64)(LOC33 - 1);
Res_142192 = 0;
Res_142192 = 1;
while (1) {
if (!(Res_142192 <= HEX3Atmp_142190)) goto LA34;
I_135695 = Res_142192;
A_135182 = (*N_135105).KindU.S6.Sons->data[I_135695];
Checkminsonslen_103103(A_135182, 1);
L_135181 = Sonslen_51803(A_135182);
J_135715 = 0;
HEX3Atmp_142184 = 0;
HEX3Atmp_142184 = (NI64)(L_135181 - 2);
Res_142186 = 0;
Res_142186 = 0;
while (1) {
if (!(Res_142186 <= HEX3Atmp_142184)) goto LA35;
J_135715 = Res_142186;
asgnRefNoCycle((void**) &(*A_135182).KindU.S6.Sons->data[J_135715], Semgenericstmt_135102(C_135104, (*A_135182).KindU.S6.Sons->data[J_135715], 2));
Res_142186 += 1;
} LA35: ;
asgnRefNoCycle((void**) &(*A_135182).KindU.S6.Sons->data[(NI64)(L_135181 - 1)], Semgenericstmtscope_135109(C_135104, (*A_135182).KindU.S6.Sons->data[(NI64)(L_135181 - 1)], 0));
Res_142192 += 1;
} LA34: ;
break;
case ((NU8) 87):
I_135772 = 0;
HEX3Atmp_142206 = 0;
LOC36 = Sonslen_51803(N_135105);
HEX3Atmp_142206 = (NI64)(LOC36 - 1);
Res_142208 = 0;
Res_142208 = 0;
while (1) {
if (!(Res_142208 <= HEX3Atmp_142206)) goto LA37;
I_135772 = Res_142208;
A_135182 = (*N_135105).KindU.S6.Sons->data[I_135772];
if (!((*A_135182).Kind == ((NU8) 105))) goto LA40;
goto LA38;
LA40: ;
LOC43 = !(((*A_135182).Kind == ((NU8) 25)));
if (!(LOC43)) goto LA44;
LOC43 = !(((*A_135182).Kind == ((NU8) 26)));
LA44: ;
if (!LOC43) goto LA45;
Illformedast_103092(A_135182);
LA45: ;
Checkminsonslen_103103(A_135182, 3);
L_135181 = Sonslen_51803(A_135182);
asgnRefNoCycle((void**) &(*A_135182).KindU.S6.Sons->data[(NI64)(L_135181 - 2)], Semgenericstmt_135102(C_135104, (*A_135182).KindU.S6.Sons->data[(NI64)(L_135181 - 2)], 2));
asgnRefNoCycle((void**) &(*A_135182).KindU.S6.Sons->data[(NI64)(L_135181 - 1)], Semgenericstmt_135102(C_135104, (*A_135182).KindU.S6.Sons->data[(NI64)(L_135181 - 1)], 0));
J_135868 = 0;
HEX3Atmp_142200 = 0;
HEX3Atmp_142200 = (NI64)(L_135181 - 3);
Res_142202 = 0;
Res_142202 = 0;
while (1) {
if (!(Res_142202 <= HEX3Atmp_142200)) goto LA47;
J_135868 = Res_142202;
LOC48 = 0;
LOC48 = Getidentnode_135145((*A_135182).KindU.S6.Sons->data[J_135868]);
LOC49 = 0;
LOC49 = Newsyms_121059(((NU8) 0), LOC48, C_135104);
Adddecl_104026(C_135104, LOC49);
Res_142202 += 1;
} LA47: ;
LA38: ;
Res_142208 += 1;
} LA37: ;
break;
case ((NU8) 65):
I_135888 = 0;
HEX3Atmp_142222 = 0;
LOC50 = Sonslen_51803(N_135105);
HEX3Atmp_142222 = (NI64)(LOC50 - 1);
Res_142224 = 0;
Res_142224 = 0;
while (1) {
if (!(Res_142224 <= HEX3Atmp_142222)) goto LA51;
I_135888 = Res_142224;
A_135182 = (*N_135105).KindU.S6.Sons->data[I_135888];
if (!!(((*A_135182).Kind == ((NU8) 25)))) goto LA53;
Illformedast_103092(A_135182);
LA53: ;
Checkminsonslen_103103(A_135182, 3);
L_135181 = Sonslen_51803(A_135182);
asgnRefNoCycle((void**) &(*A_135182).KindU.S6.Sons->data[(NI64)(L_135181 - 2)], Semgenericstmt_135102(C_135104, (*A_135182).KindU.S6.Sons->data[(NI64)(L_135181 - 2)], 2));
J_135942 = 0;
HEX3Atmp_142216 = 0;
HEX3Atmp_142216 = (NI64)(L_135181 - 3);
Res_142218 = 0;
Res_142218 = 0;
while (1) {
if (!(Res_142218 <= HEX3Atmp_142216)) goto LA55;
J_135942 = Res_142218;
LOC56 = 0;
LOC56 = Getidentnode_135145((*A_135182).KindU.S6.Sons->data[J_135942]);
LOC57 = 0;
LOC57 = Newsyms_121059(((NU8) 0), LOC56, C_135104);
Adddecl_104026(C_135104, LOC57);
Res_142218 += 1;
} LA55: ;
Res_142224 += 1;
} LA51: ;
break;
case ((NU8) 88):
I_135962 = 0;
HEX3Atmp_142232 = 0;
LOC58 = Sonslen_51803(N_135105);
HEX3Atmp_142232 = (NI64)(LOC58 - 1);
Res_142234 = 0;
Res_142234 = 0;
while (1) {
if (!(Res_142234 <= HEX3Atmp_142232)) goto LA59;
I_135962 = Res_142234;
A_135182 = (*N_135105).KindU.S6.Sons->data[I_135962];
if (!((*A_135182).Kind == ((NU8) 105))) goto LA62;
goto LA60;
LA62: ;
if (!!(((*A_135182).Kind == ((NU8) 89)))) goto LA65;
Illformedast_103092(A_135182);
LA65: ;
Checksonslen_103099(A_135182, 3);
LOC67 = 0;
LOC67 = Getidentnode_135145((*A_135182).KindU.S6.Sons->data[0]);
LOC68 = 0;
LOC68 = Newsyms_121059(((NU8) 0), LOC67, C_135104);
Adddecl_104026(C_135104, LOC68);
asgnRefNoCycle((void**) &(*A_135182).KindU.S6.Sons->data[1], Semgenericstmt_135102(C_135104, (*A_135182).KindU.S6.Sons->data[1], 2));
asgnRefNoCycle((void**) &(*A_135182).KindU.S6.Sons->data[2], Semgenericstmt_135102(C_135104, (*A_135182).KindU.S6.Sons->data[2], 0));
LA60: ;
Res_142234 += 1;
} LA59: ;
break;
case ((NU8) 90):
I_136061 = 0;
HEX3Atmp_142238 = 0;
LOC69 = Sonslen_51803(N_135105);
HEX3Atmp_142238 = (NI64)(LOC69 - 1);
Res_142240 = 0;
Res_142240 = 0;
while (1) {
if (!(Res_142240 <= HEX3Atmp_142238)) goto LA70;
I_136061 = Res_142240;
A_135182 = (*N_135105).KindU.S6.Sons->data[I_136061];
if (!((*A_135182).Kind == ((NU8) 105))) goto LA73;
goto LA71;
LA73: ;
if (!!(((*A_135182).Kind == ((NU8) 91)))) goto LA76;
Illformedast_103092(A_135182);
LA76: ;
Checksonslen_103099(A_135182, 3);
LOC78 = 0;
LOC78 = Getidentnode_135145((*A_135182).KindU.S6.Sons->data[0]);
LOC79 = 0;
LOC79 = Newsyms_121059(((NU8) 0), LOC78, C_135104);
Adddecl_104026(C_135104, LOC79);
LA71: ;
Res_142240 += 1;
} LA70: ;
I_136111 = 0;
HEX3Atmp_142244 = 0;
LOC80 = Sonslen_51803(N_135105);
HEX3Atmp_142244 = (NI64)(LOC80 - 1);
Res_142246 = 0;
Res_142246 = 0;
while (1) {
if (!(Res_142246 <= HEX3Atmp_142244)) goto LA81;
I_136111 = Res_142246;
A_135182 = (*N_135105).KindU.S6.Sons->data[I_136111];
if (!((*A_135182).Kind == ((NU8) 105))) goto LA84;
goto LA82;
LA84: ;
if (!!(((*A_135182).Kind == ((NU8) 91)))) goto LA87;
Illformedast_103092(A_135182);
LA87: ;
Checksonslen_103099(A_135182, 3);
if (!!(((*A_135182).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA90;
Openscope_55149(&(*C_135104).Tab);
asgnRefNoCycle((void**) &(*A_135182).KindU.S6.Sons->data[1], Semgenericstmt_135102(C_135104, (*A_135182).KindU.S6.Sons->data[1], 0));
asgnRefNoCycle((void**) &(*A_135182).KindU.S6.Sons->data[2], Semgenericstmt_135102(C_135104, (*A_135182).KindU.S6.Sons->data[2], 2));
Closescope_104017(&(*C_135104).Tab);
goto LA89;
LA90: ;
asgnRefNoCycle((void**) &(*A_135182).KindU.S6.Sons->data[2], Semgenericstmt_135102(C_135104, (*A_135182).KindU.S6.Sons->data[2], 2));
LA89: ;
LA82: ;
Res_142246 += 1;
} LA81: ;
break;
case ((NU8) 121):
Checkminsonslen_103103(N_135105, 1);
if (!!(((*N_135105).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA93;
asgnRefNoCycle((void**) &(*N_135105).KindU.S6.Sons->data[0], Semgenericstmt_135102(C_135104, (*N_135105).KindU.S6.Sons->data[0], 2));
LA93: ;
I_136296 = 0;
HEX3Atmp_142250 = 0;
LOC95 = Sonslen_51803(N_135105);
HEX3Atmp_142250 = (NI64)(LOC95 - 1);
Res_142252 = 0;
Res_142252 = 1;
while (1) {
if (!(Res_142252 <= HEX3Atmp_142250)) goto LA96;
I_136296 = Res_142252;
switch ((*(*N_135105).KindU.S6.Sons->data[I_136296]).Kind) {
case ((NU8) 122):
A_135182 = (*(*N_135105).KindU.S6.Sons->data[I_136296]).KindU.S6.Sons->data[0];
break;
case ((NU8) 2):
A_135182 = (*N_135105).KindU.S6.Sons->data[I_136296];
break;
default:
Illformedast_103092(N_135105);
break;
}
LOC97 = 0;
LOC97 = Getidentnode_135145((*A_135182).KindU.S6.Sons->data[I_136296]);
LOC98 = 0;
LOC98 = Newsyms_121059(((NU8) 0), LOC97, C_135104);
Adddeclat_104030(C_135104, LOC98, ((NI) ((NI64)(((NI) ((*C_135104).Tab.Tos)) - 1))));
Res_142252 += 1;
} LA96: ;
break;
case ((NU8) 111):
case ((NU8) 112):
break;
case ((NU8) 66):
Checkminsonslen_103103(N_135105, 1);
if (!!(((*N_135105).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA100;
asgnRefNoCycle((void**) &(*N_135105).KindU.S6.Sons->data[0], Semgenericstmt_135102(C_135104, (*N_135105).KindU.S6.Sons->data[0], 2));
LA100: ;
I_136412 = 0;
HEX3Atmp_142262 = 0;
LOC102 = Sonslen_51803(N_135105);
HEX3Atmp_142262 = (NI64)(LOC102 - 1);
Res_142264 = 0;
Res_142264 = 1;
while (1) {
if (!(Res_142264 <= HEX3Atmp_142262)) goto LA103;
I_136412 = Res_142264;
A_135182 = (*N_135105).KindU.S6.Sons->data[I_136412];
if (!!(((*A_135182).Kind == ((NU8) 25)))) goto LA105;
Illformedast_103092(A_135182);
LA105: ;
Checkminsonslen_103103(A_135182, 3);
L_135181 = Sonslen_51803(A_135182);
asgnRefNoCycle((void**) &(*A_135182).KindU.S6.Sons->data[(NI64)(L_135181 - 1)], Semgenericstmt_135102(C_135104, (*A_135182).KindU.S6.Sons->data[(NI64)(L_135181 - 2)], 2));
asgnRefNoCycle((void**) &(*A_135182).KindU.S6.Sons->data[(NI64)(L_135181 - 1)], Semgenericstmt_135102(C_135104, (*A_135182).KindU.S6.Sons->data[(NI64)(L_135181 - 1)], 0));
J_136490 = 0;
HEX3Atmp_142256 = 0;
HEX3Atmp_142256 = (NI64)(L_135181 - 3);
Res_142258 = 0;
Res_142258 = 0;
while (1) {
if (!(Res_142258 <= HEX3Atmp_142256)) goto LA107;
J_136490 = Res_142258;
LOC108 = 0;
LOC108 = Getidentnode_135145((*A_135182).KindU.S6.Sons->data[J_136490]);
LOC109 = 0;
LOC109 = Newsyms_121059(((NU8) 0), LOC108, C_135104);
Adddecl_104026(C_135104, LOC109);
Res_142258 += 1;
} LA107: ;
Res_142264 += 1;
} LA103: ;
break;
case ((NU8) 69):
case ((NU8) 70):
case ((NU8) 71):
case ((NU8) 72):
case ((NU8) 73):
case ((NU8) 74):
case ((NU8) 42):
Checksonslen_103099(N_135105, 5);
LOC110 = 0;
LOC110 = Getidentnode_135145((*N_135105).KindU.S6.Sons->data[0]);
LOC111 = 0;
LOC111 = Newsyms_121059(((NU8) 0), LOC110, C_135104);
Adddecl_104026(C_135104, LOC111);
Openscope_55149(&(*C_135104).Tab);
asgnRefNoCycle((void**) &(*N_135105).KindU.S6.Sons->data[1], Semgenericstmt_135102(C_135104, (*N_135105).KindU.S6.Sons->data[1], 0));
if (!!(((*N_135105).KindU.S6.Sons->data[2] == NIM_NIL))) goto LA113;
if (!!(((*(*N_135105).KindU.S6.Sons->data[2]).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA116;
LOC118 = 0;
LOC118 = Getident_50016(((NimStringDesc*) &TMP194133));
LOC119 = 0;
LOC119 = Newsym_51701(((NU8) 0), LOC118, NIM_NIL);
Adddecl_104026(C_135104, LOC119);
LA116: ;
asgnRefNoCycle((void**) &(*N_135105).KindU.S6.Sons->data[2], Semgenericstmt_135102(C_135104, (*N_135105).KindU.S6.Sons->data[2], 0));
LA113: ;
asgnRefNoCycle((void**) &(*N_135105).KindU.S6.Sons->data[3], Semgenericstmt_135102(C_135104, (*N_135105).KindU.S6.Sons->data[3], 0));
asgnRefNoCycle((void**) &(*N_135105).KindU.S6.Sons->data[4], Semgenericstmtscope_135109(C_135104, (*N_135105).KindU.S6.Sons->data[4], 0));
Closescope_104017(&(*C_135104).Tab);
break;
default:
I_136678 = 0;
HEX3Atmp_142272 = 0;
LOC120 = Sonslen_51803(N_135105);
HEX3Atmp_142272 = (NI64)(LOC120 - 1);
Res_142274 = 0;
Res_142274 = 0;
while (1) {
if (!(Res_142274 <= HEX3Atmp_142272)) goto LA121;
I_136678 = Res_142274;
asgnRefNoCycle((void**) &(*Result_135180).KindU.S6.Sons->data[I_136678], Semgenericstmt_135102(C_135104, (*N_135105).KindU.S6.Sons->data[I_136678], Flags_135108));
Res_142274 += 1;
} LA121: ;
break;
}
BeforeRet: ;
return Result_135180;
}
N_NIMCALL(TY51525*, Semgenericstmtscope_135109)(TY103012* C_135111, TY51525* N_135112, NU8 Flags_135115) {
TY51525* Result_135116;
Result_135116 = 0;
Openscope_55149(&(*C_135111).Tab);
Result_135116 = Semgenericstmt_135102(C_135111, N_135112, Flags_135115);
Closescope_104017(&(*C_135111).Tab);
return Result_135116;
}
N_NIMCALL(void, Semborrow_140368)(TY103012* C_140370, TY51525* N_140371, TY51547* S_140372) {
TY51547* B_140373;
B_140373 = 0;
B_140373 = Searchforborrowproc_117009(C_140370, S_140372, (NI64)(((NI) ((*C_140370).Tab.Tos)) - 2));
if (!(B_140373 == NIM_NIL)) goto LA2;
Limessage_43562((*N_140371).Info, ((NU8) 136), ((NimStringDesc*) &TMP193939));
LA2: ;
asgnRefNoCycle((void**) &(*N_140371).KindU.S6.Sons->data[4], Newsymnode_51734(B_140373));
}
N_NIMCALL(void, Sideeffectscheck_140397)(TY103012* C_140399, TY51547* S_140400) {
if (!((24576 & (*S_140400).Flags) == 24576)) goto LA2;
Limessage_43562((*S_140400).Info, ((NU8) 204), (*(*S_140400).Name).S);
LA2: ;
}
N_NIMCALL(TY51525*, Semprocaux_140662)(TY103012* C_140664, TY51525* N_140665, NU8 Kind_140666, TY118007 Validpragmas_140667) {
TY51525* Result_140668;
TY51547* S_140669;
TY51547* Proto_140670;
TY51525* Gp_140671;
TY103006* Oldp_140732;
NI LOC14;
TY103002* LOC26;
NIM_BOOL LOC55;
NIM_BOOL LOC63;
NIM_BOOL LOC68;
TY50011* LOC72;
TY51547* LOC73;
Result_140668 = 0;
S_140669 = 0;
Proto_140670 = 0;
Gp_140671 = 0;
Result_140668 = N_140665;
Checksonslen_103099(N_140665, 5);
if (!((*(*(*C_140664).P).Owner).Kind == ((NU8) 18))) goto LA2;
S_140669 = Semidentvis_121092(C_140664, Kind_140666, (*N_140665).KindU.S6.Sons->data[0], 2);
(*S_140669).Flags |=(1<<((NI32)(((NU8) 5))%(sizeof(NI32)*8)));
goto LA1;
LA2: ;
S_140669 = Semidentvis_121092(C_140664, Kind_140666, (*N_140665).KindU.S6.Sons->data[0], 0);
LA1: ;
asgnRefNoCycle((void**) &(*N_140665).KindU.S6.Sons->data[0], Newsymnode_51734(S_140669));
Oldp_140732 = 0;
Oldp_140732 = (*C_140664).P;
if (!(((*S_140669).Flags &(1<<((((NU8) 1))&31)))!=0)) goto LA5;
(*S_140669).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
LA5: ;
asgnRefNoCycle((void**) &(*S_140669).Ast, N_140665);
Pushowner_103109(S_140669);
Openscope_55149(&(*C_140664).Tab);
if (!!(((*N_140665).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA8;
asgnRefNoCycle((void**) &(*N_140665).KindU.S6.Sons->data[1], Semgenericparamlist_139469(C_140664, (*N_140665).KindU.S6.Sons->data[1], NIM_NIL));
Gp_140671 = (*N_140665).KindU.S6.Sons->data[1];
goto LA7;
LA8: ;
Gp_140671 = Newnodei_51737(((NU8) 65), (*N_140665).Info);
LA7: ;
if (!!(((*N_140665).KindU.S6.Sons->data[2] == NIM_NIL))) goto LA11;
Semparamlist_121147(C_140664, (*N_140665).KindU.S6.Sons->data[2], Gp_140671, S_140669);
LOC14 = Sonslen_51803(Gp_140671);
if (!(0 < LOC14)) goto LA15;
if (!((*N_140665).KindU.S6.Sons->data[1] == NIM_NIL)) goto LA18;
asgnRefNoCycle((void**) &(*N_140665).KindU.S6.Sons->data[1], Gp_140671);
Semparamlist_121147(C_140664, (*N_140665).KindU.S6.Sons->data[2], NIM_NIL, S_140669);
LA18: ;
LA15: ;
Addparams_121153(C_140664, (*(*S_140669).Typ).N);
goto LA10;
LA11: ;
asgnRef((void**) &(*S_140669).Typ, Newtypes_103077(((NU8) 25), C_140664));
Addson_51827((*S_140669).Typ, NIM_NIL);
LA10: ;
Proto_140670 = Searchforproc_117004(C_140664, S_140669, (NI64)(((NI) ((*C_140664).Tab.Tos)) - 2));
if (!(Proto_140670 == NIM_NIL)) goto LA21;
if (!!(((*(*Oldp_140732).Owner).Kind == ((NU8) 18)))) goto LA24;
(*(*S_140669).Typ).Callconv = ((NU8) 8);
goto LA23;
LA24: ;
LOC26 = 0;
LOC26 = Lastoptionentry_103053(C_140664);
(*(*S_140669).Typ).Callconv = (*LOC26).Defaultcc;
LA23: ;
if (!((269824 &(1<<((Kind_140666)&31)))!=0)) goto LA28;
Addinterfaceoverloadablesymat_104044(C_140664, S_140669, (NI64)(((NI) ((*C_140664).Tab.Tos)) - 2));
goto LA27;
LA28: ;
Addinterfacedeclat_104246(C_140664, S_140669, ((NI) ((NI64)(((NI) ((*C_140664).Tab.Tos)) - 2))));
LA27: ;
if (!!(((*N_140665).KindU.S6.Sons->data[3] == NIM_NIL))) goto LA31;
Pragma_118028(C_140664, S_140669, (*N_140665).KindU.S6.Sons->data[3], Validpragmas_140667);
LA31: ;
goto LA20;
LA21: ;
if (!!(((*N_140665).KindU.S6.Sons->data[3] == NIM_NIL))) goto LA34;
Limessage_43562((*(*N_140665).KindU.S6.Sons->data[3]).Info, ((NU8) 133), ((NimStringDesc*) &TMP193939));
LA34: ;
if (!!((((*Proto_140670).Flags &(1<<((((NU8) 6))&31)))!=0))) goto LA37;
Limessage_43562((*N_140665).Info, ((NU8) 94), (*(*Proto_140670).Name).S);
LA37: ;
(*Proto_140670).Flags &= ~(1 << ((NI32)(((NU8) 6)) % (sizeof(NI32)*8)));
Closescope_104017(&(*C_140664).Tab);
Openscope_55149(&(*C_140664).Tab);
if (!!(((*(*Proto_140670).Ast).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA40;
Addgenericparamlisttoscope_139639(C_140664, (*(*Proto_140670).Ast).KindU.S6.Sons->data[1]);
LA40: ;
Addparams_121153(C_140664, (*(*Proto_140670).Typ).N);
(*Proto_140670).Info = (*S_140669).Info;
asgnRef((void**) &(*S_140669).Typ, (*Proto_140670).Typ);
S_140669 = Proto_140670;
asgnRefNoCycle((void**) &(*N_140665).KindU.S6.Sons->data[1], (*(*Proto_140670).Ast).KindU.S6.Sons->data[1]);
asgnRefNoCycle((void**) &(*N_140665).KindU.S6.Sons->data[2], (*(*Proto_140670).Ast).KindU.S6.Sons->data[2]);
if (!!(((*(*N_140665).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA43;
Internalerror_43567((*N_140665).Info, ((NimStringDesc*) &TMP194187));
LA43: ;
asgnRef((void**) &(*(*N_140665).KindU.S6.Sons->data[0]).KindU.S4.Sym, Proto_140670);
asgnRefNoCycle((void**) &(*Proto_140670).Ast, N_140665);
Popowner_103112();
Pushowner_103109(S_140669);
LA20: ;
(*S_140669).Options = Goptions_42075;
if (!!(((*N_140665).KindU.S6.Sons->data[4] == NIM_NIL))) goto LA46;
if (!(((*S_140669).Flags &(1<<((((NU8) 29))&31)))!=0)) goto LA49;
Limessage_43562((*(*N_140665).KindU.S6.Sons->data[4]).Info, ((NU8) 134), (*(*S_140669).Name).S);
LA49: ;
if (!((*N_140665).KindU.S6.Sons->data[1] == NIM_NIL)) goto LA52;
asgnRefNoCycle((void**) &(*C_140664).P, Newproccon_103050(S_140669));
LOC55 = !(((*(*S_140669).Typ).Sons->data[0] == NIM_NIL));
if (!(LOC55)) goto LA56;
LOC55 = !((Kind_140666 == ((NU8) 11)));
LA56: ;
if (!LOC55) goto LA57;
Addresult_121157(C_140664, (*(*S_140669).Typ).Sons->data[0], (*N_140665).Info);
LA57: ;
if (!!((((*S_140669).Flags &(1<<((((NU8) 7))&31)))!=0))) goto LA60;
asgnRefNoCycle((void**) &(*N_140665).KindU.S6.Sons->data[4], Semstmtscope_121104(C_140664, (*N_140665).KindU.S6.Sons->data[4]));
LA60: ;
LOC63 = !(((*(*S_140669).Typ).Sons->data[0] == NIM_NIL));
if (!(LOC63)) goto LA64;
LOC63 = !((Kind_140666 == ((NU8) 11)));
LA64: ;
if (!LOC63) goto LA65;
Addresultnode_121162(C_140664, N_140665);
LA65: ;
goto LA51;
LA52: ;
LOC68 = !(((*(*S_140669).Typ).Sons->data[0] == NIM_NIL));
if (!(LOC68)) goto LA69;
LOC68 = !((Kind_140666 == ((NU8) 11)));
LA69: ;
if (!LOC68) goto LA70;
LOC72 = 0;
LOC72 = Getident_50016(((NimStringDesc*) &TMP194133));
LOC73 = 0;
LOC73 = Newsym_51701(((NU8) 0), LOC72, NIM_NIL);
Adddecl_104026(C_140664, LOC73);
LA70: ;
asgnRefNoCycle((void**) &(*N_140665).KindU.S6.Sons->data[4], Semgenericstmtscope_135109(C_140664, (*N_140665).KindU.S6.Sons->data[4], 0));
LA51: ;
if (!(((*S_140669).Flags &(1<<((((NU8) 7))&31)))!=0)) goto LA75;
asgnRefNoCycle((void**) &(*N_140665).KindU.S6.Sons->data[4], NIM_NIL);
LA75: ;
goto LA45;
LA46: ;
if (!!((Proto_140670 == NIM_NIL))) goto LA78;
Limessage_43562((*N_140665).Info, ((NU8) 135), (*(*Proto_140670).Name).S);
LA78: ;
if (!((536871040 & (*S_140669).Flags) == 0)) goto LA81;
(*S_140669).Flags |=(1<<((NI32)(((NU8) 6))%(sizeof(NI32)*8)));
goto LA80;
LA81: ;
if (!(((*S_140669).Flags &(1<<((((NU8) 29))&31)))!=0)) goto LA83;
Semborrow_140368(C_140664, N_140665, S_140669);
goto LA80;
LA83: ;
LA80: ;
LA45: ;
Sideeffectscheck_140397(C_140664, S_140669);
Closescope_104017(&(*C_140664).Tab);
Popowner_103112();
asgnRefNoCycle((void**) &(*C_140664).P, Oldp_140732);
return Result_140668;
}
N_NIMCALL(TY51525*, Semiterator_141424)(TY103012* C_141426, TY51525* N_141427) {
TY51525* Result_141428;
TY51547* S_141453;
TY51551* T_141454;
Result_141428 = 0;
Result_141428 = Semprocaux_140662(C_141426, N_141427, ((NU8) 11), TMP194188);
S_141453 = 0;
S_141453 = (*(*Result_141428).KindU.S6.Sons->data[0]).KindU.S4.Sym;
T_141454 = 0;
T_141454 = (*S_141453).Typ;
if (!((*T_141454).Sons->data[0] == NIM_NIL)) goto LA2;
Limessage_43562((*N_141427).Info, ((NU8) 175), ((NimStringDesc*) &TMP194189));
LA2: ;
if (!((*N_141427).KindU.S6.Sons->data[4] == NIM_NIL)) goto LA5;
Limessage_43562((*N_141427).Info, ((NU8) 135), (*(*S_141453).Name).S);
LA5: ;
return Result_141428;
}
N_NIMCALL(TY51525*, Semproc_141489)(TY103012* C_141491, TY51525* N_141492) {
TY51525* Result_141493;
Result_141493 = 0;
Result_141493 = Semprocaux_140662(C_141491, N_141492, ((NU8) 9), TMP194190);
return Result_141493;
}
N_NIMCALL(NIM_BOOL, Istoplevel_121053)(TY103012* C_121055) {
NIM_BOOL Result_121056;
Result_121056 = 0;
Result_121056 = (((NI) ((*C_121055).Tab.Tos)) <= 2);
return Result_121056;
}
N_NIMCALL(TY51525*, Semmethod_141494)(TY103012* C_141496, TY51525* N_141497) {
TY51525* Result_141498;
NIM_BOOL LOC2;
Result_141498 = 0;
LOC2 = Istoplevel_121053(C_141496);
if (!!(LOC2)) goto LA3;
Limessage_43562((*N_141497).Info, ((NU8) 177), ((NimStringDesc*) &TMP194191));
LA3: ;
Result_141498 = Semprocaux_140662(C_141496, N_141497, ((NU8) 10), TMP194190);
return Result_141498;
}
N_NIMCALL(TY51525*, Semconverterdef_141499)(TY103012* C_141501, TY51525* N_141502) {
TY51525* Result_141503;
NIM_BOOL LOC2;
TY51547* S_141551;
TY51551* T_141552;
NI LOC12;
Result_141503 = 0;
LOC2 = Istoplevel_121053(C_141501);
if (!!(LOC2)) goto LA3;
Limessage_43562((*N_141502).Info, ((NU8) 177), ((NimStringDesc*) &TMP194192));
LA3: ;
Checksonslen_103099(N_141502, 5);
if (!!(((*N_141502).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA6;
Limessage_43562((*N_141502).Info, ((NU8) 152), ((NimStringDesc*) &TMP194192));
LA6: ;
Result_141503 = Semprocaux_140662(C_141501, N_141502, ((NU8) 12), TMP194190);
S_141551 = 0;
S_141551 = (*(*Result_141503).KindU.S6.Sons->data[0]).KindU.S4.Sym;
T_141552 = 0;
T_141552 = (*S_141551).Typ;
if (!((*T_141552).Sons->data[0] == NIM_NIL)) goto LA9;
Limessage_43562((*N_141502).Info, ((NU8) 175), ((NimStringDesc*) &TMP194192));
LA9: ;
LOC12 = Sonslen_51806(T_141552);
if (!!((LOC12 == 2))) goto LA13;
Limessage_43562((*N_141502).Info, ((NU8) 200), ((NimStringDesc*) &TMP194192));
LA13: ;
Addconverter_103058(C_141501, S_141551);
return Result_141503;
}
N_NIMCALL(TY51525*, Semmacrodef_141566)(TY103012* C_141568, TY51525* N_141569) {
TY51525* Result_141570;
TY51547* S_141618;
TY51551* T_141619;
NI LOC8;
Result_141570 = 0;
Checksonslen_103099(N_141569, 5);
if (!!(((*N_141569).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA2;
Limessage_43562((*N_141569).Info, ((NU8) 152), ((NimStringDesc*) &TMP194193));
LA2: ;
Result_141570 = Semprocaux_140662(C_141568, N_141569, ((NU8) 13), TMP194194);
S_141618 = 0;
S_141618 = (*(*Result_141570).KindU.S6.Sons->data[0]).KindU.S4.Sym;
T_141619 = 0;
T_141619 = (*S_141618).Typ;
if (!((*T_141619).Sons->data[0] == NIM_NIL)) goto LA5;
Limessage_43562((*N_141569).Info, ((NU8) 175), ((NimStringDesc*) &TMP194193));
LA5: ;
LOC8 = Sonslen_51806(T_141619);
if (!!((LOC8 == 2))) goto LA9;
Limessage_43562((*N_141569).Info, ((NU8) 200), ((NimStringDesc*) &TMP194193));
LA9: ;
if (!((*N_141569).KindU.S6.Sons->data[4] == NIM_NIL)) goto LA12;
Limessage_43562((*N_141569).Info, ((NU8) 135), (*(*S_141618).Name).S);
LA12: ;
return Result_141570;
}
N_NIMCALL(TY51525*, Resolvetemplateparams_121598)(TY103012* C_121600, TY51525* N_121601, NIM_BOOL Withinbind_121602, TY51900* Tobind_121604) {
TY51525* Result_121605;
TY51547* S_121606;
NIM_BOOL LOC5;
NIM_BOOL LOC7;
TY51547* LOC13;
NI I_121684;
NI HEX3Atmp_122082;
NI LOC14;
NI Res_122084;
Result_121605 = 0;
S_121606 = 0;
if (!(N_121601 == NIM_NIL)) goto LA2;
Result_121605 = NIM_NIL;
goto BeforeRet;
LA2: ;
switch ((*N_121601).Kind) {
case ((NU8) 2):
LOC5 = !(Withinbind_121602);
if (!(LOC5)) goto LA6;
LOC7 = Intsetcontains_51910(&(*Tobind_121604), (*(*N_121601).KindU.S5.Ident).Sup.Id);
LOC5 = !(LOC7);
LA6: ;
if (!LOC5) goto LA8;
S_121606 = Symtablocalget_55123((*C_121600).Tab, (*N_121601).KindU.S5.Ident);
if (!!((S_121606 == NIM_NIL))) goto LA11;
Result_121605 = Newsymnode_51734(S_121606);
(*Result_121605).Info = (*N_121601).Info;
goto LA10;
LA11: ;
Result_121605 = N_121601;
LA10: ;
goto LA4;
LA8: ;
Intsetincl_51914(Tobind_121604, (*(*N_121601).KindU.S5.Ident).Sup.Id);
LOC13 = 0;
LOC13 = Lookup_104049(C_121600, N_121601);
Result_121605 = Symchoice_121549(C_121600, N_121601, LOC13);
LA4: ;
break;
case ((NU8) 3) ... ((NU8) 18):
Result_121605 = N_121601;
break;
case ((NU8) 45):
Result_121605 = Resolvetemplateparams_121598(C_121600, (*N_121601).KindU.S6.Sons->data[0], NIM_TRUE, Tobind_121604);
break;
default:
Result_121605 = N_121601;
I_121684 = 0;
HEX3Atmp_122082 = 0;
LOC14 = Sonslen_51803(N_121601);
HEX3Atmp_122082 = (NI64)(LOC14 - 1);
Res_122084 = 0;
Res_122084 = 0;
while (1) {
if (!(Res_122084 <= HEX3Atmp_122082)) goto LA15;
I_121684 = Res_122084;
asgnRefNoCycle((void**) &(*Result_121605).KindU.S6.Sons->data[I_121684], Resolvetemplateparams_121598(C_121600, (*N_121601).KindU.S6.Sons->data[I_121684], Withinbind_121602, Tobind_121604));
Res_122084 += 1;
} LA15: ;
break;
}
BeforeRet: ;
return Result_121605;
}
N_NIMCALL(TY51525*, Transformtoexpr_121709)(TY51525* N_121711) {
TY51525* Result_121712;
NI Realstmt_121713;
NI I_121721;
NI HEX3Atmp_122088;
NI LOC1;
NI Res_122090;
Result_121712 = 0;
Realstmt_121713 = 0;
Result_121712 = N_121711;
switch ((*N_121711).Kind) {
case ((NU8) 101):
Realstmt_121713 = -1;
I_121721 = 0;
HEX3Atmp_122088 = 0;
LOC1 = Sonslen_51803(N_121711);
HEX3Atmp_122088 = (NI64)(LOC1 - 1);
Res_122090 = 0;
Res_122090 = 0;
while (1) {
if (!(Res_122090 <= HEX3Atmp_122088)) goto LA2;
I_121721 = Res_122090;
switch ((*(*N_121711).KindU.S6.Sons->data[I_121721]).Kind) {
case ((NU8) 105):
case ((NU8) 1):
case ((NU8) 18):
break;
default:
if (!(Realstmt_121713 == -1)) goto LA4;
Realstmt_121713 = I_121721;
goto LA3;
LA4: ;
Realstmt_121713 = -2;
LA3: ;
break;
}
Res_122090 += 1;
} LA2: ;
if (!(0 <= Realstmt_121713)) goto LA7;
Result_121712 = Transformtoexpr_121709((*N_121711).KindU.S6.Sons->data[Realstmt_121713]);
goto LA6;
LA7: ;
(*N_121711).Kind = ((NU8) 106);
LA6: ;
break;
case ((NU8) 99):
(*N_121711).Kind = ((NU8) 107);
break;
default:
break;
}
return Result_121712;
}
N_NIMCALL(TY51525*, Semtemplatedef_121750)(TY103012* C_121752, TY51525* N_121753) {
TY51525* Result_121754;
TY51547* S_121755;
TY51900 Tobind_121756;
TY51551* LOC16;
TY51525* LOC17;
Result_121754 = 0;
S_121755 = 0;
memset((void*)&Tobind_121756, 0, sizeof(Tobind_121756));
if (!((*(*(*C_121752).P).Owner).Kind == ((NU8) 18))) goto LA2;
S_121755 = Semidentvis_121092(C_121752, ((NU8) 14), (*N_121753).KindU.S6.Sons->data[0], 2);
(*S_121755).Flags |=(1<<((NI32)(((NU8) 5))%(sizeof(NI32)*8)));
goto LA1;
LA2: ;
S_121755 = Semidentvis_121092(C_121752, ((NU8) 14), (*N_121753).KindU.S6.Sons->data[0], 0);
LA1: ;
if (!(((*S_121755).Flags &(1<<((((NU8) 1))&31)))!=0)) goto LA5;
(*S_121755).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
LA5: ;
Pushowner_103109(S_121755);
Openscope_55149(&(*C_121752).Tab);
asgnRefNoCycle((void**) &(*N_121753).KindU.S6.Sons->data[0], Newsymnode_51734(S_121755));
if (!!(((*N_121753).KindU.S6.Sons->data[3] == NIM_NIL))) goto LA8;
Limessage_43562((*N_121753).Info, ((NU8) 151), ((NimStringDesc*) &TMP194195));
LA8: ;
if (!!(((*N_121753).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA11;
Limessage_43562((*N_121753).Info, ((NU8) 152), ((NimStringDesc*) &TMP194195));
LA11: ;
if (!((*N_121753).KindU.S6.Sons->data[2] == NIM_NIL)) goto LA14;
asgnRef((void**) &(*S_121755).Typ, Newtypes_103077(((NU8) 25), C_121752));
asgnRefNoCycle((void**) &(*(*S_121755).Typ).N, Newnodei_51737(((NU8) 66), (*N_121753).Info));
LOC16 = 0;
LOC16 = Newtypes_103077(((NU8) 7), C_121752);
Addson_51827((*S_121755).Typ, LOC16);
LOC17 = 0;
LOC17 = Newnodeit_51741(((NU8) 4), (*N_121753).Info, (*(*S_121755).Typ).Sons->data[0]);
Addson_51823((*(*S_121755).Typ).N, LOC17);
goto LA13;
LA14: ;
Semparamlist_121147(C_121752, (*N_121753).KindU.S6.Sons->data[2], NIM_NIL, S_121755);
if (!((*(*N_121753).KindU.S6.Sons->data[2]).KindU.S6.Sons->data[0] == NIM_NIL)) goto LA19;
asgnRef((void**) &(*(*S_121755).Typ).Sons->data[0], Newtypes_103077(((NU8) 7), C_121752));
asgnRefNoCycle((void**) &(*(*(*S_121755).Typ).N).KindU.S6.Sons->data[0], Newnodeit_51741(((NU8) 4), (*N_121753).Info, (*(*S_121755).Typ).Sons->data[0]));
LA19: ;
LA13: ;
Addparams_121153(C_121752, (*(*S_121755).Typ).N);
Intsetinit_51924(&Tobind_121756);
asgnRefNoCycle((void**) &(*N_121753).KindU.S6.Sons->data[4], Resolvetemplateparams_121598(C_121752, (*N_121753).KindU.S6.Sons->data[4], NIM_FALSE, &Tobind_121756));
if (!!(((384 &(IL64(1)<<(((*(*(*S_121755).Typ).Sons->data[0]).Kind)&IL64(63))))!=0))) goto LA22;
asgnRefNoCycle((void**) &(*N_121753).KindU.S6.Sons->data[4], Transformtoexpr_121709((*N_121753).KindU.S6.Sons->data[4]));
LA22: ;
Closescope_104017(&(*C_121752).Tab);
Popowner_103112();
asgnRefNoCycle((void**) &(*S_121755).Ast, N_121753);
Result_121754 = N_121753;
if (!((*N_121753).KindU.S6.Sons->data[4] == NIM_NIL)) goto LA25;
Limessage_43562((*N_121753).Info, ((NU8) 135), (*(*S_121755).Name).S);
LA25: ;
Addinterfacedecl_104040(C_121752, S_121755);
return Result_121754;
}
N_NIMCALL(TY51525*, Evalinclude_141656)(TY103012* C_141658, TY51525* N_141659) {
TY51525* Result_141660;
NI I_141668;
NI HEX3Atmp_142387;
NI LOC1;
NI Res_142389;
NimStringDesc* F_141681;
NI Fileindex_141682;
NIM_BOOL LOC4;
TY51525* LOC7;
TY51525* LOC8;
Result_141660 = 0;
Result_141660 = Newnodei_51737(((NU8) 101), (*N_141659).Info);
Addson_51823(Result_141660, N_141659);
I_141668 = 0;
HEX3Atmp_142387 = 0;
LOC1 = Sonslen_51803(N_141659);
HEX3Atmp_142387 = (NI64)(LOC1 - 1);
Res_142389 = 0;
Res_142389 = 0;
while (1) {
if (!(Res_142389 <= HEX3Atmp_142387)) goto LA2;
I_141668 = Res_142389;
F_141681 = 0;
F_141681 = Getmodulefile_106013((*N_141659).KindU.S6.Sons->data[I_141668]);
Fileindex_141682 = 0;
Fileindex_141682 = Includefilename_43611(F_141681);
LOC4 = Intsetcontainsorincl_51928(&(*C_141658).Includedfiles, Fileindex_141682);
if (!LOC4) goto LA5;
Limessage_43562((*N_141659).Info, ((NU8) 23), F_141681);
LA5: ;
LOC7 = 0;
LOC7 = Gincludefile_101051(F_141681);
LOC8 = 0;
LOC8 = Semstmt_121143(C_141658, LOC7);
Addson_51823(Result_141660, LOC8);
Intsetexcl_51919(&(*C_141658).Includedfiles, Fileindex_141682);
Res_142389 += 1;
} LA2: ;
return Result_141660;
}
N_NIMCALL(TY51525*, Semstmt_121143)(TY103012* C_121145, TY51525* N_121146) {
TY51525* Result_141694;
NI Length_141719;
NI I_141727;
NI HEX3Atmp_142400;
NI Res_142402;
NI J_141782;
NI HEX3Atmp_142393;
NI HEX3Atmp_142394;
NI Res_142396;
NIM_BOOL LOC13;
NIM_BOOL LOC17;
NIM_BOOL LOC21;
Result_141694 = 0;
Result_141694 = N_121146;
if (!(N_121146 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
if (!(((*N_121146).Flags &(1<<((((NU8) 6))&7)))!=0)) goto LA5;
goto BeforeRet;
LA5: ;
switch ((*N_121146).Kind) {
case ((NU8) 63):
Result_141694 = Semasgn_137665(C_121145, N_121146);
break;
case ((NU8) 21):
case ((NU8) 27):
case ((NU8) 28):
case ((NU8) 29):
case ((NU8) 20):
case ((NU8) 79):
case ((NU8) 22):
Result_141694 = Semcommand_141685(C_121145, N_121146);
break;
case ((NU8) 1):
case ((NU8) 105):
case ((NU8) 18):
break;
case ((NU8) 99):
Result_141694 = Semblock_137153(C_121145, N_121146);
break;
case ((NU8) 101):
Length_141719 = 0;
Length_141719 = Sonslen_51803(N_121146);
I_141727 = 0;
HEX3Atmp_142400 = 0;
HEX3Atmp_142400 = (NI64)(Length_141719 - 1);
Res_142402 = 0;
Res_142402 = 0;
while (1) {
if (!(Res_142402 <= HEX3Atmp_142400)) goto LA7;
I_141727 = Res_142402;
asgnRefNoCycle((void**) &(*N_121146).KindU.S6.Sons->data[I_141727], Semstmt_121143(C_121145, (*N_121146).KindU.S6.Sons->data[I_141727]));
if (!((*(*N_121146).KindU.S6.Sons->data[I_141727]).Kind == ((NU8) 95) || (*(*N_121146).KindU.S6.Sons->data[I_141727]).Kind == ((NU8) 96) || (*(*N_121146).KindU.S6.Sons->data[I_141727]).Kind == ((NU8) 97) || (*(*N_121146).KindU.S6.Sons->data[I_141727]).Kind == ((NU8) 98))) goto LA9;
J_141782 = 0;
HEX3Atmp_142393 = 0;
HEX3Atmp_142394 = 0;
HEX3Atmp_142393 = (NI64)(I_141727 + 1);
HEX3Atmp_142394 = (NI64)(Length_141719 - 1);
Res_142396 = 0;
Res_142396 = HEX3Atmp_142393;
while (1) {
if (!(Res_142396 <= HEX3Atmp_142394)) goto LA11;
J_141782 = Res_142396;
switch ((*(*N_121146).KindU.S6.Sons->data[J_141782]).Kind) {
case ((NU8) 81):
case ((NU8) 105):
case ((NU8) 18):
case ((NU8) 1):
break;
default:
Limessage_43562((*(*N_121146).KindU.S6.Sons->data[J_141782]).Info, ((NU8) 38), ((NimStringDesc*) &TMP193939));
break;
}
Res_142396 += 1;
} LA11: ;
LA9: ;
Res_142402 += 1;
} LA7: ;
break;
case ((NU8) 95):
Result_141694 = Semraise_139191(C_121145, N_121146);
break;
case ((NU8) 87):
Result_141694 = Semvar_138296(C_121145, N_121146);
break;
case ((NU8) 88):
Result_141694 = Semconst_138594(C_121145, N_121146);
break;
case ((NU8) 90):
Result_141694 = Semtypesection_139694(C_121145, N_121146);
break;
case ((NU8) 82):
Result_141694 = Semif_136858(C_121145, N_121146);
break;
case ((NU8) 83):
Result_141694 = Semwhen_136728(C_121145, N_121146);
break;
case ((NU8) 100):
Result_141694 = Semdiscard_136983(C_121145, N_121146);
break;
case ((NU8) 85):
Result_141694 = Semwhile_137346(C_121145, N_121146);
break;
case ((NU8) 93):
Result_141694 = Semtry_139274(C_121145, N_121146);
break;
case ((NU8) 97):
case ((NU8) 98):
Result_141694 = Sembreakorcontinue_137035(C_121145, N_121146);
break;
case ((NU8) 84):
Result_141694 = Semfor_138784(C_121145, N_121146);
break;
case ((NU8) 86):
Result_141694 = Semcase_137451(C_121145, N_121146);
break;
case ((NU8) 96):
Result_141694 = Semreturn_137907(C_121145, N_121146);
break;
case ((NU8) 80):
Result_141694 = Semasm_137256(C_121145, N_121146);
break;
case ((NU8) 92):
Result_141694 = Semyield_138123(C_121145, N_121146);
break;
case ((NU8) 81):
Pragma_118028(C_121145, (*(*C_121145).P).Owner, N_121146, TMP194183);
break;
case ((NU8) 74):
Result_141694 = Semiterator_141424(C_121145, N_121146);
break;
case ((NU8) 69):
Result_141694 = Semproc_141489(C_121145, N_121146);
break;
case ((NU8) 70):
Result_141694 = Semmethod_141494(C_121145, N_121146);
break;
case ((NU8) 71):
Result_141694 = Semconverterdef_141499(C_121145, N_121146);
break;
case ((NU8) 72):
Result_141694 = Semmacrodef_141566(C_121145, N_121146);
break;
case ((NU8) 73):
Result_141694 = Semtemplatedef_121750(C_121145, N_121146);
break;
case ((NU8) 102):
LOC13 = Istoplevel_121053(C_121145);
if (!!(LOC13)) goto LA14;
Limessage_43562((*N_121146).Info, ((NU8) 177), ((NimStringDesc*) &TMP194196));
LA14: ;
Result_141694 = Evalimport_106001(C_121145, N_121146);
break;
case ((NU8) 103):
LOC17 = Istoplevel_121053(C_121145);
if (!!(LOC17)) goto LA18;
Limessage_43562((*N_121146).Info, ((NU8) 177), ((NimStringDesc*) &TMP194202));
LA18: ;
Result_141694 = Evalfrom_106005(C_121145, N_121146);
break;
case ((NU8) 104):
LOC21 = Istoplevel_121053(C_121145);
if (!!(LOC21)) goto LA22;
Limessage_43562((*N_121146).Info, ((NU8) 177), ((NimStringDesc*) &TMP194206));
LA22: ;
Result_141694 = Evalinclude_141656(C_121145, N_121146);
break;
default:
Limessage_43562((*N_121146).Info, ((NU8) 39), ((NimStringDesc*) &TMP193939));
break;
}
if (!(Result_141694 == NIM_NIL)) goto LA25;
Internalerror_43567((*N_121146).Info, ((NimStringDesc*) &TMP194207));
LA25: ;
(*Result_141694).Flags |=(1<<((NI8)(((NU8) 6))%(sizeof(NI8)*8)));
BeforeRet: ;
return Result_141694;
}
N_NIMCALL(TY51525*, Semaftermacrocall_121246)(TY103012* C_121248, TY51525* N_121249, TY51547* S_121250) {
TY51525* Result_121251;
NimStringDesc* LOC1;
Result_121251 = 0;
Result_121251 = N_121249;
switch ((*(*(*S_121250).Typ).Sons->data[0]).Kind) {
case ((NU8) 6):
Result_121251 = Semexpr_121115(C_121248, Result_121251, 0);
break;
case ((NU8) 7):
Result_121251 = Semstmt_121143(C_121248, Result_121251);
break;
case ((NU8) 8):
asgnRef((void**) &(*Result_121251).Typ, Semtypenode_121138(C_121248, Result_121251, NIM_NIL));
break;
default:
LOC1 = 0;
LOC1 = Typetostring_93014((*(*S_121250).Typ).Sons->data[0], ((NU8) 0));
Limessage_43562((*S_121250).Info, ((NU8) 153), LOC1);
break;
}
return Result_121251;
}
N_NIMCALL(TY51525*, Semmacroexpr_122093)(TY103012* C_122095, TY51525* N_122096, TY51547* Sym_122097, NIM_BOOL Semcheck_122098) {
TY51525* Result_122099;
TY111006* P_122114;
TY111004* S_122115;
TY51525* LOC4;
NIM_BOOL LOC6;
Result_122099 = 0;
Evaltemplatecounter_121423 += 1;
if (!(100 < Evaltemplatecounter_121423)) goto LA2;
Limessage_43562((*N_122096).Info, ((NU8) 178), ((NimStringDesc*) &TMP193939));
LA2: ;
Markused_121065(N_122096, Sym_122097);
P_122114 = 0;
P_122114 = Newevalcontext_111033((*C_122095).Module, ((NimStringDesc*) &TMP193939), NIM_FALSE);
S_122115 = 0;
S_122115 = Newstackframe_111024();
asgnRefNoCycle((void**) &(*S_122115).Call, N_122096);
(*S_122115).Params = (TY51519*) setLengthSeq(&((*S_122115).Params)->Sup, sizeof(TY51525*), 2);
asgnRefNoCycle((void**) &(*S_122115).Params->data[0], Newnodeit_51741(((NU8) 18), (*N_122096).Info, (*(*Sym_122097).Typ).Sons->data[0]));
asgnRefNoCycle((void**) &(*S_122115).Params->data[1], N_122096);
Pushstackframe_111026(P_122114, S_122115);
LOC4 = 0;
LOC4 = Eval_111038(P_122114, (*(*Sym_122097).Ast).KindU.S6.Sons->data[4]);
Result_122099 = (*S_122115).Params->data[0];
Popstackframe_111030(P_122114);
LOC6 = Cyclictree_92043(Result_122099);
if (!LOC6) goto LA7;
Limessage_43562((*N_122096).Info, ((NU8) 202), ((NimStringDesc*) &TMP193939));
LA7: ;
if (!Semcheck_122098) goto LA10;
Result_122099 = Semaftermacrocall_121246(C_122095, Result_122099, Sym_122097);
LA10: ;
Evaltemplatecounter_121423 -= 1;
return Result_122099;
}
N_NIMCALL(TY51525*, Semsym_129074)(TY103012* C_129076, TY51525* N_129077, TY51547* S_129078, NU8 Flags_129079) {
TY51525* Result_129080;
NIM_BOOL LOC2;
NIM_BOOL LOC7;
NIM_BOOL LOC8;
TY51547* LOC11;
Result_129080 = 0;
LOC2 = ((*S_129078).Kind == ((NU8) 6));
if (!(LOC2)) goto LA3;
LOC2 = !(((Flags_129079 &(1<<((((NU8) 0))&7)))!=0));
LA3: ;
if (!LOC2) goto LA4;
Limessage_43562((*N_129077).Info, ((NU8) 161), ((NimStringDesc*) &TMP193939));
LA4: ;
switch ((*S_129078).Kind) {
case ((NU8) 9):
case ((NU8) 10):
case ((NU8) 11):
case ((NU8) 12):
LOC8 = !((((*S_129078).Flags &(1<<((((NU8) 20))&31)))!=0));
if (!(LOC8)) goto LA9;
LOC8 = ((*(*S_129078).Typ).Callconv == ((NU8) 0));
LA9: ;
LOC7 = LOC8;
if (!(LOC7)) goto LA10;
LOC11 = 0;
LOC11 = Getmodule_55206(S_129078);
LOC7 = !(((*LOC11).Sup.Id == (*(*C_129076).Module).Sup.Id));
LA10: ;
if (!LOC7) goto LA12;
Limessage_43562((*N_129077).Info, ((NU8) 131), (*(*S_129078).Name).S);
LA12: ;
Result_129080 = Symchoice_121549(C_129076, N_129077, S_129078);
break;
case ((NU8) 7):
Markused_121065(N_129077, S_129078);
if (!((IL64(1097364930612) &(IL64(1)<<(((*(*S_129078).Typ).Kind)&IL64(63))))!=0)) goto LA15;
Result_129080 = Copytree_51858((*S_129078).Ast);
asgnRef((void**) &(*Result_129080).Typ, (*S_129078).Typ);
goto LA14;
LA15: ;
Result_129080 = Newsymnode_51734(S_129078);
LA14: ;
(*Result_129080).Info = (*N_129077).Info;
break;
case ((NU8) 13):
Result_129080 = Semmacroexpr_122093(C_129076, N_129077, S_129078, NIM_TRUE);
break;
case ((NU8) 14):
Result_129080 = Semtemplateexpr_129019(C_129076, N_129077, S_129078, NIM_TRUE);
break;
case ((NU8) 8):
Markused_121065(N_129077, S_129078);
if (!(((*S_129078).Flags &(1<<((((NU8) 5))&31)))!=0)) goto LA18;
(*(*(*C_129076).P).Owner).Flags |=(1<<((NI32)(((NU8) 14))%(sizeof(NI32)*8)));
LA18: ;
Result_129080 = Newsymnode_51734(S_129078);
(*Result_129080).Info = (*N_129077).Info;
break;
case ((NU8) 4):
if (!((*S_129078).Ast == NIM_NIL)) goto LA21;
Internalerror_43567((*N_129077).Info, ((NimStringDesc*) &TMP194208));
LA21: ;
Result_129080 = Semexpr_121115(C_129076, (*S_129078).Ast, 0);
break;
default:
Markused_121065(N_129077, S_129078);
Result_129080 = Newsymnode_51734(S_129078);
(*Result_129080).Info = (*N_129077).Info;
break;
}
return Result_129080;
}
N_NIMCALL(TY51525*, Semfieldaccess_129026)(TY103012* C_129028, TY51525* N_129029, NU8 Flags_129032) {
TY51525* Result_132587;
TY50011* I_132611;
TY51547* F_132612;
TY51525* LOC7;
TY51525* LOC8;
TY51525* LOC9;
Result_132587 = 0;
Result_132587 = Builtinfieldaccess_132226(C_129028, N_129029, Flags_129032);
if (!(Result_132587 == NIM_NIL)) goto LA2;
I_132611 = 0;
I_132611 = Consideracc_121003((*N_129029).KindU.S6.Sons->data[1]);
F_132612 = 0;
F_132612 = Symtabget_55119((*C_129028).Tab, I_132611);
if (!!((F_132612 == NIM_NIL))) goto LA5;
Result_132587 = Newnodei_51737(((NU8) 19), (*N_129029).Info);
LOC7 = 0;
LOC7 = Newidentnode_51730(I_132611, (*N_129029).Info);
Addson_51823(Result_132587, LOC7);
LOC8 = 0;
LOC8 = HEX5BHEX5D_53074(N_129029, 0);
LOC9 = 0;
LOC9 = Copytree_51858(LOC8);
Addson_51823(Result_132587, LOC9);
goto LA4;
LA5: ;
Limessage_43562((*N_129029).Info, ((NU8) 77), (*I_132611).S);
LA4: ;
LA2: ;
return Result_132587;
}
N_NIMCALL(void, Checkconversionbetweenobjects_129168)(TY43532 Info_129170, TY51551* Castdest_129171, TY51551* Src_129172) {
NI Diff_129173;
NimStringDesc* LOC4;
TY111148 LOC5;
NimStringDesc* LOC6;
Diff_129173 = 0;
Diff_129173 = Inheritancediff_93119(Castdest_129171, Src_129172);
if (!(Diff_129173 == IL64(9223372036854775807))) goto LA2;
LOC4 = 0;
LOC4 = Msgkindtostring_43588(((NU8) 139));
memset((void*)&LOC5, 0, sizeof(LOC5));
LOC5[0] = Typetostring_93014(Src_129172, ((NU8) 0));
LOC5[1] = Typetostring_93014(Castdest_129171, ((NU8) 0));
LOC6 = 0;
LOC6 = nsuFormatOpenArray(LOC4, LOC5, 2);
Limessage_43562(Info_129170, ((NU8) 4), LOC6);
LA2: ;
}
N_NIMCALL(void, Checkconvertible_129180)(TY43532 Info_129182, TY51551* Castdest_129183, TY51551* Src_129184) {
NIM_BOOL LOC2;
NimStringDesc* LOC8;
TY51551* D_129199;
TY51551* S_129200;
NIM_BOOL LOC10;
NIM_BOOL LOC11;
NimStringDesc* LOC17;
TY111148 LOC18;
NimStringDesc* LOC19;
NIM_BOOL LOC21;
NIM_BOOL LOC25;
TY51551* LOC26;
TY51551* LOC28;
NU8 LOC31;
NIM_BOOL LOC33;
NIM_BOOL LOC34;
NIM_BOOL LOC36;
NimStringDesc* LOC39;
TY111148 LOC40;
NimStringDesc* LOC41;
LOC2 = Sametype_93048(Castdest_129183, Src_129184);
if (!LOC2) goto LA3;
if (!!(((IL64(1097364144160) &(IL64(1)<<(((*Castdest_129183).Kind)&IL64(63))))!=0))) goto LA6;
LOC8 = 0;
LOC8 = Typetostring_93014(Castdest_129183, ((NU8) 0));
Limessage_43562(Info_129182, ((NU8) 227), LOC8);
LA6: ;
goto BeforeRet;
LA3: ;
D_129199 = 0;
D_129199 = Skiptypes_93085(Castdest_129183, 8431616);
S_129200 = 0;
S_129200 = Skiptypes_93085(Src_129184, 8431616);
while (1) {
LOC11 = !((D_129199 == NIM_NIL));
if (!(LOC11)) goto LA12;
LOC11 = ((6291456 &(IL64(1)<<(((*D_129199).Kind)&IL64(63))))!=0);
LA12: ;
LOC10 = LOC11;
if (!(LOC10)) goto LA13;
LOC10 = ((*D_129199).Kind == (*S_129200).Kind);
LA13: ;
if (!LOC10) goto LA9;
D_129199 = Base_93021(D_129199);
S_129200 = Base_93021(S_129200);
} LA9: ;
if (!(D_129199 == NIM_NIL)) goto LA15;
LOC17 = 0;
LOC17 = Msgkindtostring_43588(((NU8) 139));
memset((void*)&LOC18, 0, sizeof(LOC18));
LOC18[0] = Typetostring_93014(Src_129184, ((NU8) 0));
LOC18[1] = Typetostring_93014(Castdest_129183, ((NU8) 0));
LOC19 = 0;
LOC19 = nsuFormatOpenArray(LOC17, LOC18, 2);
Limessage_43562(Info_129182, ((NU8) 4), LOC19);
LA15: ;
LOC21 = ((*D_129199).Kind == ((NU8) 17));
if (!(LOC21)) goto LA22;
LOC21 = ((*S_129200).Kind == ((NU8) 17));
LA22: ;
if (!LOC21) goto LA23;
Checkconversionbetweenobjects_129168(Info_129182, D_129199, S_129200);
goto LA20;
LA23: ;
LOC26 = 0;
LOC26 = Skiptypes_93085(Castdest_129183, 9480192);
LOC25 = ((IL64(1097364160518) &(IL64(1)<<(((*LOC26).Kind)&IL64(63))))!=0);
if (!(LOC25)) goto LA27;
LOC28 = 0;
LOC28 = Skiptypes_93085(Src_129184, 9480192);
LOC25 = ((IL64(1097364160518) &(IL64(1)<<(((*LOC28).Kind)&IL64(63))))!=0);
LA27: ;
if (!LOC25) goto LA29;
goto LA20;
LA29: ;
LOC31 = Cmptypes_124467(D_129199, S_129200);
switch (LOC31) {
case ((NU8) 0):
case ((NU8) 4):
LOC34 = Equalordistinctof_93056(Castdest_129183, Src_129184);
LOC33 = !(LOC34);
if (!(LOC33)) goto LA35;
LOC36 = Equalordistinctof_93056(Src_129184, Castdest_129183);
LOC33 = !(LOC36);
LA35: ;
if (!LOC33) goto LA37;
LOC39 = 0;
LOC39 = Msgkindtostring_43588(((NU8) 139));
memset((void*)&LOC40, 0, sizeof(LOC40));
LOC40[0] = Typetostring_93014(Src_129184, ((NU8) 0));
LOC40[1] = Typetostring_93014(Castdest_129183, ((NU8) 0));
LOC41 = 0;
LOC41 = nsuFormatOpenArray(LOC39, LOC40, 2);
Limessage_43562(Info_129182, ((NU8) 4), LOC41);
LA37: ;
break;
default:
break;
}
LA20: ;
BeforeRet: ;
}
N_NIMCALL(TY51525*, Semconv_129329)(TY103012* C_129331, TY51525* N_129332, TY51547* S_129333) {
TY51525* Result_129334;
NI LOC2;
TY51525* LOC5;
TY51525* LOC6;
TY51525* Op_129385;
NI I_129402;
NI HEX3Atmp_141965;
NI LOC10;
NI Res_141967;
NIM_BOOL LOC13;
Result_129334 = 0;
LOC2 = Sonslen_51803(N_129332);
if (!!((LOC2 == 2))) goto LA3;
Limessage_43562((*N_129332).Info, ((NU8) 157), ((NimStringDesc*) &TMP193939));
LA3: ;
Result_129334 = Newnodei_51737(((NU8) 50), (*N_129332).Info);
asgnRef((void**) &(*Result_129334).Typ, Semtypenode_121138(C_129331, (*N_129332).KindU.S6.Sons->data[0], NIM_NIL));
LOC5 = 0;
LOC5 = Copytree_51858((*N_129332).KindU.S6.Sons->data[0]);
Addson_51823(Result_129334, LOC5);
LOC6 = 0;
LOC6 = Semexprwithtype_121122(C_129331, (*N_129332).KindU.S6.Sons->data[1], 0);
Addson_51823(Result_129334, LOC6);
Op_129385 = 0;
Op_129385 = (*Result_129334).KindU.S6.Sons->data[1];
if (!!(((*Op_129385).Kind == ((NU8) 46)))) goto LA8;
Checkconvertible_129180((*Result_129334).Info, (*Result_129334).Typ, (*Op_129385).Typ);
goto LA7;
LA8: ;
I_129402 = 0;
HEX3Atmp_141965 = 0;
LOC10 = Sonslen_51803(Op_129385);
HEX3Atmp_141965 = (NI64)(LOC10 - 1);
Res_141967 = 0;
Res_141967 = 0;
while (1) {
if (!(Res_141967 <= HEX3Atmp_141965)) goto LA11;
I_129402 = Res_141967;
LOC13 = Sametype_93048((*Result_129334).Typ, (*(*Op_129385).KindU.S6.Sons->data[I_129402]).Typ);
if (!LOC13) goto LA14;
Markused_121065(N_129332, (*(*Op_129385).KindU.S6.Sons->data[I_129402]).KindU.S4.Sym);
Result_129334 = (*Op_129385).KindU.S6.Sons->data[I_129402];
goto BeforeRet;
LA14: ;
Res_141967 += 1;
} LA11: ;
Limessage_43562((*N_129332).Info, ((NU8) 59), (*(*(*(*Op_129385).KindU.S6.Sons->data[0]).KindU.S4.Sym).Name).S);
LA7: ;
BeforeRet: ;
return Result_129334;
}
N_NIMCALL(void, Semopaux_129783)(TY103012* C_129785, TY51525* N_129786) {
NI I_129794;
NI HEX3Atmp_141972;
NI LOC1;
NI Res_141974;
TY51525* A_129807;
TY43532 Info_129829;
TY50011* LOC6;
I_129794 = 0;
HEX3Atmp_141972 = 0;
LOC1 = Sonslen_51803(N_129786);
HEX3Atmp_141972 = (NI64)(LOC1 - 1);
Res_141974 = 0;
Res_141974 = 1;
while (1) {
if (!(Res_141974 <= HEX3Atmp_141972)) goto LA2;
I_129794 = Res_141974;
A_129807 = 0;
A_129807 = (*N_129786).KindU.S6.Sons->data[I_129794];
if (!((*A_129807).Kind == ((NU8) 23))) goto LA4;
Checksonslen_103099(A_129807, 2);
memset((void*)&Info_129829, 0, sizeof(Info_129829));
Info_129829 = (*(*A_129807).KindU.S6.Sons->data[0]).Info;
LOC6 = 0;
LOC6 = Consideracc_121003((*A_129807).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*A_129807).KindU.S6.Sons->data[0], Newidentnode_51730(LOC6, Info_129829));
asgnRefNoCycle((void**) &(*A_129807).KindU.S6.Sons->data[1], Semexprwithtype_121122(C_129785, (*A_129807).KindU.S6.Sons->data[1], 0));
asgnRef((void**) &(*A_129807).Typ, (*(*A_129807).KindU.S6.Sons->data[1]).Typ);
goto LA3;
LA4: ;
asgnRefNoCycle((void**) &(*N_129786).KindU.S6.Sons->data[I_129794], Semexprwithtype_121122(C_129785, A_129807, 0));
LA3: ;
Res_141974 += 1;
} LA2: ;
}
N_NIMCALL(TY51525*, Overloadedcallopr_129902)(TY103012* C_129904, TY51525* N_129905) {
TY51525* Result_129906;
TY50011* Par_129907;
TY51547* LOC2;
TY51525* LOC5;
NI I_129926;
NI HEX3Atmp_141978;
NI LOC6;
NI Res_141980;
Result_129906 = 0;
Par_129907 = 0;
Par_129907 = Getident_50016(((NimStringDesc*) &TMP194209));
LOC2 = 0;
LOC2 = Symtabget_55119((*C_129904).Tab, Par_129907);
if (!(LOC2 == NIM_NIL)) goto LA3;
Result_129906 = NIM_NIL;
goto LA1;
LA3: ;
Result_129906 = Newnodei_51737(((NU8) 21), (*N_129905).Info);
LOC5 = 0;
LOC5 = Newidentnode_51730(Par_129907, (*N_129905).Info);
Addson_51823(Result_129906, LOC5);
I_129926 = 0;
HEX3Atmp_141978 = 0;
LOC6 = Sonslen_51803(N_129905);
HEX3Atmp_141978 = (NI64)(LOC6 - 1);
Res_141980 = 0;
Res_141980 = 0;
while (1) {
if (!(Res_141980 <= HEX3Atmp_141978)) goto LA7;
I_129926 = Res_141980;
Addson_51823(Result_129906, (*N_129905).KindU.S6.Sons->data[I_129926]);
Res_141980 += 1;
} LA7: ;
Result_129906 = Semexpr_121115(C_129904, Result_129906, 0);
LA1: ;
return Result_129906;
}
N_NIMCALL(NimStringDesc*, Getnotfounderror_123247)(TY103012* C_123249, TY51525* N_123250) {
NimStringDesc* Result_123251;
NI I_123259;
NI HEX3Atmp_125853;
NI LOC1;
NI Res_125855;
NimStringDesc* LOC3;
NI LOC5;
NimStringDesc* Candidates_123274;
TY104004 O_123275;
TY51547* Sym_123289;
NimStringDesc* LOC12;
NimStringDesc* LOC16;
NimStringDesc* LOC17;
Result_123251 = 0;
Result_123251 = Msgkindtostring_43588(((NU8) 126));
I_123259 = 0;
HEX3Atmp_125853 = 0;
LOC1 = Sonslen_51803(N_123250);
HEX3Atmp_125853 = (NI64)(LOC1 - 1);
Res_125855 = 0;
Res_125855 = 1;
while (1) {
if (!(Res_125855 <= HEX3Atmp_125853)) goto LA2;
I_123259 = Res_125855;
LOC3 = 0;
LOC3 = Typetostring_93014((*(*N_123250).KindU.S6.Sons->data[I_123259]).Typ, ((NU8) 0));
Result_123251 = resizeString(Result_123251, LOC3->Sup.len + 0);
appendString(Result_123251, LOC3);
LOC5 = Sonslen_51803(N_123250);
if (!!((I_123259 == (NI64)(LOC5 - 1)))) goto LA6;
Result_123251 = resizeString(Result_123251, 2);
appendString(Result_123251, ((NimStringDesc*) &TMP194210));
LA6: ;
Res_125855 += 1;
} LA2: ;
Result_123251 = addChar(Result_123251, 41);
Candidates_123274 = 0;
Candidates_123274 = copyString(((NimStringDesc*) &TMP193939));
memset((void*)&O_123275, 0, sizeof(O_123275));
Sym_123289 = 0;
Sym_123289 = Initoverloaditer_104058(&O_123275, C_123249, (*N_123250).KindU.S6.Sons->data[0]);
while (1) {
if (!!((Sym_123289 == NIM_NIL))) goto LA8;
if (!((7680 &(1<<(((*Sym_123289).Kind)&31)))!=0)) goto LA10;
LOC12 = 0;
LOC12 = Getprocheader_93018(Sym_123289);
Candidates_123274 = resizeString(Candidates_123274, LOC12->Sup.len + 0);
appendString(Candidates_123274, LOC12);
Candidates_123274 = resizeString(Candidates_123274, 2);
appendString(Candidates_123274, ((NimStringDesc*) &TMP194211));
LA10: ;
Sym_123289 = Nextoverloaditer_104064(&O_123275, C_123249, (*N_123250).KindU.S6.Sons->data[0]);
} LA8: ;
if (!!(((Candidates_123274) && (Candidates_123274)->Sup.len == 0))) goto LA14;
LOC16 = 0;
LOC17 = 0;
LOC17 = Msgkindtostring_43588(((NU8) 127));
LOC16 = rawNewString(LOC17->Sup.len + Candidates_123274->Sup.len + 4);
appendString(LOC16, ((NimStringDesc*) &TMP194211));
appendString(LOC16, LOC17);
appendString(LOC16, ((NimStringDesc*) &TMP194211));
appendString(LOC16, Candidates_123274);
Result_123251 = resizeString(Result_123251, LOC16->Sup.len + 0);
appendString(Result_123251, LOC16);
LA14: ;
return Result_123251;
}
N_NIMCALL(TY51525*, Semdirectop_131587)(TY103012* C_131589, TY51525* N_131590, NU8 Flags_131591) {
TY51525* Result_131592;
NimStringDesc* LOC7;
Result_131592 = 0;
Semopaux_129783(C_131589, N_131590);
Result_131592 = Semdirectcallanalyseeffects_131104(C_131589, N_131590, Flags_131591);
if (!(Result_131592 == NIM_NIL)) goto LA2;
Result_131592 = Overloadedcallopr_129902(C_131589, N_131590);
if (!(Result_131592 == NIM_NIL)) goto LA5;
LOC7 = 0;
LOC7 = Getnotfounderror_123247(C_131589, N_131590);
Limessage_43562((*N_131590).Info, ((NU8) 4), LOC7);
LA5: ;
LA2: ;
Fixabstracttype_130230(C_131589, Result_131592);
Analyseifaddresstakenincall_130934(C_131589, Result_131592);
return Result_131592;
}
N_NIMCALL(TY51547*, Lookupfordefined_131654)(TY103012* C_131656, TY51525* N_131657, NIM_BOOL Onlycurrentscope_131658) {
TY51547* Result_131659;
TY51547* M_131696;
NIM_BOOL LOC8;
TY50011* Ident_131762;
NimStringDesc* LOC18;
Result_131659 = 0;
switch ((*N_131657).Kind) {
case ((NU8) 2):
if (!Onlycurrentscope_131658) goto LA2;
Result_131659 = Symtablocalget_55123((*C_131656).Tab, (*N_131657).KindU.S5.Ident);
goto LA1;
LA2: ;
Result_131659 = Symtabget_55119((*C_131656).Tab, (*N_131657).KindU.S5.Ident);
LA1: ;
break;
case ((NU8) 36):
Result_131659 = NIM_NIL;
if (!Onlycurrentscope_131658) goto LA5;
goto BeforeRet;
LA5: ;
Checksonslen_103099(N_131657, 2);
M_131696 = 0;
M_131696 = Lookupfordefined_131654(C_131656, (*N_131657).KindU.S6.Sons->data[0], Onlycurrentscope_131658);
LOC8 = !((M_131696 == NIM_NIL));
if (!(LOC8)) goto LA9;
LOC8 = ((*M_131696).Kind == ((NU8) 18));
LA9: ;
if (!LOC8) goto LA10;
if (!((*(*N_131657).KindU.S6.Sons->data[1]).Kind == ((NU8) 2))) goto LA13;
Ident_131762 = 0;
Ident_131762 = (*(*N_131657).KindU.S6.Sons->data[1]).KindU.S5.Ident;
if (!(M_131696 == (*C_131656).Module)) goto LA16;
Result_131659 = Strtableget_55069(&(*C_131656).Tab.Stack->data[1], Ident_131762);
goto LA15;
LA16: ;
Result_131659 = Strtableget_55069(&(*M_131696).Tab, Ident_131762);
LA15: ;
goto LA12;
LA13: ;
Limessage_43562((*(*N_131657).KindU.S6.Sons->data[1]).Info, ((NU8) 19), ((NimStringDesc*) &TMP193939));
LA12: ;
LA10: ;
break;
case ((NU8) 43):
Checksonslen_103099(N_131657, 1);
Result_131659 = Lookupfordefined_131654(C_131656, (*N_131657).KindU.S6.Sons->data[0], Onlycurrentscope_131658);
break;
default:
LOC18 = 0;
LOC18 = Rendertree_81042(N_131657, 0);
Limessage_43562((*N_131657).Info, ((NU8) 19), LOC18);
Result_131659 = NIM_NIL;
break;
}
BeforeRet: ;
return Result_131659;
}
N_NIMCALL(TY51525*, Semdefined_131796)(TY103012* C_131798, TY51525* N_131799, NIM_BOOL Onlycurrentscope_131800) {
TY51525* Result_131801;
TY51547* LOC2;
NIM_BOOL LOC5;
NIM_BOOL LOC6;
Result_131801 = 0;
Checksonslen_103099(N_131799, 2);
Result_131801 = Newintnode_51713(((NU8) 6), 0);
LOC2 = 0;
LOC2 = Lookupfordefined_131654(C_131798, (*N_131799).KindU.S6.Sons->data[1], Onlycurrentscope_131800);
if (!!((LOC2 == NIM_NIL))) goto LA3;
(*Result_131801).KindU.S1.Intval = 1;
goto LA1;
LA3: ;
LOC6 = !(Onlycurrentscope_131800);
if (!(LOC6)) goto LA7;
LOC6 = ((*(*N_131799).KindU.S6.Sons->data[1]).Kind == ((NU8) 2));
LA7: ;
LOC5 = LOC6;
if (!(LOC5)) goto LA8;
LOC5 = Isdefined_59059((*(*N_131799).KindU.S6.Sons->data[1]).KindU.S5.Ident);
LA8: ;
if (!LOC5) goto LA9;
(*Result_131801).KindU.S1.Intval = 1;
goto LA1;
LA9: ;
LA1: ;
(*Result_131801).Info = (*N_131799).Info;
asgnRef((void**) &(*Result_131801).Typ, Getsystype_98008(((NU8) 1)));
return Result_131801;
}
N_NIMCALL(TY51525*, Setms_131894)(TY51525* N_131896, TY51547* S_131897) {
TY51525* Result_131898;
Result_131898 = 0;
Result_131898 = N_131896;
asgnRefNoCycle((void**) &(*N_131896).KindU.S6.Sons->data[0], Newsymnode_51734(S_131897));
(*(*N_131896).KindU.S6.Sons->data[0]).Info = (*N_131896).Info;
return Result_131898;
}
N_NIMCALL(TY51525*, Semlowhigh_129551)(TY103012* C_129553, TY51525* N_129554, NU8 M_129555) {
TY51525* Result_129556;
NI LOC2;
TY51551* Typ_129601;
Result_129556 = 0;
LOC2 = Sonslen_51803(N_129554);
if (!!((LOC2 == 2))) goto LA3;
Limessage_43562((*N_129554).Info, ((NU8) 66), Optostr_129557[(M_129555)-3]);
goto LA1;
LA3: ;
asgnRefNoCycle((void**) &(*N_129554).KindU.S6.Sons->data[1], Semexprwithtype_121122(C_129553, (*N_129554).KindU.S6.Sons->data[1], 1));
Typ_129601 = 0;
Typ_129601 = Skiptypes_93085((*(*N_129554).KindU.S6.Sons->data[1]).Typ, 9480192);
switch ((*Typ_129601).Kind) {
case ((NU8) 24):
case ((NU8) 28):
case ((NU8) 27):
asgnRef((void**) &(*N_129554).Typ, Getsystype_98008(((NU8) 31)));
break;
case ((NU8) 4):
case ((NU8) 16):
asgnRef((void**) &(*N_129554).Typ, (*(*(*N_129554).KindU.S6.Sons->data[1]).Typ).Sons->data[0]);
break;
case ((NU8) 31) ... ((NU8) 35):
case ((NU8) 2):
case ((NU8) 1):
case ((NU8) 14):
asgnRef((void**) &(*N_129554).Typ, (*(*N_129554).KindU.S6.Sons->data[1]).Typ);
break;
default:
Limessage_43562((*N_129554).Info, ((NU8) 64), Optostr_129557[(M_129555)-3]);
break;
}
LA1: ;
Result_129556 = N_129554;
return Result_129556;
}
N_NIMCALL(TY51525*, Semsizeof_129626)(TY103012* C_129628, TY51525* N_129629) {
TY51525* Result_129630;
NI LOC2;
Result_129630 = 0;
LOC2 = Sonslen_51803(N_129629);
if (!!((LOC2 == 2))) goto LA3;
Limessage_43562((*N_129629).Info, ((NU8) 66), ((NimStringDesc*) &TMP194214));
goto LA1;
LA3: ;
asgnRefNoCycle((void**) &(*N_129629).KindU.S6.Sons->data[1], Semexprwithtype_121122(C_129628, (*N_129629).KindU.S6.Sons->data[1], 1));
LA1: ;
asgnRef((void**) &(*N_129629).Typ, Getsystype_98008(((NU8) 31)));
Result_129630 = N_129629;
return Result_129630;
}
N_NIMCALL(TY51525*, Semis_129658)(TY103012* C_129660, TY51525* N_129661) {
TY51525* Result_129662;
NI LOC2;
TY51551* A_129727;
TY51551* B_129740;
NIM_BOOL LOC6;
NIM_BOOL LOC11;
NimStringDesc* LOC16;
Result_129662 = 0;
LOC2 = Sonslen_51803(N_129661);
if (!(LOC2 == 3)) goto LA3;
asgnRefNoCycle((void**) &(*N_129661).KindU.S6.Sons->data[1], Semexprwithtype_121122(C_129660, (*N_129661).KindU.S6.Sons->data[1], 1));
asgnRefNoCycle((void**) &(*N_129661).KindU.S6.Sons->data[2], Semexprwithtype_121122(C_129660, (*N_129661).KindU.S6.Sons->data[2], 1));
A_129727 = 0;
A_129727 = (*(*N_129661).KindU.S6.Sons->data[1]).Typ;
B_129740 = 0;
B_129740 = (*(*N_129661).KindU.S6.Sons->data[2]).Typ;
LOC6 = !(((*B_129740).Kind == ((NU8) 17)));
if (LOC6) goto LA7;
LOC6 = !(((*A_129727).Kind == ((NU8) 17)));
LA7: ;
if (!LOC6) goto LA8;
Limessage_43562((*N_129661).Info, ((NU8) 192), ((NimStringDesc*) &TMP193939));
LA8: ;
while (1) {
LOC11 = !((B_129740 == NIM_NIL));
if (!(LOC11)) goto LA12;
LOC11 = !(((*B_129740).Sup.Id == (*A_129727).Sup.Id));
LA12: ;
if (!LOC11) goto LA10;
B_129740 = (*B_129740).Sons->data[0];
} LA10: ;
if (!(B_129740 == NIM_NIL)) goto LA14;
LOC16 = 0;
LOC16 = Typetostring_93014(A_129727, ((NU8) 0));
Limessage_43562((*N_129661).Info, ((NU8) 193), LOC16);
LA14: ;
asgnRef((void**) &(*N_129661).Typ, Getsystype_98008(((NU8) 1)));
goto LA1;
LA3: ;
Limessage_43562((*N_129661).Info, ((NU8) 191), ((NimStringDesc*) &TMP193939));
LA1: ;
Result_129662 = N_129661;
return Result_129662;
}
N_NIMCALL(TY51525*, Semecho_131615)(TY103012* C_131617, TY51525* N_131618) {
TY51525* Result_131619;
NI I_131627;
NI HEX3Atmp_142038;
NI LOC1;
NI Res_142040;
TY51525* Arg_131640;
TY51525* Call_131641;
TY50011* LOC3;
TY51525* LOC4;
Result_131619 = 0;
Checkminsonslen_103103(N_131618, 1);
I_131627 = 0;
HEX3Atmp_142038 = 0;
LOC1 = Sonslen_51803(N_131618);
HEX3Atmp_142038 = (NI64)(LOC1 - 1);
Res_142040 = 0;
Res_142040 = 1;
while (1) {
if (!(Res_142040 <= HEX3Atmp_142038)) goto LA2;
I_131627 = Res_142040;
Arg_131640 = 0;
Arg_131640 = Semexprwithtype_121122(C_131617, (*N_131618).KindU.S6.Sons->data[I_131627], 0);
Call_131641 = 0;
Call_131641 = Newnodei_51737(((NU8) 21), (*Arg_131640).Info);
LOC3 = 0;
LOC3 = Getident_50016(((NimStringDesc*) &TMP194215));
LOC4 = 0;
LOC4 = Newidentnode_51730(LOC3, (*N_131618).Info);
Addson_51823(Call_131641, LOC4);
Addson_51823(Call_131641, Arg_131640);
asgnRefNoCycle((void**) &(*N_131618).KindU.S6.Sons->data[I_131627], Semexpr_121115(C_131617, Call_131641, 0));
Res_142040 += 1;
} LA2: ;
Result_131619 = N_131618;
return Result_131619;
}
N_NIMCALL(TY51525*, Semmagic_131923)(TY103012* C_131925, TY51525* N_131926, TY51547* S_131927, NU8 Flags_131928) {
TY51525* Result_131929;
TY51525* LOC1;
TY51525* LOC2;
TY51525* LOC3;
TY51525* LOC4;
TY51525* LOC5;
TY51525* LOC6;
TY51525* LOC7;
Result_131929 = 0;
Result_131929 = N_131926;
switch ((*S_131927).Magic) {
case ((NU8) 1):
LOC1 = 0;
LOC1 = Setms_131894(N_131926, S_131927);
Result_131929 = Semdefined_131796(C_131925, LOC1, NIM_FALSE);
break;
case ((NU8) 2):
LOC2 = 0;
LOC2 = Setms_131894(N_131926, S_131927);
Result_131929 = Semdefined_131796(C_131925, LOC2, NIM_TRUE);
break;
case ((NU8) 3):
LOC3 = 0;
LOC3 = Setms_131894(N_131926, S_131927);
Result_131929 = Semlowhigh_129551(C_131925, LOC3, ((NU8) 3));
break;
case ((NU8) 4):
LOC4 = 0;
LOC4 = Setms_131894(N_131926, S_131927);
Result_131929 = Semlowhigh_129551(C_131925, LOC4, ((NU8) 4));
break;
case ((NU8) 5):
LOC5 = 0;
LOC5 = Setms_131894(N_131926, S_131927);
Result_131929 = Semsizeof_129626(C_131925, LOC5);
break;
case ((NU8) 6):
LOC6 = 0;
LOC6 = Setms_131894(N_131926, S_131927);
Result_131929 = Semis_129658(C_131925, LOC6);
break;
case ((NU8) 7):
LOC7 = 0;
LOC7 = Setms_131894(N_131926, S_131927);
Result_131929 = Semecho_131615(C_131925, LOC7);
break;
default:
Result_131929 = Semdirectop_131587(C_131925, N_131926, Flags_131928);
break;
}
return Result_131929;
}
N_NIMCALL(TY51525*, Semindirectop_131249)(TY103012* C_131251, TY51525* N_131252, NU8 Flags_131253) {
TY51525* Result_131254;
TY51525* Prc_131267;
NI I_131365;
NI HEX3Atmp_142026;
NI LOC7;
NI Res_142028;
TY51551* T_131402;
NIM_BOOL LOC13;
TY123058 M_131458;
NimStringDesc* Msg_131470;
NI I_131478;
NI HEX3Atmp_142032;
NI LOC20;
NI Res_142034;
NimStringDesc* LOC25;
NimStringDesc* LOC26;
NimStringDesc* LOC27;
NimStringDesc* LOC28;
NimStringDesc* LOC38;
Result_131254 = 0;
Result_131254 = NIM_NIL;
Prc_131267 = 0;
Prc_131267 = (*N_131252).KindU.S6.Sons->data[0];
Checkminsonslen_103103(N_131252, 1);
if (!((*(*N_131252).KindU.S6.Sons->data[0]).Kind == ((NU8) 36))) goto LA2;
Checksonslen_103099((*N_131252).KindU.S6.Sons->data[0], 2);
asgnRefNoCycle((void**) &(*N_131252).KindU.S6.Sons->data[0], Semfieldaccess_129026(C_131251, (*N_131252).KindU.S6.Sons->data[0], 0));
if (!((*(*N_131252).KindU.S6.Sons->data[0]).Kind == ((NU8) 19))) goto LA5;
Result_131254 = (*N_131252).KindU.S6.Sons->data[0];
(*Result_131254).Kind = ((NU8) 21);
I_131365 = 0;
HEX3Atmp_142026 = 0;
LOC7 = Sonslen_51803(N_131252);
HEX3Atmp_142026 = (NI64)(LOC7 - 1);
Res_142028 = 0;
Res_142028 = 1;
while (1) {
if (!(Res_142028 <= HEX3Atmp_142026)) goto LA8;
I_131365 = Res_142028;
Addson_51823(Result_131254, (*N_131252).KindU.S6.Sons->data[I_131365]);
Res_142028 += 1;
} LA8: ;
Result_131254 = Semexpr_121115(C_131251, Result_131254, Flags_131253);
goto BeforeRet;
LA5: ;
goto LA1;
LA2: ;
asgnRefNoCycle((void**) &(*N_131252).KindU.S6.Sons->data[0], Semexpr_121115(C_131251, (*N_131252).KindU.S6.Sons->data[0], 0));
LA1: ;
Semopaux_129783(C_131251, N_131252);
T_131402 = 0;
T_131402 = NIM_NIL;
if (!!(((*(*N_131252).KindU.S6.Sons->data[0]).Typ == NIM_NIL))) goto LA10;
T_131402 = Skiptypes_93085((*(*N_131252).KindU.S6.Sons->data[0]).Typ, 43008);
LA10: ;
LOC13 = !((T_131402 == NIM_NIL));
if (!(LOC13)) goto LA14;
LOC13 = ((*T_131402).Kind == ((NU8) 25));
LA14: ;
if (!LOC13) goto LA15;
memset((void*)&M_131458, 0, sizeof(M_131458));
Initcandidate_123086(&M_131458, T_131402);
Matches_124970(C_131251, N_131252, &M_131458);
if (!!((M_131458.State == ((NU8) 1)))) goto LA18;
Msg_131470 = 0;
Msg_131470 = Msgkindtostring_43588(((NU8) 126));
I_131478 = 0;
HEX3Atmp_142032 = 0;
LOC20 = Sonslen_51803(N_131252);
HEX3Atmp_142032 = (NI64)(LOC20 - 1);
Res_142034 = 0;
Res_142034 = 1;
while (1) {
if (!(Res_142034 <= HEX3Atmp_142032)) goto LA21;
I_131478 = Res_142034;
if (!(1 < I_131478)) goto LA23;
Msg_131470 = resizeString(Msg_131470, 2);
appendString(Msg_131470, ((NimStringDesc*) &TMP194210));
LA23: ;
LOC25 = 0;
LOC25 = Typetostring_93014((*(*N_131252).KindU.S6.Sons->data[I_131478]).Typ, ((NU8) 0));
Msg_131470 = resizeString(Msg_131470, LOC25->Sup.len + 0);
appendString(Msg_131470, LOC25);
Res_142034 += 1;
} LA21: ;
LOC26 = 0;
LOC27 = 0;
LOC27 = Msgkindtostring_43588(((NU8) 127));
LOC28 = 0;
LOC28 = Typetostring_93014((*(*N_131252).KindU.S6.Sons->data[0]).Typ, ((NU8) 0));
LOC26 = rawNewString(LOC27->Sup.len + LOC28->Sup.len + 5);
appendString(LOC26, ((NimStringDesc*) &TMP194216));
appendString(LOC26, LOC27);
appendString(LOC26, ((NimStringDesc*) &TMP194211));
appendString(LOC26, LOC28);
Msg_131470 = resizeString(Msg_131470, LOC26->Sup.len + 0);
appendString(Msg_131470, LOC26);
Limessage_43562((*N_131252).Info, ((NU8) 4), Msg_131470);
Result_131254 = NIM_NIL;
goto LA17;
LA18: ;
Result_131254 = M_131458.Call;
LA17: ;
if (!!((((*T_131402).Flags &(1<<((((NU8) 1))&7)))!=0))) goto LA30;
(*(*(*C_131251).P).Owner).Flags |=(1<<((NI32)(((NU8) 14))%(sizeof(NI32)*8)));
LA30: ;
goto LA12;
LA15: ;
Result_131254 = Overloadedcallopr_129902(C_131251, N_131252);
if (!(Result_131254 == NIM_NIL)) goto LA33;
asgnRefNoCycle((void**) &(*N_131252).KindU.S6.Sons->data[0], Prc_131267);
Result_131254 = Semdirectcallanalyseeffects_131104(C_131251, N_131252, Flags_131253);
LA33: ;
if (!(Result_131254 == NIM_NIL)) goto LA36;
LOC38 = 0;
LOC38 = Rendertree_81042(N_131252, 4);
Limessage_43562((*N_131252).Info, ((NU8) 85), LOC38);
LA36: ;
LA12: ;
Fixabstracttype_130230(C_131251, Result_131254);
Analyseifaddresstakenincall_130934(C_131251, Result_131254);
BeforeRet: ;
return Result_131254;
}
N_NIMCALL(TY51525*, Partialspecialization_123017)(TY103012* C_123019, TY51525* N_123020, TY51547* S_123021) {
TY51525* Result_123022;
NI I_123030;
NI HEX3Atmp_125841;
NI LOC1;
NI Res_125843;
Result_123022 = 0;
I_123030 = 0;
HEX3Atmp_125841 = 0;
LOC1 = Sonslen_51803(N_123020);
HEX3Atmp_125841 = (NI64)(LOC1 - 1);
Res_125843 = 0;
Res_125843 = 1;
while (1) {
if (!(Res_125843 <= HEX3Atmp_125841)) goto LA2;
I_123030 = Res_125843;
asgnRef((void**) &(*(*N_123020).KindU.S6.Sons->data[I_123030]).Typ, Semtypenode_121138(C_123019, (*N_123020).KindU.S6.Sons->data[I_123030], NIM_NIL));
Res_125843 += 1;
} LA2: ;
Result_123022 = N_123020;
return Result_123022;
}
N_NIMCALL(TY51525*, Semarrayaccess_133045)(TY103012* C_133047, TY51525* N_133048, NU8 Flags_133049) {
TY51525* Result_133050;
TY51525* LOC4;
Result_133050 = 0;
Result_133050 = Semsubscript_132775(C_133047, N_133048, Flags_133049);
if (!(Result_133050 == NIM_NIL)) goto LA2;
LOC4 = 0;
LOC4 = Buildoverloadedsubscripts_132735(N_133048, NIM_FALSE);
Result_133050 = Semexpr_121115(C_133047, LOC4, 0);
LA2: ;
return Result_133050;
}
N_NIMCALL(NU8, Checkpar_133769)(TY51525* N_133771) {
NU8 Result_133772;
NI Length_133773;
NI I_133806;
NI HEX3Atmp_142108;
NI Res_142110;
NIM_BOOL LOC14;
Result_133772 = 0;
Length_133773 = 0;
Length_133773 = Sonslen_51803(N_133771);
if (!(Length_133773 == 0)) goto LA2;
Result_133772 = ((NU8) 3);
goto LA1;
LA2: ;
if (!(Length_133773 == 1)) goto LA4;
Result_133772 = ((NU8) 1);
goto LA1;
LA4: ;
if (!((*(*N_133771).KindU.S6.Sons->data[0]).Kind == ((NU8) 24))) goto LA7;
Result_133772 = ((NU8) 2);
goto LA6;
LA7: ;
Result_133772 = ((NU8) 3);
LA6: ;
I_133806 = 0;
HEX3Atmp_142108 = 0;
HEX3Atmp_142108 = (NI64)(Length_133773 - 1);
Res_142110 = 0;
Res_142110 = 0;
while (1) {
if (!(Res_142110 <= HEX3Atmp_142108)) goto LA9;
I_133806 = Res_142110;
if (!(Result_133772 == ((NU8) 2))) goto LA11;
LOC14 = !(((*(*N_133771).KindU.S6.Sons->data[I_133806]).Kind == ((NU8) 24)));
if (LOC14) goto LA15;
LOC14 = !(((*(*(*N_133771).KindU.S6.Sons->data[I_133806]).KindU.S6.Sons->data[0]).Kind == ((NU8) 3) || (*(*(*N_133771).KindU.S6.Sons->data[I_133806]).KindU.S6.Sons->data[0]).Kind == ((NU8) 2)));
LA15: ;
if (!LOC14) goto LA16;
Limessage_43562((*(*N_133771).KindU.S6.Sons->data[I_133806]).Info, ((NU8) 167), ((NimStringDesc*) &TMP193939));
Result_133772 = ((NU8) 0);
goto BeforeRet;
LA16: ;
goto LA10;
LA11: ;
if (!((*(*N_133771).KindU.S6.Sons->data[I_133806]).Kind == ((NU8) 24))) goto LA19;
Limessage_43562((*(*N_133771).KindU.S6.Sons->data[I_133806]).Info, ((NU8) 168), ((NimStringDesc*) &TMP193939));
Result_133772 = ((NU8) 0);
goto BeforeRet;
LA19: ;
LA10: ;
Res_142110 += 1;
} LA9: ;
LA1: ;
BeforeRet: ;
return Result_133772;
}
N_NIMCALL(TY51525*, Semtuplepositionsconstr_134255)(TY103012* C_134257, TY51525* N_134258) {
TY51525* Result_134259;
TY51551* Typ_134260;
NI I_134268;
NI HEX3Atmp_142120;
NI LOC1;
NI Res_142122;
Result_134259 = 0;
Result_134259 = N_134258;
Typ_134260 = 0;
Typ_134260 = Newtypes_103077(((NU8) 18), C_134257);
I_134268 = 0;
HEX3Atmp_142120 = 0;
LOC1 = Sonslen_51803(N_134258);
HEX3Atmp_142120 = (NI64)(LOC1 - 1);
Res_142122 = 0;
Res_142122 = 0;
while (1) {
if (!(Res_142122 <= HEX3Atmp_142120)) goto LA2;
I_134268 = Res_142122;
asgnRefNoCycle((void**) &(*N_134258).KindU.S6.Sons->data[I_134268], Semexprwithtype_121122(C_134257, (*N_134258).KindU.S6.Sons->data[I_134268], 0));
Addson_51827(Typ_134260, (*(*N_134258).KindU.S6.Sons->data[I_134268]).Typ);
Res_142122 += 1;
} LA2: ;
asgnRef((void**) &(*Result_134259).Typ, Typ_134260);
return Result_134259;
}
N_NIMCALL(TY51525*, Semtuplefieldsconstr_133918)(TY103012* C_133920, TY51525* N_133921) {
TY51525* Result_133922;
TY51900 Ids_133923;
TY51551* Typ_133924;
NI I_133933;
NI HEX3Atmp_142114;
NI LOC1;
NI Res_142116;
NIM_BOOL LOC4;
TY50011* Id_134003;
NIM_BOOL LOC12;
TY51547* F_134194;
TY51525* LOC15;
Result_133922 = 0;
memset((void*)&Ids_133923, 0, sizeof(Ids_133923));
Result_133922 = Newnodei_51737(((NU8) 30), (*N_133921).Info);
Typ_133924 = 0;
Typ_133924 = Newtypes_103077(((NU8) 18), C_133920);
asgnRefNoCycle((void**) &(*Typ_133924).N, Newnodei_51737(((NU8) 113), (*N_133921).Info));
Intsetinit_51924(&Ids_133923);
I_133933 = 0;
HEX3Atmp_142114 = 0;
LOC1 = Sonslen_51803(N_133921);
HEX3Atmp_142114 = (NI64)(LOC1 - 1);
Res_142116 = 0;
Res_142116 = 0;
while (1) {
if (!(Res_142116 <= HEX3Atmp_142114)) goto LA2;
I_133933 = Res_142116;
LOC4 = !(((*(*N_133921).KindU.S6.Sons->data[I_133933]).Kind == ((NU8) 24)));
if (LOC4) goto LA5;
LOC4 = !(((*(*(*N_133921).KindU.S6.Sons->data[I_133933]).KindU.S6.Sons->data[0]).Kind == ((NU8) 3) || (*(*(*N_133921).KindU.S6.Sons->data[I_133933]).KindU.S6.Sons->data[0]).Kind == ((NU8) 2)));
LA5: ;
if (!LOC4) goto LA6;
Illformedast_103092((*N_133921).KindU.S6.Sons->data[I_133933]);
LA6: ;
Id_134003 = 0;
if (!((*(*(*N_133921).KindU.S6.Sons->data[I_133933]).KindU.S6.Sons->data[0]).Kind == ((NU8) 2))) goto LA9;
Id_134003 = (*(*(*N_133921).KindU.S6.Sons->data[I_133933]).KindU.S6.Sons->data[0]).KindU.S5.Ident;
goto LA8;
LA9: ;
Id_134003 = (*(*(*(*N_133921).KindU.S6.Sons->data[I_133933]).KindU.S6.Sons->data[0]).KindU.S4.Sym).Name;
LA8: ;
LOC12 = Intsetcontainsorincl_51928(&Ids_133923, (*Id_134003).Sup.Id);
if (!LOC12) goto LA13;
Limessage_43562((*(*N_133921).KindU.S6.Sons->data[I_133933]).Info, ((NU8) 83), (*Id_134003).S);
LA13: ;
asgnRefNoCycle((void**) &(*(*N_133921).KindU.S6.Sons->data[I_133933]).KindU.S6.Sons->data[1], Semexprwithtype_121122(C_133920, (*(*N_133921).KindU.S6.Sons->data[I_133933]).KindU.S6.Sons->data[1], 0));
F_134194 = 0;
F_134194 = Newsyms_121059(((NU8) 15), (*(*N_133921).KindU.S6.Sons->data[I_133933]).KindU.S6.Sons->data[0], C_133920);
asgnRef((void**) &(*F_134194).Typ, (*(*(*N_133921).KindU.S6.Sons->data[I_133933]).KindU.S6.Sons->data[1]).Typ);
Addson_51827(Typ_133924, (*F_134194).Typ);
LOC15 = 0;
LOC15 = Newsymnode_51734(F_134194);
Addson_51823((*Typ_133924).N, LOC15);
asgnRefNoCycle((void**) &(*(*N_133921).KindU.S6.Sons->data[I_133933]).KindU.S6.Sons->data[0], Newsymnode_51734(F_134194));
Addson_51823(Result_133922, (*N_133921).KindU.S6.Sons->data[I_133933]);
Res_142116 += 1;
} LA2: ;
asgnRef((void**) &(*Result_133922).Typ, Typ_133924);
return Result_133922;
}
N_NIMCALL(TY51525*, Semsetconstr_133394)(TY103012* C_133396, TY51525* N_133397) {
TY51525* Result_133398;
NI LOC2;
TY51551* LOC5;
TY51551* Typ_133401;
NI I_133409;
NI HEX3Atmp_142096;
NI LOC6;
NI Res_142098;
NIM_BOOL LOC18;
NI64 LOC22;
NI I_133668;
NI HEX3Atmp_142102;
NI LOC25;
NI Res_142104;
TY51525* M_133669;
TY51525* LOC30;
TY51525* LOC31;
Result_133398 = 0;
Result_133398 = Newnodei_51737(((NU8) 31), (*N_133397).Info);
asgnRef((void**) &(*Result_133398).Typ, Newtypes_103077(((NU8) 19), C_133396));
LOC2 = Sonslen_51803(N_133397);
if (!(LOC2 == 0)) goto LA3;
LOC5 = 0;
LOC5 = Newtypes_103077(((NU8) 3), C_133396);
Addson_51827((*Result_133398).Typ, LOC5);
goto LA1;
LA3: ;
Typ_133401 = 0;
Typ_133401 = NIM_NIL;
I_133409 = 0;
HEX3Atmp_142096 = 0;
LOC6 = Sonslen_51803(N_133397);
HEX3Atmp_142096 = (NI64)(LOC6 - 1);
Res_142098 = 0;
Res_142098 = 0;
while (1) {
if (!(Res_142098 <= HEX3Atmp_142096)) goto LA7;
I_133409 = Res_142098;
if (!((*(*N_133397).KindU.S6.Sons->data[I_133409]).Kind == ((NU8) 35))) goto LA9;
Checksonslen_103099((*N_133397).KindU.S6.Sons->data[I_133409], 2);
asgnRefNoCycle((void**) &(*(*N_133397).KindU.S6.Sons->data[I_133409]).KindU.S6.Sons->data[0], Semexprwithtype_121122(C_133396, (*(*N_133397).KindU.S6.Sons->data[I_133409]).KindU.S6.Sons->data[0], 0));
asgnRefNoCycle((void**) &(*(*N_133397).KindU.S6.Sons->data[I_133409]).KindU.S6.Sons->data[1], Semexprwithtype_121122(C_133396, (*(*N_133397).KindU.S6.Sons->data[I_133409]).KindU.S6.Sons->data[1], 0));
if (!(Typ_133401 == NIM_NIL)) goto LA12;
Typ_133401 = Skiptypes_93085((*(*(*N_133397).KindU.S6.Sons->data[I_133409]).KindU.S6.Sons->data[0]).Typ, 8423424);
LA12: ;
asgnRef((void**) &(*(*N_133397).KindU.S6.Sons->data[I_133409]).Typ, (*(*(*N_133397).KindU.S6.Sons->data[I_133409]).KindU.S6.Sons->data[1]).Typ);
goto LA8;
LA9: ;
asgnRefNoCycle((void**) &(*N_133397).KindU.S6.Sons->data[I_133409], Semexprwithtype_121122(C_133396, (*N_133397).KindU.S6.Sons->data[I_133409], 0));
if (!(Typ_133401 == NIM_NIL)) goto LA15;
Typ_133401 = Skiptypes_93085((*(*N_133397).KindU.S6.Sons->data[I_133409]).Typ, 8423424);
LA15: ;
LA8: ;
Res_142098 += 1;
} LA7: ;
LOC18 = Isordinaltype_93069(Typ_133401);
if (!!(LOC18)) goto LA19;
Limessage_43562((*N_133397).Info, ((NU8) 71), ((NimStringDesc*) &TMP193939));
goto BeforeRet;
LA19: ;
LOC22 = Lengthord_93007(Typ_133401);
if (!(65536 < LOC22)) goto LA23;
Typ_133401 = Makerangetype_103086(C_133396, 0, 65535, (*N_133397).Info);
LA23: ;
Addson_51827((*Result_133398).Typ, Typ_133401);
I_133668 = 0;
HEX3Atmp_142102 = 0;
LOC25 = Sonslen_51803(N_133397);
HEX3Atmp_142102 = (NI64)(LOC25 - 1);
Res_142104 = 0;
Res_142104 = 0;
while (1) {
if (!(Res_142104 <= HEX3Atmp_142102)) goto LA26;
I_133668 = Res_142104;
M_133669 = 0;
if (!((*(*N_133397).KindU.S6.Sons->data[I_133668]).Kind == ((NU8) 35))) goto LA28;
M_133669 = Newnodei_51737(((NU8) 35), (*(*N_133397).KindU.S6.Sons->data[I_133668]).Info);
LOC30 = 0;
LOC30 = Fitnode_121129(C_133396, Typ_133401, (*(*N_133397).KindU.S6.Sons->data[I_133668]).KindU.S6.Sons->data[0]);
Addson_51823(M_133669, LOC30);
LOC31 = 0;
LOC31 = Fitnode_121129(C_133396, Typ_133401, (*(*N_133397).KindU.S6.Sons->data[I_133668]).KindU.S6.Sons->data[1]);
Addson_51823(M_133669, LOC31);
goto LA27;
LA28: ;
M_133669 = Fitnode_121129(C_133396, Typ_133401, (*N_133397).KindU.S6.Sons->data[I_133668]);
LA27: ;
Addson_51823(Result_133398, M_133669);
Res_142104 += 1;
} LA26: ;
LA1: ;
BeforeRet: ;
return Result_133398;
}
N_NIMCALL(TY51525*, Semlambda_121134)(TY103012* C_121136, TY51525* N_121137) {
TY51525* Result_140482;
TY51547* S_140483;
TY50011* LOC1;
TY51547* LOC2;
TY103006* Oldp_140484;
Result_140482 = 0;
Result_140482 = N_121137;
Checksonslen_103099(N_121137, 5);
S_140483 = 0;
LOC1 = 0;
LOC1 = Getident_50016(((NimStringDesc*) &TMP194218));
LOC2 = 0;
LOC2 = Getcurrowner_103107();
S_140483 = Newsym_51701(((NU8) 9), LOC1, LOC2);
(*S_140483).Info = (*N_121137).Info;
Oldp_140484 = 0;
Oldp_140484 = (*C_121136).P;
asgnRefNoCycle((void**) &(*S_140483).Ast, N_121137);
asgnRefNoCycle((void**) &(*N_121137).KindU.S6.Sons->data[0], Newsymnode_51734(S_140483));
Pushowner_103109(S_140483);
Openscope_55149(&(*C_121136).Tab);
if (!!(((*N_121137).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA4;
Illformedast_103092(N_121137);
LA4: ;
if (!!(((*N_121137).KindU.S6.Sons->data[2] == NIM_NIL))) goto LA7;
Semparamlist_121147(C_121136, (*N_121137).KindU.S6.Sons->data[2], NIM_NIL, S_140483);
Addparams_121153(C_121136, (*(*S_140483).Typ).N);
goto LA6;
LA7: ;
asgnRef((void**) &(*S_140483).Typ, Newtypes_103077(((NU8) 25), C_121136));
Addson_51827((*S_140483).Typ, NIM_NIL);
LA6: ;
(*(*S_140483).Typ).Callconv = ((NU8) 8);
if (!!(((*N_121137).KindU.S6.Sons->data[3] == NIM_NIL))) goto LA10;
Pragma_118028(C_121136, S_140483, (*N_121137).KindU.S6.Sons->data[3], TMP194219);
LA10: ;
(*S_140483).Options = Goptions_42075;
if (!!(((*N_121137).KindU.S6.Sons->data[4] == NIM_NIL))) goto LA13;
if (!(((*S_140483).Flags &(1<<((((NU8) 7))&31)))!=0)) goto LA16;
Limessage_43562((*(*N_121137).KindU.S6.Sons->data[4]).Info, ((NU8) 134), (*(*S_140483).Name).S);
LA16: ;
asgnRefNoCycle((void**) &(*C_121136).P, Newproccon_103050(S_140483));
Addresult_121157(C_121136, (*(*S_140483).Typ).Sons->data[0], (*N_121137).Info);
asgnRefNoCycle((void**) &(*N_121137).KindU.S6.Sons->data[4], Semstmtscope_121104(C_121136, (*N_121137).KindU.S6.Sons->data[4]));
Addresultnode_121162(C_121136, N_121137);
goto LA12;
LA13: ;
Limessage_43562((*N_121137).Info, ((NU8) 135), (*(*S_140483).Name).S);
LA12: ;
Closescope_104017(&(*C_121136).Tab);
Popowner_103112();
asgnRefNoCycle((void**) &(*C_121136).P, Oldp_140484);
asgnRef((void**) &(*Result_140482).Typ, (*S_140483).Typ);
return Result_140482;
}
N_NIMCALL(NIM_BOOL, Iscastable_129292)(TY51551* Dst_129294, TY51551* Src_129295) {
NIM_BOOL Result_129296;
NI64 Ds_129297;
NI64 Ss_129298;
NIM_BOOL LOC6;
NIM_BOOL LOC7;
TY51551* LOC9;
TY51551* LOC11;
Result_129296 = 0;
Ds_129297 = 0;
Ss_129298 = 0;
Ds_129297 = Computesize_93110(Dst_129294);
Ss_129298 = Computesize_93110(Src_129295);
if (!(Ds_129297 < 0)) goto LA2;
Result_129296 = NIM_FALSE;
goto LA1;
LA2: ;
if (!(Ss_129298 < 0)) goto LA4;
Result_129296 = NIM_FALSE;
goto LA1;
LA4: ;
LOC7 = (Ss_129298 <= Ds_129297);
if (LOC7) goto LA8;
LOC9 = 0;
LOC9 = Skiptypes_93085(Dst_129294, 43008);
LOC7 = ((IL64(1097364144128) &(IL64(1)<<(((*LOC9).Kind)&IL64(63))))!=0);
LA8: ;
LOC6 = LOC7;
if (LOC6) goto LA10;
LOC11 = 0;
LOC11 = Skiptypes_93085(Src_129295, 43008);
LOC6 = ((IL64(1097364144128) &(IL64(1)<<(((*LOC11).Kind)&IL64(63))))!=0);
LA10: ;
Result_129296 = LOC6;
LA1: ;
return Result_129296;
}
N_NIMCALL(TY51525*, Semcast_129475)(TY103012* C_129477, TY51525* N_129478) {
TY51525* Result_129479;
TY51525* LOC4;
TY51525* LOC5;
NIM_BOOL LOC7;
NimStringDesc* LOC10;
Result_129479 = 0;
if (!((Gglobaloptions_42077 &(1<<((((NU8) 8))&31)))!=0)) goto LA2;
Limessage_43562((*N_129478).Info, ((NU8) 88), ((NimStringDesc*) &TMP193939));
LA2: ;
(*(*(*C_129477).P).Owner).Flags |=(1<<((NI32)(((NU8) 14))%(sizeof(NI32)*8)));
Checksonslen_103099(N_129478, 2);
Result_129479 = Newnodei_51737(((NU8) 51), (*N_129478).Info);
asgnRef((void**) &(*Result_129479).Typ, Semtypenode_121138(C_129477, (*N_129478).KindU.S6.Sons->data[0], NIM_NIL));
LOC4 = 0;
LOC4 = Copytree_51858((*N_129478).KindU.S6.Sons->data[0]);
Addson_51823(Result_129479, LOC4);
LOC5 = 0;
LOC5 = Semexprwithtype_121122(C_129477, (*N_129478).KindU.S6.Sons->data[1], 0);
Addson_51823(Result_129479, LOC5);
LOC7 = Iscastable_129292((*Result_129479).Typ, (*(*Result_129479).KindU.S6.Sons->data[1]).Typ);
if (!!(LOC7)) goto LA8;
LOC10 = 0;
LOC10 = Typetostring_93014((*Result_129479).Typ, ((NU8) 0));
Limessage_43562((*Result_129479).Info, ((NU8) 89), LOC10);
LA8: ;
return Result_129479;
}
N_NIMCALL(TY51525*, Semifexpr_133201)(TY103012* C_133203, TY51525* N_133204) {
TY51525* Result_133205;
TY51551* Typ_133206;
NI I_133214;
NI HEX3Atmp_142090;
NI LOC1;
NI Res_142092;
TY51525* It_133227;
Result_133205 = 0;
Result_133205 = N_133204;
Checkminsonslen_103103(N_133204, 2);
Typ_133206 = 0;
Typ_133206 = NIM_NIL;
I_133214 = 0;
HEX3Atmp_142090 = 0;
LOC1 = Sonslen_51803(N_133204);
HEX3Atmp_142090 = (NI64)(LOC1 - 1);
Res_142092 = 0;
Res_142092 = 0;
while (1) {
if (!(Res_142092 <= HEX3Atmp_142090)) goto LA2;
I_133214 = Res_142092;
It_133227 = 0;
It_133227 = (*N_133204).KindU.S6.Sons->data[I_133214];
switch ((*It_133227).Kind) {
case ((NU8) 40):
Checksonslen_103099(It_133227, 2);
asgnRefNoCycle((void**) &(*It_133227).KindU.S6.Sons->data[0], Semexprwithtype_121122(C_133203, (*It_133227).KindU.S6.Sons->data[0], 0));
Checkbool_125912((*It_133227).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*It_133227).KindU.S6.Sons->data[1], Semexprwithtype_121122(C_133203, (*It_133227).KindU.S6.Sons->data[1], 0));
if (!(Typ_133206 == NIM_NIL)) goto LA4;
Typ_133206 = (*(*It_133227).KindU.S6.Sons->data[1]).Typ;
goto LA3;
LA4: ;
asgnRefNoCycle((void**) &(*It_133227).KindU.S6.Sons->data[1], Fitnode_121129(C_133203, Typ_133206, (*It_133227).KindU.S6.Sons->data[1]));
LA3: ;
break;
case ((NU8) 41):
Checksonslen_103099(It_133227, 1);
asgnRefNoCycle((void**) &(*It_133227).KindU.S6.Sons->data[0], Semexprwithtype_121122(C_133203, (*It_133227).KindU.S6.Sons->data[0], 0));
if (!(Typ_133206 == NIM_NIL)) goto LA7;
Internalerror_43567((*It_133227).Info, ((NimStringDesc*) &TMP194221));
LA7: ;
asgnRefNoCycle((void**) &(*It_133227).KindU.S6.Sons->data[0], Fitnode_121129(C_133203, Typ_133206, (*It_133227).KindU.S6.Sons->data[0]));
break;
default:
Illformedast_103092(N_133204);
break;
}
Res_142092 += 1;
} LA2: ;
asgnRef((void**) &(*Result_133205).Typ, Typ_133206);
return Result_133205;
}
N_NIMCALL(TY51525*, Semstmtlistexpr_134305)(TY103012* C_134307, TY51525* N_134308) {
TY51525* Result_134309;
NI Length_134310;
NI I_134318;
NI HEX3Atmp_142126;
NI Res_142128;
Result_134309 = 0;
Result_134309 = N_134308;
Checkminsonslen_103103(N_134308, 1);
Length_134310 = 0;
Length_134310 = Sonslen_51803(N_134308);
I_134318 = 0;
HEX3Atmp_142126 = 0;
HEX3Atmp_142126 = (NI64)(Length_134310 - 2);
Res_142128 = 0;
Res_142128 = 0;
while (1) {
if (!(Res_142128 <= HEX3Atmp_142126)) goto LA1;
I_134318 = Res_142128;
asgnRefNoCycle((void**) &(*N_134308).KindU.S6.Sons->data[I_134318], Semstmt_121143(C_134307, (*N_134308).KindU.S6.Sons->data[I_134318]));
Res_142128 += 1;
} LA1: ;
if (!(0 < Length_134310)) goto LA3;
asgnRefNoCycle((void**) &(*N_134308).KindU.S6.Sons->data[(NI64)(Length_134310 - 1)], Semexprwithtype_121122(C_134307, (*N_134308).KindU.S6.Sons->data[(NI64)(Length_134310 - 1)], 0));
asgnRef((void**) &(*N_134308).Typ, (*(*N_134308).KindU.S6.Sons->data[(NI64)(Length_134310 - 1)]).Typ);
LA3: ;
return Result_134309;
}
N_NIMCALL(TY51525*, Semblockexpr_134381)(TY103012* C_134383, TY51525* N_134384) {
TY51525* Result_134385;
TY51547* LOC4;
Result_134385 = 0;
Result_134385 = N_134384;
(*(*C_134383).P).Nestedblockcounter += 1;
Checksonslen_103099(N_134384, 2);
Openscope_55149(&(*C_134383).Tab);
if (!!(((*N_134384).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA2;
LOC4 = 0;
LOC4 = Newsyms_121059(((NU8) 19), (*N_134384).KindU.S6.Sons->data[0], C_134383);
Adddecl_104026(C_134383, LOC4);
LA2: ;
asgnRefNoCycle((void**) &(*N_134384).KindU.S6.Sons->data[1], Semstmtlistexpr_134305(C_134383, (*N_134384).KindU.S6.Sons->data[1]));
asgnRef((void**) &(*N_134384).Typ, (*(*N_134384).KindU.S6.Sons->data[1]).Typ);
Closescope_104017(&(*C_134383).Tab);
(*(*C_134383).P).Nestedblockcounter -= 1;
return Result_134385;
}
N_NIMCALL(TY51525*, Semexpr_121115)(TY103012* C_121117, TY51525* N_121118, NU8 Flags_121121) {
TY51525* Result_134650;
TY51547* S_134673;
TY51547* S_134840;
TY51547* S_134903;
NIM_BOOL LOC55;
NU8 LOC59;
TY51551* T_134976;
NU8 LOC61;
NimStringDesc* LOC64;
NimStringDesc* LOC65;
Result_134650 = 0;
Result_134650 = N_121118;
if (!(N_121118 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
if (!(((*N_121118).Flags &(1<<((((NU8) 6))&7)))!=0)) goto LA5;
goto BeforeRet;
LA5: ;
switch ((*N_121118).Kind) {
case ((NU8) 2):
S_134673 = 0;
S_134673 = Lookup_104049(C_121117, N_121118);
Result_134650 = Semsym_129074(C_121117, N_121118, S_134673, Flags_121121);
break;
case ((NU8) 3):
Result_134650 = Semsym_129074(C_121117, N_121118, (*N_121118).KindU.S4.Sym, Flags_121121);
break;
case ((NU8) 1):
case ((NU8) 0):
break;
case ((NU8) 18):
asgnRef((void**) &(*Result_134650).Typ, Getsystype_98008(((NU8) 5)));
break;
case ((NU8) 4):
if (!!(((Flags_121121 &(1<<((((NU8) 0))&7)))!=0))) goto LA8;
Limessage_43562((*N_121118).Info, ((NU8) 161), ((NimStringDesc*) &TMP193939));
LA8: ;
asgnRef((void**) &(*N_121118).Typ, Semtypenode_121138(C_121117, N_121118, NIM_NIL));
break;
case ((NU8) 6):
if (!((*Result_134650).Typ == NIM_NIL)) goto LA11;
asgnRef((void**) &(*Result_134650).Typ, Getsystype_98008(((NU8) 31)));
LA11: ;
break;
case ((NU8) 7):
if (!((*Result_134650).Typ == NIM_NIL)) goto LA14;
asgnRef((void**) &(*Result_134650).Typ, Getsystype_98008(((NU8) 32)));
LA14: ;
break;
case ((NU8) 8):
if (!((*Result_134650).Typ == NIM_NIL)) goto LA17;
asgnRef((void**) &(*Result_134650).Typ, Getsystype_98008(((NU8) 33)));
LA17: ;
break;
case ((NU8) 9):
if (!((*Result_134650).Typ == NIM_NIL)) goto LA20;
asgnRef((void**) &(*Result_134650).Typ, Getsystype_98008(((NU8) 34)));
LA20: ;
break;
case ((NU8) 10):
if (!((*Result_134650).Typ == NIM_NIL)) goto LA23;
asgnRef((void**) &(*Result_134650).Typ, Getsystype_98008(((NU8) 35)));
LA23: ;
break;
case ((NU8) 11):
if (!((*Result_134650).Typ == NIM_NIL)) goto LA26;
asgnRef((void**) &(*Result_134650).Typ, Getsystype_98008(((NU8) 36)));
LA26: ;
break;
case ((NU8) 12):
if (!((*Result_134650).Typ == NIM_NIL)) goto LA29;
asgnRef((void**) &(*Result_134650).Typ, Getsystype_98008(((NU8) 37)));
LA29: ;
break;
case ((NU8) 13):
if (!((*Result_134650).Typ == NIM_NIL)) goto LA32;
asgnRef((void**) &(*Result_134650).Typ, Getsystype_98008(((NU8) 38)));
LA32: ;
break;
case ((NU8) 14) ... ((NU8) 16):
if (!((*Result_134650).Typ == NIM_NIL)) goto LA35;
asgnRef((void**) &(*Result_134650).Typ, Getsystype_98008(((NU8) 28)));
LA35: ;
break;
case ((NU8) 5):
if (!((*Result_134650).Typ == NIM_NIL)) goto LA38;
asgnRef((void**) &(*Result_134650).Typ, Getsystype_98008(((NU8) 2)));
LA38: ;
break;
case ((NU8) 36):
Result_134650 = Semfieldaccess_129026(C_121117, N_121118, Flags_121121);
if (!((*Result_134650).Kind == ((NU8) 19))) goto LA41;
(*Result_134650).Kind = ((NU8) 21);
Result_134650 = Semexpr_121115(C_121117, Result_134650, Flags_121121);
LA41: ;
break;
case ((NU8) 45):
Result_134650 = Semexpr_121115(C_121117, (*N_121118).KindU.S6.Sons->data[0], Flags_121121);
break;
case ((NU8) 21):
case ((NU8) 27):
case ((NU8) 28):
case ((NU8) 29):
case ((NU8) 20):
case ((NU8) 22):
Checkminsonslen_103103(N_121118, 1);
S_134840 = 0;
S_134840 = Qualifiedlookup_104053(C_121117, (*N_121118).KindU.S6.Sons->data[0], NIM_FALSE);
if (!!((S_134840 == NIM_NIL))) goto LA44;
switch ((*S_134840).Kind) {
case ((NU8) 13):
Result_134650 = Semmacroexpr_122093(C_121117, N_121118, S_134840, NIM_TRUE);
break;
case ((NU8) 14):
Result_134650 = Semtemplateexpr_129019(C_121117, N_121118, S_134840, NIM_TRUE);
break;
case ((NU8) 6):
if (!!(((*N_121118).Kind == ((NU8) 21)))) goto LA47;
Limessage_43562((*N_121118).Info, ((NU8) 150), (*(*S_134840).Name).S);
LA47: ;
Result_134650 = Semconv_129329(C_121117, N_121118, S_134840);
break;
case ((NU8) 9):
case ((NU8) 10):
case ((NU8) 12):
case ((NU8) 11):
if (!((*S_134840).Magic == ((NU8) 0))) goto LA50;
Result_134650 = Semdirectop_131587(C_121117, N_121118, Flags_121121);
goto LA49;
LA50: ;
Result_134650 = Semmagic_131923(C_121117, N_121118, S_134840, Flags_121121);
LA49: ;
break;
default:
Result_134650 = Semindirectop_131249(C_121117, N_121118, Flags_121121);
break;
}
goto LA43;
LA44: ;
if (!((*(*N_121118).KindU.S6.Sons->data[0]).Kind == ((NU8) 46))) goto LA52;
Result_134650 = Semdirectop_131587(C_121117, N_121118, Flags_121121);
goto LA43;
LA52: ;
Result_134650 = Semindirectop_131249(C_121117, N_121118, Flags_121121);
LA43: ;
break;
case ((NU8) 79):
Result_134650 = Semmacrostmt_134499(C_121117, N_121118, NIM_TRUE);
break;
case ((NU8) 33):
Checkminsonslen_103103(N_121118, 1);
S_134903 = 0;
S_134903 = Qualifiedlookup_104053(C_121117, (*N_121118).KindU.S6.Sons->data[0], NIM_FALSE);
LOC55 = !((S_134903 == NIM_NIL));
if (!(LOC55)) goto LA56;
LOC55 = ((7680 &(1<<(((*S_134903).Kind)&31)))!=0);
LA56: ;
if (!LOC55) goto LA57;
Result_134650 = Partialspecialization_123017(C_121117, N_121118, S_134903);
goto LA54;
LA57: ;
Result_134650 = Semarrayaccess_133045(C_121117, N_121118, Flags_121121);
LA54: ;
break;
case ((NU8) 34):
Internalerror_43567((*N_121118).Info, ((NimStringDesc*) &TMP194217));
break;
case ((NU8) 30):
LOC59 = Checkpar_133769(N_121118);
switch (LOC59) {
case ((NU8) 0):
Result_134650 = NIM_NIL;
break;
case ((NU8) 3):
Result_134650 = Semtuplepositionsconstr_134255(C_121117, N_121118);
break;
case ((NU8) 2):
Result_134650 = Semtuplefieldsconstr_133918(C_121117, N_121118);
break;
case ((NU8) 1):
Result_134650 = Semexpr_121115(C_121117, (*N_121118).KindU.S6.Sons->data[0], 0);
break;
}
break;
case ((NU8) 31):
Result_134650 = Semsetconstr_133394(C_121117, N_121118);
break;
case ((NU8) 32):
Result_134650 = Semarrayconstr_130153(C_121117, N_121118);
break;
case ((NU8) 42):
Result_134650 = Semlambda_121134(C_121117, N_121118);
break;
case ((NU8) 38):
Checksonslen_103099(N_121118, 1);
asgnRefNoCycle((void**) &(*N_121118).KindU.S6.Sons->data[0], Semexprwithtype_121122(C_121117, (*N_121118).KindU.S6.Sons->data[0], 0));
Result_134650 = N_121118;
T_134976 = 0;
T_134976 = Skiptypes_93085((*(*N_121118).KindU.S6.Sons->data[0]).Typ, 8390656);
switch ((*T_134976).Kind) {
case ((NU8) 22):
case ((NU8) 21):
asgnRef((void**) &(*N_121118).Typ, (*T_134976).Sons->data[0]);
break;
default:
Limessage_43562((*(*N_121118).KindU.S6.Sons->data[0]).Info, ((NU8) 163), ((NimStringDesc*) &TMP193939));
break;
}
Result_134650 = N_121118;
break;
case ((NU8) 52):
Result_134650 = N_121118;
Checksonslen_103099(N_121118, 1);
asgnRefNoCycle((void**) &(*N_121118).KindU.S6.Sons->data[0], Semexprwithtype_121122(C_121117, (*N_121118).KindU.S6.Sons->data[0], 0));
LOC61 = Isassignable_130501((*N_121118).KindU.S6.Sons->data[0]);
if (!!((LOC61 == ((NU8) 1)))) goto LA62;
Limessage_43562((*N_121118).Info, ((NU8) 123), ((NimStringDesc*) &TMP193939));
LA62: ;
asgnRef((void**) &(*N_121118).Typ, Makeptrtype_103069(C_121117, (*(*N_121118).KindU.S6.Sons->data[0]).Typ));
break;
case ((NU8) 53):
case ((NU8) 54):
Checksonslen_103099(N_121118, 1);
asgnRefNoCycle((void**) &(*N_121118).KindU.S6.Sons->data[0], Semexpr_121115(C_121117, (*N_121118).KindU.S6.Sons->data[0], Flags_121121));
break;
case ((NU8) 51):
Result_134650 = Semcast_129475(C_121117, N_121118);
break;
case ((NU8) 43):
Checksonslen_103099(N_121118, 1);
Result_134650 = Semexpr_121115(C_121117, (*N_121118).KindU.S6.Sons->data[0], 0);
break;
case ((NU8) 39):
Result_134650 = Semifexpr_133201(C_121117, N_121118);
break;
case ((NU8) 106):
Result_134650 = Semstmtlistexpr_134305(C_121117, N_121118);
break;
case ((NU8) 107):
Result_134650 = Semblockexpr_134381(C_121117, N_121118);
break;
case ((NU8) 47):
case ((NU8) 48):
case ((NU8) 50):
case ((NU8) 49):
Checksonslen_103099(N_121118, 2);
break;
case ((NU8) 60):
case ((NU8) 61):
case ((NU8) 62):
case ((NU8) 55):
case ((NU8) 56):
Checksonslen_103099(N_121118, 1);
break;
case ((NU8) 57):
case ((NU8) 58):
case ((NU8) 59):
Checksonslen_103099(N_121118, 3);
break;
case ((NU8) 37):
Checkminsonslen_103103(N_121118, 2);
break;
case ((NU8) 46):
LOC64 = 0;
LOC64 = Rendertree_81042(N_121118, 4);
Limessage_43562((*N_121118).Info, ((NU8) 69), LOC64);
break;
default:
LOC65 = 0;
LOC65 = Rendertree_81042(N_121118, 4);
Limessage_43562((*N_121118).Info, ((NU8) 165), LOC65);
break;
}
(*Result_134650).Flags |=(1<<((NI8)(((NU8) 6))%(sizeof(NI8)*8)));
BeforeRet: ;
return Result_134650;
}
N_NIMCALL(TY51525*, Semexprwithtype_121122)(TY103012* C_121124, TY51525* N_121125, NU8 Flags_121128) {
TY51525* Result_129040;
NimStringDesc* LOC7;
TY51525* D_129073;
Result_129040 = 0;
Result_129040 = Semexpr_121115(C_121124, N_121125, Flags_121128);
if (!(Result_129040 == NIM_NIL)) goto LA2;
Internalerror_43571(((NimStringDesc*) &TMP194222));
LA2: ;
if (!((*Result_129040).Typ == NIM_NIL)) goto LA5;
LOC7 = 0;
LOC7 = Rendertree_81042(Result_129040, 4);
Limessage_43562((*N_121125).Info, ((NU8) 87), LOC7);
LA5: ;
if (!((*(*Result_129040).Typ).Kind == ((NU8) 23))) goto LA9;
D_129073 = 0;
D_129073 = Newnodeit_51741(((NU8) 54), (*Result_129040).Info, (*(*Result_129040).Typ).Sons->data[0]);
Addson_51823(D_129073, Result_129040);
Result_129040 = D_129073;
LA9: ;
return Result_129040;
}
N_NIMCALL(TY51525*, Semconstexpr_121171)(TY103012* C_121173, TY51525* N_121174) {
TY51525* Result_121175;
Result_121175 = 0;
Result_121175 = Semexprwithtype_121122(C_121173, N_121174, 0);
if (!(Result_121175 == NIM_NIL)) goto LA2;
Limessage_43562((*N_121174).Info, ((NU8) 102), ((NimStringDesc*) &TMP193939));
goto BeforeRet;
LA2: ;
Result_121175 = Getconstexpr_109010((*C_121173).Module, Result_121175);
if (!(Result_121175 == NIM_NIL)) goto LA5;
Limessage_43562((*N_121174).Info, ((NU8) 102), ((NimStringDesc*) &TMP193939));
LA5: ;
BeforeRet: ;
return Result_121175;
}
N_NIMCALL(TY51525*, Semexprnoflags_142538)(TY103012* C_142540, TY51525* N_142541) {
TY51525* Result_142542;
Result_142542 = 0;
Result_142542 = Semexpr_121115(C_142540, N_142541, 0);
return Result_142542;
}
N_NIMCALL(TY101002*, Myopen_142545)(TY51547* Module_142547, NimStringDesc* Filename_142548) {
TY101002* Result_142549;
TY103012* C_142550;
Result_142549 = 0;
C_142550 = 0;
C_142550 = Newcontext_103046(Module_142547, Filename_142548);
if (!!(((*C_142550).P == NIM_NIL))) goto LA2;
Internalerror_43567((*Module_142547).Info, ((NimStringDesc*) &TMP193937));
LA2: ;
(*C_142550).Semconstexpr = Semconstexpr_121171;
(*C_142550).Semexpr = Semexprnoflags_142538;
asgnRefNoCycle((void**) &(*C_142550).P, Newproccon_103050(Module_142547));
Pushowner_103109((*C_142550).Module);
Openscope_55149(&(*C_142550).Tab);
Symtabadd_55127(&(*C_142550).Tab, Module_142547);
if (!(((*Module_142547).Flags &(1<<((((NU8) 16))&31)))!=0)) goto LA5;
asgnRef((void**) &Systemmodule_98004, Module_142547);
Initsystem_98017(&(*C_142550).Tab);
goto LA4;
LA5: ;
Symtabadd_55127(&(*C_142550).Tab, Systemmodule_98004);
Importallsymbols_106009(C_142550, Systemmodule_98004);
LA4: ;
Openscope_55149(&(*C_142550).Tab);
Result_142549 = &C_142550->Sup;
return Result_142549;
}
N_NIMCALL(TY101002*, Myopencached_142578)(TY51547* Module_142580, NimStringDesc* Filename_142581, TY89031* Rd_142582) {
TY101002* Result_142583;
TY103012* C_142584;
TY101002* LOC1;
Result_142583 = 0;
C_142584 = 0;
LOC1 = 0;
LOC1 = Myopen_142545(Module_142580, Filename_142581);
C_142584 = ((TY103012*) (LOC1));
(*C_142584).Fromcache = NIM_TRUE;
Result_142583 = &C_142584->Sup;
return Result_142583;
}
N_NIMCALL(void, Addcodeforgenerics_142409)(TY103012* C_142411, TY51525* N_142412) {
NI I_142420;
NI HEX3Atmp_142532;
NI HEX3Atmp_142533;
NI LOC1;
NI Res_142535;
TY51525* It_142445;
TY51547* Prc_142467;
NIM_BOOL LOC7;
NIM_BOOL LOC12;
NimStringDesc* LOC16;
I_142420 = 0;
HEX3Atmp_142532 = 0;
HEX3Atmp_142533 = 0;
HEX3Atmp_142532 = (*C_142411).Lastgenericidx;
LOC1 = Sonslen_51803((*C_142411).Generics);
HEX3Atmp_142533 = (NI64)(LOC1 - 1);
Res_142535 = 0;
Res_142535 = HEX3Atmp_142532;
while (1) {
if (!(Res_142535 <= HEX3Atmp_142533)) goto LA2;
I_142420 = Res_142535;
It_142445 = 0;
It_142445 = (*(*(*C_142411).Generics).KindU.S6.Sons->data[I_142420]).KindU.S6.Sons->data[1];
if (!!(((*It_142445).Kind == ((NU8) 3)))) goto LA4;
Internalerror_43571(((NimStringDesc*) &TMP194224));
LA4: ;
Prc_142467 = 0;
Prc_142467 = (*It_142445).KindU.S4.Sym;
LOC7 = ((5632 &(1<<(((*Prc_142467).Kind)&31)))!=0);
if (!(LOC7)) goto LA8;
LOC7 = ((*Prc_142467).Magic == ((NU8) 0));
LA8: ;
if (!LOC7) goto LA9;
LOC12 = ((*Prc_142467).Ast == NIM_NIL);
if (LOC12) goto LA13;
LOC12 = ((*(*Prc_142467).Ast).KindU.S6.Sons->data[4] == NIM_NIL);
LA13: ;
if (!LOC12) goto LA14;
LOC16 = 0;
LOC16 = rawNewString((*(*Prc_142467).Name).S->Sup.len + 12);
appendString(LOC16, ((NimStringDesc*) &TMP194225));
appendString(LOC16, (*(*Prc_142467).Name).S);
Internalerror_43567((*Prc_142467).Info, LOC16);
LA14: ;
Addson_51823(N_142412, (*Prc_142467).Ast);
LA9: ;
Res_142535 += 1;
} LA2: ;
(*C_142411).Lastgenericidx = Sonslen_51803((*C_142411).Generics);
}
N_NIMCALL(TY51525*, Myclose_142596)(TY101002* Context_142598, TY51525* N_142599) {
TY51525* Result_142600;
TY103012* C_142601;
Result_142600 = 0;
C_142601 = 0;
C_142601 = ((TY103012*) (Context_142598));
Closescope_104017(&(*C_142601).Tab);
Rawclosescope_55153(&(*C_142601).Tab);
if (!(N_142599 == NIM_NIL)) goto LA2;
Result_142600 = Newnode_51710(((NU8) 101));
goto LA1;
LA2: ;
Internalerror_43567((*N_142599).Info, ((NimStringDesc*) &TMP194223));
LA1: ;
Addcodeforgenerics_142409(C_142601, Result_142600);
Popowner_103112();
asgnRefNoCycle((void**) &(*C_142601).P, NIM_NIL);
return Result_142600;
}
N_NIMCALL(TY51525*, Myprocess_142585)(TY101002* Context_142587, TY51525* N_142588) {
TY51525* Result_142589;
TY103012* C_142590;
NI LOC2;
TY51525* A_142593;
NI LOC6;
Result_142589 = 0;
Result_142589 = NIM_NIL;
C_142590 = 0;
C_142590 = ((TY103012*) (Context_142587));
Result_142589 = Semstmt_121143(C_142590, N_142588);
LOC2 = Sonslen_51803((*C_142590).Generics);
if (!(0 < LOC2)) goto LA3;
A_142593 = 0;
A_142593 = Newnodei_51737(((NU8) 101), (*N_142588).Info);
Addcodeforgenerics_142409(C_142590, A_142593);
LOC6 = Sonslen_51803(A_142593);
if (!(0 < LOC6)) goto LA7;
Addsonifnotnil_51831(A_142593, Result_142589);
Result_142589 = A_142593;
LA7: ;
LA3: ;
return Result_142589;
}
N_NIMCALL(TY101006, Sempass_121001)(void) {
TY101006 Result_142617;
memset((void*)&Result_142617, 0, sizeof(Result_142617));
Initpass_101031(&Result_142617);
Result_142617.Open = Myopen_142545;
Result_142617.Opencached = Myopencached_142578;
Result_142617.Close = Myclose_142596;
Result_142617.Process = Myprocess_142585;
return Result_142617;
}
N_NOINLINE(void, semInit)(void) {
Evaltemplatecounter_121423 = 0;
}

