/* Generated by Nimrod Compiler v0.8.11 */
/*   (c) 2011 Andreas Rumpf */

typedef long long int NI;
typedef unsigned long long int NU;
#include "nimbase.h"

typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct TY10202 TY10202;
typedef struct TNimType TNimType;
typedef struct TY10218 TY10218;
typedef struct TY10590 TY10590;
typedef struct TY10214 TY10214;
typedef struct TY10210 TY10210;
typedef struct TY10588 TY10588;
typedef struct TY50525 TY50525;
typedef struct TY150017 TY150017;
typedef struct TNimNode TNimNode;
typedef struct TY47008 TY47008;
typedef struct TY150033 TY150033;
typedef struct TY150011 TY150011;
typedef struct TY142077 TY142077;
typedef struct TY142075 TY142075;
typedef struct TY50551 TY50551;
typedef struct TY42536 TY42536;
typedef struct TY50547 TY50547;
typedef struct TY49011 TY49011;
typedef struct TY50519 TY50519;
typedef struct TY147007 TY147007;
typedef struct TNimObject TNimObject;
typedef struct TY49005 TY49005;
typedef struct TY50529 TY50529;
typedef struct TY50527 TY50527;
typedef struct TY50539 TY50539;
typedef struct TY50543 TY50543;
typedef struct TY80016 TY80016;
typedef struct TY80014 TY80014;
typedef struct TY80012 TY80012;
typedef struct TY50549 TY50549;
typedef struct TY38013 TY38013;
struct TGenericSeq {
NI len;
NI space;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
struct TY10202 {
NI Refcount;
TNimType* Typ;
};
struct TY10218 {
NI Len;
NI Cap;
TY10202** D;
};
struct TY10214 {
NI Counter;
NI Max;
TY10210* Head;
TY10210** Data;
};
struct TY10588 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY10590 {
TY10218 Zct;
TY10218 Decstack;
TY10214 Cycleroots;
TY10218 Tempstack;
TY10588 Stat;
};
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct TY150011 {
TY142077* N;
TY47008* Refname;
TY47008* Header;
};
typedef TY47008* TY150013[21];
typedef TY47008* TY150043[5];
struct TY150017 {
NimStringDesc* Filename;
NimStringDesc* Basedir;
TY47008* Moddesc;
NI Id;
NI Splitafter;
TY150033* Tocpart;
NIM_BOOL Hastoc;
TY150013 Toc;
TY150013 Section;
TY142077* Indexfile;
TY142077* Theindex;
NimStringDesc* Indexvalfilename;
NI Indent;
NI Verbatim;
TY150043 Meta;
};
struct TY142077 {
NU8 Kind;
NimStringDesc* Text;
NI Level;
TY142075* Sons;
};
struct TY42536 {
NI16 Line;
NI16 Col;
NI32 Fileindex;
};
struct TY50525 {
TY50551* Typ;
NimStringDesc* Comment;
TY42536 Info;
NU8 Flags;
NU8 Kind;
union {
struct {NI64 Intval;
} S1;
struct {NF64 Floatval;
} S2;
struct {NimStringDesc* Strval;
} S3;
struct {TY50547* Sym;
} S4;
struct {TY49011* Ident;
} S5;
struct {TY50519* Sons;
} S6;
} KindU;
};
typedef TY47008* TY47399[1];
typedef TY47008* TY157414[4];
typedef TY47008* TY170640[2];
struct TNimObject {
TNimType* m_type;
};
struct TY147007 {
  TNimObject Sup;
NU8 Kind;
NI Start;
NI Length;
NCSTRING Buf;
NI Pos;
NU8 State;
};
typedef NimStringDesc* TY147060[33];
struct TY49005 {
  TNimObject Sup;
NI Id;
};
struct TY49011 {
  TY49005 Sup;
NimStringDesc* S;
TY49011* Next;
NI H;
};
struct TY50529 {
TNimType* m_type;
NI Counter;
TY50527* Data;
};
struct TY50539 {
NU8 K;
NU8 S;
NU8 Flags;
TY50551* T;
TY47008* R;
NI A;
};
struct TY50547 {
  TY49005 Sup;
NU8 Kind;
NU8 Magic;
TY50551* Typ;
TY49011* Name;
TY42536 Info;
TY50547* Owner;
NU32 Flags;
TY50529 Tab;
TY50525* Ast;
NU32 Options;
NI Position;
NI Offset;
TY50539 Loc;
TY50543* Annex;
};
struct TY80012 {
NU8 Kind;
NI16 Length;
};
struct TY80016 {
NI Indent;
NI Linelen;
NI Pos;
NI Idx;
TY80014* Tokens;
NimStringDesc* Buf;
NI Pendingnl;
TY50519* Comstack;
NU8 Flags;
};
typedef NimStringDesc* TY72146[109];
typedef NimStringDesc* TY43016[4];
typedef NimStringDesc* TY152387[10];
typedef NimStringDesc* TY42866[1];
typedef NimStringDesc* TY152524[6];
typedef TY47008* TY158027[6];
typedef NimStringDesc* TY152543[8];
typedef TY47008* TY158565[8];
typedef NIM_CHAR TY151228[9];
typedef TY47008* TY156003[3];
typedef NI TY8214[8];
struct TY10210 {
TY10210* Next;
NI Key;
TY8214 Bits;
};
struct TY47008 {
  TNimObject Sup;
TY47008* Left;
TY47008* Right;
NI Length;
NimStringDesc* Data;
};
struct TY50551 {
  TY49005 Sup;
NU8 Kind;
TY50549* Sons;
TY50525* N;
NU8 Flags;
NU8 Callconv;
TY50547* Owner;
TY50547* Sym;
NI64 Size;
NI Align;
NI Containerid;
TY50539 Loc;
};
struct TY38013 {
  TNimObject Sup;
TY38013* Prev;
TY38013* Next;
};
struct TY50543 {
  TY38013 Sup;
NU8 Kind;
NIM_BOOL Generated;
TY47008* Name;
TY50525* Path;
};
struct TY150033 {
  TGenericSeq Sup;
  TY150011 data[SEQ_DECL_SIZE];
};
struct TY142075 {
  TGenericSeq Sup;
  TY142077* data[SEQ_DECL_SIZE];
};
struct TY50519 {
  TGenericSeq Sup;
  TY50525* data[SEQ_DECL_SIZE];
};
struct TY50527 {
  TGenericSeq Sup;
  TY50547* data[SEQ_DECL_SIZE];
};
struct TY80014 {
  TGenericSeq Sup;
  TY80012 data[SEQ_DECL_SIZE];
};
struct TY50549 {
  TGenericSeq Sup;
  TY50551* data[SEQ_DECL_SIZE];
};
static N_INLINE(void, asgnRefNoCycle)(void** Dest_12618, void* Src_12619);
static N_INLINE(TY10202*, Usrtocell_11012)(void* Usr_11014);
static N_INLINE(NI, Atomicinc_3001)(NI* Memloc_3004, NI X_3005);
static N_INLINE(NI, Atomicdec_3006)(NI* Memloc_3009, NI X_3010);
static N_INLINE(void, Rtladdzct_12001)(TY10202* C_12003);
N_NOINLINE(void, Addzct_11001)(TY10218* S_11004, TY10202* C_11005);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* Src_18108);
N_NIMCALL(TY50525*, Parsefile_87031)(NimStringDesc* Filename_87033);
N_NIMCALL(NimStringDesc*, nosaddFileExt)(NimStringDesc* Filename_33628, NimStringDesc* Ext_33629);
N_NIMCALL(TY150017*, Newdocumentor_150158)(NimStringDesc* Filename_150160);
N_NIMCALL(void*, newObj)(TNimType* Typ_13307, NI Size_13308);
N_NIMCALL(void*, newSeq)(TNimType* Typ_13804, NI Len_13805);
N_NIMCALL(NimStringDesc*, Getconfigvar_41134)(NimStringDesc* Key_41136);
N_NIMCALL(NI, nsuParseInt)(NimStringDesc* S_24425);
N_NIMCALL(void, Initindexfile_150128)(TY150017* D_150130);
N_NIMCALL(NimStringDesc*, nosChangeFileExt)(NimStringDesc* Filename_33620, NimStringDesc* Ext_33621);
N_NIMCALL(NimStringDesc*, nosextractFilename)(NimStringDesc* Path_33527);
N_NIMCALL(NIM_BOOL, nosexistsFile)(NimStringDesc* Filename_31803);
N_NIMCALL(TY142077*, Rstparse_142082)(NimStringDesc* Text_142084, NIM_BOOL Skippounds_142085, NimStringDesc* Filename_142086, NI Line_142087, NI Column_142088, NIM_BOOL* Hastoc_142090);
N_NIMCALL(NimStringDesc*, Readfile_3647)(NimStringDesc* Filename_3649);
N_NIMCALL(TY142077*, Findindexnode_150047)(TY142077* N_150049);
N_NIMCALL(TY142077*, Newrstnode_142094)(NU8 Kind_142096);
N_NIMCALL(NI, Rsonslen_142091)(TY142077* N_142093);
N_NIMCALL(void, Rawmessage_42557)(NU8 Msg_42559, NimStringDesc* Arg_42560);
N_NIMCALL(void, Clearindex_142126)(TY142077* Index_142128, NimStringDesc* Filename_142129);
N_NIMCALL(void, Addson_142101)(TY142077* Father_142103, TY142077* Son_142104);
N_NIMCALL(TY142077*, Newrstnode_142097)(NU8 Kind_142099, NimStringDesc* S_142100);
N_NIMCALL(void, Generatedoc_151996)(TY150017* D_151998, TY50525* N_151999);
N_NIMCALL(void, App_47031)(TY47008** A_47034, TY47008* B_47035);
N_NIMCALL(TY47008*, Gencomment_150663)(TY150017* D_150665, TY50525* N_150666);
N_NIMCALL(NIM_BOOL, nsuStartsWith)(NimStringDesc* S_24805, NimStringDesc* Prefix_24806);
N_NIMCALL(TY47008*, Renderrsttoout_150592)(TY150017* D_150594, TY142077* N_150595);
N_NIMCALL(TY47008*, Renderaux_150596)(TY150017* D_150598, TY142077* N_150599, NimStringDesc* Outer_150600);
N_NIMCALL(TY47008*, Ropef_47066)(NimStringDesc* Frmt_47068, TY47008** Args_47070, NI Args_47070Len0);
N_NIMCALL(TY47008*, Renderheadline_151093)(TY150017* D_151095, TY142077* N_151096);
N_NIMCALL(TY47008*, Torope_47046)(NimStringDesc* S_47048);
N_NIMCALL(NimStringDesc*, Rstnodetorefname_142105)(TY142077* N_142107);
N_NIMCALL(TGenericSeq*, setLengthSeq)(TGenericSeq* Seq_18403, NI Elemsize_18404, NI Newlen_18405);
N_NIMCALL(TY47008*, Dispf_150559)(NimStringDesc* Xml_150561, NimStringDesc* Tex_150562, TY47008** Args_150564, NI Args_150564Len0);
N_NIMCALL(TY47008*, Torope_47049)(NI64 I_47051);
static N_INLINE(void, appendChar)(NimStringDesc* Dest_18209, NIM_CHAR C_18210);
static N_INLINE(void, appendString)(NimStringDesc* Dest_18192, NimStringDesc* Src_18193);
N_NIMCALL(NimStringDesc*, rawNewString)(NI Space_18087);
N_NIMCALL(TY47008*, Renderoverline_151152)(TY150017* D_151154, TY142077* N_151155);
N_NIMCALL(NimStringDesc*, Disp_150545)(NimStringDesc* Xml_150547, NimStringDesc* Tex_150548);
N_NIMCALL(TY47008*, Renderfield_151760)(TY150017* D_151762, TY142077* N_151763);
N_NIMCALL(NimStringDesc*, Addnodes_142108)(TY142077* N_142110);
N_NIMCALL(NimStringDesc*, Esc_150492)(NimStringDesc* S_150494, NI Splitafter_150495);
N_NIMCALL(NI, Nextsplitpoint_150443)(NimStringDesc* S_150445, NI Start_150446);
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* A_18047, NimStringDesc* B_18048);
N_NIMCALL(NimStringDesc*, resizeString)(NimStringDesc* Dest_18182, NI Addlen_18183);
N_NIMCALL(void, Escchar_150429)(NimStringDesc** Dest_150432, NIM_CHAR C_150433);
N_NIMCALL(void, Addxmlchar_150414)(NimStringDesc** Dest_150417, NIM_CHAR C_150418);
N_NIMCALL(NimStringDesc*, addChar)(NimStringDesc* S_1603, NIM_CHAR C_1604);
N_NIMCALL(void, Addtexchar_150424)(NimStringDesc** Dest_150427, NIM_CHAR C_150428);
N_NIMCALL(NimStringDesc*, nsuStrip)(NimStringDesc* S_23959, NIM_BOOL Leading_23960, NIM_BOOL Trailing_23961);
N_NIMCALL(NI, nsuCmpIgnoreStyle)(NimStringDesc* A_23624, NimStringDesc* B_23625);
N_NIMCALL(void, Internalerror_42575)(NimStringDesc* Errmsg_42577);
N_NIMCALL(NimStringDesc*, Texcolumns_151745)(TY142077* N_151747);
N_NIMCALL(void, Dispa_150575)(TY47008** Dest_150578, NimStringDesc* Xml_150579, NimStringDesc* Tex_150580, TY47008** Args_150582, NI Args_150582Len0);
N_NIMCALL(void, Appf_47071)(TY47008** C_47074, NimStringDesc* Frmt_47075, TY47008** Args_47077, NI Args_47077Len0);
N_NIMCALL(TY142077*, Lastson_142654)(TY142077* N_142656);
N_NIMCALL(TY47008*, Renderimage_151604)(TY150017* D_151606, TY142077* N_151607);
N_NIMCALL(NimStringDesc*, Getfieldvalue_142111)(TY142077* N_142113, NimStringDesc* Fieldname_142114);
N_NIMCALL(TY47008*, Fieldaux_151600)(NimStringDesc* S_151602);
N_NIMCALL(NimStringDesc*, Getargument_142115)(TY142077* N_142117);
N_NIMCALL(TY47008*, Rendercodeblock_151658)(TY150017* D_151660, TY142077* N_151661);
N_NIMCALL(NU8, Getsourcelanguage_147102)(NimStringDesc* Name_147104);
N_NIMCALL(void, Initgeneraltokenizer_147105)(TY147007* G_147108, NimStringDesc* Buf_147109);
N_NIMCALL(void, Getnexttoken_147114)(TY147007* G_147117, NU8 Lang_147118);
N_NIMCALL(void, App_47036)(TY47008** A_47039, NimStringDesc* B_47040);
N_NIMCALL(NimStringDesc*, copyStrLast)(NimStringDesc* S_1928, NI First_1929, NI Last_1930);
N_NIMCALL(void, Deinitgeneraltokenizer_147110)(TY147007* G_147113);
N_NIMCALL(TY47008*, Rendercontainer_151720)(TY150017* D_151722, TY142077* N_151723);
N_NIMCALL(TY47008*, Renderindexterm_150638)(TY150017* D_150640, TY142077* N_150641);
N_NIMCALL(NimStringDesc*, nimIntToStr)(NI X_18803);
N_NIMCALL(void, Setindexpair_142118)(TY142077* Index_142120, TY142077* Key_142121, TY142077* Val_142122);
N_NIMCALL(NimStringDesc*, Tofilename_42583)(TY42536 Info_42585);
N_NIMCALL(NI, Tolinenumber_42589)(TY42536 Info_42591);
N_NIMCALL(NI, Tocolumn_42586)(TY42536 Info_42588);
N_NIMCALL(void, Genitem_151000)(TY150017* D_151002, TY50525* N_151003, TY50525* Namenode_151004, NU8 K_151005);
N_NIMCALL(NIM_BOOL, Isvisible_150743)(TY50525* N_150745);
static N_INLINE(NI, Sonslen_50803)(TY50525* N_50805);
N_NIMCALL(NimStringDesc*, Getname_150871)(TY50525* N_150873, NI Splitafter_150874);
N_NIMCALL(void, Internalerror_42571)(TY42536 Info_42573, NimStringDesc* Errmsg_42574);
N_NIMCALL(TY47008*, Genreccomment_150670)(TY150017* D_150672, TY50525* N_150673);
N_NIMCALL(void, Inittokrender_80048)(TY80016* R_80051, TY50525* N_80052, NU8 Renderflags_80055);
N_NIMCALL(void, Getnexttok_80056)(TY80016* R_80059, NU8* Kind_80061, NimStringDesc** Literal_80063);
N_NIMCALL(TY47008*, Ropeformatnamedvars_150213)(NimStringDesc* Frmt_150215, NimStringDesc** Varnames_150217, NI Varnames_150217Len0, TY47008** Varvalues_150219, NI Varvalues_150219Len0);
N_NIMCALL(NI, Getvaridx_150194)(NimStringDesc** Varnames_150197, NI Varnames_150197Len0, NimStringDesc* Id_150198);
N_NIMCALL(void, Setindexforsourceterm_150618)(TY150017* D_150620, TY142077* Name_150621, NI Id_150622);
N_NIMCALL(TY142077*, Getrstname_150936)(TY50525* N_150938);
N_NIMCALL(NIM_BOOL, Checkforfalse_151909)(TY50525* N_151911);
N_NIMCALL(NIM_BOOL, Identeq_49028)(TY49011* Id_49030, NimStringDesc* Name_49031);
static N_INLINE(TY50525*, Lastson_50809)(TY50525* N_50811);
N_NIMCALL(void, Tracedeps_151974)(TY150017* D_151976, TY50525* N_151977);
N_NIMCALL(NimStringDesc*, Getmodulefile_151934)(TY50525* N_151936);
N_NIMCALL(void, Writerope_47055)(TY47008* Head_47057, NimStringDesc* Filename_47058);
N_NIMCALL(TY47008*, Genoutfile_152439)(TY150017* D_152441);
N_NIMCALL(TY47008*, Rendertocentries_151566)(TY150017* D_151568, NI* J_151570, NI Lvl_151571);
N_NIMCALL(TY47008*, Rendertocentry_151557)(TY150017* D_151559, TY150011* E_151560);
N_NIMCALL(void, Gensection_152382)(TY150017* D_152384, NU8 Kind_152385);
N_NIMCALL(NimStringDesc*, ntgetDateStr)(void);
N_NIMCALL(NimStringDesc*, ntgetClockStr)(void);
N_NIMCALL(NimStringDesc*, Getoutfile_41144)(NimStringDesc* Filename_41146, NimStringDesc* Ext_41147);
N_NIMCALL(void, Generateindex_152551)(TY150017* D_152553);
N_NIMCALL(void, Sortindex_142123)(TY142077* A_142125);
N_NIMCALL(TY47008*, Renderrsttorst_151201)(TY150017* D_151203, TY142077* N_151204);
N_NIMCALL(NimStringDesc*, nsuRepeatChar)(NI Count_24638, NIM_CHAR C_24639);
N_NIMCALL(TY47008*, Renderrstsons_151205)(TY150017* D_151207, TY142077* N_151208);
N_NIMCALL(NI, Ropelen_47052)(TY47008* A_47054);
N_NIMCALL(NimStringDesc*, reprEnum)(NI E_19155, TNimType* Typ_19156);
N_NIMCALL(void, Commandrstaux_152581)(NimStringDesc* Filename_152583, NimStringDesc* Outext_152584);
STRING_LITERAL(TMP150046, "<wbr />", 7);
STRING_LITERAL(TMP191076, "nim", 3);
STRING_LITERAL(TMP191083, "split.item.toc", 14);
STRING_LITERAL(TMP191084, "txt", 3);
STRING_LITERAL(TMP191085, "html", 4);
STRING_LITERAL(TMP191153, "Index", 5);
STRING_LITERAL(TMP191154, "##", 2);
STRING_LITERAL(TMP191155, "$1", 2);
STRING_LITERAL(TMP191156, "<h$1><a class=\"toc-backref\" id=\"$2\" href=\"#$2_toc\">$3</a></h$1>", 63);
STRING_LITERAL(TMP191157, "\\rsth$4{$3}\\label{$2}$n", 23);
STRING_LITERAL(TMP191158, "", 0);
STRING_LITERAL(TMP191159, "<h$1 id=\"$2\">$3</h$1>", 21);
STRING_LITERAL(TMP191160, "<h$1 id=\"$2\"><center>$3</center></h$1>", 38);
STRING_LITERAL(TMP191161, "\\rstov$4{$3}\\label{$2}$n", 24);
STRING_LITERAL(TMP191162, "<hr />\015\012", 8);
STRING_LITERAL(TMP191163, "\\hrule\015\012", 8);
STRING_LITERAL(TMP191164, "<p>$1</p>\015\012", 11);
STRING_LITERAL(TMP191165, "$1$n$n", 6);
STRING_LITERAL(TMP191166, "<ul class=\"simple\">$1</ul>\015\012", 28);
STRING_LITERAL(TMP191167, "\\begin{itemize}$1\\end{itemize}\015\012", 32);
STRING_LITERAL(TMP191168, "<li>$1</li>\015\012", 13);
STRING_LITERAL(TMP191169, "\\item $1\015\012", 10);
STRING_LITERAL(TMP191170, "<ol class=\"simple\">$1</ol>\015\012", 28);
STRING_LITERAL(TMP191171, "\\begin{enumerate}$1\\end{enumerate}\015\012", 36);
STRING_LITERAL(TMP191172, "<dl class=\"docutils\">$1</dl>\015\012", 30);
STRING_LITERAL(TMP191173, "\\begin{description}$1\\end{description}\015\012", 40);
STRING_LITERAL(TMP191174, "<dt>$1</dt>\015\012", 13);
STRING_LITERAL(TMP191175, "\\item[$1] ", 10);
STRING_LITERAL(TMP191176, "<dd>$1</dd>\015\012", 13);
STRING_LITERAL(TMP191177, "$1\015\012", 4);
STRING_LITERAL(TMP191178, "<table class=\"docinfo\" frame=\"void\" rules=\"none\"><col class=\"do"
"cinfo-name\" /><col class=\"docinfo-content\" /><tbody valign=\"top\""
">$1</tbody></table>", 146);
STRING_LITERAL(TMP191179, " ", 1);
STRING_LITERAL(TMP191180, "&amp;", 5);
STRING_LITERAL(TMP191181, "&lt;", 4);
STRING_LITERAL(TMP191182, "&gt;", 4);
STRING_LITERAL(TMP191183, "&quot;", 6);
STRING_LITERAL(TMP191184, "\\_", 2);
STRING_LITERAL(TMP191185, "\\symbol{123}", 12);
STRING_LITERAL(TMP191186, "\\symbol{125}", 12);
STRING_LITERAL(TMP191187, "\\symbol{91}", 11);
STRING_LITERAL(TMP191188, "\\symbol{93}", 11);
STRING_LITERAL(TMP191189, "\\symbol{92}", 11);
STRING_LITERAL(TMP191190, "\\$", 2);
STRING_LITERAL(TMP191191, "\\&", 2);
STRING_LITERAL(TMP191192, "\\#", 2);
STRING_LITERAL(TMP191193, "\\%", 2);
STRING_LITERAL(TMP191194, "\\symbol{126}", 12);
STRING_LITERAL(TMP191195, "\\symbol{64}", 11);
STRING_LITERAL(TMP191196, "\\symbol{94}", 11);
STRING_LITERAL(TMP191197, "\\symbol{96}", 11);
STRING_LITERAL(TMP191198, "author", 6);
STRING_LITERAL(TMP191199, "version", 7);
STRING_LITERAL(TMP191200, "<tr>$1</tr>$n", 13);
STRING_LITERAL(TMP191201, "<th class=\"docinfo-name\">$1:</th>", 33);
STRING_LITERAL(TMP191202, "\\item[$1:]", 10);
STRING_LITERAL(TMP191203, "<td>$1</td>", 11);
STRING_LITERAL(TMP191204, " $1$n", 5);
STRING_LITERAL(TMP191205, "<table frame=\"void\">$1</table>", 30);
STRING_LITERAL(TMP191206, "\\begin{description}$n$1\\end{description}\015\012", 42);
STRING_LITERAL(TMP191207, "<th align=\"left\">$1</th>", 24);
STRING_LITERAL(TMP191208, "\\item[$1]", 9);
STRING_LITERAL(TMP191209, "<td align=\"left\">$1</td>$n", 26);
STRING_LITERAL(TMP191210, "renderRstToOut", 14);
STRING_LITERAL(TMP191211, "<pre>$1</pre>$n", 15);
STRING_LITERAL(TMP191212, "\\begin{rstpre}$n$1$n\\end{rstpre}$n", 34);
STRING_LITERAL(TMP191213, "<p>$1</p>", 9);
STRING_LITERAL(TMP191214, "$1<br />", 8);
STRING_LITERAL(TMP191215, "$1\\\\$n", 6);
STRING_LITERAL(TMP191216, "<blockquote><p>$1</p></blockquote>$n", 36);
STRING_LITERAL(TMP191217, "\\begin{quote}$1\\end{quote}$n", 28);
STRING_LITERAL(TMP191218, "<table border=\"1\" class=\"docutils\">$1</table>", 45);
STRING_LITERAL(TMP191219, "\\begin{table}\\begin{rsttab}{", 28);
STRING_LITERAL(TMP191220, "|X", 2);
STRING_LITERAL(TMP191221, "|}$n\\hline$n$1\\end{rsttab}\\end{table}", 37);
STRING_LITERAL(TMP191222, " & $1", 5);
STRING_LITERAL(TMP191223, "$1\\\\$n\\hline$n", 14);
STRING_LITERAL(TMP191224, "<th>$1</th>", 11);
STRING_LITERAL(TMP191225, "\\textbf{$1}", 11);
STRING_LITERAL(TMP191226, "<a class=\"reference external\" href=\"#$2\">$1</a>", 47);
STRING_LITERAL(TMP191227, "$1\\ref{$2}", 10);
STRING_LITERAL(TMP191228, "<a class=\"reference external\" href=\"$1\">$1</a>", 46);
STRING_LITERAL(TMP191229, "\\href{$1}{$1}", 13);
STRING_LITERAL(TMP191230, "<a class=\"reference external\" href=\"$2\">$1</a>", 46);
STRING_LITERAL(TMP191231, "\\href{$2}{$1}", 13);
STRING_LITERAL(TMP191232, "scale", 5);
STRING_LITERAL(TMP191233, " scale=\"$1\"", 11);
STRING_LITERAL(TMP191234, " scale=$1", 9);
STRING_LITERAL(TMP191235, "height", 6);
STRING_LITERAL(TMP191236, " height=\"$1\"", 12);
STRING_LITERAL(TMP191237, " height=$1", 10);
STRING_LITERAL(TMP191238, "width", 5);
STRING_LITERAL(TMP191239, " width=\"$1\"", 11);
STRING_LITERAL(TMP191240, " width=$1", 9);
STRING_LITERAL(TMP191241, "alt", 3);
STRING_LITERAL(TMP191242, " alt=\"$1\"", 9);
STRING_LITERAL(TMP191243, "align", 5);
STRING_LITERAL(TMP191244, " align=\"$1\"", 11);
STRING_LITERAL(TMP191245, "[$1]", 4);
STRING_LITERAL(TMP191246, "<img src=\"$1\"$2 />", 18);
STRING_LITERAL(TMP191247, "\\includegraphics$2{$1}", 22);
STRING_LITERAL(TMP191248, "renderCodeBlock", 15);
STRING_LITERAL(TMP191364, "<span class=\"$2\">$1</span>", 26);
STRING_LITERAL(TMP191365, "\\span$2{$1}", 11);
extern NIM_CONST TY147060 Tokenclasstostr_147059;
STRING_LITERAL(TMP191366, "<pre>$1</pre>", 13);
STRING_LITERAL(TMP191367, "<div>$1</div>", 13);
STRING_LITERAL(TMP191368, "<div class=\"$1\">$2</div>", 24);
STRING_LITERAL(TMP191369, "$2", 2);
STRING_LITERAL(TMP191370, "|$1|", 4);
STRING_LITERAL(TMP191371, "<sub>$1</sub>", 13);
STRING_LITERAL(TMP191372, "\\rstsub{$1}", 11);
STRING_LITERAL(TMP191373, "<sup>$1</sup>", 13);
STRING_LITERAL(TMP191374, "\\rstsup{$1}", 11);
STRING_LITERAL(TMP191375, "<em>$1</em>", 11);
STRING_LITERAL(TMP191376, "\\emph{$1}", 9);
STRING_LITERAL(TMP191377, "<strong>$1</strong>", 19);
STRING_LITERAL(TMP191378, "<cite>$1</cite>", 15);
STRING_LITERAL(TMP191379, "<em id=\"$1\">$2</em>", 19);
STRING_LITERAL(TMP191380, "$2\\label{$1}", 12);
STRING_LITERAL(TMP191381, "#", 1);
STRING_LITERAL(TMP191382, "<tt class=\"docutils literal\"><span class=\"pre\">$1</span></tt>", 61);
STRING_LITERAL(TMP191383, "\\texttt{$1}", 11);
STRING_LITERAL(TMP191384, "`", 1);
STRING_LITERAL(TMP191385, "getName()", 9);
STRING_LITERAL(TMP191386, "<span class=\"Comment\">$1</span>", 31);
STRING_LITERAL(TMP191387, "\\spanComment{$1}", 16);
STRING_LITERAL(TMP191388, "<span class=\"Keyword\">$1</span>", 31);
STRING_LITERAL(TMP191389, "\\spanKeyword{$1}", 16);
STRING_LITERAL(TMP191390, "<span class=\"Operator\">$1</span>", 32);
STRING_LITERAL(TMP191391, "\\spanOperator{$1}", 17);
STRING_LITERAL(TMP191392, "<span class=\"StringLit\">$1</span>", 33);
STRING_LITERAL(TMP191393, "\\spanStringLit{$1}", 18);
STRING_LITERAL(TMP191394, "<span class=\"CharLit\">$1</span>", 31);
STRING_LITERAL(TMP191395, "\\spanCharLit{$1}", 16);
STRING_LITERAL(TMP191396, "<span class=\"DecNumber\">$1</span>", 33);
STRING_LITERAL(TMP191397, "\\spanDecNumber{$1}", 18);
STRING_LITERAL(TMP191398, "<span class=\"FloatNumber\">$1</span>", 35);
STRING_LITERAL(TMP191399, "\\spanFloatNumber{$1}", 20);
STRING_LITERAL(TMP191400, "<span class=\"Identifier\">$1</span>", 34);
STRING_LITERAL(TMP191401, "\\spanIdentifier{$1}", 19);
STRING_LITERAL(TMP191402, "<span class=\"Other\">$1</span>", 29);
STRING_LITERAL(TMP191403, "\\spanOther{$1}", 14);
STRING_LITERAL(TMP191404, "docgen.genThing(", 16);
extern NIM_CONST TY72146 Toktypetostr_72145;
STRING_LITERAL(TMP191405, "$", 1);
STRING_LITERAL(TMP191406, "ropeFormatNamedVars", 19);
STRING_LITERAL(TMP191407, "}", 1);
STRING_LITERAL(TMP191408, "doc.item", 8);
STRING_LITERAL(TMP191410, "name", 4);
STRING_LITERAL(TMP191411, "header", 6);
STRING_LITERAL(TMP191412, "desc", 4);
STRING_LITERAL(TMP191413, "itemID", 6);
NIM_CONST TY43016 TMP191409 = {((NimStringDesc*) &TMP191410),
((NimStringDesc*) &TMP191411),
((NimStringDesc*) &TMP191412),
((NimStringDesc*) &TMP191413)}
;
STRING_LITERAL(TMP191414, "doc.item.toc", 12);
STRING_LITERAL(TMP191415, "getRstName()", 12);
STRING_LITERAL(TMP191416, "false", 5);
STRING_LITERAL(TMP191417, ", ", 2);
STRING_LITERAL(TMP191418, "<a class=\"reference external\" href=\"$1.html\">$1</a>", 51);
STRING_LITERAL(TMP191419, "getModuleFile()", 15);
STRING_LITERAL(TMP191420, "<li><a class=\"reference\" id=\"$1_toc\" href=\"#$1\">$2</a></li>$n", 61);
STRING_LITERAL(TMP191421, "\\item\\label{$1_toc} $2\\ref{$1}$n", 32);
STRING_LITERAL(TMP191422, "<ul class=\"simple\">$1</ul>", 26);
STRING_LITERAL(TMP191423, "\\begin{enumerate}$1\\end{enumerate}", 34);
STRING_LITERAL(TMP191424, "Imports", 7);
STRING_LITERAL(TMP191425, "Types", 5);
STRING_LITERAL(TMP191426, "Consts", 6);
STRING_LITERAL(TMP191427, "Vars", 4);
STRING_LITERAL(TMP191428, "Procs", 5);
STRING_LITERAL(TMP191429, "Methods", 7);
STRING_LITERAL(TMP191430, "Iterators", 9);
STRING_LITERAL(TMP191431, "Converters", 10);
STRING_LITERAL(TMP191432, "Macros", 6);
STRING_LITERAL(TMP191433, "Templates", 9);
NIM_CONST TY152387 Sectionnames_152386 = {((NimStringDesc*) &TMP191424),
((NimStringDesc*) &TMP191425),
((NimStringDesc*) &TMP191426),
((NimStringDesc*) &TMP191427),
((NimStringDesc*) &TMP191428),
((NimStringDesc*) &TMP191429),
((NimStringDesc*) &TMP191430),
((NimStringDesc*) &TMP191431),
((NimStringDesc*) &TMP191432),
((NimStringDesc*) &TMP191433)}
;
extern NIM_CONST TY152387 Sectionnames_152386;
STRING_LITERAL(TMP191434, "doc.section", 11);
STRING_LITERAL(TMP191436, "sectionid", 9);
STRING_LITERAL(TMP191437, "sectionTitle", 12);
STRING_LITERAL(TMP191438, "sectionTitleID", 14);
STRING_LITERAL(TMP191439, "content", 7);
NIM_CONST TY43016 TMP191435 = {((NimStringDesc*) &TMP191436),
((NimStringDesc*) &TMP191437),
((NimStringDesc*) &TMP191438),
((NimStringDesc*) &TMP191439)}
;
STRING_LITERAL(TMP191440, "doc.section.toc", 15);
STRING_LITERAL(TMP191441, "doc.toc", 7);
NIM_CONST TY42866 TMP191442 = {((NimStringDesc*) &TMP191439)}
;
STRING_LITERAL(TMP191443, "Module ", 7);
STRING_LITERAL(TMP191444, "doc.body_toc", 12);
STRING_LITERAL(TMP191445, "doc.body_no_toc", 15);
STRING_LITERAL(TMP191447, "title", 5);
STRING_LITERAL(TMP191448, "tableofcontents", 15);
STRING_LITERAL(TMP191449, "moduledesc", 10);
STRING_LITERAL(TMP191450, "date", 4);
STRING_LITERAL(TMP191451, "time", 4);
NIM_CONST TY152524 TMP191446 = {((NimStringDesc*) &TMP191447),
((NimStringDesc*) &TMP191448),
((NimStringDesc*) &TMP191449),
((NimStringDesc*) &TMP191450),
((NimStringDesc*) &TMP191451),
((NimStringDesc*) &TMP191439)}
;
STRING_LITERAL(TMP191452, "doc.file", 8);
NIM_CONST TY152543 TMP191453 = {((NimStringDesc*) &TMP191447),
((NimStringDesc*) &TMP191448),
((NimStringDesc*) &TMP191449),
((NimStringDesc*) &TMP191450),
((NimStringDesc*) &TMP191451),
((NimStringDesc*) &TMP191439),
((NimStringDesc*) &TMP191198),
((NimStringDesc*) &TMP191199)}
;
NIM_CONST TY151228 Lvltochar_151227 = {33,
61,
45,
126,
96,
60,
42,
124,
43}
;
STRING_LITERAL(TMP191454, "$n$1$2$n$1$3", 12);
extern NIM_CONST TY151228 Lvltochar_151227;
STRING_LITERAL(TMP191455, "$n$1$3$n$1$2$n$1$3", 18);
STRING_LITERAL(TMP191456, "$n$n$1$2$n$n", 12);
STRING_LITERAL(TMP191457, "$n$n$1$2", 8);
STRING_LITERAL(TMP191458, "$n$1* $2", 8);
STRING_LITERAL(TMP191459, "$n$1(#) $2", 10);
STRING_LITERAL(TMP191460, "$n$1  $2", 8);
STRING_LITERAL(TMP191461, "$n$1:$2:$3$4", 12);
STRING_LITERAL(TMP191462, "$n$1| $2", 8);
STRING_LITERAL(TMP191463, "`$1`_", 5);
STRING_LITERAL(TMP191464, "`$1 <$2>`_", 10);
STRING_LITERAL(TMP191465, "`$1`:$2:", 8);
STRING_LITERAL(TMP191466, "`$1`:sub:", 9);
STRING_LITERAL(TMP191467, "`$1`:sup:", 9);
STRING_LITERAL(TMP191468, "`$1`:idx:", 9);
STRING_LITERAL(TMP191469, "*$1*", 4);
STRING_LITERAL(TMP191470, "**$1**", 6);
STRING_LITERAL(TMP191471, "`$1`", 4);
STRING_LITERAL(TMP191472, "``$1``", 6);
STRING_LITERAL(TMP191473, "\\", 1);
STRING_LITERAL(TMP191474, "\\\\", 2);
STRING_LITERAL(TMP191475, "$n$n$1.. index::$n$2", 20);
STRING_LITERAL(TMP191476, "$n$n$1.. contents::", 19);
STRING_LITERAL(TMP191478, "\\-", 2);
STRING_LITERAL(TMP191479, "tex", 3);
NimStringDesc* Splitter_150045;
extern TY10590 Gch_10608;
extern TNimType* NTI150019; /* PDoc */
extern TNimType* NTI150033; /* seq[TTocEntry] */
extern NimStringDesc* Gindexfile_41082;
extern NU8 Gcmd_41083;
extern TNimType* NTI147007; /* TGeneralTokenizer */
extern NU32 Gglobaloptions_41078;
extern TNimType* NTI142008; /* TRstNodeKind */
static N_INLINE(TY10202*, Usrtocell_11012)(void* Usr_11014) {
TY10202* Result_11015;
Result_11015 = 0;
Result_11015 = ((TY10202*) ((NI64)((NU64)(((NI) (Usr_11014))) - (NU64)(((NI) (((NI)sizeof(TY10202))))))));
return Result_11015;
}
static N_INLINE(NI, Atomicinc_3001)(NI* Memloc_3004, NI X_3005) {
NI Result_7407;
Result_7407 = 0;
(*Memloc_3004) += X_3005;
Result_7407 = (*Memloc_3004);
return Result_7407;
}
static N_INLINE(NI, Atomicdec_3006)(NI* Memloc_3009, NI X_3010) {
NI Result_7606;
Result_7606 = 0;
(*Memloc_3009) -= X_3010;
Result_7606 = (*Memloc_3009);
return Result_7606;
}
static N_INLINE(void, Rtladdzct_12001)(TY10202* C_12003) {
Addzct_11001(&Gch_10608.Zct, C_12003);
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_12618, void* Src_12619) {
TY10202* C_12620;
NI LOC4;
TY10202* C_12622;
NI LOC9;
if (!!((Src_12619 == NIM_NIL))) goto LA2;
C_12620 = 0;
C_12620 = Usrtocell_11012(Src_12619);
LOC4 = Atomicinc_3001(&(*C_12620).Refcount, 8);
LA2: ;
if (!!(((*Dest_12618) == NIM_NIL))) goto LA6;
C_12622 = 0;
C_12622 = Usrtocell_11012((*Dest_12618));
LOC9 = Atomicdec_3006(&(*C_12622).Refcount, 8);
if (!((NU64)(LOC9) < (NU64)(8))) goto LA10;
Rtladdzct_12001(C_12622);
LA10: ;
LA6: ;
(*Dest_12618) = Src_12619;
}
N_NIMCALL(TY150017*, Newdocumentor_150158)(NimStringDesc* Filename_150160) {
TY150017* Result_150161;
NimStringDesc* S_150193;
Result_150161 = 0;
Result_150161 = (TY150017*) newObj(NTI150019, sizeof(TY150017));
asgnRefNoCycle((void**) &(*Result_150161).Tocpart, (TY150033*) newSeq(NTI150033, 0));
asgnRefNoCycle((void**) &(*Result_150161).Filename, copyString(Filename_150160));
(*Result_150161).Id = 100;
(*Result_150161).Splitafter = 20;
S_150193 = 0;
S_150193 = Getconfigvar_41134(((NimStringDesc*) &TMP191083));
if (!!(((S_150193) && (S_150193)->Sup.len == 0))) goto LA2;
(*Result_150161).Splitafter = nsuParseInt(S_150193);
LA2: ;
return Result_150161;
}
N_NIMCALL(TY142077*, Findindexnode_150047)(TY142077* N_150049) {
TY142077* Result_150050;
NI I_150113;
NI HEX3Atmp_150125;
NI LOC11;
NI Res_150127;
Result_150050 = 0;
if (!(N_150049 == NIM_NIL)) goto LA2;
Result_150050 = NIM_NIL;
goto LA1;
LA2: ;
if (!((*N_150049).Kind == ((NU8) 51))) goto LA4;
Result_150050 = (*N_150049).Sons->data[2];
if (!(Result_150050 == NIM_NIL)) goto LA7;
Result_150050 = Newrstnode_142094(((NU8) 9));
asgnRefNoCycle((void**) &(*N_150049).Sons->data[2], Result_150050);
goto LA6;
LA7: ;
if (!((*Result_150050).Kind == ((NU8) 0))) goto LA9;
Result_150050 = (*Result_150050).Sons->data[0];
goto LA6;
LA9: ;
LA6: ;
goto LA1;
LA4: ;
Result_150050 = NIM_NIL;
I_150113 = 0;
HEX3Atmp_150125 = 0;
LOC11 = Rsonslen_142091(N_150049);
HEX3Atmp_150125 = (NI64)(LOC11 - 1);
Res_150127 = 0;
Res_150127 = 0;
while (1) {
if (!(Res_150127 <= HEX3Atmp_150125)) goto LA12;
I_150113 = Res_150127;
Result_150050 = Findindexnode_150047((*N_150049).Sons->data[I_150113]);
if (!!((Result_150050 == NIM_NIL))) goto LA14;
goto BeforeRet;
LA14: ;
Res_150127 += 1;
} LA12: ;
LA1: ;
BeforeRet: ;
return Result_150050;
}
N_NIMCALL(void, Initindexfile_150128)(TY150017* D_150130) {
TY142077* H_150131;
NIM_BOOL Dummyhastoc_150132;
NimStringDesc* LOC4;
NIM_BOOL LOC6;
NimStringDesc* LOC9;
NIM_BOOL LOC11;
TY142077* LOC15;
H_150131 = 0;
Dummyhastoc_150132 = 0;
if (!(Gindexfile_41082->Sup.len == 0)) goto LA2;
goto BeforeRet;
LA2: ;
asgnRefNoCycle((void**) &Gindexfile_41082, nosaddFileExt(Gindexfile_41082, ((NimStringDesc*) &TMP191084)));
LOC4 = 0;
LOC4 = nosextractFilename((*D_150130).Filename);
asgnRefNoCycle((void**) &(*D_150130).Indexvalfilename, nosChangeFileExt(LOC4, ((NimStringDesc*) &TMP191085)));
LOC6 = nosexistsFile(Gindexfile_41082);
if (!LOC6) goto LA7;
LOC9 = 0;
LOC9 = Readfile_3647(Gindexfile_41082);
asgnRefNoCycle((void**) &(*D_150130).Indexfile, Rstparse_142082(LOC9, NIM_FALSE, Gindexfile_41082, 0, 1, &Dummyhastoc_150132));
asgnRefNoCycle((void**) &(*D_150130).Theindex, Findindexnode_150047((*D_150130).Indexfile));
LOC11 = ((*D_150130).Theindex == NIM_NIL);
if (LOC11) goto LA12;
LOC11 = !(((*(*D_150130).Theindex).Kind == ((NU8) 9)));
LA12: ;
if (!LOC11) goto LA13;
Rawmessage_42557(((NU8) 190), Gindexfile_41082);
LA13: ;
Clearindex_142126((*D_150130).Theindex, (*D_150130).Indexvalfilename);
goto LA5;
LA7: ;
asgnRefNoCycle((void**) &(*D_150130).Indexfile, Newrstnode_142094(((NU8) 0)));
H_150131 = Newrstnode_142094(((NU8) 2));
(*H_150131).Level = 1;
LOC15 = 0;
LOC15 = Newrstnode_142097(((NU8) 62), ((NimStringDesc*) &TMP191153));
Addson_142101(H_150131, LOC15);
Addson_142101((*D_150130).Indexfile, H_150131);
H_150131 = Newrstnode_142094(((NU8) 51));
Addson_142101(H_150131, NIM_NIL);
Addson_142101(H_150131, NIM_NIL);
asgnRefNoCycle((void**) &(*D_150130).Theindex, Newrstnode_142094(((NU8) 9)));
Addson_142101(H_150131, (*D_150130).Theindex);
Addson_142101((*D_150130).Indexfile, H_150131);
LA5: ;
BeforeRet: ;
}
N_NIMCALL(TY47008*, Renderaux_150596)(TY150017* D_150598, TY142077* N_150599, NimStringDesc* Outer_150600) {
TY47008* Result_150601;
NI I_150609;
NI HEX3Atmp_150615;
NI LOC1;
NI Res_150617;
TY47008* LOC3;
TY47399 LOC4;
Result_150601 = 0;
Result_150601 = NIM_NIL;
I_150609 = 0;
HEX3Atmp_150615 = 0;
LOC1 = Rsonslen_142091(N_150599);
HEX3Atmp_150615 = (NI64)(LOC1 - 1);
Res_150617 = 0;
Res_150617 = 0;
while (1) {
if (!(Res_150617 <= HEX3Atmp_150615)) goto LA2;
I_150609 = Res_150617;
LOC3 = 0;
LOC3 = Renderrsttoout_150592(D_150598, (*N_150599).Sons->data[I_150609]);
App_47031(&Result_150601, LOC3);
Res_150617 += 1;
} LA2: ;
memset((void*)&LOC4, 0, sizeof(LOC4));
LOC4[0] = Result_150601;
Result_150601 = Ropef_47066(Outer_150600, LOC4, 1);
return Result_150601;
}
N_NIMCALL(TY47008*, Dispf_150559)(NimStringDesc* Xml_150561, NimStringDesc* Tex_150562, TY47008** Args_150564, NI Args_150564Len0) {
TY47008* Result_150565;
Result_150565 = 0;
if (!!((Gcmd_41083 == ((NU8) 16)))) goto LA2;
Result_150565 = Ropef_47066(Xml_150561, Args_150564, Args_150564Len0);
goto LA1;
LA2: ;
Result_150565 = Ropef_47066(Tex_150562, Args_150564, Args_150564Len0);
LA1: ;
return Result_150565;
}
static N_INLINE(void, appendChar)(NimStringDesc* Dest_18209, NIM_CHAR C_18210) {
(*Dest_18209).data[((*Dest_18209).Sup.len)-0] = C_18210;
(*Dest_18209).data[((NI64)((*Dest_18209).Sup.len + 1))-0] = 0;
(*Dest_18209).Sup.len += 1;
}
static N_INLINE(void, appendString)(NimStringDesc* Dest_18192, NimStringDesc* Src_18193) {
memcpy(((NCSTRING) (&(*Dest_18192).data[((*Dest_18192).Sup.len)-0])), ((NCSTRING) ((*Src_18193).data)), ((NI32) ((NI64)((NI64)((*Src_18193).Sup.len + 1) * 1))));
(*Dest_18192).Sup.len += (*Src_18193).Sup.len;
}
N_NIMCALL(TY47008*, Renderheadline_151093)(TY150017* D_151095, TY142077* N_151096) {
TY47008* Result_151097;
NI I_151105;
NI HEX3Atmp_151149;
NI LOC1;
NI Res_151151;
TY47008* LOC3;
TY47008* Refname_151107;
NimStringDesc* LOC4;
NI Length_151118;
TY157414 LOC8;
NimStringDesc* LOC9;
TY157414 LOC10;
NimStringDesc* LOC11;
Result_151097 = 0;
Result_151097 = NIM_NIL;
I_151105 = 0;
HEX3Atmp_151149 = 0;
LOC1 = Rsonslen_142091(N_151096);
HEX3Atmp_151149 = (NI64)(LOC1 - 1);
Res_151151 = 0;
Res_151151 = 0;
while (1) {
if (!(Res_151151 <= HEX3Atmp_151149)) goto LA2;
I_151105 = Res_151151;
LOC3 = 0;
LOC3 = Renderrsttoout_150592(D_151095, (*N_151096).Sons->data[I_151105]);
App_47031(&Result_151097, LOC3);
Res_151151 += 1;
} LA2: ;
Refname_151107 = 0;
LOC4 = 0;
LOC4 = Rstnodetorefname_142105(N_151096);
Refname_151107 = Torope_47046(LOC4);
if (!(*D_151095).Hastoc) goto LA6;
Length_151118 = 0;
Length_151118 = (*D_151095).Tocpart->Sup.len;
(*D_151095).Tocpart = (TY150033*) setLengthSeq(&((*D_151095).Tocpart)->Sup, sizeof(TY150011), (NI64)(Length_151118 + 1));
asgnRefNoCycle((void**) &(*D_151095).Tocpart->data[Length_151118].Refname, Refname_151107);
asgnRefNoCycle((void**) &(*D_151095).Tocpart->data[Length_151118].N, N_151096);
asgnRefNoCycle((void**) &(*D_151095).Tocpart->data[Length_151118].Header, Result_151097);
memset((void*)&LOC8, 0, sizeof(LOC8));
LOC8[0] = Torope_47049(((NI64) ((*N_151096).Level)));
LOC8[1] = (*D_151095).Tocpart->data[Length_151118].Refname;
LOC8[2] = Result_151097;
LOC9 = 0;
LOC9 = rawNewString(1);
appendChar(LOC9, ((NIM_CHAR) (((NI) ((NI64)((NI64)((*N_151096).Level - 1) + 65))))));
appendString(LOC9, ((NimStringDesc*) &TMP191158));
LOC8[3] = Torope_47046(LOC9);
Result_151097 = Dispf_150559(((NimStringDesc*) &TMP191156), ((NimStringDesc*) &TMP191157), LOC8, 4);
goto LA5;
LA6: ;
memset((void*)&LOC10, 0, sizeof(LOC10));
LOC10[0] = Torope_47049(((NI64) ((*N_151096).Level)));
LOC10[1] = Refname_151107;
LOC10[2] = Result_151097;
LOC11 = 0;
LOC11 = rawNewString(1);
appendChar(LOC11, ((NIM_CHAR) (((NI) ((NI64)((NI64)((*N_151096).Level - 1) + 65))))));
appendString(LOC11, ((NimStringDesc*) &TMP191158));
LOC10[3] = Torope_47046(LOC11);
Result_151097 = Dispf_150559(((NimStringDesc*) &TMP191159), ((NimStringDesc*) &TMP191157), LOC10, 4);
LA5: ;
return Result_151097;
}
N_NIMCALL(TY47008*, Renderoverline_151152)(TY150017* D_151154, TY142077* N_151155) {
TY47008* Result_151156;
TY47008* T_151157;
NI I_151165;
NI HEX3Atmp_151198;
NI LOC1;
NI Res_151200;
TY47008* LOC3;
TY157414 LOC9;
NimStringDesc* LOC10;
NimStringDesc* LOC11;
Result_151156 = 0;
T_151157 = 0;
T_151157 = NIM_NIL;
I_151165 = 0;
HEX3Atmp_151198 = 0;
LOC1 = Rsonslen_142091(N_151155);
HEX3Atmp_151198 = (NI64)(LOC1 - 1);
Res_151200 = 0;
Res_151200 = 0;
while (1) {
if (!(Res_151200 <= HEX3Atmp_151198)) goto LA2;
I_151165 = Res_151200;
LOC3 = 0;
LOC3 = Renderrsttoout_150592(D_151154, (*N_151155).Sons->data[I_151165]);
App_47031(&T_151157, LOC3);
Res_151200 += 1;
} LA2: ;
Result_151156 = NIM_NIL;
if (!((*D_151154).Meta[(((NU8) 1))-0] == NIM_NIL)) goto LA5;
asgnRefNoCycle((void**) &(*D_151154).Meta[(((NU8) 1))-0], T_151157);
goto LA4;
LA5: ;
if (!((*D_151154).Meta[(((NU8) 2))-0] == NIM_NIL)) goto LA7;
asgnRefNoCycle((void**) &(*D_151154).Meta[(((NU8) 2))-0], T_151157);
goto LA4;
LA7: ;
memset((void*)&LOC9, 0, sizeof(LOC9));
LOC9[0] = Torope_47049(((NI64) ((*N_151155).Level)));
LOC10 = 0;
LOC10 = Rstnodetorefname_142105(N_151155);
LOC9[1] = Torope_47046(LOC10);
LOC9[2] = T_151157;
LOC11 = 0;
LOC11 = rawNewString(1);
appendChar(LOC11, ((NIM_CHAR) (((NI) ((NI64)((NI64)((*N_151155).Level - 1) + 65))))));
appendString(LOC11, ((NimStringDesc*) &TMP191158));
LOC9[3] = Torope_47046(LOC11);
Result_151156 = Dispf_150559(((NimStringDesc*) &TMP191160), ((NimStringDesc*) &TMP191161), LOC9, 4);
LA4: ;
return Result_151156;
}
N_NIMCALL(NimStringDesc*, Disp_150545)(NimStringDesc* Xml_150547, NimStringDesc* Tex_150548) {
NimStringDesc* Result_150549;
Result_150549 = 0;
if (!!((Gcmd_41083 == ((NU8) 16)))) goto LA2;
Result_150549 = copyString(Xml_150547);
goto LA1;
LA2: ;
Result_150549 = copyString(Tex_150548);
LA1: ;
return Result_150549;
}
N_NIMCALL(NI, Nextsplitpoint_150443)(NimStringDesc* S_150445, NI Start_150446) {
NI Result_150447;
Result_150447 = 0;
Result_150447 = Start_150446;
while (1) {
if (!(Result_150447 < (NI64)(S_150445->Sup.len + 0))) goto LA1;
switch (((NU8)(S_150445->data[Result_150447]))) {
case 95:
goto BeforeRet;
break;
case 97 ... 122:
if (!((NI64)(Result_150447 + 1) < (NI64)(S_150445->Sup.len + 0))) goto LA3;
if (!(((NU8)(S_150445->data[(NI64)(Result_150447 + 1)])) >= ((NU8)(65)) && ((NU8)(S_150445->data[(NI64)(Result_150447 + 1)])) <= ((NU8)(90)))) goto LA6;
goto BeforeRet;
LA6: ;
LA3: ;
break;
default:
break;
}
Result_150447 += 1;
} LA1: ;
Result_150447 -= 1;
BeforeRet: ;
return Result_150447;
}
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* A_18047, NimStringDesc* B_18048) {
NIM_BOOL Result_18049;
NIM_BOOL LOC5;
NIM_BOOL LOC9;
NI32 LOC11;
Result_18049 = 0;
if (!(A_18047 == B_18048)) goto LA2;
Result_18049 = NIM_TRUE;
goto BeforeRet;
LA2: ;
LOC5 = (A_18047 == NIM_NIL);
if (LOC5) goto LA6;
LOC5 = (B_18048 == NIM_NIL);
LA6: ;
if (!LOC5) goto LA7;
Result_18049 = NIM_FALSE;
goto BeforeRet;
LA7: ;
LOC9 = ((*A_18047).Sup.len == (*B_18048).Sup.len);
if (!(LOC9)) goto LA10;
LOC11 = memcmp(((NCSTRING) ((*A_18047).data)), ((NCSTRING) ((*B_18048).data)), ((NI32) ((NI64)((*A_18047).Sup.len * 1))));
LOC9 = (LOC11 == ((NI32) 0));
LA10: ;
Result_18049 = LOC9;
goto BeforeRet;
BeforeRet: ;
return Result_18049;
}
N_NIMCALL(void, Addxmlchar_150414)(NimStringDesc** Dest_150417, NIM_CHAR C_150418) {
switch (((NU8)(C_150418))) {
case 38:
(*Dest_150417) = resizeString((*Dest_150417), 5);
appendString((*Dest_150417), ((NimStringDesc*) &TMP191180));
break;
case 60:
(*Dest_150417) = resizeString((*Dest_150417), 4);
appendString((*Dest_150417), ((NimStringDesc*) &TMP191181));
break;
case 62:
(*Dest_150417) = resizeString((*Dest_150417), 4);
appendString((*Dest_150417), ((NimStringDesc*) &TMP191182));
break;
case 34:
(*Dest_150417) = resizeString((*Dest_150417), 6);
appendString((*Dest_150417), ((NimStringDesc*) &TMP191183));
break;
default:
(*Dest_150417) = addChar((*Dest_150417), C_150418);
break;
}
}
N_NIMCALL(void, Addtexchar_150424)(NimStringDesc** Dest_150427, NIM_CHAR C_150428) {
switch (((NU8)(C_150428))) {
case 95:
(*Dest_150427) = resizeString((*Dest_150427), 2);
appendString((*Dest_150427), ((NimStringDesc*) &TMP191184));
break;
case 123:
(*Dest_150427) = resizeString((*Dest_150427), 12);
appendString((*Dest_150427), ((NimStringDesc*) &TMP191185));
break;
case 125:
(*Dest_150427) = resizeString((*Dest_150427), 12);
appendString((*Dest_150427), ((NimStringDesc*) &TMP191186));
break;
case 91:
(*Dest_150427) = resizeString((*Dest_150427), 11);
appendString((*Dest_150427), ((NimStringDesc*) &TMP191187));
break;
case 93:
(*Dest_150427) = resizeString((*Dest_150427), 11);
appendString((*Dest_150427), ((NimStringDesc*) &TMP191188));
break;
case 92:
(*Dest_150427) = resizeString((*Dest_150427), 11);
appendString((*Dest_150427), ((NimStringDesc*) &TMP191189));
break;
case 36:
(*Dest_150427) = resizeString((*Dest_150427), 2);
appendString((*Dest_150427), ((NimStringDesc*) &TMP191190));
break;
case 38:
(*Dest_150427) = resizeString((*Dest_150427), 2);
appendString((*Dest_150427), ((NimStringDesc*) &TMP191191));
break;
case 35:
(*Dest_150427) = resizeString((*Dest_150427), 2);
appendString((*Dest_150427), ((NimStringDesc*) &TMP191192));
break;
case 37:
(*Dest_150427) = resizeString((*Dest_150427), 2);
appendString((*Dest_150427), ((NimStringDesc*) &TMP191193));
break;
case 126:
(*Dest_150427) = resizeString((*Dest_150427), 12);
appendString((*Dest_150427), ((NimStringDesc*) &TMP191194));
break;
case 64:
(*Dest_150427) = resizeString((*Dest_150427), 11);
appendString((*Dest_150427), ((NimStringDesc*) &TMP191195));
break;
case 94:
(*Dest_150427) = resizeString((*Dest_150427), 11);
appendString((*Dest_150427), ((NimStringDesc*) &TMP191196));
break;
case 96:
(*Dest_150427) = resizeString((*Dest_150427), 11);
appendString((*Dest_150427), ((NimStringDesc*) &TMP191197));
break;
default:
(*Dest_150427) = addChar((*Dest_150427), C_150428);
break;
}
}
N_NIMCALL(void, Escchar_150429)(NimStringDesc** Dest_150432, NIM_CHAR C_150433) {
if (!!((Gcmd_41083 == ((NU8) 16)))) goto LA2;
Addxmlchar_150414(Dest_150432, C_150433);
goto LA1;
LA2: ;
Addtexchar_150424(Dest_150432, C_150433);
LA1: ;
}
N_NIMCALL(NimStringDesc*, Esc_150492)(NimStringDesc* S_150494, NI Splitafter_150495) {
NimStringDesc* Result_150496;
NI Partlen_150499;
NI J_150500;
NI K_150505;
NIM_BOOL LOC6;
NI I_150515;
NI Res_150541;
NI I_150538;
NI HEX3Atmp_150542;
NI Res_150544;
Result_150496 = 0;
Result_150496 = copyString(((NimStringDesc*) &TMP191158));
if (!(0 <= Splitafter_150495)) goto LA2;
Partlen_150499 = 0;
Partlen_150499 = 0;
J_150500 = 0;
J_150500 = 0;
while (1) {
if (!(J_150500 < S_150494->Sup.len)) goto LA4;
K_150505 = 0;
K_150505 = Nextsplitpoint_150443(S_150494, J_150500);
LOC6 = !(eqStrings(Splitter_150045, ((NimStringDesc*) &TMP191179)));
if (LOC6) goto LA7;
LOC6 = (Splitafter_150495 < (NI64)((NI64)((NI64)(Partlen_150499 + K_150505) - J_150500) + 1));
LA7: ;
if (!LOC6) goto LA8;
Partlen_150499 = 0;
Result_150496 = resizeString(Result_150496, Splitter_150045->Sup.len + 0);
appendString(Result_150496, Splitter_150045);
LA8: ;
I_150515 = 0;
Res_150541 = 0;
Res_150541 = J_150500;
while (1) {
if (!(Res_150541 <= K_150505)) goto LA10;
I_150515 = Res_150541;
Escchar_150429(&Result_150496, S_150494->data[I_150515]);
Res_150541 += 1;
} LA10: ;
Partlen_150499 += (NI64)((NI64)(K_150505 - J_150500) + 1);
J_150500 = (NI64)(K_150505 + 1);
} LA4: ;
goto LA1;
LA2: ;
I_150538 = 0;
HEX3Atmp_150542 = 0;
HEX3Atmp_150542 = (NI64)((NI64)(S_150494->Sup.len + 0) - 1);
Res_150544 = 0;
Res_150544 = 0;
while (1) {
if (!(Res_150544 <= HEX3Atmp_150542)) goto LA11;
I_150538 = Res_150544;
Escchar_150429(&Result_150496, S_150494->data[I_150538]);
Res_150544 += 1;
} LA11: ;
LA1: ;
return Result_150496;
}
N_NIMCALL(TY47008*, Renderfield_151760)(TY150017* D_151762, TY142077* N_151763) {
TY47008* Result_151764;
NIM_BOOL B_151765;
NimStringDesc* Fieldname_151775;
TY47008* Fieldval_151776;
NimStringDesc* LOC4;
NimStringDesc* LOC5;
NimStringDesc* LOC6;
NI LOC8;
NI LOC14;
NimStringDesc* LOC23;
Result_151764 = 0;
B_151765 = 0;
B_151765 = NIM_FALSE;
if (!(Gcmd_41083 == ((NU8) 16))) goto LA2;
Fieldname_151775 = 0;
Fieldname_151775 = Addnodes_142108((*N_151763).Sons->data[0]);
Fieldval_151776 = 0;
LOC4 = 0;
LOC4 = Addnodes_142108((*N_151763).Sons->data[1]);
LOC5 = 0;
LOC5 = nsuStrip(LOC4, NIM_TRUE, NIM_TRUE);
LOC6 = 0;
LOC6 = Esc_150492(LOC5, -1);
Fieldval_151776 = Torope_47046(LOC6);
LOC8 = nsuCmpIgnoreStyle(Fieldname_151775, ((NimStringDesc*) &TMP191198));
if (!(LOC8 == 0)) goto LA9;
if (!((*D_151762).Meta[(((NU8) 3))-0] == NIM_NIL)) goto LA12;
asgnRefNoCycle((void**) &(*D_151762).Meta[(((NU8) 3))-0], Fieldval_151776);
B_151765 = NIM_TRUE;
LA12: ;
goto LA7;
LA9: ;
LOC14 = nsuCmpIgnoreStyle(Fieldname_151775, ((NimStringDesc*) &TMP191199));
if (!(LOC14 == 0)) goto LA15;
if (!((*D_151762).Meta[(((NU8) 4))-0] == NIM_NIL)) goto LA18;
asgnRefNoCycle((void**) &(*D_151762).Meta[(((NU8) 4))-0], Fieldval_151776);
B_151765 = NIM_TRUE;
LA18: ;
goto LA7;
LA15: ;
LA7: ;
LA2: ;
if (!B_151765) goto LA21;
Result_151764 = NIM_NIL;
goto LA20;
LA21: ;
LOC23 = 0;
LOC23 = Disp_150545(((NimStringDesc*) &TMP191200), ((NimStringDesc*) &TMP191155));
Result_151764 = Renderaux_150596(D_151762, N_151763, LOC23);
LA20: ;
return Result_151764;
}
N_NIMCALL(NimStringDesc*, Texcolumns_151745)(TY142077* N_151747) {
NimStringDesc* Result_151748;
NI I_151756;
NI HEX3Atmp_151757;
NI Res_151759;
Result_151748 = 0;
Result_151748 = copyString(((NimStringDesc*) &TMP191158));
I_151756 = 0;
HEX3Atmp_151757 = 0;
HEX3Atmp_151757 = Rsonslen_142091(N_151747);
Res_151759 = 0;
Res_151759 = 1;
while (1) {
if (!(Res_151759 <= HEX3Atmp_151757)) goto LA1;
I_151756 = Res_151759;
Result_151748 = resizeString(Result_151748, 2);
appendString(Result_151748, ((NimStringDesc*) &TMP191220));
Res_151759 += 1;
} LA1: ;
return Result_151748;
}
N_NIMCALL(void, Dispa_150575)(TY47008** Dest_150578, NimStringDesc* Xml_150579, NimStringDesc* Tex_150580, TY47008** Args_150582, NI Args_150582Len0) {
if (!!((Gcmd_41083 == ((NU8) 16)))) goto LA2;
Appf_47071(Dest_150578, Xml_150579, Args_150582, Args_150582Len0);
goto LA1;
LA2: ;
Appf_47071(Dest_150578, Tex_150580, Args_150582, Args_150582Len0);
LA1: ;
}
N_NIMCALL(TY47008*, Fieldaux_151600)(NimStringDesc* S_151602) {
TY47008* Result_151603;
NimStringDesc* LOC1;
Result_151603 = 0;
LOC1 = 0;
LOC1 = nsuStrip(S_151602, NIM_TRUE, NIM_TRUE);
Result_151603 = Torope_47046(LOC1);
return Result_151603;
}
N_NIMCALL(TY47008*, Renderimage_151604)(TY150017* D_151606, TY142077* N_151607) {
TY47008* Result_151608;
TY47008* Options_151609;
NimStringDesc* S_151610;
TY47399 LOC4;
TY47399 LOC8;
TY47399 LOC12;
TY47399 LOC16;
TY47399 LOC20;
TY47399 LOC24;
TY170640 LOC25;
NimStringDesc* LOC26;
NI LOC28;
TY47008* LOC31;
Result_151608 = 0;
Options_151609 = 0;
Options_151609 = NIM_NIL;
S_151610 = 0;
S_151610 = Getfieldvalue_142111(N_151607, ((NimStringDesc*) &TMP191232));
if (!!(((S_151610) && (S_151610)->Sup.len == 0))) goto LA2;
memset((void*)&LOC4, 0, sizeof(LOC4));
LOC4[0] = Fieldaux_151600(S_151610);
Dispa_150575(&Options_151609, ((NimStringDesc*) &TMP191233), ((NimStringDesc*) &TMP191234), LOC4, 1);
LA2: ;
S_151610 = Getfieldvalue_142111(N_151607, ((NimStringDesc*) &TMP191235));
if (!!(((S_151610) && (S_151610)->Sup.len == 0))) goto LA6;
memset((void*)&LOC8, 0, sizeof(LOC8));
LOC8[0] = Fieldaux_151600(S_151610);
Dispa_150575(&Options_151609, ((NimStringDesc*) &TMP191236), ((NimStringDesc*) &TMP191237), LOC8, 1);
LA6: ;
S_151610 = Getfieldvalue_142111(N_151607, ((NimStringDesc*) &TMP191238));
if (!!(((S_151610) && (S_151610)->Sup.len == 0))) goto LA10;
memset((void*)&LOC12, 0, sizeof(LOC12));
LOC12[0] = Fieldaux_151600(S_151610);
Dispa_150575(&Options_151609, ((NimStringDesc*) &TMP191239), ((NimStringDesc*) &TMP191240), LOC12, 1);
LA10: ;
S_151610 = Getfieldvalue_142111(N_151607, ((NimStringDesc*) &TMP191241));
if (!!(((S_151610) && (S_151610)->Sup.len == 0))) goto LA14;
memset((void*)&LOC16, 0, sizeof(LOC16));
LOC16[0] = Fieldaux_151600(S_151610);
Dispa_150575(&Options_151609, ((NimStringDesc*) &TMP191242), ((NimStringDesc*) &TMP191158), LOC16, 1);
LA14: ;
S_151610 = Getfieldvalue_142111(N_151607, ((NimStringDesc*) &TMP191243));
if (!!(((S_151610) && (S_151610)->Sup.len == 0))) goto LA18;
memset((void*)&LOC20, 0, sizeof(LOC20));
LOC20[0] = Fieldaux_151600(S_151610);
Dispa_150575(&Options_151609, ((NimStringDesc*) &TMP191244), ((NimStringDesc*) &TMP191158), LOC20, 1);
LA18: ;
if (!!((Options_151609 == NIM_NIL))) goto LA22;
memset((void*)&LOC24, 0, sizeof(LOC24));
LOC24[0] = Options_151609;
Options_151609 = Dispf_150559(((NimStringDesc*) &TMP191155), ((NimStringDesc*) &TMP191245), LOC24, 1);
LA22: ;
memset((void*)&LOC25, 0, sizeof(LOC25));
LOC26 = 0;
LOC26 = Getargument_142115(N_151607);
LOC25[0] = Torope_47046(LOC26);
LOC25[1] = Options_151609;
Result_151608 = Dispf_150559(((NimStringDesc*) &TMP191246), ((NimStringDesc*) &TMP191247), LOC25, 2);
LOC28 = Rsonslen_142091(N_151607);
if (!(3 <= LOC28)) goto LA29;
LOC31 = 0;
LOC31 = Renderrsttoout_150592(D_151606, (*N_151607).Sons->data[2]);
App_47031(&Result_151608, LOC31);
LA29: ;
return Result_151608;
}
N_NIMCALL(TY47008*, Rendercodeblock_151658)(TY150017* D_151660, TY142077* N_151661) {
TY47008* Result_151662;
TY142077* M_151674;
NimStringDesc* Langstr_151684;
NimStringDesc* LOC7;
NU8 Lang_151685;
TY147007 G_151695;
NimStringDesc* LOC15;
TY170640 LOC16;
NimStringDesc* LOC17;
NimStringDesc* LOC18;
TY47399 LOC22;
Result_151662 = 0;
Result_151662 = NIM_NIL;
if (!((*N_151661).Sons->data[2] == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
M_151674 = 0;
M_151674 = (*(*N_151661).Sons->data[2]).Sons->data[0];
if (!!(((*M_151674).Kind == ((NU8) 62)))) goto LA5;
Internalerror_42575(((NimStringDesc*) &TMP191248));
LA5: ;
Langstr_151684 = 0;
LOC7 = 0;
LOC7 = Getargument_142115(N_151661);
Langstr_151684 = nsuStrip(LOC7, NIM_TRUE, NIM_TRUE);
Lang_151685 = 0;
if (!((Langstr_151684) && (Langstr_151684)->Sup.len == 0)) goto LA9;
Lang_151685 = ((NU8) 1);
goto LA8;
LA9: ;
Lang_151685 = Getsourcelanguage_147102(Langstr_151684);
LA8: ;
if (!(Lang_151685 == ((NU8) 0))) goto LA12;
Rawmessage_42557(((NU8) 220), Langstr_151684);
Result_151662 = Torope_47046((*M_151674).Text);
goto LA11;
LA12: ;
memset((void*)&G_151695, 0, sizeof(G_151695));
G_151695.Sup.m_type = NTI147007;
Initgeneraltokenizer_147105(&G_151695, (*M_151674).Text);
while (1) {
Getnexttoken_147114(&G_151695, Lang_151685);
switch (G_151695.Kind) {
case ((NU8) 0):
goto LA14;
break;
case ((NU8) 1):
case ((NU8) 2):
LOC15 = 0;
LOC15 = copyStrLast((*M_151674).Text, (NI64)(G_151695.Start + 0), (NI64)((NI64)((NI64)(G_151695.Length + G_151695.Start) - 1) + 0));
App_47036(&Result_151662, LOC15);
break;
default:
memset((void*)&LOC16, 0, sizeof(LOC16));
LOC17 = 0;
LOC17 = copyStrLast((*M_151674).Text, (NI64)(G_151695.Start + 0), (NI64)((NI64)((NI64)(G_151695.Length + G_151695.Start) - 1) + 0));
LOC18 = 0;
LOC18 = Esc_150492(LOC17, -1);
LOC16[0] = Torope_47046(LOC18);
LOC16[1] = Torope_47046(Tokenclasstostr_147059[(G_151695.Kind)-0]);
Dispa_150575(&Result_151662, ((NimStringDesc*) &TMP191364), ((NimStringDesc*) &TMP191365), LOC16, 2);
break;
}
} LA14: ;
Deinitgeneraltokenizer_147110(&G_151695);
LA11: ;
if (!!((Result_151662 == NIM_NIL))) goto LA20;
memset((void*)&LOC22, 0, sizeof(LOC22));
LOC22[0] = Result_151662;
Result_151662 = Dispf_150559(((NimStringDesc*) &TMP191366), ((NimStringDesc*) &TMP191212), LOC22, 1);
LA20: ;
BeforeRet: ;
return Result_151662;
}
N_NIMCALL(TY47008*, Rendercontainer_151720)(TY150017* D_151722, TY142077* N_151723) {
TY47008* Result_151724;
TY47008* Arg_151725;
NimStringDesc* LOC1;
NimStringDesc* LOC2;
TY47399 LOC6;
TY170640 LOC7;
Result_151724 = 0;
Result_151724 = Renderrsttoout_150592(D_151722, (*N_151723).Sons->data[2]);
Arg_151725 = 0;
LOC1 = 0;
LOC1 = Getargument_142115(N_151723);
LOC2 = 0;
LOC2 = nsuStrip(LOC1, NIM_TRUE, NIM_TRUE);
Arg_151725 = Torope_47046(LOC2);
if (!(Arg_151725 == NIM_NIL)) goto LA4;
memset((void*)&LOC6, 0, sizeof(LOC6));
LOC6[0] = Result_151724;
Result_151724 = Dispf_150559(((NimStringDesc*) &TMP191367), ((NimStringDesc*) &TMP191155), LOC6, 1);
goto LA3;
LA4: ;
memset((void*)&LOC7, 0, sizeof(LOC7));
LOC7[0] = Arg_151725;
LOC7[1] = Result_151724;
Result_151724 = Dispf_150559(((NimStringDesc*) &TMP191368), ((NimStringDesc*) &TMP191369), LOC7, 2);
LA3: ;
return Result_151724;
}
N_NIMCALL(TY47008*, Renderindexterm_150638)(TY150017* D_150640, TY142077* N_150641) {
TY47008* Result_150642;
TY170640 LOC1;
TY142077* H_150659;
TY142077* A_150662;
NimStringDesc* LOC2;
NimStringDesc* LOC3;
NimStringDesc* LOC4;
Result_150642 = 0;
(*D_150640).Id += 1;
memset((void*)&LOC1, 0, sizeof(LOC1));
LOC1[0] = Torope_47049(((NI64) ((*D_150640).Id)));
LOC1[1] = Renderaux_150596(D_150640, N_150641, ((NimStringDesc*) &TMP191155));
Result_150642 = Dispf_150559(((NimStringDesc*) &TMP191379), ((NimStringDesc*) &TMP191380), LOC1, 2);
H_150659 = 0;
H_150659 = Newrstnode_142094(((NU8) 38));
A_150662 = 0;
LOC2 = 0;
LOC3 = 0;
LOC3 = Disp_150545(((NimStringDesc*) &TMP191381), ((NimStringDesc*) &TMP191158));
LOC4 = 0;
LOC4 = nimIntToStr((*D_150640).Id);
LOC2 = rawNewString((*D_150640).Indexvalfilename->Sup.len + LOC3->Sup.len + LOC4->Sup.len + 0);
appendString(LOC2, (*D_150640).Indexvalfilename);
appendString(LOC2, LOC3);
appendString(LOC2, LOC4);
A_150662 = Newrstnode_142097(((NU8) 62), LOC2);
Addson_142101(H_150659, A_150662);
Addson_142101(H_150659, A_150662);
Setindexpair_142118((*D_150640).Theindex, N_150641, H_150659);
return Result_150642;
}
N_NIMCALL(TY47008*, Renderrsttoout_150592)(TY150017* D_150594, TY142077* N_150595) {
TY47008* Result_151807;
NimStringDesc* LOC4;
NimStringDesc* LOC5;
NimStringDesc* LOC6;
NimStringDesc* LOC7;
NimStringDesc* LOC8;
NimStringDesc* LOC9;
NimStringDesc* LOC10;
NimStringDesc* LOC11;
NI I_151826;
NI HEX3Atmp_151903;
NI LOC12;
NI Res_151905;
TY47008* LOC14;
TY47399 LOC18;
NimStringDesc* LOC19;
NimStringDesc* LOC20;
NimStringDesc* LOC21;
NimStringDesc* LOC22;
NimStringDesc* LOC23;
NimStringDesc* LOC24;
NimStringDesc* LOC25;
NimStringDesc* LOC26;
NimStringDesc* LOC27;
NimStringDesc* LOC28;
NimStringDesc* LOC29;
NimStringDesc* LOC30;
NimStringDesc* LOC31;
NI LOC33;
NI I_151852;
NI HEX3Atmp_151906;
NI LOC36;
NI Res_151908;
TY47399 LOC38;
TY47399 LOC39;
NimStringDesc* LOC40;
NimStringDesc* LOC41;
TY170640 LOC42;
NimStringDesc* LOC43;
NimStringDesc* LOC44;
TY170640 LOC45;
TY142077* LOC49;
NimStringDesc* LOC50;
TY142077* LOC54;
NimStringDesc* LOC55;
NimStringDesc* LOC56;
TY170640 LOC57;
NimStringDesc* LOC58;
NimStringDesc* LOC59;
NimStringDesc* LOC60;
NimStringDesc* LOC61;
NimStringDesc* LOC62;
NimStringDesc* LOC66;
NimStringDesc* LOC67;
NimStringDesc* LOC68;
Result_151807 = 0;
if (!(N_150595 == NIM_NIL)) goto LA2;
Result_151807 = NIM_NIL;
goto BeforeRet;
LA2: ;
switch ((*N_150595).Kind) {
case ((NU8) 0):
Result_151807 = Renderaux_150596(D_150594, N_150595, ((NimStringDesc*) &TMP191155));
break;
case ((NU8) 1):
Result_151807 = Renderheadline_151093(D_150594, N_150595);
break;
case ((NU8) 2):
Result_151807 = Renderoverline_151152(D_150594, N_150595);
break;
case ((NU8) 3):
LOC4 = 0;
LOC4 = Disp_150545(((NimStringDesc*) &TMP191162), ((NimStringDesc*) &TMP191163));
Result_151807 = Renderaux_150596(D_150594, N_150595, LOC4);
break;
case ((NU8) 4):
LOC5 = 0;
LOC5 = Disp_150545(((NimStringDesc*) &TMP191164), ((NimStringDesc*) &TMP191165));
Result_151807 = Renderaux_150596(D_150594, N_150595, LOC5);
break;
case ((NU8) 5):
LOC6 = 0;
LOC6 = Disp_150545(((NimStringDesc*) &TMP191166), ((NimStringDesc*) &TMP191167));
Result_151807 = Renderaux_150596(D_150594, N_150595, LOC6);
break;
case ((NU8) 6):
case ((NU8) 8):
LOC7 = 0;
LOC7 = Disp_150545(((NimStringDesc*) &TMP191168), ((NimStringDesc*) &TMP191169));
Result_151807 = Renderaux_150596(D_150594, N_150595, LOC7);
break;
case ((NU8) 7):
LOC8 = 0;
LOC8 = Disp_150545(((NimStringDesc*) &TMP191170), ((NimStringDesc*) &TMP191171));
Result_151807 = Renderaux_150596(D_150594, N_150595, LOC8);
break;
case ((NU8) 9):
LOC9 = 0;
LOC9 = Disp_150545(((NimStringDesc*) &TMP191172), ((NimStringDesc*) &TMP191173));
Result_151807 = Renderaux_150596(D_150594, N_150595, LOC9);
break;
case ((NU8) 10):
Result_151807 = Renderaux_150596(D_150594, N_150595, ((NimStringDesc*) &TMP191155));
break;
case ((NU8) 11):
LOC10 = 0;
LOC10 = Disp_150545(((NimStringDesc*) &TMP191174), ((NimStringDesc*) &TMP191175));
Result_151807 = Renderaux_150596(D_150594, N_150595, LOC10);
break;
case ((NU8) 12):
LOC11 = 0;
LOC11 = Disp_150545(((NimStringDesc*) &TMP191176), ((NimStringDesc*) &TMP191177));
Result_151807 = Renderaux_150596(D_150594, N_150595, LOC11);
break;
case ((NU8) 13):
Result_151807 = NIM_NIL;
I_151826 = 0;
HEX3Atmp_151903 = 0;
LOC12 = Rsonslen_142091(N_150595);
HEX3Atmp_151903 = (NI64)(LOC12 - 1);
Res_151905 = 0;
Res_151905 = 0;
while (1) {
if (!(Res_151905 <= HEX3Atmp_151903)) goto LA13;
I_151826 = Res_151905;
LOC14 = 0;
LOC14 = Renderrsttoout_150592(D_150594, (*N_150595).Sons->data[I_151826]);
App_47031(&Result_151807, LOC14);
Res_151905 += 1;
} LA13: ;
if (!!((Result_151807 == NIM_NIL))) goto LA16;
memset((void*)&LOC18, 0, sizeof(LOC18));
LOC18[0] = Result_151807;
Result_151807 = Dispf_150559(((NimStringDesc*) &TMP191178), ((NimStringDesc*) &TMP191173), LOC18, 1);
LA16: ;
break;
case ((NU8) 14):
Result_151807 = Renderfield_151760(D_150594, N_150595);
break;
case ((NU8) 15):
LOC19 = 0;
LOC19 = Disp_150545(((NimStringDesc*) &TMP191201), ((NimStringDesc*) &TMP191202));
Result_151807 = Renderaux_150596(D_150594, N_150595, LOC19);
break;
case ((NU8) 16):
LOC20 = 0;
LOC20 = Disp_150545(((NimStringDesc*) &TMP191203), ((NimStringDesc*) &TMP191204));
Result_151807 = Renderaux_150596(D_150594, N_150595, LOC20);
break;
case ((NU8) 51):
Result_151807 = Renderrsttoout_150592(D_150594, (*N_150595).Sons->data[2]);
break;
case ((NU8) 17):
LOC21 = 0;
LOC21 = Disp_150545(((NimStringDesc*) &TMP191205), ((NimStringDesc*) &TMP191206));
Result_151807 = Renderaux_150596(D_150594, N_150595, LOC21);
break;
case ((NU8) 18):
LOC22 = 0;
LOC22 = Disp_150545(((NimStringDesc*) &TMP191200), ((NimStringDesc*) &TMP191155));
Result_151807 = Renderaux_150596(D_150594, N_150595, LOC22);
break;
case ((NU8) 19):
LOC23 = 0;
LOC23 = Disp_150545(((NimStringDesc*) &TMP191207), ((NimStringDesc*) &TMP191208));
Result_151807 = Renderaux_150596(D_150594, N_150595, LOC23);
break;
case ((NU8) 23):
LOC24 = 0;
LOC24 = Disp_150545(((NimStringDesc*) &TMP191209), ((NimStringDesc*) &TMP191204));
Result_151807 = Renderaux_150596(D_150594, N_150595, LOC24);
break;
case ((NU8) 20):
case ((NU8) 21):
case ((NU8) 22):
Internalerror_42575(((NimStringDesc*) &TMP191210));
break;
case ((NU8) 24):
LOC25 = 0;
LOC25 = Disp_150545(((NimStringDesc*) &TMP191211), ((NimStringDesc*) &TMP191212));
Result_151807 = Renderaux_150596(D_150594, N_150595, LOC25);
break;
case ((NU8) 25):
Internalerror_42575(((NimStringDesc*) &TMP191210));
break;
case ((NU8) 26):
LOC26 = 0;
LOC26 = Disp_150545(((NimStringDesc*) &TMP191213), ((NimStringDesc*) &TMP191165));
Result_151807 = Renderaux_150596(D_150594, N_150595, LOC26);
break;
case ((NU8) 27):
LOC27 = 0;
LOC27 = Disp_150545(((NimStringDesc*) &TMP191214), ((NimStringDesc*) &TMP191215));
Result_151807 = Renderaux_150596(D_150594, N_150595, LOC27);
break;
case ((NU8) 28):
LOC28 = 0;
LOC28 = Disp_150545(((NimStringDesc*) &TMP191216), ((NimStringDesc*) &TMP191217));
Result_151807 = Renderaux_150596(D_150594, N_150595, LOC28);
break;
case ((NU8) 29):
case ((NU8) 30):
LOC29 = 0;
LOC30 = 0;
LOC30 = Texcolumns_151745(N_150595);
LOC29 = rawNewString(LOC30->Sup.len + 65);
appendString(LOC29, ((NimStringDesc*) &TMP191219));
appendString(LOC29, LOC30);
appendString(LOC29, ((NimStringDesc*) &TMP191221));
LOC31 = 0;
LOC31 = Disp_150545(((NimStringDesc*) &TMP191218), LOC29);
Result_151807 = Renderaux_150596(D_150594, N_150595, LOC31);
break;
case ((NU8) 31):
LOC33 = Rsonslen_142091(N_150595);
if (!(1 <= LOC33)) goto LA34;
Result_151807 = Renderrsttoout_150592(D_150594, (*N_150595).Sons->data[0]);
I_151852 = 0;
HEX3Atmp_151906 = 0;
LOC36 = Rsonslen_142091(N_150595);
HEX3Atmp_151906 = (NI64)(LOC36 - 1);
Res_151908 = 0;
Res_151908 = 1;
while (1) {
if (!(Res_151908 <= HEX3Atmp_151906)) goto LA37;
I_151852 = Res_151908;
memset((void*)&LOC38, 0, sizeof(LOC38));
LOC38[0] = Renderrsttoout_150592(D_150594, (*N_150595).Sons->data[I_151852]);
Dispa_150575(&Result_151807, ((NimStringDesc*) &TMP191155), ((NimStringDesc*) &TMP191222), LOC38, 1);
Res_151908 += 1;
} LA37: ;
memset((void*)&LOC39, 0, sizeof(LOC39));
LOC39[0] = Result_151807;
Result_151807 = Dispf_150559(((NimStringDesc*) &TMP191200), ((NimStringDesc*) &TMP191223), LOC39, 1);
goto LA32;
LA34: ;
Result_151807 = NIM_NIL;
LA32: ;
break;
case ((NU8) 33):
LOC40 = 0;
LOC40 = Disp_150545(((NimStringDesc*) &TMP191203), ((NimStringDesc*) &TMP191155));
Result_151807 = Renderaux_150596(D_150594, N_150595, LOC40);
break;
case ((NU8) 32):
LOC41 = 0;
LOC41 = Disp_150545(((NimStringDesc*) &TMP191224), ((NimStringDesc*) &TMP191225));
Result_151807 = Renderaux_150596(D_150594, N_150595, LOC41);
break;
case ((NU8) 34):
Internalerror_42575(((NimStringDesc*) &TMP191210));
break;
case ((NU8) 35):
Internalerror_42575(((NimStringDesc*) &TMP191210));
break;
case ((NU8) 36):
Internalerror_42575(((NimStringDesc*) &TMP191210));
break;
case ((NU8) 39):
memset((void*)&LOC42, 0, sizeof(LOC42));
LOC42[0] = Renderaux_150596(D_150594, N_150595, ((NimStringDesc*) &TMP191155));
LOC43 = 0;
LOC43 = Rstnodetorefname_142105(N_150595);
LOC42[1] = Torope_47046(LOC43);
Result_151807 = Dispf_150559(((NimStringDesc*) &TMP191226), ((NimStringDesc*) &TMP191227), LOC42, 2);
break;
case ((NU8) 37):
LOC44 = 0;
LOC44 = Disp_150545(((NimStringDesc*) &TMP191228), ((NimStringDesc*) &TMP191229));
Result_151807 = Renderaux_150596(D_150594, N_150595, LOC44);
break;
case ((NU8) 38):
memset((void*)&LOC45, 0, sizeof(LOC45));
LOC45[0] = Renderrsttoout_150592(D_150594, (*N_150595).Sons->data[0]);
LOC45[1] = Renderrsttoout_150592(D_150594, (*N_150595).Sons->data[1]);
Result_151807 = Dispf_150559(((NimStringDesc*) &TMP191230), ((NimStringDesc*) &TMP191231), LOC45, 2);
break;
case ((NU8) 41):
case ((NU8) 42):
Result_151807 = Renderaux_150596(D_150594, N_150595, ((NimStringDesc*) &TMP191155));
break;
case ((NU8) 48):
if (!!((Gcmd_41083 == ((NU8) 16)))) goto LA47;
LOC49 = 0;
LOC49 = Lastson_142654(N_150595);
LOC50 = 0;
LOC50 = Addnodes_142108(LOC49);
Result_151807 = Torope_47046(LOC50);
LA47: ;
break;
case ((NU8) 49):
if (!(Gcmd_41083 == ((NU8) 16))) goto LA52;
LOC54 = 0;
LOC54 = Lastson_142654(N_150595);
LOC55 = 0;
LOC55 = Addnodes_142108(LOC54);
Result_151807 = Torope_47046(LOC55);
LA52: ;
break;
case ((NU8) 45):
case ((NU8) 46):
Result_151807 = Renderimage_151604(D_150594, N_150595);
break;
case ((NU8) 47):
Result_151807 = Rendercodeblock_151658(D_150594, N_150595);
break;
case ((NU8) 50):
Result_151807 = Rendercontainer_151720(D_150594, N_150595);
break;
case ((NU8) 61):
case ((NU8) 52):
LOC56 = 0;
LOC56 = Disp_150545(((NimStringDesc*) &TMP191370), ((NimStringDesc*) &TMP191370));
Result_151807 = Renderaux_150596(D_150594, N_150595, LOC56);
break;
case ((NU8) 40):
Result_151807 = Renderaux_150596(D_150594, N_150595, ((NimStringDesc*) &TMP191158));
break;
case ((NU8) 53):
memset((void*)&LOC57, 0, sizeof(LOC57));
LOC57[0] = Renderrsttoout_150592(D_150594, (*N_150595).Sons->data[0]);
LOC57[1] = Renderrsttoout_150592(D_150594, (*N_150595).Sons->data[1]);
Result_151807 = Dispf_150559(((NimStringDesc*) &TMP191364), ((NimStringDesc*) &TMP191365), LOC57, 2);
break;
case ((NU8) 54):
LOC58 = 0;
LOC58 = Disp_150545(((NimStringDesc*) &TMP191371), ((NimStringDesc*) &TMP191372));
Result_151807 = Renderaux_150596(D_150594, N_150595, LOC58);
break;
case ((NU8) 55):
LOC59 = 0;
LOC59 = Disp_150545(((NimStringDesc*) &TMP191373), ((NimStringDesc*) &TMP191374));
Result_151807 = Renderaux_150596(D_150594, N_150595, LOC59);
break;
case ((NU8) 57):
LOC60 = 0;
LOC60 = Disp_150545(((NimStringDesc*) &TMP191375), ((NimStringDesc*) &TMP191376));
Result_151807 = Renderaux_150596(D_150594, N_150595, LOC60);
break;
case ((NU8) 58):
LOC61 = 0;
LOC61 = Disp_150545(((NimStringDesc*) &TMP191377), ((NimStringDesc*) &TMP191225));
Result_151807 = Renderaux_150596(D_150594, N_150595, LOC61);
break;
case ((NU8) 59):
LOC62 = 0;
LOC62 = Disp_150545(((NimStringDesc*) &TMP191378), ((NimStringDesc*) &TMP191376));
Result_151807 = Renderaux_150596(D_150594, N_150595, LOC62);
break;
case ((NU8) 56):
if (!((*D_150594).Theindex == NIM_NIL)) goto LA64;
LOC66 = 0;
LOC66 = Disp_150545(((NimStringDesc*) &TMP191375), ((NimStringDesc*) &TMP191376));
Result_151807 = Renderaux_150596(D_150594, N_150595, LOC66);
goto LA63;
LA64: ;
Result_151807 = Renderindexterm_150638(D_150594, N_150595);
LA63: ;
break;
case ((NU8) 60):
LOC67 = 0;
LOC67 = Disp_150545(((NimStringDesc*) &TMP191382), ((NimStringDesc*) &TMP191383));
Result_151807 = Renderaux_150596(D_150594, N_150595, LOC67);
break;
case ((NU8) 62):
LOC68 = 0;
LOC68 = Esc_150492((*N_150595).Text, -1);
Result_151807 = Torope_47046(LOC68);
break;
case ((NU8) 44):
(*D_150594).Hastoc = NIM_TRUE;
break;
case ((NU8) 43):
asgnRefNoCycle((void**) &(*D_150594).Meta[(((NU8) 1))-0], Renderrsttoout_150592(D_150594, (*N_150595).Sons->data[0]));
break;
default:
Internalerror_42575(((NimStringDesc*) &TMP191210));
break;
}
BeforeRet: ;
return Result_151807;
}
N_NIMCALL(TY47008*, Gencomment_150663)(TY150017* D_150665, TY50525* N_150666) {
TY47008* Result_150667;
NIM_BOOL Dummyhastoc_150668;
NIM_BOOL LOC2;
NimStringDesc* LOC6;
NI LOC7;
NI LOC8;
TY142077* LOC9;
Result_150667 = 0;
Dummyhastoc_150668 = 0;
LOC2 = !(((*N_150666).Comment == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC2 = nsuStartsWith((*N_150666).Comment, ((NimStringDesc*) &TMP191154));
LA3: ;
if (!LOC2) goto LA4;
LOC6 = 0;
LOC6 = Tofilename_42583((*N_150666).Info);
LOC7 = Tolinenumber_42589((*N_150666).Info);
LOC8 = Tocolumn_42586((*N_150666).Info);
LOC9 = 0;
LOC9 = Rstparse_142082((*N_150666).Comment, NIM_TRUE, LOC6, LOC7, LOC8, &Dummyhastoc_150668);
Result_150667 = Renderrsttoout_150592(D_150665, LOC9);
LA4: ;
return Result_150667;
}
static N_INLINE(NI, Sonslen_50803)(TY50525* N_50805) {
NI Result_51880;
Result_51880 = 0;
if (!(*N_50805).KindU.S6.Sons == 0) goto LA2;
Result_51880 = 0;
goto LA1;
LA2: ;
Result_51880 = (*N_50805).KindU.S6.Sons->Sup.len;
LA1: ;
return Result_51880;
}
N_NIMCALL(NIM_BOOL, Isvisible_150743)(TY50525* N_150745) {
NIM_BOOL Result_150746;
NIM_BOOL LOC5;
NI LOC6;
TY49011* V_150803;
NIM_BOOL LOC10;
Result_150746 = 0;
Result_150746 = NIM_FALSE;
if (!((*N_150745).Kind == ((NU8) 29))) goto LA2;
LOC6 = Sonslen_50803(N_150745);
LOC5 = (LOC6 == 2);
if (!(LOC5)) goto LA7;
LOC5 = ((*(*N_150745).KindU.S6.Sons->data[0]).Kind == ((NU8) 2));
LA7: ;
if (!LOC5) goto LA8;
V_150803 = 0;
V_150803 = (*(*N_150745).KindU.S6.Sons->data[0]).KindU.S5.Ident;
LOC10 = ((*V_150803).Sup.Id == 69);
if (LOC10) goto LA11;
LOC10 = ((*V_150803).Sup.Id == 70);
LA11: ;
Result_150746 = LOC10;
LA8: ;
goto LA1;
LA2: ;
if (!((*N_150745).Kind == ((NU8) 3))) goto LA12;
Result_150746 = (((*(*N_150745).KindU.S4.Sym).Flags &(1<<((((NU8) 3))&31)))!=0);
goto LA1;
LA12: ;
if (!((*N_150745).Kind == ((NU8) 34))) goto LA14;
Result_150746 = Isvisible_150743((*N_150745).KindU.S6.Sons->data[0]);
goto LA1;
LA14: ;
LA1: ;
return Result_150746;
}
N_NIMCALL(NimStringDesc*, Getname_150871)(TY50525* N_150873, NI Splitafter_150874) {
NimStringDesc* Result_150875;
NimStringDesc* LOC1;
NimStringDesc* LOC2;
NimStringDesc* LOC3;
NimStringDesc* LOC4;
Result_150875 = 0;
switch ((*N_150873).Kind) {
case ((NU8) 29):
Result_150875 = Getname_150871((*N_150873).KindU.S6.Sons->data[1], Splitafter_150874);
break;
case ((NU8) 34):
Result_150875 = Getname_150871((*N_150873).KindU.S6.Sons->data[0], Splitafter_150874);
break;
case ((NU8) 3):
Result_150875 = Esc_150492((*(*(*N_150873).KindU.S4.Sym).Name).S, Splitafter_150874);
break;
case ((NU8) 2):
Result_150875 = Esc_150492((*(*N_150873).KindU.S5.Ident).S, Splitafter_150874);
break;
case ((NU8) 43):
LOC1 = 0;
LOC2 = 0;
LOC2 = Esc_150492(((NimStringDesc*) &TMP191384), -1);
LOC3 = 0;
LOC3 = Getname_150871((*N_150873).KindU.S6.Sons->data[0], Splitafter_150874);
LOC4 = 0;
LOC4 = Esc_150492(((NimStringDesc*) &TMP191384), -1);
LOC1 = rawNewString(LOC2->Sup.len + LOC3->Sup.len + LOC4->Sup.len + 0);
appendString(LOC1, LOC2);
appendString(LOC1, LOC3);
appendString(LOC1, LOC4);
Result_150875 = LOC1;
break;
default:
Internalerror_42571((*N_150873).Info, ((NimStringDesc*) &TMP191385));
Result_150875 = copyString(((NimStringDesc*) &TMP191158));
break;
}
return Result_150875;
}
N_NIMCALL(TY47008*, Genreccomment_150670)(TY150017* D_150672, TY50525* N_150673) {
TY47008* Result_150674;
NI I_150716;
NI HEX3Atmp_150740;
NI LOC10;
NI Res_150742;
Result_150674 = 0;
if (!(N_150673 == NIM_NIL)) goto LA2;
Result_150674 = NIM_NIL;
goto BeforeRet;
LA2: ;
Result_150674 = Gencomment_150663(D_150672, N_150673);
if (!(Result_150674 == NIM_NIL)) goto LA5;
if (!!(((*N_150673).Kind >= ((NU8) 1) && (*N_150673).Kind <= ((NU8) 18)))) goto LA8;
I_150716 = 0;
HEX3Atmp_150740 = 0;
LOC10 = Sonslen_50803(N_150673);
HEX3Atmp_150740 = (NI64)(LOC10 - 1);
Res_150742 = 0;
Res_150742 = 0;
while (1) {
if (!(Res_150742 <= HEX3Atmp_150740)) goto LA11;
I_150716 = Res_150742;
Result_150674 = Genreccomment_150670(D_150672, (*N_150673).KindU.S6.Sons->data[I_150716]);
if (!!((Result_150674 == NIM_NIL))) goto LA13;
goto BeforeRet;
LA13: ;
Res_150742 += 1;
} LA11: ;
LA8: ;
goto LA4;
LA5: ;
asgnRefNoCycle((void**) &(*N_150673).Comment, copyString(NIM_NIL));
LA4: ;
BeforeRet: ;
return Result_150674;
}
N_NIMCALL(NI, Getvaridx_150194)(NimStringDesc** Varnames_150197, NI Varnames_150197Len0, NimStringDesc* Id_150198) {
NI Result_150199;
NI I_150207;
NI HEX3Atmp_150210;
NI Res_150212;
NI LOC3;
Result_150199 = 0;
I_150207 = 0;
HEX3Atmp_150210 = 0;
HEX3Atmp_150210 = (Varnames_150197Len0-1);
Res_150212 = 0;
Res_150212 = 0;
while (1) {
if (!(Res_150212 <= HEX3Atmp_150210)) goto LA1;
I_150207 = Res_150212;
LOC3 = nsuCmpIgnoreStyle(Varnames_150197[I_150207], Id_150198);
if (!(LOC3 == 0)) goto LA4;
Result_150199 = I_150207;
goto BeforeRet;
LA4: ;
Res_150212 += 1;
} LA1: ;
Result_150199 = -1;
BeforeRet: ;
return Result_150199;
}
N_NIMCALL(TY47008*, Ropeformatnamedvars_150213)(NimStringDesc* Frmt_150215, NimStringDesc** Varnames_150217, NI Varnames_150217Len0, TY47008** Varvalues_150219, NI Varvalues_150219Len0) {
TY47008* Result_150220;
NI I_150221;
NI L_150224;
NI Num_150225;
NI J_150280;
NIM_BOOL LOC7;
NimStringDesc* Id_150320;
NI Idx_150345;
NimStringDesc* Id_150349;
NI Idx_150390;
NI Start_150394;
NimStringDesc* LOC35;
Result_150220 = 0;
I_150221 = 0;
I_150221 = 0;
L_150224 = 0;
L_150224 = Frmt_150215->Sup.len;
Result_150220 = NIM_NIL;
Num_150225 = 0;
Num_150225 = 0;
while (1) {
if (!(I_150221 < L_150224)) goto LA1;
if (!((NU8)(Frmt_150215->data[I_150221]) == (NU8)(36))) goto LA3;
I_150221 += 1;
switch (((NU8)(Frmt_150215->data[I_150221]))) {
case 35:
App_47031(&Result_150220, Varvalues_150219[Num_150225]);
Num_150225 += 1;
I_150221 += 1;
break;
case 36:
App_47036(&Result_150220, ((NimStringDesc*) &TMP191405));
I_150221 += 1;
break;
case 48 ... 57:
J_150280 = 0;
J_150280 = 0;
while (1) {
J_150280 = (NI64)((NI64)((NI64)(J_150280 * 10) + ((NU8)(Frmt_150215->data[I_150221]))) - 48);
I_150221 += 1;
LOC7 = ((NI64)((NI64)(L_150224 + 0) - 1) < I_150221);
if (LOC7) goto LA8;
LOC7 = !((((NU8)(Frmt_150215->data[I_150221])) >= ((NU8)(48)) && ((NU8)(Frmt_150215->data[I_150221])) <= ((NU8)(57))));
LA8: ;
if (!LOC7) goto LA9;
goto LA5;
LA9: ;
} LA5: ;
if (!((NI64)((Varvalues_150219Len0-1) + 1) < J_150280)) goto LA12;
Internalerror_42575(((NimStringDesc*) &TMP191406));
LA12: ;
Num_150225 = J_150280;
App_47031(&Result_150220, Varvalues_150219[(NI64)(J_150280 - 1)]);
break;
case 65 ... 90:
case 97 ... 122:
case 128 ... 255:
Id_150320 = 0;
Id_150320 = copyString(((NimStringDesc*) &TMP191158));
while (1) {
Id_150320 = addChar(Id_150320, Frmt_150215->data[I_150221]);
I_150221 += 1;
if (!!((((NU8)(Frmt_150215->data[I_150221])) >= ((NU8)(65)) && ((NU8)(Frmt_150215->data[I_150221])) <= ((NU8)(90)) || ((NU8)(Frmt_150215->data[I_150221])) == ((NU8)(95)) || ((NU8)(Frmt_150215->data[I_150221])) >= ((NU8)(97)) && ((NU8)(Frmt_150215->data[I_150221])) <= ((NU8)(122)) || ((NU8)(Frmt_150215->data[I_150221])) >= ((NU8)(128)) && ((NU8)(Frmt_150215->data[I_150221])) <= ((NU8)(255))))) goto LA16;
goto LA14;
LA16: ;
} LA14: ;
Idx_150345 = 0;
Idx_150345 = Getvaridx_150194(Varnames_150217, Varnames_150217Len0, Id_150320);
if (!(0 <= Idx_150345)) goto LA19;
App_47031(&Result_150220, Varvalues_150219[Idx_150345]);
goto LA18;
LA19: ;
Rawmessage_42557(((NU8) 149), Id_150320);
LA18: ;
break;
case 123:
Id_150349 = 0;
Id_150349 = copyString(((NimStringDesc*) &TMP191158));
I_150221 += 1;
while (1) {
if (!!(((NU8)(Frmt_150215->data[I_150221]) == (NU8)(125)))) goto LA21;
if (!((NU8)(Frmt_150215->data[I_150221]) == (NU8)(0))) goto LA23;
Rawmessage_42557(((NU8) 21), ((NimStringDesc*) &TMP191407));
LA23: ;
Id_150349 = addChar(Id_150349, Frmt_150215->data[I_150221]);
I_150221 += 1;
} LA21: ;
I_150221 += 1;
Idx_150390 = 0;
Idx_150390 = Getvaridx_150194(Varnames_150217, Varnames_150217Len0, Id_150349);
if (!(0 <= Idx_150390)) goto LA26;
App_47031(&Result_150220, Varvalues_150219[Idx_150390]);
goto LA25;
LA26: ;
Rawmessage_42557(((NU8) 149), Id_150349);
LA25: ;
break;
default:
Internalerror_42575(((NimStringDesc*) &TMP191406));
break;
}
LA3: ;
Start_150394 = 0;
Start_150394 = I_150221;
while (1) {
if (!(I_150221 < L_150224)) goto LA28;
if (!!(((NU8)(Frmt_150215->data[I_150221]) == (NU8)(36)))) goto LA30;
I_150221 += 1;
goto LA29;
LA30: ;
goto LA28;
LA29: ;
} LA28: ;
if (!(Start_150394 <= (NI64)(I_150221 - 1))) goto LA33;
LOC35 = 0;
LOC35 = copyStrLast(Frmt_150215, Start_150394, (NI64)(I_150221 - 1));
App_47036(&Result_150220, LOC35);
LA33: ;
} LA1: ;
return Result_150220;
}
N_NIMCALL(void, Setindexforsourceterm_150618)(TY150017* D_150620, TY142077* Name_150621, NI Id_150622) {
TY142077* H_150634;
TY142077* A_150637;
NimStringDesc* LOC4;
NimStringDesc* LOC5;
NimStringDesc* LOC6;
if (!((*D_150620).Theindex == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
H_150634 = 0;
H_150634 = Newrstnode_142094(((NU8) 38));
A_150637 = 0;
LOC4 = 0;
LOC5 = 0;
LOC5 = Disp_150545(((NimStringDesc*) &TMP191381), ((NimStringDesc*) &TMP191158));
LOC6 = 0;
LOC6 = nimIntToStr(Id_150622);
LOC4 = rawNewString((*D_150620).Indexvalfilename->Sup.len + LOC5->Sup.len + LOC6->Sup.len + 0);
appendString(LOC4, (*D_150620).Indexvalfilename);
appendString(LOC4, LOC5);
appendString(LOC4, LOC6);
A_150637 = Newrstnode_142097(((NU8) 62), LOC4);
Addson_142101(H_150634, A_150637);
Addson_142101(H_150634, A_150637);
A_150637 = Newrstnode_142094(((NU8) 56));
Addson_142101(A_150637, Name_150621);
Setindexpair_142118((*D_150620).Theindex, A_150637, H_150634);
BeforeRet: ;
}
N_NIMCALL(TY142077*, Getrstname_150936)(TY50525* N_150938) {
TY142077* Result_150939;
Result_150939 = 0;
switch ((*N_150938).Kind) {
case ((NU8) 29):
Result_150939 = Getrstname_150936((*N_150938).KindU.S6.Sons->data[1]);
break;
case ((NU8) 34):
Result_150939 = Getrstname_150936((*N_150938).KindU.S6.Sons->data[0]);
break;
case ((NU8) 3):
Result_150939 = Newrstnode_142097(((NU8) 62), (*(*(*N_150938).KindU.S4.Sym).Name).S);
break;
case ((NU8) 2):
Result_150939 = Newrstnode_142097(((NU8) 62), (*(*N_150938).KindU.S5.Ident).S);
break;
case ((NU8) 43):
Result_150939 = Getrstname_150936((*N_150938).KindU.S6.Sons->data[0]);
break;
default:
Internalerror_42571((*N_150938).Info, ((NimStringDesc*) &TMP191415));
Result_150939 = NIM_NIL;
break;
}
return Result_150939;
}
N_NIMCALL(void, Genitem_151000)(TY150017* D_151002, TY50525* N_151003, TY50525* Namenode_151004, NU8 K_151005) {
NIM_BOOL LOC2;
TY47008* Name_151006;
NimStringDesc* LOC5;
TY47008* Result_151007;
NimStringDesc* Literal_151008;
NU8 Kind_151009;
TY47008* Comm_151010;
TY80016 R_151011;
TY47399 LOC7;
NimStringDesc* LOC8;
TY47399 LOC9;
TY47399 LOC10;
NimStringDesc* LOC11;
TY47399 LOC12;
NimStringDesc* LOC13;
TY47399 LOC14;
NimStringDesc* LOC15;
TY47399 LOC16;
NimStringDesc* LOC17;
TY47399 LOC18;
NimStringDesc* LOC19;
TY47399 LOC20;
NimStringDesc* LOC21;
TY47399 LOC22;
NimStringDesc* LOC23;
NimStringDesc* LOC24;
NimStringDesc* LOC25;
TY157414 LOC26;
TY47008* LOC27;
NimStringDesc* LOC28;
TY157414 LOC29;
NimStringDesc* LOC30;
TY47008* LOC31;
TY142077* LOC32;
LOC2 = Isvisible_150743(Namenode_151004);
if (!!(LOC2)) goto LA3;
goto BeforeRet;
LA3: ;
Name_151006 = 0;
LOC5 = 0;
LOC5 = Getname_150871(Namenode_151004, -1);
Name_151006 = Torope_47046(LOC5);
Result_151007 = 0;
Result_151007 = NIM_NIL;
Literal_151008 = 0;
Literal_151008 = copyString(((NimStringDesc*) &TMP191158));
Kind_151009 = 0;
Kind_151009 = ((NU8) 1);
Comm_151010 = 0;
Comm_151010 = Genreccomment_150670(D_151002, N_151003);
memset((void*)&R_151011, 0, sizeof(R_151011));
Inittokrender_80048(&R_151011, N_151003, 30);
while (1) {
Getnexttok_80056(&R_151011, &Kind_151009, &Literal_151008);
switch (Kind_151009) {
case ((NU8) 1):
goto LA6;
break;
case ((NU8) 100):
memset((void*)&LOC7, 0, sizeof(LOC7));
LOC8 = 0;
LOC8 = Esc_150492(Literal_151008, -1);
LOC7[0] = Torope_47046(LOC8);
Dispa_150575(&Result_151007, ((NimStringDesc*) &TMP191386), ((NimStringDesc*) &TMP191387), LOC7, 1);
break;
case ((NU8) 3) ... ((NU8) 65):
memset((void*)&LOC9, 0, sizeof(LOC9));
LOC9[0] = Torope_47046(Literal_151008);
Dispa_150575(&Result_151007, ((NimStringDesc*) &TMP191388), ((NimStringDesc*) &TMP191389), LOC9, 1);
break;
case ((NU8) 99):
case ((NU8) 98):
memset((void*)&LOC10, 0, sizeof(LOC10));
LOC11 = 0;
LOC11 = Esc_150492(Literal_151008, -1);
LOC10[0] = Torope_47046(LOC11);
Dispa_150575(&Result_151007, ((NimStringDesc*) &TMP191390), ((NimStringDesc*) &TMP191391), LOC10, 1);
break;
case ((NU8) 74) ... ((NU8) 76):
memset((void*)&LOC12, 0, sizeof(LOC12));
LOC13 = 0;
LOC13 = Esc_150492(Literal_151008, -1);
LOC12[0] = Torope_47046(LOC13);
Dispa_150575(&Result_151007, ((NimStringDesc*) &TMP191392), ((NimStringDesc*) &TMP191393), LOC12, 1);
break;
case ((NU8) 79):
memset((void*)&LOC14, 0, sizeof(LOC14));
LOC15 = 0;
LOC15 = Esc_150492(Literal_151008, -1);
LOC14[0] = Torope_47046(LOC15);
Dispa_150575(&Result_151007, ((NimStringDesc*) &TMP191394), ((NimStringDesc*) &TMP191395), LOC14, 1);
break;
case ((NU8) 66) ... ((NU8) 70):
memset((void*)&LOC16, 0, sizeof(LOC16));
LOC17 = 0;
LOC17 = Esc_150492(Literal_151008, -1);
LOC16[0] = Torope_47046(LOC17);
Dispa_150575(&Result_151007, ((NimStringDesc*) &TMP191396), ((NimStringDesc*) &TMP191397), LOC16, 1);
break;
case ((NU8) 71) ... ((NU8) 73):
memset((void*)&LOC18, 0, sizeof(LOC18));
LOC19 = 0;
LOC19 = Esc_150492(Literal_151008, -1);
LOC18[0] = Torope_47046(LOC19);
Dispa_150575(&Result_151007, ((NimStringDesc*) &TMP191398), ((NimStringDesc*) &TMP191399), LOC18, 1);
break;
case ((NU8) 2):
memset((void*)&LOC20, 0, sizeof(LOC20));
LOC21 = 0;
LOC21 = Esc_150492(Literal_151008, -1);
LOC20[0] = Torope_47046(LOC21);
Dispa_150575(&Result_151007, ((NimStringDesc*) &TMP191400), ((NimStringDesc*) &TMP191401), LOC20, 1);
break;
case ((NU8) 102):
case ((NU8) 103):
case ((NU8) 104):
case ((NU8) 105):
App_47036(&Result_151007, Literal_151008);
break;
case ((NU8) 80):
case ((NU8) 81):
case ((NU8) 82):
case ((NU8) 83):
case ((NU8) 84):
case ((NU8) 85):
case ((NU8) 86):
case ((NU8) 87):
case ((NU8) 88):
case ((NU8) 89):
case ((NU8) 90):
case ((NU8) 91):
case ((NU8) 92):
case ((NU8) 93):
case ((NU8) 94):
case ((NU8) 95):
case ((NU8) 96):
case ((NU8) 97):
case ((NU8) 101):
memset((void*)&LOC22, 0, sizeof(LOC22));
LOC23 = 0;
LOC23 = Esc_150492(Literal_151008, -1);
LOC22[0] = Torope_47046(LOC23);
Dispa_150575(&Result_151007, ((NimStringDesc*) &TMP191402), ((NimStringDesc*) &TMP191403), LOC22, 1);
break;
default:
LOC24 = 0;
LOC24 = rawNewString(Toktypetostr_72145[(Kind_151009)-0]->Sup.len + 17);
appendString(LOC24, ((NimStringDesc*) &TMP191404));
appendString(LOC24, Toktypetostr_72145[(Kind_151009)-0]);
appendChar(LOC24, 41);
Internalerror_42571((*N_151003).Info, LOC24);
break;
}
} LA6: ;
(*D_151002).Id += 1;
LOC25 = 0;
LOC25 = Getconfigvar_41134(((NimStringDesc*) &TMP191408));
memset((void*)&LOC26, 0, sizeof(LOC26));
LOC26[0] = Name_151006;
LOC26[1] = Result_151007;
LOC26[2] = Comm_151010;
LOC26[3] = Torope_47049(((NI64) ((*D_151002).Id)));
LOC27 = 0;
LOC27 = Ropeformatnamedvars_150213(LOC25, TMP191409, 4, LOC26, 4);
App_47031(&(*D_151002).Section[(K_151005)-0], LOC27);
LOC28 = 0;
LOC28 = Getconfigvar_41134(((NimStringDesc*) &TMP191414));
memset((void*)&LOC29, 0, sizeof(LOC29));
LOC30 = 0;
LOC30 = Getname_150871(Namenode_151004, (*D_151002).Splitafter);
LOC29[0] = Torope_47046(LOC30);
LOC29[1] = Result_151007;
LOC29[2] = Comm_151010;
LOC29[3] = Torope_47049(((NI64) ((*D_151002).Id)));
LOC31 = 0;
LOC31 = Ropeformatnamedvars_150213(LOC28, TMP191409, 4, LOC29, 4);
App_47031(&(*D_151002).Toc[(K_151005)-0], LOC31);
LOC32 = 0;
LOC32 = Getrstname_150936(Namenode_151004);
Setindexforsourceterm_150618(D_151002, LOC32, (*D_151002).Id);
BeforeRet: ;
}
N_NIMCALL(NIM_BOOL, Checkforfalse_151909)(TY50525* N_151911) {
NIM_BOOL Result_151912;
NIM_BOOL LOC1;
Result_151912 = 0;
LOC1 = ((*N_151911).Kind == ((NU8) 2));
if (!(LOC1)) goto LA2;
LOC1 = Identeq_49028((*N_151911).KindU.S5.Ident, ((NimStringDesc*) &TMP191416));
LA2: ;
Result_151912 = LOC1;
return Result_151912;
}
static N_INLINE(TY50525*, Lastson_50809)(TY50525* N_50811) {
TY50525* Result_52817;
NI LOC1;
Result_52817 = 0;
LOC1 = Sonslen_50803(N_50811);
Result_52817 = (*N_50811).KindU.S6.Sons->data[(NI64)(LOC1 - 1)];
return Result_52817;
}
N_NIMCALL(NimStringDesc*, Getmodulefile_151934)(TY50525* N_151936) {
NimStringDesc* Result_151937;
Result_151937 = 0;
switch ((*N_151936).Kind) {
case ((NU8) 14):
case ((NU8) 15):
case ((NU8) 16):
Result_151937 = copyString((*N_151936).KindU.S3.Strval);
break;
case ((NU8) 2):
Result_151937 = copyString((*(*N_151936).KindU.S5.Ident).S);
break;
case ((NU8) 3):
Result_151937 = copyString((*(*(*N_151936).KindU.S4.Sym).Name).S);
break;
default:
Internalerror_42571((*N_151936).Info, ((NimStringDesc*) &TMP191419));
Result_151937 = copyString(((NimStringDesc*) &TMP191158));
break;
}
return Result_151937;
}
N_NIMCALL(void, Tracedeps_151974)(TY150017* D_151976, TY50525* N_151977) {
TY47399 LOC4;
NimStringDesc* LOC5;
if (!!(((*D_151976).Section[(((NU8) 6))-0] == NIM_NIL))) goto LA2;
App_47036(&(*D_151976).Section[(((NU8) 6))-0], ((NimStringDesc*) &TMP191417));
LA2: ;
memset((void*)&LOC4, 0, sizeof(LOC4));
LOC5 = 0;
LOC5 = Getmodulefile_151934(N_151977);
LOC4[0] = Torope_47046(LOC5);
Dispa_150575(&(*D_151976).Section[(((NU8) 6))-0], ((NimStringDesc*) &TMP191418), ((NimStringDesc*) &TMP191155), LOC4, 1);
}
N_NIMCALL(void, Generatedoc_151996)(TY150017* D_151998, TY50525* N_151999) {
TY47008* LOC4;
NI I_152091;
NI HEX3Atmp_152367;
NI LOC5;
NI Res_152369;
NI I_152156;
NI HEX3Atmp_152370;
NI LOC10;
NI Res_152372;
NI I_152221;
NI HEX3Atmp_152373;
NI LOC15;
NI Res_152375;
NI I_152286;
NI HEX3Atmp_152376;
NI LOC20;
NI Res_152378;
NIM_BOOL LOC23;
TY50525* LOC26;
NI I_152342;
NI HEX3Atmp_152379;
NI LOC27;
NI Res_152381;
if (!(N_151999 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*N_151999).Kind) {
case ((NU8) 105):
LOC4 = 0;
LOC4 = Gencomment_150663(D_151998, N_151999);
App_47031(&(*D_151998).Moddesc, LOC4);
break;
case ((NU8) 69):
Genitem_151000(D_151998, N_151999, (*N_151999).KindU.S6.Sons->data[0], ((NU8) 10));
break;
case ((NU8) 70):
Genitem_151000(D_151998, N_151999, (*N_151999).KindU.S6.Sons->data[0], ((NU8) 11));
break;
case ((NU8) 74):
Genitem_151000(D_151998, N_151999, (*N_151999).KindU.S6.Sons->data[0], ((NU8) 12));
break;
case ((NU8) 72):
Genitem_151000(D_151998, N_151999, (*N_151999).KindU.S6.Sons->data[0], ((NU8) 14));
break;
case ((NU8) 73):
Genitem_151000(D_151998, N_151999, (*N_151999).KindU.S6.Sons->data[0], ((NU8) 15));
break;
case ((NU8) 71):
Genitem_151000(D_151998, N_151999, (*N_151999).KindU.S6.Sons->data[0], ((NU8) 13));
break;
case ((NU8) 87):
I_152091 = 0;
HEX3Atmp_152367 = 0;
LOC5 = Sonslen_50803(N_151999);
HEX3Atmp_152367 = (NI64)(LOC5 - 1);
Res_152369 = 0;
Res_152369 = 0;
while (1) {
if (!(Res_152369 <= HEX3Atmp_152367)) goto LA6;
I_152091 = Res_152369;
if (!!(((*(*N_151999).KindU.S6.Sons->data[I_152091]).Kind == ((NU8) 105)))) goto LA8;
Genitem_151000(D_151998, (*N_151999).KindU.S6.Sons->data[I_152091], (*(*N_151999).KindU.S6.Sons->data[I_152091]).KindU.S6.Sons->data[0], ((NU8) 9));
LA8: ;
Res_152369 += 1;
} LA6: ;
break;
case ((NU8) 88):
I_152156 = 0;
HEX3Atmp_152370 = 0;
LOC10 = Sonslen_50803(N_151999);
HEX3Atmp_152370 = (NI64)(LOC10 - 1);
Res_152372 = 0;
Res_152372 = 0;
while (1) {
if (!(Res_152372 <= HEX3Atmp_152370)) goto LA11;
I_152156 = Res_152372;
if (!!(((*(*N_151999).KindU.S6.Sons->data[I_152156]).Kind == ((NU8) 105)))) goto LA13;
Genitem_151000(D_151998, (*N_151999).KindU.S6.Sons->data[I_152156], (*(*N_151999).KindU.S6.Sons->data[I_152156]).KindU.S6.Sons->data[0], ((NU8) 8));
LA13: ;
Res_152372 += 1;
} LA11: ;
break;
case ((NU8) 90):
I_152221 = 0;
HEX3Atmp_152373 = 0;
LOC15 = Sonslen_50803(N_151999);
HEX3Atmp_152373 = (NI64)(LOC15 - 1);
Res_152375 = 0;
Res_152375 = 0;
while (1) {
if (!(Res_152375 <= HEX3Atmp_152373)) goto LA16;
I_152221 = Res_152375;
if (!!(((*(*N_151999).KindU.S6.Sons->data[I_152221]).Kind == ((NU8) 105)))) goto LA18;
Genitem_151000(D_151998, (*N_151999).KindU.S6.Sons->data[I_152221], (*(*N_151999).KindU.S6.Sons->data[I_152221]).KindU.S6.Sons->data[0], ((NU8) 7));
LA18: ;
Res_152375 += 1;
} LA16: ;
break;
case ((NU8) 101):
I_152286 = 0;
HEX3Atmp_152376 = 0;
LOC20 = Sonslen_50803(N_151999);
HEX3Atmp_152376 = (NI64)(LOC20 - 1);
Res_152378 = 0;
Res_152378 = 0;
while (1) {
if (!(Res_152378 <= HEX3Atmp_152376)) goto LA21;
I_152286 = Res_152378;
Generatedoc_151996(D_151998, (*N_151999).KindU.S6.Sons->data[I_152286]);
Res_152378 += 1;
} LA21: ;
break;
case ((NU8) 83):
LOC23 = Checkforfalse_151909((*(*N_151999).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[0]);
if (!!(LOC23)) goto LA24;
LOC26 = 0;
LOC26 = Lastson_50809((*N_151999).KindU.S6.Sons->data[0]);
Generatedoc_151996(D_151998, LOC26);
LA24: ;
break;
case ((NU8) 102):
I_152342 = 0;
HEX3Atmp_152379 = 0;
LOC27 = Sonslen_50803(N_151999);
HEX3Atmp_152379 = (NI64)(LOC27 - 1);
Res_152381 = 0;
Res_152381 = 0;
while (1) {
if (!(Res_152381 <= HEX3Atmp_152379)) goto LA28;
I_152342 = Res_152381;
Tracedeps_151974(D_151998, (*N_151999).KindU.S6.Sons->data[I_152342]);
Res_152381 += 1;
} LA28: ;
break;
case ((NU8) 103):
Tracedeps_151974(D_151998, (*N_151999).KindU.S6.Sons->data[0]);
break;
default:
break;
}
BeforeRet: ;
}
N_NIMCALL(TY47008*, Rendertocentry_151557)(TY150017* D_151559, TY150011* E_151560) {
TY47008* Result_151561;
TY170640 LOC1;
Result_151561 = 0;
memset((void*)&LOC1, 0, sizeof(LOC1));
LOC1[0] = (*E_151560).Refname;
LOC1[1] = (*E_151560).Header;
Result_151561 = Dispf_150559(((NimStringDesc*) &TMP191420), ((NimStringDesc*) &TMP191421), LOC1, 2);
return Result_151561;
}
N_NIMCALL(TY47008*, Rendertocentries_151566)(TY150017* D_151568, NI* J_151570, NI Lvl_151571) {
TY47008* Result_151572;
NI A_151575;
TY47008* LOC5;
TY47008* LOC8;
TY47399 LOC12;
Result_151572 = 0;
Result_151572 = NIM_NIL;
while (1) {
if (!((*J_151570) <= ((*D_151568).Tocpart->Sup.len-1))) goto LA1;
A_151575 = 0;
A_151575 = (NI64)abs((*(*D_151568).Tocpart->data[(*J_151570)].N).Level);
if (!(A_151575 == Lvl_151571)) goto LA3;
LOC5 = 0;
LOC5 = Rendertocentry_151557(D_151568, &(*D_151568).Tocpart->data[(*J_151570)]);
App_47031(&Result_151572, LOC5);
(*J_151570) += 1;
goto LA2;
LA3: ;
if (!(Lvl_151571 < A_151575)) goto LA6;
LOC8 = 0;
LOC8 = Rendertocentries_151566(D_151568, J_151570, A_151575);
App_47031(&Result_151572, LOC8);
goto LA2;
LA6: ;
goto LA1;
LA2: ;
} LA1: ;
if (!(1 < Lvl_151571)) goto LA10;
memset((void*)&LOC12, 0, sizeof(LOC12));
LOC12[0] = Result_151572;
Result_151572 = Dispf_150559(((NimStringDesc*) &TMP191422), ((NimStringDesc*) &TMP191423), LOC12, 1);
LA10: ;
return Result_151572;
}
N_NIMCALL(void, Gensection_152382)(TY150017* D_152384, NU8 Kind_152385) {
TY47008* Title_152402;
NimStringDesc* LOC4;
TY157414 LOC5;
NimStringDesc* LOC6;
TY157414 LOC7;
if (!((*D_152384).Section[(Kind_152385)-0] == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
Title_152402 = 0;
Title_152402 = Torope_47046(Sectionnames_152386[(Kind_152385)-6]);
LOC4 = 0;
LOC4 = Getconfigvar_41134(((NimStringDesc*) &TMP191434));
memset((void*)&LOC5, 0, sizeof(LOC5));
LOC5[0] = Torope_47049(((NI64) (Kind_152385)));
LOC5[1] = Title_152402;
LOC5[2] = Torope_47049(((NI64) ((NI64)(Kind_152385 + 50))));
LOC5[3] = (*D_152384).Section[(Kind_152385)-0];
asgnRefNoCycle((void**) &(*D_152384).Section[(Kind_152385)-0], Ropeformatnamedvars_150213(LOC4, TMP191435, 4, LOC5, 4));
LOC6 = 0;
LOC6 = Getconfigvar_41134(((NimStringDesc*) &TMP191440));
memset((void*)&LOC7, 0, sizeof(LOC7));
LOC7[0] = Torope_47049(((NI64) (Kind_152385)));
LOC7[1] = Title_152402;
LOC7[2] = Torope_47049(((NI64) ((NI64)(Kind_152385 + 50))));
LOC7[3] = (*D_152384).Toc[(Kind_152385)-0];
asgnRefNoCycle((void**) &(*D_152384).Toc[(Kind_152385)-0], Ropeformatnamedvars_150213(LOC6, TMP191435, 4, LOC7, 4));
BeforeRet: ;
}
N_NIMCALL(TY47008*, Genoutfile_152439)(TY150017* D_152441) {
TY47008* Result_152442;
TY47008* Code_152443;
TY47008* Toc_152444;
TY47008* Title_152445;
TY47008* Content_152446;
NimStringDesc* Bodyname_152447;
NI J_152448;
NU8 I_152479;
NU8 Res_152548;
NimStringDesc* LOC5;
TY47399 LOC6;
NU8 I_152507;
NU8 Res_152550;
NimStringDesc* LOC11;
NimStringDesc* LOC12;
NimStringDesc* LOC13;
NimStringDesc* LOC17;
TY158027 LOC18;
NimStringDesc* LOC19;
NimStringDesc* LOC20;
NimStringDesc* LOC24;
TY158565 LOC25;
NimStringDesc* LOC26;
NimStringDesc* LOC27;
Result_152442 = 0;
Code_152443 = 0;
Toc_152444 = 0;
Title_152445 = 0;
Content_152446 = 0;
Bodyname_152447 = 0;
J_152448 = 0;
J_152448 = 0;
Toc_152444 = Rendertocentries_151566(D_152441, &J_152448, 1);
Code_152443 = NIM_NIL;
Content_152446 = NIM_NIL;
Title_152445 = NIM_NIL;
I_152479 = 0;
Res_152548 = 0;
Res_152548 = ((NU8) 0);
while (1) {
if (!(Res_152548 <= ((NU8) 20))) goto LA1;
I_152479 = Res_152548;
Gensection_152382(D_152441, I_152479);
App_47031(&Toc_152444, (*D_152441).Toc[(I_152479)-0]);
Res_152548 += 1;
} LA1: ;
if (!!((Toc_152444 == NIM_NIL))) goto LA3;
LOC5 = 0;
LOC5 = Getconfigvar_41134(((NimStringDesc*) &TMP191441));
memset((void*)&LOC6, 0, sizeof(LOC6));
LOC6[0] = Toc_152444;
Toc_152444 = Ropeformatnamedvars_150213(LOC5, TMP191442, 1, LOC6, 1);
LA3: ;
I_152507 = 0;
Res_152550 = 0;
Res_152550 = ((NU8) 0);
while (1) {
if (!(Res_152550 <= ((NU8) 20))) goto LA7;
I_152507 = Res_152550;
App_47031(&Code_152443, (*D_152441).Section[(I_152507)-0]);
Res_152550 += 1;
} LA7: ;
if (!!(((*D_152441).Meta[(((NU8) 1))-0] == NIM_NIL))) goto LA9;
Title_152445 = (*D_152441).Meta[(((NU8) 1))-0];
goto LA8;
LA9: ;
LOC11 = 0;
LOC12 = 0;
LOC12 = nosChangeFileExt((*D_152441).Filename, ((NimStringDesc*) &TMP191158));
LOC13 = 0;
LOC13 = nosextractFilename(LOC12);
LOC11 = rawNewString(LOC13->Sup.len + 7);
appendString(LOC11, ((NimStringDesc*) &TMP191443));
appendString(LOC11, LOC13);
Title_152445 = Torope_47046(LOC11);
LA8: ;
if (!(*D_152441).Hastoc) goto LA15;
Bodyname_152447 = copyString(((NimStringDesc*) &TMP191444));
goto LA14;
LA15: ;
Bodyname_152447 = copyString(((NimStringDesc*) &TMP191445));
LA14: ;
LOC17 = 0;
LOC17 = Getconfigvar_41134(Bodyname_152447);
memset((void*)&LOC18, 0, sizeof(LOC18));
LOC18[0] = Title_152445;
LOC18[1] = Toc_152444;
LOC18[2] = (*D_152441).Moddesc;
LOC19 = 0;
LOC19 = ntgetDateStr();
LOC18[3] = Torope_47046(LOC19);
LOC20 = 0;
LOC20 = ntgetClockStr();
LOC18[4] = Torope_47046(LOC20);
LOC18[5] = Code_152443;
Content_152446 = Ropeformatnamedvars_150213(LOC17, TMP191446, 6, LOC18, 6);
if (!!(((Gglobaloptions_41078 &(1<<((((NU8) 6))&31)))!=0))) goto LA22;
LOC24 = 0;
LOC24 = Getconfigvar_41134(((NimStringDesc*) &TMP191452));
memset((void*)&LOC25, 0, sizeof(LOC25));
LOC25[0] = Title_152445;
LOC25[1] = Toc_152444;
LOC25[2] = (*D_152441).Moddesc;
LOC26 = 0;
LOC26 = ntgetDateStr();
LOC25[3] = Torope_47046(LOC26);
LOC27 = 0;
LOC27 = ntgetClockStr();
LOC25[4] = Torope_47046(LOC27);
LOC25[5] = Content_152446;
LOC25[6] = (*D_152441).Meta[(((NU8) 3))-0];
LOC25[7] = (*D_152441).Meta[(((NU8) 4))-0];
Code_152443 = Ropeformatnamedvars_150213(LOC24, TMP191453, 8, LOC25, 8);
goto LA21;
LA22: ;
Code_152443 = Content_152446;
LA21: ;
Result_152442 = Code_152443;
return Result_152442;
}
N_NIMCALL(TY47008*, Renderrstsons_151205)(TY150017* D_151207, TY142077* N_151208) {
TY47008* Result_151209;
NI I_151217;
NI HEX3Atmp_151219;
NI LOC1;
NI Res_151221;
TY47008* LOC3;
Result_151209 = 0;
I_151217 = 0;
HEX3Atmp_151219 = 0;
LOC1 = Rsonslen_142091(N_151208);
HEX3Atmp_151219 = (NI64)(LOC1 - 1);
Res_151221 = 0;
Res_151221 = 0;
while (1) {
if (!(Res_151221 <= HEX3Atmp_151219)) goto LA2;
I_151217 = Res_151221;
LOC3 = 0;
LOC3 = Renderrsttorst_151201(D_151207, (*N_151208).Sons->data[I_151217]);
App_47031(&Result_151209, LOC3);
Res_151221 += 1;
} LA2: ;
return Result_151209;
}
N_NIMCALL(TY47008*, Renderrsttorst_151201)(TY150017* D_151203, TY142077* N_151204) {
TY47008* Result_151226;
TY47008* Ind_151243;
NimStringDesc* LOC4;
NI L_151244;
TY156003 LOC5;
NimStringDesc* LOC6;
NI L_151249;
TY156003 LOC7;
NimStringDesc* LOC8;
TY170640 LOC9;
NimStringDesc* LOC10;
TY170640 LOC11;
TY170640 LOC15;
TY170640 LOC19;
TY170640 LOC20;
TY170640 LOC24;
NI L_151383;
NI LOC25;
TY157414 LOC26;
NI LOC27;
NimStringDesc* LOC28;
TY170640 LOC29;
TY47399 LOC30;
TY170640 LOC31;
TY170640 LOC32;
TY47399 LOC33;
TY47399 LOC34;
TY47399 LOC35;
TY47399 LOC36;
TY47399 LOC37;
TY47399 LOC38;
TY47399 LOC39;
NIM_BOOL LOC41;
TY170640 LOC48;
TY47399 LOC49;
Result_151226 = 0;
Result_151226 = NIM_NIL;
if (!(N_151204 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
Ind_151243 = 0;
LOC4 = 0;
LOC4 = nsuRepeatChar((*D_151203).Indent, 32);
Ind_151243 = Torope_47046(LOC4);
switch ((*N_151204).Kind) {
case ((NU8) 0):
Result_151226 = Renderrstsons_151205(D_151203, N_151204);
break;
case ((NU8) 1):
Result_151226 = Renderrstsons_151205(D_151203, N_151204);
L_151244 = 0;
L_151244 = Ropelen_47052(Result_151226);
memset((void*)&LOC5, 0, sizeof(LOC5));
LOC5[0] = Ind_151243;
LOC5[1] = Result_151226;
LOC6 = 0;
LOC6 = nsuRepeatChar(L_151244, Lvltochar_151227[((*N_151204).Level)-0]);
LOC5[2] = Torope_47046(LOC6);
Result_151226 = Ropef_47066(((NimStringDesc*) &TMP191454), LOC5, 3);
break;
case ((NU8) 2):
Result_151226 = Renderrstsons_151205(D_151203, N_151204);
L_151249 = 0;
L_151249 = Ropelen_47052(Result_151226);
memset((void*)&LOC7, 0, sizeof(LOC7));
LOC7[0] = Ind_151243;
LOC7[1] = Result_151226;
LOC8 = 0;
LOC8 = nsuRepeatChar(L_151249, Lvltochar_151227[((*N_151204).Level)-0]);
LOC7[2] = Torope_47046(LOC8);
Result_151226 = Ropef_47066(((NimStringDesc*) &TMP191455), LOC7, 3);
break;
case ((NU8) 3):
memset((void*)&LOC9, 0, sizeof(LOC9));
LOC9[0] = Ind_151243;
LOC10 = 0;
LOC10 = nsuRepeatChar((NI64)(78 - (*D_151203).Indent), 45);
LOC9[1] = Torope_47046(LOC10);
Result_151226 = Ropef_47066(((NimStringDesc*) &TMP191456), LOC9, 2);
break;
case ((NU8) 4):
Result_151226 = Renderrstsons_151205(D_151203, N_151204);
memset((void*)&LOC11, 0, sizeof(LOC11));
LOC11[0] = Ind_151243;
LOC11[1] = Result_151226;
Result_151226 = Ropef_47066(((NimStringDesc*) &TMP191457), LOC11, 2);
break;
case ((NU8) 6):
(*D_151203).Indent += 2;
Result_151226 = Renderrstsons_151205(D_151203, N_151204);
if (!!((Result_151226 == NIM_NIL))) goto LA13;
memset((void*)&LOC15, 0, sizeof(LOC15));
LOC15[0] = Ind_151243;
LOC15[1] = Result_151226;
Result_151226 = Ropef_47066(((NimStringDesc*) &TMP191458), LOC15, 2);
LA13: ;
(*D_151203).Indent -= 2;
break;
case ((NU8) 8):
(*D_151203).Indent += 4;
Result_151226 = Renderrstsons_151205(D_151203, N_151204);
if (!!((Result_151226 == NIM_NIL))) goto LA17;
memset((void*)&LOC19, 0, sizeof(LOC19));
LOC19[0] = Ind_151243;
LOC19[1] = Result_151226;
Result_151226 = Ropef_47066(((NimStringDesc*) &TMP191459), LOC19, 2);
LA17: ;
(*D_151203).Indent -= 4;
break;
case ((NU8) 17):
case ((NU8) 13):
case ((NU8) 9):
case ((NU8) 10):
case ((NU8) 26):
case ((NU8) 15):
case ((NU8) 16):
case ((NU8) 37):
case ((NU8) 5):
case ((NU8) 7):
Result_151226 = Renderrstsons_151205(D_151203, N_151204);
break;
case ((NU8) 11):
Result_151226 = Renderrstsons_151205(D_151203, N_151204);
memset((void*)&LOC20, 0, sizeof(LOC20));
LOC20[0] = Ind_151243;
LOC20[1] = Result_151226;
Result_151226 = Ropef_47066(((NimStringDesc*) &TMP191457), LOC20, 2);
break;
case ((NU8) 12):
(*D_151203).Indent += 2;
Result_151226 = Renderrstsons_151205(D_151203, N_151204);
if (!!(((*(*N_151204).Sons->data[0]).Kind == ((NU8) 5)))) goto LA22;
memset((void*)&LOC24, 0, sizeof(LOC24));
LOC24[0] = Ind_151243;
LOC24[1] = Result_151226;
Result_151226 = Ropef_47066(((NimStringDesc*) &TMP191460), LOC24, 2);
LA22: ;
(*D_151203).Indent -= 2;
break;
case ((NU8) 14):
Result_151226 = Renderrsttorst_151201(D_151203, (*N_151204).Sons->data[0]);
L_151383 = 0;
LOC25 = Ropelen_47052(Result_151226);
L_151383 = (((NI64)(LOC25 + 3) >= 30) ? (NI64)(LOC25 + 3) : 30);
(*D_151203).Indent += L_151383;
memset((void*)&LOC26, 0, sizeof(LOC26));
LOC26[0] = Ind_151243;
LOC26[1] = Result_151226;
LOC27 = Ropelen_47052(Result_151226);
LOC28 = 0;
LOC28 = nsuRepeatChar((NI64)((NI64)(L_151383 - LOC27) - 2), 32);
LOC26[2] = Torope_47046(LOC28);
LOC26[3] = Renderrsttorst_151201(D_151203, (*N_151204).Sons->data[1]);
Result_151226 = Ropef_47066(((NimStringDesc*) &TMP191461), LOC26, 4);
(*D_151203).Indent -= L_151383;
break;
case ((NU8) 27):
Result_151226 = Renderrstsons_151205(D_151203, N_151204);
memset((void*)&LOC29, 0, sizeof(LOC29));
LOC29[0] = Ind_151243;
LOC29[1] = Result_151226;
Result_151226 = Ropef_47066(((NimStringDesc*) &TMP191462), LOC29, 2);
break;
case ((NU8) 28):
(*D_151203).Indent += 2;
Result_151226 = Renderrstsons_151205(D_151203, N_151204);
(*D_151203).Indent -= 2;
break;
case ((NU8) 39):
Result_151226 = Renderrstsons_151205(D_151203, N_151204);
memset((void*)&LOC30, 0, sizeof(LOC30));
LOC30[0] = Result_151226;
Result_151226 = Ropef_47066(((NimStringDesc*) &TMP191463), LOC30, 1);
break;
case ((NU8) 38):
memset((void*)&LOC31, 0, sizeof(LOC31));
LOC31[0] = Renderrsttorst_151201(D_151203, (*N_151204).Sons->data[0]);
LOC31[1] = Renderrsttorst_151201(D_151203, (*N_151204).Sons->data[1]);
Result_151226 = Ropef_47066(((NimStringDesc*) &TMP191464), LOC31, 2);
break;
case ((NU8) 53):
Result_151226 = Renderrsttorst_151201(D_151203, (*N_151204).Sons->data[0]);
memset((void*)&LOC32, 0, sizeof(LOC32));
LOC32[0] = Result_151226;
LOC32[1] = Renderrsttorst_151201(D_151203, (*N_151204).Sons->data[1]);
Result_151226 = Ropef_47066(((NimStringDesc*) &TMP191465), LOC32, 2);
break;
case ((NU8) 54):
Result_151226 = Renderrstsons_151205(D_151203, N_151204);
memset((void*)&LOC33, 0, sizeof(LOC33));
LOC33[0] = Result_151226;
Result_151226 = Ropef_47066(((NimStringDesc*) &TMP191466), LOC33, 1);
break;
case ((NU8) 55):
Result_151226 = Renderrstsons_151205(D_151203, N_151204);
memset((void*)&LOC34, 0, sizeof(LOC34));
LOC34[0] = Result_151226;
Result_151226 = Ropef_47066(((NimStringDesc*) &TMP191467), LOC34, 1);
break;
case ((NU8) 56):
Result_151226 = Renderrstsons_151205(D_151203, N_151204);
memset((void*)&LOC35, 0, sizeof(LOC35));
LOC35[0] = Result_151226;
Result_151226 = Ropef_47066(((NimStringDesc*) &TMP191468), LOC35, 1);
break;
case ((NU8) 57):
Result_151226 = Renderrstsons_151205(D_151203, N_151204);
memset((void*)&LOC36, 0, sizeof(LOC36));
LOC36[0] = Result_151226;
Result_151226 = Ropef_47066(((NimStringDesc*) &TMP191469), LOC36, 1);
break;
case ((NU8) 58):
Result_151226 = Renderrstsons_151205(D_151203, N_151204);
memset((void*)&LOC37, 0, sizeof(LOC37));
LOC37[0] = Result_151226;
Result_151226 = Ropef_47066(((NimStringDesc*) &TMP191470), LOC37, 1);
break;
case ((NU8) 59):
Result_151226 = Renderrstsons_151205(D_151203, N_151204);
memset((void*)&LOC38, 0, sizeof(LOC38));
LOC38[0] = Result_151226;
Result_151226 = Ropef_47066(((NimStringDesc*) &TMP191471), LOC38, 1);
break;
case ((NU8) 60):
(*D_151203).Verbatim += 1;
Result_151226 = Renderrstsons_151205(D_151203, N_151204);
memset((void*)&LOC39, 0, sizeof(LOC39));
LOC39[0] = Result_151226;
Result_151226 = Ropef_47066(((NimStringDesc*) &TMP191472), LOC39, 1);
(*D_151203).Verbatim -= 1;
break;
case ((NU8) 62):
LOC41 = ((*D_151203).Verbatim == 0);
if (!(LOC41)) goto LA42;
LOC41 = eqStrings((*N_151204).Text, ((NimStringDesc*) &TMP191473));
LA42: ;
if (!LOC41) goto LA43;
Result_151226 = Torope_47046(((NimStringDesc*) &TMP191474));
goto LA40;
LA43: ;
Result_151226 = Torope_47046((*N_151204).Text);
LA40: ;
break;
case ((NU8) 51):
(*D_151203).Indent += 3;
if (!!(((*N_151204).Sons->data[2] == NIM_NIL))) goto LA46;
Result_151226 = Renderrstsons_151205(D_151203, (*N_151204).Sons->data[2]);
LA46: ;
(*D_151203).Indent -= 3;
memset((void*)&LOC48, 0, sizeof(LOC48));
LOC48[0] = Ind_151243;
LOC48[1] = Result_151226;
Result_151226 = Ropef_47066(((NimStringDesc*) &TMP191475), LOC48, 2);
break;
case ((NU8) 44):
memset((void*)&LOC49, 0, sizeof(LOC49));
LOC49[0] = Ind_151243;
Result_151226 = Ropef_47066(((NimStringDesc*) &TMP191476), LOC49, 1);
break;
default:
Rawmessage_42557(((NU8) 191), reprEnum((*N_151204).Kind, NTI142008));
break;
}
BeforeRet: ;
return Result_151226;
}
N_NIMCALL(void, Generateindex_152551)(TY150017* D_152553) {
TY47008* LOC4;
if (!!(((*D_152553).Theindex == NIM_NIL))) goto LA2;
Sortindex_142123((*D_152553).Theindex);
LOC4 = 0;
LOC4 = Renderrsttorst_151201(D_152553, (*D_152553).Indexfile);
Writerope_47055(LOC4, Gindexfile_41082);
LA2: ;
}
N_NIMCALL(void, Commanddoc_150001)(NimStringDesc* Filename_150003) {
TY50525* Ast_152568;
NimStringDesc* LOC1;
TY150017* D_152580;
TY47008* LOC5;
NimStringDesc* LOC6;
Ast_152568 = 0;
LOC1 = 0;
LOC1 = nosaddFileExt(Filename_150003, ((NimStringDesc*) &TMP191076));
Ast_152568 = Parsefile_87031(LOC1);
if (!(Ast_152568 == NIM_NIL)) goto LA3;
goto BeforeRet;
LA3: ;
D_152580 = 0;
D_152580 = Newdocumentor_150158(Filename_150003);
Initindexfile_150128(D_152580);
(*D_152580).Hastoc = NIM_TRUE;
Generatedoc_151996(D_152580, Ast_152568);
LOC5 = 0;
LOC5 = Genoutfile_152439(D_152580);
LOC6 = 0;
LOC6 = Getoutfile_41144(Filename_150003, ((NimStringDesc*) &TMP191085));
Writerope_47055(LOC5, LOC6);
Generateindex_152551(D_152580);
BeforeRet: ;
}
N_NIMCALL(void, Commandrstaux_152581)(NimStringDesc* Filename_152583, NimStringDesc* Outext_152584) {
NimStringDesc* Filen_152585;
TY150017* D_152586;
TY142077* Rst_152588;
NimStringDesc* LOC1;
TY47008* Code_152589;
NimStringDesc* LOC2;
Filen_152585 = 0;
Filen_152585 = nosaddFileExt(Filename_152583, ((NimStringDesc*) &TMP191084));
D_152586 = 0;
D_152586 = Newdocumentor_150158(Filen_152585);
Initindexfile_150128(D_152586);
Rst_152588 = 0;
LOC1 = 0;
LOC1 = Readfile_3647(Filen_152585);
Rst_152588 = Rstparse_142082(LOC1, NIM_FALSE, Filen_152585, 0, 1, &(*D_152586).Hastoc);
asgnRefNoCycle((void**) &(*D_152586).Moddesc, Renderrsttoout_150592(D_152586, Rst_152588));
Code_152589 = 0;
Code_152589 = Genoutfile_152439(D_152586);
LOC2 = 0;
LOC2 = Getoutfile_41144(Filename_152583, Outext_152584);
Writerope_47055(Code_152589, LOC2);
Generateindex_152551(D_152586);
}
N_NIMCALL(void, Commandrst2html_150004)(NimStringDesc* Filename_150006) {
Commandrstaux_152581(Filename_150006, ((NimStringDesc*) &TMP191085));
}
N_NIMCALL(void, Commandrst2tex_150007)(NimStringDesc* Filename_150009) {
asgnRefNoCycle((void**) &Splitter_150045, copyString(((NimStringDesc*) &TMP191478)));
Commandrstaux_152581(Filename_150009, ((NimStringDesc*) &TMP191479));
}
N_NOINLINE(void, docgenInit)(void) {
asgnRefNoCycle((void**) &Splitter_150045, copyString(((NimStringDesc*) &TMP150046)));
}

