/* Generated by Nimrod Compiler v0.8.9 */
/*   (c) 2010 Andreas Rumpf */

typedef long long int NI;
typedef unsigned long long int NU;
#include "nimbase.h"

typedef struct TY49527 TY49527;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct TY49525 TY49525;
typedef struct TY49545 TY49545;
typedef struct TGenericSeq TGenericSeq;
typedef struct NimStringDesc NimStringDesc;
typedef struct TY48011 TY48011;
typedef struct TY48005 TY48005;
typedef struct TNimObject TNimObject;
typedef struct TY49549 TY49549;
typedef struct TY41532 TY41532;
typedef struct TY49523 TY49523;
typedef struct TY49537 TY49537;
typedef struct TY46008 TY46008;
typedef struct TY49541 TY49541;
typedef struct TY10202 TY10202;
typedef struct TY10218 TY10218;
typedef struct TY10590 TY10590;
typedef struct TY10214 TY10214;
typedef struct TY10210 TY10210;
typedef struct TY10588 TY10588;
typedef struct TY45448 TY45448;
typedef struct TY45036 TY45036;
typedef struct TY53079 TY53079;
typedef struct TY49547 TY49547;
typedef struct TY49517 TY49517;
typedef struct TY37013 TY37013;
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TGenericSeq {
NI len;
NI space;
};
struct TY49527 {
TNimType* m_type;
NI Counter;
TY49525* Data;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
struct TNimObject {
TNimType* m_type;
};
struct TY48005 {
  TNimObject Sup;
NI Id;
};
struct TY41532 {
NI16 Line;
NI16 Col;
NI32 Fileindex;
};
struct TY49537 {
NU8 K;
NU8 S;
NU8 Flags;
TY49549* T;
TY46008* R;
NI A;
};
struct TY49545 {
  TY48005 Sup;
NU8 Kind;
NU8 Magic;
TY49549* Typ;
TY48011* Name;
TY41532 Info;
TY49545* Owner;
NU32 Flags;
TY49527 Tab;
TY49523* Ast;
NU32 Options;
NI Position;
NI Offset;
TY49537 Loc;
TY49541* Annex;
};
struct TY10202 {
NI Refcount;
TNimType* Typ;
};
struct TY10218 {
NI Len;
NI Cap;
TY10202** D;
};
struct TY10214 {
NI Counter;
NI Max;
TY10210* Head;
TY10210** Data;
};
struct TY10588 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY10590 {
TY10218 Zct;
TY10218 Decstack;
TY10214 Cycleroots;
TY10218 Tempstack;
TY10588 Stat;
};
struct TY45448 {
NimStringDesc* Name;
NI Intsize;
NU8 Endian;
NI Floatsize;
NI Bit;
};
typedef TY45448 TY45461[12];
typedef NimStringDesc* TY45457[2];
struct TY45036 {
NimStringDesc* Name;
NimStringDesc* Pardir;
NimStringDesc* Dllfrmt;
NimStringDesc* Altdirsep;
NimStringDesc* Objext;
NimStringDesc* Newline;
NimStringDesc* Pathsep;
NimStringDesc* Dirsep;
NimStringDesc* Scriptext;
NimStringDesc* Curdir;
NimStringDesc* Exeext;
NimStringDesc* Extsep;
NU8 Props;
};
typedef TY45036 TY45054[21];
struct TY53079 {
NI H;
};
struct TY48011 {
  TY48005 Sup;
NimStringDesc* S;
TY48011* Next;
NI H;
};
struct TY49549 {
  TY48005 Sup;
NU8 Kind;
TY49547* Sons;
TY49523* N;
NU8 Flags;
NU8 Callconv;
TY49545* Owner;
TY49545* Sym;
NI64 Size;
NI Align;
NI Containerid;
TY49537 Loc;
};
struct TY49523 {
TY49549* Typ;
NimStringDesc* Comment;
TY41532 Info;
NU8 Flags;
NU8 Kind;
union {
struct {NI64 Intval;
} S1;
struct {NF64 Floatval;
} S2;
struct {NimStringDesc* Strval;
} S3;
struct {TY49545* Sym;
} S4;
struct {TY48011* Ident;
} S5;
struct {TY49517* Sons;
} S6;
} KindU;
};
struct TY46008 {
  TNimObject Sup;
TY46008* Left;
TY46008* Right;
NI Length;
NimStringDesc* Data;
};
struct TY37013 {
  TNimObject Sup;
TY37013* Prev;
TY37013* Next;
};
struct TY49541 {
  TY37013 Sup;
NU8 Kind;
NIM_BOOL Generated;
TY46008* Name;
TY49523* Path;
};
typedef NI TY8214[8];
struct TY10210 {
TY10210* Next;
NI Key;
TY8214 Bits;
};
struct TY49525 {
  TGenericSeq Sup;
  TY49545* data[SEQ_DECL_SIZE];
};
struct TY49547 {
  TGenericSeq Sup;
  TY49549* data[SEQ_DECL_SIZE];
};
struct TY49517 {
  TGenericSeq Sup;
  TY49523* data[SEQ_DECL_SIZE];
};
N_NIMCALL(void, Initstrtable_49744)(TY49527* X_49747);
N_NIMCALL(void, Definesymbol_57053)(NimStringDesc* Symbol_57055);
N_NIMCALL(TY48011*, Getident_48016)(NimStringDesc* Identifier_48018);
N_NIMCALL(TY49545*, Strtableget_53069)(TY49527* T_53071, TY48011* Name_53072);
N_NIMCALL(void*, newObj)(TNimType* Typ_11907, NI Size_11908);
N_NIMCALL(void, objectInit)(void* Dest_17862, TNimType* Typ_17863);
static N_INLINE(void, asgnRefNoCycle)(void** Dest_11416, void* Src_11417);
static N_INLINE(TY10202*, Usrtocell_10622)(void* Usr_10624);
static N_INLINE(void, Rtladdzct_11256)(TY10202* C_11258);
N_NOINLINE(void, Addzct_10611)(TY10218* S_10614, TY10202* C_10615);
N_NIMCALL(void, Strtableadd_53064)(TY49527* T_53067, TY49545* N_53068);
static N_INLINE(void, appendString)(NimStringDesc* Dest_16992, NimStringDesc* Src_16993);
N_NIMCALL(NimStringDesc*, nimIntToStr)(NI X_17603);
N_NIMCALL(NimStringDesc*, rawNewString)(NI Space_16887);
N_NIMCALL(NimStringDesc*, nsuNormalize)(NimStringDesc* S_22546);
N_NIMCALL(TY49545*, Inittabiter_53081)(TY53079* Ti_53084, TY49527* Tab_53085);
N_NIMCALL(void, Messageout_41550)(NimStringDesc* S_41552);
N_NIMCALL(TY49545*, Nextiter_53086)(TY53079* Ti_53089, TY49527* Tab_53090);
STRING_LITERAL(TMP190622, "nimrod", 6);
STRING_LITERAL(TMP190623, "x86", 3);
STRING_LITERAL(TMP190624, "itanium", 7);
STRING_LITERAL(TMP190625, "x8664", 5);
STRING_LITERAL(TMP190626, "msdos", 5);
STRING_LITERAL(TMP190627, "mswindows", 9);
STRING_LITERAL(TMP190628, "win32", 5);
STRING_LITERAL(TMP190629, "unix", 4);
STRING_LITERAL(TMP190630, "posix", 5);
STRING_LITERAL(TMP190631, "sunos", 5);
STRING_LITERAL(TMP190632, "bsd", 3);
STRING_LITERAL(TMP190633, "macintosh", 9);
STRING_LITERAL(TMP190634, "cpu", 3);
extern NIM_CONST TY45461 Cpu_45460;
extern NIM_CONST TY45457 Endiantostr_45456;
extern NIM_CONST TY45054 Os_45053;
STRING_LITERAL(TMP190672, "-- List of currently defined symbols --", 39);
STRING_LITERAL(TMP190673, "-- End of list --", 17);
TY49527 Gsymbols_57001;
extern TNimType* NTI49527; /* TStrTable */
extern TNimType* NTI49521; /* PSym */
extern TNimType* NTI49545; /* TSym */
extern TY10590 Gch_10608;
extern NU8 Targetcpu_45560;
extern NU8 Targetos_45562;
static N_INLINE(TY10202*, Usrtocell_10622)(void* Usr_10624) {
TY10202* Result_10625;
Result_10625 = 0;
Result_10625 = ((TY10202*) ((NI64)((NU64)(((NI) (Usr_10624))) - (NU64)(((NI) (((NI)sizeof(TY10202))))))));
return Result_10625;
}
static N_INLINE(void, Rtladdzct_11256)(TY10202* C_11258) {
Addzct_10611(&Gch_10608.Zct, C_11258);
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_11416, void* Src_11417) {
TY10202* C_11418;
TY10202* C_11419;
if (!!((Src_11417 == NIM_NIL))) goto LA2;
C_11418 = 0;
C_11418 = Usrtocell_10622(Src_11417);
(*C_11418).Refcount = (NI64)((NU64)((*C_11418).Refcount) + (NU64)(8));
LA2: ;
if (!!(((*Dest_11416) == NIM_NIL))) goto LA5;
C_11419 = 0;
C_11419 = Usrtocell_10622((*Dest_11416));
(*C_11419).Refcount = (NI64)((NU64)((*C_11419).Refcount) - (NU64)(8));
if (!((NU64)((*C_11419).Refcount) < (NU64)(8))) goto LA8;
Rtladdzct_11256(C_11419);
LA8: ;
LA5: ;
(*Dest_11416) = Src_11417;
}
N_NIMCALL(void, Definesymbol_57053)(NimStringDesc* Symbol_57055) {
TY48011* I_57069;
TY49545* Sym_57070;
I_57069 = 0;
I_57069 = Getident_48016(Symbol_57055);
Sym_57070 = 0;
Sym_57070 = Strtableget_53069(&Gsymbols_57001, I_57069);
if (!(Sym_57070 == NIM_NIL)) goto LA2;
Sym_57070 = (TY49545*) newObj(NTI49521, sizeof(TY49545));
objectInit(Sym_57070, NTI49545);
(*Sym_57070).Kind = ((NU8) 1);
asgnRefNoCycle((void**) &(*Sym_57070).Name, I_57069);
Strtableadd_53064(&Gsymbols_57001, Sym_57070);
LA2: ;
(*Sym_57070).Position = 1;
}
static N_INLINE(void, appendString)(NimStringDesc* Dest_16992, NimStringDesc* Src_16993) {
memcpy(((NCSTRING) (&(*Dest_16992).data[((*Dest_16992).Sup.len)-0])), ((NCSTRING) ((*Src_16993).data)), ((NI32) ((NI64)((NI64)((*Src_16993).Sup.len + 1) * 1))));
(*Dest_16992).Sup.len += (*Src_16993).Sup.len;
}
N_NIMCALL(void, Initdefines_57049)(void) {
NimStringDesc* LOC1;
NimStringDesc* LOC2;
NimStringDesc* LOC3;
Initstrtable_49744(&Gsymbols_57001);
Definesymbol_57053(((NimStringDesc*) &TMP190622));
switch (Targetcpu_45560) {
case ((NU8) 1):
Definesymbol_57053(((NimStringDesc*) &TMP190623));
break;
case ((NU8) 7):
Definesymbol_57053(((NimStringDesc*) &TMP190624));
break;
case ((NU8) 8):
Definesymbol_57053(((NimStringDesc*) &TMP190625));
break;
default:
break;
}
switch (Targetos_45562) {
case ((NU8) 1):
Definesymbol_57053(((NimStringDesc*) &TMP190626));
break;
case ((NU8) 2):
Definesymbol_57053(((NimStringDesc*) &TMP190627));
Definesymbol_57053(((NimStringDesc*) &TMP190628));
break;
case ((NU8) 4):
case ((NU8) 5):
case ((NU8) 6):
case ((NU8) 8):
case ((NU8) 13):
case ((NU8) 14):
case ((NU8) 16):
case ((NU8) 12):
Definesymbol_57053(((NimStringDesc*) &TMP190629));
Definesymbol_57053(((NimStringDesc*) &TMP190630));
break;
case ((NU8) 7):
Definesymbol_57053(((NimStringDesc*) &TMP190631));
Definesymbol_57053(((NimStringDesc*) &TMP190629));
Definesymbol_57053(((NimStringDesc*) &TMP190630));
break;
case ((NU8) 9):
case ((NU8) 10):
case ((NU8) 11):
Definesymbol_57053(((NimStringDesc*) &TMP190629));
Definesymbol_57053(((NimStringDesc*) &TMP190632));
Definesymbol_57053(((NimStringDesc*) &TMP190630));
break;
case ((NU8) 18):
Definesymbol_57053(((NimStringDesc*) &TMP190633));
break;
case ((NU8) 19):
Definesymbol_57053(((NimStringDesc*) &TMP190633));
Definesymbol_57053(((NimStringDesc*) &TMP190629));
Definesymbol_57053(((NimStringDesc*) &TMP190630));
break;
default:
break;
}
LOC2 = nimIntToStr(Cpu_45460[(Targetcpu_45560)-1].Bit);
LOC1 = rawNewString(LOC2->Sup.len + 3);
appendString(LOC1, ((NimStringDesc*) &TMP190634));
appendString(LOC1, LOC2);
Definesymbol_57053(LOC1);
LOC3 = nsuNormalize(Endiantostr_45456[(Cpu_45460[(Targetcpu_45560)-1].Endian)-0]);
Definesymbol_57053(LOC3);
Definesymbol_57053(Cpu_45460[(Targetcpu_45560)-1].Name);
Definesymbol_57053(Os_45053[(Targetos_45562)-1].Name);
}
N_NIMCALL(void, Undefsymbol_57056)(NimStringDesc* Symbol_57058) {
TY49545* Sym_57101;
TY48011* LOC1;
Sym_57101 = 0;
LOC1 = Getident_48016(Symbol_57058);
Sym_57101 = Strtableget_53069(&Gsymbols_57001, LOC1);
if (!!((Sym_57101 == NIM_NIL))) goto LA3;
(*Sym_57101).Position = 0;
LA3: ;
}
N_NIMCALL(void, Listsymbols_57062)(void) {
TY53079 It_57133;
TY49545* S_57135;
memset((void*)&It_57133, 0, sizeof(It_57133));
S_57135 = 0;
S_57135 = Inittabiter_53081(&It_57133, &Gsymbols_57001);
Messageout_41550(((NimStringDesc*) &TMP190672));
while (1) {
if (!!((S_57135 == NIM_NIL))) goto LA1;
if (!((*S_57135).Position == 1)) goto LA3;
Messageout_41550((*(*S_57135).Name).S);
LA3: ;
S_57135 = Nextiter_53086(&It_57133, &Gsymbols_57001);
} LA1: ;
Messageout_41550(((NimStringDesc*) &TMP190673));
}
N_NIMCALL(NIM_BOOL, Isdefined_57059)(TY48011* Symbol_57061) {
NIM_BOOL Result_57116;
TY49545* Sym_57117;
NIM_BOOL LOC1;
Result_57116 = 0;
Sym_57117 = 0;
Sym_57117 = Strtableget_53069(&Gsymbols_57001, Symbol_57061);
LOC1 = !((Sym_57117 == NIM_NIL));
if (!(LOC1)) goto LA2;
LOC1 = ((*Sym_57117).Position == 1);
LA2: ;
Result_57116 = LOC1;
return Result_57116;
}
N_NIMCALL(NI, Countdefinedsymbols_57064)(void) {
NI Result_57153;
TY53079 It_57154;
TY49545* S_57156;
Result_57153 = 0;
memset((void*)&It_57154, 0, sizeof(It_57154));
S_57156 = 0;
S_57156 = Inittabiter_53081(&It_57154, &Gsymbols_57001);
Result_57153 = 0;
while (1) {
if (!!((S_57156 == NIM_NIL))) goto LA1;
if (!((*S_57156).Position == 1)) goto LA3;
Result_57153 += 1;
LA3: ;
S_57156 = Nextiter_53086(&It_57154, &Gsymbols_57001);
} LA1: ;
return Result_57153;
}
N_NOINLINE(void, condsymsInit)(void) {
Gsymbols_57001.m_type = NTI49527;
}

