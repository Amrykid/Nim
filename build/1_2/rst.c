/* Generated by Nimrod Compiler v0.8.9 */
/*   (c) 2010 Andreas Rumpf */

typedef long long int NI;
typedef unsigned long long int NU;
#include "nimbase.h"

typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct TY140077 TY140077;
typedef struct TY140690 TY140690;
typedef struct TNimObject TNimObject;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct TY140137 TY140137;
typedef struct TY140135 TY140135;
typedef struct TY140686 TY140686;
typedef struct TY70281 TY70281;
typedef struct TY140695 TY140695;
typedef struct TY140684 TY140684;
typedef struct TY10202 TY10202;
typedef struct TY10218 TY10218;
typedef struct TY10590 TY10590;
typedef struct TY10214 TY10214;
typedef struct TY10210 TY10210;
typedef struct TY10588 TY10588;
typedef struct TY140139 TY140139;
typedef struct TY140075 TY140075;
typedef struct TY41532 TY41532;
typedef struct TY33221 TY33221;
typedef NU8 TY20402[32];
struct TGenericSeq {
NI len;
NI space;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
typedef NimStringDesc* TY142479[12];
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TNimObject {
TNimType* m_type;
};
struct TY140135 {
NU8 Kind;
NI Ival;
NimStringDesc* Symbol;
NI Line;
NI Col;
};
struct TY140690 {
  TNimObject Sup;
NI Idx;
TY140137* Tok;
TY140686* S;
TY70281* Indentstack;
NimStringDesc* Filename;
NI Line;
NI Col;
NIM_BOOL Hastoc;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct TY140684 {
NimStringDesc* Key;
TY140077* Value;
};
typedef NI TY24135[256];
struct TY140686 {
NI Ulevel;
NI Olevel;
TY140695* Subs;
TY140695* Refs;
TY24135 Underlinetolevel;
TY24135 Overlinetolevel;
};
struct TY10202 {
NI Refcount;
TNimType* Typ;
};
struct TY10218 {
NI Len;
NI Cap;
TY10202** D;
};
struct TY10214 {
NI Counter;
NI Max;
TY10210* Head;
TY10210** Data;
};
struct TY10588 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY10590 {
TY10218 Zct;
TY10218 Decstack;
TY10214 Cycleroots;
TY10218 Tempstack;
TY10588 Stat;
};
struct TY140139 {
  TNimObject Sup;
NCSTRING Buf;
NI Bufpos;
NI Line;
NI Col;
NI Baseindent;
NIM_BOOL Skippounds;
};
struct TY140077 {
NU8 Kind;
NimStringDesc* Text;
NI Level;
TY140075* Sons;
};
struct TY41532 {
NI16 Line;
NI16 Col;
NI32 Fileindex;
};
typedef N_NIMCALL_PTR(TY140077*, TY144055) (TY140690* P_144061);
typedef NimStringDesc* TY143823[3];
typedef NI TY143828[3];
typedef NI TY8214[8];
struct TY10210 {
TY10210* Next;
NI Key;
TY8214 Bits;
};
struct TY140137 {
  TGenericSeq Sup;
  TY140135 data[SEQ_DECL_SIZE];
};
struct TY70281 {
  TGenericSeq Sup;
  NI data[SEQ_DECL_SIZE];
};
struct TY140695 {
  TGenericSeq Sup;
  TY140684 data[SEQ_DECL_SIZE];
};
struct TY140075 {
  TGenericSeq Sup;
  TY140077* data[SEQ_DECL_SIZE];
};
struct TY33221 {
  TGenericSeq Sup;
  NimStringDesc* data[SEQ_DECL_SIZE];
};
N_NIMCALL(void, Rawmessage_41553)(NU8 Msg_41555, NimStringDesc* Arg_41556);
N_NIMCALL(void, Initparser_140839)(TY140690* P_140842, TY140686* Sharedstate_140843);
N_NIMCALL(void*, newSeq)(TNimType* Typ_12403, NI Len_12404);
N_NIMCALL(void, unsureAsgnRef)(void** Dest_11422, void* Src_11423);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* Src_16908);
N_NIMCALL(TY140686*, Newsharedstate_140710)(void);
N_NIMCALL(void*, newObj)(TNimType* Typ_11907, NI Size_11908);
static N_INLINE(void, asgnRefNoCycle)(void** Dest_11416, void* Src_11417);
static N_INLINE(TY10202*, Usrtocell_10622)(void* Usr_10624);
static N_INLINE(void, Rtladdzct_11256)(TY10202* C_11258);
N_NOINLINE(void, Addzct_10611)(TY10218* S_10614, TY10202* C_10615);
N_NIMCALL(void, Gettokens_140438)(NimStringDesc* Buffer_140440, NIM_BOOL Skippounds_140441, TY140137** Tokens_140443);
N_NIMCALL(TGenericSeq*, setLengthSeq)(TGenericSeq* Seq_17203, NI Elemsize_17204, NI Newlen_17205);
N_NIMCALL(void, Rawgettok_140386)(TY140139* L_140389, TY140135* Tok_140391);
N_NIMCALL(void, Getthing_140158)(TY140139* L_140161, TY140135* Tok_140163, TY20402 S_140164);
N_NIMCALL(NimStringDesc*, addChar)(NimStringDesc* S_1603, NIM_CHAR C_1604);
N_NIMCALL(void, Getindent_140358)(TY140139* L_140361, TY140135* Tok_140363);
N_NIMCALL(NI, Getindentaux_140237)(TY140139* L_140240, NI Start_140241);
static N_INLINE(void, appendString)(NimStringDesc* Dest_16992, NimStringDesc* Src_16993);
N_NIMCALL(NimStringDesc*, nsuRepeatChar)(NI Count_23750, NIM_CHAR C_23751);
N_NIMCALL(NimStringDesc*, rawNewString)(NI Space_16887);
N_NIMCALL(void, Getadornment_140202)(TY140139* L_140205, TY140135* Tok_140207);
N_NIMCALL(TY140077*, Resolvesubs_144478)(TY140690* P_144481, TY140077* N_144482);
N_NIMCALL(NI, Findsub_140998)(TY140690* P_141001, TY140077* N_141002);
N_NIMCALL(NimStringDesc*, Addnodes_140108)(TY140077* N_140110);
N_NIMCALL(void, Addnodesaux_140874)(TY140077* N_140876, NimStringDesc** Result_140878);
N_NIMCALL(NimStringDesc*, resizeString)(NimStringDesc* Dest_16982, NI Addlen_16983);
N_NIMCALL(NI, Rsonslen_140091)(TY140077* N_140093);
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* A_16847, NimStringDesc* B_16848);
N_NIMCALL(NI, nsuCmpIgnoreStyle)(NimStringDesc* A_22638, NimStringDesc* B_22639);
N_NIMCALL(NimStringDesc*, Getenv_33425)(NimStringDesc* Key_33427);
N_NIMCALL(TY140077*, Newrstnode_140097)(NU8 Kind_140099, NimStringDesc* S_140100);
N_NIMCALL(TY140077*, Newrstnode_140094)(NU8 Kind_140096);
N_NIMCALL(void, Rstmessage_140765)(TY140690* P_140767, NU8 Msgkind_140768, NimStringDesc* Arg_140769);
N_NIMCALL(void, Limessage_41562)(TY41532 Info_41564, NU8 Msg_41565, NimStringDesc* Arg_41566);
N_NIMCALL(TY41532, Tokinfo_140760)(TY140690* P_140762, TY140135* Tok_140763);
N_NIMCALL(TY41532, Newlineinfo_41574)(NimStringDesc* Filename_41576, NI Line_41577, NI Col_41578);
N_NIMCALL(TY140077*, Findref_141121)(TY140690* P_141124, NimStringDesc* Key_141125);
N_NIMCALL(NimStringDesc*, Rstnodetorefname_140105)(TY140077* N_140107);
N_NIMCALL(void, Rstnodetorefnameaux_140922)(TY140077* N_140924, NimStringDesc** R_140926, NIM_BOOL* B_140928);
N_NIMCALL(void, Addson_140101)(TY140077* Father_140103, TY140077* Son_140104);
N_NIMCALL(TGenericSeq*, incrSeq)(TGenericSeq* Seq_17035, NI Elemsize_17036);
N_NIMCALL(TY140077*, Parsedoc_143151)(TY140690* P_143154);
N_NIMCALL(TY140077*, Parsesectionwrapper_144019)(TY140690* P_144022);
N_NIMCALL(void, Parsesection_142508)(TY140690* P_142511, TY140077* Result_142512);
N_NIMCALL(NI, Currind_140774)(TY140690* P_140776);
N_NIMCALL(void, Pushind_140778)(TY140690* P_140781, NI Ind_140782);
N_NIMCALL(void, Popind_140801)(TY140690* P_140804);
N_NIMCALL(NU8, Whichsection_142858)(TY140690* P_142860);
N_NIMCALL(NIM_BOOL, Match_141762)(TY140690* P_141764, NI Start_141765, NimStringDesc* Expr_141766);
N_NIMCALL(NIM_BOOL, Allcharsinset_23830)(NimStringDesc* S_23832, TY20402 Theset_23833);
N_NIMCALL(NI, Tokenafternewline_142784)(TY140690* P_142786);
N_NIMCALL(NIM_BOOL, Prednl_142822)(TY140690* P_142824);
N_NIMCALL(NIM_BOOL, Islineblock_142813)(TY140690* P_142815);
N_NIMCALL(void, Rstmessage_140770)(TY140690* P_140772, NU8 Msgkind_140773);
N_NIMCALL(NIM_BOOL, Isdeflist_142839)(TY140690* P_142841);
N_NIMCALL(TY140077*, Parseliteralblock_142682)(TY140690* P_142685);
N_NIMCALL(TY140077*, Parsebulletlist_143567)(TY140690* P_143570);
N_NIMCALL(TY140077*, Parselineblock_142871)(TY140690* P_142874);
N_NIMCALL(TY140077*, Parsedotdot_142678)(TY140690* P_142681);
N_NIMCALL(NimStringDesc*, Getdirective_142270)(TY140690* P_142273);
N_NIMCALL(NU8, Getdirkind_142495)(NimStringDesc* S_142497);
N_NIMCALL(NI, Binarystrsearch_40147)(NimStringDesc** X_40150, NI X_40150Len0, NimStringDesc* Y_40151);
N_NIMCALL(TY140077*, Dirinclude_144211)(TY140690* P_144214);
N_NIMCALL(TY140077*, Parsedirective_144197)(TY140690* P_144200, NU8 Flags_144201, TY144055 Contentparser_144202);
N_NIMCALL(TY140077*, Parsedirective_144063)(TY140690* P_144066, NU8 Flags_144067);
N_NIMCALL(TY140077*, Newleaf_141513)(TY140690* P_141516);
N_NIMCALL(void, Parseline_142502)(TY140690* P_142505, TY140077* Father_142506);
N_NIMCALL(void, Parseinline_142188)(TY140690* P_142191, TY140077* Father_142192);
N_NIMCALL(NIM_BOOL, Isinlinemarkupstart_141640)(TY140690* P_141642, NimStringDesc* Markup_141643);
N_NIMCALL(void, Parseuntil_142111)(TY140690* P_142114, TY140077* Father_142115, NimStringDesc* Postfix_142116, NIM_BOOL Interpretbackslash_142117);
N_NIMCALL(NIM_BOOL, Isinlinemarkupend_141597)(TY140690* P_141599, NimStringDesc* Markup_141600);
N_NIMCALL(void, Parsebackslash_141691)(TY140690* P_141694, TY140077* Father_141695);
N_NIMCALL(TY140077*, Parsepostfix_142010)(TY140690* P_142013, TY140077* N_142014);
N_NIMCALL(void, Fixupembeddedref_141941)(TY140077* N_141943, TY140077* A_141944, TY140077* B_141945);
N_NIMCALL(void, Setref_141078)(TY140690* P_141081, NimStringDesc* Key_141082, TY140077* Value_141083);
N_NIMCALL(void, Parseurl_142067)(TY140690* P_142070, TY140077* Father_142071);
N_NIMCALL(NIM_BOOL, Isurl_142053)(TY140690* P_142055, NI I_142056);
N_NIMCALL(TY140077*, Parsefields_142554)(TY140690* P_142557);
N_NIMCALL(TY140077*, Parsefield_142513)(TY140690* P_142516);
N_NIMCALL(NIM_BOOL, Indfollows_144182)(TY140690* P_144184);
N_NIMCALL(NimStringDesc*, nsuStrip)(NimStringDesc* S_22981, NIM_BOOL Leading_22982, NIM_BOOL Trailing_22983);
N_NIMCALL(NimStringDesc*, Findfile_40088)(NimStringDesc* F_40090);
N_NIMCALL(NimStringDesc*, Getfieldvalue_140111)(TY140077* N_140113, NimStringDesc* Fieldname_140114);
N_NIMCALL(void, Internalerror_41571)(NimStringDesc* Errmsg_41573);
N_NIMCALL(NimStringDesc*, reprEnum)(NI E_17979, TNimType* Typ_17980);
N_NIMCALL(NimStringDesc*, Readfile_3647)(NimStringDesc* Filename_3649);
N_NIMCALL(NI, nsuFindStr)(NimStringDesc* S_24219, NimStringDesc* Sub_24220, NI Start_24221);
N_NIMCALL(TY140077*, Dirimage_144252)(TY140690* P_144255);
N_NIMCALL(TY140077*, Dirfigure_144258)(TY140690* P_144261);
N_NIMCALL(TY140077*, Dirtitle_144264)(TY140690* P_144267);
N_NIMCALL(TY140077*, Dircontainer_144235)(TY140690* P_144238);
N_NIMCALL(TY140077*, Dircontents_144270)(TY140690* P_144273);
N_NIMCALL(TY140077*, Dirraw_144302)(TY140690* P_144305);
N_NIMCALL(NI, nsuCmpIgnoreCase)(NimStringDesc* A_22595, NimStringDesc* B_22596);
N_NIMCALL(void, Dirrawaux_144283)(TY140690* P_144286, TY140077** Result_144288, NU8 Kind_144289, TY144055 Contentparser_144290);
N_NIMCALL(TY140077*, Parsedirbody_144205)(TY140690* P_144208, TY144055 Contentparser_144209);
N_NIMCALL(TY140077*, Dircodeblock_144226)(TY140690* P_144229);
N_NIMCALL(TY140077*, Dirindex_144276)(TY140690* P_144279);
N_NIMCALL(TY140077*, Getreferencename_141518)(TY140690* P_141521, NimStringDesc* Endstr_141522);
N_NIMCALL(TY140077*, Untileol_141550)(TY140690* P_141553);
N_NIMCALL(void, Expect_141580)(TY140690* P_141583, NimStringDesc* Tok_141584);
N_NIMCALL(void, Setsub_141035)(TY140690* P_141038, NimStringDesc* Key_141039, TY140077* Value_141040);
N_NIMCALL(TY140077*, Parsecomment_142397)(TY140690* P_142400);
N_NIMCALL(TY140077*, Parseenumlist_143817)(TY140690* P_143820);
N_NIMCALL(TY140077*, Parsedefinitionlist_143723)(TY140690* P_143726);
N_NIMCALL(TY140077*, Parsetransition_143422)(TY140690* P_143425);
N_NIMCALL(TY140077*, Parseheadline_143001)(TY140690* P_143004);
N_NIMCALL(NI, Getlevel_142762)(NI* Map_142765, NI* Lvl_142767, NIM_CHAR C_142768);
N_NIMCALL(TY140077*, Parseoverline_143481)(TY140690* P_143484);
N_NIMCALL(TY140077*, Parsesimpletable_143155)(TY140690* P_143158);
N_NIMCALL(void, Getcolumns_143047)(TY140690* P_143050, TY70281** Cols_143052);
N_NIMCALL(NI, Tokend_143041)(TY140690* P_143043);
N_NIMCALL(TY140077*, Parseoptionlist_143629)(TY140690* P_143632);
N_NIMCALL(void, Parseparagraph_142932)(TY140690* P_142935, TY140077* Result_142936);
N_NIMCALL(void, Addsonifnotnil_140598)(TY140077* Father_140600, TY140077* Son_140601);
N_NIMCALL(NU8, Sonkind_143903)(TY140077* Father_143905, NI I_143906);
N_NIMCALL(NIM_BOOL, Matcheshyperlink_141250)(TY140077* H_141252, NimStringDesc* Filename_141253);
N_NIMCALL(NIM_BOOL, nsuStartsWith)(NimStringDesc* S_23769, NimStringDesc* Prefix_23770);
N_NIMCALL(NIM_BOOL, Eqrstnodes_141211)(TY140077* A_141213, TY140077* B_141214);
N_NIMCALL(NI, Cmpnodes_141141)(TY140077* A_141143, TY140077* B_141144);
NIM_CONST TY20402 Symchars_140130 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0x03,
0xFE, 0xFF, 0xFF, 0x07, 0xFE, 0xFF, 0xFF, 0x07,
0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF}
;
STRING_LITERAL(TMP142483, "", 0);
STRING_LITERAL(TMP142484, "author", 6);
STRING_LITERAL(TMP142485, "authors", 7);
STRING_LITERAL(TMP142486, "code-block", 10);
STRING_LITERAL(TMP142487, "container", 9);
STRING_LITERAL(TMP142488, "contents", 8);
STRING_LITERAL(TMP142489, "figure", 6);
STRING_LITERAL(TMP142490, "image", 5);
STRING_LITERAL(TMP142491, "include", 7);
STRING_LITERAL(TMP142492, "index", 5);
STRING_LITERAL(TMP142493, "raw", 3);
STRING_LITERAL(TMP142494, "title", 5);
NIM_CONST TY142479 Dirids_142478 = {((NimStringDesc*) &TMP142483),
((NimStringDesc*) &TMP142484),
((NimStringDesc*) &TMP142485),
((NimStringDesc*) &TMP142486),
((NimStringDesc*) &TMP142487),
((NimStringDesc*) &TMP142488),
((NimStringDesc*) &TMP142489),
((NimStringDesc*) &TMP142490),
((NimStringDesc*) &TMP142491),
((NimStringDesc*) &TMP142492),
((NimStringDesc*) &TMP142493),
((NimStringDesc*) &TMP142494)}
;
static NIM_CONST TY20402 TMP192101 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0x03,
0xFE, 0xFF, 0xFF, 0x07, 0xFE, 0xFF, 0xFF, 0x07,
0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF}
;static NIM_CONST TY20402 TMP192102 = {
0x00, 0x02, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP192103, "\015\012", 2);
STRING_LITERAL(TMP192104, "#", 1);
static NIM_CONST TY20402 TMP192105 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0x03,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP192106, "ii", 2);
STRING_LITERAL(TMP192107, " a", 2);
STRING_LITERAL(TMP192108, "i", 1);
STRING_LITERAL(TMP192109, "ai", 2);
STRING_LITERAL(TMP192110, "::", 2);
STRING_LITERAL(TMP192111, "+", 1);
STRING_LITERAL(TMP192112, "*", 1);
STRING_LITERAL(TMP192113, "-", 1);
STRING_LITERAL(TMP192114, "|", 1);
STRING_LITERAL(TMP192115, "..", 2);
STRING_LITERAL(TMP192116, ":", 1);
STRING_LITERAL(TMP192117, "(e) ", 4);
STRING_LITERAL(TMP192118, "+a+", 3);
STRING_LITERAL(TMP192119, "-w", 2);
STRING_LITERAL(TMP192120, "--w", 3);
STRING_LITERAL(TMP192121, "/w", 2);
STRING_LITERAL(TMP192122, "e) ", 3);
STRING_LITERAL(TMP192123, "e. ", 3);
static NIM_CONST TY20402 TMP192124 = {
0x00, 0x00, 0x00, 0x00, 0x84, 0xA1, 0x00, 0x14,
0x00, 0x00, 0x00, 0x88, 0x00, 0x00, 0x00, 0x08,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP192125, "\\", 1);
STRING_LITERAL(TMP192126, "**", 2);
static NIM_CONST TY20402 TMP192127 = {
0x00, 0x00, 0x00, 0x00, 0x86, 0xF2, 0x00, 0xCC,
0x00, 0x00, 0x00, 0xB0, 0x00, 0x00, 0x00, 0x20,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP192128, "``", 2);
STRING_LITERAL(TMP192129, "\\\\", 2);
STRING_LITERAL(TMP192130, " ", 1);
STRING_LITERAL(TMP192131, "`", 1);
STRING_LITERAL(TMP192132, "_", 1);
STRING_LITERAL(TMP192133, ">", 1);
STRING_LITERAL(TMP192134, "<", 1);
STRING_LITERAL(TMP192135, ":w:", 3);
STRING_LITERAL(TMP192136, "idx", 3);
STRING_LITERAL(TMP192137, "literal", 7);
STRING_LITERAL(TMP192138, "strong", 6);
STRING_LITERAL(TMP192139, "emphasis", 8);
STRING_LITERAL(TMP192140, "sub", 3);
STRING_LITERAL(TMP192141, "subscript", 9);
STRING_LITERAL(TMP192142, "sup", 3);
STRING_LITERAL(TMP192143, "supscript", 9);
STRING_LITERAL(TMP192144, "//", 2);
STRING_LITERAL(TMP192145, ".", 1);
STRING_LITERAL(TMP192146, "getFieldValue (2): ", 19);
STRING_LITERAL(TMP192147, "\001\001", 2);
STRING_LITERAL(TMP192148, "\000\001\002", 3);
STRING_LITERAL(TMP192149, "Too many binary zeros in include file", 37);
STRING_LITERAL(TMP192150, "html", 4);
STRING_LITERAL(TMP192151, "file", 4);
STRING_LITERAL(TMP192152, "latex", 5);
STRING_LITERAL(TMP192153, " _", 2);
STRING_LITERAL(TMP192154, " |", 2);
STRING_LITERAL(TMP192155, "replace", 7);
STRING_LITERAL(TMP192156, " [", 2);
STRING_LITERAL(TMP192157, "]", 1);
NIM_CONST TY143823 Wildcards_143822 = {((NimStringDesc*) &TMP192117),
((NimStringDesc*) &TMP192122),
((NimStringDesc*) &TMP192123)}
;
NIM_CONST TY143828 Wildpos_143827 = {1,
0,
0}
;
extern NIM_CONST TY143823 Wildcards_143822;
extern NIM_CONST TY143828 Wildpos_143827;
STRING_LITERAL(TMP192158, "rst.parseSection()", 18);
extern TNimType* NTI140690; /* TRstParser */
extern TNimType* NTI70281; /* seq[int] */
extern TNimType* NTI140137; /* TTokenSeq */
extern TNimType* NTI140688; /* PSharedState */
extern TNimType* NTI140695; /* seq[TSubstitution] */
extern TY10590 Gch_10608;
extern TNimType* NTI140139; /* TLexer */
extern TNimType* NTI140073; /* PRSTNode */
extern TNimType* NTI140075; /* TRstNodeSeq */
extern TNimType* NTI140008; /* TRstNodeKind */
extern TNimType* NTI33221; /* seq[string] */
N_NIMCALL(void, Initparser_140839)(TY140690* P_140842, TY140686* Sharedstate_140843) {
unsureAsgnRef((void**) &(*P_140842).Indentstack, (TY70281*) newSeq(NTI70281, 1));
(*P_140842).Indentstack->data[0] = 0;
unsureAsgnRef((void**) &(*P_140842).Tok, (TY140137*) newSeq(NTI140137, 0));
(*P_140842).Idx = 0;
unsureAsgnRef((void**) &(*P_140842).Filename, copyString(((NimStringDesc*) &TMP142483)));
(*P_140842).Hastoc = NIM_FALSE;
(*P_140842).Col = 0;
(*P_140842).Line = 1;
unsureAsgnRef((void**) &(*P_140842).S, Sharedstate_140843);
}
static N_INLINE(TY10202*, Usrtocell_10622)(void* Usr_10624) {
TY10202* Result_10625;
Result_10625 = 0;
Result_10625 = ((TY10202*) ((NI64)((NU64)(((NI) (Usr_10624))) - (NU64)(((NI) (((NI)sizeof(TY10202))))))));
return Result_10625;
}
static N_INLINE(void, Rtladdzct_11256)(TY10202* C_11258) {
Addzct_10611(&Gch_10608.Zct, C_11258);
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_11416, void* Src_11417) {
TY10202* C_11418;
TY10202* C_11419;
if (!!((Src_11417 == NIM_NIL))) goto LA2;
C_11418 = 0;
C_11418 = Usrtocell_10622(Src_11417);
(*C_11418).Refcount = (NI64)((NU64)((*C_11418).Refcount) + (NU64)(8));
LA2: ;
if (!!(((*Dest_11416) == NIM_NIL))) goto LA5;
C_11419 = 0;
C_11419 = Usrtocell_10622((*Dest_11416));
(*C_11419).Refcount = (NI64)((NU64)((*C_11419).Refcount) - (NU64)(8));
if (!((NU64)((*C_11419).Refcount) < (NU64)(8))) goto LA8;
Rtladdzct_11256(C_11419);
LA8: ;
LA5: ;
(*Dest_11416) = Src_11417;
}
N_NIMCALL(TY140686*, Newsharedstate_140710)(void) {
TY140686* Result_140712;
Result_140712 = 0;
Result_140712 = (TY140686*) newObj(NTI140688, sizeof(TY140686));
asgnRefNoCycle((void**) &(*Result_140712).Subs, (TY140695*) newSeq(NTI140695, 0));
asgnRefNoCycle((void**) &(*Result_140712).Refs, (TY140695*) newSeq(NTI140695, 0));
return Result_140712;
}
N_NIMCALL(void, Getthing_140158)(TY140139* L_140161, TY140135* Tok_140163, TY20402 S_140164) {
NI Pos_140165;
(*Tok_140163).Kind = ((NU8) 3);
(*Tok_140163).Line = (*L_140161).Line;
(*Tok_140163).Col = (*L_140161).Col;
Pos_140165 = 0;
Pos_140165 = (*L_140161).Bufpos;
while (1) {
(*Tok_140163).Symbol = addChar((*Tok_140163).Symbol, (*L_140161).Buf[Pos_140165]);
Pos_140165 += 1;
if (!!(((S_140164[((NU8)((*L_140161).Buf[Pos_140165]))/8] &(1<<(((NU8)((*L_140161).Buf[Pos_140165]))%8)))!=0))) goto LA3;
goto LA1;
LA3: ;
} LA1: ;
(*L_140161).Col += (NI64)(Pos_140165 - (*L_140161).Bufpos);
(*L_140161).Bufpos = Pos_140165;
}
N_NIMCALL(NI, Getindentaux_140237)(TY140139* L_140240, NI Start_140241) {
NI Result_140242;
NI Pos_140243;
NCSTRING Buf_140244;
NIM_BOOL LOC22;
Result_140242 = 0;
Pos_140243 = 0;
Pos_140243 = Start_140241;
Buf_140244 = 0;
Buf_140244 = (*L_140240).Buf;
if (!((NU8)(Buf_140244[Pos_140243]) == (NU8)(13))) goto LA2;
if (!((NU8)(Buf_140244[(NI64)(Pos_140243 + 1)]) == (NU8)(10))) goto LA5;
Pos_140243 += 2;
goto LA4;
LA5: ;
Pos_140243 += 1;
LA4: ;
goto LA1;
LA2: ;
if (!((NU8)(Buf_140244[Pos_140243]) == (NU8)(10))) goto LA7;
Pos_140243 += 1;
goto LA1;
LA7: ;
LA1: ;
if (!(*L_140240).Skippounds) goto LA10;
if (!((NU8)(Buf_140244[Pos_140243]) == (NU8)(35))) goto LA13;
Pos_140243 += 1;
LA13: ;
if (!((NU8)(Buf_140244[Pos_140243]) == (NU8)(35))) goto LA16;
Pos_140243 += 1;
LA16: ;
LA10: ;
while (1) {
switch (((NU8)(Buf_140244[Pos_140243]))) {
case 32:
case 11:
case 12:
Pos_140243 += 1;
Result_140242 += 1;
break;
case 9:
Pos_140243 += 1;
Result_140242 = (NI64)((NI64)(Result_140242 - (NI64)(Result_140242 % 8)) + 8);
break;
default:
goto LA18;
break;
}
} LA18: ;
if (!((NU8)(Buf_140244[Pos_140243]) == (NU8)(0))) goto LA20;
Result_140242 = 0;
goto LA19;
LA20: ;
LOC22 = ((NU8)(Buf_140244[Pos_140243]) == (NU8)(10));
if (LOC22) goto LA23;
LOC22 = ((NU8)(Buf_140244[Pos_140243]) == (NU8)(13));
LA23: ;
if (!LOC22) goto LA24;
Result_140242 = Getindentaux_140237(L_140240, Pos_140243);
goto LA19;
LA24: ;
LA19: ;
(*L_140240).Bufpos = Pos_140243;
return Result_140242;
}
static N_INLINE(void, appendString)(NimStringDesc* Dest_16992, NimStringDesc* Src_16993) {
memcpy(((NCSTRING) (&(*Dest_16992).data[((*Dest_16992).Sup.len)-0])), ((NCSTRING) ((*Src_16993).data)), ((NI32) ((NI64)((NI64)((*Src_16993).Sup.len + 1) * 1))));
(*Dest_16992).Sup.len += (*Src_16993).Sup.len;
}
N_NIMCALL(void, Getindent_140358)(TY140139* L_140361, TY140135* Tok_140363) {
NimStringDesc* LOC1;
NimStringDesc* LOC2;
(*L_140361).Line += 1;
(*Tok_140363).Line = (*L_140361).Line;
(*Tok_140363).Col = 0;
(*Tok_140363).Kind = ((NU8) 1);
(*Tok_140363).Ival = Getindentaux_140237(L_140361, (*L_140361).Bufpos);
(*L_140361).Col = (*Tok_140363).Ival;
(*Tok_140363).Ival = (((NI64)((*Tok_140363).Ival - (*L_140361).Baseindent) >= 0) ? (NI64)((*Tok_140363).Ival - (*L_140361).Baseindent) : 0);
LOC2 = nsuRepeatChar((*Tok_140363).Ival, 32);
LOC1 = rawNewString(LOC2->Sup.len + 2);
appendString(LOC1, ((NimStringDesc*) &TMP192103));
appendString(LOC1, LOC2);
unsureAsgnRef((void**) &(*Tok_140363).Symbol, LOC1);
}
N_NIMCALL(void, Getadornment_140202)(TY140139* L_140205, TY140135* Tok_140207) {
NI Pos_140208;
NIM_CHAR C_140209;
(*Tok_140207).Kind = ((NU8) 4);
(*Tok_140207).Line = (*L_140205).Line;
(*Tok_140207).Col = (*L_140205).Col;
Pos_140208 = 0;
Pos_140208 = (*L_140205).Bufpos;
C_140209 = 0;
C_140209 = (*L_140205).Buf[Pos_140208];
while (1) {
(*Tok_140207).Symbol = addChar((*Tok_140207).Symbol, (*L_140205).Buf[Pos_140208]);
Pos_140208 += 1;
if (!!(((NU8)((*L_140205).Buf[Pos_140208]) == (NU8)(C_140209)))) goto LA3;
goto LA1;
LA3: ;
} LA1: ;
(*L_140205).Col += (NI64)(Pos_140208 - (*L_140205).Bufpos);
(*L_140205).Bufpos = Pos_140208;
}
N_NIMCALL(void, Rawgettok_140386)(TY140139* L_140389, TY140135* Tok_140391) {
NIM_CHAR C_140392;
unsureAsgnRef((void**) &(*Tok_140391).Symbol, copyString(((NimStringDesc*) &TMP142483)));
(*Tok_140391).Ival = 0;
C_140392 = 0;
C_140392 = (*L_140389).Buf[(*L_140389).Bufpos];
switch (((NU8)(C_140392))) {
case 97 ... 122:
case 65 ... 90:
case 128 ... 255:
case 48 ... 57:
Getthing_140158(L_140389, Tok_140391, TMP192101);
break;
case 32:
case 9:
case 11:
case 12:
Getthing_140158(L_140389, Tok_140391, TMP192102);
(*Tok_140391).Kind = ((NU8) 2);
if (!(((NU8)((*L_140389).Buf[(*L_140389).Bufpos])) == ((NU8)(13)) || ((NU8)((*L_140389).Buf[(*L_140389).Bufpos])) == ((NU8)(10)))) goto LA2;
Rawgettok_140386(L_140389, Tok_140391);
LA2: ;
break;
case 13:
case 10:
Getindent_140358(L_140389, Tok_140391);
break;
case 33:
case 34:
case 35:
case 36:
case 37:
case 38:
case 39:
case 40:
case 41:
case 42:
case 43:
case 44:
case 45:
case 46:
case 47:
case 58:
case 59:
case 60:
case 61:
case 62:
case 63:
case 64:
case 91:
case 92:
case 93:
case 94:
case 95:
case 96:
case 123:
case 124:
case 125:
case 126:
Getadornment_140202(L_140389, Tok_140391);
if (!((*Tok_140391).Symbol->Sup.len <= 3)) goto LA5;
(*Tok_140391).Kind = ((NU8) 5);
LA5: ;
break;
default:
(*Tok_140391).Line = (*L_140389).Line;
(*Tok_140391).Col = (*L_140389).Col;
if (!((NU8)(C_140392) == (NU8)(0))) goto LA8;
(*Tok_140391).Kind = ((NU8) 0);
goto LA7;
LA8: ;
(*Tok_140391).Kind = ((NU8) 6);
(*Tok_140391).Symbol = addChar((*Tok_140391).Symbol, C_140392);
(*L_140389).Bufpos += 1;
(*L_140389).Col += 1;
LA7: ;
break;
}
(*Tok_140391).Col = (((NI64)((*Tok_140391).Col - (*L_140389).Baseindent) >= 0) ? (NI64)((*Tok_140391).Col - (*L_140389).Baseindent) : 0);
}
N_NIMCALL(void, Gettokens_140438)(NimStringDesc* Buffer_140440, NIM_BOOL Skippounds_140441, TY140137** Tokens_140443) {
TY140139 L_140444;
NI Length_140455;
NIM_BOOL LOC2;
NIM_BOOL LOC3;
memset((void*)&L_140444, 0, sizeof(L_140444));
L_140444.Sup.m_type = NTI140139;
Length_140455 = 0;
Length_140455 = (*Tokens_140443)->Sup.len;
L_140444.Buf = Buffer_140440->data;
L_140444.Line = 1;
LOC3 = ((NU8)(L_140444.Buf[0]) == (NU8)(239));
if (!(LOC3)) goto LA4;
LOC3 = ((NU8)(L_140444.Buf[1]) == (NU8)(187));
LA4: ;
LOC2 = LOC3;
if (!(LOC2)) goto LA5;
LOC2 = ((NU8)(L_140444.Buf[2]) == (NU8)(191));
LA5: ;
if (!LOC2) goto LA6;
L_140444.Bufpos += 3;
LA6: ;
L_140444.Skippounds = Skippounds_140441;
if (!Skippounds_140441) goto LA9;
if (!((NU8)(L_140444.Buf[L_140444.Bufpos]) == (NU8)(35))) goto LA12;
L_140444.Bufpos += 1;
LA12: ;
if (!((NU8)(L_140444.Buf[L_140444.Bufpos]) == (NU8)(35))) goto LA15;
L_140444.Bufpos += 1;
LA15: ;
L_140444.Baseindent = 0;
while (1) {
if (!((NU8)(L_140444.Buf[L_140444.Bufpos]) == (NU8)(32))) goto LA17;
L_140444.Bufpos += 1;
L_140444.Baseindent += 1;
} LA17: ;
LA9: ;
while (1) {
Length_140455 += 1;
(*Tokens_140443) = (TY140137*) setLengthSeq(&((*Tokens_140443))->Sup, sizeof(TY140135), Length_140455);
Rawgettok_140386(&L_140444, &(*Tokens_140443)->data[(NI64)(Length_140455 - 1)]);
if (!((*Tokens_140443)->data[(NI64)(Length_140455 - 1)].Kind == ((NU8) 0))) goto LA20;
goto LA18;
LA20: ;
} LA18: ;
if (!((*Tokens_140443)->data[0].Kind == ((NU8) 2))) goto LA23;
(*Tokens_140443)->data[0].Ival = (*Tokens_140443)->data[0].Symbol->Sup.len;
(*Tokens_140443)->data[0].Kind = ((NU8) 1);
LA23: ;
}
N_NIMCALL(NI, Rsonslen_140091)(TY140077* N_140093) {
NI Result_140616;
Result_140616 = 0;
Result_140616 = (*N_140093).Sons->Sup.len;
return Result_140616;
}
N_NIMCALL(void, Addnodesaux_140874)(TY140077* N_140876, NimStringDesc** Result_140878) {
NI I_140910;
NI HEX3Atmp_140912;
NI LOC4;
NI Res_140914;
if (!((*N_140876).Kind == ((NU8) 62))) goto LA2;
(*Result_140878) = resizeString((*Result_140878), (*N_140876).Text->Sup.len + 0);
appendString((*Result_140878), (*N_140876).Text);
goto LA1;
LA2: ;
I_140910 = 0;
HEX3Atmp_140912 = 0;
LOC4 = Rsonslen_140091(N_140876);
HEX3Atmp_140912 = (NI64)(LOC4 - 1);
Res_140914 = 0;
Res_140914 = 0;
while (1) {
if (!(Res_140914 <= HEX3Atmp_140912)) goto LA5;
I_140910 = Res_140914;
Addnodesaux_140874((*N_140876).Sons->data[I_140910], Result_140878);
Res_140914 += 1;
} LA5: ;
LA1: ;
}
N_NIMCALL(NimStringDesc*, Addnodes_140108)(TY140077* N_140110) {
NimStringDesc* Result_140920;
Result_140920 = 0;
Result_140920 = copyString(((NimStringDesc*) &TMP142483));
Addnodesaux_140874(N_140110, &Result_140920);
return Result_140920;
}
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* A_16847, NimStringDesc* B_16848) {
NIM_BOOL Result_16849;
NIM_BOOL LOC5;
NIM_BOOL LOC9;
NI32 LOC11;
Result_16849 = 0;
if (!(A_16847 == B_16848)) goto LA2;
Result_16849 = NIM_TRUE;
goto BeforeRet;
LA2: ;
LOC5 = (A_16847 == NIM_NIL);
if (LOC5) goto LA6;
LOC5 = (B_16848 == NIM_NIL);
LA6: ;
if (!LOC5) goto LA7;
Result_16849 = NIM_FALSE;
goto BeforeRet;
LA7: ;
LOC9 = ((*A_16847).Sup.len == (*B_16848).Sup.len);
if (!(LOC9)) goto LA10;
LOC11 = memcmp(((NCSTRING) ((*A_16847).data)), ((NCSTRING) ((*B_16848).data)), ((NI32) ((NI64)((*A_16847).Sup.len * 1))));
LOC9 = (LOC11 == ((NI32) 0));
LA10: ;
Result_16849 = LOC9;
goto BeforeRet;
BeforeRet: ;
return Result_16849;
}
N_NIMCALL(NI, Findsub_140998)(TY140690* P_141001, TY140077* N_141002) {
NI Result_141003;
NimStringDesc* Key_141004;
NI I_141012;
NI HEX3Atmp_141024;
NI Res_141026;
NI I_141020;
NI HEX3Atmp_141030;
NI Res_141032;
NI LOC7;
Result_141003 = 0;
Key_141004 = 0;
Key_141004 = Addnodes_140108(N_141002);
I_141012 = 0;
HEX3Atmp_141024 = 0;
HEX3Atmp_141024 = ((*(*P_141001).S).Subs->Sup.len-1);
Res_141026 = 0;
Res_141026 = 0;
while (1) {
if (!(Res_141026 <= HEX3Atmp_141024)) goto LA1;
I_141012 = Res_141026;
if (!eqStrings(Key_141004, (*(*P_141001).S).Subs->data[I_141012].Key)) goto LA3;
Result_141003 = I_141012;
goto BeforeRet;
LA3: ;
Res_141026 += 1;
} LA1: ;
I_141020 = 0;
HEX3Atmp_141030 = 0;
HEX3Atmp_141030 = ((*(*P_141001).S).Subs->Sup.len-1);
Res_141032 = 0;
Res_141032 = 0;
while (1) {
if (!(Res_141032 <= HEX3Atmp_141030)) goto LA5;
I_141020 = Res_141032;
LOC7 = nsuCmpIgnoreStyle(Key_141004, (*(*P_141001).S).Subs->data[I_141020].Key);
if (!(LOC7 == 0)) goto LA8;
Result_141003 = I_141020;
goto BeforeRet;
LA8: ;
Res_141032 += 1;
} LA5: ;
Result_141003 = -1;
BeforeRet: ;
return Result_141003;
}
N_NIMCALL(TY140077*, Newrstnode_140094)(NU8 Kind_140096) {
TY140077* Result_140630;
Result_140630 = 0;
Result_140630 = (TY140077*) newObj(NTI140073, sizeof(TY140077));
asgnRefNoCycle((void**) &(*Result_140630).Sons, (TY140075*) newSeq(NTI140075, 0));
(*Result_140630).Kind = Kind_140096;
return Result_140630;
}
N_NIMCALL(TY140077*, Newrstnode_140097)(NU8 Kind_140099, NimStringDesc* S_140100) {
TY140077* Result_140666;
Result_140666 = 0;
Result_140666 = Newrstnode_140094(Kind_140099);
asgnRefNoCycle((void**) &(*Result_140666).Text, copyString(S_140100));
return Result_140666;
}
N_NIMCALL(TY41532, Tokinfo_140760)(TY140690* P_140762, TY140135* Tok_140763) {
TY41532 Result_140764;
memset((void*)&Result_140764, 0, sizeof(Result_140764));
Result_140764 = Newlineinfo_41574((*P_140762).Filename, (NI64)((*P_140762).Line + (*Tok_140763).Line), (NI64)((*P_140762).Col + (*Tok_140763).Col));
return Result_140764;
}
N_NIMCALL(void, Rstmessage_140765)(TY140690* P_140767, NU8 Msgkind_140768, NimStringDesc* Arg_140769) {
TY41532 LOC1;
LOC1 = Tokinfo_140760(P_140767, &(*P_140767).Tok->data[(*P_140767).Idx]);
Limessage_41562(LOC1, Msgkind_140768, Arg_140769);
}
N_NIMCALL(TY140077*, Findref_141121)(TY140690* P_141124, NimStringDesc* Key_141125) {
TY140077* Result_141126;
NI I_141134;
NI HEX3Atmp_141136;
NI Res_141138;
Result_141126 = 0;
I_141134 = 0;
HEX3Atmp_141136 = 0;
HEX3Atmp_141136 = ((*(*P_141124).S).Refs->Sup.len-1);
Res_141138 = 0;
Res_141138 = 0;
while (1) {
if (!(Res_141138 <= HEX3Atmp_141136)) goto LA1;
I_141134 = Res_141138;
if (!eqStrings(Key_141125, (*(*P_141124).S).Refs->data[I_141134].Key)) goto LA3;
Result_141126 = (*(*P_141124).S).Refs->data[I_141134].Value;
goto BeforeRet;
LA3: ;
Res_141138 += 1;
} LA1: ;
BeforeRet: ;
return Result_141126;
}
N_NIMCALL(void, Rstnodetorefnameaux_140922)(TY140077* N_140924, NimStringDesc** R_140926, NIM_BOOL* B_140928) {
NI I_140947;
NI HEX3Atmp_140980;
NI Res_140982;
NI I_140978;
NI HEX3Atmp_140986;
NI LOC20;
NI Res_140988;
if (!((*N_140924).Kind == ((NU8) 62))) goto LA2;
I_140947 = 0;
HEX3Atmp_140980 = 0;
HEX3Atmp_140980 = (NI64)((NI64)((*N_140924).Text->Sup.len + 0) - 1);
Res_140982 = 0;
Res_140982 = 0;
while (1) {
if (!(Res_140982 <= HEX3Atmp_140980)) goto LA4;
I_140947 = Res_140982;
switch (((NU8)((*N_140924).Text->data[I_140947]))) {
case 48 ... 57:
if (!(*B_140928)) goto LA6;
(*R_140926) = addChar((*R_140926), 45);
(*B_140928) = NIM_FALSE;
LA6: ;
if (!((*R_140926)->Sup.len == 0)) goto LA9;
(*R_140926) = addChar((*R_140926), 90);
LA9: ;
(*R_140926) = addChar((*R_140926), (*N_140924).Text->data[I_140947]);
break;
case 97 ... 122:
if (!(*B_140928)) goto LA12;
(*R_140926) = addChar((*R_140926), 45);
(*B_140928) = NIM_FALSE;
LA12: ;
(*R_140926) = addChar((*R_140926), (*N_140924).Text->data[I_140947]);
break;
case 65 ... 90:
if (!(*B_140928)) goto LA15;
(*R_140926) = addChar((*R_140926), 45);
(*B_140928) = NIM_FALSE;
LA15: ;
(*R_140926) = addChar((*R_140926), ((NIM_CHAR) (((NI) ((NI64)((NI64)(((NU8)((*N_140924).Text->data[I_140947])) - 65) + 97))))));
break;
default:
if (!(0 < (*R_140926)->Sup.len)) goto LA18;
(*B_140928) = NIM_TRUE;
LA18: ;
break;
}
Res_140982 += 1;
} LA4: ;
goto LA1;
LA2: ;
I_140978 = 0;
HEX3Atmp_140986 = 0;
LOC20 = Rsonslen_140091(N_140924);
HEX3Atmp_140986 = (NI64)(LOC20 - 1);
Res_140988 = 0;
Res_140988 = 0;
while (1) {
if (!(Res_140988 <= HEX3Atmp_140986)) goto LA21;
I_140978 = Res_140988;
Rstnodetorefnameaux_140922((*N_140924).Sons->data[I_140978], R_140926, B_140928);
Res_140988 += 1;
} LA21: ;
LA1: ;
}
N_NIMCALL(NimStringDesc*, Rstnodetorefname_140105)(TY140077* N_140107) {
NimStringDesc* Result_140994;
NIM_BOOL B_140995;
Result_140994 = 0;
Result_140994 = copyString(((NimStringDesc*) &TMP142483));
B_140995 = 0;
B_140995 = NIM_FALSE;
Rstnodetorefnameaux_140922(N_140107, &Result_140994, &B_140995);
return Result_140994;
}
N_NIMCALL(void, Addson_140101)(TY140077* Father_140103, TY140077* Son_140104) {
(*Father_140103).Sons = (TY140075*) incrSeq(&((*Father_140103).Sons)->Sup, sizeof(TY140077*));
asgnRefNoCycle((void**) &(*Father_140103).Sons->data[(*Father_140103).Sons->Sup.len-1], Son_140104);
}
N_NIMCALL(TY140077*, Resolvesubs_144478)(TY140690* P_144481, TY140077* N_144482) {
TY140077* Result_144483;
NI X_144495;
NimStringDesc* Key_144498;
NimStringDesc* E_144499;
TY140077* Y_144500;
NimStringDesc* LOC10;
NI I_144519;
NI HEX3Atmp_144521;
NI LOC14;
NI Res_144523;
Result_144483 = 0;
Result_144483 = N_144482;
if (!(N_144482 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*N_144482).Kind) {
case ((NU8) 61):
X_144495 = 0;
X_144495 = Findsub_140998(P_144481, N_144482);
if (!(0 <= X_144495)) goto LA5;
Result_144483 = (*(*P_144481).S).Subs->data[X_144495].Value;
goto LA4;
LA5: ;
Key_144498 = 0;
Key_144498 = Addnodes_140108(N_144482);
E_144499 = 0;
E_144499 = Getenv_33425(Key_144498);
if (!!(((E_144499) && (E_144499)->Sup.len == 0))) goto LA8;
Result_144483 = Newrstnode_140097(((NU8) 62), E_144499);
goto LA7;
LA8: ;
Rstmessage_140765(&(*P_144481), ((NU8) 217), Key_144498);
LA7: ;
LA4: ;
break;
case ((NU8) 39):
Y_144500 = 0;
LOC10 = Rstnodetorefname_140105(N_144482);
Y_144500 = Findref_141121(P_144481, LOC10);
if (!!((Y_144500 == NIM_NIL))) goto LA12;
Result_144483 = Newrstnode_140094(((NU8) 38));
(*N_144482).Kind = ((NU8) 0);
Addson_140101(Result_144483, N_144482);
Addson_140101(Result_144483, Y_144500);
LA12: ;
break;
case ((NU8) 62):
break;
case ((NU8) 44):
(*P_144481).Hastoc = NIM_TRUE;
break;
default:
I_144519 = 0;
HEX3Atmp_144521 = 0;
LOC14 = Rsonslen_140091(N_144482);
HEX3Atmp_144521 = (NI64)(LOC14 - 1);
Res_144523 = 0;
Res_144523 = 0;
while (1) {
if (!(Res_144523 <= HEX3Atmp_144521)) goto LA15;
I_144519 = Res_144523;
asgnRefNoCycle((void**) &(*N_144482).Sons->data[I_144519], Resolvesubs_144478(P_144481, (*N_144482).Sons->data[I_144519]));
Res_144523 += 1;
} LA15: ;
break;
}
BeforeRet: ;
return Result_144483;
}
N_NIMCALL(NI, Currind_140774)(TY140690* P_140776) {
NI Result_140777;
Result_140777 = 0;
Result_140777 = (*P_140776).Indentstack->data[((*P_140776).Indentstack->Sup.len-1)];
return Result_140777;
}
N_NIMCALL(void, Pushind_140778)(TY140690* P_140781, NI Ind_140782) {
(*P_140781).Indentstack = (TY70281*) incrSeq(&((*P_140781).Indentstack)->Sup, sizeof(NI));
(*P_140781).Indentstack->data[(*P_140781).Indentstack->Sup.len-1] = Ind_140782;
}
N_NIMCALL(void, Popind_140801)(TY140690* P_140804) {
if (!(1 < (*P_140804).Indentstack->Sup.len)) goto LA2;
(*P_140804).Indentstack = (TY70281*) setLengthSeq(&((*P_140804).Indentstack)->Sup, sizeof(NI), (NI64)((*P_140804).Indentstack->Sup.len - 1));
LA2: ;
}
N_NIMCALL(NIM_BOOL, Match_141762)(TY140690* P_141764, NI Start_141765, NimStringDesc* Expr_141766) {
NIM_BOOL Result_141767;
NI I_141768;
NI J_141769;
NI Last_141772;
NIM_BOOL LOC2;
NIM_CHAR C_141855;
NI Length_141856;
NIM_BOOL LOC8;
NIM_BOOL LOC10;
NIM_BOOL LOC11;
Result_141767 = 0;
I_141768 = 0;
I_141768 = 0;
J_141769 = 0;
J_141769 = Start_141765;
Last_141772 = 0;
Last_141772 = (NI64)((NI64)(Expr_141766->Sup.len + 0) - 1);
while (1) {
if (!(I_141768 <= Last_141772)) goto LA1;
switch (((NU8)(Expr_141766->data[I_141768]))) {
case 119:
Result_141767 = ((*P_141764).Tok->data[J_141769].Kind == ((NU8) 3));
break;
case 32:
Result_141767 = ((*P_141764).Tok->data[J_141769].Kind == ((NU8) 2));
break;
case 105:
Result_141767 = ((*P_141764).Tok->data[J_141769].Kind == ((NU8) 1));
break;
case 112:
Result_141767 = ((*P_141764).Tok->data[J_141769].Kind == ((NU8) 5));
break;
case 97:
Result_141767 = ((*P_141764).Tok->data[J_141769].Kind == ((NU8) 4));
break;
case 111:
Result_141767 = ((*P_141764).Tok->data[J_141769].Kind == ((NU8) 6));
break;
case 84:
Result_141767 = NIM_TRUE;
break;
case 69:
Result_141767 = ((7 &(1<<(((*P_141764).Tok->data[J_141769].Kind)&7)))!=0);
break;
case 101:
LOC2 = ((*P_141764).Tok->data[J_141769].Kind == ((NU8) 3));
if (LOC2) goto LA3;
LOC2 = eqStrings((*P_141764).Tok->data[J_141769].Symbol, ((NimStringDesc*) &TMP192104));
LA3: ;
Result_141767 = LOC2;
if (!Result_141767) goto LA5;
switch (((NU8)((*P_141764).Tok->data[J_141769].Symbol->data[0]))) {
case 97 ... 122:
case 65 ... 90:
Result_141767 = ((*P_141764).Tok->data[J_141769].Symbol->Sup.len == 1);
break;
case 48 ... 57:
Result_141767 = Allcharsinset_23830((*P_141764).Tok->data[J_141769].Symbol, TMP192105);
break;
default:
break;
}
LA5: ;
break;
default:
C_141855 = 0;
C_141855 = Expr_141766->data[I_141768];
Length_141856 = 0;
Length_141856 = 0;
while (1) {
LOC8 = (I_141768 <= Last_141772);
if (!(LOC8)) goto LA9;
LOC8 = ((NU8)(Expr_141766->data[I_141768]) == (NU8)(C_141855));
LA9: ;
if (!LOC8) goto LA7;
I_141768 += 1;
Length_141856 += 1;
} LA7: ;
I_141768 -= 1;
LOC11 = ((48 &(1<<(((*P_141764).Tok->data[J_141769].Kind)&7)))!=0);
if (!(LOC11)) goto LA12;
LOC11 = ((*P_141764).Tok->data[J_141769].Symbol->Sup.len == Length_141856);
LA12: ;
LOC10 = LOC11;
if (!(LOC10)) goto LA13;
LOC10 = ((NU8)((*P_141764).Tok->data[J_141769].Symbol->data[0]) == (NU8)(C_141855));
LA13: ;
Result_141767 = LOC10;
break;
}
if (!!(Result_141767)) goto LA15;
goto BeforeRet;
LA15: ;
J_141769 += 1;
I_141768 += 1;
} LA1: ;
Result_141767 = NIM_TRUE;
BeforeRet: ;
return Result_141767;
}
N_NIMCALL(NI, Tokenafternewline_142784)(TY140690* P_142786) {
NI Result_142787;
Result_142787 = 0;
Result_142787 = (*P_142786).Idx;
while (1) {
switch ((*P_142786).Tok->data[Result_142787].Kind) {
case ((NU8) 0):
goto LA1;
break;
case ((NU8) 1):
Result_142787 += 1;
goto LA1;
break;
default:
Result_142787 += 1;
break;
}
} LA1: ;
return Result_142787;
}
N_NIMCALL(NIM_BOOL, Prednl_142822)(TY140690* P_142824) {
NIM_BOOL Result_142825;
NIM_BOOL LOC4;
NI LOC6;
Result_142825 = 0;
Result_142825 = NIM_TRUE;
if (!(0 < (*P_142824).Idx)) goto LA2;
LOC4 = ((*P_142824).Tok->data[(NI64)((*P_142824).Idx - 1)].Kind == ((NU8) 1));
if (!(LOC4)) goto LA5;
LOC6 = Currind_140774(P_142824);
LOC4 = ((*P_142824).Tok->data[(NI64)((*P_142824).Idx - 1)].Ival == LOC6);
LA5: ;
Result_142825 = LOC4;
LA2: ;
return Result_142825;
}
N_NIMCALL(NIM_BOOL, Islineblock_142813)(TY140690* P_142815) {
NIM_BOOL Result_142816;
NI J_142817;
NIM_BOOL LOC1;
NIM_BOOL LOC2;
Result_142816 = 0;
J_142817 = 0;
J_142817 = Tokenafternewline_142784(P_142815);
LOC2 = ((*P_142815).Tok->data[(*P_142815).Idx].Col == (*P_142815).Tok->data[J_142817].Col);
if (!(LOC2)) goto LA3;
LOC2 = eqStrings((*P_142815).Tok->data[J_142817].Symbol, ((NimStringDesc*) &TMP192114));
LA3: ;
LOC1 = LOC2;
if (LOC1) goto LA4;
LOC1 = ((*P_142815).Tok->data[(*P_142815).Idx].Col < (*P_142815).Tok->data[J_142817].Col);
LA4: ;
Result_142816 = LOC1;
return Result_142816;
}
N_NIMCALL(void, Rstmessage_140770)(TY140690* P_140772, NU8 Msgkind_140773) {
TY41532 LOC1;
LOC1 = Tokinfo_140760(P_140772, &(*P_140772).Tok->data[(*P_140772).Idx]);
Limessage_41562(LOC1, Msgkind_140773, (*P_140772).Tok->data[(*P_140772).Idx].Symbol);
}
N_NIMCALL(NIM_BOOL, Isdeflist_142839)(TY140690* P_142841) {
NIM_BOOL Result_142842;
NI J_142843;
NIM_BOOL LOC1;
NIM_BOOL LOC2;
Result_142842 = 0;
J_142843 = 0;
J_142843 = Tokenafternewline_142784(P_142841);
LOC2 = ((*P_142841).Tok->data[(*P_142841).Idx].Col < (*P_142841).Tok->data[J_142843].Col);
if (!(LOC2)) goto LA3;
LOC2 = ((104 &(1<<(((*P_142841).Tok->data[J_142843].Kind)&7)))!=0);
LA3: ;
LOC1 = LOC2;
if (!(LOC1)) goto LA4;
LOC1 = !(eqStrings((*P_142841).Tok->data[(NI64)(J_142843 - 2)].Symbol, ((NimStringDesc*) &TMP192110)));
LA4: ;
Result_142842 = LOC1;
return Result_142842;
}
N_NIMCALL(NU8, Whichsection_142858)(TY140690* P_142860) {
NU8 Result_142861;
NIM_BOOL LOC2;
NIM_BOOL LOC5;
NIM_BOOL LOC8;
NI LOC12;
NIM_BOOL LOC13;
NIM_BOOL LOC18;
NIM_BOOL LOC19;
NIM_BOOL LOC21;
NIM_BOOL LOC22;
NIM_BOOL LOC28;
NIM_BOOL LOC32;
NIM_BOOL LOC36;
NIM_BOOL LOC40;
NIM_BOOL LOC43;
NIM_BOOL LOC46;
NIM_BOOL LOC49;
NIM_BOOL LOC50;
NI LOC56;
NIM_BOOL LOC57;
NIM_BOOL LOC60;
NIM_BOOL LOC63;
Result_142861 = 0;
switch ((*P_142860).Tok->data[(*P_142860).Idx].Kind) {
case ((NU8) 4):
LOC2 = Match_141762(P_142860, (NI64)((*P_142860).Idx + 1), ((NimStringDesc*) &TMP192106));
if (!LOC2) goto LA3;
Result_142861 = ((NU8) 3);
goto LA1;
LA3: ;
LOC5 = Match_141762(P_142860, (NI64)((*P_142860).Idx + 1), ((NimStringDesc*) &TMP192107));
if (!LOC5) goto LA6;
Result_142861 = ((NU8) 29);
goto LA1;
LA6: ;
LOC8 = Match_141762(P_142860, (NI64)((*P_142860).Idx + 1), ((NimStringDesc*) &TMP192108));
if (!LOC8) goto LA9;
Result_142861 = ((NU8) 2);
goto LA1;
LA9: ;
Result_142861 = ((NU8) 62);
LA1: ;
break;
case ((NU8) 5):
LOC12 = Tokenafternewline_142784(P_142860);
LOC13 = Match_141762(P_142860, LOC12, ((NimStringDesc*) &TMP192109));
if (!LOC13) goto LA14;
Result_142861 = ((NU8) 1);
goto LA11;
LA14: ;
if (!eqStrings((*P_142860).Tok->data[(*P_142860).Idx].Symbol, ((NimStringDesc*) &TMP192110))) goto LA16;
Result_142861 = ((NU8) 24);
goto LA11;
LA16: ;
LOC19 = Prednl_142822(P_142860);
if (!(LOC19)) goto LA20;
LOC22 = eqStrings((*P_142860).Tok->data[(*P_142860).Idx].Symbol, ((NimStringDesc*) &TMP192111));
if (LOC22) goto LA23;
LOC22 = eqStrings((*P_142860).Tok->data[(*P_142860).Idx].Symbol, ((NimStringDesc*) &TMP192112));
LA23: ;
LOC21 = LOC22;
if (LOC21) goto LA24;
LOC21 = eqStrings((*P_142860).Tok->data[(*P_142860).Idx].Symbol, ((NimStringDesc*) &TMP192113));
LA24: ;
LOC19 = LOC21;
LA20: ;
LOC18 = LOC19;
if (!(LOC18)) goto LA25;
LOC18 = ((*P_142860).Tok->data[(NI64)((*P_142860).Idx + 1)].Kind == ((NU8) 2));
LA25: ;
if (!LOC18) goto LA26;
Result_142861 = ((NU8) 5);
goto LA11;
LA26: ;
LOC28 = eqStrings((*P_142860).Tok->data[(*P_142860).Idx].Symbol, ((NimStringDesc*) &TMP192114));
if (!(LOC28)) goto LA29;
LOC28 = Islineblock_142813(P_142860);
LA29: ;
if (!LOC28) goto LA30;
Result_142861 = ((NU8) 26);
goto LA11;
LA30: ;
LOC32 = eqStrings((*P_142860).Tok->data[(*P_142860).Idx].Symbol, ((NimStringDesc*) &TMP192115));
if (!(LOC32)) goto LA33;
LOC32 = Prednl_142822(P_142860);
LA33: ;
if (!LOC32) goto LA34;
Result_142861 = ((NU8) 40);
goto LA11;
LA34: ;
LOC36 = eqStrings((*P_142860).Tok->data[(*P_142860).Idx].Symbol, ((NimStringDesc*) &TMP192116));
if (!(LOC36)) goto LA37;
LOC36 = Prednl_142822(P_142860);
LA37: ;
if (!LOC36) goto LA38;
Result_142861 = ((NU8) 13);
goto LA11;
LA38: ;
LOC40 = Match_141762(P_142860, (*P_142860).Idx, ((NimStringDesc*) &TMP192117));
if (!LOC40) goto LA41;
Result_142861 = ((NU8) 7);
goto LA11;
LA41: ;
LOC43 = Match_141762(P_142860, (*P_142860).Idx, ((NimStringDesc*) &TMP192118));
if (!LOC43) goto LA44;
Result_142861 = ((NU8) 30);
Rstmessage_140770(P_142860, ((NU8) 184));
goto LA11;
LA44: ;
LOC46 = Isdeflist_142839(P_142860);
if (!LOC46) goto LA47;
Result_142861 = ((NU8) 9);
goto LA11;
LA47: ;
LOC50 = Match_141762(P_142860, (*P_142860).Idx, ((NimStringDesc*) &TMP192119));
if (LOC50) goto LA51;
LOC50 = Match_141762(P_142860, (*P_142860).Idx, ((NimStringDesc*) &TMP192120));
LA51: ;
LOC49 = LOC50;
if (LOC49) goto LA52;
LOC49 = Match_141762(P_142860, (*P_142860).Idx, ((NimStringDesc*) &TMP192121));
LA52: ;
if (!LOC49) goto LA53;
Result_142861 = ((NU8) 17);
goto LA11;
LA53: ;
Result_142861 = ((NU8) 4);
LA11: ;
break;
case ((NU8) 3):
case ((NU8) 6):
case ((NU8) 2):
LOC56 = Tokenafternewline_142784(P_142860);
LOC57 = Match_141762(P_142860, LOC56, ((NimStringDesc*) &TMP192109));
if (!LOC57) goto LA58;
Result_142861 = ((NU8) 1);
goto LA55;
LA58: ;
LOC60 = Isdeflist_142839(P_142860);
if (!LOC60) goto LA61;
Result_142861 = ((NU8) 9);
goto LA55;
LA61: ;
LOC63 = Match_141762(P_142860, (*P_142860).Idx, ((NimStringDesc*) &TMP192122));
if (LOC63) goto LA64;
LOC63 = Match_141762(P_142860, (*P_142860).Idx, ((NimStringDesc*) &TMP192123));
LA64: ;
if (!LOC63) goto LA65;
Result_142861 = ((NU8) 7);
goto LA55;
LA65: ;
Result_142861 = ((NU8) 4);
LA55: ;
break;
default:
Result_142861 = ((NU8) 62);
break;
}
return Result_142861;
}
N_NIMCALL(TY140077*, Parseliteralblock_142682)(TY140690* P_142685) {
TY140077* Result_142686;
TY140077* N_142687;
NI Indent_142697;
NimStringDesc* LOC8;
Result_142686 = 0;
Result_142686 = Newrstnode_140094(((NU8) 24));
N_142687 = 0;
N_142687 = Newrstnode_140097(((NU8) 62), ((NimStringDesc*) &TMP142483));
if (!((*P_142685).Tok->data[(*P_142685).Idx].Kind == ((NU8) 1))) goto LA2;
Indent_142697 = 0;
Indent_142697 = (*P_142685).Tok->data[(*P_142685).Idx].Ival;
(*P_142685).Idx += 1;
while (1) {
switch ((*P_142685).Tok->data[(*P_142685).Idx].Kind) {
case ((NU8) 0):
goto LA4;
break;
case ((NU8) 1):
if (!((*P_142685).Tok->data[(*P_142685).Idx].Ival < Indent_142697)) goto LA6;
goto LA4;
goto LA5;
LA6: ;
(*N_142687).Text = resizeString((*N_142687).Text, 2);
appendString((*N_142687).Text, ((NimStringDesc*) &TMP192103));
LOC8 = nsuRepeatChar((NI64)((*P_142685).Tok->data[(*P_142685).Idx].Ival - Indent_142697), 32);
(*N_142687).Text = resizeString((*N_142687).Text, LOC8->Sup.len + 0);
appendString((*N_142687).Text, LOC8);
(*P_142685).Idx += 1;
LA5: ;
break;
default:
(*N_142687).Text = resizeString((*N_142687).Text, (*P_142685).Tok->data[(*P_142685).Idx].Symbol->Sup.len + 0);
appendString((*N_142687).Text, (*P_142685).Tok->data[(*P_142685).Idx].Symbol);
(*P_142685).Idx += 1;
break;
}
} LA4: ;
goto LA1;
LA2: ;
while (1) {
if (!!(((3 &(1<<(((*P_142685).Tok->data[(*P_142685).Idx].Kind)&7)))!=0))) goto LA9;
(*N_142687).Text = resizeString((*N_142687).Text, (*P_142685).Tok->data[(*P_142685).Idx].Symbol->Sup.len + 0);
appendString((*N_142687).Text, (*P_142685).Tok->data[(*P_142685).Idx].Symbol);
(*P_142685).Idx += 1;
} LA9: ;
LA1: ;
Addson_140101(Result_142686, N_142687);
return Result_142686;
}
N_NIMCALL(TY140077*, Parsebulletlist_143567)(TY140690* P_143570) {
TY140077* Result_143571;
NimStringDesc* Bullet_143581;
NI Col_143582;
TY140077* Item_143595;
NIM_BOOL LOC6;
NIM_BOOL LOC7;
NIM_BOOL LOC8;
Result_143571 = 0;
Result_143571 = NIM_NIL;
if (!((*P_143570).Tok->data[(NI64)((*P_143570).Idx + 1)].Kind == ((NU8) 2))) goto LA2;
Bullet_143581 = 0;
Bullet_143581 = copyString((*P_143570).Tok->data[(*P_143570).Idx].Symbol);
Col_143582 = 0;
Col_143582 = (*P_143570).Tok->data[(*P_143570).Idx].Col;
Result_143571 = Newrstnode_140094(((NU8) 5));
Pushind_140778(P_143570, (*P_143570).Tok->data[(NI64)((*P_143570).Idx + 2)].Col);
(*P_143570).Idx += 2;
while (1) {
Item_143595 = 0;
Item_143595 = Newrstnode_140094(((NU8) 6));
Parsesection_142508(P_143570, Item_143595);
Addson_140101(Result_143571, Item_143595);
LOC8 = ((*P_143570).Tok->data[(*P_143570).Idx].Kind == ((NU8) 1));
if (!(LOC8)) goto LA9;
LOC8 = ((*P_143570).Tok->data[(*P_143570).Idx].Ival == Col_143582);
LA9: ;
LOC7 = LOC8;
if (!(LOC7)) goto LA10;
LOC7 = eqStrings((*P_143570).Tok->data[(NI64)((*P_143570).Idx + 1)].Symbol, Bullet_143581);
LA10: ;
LOC6 = LOC7;
if (!(LOC6)) goto LA11;
LOC6 = ((*P_143570).Tok->data[(NI64)((*P_143570).Idx + 2)].Kind == ((NU8) 2));
LA11: ;
if (!LOC6) goto LA12;
(*P_143570).Idx += 3;
goto LA5;
LA12: ;
goto LA4;
LA5: ;
} LA4: ;
Popind_140801(P_143570);
LA2: ;
return Result_143571;
}
N_NIMCALL(TY140077*, Parselineblock_142871)(TY140690* P_142874) {
TY140077* Result_142875;
NI Col_142885;
TY140077* Item_142898;
NIM_BOOL LOC6;
NIM_BOOL LOC7;
NIM_BOOL LOC8;
Result_142875 = 0;
Result_142875 = NIM_NIL;
if (!((*P_142874).Tok->data[(NI64)((*P_142874).Idx + 1)].Kind == ((NU8) 2))) goto LA2;
Col_142885 = 0;
Col_142885 = (*P_142874).Tok->data[(*P_142874).Idx].Col;
Result_142875 = Newrstnode_140094(((NU8) 26));
Pushind_140778(P_142874, (*P_142874).Tok->data[(NI64)((*P_142874).Idx + 2)].Col);
(*P_142874).Idx += 2;
while (1) {
Item_142898 = 0;
Item_142898 = Newrstnode_140094(((NU8) 27));
Parsesection_142508(P_142874, Item_142898);
Addson_140101(Result_142875, Item_142898);
LOC8 = ((*P_142874).Tok->data[(*P_142874).Idx].Kind == ((NU8) 1));
if (!(LOC8)) goto LA9;
LOC8 = ((*P_142874).Tok->data[(*P_142874).Idx].Ival == Col_142885);
LA9: ;
LOC7 = LOC8;
if (!(LOC7)) goto LA10;
LOC7 = eqStrings((*P_142874).Tok->data[(NI64)((*P_142874).Idx + 1)].Symbol, ((NimStringDesc*) &TMP192114));
LA10: ;
LOC6 = LOC7;
if (!(LOC6)) goto LA11;
LOC6 = ((*P_142874).Tok->data[(NI64)((*P_142874).Idx + 2)].Kind == ((NU8) 2));
LA11: ;
if (!LOC6) goto LA12;
(*P_142874).Idx += 3;
goto LA5;
LA12: ;
goto LA4;
LA5: ;
} LA4: ;
Popind_140801(P_142874);
LA2: ;
return Result_142875;
}
N_NIMCALL(NimStringDesc*, Getdirective_142270)(TY140690* P_142273) {
NimStringDesc* Result_142274;
NIM_BOOL LOC2;
NI J_142293;
Result_142274 = 0;
LOC2 = ((*P_142273).Tok->data[(*P_142273).Idx].Kind == ((NU8) 2));
if (!(LOC2)) goto LA3;
LOC2 = ((*P_142273).Tok->data[(NI64)((*P_142273).Idx + 1)].Kind == ((NU8) 3));
LA3: ;
if (!LOC2) goto LA4;
J_142293 = 0;
J_142293 = (*P_142273).Idx;
(*P_142273).Idx += 1;
Result_142274 = copyString((*P_142273).Tok->data[(*P_142273).Idx].Symbol);
(*P_142273).Idx += 1;
while (1) {
if (!((120 &(1<<(((*P_142273).Tok->data[(*P_142273).Idx].Kind)&7)))!=0)) goto LA6;
if (!eqStrings((*P_142273).Tok->data[(*P_142273).Idx].Symbol, ((NimStringDesc*) &TMP192110))) goto LA8;
goto LA6;
LA8: ;
Result_142274 = resizeString(Result_142274, (*P_142273).Tok->data[(*P_142273).Idx].Symbol->Sup.len + 0);
appendString(Result_142274, (*P_142273).Tok->data[(*P_142273).Idx].Symbol);
(*P_142273).Idx += 1;
} LA6: ;
if (!((*P_142273).Tok->data[(*P_142273).Idx].Kind == ((NU8) 2))) goto LA11;
(*P_142273).Idx += 1;
LA11: ;
if (!eqStrings((*P_142273).Tok->data[(*P_142273).Idx].Symbol, ((NimStringDesc*) &TMP192110))) goto LA14;
(*P_142273).Idx += 1;
if (!((*P_142273).Tok->data[(*P_142273).Idx].Kind == ((NU8) 2))) goto LA17;
(*P_142273).Idx += 1;
LA17: ;
goto LA13;
LA14: ;
(*P_142273).Idx = J_142293;
Result_142274 = copyString(((NimStringDesc*) &TMP142483));
LA13: ;
goto LA1;
LA4: ;
Result_142274 = copyString(((NimStringDesc*) &TMP142483));
LA1: ;
return Result_142274;
}
N_NIMCALL(NU8, Getdirkind_142495)(NimStringDesc* S_142497) {
NU8 Result_142498;
NI I_142499;
Result_142498 = 0;
I_142499 = 0;
I_142499 = Binarystrsearch_40147(Dirids_142478, 12, S_142497);
if (!(0 <= I_142499)) goto LA2;
Result_142498 = ((NU8) (I_142499));
goto LA1;
LA2: ;
Result_142498 = ((NU8) 0);
LA1: ;
return Result_142498;
}
N_NIMCALL(TY140077*, Newleaf_141513)(TY140690* P_141516) {
TY140077* Result_141517;
Result_141517 = 0;
Result_141517 = Newrstnode_140097(((NU8) 62), (*P_141516).Tok->data[(*P_141516).Idx].Symbol);
return Result_141517;
}
N_NIMCALL(NIM_BOOL, Isinlinemarkupstart_141640)(TY140690* P_141642, NimStringDesc* Markup_141643) {
NIM_BOOL Result_141644;
NIM_CHAR D_141645;
NIM_BOOL LOC4;
NIM_BOOL LOC5;
NIM_CHAR C_141686;
Result_141644 = 0;
D_141645 = 0;
Result_141644 = eqStrings((*P_141642).Tok->data[(*P_141642).Idx].Symbol, Markup_141643);
if (!!(Result_141644)) goto LA2;
goto BeforeRet;
LA2: ;
LOC5 = ((*P_141642).Idx == 0);
if (LOC5) goto LA6;
LOC5 = ((6 &(1<<(((*P_141642).Tok->data[(NI64)((*P_141642).Idx - 1)].Kind)&7)))!=0);
LA6: ;
LOC4 = LOC5;
if (LOC4) goto LA7;
LOC4 = ((TMP192124[((NU8)((*P_141642).Tok->data[(NI64)((*P_141642).Idx - 1)].Symbol->data[0]))/8] &(1<<(((NU8)((*P_141642).Tok->data[(NI64)((*P_141642).Idx - 1)].Symbol->data[0]))%8)))!=0);
LA7: ;
Result_141644 = LOC4;
if (!!(Result_141644)) goto LA9;
goto BeforeRet;
LA9: ;
Result_141644 = !(((7 &(1<<(((*P_141642).Tok->data[(NI64)((*P_141642).Idx + 1)].Kind)&7)))!=0));
if (!!(Result_141644)) goto LA12;
goto BeforeRet;
LA12: ;
if (!(0 < (*P_141642).Idx)) goto LA15;
if (!eqStrings((*P_141642).Tok->data[(NI64)((*P_141642).Idx - 1)].Symbol, ((NimStringDesc*) &TMP192125))) goto LA18;
Result_141644 = NIM_FALSE;
goto LA17;
LA18: ;
C_141686 = 0;
C_141686 = (*P_141642).Tok->data[(NI64)((*P_141642).Idx - 1)].Symbol->data[0];
switch (((NU8)(C_141686))) {
case 39:
case 34:
D_141645 = C_141686;
break;
case 40:
D_141645 = 41;
break;
case 91:
D_141645 = 93;
break;
case 123:
D_141645 = 125;
break;
case 60:
D_141645 = 62;
break;
default:
D_141645 = 0;
break;
}
if (!!(((NU8)(D_141645) == (NU8)(0)))) goto LA21;
Result_141644 = !(((NU8)((*P_141642).Tok->data[(NI64)((*P_141642).Idx + 1)].Symbol->data[0]) == (NU8)(D_141645)));
LA21: ;
LA17: ;
LA15: ;
BeforeRet: ;
return Result_141644;
}
N_NIMCALL(NIM_BOOL, Isinlinemarkupend_141597)(TY140690* P_141599, NimStringDesc* Markup_141600) {
NIM_BOOL Result_141601;
NIM_BOOL LOC7;
NIM_BOOL LOC16;
Result_141601 = 0;
Result_141601 = eqStrings((*P_141599).Tok->data[(*P_141599).Idx].Symbol, Markup_141600);
if (!!(Result_141601)) goto LA2;
goto BeforeRet;
LA2: ;
Result_141601 = !(((6 &(1<<(((*P_141599).Tok->data[(NI64)((*P_141599).Idx - 1)].Kind)&7)))!=0));
if (!!(Result_141601)) goto LA5;
goto BeforeRet;
LA5: ;
LOC7 = ((7 &(1<<(((*P_141599).Tok->data[(NI64)((*P_141599).Idx + 1)].Kind)&7)))!=0);
if (LOC7) goto LA8;
LOC7 = ((TMP192127[((NU8)((*P_141599).Tok->data[(NI64)((*P_141599).Idx + 1)].Symbol->data[0]))/8] &(1<<(((NU8)((*P_141599).Tok->data[(NI64)((*P_141599).Idx + 1)].Symbol->data[0]))%8)))!=0);
LA8: ;
Result_141601 = LOC7;
if (!!(Result_141601)) goto LA10;
goto BeforeRet;
LA10: ;
if (!(0 < (*P_141599).Idx)) goto LA13;
LOC16 = !(eqStrings(Markup_141600, ((NimStringDesc*) &TMP192128)));
if (!(LOC16)) goto LA17;
LOC16 = eqStrings((*P_141599).Tok->data[(NI64)((*P_141599).Idx - 1)].Symbol, ((NimStringDesc*) &TMP192125));
LA17: ;
if (!LOC16) goto LA18;
Result_141601 = NIM_FALSE;
LA18: ;
LA13: ;
BeforeRet: ;
return Result_141601;
}
N_NIMCALL(void, Parsebackslash_141691)(TY140690* P_141694, TY140077* Father_141695) {
TY140077* LOC4;
TY140077* LOC10;
TY140077* LOC11;
if (!eqStrings((*P_141694).Tok->data[(*P_141694).Idx].Symbol, ((NimStringDesc*) &TMP192129))) goto LA2;
LOC4 = Newrstnode_140097(((NU8) 62), ((NimStringDesc*) &TMP192125));
Addson_140101(Father_141695, LOC4);
(*P_141694).Idx += 1;
goto LA1;
LA2: ;
if (!eqStrings((*P_141694).Tok->data[(*P_141694).Idx].Symbol, ((NimStringDesc*) &TMP192125))) goto LA5;
(*P_141694).Idx += 1;
if (!!(((*P_141694).Tok->data[(*P_141694).Idx].Kind == ((NU8) 2)))) goto LA8;
LOC10 = Newleaf_141513(P_141694);
Addson_140101(Father_141695, LOC10);
LA8: ;
(*P_141694).Idx += 1;
goto LA1;
LA5: ;
LOC11 = Newleaf_141513(P_141694);
Addson_140101(Father_141695, LOC11);
(*P_141694).Idx += 1;
LA1: ;
}
N_NIMCALL(void, Parseuntil_142111)(TY140690* P_142114, TY140077* Father_142115, NimStringDesc* Postfix_142116, NIM_BOOL Interpretbackslash_142117) {
NIM_BOOL LOC3;
TY140077* LOC8;
TY140077* LOC9;
TY140077* LOC10;
TY140077* LOC14;
while (1) {
switch ((*P_142114).Tok->data[(*P_142114).Idx].Kind) {
case ((NU8) 5):
LOC3 = Isinlinemarkupend_141597(&(*P_142114), Postfix_142116);
if (!LOC3) goto LA4;
(*P_142114).Idx += 1;
goto LA1;
goto LA2;
LA4: ;
if (!Interpretbackslash_142117) goto LA6;
Parsebackslash_141691(P_142114, Father_142115);
goto LA2;
LA6: ;
LOC8 = Newleaf_141513(P_142114);
Addson_140101(Father_142115, LOC8);
(*P_142114).Idx += 1;
LA2: ;
break;
case ((NU8) 4):
case ((NU8) 3):
case ((NU8) 6):
LOC9 = Newleaf_141513(P_142114);
Addson_140101(Father_142115, LOC9);
(*P_142114).Idx += 1;
break;
case ((NU8) 1):
LOC10 = Newrstnode_140097(((NU8) 62), ((NimStringDesc*) &TMP192130));
Addson_140101(Father_142115, LOC10);
(*P_142114).Idx += 1;
if (!((*P_142114).Tok->data[(*P_142114).Idx].Kind == ((NU8) 1))) goto LA12;
Rstmessage_140765(&(*P_142114), ((NU8) 182), Postfix_142116);
goto LA1;
LA12: ;
break;
case ((NU8) 2):
LOC14 = Newrstnode_140097(((NU8) 62), ((NimStringDesc*) &TMP192130));
Addson_140101(Father_142115, LOC14);
(*P_142114).Idx += 1;
break;
default:
Rstmessage_140765(&(*P_142114), ((NU8) 182), Postfix_142116);
break;
}
} LA1: ;
}
N_NIMCALL(void, Fixupembeddedref_141941)(TY140077* N_141943, TY140077* A_141944, TY140077* B_141945) {
NI Sep_141946;
NI I_141969;
NI HEX3Atmp_141992;
NI LOC1;
NI Res_141994;
NI Incr_141974;
NI LOC6;
NIM_BOOL LOC8;
NI I_141982;
NI HEX3Atmp_141998;
NI Res_142000;
NI I_141990;
NI HEX3Atmp_142004;
NI HEX3Atmp_142005;
NI LOC12;
NI Res_142007;
Sep_141946 = 0;
Sep_141946 = -1;
I_141969 = 0;
HEX3Atmp_141992 = 0;
LOC1 = Rsonslen_140091(N_141943);
HEX3Atmp_141992 = (NI64)(LOC1 - 2);
Res_141994 = 0;
Res_141994 = HEX3Atmp_141992;
while (1) {
if (!(0 <= Res_141994)) goto LA2;
I_141969 = Res_141994;
if (!eqStrings((*(*N_141943).Sons->data[I_141969]).Text, ((NimStringDesc*) &TMP192134))) goto LA4;
Sep_141946 = I_141969;
goto LA2;
LA4: ;
Res_141994 -= 1;
} LA2: ;
Incr_141974 = 0;
LOC8 = (0 < Sep_141946);
if (!(LOC8)) goto LA9;
LOC8 = ((NU8)((*(*N_141943).Sons->data[(NI64)(Sep_141946 - 1)]).Text->data[0]) == (NU8)(32));
LA9: ;
if (!LOC8) goto LA10;
LOC6 = 2;
goto LA7;
LA10: ;
LOC6 = 1;
LA7: ;
Incr_141974 = LOC6;
I_141982 = 0;
HEX3Atmp_141998 = 0;
HEX3Atmp_141998 = (NI64)(Sep_141946 - Incr_141974);
Res_142000 = 0;
Res_142000 = 0;
while (1) {
if (!(Res_142000 <= HEX3Atmp_141998)) goto LA11;
I_141982 = Res_142000;
Addson_140101(A_141944, (*N_141943).Sons->data[I_141982]);
Res_142000 += 1;
} LA11: ;
I_141990 = 0;
HEX3Atmp_142004 = 0;
HEX3Atmp_142005 = 0;
HEX3Atmp_142004 = (NI64)(Sep_141946 + 1);
LOC12 = Rsonslen_140091(N_141943);
HEX3Atmp_142005 = (NI64)(LOC12 - 2);
Res_142007 = 0;
Res_142007 = HEX3Atmp_142004;
while (1) {
if (!(Res_142007 <= HEX3Atmp_142005)) goto LA13;
I_141990 = Res_142007;
Addson_140101(B_141945, (*N_141943).Sons->data[I_141990]);
Res_142007 += 1;
} LA13: ;
}
N_NIMCALL(void, Setref_141078)(TY140690* P_141081, NimStringDesc* Key_141082, TY140077* Value_141083) {
NI Length_141094;
NI I_141102;
NI HEX3Atmp_141116;
NI Res_141118;
Length_141094 = 0;
Length_141094 = (*(*P_141081).S).Refs->Sup.len;
I_141102 = 0;
HEX3Atmp_141116 = 0;
HEX3Atmp_141116 = (NI64)(Length_141094 - 1);
Res_141118 = 0;
Res_141118 = 0;
while (1) {
if (!(Res_141118 <= HEX3Atmp_141116)) goto LA1;
I_141102 = Res_141118;
if (!eqStrings(Key_141082, (*(*P_141081).S).Refs->data[I_141102].Key)) goto LA3;
asgnRefNoCycle((void**) &(*(*P_141081).S).Refs->data[I_141102].Value, Value_141083);
Rstmessage_140765(&(*P_141081), ((NU8) 216), Key_141082);
goto BeforeRet;
LA3: ;
Res_141118 += 1;
} LA1: ;
(*(*P_141081).S).Refs = (TY140695*) setLengthSeq(&((*(*P_141081).S).Refs)->Sup, sizeof(TY140684), (NI64)(Length_141094 + 1));
asgnRefNoCycle((void**) &(*(*P_141081).S).Refs->data[Length_141094].Key, copyString(Key_141082));
asgnRefNoCycle((void**) &(*(*P_141081).S).Refs->data[Length_141094].Value, Value_141083);
BeforeRet: ;
}
N_NIMCALL(TY140077*, Parsepostfix_142010)(TY140690* P_142013, TY140077* N_142014) {
TY140077* Result_142015;
NIM_BOOL LOC2;
NIM_BOOL LOC6;
TY140077* A_142028;
TY140077* B_142029;
NI LOC11;
NimStringDesc* LOC14;
NIM_BOOL LOC17;
NIM_BOOL LOC29;
NIM_BOOL LOC33;
TY140077* LOC37;
Result_142015 = 0;
Result_142015 = N_142014;
LOC2 = Isinlinemarkupend_141597(&(*P_142013), ((NimStringDesc*) &TMP192132));
if (!LOC2) goto LA3;
(*P_142013).Idx += 1;
LOC6 = eqStrings((*P_142013).Tok->data[(NI64)((*P_142013).Idx - 2)].Symbol, ((NimStringDesc*) &TMP192131));
if (!(LOC6)) goto LA7;
LOC6 = eqStrings((*P_142013).Tok->data[(NI64)((*P_142013).Idx - 3)].Symbol, ((NimStringDesc*) &TMP192133));
LA7: ;
if (!LOC6) goto LA8;
A_142028 = 0;
A_142028 = Newrstnode_140094(((NU8) 0));
B_142029 = 0;
B_142029 = Newrstnode_140094(((NU8) 0));
Fixupembeddedref_141941(N_142014, A_142028, B_142029);
LOC11 = Rsonslen_140091(A_142028);
if (!(LOC11 == 0)) goto LA12;
Result_142015 = Newrstnode_140094(((NU8) 37));
Addson_140101(Result_142015, B_142029);
goto LA10;
LA12: ;
Result_142015 = Newrstnode_140094(((NU8) 38));
Addson_140101(Result_142015, A_142028);
Addson_140101(Result_142015, B_142029);
LOC14 = Rstnodetorefname_140105(A_142028);
Setref_141078(P_142013, LOC14, B_142029);
LA10: ;
goto LA5;
LA8: ;
if (!((*N_142014).Kind == ((NU8) 59))) goto LA15;
(*N_142014).Kind = ((NU8) 39);
goto LA5;
LA15: ;
Result_142015 = Newrstnode_140094(((NU8) 39));
Addson_140101(Result_142015, N_142014);
LA5: ;
goto LA1;
LA3: ;
LOC17 = Match_141762(&(*P_142013), (*P_142013).Idx, ((NimStringDesc*) &TMP192135));
if (!LOC17) goto LA18;
if (!eqStrings((*P_142013).Tok->data[(NI64)((*P_142013).Idx + 1)].Symbol, ((NimStringDesc*) &TMP192136))) goto LA21;
(*N_142014).Kind = ((NU8) 56);
goto LA20;
LA21: ;
if (!eqStrings((*P_142013).Tok->data[(NI64)((*P_142013).Idx + 1)].Symbol, ((NimStringDesc*) &TMP192137))) goto LA23;
(*N_142014).Kind = ((NU8) 60);
goto LA20;
LA23: ;
if (!eqStrings((*P_142013).Tok->data[(NI64)((*P_142013).Idx + 1)].Symbol, ((NimStringDesc*) &TMP192138))) goto LA25;
(*N_142014).Kind = ((NU8) 58);
goto LA20;
LA25: ;
if (!eqStrings((*P_142013).Tok->data[(NI64)((*P_142013).Idx + 1)].Symbol, ((NimStringDesc*) &TMP192139))) goto LA27;
(*N_142014).Kind = ((NU8) 57);
goto LA20;
LA27: ;
LOC29 = eqStrings((*P_142013).Tok->data[(NI64)((*P_142013).Idx + 1)].Symbol, ((NimStringDesc*) &TMP192140));
if (LOC29) goto LA30;
LOC29 = eqStrings((*P_142013).Tok->data[(NI64)((*P_142013).Idx + 1)].Symbol, ((NimStringDesc*) &TMP192141));
LA30: ;
if (!LOC29) goto LA31;
(*N_142014).Kind = ((NU8) 54);
goto LA20;
LA31: ;
LOC33 = eqStrings((*P_142013).Tok->data[(NI64)((*P_142013).Idx + 1)].Symbol, ((NimStringDesc*) &TMP192142));
if (LOC33) goto LA34;
LOC33 = eqStrings((*P_142013).Tok->data[(NI64)((*P_142013).Idx + 1)].Symbol, ((NimStringDesc*) &TMP192143));
LA34: ;
if (!LOC33) goto LA35;
(*N_142014).Kind = ((NU8) 55);
goto LA20;
LA35: ;
Result_142015 = Newrstnode_140094(((NU8) 53));
(*N_142014).Kind = ((NU8) 0);
Addson_140101(Result_142015, N_142014);
LOC37 = Newrstnode_140097(((NU8) 62), (*P_142013).Tok->data[(NI64)((*P_142013).Idx + 1)].Symbol);
Addson_140101(Result_142015, LOC37);
LA20: ;
(*P_142013).Idx += 3;
goto LA1;
LA18: ;
LA1: ;
return Result_142015;
}
N_NIMCALL(NIM_BOOL, Isurl_142053)(TY140690* P_142055, NI I_142056) {
NIM_BOOL Result_142057;
NIM_BOOL LOC1;
NIM_BOOL LOC2;
NIM_BOOL LOC3;
Result_142057 = 0;
LOC3 = eqStrings((*P_142055).Tok->data[(NI64)(I_142056 + 1)].Symbol, ((NimStringDesc*) &TMP192116));
if (!(LOC3)) goto LA4;
LOC3 = eqStrings((*P_142055).Tok->data[(NI64)(I_142056 + 2)].Symbol, ((NimStringDesc*) &TMP192144));
LA4: ;
LOC2 = LOC3;
if (!(LOC2)) goto LA5;
LOC2 = ((*P_142055).Tok->data[(NI64)(I_142056 + 3)].Kind == ((NU8) 3));
LA5: ;
LOC1 = LOC2;
if (!(LOC1)) goto LA6;
LOC1 = eqStrings((*P_142055).Tok->data[(NI64)(I_142056 + 4)].Symbol, ((NimStringDesc*) &TMP192145));
LA6: ;
Result_142057 = LOC1;
return Result_142057;
}
N_NIMCALL(void, Parseurl_142067)(TY140690* P_142070, TY140077* Father_142071) {
NIM_BOOL LOC2;
TY140077* N_142072;
TY140077* LOC9;
TY140077* N_142097;
LOC2 = Isurl_142053(&(*P_142070), (*P_142070).Idx);
if (!LOC2) goto LA3;
N_142072 = 0;
N_142072 = Newrstnode_140094(((NU8) 37));
while (1) {
switch ((*P_142070).Tok->data[(*P_142070).Idx].Kind) {
case ((NU8) 3):
case ((NU8) 4):
case ((NU8) 6):
break;
case ((NU8) 5):
if (!!(((120 &(1<<(((*P_142070).Tok->data[(NI64)((*P_142070).Idx + 1)].Kind)&7)))!=0))) goto LA7;
goto LA5;
LA7: ;
break;
default:
goto LA5;
break;
}
LOC9 = Newleaf_141513(P_142070);
Addson_140101(N_142072, LOC9);
(*P_142070).Idx += 1;
} LA5: ;
Addson_140101(Father_142071, N_142072);
goto LA1;
LA3: ;
N_142097 = 0;
N_142097 = Newleaf_141513(P_142070);
(*P_142070).Idx += 1;
if (!eqStrings((*P_142070).Tok->data[(*P_142070).Idx].Symbol, ((NimStringDesc*) &TMP192132))) goto LA11;
N_142097 = Parsepostfix_142010(P_142070, N_142097);
LA11: ;
Addson_140101(Father_142071, N_142097);
LA1: ;
}
N_NIMCALL(void, Parseinline_142188)(TY140690* P_142191, TY140077* Father_142192) {
NIM_BOOL LOC2;
TY140077* N_142205;
NIM_BOOL LOC5;
TY140077* N_142218;
NIM_BOOL LOC8;
TY140077* N_142231;
NIM_BOOL LOC11;
TY140077* N_142244;
NIM_BOOL LOC14;
TY140077* N_142257;
TY140077* LOC17;
switch ((*P_142191).Tok->data[(*P_142191).Idx].Kind) {
case ((NU8) 5):
LOC2 = Isinlinemarkupstart_141640(&(*P_142191), ((NimStringDesc*) &TMP192126));
if (!LOC2) goto LA3;
(*P_142191).Idx += 1;
N_142205 = 0;
N_142205 = Newrstnode_140094(((NU8) 58));
Parseuntil_142111(P_142191, N_142205, ((NimStringDesc*) &TMP192126), NIM_TRUE);
Addson_140101(Father_142192, N_142205);
goto LA1;
LA3: ;
LOC5 = Isinlinemarkupstart_141640(&(*P_142191), ((NimStringDesc*) &TMP192112));
if (!LOC5) goto LA6;
(*P_142191).Idx += 1;
N_142218 = 0;
N_142218 = Newrstnode_140094(((NU8) 57));
Parseuntil_142111(P_142191, N_142218, ((NimStringDesc*) &TMP192112), NIM_TRUE);
Addson_140101(Father_142192, N_142218);
goto LA1;
LA6: ;
LOC8 = Isinlinemarkupstart_141640(&(*P_142191), ((NimStringDesc*) &TMP192128));
if (!LOC8) goto LA9;
(*P_142191).Idx += 1;
N_142231 = 0;
N_142231 = Newrstnode_140094(((NU8) 60));
Parseuntil_142111(P_142191, N_142231, ((NimStringDesc*) &TMP192128), NIM_FALSE);
Addson_140101(Father_142192, N_142231);
goto LA1;
LA9: ;
LOC11 = Isinlinemarkupstart_141640(&(*P_142191), ((NimStringDesc*) &TMP192131));
if (!LOC11) goto LA12;
(*P_142191).Idx += 1;
N_142244 = 0;
N_142244 = Newrstnode_140094(((NU8) 59));
Parseuntil_142111(P_142191, N_142244, ((NimStringDesc*) &TMP192131), NIM_TRUE);
N_142244 = Parsepostfix_142010(P_142191, N_142244);
Addson_140101(Father_142192, N_142244);
goto LA1;
LA12: ;
LOC14 = Isinlinemarkupstart_141640(&(*P_142191), ((NimStringDesc*) &TMP192114));
if (!LOC14) goto LA15;
(*P_142191).Idx += 1;
N_142257 = 0;
N_142257 = Newrstnode_140094(((NU8) 61));
Parseuntil_142111(P_142191, N_142257, ((NimStringDesc*) &TMP192114), NIM_FALSE);
Addson_140101(Father_142192, N_142257);
goto LA1;
LA15: ;
Parsebackslash_141691(P_142191, Father_142192);
LA1: ;
break;
case ((NU8) 3):
Parseurl_142067(P_142191, Father_142192);
break;
case ((NU8) 4):
case ((NU8) 6):
case ((NU8) 2):
LOC17 = Newleaf_141513(P_142191);
Addson_140101(Father_142192, LOC17);
(*P_142191).Idx += 1;
break;
default:
break;
}
}
N_NIMCALL(void, Parseline_142502)(TY140690* P_142505, TY140077* Father_142506) {
while (1) {
switch ((*P_142505).Tok->data[(*P_142505).Idx].Kind) {
case ((NU8) 2):
case ((NU8) 3):
case ((NU8) 6):
case ((NU8) 5):
Parseinline_142188(P_142505, Father_142506);
break;
default:
goto LA1;
break;
}
} LA1: ;
}
N_NIMCALL(TY140077*, Parsefield_142513)(TY140690* P_142516) {
TY140077* Result_142517;
NI Col_142518;
TY140077* Fieldname_142531;
TY140077* Fieldbody_142532;
NI Indent_142551;
Result_142517 = 0;
Result_142517 = Newrstnode_140094(((NU8) 14));
Col_142518 = 0;
Col_142518 = (*P_142516).Tok->data[(*P_142516).Idx].Col;
(*P_142516).Idx += 1;
Fieldname_142531 = 0;
Fieldname_142531 = Newrstnode_140094(((NU8) 15));
Parseuntil_142111(P_142516, Fieldname_142531, ((NimStringDesc*) &TMP192116), NIM_FALSE);
Fieldbody_142532 = 0;
Fieldbody_142532 = Newrstnode_140094(((NU8) 16));
if (!!(((*P_142516).Tok->data[(*P_142516).Idx].Kind == ((NU8) 1)))) goto LA2;
Parseline_142502(P_142516, Fieldbody_142532);
LA2: ;
if (!((*P_142516).Tok->data[(*P_142516).Idx].Kind == ((NU8) 1))) goto LA5;
Indent_142551 = 0;
Indent_142551 = (*P_142516).Tok->data[(*P_142516).Idx].Ival;
if (!(Col_142518 < Indent_142551)) goto LA8;
Pushind_140778(P_142516, Indent_142551);
Parsesection_142508(P_142516, Fieldbody_142532);
Popind_140801(P_142516);
LA8: ;
LA5: ;
Addson_140101(Result_142517, Fieldname_142531);
Addson_140101(Result_142517, Fieldbody_142532);
return Result_142517;
}
N_NIMCALL(TY140077*, Parsefields_142554)(TY140690* P_142557) {
TY140077* Result_142558;
NIM_BOOL LOC2;
NI Col_142568;
TY140077* LOC7;
NIM_BOOL LOC9;
NIM_BOOL LOC10;
Result_142558 = 0;
Result_142558 = NIM_NIL;
LOC2 = ((*P_142557).Tok->data[(*P_142557).Idx].Kind == ((NU8) 1));
if (!(LOC2)) goto LA3;
LOC2 = eqStrings((*P_142557).Tok->data[(NI64)((*P_142557).Idx + 1)].Symbol, ((NimStringDesc*) &TMP192116));
LA3: ;
if (!LOC2) goto LA4;
Col_142568 = 0;
Col_142568 = (*P_142557).Tok->data[(*P_142557).Idx].Ival;
Result_142558 = Newrstnode_140094(((NU8) 13));
(*P_142557).Idx += 1;
while (1) {
LOC7 = Parsefield_142513(P_142557);
Addson_140101(Result_142558, LOC7);
LOC10 = ((*P_142557).Tok->data[(*P_142557).Idx].Kind == ((NU8) 1));
if (!(LOC10)) goto LA11;
LOC10 = ((*P_142557).Tok->data[(*P_142557).Idx].Ival == Col_142568);
LA11: ;
LOC9 = LOC10;
if (!(LOC9)) goto LA12;
LOC9 = eqStrings((*P_142557).Tok->data[(NI64)((*P_142557).Idx + 1)].Symbol, ((NimStringDesc*) &TMP192116));
LA12: ;
if (!LOC9) goto LA13;
(*P_142557).Idx += 1;
goto LA8;
LA13: ;
goto LA6;
LA8: ;
} LA6: ;
LA4: ;
return Result_142558;
}
N_NIMCALL(TY140077*, Parsedirective_144063)(TY140690* P_144066, NU8 Flags_144067) {
TY140077* Result_144068;
TY140077* Args_144069;
TY140077* Options_144070;
TY140077* LOC8;
TY140077* LOC15;
NIM_BOOL LOC20;
NIM_BOOL LOC21;
Result_144068 = 0;
Result_144068 = Newrstnode_140094(((NU8) 40));
Args_144069 = 0;
Args_144069 = NIM_NIL;
Options_144070 = 0;
Options_144070 = NIM_NIL;
if (!((Flags_144067 &(1<<((((NU8) 0))&7)))!=0)) goto LA2;
Args_144069 = Newrstnode_140094(((NU8) 41));
if (!((Flags_144067 &(1<<((((NU8) 2))&7)))!=0)) goto LA5;
while (1) {
switch ((*P_144066).Tok->data[(*P_144066).Idx].Kind) {
case ((NU8) 3):
case ((NU8) 6):
case ((NU8) 5):
case ((NU8) 4):
LOC8 = Newleaf_141513(P_144066);
Addson_140101(Args_144069, LOC8);
(*P_144066).Idx += 1;
break;
default:
goto LA7;
break;
}
} LA7: ;
goto LA4;
LA5: ;
if (!((Flags_144067 &(1<<((((NU8) 3))&7)))!=0)) goto LA9;
while (1) {
if (!((*P_144066).Tok->data[(*P_144066).Idx].Kind == ((NU8) 2))) goto LA11;
(*P_144066).Idx += 1;
} LA11: ;
if (!((*P_144066).Tok->data[(*P_144066).Idx].Kind == ((NU8) 3))) goto LA13;
LOC15 = Newleaf_141513(P_144066);
Addson_140101(Args_144069, LOC15);
(*P_144066).Idx += 1;
goto LA12;
LA13: ;
Args_144069 = NIM_NIL;
LA12: ;
goto LA4;
LA9: ;
Parseline_142502(P_144066, Args_144069);
LA4: ;
LA2: ;
Addson_140101(Result_144068, Args_144069);
if (!((Flags_144067 &(1<<((((NU8) 1))&7)))!=0)) goto LA17;
LOC21 = ((*P_144066).Tok->data[(*P_144066).Idx].Kind == ((NU8) 1));
if (!(LOC21)) goto LA22;
LOC21 = (3 <= (*P_144066).Tok->data[(*P_144066).Idx].Ival);
LA22: ;
LOC20 = LOC21;
if (!(LOC20)) goto LA23;
LOC20 = eqStrings((*P_144066).Tok->data[(NI64)((*P_144066).Idx + 1)].Symbol, ((NimStringDesc*) &TMP192116));
LA23: ;
if (!LOC20) goto LA24;
Options_144070 = Parsefields_142554(P_144066);
LA24: ;
LA17: ;
Addson_140101(Result_144068, Options_144070);
return Result_144068;
}
N_NIMCALL(NIM_BOOL, Indfollows_144182)(TY140690* P_144184) {
NIM_BOOL Result_144185;
NIM_BOOL LOC1;
NI LOC3;
Result_144185 = 0;
LOC1 = ((*P_144184).Tok->data[(*P_144184).Idx].Kind == ((NU8) 1));
if (!(LOC1)) goto LA2;
LOC3 = Currind_140774(P_144184);
LOC1 = (LOC3 < (*P_144184).Tok->data[(*P_144184).Idx].Ival);
LA2: ;
Result_144185 = LOC1;
return Result_144185;
}
N_NIMCALL(TY140077*, Parsedirective_144197)(TY140690* P_144200, NU8 Flags_144201, TY144055 Contentparser_144202) {
TY140077* Result_144203;
NIM_BOOL LOC2;
TY140077* Content_144204;
Result_144203 = 0;
Result_144203 = Parsedirective_144063(P_144200, Flags_144201);
LOC2 = !(((void*) (Contentparser_144202)) == 0);
if (!(LOC2)) goto LA3;
LOC2 = Indfollows_144182(&(*P_144200));
LA3: ;
if (!LOC2) goto LA4;
Pushind_140778(P_144200, (*P_144200).Tok->data[(*P_144200).Idx].Ival);
Content_144204 = 0;
Content_144204 = Contentparser_144202(P_144200);
Popind_140801(P_144200);
Addson_140101(Result_144203, Content_144204);
goto LA1;
LA4: ;
Addson_140101(Result_144203, NIM_NIL);
LA1: ;
return Result_144203;
}
N_NIMCALL(NimStringDesc*, Getfieldvalue_140111)(TY140077* N_140113, NimStringDesc* Fieldname_140114) {
NimStringDesc* Result_142609;
NimStringDesc* LOC7;
NI I_142653;
NI HEX3Atmp_142658;
NI LOC8;
NI Res_142660;
TY140077* F_142654;
NimStringDesc* LOC11;
NI LOC12;
Result_142609 = 0;
Result_142609 = copyString(((NimStringDesc*) &TMP142483));
if (!((*N_140113).Sons->data[1] == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
if (!!(((*(*N_140113).Sons->data[1]).Kind == ((NU8) 13)))) goto LA5;
LOC7 = rawNewString(reprEnum((*(*N_140113).Sons->data[1]).Kind, NTI140008)->Sup.len + 19);
appendString(LOC7, ((NimStringDesc*) &TMP192146));
appendString(LOC7, reprEnum((*(*N_140113).Sons->data[1]).Kind, NTI140008));
Internalerror_41571(LOC7);
LA5: ;
I_142653 = 0;
HEX3Atmp_142658 = 0;
LOC8 = Rsonslen_140091((*N_140113).Sons->data[1]);
HEX3Atmp_142658 = (NI64)(LOC8 - 1);
Res_142660 = 0;
Res_142660 = 0;
while (1) {
if (!(Res_142660 <= HEX3Atmp_142658)) goto LA9;
I_142653 = Res_142660;
F_142654 = 0;
F_142654 = (*(*N_140113).Sons->data[1]).Sons->data[I_142653];
LOC11 = Addnodes_140108((*F_142654).Sons->data[0]);
LOC12 = nsuCmpIgnoreStyle(LOC11, Fieldname_140114);
if (!(LOC12 == 0)) goto LA13;
Result_142609 = Addnodes_140108((*F_142654).Sons->data[1]);
if (!((Result_142609) && (Result_142609)->Sup.len == 0)) goto LA16;
Result_142609 = copyString(((NimStringDesc*) &TMP192147));
LA16: ;
goto BeforeRet;
LA13: ;
Res_142660 += 1;
} LA9: ;
BeforeRet: ;
return Result_142609;
}
N_NIMCALL(TY140077*, Dirinclude_144211)(TY140690* P_144214) {
TY140077* Result_144215;
TY140077* N_144217;
NimStringDesc* Filename_144218;
NimStringDesc* LOC1;
NimStringDesc* Path_144219;
NimStringDesc* LOC6;
NimStringDesc* LOC9;
TY140077* LOC10;
TY140690 Q_144220;
NimStringDesc* LOC11;
NI LOC13;
Result_144215 = 0;
Result_144215 = NIM_NIL;
N_144217 = 0;
N_144217 = Parsedirective_144197(P_144214, 7, NIM_NIL);
Filename_144218 = 0;
LOC1 = Addnodes_140108((*N_144217).Sons->data[0]);
Filename_144218 = nsuStrip(LOC1, NIM_TRUE, NIM_TRUE);
Path_144219 = 0;
Path_144219 = Findfile_40088(Filename_144218);
if (!((Path_144219) && (Path_144219)->Sup.len == 0)) goto LA3;
Rstmessage_140765(&(*P_144214), ((NU8) 2), Filename_144218);
goto LA2;
LA3: ;
LOC6 = Getfieldvalue_140111(N_144217, ((NimStringDesc*) &TMP192137));
if (!!(((LOC6) && (LOC6)->Sup.len == 0))) goto LA7;
Result_144215 = Newrstnode_140094(((NU8) 24));
LOC9 = Readfile_3647(Path_144219);
LOC10 = Newrstnode_140097(((NU8) 62), LOC9);
Addson_140101(Result_144215, LOC10);
goto LA5;
LA7: ;
memset((void*)&Q_144220, 0, sizeof(Q_144220));
Q_144220.Sup.m_type = NTI140690;
Initparser_140839(&Q_144220, (*P_144214).S);
Q_144220.Filename = copyString(Filename_144218);
LOC11 = Readfile_3647(Path_144219);
Gettokens_140438(LOC11, NIM_FALSE, &Q_144220.Tok);
LOC13 = nsuFindStr(Q_144220.Tok->data[(Q_144220.Tok->Sup.len-1)].Symbol, ((NimStringDesc*) &TMP192148), 0);
if (!(0 < LOC13)) goto LA14;
Internalerror_41571(((NimStringDesc*) &TMP192149));
LA14: ;
Result_144215 = Parsedoc_143151(&Q_144220);
LA5: ;
LA2: ;
return Result_144215;
}
N_NIMCALL(TY140077*, Dirimage_144252)(TY140690* P_144255) {
TY140077* Result_144256;
Result_144256 = 0;
Result_144256 = Parsedirective_144197(P_144255, 7, NIM_NIL);
(*Result_144256).Kind = ((NU8) 45);
return Result_144256;
}
N_NIMCALL(TY140077*, Dirfigure_144258)(TY140690* P_144261) {
TY140077* Result_144262;
Result_144262 = 0;
Result_144262 = Parsedirective_144197(P_144261, 7, Parsesectionwrapper_144019);
(*Result_144262).Kind = ((NU8) 46);
return Result_144262;
}
N_NIMCALL(TY140077*, Dirtitle_144264)(TY140690* P_144267) {
TY140077* Result_144268;
Result_144268 = 0;
Result_144268 = Parsedirective_144197(P_144267, 1, NIM_NIL);
(*Result_144268).Kind = ((NU8) 43);
return Result_144268;
}
N_NIMCALL(TY140077*, Dircontainer_144235)(TY140690* P_144238) {
TY140077* Result_144239;
Result_144239 = 0;
Result_144239 = Parsedirective_144197(P_144238, 1, Parsesectionwrapper_144019);
(*Result_144239).Kind = ((NU8) 50);
return Result_144239;
}
N_NIMCALL(TY140077*, Dircontents_144270)(TY140690* P_144273) {
TY140077* Result_144274;
Result_144274 = 0;
Result_144274 = Parsedirective_144197(P_144273, 1, NIM_NIL);
(*Result_144274).Kind = ((NU8) 44);
return Result_144274;
}
N_NIMCALL(TY140077*, Parsedirbody_144205)(TY140690* P_144208, TY144055 Contentparser_144209) {
TY140077* Result_144210;
NIM_BOOL LOC2;
Result_144210 = 0;
LOC2 = Indfollows_144182(&(*P_144208));
if (!LOC2) goto LA3;
Pushind_140778(P_144208, (*P_144208).Tok->data[(*P_144208).Idx].Ival);
Result_144210 = Contentparser_144209(P_144208);
Popind_140801(P_144208);
LA3: ;
return Result_144210;
}
N_NIMCALL(void, Dirrawaux_144283)(TY140690* P_144286, TY140077** Result_144288, NU8 Kind_144289, TY144055 Contentparser_144290) {
NimStringDesc* Filename_144291;
NimStringDesc* Path_144296;
NimStringDesc* F_144301;
TY140077* LOC7;
TY140077* LOC8;
Filename_144291 = 0;
Filename_144291 = Getfieldvalue_140111((*Result_144288), ((NimStringDesc*) &TMP192151));
if (!(0 < Filename_144291->Sup.len)) goto LA2;
Path_144296 = 0;
Path_144296 = Findfile_40088(Filename_144291);
if (!(Path_144296->Sup.len == 0)) goto LA5;
Rstmessage_140765(&(*P_144286), ((NU8) 2), Filename_144291);
goto LA4;
LA5: ;
F_144301 = 0;
F_144301 = Readfile_3647(Path_144296);
unsureAsgnRef((void**) &(*Result_144288), Newrstnode_140094(Kind_144289));
LOC7 = Newrstnode_140097(((NU8) 62), F_144301);
Addson_140101((*Result_144288), LOC7);
LA4: ;
goto LA1;
LA2: ;
(*(*Result_144288)).Kind = Kind_144289;
LOC8 = Parsedirbody_144205(P_144286, Contentparser_144290);
Addson_140101((*Result_144288), LOC8);
LA1: ;
}
N_NIMCALL(TY140077*, Dirraw_144302)(TY140690* P_144305) {
TY140077* Result_144306;
NI LOC5;
NI LOC8;
Result_144306 = 0;
Result_144306 = Parsedirective_144063(P_144305, 11);
if (!!(((*Result_144306).Sons->data[0] == NIM_NIL))) goto LA2;
LOC5 = nsuCmpIgnoreCase((*(*(*Result_144306).Sons->data[0]).Sons->data[0]).Text, ((NimStringDesc*) &TMP192150));
if (!(LOC5 == 0)) goto LA6;
Dirrawaux_144283(P_144305, &Result_144306, ((NU8) 48), Parseliteralblock_142682);
goto LA4;
LA6: ;
LOC8 = nsuCmpIgnoreCase((*(*(*Result_144306).Sons->data[0]).Sons->data[0]).Text, ((NimStringDesc*) &TMP192152));
if (!(LOC8 == 0)) goto LA9;
Dirrawaux_144283(P_144305, &Result_144306, ((NU8) 49), Parseliteralblock_142682);
goto LA4;
LA9: ;
Rstmessage_140765(&(*P_144305), ((NU8) 28), (*(*Result_144306).Sons->data[0]).Text);
LA4: ;
goto LA1;
LA2: ;
Dirrawaux_144283(P_144305, &Result_144306, ((NU8) 42), Parsesectionwrapper_144019);
LA1: ;
return Result_144306;
}
N_NIMCALL(TY140077*, Dircodeblock_144226)(TY140690* P_144229) {
TY140077* Result_144230;
NimStringDesc* Filename_144232;
NimStringDesc* LOC1;
NimStringDesc* Path_144233;
TY140077* N_144234;
NimStringDesc* LOC8;
TY140077* LOC9;
Result_144230 = 0;
Result_144230 = Parsedirective_144197(P_144229, 3, Parseliteralblock_142682);
Filename_144232 = 0;
LOC1 = Getfieldvalue_140111(Result_144230, ((NimStringDesc*) &TMP192151));
Filename_144232 = nsuStrip(LOC1, NIM_TRUE, NIM_TRUE);
if (!!(((Filename_144232) && (Filename_144232)->Sup.len == 0))) goto LA3;
Path_144233 = 0;
Path_144233 = Findfile_40088(Filename_144232);
if (!((Path_144233) && (Path_144233)->Sup.len == 0)) goto LA6;
Rstmessage_140765(&(*P_144229), ((NU8) 2), Filename_144232);
LA6: ;
N_144234 = 0;
N_144234 = Newrstnode_140094(((NU8) 24));
LOC8 = Readfile_3647(Path_144233);
LOC9 = Newrstnode_140097(((NU8) 62), LOC8);
Addson_140101(N_144234, LOC9);
asgnRefNoCycle((void**) &(*Result_144230).Sons->data[2], N_144234);
LA3: ;
(*Result_144230).Kind = ((NU8) 47);
return Result_144230;
}
N_NIMCALL(TY140077*, Dirindex_144276)(TY140690* P_144279) {
TY140077* Result_144280;
Result_144280 = 0;
Result_144280 = Parsedirective_144197(P_144279, 0, Parsesectionwrapper_144019);
(*Result_144280).Kind = ((NU8) 51);
return Result_144280;
}
N_NIMCALL(TY140077*, Getreferencename_141518)(TY140690* P_141521, NimStringDesc* Endstr_141522) {
TY140077* Result_141523;
TY140077* Res_141524;
TY140077* LOC2;
TY140077* LOC6;
Result_141523 = 0;
Res_141524 = 0;
Res_141524 = Newrstnode_140094(((NU8) 0));
while (1) {
switch ((*P_141521).Tok->data[(*P_141521).Idx].Kind) {
case ((NU8) 3):
case ((NU8) 6):
case ((NU8) 2):
LOC2 = Newleaf_141513(P_141521);
Addson_140101(Res_141524, LOC2);
break;
case ((NU8) 5):
if (!eqStrings((*P_141521).Tok->data[(*P_141521).Idx].Symbol, Endstr_141522)) goto LA4;
(*P_141521).Idx += 1;
goto LA1;
goto LA3;
LA4: ;
LOC6 = Newleaf_141513(P_141521);
Addson_140101(Res_141524, LOC6);
LA3: ;
break;
default:
Rstmessage_140765(&(*P_141521), ((NU8) 182), Endstr_141522);
goto LA1;
break;
}
(*P_141521).Idx += 1;
} LA1: ;
Result_141523 = Res_141524;
return Result_141523;
}
N_NIMCALL(TY140077*, Untileol_141550)(TY140690* P_141553) {
TY140077* Result_141554;
TY140077* LOC2;
Result_141554 = 0;
Result_141554 = Newrstnode_140094(((NU8) 0));
while (1) {
if (!!(((3 &(1<<(((*P_141553).Tok->data[(*P_141553).Idx].Kind)&7)))!=0))) goto LA1;
LOC2 = Newleaf_141513(P_141553);
Addson_140101(Result_141554, LOC2);
(*P_141553).Idx += 1;
} LA1: ;
return Result_141554;
}
N_NIMCALL(void, Expect_141580)(TY140690* P_141583, NimStringDesc* Tok_141584) {
if (!eqStrings((*P_141583).Tok->data[(*P_141583).Idx].Symbol, Tok_141584)) goto LA2;
(*P_141583).Idx += 1;
goto LA1;
LA2: ;
Rstmessage_140765(&(*P_141583), ((NU8) 182), Tok_141584);
LA1: ;
}
N_NIMCALL(void, Setsub_141035)(TY140690* P_141038, NimStringDesc* Key_141039, TY140077* Value_141040) {
NI Length_141051;
NI I_141059;
NI HEX3Atmp_141073;
NI Res_141075;
Length_141051 = 0;
Length_141051 = (*(*P_141038).S).Subs->Sup.len;
I_141059 = 0;
HEX3Atmp_141073 = 0;
HEX3Atmp_141073 = (NI64)(Length_141051 - 1);
Res_141075 = 0;
Res_141075 = 0;
while (1) {
if (!(Res_141075 <= HEX3Atmp_141073)) goto LA1;
I_141059 = Res_141075;
if (!eqStrings(Key_141039, (*(*P_141038).S).Subs->data[I_141059].Key)) goto LA3;
asgnRefNoCycle((void**) &(*(*P_141038).S).Subs->data[I_141059].Value, Value_141040);
goto BeforeRet;
LA3: ;
Res_141075 += 1;
} LA1: ;
(*(*P_141038).S).Subs = (TY140695*) setLengthSeq(&((*(*P_141038).S).Subs)->Sup, sizeof(TY140684), (NI64)(Length_141051 + 1));
asgnRefNoCycle((void**) &(*(*P_141038).S).Subs->data[Length_141051].Key, copyString(Key_141039));
asgnRefNoCycle((void**) &(*(*P_141038).S).Subs->data[Length_141051].Value, Value_141040);
BeforeRet: ;
}
N_NIMCALL(TY140077*, Parsecomment_142397)(TY140690* P_142400) {
TY140077* Result_142401;
NI Indent_142423;
Result_142401 = 0;
switch ((*P_142400).Tok->data[(*P_142400).Idx].Kind) {
case ((NU8) 1):
case ((NU8) 0):
if (!((*P_142400).Tok->data[(NI64)((*P_142400).Idx + 1)].Kind == ((NU8) 1))) goto LA2;
(*P_142400).Idx += 1;
goto LA1;
LA2: ;
Indent_142423 = 0;
Indent_142423 = (*P_142400).Tok->data[(*P_142400).Idx].Ival;
while (1) {
switch ((*P_142400).Tok->data[(*P_142400).Idx].Kind) {
case ((NU8) 0):
goto LA4;
break;
case ((NU8) 1):
if (!((*P_142400).Tok->data[(*P_142400).Idx].Ival < Indent_142423)) goto LA6;
goto LA4;
LA6: ;
break;
default:
break;
}
(*P_142400).Idx += 1;
} LA4: ;
LA1: ;
break;
default:
while (1) {
if (!!(((3 &(1<<(((*P_142400).Tok->data[(*P_142400).Idx].Kind)&7)))!=0))) goto LA8;
(*P_142400).Idx += 1;
} LA8: ;
break;
}
Result_142401 = NIM_NIL;
return Result_142401;
}
N_NIMCALL(TY140077*, Parsedotdot_142678)(TY140690* P_142681) {
TY140077* Result_144330;
NI Col_144331;
NimStringDesc* D_144344;
NU8 LOC4;
NIM_BOOL LOC5;
TY140077* A_144357;
TY140077* B_144379;
NimStringDesc* LOC11;
NIM_BOOL LOC12;
TY140077* A_144392;
TY140077* B_144393;
NI LOC19;
NI LOC22;
NimStringDesc* LOC25;
NIM_BOOL LOC26;
TY140077* A_144455;
TY140077* B_144477;
NimStringDesc* LOC32;
Result_144330 = 0;
Result_144330 = NIM_NIL;
Col_144331 = 0;
Col_144331 = (*P_142681).Tok->data[(*P_142681).Idx].Col;
(*P_142681).Idx += 1;
D_144344 = 0;
D_144344 = Getdirective_142270(P_142681);
if (!!(((D_144344) && (D_144344)->Sup.len == 0))) goto LA2;
Pushind_140778(P_142681, Col_144331);
LOC4 = Getdirkind_142495(D_144344);
switch (LOC4) {
case ((NU8) 8):
Result_144330 = Dirinclude_144211(P_142681);
break;
case ((NU8) 7):
Result_144330 = Dirimage_144252(P_142681);
break;
case ((NU8) 6):
Result_144330 = Dirfigure_144258(P_142681);
break;
case ((NU8) 11):
Result_144330 = Dirtitle_144264(P_142681);
break;
case ((NU8) 4):
Result_144330 = Dircontainer_144235(P_142681);
break;
case ((NU8) 5):
Result_144330 = Dircontents_144270(P_142681);
break;
case ((NU8) 10):
Result_144330 = Dirraw_144302(P_142681);
break;
case ((NU8) 3):
Result_144330 = Dircodeblock_144226(P_142681);
break;
case ((NU8) 9):
Result_144330 = Dirindex_144276(P_142681);
break;
default:
Rstmessage_140765(&(*P_142681), ((NU8) 28), D_144344);
break;
}
Popind_140801(P_142681);
goto LA1;
LA2: ;
LOC5 = Match_141762(&(*P_142681), (*P_142681).Idx, ((NimStringDesc*) &TMP192153));
if (!LOC5) goto LA6;
(*P_142681).Idx += 2;
A_144357 = 0;
A_144357 = Getreferencename_141518(P_142681, ((NimStringDesc*) &TMP192116));
if (!((*P_142681).Tok->data[(*P_142681).Idx].Kind == ((NU8) 2))) goto LA9;
(*P_142681).Idx += 1;
LA9: ;
B_144379 = 0;
B_144379 = Untileol_141550(P_142681);
LOC11 = Rstnodetorefname_140105(A_144357);
Setref_141078(P_142681, LOC11, B_144379);
goto LA1;
LA6: ;
LOC12 = Match_141762(&(*P_142681), (*P_142681).Idx, ((NimStringDesc*) &TMP192154));
if (!LOC12) goto LA13;
(*P_142681).Idx += 2;
A_144392 = 0;
A_144392 = Getreferencename_141518(P_142681, ((NimStringDesc*) &TMP192114));
B_144393 = 0;
if (!((*P_142681).Tok->data[(*P_142681).Idx].Kind == ((NU8) 2))) goto LA16;
(*P_142681).Idx += 1;
LA16: ;
LOC19 = nsuCmpIgnoreStyle((*P_142681).Tok->data[(*P_142681).Idx].Symbol, ((NimStringDesc*) &TMP192155));
if (!(LOC19 == 0)) goto LA20;
(*P_142681).Idx += 1;
Expect_141580(P_142681, ((NimStringDesc*) &TMP192110));
B_144393 = Untileol_141550(P_142681);
goto LA18;
LA20: ;
LOC22 = nsuCmpIgnoreStyle((*P_142681).Tok->data[(*P_142681).Idx].Symbol, ((NimStringDesc*) &TMP142490));
if (!(LOC22 == 0)) goto LA23;
(*P_142681).Idx += 1;
B_144393 = Dirimage_144252(P_142681);
goto LA18;
LA23: ;
Rstmessage_140765(&(*P_142681), ((NU8) 28), (*P_142681).Tok->data[(*P_142681).Idx].Symbol);
LA18: ;
LOC25 = Addnodes_140108(A_144392);
Setsub_141035(P_142681, LOC25, B_144393);
goto LA1;
LA13: ;
LOC26 = Match_141762(&(*P_142681), (*P_142681).Idx, ((NimStringDesc*) &TMP192156));
if (!LOC26) goto LA27;
(*P_142681).Idx += 2;
A_144455 = 0;
A_144455 = Getreferencename_141518(P_142681, ((NimStringDesc*) &TMP192157));
if (!((*P_142681).Tok->data[(*P_142681).Idx].Kind == ((NU8) 2))) goto LA30;
(*P_142681).Idx += 1;
LA30: ;
B_144477 = 0;
B_144477 = Untileol_141550(P_142681);
LOC32 = Rstnodetorefname_140105(A_144455);
Setref_141078(P_142681, LOC32, B_144477);
goto LA1;
LA27: ;
Result_144330 = Parsecomment_142397(P_142681);
LA1: ;
return Result_144330;
}
N_NIMCALL(TY140077*, Parseenumlist_143817)(TY140690* P_143820) {
TY140077* Result_143821;
NI W_143832;
NIM_BOOL LOC3;
NI Col_143849;
NI J_143862;
NIM_BOOL LOC10;
TY140077* Item_143865;
NIM_BOOL LOC16;
NIM_BOOL LOC17;
Result_143821 = 0;
Result_143821 = NIM_NIL;
W_143832 = 0;
W_143832 = 0;
while (1) {
if (!(W_143832 <= 2)) goto LA1;
LOC3 = Match_141762(&(*P_143820), (*P_143820).Idx, Wildcards_143822[(W_143832)-0]);
if (!LOC3) goto LA4;
goto LA1;
LA4: ;
W_143832 += 1;
} LA1: ;
if (!(W_143832 <= 2)) goto LA7;
Col_143849 = 0;
Col_143849 = (*P_143820).Tok->data[(*P_143820).Idx].Col;
Result_143821 = Newrstnode_140094(((NU8) 7));
(*P_143820).Idx += (NI64)(Wildpos_143827[(W_143832)-0] + 3);
J_143862 = 0;
J_143862 = Tokenafternewline_142784(&(*P_143820));
LOC10 = ((*P_143820).Tok->data[J_143862].Col == (*P_143820).Tok->data[(*P_143820).Idx].Col);
if (LOC10) goto LA11;
LOC10 = Match_141762(&(*P_143820), J_143862, Wildcards_143822[(W_143832)-0]);
LA11: ;
if (!LOC10) goto LA12;
Pushind_140778(P_143820, (*P_143820).Tok->data[(*P_143820).Idx].Col);
while (1) {
Item_143865 = 0;
Item_143865 = Newrstnode_140094(((NU8) 8));
Parsesection_142508(P_143820, Item_143865);
Addson_140101(Result_143821, Item_143865);
LOC17 = ((*P_143820).Tok->data[(*P_143820).Idx].Kind == ((NU8) 1));
if (!(LOC17)) goto LA18;
LOC17 = ((*P_143820).Tok->data[(*P_143820).Idx].Ival == Col_143849);
LA18: ;
LOC16 = LOC17;
if (!(LOC16)) goto LA19;
LOC16 = Match_141762(&(*P_143820), (NI64)((*P_143820).Idx + 1), Wildcards_143822[(W_143832)-0]);
LA19: ;
if (!LOC16) goto LA20;
(*P_143820).Idx += (NI64)(Wildpos_143827[(W_143832)-0] + 4);
goto LA15;
LA20: ;
goto LA14;
LA15: ;
} LA14: ;
Popind_140801(P_143820);
goto LA9;
LA12: ;
(*P_143820).Idx -= (NI64)(Wildpos_143827[(W_143832)-0] + 3);
Result_143821 = NIM_NIL;
LA9: ;
LA7: ;
return Result_143821;
}
N_NIMCALL(TY140077*, Parsedefinitionlist_143723)(TY140690* P_143726) {
TY140077* Result_143727;
NI J_143728;
NI LOC1;
NIM_BOOL LOC3;
NIM_BOOL LOC4;
NIM_BOOL LOC5;
NI LOC8;
NI Col_143742;
TY140077* A_143743;
NIM_BOOL LOC14;
NIM_BOOL LOC15;
NIM_BOOL LOC16;
NI LOC18;
TY140077* B_143767;
TY140077* C_143768;
NIM_BOOL LOC24;
NI LOC28;
NIM_BOOL LOC30;
NIM_BOOL LOC31;
NIM_BOOL LOC32;
NIM_BOOL LOC33;
NI LOC41;
Result_143727 = 0;
Result_143727 = NIM_NIL;
J_143728 = 0;
LOC1 = Tokenafternewline_142784(&(*P_143726));
J_143728 = (NI64)(LOC1 - 1);
LOC5 = (1 <= J_143728);
if (!(LOC5)) goto LA6;
LOC5 = ((*P_143726).Tok->data[J_143728].Kind == ((NU8) 1));
LA6: ;
LOC4 = LOC5;
if (!(LOC4)) goto LA7;
LOC8 = Currind_140774(&(*P_143726));
LOC4 = (LOC8 < (*P_143726).Tok->data[J_143728].Ival);
LA7: ;
LOC3 = LOC4;
if (!(LOC3)) goto LA9;
LOC3 = !(eqStrings((*P_143726).Tok->data[(NI64)(J_143728 - 1)].Symbol, ((NimStringDesc*) &TMP192110)));
LA9: ;
if (!LOC3) goto LA10;
Col_143742 = 0;
Col_143742 = (*P_143726).Tok->data[(*P_143726).Idx].Col;
Result_143727 = Newrstnode_140094(((NU8) 9));
while (1) {
J_143728 = (*P_143726).Idx;
A_143743 = 0;
A_143743 = Newrstnode_140094(((NU8) 11));
Parseline_142502(P_143726, A_143743);
LOC16 = ((*P_143726).Tok->data[(*P_143726).Idx].Kind == ((NU8) 1));
if (!(LOC16)) goto LA17;
LOC18 = Currind_140774(&(*P_143726));
LOC16 = (LOC18 < (*P_143726).Tok->data[(*P_143726).Idx].Ival);
LA17: ;
LOC15 = LOC16;
if (!(LOC15)) goto LA19;
LOC15 = !(eqStrings((*P_143726).Tok->data[(NI64)((*P_143726).Idx + 1)].Symbol, ((NimStringDesc*) &TMP192110)));
LA19: ;
LOC14 = LOC15;
if (!(LOC14)) goto LA20;
LOC14 = !(((3 &(1<<(((*P_143726).Tok->data[(NI64)((*P_143726).Idx + 1)].Kind)&7)))!=0));
LA20: ;
if (!LOC14) goto LA21;
Pushind_140778(P_143726, (*P_143726).Tok->data[(*P_143726).Idx].Ival);
B_143767 = 0;
B_143767 = Newrstnode_140094(((NU8) 12));
Parsesection_142508(P_143726, B_143767);
C_143768 = 0;
C_143768 = Newrstnode_140094(((NU8) 10));
Addson_140101(C_143768, A_143743);
Addson_140101(C_143768, B_143767);
Addson_140101(Result_143727, C_143768);
Popind_140801(P_143726);
goto LA13;
LA21: ;
(*P_143726).Idx = J_143728;
goto LA12;
LA13: ;
LOC24 = ((*P_143726).Tok->data[(*P_143726).Idx].Kind == ((NU8) 1));
if (!(LOC24)) goto LA25;
LOC24 = ((*P_143726).Tok->data[(*P_143726).Idx].Ival == Col_143742);
LA25: ;
if (!LOC24) goto LA26;
(*P_143726).Idx += 1;
LOC28 = Tokenafternewline_142784(&(*P_143726));
J_143728 = (NI64)(LOC28 - 1);
LOC33 = (1 <= J_143728);
if (!(LOC33)) goto LA34;
LOC33 = ((*P_143726).Tok->data[J_143728].Kind == ((NU8) 1));
LA34: ;
LOC32 = LOC33;
if (!(LOC32)) goto LA35;
LOC32 = (Col_143742 < (*P_143726).Tok->data[J_143728].Ival);
LA35: ;
LOC31 = LOC32;
if (!(LOC31)) goto LA36;
LOC31 = !(eqStrings((*P_143726).Tok->data[(NI64)(J_143728 - 1)].Symbol, ((NimStringDesc*) &TMP192110)));
LA36: ;
LOC30 = LOC31;
if (!(LOC30)) goto LA37;
LOC30 = !(((*P_143726).Tok->data[(NI64)(J_143728 + 1)].Kind == ((NU8) 1)));
LA37: ;
if (!LOC30) goto LA38;
goto LA29;
LA38: ;
goto LA12;
LA29: ;
LA26: ;
} LA12: ;
LOC41 = Rsonslen_140091(Result_143727);
if (!(LOC41 == 0)) goto LA42;
Result_143727 = NIM_NIL;
LA42: ;
LA10: ;
return Result_143727;
}
N_NIMCALL(TY140077*, Parsetransition_143422)(TY140690* P_143425) {
TY140077* Result_143426;
Result_143426 = 0;
Result_143426 = Newrstnode_140094(((NU8) 3));
(*P_143425).Idx += 1;
if (!((*P_143425).Tok->data[(*P_143425).Idx].Kind == ((NU8) 1))) goto LA2;
(*P_143425).Idx += 1;
LA2: ;
if (!((*P_143425).Tok->data[(*P_143425).Idx].Kind == ((NU8) 1))) goto LA5;
(*P_143425).Idx += 1;
LA5: ;
return Result_143426;
}
N_NIMCALL(NI, Getlevel_142762)(NI* Map_142765, NI* Lvl_142767, NIM_CHAR C_142768) {
NI Result_142769;
Result_142769 = 0;
if (!(Map_142765[(((NU8)(C_142768)))-0] == 0)) goto LA2;
(*Lvl_142767) += 1;
Map_142765[(((NU8)(C_142768)))-0] = (*Lvl_142767);
LA2: ;
Result_142769 = Map_142765[(((NU8)(C_142768)))-0];
return Result_142769;
}
N_NIMCALL(TY140077*, Parseheadline_143001)(TY140690* P_143004) {
TY140077* Result_143005;
NIM_CHAR C_143024;
Result_143005 = 0;
Result_143005 = Newrstnode_140094(((NU8) 1));
Parseline_142502(P_143004, Result_143005);
C_143024 = 0;
C_143024 = (*P_143004).Tok->data[(NI64)((*P_143004).Idx + 1)].Symbol->data[0];
(*P_143004).Idx += 2;
(*Result_143005).Level = Getlevel_142762((*(*P_143004).S).Underlinetolevel, &(*(*P_143004).S).Ulevel, C_143024);
return Result_143005;
}
N_NIMCALL(TY140077*, Parseoverline_143481)(TY140690* P_143484) {
TY140077* Result_143485;
NIM_CHAR C_143486;
NI LOC6;
TY140077* LOC9;
Result_143485 = 0;
C_143486 = 0;
C_143486 = (*P_143484).Tok->data[(*P_143484).Idx].Symbol->data[0];
(*P_143484).Idx += 2;
Result_143485 = Newrstnode_140094(((NU8) 2));
while (1) {
Parseline_142502(P_143484, Result_143485);
if (!((*P_143484).Tok->data[(*P_143484).Idx].Kind == ((NU8) 1))) goto LA3;
(*P_143484).Idx += 1;
LOC6 = Currind_140774(&(*P_143484));
if (!(LOC6 < (*P_143484).Tok->data[(NI64)((*P_143484).Idx - 1)].Ival)) goto LA7;
LOC9 = Newrstnode_140097(((NU8) 62), ((NimStringDesc*) &TMP192130));
Addson_140101(Result_143485, LOC9);
goto LA5;
LA7: ;
goto LA1;
LA5: ;
goto LA2;
LA3: ;
goto LA1;
LA2: ;
} LA1: ;
(*Result_143485).Level = Getlevel_142762((*(*P_143484).S).Overlinetolevel, &(*(*P_143484).S).Olevel, C_143486);
if (!((*P_143484).Tok->data[(*P_143484).Idx].Kind == ((NU8) 4))) goto LA11;
(*P_143484).Idx += 1;
if (!((*P_143484).Tok->data[(*P_143484).Idx].Kind == ((NU8) 1))) goto LA14;
(*P_143484).Idx += 1;
LA14: ;
LA11: ;
return Result_143485;
}
N_NIMCALL(NI, Tokend_143041)(TY140690* P_143043) {
NI Result_143044;
Result_143044 = 0;
Result_143044 = (NI64)((NI64)((*P_143043).Tok->data[(*P_143043).Idx].Col + (*P_143043).Tok->data[(*P_143043).Idx].Symbol->Sup.len) - 1);
return Result_143044;
}
N_NIMCALL(void, Getcolumns_143047)(TY140690* P_143050, TY70281** Cols_143052) {
NI L_143053;
L_143053 = 0;
L_143053 = 0;
while (1) {
L_143053 += 1;
(*Cols_143052) = (TY70281*) setLengthSeq(&((*Cols_143052))->Sup, sizeof(NI), L_143053);
(*Cols_143052)->data[(NI64)(L_143053 - 1)] = Tokend_143041(&(*P_143050));
(*P_143050).Idx += 1;
if (!!(((*P_143050).Tok->data[(*P_143050).Idx].Kind == ((NU8) 2)))) goto LA3;
goto LA1;
LA3: ;
(*P_143050).Idx += 1;
if (!!(((*P_143050).Tok->data[(*P_143050).Idx].Kind == ((NU8) 4)))) goto LA6;
goto LA1;
LA6: ;
} LA1: ;
if (!((*P_143050).Tok->data[(*P_143050).Idx].Kind == ((NU8) 1))) goto LA9;
(*P_143050).Idx += 1;
LA9: ;
(*Cols_143052)->data[(NI64)(L_143053 - 1)] = 32000;
}
N_NIMCALL(TY140077*, Parsesimpletable_143155)(TY140690* P_143158) {
TY140077* Result_143159;
TY70281* Cols_143160;
TY33221* Row_143162;
NI I_143163;
NI Last_143164;
NI Line_143165;
NIM_CHAR C_143166;
TY140690 Q_143167;
TY140077* A_143168;
TY140077* B_143169;
NI J_143264;
NI HEX3Atmp_143396;
NI LOC11;
NI Res_143398;
NI J_143281;
NI HEX3Atmp_143402;
NI Res_143404;
NI LOC20;
NI LOC30;
NI J_143383;
NI HEX3Atmp_143409;
NI Res_143411;
NI J_143391;
NI HEX3Atmp_143416;
NI Res_143418;
TY140077* LOC38;
Result_143159 = 0;
Cols_143160 = 0;
Row_143162 = 0;
I_143163 = 0;
Last_143164 = 0;
Line_143165 = 0;
C_143166 = 0;
memset((void*)&Q_143167, 0, sizeof(Q_143167));
Q_143167.Sup.m_type = NTI140690;
A_143168 = 0;
B_143169 = 0;
Result_143159 = Newrstnode_140094(((NU8) 29));
Cols_143160 = (TY70281*) newSeq(NTI70281, 0);
Row_143162 = (TY33221*) newSeq(NTI33221, 0);
A_143168 = NIM_NIL;
C_143166 = (*P_143158).Tok->data[(*P_143158).Idx].Symbol->data[0];
while (1) {
if (!((*P_143158).Tok->data[(*P_143158).Idx].Kind == ((NU8) 4))) goto LA3;
Last_143164 = Tokenafternewline_142784(&(*P_143158));
if (!((3 &(1<<(((*P_143158).Tok->data[Last_143164].Kind)&7)))!=0)) goto LA6;
(*P_143158).Idx = Last_143164;
goto LA1;
LA6: ;
Getcolumns_143047(P_143158, &Cols_143160);
Row_143162 = (TY33221*) setLengthSeq(&(Row_143162)->Sup, sizeof(NimStringDesc*), Cols_143160->Sup.len);
if (!!((A_143168 == NIM_NIL))) goto LA9;
J_143264 = 0;
HEX3Atmp_143396 = 0;
LOC11 = Rsonslen_140091(A_143168);
HEX3Atmp_143396 = (NI64)(LOC11 - 1);
Res_143398 = 0;
Res_143398 = 0;
while (1) {
if (!(Res_143398 <= HEX3Atmp_143396)) goto LA12;
J_143264 = Res_143398;
(*(*A_143168).Sons->data[J_143264]).Kind = ((NU8) 32);
Res_143398 += 1;
} LA12: ;
LA9: ;
LA3: ;
if (!((*P_143158).Tok->data[(*P_143158).Idx].Kind == ((NU8) 0))) goto LA14;
goto LA1;
LA14: ;
J_143281 = 0;
HEX3Atmp_143402 = 0;
HEX3Atmp_143402 = (Row_143162->Sup.len-1);
Res_143404 = 0;
Res_143404 = 0;
while (1) {
if (!(Res_143404 <= HEX3Atmp_143402)) goto LA16;
J_143281 = Res_143404;
asgnRefNoCycle((void**) &Row_143162->data[J_143281], copyString(((NimStringDesc*) &TMP142483)));
Res_143404 += 1;
} LA16: ;
Line_143165 = (*P_143158).Tok->data[(*P_143158).Idx].Line;
while (1) {
I_143163 = 0;
while (1) {
if (!!(((3 &(1<<(((*P_143158).Tok->data[(*P_143158).Idx].Kind)&7)))!=0))) goto LA18;
LOC20 = Tokend_143041(&(*P_143158));
if (!(LOC20 <= Cols_143160->data[I_143163])) goto LA21;
Row_143162->data[I_143163] = resizeString(Row_143162->data[I_143163], (*P_143158).Tok->data[(*P_143158).Idx].Symbol->Sup.len + 0);
appendString(Row_143162->data[I_143163], (*P_143158).Tok->data[(*P_143158).Idx].Symbol);
(*P_143158).Idx += 1;
goto LA19;
LA21: ;
if (!((*P_143158).Tok->data[(*P_143158).Idx].Kind == ((NU8) 2))) goto LA24;
(*P_143158).Idx += 1;
LA24: ;
I_143163 += 1;
LA19: ;
} LA18: ;
if (!((*P_143158).Tok->data[(*P_143158).Idx].Kind == ((NU8) 1))) goto LA27;
(*P_143158).Idx += 1;
LA27: ;
LOC30 = Tokend_143041(&(*P_143158));
if (!(LOC30 <= Cols_143160->data[0])) goto LA31;
goto LA17;
LA31: ;
if (!((17 &(1<<(((*P_143158).Tok->data[(*P_143158).Idx].Kind)&7)))!=0)) goto LA34;
goto LA17;
LA34: ;
J_143383 = 0;
HEX3Atmp_143409 = 0;
HEX3Atmp_143409 = (Row_143162->Sup.len-1);
Res_143411 = 0;
Res_143411 = 1;
while (1) {
if (!(Res_143411 <= HEX3Atmp_143409)) goto LA36;
J_143383 = Res_143411;
Row_143162->data[J_143383] = addChar(Row_143162->data[J_143383], 10);
Res_143411 += 1;
} LA36: ;
} LA17: ;
A_143168 = Newrstnode_140094(((NU8) 31));
J_143391 = 0;
HEX3Atmp_143416 = 0;
HEX3Atmp_143416 = (Row_143162->Sup.len-1);
Res_143418 = 0;
Res_143418 = 0;
while (1) {
if (!(Res_143418 <= HEX3Atmp_143416)) goto LA37;
J_143391 = Res_143418;
Initparser_140839(&Q_143167, (*P_143158).S);
Q_143167.Col = Cols_143160->data[J_143391];
Q_143167.Line = (NI64)(Line_143165 - 1);
Q_143167.Filename = copyString((*P_143158).Filename);
Gettokens_140438(Row_143162->data[J_143391], NIM_FALSE, &Q_143167.Tok);
B_143169 = Newrstnode_140094(((NU8) 33));
LOC38 = Parsedoc_143151(&Q_143167);
Addson_140101(B_143169, LOC38);
Addson_140101(A_143168, B_143169);
Res_143418 += 1;
} LA37: ;
Addson_140101(Result_143159, A_143168);
} LA1: ;
return Result_143159;
}
N_NIMCALL(TY140077*, Parseoptionlist_143629)(TY140690* P_143632) {
TY140077* Result_143633;
NIM_BOOL LOC3;
NIM_BOOL LOC4;
TY140077* A_143634;
TY140077* B_143635;
TY140077* C_143636;
NIM_BOOL LOC11;
TY140077* LOC15;
NI J_143686;
NIM_BOOL LOC17;
NIM_BOOL LOC18;
NI LOC21;
Result_143633 = 0;
Result_143633 = Newrstnode_140094(((NU8) 17));
while (1) {
LOC4 = Match_141762(&(*P_143632), (*P_143632).Idx, ((NimStringDesc*) &TMP192119));
if (LOC4) goto LA5;
LOC4 = Match_141762(&(*P_143632), (*P_143632).Idx, ((NimStringDesc*) &TMP192120));
LA5: ;
LOC3 = LOC4;
if (LOC3) goto LA6;
LOC3 = Match_141762(&(*P_143632), (*P_143632).Idx, ((NimStringDesc*) &TMP192121));
LA6: ;
if (!LOC3) goto LA7;
A_143634 = 0;
A_143634 = Newrstnode_140094(((NU8) 19));
B_143635 = 0;
B_143635 = Newrstnode_140094(((NU8) 23));
C_143636 = 0;
C_143636 = Newrstnode_140094(((NU8) 18));
while (1) {
if (!!(((3 &(1<<(((*P_143632).Tok->data[(*P_143632).Idx].Kind)&7)))!=0))) goto LA9;
LOC11 = ((*P_143632).Tok->data[(*P_143632).Idx].Kind == ((NU8) 2));
if (!(LOC11)) goto LA12;
LOC11 = (1 < (*P_143632).Tok->data[(*P_143632).Idx].Symbol->Sup.len);
LA12: ;
if (!LOC11) goto LA13;
(*P_143632).Idx += 1;
goto LA9;
LA13: ;
LOC15 = Newleaf_141513(P_143632);
Addson_140101(A_143634, LOC15);
(*P_143632).Idx += 1;
} LA9: ;
J_143686 = 0;
J_143686 = Tokenafternewline_142784(&(*P_143632));
LOC18 = (0 < J_143686);
if (!(LOC18)) goto LA19;
LOC18 = ((*P_143632).Tok->data[(NI64)(J_143686 - 1)].Kind == ((NU8) 1));
LA19: ;
LOC17 = LOC18;
if (!(LOC17)) goto LA20;
LOC21 = Currind_140774(&(*P_143632));
LOC17 = (LOC21 < (*P_143632).Tok->data[(NI64)(J_143686 - 1)].Ival);
LA20: ;
if (!LOC17) goto LA22;
Pushind_140778(P_143632, (*P_143632).Tok->data[(NI64)(J_143686 - 1)].Ival);
Parsesection_142508(P_143632, B_143635);
Popind_140801(P_143632);
goto LA16;
LA22: ;
Parseline_142502(P_143632, B_143635);
LA16: ;
if (!((*P_143632).Tok->data[(*P_143632).Idx].Kind == ((NU8) 1))) goto LA25;
(*P_143632).Idx += 1;
LA25: ;
Addson_140101(C_143636, A_143634);
Addson_140101(C_143636, B_143635);
Addson_140101(Result_143633, C_143636);
goto LA2;
LA7: ;
goto LA1;
LA2: ;
} LA1: ;
return Result_143633;
}
N_NIMCALL(void, Addsonifnotnil_140598)(TY140077* Father_140600, TY140077* Son_140601) {
if (!!((Son_140601 == NIM_NIL))) goto LA2;
Addson_140101(Father_140600, Son_140601);
LA2: ;
}
N_NIMCALL(void, Parseparagraph_142932)(TY140690* P_142935, TY140077* Result_142936) {
NI LOC5;
NU8 LOC8;
TY140077* LOC9;
TY140077* LOC10;
NIM_BOOL LOC12;
NIM_BOOL LOC13;
NI LOC16;
TY140077* LOC19;
TY140077* LOC20;
while (1) {
switch ((*P_142935).Tok->data[(*P_142935).Idx].Kind) {
case ((NU8) 1):
if (!((*P_142935).Tok->data[(NI64)((*P_142935).Idx + 1)].Kind == ((NU8) 1))) goto LA3;
(*P_142935).Idx += 1;
goto LA1;
goto LA2;
LA3: ;
LOC5 = Currind_140774(&(*P_142935));
if (!((*P_142935).Tok->data[(*P_142935).Idx].Ival == LOC5)) goto LA6;
(*P_142935).Idx += 1;
LOC8 = Whichsection_142858(&(*P_142935));
switch (LOC8) {
case ((NU8) 4):
case ((NU8) 62):
case ((NU8) 1):
case ((NU8) 2):
case ((NU8) 40):
LOC9 = Newrstnode_140097(((NU8) 62), ((NimStringDesc*) &TMP192130));
Addson_140101(Result_142936, LOC9);
break;
case ((NU8) 26):
LOC10 = Parselineblock_142871(P_142935);
Addsonifnotnil_140598(Result_142936, LOC10);
break;
default:
goto LA1;
break;
}
goto LA2;
LA6: ;
goto LA1;
LA2: ;
break;
case ((NU8) 5):
LOC13 = eqStrings((*P_142935).Tok->data[(*P_142935).Idx].Symbol, ((NimStringDesc*) &TMP192110));
if (!(LOC13)) goto LA14;
LOC13 = ((*P_142935).Tok->data[(NI64)((*P_142935).Idx + 1)].Kind == ((NU8) 1));
LA14: ;
LOC12 = LOC13;
if (!(LOC12)) goto LA15;
LOC16 = Currind_140774(&(*P_142935));
LOC12 = (LOC16 < (*P_142935).Tok->data[(NI64)((*P_142935).Idx + 1)].Ival);
LA15: ;
if (!LOC12) goto LA17;
LOC19 = Newrstnode_140097(((NU8) 62), ((NimStringDesc*) &TMP192116));
Addson_140101(Result_142936, LOC19);
(*P_142935).Idx += 1;
LOC20 = Parseliteralblock_142682(P_142935);
Addson_140101(Result_142936, LOC20);
goto LA1;
goto LA11;
LA17: ;
Parseinline_142188(P_142935, Result_142936);
LA11: ;
break;
case ((NU8) 2):
case ((NU8) 3):
case ((NU8) 4):
case ((NU8) 6):
Parseinline_142188(P_142935, Result_142936);
break;
default:
goto LA1;
break;
}
} LA1: ;
}
N_NIMCALL(NU8, Sonkind_143903)(TY140077* Father_143905, NI I_143906) {
NU8 Result_143907;
NI LOC2;
Result_143907 = 0;
Result_143907 = ((NU8) 62);
LOC2 = Rsonslen_140091(Father_143905);
if (!(I_143906 < LOC2)) goto LA3;
Result_143907 = (*(*Father_143905).Sons->data[I_143906]).Kind;
LA3: ;
return Result_143907;
}
N_NIMCALL(void, Parsesection_142508)(TY140690* P_142511, TY140077* Result_142512) {
NIM_BOOL Leave_143915;
NI LOC4;
NI LOC7;
TY140077* A_143943;
TY140077* A_143953;
NU8 K_143954;
NIM_BOOL LOC17;
NIM_BOOL LOC22;
NU8 LOC23;
NU8 LOC25;
while (1) {
Leave_143915 = 0;
Leave_143915 = NIM_FALSE;
while (1) {
if (!((*P_142511).Tok->data[(*P_142511).Idx].Kind == ((NU8) 1))) goto LA2;
LOC4 = Currind_140774(&(*P_142511));
if (!(LOC4 == (*P_142511).Tok->data[(*P_142511).Idx].Ival)) goto LA5;
(*P_142511).Idx += 1;
goto LA3;
LA5: ;
LOC7 = Currind_140774(&(*P_142511));
if (!(LOC7 < (*P_142511).Tok->data[(*P_142511).Idx].Ival)) goto LA8;
Pushind_140778(P_142511, (*P_142511).Tok->data[(*P_142511).Idx].Ival);
A_143943 = 0;
A_143943 = Newrstnode_140094(((NU8) 28));
Parsesection_142508(P_142511, A_143943);
Addson_140101(Result_142512, A_143943);
Popind_140801(P_142511);
goto LA3;
LA8: ;
Leave_143915 = NIM_TRUE;
goto LA2;
LA3: ;
} LA2: ;
if (!Leave_143915) goto LA11;
goto LA1;
LA11: ;
if (!((*P_142511).Tok->data[(*P_142511).Idx].Kind == ((NU8) 0))) goto LA14;
goto LA1;
LA14: ;
A_143953 = 0;
A_143953 = NIM_NIL;
K_143954 = 0;
K_143954 = Whichsection_142858(&(*P_142511));
switch (K_143954) {
case ((NU8) 24):
(*P_142511).Idx += 1;
A_143953 = Parseliteralblock_142682(P_142511);
break;
case ((NU8) 5):
A_143953 = Parsebulletlist_143567(P_142511);
break;
case ((NU8) 26):
A_143953 = Parselineblock_142871(P_142511);
break;
case ((NU8) 40):
A_143953 = Parsedotdot_142678(P_142511);
break;
case ((NU8) 7):
A_143953 = Parseenumlist_143817(P_142511);
break;
case ((NU8) 62):
Rstmessage_140770(&(*P_142511), ((NU8) 186));
break;
case ((NU8) 4):
break;
case ((NU8) 9):
A_143953 = Parsedefinitionlist_143723(P_142511);
break;
case ((NU8) 13):
(*P_142511).Idx -= 1;
A_143953 = Parsefields_142554(P_142511);
break;
case ((NU8) 3):
A_143953 = Parsetransition_143422(P_142511);
break;
case ((NU8) 1):
A_143953 = Parseheadline_143001(P_142511);
break;
case ((NU8) 2):
A_143953 = Parseoverline_143481(P_142511);
break;
case ((NU8) 29):
A_143953 = Parsesimpletable_143155(P_142511);
break;
case ((NU8) 17):
A_143953 = Parseoptionlist_143629(P_142511);
break;
default:
Internalerror_41571(((NimStringDesc*) &TMP192158));
break;
}
LOC17 = (A_143953 == NIM_NIL);
if (!(LOC17)) goto LA18;
LOC17 = !((K_143954 == ((NU8) 40)));
LA18: ;
if (!LOC17) goto LA19;
A_143953 = Newrstnode_140094(((NU8) 4));
Parseparagraph_142932(P_142511, A_143953);
LA19: ;
Addsonifnotnil_140598(Result_142512, A_143953);
} LA1: ;
LOC23 = Sonkind_143903(Result_142512, 0);
LOC22 = (LOC23 == ((NU8) 4));
if (!(LOC22)) goto LA24;
LOC25 = Sonkind_143903(Result_142512, 1);
LOC22 = !((LOC25 == ((NU8) 4)));
LA24: ;
if (!LOC22) goto LA26;
(*(*Result_142512).Sons->data[0]).Kind = ((NU8) 0);
LA26: ;
}
N_NIMCALL(TY140077*, Parsesectionwrapper_144019)(TY140690* P_144022) {
TY140077* Result_144023;
NIM_BOOL LOC2;
NI LOC4;
Result_144023 = 0;
Result_144023 = Newrstnode_140094(((NU8) 0));
Parsesection_142508(P_144022, Result_144023);
while (1) {
LOC2 = ((*Result_144023).Kind == ((NU8) 0));
if (!(LOC2)) goto LA3;
LOC4 = Rsonslen_140091(Result_144023);
LOC2 = (LOC4 == 1);
LA3: ;
if (!LOC2) goto LA1;
Result_144023 = (*Result_144023).Sons->data[0];
} LA1: ;
return Result_144023;
}
N_NIMCALL(TY140077*, Parsedoc_143151)(TY140690* P_143154) {
TY140077* Result_144040;
Result_144040 = 0;
Result_144040 = Parsesectionwrapper_144019(P_143154);
if (!!(((*P_143154).Tok->data[(*P_143154).Idx].Kind == ((NU8) 0)))) goto LA2;
Rstmessage_140770(&(*P_143154), ((NU8) 185));
LA2: ;
return Result_144040;
}
N_NIMCALL(TY140077*, Rstparse_140082)(NimStringDesc* Text_140084, NIM_BOOL Skippounds_140085, NimStringDesc* Filename_140086, NI Line_140087, NI Column_140088, NIM_BOOL* Hastoc_140090) {
TY140077* Result_144535;
TY140690 P_144536;
TY140686* LOC4;
TY140077* LOC5;
Result_144535 = 0;
memset((void*)&P_144536, 0, sizeof(P_144536));
P_144536.Sup.m_type = NTI140690;
if (!Text_140084 == 0) goto LA2;
Rawmessage_41553(((NU8) 2), Filename_140086);
LA2: ;
LOC4 = Newsharedstate_140710();
Initparser_140839(&P_144536, LOC4);
P_144536.Filename = copyString(Filename_140086);
P_144536.Line = Line_140087;
P_144536.Col = Column_140088;
Gettokens_140438(Text_140084, Skippounds_140085, &P_144536.Tok);
LOC5 = Parsedoc_143151(&P_144536);
Result_144535 = Resolvesubs_144478(&P_144536, LOC5);
(*Hastoc_140090) = P_144536.Hastoc;
return Result_144535;
}
N_NIMCALL(NIM_BOOL, Matcheshyperlink_141250)(TY140077* H_141252, NimStringDesc* Filename_141253) {
NIM_BOOL Result_141254;
NimStringDesc* S_141275;
NIM_BOOL LOC7;
Result_141254 = 0;
if (!((*H_141252).Kind == ((NU8) 0))) goto LA2;
Result_141254 = Matcheshyperlink_141250((*H_141252).Sons->data[0], Filename_141253);
goto LA1;
LA2: ;
if (!((*H_141252).Kind == ((NU8) 38))) goto LA4;
S_141275 = 0;
S_141275 = Addnodes_140108((*H_141252).Sons->data[1]);
LOC7 = nsuStartsWith(S_141275, Filename_141253);
if (!(LOC7)) goto LA8;
LOC7 = ((NU8)(S_141275->data[(NI64)(Filename_141253->Sup.len + 0)]) == (NU8)(35));
LA8: ;
if (!LOC7) goto LA9;
Result_141254 = NIM_TRUE;
goto LA6;
LA9: ;
Result_141254 = NIM_FALSE;
LA6: ;
goto LA1;
LA4: ;
Result_141254 = NIM_FALSE;
LA1: ;
return Result_141254;
}
N_NIMCALL(void, Clearindex_140126)(TY140077* Index_140128, NimStringDesc* Filename_140129) {
NI K_141284;
NI Items_141285;
NI Lastitem_141286;
TY140077* Val_141287;
NI I_141304;
NI HEX3Atmp_141431;
NI LOC1;
NI Res_141433;
NI J_141339;
NI HEX3Atmp_141425;
NI LOC9;
NI Res_141427;
NIM_BOOL LOC14;
NIM_BOOL LOC22;
NI I_141386;
NI HEX3Atmp_141441;
NI LOC25;
NI Res_141443;
K_141284 = 0;
Items_141285 = 0;
Lastitem_141286 = 0;
Val_141287 = 0;
I_141304 = 0;
HEX3Atmp_141431 = 0;
LOC1 = Rsonslen_140091(Index_140128);
HEX3Atmp_141431 = (NI64)(LOC1 - 1);
Res_141433 = 0;
Res_141433 = 0;
while (1) {
if (!(Res_141433 <= HEX3Atmp_141431)) goto LA2;
I_141304 = Res_141433;
Val_141287 = (*(*(*Index_140128).Sons->data[I_141304]).Sons->data[1]).Sons->data[0];
if (!((*Val_141287).Kind == ((NU8) 0))) goto LA4;
Val_141287 = (*Val_141287).Sons->data[0];
LA4: ;
if (!((*Val_141287).Kind == ((NU8) 5))) goto LA7;
Items_141285 = Rsonslen_140091(Val_141287);
Lastitem_141286 = -1;
J_141339 = 0;
HEX3Atmp_141425 = 0;
LOC9 = Rsonslen_140091(Val_141287);
HEX3Atmp_141425 = (NI64)(LOC9 - 1);
Res_141427 = 0;
Res_141427 = 0;
while (1) {
if (!(Res_141427 <= HEX3Atmp_141425)) goto LA10;
J_141339 = Res_141427;
if (!((*Val_141287).Sons->data[J_141339] == NIM_NIL)) goto LA12;
Items_141285 -= 1;
goto LA11;
LA12: ;
LOC14 = Matcheshyperlink_141250((*(*Val_141287).Sons->data[J_141339]).Sons->data[0], Filename_140129);
if (!LOC14) goto LA15;
asgnRefNoCycle((void**) &(*Val_141287).Sons->data[J_141339], NIM_NIL);
Items_141285 -= 1;
goto LA11;
LA15: ;
Lastitem_141286 = J_141339;
LA11: ;
Res_141427 += 1;
} LA10: ;
if (!(Items_141285 == 1)) goto LA18;
asgnRefNoCycle((void**) &(*(*(*Index_140128).Sons->data[I_141304]).Sons->data[1]).Sons->data[0], (*(*Val_141287).Sons->data[Lastitem_141286]).Sons->data[0]);
goto LA17;
LA18: ;
if (!(Items_141285 == 0)) goto LA20;
asgnRefNoCycle((void**) &(*Index_140128).Sons->data[I_141304], NIM_NIL);
goto LA17;
LA20: ;
LA17: ;
goto LA6;
LA7: ;
LOC22 = Matcheshyperlink_141250(Val_141287, Filename_140129);
if (!LOC22) goto LA23;
asgnRefNoCycle((void**) &(*Index_140128).Sons->data[I_141304], NIM_NIL);
goto LA6;
LA23: ;
LA6: ;
Res_141433 += 1;
} LA2: ;
K_141284 = 0;
I_141386 = 0;
HEX3Atmp_141441 = 0;
LOC25 = Rsonslen_140091(Index_140128);
HEX3Atmp_141441 = (NI64)(LOC25 - 1);
Res_141443 = 0;
Res_141443 = 0;
while (1) {
if (!(Res_141443 <= HEX3Atmp_141441)) goto LA26;
I_141386 = Res_141443;
if (!!(((*Index_140128).Sons->data[I_141386] == NIM_NIL))) goto LA28;
if (!!((K_141284 == I_141386))) goto LA31;
asgnRefNoCycle((void**) &(*Index_140128).Sons->data[K_141284], (*Index_140128).Sons->data[I_141386]);
LA31: ;
K_141284 += 1;
LA28: ;
Res_141443 += 1;
} LA26: ;
(*Index_140128).Sons = (TY140075*) setLengthSeq(&((*Index_140128).Sons)->Sup, sizeof(TY140077*), K_141284);
}
N_NIMCALL(TY140077*, Lastson_140667)(TY140077* N_140669) {
TY140077* Result_140670;
Result_140670 = 0;
Result_140670 = (*N_140669).Sons->data[(NI64)((*N_140669).Sons->Sup.len - 1)];
return Result_140670;
}
N_NIMCALL(NimStringDesc*, Getargument_140115)(TY140077* N_140117) {
NimStringDesc* Result_142666;
Result_142666 = 0;
if (!((*N_140117).Sons->data[0] == NIM_NIL)) goto LA2;
Result_142666 = copyString(((NimStringDesc*) &TMP142483));
goto LA1;
LA2: ;
Result_142666 = Addnodes_140108((*N_140117).Sons->data[0]);
LA1: ;
return Result_142666;
}
N_NIMCALL(NIM_BOOL, Eqrstnodes_141211)(TY140077* A_141213, TY140077* B_141214) {
NIM_BOOL Result_141215;
NI LOC8;
NI LOC9;
NI I_141243;
NI HEX3Atmp_141245;
NI LOC12;
NI Res_141247;
NIM_BOOL LOC15;
Result_141215 = 0;
if (!!(((*A_141213).Kind == (*B_141214).Kind))) goto LA2;
goto BeforeRet;
LA2: ;
if (!((*A_141213).Kind == ((NU8) 62))) goto LA5;
Result_141215 = eqStrings((*A_141213).Text, (*B_141214).Text);
goto LA4;
LA5: ;
LOC8 = Rsonslen_140091(A_141213);
LOC9 = Rsonslen_140091(B_141214);
if (!!((LOC8 == LOC9))) goto LA10;
goto BeforeRet;
LA10: ;
I_141243 = 0;
HEX3Atmp_141245 = 0;
LOC12 = Rsonslen_140091(A_141213);
HEX3Atmp_141245 = (NI64)(LOC12 - 1);
Res_141247 = 0;
Res_141247 = 0;
while (1) {
if (!(Res_141247 <= HEX3Atmp_141245)) goto LA13;
I_141243 = Res_141247;
LOC15 = Eqrstnodes_141211((*A_141213).Sons->data[I_141243], (*B_141214).Sons->data[I_141243]);
if (!!(LOC15)) goto LA16;
goto BeforeRet;
LA16: ;
Res_141247 += 1;
} LA13: ;
Result_141215 = NIM_TRUE;
LA4: ;
BeforeRet: ;
return Result_141215;
}
N_NIMCALL(void, Setindexpair_140118)(TY140077* Index_140120, TY140077* Key_140121, TY140077* Val_140122) {
TY140077* E_141451;
TY140077* A_141452;
TY140077* B_141453;
NI I_141479;
NI HEX3Atmp_141508;
NI LOC1;
NI Res_141510;
NIM_BOOL LOC4;
E_141451 = 0;
A_141452 = 0;
B_141453 = 0;
A_141452 = Newrstnode_140094(((NU8) 11));
Addson_140101(A_141452, Key_140121);
I_141479 = 0;
HEX3Atmp_141508 = 0;
LOC1 = Rsonslen_140091(Index_140120);
HEX3Atmp_141508 = (NI64)(LOC1 - 1);
Res_141510 = 0;
Res_141510 = 0;
while (1) {
if (!(Res_141510 <= HEX3Atmp_141508)) goto LA2;
I_141479 = Res_141510;
LOC4 = Eqrstnodes_141211((*(*Index_140120).Sons->data[I_141479]).Sons->data[0], A_141452);
if (!LOC4) goto LA5;
E_141451 = (*(*(*Index_140120).Sons->data[I_141479]).Sons->data[1]).Sons->data[0];
if (!!(((*E_141451).Kind == ((NU8) 5)))) goto LA8;
E_141451 = Newrstnode_140094(((NU8) 5));
B_141453 = Newrstnode_140094(((NU8) 6));
Addson_140101(B_141453, (*(*(*Index_140120).Sons->data[I_141479]).Sons->data[1]).Sons->data[0]);
Addson_140101(E_141451, B_141453);
asgnRefNoCycle((void**) &(*(*(*Index_140120).Sons->data[I_141479]).Sons->data[1]).Sons->data[0], E_141451);
LA8: ;
B_141453 = Newrstnode_140094(((NU8) 6));
Addson_140101(B_141453, Val_140122);
Addson_140101(E_141451, B_141453);
goto BeforeRet;
LA5: ;
Res_141510 += 1;
} LA2: ;
E_141451 = Newrstnode_140094(((NU8) 10));
B_141453 = Newrstnode_140094(((NU8) 12));
Addson_140101(B_141453, Val_140122);
Addson_140101(E_141451, A_141452);
Addson_140101(E_141451, B_141453);
Addson_140101(Index_140120, E_141451);
BeforeRet: ;
}
N_NIMCALL(NI, Cmpnodes_141141)(TY140077* A_141143, TY140077* B_141144) {
NI Result_141145;
TY140077* X_141164;
TY140077* Y_141165;
NimStringDesc* LOC1;
NimStringDesc* LOC2;
Result_141145 = 0;
X_141164 = 0;
X_141164 = (*A_141143).Sons->data[0];
Y_141165 = 0;
Y_141165 = (*B_141144).Sons->data[0];
LOC1 = Addnodes_140108(X_141164);
LOC2 = Addnodes_140108(Y_141165);
Result_141145 = nsuCmpIgnoreStyle(LOC1, LOC2);
return Result_141145;
}
N_NIMCALL(void, Sortindex_140123)(TY140077* A_140125) {
NI N_141178;
NI H_141179;
NI I_141189;
NI HEX3Atmp_141201;
NI Res_141203;
TY140077* V_141190;
NI J_141191;
NI LOC8;
N_141178 = 0;
N_141178 = Rsonslen_140091(A_140125);
H_141179 = 0;
H_141179 = 1;
while (1) {
H_141179 = (NI64)((NI64)(3 * H_141179) + 1);
if (!(N_141178 < H_141179)) goto LA3;
goto LA1;
LA3: ;
} LA1: ;
while (1) {
H_141179 = (NI64)(H_141179 / 3);
I_141189 = 0;
HEX3Atmp_141201 = 0;
HEX3Atmp_141201 = (NI64)(N_141178 - 1);
Res_141203 = 0;
Res_141203 = H_141179;
while (1) {
if (!(Res_141203 <= HEX3Atmp_141201)) goto LA6;
I_141189 = Res_141203;
V_141190 = 0;
V_141190 = (*A_140125).Sons->data[I_141189];
J_141191 = 0;
J_141191 = I_141189;
while (1) {
LOC8 = Cmpnodes_141141((*A_140125).Sons->data[(NI64)(J_141191 - H_141179)], V_141190);
if (!(0 <= LOC8)) goto LA7;
asgnRefNoCycle((void**) &(*A_140125).Sons->data[J_141191], (*A_140125).Sons->data[(NI64)(J_141191 - H_141179)]);
J_141191 = (NI64)(J_141191 - H_141179);
if (!(J_141191 < H_141179)) goto LA10;
goto LA7;
LA10: ;
} LA7: ;
asgnRefNoCycle((void**) &(*A_140125).Sons->data[J_141191], V_141190);
Res_141203 += 1;
} LA6: ;
if (!(H_141179 == 1)) goto LA13;
goto LA5;
LA13: ;
} LA5: ;
}
N_NOINLINE(void, rstInit)(void) {
}

