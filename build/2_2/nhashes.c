/* Generated by Nimrod Compiler v0.8.9 */
/*   (c) 2010 Andreas Rumpf */

typedef long long int NI;
typedef unsigned long long int NU;
#include "nimbase.h"

typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
struct TGenericSeq {
NI len;
NI space;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
N_NIMCALL(NI, Gethashstr_42031)(NimStringDesc* S_42033) {
NI Result_42130;
NI H_42131;
NI I_42156;
NI HEX3Atmp_42163;
NI Res_42165;
Result_42130 = 0;
H_42131 = 0;
H_42131 = 0;
I_42156 = 0;
HEX3Atmp_42163 = 0;
HEX3Atmp_42163 = S_42033->Sup.len;
Res_42165 = 0;
Res_42165 = 1;
while (1) {
if (!(Res_42165 <= HEX3Atmp_42163)) goto LA1;
I_42156 = Res_42165;
H_42131 = (NI64)((NU64)(H_42131) + (NU64)(((NU8)(S_42033->data[I_42156]))));
H_42131 = (NI64)((NU64)(H_42131) + (NU64)((NI64)((NU64)(H_42131) << (NU64)(10))));
H_42131 = (NI64)(H_42131 ^ (NI64)((NU64)(H_42131) >> (NU64)(6)));
Res_42165 += 1;
} LA1: ;
H_42131 = (NI64)((NU64)(H_42131) + (NU64)((NI64)((NU64)(H_42131) << (NU64)(3))));
H_42131 = (NI64)(H_42131 ^ (NI64)((NU64)(H_42131) >> (NU64)(11)));
H_42131 = (NI64)((NU64)(H_42131) + (NU64)((NI64)((NU64)(H_42131) << (NU64)(15))));
Result_42130 = ((NI) (H_42131));
return Result_42130;
}
N_NIMCALL(NI, Gethashstrci_42034)(NimStringDesc* S_42036) {
NI Result_42227;
NI H_42228;
NIM_CHAR C_42229;
NI I_42239;
NI HEX3Atmp_42273;
NI Res_42275;
Result_42227 = 0;
H_42228 = 0;
C_42229 = 0;
H_42228 = 0;
I_42239 = 0;
HEX3Atmp_42273 = 0;
HEX3Atmp_42273 = (NI64)((NI64)(S_42036->Sup.len + 0) - 1);
Res_42275 = 0;
Res_42275 = 0;
while (1) {
if (!(Res_42275 <= HEX3Atmp_42273)) goto LA1;
I_42239 = Res_42275;
C_42229 = S_42036->data[I_42239];
if (!(((NU8)(C_42229)) >= ((NU8)(65)) && ((NU8)(C_42229)) <= ((NU8)(90)))) goto LA3;
C_42229 = ((NIM_CHAR) (((NI) ((NI64)(((NU8)(C_42229)) + 32)))));
LA3: ;
H_42228 = (NI64)((NU64)(H_42228) + (NU64)(((NU8)(C_42229))));
H_42228 = (NI64)((NU64)(H_42228) + (NU64)((NI64)((NU64)(H_42228) << (NU64)(10))));
H_42228 = (NI64)(H_42228 ^ (NI64)((NU64)(H_42228) >> (NU64)(6)));
Res_42275 += 1;
} LA1: ;
H_42228 = (NI64)((NU64)(H_42228) + (NU64)((NI64)((NU64)(H_42228) << (NU64)(3))));
H_42228 = (NI64)(H_42228 ^ (NI64)((NU64)(H_42228) >> (NU64)(11)));
H_42228 = (NI64)((NU64)(H_42228) + (NU64)((NI64)((NU64)(H_42228) << (NU64)(15))));
Result_42227 = ((NI) (H_42228));
return Result_42227;
}
N_NIMCALL(NI, Getnormalizedhash_42037)(NimStringDesc* S_42039) {
NI Result_42171;
NI H_42172;
NIM_CHAR C_42173;
NI I_42183;
NI HEX3Atmp_42219;
NI Res_42221;
Result_42171 = 0;
H_42172 = 0;
C_42173 = 0;
H_42172 = 0;
I_42183 = 0;
HEX3Atmp_42219 = 0;
HEX3Atmp_42219 = (NI64)((NI64)(S_42039->Sup.len + 0) - 1);
Res_42221 = 0;
Res_42221 = 0;
while (1) {
if (!(Res_42221 <= HEX3Atmp_42219)) goto LA1;
I_42183 = Res_42221;
C_42173 = S_42039->data[I_42183];
if (!((NU8)(C_42173) == (NU8)(95))) goto LA4;
goto LA2;
LA4: ;
if (!(((NU8)(C_42173)) >= ((NU8)(65)) && ((NU8)(C_42173)) <= ((NU8)(90)))) goto LA7;
C_42173 = ((NIM_CHAR) (((NI) ((NI64)(((NU8)(C_42173)) + 32)))));
LA7: ;
H_42172 = (NI64)((NU64)(H_42172) + (NU64)(((NU8)(C_42173))));
H_42172 = (NI64)((NU64)(H_42172) + (NU64)((NI64)((NU64)(H_42172) << (NU64)(10))));
H_42172 = (NI64)(H_42172 ^ (NI64)((NU64)(H_42172) >> (NU64)(6)));
LA2: ;
Res_42221 += 1;
} LA1: ;
H_42172 = (NI64)((NU64)(H_42172) + (NU64)((NI64)((NU64)(H_42172) << (NU64)(3))));
H_42172 = (NI64)(H_42172 ^ (NI64)((NU64)(H_42172) >> (NU64)(11)));
H_42172 = (NI64)((NU64)(H_42172) + (NU64)((NI64)((NU64)(H_42172) << (NU64)(15))));
Result_42171 = ((NI) (H_42172));
return Result_42171;
}
N_NIMCALL(NI, Conchash_42040)(NI H_42042, NI Val_42043) {
NI Result_42051;
Result_42051 = 0;
Result_42051 = (NI64)((NU64)(H_42042) + (NU64)(Val_42043));
Result_42051 = (NI64)((NU64)(Result_42051) + (NU64)((NI64)((NU64)(Result_42051) << (NU64)(10))));
Result_42051 = (NI64)(Result_42051 ^ (NI64)((NU64)(Result_42051) >> (NU64)(6)));
return Result_42051;
}
N_NOINLINE(void, nhashesInit)(void) {
}

