/* Generated by Nimrod Compiler v0.8.11 */
/*   (c) 2011 Andreas Rumpf */

typedef long long int NI;
typedef unsigned long long int NU;
#include "nimbase.h"

typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
struct TGenericSeq {
NI len;
NI space;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
N_NIMCALL(NI, Gethashstr_43031)(NimStringDesc* S_43033) {
NI Result_43128;
NI H_43129;
NI I_43154;
NI HEX3Atmp_43160;
NI Res_43162;
Result_43128 = 0;
H_43129 = 0;
H_43129 = 0;
I_43154 = 0;
HEX3Atmp_43160 = 0;
HEX3Atmp_43160 = S_43033->Sup.len;
Res_43162 = 0;
Res_43162 = 1;
while (1) {
if (!(Res_43162 <= HEX3Atmp_43160)) goto LA1;
I_43154 = Res_43162;
H_43129 = (NI64)((NU64)(H_43129) + (NU64)(((NU8)(S_43033->data[I_43154]))));
H_43129 = (NI64)((NU64)(H_43129) + (NU64)((NI64)((NU64)(H_43129) << (NU64)(10))));
H_43129 = (NI64)(H_43129 ^ (NI64)((NU64)(H_43129) >> (NU64)(6)));
Res_43162 += 1;
} LA1: ;
H_43129 = (NI64)((NU64)(H_43129) + (NU64)((NI64)((NU64)(H_43129) << (NU64)(3))));
H_43129 = (NI64)(H_43129 ^ (NI64)((NU64)(H_43129) >> (NU64)(11)));
H_43129 = (NI64)((NU64)(H_43129) + (NU64)((NI64)((NU64)(H_43129) << (NU64)(15))));
Result_43128 = ((NI) (H_43129));
return Result_43128;
}
N_NIMCALL(NI, Gethashstrci_43034)(NimStringDesc* S_43036) {
NI Result_43220;
NI H_43221;
NIM_CHAR C_43222;
NI I_43232;
NI HEX3Atmp_43265;
NI Res_43267;
Result_43220 = 0;
H_43221 = 0;
C_43222 = 0;
H_43221 = 0;
I_43232 = 0;
HEX3Atmp_43265 = 0;
HEX3Atmp_43265 = (NI64)((NI64)(S_43036->Sup.len + 0) - 1);
Res_43267 = 0;
Res_43267 = 0;
while (1) {
if (!(Res_43267 <= HEX3Atmp_43265)) goto LA1;
I_43232 = Res_43267;
C_43222 = S_43036->data[I_43232];
if (!(((NU8)(C_43222)) >= ((NU8)(65)) && ((NU8)(C_43222)) <= ((NU8)(90)))) goto LA3;
C_43222 = ((NIM_CHAR) (((NI) ((NI64)(((NU8)(C_43222)) + 32)))));
LA3: ;
H_43221 = (NI64)((NU64)(H_43221) + (NU64)(((NU8)(C_43222))));
H_43221 = (NI64)((NU64)(H_43221) + (NU64)((NI64)((NU64)(H_43221) << (NU64)(10))));
H_43221 = (NI64)(H_43221 ^ (NI64)((NU64)(H_43221) >> (NU64)(6)));
Res_43267 += 1;
} LA1: ;
H_43221 = (NI64)((NU64)(H_43221) + (NU64)((NI64)((NU64)(H_43221) << (NU64)(3))));
H_43221 = (NI64)(H_43221 ^ (NI64)((NU64)(H_43221) >> (NU64)(11)));
H_43221 = (NI64)((NU64)(H_43221) + (NU64)((NI64)((NU64)(H_43221) << (NU64)(15))));
Result_43220 = ((NI) (H_43221));
return Result_43220;
}
N_NIMCALL(NI, Getnormalizedhash_43037)(NimStringDesc* S_43039) {
NI Result_43166;
NI H_43167;
NIM_CHAR C_43168;
NI I_43178;
NI HEX3Atmp_43214;
NI Res_43216;
Result_43166 = 0;
H_43167 = 0;
C_43168 = 0;
H_43167 = 0;
I_43178 = 0;
HEX3Atmp_43214 = 0;
HEX3Atmp_43214 = (NI64)((NI64)(S_43039->Sup.len + 0) - 1);
Res_43216 = 0;
Res_43216 = 0;
while (1) {
if (!(Res_43216 <= HEX3Atmp_43214)) goto LA1;
I_43178 = Res_43216;
C_43168 = S_43039->data[I_43178];
if (!((NU8)(C_43168) == (NU8)(95))) goto LA4;
goto LA2;
LA4: ;
if (!(((NU8)(C_43168)) >= ((NU8)(65)) && ((NU8)(C_43168)) <= ((NU8)(90)))) goto LA7;
C_43168 = ((NIM_CHAR) (((NI) ((NI64)(((NU8)(C_43168)) + 32)))));
LA7: ;
H_43167 = (NI64)((NU64)(H_43167) + (NU64)(((NU8)(C_43168))));
H_43167 = (NI64)((NU64)(H_43167) + (NU64)((NI64)((NU64)(H_43167) << (NU64)(10))));
H_43167 = (NI64)(H_43167 ^ (NI64)((NU64)(H_43167) >> (NU64)(6)));
LA2: ;
Res_43216 += 1;
} LA1: ;
H_43167 = (NI64)((NU64)(H_43167) + (NU64)((NI64)((NU64)(H_43167) << (NU64)(3))));
H_43167 = (NI64)(H_43167 ^ (NI64)((NU64)(H_43167) >> (NU64)(11)));
H_43167 = (NI64)((NU64)(H_43167) + (NU64)((NI64)((NU64)(H_43167) << (NU64)(15))));
Result_43166 = ((NI) (H_43167));
return Result_43166;
}
N_NIMCALL(NI, Conchash_43040)(NI H_43042, NI Val_43043) {
NI Result_43051;
Result_43051 = 0;
Result_43051 = (NI64)((NU64)(H_43042) + (NU64)(Val_43043));
Result_43051 = (NI64)((NU64)(Result_43051) + (NU64)((NI64)((NU64)(Result_43051) << (NU64)(10))));
Result_43051 = (NI64)(Result_43051 ^ (NI64)((NU64)(Result_43051) >> (NU64)(6)));
return Result_43051;
}
N_NOINLINE(void, nhashesInit)(void) {
}

