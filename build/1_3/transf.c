/* Generated by Nimrod Compiler v0.8.10 */
/*   (c) 2010 Andreas Rumpf */

typedef long int NI;
typedef unsigned long int NU;
#include "nimbase.h"

typedef struct TY101006 TY101006;
typedef struct TY101002 TY101002;
typedef struct TY51547 TY51547;
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct TY89031 TY89031;
typedef struct TY51525 TY51525;
typedef struct TY185012 TY185012;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct TNimObject TNimObject;
typedef struct TY185010 TY185010;
typedef struct TY10602 TY10602;
typedef struct TY10614 TY10614;
typedef struct TY10990 TY10990;
typedef struct TY10618 TY10618;
typedef struct TY10610 TY10610;
typedef struct TY8004 TY8004;
typedef struct TY10988 TY10988;
typedef struct TY51551 TY51551;
typedef struct TY43532 TY43532;
typedef struct TY50011 TY50011;
typedef struct TY51519 TY51519;
typedef struct TY50005 TY50005;
typedef struct TY51529 TY51529;
typedef struct TY51527 TY51527;
typedef struct TY51539 TY51539;
typedef struct TY48008 TY48008;
typedef struct TY51543 TY51543;
typedef struct TY51569 TY51569;
typedef struct TY51567 TY51567;
typedef struct TY51565 TY51565;
typedef struct TY51549 TY51549;
typedef struct TY51900 TY51900;
typedef struct TY51896 TY51896;
typedef struct TY51898 TY51898;
typedef struct TY35221 TY35221;
typedef struct TY89029 TY89029;
typedef struct TY55223 TY55223;
typedef struct TY55221 TY55221;
typedef struct TY55219 TY55219;
typedef struct TY51563 TY51563;
typedef struct TY51561 TY51561;
typedef struct TY51559 TY51559;
typedef struct TY39013 TY39013;
struct TGenericSeq {
NI len;
NI space;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
typedef N_NIMCALL_PTR(TY101002*, TY101007) (TY51547* Module_101008, NimStringDesc* Filename_101009);
typedef N_NIMCALL_PTR(TY101002*, TY101012) (TY51547* Module_101013, NimStringDesc* Filename_101014, TY89031* Rd_101015);
typedef N_NIMCALL_PTR(TY51525*, TY101018) (TY101002* P_101019, TY51525* N_101020);
typedef N_NIMCALL_PTR(TY51525*, TY101023) (TY101002* P_101024, TY51525* Toplevelstmt_101025);
struct TY101006 {
TY101007 Open;
TY101012 Opencached;
TY101018 Close;
TY101023 Process;
};
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct TNimObject {
TNimType* m_type;
};
struct TY101002 {
  TNimObject Sup;
};
struct TY185012 {
  TY101002 Sup;
TY51547* Module;
TY185010* Transcon;
};
struct TY10602 {
NI Refcount;
TNimType* Typ;
};
struct TY10618 {
NI Len;
NI Cap;
TY10602** D;
};
struct TY10614 {
NI Counter;
NI Max;
TY10610* Head;
TY10610** Data;
};
struct TY8004 {
void* Debuginfo;
NI32 Lockcount;
NI32 Recursioncount;
NI Owningthread;
NI Locksemaphore;
NI32 Reserved;
};
struct TY10988 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY10990 {
TY10618 Zct;
TY10618 Decstack;
TY10614 Cycleroots;
TY10618 Tempstack;
TY8004 Cyclerootslock;
TY8004 Zctlock;
TY10988 Stat;
};
struct TY43532 {
NI16 Line;
NI16 Col;
NI32 Fileindex;
};
struct TY51525 {
TY51551* Typ;
NimStringDesc* Comment;
TY43532 Info;
NU8 Flags;
NU8 Kind;
union {
struct {NI64 Intval;
} S1;
struct {NF64 Floatval;
} S2;
struct {NimStringDesc* Strval;
} S3;
struct {TY51547* Sym;
} S4;
struct {TY50011* Ident;
} S5;
struct {TY51519* Sons;
} S6;
} KindU;
};
struct TY50005 {
  TNimObject Sup;
NI Id;
};
struct TY51529 {
TNimType* m_type;
NI Counter;
TY51527* Data;
};
struct TY51539 {
NU8 K;
NU8 S;
NU8 Flags;
TY51551* T;
TY48008* R;
NI A;
};
struct TY51547 {
  TY50005 Sup;
NU8 Kind;
NU8 Magic;
TY51551* Typ;
TY50011* Name;
TY43532 Info;
TY51547* Owner;
NU32 Flags;
TY51529 Tab;
TY51525* Ast;
NU32 Options;
NI Position;
NI Offset;
TY51539 Loc;
TY51543* Annex;
};
struct TY51565 {
TY50005* Key;
TY51525* Val;
};
struct TY51569 {
NI Counter;
TY51567* Data;
};
struct TY185010 {
TY51569 Mapping;
TY51547* Owner;
TY51525* Forstmt;
TY185010* Next;
};
struct TY51551 {
  TY50005 Sup;
NU8 Kind;
TY51549* Sons;
TY51525* N;
NU8 Flags;
NU8 Callconv;
TY51547* Owner;
TY51547* Sym;
NI64 Size;
NI Align;
NI Containerid;
TY51539 Loc;
};
struct TY51900 {
NI Counter;
NI Max;
TY51896* Head;
TY51898* Data;
};
struct TY55219 {
NI Key;
NI Val;
};
struct TY55223 {
NI Counter;
TY55221* Data;
};
struct TY89029 {
NI Lastidxkey;
NI Lastidxval;
TY55223 Tab;
TY48008* R;
NI Offset;
};
struct TY51559 {
TY50005* Key;
TNimObject* Val;
};
struct TY51563 {
NI Counter;
TY51561* Data;
};
struct TY89031 {
  TNimObject Sup;
NI Pos;
NimStringDesc* S;
NU32 Options;
NU8 Reason;
TY35221* Moddeps;
TY35221* Files;
NI Dataidx;
NI Convertersidx;
NI Initidx;
NI Interfidx;
NI Compilerprocsidx;
NI Cgenidx;
NimStringDesc* Filename;
TY89029 Index;
TY89029 Imports;
NI Readerindex;
NI Line;
NI Moduleid;
TY51563 Syms;
};
typedef NI TY8614[16];
struct TY10610 {
TY10610* Next;
NI Key;
TY8614 Bits;
};
struct TY50011 {
  TY50005 Sup;
NimStringDesc* S;
TY50011* Next;
NI H;
};
struct TY48008 {
  TNimObject Sup;
TY48008* Left;
TY48008* Right;
NI Length;
NimStringDesc* Data;
};
struct TY39013 {
  TNimObject Sup;
TY39013* Prev;
TY39013* Next;
};
struct TY51543 {
  TY39013 Sup;
NU8 Kind;
NIM_BOOL Generated;
TY48008* Name;
TY51525* Path;
};
struct TY51896 {
TY51896* Next;
NI Key;
TY8614 Bits;
};
struct TY51519 {
  TGenericSeq Sup;
  TY51525* data[SEQ_DECL_SIZE];
};
struct TY51527 {
  TGenericSeq Sup;
  TY51547* data[SEQ_DECL_SIZE];
};
struct TY51567 {
  TGenericSeq Sup;
  TY51565 data[SEQ_DECL_SIZE];
};
struct TY51549 {
  TGenericSeq Sup;
  TY51551* data[SEQ_DECL_SIZE];
};
struct TY51898 {
  TGenericSeq Sup;
  TY51896* data[SEQ_DECL_SIZE];
};
struct TY35221 {
  TGenericSeq Sup;
  NimStringDesc* data[SEQ_DECL_SIZE];
};
struct TY55221 {
  TGenericSeq Sup;
  TY55219 data[SEQ_DECL_SIZE];
};
struct TY51561 {
  TGenericSeq Sup;
  TY51559 data[SEQ_DECL_SIZE];
};
N_NIMCALL(void, Initpass_101031)(TY101006* P_101034);
N_NIMCALL(TY101002*, Opentransf_188264)(TY51547* Module_188266, NimStringDesc* Filename_188267);
N_NIMCALL(void*, newObj)(TNimType* Typ_13507, NI Size_13508);
static N_INLINE(void, asgnRef)(void** Dest_13014, void* Src_13015);
static N_INLINE(void, Incref_13002)(TY10602* C_13004);
static N_INLINE(NI, Atomicinc_3001)(NI* Memloc_3004, NI X_3005);
static N_INLINE(NIM_BOOL, Canbecycleroot_11416)(TY10602* C_11418);
static N_INLINE(void, Rtladdcycleroot_12052)(TY10602* C_12054);
N_NOINLINE(void, Incl_10874)(TY10614* S_10877, TY10602* Cell_10878);
static N_INLINE(TY10602*, Usrtocell_11412)(void* Usr_11414);
static N_INLINE(void, Decref_12801)(TY10602* C_12803);
static N_INLINE(NI, Atomicdec_3006)(NI* Memloc_3009, NI X_3010);
static N_INLINE(void, Rtladdzct_12401)(TY10602* C_12403);
N_NOINLINE(void, Addzct_11401)(TY10618* S_11404, TY10602* C_11405);
N_NIMCALL(TY51525*, Processtransf_188258)(TY101002* Context_188260, TY51525* N_188261);
N_NIMCALL(TY51525*, Transform_185092)(TY185012* C_185094, TY51525* N_185095);
N_NIMCALL(TY51525*, Transformsym_185102)(TY185012* C_185104, TY51525* N_185105);
N_NIMCALL(void, Internalerror_43567)(TY43532 Info_43569, NimStringDesc* Errmsg_43570);
N_NIMCALL(TY51525*, Newsymnode_51734)(TY51547* Sym_51736);
N_NIMCALL(TY51525*, Idnodetableget_55184)(TY51569 T_55186, TY50005* Key_55187);
N_NIMCALL(TY51551*, Skiptypes_93085)(TY51551* T_93087, NU64 Kinds_93088);
N_NIMCALL(TY51525*, Getconstexpr_109010)(TY51547* M_109012, TY51525* N_109013);
N_NIMCALL(TY51525*, Transformarrayaccess_187480)(TY185012* C_187482, TY51525* N_187483);
N_NIMCALL(TY51525*, Copytree_51858)(TY51525* Src_51860);
N_NIMCALL(TY51525*, Skipconv_185397)(TY51525* N_185399);
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13018, void* Src_13019);
N_NIMCALL(NI, Sonslen_51803)(TY51525* N_51805);
N_NIMCALL(TY51525*, Transformlambda_187011)(TY185012* C_187013, TY51525* N_187014);
N_NIMCALL(void, Intsetinit_51924)(TY51900* S_51927);
N_NIMCALL(TY51525*, Newnodei_51737)(NU8 Kind_51739, TY43532 Info_51740);
N_NIMCALL(void, Gathervars_186885)(TY185012* C_186887, TY51525* N_186888, TY51900* Marked_186890, TY51547* Owner_186891, TY51525* Container_186892);
N_NIMCALL(NIM_BOOL, Intsetcontainsorincl_51928)(TY51900* S_51931, NI Key_51932);
N_NIMCALL(void, Addson_51823)(TY51525* Father_51825, TY51525* Son_51826);
N_NIMCALL(TY51525*, Copynode_51855)(TY51525* Src_51857);
N_NIMCALL(TY51551*, Newtype_51706)(NU8 Kind_51708, TY51547* Owner_51709);
N_NIMCALL(void, Addson_51827)(TY51551* Father_51829, TY51551* Son_51830);
N_NIMCALL(TY51547*, Newsym_51701)(NU8 Symkind_51703, TY50011* Name_51704, TY51547* Owner_51705);
N_NIMCALL(TY50011*, Getident_50016)(NimStringDesc* Identifier_50018);
N_NIMCALL(void, Addformalparam_186987)(TY51547* Routine_186989, TY51547* Param_186990);
N_NIMCALL(TY185010*, Newtranscon_185021)(void);
N_NIMCALL(void, Initidnodetable_51762)(TY51569* X_51765);
N_NIMCALL(void, Idnodetableput_55188)(TY51569* T_55191, TY50005* Key_55192, TY51525* Val_55193);
N_NIMCALL(TY51525*, Indirectaccess_187003)(TY51547* A_187005, TY51547* B_187006);
N_NIMCALL(void, Pushtranscon_185040)(TY185012* C_185042, TY185010* T_185043);
N_NIMCALL(void, Poptranscon_185044)(TY185012* C_185046);
N_NIMCALL(void, Internalerror_43571)(NimStringDesc* Errmsg_43573);
N_NIMCALL(TY51525*, Transformfor_186580)(TY185012* C_186582, TY51525* N_186583);
N_NIMCALL(TY51525*, Transformcontinue_185338)(TY185012* C_185340, TY51525* N_185341);
N_NIMCALL(TY51547*, Getcurrowner_185058)(TY185012* C_185060);
static N_INLINE(void, appendString)(NimStringDesc* Dest_18592, NimStringDesc* Src_18593);
N_NIMCALL(NimStringDesc*, nimIntToStr)(NI X_19203);
N_NIMCALL(NimStringDesc*, rawNewString)(NI Space_18487);
N_NIMCALL(void, Transformcontinueaux_185267)(TY185012* C_185269, TY51525* N_185270, TY51547* Labl_185271, NI* Counter_185273);
N_NIMCALL(void, Addvar_185916)(TY51525* Father_185918, TY51525* V_185919);
N_NIMCALL(TY51525*, Skippassasopenarray_186491)(TY51525* N_186493);
N_NIMCALL(NU8, Putarginto_186522)(TY51525* Arg_186524, TY51551* Formal_186525);
N_NIMCALL(TY51547*, Newtemp_185073)(TY185012* C_185075, TY51551* Typ_185076, TY43532 Info_185077);
N_NIMCALL(TY51525*, Newasgnstmt_185096)(TY185012* C_185098, TY51525* Le_185099, TY51525* Ri_185100);
N_NIMCALL(void, Pushinfocontext_43606)(TY43532 Info_43608);
N_NIMCALL(TY51525*, Inlineiter_185561)(TY185012* C_185563, TY51525* N_185564);
N_NIMCALL(TY51525*, Transformyield_185474)(TY185012* C_185476, TY51525* N_185477);
N_NIMCALL(void, Unpacktuple_185443)(TY185012* C_185445, TY51525* N_185446, TY51525* Father_185447);
N_NIMCALL(TY51525*, Newtupleaccess_185425)(TY51525* Tup_185427, NI I_185428);
N_NIMCALL(TY51525*, Newnodeit_51741)(NU8 Kind_51743, TY43532 Info_51744, TY51551* Typ_51745);
N_NIMCALL(TY51551*, Getsystype_98008)(NU8 Kind_98010);
N_NIMCALL(TY51525*, Lastson_51809)(TY51525* N_51811);
N_NIMCALL(TY51547*, Copysym_51775)(TY51547* S_51777, NIM_BOOL Keepid_51778);
N_NIMCALL(void, Popinfocontext_43609)(void);
N_NIMCALL(TY51525*, Transformcase_187191)(TY185012* C_187193, TY51525* N_187194);
N_NIMCALL(TGenericSeq*, setLengthSeq)(TGenericSeq* Seq_18803, NI Elemsize_18804, NI Newlen_18805);
N_NIMCALL(void, Methoddef_155004)(TY51547* S_155006);
N_NIMCALL(TY51525*, Transformcall_187779)(TY185012* C_187781, TY51525* N_187782);
N_NIMCALL(TY51525*, Flattentree_187751)(TY51525* Root_187753);
N_NIMCALL(TY51547*, Getmergeop_187571)(TY51525* N_187573);
N_NIMCALL(void, Flattentreeaux_187688)(TY51525* D_187690, TY51525* A_187691, TY51547* Op_187692);
N_NIMCALL(NIM_BOOL, Isconstexpr_92016)(TY51525* N_92018);
N_NIMCALL(TY51525*, Evalop_109014)(NU8 M_109016, TY51525* N_109017, TY51525* A_109018, TY51525* B_109019, TY51525* C_109020);
N_NIMCALL(TY51525*, Methodcall_155007)(TY51525* N_155009);
N_NIMCALL(TY51525*, Transformaddrderef_185921)(TY185012* C_185923, TY51525* N_185924, NU8 A_185925, NU8 B_185926);
N_NIMCALL(TY51525*, Transformconv_186212)(TY185012* C_186214, TY51525* N_186215);
N_NIMCALL(NIM_BOOL, Isordinaltype_93069)(TY51551* T_93071);
N_NIMCALL(NI64, Firstord_93001)(TY51551* T_93003);
N_NIMCALL(NI64, Lastord_93004)(TY51551* T_93006);
N_NIMCALL(TY51525*, Newinttypenode_51717)(NU8 Kind_51719, NI64 Intval_51720, TY51551* Typ_51721);
N_NIMCALL(NI, Inheritancediff_93119)(TY51551* A_93121, TY51551* B_93122);
N_NIMCALL(TY51525*, Newnode_51710)(NU8 Kind_51712);
STRING_LITERAL(TMP194228, "transformSym", 12);
STRING_LITERAL(TMP194229, "wrong AST for borrowed symbol", 29);
STRING_LITERAL(TMP194230, "transformSym: const", 19);
STRING_LITERAL(TMP194231, "transformLambda", 15);
STRING_LITERAL(TMP194232, ":tmpCl", 6);
STRING_LITERAL(TMP194233, "popTransCon", 11);
STRING_LITERAL(TMP194234, "transformFor", 12);
STRING_LITERAL(TMP194235, ":tmp", 4);
STRING_LITERAL(TMP194236, "not implemented: pass to var parameter", 38);
STRING_LITERAL(TMP194237, "inlineIter", 10);
STRING_LITERAL(TMP194238, "inlineIter: not nkVarTuple", 26);
STRING_LITERAL(TMP194239, "transformCase", 13);
STRING_LITERAL(TMP194240, "transform", 9);
extern TNimType* NTI185014; /* PTransf */
extern TNimType* NTI185012; /* TTransfContext */
extern TY10990 Gch_11010;
extern TNimType* NTI185008; /* PTransCon */
static N_INLINE(NI, Atomicinc_3001)(NI* Memloc_3004, NI X_3005) {
NI Result_7607;
Result_7607 = 0;
(*Memloc_3004) += X_3005;
Result_7607 = (*Memloc_3004);
return Result_7607;
}
static N_INLINE(NIM_BOOL, Canbecycleroot_11416)(TY10602* C_11418) {
NIM_BOOL Result_11419;
Result_11419 = 0;
Result_11419 = !((((*(*C_11418).Typ).flags &(1<<((((NU8) 1))&7)))!=0));
return Result_11419;
}
static N_INLINE(void, Rtladdcycleroot_12052)(TY10602* C_12054) {
Incl_10874(&Gch_11010.Cycleroots, C_12054);
}
static N_INLINE(void, Incref_13002)(TY10602* C_13004) {
NI LOC1;
NIM_BOOL LOC3;
LOC1 = Atomicinc_3001(&(*C_13004).Refcount, 8);
LOC3 = Canbecycleroot_11416(C_13004);
if (!LOC3) goto LA4;
Rtladdcycleroot_12052(C_13004);
LA4: ;
}
static N_INLINE(TY10602*, Usrtocell_11412)(void* Usr_11414) {
TY10602* Result_11415;
Result_11415 = 0;
Result_11415 = ((TY10602*) ((NI32)((NU32)(((NI) (Usr_11414))) - (NU32)(((NI) (((NI)sizeof(TY10602))))))));
return Result_11415;
}
static N_INLINE(NI, Atomicdec_3006)(NI* Memloc_3009, NI X_3010) {
NI Result_7806;
Result_7806 = 0;
(*Memloc_3009) -= X_3010;
Result_7806 = (*Memloc_3009);
return Result_7806;
}
static N_INLINE(void, Rtladdzct_12401)(TY10602* C_12403) {
Addzct_11401(&Gch_11010.Zct, C_12403);
}
static N_INLINE(void, Decref_12801)(TY10602* C_12803) {
NI LOC2;
NIM_BOOL LOC5;
LOC2 = Atomicdec_3006(&(*C_12803).Refcount, 8);
if (!((NU32)(LOC2) < (NU32)(8))) goto LA3;
Rtladdzct_12401(C_12803);
goto LA1;
LA3: ;
LOC5 = Canbecycleroot_11416(C_12803);
if (!LOC5) goto LA6;
Rtladdcycleroot_12052(C_12803);
goto LA1;
LA6: ;
LA1: ;
}
static N_INLINE(void, asgnRef)(void** Dest_13014, void* Src_13015) {
TY10602* LOC4;
TY10602* LOC8;
if (!!((Src_13015 == NIM_NIL))) goto LA2;
LOC4 = Usrtocell_11412(Src_13015);
Incref_13002(LOC4);
LA2: ;
if (!!(((*Dest_13014) == NIM_NIL))) goto LA6;
LOC8 = Usrtocell_11412((*Dest_13014));
Decref_12801(LOC8);
LA6: ;
(*Dest_13014) = Src_13015;
}
N_NIMCALL(TY101002*, Opentransf_188264)(TY51547* Module_188266, NimStringDesc* Filename_188267) {
TY101002* Result_188268;
TY185012* N_188269;
Result_188268 = 0;
N_188269 = 0;
N_188269 = (TY185012*) newObj(NTI185014, sizeof(TY185012));
(*N_188269).Sup.Sup.m_type = NTI185012;
asgnRef((void**) &(*N_188269).Module, Module_188266);
Result_188268 = &N_188269->Sup;
return Result_188268;
}
N_NIMCALL(TY51525*, Transformsym_185102)(TY185012* C_185104, TY51525* N_185105) {
TY51525* Result_185106;
TY51525* B_185107;
TY185010* Tc_185117;
TY51551* LOC15;
Result_185106 = 0;
B_185107 = 0;
if (!!(((*N_185105).Kind == ((NU8) 3)))) goto LA2;
Internalerror_43567((*N_185105).Info, ((NimStringDesc*) &TMP194228));
LA2: ;
Tc_185117 = 0;
Tc_185117 = (*C_185104).Transcon;
if (!(((*(*N_185105).KindU.S4.Sym).Flags &(1<<((((NU8) 29))&31)))!=0)) goto LA5;
B_185107 = (*(*(*N_185105).KindU.S4.Sym).Ast).KindU.S6.Sons->data[4];
if (!!(((*B_185107).Kind == ((NU8) 3)))) goto LA8;
Internalerror_43567((*N_185105).Info, ((NimStringDesc*) &TMP194229));
LA8: ;
B_185107 = Newsymnode_51734((*B_185107).KindU.S4.Sym);
(*B_185107).Info = (*N_185105).Info;
goto LA4;
LA5: ;
B_185107 = N_185105;
LA4: ;
while (1) {
if (!!((Tc_185117 == NIM_NIL))) goto LA10;
Result_185106 = Idnodetableget_55184((*Tc_185117).Mapping, &(*B_185107).KindU.S4.Sym->Sup);
if (!!((Result_185106 == NIM_NIL))) goto LA12;
goto BeforeRet;
LA12: ;
Tc_185117 = (*Tc_185117).Next;
} LA10: ;
Result_185106 = B_185107;
switch ((*(*B_185107).KindU.S4.Sym).Kind) {
case ((NU8) 7):
case ((NU8) 16):
LOC15 = 0;
LOC15 = Skiptypes_93085((*(*B_185107).KindU.S4.Sym).Typ, IL64(47287796087390208));
if (!!(((*LOC15).Kind == ((NU8) 16) || (*LOC15).Kind == ((NU8) 19) || (*LOC15).Kind == ((NU8) 18)))) goto LA16;
Result_185106 = Getconstexpr_109010((*C_185104).Module, B_185107);
if (!(Result_185106 == NIM_NIL)) goto LA19;
Internalerror_43567((*B_185107).Info, ((NimStringDesc*) &TMP194230));
LA19: ;
LA16: ;
break;
default:
break;
}
BeforeRet: ;
return Result_185106;
}
N_NIMCALL(TY51525*, Skipconv_185397)(TY51525* N_185399) {
TY51525* Result_185400;
Result_185400 = 0;
switch ((*N_185399).Kind) {
case ((NU8) 56):
case ((NU8) 55):
case ((NU8) 62):
case ((NU8) 59):
case ((NU8) 57):
case ((NU8) 58):
Result_185400 = (*N_185399).KindU.S6.Sons->data[0];
break;
case ((NU8) 47):
case ((NU8) 48):
case ((NU8) 50):
Result_185400 = (*N_185399).KindU.S6.Sons->data[1];
break;
default:
Result_185400 = N_185399;
break;
}
return Result_185400;
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13018, void* Src_13019) {
TY10602* C_13020;
NI LOC4;
TY10602* C_13022;
NI LOC9;
if (!!((Src_13019 == NIM_NIL))) goto LA2;
C_13020 = 0;
C_13020 = Usrtocell_11412(Src_13019);
LOC4 = Atomicinc_3001(&(*C_13020).Refcount, 8);
LA2: ;
if (!!(((*Dest_13018) == NIM_NIL))) goto LA6;
C_13022 = 0;
C_13022 = Usrtocell_11412((*Dest_13018));
LOC9 = Atomicdec_3006(&(*C_13022).Refcount, 8);
if (!((NU32)(LOC9) < (NU32)(8))) goto LA10;
Rtladdzct_12401(C_13022);
LA10: ;
LA6: ;
(*Dest_13018) = Src_13019;
}
N_NIMCALL(TY51525*, Transformarrayaccess_187480)(TY185012* C_187482, TY51525* N_187483) {
TY51525* Result_187484;
NI I_187540;
NI HEX3Atmp_187566;
NI LOC1;
NI Res_187568;
Result_187484 = 0;
Result_187484 = Copytree_51858(N_187483);
asgnRefNoCycle((void**) &(*Result_187484).KindU.S6.Sons->data[0], Skipconv_185397((*Result_187484).KindU.S6.Sons->data[0]));
asgnRefNoCycle((void**) &(*Result_187484).KindU.S6.Sons->data[1], Skipconv_185397((*Result_187484).KindU.S6.Sons->data[1]));
I_187540 = 0;
HEX3Atmp_187566 = 0;
LOC1 = Sonslen_51803(Result_187484);
HEX3Atmp_187566 = (NI32)(LOC1 - 1);
Res_187568 = 0;
Res_187568 = 0;
while (1) {
if (!(Res_187568 <= HEX3Atmp_187566)) goto LA2;
I_187540 = Res_187568;
asgnRefNoCycle((void**) &(*Result_187484).KindU.S6.Sons->data[I_187540], Transform_185092(C_187482, (*Result_187484).KindU.S6.Sons->data[I_187540]));
Res_187568 += 1;
} LA2: ;
return Result_187484;
}
N_NIMCALL(void, Gathervars_186885)(TY185012* C_186887, TY51525* N_186888, TY51900* Marked_186890, TY51547* Owner_186891, TY51525* Container_186892) {
TY51547* S_186916;
NIM_BOOL Found_186917;
NIM_BOOL LOC5;
NIM_BOOL LOC6;
NIM_BOOL LOC9;
TY51525* LOC12;
NI I_186968;
NI HEX3Atmp_186982;
NI LOC13;
NI Res_186984;
if (!(N_186888 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*N_186888).Kind) {
case ((NU8) 3):
S_186916 = 0;
S_186916 = (*N_186888).KindU.S4.Sym;
Found_186917 = 0;
Found_186917 = NIM_FALSE;
switch ((*S_186916).Kind) {
case ((NU8) 8):
Found_186917 = !((((*S_186916).Flags &(1<<((((NU8) 5))&31)))!=0));
break;
case ((NU8) 5):
case ((NU8) 17):
case ((NU8) 3):
Found_186917 = NIM_TRUE;
break;
default:
break;
}
LOC6 = Found_186917;
if (!(LOC6)) goto LA7;
LOC6 = !(((*Owner_186891).Sup.Id == (*(*S_186916).Owner).Sup.Id));
LA7: ;
LOC5 = LOC6;
if (!(LOC5)) goto LA8;
LOC9 = Intsetcontainsorincl_51928(Marked_186890, (*S_186916).Sup.Id);
LOC5 = !(LOC9);
LA8: ;
if (!LOC5) goto LA10;
(*S_186916).Flags |=(1<<((NI32)(((NU8) 23))%(sizeof(NI32)*8)));
LOC12 = 0;
LOC12 = Copynode_51855(N_186888);
Addson_51823(Container_186892, LOC12);
LA10: ;
break;
case ((NU8) 1) ... ((NU8) 2):
case ((NU8) 4) ... ((NU8) 18):
break;
default:
I_186968 = 0;
HEX3Atmp_186982 = 0;
LOC13 = Sonslen_51803(N_186888);
HEX3Atmp_186982 = (NI32)(LOC13 - 1);
Res_186984 = 0;
Res_186984 = 0;
while (1) {
if (!(Res_186984 <= HEX3Atmp_186982)) goto LA14;
I_186968 = Res_186984;
Gathervars_186885(C_186887, (*N_186888).KindU.S6.Sons->data[I_186968], Marked_186890, Owner_186891, Container_186892);
Res_186984 += 1;
} LA14: ;
break;
}
BeforeRet: ;
}
N_NIMCALL(void, Addformalparam_186987)(TY51547* Routine_186989, TY51547* Param_186990) {
TY51525* LOC1;
Addson_51827((*Routine_186989).Typ, (*Param_186990).Typ);
LOC1 = 0;
LOC1 = Newsymnode_51734(Param_186990);
Addson_51823((*(*Routine_186989).Ast).KindU.S6.Sons->data[2], LOC1);
}
N_NIMCALL(TY185010*, Newtranscon_185021)(void) {
TY185010* Result_185023;
Result_185023 = 0;
Result_185023 = (TY185010*) newObj(NTI185008, sizeof(TY185010));
Initidnodetable_51762(&(*Result_185023).Mapping);
return Result_185023;
}
N_NIMCALL(TY51525*, Indirectaccess_187003)(TY51547* A_187005, TY51547* B_187006) {
TY51525* Result_187007;
TY51525* X_187008;
TY51525* Y_187009;
TY51525* Deref_187010;
Result_187007 = 0;
X_187008 = 0;
X_187008 = Newsymnode_51734(A_187005);
Y_187009 = 0;
Y_187009 = Newsymnode_51734(B_187006);
Deref_187010 = 0;
Deref_187010 = Newnodei_51737(((NU8) 38), (*X_187008).Info);
asgnRef((void**) &(*Deref_187010).Typ, (*(*X_187008).Typ).Sons->data[0]);
Addson_51823(Deref_187010, X_187008);
Result_187007 = Newnodei_51737(((NU8) 36), (*X_187008).Info);
Addson_51823(Result_187007, Deref_187010);
Addson_51823(Result_187007, Y_187009);
asgnRef((void**) &(*Result_187007).Typ, (*Y_187009).Typ);
return Result_187007;
}
N_NIMCALL(void, Pushtranscon_185040)(TY185012* C_185042, TY185010* T_185043) {
asgnRef((void**) &(*T_185043).Next, (*C_185042).Transcon);
asgnRef((void**) &(*C_185042).Transcon, T_185043);
}
N_NIMCALL(void, Poptranscon_185044)(TY185012* C_185046) {
if (!((*C_185046).Transcon == NIM_NIL)) goto LA2;
Internalerror_43571(((NimStringDesc*) &TMP194233));
LA2: ;
asgnRef((void**) &(*C_185046).Transcon, (*(*C_185046).Transcon).Next);
}
N_NIMCALL(TY51525*, Transformlambda_187011)(TY185012* C_187013, TY51525* N_187014) {
TY51525* Result_187015;
TY51900 Marked_187016;
TY51547* S_187063;
TY51525* Closure_187076;
TY51551* Cl_187090;
TY51551* P_187091;
TY51547* Param_187100;
TY50011* LOC4;
NI LOC6;
TY185010* Newc_187103;
NI I_187111;
NI HEX3Atmp_187186;
NI LOC9;
NI Res_187188;
TY51525* LOC11;
Result_187015 = 0;
memset((void*)&Marked_187016, 0, sizeof(Marked_187016));
Result_187015 = N_187014;
Intsetinit_51924(&Marked_187016);
if (!!(((*(*N_187014).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA2;
Internalerror_43567((*N_187014).Info, ((NimStringDesc*) &TMP194231));
LA2: ;
S_187063 = 0;
S_187063 = (*(*N_187014).KindU.S6.Sons->data[0]).KindU.S4.Sym;
Closure_187076 = 0;
Closure_187076 = Newnodei_51737(((NU8) 113), (*(*N_187014).KindU.S6.Sons->data[4]).Info);
Gathervars_186885(C_187013, (*N_187014).KindU.S6.Sons->data[4], &Marked_187016, S_187063, Closure_187076);
Cl_187090 = 0;
Cl_187090 = Newtype_51706(((NU8) 17), S_187063);
asgnRefNoCycle((void**) &(*Cl_187090).N, Closure_187076);
Addson_51827(Cl_187090, NIM_NIL);
P_187091 = 0;
P_187091 = Newtype_51706(((NU8) 22), S_187063);
Addson_51827(P_187091, Cl_187090);
Param_187100 = 0;
LOC4 = 0;
LOC4 = Getident_50016(((NimStringDesc*) &TMP194232));
Param_187100 = Newsym_51701(((NU8) 3), LOC4, S_187063);
asgnRef((void**) &(*Param_187100).Typ, P_187091);
Addformalparam_186987(S_187063, Param_187100);
LOC6 = Sonslen_51803(Closure_187076);
if (!(0 < LOC6)) goto LA7;
Newc_187103 = 0;
Newc_187103 = Newtranscon_185021();
I_187111 = 0;
HEX3Atmp_187186 = 0;
LOC9 = Sonslen_51803(Closure_187076);
HEX3Atmp_187186 = (NI32)(LOC9 - 1);
Res_187188 = 0;
Res_187188 = 0;
while (1) {
if (!(Res_187188 <= HEX3Atmp_187186)) goto LA10;
I_187111 = Res_187188;
LOC11 = 0;
LOC11 = Indirectaccess_187003(Param_187100, (*(*Closure_187076).KindU.S6.Sons->data[I_187111]).KindU.S4.Sym);
Idnodetableput_55188(&(*Newc_187103).Mapping, &(*(*Closure_187076).KindU.S6.Sons->data[I_187111]).KindU.S4.Sym->Sup, LOC11);
Res_187188 += 1;
} LA10: ;
Pushtranscon_185040(C_187013, Newc_187103);
asgnRefNoCycle((void**) &(*N_187014).KindU.S6.Sons->data[4], Transform_185092(C_187013, (*N_187014).KindU.S6.Sons->data[4]));
Poptranscon_185044(C_187013);
LA7: ;
return Result_187015;
}
N_NIMCALL(TY51547*, Getcurrowner_185058)(TY185012* C_185060) {
TY51547* Result_185061;
Result_185061 = 0;
if (!!(((*C_185060).Transcon == NIM_NIL))) goto LA2;
Result_185061 = (*(*C_185060).Transcon).Owner;
goto LA1;
LA2: ;
Result_185061 = (*C_185060).Module;
LA1: ;
return Result_185061;
}
static N_INLINE(void, appendString)(NimStringDesc* Dest_18592, NimStringDesc* Src_18593) {
memcpy(((NCSTRING) (&(*Dest_18592).data[((*Dest_18592).Sup.len)-0])), ((NCSTRING) ((*Src_18593).data)), ((NI32) ((NI32)((NI32)((*Src_18593).Sup.len + 1) * 1))));
(*Dest_18592).Sup.len += (*Src_18593).Sup.len;
}
N_NIMCALL(void, Transformcontinueaux_185267)(TY185012* C_185269, TY51525* N_185270, TY51547* Labl_185271, NI* Counter_185273) {
TY51525* LOC4;
NI I_185319;
NI HEX3Atmp_185333;
NI LOC5;
NI Res_185335;
if (!(N_185270 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*N_185270).Kind) {
case ((NU8) 1) ... ((NU8) 18):
case ((NU8) 84):
case ((NU8) 85):
break;
case ((NU8) 98):
(*N_185270).Kind = ((NU8) 97);
LOC4 = 0;
LOC4 = Newsymnode_51734(Labl_185271);
Addson_51823(N_185270, LOC4);
(*Counter_185273) += 1;
break;
default:
I_185319 = 0;
HEX3Atmp_185333 = 0;
LOC5 = Sonslen_51803(N_185270);
HEX3Atmp_185333 = (NI32)(LOC5 - 1);
Res_185335 = 0;
Res_185335 = 0;
while (1) {
if (!(Res_185335 <= HEX3Atmp_185333)) goto LA6;
I_185319 = Res_185335;
Transformcontinueaux_185267(C_185269, (*N_185270).KindU.S6.Sons->data[I_185319], Labl_185271, Counter_185273);
Res_185335 += 1;
} LA6: ;
break;
}
BeforeRet: ;
}
N_NIMCALL(TY51525*, Transformcontinue_185338)(TY185012* C_185340, TY51525* N_185341) {
TY51525* Result_185342;
NI I_185350;
NI HEX3Atmp_185392;
NI LOC1;
NI Res_185394;
NI Counter_185375;
TY51547* Labl_185376;
TY51547* LOC3;
NimStringDesc* LOC4;
NimStringDesc* LOC5;
TY51525* X_185390;
TY51525* LOC9;
Result_185342 = 0;
Result_185342 = N_185341;
I_185350 = 0;
HEX3Atmp_185392 = 0;
LOC1 = Sonslen_51803(N_185341);
HEX3Atmp_185392 = (NI32)(LOC1 - 1);
Res_185394 = 0;
Res_185394 = 0;
while (1) {
if (!(Res_185394 <= HEX3Atmp_185392)) goto LA2;
I_185350 = Res_185394;
asgnRefNoCycle((void**) &(*Result_185342).KindU.S6.Sons->data[I_185350], Transform_185092(C_185340, (*N_185341).KindU.S6.Sons->data[I_185350]));
Res_185394 += 1;
} LA2: ;
Counter_185375 = 0;
Counter_185375 = 0;
Labl_185376 = 0;
LOC3 = 0;
LOC3 = Getcurrowner_185058(C_185340);
Labl_185376 = Newsym_51701(((NU8) 19), NIM_NIL, LOC3);
LOC4 = 0;
LOC5 = 0;
LOC5 = nimIntToStr((*Labl_185376).Sup.Id);
LOC4 = rawNewString(LOC5->Sup.len + 4);
appendString(LOC4, ((NimStringDesc*) &TMP194235));
appendString(LOC4, LOC5);
asgnRefNoCycle((void**) &(*Labl_185376).Name, Getident_50016(LOC4));
(*Labl_185376).Info = (*Result_185342).Info;
Transformcontinueaux_185267(C_185340, Result_185342, Labl_185376, &Counter_185375);
if (!(0 < Counter_185375)) goto LA7;
X_185390 = 0;
X_185390 = Newnodei_51737(((NU8) 99), (*Result_185342).Info);
LOC9 = 0;
LOC9 = Newsymnode_51734(Labl_185376);
Addson_51823(X_185390, LOC9);
Addson_51823(X_185390, Result_185342);
Result_185342 = X_185390;
LA7: ;
return Result_185342;
}
N_NIMCALL(void, Addvar_185916)(TY51525* Father_185918, TY51525* V_185919) {
TY51525* Vpart_185920;
Vpart_185920 = 0;
Vpart_185920 = Newnodei_51737(((NU8) 25), (*V_185919).Info);
Addson_51823(Vpart_185920, V_185919);
Addson_51823(Vpart_185920, NIM_NIL);
Addson_51823(Vpart_185920, NIM_NIL);
Addson_51823(Father_185918, Vpart_185920);
}
N_NIMCALL(TY51525*, Skippassasopenarray_186491)(TY51525* N_186493) {
TY51525* Result_186494;
Result_186494 = 0;
Result_186494 = N_186493;
while (1) {
if (!((*Result_186494).Kind == ((NU8) 62))) goto LA1;
Result_186494 = (*Result_186494).KindU.S6.Sons->data[0];
} LA1: ;
return Result_186494;
}
N_NIMCALL(NU8, Putarginto_186522)(TY51525* Arg_186524, TY51551* Formal_186525) {
NU8 Result_186526;
TY51551* LOC2;
NI I_186543;
NI HEX3Atmp_186575;
NI LOC5;
NI Res_186577;
NU8 LOC8;
TY51551* LOC12;
Result_186526 = 0;
LOC2 = 0;
LOC2 = Skiptypes_93085(Formal_186525, IL64(47287796087390208));
if (!((*LOC2).Kind == ((NU8) 27))) goto LA3;
Result_186526 = ((NU8) 0);
goto BeforeRet;
LA3: ;
switch ((*Arg_186524).Kind) {
case ((NU8) 1) ... ((NU8) 18):
Result_186526 = ((NU8) 0);
break;
case ((NU8) 30):
case ((NU8) 31):
case ((NU8) 32):
Result_186526 = ((NU8) 1);
I_186543 = 0;
HEX3Atmp_186575 = 0;
LOC5 = Sonslen_51803(Arg_186524);
HEX3Atmp_186575 = (NI32)(LOC5 - 1);
Res_186577 = 0;
Res_186577 = 0;
while (1) {
if (!(Res_186577 <= HEX3Atmp_186575)) goto LA6;
I_186543 = Res_186577;
LOC8 = Putarginto_186522((*Arg_186524).KindU.S6.Sons->data[I_186543], Formal_186525);
if (!!((LOC8 == ((NU8) 0)))) goto LA9;
goto BeforeRet;
LA9: ;
Res_186577 += 1;
} LA6: ;
Result_186526 = ((NU8) 0);
break;
default:
LOC12 = 0;
LOC12 = Skiptypes_93085(Formal_186525, IL64(47287796087390208));
if (!((*LOC12).Kind == ((NU8) 23))) goto LA13;
Result_186526 = ((NU8) 2);
goto LA11;
LA13: ;
Result_186526 = ((NU8) 1);
LA11: ;
break;
}
BeforeRet: ;
return Result_186526;
}
N_NIMCALL(TY51547*, Newtemp_185073)(TY185012* C_185075, TY51551* Typ_185076, TY43532 Info_185077) {
TY51547* Result_185078;
TY50011* LOC1;
TY51547* LOC2;
Result_185078 = 0;
LOC1 = 0;
LOC1 = Getident_50016(((NimStringDesc*) &TMP194235));
LOC2 = 0;
LOC2 = Getcurrowner_185058(C_185075);
Result_185078 = Newsym_51701(((NU8) 5), LOC1, LOC2);
(*Result_185078).Info = Info_185077;
asgnRef((void**) &(*Result_185078).Typ, Skiptypes_93085(Typ_185076, IL64(2251799813685248)));
(*Result_185078).Flags |=(1<<((NI32)(((NU8) 4))%(sizeof(NI32)*8)));
return Result_185078;
}
N_NIMCALL(TY51525*, Newasgnstmt_185096)(TY185012* C_185098, TY51525* Le_185099, TY51525* Ri_185100) {
TY51525* Result_185101;
Result_185101 = 0;
Result_185101 = Newnodei_51737(((NU8) 64), (*Ri_185100).Info);
Addson_51823(Result_185101, Le_185099);
Addson_51823(Result_185101, Ri_185100);
return Result_185101;
}
N_NIMCALL(TY51525*, Newtupleaccess_185425)(TY51525* Tup_185427, NI I_185428) {
TY51525* Result_185429;
TY51525* LOC1;
TY51525* Lit_185430;
TY51551* LOC2;
Result_185429 = 0;
Result_185429 = Newnodeit_51741(((NU8) 33), (*Tup_185427).Info, (*(*Tup_185427).Typ).Sons->data[I_185428]);
LOC1 = 0;
LOC1 = Copytree_51858(Tup_185427);
Addson_51823(Result_185429, LOC1);
Lit_185430 = 0;
LOC2 = 0;
LOC2 = Getsystype_98008(((NU8) 31));
Lit_185430 = Newnodeit_51741(((NU8) 6), (*Tup_185427).Info, LOC2);
(*Lit_185430).KindU.S1.Intval = ((NI64) (I_185428));
Addson_51823(Result_185429, Lit_185430);
return Result_185429;
}
N_NIMCALL(void, Unpacktuple_185443)(TY185012* C_185445, TY51525* N_185446, TY51525* Father_185447) {
NI I_185455;
NI HEX3Atmp_185469;
NI LOC1;
NI Res_185471;
TY51525* LOC3;
TY51525* LOC4;
TY51525* LOC5;
I_185455 = 0;
HEX3Atmp_185469 = 0;
LOC1 = Sonslen_51803((*(*C_185445).Transcon).Forstmt);
HEX3Atmp_185469 = (NI32)(LOC1 - 3);
Res_185471 = 0;
Res_185471 = 0;
while (1) {
if (!(Res_185471 <= HEX3Atmp_185469)) goto LA2;
I_185455 = Res_185471;
LOC3 = 0;
LOC3 = Newtupleaccess_185425(N_185446, I_185455);
LOC4 = 0;
LOC4 = Transform_185092(C_185445, LOC3);
LOC5 = 0;
LOC5 = Newasgnstmt_185096(C_185445, (*(*(*C_185445).Transcon).Forstmt).KindU.S6.Sons->data[I_185455], LOC4);
Addson_51823(Father_185447, LOC5);
Res_185471 += 1;
} LA2: ;
}
N_NIMCALL(TY51525*, Transformyield_185474)(TY185012* C_185476, TY51525* N_185477) {
TY51525* Result_185478;
TY51525* E_185491;
TY51551* LOC2;
NI I_185518;
NI HEX3Atmp_185556;
NI LOC8;
NI Res_185558;
TY51525* LOC10;
TY51525* LOC11;
TY51525* LOC12;
TY51525* LOC13;
TY51525* LOC14;
TY51525* LOC15;
TY51525* LOC16;
Result_185478 = 0;
Result_185478 = Newnodei_51737(((NU8) 101), (*N_185477).Info);
E_185491 = 0;
E_185491 = (*N_185477).KindU.S6.Sons->data[0];
LOC2 = 0;
LOC2 = Skiptypes_93085((*E_185491).Typ, IL64(2251799813685248));
if (!((*LOC2).Kind == ((NU8) 18))) goto LA3;
E_185491 = Skipconv_185397(E_185491);
if (!((*E_185491).Kind == ((NU8) 30))) goto LA6;
I_185518 = 0;
HEX3Atmp_185556 = 0;
LOC8 = Sonslen_51803(E_185491);
HEX3Atmp_185556 = (NI32)(LOC8 - 1);
Res_185558 = 0;
Res_185558 = 0;
while (1) {
if (!(Res_185558 <= HEX3Atmp_185556)) goto LA9;
I_185518 = Res_185558;
LOC10 = 0;
LOC10 = Copytree_51858((*E_185491).KindU.S6.Sons->data[I_185518]);
LOC11 = 0;
LOC11 = Transform_185092(C_185476, LOC10);
LOC12 = 0;
LOC12 = Newasgnstmt_185096(C_185476, (*(*(*C_185476).Transcon).Forstmt).KindU.S6.Sons->data[I_185518], LOC11);
Addson_51823(Result_185478, LOC12);
Res_185558 += 1;
} LA9: ;
goto LA5;
LA6: ;
Unpacktuple_185443(C_185476, E_185491, Result_185478);
LA5: ;
goto LA1;
LA3: ;
LOC13 = 0;
LOC13 = Copytree_51858(E_185491);
E_185491 = Transform_185092(C_185476, LOC13);
LOC14 = 0;
LOC14 = Newasgnstmt_185096(C_185476, (*(*(*C_185476).Transcon).Forstmt).KindU.S6.Sons->data[0], E_185491);
Addson_51823(Result_185478, LOC14);
LA1: ;
LOC15 = 0;
LOC15 = Lastson_51809((*(*C_185476).Transcon).Forstmt);
LOC16 = 0;
LOC16 = Transform_185092(C_185476, LOC15);
Addson_51823(Result_185478, LOC16);
return Result_185478;
}
N_NIMCALL(TY51525*, Inlineiter_185561)(TY185012* C_185563, TY51525* N_185564) {
TY51525* Result_185565;
TY51525* LOC4;
NI I_185584;
NI HEX3Atmp_185901;
NI LOC5;
NI Res_185903;
TY51525* It_185597;
TY51547* Newvar_185661;
TY51525* LOC17;
NI L_185744;
NI J_185752;
NI HEX3Atmp_185895;
NI Res_185897;
TY51547* Newvar_185777;
TY51525* LOC22;
NI I_185881;
NI HEX3Atmp_185911;
NI LOC23;
NI Res_185913;
TY51525* LOC25;
Result_185565 = 0;
Result_185565 = N_185564;
if (!(N_185564 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*N_185564).Kind) {
case ((NU8) 1) ... ((NU8) 18):
LOC4 = 0;
LOC4 = Copytree_51858(N_185564);
Result_185565 = Transform_185092(C_185563, LOC4);
break;
case ((NU8) 92):
Result_185565 = Transformyield_185474(C_185563, N_185564);
break;
case ((NU8) 87):
Result_185565 = Copytree_51858(N_185564);
I_185584 = 0;
HEX3Atmp_185901 = 0;
LOC5 = Sonslen_51803(Result_185565);
HEX3Atmp_185901 = (NI32)(LOC5 - 1);
Res_185903 = 0;
Res_185903 = 0;
while (1) {
if (!(Res_185903 <= HEX3Atmp_185901)) goto LA6;
I_185584 = Res_185903;
It_185597 = 0;
It_185597 = (*Result_185565).KindU.S6.Sons->data[I_185584];
if (!((*It_185597).Kind == ((NU8) 105))) goto LA9;
goto LA7;
LA9: ;
if (!((*It_185597).Kind == ((NU8) 25))) goto LA12;
if (!!(((*(*It_185597).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA15;
Internalerror_43567((*It_185597).Info, ((NimStringDesc*) &TMP194237));
LA15: ;
Newvar_185661 = 0;
Newvar_185661 = Copysym_51775((*(*It_185597).KindU.S6.Sons->data[0]).KindU.S4.Sym, NIM_FALSE);
(*Newvar_185661).Flags |=(1<<((NI32)(((NU8) 4))%(sizeof(NI32)*8)));
asgnRef((void**) &(*Newvar_185661).Owner, Getcurrowner_185058(C_185563));
LOC17 = 0;
LOC17 = Newsymnode_51734(Newvar_185661);
Idnodetableput_55188(&(*(*C_185563).Transcon).Mapping, &(*(*It_185597).KindU.S6.Sons->data[0]).KindU.S4.Sym->Sup, LOC17);
asgnRefNoCycle((void**) &(*It_185597).KindU.S6.Sons->data[0], Newsymnode_51734(Newvar_185661));
asgnRefNoCycle((void**) &(*It_185597).KindU.S6.Sons->data[2], Transform_185092(C_185563, (*It_185597).KindU.S6.Sons->data[2]));
goto LA11;
LA12: ;
if (!!(((*It_185597).Kind == ((NU8) 26)))) goto LA19;
Internalerror_43567((*It_185597).Info, ((NimStringDesc*) &TMP194238));
LA19: ;
L_185744 = 0;
L_185744 = Sonslen_51803(It_185597);
J_185752 = 0;
HEX3Atmp_185895 = 0;
HEX3Atmp_185895 = (NI32)(L_185744 - 3);
Res_185897 = 0;
Res_185897 = 0;
while (1) {
if (!(Res_185897 <= HEX3Atmp_185895)) goto LA21;
J_185752 = Res_185897;
Newvar_185777 = 0;
Newvar_185777 = Copysym_51775((*(*It_185597).KindU.S6.Sons->data[J_185752]).KindU.S4.Sym, NIM_FALSE);
(*Newvar_185777).Flags |=(1<<((NI32)(((NU8) 4))%(sizeof(NI32)*8)));
asgnRef((void**) &(*Newvar_185777).Owner, Getcurrowner_185058(C_185563));
LOC22 = 0;
LOC22 = Newsymnode_51734(Newvar_185777);
Idnodetableput_55188(&(*(*C_185563).Transcon).Mapping, &(*(*It_185597).KindU.S6.Sons->data[J_185752]).KindU.S4.Sym->Sup, LOC22);
asgnRefNoCycle((void**) &(*It_185597).KindU.S6.Sons->data[J_185752], Newsymnode_51734(Newvar_185777));
Res_185897 += 1;
} LA21: ;
asgnRefNoCycle((void**) &(*It_185597).KindU.S6.Sons->data[(NI32)(L_185744 - 1)], Transform_185092(C_185563, (*It_185597).KindU.S6.Sons->data[(NI32)(L_185744 - 1)]));
LA11: ;
LA7: ;
Res_185903 += 1;
} LA6: ;
break;
default:
Result_185565 = Copynode_51855(N_185564);
I_185881 = 0;
HEX3Atmp_185911 = 0;
LOC23 = Sonslen_51803(N_185564);
HEX3Atmp_185911 = (NI32)(LOC23 - 1);
Res_185913 = 0;
Res_185913 = 0;
while (1) {
if (!(Res_185913 <= HEX3Atmp_185911)) goto LA24;
I_185881 = Res_185913;
LOC25 = 0;
LOC25 = Inlineiter_185561(C_185563, (*N_185564).KindU.S6.Sons->data[I_185881]);
Addson_51823(Result_185565, LOC25);
Res_185913 += 1;
} LA24: ;
Result_185565 = Transform_185092(C_185563, Result_185565);
break;
}
BeforeRet: ;
return Result_185565;
}
N_NIMCALL(TY51525*, Transformfor_186580)(TY185012* C_186582, TY51525* N_186583) {
TY51525* Result_186584;
NI Length_186594;
TY51525* V_186619;
NI I_186627;
NI HEX3Atmp_186789;
NI Res_186791;
TY51525* LOC5;
TY185010* Newc_186640;
TY51525* Call_186653;
NIM_BOOL LOC7;
NI I_186724;
NI HEX3Atmp_186795;
NI LOC14;
NI Res_186797;
TY51525* Arg_186737;
TY51525* LOC16;
TY51547* Formal_186762;
TY51551* LOC17;
NU8 LOC18;
TY51547* Temp_186764;
TY51525* LOC19;
TY51525* LOC20;
TY51525* LOC21;
TY51525* LOC22;
TY51525* Body_186787;
TY51525* LOC23;
Result_186584 = 0;
if (!!(((*N_186583).Kind == ((NU8) 84)))) goto LA2;
Internalerror_43567((*N_186583).Info, ((NimStringDesc*) &TMP194234));
LA2: ;
Result_186584 = Newnodei_51737(((NU8) 101), (*N_186583).Info);
Length_186594 = 0;
Length_186594 = Sonslen_51803(N_186583);
asgnRefNoCycle((void**) &(*N_186583).KindU.S6.Sons->data[(NI32)(Length_186594 - 1)], Transformcontinue_185338(C_186582, (*N_186583).KindU.S6.Sons->data[(NI32)(Length_186594 - 1)]));
V_186619 = 0;
V_186619 = Newnodei_51737(((NU8) 87), (*N_186583).Info);
I_186627 = 0;
HEX3Atmp_186789 = 0;
HEX3Atmp_186789 = (NI32)(Length_186594 - 3);
Res_186791 = 0;
Res_186791 = 0;
while (1) {
if (!(Res_186791 <= HEX3Atmp_186789)) goto LA4;
I_186627 = Res_186791;
LOC5 = 0;
LOC5 = Copytree_51858((*N_186583).KindU.S6.Sons->data[I_186627]);
Addvar_185916(V_186619, LOC5);
Res_186791 += 1;
} LA4: ;
Addson_51823(Result_186584, V_186619);
Newc_186640 = 0;
Newc_186640 = Newtranscon_185021();
Call_186653 = 0;
Call_186653 = (*N_186583).KindU.S6.Sons->data[(NI32)(Length_186594 - 2)];
LOC7 = !(((*Call_186653).Kind == ((NU8) 21)));
if (LOC7) goto LA8;
LOC7 = !(((*(*Call_186653).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)));
LA8: ;
if (!LOC7) goto LA9;
Internalerror_43567((*Call_186653).Info, ((NimStringDesc*) &TMP194234));
LA9: ;
asgnRef((void**) &(*Newc_186640).Owner, (*(*Call_186653).KindU.S6.Sons->data[0]).KindU.S4.Sym);
asgnRefNoCycle((void**) &(*Newc_186640).Forstmt, N_186583);
if (!!(((*(*Newc_186640).Owner).Kind == ((NU8) 11)))) goto LA12;
Internalerror_43567((*Call_186653).Info, ((NimStringDesc*) &TMP194234));
LA12: ;
Pushtranscon_185040(C_186582, Newc_186640);
I_186724 = 0;
HEX3Atmp_186795 = 0;
LOC14 = Sonslen_51803(Call_186653);
HEX3Atmp_186795 = (NI32)(LOC14 - 1);
Res_186797 = 0;
Res_186797 = 1;
while (1) {
if (!(Res_186797 <= HEX3Atmp_186795)) goto LA15;
I_186724 = Res_186797;
Arg_186737 = 0;
LOC16 = 0;
LOC16 = Transform_185092(C_186582, (*Call_186653).KindU.S6.Sons->data[I_186724]);
Arg_186737 = Skippassasopenarray_186491(LOC16);
Formal_186762 = 0;
LOC17 = 0;
LOC17 = Skiptypes_93085((*(*Newc_186640).Owner).Typ, IL64(47287796087390208));
Formal_186762 = (*(*(*LOC17).N).KindU.S6.Sons->data[I_186724]).KindU.S4.Sym;
LOC18 = Putarginto_186522(Arg_186737, (*Formal_186762).Typ);
switch (LOC18) {
case ((NU8) 0):
Idnodetableput_55188(&(*Newc_186640).Mapping, &Formal_186762->Sup, Arg_186737);
break;
case ((NU8) 1):
Temp_186764 = 0;
Temp_186764 = Newtemp_185073(C_186582, (*Formal_186762).Typ, (*Formal_186762).Info);
LOC19 = 0;
LOC19 = Newsymnode_51734(Temp_186764);
Addvar_185916(V_186619, LOC19);
LOC20 = 0;
LOC20 = Newsymnode_51734(Temp_186764);
LOC21 = 0;
LOC21 = Newasgnstmt_185096(C_186582, LOC20, Arg_186737);
Addson_51823(Result_186584, LOC21);
LOC22 = 0;
LOC22 = Newsymnode_51734(Temp_186764);
Idnodetableput_55188(&(*Newc_186640).Mapping, &Formal_186762->Sup, LOC22);
break;
case ((NU8) 2):
Internalerror_43567((*Arg_186737).Info, ((NimStringDesc*) &TMP194236));
break;
}
Res_186797 += 1;
} LA15: ;
Body_186787 = 0;
Body_186787 = (*(*(*Newc_186640).Owner).Ast).KindU.S6.Sons->data[4];
Pushinfocontext_43606((*N_186583).Info);
LOC23 = 0;
LOC23 = Inlineiter_185561(C_186582, Body_186787);
Addson_51823(Result_186584, LOC23);
Popinfocontext_43609();
Poptranscon_185044(C_186582);
return Result_186584;
}
N_NIMCALL(TY51525*, Transformcase_187191)(TY185012* C_187193, TY51525* N_187194) {
TY51525* Result_187195;
NI Length_187196;
NI I_187197;
TY51525* Ifs_187330;
TY51525* Elsen_187331;
NI J_187339;
NI HEX3Atmp_187468;
NI HEX3Atmp_187469;
NI Res_187471;
NIM_BOOL LOC12;
TY51551* LOC14;
TY51525* Elsen_187433;
TY51525* LOC17;
NI J_187441;
NI HEX3Atmp_187475;
NI LOC18;
NI Res_187477;
Result_187195 = 0;
Length_187196 = 0;
Length_187196 = Sonslen_51803(N_187194);
I_187197 = 0;
I_187197 = (NI32)(Length_187196 - 1);
if (!((*(*N_187194).KindU.S6.Sons->data[I_187197]).Kind == ((NU8) 78))) goto LA2;
I_187197 -= 1;
LA2: ;
if (!((*(*N_187194).KindU.S6.Sons->data[I_187197]).Kind == ((NU8) 76))) goto LA5;
while (1) {
if (!((*(*N_187194).KindU.S6.Sons->data[I_187197]).Kind == ((NU8) 76))) goto LA7;
I_187197 -= 1;
} LA7: ;
if (!!(((*(*N_187194).KindU.S6.Sons->data[I_187197]).Kind == ((NU8) 75)))) goto LA9;
Internalerror_43567((*(*N_187194).KindU.S6.Sons->data[I_187197]).Info, ((NimStringDesc*) &TMP194239));
LA9: ;
Ifs_187330 = 0;
Ifs_187330 = Newnodei_51737(((NU8) 82), (*(*N_187194).KindU.S6.Sons->data[(NI32)(I_187197 + 1)]).Info);
Elsen_187331 = 0;
Elsen_187331 = Newnodei_51737(((NU8) 78), (*Ifs_187330).Info);
J_187339 = 0;
HEX3Atmp_187468 = 0;
HEX3Atmp_187469 = 0;
HEX3Atmp_187468 = (NI32)(I_187197 + 1);
HEX3Atmp_187469 = (NI32)(Length_187196 - 1);
Res_187471 = 0;
Res_187471 = HEX3Atmp_187468;
while (1) {
if (!(Res_187471 <= HEX3Atmp_187469)) goto LA11;
J_187339 = Res_187471;
Addson_51823(Ifs_187330, (*N_187194).KindU.S6.Sons->data[J_187339]);
Res_187471 += 1;
} LA11: ;
(*N_187194).KindU.S6.Sons = (TY51519*) setLengthSeq(&((*N_187194).KindU.S6.Sons)->Sup, sizeof(TY51525*), (NI32)(I_187197 + 2));
Addson_51823(Elsen_187331, Ifs_187330);
asgnRefNoCycle((void**) &(*N_187194).KindU.S6.Sons->data[(NI32)(I_187197 + 1)], Elsen_187331);
goto LA4;
LA5: ;
LOC12 = !(((*(*N_187194).KindU.S6.Sons->data[(NI32)(Length_187196 - 1)]).Kind == ((NU8) 78)));
if (!(LOC12)) goto LA13;
LOC14 = 0;
LOC14 = Skiptypes_93085((*(*N_187194).KindU.S6.Sons->data[0]).Typ, IL64(47446125761789952));
LOC12 = !(((*LOC14).Kind >= ((NU8) 31) && (*LOC14).Kind <= ((NU8) 35) || (*LOC14).Kind == ((NU8) 2) || (*LOC14).Kind == ((NU8) 14)));
LA13: ;
if (!LOC12) goto LA15;
Elsen_187433 = 0;
Elsen_187433 = Newnodei_51737(((NU8) 78), (*N_187194).Info);
LOC17 = 0;
LOC17 = Newnodei_51737(((NU8) 18), (*N_187194).Info);
Addson_51823(Elsen_187433, LOC17);
Addson_51823(N_187194, Elsen_187433);
goto LA4;
LA15: ;
LA4: ;
Result_187195 = N_187194;
J_187441 = 0;
HEX3Atmp_187475 = 0;
LOC18 = Sonslen_51803(N_187194);
HEX3Atmp_187475 = (NI32)(LOC18 - 1);
Res_187477 = 0;
Res_187477 = 0;
while (1) {
if (!(Res_187477 <= HEX3Atmp_187475)) goto LA19;
J_187441 = Res_187477;
asgnRefNoCycle((void**) &(*Result_187195).KindU.S6.Sons->data[J_187441], Transform_185092(C_187193, (*N_187194).KindU.S6.Sons->data[J_187441]));
Res_187477 += 1;
} LA19: ;
return Result_187195;
}
N_NIMCALL(TY51547*, Getmergeop_187571)(TY51525* N_187573) {
TY51547* Result_187574;
NIM_BOOL LOC2;
NIM_BOOL LOC3;
Result_187574 = 0;
Result_187574 = NIM_NIL;
switch ((*N_187573).Kind) {
case ((NU8) 21):
case ((NU8) 49):
case ((NU8) 20):
case ((NU8) 27):
case ((NU8) 28):
case ((NU8) 29):
case ((NU8) 22):
LOC3 = ((*(*N_187573).KindU.S6.Sons->data[0]).Kind == ((NU8) 3));
if (!(LOC3)) goto LA4;
LOC3 = ((*(*(*N_187573).KindU.S6.Sons->data[0]).KindU.S4.Sym).Kind == ((NU8) 9));
LA4: ;
LOC2 = LOC3;
if (!(LOC2)) goto LA5;
LOC2 = (((*(*(*N_187573).KindU.S6.Sons->data[0]).KindU.S4.Sym).Flags &(1<<((((NU8) 27))&31)))!=0);
LA5: ;
if (!LOC2) goto LA6;
Result_187574 = (*(*N_187573).KindU.S6.Sons->data[0]).KindU.S4.Sym;
LA6: ;
break;
default:
break;
}
return Result_187574;
}
N_NIMCALL(void, Flattentreeaux_187688)(TY51525* D_187690, TY51525* A_187691, TY51547* Op_187692) {
TY51547* Op2_187693;
NIM_BOOL LOC2;
NIM_BOOL LOC4;
NIM_BOOL LOC6;
NI I_187732;
NI HEX3Atmp_187746;
NI LOC10;
NI Res_187748;
TY51525* LOC12;
Op2_187693 = 0;
Op2_187693 = Getmergeop_187571(A_187691);
LOC2 = !((Op2_187693 == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC4 = ((*Op2_187693).Sup.Id == (*Op_187692).Sup.Id);
if (LOC4) goto LA5;
LOC6 = !(((*Op_187692).Magic == ((NU8) 0)));
if (!(LOC6)) goto LA7;
LOC6 = ((*Op2_187693).Magic == (*Op_187692).Magic);
LA7: ;
LOC4 = LOC6;
LA5: ;
LOC2 = LOC4;
LA3: ;
if (!LOC2) goto LA8;
I_187732 = 0;
HEX3Atmp_187746 = 0;
LOC10 = Sonslen_51803(A_187691);
HEX3Atmp_187746 = (NI32)(LOC10 - 1);
Res_187748 = 0;
Res_187748 = 1;
while (1) {
if (!(Res_187748 <= HEX3Atmp_187746)) goto LA11;
I_187732 = Res_187748;
Flattentreeaux_187688(D_187690, (*A_187691).KindU.S6.Sons->data[I_187732], Op_187692);
Res_187748 += 1;
} LA11: ;
goto LA1;
LA8: ;
LOC12 = 0;
LOC12 = Copytree_51858(A_187691);
Addson_51823(D_187690, LOC12);
LA1: ;
}
N_NIMCALL(TY51525*, Flattentree_187751)(TY51525* Root_187753) {
TY51525* Result_187754;
TY51547* Op_187755;
TY51525* LOC4;
Result_187754 = 0;
Op_187755 = 0;
Op_187755 = Getmergeop_187571(Root_187753);
if (!!((Op_187755 == NIM_NIL))) goto LA2;
Result_187754 = Copynode_51855(Root_187753);
LOC4 = 0;
LOC4 = Copytree_51858((*Root_187753).KindU.S6.Sons->data[0]);
Addson_51823(Result_187754, LOC4);
Flattentreeaux_187688(Result_187754, Root_187753, Op_187755);
goto LA1;
LA2: ;
Result_187754 = Root_187753;
LA1: ;
return Result_187754;
}
N_NIMCALL(TY51525*, Transformcall_187779)(TY185012* C_187781, TY51525* N_187782) {
TY51525* Result_187783;
NI I_187791;
NI HEX3Atmp_187987;
NI LOC1;
NI Res_187989;
TY51547* Op_187816;
NIM_BOOL LOC4;
NIM_BOOL LOC5;
NI LOC8;
TY51525* M_187839;
TY51525* LOC11;
NI J_187852;
NI LOC13;
TY51525* A_187867;
NIM_BOOL LOC15;
NIM_BOOL LOC19;
NI LOC20;
NI LOC23;
NIM_BOOL LOC26;
Result_187783 = 0;
Result_187783 = Flattentree_187751(N_187782);
I_187791 = 0;
HEX3Atmp_187987 = 0;
LOC1 = Sonslen_51803(Result_187783);
HEX3Atmp_187987 = (NI32)(LOC1 - 1);
Res_187989 = 0;
Res_187989 = 0;
while (1) {
if (!(Res_187989 <= HEX3Atmp_187987)) goto LA2;
I_187791 = Res_187989;
asgnRefNoCycle((void**) &(*Result_187783).KindU.S6.Sons->data[I_187791], Transform_185092(C_187781, (*Result_187783).KindU.S6.Sons->data[I_187791]));
Res_187989 += 1;
} LA2: ;
Op_187816 = 0;
Op_187816 = Getmergeop_187571(Result_187783);
LOC5 = !((Op_187816 == NIM_NIL));
if (!(LOC5)) goto LA6;
LOC5 = !(((*Op_187816).Magic == ((NU8) 0)));
LA6: ;
LOC4 = LOC5;
if (!(LOC4)) goto LA7;
LOC8 = Sonslen_51803(Result_187783);
LOC4 = (3 <= LOC8);
LA7: ;
if (!LOC4) goto LA9;
M_187839 = 0;
M_187839 = Result_187783;
Result_187783 = Newnodeit_51741(((NU8) 21), (*M_187839).Info, (*M_187839).Typ);
LOC11 = 0;
LOC11 = Copytree_51858((*M_187839).KindU.S6.Sons->data[0]);
Addson_51823(Result_187783, LOC11);
J_187852 = 0;
J_187852 = 1;
while (1) {
LOC13 = Sonslen_51803(M_187839);
if (!(J_187852 < LOC13)) goto LA12;
A_187867 = 0;
A_187867 = (*M_187839).KindU.S6.Sons->data[J_187852];
J_187852 += 1;
LOC15 = Isconstexpr_92016(A_187867);
if (!LOC15) goto LA16;
while (1) {
LOC20 = Sonslen_51803(M_187839);
LOC19 = (J_187852 < LOC20);
if (!(LOC19)) goto LA21;
LOC19 = Isconstexpr_92016((*M_187839).KindU.S6.Sons->data[J_187852]);
LA21: ;
if (!LOC19) goto LA18;
A_187867 = Evalop_109014((*Op_187816).Magic, M_187839, A_187867, (*M_187839).KindU.S6.Sons->data[J_187852], NIM_NIL);
J_187852 += 1;
} LA18: ;
LA16: ;
Addson_51823(Result_187783, A_187867);
} LA12: ;
LOC23 = Sonslen_51803(Result_187783);
if (!(LOC23 == 2)) goto LA24;
Result_187783 = (*Result_187783).KindU.S6.Sons->data[1];
LA24: ;
goto LA3;
LA9: ;
LOC26 = ((*(*Result_187783).KindU.S6.Sons->data[0]).Kind == ((NU8) 3));
if (!(LOC26)) goto LA27;
LOC26 = ((*(*(*Result_187783).KindU.S6.Sons->data[0]).KindU.S4.Sym).Kind == ((NU8) 10));
LA27: ;
if (!LOC26) goto LA28;
Result_187783 = Methodcall_155007(Result_187783);
goto LA3;
LA28: ;
LA3: ;
return Result_187783;
}
N_NIMCALL(TY51525*, Transformaddrderef_185921)(TY185012* C_185923, TY51525* N_185924, NU8 A_185925, NU8 B_185926) {
TY51525* Result_185927;
TY51525* M_185964;
NIM_BOOL LOC2;
TY51525* M_186055;
NIM_BOOL LOC7;
NIM_BOOL LOC12;
Result_185927 = 0;
switch ((*(*N_185924).KindU.S6.Sons->data[0]).Kind) {
case ((NU8) 56):
case ((NU8) 55):
case ((NU8) 62):
case ((NU8) 59):
case ((NU8) 57):
case ((NU8) 58):
M_185964 = 0;
M_185964 = (*(*N_185924).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[0];
LOC2 = ((*M_185964).Kind == A_185925);
if (LOC2) goto LA3;
LOC2 = ((*M_185964).Kind == B_185926);
LA3: ;
if (!LOC2) goto LA4;
asgnRefNoCycle((void**) &(*(*N_185924).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[0], (*M_185964).KindU.S6.Sons->data[0]);
Result_185927 = Transform_185092(C_185923, (*N_185924).KindU.S6.Sons->data[0]);
goto BeforeRet;
LA4: ;
break;
case ((NU8) 47):
case ((NU8) 48):
case ((NU8) 50):
M_186055 = 0;
M_186055 = (*(*N_185924).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[1];
LOC7 = ((*M_186055).Kind == A_185925);
if (LOC7) goto LA8;
LOC7 = ((*M_186055).Kind == B_185926);
LA8: ;
if (!LOC7) goto LA9;
asgnRefNoCycle((void**) &(*(*N_185924).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[1], (*M_186055).KindU.S6.Sons->data[0]);
Result_185927 = Transform_185092(C_185923, (*N_185924).KindU.S6.Sons->data[0]);
goto BeforeRet;
LA9: ;
break;
default:
LOC12 = ((*(*N_185924).KindU.S6.Sons->data[0]).Kind == A_185925);
if (LOC12) goto LA13;
LOC12 = ((*(*N_185924).KindU.S6.Sons->data[0]).Kind == B_185926);
LA13: ;
if (!LOC12) goto LA14;
Result_185927 = Transform_185092(C_185923, (*(*N_185924).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[0]);
goto BeforeRet;
LA14: ;
break;
}
asgnRefNoCycle((void**) &(*N_185924).KindU.S6.Sons->data[0], Transform_185092(C_185923, (*N_185924).KindU.S6.Sons->data[0]));
Result_185927 = N_185924;
BeforeRet: ;
return Result_185927;
}
N_NIMCALL(TY51525*, Transformconv_186212)(TY185012* C_186214, TY51525* N_186215) {
TY51525* Result_186216;
TY51551* Dest_186241;
TY51551* Source_186254;
NIM_BOOL LOC2;
NIM_BOOL LOC5;
NI64 LOC6;
NI64 LOC7;
NI64 LOC9;
NI64 LOC10;
NIM_BOOL LOC14;
NI64 LOC18;
TY51525* LOC19;
NI64 LOC20;
TY51525* LOC21;
TY51551* LOC23;
TY51525* LOC26;
TY51525* LOC27;
NI Diff_186397;
NI Diff_186438;
Result_186216 = 0;
asgnRefNoCycle((void**) &(*N_186215).KindU.S6.Sons->data[1], Transform_185092(C_186214, (*N_186215).KindU.S6.Sons->data[1]));
Result_186216 = N_186215;
Dest_186241 = 0;
Dest_186241 = Skiptypes_93085((*N_186215).Typ, IL64(47446125761789952));
Source_186254 = 0;
Source_186254 = Skiptypes_93085((*(*N_186215).KindU.S6.Sons->data[1]).Typ, IL64(47446125761789952));
switch ((*Dest_186241).Kind) {
case ((NU8) 31) ... ((NU8) 35):
case ((NU8) 14):
case ((NU8) 2):
case ((NU8) 1):
LOC2 = Isordinaltype_93069(Source_186254);
if (!!(LOC2)) goto LA3;
Result_186216 = N_186215;
goto LA1;
LA3: ;
LOC6 = Firstord_93001(Dest_186241);
LOC7 = Firstord_93001(Source_186254);
LOC5 = (LOC6 <= LOC7);
if (!(LOC5)) goto LA8;
LOC9 = Lastord_93004(Source_186254);
LOC10 = Lastord_93004(Dest_186241);
LOC5 = (LOC9 <= LOC10);
LA8: ;
if (!LOC5) goto LA11;
Result_186216 = N_186215;
goto LA1;
LA11: ;
LOC14 = ((*Dest_186241).Kind == ((NU8) 35));
if (LOC14) goto LA15;
LOC14 = ((*Source_186254).Kind == ((NU8) 35));
LA15: ;
if (!LOC14) goto LA16;
Result_186216 = Newnodeit_51741(((NU8) 58), (*N_186215).Info, (*N_186215).Typ);
goto LA13;
LA16: ;
Result_186216 = Newnodeit_51741(((NU8) 59), (*N_186215).Info, (*N_186215).Typ);
LA13: ;
Dest_186241 = Skiptypes_93085((*N_186215).Typ, IL64(47428533575745536));
Addson_51823(Result_186216, (*N_186215).KindU.S6.Sons->data[1]);
LOC18 = Firstord_93001(Dest_186241);
LOC19 = 0;
LOC19 = Newinttypenode_51717(((NU8) 6), LOC18, Source_186254);
Addson_51823(Result_186216, LOC19);
LOC20 = Lastord_93004(Dest_186241);
LOC21 = 0;
LOC21 = Newinttypenode_51717(((NU8) 6), LOC20, Source_186254);
Addson_51823(Result_186216, LOC21);
LA1: ;
break;
case ((NU8) 36) ... ((NU8) 39):
LOC23 = 0;
LOC23 = Skiptypes_93085((*N_186215).Typ, IL64(47428533575745536));
if (!((*LOC23).Kind == ((NU8) 20))) goto LA24;
Result_186216 = Newnodeit_51741(((NU8) 57), (*N_186215).Info, (*N_186215).Typ);
Dest_186241 = Skiptypes_93085((*N_186215).Typ, IL64(47428533575745536));
Addson_51823(Result_186216, (*N_186215).KindU.S6.Sons->data[1]);
LOC26 = 0;
LOC26 = Copytree_51858((*(*Dest_186241).N).KindU.S6.Sons->data[0]);
Addson_51823(Result_186216, LOC26);
LOC27 = 0;
LOC27 = Copytree_51858((*(*Dest_186241).N).KindU.S6.Sons->data[1]);
Addson_51823(Result_186216, LOC27);
LA24: ;
break;
case ((NU8) 27):
Result_186216 = Newnodeit_51741(((NU8) 62), (*N_186215).Info, (*N_186215).Typ);
Addson_51823(Result_186216, (*N_186215).KindU.S6.Sons->data[1]);
break;
case ((NU8) 29):
if (!((*Source_186254).Kind == ((NU8) 28))) goto LA29;
Result_186216 = Newnodeit_51741(((NU8) 60), (*N_186215).Info, (*N_186215).Typ);
Addson_51823(Result_186216, (*N_186215).KindU.S6.Sons->data[1]);
LA29: ;
break;
case ((NU8) 28):
if (!((*Source_186254).Kind == ((NU8) 29))) goto LA32;
Result_186216 = Newnodeit_51741(((NU8) 61), (*N_186215).Info, (*N_186215).Typ);
Addson_51823(Result_186216, (*N_186215).KindU.S6.Sons->data[1]);
LA32: ;
break;
case ((NU8) 22):
case ((NU8) 21):
Dest_186241 = Skiptypes_93085(Dest_186241, IL64(47534086692012032));
Source_186254 = Skiptypes_93085(Source_186254, IL64(47534086692012032));
if (!((*Source_186254).Kind == ((NU8) 17))) goto LA35;
Diff_186397 = 0;
Diff_186397 = Inheritancediff_93119(Dest_186241, Source_186254);
if (!(Diff_186397 < 0)) goto LA38;
Result_186216 = Newnodeit_51741(((NU8) 56), (*N_186215).Info, (*N_186215).Typ);
Addson_51823(Result_186216, (*N_186215).KindU.S6.Sons->data[1]);
goto LA37;
LA38: ;
if (!(0 < Diff_186397)) goto LA40;
Result_186216 = Newnodeit_51741(((NU8) 55), (*N_186215).Info, (*N_186215).Typ);
Addson_51823(Result_186216, (*N_186215).KindU.S6.Sons->data[1]);
goto LA37;
LA40: ;
Result_186216 = (*N_186215).KindU.S6.Sons->data[1];
LA37: ;
LA35: ;
break;
case ((NU8) 17):
Diff_186438 = 0;
Diff_186438 = Inheritancediff_93119(Dest_186241, Source_186254);
if (!(Diff_186438 < 0)) goto LA43;
Result_186216 = Newnodeit_51741(((NU8) 56), (*N_186215).Info, (*N_186215).Typ);
Addson_51823(Result_186216, (*N_186215).KindU.S6.Sons->data[1]);
goto LA42;
LA43: ;
if (!(0 < Diff_186438)) goto LA45;
Result_186216 = Newnodeit_51741(((NU8) 55), (*N_186215).Info, (*N_186215).Typ);
Addson_51823(Result_186216, (*N_186215).KindU.S6.Sons->data[1]);
goto LA42;
LA45: ;
Result_186216 = (*N_186215).KindU.S6.Sons->data[1];
LA42: ;
break;
case ((NU8) 12):
case ((NU8) 15):
Result_186216 = (*N_186215).KindU.S6.Sons->data[1];
break;
default:
break;
}
return Result_186216;
}
N_NIMCALL(TY51525*, Transform_185092)(TY185012* C_185094, TY51525* N_185095) {
TY51525* Result_187998;
NI LOC11;
NI I_188165;
NI HEX3Atmp_188247;
NI LOC14;
NI Res_188249;
NIM_BOOL LOC17;
NI I_188209;
NI HEX3Atmp_188253;
NI LOC20;
NI Res_188255;
TY51525* Cnst_188234;
Result_187998 = 0;
Result_187998 = N_185095;
if (!(N_185095 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*N_185095).Kind) {
case ((NU8) 3):
Result_187998 = Transformsym_185102(C_185094, N_185095);
goto BeforeRet;
break;
case ((NU8) 1) ... ((NU8) 2):
case ((NU8) 4) ... ((NU8) 18):
break;
case ((NU8) 33):
Result_187998 = Transformarrayaccess_187480(C_185094, N_185095);
break;
case ((NU8) 42):
Result_187998 = Transformlambda_187011(C_185094, N_185095);
break;
case ((NU8) 84):
Result_187998 = Transformfor_186580(C_185094, N_185095);
break;
case ((NU8) 86):
Result_187998 = Transformcase_187191(C_185094, N_185095);
break;
case ((NU8) 69):
case ((NU8) 70):
case ((NU8) 74):
case ((NU8) 72):
if (!((*N_185095).KindU.S6.Sons->data[1] == NIM_NIL)) goto LA5;
asgnRefNoCycle((void**) &(*N_185095).KindU.S6.Sons->data[4], Transform_185092(C_185094, (*N_185095).KindU.S6.Sons->data[4]));
if (!((*N_185095).Kind == ((NU8) 70))) goto LA8;
Methoddef_155004((*(*N_185095).KindU.S6.Sons->data[0]).KindU.S4.Sym);
LA8: ;
LA5: ;
break;
case ((NU8) 85):
LOC11 = Sonslen_51803(N_185095);
if (!!((LOC11 == 2))) goto LA12;
Internalerror_43567((*N_185095).Info, ((NimStringDesc*) &TMP194240));
LA12: ;
asgnRefNoCycle((void**) &(*N_185095).KindU.S6.Sons->data[0], Transform_185092(C_185094, (*N_185095).KindU.S6.Sons->data[0]));
asgnRefNoCycle((void**) &(*N_185095).KindU.S6.Sons->data[1], Transformcontinue_185338(C_185094, (*N_185095).KindU.S6.Sons->data[1]));
break;
case ((NU8) 21):
case ((NU8) 49):
case ((NU8) 20):
case ((NU8) 27):
case ((NU8) 28):
case ((NU8) 29):
case ((NU8) 22):
Result_187998 = Transformcall_187779(C_185094, Result_187998);
break;
case ((NU8) 52):
case ((NU8) 53):
Result_187998 = Transformaddrderef_185921(C_185094, N_185095, ((NU8) 38), ((NU8) 54));
break;
case ((NU8) 38):
case ((NU8) 54):
Result_187998 = Transformaddrderef_185921(C_185094, N_185095, ((NU8) 52), ((NU8) 53));
break;
case ((NU8) 47):
case ((NU8) 48):
case ((NU8) 50):
Result_187998 = Transformconv_186212(C_185094, N_185095);
break;
case ((NU8) 100):
I_188165 = 0;
HEX3Atmp_188247 = 0;
LOC14 = Sonslen_51803(N_185095);
HEX3Atmp_188247 = (NI32)(LOC14 - 1);
Res_188249 = 0;
Res_188249 = 0;
while (1) {
if (!(Res_188249 <= HEX3Atmp_188247)) goto LA15;
I_188165 = Res_188249;
asgnRefNoCycle((void**) &(*Result_187998).KindU.S6.Sons->data[I_188165], Transform_185092(C_185094, (*N_185095).KindU.S6.Sons->data[I_188165]));
Res_188249 += 1;
} LA15: ;
LOC17 = Isconstexpr_92016((*Result_187998).KindU.S6.Sons->data[0]);
if (!LOC17) goto LA18;
Result_187998 = Newnode_51710(((NU8) 105));
LA18: ;
break;
case ((NU8) 105):
case ((NU8) 73):
goto BeforeRet;
break;
case ((NU8) 88):
goto BeforeRet;
break;
default:
I_188209 = 0;
HEX3Atmp_188253 = 0;
LOC20 = Sonslen_51803(N_185095);
HEX3Atmp_188253 = (NI32)(LOC20 - 1);
Res_188255 = 0;
Res_188255 = 0;
while (1) {
if (!(Res_188255 <= HEX3Atmp_188253)) goto LA21;
I_188209 = Res_188255;
asgnRefNoCycle((void**) &(*Result_187998).KindU.S6.Sons->data[I_188209], Transform_185092(C_185094, (*N_185095).KindU.S6.Sons->data[I_188209]));
Res_188255 += 1;
} LA21: ;
break;
}
Cnst_188234 = 0;
Cnst_188234 = Getconstexpr_109010((*C_185094).Module, Result_187998);
if (!!((Cnst_188234 == NIM_NIL))) goto LA23;
Result_187998 = Cnst_188234;
LA23: ;
BeforeRet: ;
return Result_187998;
}
N_NIMCALL(TY51525*, Processtransf_188258)(TY101002* Context_188260, TY51525* N_188261) {
TY51525* Result_188262;
TY185012* C_188263;
Result_188262 = 0;
C_188263 = 0;
C_188263 = ((TY185012*) (Context_188260));
Result_188262 = Transform_185092(C_188263, N_188261);
return Result_188262;
}
N_NIMCALL(TY101006, Transfpass_185005)(void) {
TY101006 Result_188287;
memset((void*)&Result_188287, 0, sizeof(Result_188287));
Initpass_101031(&Result_188287);
Result_188287.Open = Opentransf_188264;
Result_188287.Process = Processtransf_188258;
Result_188287.Close = Processtransf_188258;
return Result_188287;
}
N_NOINLINE(void, transfInit)(void) {
}

