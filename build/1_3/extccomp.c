/* Generated by Nimrod Compiler v0.8.10 */
/*   (c) 2010 Andreas Rumpf */

typedef long int NI;
typedef unsigned long int NU;
#include "nimbase.h"

typedef struct TY66008 TY66008;
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct TY10602 TY10602;
typedef struct TNimType TNimType;
typedef struct TY10618 TY10618;
typedef struct TY10990 TY10990;
typedef struct TY10614 TY10614;
typedef struct TY10610 TY10610;
typedef struct TY8004 TY8004;
typedef struct TY10988 TY10988;
typedef struct TY39019 TY39019;
typedef struct TNimNode TNimNode;
typedef struct TY39013 TY39013;
typedef struct TY47036 TY47036;
typedef struct TY47448 TY47448;
typedef struct TY34515 TY34515;
typedef struct TY48008 TY48008;
typedef struct TY39015 TY39015;
typedef struct TNimObject TNimObject;
typedef struct TY35221 TY35221;
struct TGenericSeq {
NI len;
NI space;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
struct TY66008 {
NimStringDesc* Name;
NimStringDesc* Objext;
NimStringDesc* Optspeed;
NimStringDesc* Optsize;
NimStringDesc* Compilerexe;
NimStringDesc* Compiletmpl;
NimStringDesc* Buildgui;
NimStringDesc* Builddll;
NimStringDesc* Linkerexe;
NimStringDesc* Linktmpl;
NimStringDesc* Includecmd;
NimStringDesc* Debug;
NimStringDesc* Pic;
NimStringDesc* Asmstmtfrmt;
NU8 Props;
};
typedef TY66008 TY66042[12];
struct TY10602 {
NI Refcount;
TNimType* Typ;
};
struct TY10618 {
NI Len;
NI Cap;
TY10602** D;
};
struct TY10614 {
NI Counter;
NI Max;
TY10610* Head;
TY10610** Data;
};
struct TY8004 {
void* Debuginfo;
NI32 Lockcount;
NI32 Recursioncount;
NI Owningthread;
NI Locksemaphore;
NI32 Reserved;
};
struct TY10988 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY10990 {
TY10618 Zct;
TY10618 Decstack;
TY10614 Cycleroots;
TY10618 Tempstack;
TY8004 Cyclerootslock;
TY8004 Zctlock;
TY10988 Stat;
};
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TY39019 {
TNimType* m_type;
TY39013* Head;
TY39013* Tail;
NI Counter;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct TY47036 {
NimStringDesc* Name;
NimStringDesc* Pardir;
NimStringDesc* Dllfrmt;
NimStringDesc* Altdirsep;
NimStringDesc* Objext;
NimStringDesc* Newline;
NimStringDesc* Pathsep;
NimStringDesc* Dirsep;
NimStringDesc* Scriptext;
NimStringDesc* Curdir;
NimStringDesc* Exeext;
NimStringDesc* Extsep;
NU8 Props;
};
typedef TY47036 TY47054[21];
struct TY47448 {
NimStringDesc* Name;
NI Intsize;
NU8 Endian;
NI Floatsize;
NI Bit;
};
typedef TY47448 TY47461[12];
struct TY34515 {
NimStringDesc* Dir;
NimStringDesc* Name;
NimStringDesc* Ext;
};
typedef NimStringDesc* TY66884[12];
typedef TY48008* TY48446[1];
struct TNimObject {
TNimType* m_type;
};
struct TY39013 {
  TNimObject Sup;
TY39013* Prev;
TY39013* Next;
};
struct TY39015 {
  TY39013 Sup;
NimStringDesc* Data;
};
typedef NimStringDesc* TY42349[1];
typedef NimStringDesc* TY43865[1];
typedef NimStringDesc* TY67191[14];
typedef NI TY8614[16];
struct TY10610 {
TY10610* Next;
NI Key;
TY8614 Bits;
};
struct TY48008 {
  TNimObject Sup;
TY48008* Left;
TY48008* Right;
NI Length;
NimStringDesc* Data;
};
struct TY35221 {
  TGenericSeq Sup;
  NimStringDesc* data[SEQ_DECL_SIZE];
};
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13018, void* Src_13019);
static N_INLINE(TY10602*, Usrtocell_11412)(void* Usr_11414);
static N_INLINE(NI, Atomicinc_3001)(NI* Memloc_3004, NI X_3005);
static N_INLINE(NI, Atomicdec_3006)(NI* Memloc_3009, NI X_3010);
static N_INLINE(void, Rtladdzct_12401)(TY10602* C_12403);
N_NOINLINE(void, Addzct_11401)(TY10618* S_11404, TY10602* C_11405);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* Src_18508);
N_NIMCALL(NIM_BOOL, Externalfilechanged_66608)(NimStringDesc* Filename_66610);
N_NIMCALL(NimStringDesc*, Togeneratedfile_42103)(NimStringDesc* Path_42105, NimStringDesc* Ext_42106);
N_NIMCALL(NI32, Footprint_66604)(NimStringDesc* Filename_66606);
N_NIMCALL(NI32, HEX3EHEX3C_46094)(NI32 C_46096, NimStringDesc* S_46097);
N_NIMCALL(NI32, Crcfromfile_46029)(NimStringDesc* Filename_46031);
N_NIMCALL(NIM_BOOL, Open_3617)(FILE** F_3620, NimStringDesc* Filename_3621, NU8 Mode_3622, NI Bufsize_3623);
N_NIMCALL(NimStringDesc*, Readline_3679)(FILE* F_3681);
N_NIMCALL(NI, nsuParseInt)(NimStringDesc* S_25504);
N_NIMCALL(NimStringDesc*, nimIntToStr)(NI X_19203);
N_NIMCALL(void, Appendstr_39061)(TY39019* List_39064, NimStringDesc* Data_39065);
N_NIMCALL(NimStringDesc*, nosChangeFileExt)(NimStringDesc* Filename_34820, NimStringDesc* Ext_34821);
N_NIMCALL(void, Prependstr_39071)(TY39019* List_39074, NimStringDesc* Data_39075);
N_NIMCALL(NimStringDesc*, Completegeneratedfilepath_42099)(NimStringDesc* F_42101, NIM_BOOL Createsubdir_42102);
N_NIMCALL(NI, nsuFindStr)(NimStringDesc* S_26219, NimStringDesc* Sub_26220, NI Start_26221);
N_NIMCALL(void, Addopt_66571)(NimStringDesc** Dest_66574, NimStringDesc* Src_66575);
static N_INLINE(void, appendString)(NimStringDesc* Dest_18592, NimStringDesc* Src_18593);
N_NIMCALL(NimStringDesc*, resizeString)(NimStringDesc* Dest_18582, NI Addlen_18583);
N_NIMCALL(NU8, Nametocc_66376)(NimStringDesc* Name_66378);
N_NIMCALL(NI, nsuCmpIgnoreStyle)(NimStringDesc* A_24638, NimStringDesc* B_24639);
N_NIMCALL(void, Rawmessage_43553)(NU8 Msg_43555, NimStringDesc* Arg_43556);
N_NIMCALL(NimStringDesc*, Getconfigvar_42133)(NimStringDesc* Key_42135);
N_NIMCALL(NimStringDesc*, rawNewString)(NI Space_18487);
N_NIMCALL(void, Undefsymbol_59056)(NimStringDesc* Symbol_59058);
N_NIMCALL(void, Definesymbol_59053)(NimStringDesc* Symbol_59055);
N_NIMCALL(void, Addcompileoption_66361)(NimStringDesc* Option_66363);
N_NIMCALL(void, Addlinkoption_66364)(NimStringDesc* Option_66366);
N_NIMCALL(NimStringDesc*, nosaddFileExt)(NimStringDesc* Filename_34844, NimStringDesc* Ext_34845);
N_NIMCALL(void, nossplitFile)(NimStringDesc* Path_34514, TY34515* Result);
N_NIMCALL(NIM_BOOL, Existsconfigvar_42130)(NimStringDesc* Key_42132);
N_NIMCALL(NimStringDesc*, Getdebug_66699)(NU8 C_66701);
N_NIMCALL(NimStringDesc*, Getoptspeed_66687)(NU8 C_66689);
N_NIMCALL(NimStringDesc*, Getoptsize_66711)(NU8 C_66713);
static N_INLINE(void, appendChar)(NimStringDesc* Dest_18609, NIM_CHAR C_18610);
N_NIMCALL(NimStringDesc*, Quoteifcontainswhite_26283)(NimStringDesc* S_26285);
N_NIMCALL(NimStringDesc*, nosJoinPath)(NimStringDesc* Head_34203, NimStringDesc* Tail_34204);
N_NIMCALL(NimStringDesc*, nosextractFilename)(NimStringDesc* Path_34585);
N_NIMCALL(NimStringDesc*, Toobjfile_66367)(NimStringDesc* Filenamewithoutext_66369);
N_NIMCALL(NimStringDesc*, Completecfilepath_66344)(NimStringDesc* Cfile_66346, NIM_BOOL Createsubdir_66347);
N_NIMCALL(NimStringDesc*, nsuFormatOpenArray)(NimStringDesc* Formatstr_24965, NimStringDesc** A_24967, NI A_24967Len0);
N_NIMCALL(NimStringDesc*, Getprefixdir_42107)(void);
N_NIMCALL(NimStringDesc*, addChar)(NimStringDesc* S_1603, NIM_CHAR C_1604);
N_NIMCALL(void, nsuAddf)(NimStringDesc** S_24741, NimStringDesc* Formatstr_24742, NimStringDesc** A_24744, NI A_24744Len0);
N_NIMCALL(TY48008*, Torope_48046)(NimStringDesc* S_48048);
N_NIMCALL(void, App_48031)(TY48008** A_48034, TY48008* B_48035);
N_NIMCALL(TY48008*, Genmappingfiles_67229)(TY39019* List_67231);
N_NIMCALL(void, Appf_48074)(TY48008** C_48077, NimStringDesc* Frmt_48078, TY48008** Args_48080, NI Args_48080Len0);
N_NIMCALL(void, Writerope_48058)(TY48008* Head_48060, NimStringDesc* Filename_48061);
N_NIMCALL(void*, newSeq)(TNimType* Typ_14004, NI Len_14005);
N_NIMCALL(void, Compilecfile_66891)(TY39019* List_66893, TY48008** Script_66895, TY35221** Cmds_66897, NIM_BOOL Isexternal_66898);
N_NIMCALL(NimStringDesc*, Getcompilecfilecmd_66348)(NimStringDesc* Cfilename_66350, NIM_BOOL Isexternal_66351);
N_NIMCALL(TGenericSeq*, incrSeq)(TGenericSeq* Seq_18635, NI Elemsize_18636);
N_NIMCALL(void, App_48036)(TY48008** A_48039, NimStringDesc* B_48040);
N_NIMCALL(NI, nospcountProcessors)(void);
N_NIMCALL(NI, nospexecCmd)(NimStringDesc* Command_63232);
N_NIMCALL(NI, nospexecProcesses)(NimStringDesc** Cmds_63688, NI Cmds_63688Len0, NU8 Options_63690, NI N_63691);
N_NIMCALL(void, Rawmessage_43557)(NU8 Msg_43559, NimStringDesc** Args_43561, NI Args_43561Len0);
N_NIMCALL(void, Execexternalprogram_66373)(NimStringDesc* Cmd_66375);
N_NIMCALL(void, Messageout_43550)(NimStringDesc* S_43552);
N_NIMCALL(void, Generatescript_66672)(NimStringDesc* Projectfile_66674, TY48008* Script_66675);
N_NIMCALL(NimStringDesc*, HEX2F_34318)(NimStringDesc* Head_34320, NimStringDesc* Tail_34321);
N_NIMCALL(void, Writeln_66630)(FILE* F_66633, NimStringDesc* X_66634);
N_NIMCALL(void, Write_3658)(FILE* F_3660, NimStringDesc* S_3661);
STRING_LITERAL(TMP66262, "gcc", 3);
STRING_LITERAL(TMP66263, "o", 1);
STRING_LITERAL(TMP66264, " -O3 -ffast-math ", 17);
STRING_LITERAL(TMP66265, " -Os -ffast-math ", 17);
STRING_LITERAL(TMP66266, "-c $options $include -o $objfile $file", 38);
STRING_LITERAL(TMP66267, " -mwindows", 10);
STRING_LITERAL(TMP66268, " -shared", 8);
STRING_LITERAL(TMP66269, "$options $buildgui $builddll -o $exefile $objfiles", 50);
STRING_LITERAL(TMP66270, " -I", 3);
STRING_LITERAL(TMP66271, "", 0);
STRING_LITERAL(TMP66272, "-fPIC", 5);
STRING_LITERAL(TMP66273, "asm($1);$n", 10);
STRING_LITERAL(TMP66274, "llvm_gcc", 8);
STRING_LITERAL(TMP66275, "llvm-gcc", 8);
STRING_LITERAL(TMP66276, "lcc", 3);
STRING_LITERAL(TMP66277, "obj", 3);
STRING_LITERAL(TMP66278, " -O -p6 ", 8);
STRING_LITERAL(TMP66279, "$options $include -Fo$objfile $file", 35);
STRING_LITERAL(TMP66280, " -subsystem windows", 19);
STRING_LITERAL(TMP66281, " -dll", 5);
STRING_LITERAL(TMP66282, "lcclnk", 6);
STRING_LITERAL(TMP66283, "$options $buildgui $builddll -O $exefile $objfiles", 50);
STRING_LITERAL(TMP66284, " -g5 ", 5);
STRING_LITERAL(TMP66285, "_asm{$n$1$n}$n", 14);
STRING_LITERAL(TMP66286, "bcc", 3);
STRING_LITERAL(TMP66287, " -O2 -6 ", 8);
STRING_LITERAL(TMP66288, " -O1 -6 ", 8);
STRING_LITERAL(TMP66289, "bcc32", 5);
STRING_LITERAL(TMP66290, "-c $options $include -o$objfile $file", 37);
STRING_LITERAL(TMP66291, " -tW", 4);
STRING_LITERAL(TMP66292, " -tWD", 5);
STRING_LITERAL(TMP66293, "$options $buildgui $builddll -e$exefile $objfiles", 49);
STRING_LITERAL(TMP66294, "__asm{$n$1$n}$n", 15);
STRING_LITERAL(TMP66295, "dmc", 3);
STRING_LITERAL(TMP66296, " -ff -o -6 ", 11);
STRING_LITERAL(TMP66297, " -L/exet:nt/su:windows", 22);
STRING_LITERAL(TMP66298, " -WD", 4);
STRING_LITERAL(TMP66299, "$options $buildgui $builddll -o$exefile $objfiles", 49);
STRING_LITERAL(TMP66300, " -g ", 4);
STRING_LITERAL(TMP66301, "wcc", 3);
STRING_LITERAL(TMP66302, " -ox -on -6 -d0 -fp6 -zW ", 25);
STRING_LITERAL(TMP66303, "wcl386", 6);
STRING_LITERAL(TMP66304, "-c $options $include -fo=$objfile $file", 39);
STRING_LITERAL(TMP66305, " -bw", 4);
STRING_LITERAL(TMP66306, " -bd", 4);
STRING_LITERAL(TMP66307, "$options $buildgui $builddll -fe=$exefile $objfiles ", 52);
STRING_LITERAL(TMP66308, " -i=", 4);
STRING_LITERAL(TMP66309, " -d2 ", 5);
STRING_LITERAL(TMP66310, "vcc", 3);
STRING_LITERAL(TMP66311, " /Ogityb2 /G7 /arch:SSE2 ", 25);
STRING_LITERAL(TMP66312, " /O1 /G7 ", 9);
STRING_LITERAL(TMP66313, "cl", 2);
STRING_LITERAL(TMP66314, "/c $options $include /Fo$objfile $file", 38);
STRING_LITERAL(TMP66315, " /link /SUBSYSTEM:WINDOWS ", 26);
STRING_LITERAL(TMP66316, " /LD", 4);
STRING_LITERAL(TMP66317, "$options $builddll /Fe$exefile $objfiles $buildgui", 50);
STRING_LITERAL(TMP66318, " /I", 3);
STRING_LITERAL(TMP66319, " /GZ /Zi ", 9);
STRING_LITERAL(TMP66320, "tcc", 3);
STRING_LITERAL(TMP66321, "UNAVAILABLE!", 12);
STRING_LITERAL(TMP66322, "-o $exefile $options $buildgui $builddll $objfiles", 50);
STRING_LITERAL(TMP66323, "pcc", 3);
STRING_LITERAL(TMP66324, " -Ox ", 5);
STRING_LITERAL(TMP66325, " -Os ", 5);
STRING_LITERAL(TMP66326, "cc", 2);
STRING_LITERAL(TMP66327, "-c $options $include -Fo$objfile $file", 38);
STRING_LITERAL(TMP66328, " -SUBSYSTEM:WINDOWS", 19);
STRING_LITERAL(TMP66329, " -DLL", 5);
STRING_LITERAL(TMP66330, "$options $buildgui $builddll -OUT:$exefile $objfiles", 52);
STRING_LITERAL(TMP66331, " -Zi ", 5);
STRING_LITERAL(TMP66332, "ucc", 3);
STRING_LITERAL(TMP66333, " -O3 ", 5);
STRING_LITERAL(TMP66334, " -O1 ", 5);
STRING_LITERAL(TMP66335, " -shared ", 9);
STRING_LITERAL(TMP66336, "icc", 3);
STRING_LITERAL(TMP66337, " -mdll", 6);
STRING_LITERAL(TMP66338, "gpp", 3);
STRING_LITERAL(TMP66339, "g++", 3);
NIM_CONST TY66042 Cc_66041 = {{((NimStringDesc*) &TMP66262),
((NimStringDesc*) &TMP66263),
((NimStringDesc*) &TMP66264),
((NimStringDesc*) &TMP66265),
((NimStringDesc*) &TMP66262),
((NimStringDesc*) &TMP66266),
((NimStringDesc*) &TMP66267),
((NimStringDesc*) &TMP66268),
((NimStringDesc*) &TMP66262),
((NimStringDesc*) &TMP66269),
((NimStringDesc*) &TMP66270),
((NimStringDesc*) &TMP66271),
((NimStringDesc*) &TMP66272),
((NimStringDesc*) &TMP66273),
7}
,
{((NimStringDesc*) &TMP66274),
((NimStringDesc*) &TMP66263),
((NimStringDesc*) &TMP66264),
((NimStringDesc*) &TMP66265),
((NimStringDesc*) &TMP66275),
((NimStringDesc*) &TMP66266),
((NimStringDesc*) &TMP66267),
((NimStringDesc*) &TMP66268),
((NimStringDesc*) &TMP66275),
((NimStringDesc*) &TMP66269),
((NimStringDesc*) &TMP66270),
((NimStringDesc*) &TMP66271),
((NimStringDesc*) &TMP66272),
((NimStringDesc*) &TMP66273),
7}
,
{((NimStringDesc*) &TMP66276),
((NimStringDesc*) &TMP66277),
((NimStringDesc*) &TMP66278),
((NimStringDesc*) &TMP66278),
((NimStringDesc*) &TMP66276),
((NimStringDesc*) &TMP66279),
((NimStringDesc*) &TMP66280),
((NimStringDesc*) &TMP66281),
((NimStringDesc*) &TMP66282),
((NimStringDesc*) &TMP66283),
((NimStringDesc*) &TMP66270),
((NimStringDesc*) &TMP66284),
((NimStringDesc*) &TMP66271),
((NimStringDesc*) &TMP66285),
0}
,
{((NimStringDesc*) &TMP66286),
((NimStringDesc*) &TMP66277),
((NimStringDesc*) &TMP66287),
((NimStringDesc*) &TMP66288),
((NimStringDesc*) &TMP66289),
((NimStringDesc*) &TMP66290),
((NimStringDesc*) &TMP66291),
((NimStringDesc*) &TMP66292),
((NimStringDesc*) &TMP66289),
((NimStringDesc*) &TMP66293),
((NimStringDesc*) &TMP66270),
((NimStringDesc*) &TMP66271),
((NimStringDesc*) &TMP66271),
((NimStringDesc*) &TMP66294),
4}
,
{((NimStringDesc*) &TMP66295),
((NimStringDesc*) &TMP66277),
((NimStringDesc*) &TMP66296),
((NimStringDesc*) &TMP66296),
((NimStringDesc*) &TMP66295),
((NimStringDesc*) &TMP66290),
((NimStringDesc*) &TMP66297),
((NimStringDesc*) &TMP66298),
((NimStringDesc*) &TMP66295),
((NimStringDesc*) &TMP66299),
((NimStringDesc*) &TMP66270),
((NimStringDesc*) &TMP66300),
((NimStringDesc*) &TMP66271),
((NimStringDesc*) &TMP66294),
4}
,
{((NimStringDesc*) &TMP66301),
((NimStringDesc*) &TMP66277),
((NimStringDesc*) &TMP66302),
((NimStringDesc*) &TMP66271),
((NimStringDesc*) &TMP66303),
((NimStringDesc*) &TMP66304),
((NimStringDesc*) &TMP66305),
((NimStringDesc*) &TMP66306),
((NimStringDesc*) &TMP66303),
((NimStringDesc*) &TMP66307),
((NimStringDesc*) &TMP66308),
((NimStringDesc*) &TMP66309),
((NimStringDesc*) &TMP66271),
((NimStringDesc*) &TMP66294),
4}
,
{((NimStringDesc*) &TMP66310),
((NimStringDesc*) &TMP66277),
((NimStringDesc*) &TMP66311),
((NimStringDesc*) &TMP66312),
((NimStringDesc*) &TMP66313),
((NimStringDesc*) &TMP66314),
((NimStringDesc*) &TMP66315),
((NimStringDesc*) &TMP66316),
((NimStringDesc*) &TMP66313),
((NimStringDesc*) &TMP66317),
((NimStringDesc*) &TMP66318),
((NimStringDesc*) &TMP66319),
((NimStringDesc*) &TMP66271),
((NimStringDesc*) &TMP66294),
12}
,
{((NimStringDesc*) &TMP66320),
((NimStringDesc*) &TMP66263),
((NimStringDesc*) &TMP66271),
((NimStringDesc*) &TMP66271),
((NimStringDesc*) &TMP66320),
((NimStringDesc*) &TMP66266),
((NimStringDesc*) &TMP66321),
((NimStringDesc*) &TMP66268),
((NimStringDesc*) &TMP66320),
((NimStringDesc*) &TMP66322),
((NimStringDesc*) &TMP66270),
((NimStringDesc*) &TMP66300),
((NimStringDesc*) &TMP66271),
((NimStringDesc*) &TMP66294),
3}
,
{((NimStringDesc*) &TMP66323),
((NimStringDesc*) &TMP66277),
((NimStringDesc*) &TMP66324),
((NimStringDesc*) &TMP66325),
((NimStringDesc*) &TMP66326),
((NimStringDesc*) &TMP66327),
((NimStringDesc*) &TMP66328),
((NimStringDesc*) &TMP66329),
((NimStringDesc*) &TMP66326),
((NimStringDesc*) &TMP66330),
((NimStringDesc*) &TMP66270),
((NimStringDesc*) &TMP66331),
((NimStringDesc*) &TMP66271),
((NimStringDesc*) &TMP66294),
0}
,
{((NimStringDesc*) &TMP66332),
((NimStringDesc*) &TMP66263),
((NimStringDesc*) &TMP66333),
((NimStringDesc*) &TMP66334),
((NimStringDesc*) &TMP66326),
((NimStringDesc*) &TMP66266),
((NimStringDesc*) &TMP66271),
((NimStringDesc*) &TMP66335),
((NimStringDesc*) &TMP66326),
((NimStringDesc*) &TMP66322),
((NimStringDesc*) &TMP66270),
((NimStringDesc*) &TMP66271),
((NimStringDesc*) &TMP66271),
((NimStringDesc*) &TMP66294),
0}
,
{((NimStringDesc*) &TMP66336),
((NimStringDesc*) &TMP66263),
((NimStringDesc*) &TMP66333),
((NimStringDesc*) &TMP66325),
((NimStringDesc*) &TMP66336),
((NimStringDesc*) &TMP66266),
((NimStringDesc*) &TMP66267),
((NimStringDesc*) &TMP66337),
((NimStringDesc*) &TMP66336),
((NimStringDesc*) &TMP66269),
((NimStringDesc*) &TMP66270),
((NimStringDesc*) &TMP66271),
((NimStringDesc*) &TMP66272),
((NimStringDesc*) &TMP66273),
7}
,
{((NimStringDesc*) &TMP66338),
((NimStringDesc*) &TMP66263),
((NimStringDesc*) &TMP66264),
((NimStringDesc*) &TMP66265),
((NimStringDesc*) &TMP66339),
((NimStringDesc*) &TMP66266),
((NimStringDesc*) &TMP66267),
((NimStringDesc*) &TMP66337),
((NimStringDesc*) &TMP66339),
((NimStringDesc*) &TMP66269),
((NimStringDesc*) &TMP66270),
((NimStringDesc*) &TMP66300),
((NimStringDesc*) &TMP66272),
((NimStringDesc*) &TMP66273),
7}
}
;
STRING_LITERAL(TMP66343, "c", 1);
STRING_LITERAL(TMP193658, "crc", 3);
extern NIM_CONST TY47054 Os_47053;
extern NIM_CONST TY47461 Cpu_47460;
STRING_LITERAL(TMP193660, "0", 1);
STRING_LITERAL(TMP193679, " ", 1);
STRING_LITERAL(TMP193685, ".options.always", 15);
STRING_LITERAL(TMP193686, ".options.linker", 15);
STRING_LITERAL(TMP193687, ".path", 5);
STRING_LITERAL(TMP193735, ".cpp", 4);
STRING_LITERAL(TMP194796, ".debug", 6);
STRING_LITERAL(TMP194797, ".options.debug", 14);
STRING_LITERAL(TMP194798, ".speed", 6);
STRING_LITERAL(TMP194799, ".options.speed", 14);
STRING_LITERAL(TMP194800, ".size", 5);
STRING_LITERAL(TMP194801, ".options.size", 13);
STRING_LITERAL(TMP194802, ".always", 7);
STRING_LITERAL(TMP194803, ".exe", 4);
STRING_LITERAL(TMP194804, "exe", 3);
STRING_LITERAL(TMP194805, "file", 4);
STRING_LITERAL(TMP194806, "objfile", 7);
STRING_LITERAL(TMP194807, "options", 7);
STRING_LITERAL(TMP194808, "include", 7);
STRING_LITERAL(TMP194809, "nimrod", 6);
STRING_LITERAL(TMP194810, "lib", 3);
STRING_LITERAL(TMP194820, "[C_Files]\015\012", 11);
STRING_LITERAL(TMP194821, "--file:r\"$1\"$n", 14);
STRING_LITERAL(TMP194822, "[Symbols]$n$1", 13);
STRING_LITERAL(TMP194823, "mapping.txt", 11);
STRING_LITERAL(TMP194880, ".linkerexe", 10);
STRING_LITERAL(TMP194881, "builddll", 8);
STRING_LITERAL(TMP194882, "buildgui", 8);
STRING_LITERAL(TMP194883, "objfiles", 8);
STRING_LITERAL(TMP194884, "exefile", 7);
STRING_LITERAL(TMP194885, "compile_", 8);
STRING_LITERAL(TMP195504, "\015\012", 2);
NU8 Ccompiler_66340;
NimStringDesc* Cext_66342;
extern TY10990 Gch_11010;
TY39019 Tolink_66387;
extern TNimType* NTI39019; /* TLinkedList */
TY39019 Tocompile_66388;
TY39019 Externaltocompile_66389;
NimStringDesc* Linkoptions_66390;
NimStringDesc* Compileoptions_66391;
NimStringDesc* Ccompilerpath_66392;
NI Filecounter_66725;
extern NU32 Gglobaloptions_42077;
extern NU8 Targetos_47562;
extern NU8 Targetcpu_47560;
extern NU8 Gcmd_42082;
extern NU32 Goptions_42075;
extern NU8 Hostos_47563;
extern NimStringDesc* Libpath_42110;
extern NimStringDesc* Projectpath_42111;
extern TNimType* NTI35221; /* seq[string] */
extern NimStringDesc* Tnl_47573;
extern NI Gnumberofprocessors_42084;
extern NI Gverbosity_42083;
static N_INLINE(TY10602*, Usrtocell_11412)(void* Usr_11414) {
TY10602* Result_11415;
Result_11415 = 0;
Result_11415 = ((TY10602*) ((NI32)((NU32)(((NI) (Usr_11414))) - (NU32)(((NI) (((NI)sizeof(TY10602))))))));
return Result_11415;
}
static N_INLINE(NI, Atomicinc_3001)(NI* Memloc_3004, NI X_3005) {
NI Result_7607;
Result_7607 = 0;
(*Memloc_3004) += X_3005;
Result_7607 = (*Memloc_3004);
return Result_7607;
}
static N_INLINE(NI, Atomicdec_3006)(NI* Memloc_3009, NI X_3010) {
NI Result_7806;
Result_7806 = 0;
(*Memloc_3009) -= X_3010;
Result_7806 = (*Memloc_3009);
return Result_7806;
}
static N_INLINE(void, Rtladdzct_12401)(TY10602* C_12403) {
Addzct_11401(&Gch_11010.Zct, C_12403);
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13018, void* Src_13019) {
TY10602* C_13020;
NI LOC4;
TY10602* C_13022;
NI LOC9;
if (!!((Src_13019 == NIM_NIL))) goto LA2;
C_13020 = 0;
C_13020 = Usrtocell_11412(Src_13019);
LOC4 = Atomicinc_3001(&(*C_13020).Refcount, 8);
LA2: ;
if (!!(((*Dest_13018) == NIM_NIL))) goto LA6;
C_13022 = 0;
C_13022 = Usrtocell_11412((*Dest_13018));
LOC9 = Atomicdec_3006(&(*C_13022).Refcount, 8);
if (!((NU32)(LOC9) < (NU32)(8))) goto LA10;
Rtladdzct_12401(C_13022);
LA10: ;
LA6: ;
(*Dest_13018) = Src_13019;
}
N_NIMCALL(NI32, Footprint_66604)(NimStringDesc* Filename_66606) {
NI32 Result_66607;
NI32 LOC1;
NI32 LOC2;
NI32 LOC3;
Result_66607 = 0;
LOC1 = Crcfromfile_46029(Filename_66606);
LOC2 = HEX3EHEX3C_46094(LOC1, Os_47053[(Targetos_47562)-1].Name);
LOC3 = HEX3EHEX3C_46094(LOC2, Cpu_47460[(Targetcpu_47560)-1].Name);
Result_66607 = HEX3EHEX3C_46094(LOC3, Cc_66041[(Ccompiler_66340)-1].Name);
return Result_66607;
}
N_NIMCALL(NIM_BOOL, Externalfilechanged_66608)(NimStringDesc* Filename_66610) {
NIM_BOOL Result_66611;
NimStringDesc* Crcfile_66612;
NI Currentcrc_66613;
NI32 LOC1;
FILE* F_66614;
NIM_BOOL LOC3;
NimStringDesc* Line_66616;
NIM_BOOL LOC7;
NI Oldcrc_66621;
NIM_BOOL LOC15;
NimStringDesc* LOC18;
Result_66611 = 0;
Crcfile_66612 = 0;
Crcfile_66612 = Togeneratedfile_42103(Filename_66610, ((NimStringDesc*) &TMP193658));
Currentcrc_66613 = 0;
LOC1 = Footprint_66604(Filename_66610);
Currentcrc_66613 = ((NI) (LOC1));
F_66614 = 0;
LOC3 = Open_3617(&F_66614, Crcfile_66612, ((NU8) 0), -1);
if (!LOC3) goto LA4;
Line_66616 = 0;
Line_66616 = Readline_3679(F_66614);
LOC7 = Line_66616 == 0;
if (LOC7) goto LA8;
LOC7 = (Line_66616->Sup.len == 0);
LA8: ;
if (!LOC7) goto LA9;
Line_66616 = copyString(((NimStringDesc*) &TMP193660));
LA9: ;
fclose(F_66614);
Oldcrc_66621 = 0;
Oldcrc_66621 = nsuParseInt(Line_66616);
Result_66611 = !((Oldcrc_66621 == Currentcrc_66613));
goto LA2;
LA4: ;
Result_66611 = NIM_TRUE;
LA2: ;
if (!Result_66611) goto LA12;
LOC15 = Open_3617(&F_66614, Crcfile_66612, ((NU8) 1), -1);
if (!LOC15) goto LA16;
LOC18 = 0;
LOC18 = nimIntToStr(Currentcrc_66613);
Writeln_66630(F_66614, LOC18);
fclose(F_66614);
LA16: ;
LA12: ;
return Result_66611;
}
N_NIMCALL(void, Addexternalfiletocompile_66355)(NimStringDesc* Filename_66357) {
NIM_BOOL LOC2;
NimStringDesc* LOC6;
LOC2 = ((Gglobaloptions_42077 &(1<<((((NU8) 1))&31)))!=0);
if (LOC2) goto LA3;
LOC2 = Externalfilechanged_66608(Filename_66357);
LA3: ;
if (!LOC2) goto LA4;
LOC6 = 0;
LOC6 = nosChangeFileExt(Filename_66357, ((NimStringDesc*) &TMP66271));
Appendstr_39061(&Externaltocompile_66389, LOC6);
LA4: ;
}
N_NIMCALL(void, Addfiletolink_66358)(NimStringDesc* Filename_66360) {
Prependstr_39071(&Tolink_66387, Filename_66360);
}
N_NIMCALL(NimStringDesc*, Completecfilepath_66344)(NimStringDesc* Cfile_66346, NIM_BOOL Createsubdir_66347) {
NimStringDesc* Result_66520;
Result_66520 = 0;
Result_66520 = Completegeneratedfilepath_42099(Cfile_66346, Createsubdir_66347);
return Result_66520;
}
static N_INLINE(void, appendString)(NimStringDesc* Dest_18592, NimStringDesc* Src_18593) {
memcpy(((NCSTRING) (&(*Dest_18592).data[((*Dest_18592).Sup.len)-0])), ((NCSTRING) ((*Src_18593).data)), ((NI32) ((NI32)((NI32)((*Src_18593).Sup.len + 1) * 1))));
(*Dest_18592).Sup.len += (*Src_18593).Sup.len;
}
N_NIMCALL(void, Addopt_66571)(NimStringDesc** Dest_66574, NimStringDesc* Src_66575) {
NIM_BOOL LOC2;
LOC2 = ((*Dest_66574)->Sup.len == 0);
if (LOC2) goto LA3;
LOC2 = !(((NU8)((*Dest_66574)->data[(NI32)((NI32)((*Dest_66574)->Sup.len - 1) + 0)]) == (NU8)(32)));
LA3: ;
if (!LOC2) goto LA4;
(*Dest_66574) = resizeString((*Dest_66574), 1);
appendString((*Dest_66574), ((NimStringDesc*) &TMP193679));
LA4: ;
(*Dest_66574) = resizeString((*Dest_66574), Src_66575->Sup.len + 0);
appendString((*Dest_66574), Src_66575);
}
N_NIMCALL(void, Addcompileoption_66361)(NimStringDesc* Option_66363) {
NI LOC2;
LOC2 = nsuFindStr(Compileoptions_66391, Option_66363, 0);
if (!(LOC2 < 0)) goto LA3;
Addopt_66571(&Compileoptions_66391, Option_66363);
LA3: ;
}
N_NIMCALL(void, Addlinkoption_66364)(NimStringDesc* Option_66366) {
NI LOC2;
LOC2 = nsuFindStr(Linkoptions_66390, Option_66366, 0);
if (!(LOC2 < 0)) goto LA3;
Addopt_66571(&Linkoptions_66390, Option_66366);
LA3: ;
}
N_NIMCALL(NU8, Nametocc_66376)(NimStringDesc* Name_66378) {
NU8 Result_66524;
NU8 I_66563;
NU8 Res_66568;
NI LOC3;
Result_66524 = 0;
I_66563 = 0;
Res_66568 = 0;
Res_66568 = ((NU8) 1);
while (1) {
if (!(Res_66568 <= ((NU8) 12))) goto LA1;
I_66563 = Res_66568;
LOC3 = nsuCmpIgnoreStyle(Name_66378, Cc_66041[(I_66563)-1].Name);
if (!(LOC3 == 0)) goto LA4;
Result_66524 = I_66563;
goto BeforeRet;
LA4: ;
Res_66568 += 1;
} LA1: ;
Result_66524 = ((NU8) 0);
BeforeRet: ;
return Result_66524;
}
N_NIMCALL(void, Setcc_66381)(NimStringDesc* Ccname_66383) {
NimStringDesc* LOC4;
NimStringDesc* LOC5;
NimStringDesc* LOC6;
NU8 I_66458;
NU8 Res_66461;
Ccompiler_66340 = Nametocc_66376(Ccname_66383);
if (!(Ccompiler_66340 == ((NU8) 0))) goto LA2;
Rawmessage_43553(((NU8) 46), Ccname_66383);
LA2: ;
LOC4 = 0;
LOC4 = rawNewString(Cc_66041[(Ccompiler_66340)-1].Name->Sup.len + 15);
appendString(LOC4, Cc_66041[(Ccompiler_66340)-1].Name);
appendString(LOC4, ((NimStringDesc*) &TMP193685));
asgnRefNoCycle((void**) &Compileoptions_66391, Getconfigvar_42133(LOC4));
LOC5 = 0;
LOC5 = rawNewString(Cc_66041[(Ccompiler_66340)-1].Name->Sup.len + 15);
appendString(LOC5, Cc_66041[(Ccompiler_66340)-1].Name);
appendString(LOC5, ((NimStringDesc*) &TMP193686));
asgnRefNoCycle((void**) &Linkoptions_66390, Getconfigvar_42133(LOC5));
LOC6 = 0;
LOC6 = rawNewString(Cc_66041[(Ccompiler_66340)-1].Name->Sup.len + 5);
appendString(LOC6, Cc_66041[(Ccompiler_66340)-1].Name);
appendString(LOC6, ((NimStringDesc*) &TMP193687));
asgnRefNoCycle((void**) &Ccompilerpath_66392, Getconfigvar_42133(LOC6));
I_66458 = 0;
Res_66461 = 0;
Res_66461 = ((NU8) 1);
while (1) {
if (!(Res_66461 <= ((NU8) 12))) goto LA7;
I_66458 = Res_66461;
Undefsymbol_59056(Cc_66041[(I_66458)-1].Name);
Res_66461 += 1;
} LA7: ;
Definesymbol_59053(Cc_66041[(Ccompiler_66340)-1].Name);
}
N_NIMCALL(void, Initvars_66379)(void) {
NU8 I_66473;
NU8 Res_66513;
NimStringDesc* LOC5;
NimStringDesc* LOC6;
NimStringDesc* LOC7;
NimStringDesc* LOC8;
NimStringDesc* LOC12;
I_66473 = 0;
Res_66513 = 0;
Res_66513 = ((NU8) 1);
while (1) {
if (!(Res_66513 <= ((NU8) 12))) goto LA1;
I_66473 = Res_66513;
Undefsymbol_59056(Cc_66041[(I_66473)-1].Name);
Res_66513 += 1;
} LA1: ;
Definesymbol_59053(Cc_66041[(Ccompiler_66340)-1].Name);
if (!(Gcmd_42082 == ((NU8) 2))) goto LA3;
asgnRefNoCycle((void**) &Cext_66342, copyString(((NimStringDesc*) &TMP193735)));
LA3: ;
LOC5 = 0;
LOC5 = rawNewString(Cc_66041[(Ccompiler_66340)-1].Name->Sup.len + 15);
appendString(LOC5, Cc_66041[(Ccompiler_66340)-1].Name);
appendString(LOC5, ((NimStringDesc*) &TMP193685));
LOC6 = 0;
LOC6 = Getconfigvar_42133(LOC5);
Addcompileoption_66361(LOC6);
LOC7 = 0;
LOC7 = rawNewString(Cc_66041[(Ccompiler_66340)-1].Name->Sup.len + 15);
appendString(LOC7, Cc_66041[(Ccompiler_66340)-1].Name);
appendString(LOC7, ((NimStringDesc*) &TMP193686));
LOC8 = 0;
LOC8 = Getconfigvar_42133(LOC7);
Addlinkoption_66364(LOC8);
if (!(Ccompilerpath_66392->Sup.len == 0)) goto LA10;
LOC12 = 0;
LOC12 = rawNewString(Cc_66041[(Ccompiler_66340)-1].Name->Sup.len + 5);
appendString(LOC12, Cc_66041[(Ccompiler_66340)-1].Name);
appendString(LOC12, ((NimStringDesc*) &TMP193687));
asgnRefNoCycle((void**) &Ccompilerpath_66392, Getconfigvar_42133(LOC12));
LA10: ;
}
N_NIMCALL(NimStringDesc*, Toobjfile_66367)(NimStringDesc* Filenamewithoutext_66369) {
NimStringDesc* Result_66599;
Result_66599 = 0;
Result_66599 = nosaddFileExt(Filenamewithoutext_66369, Cc_66041[(Ccompiler_66340)-1].Objext);
return Result_66599;
}
N_NIMCALL(NimStringDesc*, Getdebug_66699)(NU8 C_66701) {
NimStringDesc* Result_66702;
NimStringDesc* LOC1;
Result_66702 = 0;
LOC1 = 0;
LOC1 = rawNewString(Cc_66041[(C_66701)-1].Name->Sup.len + 14);
appendString(LOC1, Cc_66041[(C_66701)-1].Name);
appendString(LOC1, ((NimStringDesc*) &TMP194797));
Result_66702 = Getconfigvar_42133(LOC1);
if (!((Result_66702) && (Result_66702)->Sup.len == 0)) goto LA3;
Result_66702 = copyString(Cc_66041[(C_66701)-1].Debug);
LA3: ;
return Result_66702;
}
N_NIMCALL(NimStringDesc*, Getoptspeed_66687)(NU8 C_66689) {
NimStringDesc* Result_66690;
NimStringDesc* LOC1;
Result_66690 = 0;
LOC1 = 0;
LOC1 = rawNewString(Cc_66041[(C_66689)-1].Name->Sup.len + 14);
appendString(LOC1, Cc_66041[(C_66689)-1].Name);
appendString(LOC1, ((NimStringDesc*) &TMP194799));
Result_66690 = Getconfigvar_42133(LOC1);
if (!((Result_66690) && (Result_66690)->Sup.len == 0)) goto LA3;
Result_66690 = copyString(Cc_66041[(C_66689)-1].Optspeed);
LA3: ;
return Result_66690;
}
N_NIMCALL(NimStringDesc*, Getoptsize_66711)(NU8 C_66713) {
NimStringDesc* Result_66714;
NimStringDesc* LOC1;
Result_66714 = 0;
LOC1 = 0;
LOC1 = rawNewString(Cc_66041[(C_66713)-1].Name->Sup.len + 13);
appendString(LOC1, Cc_66041[(C_66713)-1].Name);
appendString(LOC1, ((NimStringDesc*) &TMP194801));
Result_66714 = Getconfigvar_42133(LOC1);
if (!((Result_66714) && (Result_66714)->Sup.len == 0)) goto LA3;
Result_66714 = copyString(Cc_66041[(C_66713)-1].Optsize);
LA3: ;
return Result_66714;
}
static N_INLINE(void, appendChar)(NimStringDesc* Dest_18609, NIM_CHAR C_18610) {
(*Dest_18609).data[((*Dest_18609).Sup.len)-0] = C_18610;
(*Dest_18609).data[((NI32)((*Dest_18609).Sup.len + 1))-0] = 0;
(*Dest_18609).Sup.len += 1;
}
N_NIMCALL(NimStringDesc*, Getcompilecfilecmd_66348)(NimStringDesc* Cfilename_66350, NIM_BOOL Isexternal_66351) {
NimStringDesc* Result_66730;
NimStringDesc* Cfile_66731;
NimStringDesc* Objfile_66732;
NimStringDesc* Options_66733;
NimStringDesc* Includecmd_66734;
NimStringDesc* Compilepattern_66735;
NimStringDesc* Key_66736;
NimStringDesc* Trunk_66737;
NimStringDesc* Exe_66738;
NU8 C_66739;
TY34515 LOC1;
NimStringDesc* LOC5;
NIM_BOOL LOC7;
NimStringDesc* LOC10;
NimStringDesc* LOC11;
NimStringDesc* LOC15;
NIM_BOOL LOC17;
NimStringDesc* LOC20;
NimStringDesc* LOC21;
NimStringDesc* LOC24;
NIM_BOOL LOC26;
NimStringDesc* LOC29;
NimStringDesc* LOC30;
NimStringDesc* LOC31;
NIM_BOOL LOC33;
NimStringDesc* LOC36;
NimStringDesc* LOC37;
NIM_BOOL LOC39;
NIM_BOOL LOC46;
NimStringDesc* LOC50;
NimStringDesc* LOC54;
NIM_BOOL LOC59;
NimStringDesc* LOC63;
NimStringDesc* LOC64;
TY66884 LOC65;
NimStringDesc* LOC66;
TY66884 LOC67;
NimStringDesc* LOC68;
Result_66730 = 0;
Cfile_66731 = 0;
Objfile_66732 = 0;
Options_66733 = 0;
Includecmd_66734 = 0;
Compilepattern_66735 = 0;
Key_66736 = 0;
Trunk_66737 = 0;
Exe_66738 = 0;
C_66739 = 0;
C_66739 = Ccompiler_66340;
Options_66733 = copyString(Compileoptions_66391);
memset((void*)&LOC1, 0, sizeof(LOC1));
nossplitFile(Cfilename_66350, &LOC1);
Trunk_66737 = copyString(LOC1.Name);
if (!((Gglobaloptions_42077 &(1<<((((NU8) 9))&31)))!=0)) goto LA3;
LOC5 = 0;
LOC5 = rawNewString(Trunk_66737->Sup.len + 6);
appendString(LOC5, Trunk_66737);
appendString(LOC5, ((NimStringDesc*) &TMP194796));
Key_66736 = LOC5;
LOC7 = Existsconfigvar_42130(Key_66736);
if (!LOC7) goto LA8;
LOC10 = 0;
LOC10 = Getconfigvar_42133(Key_66736);
Addopt_66571(&Options_66733, LOC10);
goto LA6;
LA8: ;
LOC11 = 0;
LOC11 = Getdebug_66699(C_66739);
Addopt_66571(&Options_66733, LOC11);
LA6: ;
LA3: ;
if (!((Goptions_42075 &(1<<((((NU8) 13))&31)))!=0)) goto LA13;
LOC15 = 0;
LOC15 = rawNewString(Trunk_66737->Sup.len + 6);
appendString(LOC15, Trunk_66737);
appendString(LOC15, ((NimStringDesc*) &TMP194798));
Key_66736 = LOC15;
LOC17 = Existsconfigvar_42130(Key_66736);
if (!LOC17) goto LA18;
LOC20 = 0;
LOC20 = Getconfigvar_42133(Key_66736);
Addopt_66571(&Options_66733, LOC20);
goto LA16;
LA18: ;
LOC21 = 0;
LOC21 = Getoptspeed_66687(C_66739);
Addopt_66571(&Options_66733, LOC21);
LA16: ;
goto LA12;
LA13: ;
if (!((Goptions_42075 &(1<<((((NU8) 14))&31)))!=0)) goto LA22;
LOC24 = 0;
LOC24 = rawNewString(Trunk_66737->Sup.len + 5);
appendString(LOC24, Trunk_66737);
appendString(LOC24, ((NimStringDesc*) &TMP194800));
Key_66736 = LOC24;
LOC26 = Existsconfigvar_42130(Key_66736);
if (!LOC26) goto LA27;
LOC29 = 0;
LOC29 = Getconfigvar_42133(Key_66736);
Addopt_66571(&Options_66733, LOC29);
goto LA25;
LA27: ;
LOC30 = 0;
LOC30 = Getoptsize_66711(C_66739);
Addopt_66571(&Options_66733, LOC30);
LA25: ;
goto LA12;
LA22: ;
LA12: ;
LOC31 = 0;
LOC31 = rawNewString(Trunk_66737->Sup.len + 7);
appendString(LOC31, Trunk_66737);
appendString(LOC31, ((NimStringDesc*) &TMP194802));
Key_66736 = LOC31;
LOC33 = Existsconfigvar_42130(Key_66736);
if (!LOC33) goto LA34;
LOC36 = 0;
LOC36 = Getconfigvar_42133(Key_66736);
Addopt_66571(&Options_66733, LOC36);
LA34: ;
Exe_66738 = copyString(Cc_66041[(C_66739)-1].Compilerexe);
LOC37 = 0;
LOC37 = rawNewString(Cc_66041[(C_66739)-1].Name->Sup.len + 4);
appendString(LOC37, Cc_66041[(C_66739)-1].Name);
appendString(LOC37, ((NimStringDesc*) &TMP194803));
Key_66736 = LOC37;
LOC39 = Existsconfigvar_42130(Key_66736);
if (!LOC39) goto LA40;
Exe_66738 = Getconfigvar_42133(Key_66736);
LA40: ;
if (!(Targetos_47562 == ((NU8) 2))) goto LA43;
Exe_66738 = nosaddFileExt(Exe_66738, ((NimStringDesc*) &TMP194804));
LA43: ;
LOC46 = ((Gglobaloptions_42077 &(1<<((((NU8) 10))&31)))!=0);
if (!(LOC46)) goto LA47;
LOC46 = ((Os_47053[(Targetos_47562)-1].Props &(1<<((((NU8) 0))&7)))!=0);
LA47: ;
if (!LOC46) goto LA48;
LOC50 = 0;
LOC50 = rawNewString(Cc_66041[(C_66739)-1].Pic->Sup.len + 1);
appendChar(LOC50, 32);
appendString(LOC50, Cc_66041[(C_66739)-1].Pic);
Options_66733 = resizeString(Options_66733, LOC50->Sup.len + 0);
appendString(Options_66733, LOC50);
LA48: ;
if (!(Targetos_47562 == Hostos_47563)) goto LA52;
Includecmd_66734 = copyString(Cc_66041[(C_66739)-1].Includecmd);
LOC54 = 0;
LOC54 = Quoteifcontainswhite_26283(Libpath_42110);
Includecmd_66734 = resizeString(Includecmd_66734, LOC54->Sup.len + 0);
appendString(Includecmd_66734, LOC54);
Compilepattern_66735 = nosJoinPath(Ccompilerpath_66392, Exe_66738);
goto LA51;
LA52: ;
Includecmd_66734 = copyString(((NimStringDesc*) &TMP66271));
Compilepattern_66735 = copyString(Cc_66041[(C_66739)-1].Compilerexe);
LA51: ;
if (!(Targetos_47562 == Hostos_47563)) goto LA56;
Cfile_66731 = copyString(Cfilename_66350);
goto LA55;
LA56: ;
Cfile_66731 = nosextractFilename(Cfilename_66350);
LA55: ;
LOC59 = !(Isexternal_66351);
if (LOC59) goto LA60;
LOC59 = !((Targetos_47562 == Hostos_47563));
LA60: ;
if (!LOC59) goto LA61;
Objfile_66732 = Toobjfile_66367(Cfile_66731);
goto LA58;
LA61: ;
LOC63 = 0;
LOC63 = Toobjfile_66367(Cfile_66731);
Objfile_66732 = Completecfilepath_66344(LOC63, NIM_TRUE);
LA58: ;
LOC64 = 0;
LOC64 = nosaddFileExt(Cfile_66731, Cext_66342);
Cfile_66731 = Quoteifcontainswhite_26283(LOC64);
Objfile_66732 = Quoteifcontainswhite_26283(Objfile_66732);
memset((void*)&LOC65, 0, sizeof(LOC65));
LOC65[0] = copyString(((NimStringDesc*) &TMP194805));
LOC65[1] = copyString(Cfile_66731);
LOC65[2] = copyString(((NimStringDesc*) &TMP194806));
LOC65[3] = copyString(Objfile_66732);
LOC65[4] = copyString(((NimStringDesc*) &TMP194807));
LOC65[5] = copyString(Options_66733);
LOC65[6] = copyString(((NimStringDesc*) &TMP194808));
LOC65[7] = copyString(Includecmd_66734);
LOC65[8] = copyString(((NimStringDesc*) &TMP194809));
LOC65[9] = Getprefixdir_42107();
LOC65[10] = copyString(((NimStringDesc*) &TMP194810));
LOC65[11] = copyString(Libpath_42110);
LOC66 = 0;
LOC66 = nsuFormatOpenArray(Compilepattern_66735, LOC65, 12);
Result_66730 = Quoteifcontainswhite_26283(LOC66);
Result_66730 = addChar(Result_66730, 32);
memset((void*)&LOC67, 0, sizeof(LOC67));
LOC67[0] = copyString(((NimStringDesc*) &TMP194805));
LOC67[1] = copyString(Cfile_66731);
LOC67[2] = copyString(((NimStringDesc*) &TMP194806));
LOC67[3] = copyString(Objfile_66732);
LOC67[4] = copyString(((NimStringDesc*) &TMP194807));
LOC67[5] = copyString(Options_66733);
LOC67[6] = copyString(((NimStringDesc*) &TMP194808));
LOC67[7] = copyString(Includecmd_66734);
LOC67[8] = copyString(((NimStringDesc*) &TMP194809));
LOC68 = 0;
LOC68 = Getprefixdir_42107();
LOC67[9] = Quoteifcontainswhite_26283(LOC68);
LOC67[10] = copyString(((NimStringDesc*) &TMP194810));
LOC67[11] = Quoteifcontainswhite_26283(Libpath_42110);
nsuAddf(&Result_66730, Cc_66041[(C_66739)-1].Compiletmpl, LOC67, 12);
return Result_66730;
}
N_NIMCALL(void, Addfiletocompile_66352)(NimStringDesc* Filename_66354) {
Appendstr_39061(&Tocompile_66388, Filename_66354);
}
N_NIMCALL(TY48008*, Genmappingfiles_67229)(TY39019* List_67231) {
TY48008* Result_67232;
TY39015* It_67233;
TY48446 LOC2;
NimStringDesc* LOC3;
Result_67232 = 0;
It_67233 = 0;
It_67233 = ((TY39015*) ((*List_67231).Head));
while (1) {
if (!!((It_67233 == NIM_NIL))) goto LA1;
memset((void*)&LOC2, 0, sizeof(LOC2));
LOC3 = 0;
LOC3 = nosaddFileExt((*It_67233).Data, Cext_66342);
LOC2[0] = Torope_48046(LOC3);
Appf_48074(&Result_67232, ((NimStringDesc*) &TMP194821), LOC2, 1);
It_67233 = ((TY39015*) ((*It_67233).Sup.Next));
} LA1: ;
return Result_67232;
}
N_NIMCALL(void, Writemapping_66384)(TY48008* Gsymbolmapping_66386) {
TY48008* Code_67265;
TY48008* LOC4;
TY48008* LOC5;
TY48446 LOC6;
NimStringDesc* LOC7;
if (!!(((Gglobaloptions_42077 &(1<<((((NU8) 13))&31)))!=0))) goto LA2;
goto BeforeRet;
LA2: ;
Code_67265 = 0;
Code_67265 = Torope_48046(((NimStringDesc*) &TMP194820));
LOC4 = 0;
LOC4 = Genmappingfiles_67229(&Tocompile_66388);
App_48031(&Code_67265, LOC4);
LOC5 = 0;
LOC5 = Genmappingfiles_67229(&Externaltocompile_66389);
App_48031(&Code_67265, LOC5);
memset((void*)&LOC6, 0, sizeof(LOC6));
LOC6[0] = Gsymbolmapping_66386;
Appf_48074(&Code_67265, ((NimStringDesc*) &TMP194822), LOC6, 1);
LOC7 = 0;
LOC7 = nosJoinPath(Projectpath_42111, ((NimStringDesc*) &TMP194823));
Writerope_48058(Code_67265, LOC7);
BeforeRet: ;
}
N_NIMCALL(void, Compilecfile_66891)(TY39019* List_66893, TY48008** Script_66895, TY35221** Cmds_66897, NIM_BOOL Isexternal_66898) {
TY39015* It_66899;
NimStringDesc* Compilecmd_66923;
It_66899 = 0;
It_66899 = ((TY39015*) ((*List_66893).Head));
while (1) {
if (!!((It_66899 == NIM_NIL))) goto LA1;
Filecounter_66725 += 1;
Compilecmd_66923 = 0;
Compilecmd_66923 = Getcompilecfilecmd_66348((*It_66899).Data, Isexternal_66898);
if (!!(((Gglobaloptions_42077 &(1<<((((NU8) 6))&31)))!=0))) goto LA3;
(*Cmds_66897) = (TY35221*) incrSeq(&((*Cmds_66897))->Sup, sizeof(NimStringDesc*));
asgnRefNoCycle((void**) &(*Cmds_66897)->data[(*Cmds_66897)->Sup.len-1], copyString(Compilecmd_66923));
LA3: ;
if (!((Gglobaloptions_42077 &(1<<((((NU8) 12))&31)))!=0)) goto LA6;
App_48036(Script_66895, Compilecmd_66923);
App_48036(Script_66895, Tnl_47573);
LA6: ;
It_66899 = ((TY39015*) ((*It_66899).Sup.Next));
} LA1: ;
}
N_NIMCALL(void, Execexternalprogram_66373)(NimStringDesc* Cmd_66375) {
NIM_BOOL LOC2;
NI LOC7;
LOC2 = ((Gglobaloptions_42077 &(1<<((((NU8) 5))&31)))!=0);
if (LOC2) goto LA3;
LOC2 = (0 < Gverbosity_42083);
LA3: ;
if (!LOC2) goto LA4;
Messageout_43550(Cmd_66375);
LA4: ;
LOC7 = nospexecCmd(Cmd_66375);
if (!!((LOC7 == 0))) goto LA8;
Rawmessage_43553(((NU8) 62), ((NimStringDesc*) &TMP66271));
LA8: ;
}
N_NIMCALL(void, Generatescript_66672)(NimStringDesc* Projectfile_66674, TY48008* Script_66675) {
TY34515 LOC1;
NimStringDesc* Dir_66676;
NimStringDesc* Name_66677;
NimStringDesc* Ext_66678;
NimStringDesc* LOC2;
NimStringDesc* LOC3;
NimStringDesc* LOC4;
memset((void*)&LOC1, 0, sizeof(LOC1));
nossplitFile(Projectfile_66674, &LOC1);
Dir_66676 = 0;
Dir_66676 = copyString(LOC1.Dir);
Name_66677 = 0;
Name_66677 = copyString(LOC1.Name);
Ext_66678 = 0;
Ext_66678 = copyString(LOC1.Ext);
LOC2 = 0;
LOC2 = rawNewString(Name_66677->Sup.len + 8);
appendString(LOC2, ((NimStringDesc*) &TMP194885));
appendString(LOC2, Name_66677);
LOC3 = 0;
LOC3 = nosaddFileExt(LOC2, Os_47053[(Targetos_47562)-1].Scriptext);
LOC4 = 0;
LOC4 = HEX2F_34318(Dir_66676, LOC3);
Writerope_48058(Script_66675, LOC4);
}
N_NIMCALL(void, Callccompiler_66370)(NimStringDesc* Projectfile_66372) {
NimStringDesc* Linkcmd_66968;
NimStringDesc* Buildgui_66969;
NimStringDesc* Builddll_66970;
NU8 C_66992;
TY48008* Script_66993;
TY35221* Cmds_67010;
NI Res_67028;
NI I_67053;
NI HEX3Atmp_67223;
NI Res_67225;
NI LOC14;
NIM_BOOL LOC15;
TY42349 LOC22;
NimStringDesc* Linkerexe_67100;
NimStringDesc* LOC26;
NimStringDesc* LOC36;
NimStringDesc* Exefile_67134;
TY43865 LOC43;
TY34515 LOC44;
NimStringDesc* LOC45;
TY34515 LOC46;
TY34515 LOC50;
TY39015* It_67167;
NimStringDesc* Objfiles_67168;
NimStringDesc* LOC55;
NimStringDesc* LOC56;
NimStringDesc* LOC57;
NimStringDesc* LOC58;
NimStringDesc* LOC59;
TY67191 LOC60;
NimStringDesc* LOC61;
TY67191 LOC62;
NimStringDesc* LOC63;
Linkcmd_66968 = 0;
Buildgui_66969 = 0;
Builddll_66970 = 0;
if (!((Gglobaloptions_42077 & 1074790400) == 1073741824)) goto LA2;
goto BeforeRet;
LA2: ;
Filecounter_66725 = 0;
C_66992 = 0;
C_66992 = Ccompiler_66340;
Script_66993 = 0;
Script_66993 = NIM_NIL;
Cmds_67010 = 0;
Cmds_67010 = (TY35221*) newSeq(NTI35221, 0);
Compilecfile_66891(&Tocompile_66388, &Script_66993, &Cmds_67010, NIM_FALSE);
Compilecfile_66891(&Externaltocompile_66389, &Script_66993, &Cmds_67010, NIM_TRUE);
if (!!(((Gglobaloptions_42077 &(1<<((((NU8) 6))&31)))!=0))) goto LA5;
if (!(Gnumberofprocessors_42084 == 0)) goto LA8;
Gnumberofprocessors_42084 = nospcountProcessors();
LA8: ;
Res_67028 = 0;
Res_67028 = 0;
if (!(Gnumberofprocessors_42084 <= 1)) goto LA11;
I_67053 = 0;
HEX3Atmp_67223 = 0;
HEX3Atmp_67223 = (Cmds_67010->Sup.len-1);
Res_67225 = 0;
Res_67225 = 0;
while (1) {
if (!(Res_67225 <= HEX3Atmp_67223)) goto LA13;
I_67053 = Res_67225;
LOC14 = nospexecCmd(Cmds_67010->data[I_67053]);
Res_67028 = ((LOC14 >= Res_67028) ? LOC14 : Res_67028);
Res_67225 += 1;
} LA13: ;
goto LA10;
LA11: ;
LOC15 = ((Gglobaloptions_42077 &(1<<((((NU8) 5))&31)))!=0);
if (LOC15) goto LA16;
LOC15 = (0 < Gverbosity_42083);
LA16: ;
if (!LOC15) goto LA17;
Res_67028 = nospexecProcesses(Cmds_67010->data, Cmds_67010->Sup.len, 11, Gnumberofprocessors_42084);
goto LA10;
LA17: ;
Res_67028 = nospexecProcesses(Cmds_67010->data, Cmds_67010->Sup.len, 10, Gnumberofprocessors_42084);
LA10: ;
if (!!((Res_67028 == 0))) goto LA20;
memset((void*)&LOC22, 0, sizeof(LOC22));
Rawmessage_43557(((NU8) 62), LOC22, 0);
LA20: ;
LA5: ;
if (!!(((Gglobaloptions_42077 &(1<<((((NU8) 7))&31)))!=0))) goto LA24;
Linkerexe_67100 = 0;
LOC26 = 0;
LOC26 = rawNewString(Cc_66041[(C_66992)-1].Name->Sup.len + 10);
appendString(LOC26, Cc_66041[(C_66992)-1].Name);
appendString(LOC26, ((NimStringDesc*) &TMP194880));
Linkerexe_67100 = Getconfigvar_42133(LOC26);
if (!(Linkerexe_67100->Sup.len == 0)) goto LA28;
Linkerexe_67100 = copyString(Cc_66041[(C_66992)-1].Linkerexe);
LA28: ;
if (!(Targetos_47562 == ((NU8) 2))) goto LA31;
Linkerexe_67100 = nosaddFileExt(Linkerexe_67100, ((NimStringDesc*) &TMP194804));
LA31: ;
if (!!((Hostos_47563 == Targetos_47562))) goto LA34;
Linkcmd_66968 = Quoteifcontainswhite_26283(Linkerexe_67100);
goto LA33;
LA34: ;
LOC36 = 0;
LOC36 = nosJoinPath(Ccompilerpath_66392, Linkerexe_67100);
Linkcmd_66968 = Quoteifcontainswhite_26283(LOC36);
LA33: ;
if (!((Gglobaloptions_42077 &(1<<((((NU8) 11))&31)))!=0)) goto LA38;
Buildgui_66969 = copyString(Cc_66041[(C_66992)-1].Buildgui);
goto LA37;
LA38: ;
Buildgui_66969 = copyString(((NimStringDesc*) &TMP66271));
LA37: ;
Exefile_67134 = 0;
if (!((Gglobaloptions_42077 &(1<<((((NU8) 10))&31)))!=0)) goto LA41;
memset((void*)&LOC43, 0, sizeof(LOC43));
memset((void*)&LOC44, 0, sizeof(LOC44));
nossplitFile(Projectfile_66372, &LOC44);
LOC43[0] = copyString(LOC44.Name);
Exefile_67134 = nsuFormatOpenArray(Os_47053[(Targetos_47562)-1].Dllfrmt, LOC43, 1);
Builddll_66970 = copyString(Cc_66041[(C_66992)-1].Builddll);
goto LA40;
LA41: ;
LOC45 = 0;
memset((void*)&LOC46, 0, sizeof(LOC46));
nossplitFile(Projectfile_66372, &LOC46);
LOC45 = rawNewString(LOC46.Name->Sup.len + Os_47053[(Targetos_47562)-1].Exeext->Sup.len + 0);
appendString(LOC45, LOC46.Name);
appendString(LOC45, Os_47053[(Targetos_47562)-1].Exeext);
Exefile_67134 = LOC45;
Builddll_66970 = copyString(((NimStringDesc*) &TMP66271));
LA40: ;
if (!(Targetos_47562 == Hostos_47563)) goto LA48;
memset((void*)&LOC50, 0, sizeof(LOC50));
nossplitFile(Projectfile_66372, &LOC50);
Exefile_67134 = nosJoinPath(LOC50.Dir, Exefile_67134);
LA48: ;
Exefile_67134 = Quoteifcontainswhite_26283(Exefile_67134);
It_67167 = 0;
It_67167 = ((TY39015*) (Tolink_66387.Head));
Objfiles_67168 = 0;
Objfiles_67168 = copyString(((NimStringDesc*) &TMP66271));
while (1) {
if (!!((It_67167 == NIM_NIL))) goto LA51;
Objfiles_67168 = addChar(Objfiles_67168, 32);
if (!(Targetos_47562 == Hostos_47563)) goto LA53;
LOC55 = 0;
LOC55 = Toobjfile_66367((*It_67167).Data);
LOC56 = 0;
LOC56 = Quoteifcontainswhite_26283(LOC55);
Objfiles_67168 = resizeString(Objfiles_67168, LOC56->Sup.len + 0);
appendString(Objfiles_67168, LOC56);
goto LA52;
LA53: ;
LOC57 = 0;
LOC57 = nosextractFilename((*It_67167).Data);
LOC58 = 0;
LOC58 = Toobjfile_66367(LOC57);
LOC59 = 0;
LOC59 = Quoteifcontainswhite_26283(LOC58);
Objfiles_67168 = resizeString(Objfiles_67168, LOC59->Sup.len + 0);
appendString(Objfiles_67168, LOC59);
LA52: ;
It_67167 = ((TY39015*) ((*It_67167).Sup.Next));
} LA51: ;
memset((void*)&LOC60, 0, sizeof(LOC60));
LOC60[0] = copyString(((NimStringDesc*) &TMP194881));
LOC60[1] = copyString(Builddll_66970);
LOC60[2] = copyString(((NimStringDesc*) &TMP194882));
LOC60[3] = copyString(Buildgui_66969);
LOC60[4] = copyString(((NimStringDesc*) &TMP194807));
LOC60[5] = copyString(Linkoptions_66390);
LOC60[6] = copyString(((NimStringDesc*) &TMP194883));
LOC60[7] = copyString(Objfiles_67168);
LOC60[8] = copyString(((NimStringDesc*) &TMP194884));
LOC60[9] = copyString(Exefile_67134);
LOC60[10] = copyString(((NimStringDesc*) &TMP194809));
LOC60[11] = Getprefixdir_42107();
LOC60[12] = copyString(((NimStringDesc*) &TMP194810));
LOC60[13] = copyString(Libpath_42110);
LOC61 = 0;
LOC61 = nsuFormatOpenArray(Linkcmd_66968, LOC60, 14);
Linkcmd_66968 = Quoteifcontainswhite_26283(LOC61);
Linkcmd_66968 = addChar(Linkcmd_66968, 32);
memset((void*)&LOC62, 0, sizeof(LOC62));
LOC62[0] = copyString(((NimStringDesc*) &TMP194881));
LOC62[1] = copyString(Builddll_66970);
LOC62[2] = copyString(((NimStringDesc*) &TMP194882));
LOC62[3] = copyString(Buildgui_66969);
LOC62[4] = copyString(((NimStringDesc*) &TMP194807));
LOC62[5] = copyString(Linkoptions_66390);
LOC62[6] = copyString(((NimStringDesc*) &TMP194883));
LOC62[7] = copyString(Objfiles_67168);
LOC62[8] = copyString(((NimStringDesc*) &TMP194884));
LOC62[9] = copyString(Exefile_67134);
LOC62[10] = copyString(((NimStringDesc*) &TMP194809));
LOC63 = 0;
LOC63 = Getprefixdir_42107();
LOC62[11] = Quoteifcontainswhite_26283(LOC63);
LOC62[12] = copyString(((NimStringDesc*) &TMP194810));
LOC62[13] = Quoteifcontainswhite_26283(Libpath_42110);
nsuAddf(&Linkcmd_66968, Cc_66041[(C_66992)-1].Linktmpl, LOC62, 14);
if (!!(((Gglobaloptions_42077 &(1<<((((NU8) 6))&31)))!=0))) goto LA65;
Execexternalprogram_66373(Linkcmd_66968);
LA65: ;
goto LA23;
LA24: ;
Linkcmd_66968 = copyString(((NimStringDesc*) &TMP66271));
LA23: ;
if (!((Gglobaloptions_42077 &(1<<((((NU8) 12))&31)))!=0)) goto LA68;
App_48036(&Script_66993, Linkcmd_66968);
App_48036(&Script_66993, Tnl_47573);
Generatescript_66672(Projectfile_66372, Script_66993);
LA68: ;
BeforeRet: ;
}
N_NIMCALL(void, Writeln_66630)(FILE* F_66633, NimStringDesc* X_66634) {
Write_3658(F_66633, X_66634);
Write_3658(F_66633, ((NimStringDesc*) &TMP195504));
}
N_NOINLINE(void, extccompInit)(void) {
Ccompiler_66340 = ((NU8) 1);
asgnRefNoCycle((void**) &Cext_66342, copyString(((NimStringDesc*) &TMP66343)));
Tolink_66387.m_type = NTI39019;
Tocompile_66388.m_type = NTI39019;
Externaltocompile_66389.m_type = NTI39019;
asgnRefNoCycle((void**) &Linkoptions_66390, copyString(((NimStringDesc*) &TMP66271)));
asgnRefNoCycle((void**) &Compileoptions_66391, copyString(((NimStringDesc*) &TMP66271)));
asgnRefNoCycle((void**) &Ccompilerpath_66392, copyString(((NimStringDesc*) &TMP66271)));
}

