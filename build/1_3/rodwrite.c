/* Generated by Nimrod Compiler v0.8.11 */
/*   (c) 2011 Andreas Rumpf */

typedef long int NI;
typedef unsigned long int NU;
#include "nimbase.h"

typedef struct TY51901 TY51901;
typedef struct TY51897 TY51897;
typedef struct TY51899 TY51899;
typedef struct TGenericSeq TGenericSeq;
typedef struct TY102006 TY102006;
typedef struct TY102002 TY102002;
typedef struct TY51548 TY51548;
typedef struct NimStringDesc NimStringDesc;
typedef struct TY90031 TY90031;
typedef struct TY51526 TY51526;
typedef struct TY50005 TY50005;
typedef struct TNimObject TNimObject;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct TY51552 TY51552;
typedef struct TY50011 TY50011;
typedef struct TY43539 TY43539;
typedef struct TY51530 TY51530;
typedef struct TY51528 TY51528;
typedef struct TY51540 TY51540;
typedef struct TY48008 TY48008;
typedef struct TY51544 TY51544;
typedef struct TY108004 TY108004;
typedef struct TY90029 TY90029;
typedef struct TY56220 TY56220;
typedef struct TY56218 TY56218;
typedef struct TY56216 TY56216;
typedef struct TY51550 TY51550;
typedef struct TY35021 TY35021;
typedef struct TY10802 TY10802;
typedef struct TY10814 TY10814;
typedef struct TY11196 TY11196;
typedef struct TY10818 TY10818;
typedef struct TY10810 TY10810;
typedef struct TY11194 TY11194;
typedef struct TY56076 TY56076;
typedef struct TY51520 TY51520;
typedef struct TY39013 TY39013;
typedef struct TY51564 TY51564;
typedef struct TY51562 TY51562;
typedef struct TY51560 TY51560;
struct TGenericSeq {
NI len;
NI space;
};
struct TY51901 {
NI Counter;
NI Max;
TY51897* Head;
TY51899* Data;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
typedef N_NIMCALL_PTR(TY102002*, TY102007) (TY51548* Module_102008, NimStringDesc* Filename_102009);
typedef N_NIMCALL_PTR(TY102002*, TY102012) (TY51548* Module_102013, NimStringDesc* Filename_102014, TY90031* Rd_102015);
typedef N_NIMCALL_PTR(TY51526*, TY102018) (TY102002* P_102019, TY51526* N_102020);
typedef N_NIMCALL_PTR(TY51526*, TY102023) (TY102002* P_102024, TY51526* Toplevelstmt_102025);
struct TY102006 {
TY102007 Open;
TY102012 Opencached;
TY102018 Close;
TY102023 Process;
};
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TNimObject {
TNimType* m_type;
};
struct TY50005 {
  TNimObject Sup;
NI Id;
};
struct TY43539 {
NI16 Line;
NI16 Col;
NI32 Fileindex;
};
struct TY51530 {
TNimType* m_type;
NI Counter;
TY51528* Data;
};
struct TY51540 {
NU8 K;
NU8 S;
NU8 Flags;
TY51552* T;
TY48008* R;
NI A;
};
struct TY51548 {
  TY50005 Sup;
NU8 Kind;
NU8 Magic;
TY51552* Typ;
TY50011* Name;
TY43539 Info;
TY51548* Owner;
NU32 Flags;
TY51530 Tab;
TY51526* Ast;
NU32 Options;
NI Position;
NI Offset;
TY51540 Loc;
TY51544* Annex;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct TY102002 {
  TNimObject Sup;
};
struct TY56216 {
NI Key;
NI Val;
};
struct TY56220 {
NI Counter;
TY56218* Data;
};
struct TY90029 {
NI Lastidxkey;
NI Lastidxval;
TY56220 Tab;
TY48008* R;
NI Offset;
};
struct TY108004 {
  TY102002 Sup;
TY51548* Module;
NI32 Crc;
NU32 Options;
TY48008* Defines;
TY48008* Incldeps;
TY48008* Moddeps;
TY48008* Interf;
TY48008* Compilerprocs;
TY90029 Index;
TY90029 Imports;
TY48008* Converters;
TY48008* Init;
TY48008* Data;
NimStringDesc* Filename;
TY51528* Sstack;
TY51550* Tstack;
TY35021* Files;
};
struct TY10802 {
NI Refcount;
TNimType* Typ;
};
struct TY10818 {
NI Len;
NI Cap;
TY10802** D;
};
struct TY10814 {
NI Counter;
NI Max;
TY10810* Head;
TY10810** Data;
};
struct TY11194 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY11196 {
TY10818 Zct;
TY10818 Decstack;
TY10814 Cycleroots;
TY10818 Tempstack;
TY11194 Stat;
};
struct TY56076 {
NI H;
};
struct TY50011 {
  TY50005 Sup;
NimStringDesc* S;
TY50011* Next;
NI H;
};
typedef TY48008* TY172845[2];
typedef TY48008* TY48407[1];
struct TY51552 {
  TY50005 Sup;
NU8 Kind;
TY51550* Sons;
TY51526* N;
NU8 Flags;
NU8 Callconv;
TY51548* Owner;
TY51548* Sym;
NI64 Size;
NI Align;
NI Containerid;
TY51540 Loc;
};
typedef TY48008* TY158012[3];
struct TY51526 {
TY51552* Typ;
NimStringDesc* Comment;
TY43539 Info;
NU8 Flags;
NU8 Kind;
union {
struct {NI64 Intval;
} S1;
struct {NF64 Floatval;
} S2;
struct {NimStringDesc* Strval;
} S3;
struct {TY51548* Sym;
} S4;
struct {TY50011* Ident;
} S5;
struct {TY51520* Sons;
} S6;
} KindU;
};
struct TY39013 {
  TNimObject Sup;
TY39013* Prev;
TY39013* Next;
};
struct TY51544 {
  TY39013 Sup;
NU8 Kind;
NIM_BOOL Generated;
TY48008* Name;
TY51526* Path;
};
typedef NI TY8814[16];
struct TY51897 {
TY51897* Next;
NI Key;
TY8814 Bits;
};
struct TY51560 {
TY50005* Key;
TNimObject* Val;
};
struct TY51564 {
NI Counter;
TY51562* Data;
};
struct TY90031 {
  TNimObject Sup;
NI Pos;
NimStringDesc* S;
NU32 Options;
NU8 Reason;
TY35021* Moddeps;
TY35021* Files;
NI Dataidx;
NI Convertersidx;
NI Initidx;
NI Interfidx;
NI Compilerprocsidx;
NI Cgenidx;
NimStringDesc* Filename;
TY90029 Index;
TY90029 Imports;
NI Readerindex;
NI Line;
NI Moduleid;
TY51564 Syms;
};
struct TY48008 {
  TNimObject Sup;
TY48008* Left;
TY48008* Right;
NI Length;
NimStringDesc* Data;
};
struct TY10810 {
TY10810* Next;
NI Key;
TY8814 Bits;
};
struct TY51899 {
  TGenericSeq Sup;
  TY51897* data[SEQ_DECL_SIZE];
};
struct TY51528 {
  TGenericSeq Sup;
  TY51548* data[SEQ_DECL_SIZE];
};
struct TY56218 {
  TGenericSeq Sup;
  TY56216 data[SEQ_DECL_SIZE];
};
struct TY51550 {
  TGenericSeq Sup;
  TY51552* data[SEQ_DECL_SIZE];
};
struct TY35021 {
  TGenericSeq Sup;
  NimStringDesc* data[SEQ_DECL_SIZE];
};
struct TY51520 {
  TGenericSeq Sup;
  TY51526* data[SEQ_DECL_SIZE];
};
struct TY51562 {
  TGenericSeq Sup;
  TY51560 data[SEQ_DECL_SIZE];
};
N_NIMCALL(void, Intsetinit_51925)(TY51901* S_51928);
N_NIMCALL(void, Initpass_102031)(TY102006* P_102034);
N_NIMCALL(TY102002*, Myopen_109827)(TY51548* Module_109829, NimStringDesc* Filename_109830);
N_NIMCALL(void, Internalerror_43578)(NimStringDesc* Errmsg_43580);
N_NIMCALL(TY108004*, Newrodwriter_108024)(NimStringDesc* Modfilename_108026, NI32 Crc_108027, TY51548* Module_108028);
N_NIMCALL(void*, newObj)(TNimType* Typ_13910, NI Size_13911);
N_NIMCALL(void*, newSeq)(TNimType* Typ_14404, NI Len_14405);
static N_INLINE(void, asgnRef)(void** Dest_13214, void* Src_13215);
static N_INLINE(void, Incref_13202)(TY10802* C_13204);
static N_INLINE(NI, Atomicinc_3401)(NI* Memloc_3404, NI X_3405);
static N_INLINE(NIM_BOOL, Canbecycleroot_11616)(TY10802* C_11618);
static N_INLINE(void, Rtladdcycleroot_12252)(TY10802* C_12254);
N_NOINLINE(void, Incl_11080)(TY10814* S_11083, TY10802* Cell_11084);
static N_INLINE(TY10802*, Usrtocell_11612)(void* Usr_11614);
static N_INLINE(void, Decref_13001)(TY10802* C_13003);
static N_INLINE(NI, Atomicdec_3406)(NI* Memloc_3409, NI X_3410);
static N_INLINE(void, Rtladdzct_12601)(TY10802* C_12603);
N_NOINLINE(void, Addzct_11601)(TY10818* S_11604, TY10802* C_11605);
N_NIMCALL(void, Initiitable_56225)(TY56220* X_56228);
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13218, void* Src_13219);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* Src_18712);
N_NIMCALL(TY48008*, Getdefines_108056)(void);
N_NIMCALL(TY51548*, Inittabiter_56078)(TY56076* Ti_56081, TY51530* Tab_56082);
N_NIMCALL(void, App_48036)(TY48008** A_48039, NimStringDesc* B_48040);
N_NIMCALL(TY51548*, Nextiter_56083)(TY56076* Ti_56086, TY51530* Tab_56087);
N_NIMCALL(NI32, Getcrc_90064)(NimStringDesc* Filename_90066);
N_NIMCALL(void, Rawaddinterfacesym_109293)(TY108004* W_109295, TY51548* S_109296);
N_NIMCALL(void, Pushsym_108269)(TY108004* W_108271, TY51548* S_108272);
N_NIMCALL(NI, Iitableget_56229)(TY56220 T_56231, NI Key_56232);
N_NIMCALL(TGenericSeq*, setLengthSeq)(TGenericSeq* Seq_19003, NI Elemsize_19004, NI Newlen_19005);
N_NIMCALL(void, Processstacks_108053)(TY108004* W_108055);
N_NIMCALL(void, Symstack_109083)(TY108004* W_109085);
N_NIMCALL(TY51548*, Getmodule_56203)(TY51548* S_56205);
static N_INLINE(void, appendString)(NimStringDesc* Dest_18799, NimStringDesc* Src_18800);
N_NIMCALL(NimStringDesc*, rawNewString)(NI Space_18689);
N_NIMCALL(NI, Ropelen_48052)(TY48008* A_48054);
N_NIMCALL(void, Addtoindex_109066)(TY90029* W_109069, NI Key_109070, NI Val_109071);
N_NIMCALL(void, App_48031)(TY48008** A_48034, TY48008* B_48035);
N_NIMCALL(TY48008*, Encodeint_90073)(NI64 X_90075);
N_NIMCALL(void, Appf_48071)(TY48008** C_48074, NimStringDesc* Frmt_48075, TY48008** Args_48077, NI Args_48077Len0);
N_NIMCALL(void, Iitableput_56233)(TY56220* T_56236, NI Key_56237, NI Val_56238);
N_NIMCALL(TY48008*, Encodesym_108853)(TY108004* W_108855, TY51548* S_108856);
N_NIMCALL(TY48008*, Torope_48046)(NimStringDesc* S_48048);
N_NIMCALL(TY48008*, Encodestr_108048)(TY108004* W_108050, NimStringDesc* S_108051);
N_NIMCALL(TY48008*, Encode_90076)(NimStringDesc* S_90078);
N_NIMCALL(void, Pushtype_108240)(TY108004* W_108242, TY51552* T_108243);
N_NIMCALL(NI, Fileidx_108089)(TY108004* W_108091, NimStringDesc* Filename_108092);
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* A_18649, NimStringDesc* B_18650);
N_NIMCALL(NimStringDesc*, Tofilename_43586)(TY43539 Info_43588);
N_NIMCALL(NIM_BOOL, Astneeded_102041)(TY51548* S_102043);
N_NIMCALL(TY48008*, Encodenode_108298)(TY108004* W_108300, TY43539 Finfo_108301, TY51526* N_108302);
N_NIMCALL(NimStringDesc*, nimFloatToStr)(NF X_19463);
static N_INLINE(NI, Sonslen_51804)(TY51526* N_51806);
N_NIMCALL(TY48008*, Encodeloc_108548)(TY108004* W_108550, TY51540 Loc_108551);
N_NIMCALL(NimStringDesc*, Ropetostr_48063)(TY48008* P_48065);
N_NIMCALL(TY48008*, Ropef_48066)(NimStringDesc* Frmt_48068, TY48008** Args_48070, NI Args_48070Len0);
N_NIMCALL(TY48008*, Encodelib_108827)(TY108004* W_108829, TY51544* Lib_108830, TY43539 Info_108831);
N_NIMCALL(void, Typestack_109214)(TY108004* W_109216);
N_NIMCALL(TY48008*, Encodetype_108659)(TY108004* W_108661, TY51552* T_108662);
N_NIMCALL(TY43539, Unknownlineinfo_43543)(void);
static N_INLINE(NI, Sonslen_51807)(TY51552* N_51809);
N_NIMCALL(TY51526*, Myclose_109837)(TY102002* C_109839, TY51526* N_109840);
N_NIMCALL(void, Writerod_108045)(TY108004* W_108047);
N_NIMCALL(void, Writerope_48055)(TY48008* Head_48057, NimStringDesc* Filename_48058);
N_NIMCALL(NimStringDesc*, Completegeneratedfilepath_42101)(NimStringDesc* F_42103, NIM_BOOL Createsubdir_42104);
N_NIMCALL(NimStringDesc*, nosChangeFileExt)(NimStringDesc* Filename_34620, NimStringDesc* Ext_34621);
N_NIMCALL(TY51526*, Process_109405)(TY102002* C_109407, TY51526* N_109408);
N_NIMCALL(void, Addinterfacesym_108037)(TY108004* W_108039, TY51548* S_108040);
N_NIMCALL(void, Internalerror_43574)(TY43539 Info_43576, NimStringDesc* Errmsg_43577);
N_NIMCALL(void, Addmoddep_108029)(TY108004* W_108031, NimStringDesc* Dep_108032);
N_NIMCALL(NimStringDesc*, Getmodulefile_107013)(TY51526* N_107015);
N_NIMCALL(void, Addstmt_108041)(TY108004* W_108043, TY51526* N_108044);
N_NIMCALL(void, Addincldep_108033)(TY108004* W_108035, NimStringDesc* Dep_108036);
N_NIMCALL(NI32, Crcfromfile_46029)(NimStringDesc* Filename_46031);
STRING_LITERAL(TMP193812, "rodwrite: module ID not set", 27);
STRING_LITERAL(TMP193814, " ", 1);
STRING_LITERAL(TMP193815, "symStack: module nil: ", 22);
STRING_LITERAL(TMP193816, "\012", 1);
STRING_LITERAL(TMP193817, "$1 $2\012", 6);
STRING_LITERAL(TMP193818, "{}", 2);
STRING_LITERAL(TMP193819, "+$1", 3);
STRING_LITERAL(TMP193820, "&$1", 3);
STRING_LITERAL(TMP193821, "^$1", 3);
STRING_LITERAL(TMP193822, "?$1,$2,$3", 9);
STRING_LITERAL(TMP193823, "*$1", 3);
STRING_LITERAL(TMP193824, "$$$1", 4);
STRING_LITERAL(TMP193825, "@$1", 3);
STRING_LITERAL(TMP193826, "()", 2);
STRING_LITERAL(TMP193827, "(", 1);
STRING_LITERAL(TMP193828, "?$1,$2", 6);
STRING_LITERAL(TMP193829, "?$1", 3);
STRING_LITERAL(TMP193830, "!$1", 3);
STRING_LITERAL(TMP193831, ")", 1);
STRING_LITERAL(TMP193832, "%$1", 3);
STRING_LITERAL(TMP193833, "`$1", 3);
STRING_LITERAL(TMP193834, "<$1>", 4);
STRING_LITERAL(TMP193835, "|$1", 3);
STRING_LITERAL(TMP193836, "[]", 2);
STRING_LITERAL(TMP193837, "encodeType: tyForward", 21);
STRING_LITERAL(TMP193838, "/$1", 3);
STRING_LITERAL(TMP193839, "=$1", 3);
STRING_LITERAL(TMP193840, "^()", 3);
STRING_LITERAL(TMP193841, "NIM:", 4);
STRING_LITERAL(TMP193842, "1012", 4);
STRING_LITERAL(TMP193843, "ID:", 3);
STRING_LITERAL(TMP193844, "CRC:", 4);
STRING_LITERAL(TMP193845, "OPTIONS:", 8);
STRING_LITERAL(TMP193846, "DEFINES:", 8);
STRING_LITERAL(TMP193847, "FILES(\012", 7);
STRING_LITERAL(TMP193848, ")\012", 2);
STRING_LITERAL(TMP193849, "INCLUDES(\012", 10);
STRING_LITERAL(TMP193850, "DEPS:", 5);
STRING_LITERAL(TMP193851, "INTERF(\012", 8);
STRING_LITERAL(TMP193852, "COMPILERPROCS(\012", 15);
STRING_LITERAL(TMP193853, "INDEX(\012", 7);
STRING_LITERAL(TMP193854, "IMPORTS(\012", 9);
STRING_LITERAL(TMP193855, "CONVERTERS:", 11);
STRING_LITERAL(TMP193856, "INIT(\012", 6);
STRING_LITERAL(TMP193857, "DATA(\012", 6);
STRING_LITERAL(TMP193858, "rod", 3);
STRING_LITERAL(TMP193859, "rodwrite.process", 16);
TY51901 Debugwritten_109082;
extern NU32 Gglobaloptions_42079;
extern TNimType* NTI108006; /* PRodWriter */
extern TNimType* NTI108004; /* TRodWriter */
extern TNimType* NTI51528; /* TSymSeq */
extern TY11196 Gch_11214;
extern TNimType* NTI51550; /* TTypeSeq */
extern TY51530 Gsymbols_60001;
extern NU32 Goptions_42077;
extern TNimType* NTI35021; /* seq[string] */
static N_INLINE(NI, Atomicinc_3401)(NI* Memloc_3404, NI X_3405) {
NI Result_8007;
Result_8007 = 0;
(*Memloc_3404) += X_3405;
Result_8007 = (*Memloc_3404);
return Result_8007;
}
static N_INLINE(NIM_BOOL, Canbecycleroot_11616)(TY10802* C_11618) {
NIM_BOOL Result_11619;
Result_11619 = 0;
Result_11619 = !((((*(*C_11618).Typ).flags &(1<<((((NU8) 1))&7)))!=0));
return Result_11619;
}
static N_INLINE(void, Rtladdcycleroot_12252)(TY10802* C_12254) {
Incl_11080(&Gch_11214.Cycleroots, C_12254);
}
static N_INLINE(void, Incref_13202)(TY10802* C_13204) {
NI LOC1;
NIM_BOOL LOC3;
LOC1 = Atomicinc_3401(&(*C_13204).Refcount, 8);
LOC3 = Canbecycleroot_11616(C_13204);
if (!LOC3) goto LA4;
Rtladdcycleroot_12252(C_13204);
LA4: ;
}
static N_INLINE(TY10802*, Usrtocell_11612)(void* Usr_11614) {
TY10802* Result_11615;
Result_11615 = 0;
Result_11615 = ((TY10802*) ((NI32)((NU32)(((NI) (Usr_11614))) - (NU32)(((NI) (((NI)sizeof(TY10802))))))));
return Result_11615;
}
static N_INLINE(NI, Atomicdec_3406)(NI* Memloc_3409, NI X_3410) {
NI Result_8206;
Result_8206 = 0;
(*Memloc_3409) -= X_3410;
Result_8206 = (*Memloc_3409);
return Result_8206;
}
static N_INLINE(void, Rtladdzct_12601)(TY10802* C_12603) {
Addzct_11601(&Gch_11214.Zct, C_12603);
}
static N_INLINE(void, Decref_13001)(TY10802* C_13003) {
NI LOC2;
NIM_BOOL LOC5;
LOC2 = Atomicdec_3406(&(*C_13003).Refcount, 8);
if (!((NU32)(LOC2) < (NU32)(8))) goto LA3;
Rtladdzct_12601(C_13003);
goto LA1;
LA3: ;
LOC5 = Canbecycleroot_11616(C_13003);
if (!LOC5) goto LA6;
Rtladdcycleroot_12252(C_13003);
goto LA1;
LA6: ;
LA1: ;
}
static N_INLINE(void, asgnRef)(void** Dest_13214, void* Src_13215) {
TY10802* LOC4;
TY10802* LOC8;
if (!!((Src_13215 == NIM_NIL))) goto LA2;
LOC4 = Usrtocell_11612(Src_13215);
Incref_13202(LOC4);
LA2: ;
if (!!(((*Dest_13214) == NIM_NIL))) goto LA6;
LOC8 = Usrtocell_11612((*Dest_13214));
Decref_13001(LOC8);
LA6: ;
(*Dest_13214) = Src_13215;
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13218, void* Src_13219) {
TY10802* C_13220;
NI LOC4;
TY10802* C_13222;
NI LOC9;
if (!!((Src_13219 == NIM_NIL))) goto LA2;
C_13220 = 0;
C_13220 = Usrtocell_11612(Src_13219);
LOC4 = Atomicinc_3401(&(*C_13220).Refcount, 8);
LA2: ;
if (!!(((*Dest_13218) == NIM_NIL))) goto LA6;
C_13222 = 0;
C_13222 = Usrtocell_11612((*Dest_13218));
LOC9 = Atomicdec_3406(&(*C_13222).Refcount, 8);
if (!((NU32)(LOC9) < (NU32)(8))) goto LA10;
Rtladdzct_12601(C_13222);
LA10: ;
LA6: ;
(*Dest_13218) = Src_13219;
}
N_NIMCALL(TY48008*, Getdefines_108056)(void) {
TY48008* Result_108058;
TY56076 It_108059;
TY51548* S_108061;
Result_108058 = 0;
memset((void*)&It_108059, 0, sizeof(It_108059));
S_108061 = 0;
S_108061 = Inittabiter_56078(&It_108059, &Gsymbols_60001);
Result_108058 = NIM_NIL;
while (1) {
if (!!((S_108061 == NIM_NIL))) goto LA1;
if (!((*S_108061).Position == 1)) goto LA3;
if (!!((Result_108058 == NIM_NIL))) goto LA6;
App_48036(&Result_108058, ((NimStringDesc*) &TMP193814));
LA6: ;
App_48036(&Result_108058, (*(*S_108061).Name).S);
LA3: ;
S_108061 = Nextiter_56083(&It_108059, &Gsymbols_60001);
} LA1: ;
return Result_108058;
}
N_NIMCALL(TY108004*, Newrodwriter_108024)(NimStringDesc* Modfilename_108026, NI32 Crc_108027, TY51548* Module_108028) {
TY108004* Result_108148;
Result_108148 = 0;
Result_108148 = (TY108004*) newObj(NTI108006, sizeof(TY108004));
(*Result_108148).Sup.Sup.m_type = NTI108004;
asgnRef((void**) &(*Result_108148).Sstack, (TY51528*) newSeq(NTI51528, 0));
asgnRef((void**) &(*Result_108148).Tstack, (TY51550*) newSeq(NTI51550, 0));
Initiitable_56225(&(*Result_108148).Index.Tab);
Initiitable_56225(&(*Result_108148).Imports.Tab);
asgnRefNoCycle((void**) &(*Result_108148).Filename, copyString(Modfilename_108026));
(*Result_108148).Crc = Crc_108027;
asgnRef((void**) &(*Result_108148).Module, Module_108028);
asgnRefNoCycle((void**) &(*Result_108148).Defines, Getdefines_108056());
(*Result_108148).Options = Goptions_42077;
asgnRefNoCycle((void**) &(*Result_108148).Files, (TY35021*) newSeq(NTI35021, 0));
return Result_108148;
}
N_NIMCALL(void, Pushsym_108269)(TY108004* W_108271, TY51548* S_108272) {
NI LOC2;
NI L_108285;
LOC2 = Iitableget_56229((*W_108271).Index.Tab, (*S_108272).Sup.Id);
if (!(LOC2 == (-2147483647 -1))) goto LA3;
L_108285 = 0;
L_108285 = (*W_108271).Sstack->Sup.len;
(*W_108271).Sstack = (TY51528*) setLengthSeq(&((*W_108271).Sstack)->Sup, sizeof(TY51548*), (NI32)(L_108285 + 1));
asgnRef((void**) &(*W_108271).Sstack->data[L_108285], S_108272);
LA3: ;
}
static N_INLINE(void, appendString)(NimStringDesc* Dest_18799, NimStringDesc* Src_18800) {
memcpy(((NCSTRING) (&(*Dest_18799).data[((*Dest_18799).Sup.len)-0])), ((NCSTRING) ((*Src_18800).data)), ((NI32) ((NI32)((NI32)((*Src_18800).Sup.len + 1) * 1))));
(*Dest_18799).Sup.len += (*Src_18800).Sup.len;
}
N_NIMCALL(void, Addtoindex_109066)(TY90029* W_109069, NI Key_109070, NI Val_109071) {
TY48008* LOC4;
TY172845 LOC5;
if (!((NI32)(Key_109070 - (*W_109069).Lastidxkey) == 1)) goto LA2;
LOC4 = 0;
LOC4 = Encodeint_90073(((NI64) ((NI32)(Val_109071 - (*W_109069).Lastidxval))));
App_48031(&(*W_109069).R, LOC4);
App_48036(&(*W_109069).R, ((NimStringDesc*) &TMP193816));
goto LA1;
LA2: ;
memset((void*)&LOC5, 0, sizeof(LOC5));
LOC5[0] = Encodeint_90073(((NI64) ((NI32)(Key_109070 - (*W_109069).Lastidxkey))));
LOC5[1] = Encodeint_90073(((NI64) ((NI32)(Val_109071 - (*W_109069).Lastidxval))));
Appf_48071(&(*W_109069).R, ((NimStringDesc*) &TMP193817), LOC5, 2);
LA1: ;
(*W_109069).Lastidxkey = Key_109070;
(*W_109069).Lastidxval = Val_109071;
Iitableput_56233(&(*W_109069).Tab, Key_109070, Val_109071);
}
N_NIMCALL(TY48008*, Encodestr_108048)(TY108004* W_108050, NimStringDesc* S_108051) {
TY48008* Result_108052;
Result_108052 = 0;
Result_108052 = Encode_90076(S_108051);
return Result_108052;
}
N_NIMCALL(void, Pushtype_108240)(TY108004* W_108242, TY51552* T_108243) {
NI LOC2;
NI L_108256;
LOC2 = Iitableget_56229((*W_108242).Index.Tab, (*T_108243).Sup.Id);
if (!(LOC2 == (-2147483647 -1))) goto LA3;
L_108256 = 0;
L_108256 = (*W_108242).Tstack->Sup.len;
(*W_108242).Tstack = (TY51550*) setLengthSeq(&((*W_108242).Tstack)->Sup, sizeof(TY51552*), (NI32)(L_108256 + 1));
asgnRef((void**) &(*W_108242).Tstack->data[L_108256], T_108243);
LA3: ;
}
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* A_18649, NimStringDesc* B_18650) {
NIM_BOOL Result_18651;
NIM_BOOL LOC5;
NIM_BOOL LOC9;
NI32 LOC11;
Result_18651 = 0;
if (!(A_18649 == B_18650)) goto LA2;
Result_18651 = NIM_TRUE;
goto BeforeRet;
LA2: ;
LOC5 = (A_18649 == NIM_NIL);
if (LOC5) goto LA6;
LOC5 = (B_18650 == NIM_NIL);
LA6: ;
if (!LOC5) goto LA7;
Result_18651 = NIM_FALSE;
goto BeforeRet;
LA7: ;
LOC9 = ((*A_18649).Sup.len == (*B_18650).Sup.len);
if (!(LOC9)) goto LA10;
LOC11 = memcmp(((NCSTRING) ((*A_18649).data)), ((NCSTRING) ((*B_18650).data)), ((NI32) ((NI32)((*A_18649).Sup.len * 1))));
LOC9 = (LOC11 == ((NI32) 0));
LA10: ;
Result_18651 = LOC9;
goto BeforeRet;
BeforeRet: ;
return Result_18651;
}
N_NIMCALL(NI, Fileidx_108089)(TY108004* W_108091, NimStringDesc* Filename_108092) {
NI Result_108093;
NI I_108117;
NI HEX3Atmp_108140;
NI Res_108142;
Result_108093 = 0;
I_108117 = 0;
HEX3Atmp_108140 = 0;
HEX3Atmp_108140 = ((*W_108091).Files->Sup.len-1);
Res_108142 = 0;
Res_108142 = 0;
while (1) {
if (!(Res_108142 <= HEX3Atmp_108140)) goto LA1;
I_108117 = Res_108142;
if (!eqStrings((*W_108091).Files->data[I_108117], Filename_108092)) goto LA3;
Result_108093 = I_108117;
goto BeforeRet;
LA3: ;
Res_108142 += 1;
} LA1: ;
Result_108093 = (*W_108091).Files->Sup.len;
(*W_108091).Files = (TY35021*) setLengthSeq(&((*W_108091).Files)->Sup, sizeof(NimStringDesc*), (NI32)(Result_108093 + 1));
asgnRefNoCycle((void**) &(*W_108091).Files->data[Result_108093], copyString(Filename_108092));
BeforeRet: ;
return Result_108093;
}
static N_INLINE(NI, Sonslen_51804)(TY51526* N_51806) {
NI Result_52886;
Result_52886 = 0;
if (!(*N_51806).KindU.S6.Sons == 0) goto LA2;
Result_52886 = 0;
goto LA1;
LA2: ;
Result_52886 = (*N_51806).KindU.S6.Sons->Sup.len;
LA1: ;
return Result_52886;
}
N_NIMCALL(TY48008*, Encodenode_108298)(TY108004* W_108300, TY43539 Finfo_108301, TY51526* N_108302) {
TY48008* Result_108303;
TY48008* LOC4;
TY158012 LOC8;
NimStringDesc* LOC9;
NI LOC10;
TY172845 LOC13;
TY48407 LOC16;
NU8 F_108352;
TY48407 LOC20;
TY48407 LOC24;
TY48407 LOC28;
TY48407 LOC32;
NimStringDesc* LOC33;
TY48407 LOC37;
TY48407 LOC38;
TY48407 LOC39;
NI I_108530;
NI HEX3Atmp_108545;
NI LOC40;
NI Res_108547;
TY48008* LOC42;
Result_108303 = 0;
if (!(N_108302 == NIM_NIL)) goto LA2;
Result_108303 = Torope_48046(((NimStringDesc*) &TMP193826));
goto BeforeRet;
LA2: ;
Result_108303 = Torope_48046(((NimStringDesc*) &TMP193827));
LOC4 = 0;
LOC4 = Encodeint_90073(((NI64) ((*N_108302).Kind)));
App_48031(&Result_108303, LOC4);
if (!!((Finfo_108301.Fileindex == (*N_108302).Info.Fileindex))) goto LA6;
memset((void*)&LOC8, 0, sizeof(LOC8));
LOC8[0] = Encodeint_90073(((NI64) ((*N_108302).Info.Col)));
LOC8[1] = Encodeint_90073(((NI64) ((*N_108302).Info.Line)));
LOC9 = 0;
LOC9 = Tofilename_43586((*N_108302).Info);
LOC10 = Fileidx_108089(W_108300, LOC9);
LOC8[2] = Encodeint_90073(((NI64) (LOC10)));
Appf_48071(&Result_108303, ((NimStringDesc*) &TMP193822), LOC8, 3);
goto LA5;
LA6: ;
if (!!((Finfo_108301.Line == (*N_108302).Info.Line))) goto LA11;
memset((void*)&LOC13, 0, sizeof(LOC13));
LOC13[0] = Encodeint_90073(((NI64) ((*N_108302).Info.Col)));
LOC13[1] = Encodeint_90073(((NI64) ((*N_108302).Info.Line)));
Appf_48071(&Result_108303, ((NimStringDesc*) &TMP193828), LOC13, 2);
goto LA5;
LA11: ;
if (!!((Finfo_108301.Col == (*N_108302).Info.Col))) goto LA14;
memset((void*)&LOC16, 0, sizeof(LOC16));
LOC16[0] = Encodeint_90073(((NI64) ((*N_108302).Info.Col)));
Appf_48071(&Result_108303, ((NimStringDesc*) &TMP193829), LOC16, 1);
goto LA5;
LA14: ;
LA5: ;
memset((void*)&F_108352, 0, sizeof(F_108352));
F_108352 = ((*N_108302).Flags & 30);
if (!!((F_108352 == 0))) goto LA18;
memset((void*)&LOC20, 0, sizeof(LOC20));
LOC20[0] = Encodeint_90073(((NI64) (((NI32) (F_108352)))));
Appf_48071(&Result_108303, ((NimStringDesc*) &TMP193824), LOC20, 1);
LA18: ;
if (!!(((*N_108302).Typ == NIM_NIL))) goto LA22;
memset((void*)&LOC24, 0, sizeof(LOC24));
LOC24[0] = Encodeint_90073(((NI64) ((*(*N_108302).Typ).Sup.Id)));
Appf_48071(&Result_108303, ((NimStringDesc*) &TMP193821), LOC24, 1);
Pushtype_108240(W_108300, (*N_108302).Typ);
LA22: ;
switch ((*N_108302).Kind) {
case ((NU8) 5) ... ((NU8) 10):
if (!!(((*N_108302).KindU.S1.Intval == 0))) goto LA26;
memset((void*)&LOC28, 0, sizeof(LOC28));
LOC28[0] = Encodeint_90073((*N_108302).KindU.S1.Intval);
Appf_48071(&Result_108303, ((NimStringDesc*) &TMP193830), LOC28, 1);
LA26: ;
break;
case ((NU8) 11) ... ((NU8) 13):
if (!!((((NF) ((*N_108302).KindU.S2.Floatval)) == 0.0))) goto LA30;
memset((void*)&LOC32, 0, sizeof(LOC32));
LOC33 = 0;
LOC33 = nimFloatToStr(((NF) ((*N_108302).KindU.S2.Floatval)));
LOC32[0] = Encodestr_108048(W_108300, LOC33);
Appf_48071(&Result_108303, ((NimStringDesc*) &TMP193830), LOC32, 1);
LA30: ;
break;
case ((NU8) 14) ... ((NU8) 16):
if (!!((((*N_108302).KindU.S3.Strval) && ((*N_108302).KindU.S3.Strval)->Sup.len == 0))) goto LA35;
memset((void*)&LOC37, 0, sizeof(LOC37));
LOC37[0] = Encodestr_108048(W_108300, (*N_108302).KindU.S3.Strval);
Appf_48071(&Result_108303, ((NimStringDesc*) &TMP193830), LOC37, 1);
LA35: ;
break;
case ((NU8) 2):
memset((void*)&LOC38, 0, sizeof(LOC38));
LOC38[0] = Encodestr_108048(W_108300, (*(*N_108302).KindU.S5.Ident).S);
Appf_48071(&Result_108303, ((NimStringDesc*) &TMP193830), LOC38, 1);
break;
case ((NU8) 3):
memset((void*)&LOC39, 0, sizeof(LOC39));
LOC39[0] = Encodeint_90073(((NI64) ((*(*N_108302).KindU.S4.Sym).Sup.Id)));
Appf_48071(&Result_108303, ((NimStringDesc*) &TMP193830), LOC39, 1);
Pushsym_108269(W_108300, (*N_108302).KindU.S4.Sym);
break;
default:
I_108530 = 0;
HEX3Atmp_108545 = 0;
LOC40 = Sonslen_51804(N_108302);
HEX3Atmp_108545 = (NI32)(LOC40 - 1);
Res_108547 = 0;
Res_108547 = 0;
while (1) {
if (!(Res_108547 <= HEX3Atmp_108545)) goto LA41;
I_108530 = Res_108547;
LOC42 = 0;
LOC42 = Encodenode_108298(W_108300, (*N_108302).Info, (*N_108302).KindU.S6.Sons->data[I_108530]);
App_48031(&Result_108303, LOC42);
Res_108547 += 1;
} LA41: ;
break;
}
App_48036(&Result_108303, ((NimStringDesc*) &TMP193831));
BeforeRet: ;
return Result_108303;
}
N_NIMCALL(TY48008*, Encodeloc_108548)(TY108004* W_108550, TY51540 Loc_108551) {
TY48008* Result_108552;
TY48008* LOC4;
TY48407 LOC8;
TY48407 LOC12;
TY48407 LOC16;
TY48407 LOC20;
NimStringDesc* LOC21;
TY48407 LOC25;
TY48407 LOC29;
Result_108552 = 0;
Result_108552 = NIM_NIL;
if (!!((Loc_108551.K == ((NU8) 0)))) goto LA2;
LOC4 = 0;
LOC4 = Encodeint_90073(((NI64) (Loc_108551.K)));
App_48031(&Result_108552, LOC4);
LA2: ;
if (!!((Loc_108551.S == ((NU8) 0)))) goto LA6;
memset((void*)&LOC8, 0, sizeof(LOC8));
LOC8[0] = Encodeint_90073(((NI64) (Loc_108551.S)));
Appf_48071(&Result_108552, ((NimStringDesc*) &TMP193823), LOC8, 1);
LA6: ;
if (!!((Loc_108551.Flags == 0))) goto LA10;
memset((void*)&LOC12, 0, sizeof(LOC12));
LOC12[0] = Encodeint_90073(((NI64) (((NI32) (Loc_108551.Flags)))));
Appf_48071(&Result_108552, ((NimStringDesc*) &TMP193824), LOC12, 1);
LA10: ;
if (!!((Loc_108551.T == NIM_NIL))) goto LA14;
memset((void*)&LOC16, 0, sizeof(LOC16));
LOC16[0] = Encodeint_90073(((NI64) ((*Loc_108551.T).Sup.Id)));
Appf_48071(&Result_108552, ((NimStringDesc*) &TMP193821), LOC16, 1);
Pushtype_108240(W_108550, Loc_108551.T);
LA14: ;
if (!!((Loc_108551.R == NIM_NIL))) goto LA18;
memset((void*)&LOC20, 0, sizeof(LOC20));
LOC21 = 0;
LOC21 = Ropetostr_48063(Loc_108551.R);
LOC20[0] = Encodestr_108048(W_108550, LOC21);
Appf_48071(&Result_108552, ((NimStringDesc*) &TMP193830), LOC20, 1);
LA18: ;
if (!!((Loc_108551.A == 0))) goto LA23;
memset((void*)&LOC25, 0, sizeof(LOC25));
LOC25[0] = Encodeint_90073(((NI64) (Loc_108551.A)));
Appf_48071(&Result_108552, ((NimStringDesc*) &TMP193829), LOC25, 1);
LA23: ;
if (!!((Result_108552 == NIM_NIL))) goto LA27;
memset((void*)&LOC29, 0, sizeof(LOC29));
LOC29[0] = Result_108552;
Result_108552 = Ropef_48066(((NimStringDesc*) &TMP193834), LOC29, 1);
LA27: ;
return Result_108552;
}
N_NIMCALL(TY48008*, Encodelib_108827)(TY108004* W_108829, TY51544* Lib_108830, TY43539 Info_108831) {
TY48008* Result_108832;
TY48407 LOC1;
TY48407 LOC2;
NimStringDesc* LOC3;
TY48407 LOC4;
Result_108832 = 0;
Result_108832 = NIM_NIL;
memset((void*)&LOC1, 0, sizeof(LOC1));
LOC1[0] = Encodeint_90073(((NI64) ((*Lib_108830).Kind)));
Appf_48071(&Result_108832, ((NimStringDesc*) &TMP193835), LOC1, 1);
memset((void*)&LOC2, 0, sizeof(LOC2));
LOC3 = 0;
LOC3 = Ropetostr_48063((*Lib_108830).Name);
LOC2[0] = Encodestr_108048(W_108829, LOC3);
Appf_48071(&Result_108832, ((NimStringDesc*) &TMP193835), LOC2, 1);
memset((void*)&LOC4, 0, sizeof(LOC4));
LOC4[0] = Encodenode_108298(W_108829, Info_108831, (*Lib_108830).Path);
Appf_48071(&Result_108832, ((NimStringDesc*) &TMP193835), LOC4, 1);
return Result_108832;
}
N_NIMCALL(TY48008*, Encodesym_108853)(TY108004* W_108855, TY51548* S_108856) {
TY48008* Result_108857;
TY51526* Codeast_108858;
TY48008* Col_108859;
TY48008* Line_108860;
TY48008* LOC4;
TY48407 LOC5;
TY48407 LOC6;
TY48407 LOC10;
TY158012 LOC17;
NimStringDesc* LOC18;
NI LOC19;
TY48407 LOC23;
TY48407 LOC27;
TY48407 LOC31;
NIM_BOOL LOC36;
TY48008* LOC39;
TY48407 LOC46;
TY48407 LOC50;
TY48407 LOC54;
TY48008* LOC55;
TY48008* LOC59;
Result_108857 = 0;
Codeast_108858 = 0;
Col_108859 = 0;
Line_108860 = 0;
Codeast_108858 = NIM_NIL;
if (!(S_108856 == NIM_NIL)) goto LA2;
Result_108857 = Torope_48046(((NimStringDesc*) &TMP193818));
goto BeforeRet;
LA2: ;
Result_108857 = NIM_NIL;
LOC4 = 0;
LOC4 = Encodeint_90073(((NI64) ((*S_108856).Kind)));
App_48031(&Result_108857, LOC4);
memset((void*)&LOC5, 0, sizeof(LOC5));
LOC5[0] = Encodeint_90073(((NI64) ((*S_108856).Sup.Id)));
Appf_48071(&Result_108857, ((NimStringDesc*) &TMP193819), LOC5, 1);
memset((void*)&LOC6, 0, sizeof(LOC6));
LOC6[0] = Encodestr_108048(W_108855, (*(*S_108856).Name).S);
Appf_48071(&Result_108857, ((NimStringDesc*) &TMP193820), LOC6, 1);
if (!!(((*S_108856).Typ == NIM_NIL))) goto LA8;
memset((void*)&LOC10, 0, sizeof(LOC10));
LOC10[0] = Encodeint_90073(((NI64) ((*(*S_108856).Typ).Sup.Id)));
Appf_48071(&Result_108857, ((NimStringDesc*) &TMP193821), LOC10, 1);
Pushtype_108240(W_108855, (*S_108856).Typ);
LA8: ;
if (!((*S_108856).Info.Col == ((NI16) -1))) goto LA12;
Col_108859 = NIM_NIL;
goto LA11;
LA12: ;
Col_108859 = Encodeint_90073(((NI64) ((*S_108856).Info.Col)));
LA11: ;
if (!((*S_108856).Info.Line == ((NI16) -1))) goto LA15;
Line_108860 = NIM_NIL;
goto LA14;
LA15: ;
Line_108860 = Encodeint_90073(((NI64) ((*S_108856).Info.Line)));
LA14: ;
memset((void*)&LOC17, 0, sizeof(LOC17));
LOC17[0] = Col_108859;
LOC17[1] = Line_108860;
LOC18 = 0;
LOC18 = Tofilename_43586((*S_108856).Info);
LOC19 = Fileidx_108089(W_108855, LOC18);
LOC17[2] = Encodeint_90073(((NI64) (LOC19)));
Appf_48071(&Result_108857, ((NimStringDesc*) &TMP193822), LOC17, 3);
if (!!(((*S_108856).Owner == NIM_NIL))) goto LA21;
memset((void*)&LOC23, 0, sizeof(LOC23));
LOC23[0] = Encodeint_90073(((NI64) ((*(*S_108856).Owner).Sup.Id)));
Appf_48071(&Result_108857, ((NimStringDesc*) &TMP193823), LOC23, 1);
Pushsym_108269(W_108855, (*S_108856).Owner);
LA21: ;
if (!!(((*S_108856).Flags == 0))) goto LA25;
memset((void*)&LOC27, 0, sizeof(LOC27));
LOC27[0] = Encodeint_90073(((NI64) (((NI32) ((*S_108856).Flags)))));
Appf_48071(&Result_108857, ((NimStringDesc*) &TMP193824), LOC27, 1);
LA25: ;
if (!!(((*S_108856).Magic == ((NU8) 0)))) goto LA29;
memset((void*)&LOC31, 0, sizeof(LOC31));
LOC31[0] = Encodeint_90073(((NI64) ((*S_108856).Magic)));
Appf_48071(&Result_108857, ((NimStringDesc*) &TMP193825), LOC31, 1);
LA29: ;
if (!!(((*S_108856).Ast == NIM_NIL))) goto LA33;
LOC36 = Astneeded_102041(S_108856);
if (!!(LOC36)) goto LA37;
Codeast_108858 = (*(*S_108856).Ast).KindU.S6.Sons->data[4];
asgnRefNoCycle((void**) &(*(*S_108856).Ast).KindU.S6.Sons->data[4], NIM_NIL);
LA37: ;
LOC39 = 0;
LOC39 = Encodenode_108298(W_108855, (*S_108856).Info, (*S_108856).Ast);
App_48031(&Result_108857, LOC39);
if (!!((Codeast_108858 == NIM_NIL))) goto LA41;
asgnRefNoCycle((void**) &(*(*S_108856).Ast).KindU.S6.Sons->data[4], Codeast_108858);
LA41: ;
LA33: ;
if (!!(((*S_108856).Options == (*W_108855).Options))) goto LA44;
memset((void*)&LOC46, 0, sizeof(LOC46));
LOC46[0] = Encodeint_90073(((NI64) (((NI32) ((*S_108856).Options)))));
Appf_48071(&Result_108857, ((NimStringDesc*) &TMP193830), LOC46, 1);
LA44: ;
if (!!(((*S_108856).Position == 0))) goto LA48;
memset((void*)&LOC50, 0, sizeof(LOC50));
LOC50[0] = Encodeint_90073(((NI64) ((*S_108856).Position)));
Appf_48071(&Result_108857, ((NimStringDesc*) &TMP193832), LOC50, 1);
LA48: ;
if (!!(((*S_108856).Offset == -1))) goto LA52;
memset((void*)&LOC54, 0, sizeof(LOC54));
LOC54[0] = Encodeint_90073(((NI64) ((*S_108856).Offset)));
Appf_48071(&Result_108857, ((NimStringDesc*) &TMP193833), LOC54, 1);
LA52: ;
LOC55 = 0;
LOC55 = Encodeloc_108548(W_108855, (*S_108856).Loc);
App_48031(&Result_108857, LOC55);
if (!!(((*S_108856).Annex == NIM_NIL))) goto LA57;
LOC59 = 0;
LOC59 = Encodelib_108827(W_108855, (*S_108856).Annex, (*S_108856).Info);
App_48031(&Result_108857, LOC59);
LA57: ;
BeforeRet: ;
return Result_108857;
}
N_NIMCALL(void, Symstack_109083)(TY108004* W_109085) {
NI I_109086;
NI L_109087;
TY51548* S_109088;
TY51548* M_109089;
NI LOC3;
NimStringDesc* LOC9;
NIM_BOOL LOC11;
TY48008* LOC15;
TY172845 LOC19;
TY172845 LOC23;
TY48008* LOC30;
NI LOC31;
I_109086 = 0;
L_109087 = 0;
S_109088 = 0;
M_109089 = 0;
I_109086 = 0;
while (1) {
if (!(I_109086 < (*W_109085).Sstack->Sup.len)) goto LA1;
S_109088 = (*W_109085).Sstack->data[I_109086];
LOC3 = Iitableget_56229((*W_109085).Index.Tab, (*S_109088).Sup.Id);
if (!(LOC3 == (-2147483647 -1))) goto LA4;
M_109089 = Getmodule_56203(S_109088);
if (!(M_109089 == NIM_NIL)) goto LA7;
LOC9 = 0;
LOC9 = rawNewString((*(*S_109088).Name).S->Sup.len + 22);
appendString(LOC9, ((NimStringDesc*) &TMP193815));
appendString(LOC9, (*(*S_109088).Name).S);
Internalerror_43578(LOC9);
LA7: ;
LOC11 = ((*M_109089).Sup.Id == (*(*W_109085).Module).Sup.Id);
if (LOC11) goto LA12;
LOC11 = (((*S_109088).Flags &(1<<((((NU8) 4))&31)))!=0);
LA12: ;
if (!LOC11) goto LA13;
L_109087 = Ropelen_48052((*W_109085).Data);
Addtoindex_109066(&(*W_109085).Index, (*S_109088).Sup.Id, L_109087);
LOC15 = 0;
LOC15 = Encodesym_108853(W_109085, S_109088);
App_48031(&(*W_109085).Data, LOC15);
App_48036(&(*W_109085).Data, ((NimStringDesc*) &TMP193816));
if (!(((*S_109088).Flags &(1<<((((NU8) 3))&31)))!=0)) goto LA17;
memset((void*)&LOC19, 0, sizeof(LOC19));
LOC19[0] = Encode_90076((*(*S_109088).Name).S);
LOC19[1] = Encodeint_90073(((NI64) ((*S_109088).Sup.Id)));
Appf_48071(&(*W_109085).Interf, ((NimStringDesc*) &TMP193817), LOC19, 2);
LA17: ;
if (!(((*S_109088).Flags &(1<<((((NU8) 19))&31)))!=0)) goto LA21;
memset((void*)&LOC23, 0, sizeof(LOC23));
LOC23[0] = Encode_90076((*(*S_109088).Name).S);
LOC23[1] = Encodeint_90073(((NI64) ((*S_109088).Sup.Id)));
Appf_48071(&(*W_109085).Compilerprocs, ((NimStringDesc*) &TMP193817), LOC23, 2);
LA21: ;
if (!((*S_109088).Kind == ((NU8) 13))) goto LA25;
if (!!(((*W_109085).Converters == NIM_NIL))) goto LA28;
App_48036(&(*W_109085).Converters, ((NimStringDesc*) &TMP193814));
LA28: ;
LOC30 = 0;
LOC30 = Encodeint_90073(((NI64) ((*S_109088).Sup.Id)));
App_48031(&(*W_109085).Converters, LOC30);
LA25: ;
goto LA10;
LA13: ;
LOC31 = Iitableget_56229((*W_109085).Imports.Tab, (*S_109088).Sup.Id);
if (!(LOC31 == (-2147483647 -1))) goto LA32;
Addtoindex_109066(&(*W_109085).Imports, (*S_109088).Sup.Id, (*M_109089).Sup.Id);
goto LA10;
LA32: ;
LA10: ;
LA4: ;
I_109086 += 1;
} LA1: ;
(*W_109085).Sstack = (TY51528*) setLengthSeq(&((*W_109085).Sstack)->Sup, sizeof(TY51548*), 0);
}
static N_INLINE(NI, Sonslen_51807)(TY51552* N_51809) {
NI Result_52750;
Result_52750 = 0;
if (!(*N_51809).Sons == 0) goto LA2;
Result_52750 = 0;
goto LA1;
LA2: ;
Result_52750 = (*N_51809).Sons->Sup.len;
LA1: ;
return Result_52750;
}
N_NIMCALL(TY48008*, Encodetype_108659)(TY108004* W_108661, TY51552* T_108662) {
TY48008* Result_108663;
TY48008* LOC7;
TY48407 LOC8;
TY43539 LOC12;
TY48008* LOC13;
TY48407 LOC17;
TY48407 LOC21;
TY48407 LOC25;
TY48407 LOC29;
TY48407 LOC33;
TY48407 LOC37;
TY48407 LOC41;
TY48008* LOC42;
NI I_108806;
NI HEX3Atmp_108824;
NI LOC43;
NI Res_108826;
TY48407 LOC48;
Result_108663 = 0;
if (!(T_108662 == NIM_NIL)) goto LA2;
Result_108663 = Torope_48046(((NimStringDesc*) &TMP193836));
goto BeforeRet;
LA2: ;
Result_108663 = NIM_NIL;
if (!((*T_108662).Kind == ((NU8) 30))) goto LA5;
Internalerror_43578(((NimStringDesc*) &TMP193837));
LA5: ;
LOC7 = 0;
LOC7 = Encodeint_90073(((NI64) ((*T_108662).Kind)));
App_48031(&Result_108663, LOC7);
memset((void*)&LOC8, 0, sizeof(LOC8));
LOC8[0] = Encodeint_90073(((NI64) ((*T_108662).Sup.Id)));
Appf_48071(&Result_108663, ((NimStringDesc*) &TMP193819), LOC8, 1);
if (!!(((*T_108662).N == NIM_NIL))) goto LA10;
LOC12 = Unknownlineinfo_43543();
LOC13 = 0;
LOC13 = Encodenode_108298(W_108661, LOC12, (*T_108662).N);
App_48031(&Result_108663, LOC13);
LA10: ;
if (!!(((*T_108662).Flags == 0))) goto LA15;
memset((void*)&LOC17, 0, sizeof(LOC17));
LOC17[0] = Encodeint_90073(((NI64) (((NI32) ((*T_108662).Flags)))));
Appf_48071(&Result_108663, ((NimStringDesc*) &TMP193824), LOC17, 1);
LA15: ;
if (!!(((*T_108662).Callconv == ((NU8) 0)))) goto LA19;
memset((void*)&LOC21, 0, sizeof(LOC21));
LOC21[0] = Encodeint_90073(((NI64) ((*T_108662).Callconv)));
Appf_48071(&Result_108663, ((NimStringDesc*) &TMP193829), LOC21, 1);
LA19: ;
if (!!(((*T_108662).Owner == NIM_NIL))) goto LA23;
memset((void*)&LOC25, 0, sizeof(LOC25));
LOC25[0] = Encodeint_90073(((NI64) ((*(*T_108662).Owner).Sup.Id)));
Appf_48071(&Result_108663, ((NimStringDesc*) &TMP193823), LOC25, 1);
Pushsym_108269(W_108661, (*T_108662).Owner);
LA23: ;
if (!!(((*T_108662).Sym == NIM_NIL))) goto LA27;
memset((void*)&LOC29, 0, sizeof(LOC29));
LOC29[0] = Encodeint_90073(((NI64) ((*(*T_108662).Sym).Sup.Id)));
Appf_48071(&Result_108663, ((NimStringDesc*) &TMP193820), LOC29, 1);
Pushsym_108269(W_108661, (*T_108662).Sym);
LA27: ;
if (!!(((*T_108662).Size == -1))) goto LA31;
memset((void*)&LOC33, 0, sizeof(LOC33));
LOC33[0] = Encodeint_90073((*T_108662).Size);
Appf_48071(&Result_108663, ((NimStringDesc*) &TMP193838), LOC33, 1);
LA31: ;
if (!!(((*T_108662).Align == 2))) goto LA35;
memset((void*)&LOC37, 0, sizeof(LOC37));
LOC37[0] = Encodeint_90073(((NI64) ((*T_108662).Align)));
Appf_48071(&Result_108663, ((NimStringDesc*) &TMP193839), LOC37, 1);
LA35: ;
if (!!(((*T_108662).Containerid == 0))) goto LA39;
memset((void*)&LOC41, 0, sizeof(LOC41));
LOC41[0] = Encodeint_90073(((NI64) ((*T_108662).Containerid)));
Appf_48071(&Result_108663, ((NimStringDesc*) &TMP193825), LOC41, 1);
LA39: ;
LOC42 = 0;
LOC42 = Encodeloc_108548(W_108661, (*T_108662).Loc);
App_48031(&Result_108663, LOC42);
I_108806 = 0;
HEX3Atmp_108824 = 0;
LOC43 = Sonslen_51807(T_108662);
HEX3Atmp_108824 = (NI32)(LOC43 - 1);
Res_108826 = 0;
Res_108826 = 0;
while (1) {
if (!(Res_108826 <= HEX3Atmp_108824)) goto LA44;
I_108806 = Res_108826;
if (!((*T_108662).Sons->data[I_108806] == NIM_NIL)) goto LA46;
App_48036(&Result_108663, ((NimStringDesc*) &TMP193840));
goto LA45;
LA46: ;
memset((void*)&LOC48, 0, sizeof(LOC48));
LOC48[0] = Encodeint_90073(((NI64) ((*(*T_108662).Sons->data[I_108806]).Sup.Id)));
Appf_48071(&Result_108663, ((NimStringDesc*) &TMP193821), LOC48, 1);
Pushtype_108240(W_108661, (*T_108662).Sons->data[I_108806]);
LA45: ;
Res_108826 += 1;
} LA44: ;
BeforeRet: ;
return Result_108663;
}
N_NIMCALL(void, Typestack_109214)(TY108004* W_109216) {
NI I_109217;
NI LOC3;
NI L_109234;
TY48008* LOC6;
I_109217 = 0;
I_109217 = 0;
while (1) {
if (!(I_109217 < (*W_109216).Tstack->Sup.len)) goto LA1;
LOC3 = Iitableget_56229((*W_109216).Index.Tab, (*(*W_109216).Tstack->data[I_109217]).Sup.Id);
if (!(LOC3 == (-2147483647 -1))) goto LA4;
L_109234 = 0;
L_109234 = Ropelen_48052((*W_109216).Data);
Addtoindex_109066(&(*W_109216).Index, (*(*W_109216).Tstack->data[I_109217]).Sup.Id, L_109234);
LOC6 = 0;
LOC6 = Encodetype_108659(W_109216, (*W_109216).Tstack->data[I_109217]);
App_48031(&(*W_109216).Data, LOC6);
App_48036(&(*W_109216).Data, ((NimStringDesc*) &TMP193816));
LA4: ;
I_109217 += 1;
} LA1: ;
(*W_109216).Tstack = (TY51550*) setLengthSeq(&((*W_109216).Tstack)->Sup, sizeof(TY51552*), 0);
}
N_NIMCALL(void, Processstacks_108053)(TY108004* W_108055) {
NIM_BOOL LOC2;
while (1) {
LOC2 = (0 < (*W_108055).Tstack->Sup.len);
if (LOC2) goto LA3;
LOC2 = (0 < (*W_108055).Sstack->Sup.len);
LA3: ;
if (!LOC2) goto LA1;
Symstack_109083(W_108055);
Typestack_109214(W_108055);
} LA1: ;
}
N_NIMCALL(void, Rawaddinterfacesym_109293)(TY108004* W_109295, TY51548* S_109296) {
Pushsym_108269(W_109295, S_109296);
Processstacks_108053(W_109295);
}
N_NIMCALL(TY102002*, Myopen_109827)(TY51548* Module_109829, NimStringDesc* Filename_109830) {
TY102002* Result_109831;
TY108004* W_109836;
NI32 LOC4;
Result_109831 = 0;
if (!((*Module_109829).Sup.Id < 0)) goto LA2;
Internalerror_43578(((NimStringDesc*) &TMP193812));
LA2: ;
W_109836 = 0;
LOC4 = Getcrc_90064(Filename_109830);
W_109836 = Newrodwriter_108024(Filename_109830, LOC4, Module_109829);
Rawaddinterfacesym_109293(W_109836, Module_109829);
Result_109831 = &W_109836->Sup;
return Result_109831;
}
N_NIMCALL(void, Writerod_108045)(TY108004* W_108047) {
TY48008* Content_109347;
TY48008* LOC1;
TY48008* LOC2;
TY48008* LOC3;
TY48008* LOC4;
TY48008* LOC5;
TY48008* LOC6;
TY48008* LOC7;
TY48008* LOC8;
TY48008* LOC9;
NI I_109371;
NI HEX3Atmp_109402;
NI Res_109404;
TY48008* LOC11;
TY48008* LOC12;
TY48008* LOC13;
TY48008* LOC14;
TY48008* LOC15;
TY48008* LOC16;
TY48008* LOC17;
TY48008* LOC18;
TY48008* LOC19;
TY48008* LOC20;
TY48008* LOC21;
TY48008* LOC22;
TY48008* LOC23;
TY48008* LOC24;
TY48008* LOC25;
TY48008* LOC26;
TY48008* LOC27;
TY48008* LOC28;
TY48008* LOC29;
NimStringDesc* LOC30;
NimStringDesc* LOC31;
Processstacks_108053(W_108047);
Content_109347 = 0;
Content_109347 = Torope_48046(((NimStringDesc*) &TMP193841));
LOC1 = 0;
LOC1 = Torope_48046(((NimStringDesc*) &TMP193842));
App_48031(&Content_109347, LOC1);
App_48036(&Content_109347, ((NimStringDesc*) &TMP193816));
LOC2 = 0;
LOC2 = Torope_48046(((NimStringDesc*) &TMP193843));
App_48031(&Content_109347, LOC2);
LOC3 = 0;
LOC3 = Encodeint_90073(((NI64) ((*(*W_108047).Module).Sup.Id)));
App_48031(&Content_109347, LOC3);
App_48036(&Content_109347, ((NimStringDesc*) &TMP193816));
LOC4 = 0;
LOC4 = Torope_48046(((NimStringDesc*) &TMP193844));
App_48031(&Content_109347, LOC4);
LOC5 = 0;
LOC5 = Encodeint_90073(((NI64) ((*W_108047).Crc)));
App_48031(&Content_109347, LOC5);
App_48036(&Content_109347, ((NimStringDesc*) &TMP193816));
LOC6 = 0;
LOC6 = Torope_48046(((NimStringDesc*) &TMP193845));
App_48031(&Content_109347, LOC6);
LOC7 = 0;
LOC7 = Encodeint_90073(((NI64) (((NI32) ((*W_108047).Options)))));
App_48031(&Content_109347, LOC7);
App_48036(&Content_109347, ((NimStringDesc*) &TMP193816));
LOC8 = 0;
LOC8 = Torope_48046(((NimStringDesc*) &TMP193846));
App_48031(&Content_109347, LOC8);
App_48031(&Content_109347, (*W_108047).Defines);
App_48036(&Content_109347, ((NimStringDesc*) &TMP193816));
LOC9 = 0;
LOC9 = Torope_48046(((NimStringDesc*) &TMP193847));
App_48031(&Content_109347, LOC9);
I_109371 = 0;
HEX3Atmp_109402 = 0;
HEX3Atmp_109402 = ((*W_108047).Files->Sup.len-1);
Res_109404 = 0;
Res_109404 = 0;
while (1) {
if (!(Res_109404 <= HEX3Atmp_109402)) goto LA10;
I_109371 = Res_109404;
LOC11 = 0;
LOC11 = Encode_90076((*W_108047).Files->data[I_109371]);
App_48031(&Content_109347, LOC11);
App_48036(&Content_109347, ((NimStringDesc*) &TMP193816));
Res_109404 += 1;
} LA10: ;
LOC12 = 0;
LOC12 = Torope_48046(((NimStringDesc*) &TMP193848));
App_48031(&Content_109347, LOC12);
LOC13 = 0;
LOC13 = Torope_48046(((NimStringDesc*) &TMP193849));
App_48031(&Content_109347, LOC13);
App_48031(&Content_109347, (*W_108047).Incldeps);
LOC14 = 0;
LOC14 = Torope_48046(((NimStringDesc*) &TMP193848));
App_48031(&Content_109347, LOC14);
LOC15 = 0;
LOC15 = Torope_48046(((NimStringDesc*) &TMP193850));
App_48031(&Content_109347, LOC15);
App_48031(&Content_109347, (*W_108047).Moddeps);
App_48036(&Content_109347, ((NimStringDesc*) &TMP193816));
LOC16 = 0;
LOC16 = Torope_48046(((NimStringDesc*) &TMP193851));
App_48031(&Content_109347, LOC16);
App_48031(&Content_109347, (*W_108047).Interf);
LOC17 = 0;
LOC17 = Torope_48046(((NimStringDesc*) &TMP193848));
App_48031(&Content_109347, LOC17);
LOC18 = 0;
LOC18 = Torope_48046(((NimStringDesc*) &TMP193852));
App_48031(&Content_109347, LOC18);
App_48031(&Content_109347, (*W_108047).Compilerprocs);
LOC19 = 0;
LOC19 = Torope_48046(((NimStringDesc*) &TMP193848));
App_48031(&Content_109347, LOC19);
LOC20 = 0;
LOC20 = Torope_48046(((NimStringDesc*) &TMP193853));
App_48031(&Content_109347, LOC20);
App_48031(&Content_109347, (*W_108047).Index.R);
LOC21 = 0;
LOC21 = Torope_48046(((NimStringDesc*) &TMP193848));
App_48031(&Content_109347, LOC21);
LOC22 = 0;
LOC22 = Torope_48046(((NimStringDesc*) &TMP193854));
App_48031(&Content_109347, LOC22);
App_48031(&Content_109347, (*W_108047).Imports.R);
LOC23 = 0;
LOC23 = Torope_48046(((NimStringDesc*) &TMP193848));
App_48031(&Content_109347, LOC23);
LOC24 = 0;
LOC24 = Torope_48046(((NimStringDesc*) &TMP193855));
App_48031(&Content_109347, LOC24);
App_48031(&Content_109347, (*W_108047).Converters);
LOC25 = 0;
LOC25 = Torope_48046(((NimStringDesc*) &TMP193816));
App_48031(&Content_109347, LOC25);
LOC26 = 0;
LOC26 = Torope_48046(((NimStringDesc*) &TMP193856));
App_48031(&Content_109347, LOC26);
App_48031(&Content_109347, (*W_108047).Init);
LOC27 = 0;
LOC27 = Torope_48046(((NimStringDesc*) &TMP193848));
App_48031(&Content_109347, LOC27);
LOC28 = 0;
LOC28 = Torope_48046(((NimStringDesc*) &TMP193857));
App_48031(&Content_109347, LOC28);
App_48031(&Content_109347, (*W_108047).Data);
LOC29 = 0;
LOC29 = Torope_48046(((NimStringDesc*) &TMP193848));
App_48031(&Content_109347, LOC29);
LOC30 = 0;
LOC30 = nosChangeFileExt((*W_108047).Filename, ((NimStringDesc*) &TMP193858));
LOC31 = 0;
LOC31 = Completegeneratedfilepath_42101(LOC30, NIM_TRUE);
Writerope_48055(Content_109347, LOC31);
}
N_NIMCALL(TY51526*, Myclose_109837)(TY102002* C_109839, TY51526* N_109840) {
TY51526* Result_109841;
TY108004* W_109842;
Result_109841 = 0;
W_109842 = 0;
W_109842 = ((TY108004*) (C_109839));
Writerod_108045(W_109842);
Result_109841 = N_109840;
return Result_109841;
}
N_NIMCALL(void, Addinterfacesym_108037)(TY108004* W_108039, TY51548* S_108040) {
if (!(W_108039 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
if (!!(((134219776 & (*S_108040).Flags) == 0))) goto LA5;
Rawaddinterfacesym_109293(W_108039, S_108040);
LA5: ;
BeforeRet: ;
}
N_NIMCALL(void, Addmoddep_108029)(TY108004* W_108031, NimStringDesc* Dep_108032) {
NI LOC4;
TY48008* LOC5;
if (!!(((*W_108031).Moddeps == NIM_NIL))) goto LA2;
App_48036(&(*W_108031).Moddeps, ((NimStringDesc*) &TMP193814));
LA2: ;
LOC4 = Fileidx_108089(W_108031, Dep_108032);
LOC5 = 0;
LOC5 = Encodeint_90073(((NI64) (LOC4)));
App_48031(&(*W_108031).Moddeps, LOC5);
}
N_NIMCALL(void, Addstmt_108041)(TY108004* W_108043, TY51526* N_108044) {
NI LOC1;
TY48008* LOC2;
TY43539 LOC3;
TY48008* LOC4;
LOC1 = Ropelen_48052((*W_108043).Data);
LOC2 = 0;
LOC2 = Encodeint_90073(((NI64) (LOC1)));
App_48031(&(*W_108043).Init, LOC2);
App_48036(&(*W_108043).Init, ((NimStringDesc*) &TMP193816));
LOC3 = Unknownlineinfo_43543();
LOC4 = 0;
LOC4 = Encodenode_108298(W_108043, LOC3, N_108044);
App_48031(&(*W_108043).Data, LOC4);
App_48036(&(*W_108043).Data, ((NimStringDesc*) &TMP193816));
Processstacks_108053(W_108043);
}
N_NIMCALL(void, Addincldep_108033)(TY108004* W_108035, NimStringDesc* Dep_108036) {
NI LOC1;
TY48008* LOC2;
NI32 LOC3;
TY48008* LOC4;
LOC1 = Fileidx_108089(W_108035, Dep_108036);
LOC2 = 0;
LOC2 = Encodeint_90073(((NI64) (LOC1)));
App_48031(&(*W_108035).Incldeps, LOC2);
App_48036(&(*W_108035).Incldeps, ((NimStringDesc*) &TMP193814));
LOC3 = Crcfromfile_46029(Dep_108036);
LOC4 = 0;
LOC4 = Encodeint_90073(((NI64) (LOC3)));
App_48031(&(*W_108035).Incldeps, LOC4);
App_48036(&(*W_108035).Incldeps, ((NimStringDesc*) &TMP193816));
}
N_NIMCALL(TY51526*, Process_109405)(TY102002* C_109407, TY51526* N_109408) {
TY51526* Result_109409;
TY108004* W_109421;
NI I_109430;
NI HEX3Atmp_109806;
NI LOC4;
NI Res_109808;
TY51526* LOC6;
TY51548* S_109467;
TY51548* S_109492;
NIM_BOOL LOC11;
NIM_BOOL LOC12;
NI I_109555;
NI HEX3Atmp_109810;
NI LOC17;
NI Res_109812;
TY51526* A_109568;
NI I_109619;
NI HEX3Atmp_109814;
NI LOC26;
NI Res_109816;
TY51526* A_109632;
NI I_109683;
NI HEX3Atmp_109818;
NI LOC35;
NI Res_109820;
TY51526* A_109696;
TY51548* S_109751;
NI I_109760;
NI HEX3Atmp_109821;
NI LOC44;
NI Res_109823;
NimStringDesc* LOC46;
NimStringDesc* LOC47;
NI I_109793;
NI HEX3Atmp_109824;
NI LOC48;
NI Res_109826;
NimStringDesc* LOC50;
Result_109409 = 0;
Result_109409 = N_109408;
if (!(C_109407 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
W_109421 = 0;
W_109421 = ((TY108004*) (C_109407));
switch ((*N_109408).Kind) {
case ((NU8) 101):
I_109430 = 0;
HEX3Atmp_109806 = 0;
LOC4 = Sonslen_51804(N_109408);
HEX3Atmp_109806 = (NI32)(LOC4 - 1);
Res_109808 = 0;
Res_109808 = 0;
while (1) {
if (!(Res_109808 <= HEX3Atmp_109806)) goto LA5;
I_109430 = Res_109808;
LOC6 = 0;
LOC6 = Process_109405(C_109407, (*N_109408).KindU.S6.Sons->data[I_109430]);
Res_109808 += 1;
} LA5: ;
break;
case ((NU8) 73):
case ((NU8) 72):
S_109467 = 0;
S_109467 = (*(*N_109408).KindU.S6.Sons->data[0]).KindU.S4.Sym;
Addinterfacesym_108037(W_109421, S_109467);
break;
case ((NU8) 69):
case ((NU8) 70):
case ((NU8) 74):
case ((NU8) 71):
S_109492 = 0;
S_109492 = (*(*N_109408).KindU.S6.Sons->data[0]).KindU.S4.Sym;
if (!(S_109492 == NIM_NIL)) goto LA8;
Internalerror_43574((*N_109408).Info, ((NimStringDesc*) &TMP193859));
LA8: ;
LOC12 = !(((*N_109408).KindU.S6.Sons->data[4] == NIM_NIL));
if (LOC12) goto LA13;
LOC12 = !(((*S_109492).Magic == ((NU8) 0)));
LA13: ;
LOC11 = LOC12;
if (LOC11) goto LA14;
LOC11 = !((((*S_109492).Flags &(1<<((((NU8) 6))&31)))!=0));
LA14: ;
if (!LOC11) goto LA15;
Addinterfacesym_108037(W_109421, S_109492);
LA15: ;
break;
case ((NU8) 87):
I_109555 = 0;
HEX3Atmp_109810 = 0;
LOC17 = Sonslen_51804(N_109408);
HEX3Atmp_109810 = (NI32)(LOC17 - 1);
Res_109812 = 0;
Res_109812 = 0;
while (1) {
if (!(Res_109812 <= HEX3Atmp_109810)) goto LA18;
I_109555 = Res_109812;
A_109568 = 0;
A_109568 = (*N_109408).KindU.S6.Sons->data[I_109555];
if (!((*A_109568).Kind == ((NU8) 105))) goto LA21;
goto LA19;
LA21: ;
if (!!(((*A_109568).Kind == ((NU8) 25)))) goto LA24;
Internalerror_43574((*A_109568).Info, ((NimStringDesc*) &TMP193859));
LA24: ;
Addinterfacesym_108037(W_109421, (*(*A_109568).KindU.S6.Sons->data[0]).KindU.S4.Sym);
LA19: ;
Res_109812 += 1;
} LA18: ;
break;
case ((NU8) 88):
I_109619 = 0;
HEX3Atmp_109814 = 0;
LOC26 = Sonslen_51804(N_109408);
HEX3Atmp_109814 = (NI32)(LOC26 - 1);
Res_109816 = 0;
Res_109816 = 0;
while (1) {
if (!(Res_109816 <= HEX3Atmp_109814)) goto LA27;
I_109619 = Res_109816;
A_109632 = 0;
A_109632 = (*N_109408).KindU.S6.Sons->data[I_109619];
if (!((*A_109632).Kind == ((NU8) 105))) goto LA30;
goto LA28;
LA30: ;
if (!!(((*A_109632).Kind == ((NU8) 89)))) goto LA33;
Internalerror_43574((*A_109632).Info, ((NimStringDesc*) &TMP193859));
LA33: ;
Addinterfacesym_108037(W_109421, (*(*A_109632).KindU.S6.Sons->data[0]).KindU.S4.Sym);
LA28: ;
Res_109816 += 1;
} LA27: ;
break;
case ((NU8) 90):
I_109683 = 0;
HEX3Atmp_109818 = 0;
LOC35 = Sonslen_51804(N_109408);
HEX3Atmp_109818 = (NI32)(LOC35 - 1);
Res_109820 = 0;
Res_109820 = 0;
while (1) {
if (!(Res_109820 <= HEX3Atmp_109818)) goto LA36;
I_109683 = Res_109820;
A_109696 = 0;
A_109696 = (*N_109408).KindU.S6.Sons->data[I_109683];
if (!((*A_109696).Kind == ((NU8) 105))) goto LA39;
goto LA37;
LA39: ;
if (!!(((*(*A_109696).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA42;
Internalerror_43574((*A_109696).Info, ((NimStringDesc*) &TMP193859));
LA42: ;
S_109751 = 0;
S_109751 = (*(*A_109696).KindU.S6.Sons->data[0]).KindU.S4.Sym;
Addinterfacesym_108037(W_109421, S_109751);
LA37: ;
Res_109820 += 1;
} LA36: ;
break;
case ((NU8) 102):
I_109760 = 0;
HEX3Atmp_109821 = 0;
LOC44 = Sonslen_51804(N_109408);
HEX3Atmp_109821 = (NI32)(LOC44 - 1);
Res_109823 = 0;
Res_109823 = 0;
while (1) {
if (!(Res_109823 <= HEX3Atmp_109821)) goto LA45;
I_109760 = Res_109823;
LOC46 = 0;
LOC46 = Getmodulefile_107013((*N_109408).KindU.S6.Sons->data[I_109760]);
Addmoddep_108029(W_109421, LOC46);
Res_109823 += 1;
} LA45: ;
Addstmt_108041(W_109421, N_109408);
break;
case ((NU8) 103):
LOC47 = 0;
LOC47 = Getmodulefile_107013((*N_109408).KindU.S6.Sons->data[0]);
Addmoddep_108029(W_109421, LOC47);
Addstmt_108041(W_109421, N_109408);
break;
case ((NU8) 104):
I_109793 = 0;
HEX3Atmp_109824 = 0;
LOC48 = Sonslen_51804(N_109408);
HEX3Atmp_109824 = (NI32)(LOC48 - 1);
Res_109826 = 0;
Res_109826 = 0;
while (1) {
if (!(Res_109826 <= HEX3Atmp_109824)) goto LA49;
I_109793 = Res_109826;
LOC50 = 0;
LOC50 = Getmodulefile_107013((*N_109408).KindU.S6.Sons->data[I_109793]);
Addincldep_108033(W_109421, LOC50);
Res_109826 += 1;
} LA49: ;
break;
case ((NU8) 81):
Addstmt_108041(W_109421, N_109408);
break;
default:
break;
}
BeforeRet: ;
return Result_109409;
}
N_NIMCALL(TY102006, Rodwritepass_108001)(void) {
TY102006 Result_109845;
memset((void*)&Result_109845, 0, sizeof(Result_109845));
Initpass_102031(&Result_109845);
if (!((Gglobaloptions_42079 &(1<<((((NU8) 15))&31)))!=0)) goto LA2;
Result_109845.Open = Myopen_109827;
Result_109845.Close = Myclose_109837;
Result_109845.Process = Process_109405;
LA2: ;
return Result_109845;
}
N_NOINLINE(void, rodwriteInit)(void) {
Intsetinit_51925(&Debugwritten_109082);
}

