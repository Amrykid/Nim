/* Generated by Nimrod Compiler v0.8.11 */
/*   (c) 2011 Andreas Rumpf */

typedef long long int NI;
typedef unsigned long long int NU;
#include "nimbase.h"

typedef struct TY50895 TY50895;
typedef struct TY50891 TY50891;
typedef struct TY50893 TY50893;
typedef struct TGenericSeq TGenericSeq;
typedef struct TY101006 TY101006;
typedef struct TY101002 TY101002;
typedef struct TY50548 TY50548;
typedef struct NimStringDesc NimStringDesc;
typedef struct TY89031 TY89031;
typedef struct TY50526 TY50526;
typedef struct TY49005 TY49005;
typedef struct TNimObject TNimObject;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct TY50552 TY50552;
typedef struct TY49011 TY49011;
typedef struct TY42538 TY42538;
typedef struct TY50530 TY50530;
typedef struct TY50528 TY50528;
typedef struct TY50540 TY50540;
typedef struct TY47008 TY47008;
typedef struct TY50544 TY50544;
typedef struct TY107004 TY107004;
typedef struct TY89029 TY89029;
typedef struct TY55215 TY55215;
typedef struct TY55213 TY55213;
typedef struct TY55211 TY55211;
typedef struct TY50550 TY50550;
typedef struct TY34021 TY34021;
typedef struct TY10602 TY10602;
typedef struct TY10614 TY10614;
typedef struct TY10996 TY10996;
typedef struct TY10618 TY10618;
typedef struct TY10610 TY10610;
typedef struct TY10994 TY10994;
typedef struct TY55071 TY55071;
typedef struct TY50520 TY50520;
typedef struct TY38013 TY38013;
typedef struct TY50564 TY50564;
typedef struct TY50562 TY50562;
typedef struct TY50560 TY50560;
struct TGenericSeq {
NI len;
NI space;
};
struct TY50895 {
NI Counter;
NI Max;
TY50891* Head;
TY50893* Data;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
typedef N_NIMCALL_PTR(TY101002*, TY101007) (TY50548* Module_101008, NimStringDesc* Filename_101009);
typedef N_NIMCALL_PTR(TY101002*, TY101012) (TY50548* Module_101013, NimStringDesc* Filename_101014, TY89031* Rd_101015);
typedef N_NIMCALL_PTR(TY50526*, TY101018) (TY101002* P_101019, TY50526* N_101020);
typedef N_NIMCALL_PTR(TY50526*, TY101023) (TY101002* P_101024, TY50526* Toplevelstmt_101025);
struct TY101006 {
TY101007 Open;
TY101012 Opencached;
TY101018 Close;
TY101023 Process;
};
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TNimObject {
TNimType* m_type;
};
struct TY49005 {
  TNimObject Sup;
NI Id;
};
struct TY42538 {
NI16 Line;
NI16 Col;
NI32 Fileindex;
};
struct TY50530 {
TNimType* m_type;
NI Counter;
TY50528* Data;
};
struct TY50540 {
NU8 K;
NU8 S;
NU8 Flags;
TY50552* T;
TY47008* R;
NI A;
};
struct TY50548 {
  TY49005 Sup;
NU8 Kind;
NU8 Magic;
TY50552* Typ;
TY49011* Name;
TY42538 Info;
TY50548* Owner;
NU32 Flags;
TY50530 Tab;
TY50526* Ast;
NU32 Options;
NI Position;
NI Offset;
TY50540 Loc;
TY50544* Annex;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct TY101002 {
  TNimObject Sup;
};
struct TY55211 {
NI Key;
NI Val;
};
struct TY55215 {
NI Counter;
TY55213* Data;
};
struct TY89029 {
NI Lastidxkey;
NI Lastidxval;
TY55215 Tab;
TY47008* R;
NI Offset;
};
struct TY107004 {
  TY101002 Sup;
TY50548* Module;
NI32 Crc;
NU32 Options;
TY47008* Defines;
TY47008* Incldeps;
TY47008* Moddeps;
TY47008* Interf;
TY47008* Compilerprocs;
TY89029 Index;
TY89029 Imports;
TY47008* Converters;
TY47008* Init;
TY47008* Data;
NimStringDesc* Filename;
TY50528* Sstack;
TY50550* Tstack;
TY34021* Files;
};
struct TY10602 {
NI Refcount;
TNimType* Typ;
};
struct TY10618 {
NI Len;
NI Cap;
TY10602** D;
};
struct TY10614 {
NI Counter;
NI Max;
TY10610* Head;
TY10610** Data;
};
struct TY10994 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY10996 {
TY10618 Zct;
TY10618 Decstack;
TY10614 Cycleroots;
TY10618 Tempstack;
TY10994 Stat;
};
struct TY55071 {
NI H;
};
struct TY49011 {
  TY49005 Sup;
NimStringDesc* S;
TY49011* Next;
NI H;
};
typedef TY47008* TY172845[2];
typedef TY47008* TY47407[1];
struct TY50552 {
  TY49005 Sup;
NU8 Kind;
TY50550* Sons;
TY50526* N;
NU8 Flags;
NU8 Callconv;
TY50548* Owner;
TY50548* Sym;
NI64 Size;
NI Align;
NI Containerid;
TY50540 Loc;
};
typedef TY47008* TY158012[3];
struct TY50526 {
TY50552* Typ;
NimStringDesc* Comment;
TY42538 Info;
NU8 Flags;
NU8 Kind;
union {
struct {NI64 Intval;
} S1;
struct {NF64 Floatval;
} S2;
struct {NimStringDesc* Strval;
} S3;
struct {TY50548* Sym;
} S4;
struct {TY49011* Ident;
} S5;
struct {TY50520* Sons;
} S6;
} KindU;
};
struct TY38013 {
  TNimObject Sup;
TY38013* Prev;
TY38013* Next;
};
struct TY50544 {
  TY38013 Sup;
NU8 Kind;
NIM_BOOL Generated;
TY47008* Name;
TY50526* Path;
};
typedef NI TY8614[8];
struct TY50891 {
TY50891* Next;
NI Key;
TY8614 Bits;
};
struct TY50560 {
TY49005* Key;
TNimObject* Val;
};
struct TY50564 {
NI Counter;
TY50562* Data;
};
struct TY89031 {
  TNimObject Sup;
NI Pos;
NimStringDesc* S;
NU32 Options;
NU8 Reason;
TY34021* Moddeps;
TY34021* Files;
NI Dataidx;
NI Convertersidx;
NI Initidx;
NI Interfidx;
NI Compilerprocsidx;
NI Cgenidx;
NimStringDesc* Filename;
TY89029 Index;
TY89029 Imports;
NI Readerindex;
NI Line;
NI Moduleid;
TY50564 Syms;
};
struct TY47008 {
  TNimObject Sup;
TY47008* Left;
TY47008* Right;
NI Length;
NimStringDesc* Data;
};
struct TY10610 {
TY10610* Next;
NI Key;
TY8614 Bits;
};
struct TY50893 {
  TGenericSeq Sup;
  TY50891* data[SEQ_DECL_SIZE];
};
struct TY50528 {
  TGenericSeq Sup;
  TY50548* data[SEQ_DECL_SIZE];
};
struct TY55213 {
  TGenericSeq Sup;
  TY55211 data[SEQ_DECL_SIZE];
};
struct TY50550 {
  TGenericSeq Sup;
  TY50552* data[SEQ_DECL_SIZE];
};
struct TY34021 {
  TGenericSeq Sup;
  NimStringDesc* data[SEQ_DECL_SIZE];
};
struct TY50520 {
  TGenericSeq Sup;
  TY50526* data[SEQ_DECL_SIZE];
};
struct TY50562 {
  TGenericSeq Sup;
  TY50560 data[SEQ_DECL_SIZE];
};
N_NIMCALL(void, Intsetinit_50919)(TY50895* S_50922);
N_NIMCALL(void, Initpass_101031)(TY101006* P_101034);
N_NIMCALL(TY101002*, Myopen_108827)(TY50548* Module_108829, NimStringDesc* Filename_108830);
N_NIMCALL(void, Internalerror_43163)(NimStringDesc* Errmsg_43165);
N_NIMCALL(TY107004*, Newrodwriter_107024)(NimStringDesc* Modfilename_107026, NI32 Crc_107027, TY50548* Module_107028);
N_NIMCALL(void*, newObj)(TNimType* Typ_13710, NI Size_13711);
N_NIMCALL(void*, newSeq)(TNimType* Typ_14204, NI Len_14205);
static N_INLINE(void, asgnRef)(void** Dest_13014, void* Src_13015);
static N_INLINE(void, Incref_13002)(TY10602* C_13004);
static N_INLINE(NI, Atomicinc_3221)(NI* Memloc_3224, NI X_3225);
static N_INLINE(NIM_BOOL, Canbecycleroot_11416)(TY10602* C_11418);
static N_INLINE(void, Rtladdcycleroot_12052)(TY10602* C_12054);
N_NOINLINE(void, Incl_10880)(TY10614* S_10883, TY10602* Cell_10884);
static N_INLINE(TY10602*, Usrtocell_11412)(void* Usr_11414);
static N_INLINE(void, Decref_12801)(TY10602* C_12803);
static N_INLINE(NI, Atomicdec_3226)(NI* Memloc_3229, NI X_3230);
static N_INLINE(void, Rtladdzct_12401)(TY10602* C_12403);
N_NOINLINE(void, Addzct_11401)(TY10618* S_11404, TY10602* C_11405);
N_NIMCALL(void, Initiitable_55220)(TY55215* X_55223);
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13018, void* Src_13019);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* Src_18512);
N_NIMCALL(TY47008*, Getdefines_107056)(void);
N_NIMCALL(TY50548*, Inittabiter_55073)(TY55071* Ti_55076, TY50530* Tab_55077);
N_NIMCALL(void, App_47036)(TY47008** A_47039, NimStringDesc* B_47040);
N_NIMCALL(TY50548*, Nextiter_55078)(TY55071* Ti_55081, TY50530* Tab_55082);
N_NIMCALL(NI32, Getcrc_89064)(NimStringDesc* Filename_89066);
N_NIMCALL(void, Rawaddinterfacesym_108293)(TY107004* W_108295, TY50548* S_108296);
N_NIMCALL(void, Pushsym_107269)(TY107004* W_107271, TY50548* S_107272);
N_NIMCALL(NI, Iitableget_55224)(TY55215 T_55226, NI Key_55227);
N_NIMCALL(TGenericSeq*, setLengthSeq)(TGenericSeq* Seq_18803, NI Elemsize_18804, NI Newlen_18805);
N_NIMCALL(void, Processstacks_107053)(TY107004* W_107055);
N_NIMCALL(void, Symstack_108083)(TY107004* W_108085);
N_NIMCALL(TY50548*, Getmodule_55198)(TY50548* S_55200);
static N_INLINE(void, appendString)(NimStringDesc* Dest_18599, NimStringDesc* Src_18600);
N_NIMCALL(NimStringDesc*, rawNewString)(NI Space_18489);
N_NIMCALL(NI, Ropelen_47052)(TY47008* A_47054);
N_NIMCALL(void, Addtoindex_108066)(TY89029* W_108069, NI Key_108070, NI Val_108071);
N_NIMCALL(void, App_47031)(TY47008** A_47034, TY47008* B_47035);
N_NIMCALL(TY47008*, Encodeint_89073)(NI64 X_89075);
N_NIMCALL(void, Appf_47071)(TY47008** C_47074, NimStringDesc* Frmt_47075, TY47008** Args_47077, NI Args_47077Len0);
N_NIMCALL(void, Iitableput_55228)(TY55215* T_55231, NI Key_55232, NI Val_55233);
N_NIMCALL(TY47008*, Encodesym_107853)(TY107004* W_107855, TY50548* S_107856);
N_NIMCALL(TY47008*, Torope_47046)(NimStringDesc* S_47048);
N_NIMCALL(TY47008*, Encodestr_107048)(TY107004* W_107050, NimStringDesc* S_107051);
N_NIMCALL(TY47008*, Encode_89076)(NimStringDesc* S_89078);
N_NIMCALL(void, Pushtype_107240)(TY107004* W_107242, TY50552* T_107243);
N_NIMCALL(NI, Fileidx_107089)(TY107004* W_107091, NimStringDesc* Filename_107092);
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* A_18449, NimStringDesc* B_18450);
N_NIMCALL(NimStringDesc*, Tofilename_42718)(TY42538 Info_42720);
N_NIMCALL(NIM_BOOL, Astneeded_101057)(TY50548* S_101059);
N_NIMCALL(TY47008*, Encodenode_107298)(TY107004* W_107300, TY42538 Finfo_107301, TY50526* N_107302);
N_NIMCALL(NimStringDesc*, nimFloatToStr)(NF X_19263);
static N_INLINE(NI, Sonslen_50804)(TY50526* N_50806);
N_NIMCALL(TY47008*, Encodeloc_107548)(TY107004* W_107550, TY50540* Loc_107551);
N_NIMCALL(NimStringDesc*, Ropetostr_47063)(TY47008* P_47065);
N_NIMCALL(TY47008*, Ropef_47066)(NimStringDesc* Frmt_47068, TY47008** Args_47070, NI Args_47070Len0);
N_NIMCALL(TY47008*, Encodelib_107827)(TY107004* W_107829, TY50544* Lib_107830, TY42538 Info_107831);
N_NIMCALL(void, Typestack_108214)(TY107004* W_108216);
N_NIMCALL(TY47008*, Encodetype_107659)(TY107004* W_107661, TY50552* T_107662);
N_NIMCALL(TY42538, Unknownlineinfo_42575)(void);
static N_INLINE(NI, Sonslen_50807)(TY50552* N_50809);
N_NIMCALL(TY50526*, Myclose_108837)(TY101002* C_108839, TY50526* N_108840);
N_NIMCALL(void, Writerod_107045)(TY107004* W_107047);
N_NIMCALL(void, Writerope_47055)(TY47008* Head_47057, NimStringDesc* Filename_47058);
N_NIMCALL(NimStringDesc*, Completegeneratedfilepath_41101)(NimStringDesc* F_41103, NIM_BOOL Createsubdir_41104);
N_NIMCALL(NimStringDesc*, nosChangeFileExt)(NimStringDesc* Filename_33620, NimStringDesc* Ext_33621);
N_NIMCALL(TY50526*, Process_108405)(TY101002* C_108407, TY50526* N_108408);
N_NIMCALL(void, Addinterfacesym_107037)(TY107004* W_107039, TY50548* S_107040);
N_NIMCALL(void, Internalerror_43159)(TY42538 Info_43161, NimStringDesc* Errmsg_43162);
N_NIMCALL(void, Addmoddep_107029)(TY107004* W_107031, NimStringDesc* Dep_107032);
N_NIMCALL(NimStringDesc*, Getmodulefile_106013)(TY50526* N_106015);
N_NIMCALL(void, Addstmt_107041)(TY107004* W_107043, TY50526* N_107044);
N_NIMCALL(void, Addincldep_107033)(TY107004* W_107035, NimStringDesc* Dep_107036);
N_NIMCALL(NI32, Crcfromfile_45029)(NimStringDesc* Filename_45031);
STRING_LITERAL(TMP192817, "rodwrite: module ID not set", 27);
STRING_LITERAL(TMP192819, " ", 1);
STRING_LITERAL(TMP192820, "symStack: module nil: ", 22);
STRING_LITERAL(TMP192821, "\012", 1);
STRING_LITERAL(TMP192822, "$1 $2\012", 6);
STRING_LITERAL(TMP192823, "{}", 2);
STRING_LITERAL(TMP192824, "+$1", 3);
STRING_LITERAL(TMP192825, "&$1", 3);
STRING_LITERAL(TMP192826, "^$1", 3);
STRING_LITERAL(TMP192827, "?$1,$2,$3", 9);
STRING_LITERAL(TMP192828, "*$1", 3);
STRING_LITERAL(TMP192829, "$$$1", 4);
STRING_LITERAL(TMP192830, "@$1", 3);
STRING_LITERAL(TMP192831, "()", 2);
STRING_LITERAL(TMP192832, "(", 1);
STRING_LITERAL(TMP192833, "?$1,$2", 6);
STRING_LITERAL(TMP192834, "?$1", 3);
STRING_LITERAL(TMP192835, "!$1", 3);
STRING_LITERAL(TMP192836, ")", 1);
STRING_LITERAL(TMP192837, "%$1", 3);
STRING_LITERAL(TMP192838, "`$1", 3);
STRING_LITERAL(TMP192839, "<$1>", 4);
STRING_LITERAL(TMP192840, "|$1", 3);
STRING_LITERAL(TMP192841, "[]", 2);
STRING_LITERAL(TMP192842, "encodeType: tyForward", 21);
STRING_LITERAL(TMP192843, "/$1", 3);
STRING_LITERAL(TMP192844, "=$1", 3);
STRING_LITERAL(TMP192845, "^()", 3);
STRING_LITERAL(TMP192846, "NIM:", 4);
STRING_LITERAL(TMP192847, "1012", 4);
STRING_LITERAL(TMP192848, "ID:", 3);
STRING_LITERAL(TMP192849, "CRC:", 4);
STRING_LITERAL(TMP192850, "OPTIONS:", 8);
STRING_LITERAL(TMP192851, "DEFINES:", 8);
STRING_LITERAL(TMP192852, "FILES(\012", 7);
STRING_LITERAL(TMP192853, ")\012", 2);
STRING_LITERAL(TMP192854, "INCLUDES(\012", 10);
STRING_LITERAL(TMP192855, "DEPS:", 5);
STRING_LITERAL(TMP192856, "INTERF(\012", 8);
STRING_LITERAL(TMP192857, "COMPILERPROCS(\012", 15);
STRING_LITERAL(TMP192858, "INDEX(\012", 7);
STRING_LITERAL(TMP192859, "IMPORTS(\012", 9);
STRING_LITERAL(TMP192860, "CONVERTERS:", 11);
STRING_LITERAL(TMP192861, "INIT(\012", 6);
STRING_LITERAL(TMP192862, "DATA(\012", 6);
STRING_LITERAL(TMP192863, "rod", 3);
STRING_LITERAL(TMP192864, "rodwrite.process", 16);
TY50895 Debugwritten_108082;
extern NU32 Gglobaloptions_41079;
extern TNimType* NTI107006; /* PRodWriter */
extern TNimType* NTI107004; /* TRodWriter */
extern TNimType* NTI50528; /* TSymSeq */
extern TY10996 Gch_11014;
extern TNimType* NTI50550; /* TTypeSeq */
extern TY50530 Gsymbols_59001;
extern NU32 Goptions_41077;
extern TNimType* NTI34021; /* seq[string] */
static N_INLINE(NI, Atomicinc_3221)(NI* Memloc_3224, NI X_3225) {
NI Result_7807;
Result_7807 = 0;
(*Memloc_3224) += X_3225;
Result_7807 = (*Memloc_3224);
return Result_7807;
}
static N_INLINE(NIM_BOOL, Canbecycleroot_11416)(TY10602* C_11418) {
NIM_BOOL Result_11419;
Result_11419 = 0;
Result_11419 = !((((*(*C_11418).Typ).flags &(1<<((((NU8) 1))&7)))!=0));
return Result_11419;
}
static N_INLINE(void, Rtladdcycleroot_12052)(TY10602* C_12054) {
Incl_10880(&Gch_11014.Cycleroots, C_12054);
}
static N_INLINE(void, Incref_13002)(TY10602* C_13004) {
NI LOC1;
NIM_BOOL LOC3;
LOC1 = Atomicinc_3221(&(*C_13004).Refcount, 8);
LOC3 = Canbecycleroot_11416(C_13004);
if (!LOC3) goto LA4;
Rtladdcycleroot_12052(C_13004);
LA4: ;
}
static N_INLINE(TY10602*, Usrtocell_11412)(void* Usr_11414) {
TY10602* Result_11415;
Result_11415 = 0;
Result_11415 = ((TY10602*) ((NI64)((NU64)(((NI) (Usr_11414))) - (NU64)(((NI) (((NI)sizeof(TY10602))))))));
return Result_11415;
}
static N_INLINE(NI, Atomicdec_3226)(NI* Memloc_3229, NI X_3230) {
NI Result_8006;
Result_8006 = 0;
(*Memloc_3229) -= X_3230;
Result_8006 = (*Memloc_3229);
return Result_8006;
}
static N_INLINE(void, Rtladdzct_12401)(TY10602* C_12403) {
Addzct_11401(&Gch_11014.Zct, C_12403);
}
static N_INLINE(void, Decref_12801)(TY10602* C_12803) {
NI LOC2;
NIM_BOOL LOC5;
LOC2 = Atomicdec_3226(&(*C_12803).Refcount, 8);
if (!((NU64)(LOC2) < (NU64)(8))) goto LA3;
Rtladdzct_12401(C_12803);
goto LA1;
LA3: ;
LOC5 = Canbecycleroot_11416(C_12803);
if (!LOC5) goto LA6;
Rtladdcycleroot_12052(C_12803);
goto LA1;
LA6: ;
LA1: ;
}
static N_INLINE(void, asgnRef)(void** Dest_13014, void* Src_13015) {
TY10602* LOC4;
TY10602* LOC8;
if (!!((Src_13015 == NIM_NIL))) goto LA2;
LOC4 = Usrtocell_11412(Src_13015);
Incref_13002(LOC4);
LA2: ;
if (!!(((*Dest_13014) == NIM_NIL))) goto LA6;
LOC8 = Usrtocell_11412((*Dest_13014));
Decref_12801(LOC8);
LA6: ;
(*Dest_13014) = Src_13015;
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13018, void* Src_13019) {
TY10602* C_13020;
NI LOC4;
TY10602* C_13022;
NI LOC9;
if (!!((Src_13019 == NIM_NIL))) goto LA2;
C_13020 = 0;
C_13020 = Usrtocell_11412(Src_13019);
LOC4 = Atomicinc_3221(&(*C_13020).Refcount, 8);
LA2: ;
if (!!(((*Dest_13018) == NIM_NIL))) goto LA6;
C_13022 = 0;
C_13022 = Usrtocell_11412((*Dest_13018));
LOC9 = Atomicdec_3226(&(*C_13022).Refcount, 8);
if (!((NU64)(LOC9) < (NU64)(8))) goto LA10;
Rtladdzct_12401(C_13022);
LA10: ;
LA6: ;
(*Dest_13018) = Src_13019;
}
N_NIMCALL(TY47008*, Getdefines_107056)(void) {
TY47008* Result_107058;
TY55071 It_107059;
TY50548* S_107061;
Result_107058 = 0;
memset((void*)&It_107059, 0, sizeof(It_107059));
S_107061 = 0;
S_107061 = Inittabiter_55073(&It_107059, &Gsymbols_59001);
Result_107058 = NIM_NIL;
while (1) {
if (!!((S_107061 == NIM_NIL))) goto LA1;
if (!((*S_107061).Position == 1)) goto LA3;
if (!!((Result_107058 == NIM_NIL))) goto LA6;
App_47036(&Result_107058, ((NimStringDesc*) &TMP192819));
LA6: ;
App_47036(&Result_107058, (*(*S_107061).Name).S);
LA3: ;
S_107061 = Nextiter_55078(&It_107059, &Gsymbols_59001);
} LA1: ;
return Result_107058;
}
N_NIMCALL(TY107004*, Newrodwriter_107024)(NimStringDesc* Modfilename_107026, NI32 Crc_107027, TY50548* Module_107028) {
TY107004* Result_107148;
Result_107148 = 0;
Result_107148 = (TY107004*) newObj(NTI107006, sizeof(TY107004));
(*Result_107148).Sup.Sup.m_type = NTI107004;
asgnRef((void**) &(*Result_107148).Sstack, (TY50528*) newSeq(NTI50528, 0));
asgnRef((void**) &(*Result_107148).Tstack, (TY50550*) newSeq(NTI50550, 0));
Initiitable_55220(&(*Result_107148).Index.Tab);
Initiitable_55220(&(*Result_107148).Imports.Tab);
asgnRefNoCycle((void**) &(*Result_107148).Filename, copyString(Modfilename_107026));
(*Result_107148).Crc = Crc_107027;
asgnRef((void**) &(*Result_107148).Module, Module_107028);
asgnRefNoCycle((void**) &(*Result_107148).Defines, Getdefines_107056());
(*Result_107148).Options = Goptions_41077;
asgnRefNoCycle((void**) &(*Result_107148).Files, (TY34021*) newSeq(NTI34021, 0));
return Result_107148;
}
N_NIMCALL(void, Pushsym_107269)(TY107004* W_107271, TY50548* S_107272) {
NI LOC2;
NI L_107285;
LOC2 = Iitableget_55224((*W_107271).Index.Tab, (*S_107272).Sup.Id);
if (!(LOC2 == (IL64(-9223372036854775807) - IL64(1)))) goto LA3;
L_107285 = 0;
L_107285 = (*W_107271).Sstack->Sup.len;
(*W_107271).Sstack = (TY50528*) setLengthSeq(&((*W_107271).Sstack)->Sup, sizeof(TY50548*), (NI64)(L_107285 + 1));
asgnRef((void**) &(*W_107271).Sstack->data[L_107285], S_107272);
LA3: ;
}
static N_INLINE(void, appendString)(NimStringDesc* Dest_18599, NimStringDesc* Src_18600) {
memcpy(((NCSTRING) (&(*Dest_18599).data[((*Dest_18599).Sup.len)-0])), ((NCSTRING) ((*Src_18600).data)), ((NI32) ((NI64)((NI64)((*Src_18600).Sup.len + 1) * 1))));
(*Dest_18599).Sup.len += (*Src_18600).Sup.len;
}
N_NIMCALL(void, Addtoindex_108066)(TY89029* W_108069, NI Key_108070, NI Val_108071) {
TY47008* LOC4;
TY172845 LOC5;
if (!((NI64)(Key_108070 - (*W_108069).Lastidxkey) == 1)) goto LA2;
LOC4 = 0;
LOC4 = Encodeint_89073(((NI64) ((NI64)(Val_108071 - (*W_108069).Lastidxval))));
App_47031(&(*W_108069).R, LOC4);
App_47036(&(*W_108069).R, ((NimStringDesc*) &TMP192821));
goto LA1;
LA2: ;
memset((void*)&LOC5, 0, sizeof(LOC5));
LOC5[0] = Encodeint_89073(((NI64) ((NI64)(Key_108070 - (*W_108069).Lastidxkey))));
LOC5[1] = Encodeint_89073(((NI64) ((NI64)(Val_108071 - (*W_108069).Lastidxval))));
Appf_47071(&(*W_108069).R, ((NimStringDesc*) &TMP192822), LOC5, 2);
LA1: ;
(*W_108069).Lastidxkey = Key_108070;
(*W_108069).Lastidxval = Val_108071;
Iitableput_55228(&(*W_108069).Tab, Key_108070, Val_108071);
}
N_NIMCALL(TY47008*, Encodestr_107048)(TY107004* W_107050, NimStringDesc* S_107051) {
TY47008* Result_107052;
Result_107052 = 0;
Result_107052 = Encode_89076(S_107051);
return Result_107052;
}
N_NIMCALL(void, Pushtype_107240)(TY107004* W_107242, TY50552* T_107243) {
NI LOC2;
NI L_107256;
LOC2 = Iitableget_55224((*W_107242).Index.Tab, (*T_107243).Sup.Id);
if (!(LOC2 == (IL64(-9223372036854775807) - IL64(1)))) goto LA3;
L_107256 = 0;
L_107256 = (*W_107242).Tstack->Sup.len;
(*W_107242).Tstack = (TY50550*) setLengthSeq(&((*W_107242).Tstack)->Sup, sizeof(TY50552*), (NI64)(L_107256 + 1));
asgnRef((void**) &(*W_107242).Tstack->data[L_107256], T_107243);
LA3: ;
}
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* A_18449, NimStringDesc* B_18450) {
NIM_BOOL Result_18451;
NIM_BOOL LOC5;
NIM_BOOL LOC9;
NI32 LOC11;
Result_18451 = 0;
if (!(A_18449 == B_18450)) goto LA2;
Result_18451 = NIM_TRUE;
goto BeforeRet;
LA2: ;
LOC5 = (A_18449 == NIM_NIL);
if (LOC5) goto LA6;
LOC5 = (B_18450 == NIM_NIL);
LA6: ;
if (!LOC5) goto LA7;
Result_18451 = NIM_FALSE;
goto BeforeRet;
LA7: ;
LOC9 = ((*A_18449).Sup.len == (*B_18450).Sup.len);
if (!(LOC9)) goto LA10;
LOC11 = memcmp(((NCSTRING) ((*A_18449).data)), ((NCSTRING) ((*B_18450).data)), ((NI32) ((NI64)((*A_18449).Sup.len * 1))));
LOC9 = (LOC11 == ((NI32) 0));
LA10: ;
Result_18451 = LOC9;
goto BeforeRet;
BeforeRet: ;
return Result_18451;
}
N_NIMCALL(NI, Fileidx_107089)(TY107004* W_107091, NimStringDesc* Filename_107092) {
NI Result_107093;
NI I_107117;
NI HEX3Atmp_107140;
NI Res_107142;
Result_107093 = 0;
I_107117 = 0;
HEX3Atmp_107140 = 0;
HEX3Atmp_107140 = ((*W_107091).Files->Sup.len-1);
Res_107142 = 0;
Res_107142 = 0;
while (1) {
if (!(Res_107142 <= HEX3Atmp_107140)) goto LA1;
I_107117 = Res_107142;
if (!eqStrings((*W_107091).Files->data[I_107117], Filename_107092)) goto LA3;
Result_107093 = I_107117;
goto BeforeRet;
LA3: ;
Res_107142 += 1;
} LA1: ;
Result_107093 = (*W_107091).Files->Sup.len;
(*W_107091).Files = (TY34021*) setLengthSeq(&((*W_107091).Files)->Sup, sizeof(NimStringDesc*), (NI64)(Result_107093 + 1));
asgnRefNoCycle((void**) &(*W_107091).Files->data[Result_107093], copyString(Filename_107092));
BeforeRet: ;
return Result_107093;
}
static N_INLINE(NI, Sonslen_50804)(TY50526* N_50806) {
NI Result_51880;
Result_51880 = 0;
if (!(*N_50806).KindU.S6.Sons == 0) goto LA2;
Result_51880 = 0;
goto LA1;
LA2: ;
Result_51880 = (*N_50806).KindU.S6.Sons->Sup.len;
LA1: ;
return Result_51880;
}
N_NIMCALL(TY47008*, Encodenode_107298)(TY107004* W_107300, TY42538 Finfo_107301, TY50526* N_107302) {
TY47008* Result_107303;
TY47008* LOC4;
TY158012 LOC8;
NimStringDesc* LOC9;
NI LOC10;
TY172845 LOC13;
TY47407 LOC16;
NU8 F_107352;
TY47407 LOC20;
TY47407 LOC24;
TY47407 LOC28;
TY47407 LOC32;
NimStringDesc* LOC33;
TY47407 LOC37;
TY47407 LOC38;
TY47407 LOC39;
NI I_107530;
NI HEX3Atmp_107545;
NI LOC40;
NI Res_107547;
TY47008* LOC42;
Result_107303 = 0;
if (!(N_107302 == NIM_NIL)) goto LA2;
Result_107303 = Torope_47046(((NimStringDesc*) &TMP192831));
goto BeforeRet;
LA2: ;
Result_107303 = Torope_47046(((NimStringDesc*) &TMP192832));
LOC4 = 0;
LOC4 = Encodeint_89073(((NI64) ((*N_107302).Kind)));
App_47031(&Result_107303, LOC4);
if (!!((Finfo_107301.Fileindex == (*N_107302).Info.Fileindex))) goto LA6;
memset((void*)&LOC8, 0, sizeof(LOC8));
LOC8[0] = Encodeint_89073(((NI64) ((*N_107302).Info.Col)));
LOC8[1] = Encodeint_89073(((NI64) ((*N_107302).Info.Line)));
LOC9 = 0;
LOC9 = Tofilename_42718((*N_107302).Info);
LOC10 = Fileidx_107089(W_107300, LOC9);
LOC8[2] = Encodeint_89073(((NI64) (LOC10)));
Appf_47071(&Result_107303, ((NimStringDesc*) &TMP192827), LOC8, 3);
goto LA5;
LA6: ;
if (!!((Finfo_107301.Line == (*N_107302).Info.Line))) goto LA11;
memset((void*)&LOC13, 0, sizeof(LOC13));
LOC13[0] = Encodeint_89073(((NI64) ((*N_107302).Info.Col)));
LOC13[1] = Encodeint_89073(((NI64) ((*N_107302).Info.Line)));
Appf_47071(&Result_107303, ((NimStringDesc*) &TMP192833), LOC13, 2);
goto LA5;
LA11: ;
if (!!((Finfo_107301.Col == (*N_107302).Info.Col))) goto LA14;
memset((void*)&LOC16, 0, sizeof(LOC16));
LOC16[0] = Encodeint_89073(((NI64) ((*N_107302).Info.Col)));
Appf_47071(&Result_107303, ((NimStringDesc*) &TMP192834), LOC16, 1);
goto LA5;
LA14: ;
LA5: ;
memset((void*)&F_107352, 0, sizeof(F_107352));
F_107352 = ((*N_107302).Flags & 30);
if (!!((F_107352 == 0))) goto LA18;
memset((void*)&LOC20, 0, sizeof(LOC20));
LOC20[0] = Encodeint_89073(((NI64) (((NI32) (F_107352)))));
Appf_47071(&Result_107303, ((NimStringDesc*) &TMP192829), LOC20, 1);
LA18: ;
if (!!(((*N_107302).Typ == NIM_NIL))) goto LA22;
memset((void*)&LOC24, 0, sizeof(LOC24));
LOC24[0] = Encodeint_89073(((NI64) ((*(*N_107302).Typ).Sup.Id)));
Appf_47071(&Result_107303, ((NimStringDesc*) &TMP192826), LOC24, 1);
Pushtype_107240(W_107300, (*N_107302).Typ);
LA22: ;
switch ((*N_107302).Kind) {
case ((NU8) 5) ... ((NU8) 10):
if (!!(((*N_107302).KindU.S1.Intval == 0))) goto LA26;
memset((void*)&LOC28, 0, sizeof(LOC28));
LOC28[0] = Encodeint_89073((*N_107302).KindU.S1.Intval);
Appf_47071(&Result_107303, ((NimStringDesc*) &TMP192835), LOC28, 1);
LA26: ;
break;
case ((NU8) 11) ... ((NU8) 13):
if (!!((((NF) ((*N_107302).KindU.S2.Floatval)) == 0.0))) goto LA30;
memset((void*)&LOC32, 0, sizeof(LOC32));
LOC33 = 0;
LOC33 = nimFloatToStr(((NF) ((*N_107302).KindU.S2.Floatval)));
LOC32[0] = Encodestr_107048(W_107300, LOC33);
Appf_47071(&Result_107303, ((NimStringDesc*) &TMP192835), LOC32, 1);
LA30: ;
break;
case ((NU8) 14) ... ((NU8) 16):
if (!!((((*N_107302).KindU.S3.Strval) && ((*N_107302).KindU.S3.Strval)->Sup.len == 0))) goto LA35;
memset((void*)&LOC37, 0, sizeof(LOC37));
LOC37[0] = Encodestr_107048(W_107300, (*N_107302).KindU.S3.Strval);
Appf_47071(&Result_107303, ((NimStringDesc*) &TMP192835), LOC37, 1);
LA35: ;
break;
case ((NU8) 2):
memset((void*)&LOC38, 0, sizeof(LOC38));
LOC38[0] = Encodestr_107048(W_107300, (*(*N_107302).KindU.S5.Ident).S);
Appf_47071(&Result_107303, ((NimStringDesc*) &TMP192835), LOC38, 1);
break;
case ((NU8) 3):
memset((void*)&LOC39, 0, sizeof(LOC39));
LOC39[0] = Encodeint_89073(((NI64) ((*(*N_107302).KindU.S4.Sym).Sup.Id)));
Appf_47071(&Result_107303, ((NimStringDesc*) &TMP192835), LOC39, 1);
Pushsym_107269(W_107300, (*N_107302).KindU.S4.Sym);
break;
default:
I_107530 = 0;
HEX3Atmp_107545 = 0;
LOC40 = Sonslen_50804(N_107302);
HEX3Atmp_107545 = (NI64)(LOC40 - 1);
Res_107547 = 0;
Res_107547 = 0;
while (1) {
if (!(Res_107547 <= HEX3Atmp_107545)) goto LA41;
I_107530 = Res_107547;
LOC42 = 0;
LOC42 = Encodenode_107298(W_107300, (*N_107302).Info, (*N_107302).KindU.S6.Sons->data[I_107530]);
App_47031(&Result_107303, LOC42);
Res_107547 += 1;
} LA41: ;
break;
}
App_47036(&Result_107303, ((NimStringDesc*) &TMP192836));
BeforeRet: ;
return Result_107303;
}
N_NIMCALL(TY47008*, Encodeloc_107548)(TY107004* W_107550, TY50540* Loc_107551) {
TY47008* Result_107552;
TY47008* LOC4;
TY47407 LOC8;
TY47407 LOC12;
TY47407 LOC16;
TY47407 LOC20;
NimStringDesc* LOC21;
TY47407 LOC25;
TY47407 LOC29;
Result_107552 = 0;
Result_107552 = NIM_NIL;
if (!!(((*Loc_107551).K == ((NU8) 0)))) goto LA2;
LOC4 = 0;
LOC4 = Encodeint_89073(((NI64) ((*Loc_107551).K)));
App_47031(&Result_107552, LOC4);
LA2: ;
if (!!(((*Loc_107551).S == ((NU8) 0)))) goto LA6;
memset((void*)&LOC8, 0, sizeof(LOC8));
LOC8[0] = Encodeint_89073(((NI64) ((*Loc_107551).S)));
Appf_47071(&Result_107552, ((NimStringDesc*) &TMP192828), LOC8, 1);
LA6: ;
if (!!(((*Loc_107551).Flags == 0))) goto LA10;
memset((void*)&LOC12, 0, sizeof(LOC12));
LOC12[0] = Encodeint_89073(((NI64) (((NI32) ((*Loc_107551).Flags)))));
Appf_47071(&Result_107552, ((NimStringDesc*) &TMP192829), LOC12, 1);
LA10: ;
if (!!(((*Loc_107551).T == NIM_NIL))) goto LA14;
memset((void*)&LOC16, 0, sizeof(LOC16));
LOC16[0] = Encodeint_89073(((NI64) ((*(*Loc_107551).T).Sup.Id)));
Appf_47071(&Result_107552, ((NimStringDesc*) &TMP192826), LOC16, 1);
Pushtype_107240(W_107550, (*Loc_107551).T);
LA14: ;
if (!!(((*Loc_107551).R == NIM_NIL))) goto LA18;
memset((void*)&LOC20, 0, sizeof(LOC20));
LOC21 = 0;
LOC21 = Ropetostr_47063((*Loc_107551).R);
LOC20[0] = Encodestr_107048(W_107550, LOC21);
Appf_47071(&Result_107552, ((NimStringDesc*) &TMP192835), LOC20, 1);
LA18: ;
if (!!(((*Loc_107551).A == 0))) goto LA23;
memset((void*)&LOC25, 0, sizeof(LOC25));
LOC25[0] = Encodeint_89073(((NI64) ((*Loc_107551).A)));
Appf_47071(&Result_107552, ((NimStringDesc*) &TMP192834), LOC25, 1);
LA23: ;
if (!!((Result_107552 == NIM_NIL))) goto LA27;
memset((void*)&LOC29, 0, sizeof(LOC29));
LOC29[0] = Result_107552;
Result_107552 = Ropef_47066(((NimStringDesc*) &TMP192839), LOC29, 1);
LA27: ;
return Result_107552;
}
N_NIMCALL(TY47008*, Encodelib_107827)(TY107004* W_107829, TY50544* Lib_107830, TY42538 Info_107831) {
TY47008* Result_107832;
TY47407 LOC1;
TY47407 LOC2;
NimStringDesc* LOC3;
TY47407 LOC4;
Result_107832 = 0;
Result_107832 = NIM_NIL;
memset((void*)&LOC1, 0, sizeof(LOC1));
LOC1[0] = Encodeint_89073(((NI64) ((*Lib_107830).Kind)));
Appf_47071(&Result_107832, ((NimStringDesc*) &TMP192840), LOC1, 1);
memset((void*)&LOC2, 0, sizeof(LOC2));
LOC3 = 0;
LOC3 = Ropetostr_47063((*Lib_107830).Name);
LOC2[0] = Encodestr_107048(W_107829, LOC3);
Appf_47071(&Result_107832, ((NimStringDesc*) &TMP192840), LOC2, 1);
memset((void*)&LOC4, 0, sizeof(LOC4));
LOC4[0] = Encodenode_107298(W_107829, Info_107831, (*Lib_107830).Path);
Appf_47071(&Result_107832, ((NimStringDesc*) &TMP192840), LOC4, 1);
return Result_107832;
}
N_NIMCALL(TY47008*, Encodesym_107853)(TY107004* W_107855, TY50548* S_107856) {
TY47008* Result_107857;
TY50526* Codeast_107858;
TY47008* Col_107859;
TY47008* Line_107860;
TY47008* LOC4;
TY47407 LOC5;
TY47407 LOC6;
TY47407 LOC10;
TY158012 LOC17;
NimStringDesc* LOC18;
NI LOC19;
TY47407 LOC23;
TY47407 LOC27;
TY47407 LOC31;
NIM_BOOL LOC36;
TY47008* LOC39;
TY47407 LOC46;
TY47407 LOC50;
TY47407 LOC54;
TY47008* LOC55;
TY47008* LOC59;
Result_107857 = 0;
Codeast_107858 = 0;
Col_107859 = 0;
Line_107860 = 0;
Codeast_107858 = NIM_NIL;
if (!(S_107856 == NIM_NIL)) goto LA2;
Result_107857 = Torope_47046(((NimStringDesc*) &TMP192823));
goto BeforeRet;
LA2: ;
Result_107857 = NIM_NIL;
LOC4 = 0;
LOC4 = Encodeint_89073(((NI64) ((*S_107856).Kind)));
App_47031(&Result_107857, LOC4);
memset((void*)&LOC5, 0, sizeof(LOC5));
LOC5[0] = Encodeint_89073(((NI64) ((*S_107856).Sup.Id)));
Appf_47071(&Result_107857, ((NimStringDesc*) &TMP192824), LOC5, 1);
memset((void*)&LOC6, 0, sizeof(LOC6));
LOC6[0] = Encodestr_107048(W_107855, (*(*S_107856).Name).S);
Appf_47071(&Result_107857, ((NimStringDesc*) &TMP192825), LOC6, 1);
if (!!(((*S_107856).Typ == NIM_NIL))) goto LA8;
memset((void*)&LOC10, 0, sizeof(LOC10));
LOC10[0] = Encodeint_89073(((NI64) ((*(*S_107856).Typ).Sup.Id)));
Appf_47071(&Result_107857, ((NimStringDesc*) &TMP192826), LOC10, 1);
Pushtype_107240(W_107855, (*S_107856).Typ);
LA8: ;
if (!((*S_107856).Info.Col == ((NI16) -1))) goto LA12;
Col_107859 = NIM_NIL;
goto LA11;
LA12: ;
Col_107859 = Encodeint_89073(((NI64) ((*S_107856).Info.Col)));
LA11: ;
if (!((*S_107856).Info.Line == ((NI16) -1))) goto LA15;
Line_107860 = NIM_NIL;
goto LA14;
LA15: ;
Line_107860 = Encodeint_89073(((NI64) ((*S_107856).Info.Line)));
LA14: ;
memset((void*)&LOC17, 0, sizeof(LOC17));
LOC17[0] = Col_107859;
LOC17[1] = Line_107860;
LOC18 = 0;
LOC18 = Tofilename_42718((*S_107856).Info);
LOC19 = Fileidx_107089(W_107855, LOC18);
LOC17[2] = Encodeint_89073(((NI64) (LOC19)));
Appf_47071(&Result_107857, ((NimStringDesc*) &TMP192827), LOC17, 3);
if (!!(((*S_107856).Owner == NIM_NIL))) goto LA21;
memset((void*)&LOC23, 0, sizeof(LOC23));
LOC23[0] = Encodeint_89073(((NI64) ((*(*S_107856).Owner).Sup.Id)));
Appf_47071(&Result_107857, ((NimStringDesc*) &TMP192828), LOC23, 1);
Pushsym_107269(W_107855, (*S_107856).Owner);
LA21: ;
if (!!(((*S_107856).Flags == 0))) goto LA25;
memset((void*)&LOC27, 0, sizeof(LOC27));
LOC27[0] = Encodeint_89073(((NI64) (((NI32) ((*S_107856).Flags)))));
Appf_47071(&Result_107857, ((NimStringDesc*) &TMP192829), LOC27, 1);
LA25: ;
if (!!(((*S_107856).Magic == ((NU8) 0)))) goto LA29;
memset((void*)&LOC31, 0, sizeof(LOC31));
LOC31[0] = Encodeint_89073(((NI64) ((*S_107856).Magic)));
Appf_47071(&Result_107857, ((NimStringDesc*) &TMP192830), LOC31, 1);
LA29: ;
if (!!(((*S_107856).Ast == NIM_NIL))) goto LA33;
LOC36 = Astneeded_101057(S_107856);
if (!!(LOC36)) goto LA37;
Codeast_107858 = (*(*S_107856).Ast).KindU.S6.Sons->data[4];
asgnRefNoCycle((void**) &(*(*S_107856).Ast).KindU.S6.Sons->data[4], NIM_NIL);
LA37: ;
LOC39 = 0;
LOC39 = Encodenode_107298(W_107855, (*S_107856).Info, (*S_107856).Ast);
App_47031(&Result_107857, LOC39);
if (!!((Codeast_107858 == NIM_NIL))) goto LA41;
asgnRefNoCycle((void**) &(*(*S_107856).Ast).KindU.S6.Sons->data[4], Codeast_107858);
LA41: ;
LA33: ;
if (!!(((*S_107856).Options == (*W_107855).Options))) goto LA44;
memset((void*)&LOC46, 0, sizeof(LOC46));
LOC46[0] = Encodeint_89073(((NI64) (((NI32) ((*S_107856).Options)))));
Appf_47071(&Result_107857, ((NimStringDesc*) &TMP192835), LOC46, 1);
LA44: ;
if (!!(((*S_107856).Position == 0))) goto LA48;
memset((void*)&LOC50, 0, sizeof(LOC50));
LOC50[0] = Encodeint_89073(((NI64) ((*S_107856).Position)));
Appf_47071(&Result_107857, ((NimStringDesc*) &TMP192837), LOC50, 1);
LA48: ;
if (!!(((*S_107856).Offset == -1))) goto LA52;
memset((void*)&LOC54, 0, sizeof(LOC54));
LOC54[0] = Encodeint_89073(((NI64) ((*S_107856).Offset)));
Appf_47071(&Result_107857, ((NimStringDesc*) &TMP192838), LOC54, 1);
LA52: ;
LOC55 = 0;
LOC55 = Encodeloc_107548(W_107855, &(*S_107856).Loc);
App_47031(&Result_107857, LOC55);
if (!!(((*S_107856).Annex == NIM_NIL))) goto LA57;
LOC59 = 0;
LOC59 = Encodelib_107827(W_107855, (*S_107856).Annex, (*S_107856).Info);
App_47031(&Result_107857, LOC59);
LA57: ;
BeforeRet: ;
return Result_107857;
}
N_NIMCALL(void, Symstack_108083)(TY107004* W_108085) {
NI I_108086;
NI L_108087;
TY50548* S_108088;
TY50548* M_108089;
NI LOC3;
NimStringDesc* LOC9;
NIM_BOOL LOC11;
TY47008* LOC15;
TY172845 LOC19;
TY172845 LOC23;
TY47008* LOC30;
NI LOC31;
I_108086 = 0;
L_108087 = 0;
S_108088 = 0;
M_108089 = 0;
I_108086 = 0;
while (1) {
if (!(I_108086 < (*W_108085).Sstack->Sup.len)) goto LA1;
S_108088 = (*W_108085).Sstack->data[I_108086];
LOC3 = Iitableget_55224((*W_108085).Index.Tab, (*S_108088).Sup.Id);
if (!(LOC3 == (IL64(-9223372036854775807) - IL64(1)))) goto LA4;
M_108089 = Getmodule_55198(S_108088);
if (!(M_108089 == NIM_NIL)) goto LA7;
LOC9 = 0;
LOC9 = rawNewString((*(*S_108088).Name).S->Sup.len + 22);
appendString(LOC9, ((NimStringDesc*) &TMP192820));
appendString(LOC9, (*(*S_108088).Name).S);
Internalerror_43163(LOC9);
LA7: ;
LOC11 = ((*M_108089).Sup.Id == (*(*W_108085).Module).Sup.Id);
if (LOC11) goto LA12;
LOC11 = (((*S_108088).Flags &(1<<((((NU8) 4))&31)))!=0);
LA12: ;
if (!LOC11) goto LA13;
L_108087 = Ropelen_47052((*W_108085).Data);
Addtoindex_108066(&(*W_108085).Index, (*S_108088).Sup.Id, L_108087);
LOC15 = 0;
LOC15 = Encodesym_107853(W_108085, S_108088);
App_47031(&(*W_108085).Data, LOC15);
App_47036(&(*W_108085).Data, ((NimStringDesc*) &TMP192821));
if (!(((*S_108088).Flags &(1<<((((NU8) 3))&31)))!=0)) goto LA17;
memset((void*)&LOC19, 0, sizeof(LOC19));
LOC19[0] = Encode_89076((*(*S_108088).Name).S);
LOC19[1] = Encodeint_89073(((NI64) ((*S_108088).Sup.Id)));
Appf_47071(&(*W_108085).Interf, ((NimStringDesc*) &TMP192822), LOC19, 2);
LA17: ;
if (!(((*S_108088).Flags &(1<<((((NU8) 19))&31)))!=0)) goto LA21;
memset((void*)&LOC23, 0, sizeof(LOC23));
LOC23[0] = Encode_89076((*(*S_108088).Name).S);
LOC23[1] = Encodeint_89073(((NI64) ((*S_108088).Sup.Id)));
Appf_47071(&(*W_108085).Compilerprocs, ((NimStringDesc*) &TMP192822), LOC23, 2);
LA21: ;
if (!((*S_108088).Kind == ((NU8) 13))) goto LA25;
if (!!(((*W_108085).Converters == NIM_NIL))) goto LA28;
App_47036(&(*W_108085).Converters, ((NimStringDesc*) &TMP192819));
LA28: ;
LOC30 = 0;
LOC30 = Encodeint_89073(((NI64) ((*S_108088).Sup.Id)));
App_47031(&(*W_108085).Converters, LOC30);
LA25: ;
goto LA10;
LA13: ;
LOC31 = Iitableget_55224((*W_108085).Imports.Tab, (*S_108088).Sup.Id);
if (!(LOC31 == (IL64(-9223372036854775807) - IL64(1)))) goto LA32;
Addtoindex_108066(&(*W_108085).Imports, (*S_108088).Sup.Id, (*M_108089).Sup.Id);
goto LA10;
LA32: ;
LA10: ;
LA4: ;
I_108086 += 1;
} LA1: ;
(*W_108085).Sstack = (TY50528*) setLengthSeq(&((*W_108085).Sstack)->Sup, sizeof(TY50548*), 0);
}
static N_INLINE(NI, Sonslen_50807)(TY50552* N_50809) {
NI Result_51744;
Result_51744 = 0;
if (!(*N_50809).Sons == 0) goto LA2;
Result_51744 = 0;
goto LA1;
LA2: ;
Result_51744 = (*N_50809).Sons->Sup.len;
LA1: ;
return Result_51744;
}
N_NIMCALL(TY47008*, Encodetype_107659)(TY107004* W_107661, TY50552* T_107662) {
TY47008* Result_107663;
TY47008* LOC7;
TY47407 LOC8;
TY42538 LOC12;
TY47008* LOC13;
TY47407 LOC17;
TY47407 LOC21;
TY47407 LOC25;
TY47407 LOC29;
TY47407 LOC33;
TY47407 LOC37;
TY47407 LOC41;
TY47008* LOC42;
NI I_107806;
NI HEX3Atmp_107824;
NI LOC43;
NI Res_107826;
TY47407 LOC48;
Result_107663 = 0;
if (!(T_107662 == NIM_NIL)) goto LA2;
Result_107663 = Torope_47046(((NimStringDesc*) &TMP192841));
goto BeforeRet;
LA2: ;
Result_107663 = NIM_NIL;
if (!((*T_107662).Kind == ((NU8) 30))) goto LA5;
Internalerror_43163(((NimStringDesc*) &TMP192842));
LA5: ;
LOC7 = 0;
LOC7 = Encodeint_89073(((NI64) ((*T_107662).Kind)));
App_47031(&Result_107663, LOC7);
memset((void*)&LOC8, 0, sizeof(LOC8));
LOC8[0] = Encodeint_89073(((NI64) ((*T_107662).Sup.Id)));
Appf_47071(&Result_107663, ((NimStringDesc*) &TMP192824), LOC8, 1);
if (!!(((*T_107662).N == NIM_NIL))) goto LA10;
LOC12 = Unknownlineinfo_42575();
LOC13 = 0;
LOC13 = Encodenode_107298(W_107661, LOC12, (*T_107662).N);
App_47031(&Result_107663, LOC13);
LA10: ;
if (!!(((*T_107662).Flags == 0))) goto LA15;
memset((void*)&LOC17, 0, sizeof(LOC17));
LOC17[0] = Encodeint_89073(((NI64) (((NI32) ((*T_107662).Flags)))));
Appf_47071(&Result_107663, ((NimStringDesc*) &TMP192829), LOC17, 1);
LA15: ;
if (!!(((*T_107662).Callconv == ((NU8) 0)))) goto LA19;
memset((void*)&LOC21, 0, sizeof(LOC21));
LOC21[0] = Encodeint_89073(((NI64) ((*T_107662).Callconv)));
Appf_47071(&Result_107663, ((NimStringDesc*) &TMP192834), LOC21, 1);
LA19: ;
if (!!(((*T_107662).Owner == NIM_NIL))) goto LA23;
memset((void*)&LOC25, 0, sizeof(LOC25));
LOC25[0] = Encodeint_89073(((NI64) ((*(*T_107662).Owner).Sup.Id)));
Appf_47071(&Result_107663, ((NimStringDesc*) &TMP192828), LOC25, 1);
Pushsym_107269(W_107661, (*T_107662).Owner);
LA23: ;
if (!!(((*T_107662).Sym == NIM_NIL))) goto LA27;
memset((void*)&LOC29, 0, sizeof(LOC29));
LOC29[0] = Encodeint_89073(((NI64) ((*(*T_107662).Sym).Sup.Id)));
Appf_47071(&Result_107663, ((NimStringDesc*) &TMP192825), LOC29, 1);
Pushsym_107269(W_107661, (*T_107662).Sym);
LA27: ;
if (!!(((*T_107662).Size == -1))) goto LA31;
memset((void*)&LOC33, 0, sizeof(LOC33));
LOC33[0] = Encodeint_89073((*T_107662).Size);
Appf_47071(&Result_107663, ((NimStringDesc*) &TMP192843), LOC33, 1);
LA31: ;
if (!!(((*T_107662).Align == 2))) goto LA35;
memset((void*)&LOC37, 0, sizeof(LOC37));
LOC37[0] = Encodeint_89073(((NI64) ((*T_107662).Align)));
Appf_47071(&Result_107663, ((NimStringDesc*) &TMP192844), LOC37, 1);
LA35: ;
if (!!(((*T_107662).Containerid == 0))) goto LA39;
memset((void*)&LOC41, 0, sizeof(LOC41));
LOC41[0] = Encodeint_89073(((NI64) ((*T_107662).Containerid)));
Appf_47071(&Result_107663, ((NimStringDesc*) &TMP192830), LOC41, 1);
LA39: ;
LOC42 = 0;
LOC42 = Encodeloc_107548(W_107661, &(*T_107662).Loc);
App_47031(&Result_107663, LOC42);
I_107806 = 0;
HEX3Atmp_107824 = 0;
LOC43 = Sonslen_50807(T_107662);
HEX3Atmp_107824 = (NI64)(LOC43 - 1);
Res_107826 = 0;
Res_107826 = 0;
while (1) {
if (!(Res_107826 <= HEX3Atmp_107824)) goto LA44;
I_107806 = Res_107826;
if (!((*T_107662).Sons->data[I_107806] == NIM_NIL)) goto LA46;
App_47036(&Result_107663, ((NimStringDesc*) &TMP192845));
goto LA45;
LA46: ;
memset((void*)&LOC48, 0, sizeof(LOC48));
LOC48[0] = Encodeint_89073(((NI64) ((*(*T_107662).Sons->data[I_107806]).Sup.Id)));
Appf_47071(&Result_107663, ((NimStringDesc*) &TMP192826), LOC48, 1);
Pushtype_107240(W_107661, (*T_107662).Sons->data[I_107806]);
LA45: ;
Res_107826 += 1;
} LA44: ;
BeforeRet: ;
return Result_107663;
}
N_NIMCALL(void, Typestack_108214)(TY107004* W_108216) {
NI I_108217;
NI LOC3;
NI L_108234;
TY47008* LOC6;
I_108217 = 0;
I_108217 = 0;
while (1) {
if (!(I_108217 < (*W_108216).Tstack->Sup.len)) goto LA1;
LOC3 = Iitableget_55224((*W_108216).Index.Tab, (*(*W_108216).Tstack->data[I_108217]).Sup.Id);
if (!(LOC3 == (IL64(-9223372036854775807) - IL64(1)))) goto LA4;
L_108234 = 0;
L_108234 = Ropelen_47052((*W_108216).Data);
Addtoindex_108066(&(*W_108216).Index, (*(*W_108216).Tstack->data[I_108217]).Sup.Id, L_108234);
LOC6 = 0;
LOC6 = Encodetype_107659(W_108216, (*W_108216).Tstack->data[I_108217]);
App_47031(&(*W_108216).Data, LOC6);
App_47036(&(*W_108216).Data, ((NimStringDesc*) &TMP192821));
LA4: ;
I_108217 += 1;
} LA1: ;
(*W_108216).Tstack = (TY50550*) setLengthSeq(&((*W_108216).Tstack)->Sup, sizeof(TY50552*), 0);
}
N_NIMCALL(void, Processstacks_107053)(TY107004* W_107055) {
NIM_BOOL LOC2;
while (1) {
LOC2 = (0 < (*W_107055).Tstack->Sup.len);
if (LOC2) goto LA3;
LOC2 = (0 < (*W_107055).Sstack->Sup.len);
LA3: ;
if (!LOC2) goto LA1;
Symstack_108083(W_107055);
Typestack_108214(W_107055);
} LA1: ;
}
N_NIMCALL(void, Rawaddinterfacesym_108293)(TY107004* W_108295, TY50548* S_108296) {
Pushsym_107269(W_108295, S_108296);
Processstacks_107053(W_108295);
}
N_NIMCALL(TY101002*, Myopen_108827)(TY50548* Module_108829, NimStringDesc* Filename_108830) {
TY101002* Result_108831;
TY107004* W_108836;
NI32 LOC4;
Result_108831 = 0;
if (!((*Module_108829).Sup.Id < 0)) goto LA2;
Internalerror_43163(((NimStringDesc*) &TMP192817));
LA2: ;
W_108836 = 0;
LOC4 = Getcrc_89064(Filename_108830);
W_108836 = Newrodwriter_107024(Filename_108830, LOC4, Module_108829);
Rawaddinterfacesym_108293(W_108836, Module_108829);
Result_108831 = &W_108836->Sup;
return Result_108831;
}
N_NIMCALL(void, Writerod_107045)(TY107004* W_107047) {
TY47008* Content_108347;
TY47008* LOC1;
TY47008* LOC2;
TY47008* LOC3;
TY47008* LOC4;
TY47008* LOC5;
TY47008* LOC6;
TY47008* LOC7;
TY47008* LOC8;
TY47008* LOC9;
NI I_108371;
NI HEX3Atmp_108402;
NI Res_108404;
TY47008* LOC11;
TY47008* LOC12;
TY47008* LOC13;
TY47008* LOC14;
TY47008* LOC15;
TY47008* LOC16;
TY47008* LOC17;
TY47008* LOC18;
TY47008* LOC19;
TY47008* LOC20;
TY47008* LOC21;
TY47008* LOC22;
TY47008* LOC23;
TY47008* LOC24;
TY47008* LOC25;
TY47008* LOC26;
TY47008* LOC27;
TY47008* LOC28;
TY47008* LOC29;
NimStringDesc* LOC30;
NimStringDesc* LOC31;
Processstacks_107053(W_107047);
Content_108347 = 0;
Content_108347 = Torope_47046(((NimStringDesc*) &TMP192846));
LOC1 = 0;
LOC1 = Torope_47046(((NimStringDesc*) &TMP192847));
App_47031(&Content_108347, LOC1);
App_47036(&Content_108347, ((NimStringDesc*) &TMP192821));
LOC2 = 0;
LOC2 = Torope_47046(((NimStringDesc*) &TMP192848));
App_47031(&Content_108347, LOC2);
LOC3 = 0;
LOC3 = Encodeint_89073(((NI64) ((*(*W_107047).Module).Sup.Id)));
App_47031(&Content_108347, LOC3);
App_47036(&Content_108347, ((NimStringDesc*) &TMP192821));
LOC4 = 0;
LOC4 = Torope_47046(((NimStringDesc*) &TMP192849));
App_47031(&Content_108347, LOC4);
LOC5 = 0;
LOC5 = Encodeint_89073(((NI64) ((*W_107047).Crc)));
App_47031(&Content_108347, LOC5);
App_47036(&Content_108347, ((NimStringDesc*) &TMP192821));
LOC6 = 0;
LOC6 = Torope_47046(((NimStringDesc*) &TMP192850));
App_47031(&Content_108347, LOC6);
LOC7 = 0;
LOC7 = Encodeint_89073(((NI64) (((NI32) ((*W_107047).Options)))));
App_47031(&Content_108347, LOC7);
App_47036(&Content_108347, ((NimStringDesc*) &TMP192821));
LOC8 = 0;
LOC8 = Torope_47046(((NimStringDesc*) &TMP192851));
App_47031(&Content_108347, LOC8);
App_47031(&Content_108347, (*W_107047).Defines);
App_47036(&Content_108347, ((NimStringDesc*) &TMP192821));
LOC9 = 0;
LOC9 = Torope_47046(((NimStringDesc*) &TMP192852));
App_47031(&Content_108347, LOC9);
I_108371 = 0;
HEX3Atmp_108402 = 0;
HEX3Atmp_108402 = ((*W_107047).Files->Sup.len-1);
Res_108404 = 0;
Res_108404 = 0;
while (1) {
if (!(Res_108404 <= HEX3Atmp_108402)) goto LA10;
I_108371 = Res_108404;
LOC11 = 0;
LOC11 = Encode_89076((*W_107047).Files->data[I_108371]);
App_47031(&Content_108347, LOC11);
App_47036(&Content_108347, ((NimStringDesc*) &TMP192821));
Res_108404 += 1;
} LA10: ;
LOC12 = 0;
LOC12 = Torope_47046(((NimStringDesc*) &TMP192853));
App_47031(&Content_108347, LOC12);
LOC13 = 0;
LOC13 = Torope_47046(((NimStringDesc*) &TMP192854));
App_47031(&Content_108347, LOC13);
App_47031(&Content_108347, (*W_107047).Incldeps);
LOC14 = 0;
LOC14 = Torope_47046(((NimStringDesc*) &TMP192853));
App_47031(&Content_108347, LOC14);
LOC15 = 0;
LOC15 = Torope_47046(((NimStringDesc*) &TMP192855));
App_47031(&Content_108347, LOC15);
App_47031(&Content_108347, (*W_107047).Moddeps);
App_47036(&Content_108347, ((NimStringDesc*) &TMP192821));
LOC16 = 0;
LOC16 = Torope_47046(((NimStringDesc*) &TMP192856));
App_47031(&Content_108347, LOC16);
App_47031(&Content_108347, (*W_107047).Interf);
LOC17 = 0;
LOC17 = Torope_47046(((NimStringDesc*) &TMP192853));
App_47031(&Content_108347, LOC17);
LOC18 = 0;
LOC18 = Torope_47046(((NimStringDesc*) &TMP192857));
App_47031(&Content_108347, LOC18);
App_47031(&Content_108347, (*W_107047).Compilerprocs);
LOC19 = 0;
LOC19 = Torope_47046(((NimStringDesc*) &TMP192853));
App_47031(&Content_108347, LOC19);
LOC20 = 0;
LOC20 = Torope_47046(((NimStringDesc*) &TMP192858));
App_47031(&Content_108347, LOC20);
App_47031(&Content_108347, (*W_107047).Index.R);
LOC21 = 0;
LOC21 = Torope_47046(((NimStringDesc*) &TMP192853));
App_47031(&Content_108347, LOC21);
LOC22 = 0;
LOC22 = Torope_47046(((NimStringDesc*) &TMP192859));
App_47031(&Content_108347, LOC22);
App_47031(&Content_108347, (*W_107047).Imports.R);
LOC23 = 0;
LOC23 = Torope_47046(((NimStringDesc*) &TMP192853));
App_47031(&Content_108347, LOC23);
LOC24 = 0;
LOC24 = Torope_47046(((NimStringDesc*) &TMP192860));
App_47031(&Content_108347, LOC24);
App_47031(&Content_108347, (*W_107047).Converters);
LOC25 = 0;
LOC25 = Torope_47046(((NimStringDesc*) &TMP192821));
App_47031(&Content_108347, LOC25);
LOC26 = 0;
LOC26 = Torope_47046(((NimStringDesc*) &TMP192861));
App_47031(&Content_108347, LOC26);
App_47031(&Content_108347, (*W_107047).Init);
LOC27 = 0;
LOC27 = Torope_47046(((NimStringDesc*) &TMP192853));
App_47031(&Content_108347, LOC27);
LOC28 = 0;
LOC28 = Torope_47046(((NimStringDesc*) &TMP192862));
App_47031(&Content_108347, LOC28);
App_47031(&Content_108347, (*W_107047).Data);
LOC29 = 0;
LOC29 = Torope_47046(((NimStringDesc*) &TMP192853));
App_47031(&Content_108347, LOC29);
LOC30 = 0;
LOC30 = nosChangeFileExt((*W_107047).Filename, ((NimStringDesc*) &TMP192863));
LOC31 = 0;
LOC31 = Completegeneratedfilepath_41101(LOC30, NIM_TRUE);
Writerope_47055(Content_108347, LOC31);
}
N_NIMCALL(TY50526*, Myclose_108837)(TY101002* C_108839, TY50526* N_108840) {
TY50526* Result_108841;
TY107004* W_108842;
Result_108841 = 0;
W_108842 = 0;
W_108842 = ((TY107004*) (C_108839));
Writerod_107045(W_108842);
Result_108841 = N_108840;
return Result_108841;
}
N_NIMCALL(void, Addinterfacesym_107037)(TY107004* W_107039, TY50548* S_107040) {
if (!(W_107039 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
if (!!(((134219776 & (*S_107040).Flags) == 0))) goto LA5;
Rawaddinterfacesym_108293(W_107039, S_107040);
LA5: ;
BeforeRet: ;
}
N_NIMCALL(void, Addmoddep_107029)(TY107004* W_107031, NimStringDesc* Dep_107032) {
NI LOC4;
TY47008* LOC5;
if (!!(((*W_107031).Moddeps == NIM_NIL))) goto LA2;
App_47036(&(*W_107031).Moddeps, ((NimStringDesc*) &TMP192819));
LA2: ;
LOC4 = Fileidx_107089(W_107031, Dep_107032);
LOC5 = 0;
LOC5 = Encodeint_89073(((NI64) (LOC4)));
App_47031(&(*W_107031).Moddeps, LOC5);
}
N_NIMCALL(void, Addstmt_107041)(TY107004* W_107043, TY50526* N_107044) {
NI LOC1;
TY47008* LOC2;
TY42538 LOC3;
TY47008* LOC4;
LOC1 = Ropelen_47052((*W_107043).Data);
LOC2 = 0;
LOC2 = Encodeint_89073(((NI64) (LOC1)));
App_47031(&(*W_107043).Init, LOC2);
App_47036(&(*W_107043).Init, ((NimStringDesc*) &TMP192821));
LOC3 = Unknownlineinfo_42575();
LOC4 = 0;
LOC4 = Encodenode_107298(W_107043, LOC3, N_107044);
App_47031(&(*W_107043).Data, LOC4);
App_47036(&(*W_107043).Data, ((NimStringDesc*) &TMP192821));
Processstacks_107053(W_107043);
}
N_NIMCALL(void, Addincldep_107033)(TY107004* W_107035, NimStringDesc* Dep_107036) {
NI LOC1;
TY47008* LOC2;
NI32 LOC3;
TY47008* LOC4;
LOC1 = Fileidx_107089(W_107035, Dep_107036);
LOC2 = 0;
LOC2 = Encodeint_89073(((NI64) (LOC1)));
App_47031(&(*W_107035).Incldeps, LOC2);
App_47036(&(*W_107035).Incldeps, ((NimStringDesc*) &TMP192819));
LOC3 = Crcfromfile_45029(Dep_107036);
LOC4 = 0;
LOC4 = Encodeint_89073(((NI64) (LOC3)));
App_47031(&(*W_107035).Incldeps, LOC4);
App_47036(&(*W_107035).Incldeps, ((NimStringDesc*) &TMP192821));
}
N_NIMCALL(TY50526*, Process_108405)(TY101002* C_108407, TY50526* N_108408) {
TY50526* Result_108409;
TY107004* W_108421;
NI I_108430;
NI HEX3Atmp_108806;
NI LOC4;
NI Res_108808;
TY50526* LOC6;
TY50548* S_108467;
TY50548* S_108492;
NIM_BOOL LOC11;
NIM_BOOL LOC12;
NI I_108555;
NI HEX3Atmp_108810;
NI LOC17;
NI Res_108812;
TY50526* A_108568;
NI I_108619;
NI HEX3Atmp_108814;
NI LOC26;
NI Res_108816;
TY50526* A_108632;
NI I_108683;
NI HEX3Atmp_108818;
NI LOC35;
NI Res_108820;
TY50526* A_108696;
TY50548* S_108751;
NI I_108760;
NI HEX3Atmp_108821;
NI LOC44;
NI Res_108823;
NimStringDesc* LOC46;
NimStringDesc* LOC47;
NI I_108793;
NI HEX3Atmp_108824;
NI LOC48;
NI Res_108826;
NimStringDesc* LOC50;
Result_108409 = 0;
Result_108409 = N_108408;
if (!(C_108407 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
W_108421 = 0;
W_108421 = ((TY107004*) (C_108407));
switch ((*N_108408).Kind) {
case ((NU8) 101):
I_108430 = 0;
HEX3Atmp_108806 = 0;
LOC4 = Sonslen_50804(N_108408);
HEX3Atmp_108806 = (NI64)(LOC4 - 1);
Res_108808 = 0;
Res_108808 = 0;
while (1) {
if (!(Res_108808 <= HEX3Atmp_108806)) goto LA5;
I_108430 = Res_108808;
LOC6 = 0;
LOC6 = Process_108405(C_108407, (*N_108408).KindU.S6.Sons->data[I_108430]);
Res_108808 += 1;
} LA5: ;
break;
case ((NU8) 73):
case ((NU8) 72):
S_108467 = 0;
S_108467 = (*(*N_108408).KindU.S6.Sons->data[0]).KindU.S4.Sym;
Addinterfacesym_107037(W_108421, S_108467);
break;
case ((NU8) 69):
case ((NU8) 70):
case ((NU8) 74):
case ((NU8) 71):
S_108492 = 0;
S_108492 = (*(*N_108408).KindU.S6.Sons->data[0]).KindU.S4.Sym;
if (!(S_108492 == NIM_NIL)) goto LA8;
Internalerror_43159((*N_108408).Info, ((NimStringDesc*) &TMP192864));
LA8: ;
LOC12 = !(((*N_108408).KindU.S6.Sons->data[4] == NIM_NIL));
if (LOC12) goto LA13;
LOC12 = !(((*S_108492).Magic == ((NU8) 0)));
LA13: ;
LOC11 = LOC12;
if (LOC11) goto LA14;
LOC11 = !((((*S_108492).Flags &(1<<((((NU8) 6))&31)))!=0));
LA14: ;
if (!LOC11) goto LA15;
Addinterfacesym_107037(W_108421, S_108492);
LA15: ;
break;
case ((NU8) 87):
I_108555 = 0;
HEX3Atmp_108810 = 0;
LOC17 = Sonslen_50804(N_108408);
HEX3Atmp_108810 = (NI64)(LOC17 - 1);
Res_108812 = 0;
Res_108812 = 0;
while (1) {
if (!(Res_108812 <= HEX3Atmp_108810)) goto LA18;
I_108555 = Res_108812;
A_108568 = 0;
A_108568 = (*N_108408).KindU.S6.Sons->data[I_108555];
if (!((*A_108568).Kind == ((NU8) 105))) goto LA21;
goto LA19;
LA21: ;
if (!!(((*A_108568).Kind == ((NU8) 25)))) goto LA24;
Internalerror_43159((*A_108568).Info, ((NimStringDesc*) &TMP192864));
LA24: ;
Addinterfacesym_107037(W_108421, (*(*A_108568).KindU.S6.Sons->data[0]).KindU.S4.Sym);
LA19: ;
Res_108812 += 1;
} LA18: ;
break;
case ((NU8) 88):
I_108619 = 0;
HEX3Atmp_108814 = 0;
LOC26 = Sonslen_50804(N_108408);
HEX3Atmp_108814 = (NI64)(LOC26 - 1);
Res_108816 = 0;
Res_108816 = 0;
while (1) {
if (!(Res_108816 <= HEX3Atmp_108814)) goto LA27;
I_108619 = Res_108816;
A_108632 = 0;
A_108632 = (*N_108408).KindU.S6.Sons->data[I_108619];
if (!((*A_108632).Kind == ((NU8) 105))) goto LA30;
goto LA28;
LA30: ;
if (!!(((*A_108632).Kind == ((NU8) 89)))) goto LA33;
Internalerror_43159((*A_108632).Info, ((NimStringDesc*) &TMP192864));
LA33: ;
Addinterfacesym_107037(W_108421, (*(*A_108632).KindU.S6.Sons->data[0]).KindU.S4.Sym);
LA28: ;
Res_108816 += 1;
} LA27: ;
break;
case ((NU8) 90):
I_108683 = 0;
HEX3Atmp_108818 = 0;
LOC35 = Sonslen_50804(N_108408);
HEX3Atmp_108818 = (NI64)(LOC35 - 1);
Res_108820 = 0;
Res_108820 = 0;
while (1) {
if (!(Res_108820 <= HEX3Atmp_108818)) goto LA36;
I_108683 = Res_108820;
A_108696 = 0;
A_108696 = (*N_108408).KindU.S6.Sons->data[I_108683];
if (!((*A_108696).Kind == ((NU8) 105))) goto LA39;
goto LA37;
LA39: ;
if (!!(((*(*A_108696).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA42;
Internalerror_43159((*A_108696).Info, ((NimStringDesc*) &TMP192864));
LA42: ;
S_108751 = 0;
S_108751 = (*(*A_108696).KindU.S6.Sons->data[0]).KindU.S4.Sym;
Addinterfacesym_107037(W_108421, S_108751);
LA37: ;
Res_108820 += 1;
} LA36: ;
break;
case ((NU8) 102):
I_108760 = 0;
HEX3Atmp_108821 = 0;
LOC44 = Sonslen_50804(N_108408);
HEX3Atmp_108821 = (NI64)(LOC44 - 1);
Res_108823 = 0;
Res_108823 = 0;
while (1) {
if (!(Res_108823 <= HEX3Atmp_108821)) goto LA45;
I_108760 = Res_108823;
LOC46 = 0;
LOC46 = Getmodulefile_106013((*N_108408).KindU.S6.Sons->data[I_108760]);
Addmoddep_107029(W_108421, LOC46);
Res_108823 += 1;
} LA45: ;
Addstmt_107041(W_108421, N_108408);
break;
case ((NU8) 103):
LOC47 = 0;
LOC47 = Getmodulefile_106013((*N_108408).KindU.S6.Sons->data[0]);
Addmoddep_107029(W_108421, LOC47);
Addstmt_107041(W_108421, N_108408);
break;
case ((NU8) 104):
I_108793 = 0;
HEX3Atmp_108824 = 0;
LOC48 = Sonslen_50804(N_108408);
HEX3Atmp_108824 = (NI64)(LOC48 - 1);
Res_108826 = 0;
Res_108826 = 0;
while (1) {
if (!(Res_108826 <= HEX3Atmp_108824)) goto LA49;
I_108793 = Res_108826;
LOC50 = 0;
LOC50 = Getmodulefile_106013((*N_108408).KindU.S6.Sons->data[I_108793]);
Addincldep_107033(W_108421, LOC50);
Res_108826 += 1;
} LA49: ;
break;
case ((NU8) 81):
Addstmt_107041(W_108421, N_108408);
break;
default:
break;
}
BeforeRet: ;
return Result_108409;
}
N_NIMCALL(TY101006, Rodwritepass_107001)(void) {
TY101006 Result_108845;
memset((void*)&Result_108845, 0, sizeof(Result_108845));
Initpass_101031(&Result_108845);
if (!((Gglobaloptions_41079 &(1<<((((NU8) 15))&31)))!=0)) goto LA2;
Result_108845.Open = Myopen_108827;
Result_108845.Close = Myclose_108837;
Result_108845.Process = Process_108405;
LA2: ;
return Result_108845;
}
N_NOINLINE(void, rodwriteInit)(void) {
Intsetinit_50919(&Debugwritten_108082);
}

