/* Generated by Nimrod Compiler v0.8.10 */
/*   (c) 2010 Andreas Rumpf */

typedef long int NI;
typedef unsigned long int NU;
#include "nimbase.h"

typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct TY51900 TY51900;
typedef struct TY51896 TY51896;
typedef struct TY51898 TY51898;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct TY51563 TY51563;
typedef struct TY51561 TY51561;
typedef struct TY51559 TY51559;
typedef struct TY50005 TY50005;
typedef struct TNimObject TNimObject;
typedef struct TY51529 TY51529;
typedef struct TY51527 TY51527;
typedef struct TY51547 TY51547;
typedef struct TY51525 TY51525;
typedef struct TY51551 TY51551;
typedef struct TY43532 TY43532;
typedef struct TY50011 TY50011;
typedef struct TY51519 TY51519;
typedef struct TY10602 TY10602;
typedef struct TY10618 TY10618;
typedef struct TY10990 TY10990;
typedef struct TY10614 TY10614;
typedef struct TY10610 TY10610;
typedef struct TY8004 TY8004;
typedef struct TY10988 TY10988;
typedef struct TY51549 TY51549;
typedef struct TY51539 TY51539;
typedef struct TY48008 TY48008;
typedef struct TY51543 TY51543;
typedef struct TY51569 TY51569;
typedef struct TY51567 TY51567;
typedef struct TY51565 TY51565;
typedef struct TY51575 TY51575;
typedef struct TY51573 TY51573;
typedef struct TY51571 TY51571;
typedef struct TY39013 TY39013;
struct TGenericSeq {
NI len;
NI space;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
typedef NimStringDesc* TY51016[10];
struct TY51900 {
NI Counter;
NI Max;
TY51896* Head;
TY51898* Data;
};
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct TY51559 {
TY50005* Key;
TNimObject* Val;
};
struct TY51563 {
NI Counter;
TY51561* Data;
};
struct TY51529 {
TNimType* m_type;
NI Counter;
TY51527* Data;
};
struct TY43532 {
NI16 Line;
NI16 Col;
NI32 Fileindex;
};
struct TY51525 {
TY51551* Typ;
NimStringDesc* Comment;
TY43532 Info;
NU8 Flags;
NU8 Kind;
union {
struct {NI64 Intval;
} S1;
struct {NF64 Floatval;
} S2;
struct {NimStringDesc* Strval;
} S3;
struct {TY51547* Sym;
} S4;
struct {TY50011* Ident;
} S5;
struct {TY51519* Sons;
} S6;
} KindU;
};
struct TY10602 {
NI Refcount;
TNimType* Typ;
};
struct TY10618 {
NI Len;
NI Cap;
TY10602** D;
};
struct TY10614 {
NI Counter;
NI Max;
TY10610* Head;
TY10610** Data;
};
struct TY8004 {
void* Debuginfo;
NI32 Lockcount;
NI32 Recursioncount;
NI Owningthread;
NI Locksemaphore;
NI32 Reserved;
};
struct TY10988 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY10990 {
TY10618 Zct;
TY10618 Decstack;
TY10614 Cycleroots;
TY10618 Tempstack;
TY8004 Cyclerootslock;
TY8004 Zctlock;
TY10988 Stat;
};
struct TNimObject {
TNimType* m_type;
};
struct TY50005 {
  TNimObject Sup;
NI Id;
};
typedef NI TY8614[16];
struct TY51896 {
TY51896* Next;
NI Key;
TY8614 Bits;
};
struct TY51539 {
NU8 K;
NU8 S;
NU8 Flags;
TY51551* T;
TY48008* R;
NI A;
};
struct TY51551 {
  TY50005 Sup;
NU8 Kind;
TY51549* Sons;
TY51525* N;
NU8 Flags;
NU8 Callconv;
TY51547* Owner;
TY51547* Sym;
NI64 Size;
NI Align;
NI Containerid;
TY51539 Loc;
};
struct TY51547 {
  TY50005 Sup;
NU8 Kind;
NU8 Magic;
TY51551* Typ;
TY50011* Name;
TY43532 Info;
TY51547* Owner;
NU32 Flags;
TY51529 Tab;
TY51525* Ast;
NU32 Options;
NI Position;
NI Offset;
TY51539 Loc;
TY51543* Annex;
};
struct TY51565 {
TY50005* Key;
TY51525* Val;
};
struct TY51569 {
NI Counter;
TY51567* Data;
};
struct TY51571 {
NI H;
TY51525* Key;
NI Val;
};
struct TY51575 {
NI Counter;
TY51573* Data;
};
struct TY50011 {
  TY50005 Sup;
NimStringDesc* S;
TY50011* Next;
NI H;
};
struct TY10610 {
TY10610* Next;
NI Key;
TY8614 Bits;
};
struct TY48008 {
  TNimObject Sup;
TY48008* Left;
TY48008* Right;
NI Length;
NimStringDesc* Data;
};
struct TY39013 {
  TNimObject Sup;
TY39013* Prev;
TY39013* Next;
};
struct TY51543 {
  TY39013 Sup;
NU8 Kind;
NIM_BOOL Generated;
TY48008* Name;
TY51525* Path;
};
struct TY51898 {
  TGenericSeq Sup;
  TY51896* data[SEQ_DECL_SIZE];
};
struct TY51561 {
  TGenericSeq Sup;
  TY51559 data[SEQ_DECL_SIZE];
};
struct TY51527 {
  TGenericSeq Sup;
  TY51547* data[SEQ_DECL_SIZE];
};
struct TY51519 {
  TGenericSeq Sup;
  TY51525* data[SEQ_DECL_SIZE];
};
struct TY51549 {
  TGenericSeq Sup;
  TY51551* data[SEQ_DECL_SIZE];
};
struct TY51567 {
  TGenericSeq Sup;
  TY51565 data[SEQ_DECL_SIZE];
};
struct TY51573 {
  TGenericSeq Sup;
  TY51571 data[SEQ_DECL_SIZE];
};
N_NIMCALL(void, Intsetinit_51924)(TY51900* S_51927);
N_NIMCALL(void*, newSeq)(TNimType* Typ_14004, NI Len_14005);
N_NIMCALL(void, unsureAsgnRef)(void** Dest_13026, void* Src_13027);
N_NIMCALL(void*, newObj)(TNimType* Typ_13507, NI Size_13508);
N_NIMCALL(TY51525*, Newnode_51710)(NU8 Kind_51712);
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13018, void* Src_13019);
static N_INLINE(TY10602*, Usrtocell_11412)(void* Usr_11414);
static N_INLINE(NI, Atomicinc_3001)(NI* Memloc_3004, NI X_3005);
static N_INLINE(NI, Atomicdec_3006)(NI* Memloc_3009, NI X_3010);
static N_INLINE(void, Rtladdzct_12401)(TY10602* C_12403);
N_NOINLINE(void, Addzct_11401)(TY10618* S_11404, TY10602* C_11405);
N_NIMCALL(TGenericSeq*, incrSeq)(TGenericSeq* Seq_18635, NI Elemsize_18636);
N_NIMCALL(NI, Sonslen_51803)(TY51525* N_51805);
N_NIMCALL(NIM_BOOL, Intsetcontainsorincl_51928)(TY51900* S_51931, NI Key_51932);
N_NIMCALL(TY51896*, Intsetget_54085)(TY51900 T_54087, NI Key_54088);
N_NIMCALL(NI, Nexttry_54064)(NI H_54066, NI Maxhash_54067);
N_NIMCALL(void, Intsetincl_51914)(TY51900* S_51917, NI Key_51918);
N_NIMCALL(TY51896*, Intsetput_54196)(TY51900* T_54199, NI Key_54200);
N_NIMCALL(NIM_BOOL, Mustrehash_54053)(NI Length_54055, NI Counter_54056);
N_NIMCALL(void, Intsetenlarge_54144)(TY51900* T_54147);
N_NIMCALL(void, Intsetrawinsert_54105)(TY51900 T_54107, TY51898** Data_54109, TY51896* Desc_54110);
static N_INLINE(void, asgnRef)(void** Dest_13014, void* Src_13015);
static N_INLINE(void, Incref_13002)(TY10602* C_13004);
static N_INLINE(NIM_BOOL, Canbecycleroot_11416)(TY10602* C_11418);
static N_INLINE(void, Rtladdcycleroot_12052)(TY10602* C_12054);
N_NOINLINE(void, Incl_10874)(TY10614* S_10877, TY10602* Cell_10878);
static N_INLINE(void, Decref_12801)(TY10602* C_12803);
N_NIMCALL(void, Internalerror_43571)(NimStringDesc* Errmsg_43573);
static N_INLINE(void, appendString)(NimStringDesc* Dest_18592, NimStringDesc* Src_18593);
N_NIMCALL(NimStringDesc*, nimIntToStr)(NI X_19203);
N_NIMCALL(NimStringDesc*, rawNewString)(NI Space_18487);
N_NIMCALL(NI, Getid_51693)(void);
N_NIMCALL(void, Registerid_51934)(TY50005* Id_51936);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* Src_18508);
N_NIMCALL(void, genericSeqAssign)(void* Dest_19439, void* Src_19440, TNimType* Mt_19441);
N_NIMCALL(void, Newsons_51815)(TY51525* Father_51817, NI Length_51818);
N_NIMCALL(TGenericSeq*, setLengthSeq)(TGenericSeq* Seq_18803, NI Elemsize_18804, NI Newlen_18805);
N_NIMCALL(TY51525*, Copytree_51858)(TY51525* Src_51860);
N_NIMCALL(NI, Sonslen_51806)(TY51551* N_51808);
static N_INLINE(NI, cmpStrings)(NimStringDesc* A_18411, NimStringDesc* B_18412);
N_NIMCALL(void, Internalerror_43567)(TY43532 Info_43569, NimStringDesc* Errmsg_43570);
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* A_18447, NimStringDesc* B_18448);
N_NIMCALL(TY51525*, Newintnode_51713)(NU8 Kind_51715, NI64 Intval_51716);
static N_INLINE(void, appendChar)(NimStringDesc* Dest_18609, NIM_CHAR C_18610);
N_NIMCALL(NimStringDesc*, nimInt64ToStr)(NI64 X_19267);
N_NIMCALL(NimStringDesc*, nimFloatToStr)(NF X_19260);
N_NIMCALL(void, genericAssign)(void* Dest_19365, void* Src_19366, TNimType* Mt_19367);
N_NIMCALL(TY51551*, Newtype_51706)(NU8 Kind_51708, TY51547* Owner_51709);
N_NIMCALL(void, Assigntype_51779)(TY51551* Dest_51781, TY51551* Src_51782);
N_NIMCALL(void, Newsons_51819)(TY51551* Father_51821, NI Length_51822);
N_NIMCALL(TY51547*, Newsym_51701)(NU8 Symkind_51703, TY50011* Name_51704, TY51547* Owner_51705);
N_NIMCALL(void, objectInit)(void* Dest_19462, TNimType* Typ_19463);
N_NIMCALL(TY43532, Unknownlineinfo_43536)(void);
N_NIMCALL(void, Copystrtable_51783)(TY51529* Dest_51786, TY51529* Src_51787);
N_NIMCALL(void, Addson_51823)(TY51525* Father_51825, TY51525* Son_51826);
STRING_LITERAL(TMP51019, "", 0);
STRING_LITERAL(TMP51020, "stdcall", 7);
STRING_LITERAL(TMP51021, "cdecl", 5);
STRING_LITERAL(TMP51022, "safecall", 8);
STRING_LITERAL(TMP51023, "syscall", 7);
STRING_LITERAL(TMP51024, "inline", 6);
STRING_LITERAL(TMP51025, "noinline", 8);
STRING_LITERAL(TMP51026, "fastcall", 8);
STRING_LITERAL(TMP51027, "closure", 7);
STRING_LITERAL(TMP51028, "noconv", 6);
NIM_CONST TY51016 Callingconvtostr_51015 = {((NimStringDesc*) &TMP51019),
((NimStringDesc*) &TMP51020),
((NimStringDesc*) &TMP51021),
((NimStringDesc*) &TMP51022),
((NimStringDesc*) &TMP51023),
((NimStringDesc*) &TMP51024),
((NimStringDesc*) &TMP51025),
((NimStringDesc*) &TMP51026),
((NimStringDesc*) &TMP51027),
((NimStringDesc*) &TMP51028)}
;
NIM_CONST NU32 Overloadablesyms_51671 = 1967104;
NIM_CONST NU64 Generictypes_51673 = IL64(6192449487634432);
NIM_CONST NU64 Structuralequivtypes_51675 = IL64(3459042737507008512);
NIM_CONST NU64 Concretetypes_51677 = IL64(450641162819076096);
NIM_CONST NU64 Constantdatatypes_51679 = IL64(14293651161088);
NIM_CONST NU32 Exportablesymkinds_51681 = IL64(3229552640);
NIM_CONST NU8 Persistentnodeflags_51683 = 30;
STRING_LITERAL(TMP193900, "ID already used: ", 17);
STRING_LITERAL(TMP193962, "leValue", 7);
STRING_LITERAL(TMP193963, "SameValue", 9);
STRING_LITERAL(TMP193979, "getInt", 6);
STRING_LITERAL(TMP193980, "getFloat", 8);
STRING_LITERAL(TMP193981, "getStr", 6);
STRING_LITERAL(TMP193983, "getStrOrChar", 12);
STRING_LITERAL(TMP194050, "valueToString", 13);
NI Gid_51692;
TY51900 Usedids_51937;
extern TNimType* NTI51898; /* TTrunkSeq */
extern TNimType* NTI51561; /* TIdPairSeq */
extern TNimType* NTI51527; /* TSymSeq */
extern TNimType* NTI51515; /* PNode */
extern TNimType* NTI51519; /* TNodeSeq */
extern TY10990 Gch_11010;
extern TNimType* NTI51894; /* PTrunk */
extern TNimType* NTI51549; /* TTypeSeq */
extern TNimType* NTI51521; /* PType */
extern TNimType* NTI51551; /* TType */
extern TNimType* NTI51567; /* TIdNodePairSeq */
extern TNimType* NTI51559; /* TIdPair */
extern TNimType* NTI51523; /* PSym */
extern TNimType* NTI51547; /* TSym */
extern NU32 Goptions_42075;
extern TNimType* NTI51539; /* TLoc */
extern TNimType* NTI51573; /* TNodePairSeq */
N_NIMCALL(void, Intsetinit_51924)(TY51900* S_51927) {
unsureAsgnRef((void**) &(*S_51927).Data, (TY51898*) newSeq(NTI51898, 8));
(*S_51927).Max = 7;
(*S_51927).Counter = 0;
unsureAsgnRef((void**) &(*S_51927).Head, NIM_NIL);
}
N_NIMCALL(void, Initidtable_51754)(TY51563* X_51757) {
(*X_51757).Counter = 0;
unsureAsgnRef((void**) &(*X_51757).Data, (TY51561*) newSeq(NTI51561, 8));
}
N_NIMCALL(void, Initstrtable_51746)(TY51529* X_51749) {
(*X_51749).Counter = 0;
unsureAsgnRef((void**) &(*X_51749).Data, (TY51527*) newSeq(NTI51527, 8));
}
N_NIMCALL(TY51525*, Newnode_51710)(NU8 Kind_51712) {
TY51525* Result_52478;
Result_52478 = 0;
Result_52478 = (TY51525*) newObj(NTI51515, sizeof(TY51525));
(*Result_52478).Kind = Kind_51712;
(*Result_52478).Info.Fileindex = ((NI32) -1);
(*Result_52478).Info.Col = ((NI16) -1);
(*Result_52478).Info.Line = ((NI16) -1);
return Result_52478;
}
N_NIMCALL(void, Setid_51695)(NI Id_51697) {
Gid_51692 = ((Gid_51692 >= (NI32)(Id_51697 + 1)) ? Gid_51692 : (NI32)(Id_51697 + 1));
}
N_NIMCALL(TY51525*, Newnodei_51737)(NU8 Kind_51739, TY43532 Info_51740) {
TY51525* Result_52588;
Result_52588 = 0;
Result_52588 = Newnode_51710(Kind_51739);
(*Result_52588).Info = Info_51740;
return Result_52588;
}
static N_INLINE(TY10602*, Usrtocell_11412)(void* Usr_11414) {
TY10602* Result_11415;
Result_11415 = 0;
Result_11415 = ((TY10602*) ((NI32)((NU32)(((NI) (Usr_11414))) - (NU32)(((NI) (((NI)sizeof(TY10602))))))));
return Result_11415;
}
static N_INLINE(NI, Atomicinc_3001)(NI* Memloc_3004, NI X_3005) {
NI Result_7607;
Result_7607 = 0;
(*Memloc_3004) += X_3005;
Result_7607 = (*Memloc_3004);
return Result_7607;
}
static N_INLINE(NI, Atomicdec_3006)(NI* Memloc_3009, NI X_3010) {
NI Result_7806;
Result_7806 = 0;
(*Memloc_3009) -= X_3010;
Result_7806 = (*Memloc_3009);
return Result_7806;
}
static N_INLINE(void, Rtladdzct_12401)(TY10602* C_12403) {
Addzct_11401(&Gch_11010.Zct, C_12403);
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13018, void* Src_13019) {
TY10602* C_13020;
NI LOC4;
TY10602* C_13022;
NI LOC9;
if (!!((Src_13019 == NIM_NIL))) goto LA2;
C_13020 = 0;
C_13020 = Usrtocell_11412(Src_13019);
LOC4 = Atomicinc_3001(&(*C_13020).Refcount, 8);
LA2: ;
if (!!(((*Dest_13018) == NIM_NIL))) goto LA6;
C_13022 = 0;
C_13022 = Usrtocell_11412((*Dest_13018));
LOC9 = Atomicdec_3006(&(*C_13022).Refcount, 8);
if (!((NU32)(LOC9) < (NU32)(8))) goto LA10;
Rtladdzct_12401(C_13022);
LA10: ;
LA6: ;
(*Dest_13018) = Src_13019;
}
N_NIMCALL(void, Addson_51823)(TY51525* Father_51825, TY51525* Son_51826) {
if (!(*Father_51825).KindU.S6.Sons == 0) goto LA2;
asgnRefNoCycle((void**) &(*Father_51825).KindU.S6.Sons, (TY51519*) newSeq(NTI51519, 0));
LA2: ;
(*Father_51825).KindU.S6.Sons = (TY51519*) incrSeq(&((*Father_51825).KindU.S6.Sons)->Sup, sizeof(TY51525*));
asgnRefNoCycle((void**) &(*Father_51825).KindU.S6.Sons->data[(*Father_51825).KindU.S6.Sons->Sup.len-1], Son_51826);
}
N_NIMCALL(NI, Sonslen_51803)(TY51525* N_51805) {
NI Result_52903;
Result_52903 = 0;
if (!(*N_51805).KindU.S6.Sons == 0) goto LA2;
Result_52903 = 0;
goto LA1;
LA2: ;
Result_52903 = (*N_51805).KindU.S6.Sons->Sup.len;
LA1: ;
return Result_52903;
}
N_NIMCALL(TY51525*, Lastson_51809)(TY51525* N_51811) {
TY51525* Result_53701;
NI LOC1;
Result_53701 = 0;
LOC1 = Sonslen_51803(N_51811);
Result_53701 = (*N_51811).KindU.S6.Sons->data[(NI32)(LOC1 - 1)];
return Result_53701;
}
N_NIMCALL(NI, Getid_51693)(void) {
NI Result_51956;
Result_51956 = 0;
Result_51956 = Gid_51692;
Gid_51692 += 1;
return Result_51956;
}
N_NIMCALL(NI, Nexttry_54064)(NI H_54066, NI Maxhash_54067) {
NI Result_54068;
Result_54068 = 0;
Result_54068 = (NI32)((NI32)((NI32)(5 * H_54066) + 1) & Maxhash_54067);
return Result_54068;
}
N_NIMCALL(TY51896*, Intsetget_54085)(TY51900 T_54087, NI Key_54088) {
TY51896* Result_54089;
NI H_54090;
Result_54089 = 0;
H_54090 = 0;
H_54090 = (NI32)(Key_54088 & T_54087.Max);
while (1) {
if (!!((T_54087.Data->data[H_54090] == NIM_NIL))) goto LA1;
if (!((*T_54087.Data->data[H_54090]).Key == Key_54088)) goto LA3;
Result_54089 = T_54087.Data->data[H_54090];
goto BeforeRet;
LA3: ;
H_54090 = Nexttry_54064(H_54090, T_54087.Max);
} LA1: ;
Result_54089 = NIM_NIL;
BeforeRet: ;
return Result_54089;
}
N_NIMCALL(NIM_BOOL, Mustrehash_54053)(NI Length_54055, NI Counter_54056) {
NIM_BOOL Result_54057;
NIM_BOOL LOC1;
Result_54057 = 0;
LOC1 = ((NI32)(Length_54055 * 2) < (NI32)(Counter_54056 * 3));
if (LOC1) goto LA2;
LOC1 = ((NI32)(Length_54055 - Counter_54056) < 4);
LA2: ;
Result_54057 = LOC1;
return Result_54057;
}
static N_INLINE(NIM_BOOL, Canbecycleroot_11416)(TY10602* C_11418) {
NIM_BOOL Result_11419;
Result_11419 = 0;
Result_11419 = !((((*(*C_11418).Typ).flags &(1<<((((NU8) 1))&7)))!=0));
return Result_11419;
}
static N_INLINE(void, Rtladdcycleroot_12052)(TY10602* C_12054) {
Incl_10874(&Gch_11010.Cycleroots, C_12054);
}
static N_INLINE(void, Incref_13002)(TY10602* C_13004) {
NI LOC1;
NIM_BOOL LOC3;
LOC1 = Atomicinc_3001(&(*C_13004).Refcount, 8);
LOC3 = Canbecycleroot_11416(C_13004);
if (!LOC3) goto LA4;
Rtladdcycleroot_12052(C_13004);
LA4: ;
}
static N_INLINE(void, Decref_12801)(TY10602* C_12803) {
NI LOC2;
NIM_BOOL LOC5;
LOC2 = Atomicdec_3006(&(*C_12803).Refcount, 8);
if (!((NU32)(LOC2) < (NU32)(8))) goto LA3;
Rtladdzct_12401(C_12803);
goto LA1;
LA3: ;
LOC5 = Canbecycleroot_11416(C_12803);
if (!LOC5) goto LA6;
Rtladdcycleroot_12052(C_12803);
goto LA1;
LA6: ;
LA1: ;
}
static N_INLINE(void, asgnRef)(void** Dest_13014, void* Src_13015) {
TY10602* LOC4;
TY10602* LOC8;
if (!!((Src_13015 == NIM_NIL))) goto LA2;
LOC4 = Usrtocell_11412(Src_13015);
Incref_13002(LOC4);
LA2: ;
if (!!(((*Dest_13014) == NIM_NIL))) goto LA6;
LOC8 = Usrtocell_11412((*Dest_13014));
Decref_12801(LOC8);
LA6: ;
(*Dest_13014) = Src_13015;
}
N_NIMCALL(void, Intsetrawinsert_54105)(TY51900 T_54107, TY51898** Data_54109, TY51896* Desc_54110) {
NI H_54111;
H_54111 = 0;
H_54111 = (NI32)((*Desc_54110).Key & T_54107.Max);
while (1) {
if (!!(((*Data_54109)->data[H_54111] == NIM_NIL))) goto LA1;
H_54111 = Nexttry_54064(H_54111, T_54107.Max);
} LA1: ;
asgnRef((void**) &(*Data_54109)->data[H_54111], Desc_54110);
}
N_NIMCALL(void, Intsetenlarge_54144)(TY51900* T_54147) {
TY51898* N_54148;
NI Oldmax_54149;
NI I_54169;
NI Res_54193;
TY51898* LOC5;
N_54148 = 0;
Oldmax_54149 = 0;
Oldmax_54149 = (*T_54147).Max;
(*T_54147).Max = (NI32)((NI32)((NI32)((*T_54147).Max + 1) * 2) - 1);
N_54148 = (TY51898*) newSeq(NTI51898, (NI32)((*T_54147).Max + 1));
I_54169 = 0;
Res_54193 = 0;
Res_54193 = 0;
while (1) {
if (!(Res_54193 <= Oldmax_54149)) goto LA1;
I_54169 = Res_54193;
if (!!(((*T_54147).Data->data[I_54169] == NIM_NIL))) goto LA3;
Intsetrawinsert_54105((*T_54147), &N_54148, (*T_54147).Data->data[I_54169]);
LA3: ;
Res_54193 += 1;
} LA1: ;
LOC5 = 0;
LOC5 = (*T_54147).Data;
unsureAsgnRef((void**) &(*T_54147).Data, N_54148);
N_54148 = LOC5;
}
N_NIMCALL(TY51896*, Intsetput_54196)(TY51900* T_54199, NI Key_54200) {
TY51896* Result_54201;
NI H_54202;
NIM_BOOL LOC6;
Result_54201 = 0;
H_54202 = 0;
H_54202 = (NI32)(Key_54200 & (*T_54199).Max);
while (1) {
if (!!(((*T_54199).Data->data[H_54202] == NIM_NIL))) goto LA1;
if (!((*(*T_54199).Data->data[H_54202]).Key == Key_54200)) goto LA3;
Result_54201 = (*T_54199).Data->data[H_54202];
goto BeforeRet;
LA3: ;
H_54202 = Nexttry_54064(H_54202, (*T_54199).Max);
} LA1: ;
LOC6 = Mustrehash_54053((NI32)((*T_54199).Max + 1), (*T_54199).Counter);
if (!LOC6) goto LA7;
Intsetenlarge_54144(T_54199);
LA7: ;
(*T_54199).Counter += 1;
H_54202 = (NI32)(Key_54200 & (*T_54199).Max);
while (1) {
if (!!(((*T_54199).Data->data[H_54202] == NIM_NIL))) goto LA9;
H_54202 = Nexttry_54064(H_54202, (*T_54199).Max);
} LA9: ;
Result_54201 = (TY51896*) newObj(NTI51894, sizeof(TY51896));
asgnRef((void**) &(*Result_54201).Next, (*T_54199).Head);
(*Result_54201).Key = Key_54200;
unsureAsgnRef((void**) &(*T_54199).Head, Result_54201);
asgnRef((void**) &(*T_54199).Data->data[H_54202], Result_54201);
BeforeRet: ;
return Result_54201;
}
N_NIMCALL(void, Intsetincl_51914)(TY51900* S_51917, NI Key_51918) {
NI U_54292;
TY51896* T_54293;
U_54292 = 0;
T_54293 = 0;
T_54293 = Intsetput_54196(S_51917, (NI32)((NU32)(Key_51918) >> (NU32)(9)));
U_54292 = (NI32)(Key_51918 & 511);
(*T_54293).Bits[((NI32)((NU32)(U_54292) >> (NU32)(5)))-0] = (NI32)((*T_54293).Bits[((NI32)((NU32)(U_54292) >> (NU32)(5)))-0] | (NI32)((NU32)(1) << (NU32)((NI32)(U_54292 & 31))));
}
N_NIMCALL(NIM_BOOL, Intsetcontainsorincl_51928)(TY51900* S_51931, NI Key_51932) {
NIM_BOOL Result_54317;
NI U_54318;
TY51896* T_54319;
Result_54317 = 0;
U_54318 = 0;
T_54319 = 0;
T_54319 = Intsetget_54085((*S_51931), (NI32)((NU32)(Key_51932) >> (NU32)(9)));
if (!!((T_54319 == NIM_NIL))) goto LA2;
U_54318 = (NI32)(Key_51932 & 511);
Result_54317 = !(((NI32)((*T_54319).Bits[((NI32)((NU32)(U_54318) >> (NU32)(5)))-0] & (NI32)((NU32)(1) << (NU32)((NI32)(U_54318 & 31)))) == 0));
if (!!(Result_54317)) goto LA5;
(*T_54319).Bits[((NI32)((NU32)(U_54318) >> (NU32)(5)))-0] = (NI32)((*T_54319).Bits[((NI32)((NU32)(U_54318) >> (NU32)(5)))-0] | (NI32)((NU32)(1) << (NU32)((NI32)(U_54318 & 31))));
LA5: ;
goto LA1;
LA2: ;
Intsetincl_51914(S_51931, Key_51932);
Result_54317 = NIM_FALSE;
LA1: ;
return Result_54317;
}
static N_INLINE(void, appendString)(NimStringDesc* Dest_18592, NimStringDesc* Src_18593) {
memcpy(((NCSTRING) (&(*Dest_18592).data[((*Dest_18592).Sup.len)-0])), ((NCSTRING) ((*Src_18593).data)), ((NI32) ((NI32)((NI32)((*Src_18593).Sup.len + 1) * 1))));
(*Dest_18592).Sup.len += (*Src_18593).Sup.len;
}
N_NIMCALL(void, Registerid_51934)(TY50005* Id_51936) {
NIM_BOOL LOC5;
NimStringDesc* LOC9;
NimStringDesc* LOC10;
if (!NIM_FALSE) goto LA2;
LOC5 = ((*Id_51936).Id == -1);
if (LOC5) goto LA6;
LOC5 = Intsetcontainsorincl_51928(&Usedids_51937, (*Id_51936).Id);
LA6: ;
if (!LOC5) goto LA7;
LOC9 = 0;
LOC10 = 0;
LOC10 = nimIntToStr((*Id_51936).Id);
LOC9 = rawNewString(LOC10->Sup.len + 17);
appendString(LOC9, ((NimStringDesc*) &TMP193900));
appendString(LOC9, LOC10);
Internalerror_43571(LOC9);
LA7: ;
LA2: ;
}
N_NIMCALL(void, Addson_51827)(TY51551* Father_51829, TY51551* Son_51830) {
if (!(*Father_51829).Sons == 0) goto LA2;
asgnRef((void**) &(*Father_51829).Sons, (TY51549*) newSeq(NTI51549, 0));
LA2: ;
(*Father_51829).Sons = (TY51549*) incrSeq(&((*Father_51829).Sons)->Sup, sizeof(TY51551*));
asgnRef((void**) &(*Father_51829).Sons->data[(*Father_51829).Sons->Sup.len-1], Son_51830);
}
N_NIMCALL(void, Idsynchronizationpoint_51698)(NI Idrange_51700) {
Gid_51692 = (NI32)((NI32)((NI32)((NI32)(Gid_51692 / Idrange_51700) + 1) * Idrange_51700) + 1);
}
N_NIMCALL(NIM_BOOL, Intsetcontains_51910)(TY51900 S_51912, NI Key_51913) {
NIM_BOOL Result_54271;
NI U_54272;
TY51896* T_54273;
Result_54271 = 0;
U_54272 = 0;
T_54273 = 0;
T_54273 = Intsetget_54085(S_51912, (NI32)((NU32)(Key_51913) >> (NU32)(9)));
if (!!((T_54273 == NIM_NIL))) goto LA2;
U_54272 = (NI32)(Key_51913 & 511);
Result_54271 = !(((NI32)((*T_54273).Bits[((NI32)((NU32)(U_54272) >> (NU32)(5)))-0] & (NI32)((NU32)(1) << (NU32)((NI32)(U_54272 & 31)))) == 0));
goto LA1;
LA2: ;
Result_54271 = NIM_FALSE;
LA1: ;
return Result_54271;
}
N_NIMCALL(TY51525*, Newsymnode_51734)(TY51547* Sym_51736) {
TY51525* Result_52571;
Result_52571 = 0;
Result_52571 = Newnode_51710(((NU8) 3));
asgnRef((void**) &(*Result_52571).KindU.S4.Sym, Sym_51736);
asgnRef((void**) &(*Result_52571).Typ, (*Sym_51736).Typ);
(*Result_52571).Info = (*Sym_51736).Info;
return Result_52571;
}
N_NIMCALL(TY51525*, Newnodeit_51741)(NU8 Kind_51743, TY43532 Info_51744, TY51551* Typ_51745) {
TY51525* Result_52594;
Result_52594 = 0;
Result_52594 = Newnode_51710(Kind_51743);
(*Result_52594).Info = Info_51744;
asgnRef((void**) &(*Result_52594).Typ, Typ_51745);
return Result_52594;
}
N_NIMCALL(TY51551*, Newtype_51706)(NU8 Kind_51708, TY51547* Owner_51709) {
TY51551* Result_52599;
Result_52599 = 0;
Result_52599 = (TY51551*) newObj(NTI51521, sizeof(TY51551));
(*Result_52599).Sup.Sup.m_type = NTI51551;
(*Result_52599).Kind = Kind_51708;
asgnRef((void**) &(*Result_52599).Owner, Owner_51709);
(*Result_52599).Size = -1;
(*Result_52599).Align = 2;
(*Result_52599).Sup.Id = Getid_51693();
if (!NIM_FALSE) goto LA2;
Registerid_51934(&Result_52599->Sup);
LA2: ;
return Result_52599;
}
N_NIMCALL(void, Newsons_51815)(TY51525* Father_51817, NI Length_51818) {
if (!(*Father_51817).KindU.S6.Sons == 0) goto LA2;
asgnRefNoCycle((void**) &(*Father_51817).KindU.S6.Sons, (TY51519*) newSeq(NTI51519, 0));
LA2: ;
(*Father_51817).KindU.S6.Sons = (TY51519*) setLengthSeq(&((*Father_51817).KindU.S6.Sons)->Sup, sizeof(TY51525*), (NI32)((*Father_51817).KindU.S6.Sons->Sup.len + Length_51818));
}
N_NIMCALL(TY51525*, Copytree_51858)(TY51525* Src_51860) {
TY51525* Result_53506;
NI LOC4;
NI I_53667;
NI HEX3Atmp_53693;
NI LOC5;
NI Res_53695;
Result_53506 = 0;
if (!(Src_51860 == NIM_NIL)) goto LA2;
Result_53506 = NIM_NIL;
goto BeforeRet;
LA2: ;
Result_53506 = Newnode_51710((*Src_51860).Kind);
(*Result_53506).Info = (*Src_51860).Info;
asgnRef((void**) &(*Result_53506).Typ, (*Src_51860).Typ);
(*Result_53506).Flags = ((*Src_51860).Flags & 30);
switch ((*Src_51860).Kind) {
case ((NU8) 5) ... ((NU8) 10):
(*Result_53506).KindU.S1.Intval = (*Src_51860).KindU.S1.Intval;
break;
case ((NU8) 11):
case ((NU8) 12):
case ((NU8) 13):
(*Result_53506).KindU.S2.Floatval = (*Src_51860).KindU.S2.Floatval;
break;
case ((NU8) 3):
asgnRef((void**) &(*Result_53506).KindU.S4.Sym, (*Src_51860).KindU.S4.Sym);
break;
case ((NU8) 2):
asgnRefNoCycle((void**) &(*Result_53506).KindU.S5.Ident, (*Src_51860).KindU.S5.Ident);
break;
case ((NU8) 14) ... ((NU8) 16):
asgnRefNoCycle((void**) &(*Result_53506).KindU.S3.Strval, copyString((*Src_51860).KindU.S3.Strval));
break;
default:
genericSeqAssign(&(*Result_53506).KindU.S6.Sons, NIM_NIL, NTI51519);
LOC4 = Sonslen_51803(Src_51860);
Newsons_51815(Result_53506, LOC4);
I_53667 = 0;
HEX3Atmp_53693 = 0;
LOC5 = Sonslen_51803(Src_51860);
HEX3Atmp_53693 = (NI32)(LOC5 - 1);
Res_53695 = 0;
Res_53695 = 0;
while (1) {
if (!(Res_53695 <= HEX3Atmp_53693)) goto LA6;
I_53667 = Res_53695;
asgnRefNoCycle((void**) &(*Result_53506).KindU.S6.Sons->data[I_53667], Copytree_51858((*Src_51860).KindU.S6.Sons->data[I_53667]));
Res_53695 += 1;
} LA6: ;
break;
}
BeforeRet: ;
return Result_53506;
}
N_NIMCALL(void, Initidnodetable_51762)(TY51569* X_51765) {
(*X_51765).Counter = 0;
unsureAsgnRef((void**) &(*X_51765).Data, (TY51567*) newSeq(NTI51567, 8));
}
N_NIMCALL(TY51525*, Copynode_51855)(TY51525* Src_51857) {
TY51525* Result_53361;
Result_53361 = 0;
if (!(Src_51857 == NIM_NIL)) goto LA2;
Result_53361 = NIM_NIL;
goto BeforeRet;
LA2: ;
Result_53361 = Newnode_51710((*Src_51857).Kind);
(*Result_53361).Info = (*Src_51857).Info;
asgnRef((void**) &(*Result_53361).Typ, (*Src_51857).Typ);
(*Result_53361).Flags = ((*Src_51857).Flags & 30);
switch ((*Src_51857).Kind) {
case ((NU8) 5) ... ((NU8) 10):
(*Result_53361).KindU.S1.Intval = (*Src_51857).KindU.S1.Intval;
break;
case ((NU8) 11):
case ((NU8) 12):
case ((NU8) 13):
(*Result_53361).KindU.S2.Floatval = (*Src_51857).KindU.S2.Floatval;
break;
case ((NU8) 3):
asgnRef((void**) &(*Result_53361).KindU.S4.Sym, (*Src_51857).KindU.S4.Sym);
break;
case ((NU8) 2):
asgnRefNoCycle((void**) &(*Result_53361).KindU.S5.Ident, (*Src_51857).KindU.S5.Ident);
break;
case ((NU8) 14) ... ((NU8) 16):
asgnRefNoCycle((void**) &(*Result_53361).KindU.S3.Strval, copyString((*Src_51857).KindU.S3.Strval));
break;
default:
break;
}
BeforeRet: ;
return Result_53361;
}
N_NIMCALL(NI, Sonslen_51806)(TY51551* N_51808) {
NI Result_52767;
Result_52767 = 0;
if (!(*N_51808).Sons == 0) goto LA2;
Result_52767 = 0;
goto LA1;
LA2: ;
Result_52767 = (*N_51808).Sons->Sup.len;
LA1: ;
return Result_52767;
}
N_NIMCALL(TY51551*, Lastson_51812)(TY51551* N_51814) {
TY51551* Result_53717;
NI LOC1;
Result_53717 = 0;
LOC1 = Sonslen_51806(N_51814);
Result_53717 = (*N_51814).Sons->data[(NI32)(LOC1 - 1)];
return Result_53717;
}
N_NIMCALL(TY51525*, Newintnode_51713)(NU8 Kind_51715, NI64 Intval_51716) {
TY51525* Result_52498;
Result_52498 = 0;
Result_52498 = Newnode_51710(Kind_51715);
(*Result_52498).KindU.S1.Intval = Intval_51716;
return Result_52498;
}
N_NIMCALL(void, Discardsons_51861)(TY51525* Father_51863) {
genericSeqAssign(&(*Father_51863).KindU.S6.Sons, NIM_NIL, NTI51519);
}
static N_INLINE(NI, cmpStrings)(NimStringDesc* A_18411, NimStringDesc* B_18412) {
NI Result_18413;
NI32 LOC10;
Result_18413 = 0;
if (!(A_18411 == B_18412)) goto LA2;
Result_18413 = 0;
goto BeforeRet;
LA2: ;
if (!(A_18411 == NIM_NIL)) goto LA5;
Result_18413 = -1;
goto BeforeRet;
LA5: ;
if (!(B_18412 == NIM_NIL)) goto LA8;
Result_18413 = 1;
goto BeforeRet;
LA8: ;
LOC10 = strcmp(((NCSTRING) ((*A_18411).data)), ((NCSTRING) ((*B_18412).data)));
Result_18413 = ((NI) (LOC10));
goto BeforeRet;
BeforeRet: ;
return Result_18413;
}
N_NIMCALL(NIM_BOOL, Levalue_51870)(TY51525* A_51872, TY51525* B_51873) {
NIM_BOOL Result_51981;
Result_51981 = 0;
Result_51981 = NIM_FALSE;
switch ((*A_51872).Kind) {
case ((NU8) 5) ... ((NU8) 10):
if (!((*B_51873).Kind >= ((NU8) 5) && (*B_51873).Kind <= ((NU8) 10))) goto LA2;
Result_51981 = ((*A_51872).KindU.S1.Intval <= (*B_51873).KindU.S1.Intval);
LA2: ;
break;
case ((NU8) 11) ... ((NU8) 13):
if (!((*B_51873).Kind >= ((NU8) 11) && (*B_51873).Kind <= ((NU8) 13))) goto LA5;
Result_51981 = (((NF) ((*A_51872).KindU.S2.Floatval)) <= ((NF) ((*B_51873).KindU.S2.Floatval)));
LA5: ;
break;
case ((NU8) 14) ... ((NU8) 16):
if (!((*B_51873).Kind >= ((NU8) 14) && (*B_51873).Kind <= ((NU8) 16))) goto LA8;
Result_51981 = (cmpStrings((*A_51872).KindU.S3.Strval, (*B_51873).KindU.S3.Strval) <= 0);
LA8: ;
break;
default:
Internalerror_43567((*A_51872).Info, ((NimStringDesc*) &TMP193962));
break;
}
return Result_51981;
}
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* A_18447, NimStringDesc* B_18448) {
NIM_BOOL Result_18449;
NIM_BOOL LOC5;
NIM_BOOL LOC9;
NI32 LOC11;
Result_18449 = 0;
if (!(A_18447 == B_18448)) goto LA2;
Result_18449 = NIM_TRUE;
goto BeforeRet;
LA2: ;
LOC5 = (A_18447 == NIM_NIL);
if (LOC5) goto LA6;
LOC5 = (B_18448 == NIM_NIL);
LA6: ;
if (!LOC5) goto LA7;
Result_18449 = NIM_FALSE;
goto BeforeRet;
LA7: ;
LOC9 = ((*A_18447).Sup.len == (*B_18448).Sup.len);
if (!(LOC9)) goto LA10;
LOC11 = memcmp(((NCSTRING) ((*A_18447).data)), ((NCSTRING) ((*B_18448).data)), ((NI32) ((NI32)((*A_18447).Sup.len * 1))));
LOC9 = (LOC11 == ((NI32) 0));
LA10: ;
Result_18449 = LOC9;
goto BeforeRet;
BeforeRet: ;
return Result_18449;
}
N_NIMCALL(NIM_BOOL, Samevalue_51866)(TY51525* A_51868, TY51525* B_51869) {
NIM_BOOL Result_52096;
Result_52096 = 0;
Result_52096 = NIM_FALSE;
switch ((*A_51868).Kind) {
case ((NU8) 5) ... ((NU8) 10):
if (!((*B_51869).Kind >= ((NU8) 5) && (*B_51869).Kind <= ((NU8) 10))) goto LA2;
Result_52096 = ((*A_51868).KindU.S1.Intval == (*B_51869).KindU.S1.Intval);
LA2: ;
break;
case ((NU8) 11) ... ((NU8) 13):
if (!((*B_51869).Kind >= ((NU8) 11) && (*B_51869).Kind <= ((NU8) 13))) goto LA5;
Result_52096 = (((NF) ((*A_51868).KindU.S2.Floatval)) == ((NF) ((*B_51869).KindU.S2.Floatval)));
LA5: ;
break;
case ((NU8) 14) ... ((NU8) 16):
if (!((*B_51869).Kind >= ((NU8) 14) && (*B_51869).Kind <= ((NU8) 16))) goto LA8;
Result_52096 = eqStrings((*A_51868).KindU.S3.Strval, (*B_51869).KindU.S3.Strval);
LA8: ;
break;
default:
Internalerror_43567((*A_51868).Info, ((NimStringDesc*) &TMP193963));
break;
}
return Result_52096;
}
N_NIMCALL(TY51525*, Newinttypenode_51717)(NU8 Kind_51719, NI64 Intval_51720, TY51551* Typ_51721) {
TY51525* Result_52516;
Result_52516 = 0;
Result_52516 = Newintnode_51713(Kind_51719, Intval_51720);
asgnRef((void**) &(*Result_52516).Typ, Typ_51721);
return Result_52516;
}
N_NIMCALL(void, Delson_51835)(TY51525* Father_51837, NI Idx_51838) {
NI Length_53295;
NI I_53303;
NI HEX3Atmp_53353;
NI Res_53355;
if (!(*Father_51837).KindU.S6.Sons == 0) goto LA2;
goto BeforeRet;
LA2: ;
Length_53295 = 0;
Length_53295 = Sonslen_51803(Father_51837);
I_53303 = 0;
HEX3Atmp_53353 = 0;
HEX3Atmp_53353 = (NI32)(Length_53295 - 2);
Res_53355 = 0;
Res_53355 = Idx_51838;
while (1) {
if (!(Res_53355 <= HEX3Atmp_53353)) goto LA4;
I_53303 = Res_53355;
asgnRefNoCycle((void**) &(*Father_51837).KindU.S6.Sons->data[I_53303], (*Father_51837).KindU.S6.Sons->data[(NI32)(I_53303 + 1)]);
Res_53355 += 1;
} LA4: ;
(*Father_51837).KindU.S6.Sons = (TY51519*) setLengthSeq(&((*Father_51837).KindU.S6.Sons)->Sup, sizeof(TY51525*), (NI32)(Length_53295 - 1));
BeforeRet: ;
}
N_NIMCALL(TY51525*, Newstrnode_51726)(NU8 Kind_51728, NimStringDesc* Strval_51729) {
TY51525* Result_52538;
Result_52538 = 0;
Result_52538 = Newnode_51710(Kind_51728);
asgnRefNoCycle((void**) &(*Result_52538).KindU.S3.Strval, copyString(Strval_51729));
return Result_52538;
}
N_NIMCALL(NI64, Getint_53973)(TY51525* A_53975) {
NI64 Result_53976;
Result_53976 = 0;
switch ((*A_53975).Kind) {
case ((NU8) 6) ... ((NU8) 10):
Result_53976 = (*A_53975).KindU.S1.Intval;
break;
default:
Internalerror_43567((*A_53975).Info, ((NimStringDesc*) &TMP193979));
Result_53976 = 0;
break;
}
return Result_53976;
}
N_NIMCALL(TY51525*, Newfloatnode_51722)(NU8 Kind_51724, NF64 Floatval_51725) {
TY51525* Result_52521;
Result_52521 = 0;
Result_52521 = Newnode_51710(Kind_51724);
(*Result_52521).KindU.S2.Floatval = Floatval_51725;
return Result_52521;
}
N_NIMCALL(NF64, Getfloat_53989)(TY51525* A_53991) {
NF64 Result_53992;
Result_53992 = 0;
switch ((*A_53991).Kind) {
case ((NU8) 11) ... ((NU8) 13):
Result_53992 = (*A_53991).KindU.S2.Floatval;
break;
default:
Internalerror_43567((*A_53991).Info, ((NimStringDesc*) &TMP193980));
Result_53992 = 0.00000;
break;
}
return Result_53992;
}
N_NIMCALL(NimStringDesc*, Getstr_54005)(TY51525* A_54007) {
NimStringDesc* Result_54008;
Result_54008 = 0;
switch ((*A_54007).Kind) {
case ((NU8) 14) ... ((NU8) 16):
Result_54008 = copyString((*A_54007).KindU.S3.Strval);
break;
default:
Internalerror_43567((*A_54007).Info, ((NimStringDesc*) &TMP193981));
Result_54008 = copyString(((NimStringDesc*) &TMP51019));
break;
}
return Result_54008;
}
static N_INLINE(void, appendChar)(NimStringDesc* Dest_18609, NIM_CHAR C_18610) {
(*Dest_18609).data[((*Dest_18609).Sup.len)-0] = C_18610;
(*Dest_18609).data[((NI32)((*Dest_18609).Sup.len + 1))-0] = 0;
(*Dest_18609).Sup.len += 1;
}
N_NIMCALL(NimStringDesc*, Getstrorchar_54021)(TY51525* A_54023) {
NimStringDesc* Result_54024;
NimStringDesc* LOC1;
Result_54024 = 0;
switch ((*A_54023).Kind) {
case ((NU8) 14) ... ((NU8) 16):
Result_54024 = copyString((*A_54023).KindU.S3.Strval);
break;
case ((NU8) 5):
LOC1 = 0;
LOC1 = rawNewString(1);
appendChar(LOC1, ((NIM_CHAR) (((NI) (((NI) ((*A_54023).KindU.S1.Intval)))))));
appendString(LOC1, ((NimStringDesc*) &TMP51019));
Result_54024 = LOC1;
break;
default:
Internalerror_43567((*A_54023).Info, ((NimStringDesc*) &TMP193983));
Result_54024 = copyString(((NimStringDesc*) &TMP51019));
break;
}
return Result_54024;
}
N_NIMCALL(NimStringDesc*, Valuetostring_51874)(TY51525* A_51876) {
NimStringDesc* Result_52210;
Result_52210 = 0;
switch ((*A_51876).Kind) {
case ((NU8) 5) ... ((NU8) 10):
Result_52210 = nimInt64ToStr((*A_51876).KindU.S1.Intval);
break;
case ((NU8) 11):
case ((NU8) 12):
case ((NU8) 13):
Result_52210 = nimFloatToStr(((NF) ((*A_51876).KindU.S2.Floatval)));
break;
case ((NU8) 14) ... ((NU8) 16):
Result_52210 = copyString((*A_51876).KindU.S3.Strval);
break;
default:
Internalerror_43567((*A_51876).Info, ((NimStringDesc*) &TMP194050));
Result_52210 = copyString(((NimStringDesc*) &TMP51019));
break;
}
return Result_52210;
}
N_NIMCALL(TY51525*, Newidentnode_51730)(TY50011* Ident_51732, TY43532 Info_51733) {
TY51525* Result_52555;
Result_52555 = 0;
Result_52555 = Newnode_51710(((NU8) 2));
asgnRefNoCycle((void**) &(*Result_52555).KindU.S5.Ident, Ident_51732);
(*Result_52555).Info = Info_51733;
return Result_52555;
}
N_NIMCALL(void, Copyidtable_51798)(TY51563* Dest_51801, TY51563 Src_51802) {
NI I_52355;
NI HEX3Atmp_52357;
NI Res_52359;
(*Dest_51801).Counter = Src_51802.Counter;
if (!Src_51802.Data == 0) goto LA2;
goto BeforeRet;
LA2: ;
unsureAsgnRef((void**) &(*Dest_51801).Data, (TY51561*) newSeq(NTI51561, Src_51802.Data->Sup.len));
I_52355 = 0;
HEX3Atmp_52357 = 0;
HEX3Atmp_52357 = (Src_51802.Data->Sup.len-1);
Res_52359 = 0;
Res_52359 = 0;
while (1) {
if (!(Res_52359 <= HEX3Atmp_52357)) goto LA4;
I_52355 = Res_52359;
genericAssign((void*)&(*Dest_51801).Data->data[I_52355], (void*)&Src_51802.Data->data[I_52355], NTI51559);
Res_52359 += 1;
} LA4: ;
BeforeRet: ;
}
N_NIMCALL(void, Newsons_51819)(TY51551* Father_51821, NI Length_51822) {
if (!(*Father_51821).Sons == 0) goto LA2;
asgnRef((void**) &(*Father_51821).Sons, (TY51549*) newSeq(NTI51549, 0));
LA2: ;
(*Father_51821).Sons = (TY51549*) setLengthSeq(&((*Father_51821).Sons)->Sup, sizeof(TY51551*), (NI32)((*Father_51821).Sons->Sup.len + Length_51822));
}
N_NIMCALL(void, Assigntype_51779)(TY51551* Dest_51781, TY51551* Src_51782) {
NI LOC1;
NI I_52626;
NI HEX3Atmp_52628;
NI LOC2;
NI Res_52630;
(*Dest_51781).Kind = (*Src_51782).Kind;
(*Dest_51781).Flags = (*Src_51782).Flags;
(*Dest_51781).Callconv = (*Src_51782).Callconv;
asgnRefNoCycle((void**) &(*Dest_51781).N, (*Src_51782).N);
(*Dest_51781).Size = (*Src_51782).Size;
(*Dest_51781).Align = (*Src_51782).Align;
(*Dest_51781).Containerid = (*Src_51782).Containerid;
LOC1 = Sonslen_51806(Src_51782);
Newsons_51819(Dest_51781, LOC1);
I_52626 = 0;
HEX3Atmp_52628 = 0;
LOC2 = Sonslen_51806(Src_51782);
HEX3Atmp_52628 = (NI32)(LOC2 - 1);
Res_52630 = 0;
Res_52630 = 0;
while (1) {
if (!(Res_52630 <= HEX3Atmp_52628)) goto LA3;
I_52626 = Res_52630;
asgnRef((void**) &(*Dest_51781).Sons->data[I_52626], (*Src_51782).Sons->data[I_52626]);
Res_52630 += 1;
} LA3: ;
}
N_NIMCALL(TY51551*, Copytype_51770)(TY51551* T_51772, TY51547* Owner_51773, NIM_BOOL Keepid_51774) {
TY51551* Result_52638;
Result_52638 = 0;
Result_52638 = Newtype_51706((*T_51772).Kind, Owner_51773);
Assigntype_51779(Result_52638, T_51772);
if (!Keepid_51774) goto LA2;
(*Result_52638).Sup.Id = (*T_51772).Sup.Id;
goto LA1;
LA2: ;
(*Result_52638).Sup.Id = Getid_51693();
if (!NIM_FALSE) goto LA5;
Registerid_51934(&Result_52638->Sup);
LA5: ;
LA1: ;
asgnRef((void**) &(*Result_52638).Sym, (*T_51772).Sym);
return Result_52638;
}
N_NIMCALL(TY51547*, Newsym_51701)(NU8 Symkind_51703, TY50011* Name_51704, TY51547* Owner_51705) {
TY51547* Result_52650;
Result_52650 = 0;
Result_52650 = (TY51547*) newObj(NTI51523, sizeof(TY51547));
objectInit(Result_52650, NTI51547);
asgnRefNoCycle((void**) &(*Result_52650).Name, Name_51704);
(*Result_52650).Kind = Symkind_51703;
(*Result_52650).Flags = 0;
(*Result_52650).Info = Unknownlineinfo_43536();
(*Result_52650).Options = Goptions_42075;
asgnRef((void**) &(*Result_52650).Owner, Owner_51705);
(*Result_52650).Offset = -1;
(*Result_52650).Sup.Id = Getid_51693();
if (!NIM_FALSE) goto LA2;
Registerid_51934(&Result_52650->Sup);
LA2: ;
return Result_52650;
}
N_NIMCALL(void, Copystrtable_51783)(TY51529* Dest_51786, TY51529* Src_51787) {
NI I_52306;
NI HEX3Atmp_52308;
NI Res_52310;
(*Dest_51786).Counter = (*Src_51787).Counter;
if (!(*Src_51787).Data == 0) goto LA2;
goto BeforeRet;
LA2: ;
(*Dest_51786).Data = (TY51527*) setLengthSeq(&((*Dest_51786).Data)->Sup, sizeof(TY51547*), (*Src_51787).Data->Sup.len);
I_52306 = 0;
HEX3Atmp_52308 = 0;
HEX3Atmp_52308 = ((*Src_51787).Data->Sup.len-1);
Res_52310 = 0;
Res_52310 = 0;
while (1) {
if (!(Res_52310 <= HEX3Atmp_52308)) goto LA4;
I_52306 = Res_52310;
asgnRef((void**) &(*Dest_51786).Data->data[I_52306], (*Src_51787).Data->data[I_52306]);
Res_52310 += 1;
} LA4: ;
BeforeRet: ;
}
N_NIMCALL(TY51547*, Copysym_51775)(TY51547* S_51777, NIM_BOOL Keepid_51778) {
TY51547* Result_52643;
Result_52643 = 0;
Result_52643 = Newsym_51701((*S_51777).Kind, (*S_51777).Name, (*S_51777).Owner);
asgnRefNoCycle((void**) &(*Result_52643).Ast, NIM_NIL);
(*Result_52643).Info = (*S_51777).Info;
asgnRef((void**) &(*Result_52643).Typ, (*S_51777).Typ);
if (!Keepid_51778) goto LA2;
(*Result_52643).Sup.Id = (*S_51777).Sup.Id;
goto LA1;
LA2: ;
(*Result_52643).Sup.Id = Getid_51693();
if (!NIM_FALSE) goto LA5;
Registerid_51934(&Result_52643->Sup);
LA5: ;
LA1: ;
(*Result_52643).Flags = (*S_51777).Flags;
(*Result_52643).Magic = (*S_51777).Magic;
Copystrtable_51783(&(*Result_52643).Tab, &(*S_51777).Tab);
(*Result_52643).Options = (*S_51777).Options;
(*Result_52643).Position = (*S_51777).Position;
genericAssign((void*)&(*Result_52643).Loc, (void*)&(*S_51777).Loc, NTI51539);
asgnRefNoCycle((void**) &(*Result_52643).Annex, (*S_51777).Annex);
return Result_52643;
}
N_NIMCALL(void, Add_52992)(TY51525* Father_52994, TY51525* Son_52995) {
if (!(*Father_52994).KindU.S6.Sons == 0) goto LA2;
asgnRefNoCycle((void**) &(*Father_52994).KindU.S6.Sons, (TY51519*) newSeq(NTI51519, 0));
LA2: ;
(*Father_52994).KindU.S6.Sons = (TY51519*) incrSeq(&((*Father_52994).KindU.S6.Sons)->Sup, sizeof(TY51525*));
asgnRefNoCycle((void**) &(*Father_52994).KindU.S6.Sons->data[(*Father_52994).KindU.S6.Sons->Sup.len-1], Son_52995);
}
N_NIMCALL(void, Addsonifnotnil_51831)(TY51525* Father_51833, TY51525* N_51834) {
if (!!((N_51834 == NIM_NIL))) goto LA2;
Addson_51823(Father_51833, N_51834);
LA2: ;
}
N_NIMCALL(void, Intsetexcl_51919)(TY51900* S_51922, NI Key_51923) {
NI U_54299;
TY51896* T_54300;
U_54299 = 0;
T_54300 = 0;
T_54300 = Intsetget_54085((*S_51922), (NI32)((NU32)(Key_51923) >> (NU32)(9)));
if (!!((T_54300 == NIM_NIL))) goto LA2;
U_54299 = (NI32)(Key_51923 & 511);
(*T_54300).Bits[((NI32)((NU32)(U_54299) >> (NU32)(5)))-0] = (NI32)((*T_54300).Bits[((NI32)((NU32)(U_54299) >> (NU32)(5)))-0] & (NI32)((NU32) ~((NI32)((NU32)(1) << (NU32)((NI32)(U_54299 & 31))))));
LA2: ;
}
N_NIMCALL(void, Initnodetable_51766)(TY51575* X_51769) {
(*X_51769).Counter = 0;
unsureAsgnRef((void**) &(*X_51769).Data, (TY51573*) newSeq(NTI51573, 8));
}
N_NOINLINE(void, astInit)(void) {
if (!NIM_FALSE) goto LA2;
Intsetinit_51924(&Usedids_51937);
LA2: ;
}

