/* Generated by Nimrod Compiler v0.8.9 */
/*   (c) 2010 Andreas Rumpf */

typedef long int NI;
typedef unsigned long int NU;
#include "nimbase.h"

typedef struct TY101006 TY101006;
typedef struct TY101002 TY101002;
typedef struct TY53545 TY53545;
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct TY89031 TY89031;
typedef struct TY53523 TY53523;
typedef struct TY103012 TY103012;
typedef struct TNimObject TNimObject;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct TY103006 TY103006;
typedef struct TY57107 TY57107;
typedef struct TY57109 TY57109;
typedef struct TY53527 TY53527;
typedef struct TY53525 TY53525;
typedef struct TY53898 TY53898;
typedef struct TY53894 TY53894;
typedef struct TY53896 TY53896;
typedef struct TY41019 TY41019;
typedef struct TY41013 TY41013;
typedef struct TY45532 TY45532;
typedef struct TY52005 TY52005;
typedef struct TY53549 TY53549;
typedef struct TY52011 TY52011;
typedef struct TY53537 TY53537;
typedef struct TY50008 TY50008;
typedef struct TY53541 TY53541;
typedef struct TY53517 TY53517;
typedef struct TY53547 TY53547;
typedef struct TY104004 TY104004;
typedef struct TY57092 TY57092;
typedef struct TY10402 TY10402;
typedef struct TY10414 TY10414;
typedef struct TY10790 TY10790;
typedef struct TY10418 TY10418;
typedef struct TY10410 TY10410;
typedef struct TY10788 TY10788;
typedef struct TY111006 TY111006;
typedef struct TY111004 TY111004;
typedef struct TY53567 TY53567;
typedef struct TY53565 TY53565;
typedef struct TY53563 TY53563;
typedef struct TY123058 TY123058;
typedef struct TY53561 TY53561;
typedef struct TY53559 TY53559;
typedef struct TY53557 TY53557;
typedef struct TY122712 TY122712;
typedef struct TY103002 TY103002;
typedef struct TY37422 TY37422;
typedef struct TY89029 TY89029;
typedef struct TY57223 TY57223;
typedef struct TY57221 TY57221;
typedef struct TY57219 TY57219;
struct TGenericSeq {
NI len;
NI space;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
typedef N_NIMCALL_PTR(TY101002*, TY101007) (TY53545* Module_101008, NimStringDesc* Filename_101009);
typedef N_NIMCALL_PTR(TY101002*, TY101012) (TY53545* Module_101013, NimStringDesc* Filename_101014, TY89031* Rd_101015);
typedef N_NIMCALL_PTR(TY53523*, TY101018) (TY101002* P_101019, TY53523* N_101020);
typedef N_NIMCALL_PTR(TY53523*, TY101023) (TY101002* P_101024, TY53523* Toplevelstmt_101025);
struct TY101006 {
TY101007 Open;
TY101012 Opencached;
TY101018 Close;
TY101023 Process;
};
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TNimObject {
TNimType* m_type;
};
struct TY101002 {
  TNimObject Sup;
};
struct TY53527 {
TNimType* m_type;
NI Counter;
TY53525* Data;
};
struct TY57107 {
NI Tos;
TY57109* Stack;
};
struct TY53898 {
NI Counter;
NI Max;
TY53894* Head;
TY53896* Data;
};
struct TY41019 {
TNimType* m_type;
TY41013* Head;
TY41013* Tail;
NI Counter;
};
typedef N_NIMCALL_PTR(TY53523*, TY103032) (TY103012* C_103033, TY53523* N_103034);
typedef N_NIMCALL_PTR(TY53523*, TY103037) (TY103012* C_103038, TY53523* N_103039);
struct TY103012 {
  TY101002 Sup;
TY53545* Module;
TY103006* P;
NI Instcounter;
TY53523* Generics;
NI Lastgenericidx;
TY57107 Tab;
TY53898 Ambiguoussymbols;
TY53525* Converters;
TY41019 Optionstack;
TY41019 Libs;
NIM_BOOL Fromcache;
TY103032 Semconstexpr;
TY103037 Semexpr;
TY53898 Includedfiles;
NimStringDesc* Filename;
TY53527 Userpragmas;
};
struct TY45532 {
NI16 Line;
NI16 Col;
int Fileindex;
};
struct TY52005 {
  TNimObject Sup;
NI Id;
};
struct TY53537 {
NU8 K;
NU8 S;
NU8 Flags;
TY53549* T;
TY50008* R;
NI A;
};
struct TY53545 {
  TY52005 Sup;
NU8 Kind;
NU8 Magic;
TY53549* Typ;
TY52011* Name;
TY45532 Info;
TY53545* Owner;
NU32 Flags;
TY53527 Tab;
TY53523* Ast;
NU32 Options;
NI Position;
NI Offset;
TY53537 Loc;
TY53541* Annex;
};
struct TY53523 {
TY53549* Typ;
NimStringDesc* Comment;
TY45532 Info;
NU8 Flags;
NU8 Kind;
union {
struct {NI64 Intval;
} S1;
struct {NF64 Floatval;
} S2;
struct {NimStringDesc* Strval;
} S3;
struct {TY53545* Sym;
} S4;
struct {TY52011* Ident;
} S5;
struct {TY53517* Sons;
} S6;
} KindU;
};
struct TY53549 {
  TY52005 Sup;
NU8 Kind;
TY53547* Sons;
TY53523* N;
NU8 Flags;
NU8 Callconv;
TY53545* Owner;
TY53545* Sym;
NI64 Size;
NI Align;
NI Containerid;
TY53537 Loc;
};
struct TY52011 {
  TY52005 Sup;
NimStringDesc* S;
TY52011* Next;
NI H;
};
struct TY57092 {
NI H;
TY52011* Name;
};
struct TY104004 {
NI Stackptr;
TY57092 It;
TY53545* M;
NU8 Mode;
};
struct TY10402 {
NI Refcount;
TNimType* Typ;
};
struct TY10418 {
NI Len;
NI Cap;
TY10402** D;
};
struct TY10414 {
NI Counter;
NI Max;
TY10410* Head;
TY10410** Data;
};
struct TY10788 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY10790 {
TY10418 Zct;
TY10418 Decstack;
TY10414 Cycleroots;
TY10418 Tempstack;
TY10788 Stat;
};
struct TY53563 {
TY52005* Key;
TY53523* Val;
};
struct TY53567 {
NI Counter;
TY53565* Data;
};
struct TY111004 {
TY53567 Mapping;
TY53545* Prc;
TY53523* Call;
TY111004* Next;
TY53517* Params;
};
typedef NU8 TY178254[16];
struct TY53557 {
TY52005* Key;
TNimObject* Val;
};
struct TY53561 {
NI Counter;
TY53559* Data;
};
struct TY123058 {
NI Exactmatches;
NI Subtypematches;
NI Intconvmatches;
NI Convmatches;
NI Genericmatches;
NU8 State;
TY53549* Callee;
TY53545* Calleesym;
TY53523* Call;
TY53561 Bindings;
NIM_BOOL Basetypematch;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
typedef N_NIMCALL_PTR(NIM_BOOL, TY93025) (TY53549* T_93030, TNimObject* Closure_93031);
struct TY122712 {
TY103012* C;
TY53561 Typemap;
TY53561 Symmap;
TY45532 Info;
};
typedef NimStringDesc* TY70066[3];
struct TY41013 {
  TNimObject Sup;
TY41013* Prev;
TY41013* Next;
};
struct TY103002 {
  TY41013 Sup;
NU32 Options;
NU8 Defaultcc;
TY53541* Dynlib;
NU32 Notes;
};
typedef NimStringDesc* TY45865[1];
typedef NU8 TY118007[28];
struct TY103006 {
TY53545* Owner;
TY53545* Resultsym;
NI Nestedloopcounter;
NI Nestedblockcounter;
};
typedef NU8 TY130942[29];
typedef N_NIMCALL_PTR(TY53523*, TY101048) (NimStringDesc* Filename_101049);
typedef NimStringDesc* TY111148[2];
typedef NimStringDesc* TY129561[2];
struct TY57219 {
NI Key;
NI Val;
};
struct TY57223 {
NI Counter;
TY57221* Data;
};
struct TY89029 {
NI Lastidxkey;
NI Lastidxval;
TY57223 Tab;
TY50008* R;
NI Offset;
};
struct TY89031 {
  TNimObject Sup;
NI Pos;
NimStringDesc* S;
NU32 Options;
NU8 Reason;
TY37422* Moddeps;
TY37422* Files;
NI Dataidx;
NI Convertersidx;
NI Initidx;
NI Interfidx;
NI Compilerprocsidx;
NI Cgenidx;
NimStringDesc* Filename;
TY89029 Index;
TY89029 Imports;
NI Readerindex;
NI Line;
NI Moduleid;
TY53561 Syms;
};
typedef NI TY8414[16];
struct TY53894 {
TY53894* Next;
NI Key;
TY8414 Bits;
};
struct TY50008 {
  TNimObject Sup;
TY50008* Left;
TY50008* Right;
NI Length;
NimStringDesc* Data;
};
struct TY53541 {
  TY41013 Sup;
NU8 Kind;
NIM_BOOL Generated;
TY50008* Name;
TY53523* Path;
};
struct TY10410 {
TY10410* Next;
NI Key;
TY8414 Bits;
};
struct TY111006 {
  TY101002 Sup;
TY53545* Module;
TY111004* Tos;
TY53523* Lastexception;
NIM_BOOL Opteval;
};
struct TY53525 {
  TGenericSeq Sup;
  TY53545* data[SEQ_DECL_SIZE];
};
struct TY57109 {
  TGenericSeq Sup;
  TY53527 data[SEQ_DECL_SIZE];
};
struct TY53896 {
  TGenericSeq Sup;
  TY53894* data[SEQ_DECL_SIZE];
};
struct TY53517 {
  TGenericSeq Sup;
  TY53523* data[SEQ_DECL_SIZE];
};
struct TY53547 {
  TGenericSeq Sup;
  TY53549* data[SEQ_DECL_SIZE];
};
struct TY53565 {
  TGenericSeq Sup;
  TY53563 data[SEQ_DECL_SIZE];
};
struct TY53559 {
  TGenericSeq Sup;
  TY53557 data[SEQ_DECL_SIZE];
};
struct TY37422 {
  TGenericSeq Sup;
  NimStringDesc* data[SEQ_DECL_SIZE];
};
struct TY57221 {
  TGenericSeq Sup;
  TY57219 data[SEQ_DECL_SIZE];
};
N_NIMCALL(void, Initpass_101031)(TY101006* P_101034);
N_NIMCALL(TY101002*, Myopen_142510)(TY53545* Module_142512, NimStringDesc* Filename_142513);
N_NIMCALL(TY103012*, Newcontext_103046)(TY53545* Module_103048, NimStringDesc* Nimfile_103049);
N_NIMCALL(void, Internalerror_45567)(TY45532 Info_45569, NimStringDesc* Errmsg_45570);
N_NIMCALL(TY53523*, Semconstexpr_121171)(TY103012* C_121173, TY53523* N_121174);
N_NIMCALL(TY53523*, Semexprwithtype_121122)(TY103012* C_121124, TY53523* N_121125, NU8 Flags_121128);
N_NIMCALL(TY53523*, Semexpr_121115)(TY103012* C_121117, TY53523* N_121118, NU8 Flags_121121);
N_NIMCALL(TY53545*, Lookup_104049)(TY103012* C_104051, TY53523* N_104052);
N_NIMCALL(TY53523*, Semsym_129077)(TY103012* C_129079, TY53523* N_129080, TY53545* S_129081, NU8 Flags_129082);
N_NIMCALL(void, Limessage_45562)(TY45532 Info_45564, NU8 Msg_45565, NimStringDesc* Arg_45566);
N_NIMCALL(TY53545*, Getmodule_57206)(TY53545* S_57208);
N_NIMCALL(TY53523*, Symchoice_121549)(TY103012* C_121551, TY53523* N_121552, TY53545* S_121553);
N_NIMCALL(TY53545*, Initoverloaditer_104058)(TY104004* O_104061, TY103012* C_104062, TY53523* N_104063);
N_NIMCALL(TY53545*, Nextoverloaditer_104064)(TY104004* O_104067, TY103012* C_104068, TY53523* N_104069);
N_NIMCALL(TY53523*, Newsymnode_53732)(TY53545* Sym_53734);
N_NIMCALL(void, Markused_121065)(TY53523* N_121067, TY53545* S_121068);
N_NIMCALL(TY53523*, Newnodeit_53739)(NU8 Kind_53741, TY45532 Info_53742, TY53549* Typ_53743);
N_NIMCALL(TY53549*, Newtypes_103077)(NU8 Kind_103079, TY103012* C_103080);
N_NIMCALL(void, Addson_53821)(TY53523* Father_53823, TY53523* Son_53824);
N_NIMCALL(TY53523*, Copytree_53856)(TY53523* Src_53858);
static N_INLINE(void, asgnRef)(void** Dest_11612, void* Src_11613);
static N_INLINE(void, Incref_11601)(TY10402* C_11603);
static N_INLINE(NIM_BOOL, Canbecycleroot_10826)(TY10402* C_10828);
static N_INLINE(void, Rtladdcycleroot_11452)(TY10402* C_11454);
N_NOINLINE(void, Incl_10674)(TY10414* S_10677, TY10402* Cell_10678);
static N_INLINE(TY10402*, Usrtocell_10822)(void* Usr_10824);
static N_INLINE(void, Decref_11460)(TY10402* C_11462);
static N_INLINE(void, Rtladdzct_11456)(TY10402* C_11458);
N_NOINLINE(void, Addzct_10811)(TY10418* S_10814, TY10402* C_10815);
N_NIMCALL(TY53523*, Semmacroexpr_122093)(TY103012* C_122095, TY53523* N_122096, TY53545* Sym_122097, NIM_BOOL Semcheck_122098);
N_NIMCALL(TY111006*, Newevalcontext_111033)(TY53545* Module_111035, NimStringDesc* Filename_111036, NIM_BOOL Opteval_111037);
N_NIMCALL(TY111004*, Newstackframe_111024)(void);
static N_INLINE(void, asgnRefNoCycle)(void** Dest_11616, void* Src_11617);
N_NIMCALL(TGenericSeq*, setLengthSeq)(TGenericSeq* Seq_17403, NI Elemsize_17404, NI Newlen_17405);
N_NIMCALL(void, Pushstackframe_111026)(TY111006* C_111028, TY111004* T_111029);
N_NIMCALL(TY53523*, Eval_111038)(TY111006* C_111040, TY53523* N_111041);
N_NIMCALL(void, Popstackframe_111030)(TY111006* C_111032);
N_NIMCALL(NIM_BOOL, Cyclictree_92043)(TY53523* N_92045);
N_NIMCALL(TY53523*, Semaftermacrocall_121246)(TY103012* C_121248, TY53523* N_121249, TY53545* S_121250);
N_NIMCALL(TY53523*, Semstmt_121143)(TY103012* C_121145, TY53523* N_121146);
N_NIMCALL(TY53523*, Semasgn_137665)(TY103012* C_137667, TY53523* N_137668);
N_NIMCALL(void, Checksonslen_103099)(TY53523* N_103101, NI Length_103102);
N_NIMCALL(TY53523*, Builtinfieldaccess_132229)(TY103012* C_132231, TY53523* N_132232, NU8 Flags_132233);
N_NIMCALL(TY53545*, Qualifiedlookup_104053)(TY103012* C_104055, TY53523* N_104056, NIM_BOOL Ambiguouscheck_104057);
N_NIMCALL(TY52011*, Consideracc_121003)(TY53523* N_121005);
N_NIMCALL(NimStringDesc*, Rendertree_81042)(TY53523* N_81044, NU8 Renderflags_81047);
N_NIMCALL(TY53545*, Getsymfromlist_57197)(TY53523* List_57199, TY52011* Ident_57200, NI Start_57201);
N_NIMCALL(NIM_BOOL, Istypeexpr_131933)(TY53523* N_131935);
N_NIMCALL(TY53549*, Skiptypes_93085)(TY53549* T_93087, NU64 Kinds_93088);
N_NIMCALL(TY53545*, Lookupinrecordandbuildcheck_131958)(TY103012* C_131960, TY53523* N_131961, TY53523* R_131962, TY52011* Field_131963, TY53523** Check_131965);
N_NIMCALL(NI, Sonslen_53801)(TY53523* N_53803);
N_NIMCALL(void, Checkminsonslen_103103)(TY53523* N_103105, NI Length_103106);
N_NIMCALL(void, Illformedast_103092)(TY53523* N_103094);
N_NIMCALL(TY53523*, Newnodei_53735)(NU8 Kind_53737, TY45532 Info_53738);
N_NIMCALL(TY53523*, Lastson_53807)(TY53523* N_53809);
N_NIMCALL(void, unsureAsgnRef)(void** Dest_11622, void* Src_11623);
N_NIMCALL(TY53523*, Newidentnode_53728)(TY52011* Ident_53730, TY45532 Info_53731);
N_NIMCALL(TY52011*, Getident_52016)(NimStringDesc* Identifier_52018);
N_NIMCALL(TY53523*, Makederef_132200)(TY53523* N_132202);
N_NIMCALL(TY53523*, Propertywriteaccess_137641)(TY103012* C_137643, TY53523* N_137644, TY53523* A_137645);
static N_INLINE(TY53523*, HEX5BHEX5D_55072)(TY53523* N_55074, NI I_55075);
static N_INLINE(void, appendString)(NimStringDesc* Dest_17192, NimStringDesc* Src_17193);
static N_INLINE(void, appendChar)(NimStringDesc* Dest_17209, NIM_CHAR C_17210);
N_NIMCALL(NimStringDesc*, rawNewString)(NI Space_17087);
N_NIMCALL(TY53523*, Semdirectcallanalyseeffects_131107)(TY103012* C_131109, TY53523* N_131110, NU8 Flags_131111);
N_NIMCALL(TY53523*, Semdirectcall_125747)(TY103012* C_125749, TY53523* N_125750, NU32 Filter_125751);
N_NIMCALL(TY53523*, Semdirectcallwithbinding_125602)(TY103012* C_125604, TY53523* N_125605, TY53523* F_125606, NU32 Filter_125607, TY53523* Initialbinding_125608);
N_NIMCALL(void, Initcandidate_123092)(TY123058* C_123095, TY53545* Callee_123096, TY53523* Binding_123097);
static N_INLINE(void, Initcandidateaux_123081)(TY123058* C_123084, TY53549* Callee_123085);
N_NIMCALL(void, Initidtable_53752)(TY53561* X_53755);
N_NIMCALL(void, Idtableput_57174)(TY53561* T_57177, TY52005* Key_57178, TNimObject* Val_57179);
N_NIMCALL(void, Matches_124970)(TY103012* C_124972, TY53523* N_124973, TY123058* M_124975);
N_NIMCALL(TY53549*, Base_93021)(TY53549* T_93023);
N_NIMCALL(void, Intsetinit_53922)(TY53898* S_53925);
N_NIMCALL(NIM_BOOL, Intsetcontainsorincl_53926)(TY53898* S_53929, NI Key_53930);
N_NIMCALL(TY53523*, Paramtypesmatch_124731)(TY103012* C_124733, TY123058* M_124735, TY53549* F_124736, TY53549* A_124737, TY53523* Arg_124738);
N_NIMCALL(TY53523*, Paramtypesmatchaux_124585)(TY103012* C_124587, TY123058* M_124589, TY53549* F_124590, TY53549* A_124591, TY53523* Arg_124592);
N_NIMCALL(NU8, Typerel_123350)(TY53561* Mapping_123353, TY53549* F_123354, TY53549* A_123355);
N_NIMCALL(TY53549*, Lastson_53810)(TY53549* N_53812);
N_NIMCALL(NU8, Handlerange_123381)(TY53549* F_123383, TY53549* A_123384, NU8 Min_123385, NU8 Max_123386);
N_NIMCALL(NU8, Handlefloatrange_123447)(TY53549* F_123449, TY53549* A_123450);
N_NIMCALL(NU8, Minrel_123520)(NU8 A_123522, NU8 B_123523);
N_NIMCALL(NI64, Lengthord_93007)(TY53549* T_93009);
N_NIMCALL(NIM_BOOL, Isordinaltype_93069)(TY53549* T_93071);
N_NIMCALL(void, Internalerror_45571)(NimStringDesc* Errmsg_45573);
N_NIMCALL(NU8, Tuplerel_123534)(TY53561* Mapping_123537, TY53549* F_123538, TY53549* A_123539);
N_NIMCALL(NI, Sonslen_53804)(TY53549* N_53806);
N_NIMCALL(NIM_BOOL, Isobjectsubtype_123490)(TY53549* A_123492, TY53549* F_123493);
N_NIMCALL(NI64, Firstord_93001)(TY53549* T_93003);
N_NIMCALL(TNimObject*, Idtableget_57166)(TY53561 T_57168, TY52005* Key_57169);
N_NIMCALL(TY53549*, Concretetype_123356)(TY53561 Mapping_123358, TY53549* T_123359);
N_NIMCALL(TY53549*, Newtype_53704)(NU8 Kind_53706, TY53545* Owner_53707);
N_NIMCALL(void, Addson_53825)(TY53549* Father_53827, TY53549* Son_53828);
N_NIMCALL(NimStringDesc*, reprEnum)(NI E_18179, TNimType* Typ_18180);
N_NIMCALL(TY53523*, Implicitconv_124504)(NU8 Kind_124506, TY53549* F_124507, TY53523* Arg_124508, TY123058* M_124509, TY103012* C_124510);
N_NIMCALL(NIM_BOOL, Containsgenerictype_122223)(TY53549* T_122225);
N_NIMCALL(NIM_BOOL, Iterovertype_93038)(TY53549* T_93040, TY93025 Iter_93041, TNimObject* Closure_93042);
N_NIMCALL(NIM_BOOL, Containsgenerictypeiter_122207)(TY53549* T_122209, TNimObject* Closure_122210);
N_NIMCALL(TY53549*, Getinstantiatedtype_124475)(TY103012* C_124477, TY53523* Arg_124478, TY123058* M_124479, TY53549* F_124480);
N_NIMCALL(TY53549*, Generatetypeinstance_123006)(TY103012* P_123008, TY53561 Pt_123009, TY53523* Arg_123010, TY53549* T_123011);
N_NIMCALL(void, Copyidtable_53796)(TY53561* Dest_53799, TY53561 Src_53800);
N_NIMCALL(void, Pushinfocontext_45606)(TY45532 Info_45608);
N_NIMCALL(TY53549*, Replacetypevarst_122717)(TY122712* Cl_122720, TY53549* T_122721);
N_NIMCALL(TY53549*, Lookuptypevar_122862)(TY122712* Cl_122864, TY53549* T_122865);
N_NIMCALL(NimStringDesc*, Typetostring_93014)(TY53549* Typ_93016, NU8 Prefer_93017);
N_NIMCALL(TY53549*, Copytype_53768)(TY53549* T_53770, TY53545* Owner_53771, NIM_BOOL Keepid_53772);
N_NIMCALL(TY53549*, Searchinsttypes_122158)(TY53561 Tab_122160, TY53549* Key_122161);
N_NIMCALL(NIM_BOOL, Sametype_93048)(TY53549* X_93050, TY53549* Y_93051);
N_NIMCALL(TY53523*, Replacetypevarsn_122727)(TY122712* Cl_122730, TY53523* N_122731);
N_NIMCALL(TY53523*, Copynode_53853)(TY53523* Src_53855);
N_NIMCALL(TY53545*, Replacetypevarss_122722)(TY122712* Cl_122725, TY53545* S_122726);
N_NIMCALL(TY53545*, Copysym_53773)(TY53545* S_53775, NIM_BOOL Keepid_53776);
N_NIMCALL(void, Newsons_53813)(TY53523* Father_53815, NI Length_53816);
N_NIMCALL(void, Checkconstructedtype_122667)(TY45532 Info_122669, TY53549* T_122670);
N_NIMCALL(NI64, Computesize_93110)(TY53549* Typ_93112);
N_NIMCALL(void, Popinfocontext_45609)(void);
N_NIMCALL(TY53523*, Userconvmatch_124523)(TY103012* C_124525, TY123058* M_124527, TY53549* F_124528, TY53549* A_124529, TY53523* Arg_124530);
N_NIMCALL(void, Initcandidate_123086)(TY123058* C_123089, TY53549* Callee_123090);
N_NIMCALL(void, Copycandidate_123135)(TY123058* A_123138, TY123058* B_123139);
N_NIMCALL(void, genericAssign)(void* Dest_17965, void* Src_17966, TNimType* Mt_17967);
N_NIMCALL(NI, Cmpcandidates_123141)(TY123058* A_123143, TY123058* B_123144);
N_NIMCALL(void, Setson_124927)(TY53523* Father_124929, NI At_124930, TY53523* Son_124931);
N_NIMCALL(TY53549*, Getsystype_98008)(NU8 Kind_98010);
N_NIMCALL(NIM_BOOL, Samemethoddispatcher_125526)(TY53545* A_125528, TY53545* B_125529);
N_NIMCALL(NimStringDesc*, nsuFormatOpenArray)(NimStringDesc* Formatstr_22965, NimStringDesc** A_22967, NI A_22967Len0);
N_NIMCALL(NimStringDesc*, Msgkindtostring_45588)(NU8 Kind_45590);
N_NIMCALL(NimStringDesc*, Getprocheader_93018)(TY53545* Sym_93020);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* Src_17108);
N_NIMCALL(TY53545*, Generateinstance_122152)(TY103012* C_122154, TY53545* Fn_122155, TY53561 Pt_122156, TY45532 Info_122157);
N_NIMCALL(TY53545*, Getcurrowner_103107)(void);
N_NIMCALL(void, Pushowner_103109)(TY53545* Owner_103111);
N_NIMCALL(void, Openscope_57149)(TY57107* Tab_57152);
N_NIMCALL(void, Instantiategenericparamlist_122227)(TY103012* C_122229, TY53523* N_122230, TY53561 Pt_122231);
N_NIMCALL(TY53545*, Newsym_53699)(NU8 Symkind_53701, TY52011* Name_53702, TY53545* Owner_53703);
N_NIMCALL(void, Adddecl_104026)(TY103012* C_104028, TY53545* Sym_104029);
N_NIMCALL(void, Semparamlist_121147)(TY103012* C_121149, TY53523* N_121150, TY53523* Genericparams_121151, TY53545* S_121152);
N_NIMCALL(TY53549*, Semproctypenode_128417)(TY103012* C_128419, TY53523* N_128420, TY53523* Genericparams_128421, TY53549* Prev_128422);
N_NIMCALL(TY53549*, Neworprevtype_125986)(NU8 Kind_125988, TY53549* Prev_125989, TY103012* C_125990);
N_NIMCALL(TY103002*, Lastoptionentry_103053)(TY103012* C_103055);
N_NIMCALL(TY53549*, Paramtype_128396)(TY103012* C_128398, TY53523* N_128399, TY53523* Genericparams_128400, TY53898* Cl_128402);
N_NIMCALL(TY53549*, Semtypenode_121138)(TY103012* C_121140, TY53523* N_121141, TY53549* Prev_121142);
N_NIMCALL(TY53545*, Semtypeident_126724)(TY103012* C_126726, TY53523* N_126727);
N_NIMCALL(TY53549*, Semarray_126573)(TY103012* C_126575, TY53523* N_126576, TY53549* Prev_126577);
N_NIMCALL(TY53549*, Semrangeaux_126421)(TY103012* C_126423, TY53523* N_126424, TY53549* Prev_126425);
N_NIMCALL(NIM_BOOL, Enumhaswholes_93072)(TY53549* T_93074);
N_NIMCALL(NIM_BOOL, Levalue_53868)(TY53523* A_53870, TY53523* B_53871);
N_NIMCALL(TY53549*, Semcontainer_126325)(TY103012* C_126327, TY53523* N_126328, NU8 Kind_126329, NimStringDesc* Kindstr_126330, TY53549* Prev_126331);
N_NIMCALL(TY53549*, Semrange_126520)(TY103012* C_126522, TY53523* N_126523, TY53549* Prev_126524);
N_NIMCALL(TY53549*, Semset_126284)(TY103012* C_126286, TY53523* N_126287, TY53549* Prev_126288);
N_NIMCALL(TY53549*, Semordinal_126682)(TY103012* C_126684, TY53523* N_126685, TY53549* Prev_126686);
N_NIMCALL(TY53549*, Semgeneric_126906)(TY103012* C_126908, TY53523* N_126909, TY53545* S_126910, TY53549* Prev_126911);
N_NIMCALL(TY53549*, Instgenericcontainer_121166)(TY103012* C_121168, TY53523* N_121169, TY53549* Header_121170);
N_NIMCALL(void, Assigntype_53777)(TY53549* Dest_53779, TY53549* Src_53780);
N_NIMCALL(TY53549*, Semobjectnode_128205)(TY103012* C_128207, TY53523* N_128208, TY53549* Prev_128209);
N_NIMCALL(void, Addinheritedfields_128184)(TY103012* C_128186, TY53898* Check_128188, NI* Pos_128190, TY53549* Obj_128191);
N_NIMCALL(void, Addinheritedfieldsaux_128067)(TY103012* C_128069, TY53898* Check_128071, NI* Pos_128073, TY53523* N_128074);
N_NIMCALL(void, Intsetincl_53912)(TY53898* S_53915, NI Key_53916);
N_NIMCALL(void, Semrecordnodeaux_127437)(TY103012* C_127439, TY53523* N_127440, TY53898* Check_127442, NI* Pos_127444, TY53523* Father_127445, TY53545* Rectype_127446);
N_NIMCALL(void, Checkbool_125912)(TY53523* T_125914);
N_NIMCALL(void, Semrecordcase_127447)(TY103012* C_127449, TY53523* N_127450, TY53898* Check_127452, NI* Pos_127454, TY53523* Father_127455, TY53545* Rectype_127456);
N_NIMCALL(void, Semcasebranch_127288)(TY103012* C_127290, TY53523* T_127291, TY53523* Branch_127292, NI Branchindex_127293, NI64* Covered_127295);
N_NIMCALL(void, Sembranchexpr_127249)(TY103012* C_127251, TY53523* T_127252, TY53523** Ex_127254);
N_NIMCALL(NU8, Cmptypes_124467)(TY53549* F_124469, TY53549* A_124470);
N_NIMCALL(void, Typemismatch_125936)(TY53523* N_125938, TY53549* Formal_125939, TY53549* Actual_125940);
N_NIMCALL(NIM_BOOL, Emptyrange_100019)(TY53523* A_100021, TY53523* B_100022);
N_NIMCALL(NI64, Getordvalue_93107)(TY53523* N_93109);
N_NIMCALL(void, Checkforoverlap_127191)(TY103012* C_127193, TY53523* T_127194, TY53523* Ex_127195, NI Branchindex_127196);
N_NIMCALL(NIM_BOOL, Overlap_100006)(TY53523* A_100008, TY53523* B_100009);
N_NIMCALL(void, Delson_53833)(TY53523* Father_53835, NI Idx_53836);
N_NIMCALL(TY53545*, Semidentwithpragma_121098)(TY103012* C_121100, NU8 Kind_121101, TY53523* N_121102, NU32 Allowed_121103);
N_NIMCALL(TY53545*, Semidentvis_121092)(TY103012* C_121094, NU8 Kind_121095, TY53523* N_121096, NU32 Allowed_121097);
N_NIMCALL(TY53545*, Newsyms_121059)(NU8 Kind_121061, TY53523* N_121062, TY103012* C_121063);
N_NIMCALL(void, Pragma_118028)(TY103012* C_118030, TY53545* Sym_118031, TY53523* N_118032, TY118007 Validpragmas_118033);
N_NIMCALL(TY50008*, Torope_50046)(NimStringDesc* S_50048);
N_NIMCALL(TY53549*, Semtuple_126749)(TY103012* C_126751, TY53523* N_126752, TY53549* Prev_126753);
N_NIMCALL(TY53549*, Semanyref_126348)(TY103012* C_126350, TY53523* N_126351, NU8 Kind_126352, NimStringDesc* Kindstr_126353, TY53549* Prev_126354);
N_NIMCALL(TY53549*, Semvartype_126371)(TY103012* C_126373, TY53523* N_126374, TY53549* Prev_126375);
N_NIMCALL(TY53549*, Semdistinct_126401)(TY103012* C_126403, TY53523* N_126404, TY53549* Prev_126405);
N_NIMCALL(TY53549*, Semenum_126012)(TY103012* C_126014, TY53523* N_126015, TY53549* Prev_126016);
N_NIMCALL(NI64, Lastord_93004)(TY53549* T_93006);
N_NIMCALL(void, Strtableadd_57064)(TY53527* T_57067, TY53545* N_57068);
N_NIMCALL(void, Adddeclat_104030)(TY103012* C_104032, TY53545* Sym_104033, NI At_104034);
N_NIMCALL(TY53549*, Semstmtlisttype_128684)(TY103012* C_128686, TY53523* N_128687, TY53549* Prev_128688);
N_NIMCALL(TY53549*, Semblocktype_128749)(TY103012* C_128751, TY53523* N_128752, TY53549* Prev_128753);
N_NIMCALL(void, Closescope_104017)(TY57107* Tab_104020);
N_NIMCALL(TY53549*, Addtypevarsofgenericbody_128342)(TY103012* C_128344, TY53549* T_128345, TY53523* Genericparams_128346, TY53898* Cl_128348);
N_NIMCALL(TY53523*, Fitnode_121129)(TY103012* C_121131, TY53549* Formal_121132, TY53523* Arg_121133);
N_NIMCALL(TY53523*, Indextypesmatch_124917)(TY103012* C_124919, TY53549* F_124920, TY53549* A_124921, TY53523* Arg_124922);
N_NIMCALL(void, Addparams_121153)(TY103012* C_121155, TY53523* N_121156);
N_NIMCALL(TY53545*, Genericcacheget_122326)(TY103012* C_122328, TY53545* Genericsym_122329, TY53545* Instsym_122330);
N_NIMCALL(NU8, Equalparams_93065)(TY53523* A_93067, TY53523* B_93068);
N_NIMCALL(void, Genericcacheadd_122446)(TY103012* C_122448, TY53545* Genericsym_122449, TY53545* Instsym_122450);
N_NIMCALL(TY53523*, Newnode_53708)(NU8 Kind_53710);
N_NIMCALL(TY103006*, Newproccon_103050)(TY53545* Owner_103052);
N_NIMCALL(void, Addresult_121157)(TY103012* C_121159, TY53549* T_121160, TY45532 Info_121161);
N_NIMCALL(void, Addresultnode_121162)(TY103012* C_121164, TY53523* N_121165);
N_NIMCALL(TY53523*, Semstmtscope_121104)(TY103012* C_121106, TY53523* N_121107);
N_NIMCALL(void, Popowner_103112)(void);
N_NIMCALL(void, Fixabstracttype_130233)(TY103012* C_130235, TY53523* N_130236);
N_NIMCALL(TY53523*, Semarrayconstr_130156)(TY103012* C_130158, TY53523* N_130159);
N_NIMCALL(TY53549*, Makerangetype_103086)(TY103012* C_103088, NI64 First_103089, NI64 Last_103090, TY45532 Info_103091);
N_NIMCALL(TY53549*, Elemtype_93089)(TY53549* T_93091);
N_NIMCALL(void, Changetype_129942)(TY53523* N_129944, TY53549* Newtype_129945);
N_NIMCALL(void, Analyseifaddresstakenincall_130937)(TY103012* C_130939, TY53523* N_130940);
N_NIMCALL(NU8, Isassignable_130504)(TY53523* N_130506);
N_NIMCALL(TY53523*, Analyseifaddresstaken_130719)(TY103012* C_130721, TY53523* N_130722);
N_NIMCALL(TY53523*, Newhiddenaddrtaken_130684)(TY103012* C_130686, TY53523* N_130687);
N_NIMCALL(TY53549*, Makevartype_103073)(TY103012* C_103075, TY53549* Basetype_103076);
N_NIMCALL(TY53523*, Semsubscript_132778)(TY103012* C_132780, TY53523* N_132781, NU8 Flags_132782);
N_NIMCALL(TY53523*, Buildoverloadedsubscripts_132738)(TY53523* N_132740, NIM_BOOL Inasgn_132741);
N_NIMCALL(void, Add_54990)(TY53523* Father_54992, TY53523* Son_54993);
static N_INLINE(NI, Len_54944)(TY53523* N_54946);
N_NIMCALL(NimStringDesc*, resizeString)(NimStringDesc* Dest_17182, NI Addlen_17183);
N_NIMCALL(void, Addsliceopr_132700)(NimStringDesc** Result_132703, TY53523* N_132704);
N_NIMCALL(void, Addsonifnotnil_53829)(TY53523* Father_53831, TY53523* N_53832);
N_NIMCALL(TY53523*, Semexprnotype_136703)(TY103012* C_136705, TY53523* N_136706);
N_NIMCALL(TY53523*, Semcommand_141650)(TY103012* C_141652, TY53523* N_141653);
N_NIMCALL(TY53523*, Semblock_137153)(TY103012* C_137155, TY53523* N_137156);
N_NIMCALL(TY53523*, Semraise_139191)(TY103012* C_139193, TY53523* N_139194);
N_NIMCALL(TY53523*, Semvar_138296)(TY103012* C_138298, TY53523* N_138299);
N_NIMCALL(NIM_BOOL, Typeallowed_93134)(TY53549* T_93136, NU8 Kind_93137);
N_NIMCALL(void, Addinterfacedecl_104040)(TY103012* C_104042, TY53545* Sym_104043);
N_NIMCALL(TY53523*, Semconst_138594)(TY103012* C_138596, TY53523* N_138597);
N_NIMCALL(TY53523*, Semandevalconstexpr_121198)(TY103012* C_121200, TY53523* N_121201);
N_NIMCALL(TY53523*, Getconstexpr_109010)(TY53545* M_109012, TY53523* N_109013);
N_NIMCALL(TY53523*, Evalconstexpr_111042)(TY53545* Module_111044, TY53523* E_111045);
N_NIMCALL(TY53523*, Fitremovehiddenconv_138254)(TY103012* C_138256, TY53549* Typ_138257, TY53523* N_138258);
N_NIMCALL(TY53523*, Semtypesection_139694)(TY103012* C_139696, TY53523* N_139697);
N_NIMCALL(void, Processmagictype_129016)(TY103012* C_129018, TY53545* M_129019);
N_NIMCALL(void, Setmagictype_129011)(TY53545* M_129013, NU8 Kind_129014, NI Size_129015);
N_NIMCALL(NI, Getid_53691)(void);
N_NIMCALL(TY53523*, Semgenericparamlist_139469)(TY103012* C_139471, TY53523* N_139472, TY53549* Father_139473);
N_NIMCALL(TY53523*, Semif_136858)(TY103012* C_136860, TY53523* N_136861);
N_NIMCALL(TY53523*, Semwhen_136728)(TY103012* C_136730, TY53523* N_136731);
N_NIMCALL(void, Idsynchronizationpoint_53696)(NI Idrange_53698);
N_NIMCALL(TY53523*, Semdiscard_136983)(TY103012* C_136985, TY53523* N_136986);
N_NIMCALL(TY53523*, Semwhile_137346)(TY103012* C_137348, TY53523* N_137349);
N_NIMCALL(TY53523*, Semtry_139274)(TY103012* C_139276, TY53523* N_139277);
N_NIMCALL(TY53523*, Sembreakorcontinue_137035)(TY103012* C_137037, TY53523* N_137038);
N_NIMCALL(TY53523*, Semfor_138784)(TY103012* C_138786, TY53523* N_138787);
N_NIMCALL(TY53545*, Strtableget_57069)(TY53527* T_57071, TY52011* Name_57072);
N_NIMCALL(TY53523*, Semcase_137451)(TY103012* C_137453, TY53523* N_137454);
N_NIMCALL(NI64, Tocover_137437)(TY53549* T_137439);
N_NIMCALL(TY53523*, Semreturn_137907)(TY103012* C_137909, TY53523* N_137910);
N_NIMCALL(TY53523*, Semasm_137256)(TY103012* Con_137258, TY53523* N_137259);
N_NIMCALL(NIM_CHAR, Pragmaasm_118034)(TY103012* C_118036, TY53523* N_118037);
N_NIMCALL(NI, nsuFindChar)(NimStringDesc* S_24227, NIM_CHAR Sub_24228, NI Start_24229);
N_NIMCALL(NimStringDesc*, copyStr)(NimStringDesc* S_1748, NI First_1749);
N_NIMCALL(NimStringDesc*, copyStrLast)(NimStringDesc* S_1752, NI First_1753, NI Last_1754);
N_NIMCALL(TY53523*, Newstrnode_53724)(NU8 Kind_53726, NimStringDesc* Strval_53727);
N_NIMCALL(TY53545*, Symtabget_57119)(TY57107 Tab_57121, TY52011* S_57122);
N_NIMCALL(void, Loadstub_89070)(TY53545* S_89072);
N_NIMCALL(TY53523*, Semyield_138123)(TY103012* C_138125, TY53523* N_138126);
N_NIMCALL(TY53523*, Semiterator_141389)(TY103012* C_141391, TY53523* N_141392);
N_NIMCALL(TY53523*, Semprocaux_140662)(TY103012* C_140664, TY53523* N_140665, NU8 Kind_140666, TY118007 Validpragmas_140667);
N_NIMCALL(TY53545*, Searchforproc_117004)(TY103012* C_117006, TY53545* Fn_117007, NI Tos_117008);
N_NIMCALL(void, Addinterfaceoverloadablesymat_104044)(TY103012* C_104046, TY53545* Sym_104047, NI At_104048);
N_NIMCALL(void, Addinterfacedeclat_104246)(TY103012* C_104248, TY53545* Sym_104249, NI At_104250);
N_NIMCALL(void, Addgenericparamlisttoscope_139639)(TY103012* C_139641, TY53523* N_139642);
N_NIMCALL(TY53523*, Semgenericstmtscope_135109)(TY103012* C_135111, TY53523* N_135112, NU8 Flags_135115);
N_NIMCALL(TY53523*, Semgenericstmt_135102)(TY103012* C_135104, TY53523* N_135105, NU8 Flags_135108);
N_NIMCALL(TY53523*, Semgenericstmtsymbol_135119)(TY103012* C_135121, TY53523* N_135122, TY53545* S_135123);
N_NIMCALL(TY53523*, Semtemplateexpr_129022)(TY103012* C_129024, TY53523* N_129025, TY53545* S_129026, NIM_BOOL Semcheck_129027);
N_NIMCALL(TY53523*, Evaltemplate_121504)(TY103012* C_121506, TY53523* N_121507, TY53545* Sym_121508);
N_NIMCALL(TY53523*, Evaltemplateargs_121424)(TY103012* C_121426, TY53523* N_121427, TY53545* S_121428);
N_NIMCALL(TY53523*, Evaltemplateaux_121337)(TY103012* C_121339, TY53523* Templ_121340, TY53523* Actual_121341, TY53545* Sym_121342);
N_NIMCALL(TY53523*, Semmacrostmt_134499)(TY103012* C_134501, TY53523* N_134502, NIM_BOOL Semcheck_134503);
N_NIMCALL(NIM_BOOL, Iscallexpr_134483)(TY53523* N_134485);
N_NIMCALL(TY53523*, Getidentnode_135145)(TY53523* N_135147);
N_NIMCALL(void, Semborrow_140368)(TY103012* C_140370, TY53523* N_140371, TY53545* S_140372);
N_NIMCALL(TY53545*, Searchforborrowproc_117009)(TY103012* C_117011, TY53545* Fn_117012, NI Tos_117013);
N_NIMCALL(void, Sideeffectscheck_140397)(TY103012* C_140399, TY53545* S_140400);
N_NIMCALL(TY53523*, Semproc_141454)(TY103012* C_141456, TY53523* N_141457);
N_NIMCALL(TY53523*, Semmethod_141459)(TY103012* C_141461, TY53523* N_141462);
N_NIMCALL(NIM_BOOL, Istoplevel_121053)(TY103012* C_121055);
N_NIMCALL(TY53523*, Semconverterdef_141464)(TY103012* C_141466, TY53523* N_141467);
N_NIMCALL(void, Addconverter_103058)(TY103012* C_103060, TY53545* Conv_103061);
N_NIMCALL(TY53523*, Semmacrodef_141531)(TY103012* C_141533, TY53523* N_141534);
N_NIMCALL(TY53523*, Semtemplatedef_121750)(TY103012* C_121752, TY53523* N_121753);
N_NIMCALL(TY53523*, Resolvetemplateparams_121598)(TY103012* C_121600, TY53523* N_121601, NIM_BOOL Withinbind_121602, TY53898* Tobind_121604);
N_NIMCALL(NIM_BOOL, Intsetcontains_53908)(TY53898 S_53910, NI Key_53911);
N_NIMCALL(TY53545*, Symtablocalget_57123)(TY57107 Tab_57125, TY52011* S_57126);
N_NIMCALL(TY53523*, Transformtoexpr_121709)(TY53523* N_121711);
N_NIMCALL(TY53523*, Evalimport_106001)(TY103012* C_106003, TY53523* N_106004);
N_NIMCALL(TY53523*, Evalfrom_106005)(TY103012* C_106007, TY53523* N_106008);
N_NIMCALL(TY53523*, Evalinclude_141621)(TY103012* C_141623, TY53523* N_141624);
N_NIMCALL(NimStringDesc*, Getmodulefile_106013)(TY53523* N_106015);
N_NIMCALL(NI, Includefilename_45611)(NimStringDesc* F_45613);
N_NIMCALL(void, Intsetexcl_53917)(TY53898* S_53920, NI Key_53921);
N_NIMCALL(TY53523*, Semfieldaccess_129029)(TY103012* C_129031, TY53523* N_129032, NU8 Flags_129035);
N_NIMCALL(TY53523*, Semconv_129332)(TY103012* C_129334, TY53523* N_129335, TY53545* S_129336);
N_NIMCALL(void, Checkconvertible_129183)(TY45532 Info_129185, TY53549* Castdest_129186, TY53549* Src_129187);
N_NIMCALL(void, Checkconversionbetweenobjects_129171)(TY45532 Info_129173, TY53549* Castdest_129174, TY53549* Src_129175);
N_NIMCALL(NI, Inheritancediff_93119)(TY53549* A_93121, TY53549* B_93122);
N_NIMCALL(NIM_BOOL, Equalordistinctof_93056)(TY53549* X_93058, TY53549* Y_93059);
N_NIMCALL(TY53523*, Semdirectop_131590)(TY103012* C_131592, TY53523* N_131593, NU8 Flags_131594);
N_NIMCALL(void, Semopaux_129786)(TY103012* C_129788, TY53523* N_129789);
N_NIMCALL(TY53523*, Overloadedcallopr_129905)(TY103012* C_129907, TY53523* N_129908);
N_NIMCALL(NimStringDesc*, Getnotfounderror_123247)(TY103012* C_123249, TY53523* N_123250);
N_NIMCALL(NimStringDesc*, addChar)(NimStringDesc* S_1603, NIM_CHAR C_1604);
N_NIMCALL(TY53523*, Semmagic_131926)(TY103012* C_131928, TY53523* N_131929, TY53545* S_131930, NU8 Flags_131931);
N_NIMCALL(TY53523*, Semdefined_131799)(TY103012* C_131801, TY53523* N_131802, NIM_BOOL Onlycurrentscope_131803);
N_NIMCALL(TY53523*, Newintnode_53711)(NU8 Kind_53713, NI64 Intval_53714);
N_NIMCALL(TY53545*, Lookupfordefined_131657)(TY103012* C_131659, TY53523* N_131660, NIM_BOOL Onlycurrentscope_131661);
N_NIMCALL(NIM_BOOL, Isdefined_61059)(TY52011* Symbol_61061);
N_NIMCALL(TY53523*, Setms_131897)(TY53523* N_131899, TY53545* S_131900);
N_NIMCALL(TY53523*, Semlowhigh_129554)(TY103012* C_129556, TY53523* N_129557, NU8 M_129558);
N_NIMCALL(TY53523*, Semsizeof_129629)(TY103012* C_129631, TY53523* N_129632);
N_NIMCALL(TY53523*, Semis_129661)(TY103012* C_129663, TY53523* N_129664);
N_NIMCALL(TY53523*, Semecho_131618)(TY103012* C_131620, TY53523* N_131621);
N_NIMCALL(TY53523*, Semindirectop_131252)(TY103012* C_131254, TY53523* N_131255, NU8 Flags_131256);
N_NIMCALL(TY53523*, Partialspecialization_123017)(TY103012* C_123019, TY53523* N_123020, TY53545* S_123021);
N_NIMCALL(TY53523*, Semarrayaccess_133048)(TY103012* C_133050, TY53523* N_133051, NU8 Flags_133052);
N_NIMCALL(NU8, Checkpar_133769)(TY53523* N_133771);
N_NIMCALL(TY53523*, Semtuplepositionsconstr_134255)(TY103012* C_134257, TY53523* N_134258);
N_NIMCALL(TY53523*, Semtuplefieldsconstr_133918)(TY103012* C_133920, TY53523* N_133921);
N_NIMCALL(TY53523*, Semsetconstr_133394)(TY103012* C_133396, TY53523* N_133397);
N_NIMCALL(TY53523*, Semlambda_121134)(TY103012* C_121136, TY53523* N_121137);
N_NIMCALL(TY53549*, Makeptrtype_103069)(TY103012* C_103071, TY53549* Basetype_103072);
N_NIMCALL(TY53523*, Semcast_129478)(TY103012* C_129480, TY53523* N_129481);
N_NIMCALL(NIM_BOOL, Iscastable_129295)(TY53549* Dst_129297, TY53549* Src_129298);
N_NIMCALL(TY53523*, Semifexpr_133201)(TY103012* C_133203, TY53523* N_133204);
N_NIMCALL(TY53523*, Semstmtlistexpr_134305)(TY103012* C_134307, TY53523* N_134308);
N_NIMCALL(TY53523*, Semblockexpr_134381)(TY103012* C_134383, TY53523* N_134384);
N_NIMCALL(TY53523*, Semexprnoflags_142503)(TY103012* C_142505, TY53523* N_142506);
N_NIMCALL(void, Symtabadd_57127)(TY57107* Tab_57130, TY53545* E_57131);
N_NIMCALL(void, Initsystem_98017)(TY57107* Tab_98020);
N_NIMCALL(void, Importallsymbols_106009)(TY103012* C_106011, TY53545* Frommod_106012);
N_NIMCALL(TY101002*, Myopencached_142543)(TY53545* Module_142545, NimStringDesc* Filename_142546, TY89031* Rd_142547);
N_NIMCALL(TY53523*, Myclose_142561)(TY101002* Context_142563, TY53523* N_142564);
N_NIMCALL(void, Rawclosescope_57153)(TY57107* Tab_57156);
N_NIMCALL(void, Addcodeforgenerics_142374)(TY103012* C_142376, TY53523* N_142377);
N_NIMCALL(TY53523*, Myprocess_142550)(TY101002* Context_142552, TY53523* N_142553);
NIM_CONST NU64 Constabstracttypes_129020 = IL64(3747008638145789952);
STRING_LITERAL(TMP193926, "sem.myOpen", 10);
STRING_LITERAL(TMP193928, "", 0);
NIM_CONST TY178254 Lastblockstmts_141660 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x80, 0x07, 0x00, 0x00, 0x00}
;
STRING_LITERAL(TMP194059, "in", 2);
STRING_LITERAL(TMP194060, "not", 3);
STRING_LITERAL(TMP194061, "forward type in typeRel()", 25);
STRING_LITERAL(TMP194062, "tupleRel", 8);
STRING_LITERAL(TMP194063, "typeRel: tyGenericInvokation -> tyGenericInvokation", 51);
STRING_LITERAL(TMP194064, "wrong instantiated type!", 24);
STRING_LITERAL(TMP194065, "lookup failed", 13);
STRING_LITERAL(TMP194066, "has constraints: ", 17);
STRING_LITERAL(TMP194067, "typeRel(", 8);
STRING_LITERAL(TMP194068, "substitution with generic parameter", 35);
STRING_LITERAL(TMP194069, "no generic body", 15);
STRING_LITERAL(TMP194071, "acyclic", 7);
STRING_LITERAL(TMP194072, "ReplaceTypeVarsT: tyGenericBody", 31);
STRING_LITERAL(TMP194073, "getInstantiatedType", 19);
STRING_LITERAL(TMP194074, "implicitConv", 12);
STRING_LITERAL(TMP194079, "x.state is not csMatch", 22);
STRING_LITERAL(TMP194080, "matches", 7);
STRING_LITERAL(TMP194082, "calleeSym.ast is nil", 20);
STRING_LITERAL(TMP194083, "nesting too deep", 16);
STRING_LITERAL(TMP194084, "generateInstance", 16);
STRING_LITERAL(TMP194085, "instantiateGenericParamList; no generic params", 46);
STRING_LITERAL(TMP194086, "instantiateGenericParamList; no symbol", 38);
STRING_LITERAL(TMP194087, "instantiateGenericParamList: ", 29);
STRING_LITERAL(TMP194088, "semRangeAux", 11);
STRING_LITERAL(TMP194089, "openarray", 9);
STRING_LITERAL(TMP194090, "range", 5);
STRING_LITERAL(TMP194091, "set", 3);
STRING_LITERAL(TMP194092, "ordinal", 7);
STRING_LITERAL(TMP194093, "seq", 3);
STRING_LITERAL(TMP194094, "semtypes.semGeneric", 19);
STRING_LITERAL(TMP194095, "addInheritedFieldsAux", 21);
STRING_LITERAL(TMP194096, "addInheritedFieldsAux(record case branch)", 41);
STRING_LITERAL(TMP194097, "addInheritedFieldsAux()", 23);
STRING_LITERAL(TMP194098, "semObjectNode", 13);
STRING_LITERAL(TMP194099, "semRecordNodeAux", 16);
STRING_LITERAL(TMP194100, "semRecordCase: dicriminant is no symbol", 39);
STRING_LITERAL(TMP194101, ") ", 2);
static NIM_CONST TY118007 TMP194107 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x70, 0x00, 0x00, 0x00, 0x20, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00}
;static NIM_CONST TY118007 TMP194108 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x70, 0x2D, 0x0C, 0x00, 0x20, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x08}
;static NIM_CONST TY118007 TMP194109 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x70, 0x21, 0x00, 0x00, 0x20, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP194110, "ref", 3);
STRING_LITERAL(TMP194111, "ptr", 3);
STRING_LITERAL(TMP194112, "var", 3);
STRING_LITERAL(TMP194113, "distinct", 8);
STRING_LITERAL(TMP194114, "dummy", 5);
static NIM_CONST TY118007 TMP194115 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x40, 0x00, 0x00, 0x40, 0xF8, 0x1F,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP194117, "addTypeVarsOfGenericBody", 24);
STRING_LITERAL(TMP194118, "addParams", 9);
STRING_LITERAL(TMP194119, "GenericCacheGet", 15);
STRING_LITERAL(TMP194121, "result", 6);
STRING_LITERAL(TMP194123, "semDirectCallAnalyseEffects", 27);
STRING_LITERAL(TMP194124, "changeType: no tuple type for constructor", 41);
STRING_LITERAL(TMP194125, "changeType: no tuple fields", 27);
STRING_LITERAL(TMP194126, "changeType(): invalid tuple constr", 34);
STRING_LITERAL(TMP194127, "changeType(): invalid identifier", 32);
STRING_LITERAL(TMP194128, "fixAbstractType: ", 17);
NIM_CONST TY130942 Fakevarparams_130941 = {
0x00, 0xEC, 0x30, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x1C, 0x16, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00}
;
static NIM_CONST TY130942 TMP194129 = {
0x00, 0xEC, 0x30, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x1C, 0x16, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP194131, "analyseIfAddressTaken", 21);
STRING_LITERAL(TMP194132, "[", 1);
STRING_LITERAL(TMP194133, ",", 1);
STRING_LITERAL(TMP194134, "..", 2);
STRING_LITERAL(TMP194135, "..$", 3);
STRING_LITERAL(TMP194136, "$..", 3);
STRING_LITERAL(TMP194137, "$..$", 4);
STRING_LITERAL(TMP194138, "]=", 2);
STRING_LITERAL(TMP194139, "]", 1);
STRING_LITERAL(TMP194145, "tuple", 5);
static NIM_CONST TY118007 TMP194162 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x72, 0x23, 0x08, 0x00, 0x20, 0x00, 0x00,
0x00, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x40, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP194163, "semTypeSection: containerID", 27);
STRING_LITERAL(TMP194164, "semGenericParamList", 19);
STRING_LITERAL(TMP194165, "semTypeSection()", 16);
STRING_LITERAL(TMP194166, "semWhen", 7);
STRING_LITERAL(TMP194167, "countup", 7);
STRING_LITERAL(TMP194168, "\'return\'", 8);
STRING_LITERAL(TMP194169, "semReturn", 9);
STRING_LITERAL(TMP194170, "semYield", 8);
static NIM_CONST TY118007 TMP194171 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x08, 0x02, 0xE0, 0xFD, 0x3D, 0x02, 0x80,
0xFF, 0x0D, 0x00, 0x05, 0xA0, 0x00, 0x00, 0x04,
0x04, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP194174, "addGenericParamListToScope", 26);
STRING_LITERAL(TMP194175, "semProcAux", 10);
static NIM_CONST TY118007 TMP194176 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x70, 0x51, 0x00, 0x00, 0x20, 0xF8, 0x1F,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x04, 0x00,
0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP194177, "iterator", 8);
static NIM_CONST TY118007 TMP194178 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x70, 0xF3, 0x1D, 0x00, 0x60, 0xF8, 0x1F,
0x00, 0x00, 0x00, 0x08, 0x00, 0x00, 0x04, 0x00,
0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP194179, "method", 6);
STRING_LITERAL(TMP194180, "converter", 9);
STRING_LITERAL(TMP194181, "macro", 5);
static NIM_CONST TY118007 TMP194182 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x71, 0x41, 0x08, 0x00, 0x20, 0xF8, 0x1F,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP194183, "template", 8);
STRING_LITERAL(TMP194184, "import", 6);
STRING_LITERAL(TMP194190, "from", 4);
STRING_LITERAL(TMP194194, "include", 7);
STRING_LITERAL(TMP194195, "SemStmt: result = nil", 21);
STRING_LITERAL(TMP194196, "no default for", 14);
NIM_CONST NU64 Integraltypes_129188 = IL64(450360516771053568);
STRING_LITERAL(TMP194197, "()", 2);
STRING_LITERAL(TMP194198, ", ", 2);
STRING_LITERAL(TMP194199, "\012", 1);
STRING_LITERAL(TMP194200, "low", 3);
STRING_LITERAL(TMP194201, "high", 4);
NIM_CONST TY129561 Optostr_129560 = {((NimStringDesc*) &TMP194200),
((NimStringDesc*) &TMP194201)}
;
extern NIM_CONST TY129561 Optostr_129560;
STRING_LITERAL(TMP194202, "sizeof", 6);
STRING_LITERAL(TMP194203, "$", 1);
STRING_LITERAL(TMP194204, ")\012", 2);
STRING_LITERAL(TMP194205, "semExpr() to implement", 22);
STRING_LITERAL(TMP194206, ":anonymous", 10);
static NIM_CONST TY118007 TMP194207 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x70, 0xF3, 0x04, 0x00, 0x20, 0xF8, 0x1F,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP194209, "semIfExpr", 9);
STRING_LITERAL(TMP194210, "semExprWithType", 15);
STRING_LITERAL(TMP194211, "n is not nil", 12);
STRING_LITERAL(TMP194212, "addCodeForGenerics", 18);
STRING_LITERAL(TMP194213, "no code for ", 12);
NI Evaltemplatecounter_121423;
extern TY10790 Gch_10808;
extern TNimType* NTI53162; /* TTypeKind */
extern TY53561 Ginsttypes_103045;
extern TNimType* NTI123058; /* TCandidate */
extern NI Intsize_49570;
extern NI Floatsize_49571;
extern NI Ptrsize_49572;
extern TY53545* Systemmodule_98004;
extern NU32 Goptions_44075;
extern TY101048 Gincludefile_101051;
extern NU32 Gglobaloptions_44077;
N_NIMCALL(void, Markused_121065)(TY53523* N_121067, TY53545* S_121068) {
(*S_121068).Flags |=(1<<((NI32)(((NU8) 0))%(sizeof(NI32)*8)));
if (!(((*S_121068).Flags &(1<<((((NU8) 22))&31)))!=0)) goto LA2;
Limessage_45562((*N_121067).Info, ((NU8) 213), (*(*S_121068).Name).S);
LA2: ;
}
N_NIMCALL(TY53523*, Symchoice_121549)(TY103012* C_121551, TY53523* N_121552, TY53545* S_121553) {
TY53523* Result_121554;
TY53545* A_121555;
TY104004 O_121556;
NI I_121557;
TY53549* LOC5;
TY53523* LOC7;
Result_121554 = 0;
A_121555 = 0;
memset((void*)&O_121556, 0, sizeof(O_121556));
I_121557 = 0;
I_121557 = 0;
A_121555 = Initoverloaditer_104058(&O_121556, C_121551, N_121552);
while (1) {
if (!!((A_121555 == NIM_NIL))) goto LA1;
A_121555 = Nextoverloaditer_104064(&O_121556, C_121551, N_121552);
I_121557 += 1;
} LA1: ;
if (!(I_121557 <= 1)) goto LA3;
Result_121554 = Newsymnode_53732(S_121553);
(*Result_121554).Info = (*N_121552).Info;
Markused_121065(N_121552, S_121553);
goto LA2;
LA3: ;
LOC5 = Newtypes_103077(((NU8) 0), C_121551);
Result_121554 = Newnodeit_53739(((NU8) 46), (*N_121552).Info, LOC5);
A_121555 = Initoverloaditer_104058(&O_121556, C_121551, N_121552);
while (1) {
if (!!((A_121555 == NIM_NIL))) goto LA6;
LOC7 = Newsymnode_53732(A_121555);
Addson_53821(Result_121554, LOC7);
A_121555 = Nextoverloaditer_104064(&O_121556, C_121551, N_121552);
} LA6: ;
LA2: ;
return Result_121554;
}
static N_INLINE(NIM_BOOL, Canbecycleroot_10826)(TY10402* C_10828) {
NIM_BOOL Result_10829;
Result_10829 = 0;
Result_10829 = !((((*(*C_10828).Typ).flags &(1<<((((NU8) 1))&7)))!=0));
return Result_10829;
}
static N_INLINE(void, Rtladdcycleroot_11452)(TY10402* C_11454) {
Incl_10674(&Gch_10808.Cycleroots, C_11454);
}
static N_INLINE(void, Incref_11601)(TY10402* C_11603) {
NIM_BOOL LOC2;
(*C_11603).Refcount = (NI32)((NU32)((*C_11603).Refcount) + (NU32)(8));
LOC2 = Canbecycleroot_10826(C_11603);
if (!LOC2) goto LA3;
Rtladdcycleroot_11452(C_11603);
LA3: ;
}
static N_INLINE(TY10402*, Usrtocell_10822)(void* Usr_10824) {
TY10402* Result_10825;
Result_10825 = 0;
Result_10825 = ((TY10402*) ((NI32)((NU32)(((NI) (Usr_10824))) - (NU32)(((NI) (((NI)sizeof(TY10402))))))));
return Result_10825;
}
static N_INLINE(void, Rtladdzct_11456)(TY10402* C_11458) {
Addzct_10811(&Gch_10808.Zct, C_11458);
}
static N_INLINE(void, Decref_11460)(TY10402* C_11462) {
NIM_BOOL LOC4;
(*C_11462).Refcount = (NI32)((NU32)((*C_11462).Refcount) - (NU32)(8));
if (!((NU32)((*C_11462).Refcount) < (NU32)(8))) goto LA2;
Rtladdzct_11456(C_11462);
goto LA1;
LA2: ;
LOC4 = Canbecycleroot_10826(C_11462);
if (!LOC4) goto LA5;
Rtladdcycleroot_11452(C_11462);
goto LA1;
LA5: ;
LA1: ;
}
static N_INLINE(void, asgnRef)(void** Dest_11612, void* Src_11613) {
TY10402* LOC4;
TY10402* LOC8;
if (!!((Src_11613 == NIM_NIL))) goto LA2;
LOC4 = Usrtocell_10822(Src_11613);
Incref_11601(LOC4);
LA2: ;
if (!!(((*Dest_11612) == NIM_NIL))) goto LA6;
LOC8 = Usrtocell_10822((*Dest_11612));
Decref_11460(LOC8);
LA6: ;
(*Dest_11612) = Src_11613;
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_11616, void* Src_11617) {
TY10402* C_11618;
TY10402* C_11619;
if (!!((Src_11617 == NIM_NIL))) goto LA2;
C_11618 = 0;
C_11618 = Usrtocell_10822(Src_11617);
(*C_11618).Refcount = (NI32)((NU32)((*C_11618).Refcount) + (NU32)(8));
LA2: ;
if (!!(((*Dest_11616) == NIM_NIL))) goto LA5;
C_11619 = 0;
C_11619 = Usrtocell_10822((*Dest_11616));
(*C_11619).Refcount = (NI32)((NU32)((*C_11619).Refcount) - (NU32)(8));
if (!((NU32)((*C_11619).Refcount) < (NU32)(8))) goto LA8;
Rtladdzct_11456(C_11619);
LA8: ;
LA5: ;
(*Dest_11616) = Src_11617;
}
N_NIMCALL(TY52011*, Consideracc_121003)(TY53523* N_121005) {
TY52011* Result_121006;
TY53523* X_121007;
NimStringDesc* LOC4;
Result_121006 = 0;
X_121007 = 0;
X_121007 = N_121005;
if (!((*X_121007).Kind == ((NU8) 43))) goto LA2;
X_121007 = (*X_121007).KindU.S6.Sons->data[0];
LA2: ;
switch ((*X_121007).Kind) {
case ((NU8) 2):
Result_121006 = (*X_121007).KindU.S5.Ident;
break;
case ((NU8) 3):
Result_121006 = (*(*X_121007).KindU.S4.Sym).Name;
break;
default:
LOC4 = Rendertree_81042(N_121005, 0);
Limessage_45562((*N_121005).Info, ((NU8) 19), LOC4);
Result_121006 = NIM_NIL;
break;
}
return Result_121006;
}
N_NIMCALL(NIM_BOOL, Istypeexpr_131933)(TY53523* N_131935) {
NIM_BOOL Result_131936;
Result_131936 = 0;
switch ((*N_131935).Kind) {
case ((NU8) 4):
case ((NU8) 110):
Result_131936 = NIM_TRUE;
break;
case ((NU8) 3):
Result_131936 = ((*(*N_131935).KindU.S4.Sym).Kind == ((NU8) 6));
break;
default:
Result_131936 = NIM_FALSE;
break;
}
return Result_131936;
}
N_NIMCALL(TY53545*, Lookupinrecordandbuildcheck_131958)(TY103012* C_131960, TY53523* N_131961, TY53523* R_131962, TY52011* Field_131963, TY53523** Check_131965) {
TY53545* Result_131966;
TY53523* S_131967;
TY53523* It_131968;
TY53523* Inexpr_131969;
TY53523* Notexpr_131970;
NI I_131978;
NI HEX3Atmp_142009;
NI LOC1;
NI Res_142011;
NI I_132053;
NI HEX3Atmp_142027;
NI LOC12;
NI Res_142029;
TY53523* LOC14;
NI J_132084;
NI HEX3Atmp_142015;
NI LOC18;
NI Res_142017;
TY53523* LOC20;
NI J_132115;
NI HEX3Atmp_142021;
NI LOC24;
NI Res_142023;
TY53523* LOC26;
TY52011* LOC27;
TY53523* LOC28;
TY53523* LOC29;
TY53523* LOC30;
TY53523* LOC31;
TY52011* LOC38;
TY53523* LOC39;
TY53523* LOC40;
TY52011* LOC41;
TY53523* LOC42;
TY53523* LOC43;
Result_131966 = 0;
S_131967 = 0;
It_131968 = 0;
Inexpr_131969 = 0;
Notexpr_131970 = 0;
Result_131966 = NIM_NIL;
switch ((*R_131962).Kind) {
case ((NU8) 113):
I_131978 = 0;
HEX3Atmp_142009 = 0;
LOC1 = Sonslen_53801(R_131962);
HEX3Atmp_142009 = (NI32)(LOC1 - 1);
Res_142011 = 0;
Res_142011 = 0;
while (1) {
if (!(Res_142011 <= HEX3Atmp_142009)) goto LA2;
I_131978 = Res_142011;
Result_131966 = Lookupinrecordandbuildcheck_131958(C_131960, N_131961, (*R_131962).KindU.S6.Sons->data[I_131978], Field_131963, Check_131965);
if (!!((Result_131966 == NIM_NIL))) goto LA4;
goto BeforeRet;
LA4: ;
Res_142011 += 1;
} LA2: ;
break;
case ((NU8) 114):
Checkminsonslen_103103(R_131962, 2);
if (!!(((*(*R_131962).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA7;
Illformedast_103092(R_131962);
LA7: ;
Result_131966 = Lookupinrecordandbuildcheck_131958(C_131960, N_131961, (*R_131962).KindU.S6.Sons->data[0], Field_131963, Check_131965);
if (!!((Result_131966 == NIM_NIL))) goto LA10;
goto BeforeRet;
LA10: ;
S_131967 = Newnodei_53735(((NU8) 31), (*R_131962).Info);
I_132053 = 0;
HEX3Atmp_142027 = 0;
LOC12 = Sonslen_53801(R_131962);
HEX3Atmp_142027 = (NI32)(LOC12 - 1);
Res_142029 = 0;
Res_142029 = 1;
while (1) {
if (!(Res_142029 <= HEX3Atmp_142027)) goto LA13;
I_132053 = Res_142029;
It_131968 = (*R_131962).KindU.S6.Sons->data[I_132053];
switch ((*It_131968).Kind) {
case ((NU8) 75):
LOC14 = Lastson_53807(It_131968);
Result_131966 = Lookupinrecordandbuildcheck_131958(C_131960, N_131961, LOC14, Field_131963, Check_131965);
if (!(Result_131966 == NIM_NIL)) goto LA16;
J_132084 = 0;
HEX3Atmp_142015 = 0;
LOC18 = Sonslen_53801(It_131968);
HEX3Atmp_142015 = (NI32)(LOC18 - 2);
Res_142017 = 0;
Res_142017 = 0;
while (1) {
if (!(Res_142017 <= HEX3Atmp_142015)) goto LA19;
J_132084 = Res_142017;
LOC20 = Copytree_53856((*It_131968).KindU.S6.Sons->data[J_132084]);
Addson_53821(S_131967, LOC20);
Res_142017 += 1;
} LA19: ;
goto LA15;
LA16: ;
if (!((*Check_131965) == NIM_NIL)) goto LA22;
unsureAsgnRef((void**) &(*Check_131965), Newnodei_53735(((NU8) 37), (*N_131961).Info));
Addson_53821((*Check_131965), NIM_NIL);
LA22: ;
S_131967 = Newnodei_53735(((NU8) 31), (*N_131961).Info);
J_132115 = 0;
HEX3Atmp_142021 = 0;
LOC24 = Sonslen_53801(It_131968);
HEX3Atmp_142021 = (NI32)(LOC24 - 2);
Res_142023 = 0;
Res_142023 = 0;
while (1) {
if (!(Res_142023 <= HEX3Atmp_142021)) goto LA25;
J_132115 = Res_142023;
LOC26 = Copytree_53856((*It_131968).KindU.S6.Sons->data[J_132115]);
Addson_53821(S_131967, LOC26);
Res_142023 += 1;
} LA25: ;
Inexpr_131969 = Newnodei_53735(((NU8) 21), (*N_131961).Info);
LOC27 = Getident_52016(((NimStringDesc*) &TMP194059));
LOC28 = Newidentnode_53728(LOC27, (*N_131961).Info);
Addson_53821(Inexpr_131969, LOC28);
LOC29 = Copytree_53856((*R_131962).KindU.S6.Sons->data[0]);
Addson_53821(Inexpr_131969, LOC29);
Addson_53821(Inexpr_131969, S_131967);
LOC30 = Semexpr_121115(C_131960, Inexpr_131969, 0);
Addson_53821((*Check_131965), LOC30);
goto BeforeRet;
LA15: ;
break;
case ((NU8) 78):
LOC31 = Lastson_53807(It_131968);
Result_131966 = Lookupinrecordandbuildcheck_131958(C_131960, N_131961, LOC31, Field_131963, Check_131965);
if (!!((Result_131966 == NIM_NIL))) goto LA33;
if (!((*Check_131965) == NIM_NIL)) goto LA36;
unsureAsgnRef((void**) &(*Check_131965), Newnodei_53735(((NU8) 37), (*N_131961).Info));
Addson_53821((*Check_131965), NIM_NIL);
LA36: ;
Inexpr_131969 = Newnodei_53735(((NU8) 21), (*N_131961).Info);
LOC38 = Getident_52016(((NimStringDesc*) &TMP194059));
LOC39 = Newidentnode_53728(LOC38, (*N_131961).Info);
Addson_53821(Inexpr_131969, LOC39);
LOC40 = Copytree_53856((*R_131962).KindU.S6.Sons->data[0]);
Addson_53821(Inexpr_131969, LOC40);
Addson_53821(Inexpr_131969, S_131967);
Notexpr_131970 = Newnodei_53735(((NU8) 21), (*N_131961).Info);
LOC41 = Getident_52016(((NimStringDesc*) &TMP194060));
LOC42 = Newidentnode_53728(LOC41, (*N_131961).Info);
Addson_53821(Notexpr_131970, LOC42);
Addson_53821(Notexpr_131970, Inexpr_131969);
LOC43 = Semexpr_121115(C_131960, Notexpr_131970, 0);
Addson_53821((*Check_131965), LOC43);
goto BeforeRet;
LA33: ;
break;
default:
Illformedast_103092(It_131968);
break;
}
Res_142029 += 1;
} LA13: ;
break;
case ((NU8) 3):
if (!((*(*(*R_131962).KindU.S4.Sym).Name).Sup.Id == (*Field_131963).Sup.Id)) goto LA45;
Result_131966 = (*R_131962).KindU.S4.Sym;
LA45: ;
break;
default:
Illformedast_103092(N_131961);
break;
}
BeforeRet: ;
return Result_131966;
}
N_NIMCALL(TY53523*, Makederef_132200)(TY53523* N_132202) {
TY53523* Result_132203;
TY53549* T_132205;
TY53523* A_132228;
Result_132203 = 0;
T_132205 = 0;
T_132205 = Skiptypes_93085((*N_132202).Typ, IL64(2251799813685248));
Result_132203 = N_132202;
if (!((*T_132205).Kind == ((NU8) 23))) goto LA2;
Result_132203 = Newnodeit_53739(((NU8) 54), (*N_132202).Info, (*T_132205).Sons->data[0]);
Addson_53821(Result_132203, N_132202);
T_132205 = Skiptypes_93085((*T_132205).Sons->data[0], IL64(2251799813685248));
LA2: ;
if (!((*T_132205).Kind == ((NU8) 21) || (*T_132205).Kind == ((NU8) 22))) goto LA5;
A_132228 = 0;
A_132228 = Result_132203;
Result_132203 = Newnodeit_53739(((NU8) 38), (*N_132202).Info, (*T_132205).Sons->data[0]);
Addson_53821(Result_132203, A_132228);
LA5: ;
return Result_132203;
}
N_NIMCALL(TY53523*, Builtinfieldaccess_132229)(TY103012* C_132231, TY53523* N_132232, NU8 Flags_132233) {
TY53523* Result_132234;
TY53545* S_132235;
TY52011* I_132294;
TY53549* Ty_132307;
TY53545* F_132308;
NIM_BOOL LOC14;
TY53523* Check_132399;
NIM_BOOL LOC32;
TY53545* LOC34;
Result_132234 = 0;
S_132235 = 0;
S_132235 = Qualifiedlookup_104053(C_132231, N_132232, NIM_TRUE);
if (!!((S_132235 == NIM_NIL))) goto LA2;
Result_132234 = Semsym_129077(C_132231, N_132232, S_132235, Flags_132233);
goto BeforeRet;
LA2: ;
Checksonslen_103099(N_132232, 2);
asgnRefNoCycle((void**) &(*N_132232).KindU.S6.Sons->data[0], Semexprwithtype_121122(C_132231, (*N_132232).KindU.S6.Sons->data[0], (1 | Flags_132233)));
I_132294 = 0;
I_132294 = Consideracc_121003((*N_132232).KindU.S6.Sons->data[1]);
Ty_132307 = 0;
Ty_132307 = (*(*N_132232).KindU.S6.Sons->data[0]).Typ;
F_132308 = 0;
F_132308 = NIM_NIL;
Result_132234 = NIM_NIL;
if (!((*Ty_132307).Kind == ((NU8) 14))) goto LA5;
while (1) {
if (!!((Ty_132307 == NIM_NIL))) goto LA7;
F_132308 = Getsymfromlist_57197((*Ty_132307).N, I_132294, 0);
if (!!((F_132308 == NIM_NIL))) goto LA9;
goto LA7;
LA9: ;
Ty_132307 = (*Ty_132307).Sons->data[0];
} LA7: ;
if (!!((F_132308 == NIM_NIL))) goto LA12;
Result_132234 = Newsymnode_53732(F_132308);
(*Result_132234).Info = (*N_132232).Info;
asgnRef((void**) &(*Result_132234).Typ, Ty_132307);
Markused_121065(N_132232, F_132308);
goto LA11;
LA12: ;
Limessage_45562((*(*N_132232).KindU.S6.Sons->data[1]).Info, ((NU8) 166), (*I_132294).S);
LA11: ;
goto BeforeRet;
goto LA4;
LA5: ;
LOC14 = !(((Flags_132233 &(1<<((((NU8) 0))&7)))!=0));
if (!(LOC14)) goto LA15;
LOC14 = Istypeexpr_131933((*N_132232).KindU.S6.Sons->data[0]);
LA15: ;
if (!LOC14) goto LA16;
Limessage_45562((*(*N_132232).KindU.S6.Sons->data[0]).Info, ((NU8) 161), ((NimStringDesc*) &TMP193928));
goto BeforeRet;
goto LA4;
LA16: ;
LA4: ;
Ty_132307 = Skiptypes_93085(Ty_132307, IL64(2498090418307072));
Check_132399 = 0;
Check_132399 = NIM_NIL;
if (!((*Ty_132307).Kind == ((NU8) 17))) goto LA19;
while (1) {
Check_132399 = NIM_NIL;
F_132308 = Lookupinrecordandbuildcheck_131958(C_132231, N_132232, (*Ty_132307).N, I_132294, &Check_132399);
if (!!((F_132308 == NIM_NIL))) goto LA23;
goto LA21;
LA23: ;
if (!((*Ty_132307).Sons->data[0] == NIM_NIL)) goto LA26;
goto LA21;
LA26: ;
Ty_132307 = Skiptypes_93085((*Ty_132307).Sons->data[0], IL64(2251799813685248));
} LA21: ;
if (!!((F_132308 == NIM_NIL))) goto LA29;
LOC32 = !(((100663296 & (*F_132308).Flags) == 0));
if (LOC32) goto LA33;
LOC34 = Getmodule_57206(F_132308);
LOC32 = ((*LOC34).Sup.Id == (*(*C_132231).Module).Sup.Id);
LA33: ;
if (!LOC32) goto LA35;
asgnRefNoCycle((void**) &(*N_132232).KindU.S6.Sons->data[0], Makederef_132200((*N_132232).KindU.S6.Sons->data[0]));
asgnRefNoCycle((void**) &(*N_132232).KindU.S6.Sons->data[1], Newsymnode_53732(F_132308));
asgnRef((void**) &(*N_132232).Typ, (*F_132308).Typ);
Markused_121065(N_132232, F_132308);
if (!(Check_132399 == NIM_NIL)) goto LA38;
Result_132234 = N_132232;
goto LA37;
LA38: ;
asgnRefNoCycle((void**) &(*Check_132399).KindU.S6.Sons->data[0], N_132232);
asgnRef((void**) &(*Check_132399).Typ, (*N_132232).Typ);
Result_132234 = Check_132399;
LA37: ;
LA35: ;
LA29: ;
goto LA18;
LA19: ;
if (!((*Ty_132307).Kind == ((NU8) 18))) goto LA40;
F_132308 = Getsymfromlist_57197((*Ty_132307).N, I_132294, 0);
if (!!((F_132308 == NIM_NIL))) goto LA43;
asgnRefNoCycle((void**) &(*N_132232).KindU.S6.Sons->data[0], Makederef_132200((*N_132232).KindU.S6.Sons->data[0]));
asgnRefNoCycle((void**) &(*N_132232).KindU.S6.Sons->data[1], Newsymnode_53732(F_132308));
asgnRef((void**) &(*N_132232).Typ, (*F_132308).Typ);
Result_132234 = N_132232;
Markused_121065(N_132232, F_132308);
LA43: ;
goto LA18;
LA40: ;
LA18: ;
BeforeRet: ;
return Result_132234;
}
static N_INLINE(TY53523*, HEX5BHEX5D_55072)(TY53523* N_55074, NI I_55075) {
TY53523* Result_55076;
Result_55076 = 0;
Result_55076 = (*N_55074).KindU.S6.Sons->data[I_55075];
return Result_55076;
}
static N_INLINE(void, appendString)(NimStringDesc* Dest_17192, NimStringDesc* Src_17193) {
memcpy(((NCSTRING) (&(*Dest_17192).data[((*Dest_17192).Sup.len)-0])), ((NCSTRING) ((*Src_17193).data)), ((int) ((NI32)((NI32)((*Src_17193).Sup.len + 1) * 1))));
(*Dest_17192).Sup.len += (*Src_17193).Sup.len;
}
static N_INLINE(void, appendChar)(NimStringDesc* Dest_17209, NIM_CHAR C_17210) {
(*Dest_17209).data[((*Dest_17209).Sup.len)-0] = C_17210;
(*Dest_17209).data[((NI32)((*Dest_17209).Sup.len + 1))-0] = 0;
(*Dest_17209).Sup.len += 1;
}
static N_INLINE(void, Initcandidateaux_123081)(TY123058* C_123084, TY53549* Callee_123085) {
(*C_123084).Exactmatches = 0;
(*C_123084).Subtypematches = 0;
(*C_123084).Convmatches = 0;
(*C_123084).Intconvmatches = 0;
(*C_123084).Genericmatches = 0;
(*C_123084).State = ((NU8) 0);
unsureAsgnRef((void**) &(*C_123084).Callee, Callee_123085);
unsureAsgnRef((void**) &(*C_123084).Call, NIM_NIL);
(*C_123084).Basetypematch = NIM_FALSE;
}
N_NIMCALL(void, Initcandidate_123092)(TY123058* C_123095, TY53545* Callee_123096, TY53523* Binding_123097) {
TY53523* Typeparams_123110;
NI I_123120;
NI HEX3Atmp_125847;
NI LOC4;
NI LOC5;
NI Res_125849;
TY53549* Formaltypeparam_123133;
TY53523* LOC7;
Initcandidateaux_123081(C_123095, (*Callee_123096).Typ);
unsureAsgnRef((void**) &(*C_123095).Calleesym, Callee_123096);
Initidtable_53752(&(*C_123095).Bindings);
if (!!((Binding_123097 == NIM_NIL))) goto LA2;
Typeparams_123110 = 0;
Typeparams_123110 = HEX5BHEX5D_55072((*Callee_123096).Ast, 1);
I_123120 = 0;
HEX3Atmp_125847 = 0;
LOC4 = Sonslen_53801(Typeparams_123110);
LOC5 = Sonslen_53801(Binding_123097);
HEX3Atmp_125847 = ((LOC4 <= (NI32)(LOC5 - 1)) ? LOC4 : (NI32)(LOC5 - 1));
Res_125849 = 0;
Res_125849 = 1;
while (1) {
if (!(Res_125849 <= HEX3Atmp_125847)) goto LA6;
I_123120 = Res_125849;
Formaltypeparam_123133 = 0;
Formaltypeparam_123133 = (*(*Typeparams_123110).KindU.S6.Sons->data[(NI32)(I_123120 - 1)]).Typ;
LOC7 = HEX5BHEX5D_55072(Binding_123097, I_123120);
Idtableput_57174(&(*C_123095).Bindings, &Formaltypeparam_123133->Sup, &(*LOC7).Typ->Sup.Sup);
Res_125849 += 1;
} LA6: ;
LA2: ;
}
N_NIMCALL(NU8, Handlerange_123381)(TY53549* F_123383, TY53549* A_123384, NU8 Min_123385, NU8 Max_123386) {
NU8 Result_123387;
NU8 K_123398;
TY53549* LOC4;
NIM_BOOL LOC8;
NIM_BOOL LOC12;
Result_123387 = 0;
if (!((*A_123384).Kind == (*F_123383).Kind)) goto LA2;
Result_123387 = ((NU8) 5);
goto LA1;
LA2: ;
K_123398 = 0;
LOC4 = Skiptypes_93085(A_123384, IL64(17592186044416));
K_123398 = (*LOC4).Kind;
if (!(K_123398 == (*F_123383).Kind)) goto LA6;
Result_123387 = ((NU8) 3);
goto LA5;
LA6: ;
LOC8 = ((*F_123383).Kind == ((NU8) 31));
if (!(LOC8)) goto LA9;
LOC8 = (K_123398 >= ((NU8) 31) && K_123398 <= ((NU8) 34));
LA9: ;
if (!LOC8) goto LA10;
Result_123387 = ((NU8) 2);
goto LA5;
LA10: ;
LOC12 = (Min_123385 <= K_123398);
if (!(LOC12)) goto LA13;
LOC12 = (K_123398 <= Max_123386);
LA13: ;
if (!LOC12) goto LA14;
Result_123387 = ((NU8) 1);
goto LA5;
LA14: ;
Result_123387 = ((NU8) 0);
LA5: ;
LA1: ;
return Result_123387;
}
N_NIMCALL(NU8, Handlefloatrange_123447)(TY53549* F_123449, TY53549* A_123450) {
NU8 Result_123451;
NU8 K_123462;
TY53549* LOC4;
NIM_BOOL LOC8;
Result_123451 = 0;
if (!((*A_123450).Kind == (*F_123449).Kind)) goto LA2;
Result_123451 = ((NU8) 5);
goto LA1;
LA2: ;
K_123462 = 0;
LOC4 = Skiptypes_93085(A_123450, IL64(17592186044416));
K_123462 = (*LOC4).Kind;
if (!(K_123462 == (*F_123449).Kind)) goto LA6;
Result_123451 = ((NU8) 3);
goto LA5;
LA6: ;
LOC8 = (((NU8) 36) <= K_123462);
if (!(LOC8)) goto LA9;
LOC8 = (K_123462 <= ((NU8) 39));
LA9: ;
if (!LOC8) goto LA10;
Result_123451 = ((NU8) 1);
goto LA5;
LA10: ;
Result_123451 = ((NU8) 0);
LA5: ;
LA1: ;
return Result_123451;
}
N_NIMCALL(NU8, Minrel_123520)(NU8 A_123522, NU8 B_123523) {
NU8 Result_123524;
Result_123524 = 0;
if (!(A_123522 <= B_123523)) goto LA2;
Result_123524 = A_123522;
goto LA1;
LA2: ;
Result_123524 = B_123523;
LA1: ;
return Result_123524;
}
N_NIMCALL(NU8, Tuplerel_123534)(TY53561* Mapping_123537, TY53549* F_123538, TY53549* A_123539) {
NU8 Result_123540;
NI LOC2;
NI LOC3;
NI I_123550;
NI HEX3Atmp_125862;
NI LOC6;
NI Res_125864;
NU8 M_123551;
NIM_BOOL LOC12;
NI I_123590;
NI HEX3Atmp_125868;
NI LOC16;
NI Res_125870;
TY53545* X_123657;
TY53545* Y_123682;
Result_123540 = 0;
Result_123540 = ((NU8) 0);
LOC2 = Sonslen_53804(A_123539);
LOC3 = Sonslen_53804(F_123538);
if (!(LOC2 == LOC3)) goto LA4;
Result_123540 = ((NU8) 5);
I_123550 = 0;
HEX3Atmp_125862 = 0;
LOC6 = Sonslen_53804(F_123538);
HEX3Atmp_125862 = (NI32)(LOC6 - 1);
Res_125864 = 0;
Res_125864 = 0;
while (1) {
if (!(Res_125864 <= HEX3Atmp_125862)) goto LA7;
I_123550 = Res_125864;
M_123551 = 0;
M_123551 = Typerel_123350(Mapping_123537, (*F_123538).Sons->data[I_123550], (*A_123539).Sons->data[I_123550]);
if (!(M_123551 < ((NU8) 3))) goto LA9;
Result_123540 = ((NU8) 0);
goto BeforeRet;
LA9: ;
Result_123540 = Minrel_123520(Result_123540, M_123551);
Res_125864 += 1;
} LA7: ;
LOC12 = !(((*F_123538).N == NIM_NIL));
if (!(LOC12)) goto LA13;
LOC12 = !(((*A_123539).N == NIM_NIL));
LA13: ;
if (!LOC12) goto LA14;
I_123590 = 0;
HEX3Atmp_125868 = 0;
LOC16 = Sonslen_53801((*F_123538).N);
HEX3Atmp_125868 = (NI32)(LOC16 - 1);
Res_125870 = 0;
Res_125870 = 0;
while (1) {
if (!(Res_125870 <= HEX3Atmp_125868)) goto LA17;
I_123590 = Res_125870;
if (!!(((*(*(*F_123538).N).KindU.S6.Sons->data[I_123590]).Kind == ((NU8) 3)))) goto LA19;
Internalerror_45567((*(*F_123538).N).Info, ((NimStringDesc*) &TMP194062));
LA19: ;
if (!!(((*(*(*A_123539).N).KindU.S6.Sons->data[I_123590]).Kind == ((NU8) 3)))) goto LA22;
Internalerror_45567((*(*A_123539).N).Info, ((NimStringDesc*) &TMP194062));
LA22: ;
X_123657 = 0;
X_123657 = (*(*(*F_123538).N).KindU.S6.Sons->data[I_123590]).KindU.S4.Sym;
Y_123682 = 0;
Y_123682 = (*(*(*A_123539).N).KindU.S6.Sons->data[I_123590]).KindU.S4.Sym;
if (!!(((*(*X_123657).Name).Sup.Id == (*(*Y_123682).Name).Sup.Id))) goto LA25;
Result_123540 = ((NU8) 0);
goto BeforeRet;
LA25: ;
Res_125870 += 1;
} LA17: ;
LA14: ;
LA4: ;
BeforeRet: ;
return Result_123540;
}
N_NIMCALL(NIM_BOOL, Isobjectsubtype_123490)(TY53549* A_123492, TY53549* F_123493) {
NIM_BOOL Result_123494;
TY53549* T_123495;
NIM_BOOL LOC2;
Result_123494 = 0;
T_123495 = 0;
T_123495 = A_123492;
while (1) {
LOC2 = !((T_123495 == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC2 = !(((*T_123495).Sup.Id == (*F_123493).Sup.Id));
LA3: ;
if (!LOC2) goto LA1;
T_123495 = Base_93021(T_123495);
} LA1: ;
Result_123494 = !((T_123495 == NIM_NIL));
return Result_123494;
}
N_NIMCALL(TY53549*, Concretetype_123356)(TY53561 Mapping_123358, TY53549* T_123359) {
TY53549* Result_123360;
TNimObject* LOC2;
Result_123360 = 0;
switch ((*T_123359).Kind) {
case ((NU8) 4):
Result_123360 = Newtype_53704(((NU8) 16), (*T_123359).Owner);
Addson_53825(Result_123360, (*T_123359).Sons->data[0]);
Addson_53825(Result_123360, (*T_123359).Sons->data[1]);
break;
case ((NU8) 5):
Result_123360 = NIM_NIL;
break;
case ((NU8) 12):
Result_123360 = T_123359;
while (1) {
LOC2 = Idtableget_57166(Mapping_123358, &T_123359->Sup);
Result_123360 = ((TY53549*) (LOC2));
if (!(Result_123360 == NIM_NIL)) goto LA4;
Internalerror_45571(((NimStringDesc*) &TMP194065));
LA4: ;
if (!!(((*Result_123360).Kind == ((NU8) 12)))) goto LA7;
goto LA1;
LA7: ;
} LA1: ;
break;
default:
Result_123360 = T_123359;
break;
}
return Result_123360;
}
N_NIMCALL(NU8, Typerel_123350)(TY53561* Mapping_123353, TY53549* F_123354, TY53549* A_123355) {
NU8 Result_123691;
TY53549* X_123692;
TY53549* Concrete_123693;
NU8 M_123694;
NIM_BOOL LOC2;
TY53549* LOC4;
TY53549* LOC7;
NIM_BOOL LOC9;
NIM_BOOL LOC14;
TY53549* LOC18;
TY53549* LOC24;
TY53549* LOC30;
TY53549* LOC31;
TY53549* LOC35;
TY53549* LOC41;
TY53549* LOC42;
TY53549* LOC43;
NU8 LOC44;
NU8 LOC45;
NIM_BOOL LOC53;
NI64 LOC55;
NI64 LOC56;
NU8 LOC61;
TY53549* LOC62;
TY53549* LOC63;
NIM_BOOL LOC68;
TY53549* LOC72;
NU8 LOC73;
NIM_BOOL LOC77;
TY53549* LOC81;
NU8 LOC82;
NIM_BOOL LOC86;
TY53549* LOC90;
NU8 LOC91;
NIM_BOOL LOC95;
NIM_BOOL LOC103;
NIM_BOOL LOC124;
NIM_BOOL LOC128;
NIM_BOOL LOC136;
TY53549* LOC143;
TY53549* LOC144;
TY53549* LOC148;
TY53549* LOC149;
NIM_BOOL LOC154;
NI LOC155;
NI LOC156;
NI I_124114;
NI HEX3Atmp_125874;
NI LOC160;
NI Res_125876;
NIM_BOOL LOC163;
NU8 LOC165;
NIM_BOOL LOC184;
NIM_BOOL LOC192;
NIM_BOOL LOC193;
NI64 LOC194;
TY53549* LOC196;
TY53549* LOC203;
TY53549* LOC204;
NIM_BOOL LOC212;
NI LOC214;
NI LOC215;
NI I_124304;
NI HEX3Atmp_125880;
NI LOC218;
NI Res_125882;
NU8 LOC224;
NI I_124339;
NI HEX3Atmp_125886;
NI LOC230;
NI Res_125888;
TNimObject* LOC232;
NIM_BOOL LOC234;
TNimObject* LOC238;
NI LOC243;
NimStringDesc* LOC249;
NI I_124399;
NI HEX3Atmp_125892;
NI LOC250;
NI Res_125894;
NU8 LOC253;
NimStringDesc* LOC266;
Result_123691 = 0;
X_123692 = 0;
Concrete_123693 = 0;
M_123694 = 0;
Result_123691 = ((NU8) 0);
LOC2 = ((*A_123355).Kind == ((NU8) 11));
if (!(LOC2)) goto LA3;
LOC4 = Skiptypes_93085(F_123354, IL64(140737488355328));
LOC2 = !(((*LOC4).Kind == ((NU8) 10) || (*LOC4).Kind == ((NU8) 9)));
LA3: ;
if (!LOC2) goto LA5;
LOC7 = Lastson_53810(A_123355);
Result_123691 = Typerel_123350(Mapping_123353, F_123354, LOC7);
goto BeforeRet;
LA5: ;
LOC9 = ((*A_123355).Kind == ((NU8) 23));
if (!(LOC9)) goto LA10;
LOC9 = !(((*F_123354).Kind == ((NU8) 23)));
LA10: ;
if (!LOC9) goto LA11;
Result_123691 = Typerel_123350(Mapping_123353, F_123354, (*A_123355).Sons->data[0]);
goto BeforeRet;
LA11: ;
switch ((*F_123354).Kind) {
case ((NU8) 14):
LOC14 = ((*A_123355).Kind == (*F_123354).Kind);
if (!(LOC14)) goto LA15;
LOC14 = ((*A_123355).Sup.Id == (*F_123354).Sup.Id);
LA15: ;
if (!LOC14) goto LA16;
Result_123691 = ((NU8) 5);
goto LA13;
LA16: ;
LOC18 = Skiptypes_93085(A_123355, IL64(17592186044416));
if (!((*LOC18).Sup.Id == (*F_123354).Sup.Id)) goto LA19;
Result_123691 = ((NU8) 3);
goto LA13;
LA19: ;
LA13: ;
break;
case ((NU8) 1):
case ((NU8) 2):
if (!((*A_123355).Kind == (*F_123354).Kind)) goto LA22;
Result_123691 = ((NU8) 5);
goto LA21;
LA22: ;
LOC24 = Skiptypes_93085(A_123355, IL64(17592186044416));
if (!((*LOC24).Kind == (*F_123354).Kind)) goto LA25;
Result_123691 = ((NU8) 3);
goto LA21;
LA25: ;
LA21: ;
break;
case ((NU8) 20):
if (!((*A_123355).Kind == (*F_123354).Kind)) goto LA28;
LOC30 = Base_93021(A_123355);
LOC31 = Base_93021(F_123354);
Result_123691 = Typerel_123350(Mapping_123353, LOC30, LOC31);
if (!(Result_123691 < ((NU8) 4))) goto LA33;
Result_123691 = ((NU8) 0);
LA33: ;
goto LA27;
LA28: ;
LOC35 = Skiptypes_93085(F_123354, IL64(17592186044416));
if (!((*LOC35).Kind == (*A_123355).Kind)) goto LA36;
Result_123691 = ((NU8) 1);
goto LA27;
LA36: ;
LA27: ;
break;
case ((NU8) 31):
Result_123691 = Handlerange_123381(F_123354, A_123355, ((NU8) 32), ((NU8) 34));
break;
case ((NU8) 32):
Result_123691 = Handlerange_123381(F_123354, A_123355, ((NU8) 32), ((NU8) 32));
break;
case ((NU8) 33):
Result_123691 = Handlerange_123381(F_123354, A_123355, ((NU8) 32), ((NU8) 33));
break;
case ((NU8) 34):
Result_123691 = Handlerange_123381(F_123354, A_123355, ((NU8) 31), ((NU8) 34));
break;
case ((NU8) 35):
Result_123691 = Handlerange_123381(F_123354, A_123355, ((NU8) 31), ((NU8) 35));
break;
case ((NU8) 36):
Result_123691 = Handlefloatrange_123447(F_123354, A_123355);
break;
case ((NU8) 37):
Result_123691 = Handlefloatrange_123447(F_123354, A_123355);
break;
case ((NU8) 38):
Result_123691 = Handlefloatrange_123447(F_123354, A_123355);
break;
case ((NU8) 39):
Result_123691 = Handlefloatrange_123447(F_123354, A_123355);
break;
case ((NU8) 23):
if (!((*A_123355).Kind == (*F_123354).Kind)) goto LA39;
LOC41 = Base_93021(F_123354);
LOC42 = Base_93021(A_123355);
Result_123691 = Typerel_123350(Mapping_123353, LOC41, LOC42);
goto LA38;
LA39: ;
LOC43 = Base_93021(F_123354);
Result_123691 = Typerel_123350(Mapping_123353, LOC43, A_123355);
LA38: ;
break;
case ((NU8) 16):
case ((NU8) 4):
switch ((*A_123355).Kind) {
case ((NU8) 16):
LOC44 = Typerel_123350(Mapping_123353, (*F_123354).Sons->data[0], (*A_123355).Sons->data[0]);
LOC45 = Typerel_123350(Mapping_123353, (*F_123354).Sons->data[1], (*A_123355).Sons->data[1]);
Result_123691 = Minrel_123520(LOC44, LOC45);
if (!(Result_123691 < ((NU8) 4))) goto LA47;
Result_123691 = ((NU8) 0);
LA47: ;
break;
case ((NU8) 4):
Result_123691 = Typerel_123350(Mapping_123353, (*F_123354).Sons->data[1], (*A_123355).Sons->data[1]);
if (!(Result_123691 < ((NU8) 4))) goto LA50;
Result_123691 = ((NU8) 0);
goto LA49;
LA50: ;
LOC53 = !((Result_123691 == ((NU8) 4)));
if (!(LOC53)) goto LA54;
LOC55 = Lengthord_93007(F_123354);
LOC56 = Lengthord_93007(A_123355);
LOC53 = !((LOC55 == LOC56));
LA54: ;
if (!LOC53) goto LA57;
Result_123691 = ((NU8) 0);
goto LA52;
LA57: ;
if (!((*(*F_123354).Sons->data[0]).Kind == ((NU8) 9) || (*(*F_123354).Sons->data[0]).Kind == ((NU8) 10) || (*(*F_123354).Sons->data[0]).Kind == ((NU8) 12))) goto LA59;
LOC61 = Typerel_123350(Mapping_123353, (*F_123354).Sons->data[0], (*A_123355).Sons->data[0]);
Result_123691 = Minrel_123520(Result_123691, LOC61);
goto LA52;
LA59: ;
LA52: ;
LA49: ;
break;
default:
break;
}
break;
case ((NU8) 27):
switch ((*A_123355).Kind) {
case ((NU8) 27):
LOC62 = Base_93021(F_123354);
LOC63 = Base_93021(A_123355);
Result_123691 = Typerel_123350(Mapping_123353, LOC62, LOC63);
if (!(Result_123691 < ((NU8) 4))) goto LA65;
Result_123691 = ((NU8) 0);
LA65: ;
break;
case ((NU8) 4):
LOC68 = !(((*(*F_123354).Sons->data[0]).Kind == ((NU8) 12)));
if (!(LOC68)) goto LA69;
LOC68 = ((*(*A_123355).Sons->data[1]).Kind == ((NU8) 3));
LA69: ;
if (!LOC68) goto LA70;
Result_123691 = ((NU8) 3);
goto LA67;
LA70: ;
LOC72 = Base_93021(F_123354);
LOC73 = Typerel_123350(Mapping_123353, LOC72, (*A_123355).Sons->data[1]);
if (!(((NU8) 4) <= LOC73)) goto LA74;
Result_123691 = ((NU8) 3);
goto LA67;
LA74: ;
LA67: ;
break;
case ((NU8) 16):
LOC77 = !(((*(*F_123354).Sons->data[0]).Kind == ((NU8) 12)));
if (!(LOC77)) goto LA78;
LOC77 = ((*(*A_123355).Sons->data[1]).Kind == ((NU8) 3));
LA78: ;
if (!LOC77) goto LA79;
Result_123691 = ((NU8) 3);
goto LA76;
LA79: ;
LOC81 = Base_93021(F_123354);
LOC82 = Typerel_123350(Mapping_123353, LOC81, (*A_123355).Sons->data[1]);
if (!(((NU8) 4) <= LOC82)) goto LA83;
Result_123691 = ((NU8) 1);
goto LA76;
LA83: ;
LA76: ;
break;
case ((NU8) 24):
LOC86 = !(((*(*F_123354).Sons->data[0]).Kind == ((NU8) 12)));
if (!(LOC86)) goto LA87;
LOC86 = ((*(*A_123355).Sons->data[0]).Kind == ((NU8) 3));
LA87: ;
if (!LOC86) goto LA88;
Result_123691 = ((NU8) 1);
goto LA85;
LA88: ;
LOC90 = Base_93021(F_123354);
LOC91 = Typerel_123350(Mapping_123353, LOC90, (*A_123355).Sons->data[0]);
if (!(((NU8) 4) <= LOC91)) goto LA92;
Result_123691 = ((NU8) 1);
goto LA85;
LA92: ;
LA85: ;
break;
default:
break;
}
break;
case ((NU8) 24):
switch ((*A_123355).Kind) {
case ((NU8) 5):
Result_123691 = ((NU8) 3);
break;
case ((NU8) 24):
LOC95 = !(((*(*F_123354).Sons->data[0]).Kind == ((NU8) 12)));
if (!(LOC95)) goto LA96;
LOC95 = ((*(*A_123355).Sons->data[0]).Kind == ((NU8) 3));
LA96: ;
if (!LOC95) goto LA97;
Result_123691 = ((NU8) 3);
goto LA94;
LA97: ;
Result_123691 = Typerel_123350(Mapping_123353, (*F_123354).Sons->data[0], (*A_123355).Sons->data[0]);
if (!(Result_123691 < ((NU8) 4))) goto LA100;
Result_123691 = ((NU8) 0);
LA100: ;
LA94: ;
break;
default:
break;
}
break;
case ((NU8) 15):
LOC103 = Isordinaltype_93069(A_123355);
if (!LOC103) goto LA104;
if (!((*A_123355).Kind == ((NU8) 15))) goto LA107;
X_123692 = (*A_123355).Sons->data[0];
goto LA106;
LA107: ;
X_123692 = A_123355;
LA106: ;
Result_123691 = Typerel_123350(Mapping_123353, (*F_123354).Sons->data[0], X_123692);
if (!(Result_123691 < ((NU8) 4))) goto LA110;
Result_123691 = ((NU8) 0);
LA110: ;
LA104: ;
break;
case ((NU8) 30):
Internalerror_45571(((NimStringDesc*) &TMP194061));
break;
case ((NU8) 5):
if (!((*A_123355).Kind == (*F_123354).Kind)) goto LA113;
Result_123691 = ((NU8) 5);
LA113: ;
break;
case ((NU8) 18):
if (!((*A_123355).Kind == ((NU8) 18))) goto LA116;
Result_123691 = Tuplerel_123534(Mapping_123353, F_123354, A_123355);
LA116: ;
break;
case ((NU8) 17):
if (!((*A_123355).Kind == ((NU8) 17))) goto LA119;
if (!((*A_123355).Sup.Id == (*F_123354).Sup.Id)) goto LA122;
Result_123691 = ((NU8) 5);
goto LA121;
LA122: ;
LOC124 = Isobjectsubtype_123490(A_123355, F_123354);
if (!LOC124) goto LA125;
Result_123691 = ((NU8) 3);
goto LA121;
LA125: ;
LA121: ;
LA119: ;
break;
case ((NU8) 13):
LOC128 = ((*A_123355).Kind == ((NU8) 13));
if (!(LOC128)) goto LA129;
LOC128 = ((*A_123355).Sup.Id == (*F_123354).Sup.Id);
LA129: ;
if (!LOC128) goto LA130;
Result_123691 = ((NU8) 5);
LA130: ;
break;
case ((NU8) 19):
if (!((*A_123355).Kind == ((NU8) 19))) goto LA133;
LOC136 = !(((*(*F_123354).Sons->data[0]).Kind == ((NU8) 12)));
if (!(LOC136)) goto LA137;
LOC136 = ((*(*A_123355).Sons->data[0]).Kind == ((NU8) 3));
LA137: ;
if (!LOC136) goto LA138;
Result_123691 = ((NU8) 3);
goto LA135;
LA138: ;
Result_123691 = Typerel_123350(Mapping_123353, (*F_123354).Sons->data[0], (*A_123355).Sons->data[0]);
if (!(Result_123691 <= ((NU8) 1))) goto LA141;
Result_123691 = ((NU8) 0);
LA141: ;
LA135: ;
LA133: ;
break;
case ((NU8) 21):
switch ((*A_123355).Kind) {
case ((NU8) 21):
LOC143 = Base_93021(F_123354);
LOC144 = Base_93021(A_123355);
Result_123691 = Typerel_123350(Mapping_123353, LOC143, LOC144);
if (!(Result_123691 <= ((NU8) 1))) goto LA146;
Result_123691 = ((NU8) 0);
LA146: ;
break;
case ((NU8) 5):
Result_123691 = ((NU8) 3);
break;
default:
break;
}
break;
case ((NU8) 22):
switch ((*A_123355).Kind) {
case ((NU8) 22):
LOC148 = Base_93021(F_123354);
LOC149 = Base_93021(A_123355);
Result_123691 = Typerel_123350(Mapping_123353, LOC148, LOC149);
if (!(Result_123691 <= ((NU8) 1))) goto LA151;
Result_123691 = ((NU8) 0);
LA151: ;
break;
case ((NU8) 5):
Result_123691 = ((NU8) 3);
break;
default:
break;
}
break;
case ((NU8) 25):
switch ((*A_123355).Kind) {
case ((NU8) 5):
Result_123691 = ((NU8) 3);
break;
case ((NU8) 25):
LOC155 = Sonslen_53804(F_123354);
LOC156 = Sonslen_53804(A_123355);
LOC154 = (LOC155 == LOC156);
if (!(LOC154)) goto LA157;
LOC154 = ((*F_123354).Callconv == (*A_123355).Callconv);
LA157: ;
if (!LOC154) goto LA158;
Result_123691 = ((NU8) 5);
I_124114 = 0;
HEX3Atmp_125874 = 0;
LOC160 = Sonslen_53804(F_123354);
HEX3Atmp_125874 = (NI32)(LOC160 - 1);
Res_125876 = 0;
Res_125876 = 1;
while (1) {
if (!(Res_125876 <= HEX3Atmp_125874)) goto LA161;
I_124114 = Res_125876;
M_123694 = Typerel_123350(Mapping_123353, (*F_123354).Sons->data[I_124114], (*A_123355).Sons->data[I_124114]);
LOC163 = (M_123694 == ((NU8) 0));
if (!(LOC163)) goto LA164;
LOC165 = Typerel_123350(Mapping_123353, (*A_123355).Sons->data[I_124114], (*F_123354).Sons->data[I_124114]);
LOC163 = (LOC165 == ((NU8) 3));
LA164: ;
if (!LOC163) goto LA166;
Result_123691 = ((NU8) 1);
goto LA162;
LA166: ;
if (!(M_123694 < ((NU8) 3))) goto LA168;
Result_123691 = ((NU8) 0);
goto BeforeRet;
goto LA162;
LA168: ;
Result_123691 = Minrel_123520(M_123694, Result_123691);
LA162: ;
Res_125876 += 1;
} LA161: ;
if (!!(((*F_123354).Sons->data[0] == NIM_NIL))) goto LA171;
if (!!(((*A_123355).Sons->data[0] == NIM_NIL))) goto LA174;
M_123694 = Typerel_123350(Mapping_123353, (*F_123354).Sons->data[0], (*A_123355).Sons->data[0]);
if (!(M_123694 < ((NU8) 3))) goto LA177;
Result_123691 = ((NU8) 0);
goto LA176;
LA177: ;
if (!(M_123694 == ((NU8) 3))) goto LA179;
Result_123691 = ((NU8) 1);
goto LA176;
LA179: ;
Result_123691 = Minrel_123520(M_123694, Result_123691);
LA176: ;
goto LA173;
LA174: ;
Result_123691 = ((NU8) 0);
LA173: ;
goto LA170;
LA171: ;
if (!!(((*A_123355).Sons->data[0] == NIM_NIL))) goto LA181;
Result_123691 = ((NU8) 0);
goto LA170;
LA181: ;
LA170: ;
LOC184 = (((*F_123354).Flags &(1<<((((NU8) 1))&7)))!=0);
if (!(LOC184)) goto LA185;
LOC184 = !((((*A_123355).Flags &(1<<((((NU8) 1))&7)))!=0));
LA185: ;
if (!LOC184) goto LA186;
Result_123691 = ((NU8) 0);
LA186: ;
LA158: ;
break;
default:
break;
}
break;
case ((NU8) 26):
switch ((*A_123355).Kind) {
case ((NU8) 26):
Result_123691 = ((NU8) 5);
break;
case ((NU8) 5):
Result_123691 = ((NU8) 3);
break;
case ((NU8) 21):
case ((NU8) 25):
case ((NU8) 29):
Result_123691 = ((NU8) 1);
break;
default:
break;
}
break;
case ((NU8) 28):
switch ((*A_123355).Kind) {
case ((NU8) 28):
Result_123691 = ((NU8) 5);
break;
case ((NU8) 5):
Result_123691 = ((NU8) 3);
break;
default:
break;
}
break;
case ((NU8) 29):
switch ((*A_123355).Kind) {
case ((NU8) 29):
Result_123691 = ((NU8) 5);
break;
case ((NU8) 5):
Result_123691 = ((NU8) 3);
break;
case ((NU8) 28):
Result_123691 = ((NU8) 1);
break;
case ((NU8) 21):
if (!((*(*A_123355).Sons->data[0]).Kind == ((NU8) 2))) goto LA189;
Result_123691 = ((NU8) 1);
LA189: ;
break;
case ((NU8) 16):
LOC194 = Firstord_93001((*A_123355).Sons->data[0]);
LOC193 = (LOC194 == 0);
if (!(LOC193)) goto LA195;
LOC196 = Skiptypes_93085((*A_123355).Sons->data[0], IL64(17592186044416));
LOC193 = ((*LOC196).Kind >= ((NU8) 31) && (*LOC196).Kind <= ((NU8) 35));
LA195: ;
LOC192 = LOC193;
if (!(LOC192)) goto LA197;
LOC192 = ((*(*A_123355).Sons->data[1]).Kind == ((NU8) 2));
LA197: ;
if (!LOC192) goto LA198;
Result_123691 = ((NU8) 1);
LA198: ;
break;
default:
break;
}
break;
case ((NU8) 3):
if (!((*A_123355).Kind == ((NU8) 3))) goto LA201;
Result_123691 = ((NU8) 5);
LA201: ;
break;
case ((NU8) 11):
LOC203 = Lastson_53810(F_123354);
Result_123691 = Typerel_123350(Mapping_123353, LOC203, A_123355);
break;
case ((NU8) 10):
LOC204 = Lastson_53810(F_123354);
Result_123691 = Typerel_123350(Mapping_123353, LOC204, A_123355);
break;
case ((NU8) 9):
if (!((*A_123355).Kind == ((NU8) 9))) goto LA206;
Internalerror_45571(((NimStringDesc*) &TMP194063));
LA206: ;
if (!((*A_123355).Kind == ((NU8) 11))) goto LA209;
LOC212 = ((*(*F_123354).Sons->data[0]).Containerid == (*(*A_123355).Sons->data[0]).Containerid);
if (!(LOC212)) goto LA213;
LOC214 = Sonslen_53804(A_123355);
LOC215 = Sonslen_53804(F_123354);
LOC212 = ((NI32)(LOC214 - 1) == LOC215);
LA213: ;
if (!LOC212) goto LA216;
I_124304 = 0;
HEX3Atmp_125880 = 0;
LOC218 = Sonslen_53804(F_123354);
HEX3Atmp_125880 = (NI32)(LOC218 - 1);
Res_125882 = 0;
Res_125882 = 1;
while (1) {
if (!(Res_125882 <= HEX3Atmp_125880)) goto LA219;
I_124304 = Res_125882;
if (!((*(*A_123355).Sons->data[I_124304]).Kind == ((NU8) 12))) goto LA221;
Internalerror_45571(((NimStringDesc*) &TMP194064));
LA221: ;
LOC224 = Typerel_123350(Mapping_123353, (*F_123354).Sons->data[I_124304], (*A_123355).Sons->data[I_124304]);
if (!(LOC224 < ((NU8) 4))) goto LA225;
goto BeforeRet;
LA225: ;
Res_125882 += 1;
} LA219: ;
Result_123691 = ((NU8) 4);
LA216: ;
goto LA208;
LA209: ;
Result_123691 = Typerel_123350(Mapping_123353, (*F_123354).Sons->data[0], A_123355);
if (!!((Result_123691 == ((NU8) 0)))) goto LA228;
I_124339 = 0;
HEX3Atmp_125886 = 0;
LOC230 = Sonslen_53804(F_123354);
HEX3Atmp_125886 = (NI32)(LOC230 - 1);
Res_125888 = 0;
Res_125888 = 1;
while (1) {
if (!(Res_125888 <= HEX3Atmp_125886)) goto LA231;
I_124339 = Res_125888;
LOC232 = Idtableget_57166((*Mapping_123353), &(*(*F_123354).Sons->data[0]).Sons->data[(NI32)(I_124339 - 1)]->Sup);
X_123692 = ((TY53549*) (LOC232));
LOC234 = (X_123692 == NIM_NIL);
if (LOC234) goto LA235;
LOC234 = ((*X_123692).Kind == ((NU8) 12));
LA235: ;
if (!LOC234) goto LA236;
Internalerror_45571(((NimStringDesc*) &TMP194064));
LA236: ;
Idtableput_57174(Mapping_123353, &(*F_123354).Sons->data[I_124339]->Sup, &X_123692->Sup.Sup);
Res_125888 += 1;
} LA231: ;
LA228: ;
LA208: ;
break;
case ((NU8) 12):
LOC238 = Idtableget_57166((*Mapping_123353), &F_123354->Sup);
X_123692 = ((TY53549*) (LOC238));
if (!(X_123692 == NIM_NIL)) goto LA240;
LOC243 = Sonslen_53804(F_123354);
if (!(LOC243 == 0)) goto LA244;
Concrete_123693 = Concretetype_123356((*Mapping_123353), A_123355);
if (!!((Concrete_123693 == NIM_NIL))) goto LA247;
Idtableput_57174(Mapping_123353, &F_123354->Sup, &Concrete_123693->Sup.Sup);
Result_123691 = ((NU8) 4);
LA247: ;
goto LA242;
LA244: ;
LOC249 = rawNewString((*(*(*F_123354).Sym).Name).S->Sup.len + 17);
appendString(LOC249, ((NimStringDesc*) &TMP194066));
appendString(LOC249, (*(*(*F_123354).Sym).Name).S);
Internalerror_45567((*(*F_123354).Sym).Info, LOC249);
I_124399 = 0;
HEX3Atmp_125892 = 0;
LOC250 = Sonslen_53804(F_123354);
HEX3Atmp_125892 = (NI32)(LOC250 - 1);
Res_125894 = 0;
Res_125894 = 0;
while (1) {
if (!(Res_125894 <= HEX3Atmp_125892)) goto LA251;
I_124399 = Res_125894;
LOC253 = Typerel_123350(Mapping_123353, (*F_123354).Sons->data[I_124399], A_123355);
if (!(((NU8) 3) <= LOC253)) goto LA254;
Concrete_123693 = Concretetype_123356((*Mapping_123353), A_123355);
if (!!((Concrete_123693 == NIM_NIL))) goto LA257;
Idtableput_57174(Mapping_123353, &F_123354->Sup, &Concrete_123693->Sup.Sup);
Result_123691 = ((NU8) 4);
LA257: ;
goto LA251;
LA254: ;
Res_125894 += 1;
} LA251: ;
LA242: ;
goto LA239;
LA240: ;
if (!((*A_123355).Kind == ((NU8) 3))) goto LA259;
Result_123691 = ((NU8) 4);
goto LA239;
LA259: ;
if (!((*X_123692).Kind == ((NU8) 12))) goto LA261;
Result_123691 = ((NU8) 4);
goto LA239;
LA261: ;
Result_123691 = Typerel_123350(Mapping_123353, X_123692, A_123355);
LA239: ;
break;
case ((NU8) 6):
case ((NU8) 7):
case ((NU8) 8):
if (!((*A_123355).Kind == (*F_123354).Kind)) goto LA264;
Result_123691 = ((NU8) 5);
goto LA263;
LA264: ;
switch ((*A_123355).Kind) {
case ((NU8) 6):
case ((NU8) 7):
case ((NU8) 8):
Result_123691 = ((NU8) 4);
break;
case ((NU8) 5):
Result_123691 = ((NU8) 3);
break;
default:
break;
}
LA263: ;
break;
default:
LOC266 = rawNewString(reprEnum((*F_123354).Kind, NTI53162)->Sup.len + 9);
appendString(LOC266, ((NimStringDesc*) &TMP194067));
appendString(LOC266, reprEnum((*F_123354).Kind, NTI53162));
appendChar(LOC266, 41);
Internalerror_45571(LOC266);
break;
}
BeforeRet: ;
return Result_123691;
}
N_NIMCALL(NIM_BOOL, Containsgenerictypeiter_122207)(TY53549* T_122209, TNimObject* Closure_122210) {
NIM_BOOL Result_122211;
Result_122211 = 0;
Result_122211 = ((*T_122209).Kind == ((NU8) 9) || (*T_122209).Kind == ((NU8) 10) || (*T_122209).Kind == ((NU8) 12));
return Result_122211;
}
N_NIMCALL(NIM_BOOL, Containsgenerictype_122223)(TY53549* T_122225) {
NIM_BOOL Result_122226;
Result_122226 = 0;
Result_122226 = Iterovertype_93038(T_122225, Containsgenerictypeiter_122207, NIM_NIL);
return Result_122226;
}
N_NIMCALL(TY53549*, Lookuptypevar_122862)(TY122712* Cl_122864, TY53549* T_122865) {
TY53549* Result_122866;
TNimObject* LOC1;
NimStringDesc* LOC5;
Result_122866 = 0;
LOC1 = Idtableget_57166((*Cl_122864).Typemap, &T_122865->Sup);
Result_122866 = ((TY53549*) (LOC1));
if (!(Result_122866 == NIM_NIL)) goto LA3;
LOC5 = Typetostring_93014(T_122865, ((NU8) 0));
Limessage_45562((*(*T_122865).Sym).Info, ((NU8) 122), LOC5);
goto LA2;
LA3: ;
if (!((*Result_122866).Kind == ((NU8) 12))) goto LA6;
Internalerror_45567((*Cl_122864).Info, ((NimStringDesc*) &TMP194068));
goto LA2;
LA6: ;
LA2: ;
return Result_122866;
}
N_NIMCALL(TY53549*, Searchinsttypes_122158)(TY53561 Tab_122160, TY53549* Key_122161) {
TY53549* Result_122162;
TNimObject* LOC1;
NIM_BOOL LOC3;
NI H_122183;
NI HEX3Atmp_125795;
NI Res_125797;
TY53549* T_122184;
NIM_BOOL Match_122198;
NI J_122206;
NI HEX3Atmp_125789;
NI LOC14;
NI Res_125791;
NIM_BOOL LOC17;
Result_122162 = 0;
LOC1 = Idtableget_57166(Tab_122160, &Key_122161->Sup);
Result_122162 = ((TY53549*) (LOC1));
LOC3 = (Result_122162 == NIM_NIL);
if (!(LOC3)) goto LA4;
LOC3 = (0 < Tab_122160.Counter);
LA4: ;
if (!LOC3) goto LA5;
H_122183 = 0;
HEX3Atmp_125795 = 0;
HEX3Atmp_125795 = (Tab_122160.Data->Sup.len-1);
Res_125797 = 0;
Res_125797 = 0;
while (1) {
if (!(Res_125797 <= HEX3Atmp_125795)) goto LA7;
H_122183 = Res_125797;
T_122184 = 0;
T_122184 = ((TY53549*) (Tab_122160.Data->data[H_122183].Key));
if (!!((T_122184 == NIM_NIL))) goto LA9;
if (!((*Key_122161).Containerid == (*T_122184).Containerid)) goto LA12;
Match_122198 = 0;
Match_122198 = NIM_TRUE;
J_122206 = 0;
HEX3Atmp_125789 = 0;
LOC14 = Sonslen_53804(T_122184);
HEX3Atmp_125789 = (NI32)(LOC14 - 1);
Res_125791 = 0;
Res_125791 = 0;
while (1) {
if (!(Res_125791 <= HEX3Atmp_125789)) goto LA15;
J_122206 = Res_125791;
LOC17 = Sametype_93048((*T_122184).Sons->data[J_122206], (*Key_122161).Sons->data[J_122206]);
if (!!(LOC17)) goto LA18;
Match_122198 = NIM_FALSE;
goto LA15;
LA18: ;
Res_125791 += 1;
} LA15: ;
if (!Match_122198) goto LA21;
Result_122162 = ((TY53549*) (Tab_122160.Data->data[H_122183].Val));
goto BeforeRet;
LA21: ;
LA12: ;
LA9: ;
Res_125797 += 1;
} LA7: ;
LA5: ;
BeforeRet: ;
return Result_122162;
}
N_NIMCALL(TY53545*, Replacetypevarss_122722)(TY122712* Cl_122725, TY53545* S_122726) {
TY53545* Result_122826;
TNimObject* LOC4;
Result_122826 = 0;
if (!(S_122726 == NIM_NIL)) goto LA2;
Result_122826 = NIM_NIL;
goto BeforeRet;
LA2: ;
LOC4 = Idtableget_57166((*Cl_122725).Symmap, &S_122726->Sup);
Result_122826 = ((TY53545*) (LOC4));
if (!(Result_122826 == NIM_NIL)) goto LA6;
Result_122826 = Copysym_53773(S_122726, NIM_FALSE);
(*Result_122826).Flags |=(1<<((NI32)(((NU8) 4))%(sizeof(NI32)*8)));
Idtableput_57174(&(*Cl_122725).Symmap, &S_122726->Sup, &Result_122826->Sup.Sup);
asgnRef((void**) &(*Result_122826).Typ, Replacetypevarst_122717(Cl_122725, (*S_122726).Typ));
asgnRef((void**) &(*Result_122826).Owner, (*S_122726).Owner);
asgnRefNoCycle((void**) &(*Result_122826).Ast, Replacetypevarsn_122727(Cl_122725, (*S_122726).Ast));
LA6: ;
BeforeRet: ;
return Result_122826;
}
N_NIMCALL(TY53523*, Replacetypevarsn_122727)(TY122712* Cl_122730, TY53523* N_122731) {
TY53523* Result_122732;
NI Length_122786;
NI I_122796;
NI HEX3Atmp_125817;
NI Res_125819;
Result_122732 = 0;
if (!!((N_122731 == NIM_NIL))) goto LA2;
Result_122732 = Copynode_53853(N_122731);
asgnRef((void**) &(*Result_122732).Typ, Replacetypevarst_122717(Cl_122730, (*N_122731).Typ));
switch ((*N_122731).Kind) {
case ((NU8) 0) ... ((NU8) 2):
case ((NU8) 4) ... ((NU8) 18):
break;
case ((NU8) 3):
asgnRef((void**) &(*Result_122732).KindU.S4.Sym, Replacetypevarss_122722(Cl_122730, (*N_122731).KindU.S4.Sym));
break;
default:
Length_122786 = 0;
Length_122786 = Sonslen_53801(N_122731);
if (!(0 < Length_122786)) goto LA5;
Newsons_53813(Result_122732, Length_122786);
I_122796 = 0;
HEX3Atmp_125817 = 0;
HEX3Atmp_125817 = (NI32)(Length_122786 - 1);
Res_125819 = 0;
Res_125819 = 0;
while (1) {
if (!(Res_125819 <= HEX3Atmp_125817)) goto LA7;
I_122796 = Res_125819;
asgnRefNoCycle((void**) &(*Result_122732).KindU.S6.Sons->data[I_122796], Replacetypevarsn_122727(Cl_122730, (*N_122731).KindU.S6.Sons->data[I_122796]));
Res_125819 += 1;
} LA7: ;
LA5: ;
break;
}
LA2: ;
return Result_122732;
}
N_NIMCALL(void, Checkconstructedtype_122667)(TY45532 Info_122669, TY53549* T_122670) {
NIM_BOOL LOC2;
TY53549* LOC4;
NI64 LOC8;
NimStringDesc* LOC11;
NIM_BOOL LOC13;
LOC2 = (((*T_122670).Flags &(1<<((((NU8) 3))&7)))!=0);
if (!(LOC2)) goto LA3;
LOC4 = Skiptypes_93085(T_122670, IL64(47287796087390208));
LOC2 = !(((*LOC4).Kind == ((NU8) 17)));
LA3: ;
if (!LOC2) goto LA5;
Limessage_45562(Info_122669, ((NU8) 158), ((NimStringDesc*) &TMP194071));
LA5: ;
LOC8 = Computesize_93110(T_122670);
if (!(LOC8 < 0)) goto LA9;
LOC11 = Typetostring_93014(T_122670, ((NU8) 0));
Limessage_45562(Info_122669, ((NU8) 121), LOC11);
LA9: ;
LOC13 = ((*T_122670).Kind == ((NU8) 23));
if (!(LOC13)) goto LA14;
LOC13 = ((*(*T_122670).Sons->data[0]).Kind == ((NU8) 23));
LA14: ;
if (!LOC13) goto LA15;
Limessage_45562(Info_122669, ((NU8) 190), ((NimStringDesc*) &TMP193928));
LA15: ;
}
N_NIMCALL(TY53549*, Replacetypevarst_122717)(TY122712* Cl_122720, TY53549* T_122721) {
TY53549* Result_122892;
TY53549* Body_122893;
TY53549* Newbody_122894;
TY53549* X_122895;
TY53549* Header_122896;
NI I_122924;
NI HEX3Atmp_125823;
NI LOC7;
NI Res_125825;
NI I_122975;
NI HEX3Atmp_125829;
NI LOC21;
NI Res_125831;
TY53549* LOC23;
TY53549* LOC24;
TY53549* LOC25;
NIM_BOOL LOC27;
NI I_122984;
NI HEX3Atmp_125835;
NI LOC30;
NI Res_125837;
NimStringDesc* LOC35;
Result_122892 = 0;
Body_122893 = 0;
Newbody_122894 = 0;
X_122895 = 0;
Header_122896 = 0;
Result_122892 = T_122721;
if (!(T_122721 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*T_122721).Kind) {
case ((NU8) 12):
Result_122892 = Lookuptypevar_122862(&(*Cl_122720), T_122721);
break;
case ((NU8) 9):
Body_122893 = (*T_122721).Sons->data[0];
if (!!(((*Body_122893).Kind == ((NU8) 10)))) goto LA5;
Internalerror_45567((*Cl_122720).Info, ((NimStringDesc*) &TMP194069));
LA5: ;
Header_122896 = NIM_NIL;
I_122924 = 0;
HEX3Atmp_125823 = 0;
LOC7 = Sonslen_53804(T_122721);
HEX3Atmp_125823 = (NI32)(LOC7 - 1);
Res_125825 = 0;
Res_125825 = 1;
while (1) {
if (!(Res_125825 <= HEX3Atmp_125823)) goto LA8;
I_122924 = Res_125825;
if (!((*(*T_122721).Sons->data[I_122924]).Kind == ((NU8) 12))) goto LA10;
X_122895 = Lookuptypevar_122862(&(*Cl_122720), (*T_122721).Sons->data[I_122924]);
if (!(Header_122896 == NIM_NIL)) goto LA13;
Header_122896 = Copytype_53768(T_122721, (*T_122721).Owner, NIM_FALSE);
LA13: ;
asgnRef((void**) &(*Header_122896).Sons->data[I_122924], X_122895);
goto LA9;
LA10: ;
X_122895 = (*T_122721).Sons->data[I_122924];
LA9: ;
Idtableput_57174(&(*Cl_122720).Typemap, &(*Body_122893).Sons->data[(NI32)(I_122924 - 1)]->Sup, &X_122895->Sup.Sup);
Res_125825 += 1;
} LA8: ;
if (!(Header_122896 == NIM_NIL)) goto LA16;
Header_122896 = T_122721;
LA16: ;
Result_122892 = Searchinsttypes_122158(Ginsttypes_103045, Header_122896);
if (!!((Result_122892 == NIM_NIL))) goto LA19;
goto BeforeRet;
LA19: ;
Result_122892 = Newtype_53704(((NU8) 11), (*(*T_122721).Sons->data[0]).Owner);
I_122975 = 0;
HEX3Atmp_125829 = 0;
LOC21 = Sonslen_53804(T_122721);
HEX3Atmp_125829 = (NI32)(LOC21 - 1);
Res_125831 = 0;
Res_125831 = 0;
while (1) {
if (!(Res_125831 <= HEX3Atmp_125829)) goto LA22;
I_122975 = Res_125831;
Addson_53825(Result_122892, (*Header_122896).Sons->data[I_122975]);
Res_125831 += 1;
} LA22: ;
Idtableput_57174(&Ginsttypes_103045, &Header_122896->Sup, &Result_122892->Sup.Sup);
LOC23 = Lastson_53810(Body_122893);
Newbody_122894 = Replacetypevarst_122717(Cl_122720, LOC23);
LOC24 = Lastson_53810(Body_122893);
asgnRefNoCycle((void**) &(*Newbody_122894).N, Replacetypevarsn_122727(Cl_122720, (*LOC24).N));
Addson_53825(Result_122892, Newbody_122894);
Checkconstructedtype_122667((*Cl_122720).Info, Newbody_122894);
break;
case ((NU8) 10):
Internalerror_45567((*Cl_122720).Info, ((NimStringDesc*) &TMP194072));
LOC25 = Lastson_53810(T_122721);
Result_122892 = Replacetypevarst_122717(Cl_122720, LOC25);
break;
default:
LOC27 = Containsgenerictype_122223(T_122721);
if (!LOC27) goto LA28;
Result_122892 = Copytype_53768(T_122721, (*T_122721).Owner, NIM_FALSE);
I_122984 = 0;
HEX3Atmp_125835 = 0;
LOC30 = Sonslen_53804(Result_122892);
HEX3Atmp_125835 = (NI32)(LOC30 - 1);
Res_125837 = 0;
Res_125837 = 0;
while (1) {
if (!(Res_125837 <= HEX3Atmp_125835)) goto LA31;
I_122984 = Res_125837;
asgnRef((void**) &(*Result_122892).Sons->data[I_122984], Replacetypevarst_122717(Cl_122720, (*Result_122892).Sons->data[I_122984]));
Res_125837 += 1;
} LA31: ;
asgnRefNoCycle((void**) &(*Result_122892).N, Replacetypevarsn_122727(Cl_122720, (*Result_122892).N));
if (!((*Result_122892).Kind == ((NU8) 9) || (*Result_122892).Kind == ((NU8) 10) || (*Result_122892).Kind == ((NU8) 12))) goto LA33;
LOC35 = Typetostring_93014(T_122721, ((NU8) 0));
Limessage_45562((*Cl_122720).Info, ((NU8) 122), LOC35);
LA33: ;
LA28: ;
break;
}
BeforeRet: ;
return Result_122892;
}
N_NIMCALL(TY53549*, Generatetypeinstance_123006)(TY103012* P_123008, TY53561 Pt_123009, TY53523* Arg_123010, TY53549* T_123011) {
TY53549* Result_123012;
TY122712 Cl_123013;
Result_123012 = 0;
memset((void*)&Cl_123013, 0, sizeof(Cl_123013));
Initidtable_53752(&Cl_123013.Symmap);
Copyidtable_53796(&Cl_123013.Typemap, Pt_123009);
Cl_123013.Info = (*Arg_123010).Info;
Cl_123013.C = P_123008;
Pushinfocontext_45606((*Arg_123010).Info);
Result_123012 = Replacetypevarst_122717(&Cl_123013, T_123011);
Popinfocontext_45609();
return Result_123012;
}
N_NIMCALL(TY53549*, Getinstantiatedtype_124475)(TY103012* C_124477, TY53523* Arg_124478, TY123058* M_124479, TY53549* F_124480) {
TY53549* Result_124481;
TNimObject* LOC1;
Result_124481 = 0;
LOC1 = Idtableget_57166((*M_124479).Bindings, &F_124480->Sup);
Result_124481 = ((TY53549*) (LOC1));
if (!(Result_124481 == NIM_NIL)) goto LA3;
Result_124481 = Generatetypeinstance_123006(C_124477, (*M_124479).Bindings, Arg_124478, F_124480);
LA3: ;
if (!(Result_124481 == NIM_NIL)) goto LA6;
Internalerror_45567((*Arg_124478).Info, ((NimStringDesc*) &TMP194073));
LA6: ;
return Result_124481;
}
N_NIMCALL(TY53523*, Implicitconv_124504)(NU8 Kind_124506, TY53549* F_124507, TY53523* Arg_124508, TY123058* M_124509, TY103012* C_124510) {
TY53523* Result_124511;
NIM_BOOL LOC2;
Result_124511 = 0;
Result_124511 = Newnodei_53735(Kind_124506, (*Arg_124508).Info);
LOC2 = Containsgenerictype_122223(F_124507);
if (!LOC2) goto LA3;
asgnRef((void**) &(*Result_124511).Typ, Getinstantiatedtype_124475(C_124510, Arg_124508, M_124509, F_124507));
goto LA1;
LA3: ;
asgnRef((void**) &(*Result_124511).Typ, F_124507);
LA1: ;
if (!((*Result_124511).Typ == NIM_NIL)) goto LA6;
Internalerror_45567((*Arg_124508).Info, ((NimStringDesc*) &TMP194074));
LA6: ;
Addson_53821(Result_124511, NIM_NIL);
Addson_53821(Result_124511, Arg_124508);
return Result_124511;
}
N_NIMCALL(TY53523*, Userconvmatch_124523)(TY103012* C_124525, TY123058* M_124527, TY53549* F_124528, TY53549* A_124529, TY53523* Arg_124530) {
TY53523* Result_124531;
NI I_124549;
NI HEX3Atmp_125898;
NI Res_125900;
TY53549* Src_124550;
TY53549* Dest_124551;
NIM_BOOL LOC3;
NU8 LOC4;
NU8 LOC6;
TY53523* S_124572;
TY53523* LOC9;
Result_124531 = 0;
Result_124531 = NIM_NIL;
I_124549 = 0;
HEX3Atmp_125898 = 0;
HEX3Atmp_125898 = (NI32)((*C_124525).Converters->Sup.len - 1);
Res_125900 = 0;
Res_125900 = 0;
while (1) {
if (!(Res_125900 <= HEX3Atmp_125898)) goto LA1;
I_124549 = Res_125900;
Src_124550 = 0;
Src_124550 = (*(*(*C_124525).Converters->data[I_124549]).Typ).Sons->data[1];
Dest_124551 = 0;
Dest_124551 = (*(*(*C_124525).Converters->data[I_124549]).Typ).Sons->data[0];
LOC4 = Typerel_123350(&(*M_124527).Bindings, F_124528, Dest_124551);
LOC3 = (LOC4 == ((NU8) 5));
if (!(LOC3)) goto LA5;
LOC6 = Typerel_123350(&(*M_124527).Bindings, Src_124550, A_124529);
LOC3 = (LOC6 == ((NU8) 5));
LA5: ;
if (!LOC3) goto LA7;
S_124572 = 0;
S_124572 = Newsymnode_53732((*C_124525).Converters->data[I_124549]);
asgnRef((void**) &(*S_124572).Typ, (*(*C_124525).Converters->data[I_124549]).Typ);
(*S_124572).Info = (*Arg_124530).Info;
Result_124531 = Newnodeit_53739(((NU8) 49), (*Arg_124530).Info, (*(*S_124572).Typ).Sons->data[0]);
Addson_53821(Result_124531, S_124572);
LOC9 = Copytree_53856(Arg_124530);
Addson_53821(Result_124531, LOC9);
(*M_124527).Convmatches += 1;
goto BeforeRet;
LA7: ;
Res_125900 += 1;
} LA1: ;
BeforeRet: ;
return Result_124531;
}
N_NIMCALL(TY53523*, Paramtypesmatchaux_124585)(TY103012* C_124587, TY123058* M_124589, TY53549* F_124590, TY53549* A_124591, TY53523* Arg_124592) {
TY53523* Result_124593;
NU8 R_124595;
TY53523* LOC1;
TY53523* LOC2;
TY53523* LOC3;
TY53549* LOC5;
TY53523* LOC8;
TY53549* LOC10;
TY53523* LOC13;
NIM_BOOL LOC15;
TY53549* LOC19;
TY53549* LOC26;
TY53549* LOC27;
Result_124593 = 0;
R_124595 = 0;
R_124595 = Typerel_123350(&(*M_124589).Bindings, F_124590, A_124591);
switch (R_124595) {
case ((NU8) 1):
(*M_124589).Convmatches += 1;
LOC1 = Copytree_53856(Arg_124592);
Result_124593 = Implicitconv_124504(((NU8) 47), F_124590, LOC1, &(*M_124589), C_124587);
break;
case ((NU8) 2):
(*M_124589).Intconvmatches += 1;
LOC2 = Copytree_53856(Arg_124592);
Result_124593 = Implicitconv_124504(((NU8) 47), F_124590, LOC2, &(*M_124589), C_124587);
break;
case ((NU8) 3):
(*M_124589).Subtypematches += 1;
LOC3 = Copytree_53856(Arg_124592);
Result_124593 = Implicitconv_124504(((NU8) 48), F_124590, LOC3, &(*M_124589), C_124587);
break;
case ((NU8) 4):
(*M_124589).Genericmatches += 1;
Result_124593 = Copytree_53856(Arg_124592);
asgnRef((void**) &(*Result_124593).Typ, Getinstantiatedtype_124475(C_124587, Arg_124592, &(*M_124589), F_124590));
LOC5 = Skiptypes_93085((*Result_124593).Typ, IL64(47428533575745536));
if (!((*LOC5).Kind == ((NU8) 18) || (*LOC5).Kind == ((NU8) 27))) goto LA6;
LOC8 = Copytree_53856(Arg_124592);
Result_124593 = Implicitconv_124504(((NU8) 47), F_124590, LOC8, &(*M_124589), C_124587);
LA6: ;
break;
case ((NU8) 5):
(*M_124589).Exactmatches += 1;
Result_124593 = Copytree_53856(Arg_124592);
LOC10 = Skiptypes_93085(F_124590, IL64(47428533575745536));
if (!((*LOC10).Kind == ((NU8) 18) || (*LOC10).Kind == ((NU8) 27))) goto LA11;
LOC13 = Copytree_53856(Arg_124592);
Result_124593 = Implicitconv_124504(((NU8) 47), F_124590, LOC13, &(*M_124589), C_124587);
LA11: ;
break;
case ((NU8) 0):
Result_124593 = Userconvmatch_124523(C_124587, M_124589, F_124590, A_124591, Arg_124592);
LOC15 = (Result_124593 == NIM_NIL);
if (!(LOC15)) goto LA16;
LOC15 = ((*F_124590).Kind == ((NU8) 27));
LA16: ;
if (!LOC15) goto LA17;
LOC19 = Base_93021(F_124590);
R_124595 = Typerel_123350(&(*M_124589).Bindings, LOC19, A_124591);
if (!(((NU8) 4) <= R_124595)) goto LA21;
(*M_124589).Convmatches += 1;
Result_124593 = Copytree_53856(Arg_124592);
if (!(R_124595 == ((NU8) 4))) goto LA24;
LOC26 = Base_93021(F_124590);
asgnRef((void**) &(*Result_124593).Typ, Getinstantiatedtype_124475(C_124587, Arg_124592, &(*M_124589), LOC26));
LA24: ;
(*M_124589).Basetypematch = NIM_TRUE;
goto LA20;
LA21: ;
LOC27 = Base_93021(F_124590);
Result_124593 = Userconvmatch_124523(C_124587, M_124589, LOC27, A_124591, Arg_124592);
LA20: ;
LA17: ;
break;
}
return Result_124593;
}
N_NIMCALL(void, Initcandidate_123086)(TY123058* C_123089, TY53549* Callee_123090) {
Initcandidateaux_123081(C_123089, Callee_123090);
unsureAsgnRef((void**) &(*C_123089).Calleesym, NIM_NIL);
Initidtable_53752(&(*C_123089).Bindings);
}
N_NIMCALL(void, Copycandidate_123135)(TY123058* A_123138, TY123058* B_123139) {
(*A_123138).Exactmatches = (*B_123139).Exactmatches;
(*A_123138).Subtypematches = (*B_123139).Subtypematches;
(*A_123138).Convmatches = (*B_123139).Convmatches;
(*A_123138).Intconvmatches = (*B_123139).Intconvmatches;
(*A_123138).Genericmatches = (*B_123139).Genericmatches;
(*A_123138).State = (*B_123139).State;
unsureAsgnRef((void**) &(*A_123138).Callee, (*B_123139).Callee);
unsureAsgnRef((void**) &(*A_123138).Calleesym, (*B_123139).Calleesym);
unsureAsgnRef((void**) &(*A_123138).Call, Copytree_53856((*B_123139).Call));
(*A_123138).Basetypematch = (*B_123139).Basetypematch;
Copyidtable_53796(&(*A_123138).Bindings, (*B_123139).Bindings);
}
N_NIMCALL(NI, Cmpcandidates_123141)(TY123058* A_123143, TY123058* B_123144) {
NI Result_123145;
Result_123145 = 0;
Result_123145 = (NI32)((*A_123143).Exactmatches - (*B_123144).Exactmatches);
if (!!((Result_123145 == 0))) goto LA2;
goto BeforeRet;
LA2: ;
Result_123145 = (NI32)((*A_123143).Genericmatches - (*B_123144).Genericmatches);
if (!!((Result_123145 == 0))) goto LA5;
goto BeforeRet;
LA5: ;
Result_123145 = (NI32)((*A_123143).Subtypematches - (*B_123144).Subtypematches);
if (!!((Result_123145 == 0))) goto LA8;
goto BeforeRet;
LA8: ;
Result_123145 = (NI32)((*A_123143).Intconvmatches - (*B_123144).Intconvmatches);
if (!!((Result_123145 == 0))) goto LA11;
goto BeforeRet;
LA11: ;
Result_123145 = (NI32)((*A_123143).Convmatches - (*B_123144).Convmatches);
BeforeRet: ;
return Result_123145;
}
N_NIMCALL(TY53523*, Paramtypesmatch_124731)(TY103012* C_124733, TY123058* M_124735, TY53549* F_124736, TY53549* A_124737, TY53523* Arg_124738) {
TY53523* Result_124739;
NIM_BOOL LOC2;
TY123058 X_124760;
TY123058 Y_124761;
TY123058 Z_124762;
NI Best_124766;
NI I_124774;
NI HEX3Atmp_125904;
NI LOC6;
NI Res_125906;
NU8 R_124825;
NI Cmp_124835;
NIM_BOOL LOC22;
NI LOC24;
Result_124739 = 0;
LOC2 = (Arg_124738 == NIM_NIL);
if (LOC2) goto LA3;
LOC2 = !(((*Arg_124738).Kind == ((NU8) 46)));
LA3: ;
if (!LOC2) goto LA4;
Result_124739 = Paramtypesmatchaux_124585(C_124733, M_124735, F_124736, A_124737, Arg_124738);
goto LA1;
LA4: ;
memset((void*)&X_124760, 0, sizeof(X_124760));
memset((void*)&Y_124761, 0, sizeof(Y_124761));
memset((void*)&Z_124762, 0, sizeof(Z_124762));
Initcandidate_123086(&X_124760, (*M_124735).Callee);
Initcandidate_123086(&Y_124761, (*M_124735).Callee);
Initcandidate_123086(&Z_124762, (*M_124735).Callee);
X_124760.Calleesym = (*M_124735).Calleesym;
Y_124761.Calleesym = (*M_124735).Calleesym;
Z_124762.Calleesym = (*M_124735).Calleesym;
Best_124766 = 0;
Best_124766 = -1;
I_124774 = 0;
HEX3Atmp_125904 = 0;
LOC6 = Sonslen_53801(Arg_124738);
HEX3Atmp_125904 = (NI32)(LOC6 - 1);
Res_125906 = 0;
Res_125906 = 0;
while (1) {
if (!(Res_125906 <= HEX3Atmp_125904)) goto LA7;
I_124774 = Res_125906;
if (!((1441792 &(1<<(((*(*(*Arg_124738).KindU.S6.Sons->data[I_124774]).KindU.S4.Sym).Kind)&31)))!=0)) goto LA9;
Copycandidate_123135(&Z_124762, &(*M_124735));
R_124825 = 0;
R_124825 = Typerel_123350(&Z_124762.Bindings, F_124736, (*(*Arg_124738).KindU.S6.Sons->data[I_124774]).Typ);
if (!!((R_124825 == ((NU8) 0)))) goto LA12;
switch (X_124760.State) {
case ((NU8) 0):
case ((NU8) 2):
genericAssign((void*)&X_124760, (void*)&Z_124762, NTI123058);
Best_124766 = I_124774;
X_124760.State = ((NU8) 1);
break;
case ((NU8) 1):
Cmp_124835 = 0;
Cmp_124835 = Cmpcandidates_123141(&X_124760, &Z_124762);
if (!(Cmp_124835 < 0)) goto LA15;
Best_124766 = I_124774;
genericAssign((void*)&X_124760, (void*)&Z_124762, NTI123058);
goto LA14;
LA15: ;
if (!(Cmp_124835 == 0)) goto LA17;
genericAssign((void*)&Y_124761, (void*)&Z_124762, NTI123058);
goto LA14;
LA17: ;
LA14: ;
break;
}
LA12: ;
LA9: ;
Res_125906 += 1;
} LA7: ;
if (!(X_124760.State == ((NU8) 0))) goto LA20;
Result_124739 = NIM_NIL;
goto LA19;
LA20: ;
LOC22 = (Y_124761.State == ((NU8) 1));
if (!(LOC22)) goto LA23;
LOC24 = Cmpcandidates_123141(&X_124760, &Y_124761);
LOC22 = (LOC24 == 0);
LA23: ;
if (!LOC22) goto LA25;
if (!!((X_124760.State == ((NU8) 1)))) goto LA28;
Internalerror_45567((*Arg_124738).Info, ((NimStringDesc*) &TMP194079));
LA28: ;
Result_124739 = NIM_NIL;
goto LA19;
LA25: ;
Markused_121065(Arg_124738, (*(*Arg_124738).KindU.S6.Sons->data[Best_124766]).KindU.S4.Sym);
Result_124739 = Paramtypesmatchaux_124585(C_124733, M_124735, F_124736, (*(*Arg_124738).KindU.S6.Sons->data[Best_124766]).Typ, (*Arg_124738).KindU.S6.Sons->data[Best_124766]);
LA19: ;
LA1: ;
return Result_124739;
}
N_NIMCALL(void, Setson_124927)(TY53523* Father_124929, NI At_124930, TY53523* Son_124931) {
NI LOC2;
LOC2 = Sonslen_53801(Father_124929);
if (!(LOC2 <= At_124930)) goto LA3;
(*Father_124929).KindU.S6.Sons = (TY53517*) setLengthSeq(&((*Father_124929).KindU.S6.Sons)->Sup, sizeof(TY53523*), (NI32)(At_124930 + 1));
LA3: ;
asgnRefNoCycle((void**) &(*Father_124929).KindU.S6.Sons->data[At_124930], Son_124931);
}
N_NIMCALL(void, Matches_124970)(TY103012* C_124972, TY53523* N_124973, TY123058* M_124975) {
NI F_124976;
NI A_124977;
NI Formallen_124978;
TY53523* LOC1;
TY53898 Marker_124991;
TY53523* Container_124993;
TY53545* Formal_124994;
NI LOC3;
NIM_BOOL LOC14;
TY53523* Arg_125159;
TY53549* LOC33;
TY53549* LOC36;
TY53523* LOC37;
TY53523* LOC38;
TY53523* LOC39;
TY53523* Arg_125289;
NIM_BOOL LOC43;
NIM_BOOL LOC44;
NIM_BOOL LOC53;
TY53523* Arg_125406;
TY53523* LOC62;
NI LOC67;
NIM_BOOL LOC69;
TY53523* LOC78;
TY53523* LOC79;
F_124976 = 0;
F_124976 = 1;
A_124977 = 0;
A_124977 = 1;
(*M_124975).State = ((NU8) 1);
unsureAsgnRef((void**) &(*M_124975).Call, Newnodei_53735(((NU8) 21), (*N_124973).Info));
asgnRef((void**) &(*(*M_124975).Call).Typ, Base_93021((*M_124975).Callee));
Formallen_124978 = 0;
Formallen_124978 = Sonslen_53801((*(*M_124975).Callee).N);
LOC1 = Copytree_53856((*N_124973).KindU.S6.Sons->data[0]);
Addson_53821((*M_124975).Call, LOC1);
memset((void*)&Marker_124991, 0, sizeof(Marker_124991));
Intsetinit_53922(&Marker_124991);
Container_124993 = 0;
Container_124993 = NIM_NIL;
Formal_124994 = 0;
Formal_124994 = NIM_NIL;
while (1) {
LOC3 = Sonslen_53801(N_124973);
if (!(A_124977 < LOC3)) goto LA2;
if (!((*(*N_124973).KindU.S6.Sons->data[A_124977]).Kind == ((NU8) 23))) goto LA5;
if (!!(((*(*(*N_124973).KindU.S6.Sons->data[A_124977]).KindU.S6.Sons->data[0]).Kind == ((NU8) 2)))) goto LA8;
Limessage_45562((*(*N_124973).KindU.S6.Sons->data[A_124977]).Info, ((NU8) 155), ((NimStringDesc*) &TMP193928));
(*M_124975).State = ((NU8) 2);
goto BeforeRet;
LA8: ;
Formal_124994 = Getsymfromlist_57197((*(*M_124975).Callee).N, (*(*(*N_124973).KindU.S6.Sons->data[A_124977]).KindU.S6.Sons->data[0]).KindU.S5.Ident, 1);
if (!(Formal_124994 == NIM_NIL)) goto LA11;
(*M_124975).State = ((NU8) 2);
goto BeforeRet;
LA11: ;
LOC14 = Intsetcontainsorincl_53926(&Marker_124991, (*Formal_124994).Position);
if (!LOC14) goto LA15;
Limessage_45562((*(*N_124973).KindU.S6.Sons->data[A_124977]).Info, ((NU8) 140), (*(*Formal_124994).Name).S);
(*M_124975).State = ((NU8) 2);
goto BeforeRet;
LA15: ;
(*M_124975).Basetypematch = NIM_FALSE;
Arg_125159 = 0;
Arg_125159 = Paramtypesmatch_124731(C_124972, M_124975, (*Formal_124994).Typ, (*(*N_124973).KindU.S6.Sons->data[A_124977]).Typ, (*(*N_124973).KindU.S6.Sons->data[A_124977]).KindU.S6.Sons->data[1]);
if (!(Arg_125159 == NIM_NIL)) goto LA18;
(*M_124975).State = ((NU8) 2);
goto BeforeRet;
LA18: ;
if (!(*M_124975).Basetypematch) goto LA21;
Container_124993 = Newnodei_53735(((NU8) 32), (*(*N_124973).KindU.S6.Sons->data[A_124977]).Info);
Addson_53821(Container_124993, Arg_125159);
Setson_124927((*M_124975).Call, (NI32)((*Formal_124994).Position + 1), Container_124993);
if (!!((F_124976 == (NI32)(Formallen_124978 - 1)))) goto LA24;
Container_124993 = NIM_NIL;
LA24: ;
goto LA20;
LA21: ;
Setson_124927((*M_124975).Call, (NI32)((*Formal_124994).Position + 1), Arg_125159);
LA20: ;
goto LA4;
LA5: ;
if (!(Formallen_124978 <= F_124976)) goto LA27;
if (!(((*(*M_124975).Callee).Flags &(1<<((((NU8) 0))&7)))!=0)) goto LA30;
LOC33 = Skiptypes_93085((*(*N_124973).KindU.S6.Sons->data[A_124977]).Typ, IL64(47428533575745536));
if (!((*LOC33).Kind == ((NU8) 28))) goto LA34;
LOC36 = Getsystype_98008(((NU8) 29));
LOC37 = Copytree_53856((*N_124973).KindU.S6.Sons->data[A_124977]);
LOC38 = Implicitconv_124504(((NU8) 47), LOC36, LOC37, &(*M_124975), C_124972);
Addson_53821((*M_124975).Call, LOC38);
goto LA32;
LA34: ;
LOC39 = Copytree_53856((*N_124973).KindU.S6.Sons->data[A_124977]);
Addson_53821((*M_124975).Call, LOC39);
LA32: ;
goto LA29;
LA30: ;
if (!!((Formal_124994 == NIM_NIL))) goto LA40;
(*M_124975).Basetypematch = NIM_FALSE;
Arg_125289 = 0;
Arg_125289 = Paramtypesmatch_124731(C_124972, M_124975, (*Formal_124994).Typ, (*(*N_124973).KindU.S6.Sons->data[A_124977]).Typ, (*N_124973).KindU.S6.Sons->data[A_124977]);
LOC44 = !((Arg_125289 == NIM_NIL));
if (!(LOC44)) goto LA45;
LOC44 = (*M_124975).Basetypematch;
LA45: ;
LOC43 = LOC44;
if (!(LOC43)) goto LA46;
LOC43 = !((Container_124993 == NIM_NIL));
LA46: ;
if (!LOC43) goto LA47;
Addson_53821(Container_124993, Arg_125289);
goto LA42;
LA47: ;
(*M_124975).State = ((NU8) 2);
goto BeforeRet;
LA42: ;
goto LA29;
LA40: ;
(*M_124975).State = ((NU8) 2);
goto BeforeRet;
LA29: ;
goto LA26;
LA27: ;
if (!!(((*(*(*(*M_124975).Callee).N).KindU.S6.Sons->data[F_124976]).Kind == ((NU8) 3)))) goto LA50;
Internalerror_45567((*(*N_124973).KindU.S6.Sons->data[A_124977]).Info, ((NimStringDesc*) &TMP194080));
LA50: ;
Formal_124994 = (*(*(*(*M_124975).Callee).N).KindU.S6.Sons->data[F_124976]).KindU.S4.Sym;
LOC53 = Intsetcontainsorincl_53926(&Marker_124991, (*Formal_124994).Position);
if (!LOC53) goto LA54;
Limessage_45562((*(*N_124973).KindU.S6.Sons->data[A_124977]).Info, ((NU8) 140), (*(*Formal_124994).Name).S);
(*M_124975).State = ((NU8) 2);
goto BeforeRet;
LA54: ;
(*M_124975).Basetypematch = NIM_FALSE;
Arg_125406 = 0;
Arg_125406 = Paramtypesmatch_124731(C_124972, M_124975, (*Formal_124994).Typ, (*(*N_124973).KindU.S6.Sons->data[A_124977]).Typ, (*N_124973).KindU.S6.Sons->data[A_124977]);
if (!(Arg_125406 == NIM_NIL)) goto LA57;
(*M_124975).State = ((NU8) 2);
goto BeforeRet;
LA57: ;
if (!(*M_124975).Basetypematch) goto LA60;
Container_124993 = Newnodei_53735(((NU8) 32), (*(*N_124973).KindU.S6.Sons->data[A_124977]).Info);
Addson_53821(Container_124993, Arg_125406);
LOC62 = Implicitconv_124504(((NU8) 47), (*Formal_124994).Typ, Container_124993, &(*M_124975), C_124972);
Setson_124927((*M_124975).Call, (NI32)((*Formal_124994).Position + 1), LOC62);
if (!!((F_124976 == (NI32)(Formallen_124978 - 1)))) goto LA64;
Container_124993 = NIM_NIL;
LA64: ;
goto LA59;
LA60: ;
Setson_124927((*M_124975).Call, (NI32)((*Formal_124994).Position + 1), Arg_125406);
LA59: ;
LA26: ;
LA4: ;
A_124977 += 1;
F_124976 += 1;
} LA2: ;
F_124976 = 1;
while (1) {
LOC67 = Sonslen_53801((*(*M_124975).Callee).N);
if (!(F_124976 < LOC67)) goto LA66;
Formal_124994 = (*(*(*(*M_124975).Callee).N).KindU.S6.Sons->data[F_124976]).KindU.S4.Sym;
LOC69 = Intsetcontainsorincl_53926(&Marker_124991, (*Formal_124994).Position);
if (!!(LOC69)) goto LA70;
if (!((*Formal_124994).Ast == NIM_NIL)) goto LA73;
if (!((*(*Formal_124994).Typ).Kind == ((NU8) 27))) goto LA76;
Container_124993 = Newnodei_53735(((NU8) 32), (*N_124973).Info);
LOC78 = Implicitconv_124504(((NU8) 47), (*Formal_124994).Typ, Container_124993, &(*M_124975), C_124972);
Addson_53821((*M_124975).Call, LOC78);
goto LA75;
LA76: ;
(*M_124975).State = ((NU8) 2);
goto LA66;
LA75: ;
goto LA72;
LA73: ;
LOC79 = Copytree_53856((*Formal_124994).Ast);
Setson_124927((*M_124975).Call, (NI32)((*Formal_124994).Position + 1), LOC79);
LA72: ;
LA70: ;
F_124976 += 1;
} LA66: ;
BeforeRet: ;
}
N_NIMCALL(NIM_BOOL, Samemethoddispatcher_125526)(TY53545* A_125528, TY53545* B_125529) {
NIM_BOOL Result_125530;
NIM_BOOL LOC2;
TY53523* Aa_125549;
TY53523* Bb_125550;
NIM_BOOL LOC7;
NIM_BOOL LOC8;
Result_125530 = 0;
Result_125530 = NIM_FALSE;
LOC2 = ((*A_125528).Kind == ((NU8) 10));
if (!(LOC2)) goto LA3;
LOC2 = ((*B_125529).Kind == ((NU8) 10));
LA3: ;
if (!LOC2) goto LA4;
Aa_125549 = 0;
Aa_125549 = Lastson_53807((*A_125528).Ast);
Bb_125550 = 0;
Bb_125550 = Lastson_53807((*B_125529).Ast);
LOC8 = ((*Aa_125549).Kind == ((NU8) 3));
if (!(LOC8)) goto LA9;
LOC8 = ((*Bb_125550).Kind == ((NU8) 3));
LA9: ;
LOC7 = LOC8;
if (!(LOC7)) goto LA10;
LOC7 = ((*Aa_125549).KindU.S4.Sym == (*Bb_125550).KindU.S4.Sym);
LA10: ;
if (!LOC7) goto LA11;
Result_125530 = NIM_TRUE;
LA11: ;
LA4: ;
return Result_125530;
}
N_NIMCALL(void, Instantiategenericparamlist_122227)(TY103012* C_122229, TY53523* N_122230, TY53561 Pt_122231) {
NI I_122248;
NI HEX3Atmp_125805;
NI LOC4;
NI Res_125807;
TY53523* A_122261;
TY53545* Q_122283;
TY53545* S_122296;
TY53545* LOC13;
TY53549* T_122297;
TNimObject* LOC14;
NimStringDesc* LOC21;
if (!!(((*N_122230).Kind == ((NU8) 65)))) goto LA2;
Internalerror_45567((*N_122230).Info, ((NimStringDesc*) &TMP194085));
LA2: ;
I_122248 = 0;
HEX3Atmp_125805 = 0;
LOC4 = Sonslen_53801(N_122230);
HEX3Atmp_125805 = (NI32)(LOC4 - 1);
Res_125807 = 0;
Res_125807 = 0;
while (1) {
if (!(Res_125807 <= HEX3Atmp_125805)) goto LA5;
I_122248 = Res_125807;
A_122261 = 0;
A_122261 = (*N_122230).KindU.S6.Sons->data[I_122248];
if (!!(((*A_122261).Kind == ((NU8) 3)))) goto LA8;
Internalerror_45567((*A_122261).Info, ((NimStringDesc*) &TMP194086));
LA8: ;
Q_122283 = 0;
Q_122283 = (*A_122261).KindU.S4.Sym;
if (!!(((*(*Q_122283).Typ).Kind == ((NU8) 8) || (*(*Q_122283).Typ).Kind == ((NU8) 12)))) goto LA11;
goto LA6;
LA11: ;
S_122296 = 0;
LOC13 = Getcurrowner_103107();
S_122296 = Newsym_53699(((NU8) 6), (*Q_122283).Name, LOC13);
T_122297 = 0;
LOC14 = Idtableget_57166(Pt_122231, &(*Q_122283).Typ->Sup);
T_122297 = ((TY53549*) (LOC14));
if (!(T_122297 == NIM_NIL)) goto LA16;
Limessage_45562((*A_122261).Info, ((NU8) 122), (*(*S_122296).Name).S);
LA16: ;
if (!((*T_122297).Kind == ((NU8) 12))) goto LA19;
LOC21 = rawNewString((*(*Q_122283).Name).S->Sup.len + 29);
appendString(LOC21, ((NimStringDesc*) &TMP194087));
appendString(LOC21, (*(*Q_122283).Name).S);
Internalerror_45567((*A_122261).Info, LOC21);
LA19: ;
asgnRef((void**) &(*S_122296).Typ, T_122297);
Adddecl_104026(C_122229, S_122296);
LA6: ;
Res_125807 += 1;
} LA5: ;
}
N_NIMCALL(TY53549*, Neworprevtype_125986)(NU8 Kind_125988, TY53549* Prev_125989, TY103012* C_125990) {
TY53549* Result_125991;
Result_125991 = 0;
if (!(Prev_125989 == NIM_NIL)) goto LA2;
Result_125991 = Newtypes_103077(Kind_125988, C_125990);
goto LA1;
LA2: ;
Result_125991 = Prev_125989;
if (!((*Result_125991).Kind == ((NU8) 30))) goto LA5;
(*Result_125991).Kind = Kind_125988;
LA5: ;
LA1: ;
return Result_125991;
}
N_NIMCALL(TY53545*, Semtypeident_126724)(TY103012* C_126726, TY53523* N_126727) {
TY53545* Result_126728;
Result_126728 = 0;
Result_126728 = Qualifiedlookup_104053(C_126726, N_126727, NIM_TRUE);
if (!!((Result_126728 == NIM_NIL))) goto LA2;
Markused_121065(N_126727, Result_126728);
if (!!(((*Result_126728).Kind == ((NU8) 6)))) goto LA5;
Limessage_45562((*N_126727).Info, ((NU8) 60), ((NimStringDesc*) &TMP193928));
LA5: ;
goto LA1;
LA2: ;
Limessage_45562((*N_126727).Info, ((NU8) 19), ((NimStringDesc*) &TMP193928));
LA1: ;
return Result_126728;
}
N_NIMCALL(TY53549*, Semrangeaux_126421)(TY103012* C_126423, TY53523* N_126424, TY53549* Prev_126425) {
TY53549* Result_126426;
NIM_BOOL LOC5;
TY53523* A_126494;
TY53523* B_126507;
NIM_BOOL LOC10;
NIM_BOOL LOC17;
NIM_BOOL LOC21;
Result_126426 = 0;
if (!!(((*N_126424).Kind == ((NU8) 35)))) goto LA2;
Internalerror_45567((*N_126424).Info, ((NimStringDesc*) &TMP194088));
LA2: ;
Checksonslen_103099(N_126424, 2);
Result_126426 = Neworprevtype_125986(((NU8) 20), Prev_126425, C_126423);
asgnRefNoCycle((void**) &(*Result_126426).N, Newnodei_53735(((NU8) 35), (*N_126424).Info));
LOC5 = ((*N_126424).KindU.S6.Sons->data[0] == NIM_NIL);
if (LOC5) goto LA6;
LOC5 = ((*N_126424).KindU.S6.Sons->data[1] == NIM_NIL);
LA6: ;
if (!LOC5) goto LA7;
Limessage_45562((*N_126424).Info, ((NU8) 104), ((NimStringDesc*) &TMP193928));
LA7: ;
A_126494 = 0;
A_126494 = Semconstexpr_121171(C_126423, (*N_126424).KindU.S6.Sons->data[0]);
B_126507 = 0;
B_126507 = Semconstexpr_121171(C_126423, (*N_126424).KindU.S6.Sons->data[1]);
LOC10 = Sametype_93048((*A_126494).Typ, (*B_126507).Typ);
if (!!(LOC10)) goto LA11;
Limessage_45562((*N_126424).Info, ((NU8) 125), ((NimStringDesc*) &TMP193928));
LA11: ;
if (!!(((*(*A_126494).Typ).Kind >= ((NU8) 31) && (*(*A_126494).Typ).Kind <= ((NU8) 35) || (*(*A_126494).Typ).Kind == ((NU8) 14) || (*(*A_126494).Typ).Kind == ((NU8) 1) || (*(*A_126494).Typ).Kind == ((NU8) 2) || (*(*A_126494).Typ).Kind >= ((NU8) 36) && (*(*A_126494).Typ).Kind <= ((NU8) 39)))) goto LA14;
Limessage_45562((*N_126424).Info, ((NU8) 71), ((NimStringDesc*) &TMP193928));
LA14: ;
LOC17 = Enumhaswholes_93072((*A_126494).Typ);
if (!LOC17) goto LA18;
Limessage_45562((*N_126424).Info, ((NU8) 142), (*(*(*(*A_126494).Typ).Sym).Name).S);
LA18: ;
LOC21 = Levalue_53868(A_126494, B_126507);
if (!!(LOC21)) goto LA22;
Limessage_45562((*N_126424).Info, ((NU8) 104), ((NimStringDesc*) &TMP193928));
LA22: ;
Addson_53821((*Result_126426).N, A_126494);
Addson_53821((*Result_126426).N, B_126507);
Addson_53825(Result_126426, (*B_126507).Typ);
return Result_126426;
}
N_NIMCALL(TY53549*, Semarray_126573)(TY103012* C_126575, TY53523* N_126576, TY53549* Prev_126577) {
TY53549* Result_126578;
TY53549* Indx_126579;
TY53549* Base_126580;
NI LOC2;
NIM_BOOL LOC15;
NIM_BOOL LOC19;
Result_126578 = 0;
Indx_126579 = 0;
Base_126580 = 0;
Result_126578 = Neworprevtype_125986(((NU8) 16), Prev_126577, C_126575);
LOC2 = Sonslen_53801(N_126576);
if (!(LOC2 == 3)) goto LA3;
if (!((*(*N_126576).KindU.S6.Sons->data[1]).Kind == ((NU8) 35))) goto LA6;
Indx_126579 = Semrangeaux_126421(C_126575, (*N_126576).KindU.S6.Sons->data[1], NIM_NIL);
goto LA5;
LA6: ;
Indx_126579 = Semtypenode_121138(C_126575, (*N_126576).KindU.S6.Sons->data[1], NIM_NIL);
LA5: ;
Addson_53825(Result_126578, Indx_126579);
if (!((*Indx_126579).Kind == ((NU8) 11))) goto LA9;
Indx_126579 = Lastson_53810(Indx_126579);
LA9: ;
if (!!(((*Indx_126579).Kind == ((NU8) 12)))) goto LA12;
LOC15 = Isordinaltype_93069(Indx_126579);
if (!!(LOC15)) goto LA16;
Limessage_45562((*(*N_126576).KindU.S6.Sons->data[1]).Info, ((NU8) 71), ((NimStringDesc*) &TMP193928));
LA16: ;
LOC19 = Enumhaswholes_93072(Indx_126579);
if (!LOC19) goto LA20;
Limessage_45562((*(*N_126576).KindU.S6.Sons->data[1]).Info, ((NU8) 142), (*(*(*Indx_126579).Sym).Name).S);
LA20: ;
LA12: ;
Base_126580 = Semtypenode_121138(C_126575, (*N_126576).KindU.S6.Sons->data[2], NIM_NIL);
Addson_53825(Result_126578, Base_126580);
goto LA1;
LA3: ;
Limessage_45562((*N_126576).Info, ((NU8) 170), ((NimStringDesc*) &TMP193928));
LA1: ;
return Result_126578;
}
N_NIMCALL(TY53549*, Semcontainer_126325)(TY103012* C_126327, TY53523* N_126328, NU8 Kind_126329, NimStringDesc* Kindstr_126330, TY53549* Prev_126331) {
TY53549* Result_126332;
NI LOC2;
TY53549* Base_126347;
Result_126332 = 0;
Result_126332 = Neworprevtype_125986(Kind_126329, Prev_126331, C_126327);
LOC2 = Sonslen_53801(N_126328);
if (!(LOC2 == 2)) goto LA3;
Base_126347 = 0;
Base_126347 = Semtypenode_121138(C_126327, (*N_126328).KindU.S6.Sons->data[1], NIM_NIL);
Addson_53825(Result_126332, Base_126347);
goto LA1;
LA3: ;
Limessage_45562((*N_126328).Info, ((NU8) 169), Kindstr_126330);
LA1: ;
return Result_126332;
}
N_NIMCALL(TY53549*, Semrange_126520)(TY103012* C_126522, TY53523* N_126523, TY53549* Prev_126524) {
TY53549* Result_126525;
NI LOC2;
Result_126525 = 0;
Result_126525 = NIM_NIL;
LOC2 = Sonslen_53801(N_126523);
if (!(LOC2 == 2)) goto LA3;
if (!((*(*N_126523).KindU.S6.Sons->data[1]).Kind == ((NU8) 35))) goto LA6;
Result_126525 = Semrangeaux_126421(C_126522, (*N_126523).KindU.S6.Sons->data[1], Prev_126524);
goto LA5;
LA6: ;
Limessage_45562((*(*N_126523).KindU.S6.Sons->data[0]).Info, ((NU8) 93), ((NimStringDesc*) &TMP193928));
LA5: ;
goto LA1;
LA3: ;
Limessage_45562((*N_126523).Info, ((NU8) 169), ((NimStringDesc*) &TMP194090));
LA1: ;
return Result_126525;
}
N_NIMCALL(TY53549*, Semset_126284)(TY103012* C_126286, TY53523* N_126287, TY53549* Prev_126288) {
TY53549* Result_126289;
NI LOC2;
TY53549* Base_126304;
NIM_BOOL LOC12;
NI64 LOC16;
Result_126289 = 0;
Result_126289 = Neworprevtype_125986(((NU8) 19), Prev_126288, C_126286);
LOC2 = Sonslen_53801(N_126287);
if (!(LOC2 == 2)) goto LA3;
Base_126304 = 0;
Base_126304 = Semtypenode_121138(C_126286, (*N_126287).KindU.S6.Sons->data[1], NIM_NIL);
Addson_53825(Result_126289, Base_126304);
if (!((*Base_126304).Kind == ((NU8) 11))) goto LA6;
Base_126304 = Lastson_53810(Base_126304);
LA6: ;
if (!!(((*Base_126304).Kind == ((NU8) 12)))) goto LA9;
LOC12 = Isordinaltype_93069(Base_126304);
if (!!(LOC12)) goto LA13;
Limessage_45562((*N_126287).Info, ((NU8) 71), ((NimStringDesc*) &TMP193928));
LA13: ;
LOC16 = Lengthord_93007(Base_126304);
if (!(65536 < LOC16)) goto LA17;
Limessage_45562((*N_126287).Info, ((NU8) 117), ((NimStringDesc*) &TMP193928));
LA17: ;
LA9: ;
goto LA1;
LA3: ;
Limessage_45562((*N_126287).Info, ((NU8) 169), ((NimStringDesc*) &TMP194091));
LA1: ;
return Result_126289;
}
N_NIMCALL(TY53549*, Semordinal_126682)(TY103012* C_126684, TY53523* N_126685, TY53549* Prev_126686) {
TY53549* Result_126687;
NI LOC2;
TY53549* Base_126702;
NIM_BOOL LOC9;
Result_126687 = 0;
Result_126687 = Neworprevtype_125986(((NU8) 15), Prev_126686, C_126684);
LOC2 = Sonslen_53801(N_126685);
if (!(LOC2 == 2)) goto LA3;
Base_126702 = 0;
Base_126702 = Semtypenode_121138(C_126684, (*N_126685).KindU.S6.Sons->data[1], NIM_NIL);
if (!!(((*Base_126702).Kind == ((NU8) 12)))) goto LA6;
LOC9 = Isordinaltype_93069(Base_126702);
if (!!(LOC9)) goto LA10;
Limessage_45562((*(*N_126685).KindU.S6.Sons->data[1]).Info, ((NU8) 71), ((NimStringDesc*) &TMP193928));
LA10: ;
LA6: ;
Addson_53825(Result_126687, Base_126702);
goto LA1;
LA3: ;
Limessage_45562((*N_126685).Info, ((NU8) 169), ((NimStringDesc*) &TMP194092));
LA1: ;
return Result_126687;
}
N_NIMCALL(TY53549*, Instgenericcontainer_121166)(TY103012* C_121168, TY53523* N_121169, TY53549* Header_121170) {
TY53549* Result_123001;
TY122712 Cl_123002;
Result_123001 = 0;
memset((void*)&Cl_123002, 0, sizeof(Cl_123002));
Initidtable_53752(&Cl_123002.Symmap);
Initidtable_53752(&Cl_123002.Typemap);
Cl_123002.Info = (*N_121169).Info;
Cl_123002.C = C_121168;
Result_123001 = Replacetypevarst_122717(&Cl_123002, Header_121170);
return Result_123001;
}
N_NIMCALL(TY53549*, Semgeneric_126906)(TY103012* C_126908, TY53523* N_126909, TY53545* S_126910, TY53549* Prev_126911) {
TY53549* Result_126912;
TY53549* Elem_126913;
NIM_BOOL Isconcrete_126914;
NIM_BOOL LOC2;
NI LOC10;
NI LOC11;
NI I_126946;
NI HEX3Atmp_141825;
NI LOC14;
NI Res_141827;
Result_126912 = 0;
Elem_126913 = 0;
Isconcrete_126914 = 0;
LOC2 = ((*S_126910).Typ == NIM_NIL);
if (LOC2) goto LA3;
LOC2 = !(((*(*S_126910).Typ).Kind == ((NU8) 10)));
LA3: ;
if (!LOC2) goto LA4;
Limessage_45562((*N_126909).Info, ((NU8) 122), (*(*S_126910).Name).S);
LA4: ;
Result_126912 = Neworprevtype_125986(((NU8) 9), Prev_126911, C_126908);
if (!((*(*S_126910).Typ).Containerid == 0)) goto LA7;
Internalerror_45567((*N_126909).Info, ((NimStringDesc*) &TMP194094));
LA7: ;
LOC10 = Sonslen_53801(N_126909);
LOC11 = Sonslen_53804((*S_126910).Typ);
if (!!((LOC10 == LOC11))) goto LA12;
Limessage_45562((*N_126909).Info, ((NU8) 130), ((NimStringDesc*) &TMP193928));
LA12: ;
Addson_53825(Result_126912, (*S_126910).Typ);
Isconcrete_126914 = NIM_TRUE;
I_126946 = 0;
HEX3Atmp_141825 = 0;
LOC14 = Sonslen_53801(N_126909);
HEX3Atmp_141825 = (NI32)(LOC14 - 1);
Res_141827 = 0;
Res_141827 = 1;
while (1) {
if (!(Res_141827 <= HEX3Atmp_141825)) goto LA15;
I_126946 = Res_141827;
Elem_126913 = Semtypenode_121138(C_126908, (*N_126909).KindU.S6.Sons->data[I_126946], NIM_NIL);
if (!((*Elem_126913).Kind == ((NU8) 12))) goto LA17;
Isconcrete_126914 = NIM_FALSE;
LA17: ;
Addson_53825(Result_126912, Elem_126913);
Res_141827 += 1;
} LA15: ;
if (!Isconcrete_126914) goto LA20;
if (!((*S_126910).Ast == NIM_NIL)) goto LA23;
Limessage_45562((*N_126909).Info, ((NU8) 122), (*(*S_126910).Name).S);
LA23: ;
Result_126912 = Instgenericcontainer_121166(C_126908, N_126909, Result_126912);
LA20: ;
return Result_126912;
}
N_NIMCALL(void, Addinheritedfieldsaux_128067)(TY103012* C_128069, TY53898* Check_128071, NI* Pos_128073, TY53523* N_128074) {
NI I_128115;
NI HEX3Atmp_141877;
NI LOC4;
NI Res_141879;
TY53523* LOC6;
NI I_128147;
NI HEX3Atmp_141883;
NI LOC7;
NI Res_141885;
switch ((*N_128074).Kind) {
case ((NU8) 114):
if (!!(((*(*N_128074).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA2;
Internalerror_45567((*N_128074).Info, ((NimStringDesc*) &TMP194095));
LA2: ;
Addinheritedfieldsaux_128067(C_128069, Check_128071, Pos_128073, (*N_128074).KindU.S6.Sons->data[0]);
I_128115 = 0;
HEX3Atmp_141877 = 0;
LOC4 = Sonslen_53801(N_128074);
HEX3Atmp_141877 = (NI32)(LOC4 - 1);
Res_141879 = 0;
Res_141879 = 1;
while (1) {
if (!(Res_141879 <= HEX3Atmp_141877)) goto LA5;
I_128115 = Res_141879;
switch ((*(*N_128074).KindU.S6.Sons->data[I_128115]).Kind) {
case ((NU8) 75):
case ((NU8) 78):
LOC6 = Lastson_53807((*N_128074).KindU.S6.Sons->data[I_128115]);
Addinheritedfieldsaux_128067(C_128069, Check_128071, Pos_128073, LOC6);
break;
default:
Internalerror_45567((*N_128074).Info, ((NimStringDesc*) &TMP194096));
break;
}
Res_141879 += 1;
} LA5: ;
break;
case ((NU8) 113):
I_128147 = 0;
HEX3Atmp_141883 = 0;
LOC7 = Sonslen_53801(N_128074);
HEX3Atmp_141883 = (NI32)(LOC7 - 1);
Res_141885 = 0;
Res_141885 = 0;
while (1) {
if (!(Res_141885 <= HEX3Atmp_141883)) goto LA8;
I_128147 = Res_141885;
Addinheritedfieldsaux_128067(C_128069, Check_128071, Pos_128073, (*N_128074).KindU.S6.Sons->data[I_128147]);
Res_141885 += 1;
} LA8: ;
break;
case ((NU8) 3):
Intsetincl_53912(Check_128071, (*(*(*N_128074).KindU.S4.Sym).Name).Sup.Id);
(*Pos_128073) += 1;
break;
default:
Internalerror_45567((*N_128074).Info, ((NimStringDesc*) &TMP194097));
break;
}
}
N_NIMCALL(void, Addinheritedfields_128184)(TY103012* C_128186, TY53898* Check_128188, NI* Pos_128190, TY53549* Obj_128191) {
NIM_BOOL LOC2;
NI LOC3;
LOC3 = Sonslen_53804(Obj_128191);
LOC2 = (0 < LOC3);
if (!(LOC2)) goto LA4;
LOC2 = !(((*Obj_128191).Sons->data[0] == NIM_NIL));
LA4: ;
if (!LOC2) goto LA5;
Addinheritedfields_128184(C_128186, Check_128188, Pos_128190, (*Obj_128191).Sons->data[0]);
LA5: ;
Addinheritedfieldsaux_128067(C_128186, Check_128188, Pos_128190, (*Obj_128191).N);
}
N_NIMCALL(void, Checkbool_125912)(TY53523* T_125914) {
NIM_BOOL LOC2;
TY53549* LOC4;
LOC2 = ((*T_125914).Typ == NIM_NIL);
if (LOC2) goto LA3;
LOC4 = Skiptypes_93085((*T_125914).Typ, IL64(38421334321004544));
LOC2 = !(((*LOC4).Kind == ((NU8) 1)));
LA3: ;
if (!LOC2) goto LA5;
Limessage_45562((*T_125914).Info, ((NU8) 101), ((NimStringDesc*) &TMP193928));
LA5: ;
}
N_NIMCALL(NU8, Cmptypes_124467)(TY53549* F_124469, TY53549* A_124470) {
NU8 Result_124471;
TY53561 Mapping_124472;
Result_124471 = 0;
memset((void*)&Mapping_124472, 0, sizeof(Mapping_124472));
Initidtable_53752(&Mapping_124472);
Result_124471 = Typerel_123350(&Mapping_124472, F_124469, A_124470);
return Result_124471;
}
N_NIMCALL(void, Typemismatch_125936)(TY53523* N_125938, TY53549* Formal_125939, TY53549* Actual_125940) {
NimStringDesc* LOC1;
NimStringDesc* LOC2;
NimStringDesc* LOC3;
NimStringDesc* LOC4;
TY45865 LOC5;
NimStringDesc* LOC6;
LOC2 = Msgkindtostring_45588(((NU8) 126));
LOC3 = Typetostring_93014(Actual_125940, ((NU8) 0));
LOC4 = Msgkindtostring_45588(((NU8) 128));
LOC5[0] = Typetostring_93014(Formal_125939, ((NU8) 0));
LOC6 = nsuFormatOpenArray(LOC4, LOC5, 1);
LOC1 = rawNewString(LOC2->Sup.len + LOC3->Sup.len + LOC6->Sup.len + 2);
appendString(LOC1, LOC2);
appendString(LOC1, LOC3);
appendString(LOC1, ((NimStringDesc*) &TMP194101));
appendString(LOC1, LOC6);
Limessage_45562((*N_125938).Info, ((NU8) 4), LOC1);
}
N_NIMCALL(void, Sembranchexpr_127249)(TY103012* C_127251, TY53523* T_127252, TY53523** Ex_127254) {
NU8 LOC2;
unsureAsgnRef((void**) &(*Ex_127254), Semconstexpr_121171(C_127251, (*Ex_127254)));
Checkminsonslen_103103(T_127252, 1);
LOC2 = Cmptypes_124467((*(*T_127252).KindU.S6.Sons->data[0]).Typ, (*(*Ex_127254)).Typ);
if (!(LOC2 <= ((NU8) 1))) goto LA3;
Typemismatch_125936((*Ex_127254), (*(*T_127252).KindU.S6.Sons->data[0]).Typ, (*(*Ex_127254)).Typ);
LA3: ;
}
N_NIMCALL(void, Checkforoverlap_127191)(TY103012* C_127193, TY53523* T_127194, TY53523* Ex_127195, NI Branchindex_127196) {
NI I_127204;
NI HEX3Atmp_141837;
NI Res_141839;
NI J_127224;
NI HEX3Atmp_141831;
NI LOC2;
NI Res_141833;
NIM_BOOL LOC5;
I_127204 = 0;
HEX3Atmp_141837 = 0;
HEX3Atmp_141837 = (NI32)(Branchindex_127196 - 1);
Res_141839 = 0;
Res_141839 = 1;
while (1) {
if (!(Res_141839 <= HEX3Atmp_141837)) goto LA1;
I_127204 = Res_141839;
J_127224 = 0;
HEX3Atmp_141831 = 0;
LOC2 = Sonslen_53801((*T_127194).KindU.S6.Sons->data[I_127204]);
HEX3Atmp_141831 = (NI32)(LOC2 - 2);
Res_141833 = 0;
Res_141833 = 0;
while (1) {
if (!(Res_141833 <= HEX3Atmp_141831)) goto LA3;
J_127224 = Res_141833;
LOC5 = Overlap_100006((*(*T_127194).KindU.S6.Sons->data[I_127204]).KindU.S6.Sons->data[J_127224], Ex_127195);
if (!LOC5) goto LA6;
Limessage_45562((*Ex_127195).Info, ((NU8) 103), ((NimStringDesc*) &TMP193928));
LA6: ;
Res_141833 += 1;
} LA3: ;
Res_141839 += 1;
} LA1: ;
}
N_NIMCALL(void, Semcasebranch_127288)(TY103012* C_127290, TY53523* T_127291, TY53523* Branch_127292, NI Branchindex_127293, NI64* Covered_127295) {
NI I_127303;
NI HEX3Atmp_141847;
NI LOC1;
NI Res_141849;
TY53523* B_127316;
NIM_BOOL LOC7;
NI64 LOC10;
NI64 LOC11;
I_127303 = 0;
HEX3Atmp_141847 = 0;
LOC1 = Sonslen_53801(Branch_127292);
HEX3Atmp_141847 = (NI32)(LOC1 - 2);
Res_141849 = 0;
Res_141849 = 0;
while (1) {
if (!(Res_141849 <= HEX3Atmp_141847)) goto LA2;
I_127303 = Res_141849;
B_127316 = 0;
B_127316 = (*Branch_127292).KindU.S6.Sons->data[I_127303];
if (!((*B_127316).Kind == ((NU8) 35))) goto LA4;
Checksonslen_103099(B_127316, 2);
Sembranchexpr_127249(C_127290, T_127291, &(*B_127316).KindU.S6.Sons->data[0]);
Sembranchexpr_127249(C_127290, T_127291, &(*B_127316).KindU.S6.Sons->data[1]);
LOC7 = Emptyrange_100019((*B_127316).KindU.S6.Sons->data[0], (*B_127316).KindU.S6.Sons->data[1]);
if (!LOC7) goto LA8;
Limessage_45562((*B_127316).Info, ((NU8) 104), ((NimStringDesc*) &TMP193928));
LA8: ;
LOC10 = Getordvalue_93107((*B_127316).KindU.S6.Sons->data[1]);
LOC11 = Getordvalue_93107((*B_127316).KindU.S6.Sons->data[0]);
(*Covered_127295) = (NI64)((NI64)((NI64)((*Covered_127295) + LOC10) - LOC11) + 1);
goto LA3;
LA4: ;
Sembranchexpr_127249(C_127290, T_127291, &(*Branch_127292).KindU.S6.Sons->data[I_127303]);
(*Covered_127295) += 1;
LA3: ;
Checkforoverlap_127191(C_127290, T_127291, (*Branch_127292).KindU.S6.Sons->data[I_127303], Branchindex_127293);
Res_141849 += 1;
} LA2: ;
}
N_NIMCALL(void, Semrecordcase_127447)(TY103012* C_127449, TY53523* N_127450, TY53898* Check_127452, NI* Pos_127454, TY53523* Father_127455, TY53545* Rectype_127456) {
NI64 Covered_127457;
NIM_BOOL Chckcovered_127458;
TY53523* A_127459;
TY53523* B_127460;
TY53549* Typ_127461;
NIM_BOOL LOC5;
NI64 LOC9;
NI64 LOC13;
NI I_127602;
NI HEX3Atmp_141853;
NI LOC16;
NI Res_141855;
NI LOC18;
TY53523* LOC19;
NIM_BOOL LOC21;
NI64 LOC23;
Covered_127457 = 0;
Chckcovered_127458 = 0;
A_127459 = 0;
B_127460 = 0;
Typ_127461 = 0;
A_127459 = Copynode_53853(N_127450);
Checkminsonslen_103103(N_127450, 2);
Semrecordnodeaux_127437(C_127449, (*N_127450).KindU.S6.Sons->data[0], Check_127452, Pos_127454, A_127459, Rectype_127456);
if (!!(((*(*A_127459).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA2;
Internalerror_45571(((NimStringDesc*) &TMP194100));
LA2: ;
(*(*(*A_127459).KindU.S6.Sons->data[0]).KindU.S4.Sym).Flags |=(1<<((NI32)(((NU8) 21))%(sizeof(NI32)*8)));
Covered_127457 = 0;
Typ_127461 = Skiptypes_93085((*(*A_127459).KindU.S6.Sons->data[0]).Typ, IL64(47428533575745536));
LOC5 = Isordinaltype_93069(Typ_127461);
if (!!(LOC5)) goto LA6;
Limessage_45562((*N_127450).Info, ((NU8) 106), ((NimStringDesc*) &TMP193928));
LA6: ;
LOC9 = Firstord_93001(Typ_127461);
if (!(LOC9 < 0)) goto LA10;
Limessage_45562((*N_127450).Info, ((NU8) 107), (*(*(*(*A_127459).KindU.S6.Sons->data[0]).KindU.S4.Sym).Name).S);
LA10: ;
LOC13 = Lengthord_93007(Typ_127461);
if (!(32767 < LOC13)) goto LA14;
Limessage_45562((*N_127450).Info, ((NU8) 108), (*(*(*(*A_127459).KindU.S6.Sons->data[0]).KindU.S4.Sym).Name).S);
LA14: ;
Chckcovered_127458 = NIM_TRUE;
I_127602 = 0;
HEX3Atmp_141853 = 0;
LOC16 = Sonslen_53801(N_127450);
HEX3Atmp_141853 = (NI32)(LOC16 - 1);
Res_141855 = 0;
Res_141855 = 1;
while (1) {
if (!(Res_141855 <= HEX3Atmp_141853)) goto LA17;
I_127602 = Res_141855;
B_127460 = Copytree_53856((*N_127450).KindU.S6.Sons->data[I_127602]);
switch ((*(*N_127450).KindU.S6.Sons->data[I_127602]).Kind) {
case ((NU8) 75):
Checkminsonslen_103103(B_127460, 2);
Semcasebranch_127288(C_127449, A_127459, B_127460, I_127602, &Covered_127457);
break;
case ((NU8) 78):
Chckcovered_127458 = NIM_FALSE;
Checksonslen_103099(B_127460, 1);
break;
default:
Illformedast_103092(N_127450);
break;
}
LOC18 = Sonslen_53801(B_127460);
Delson_53833(B_127460, (NI32)(LOC18 - 1));
LOC19 = Lastson_53807((*N_127450).KindU.S6.Sons->data[I_127602]);
Semrecordnodeaux_127437(C_127449, LOC19, Check_127452, Pos_127454, B_127460, Rectype_127456);
Addson_53821(A_127459, B_127460);
Res_141855 += 1;
} LA17: ;
LOC21 = Chckcovered_127458;
if (!(LOC21)) goto LA22;
LOC23 = Lengthord_93007((*(*A_127459).KindU.S6.Sons->data[0]).Typ);
LOC21 = !((Covered_127457 == LOC23));
LA22: ;
if (!LOC21) goto LA24;
Limessage_45562((*A_127459).Info, ((NU8) 147), ((NimStringDesc*) &TMP193928));
LA24: ;
Addson_53821(Father_127455, A_127459);
}
N_NIMCALL(TY53545*, Newsyms_121059)(NU8 Kind_121061, TY53523* N_121062, TY103012* C_121063) {
TY53545* Result_121064;
TY52011* LOC1;
TY53545* LOC2;
Result_121064 = 0;
LOC1 = Consideracc_121003(N_121062);
LOC2 = Getcurrowner_103107();
Result_121064 = Newsym_53699(Kind_121061, LOC1, LOC2);
(*Result_121064).Info = (*N_121062).Info;
return Result_121064;
}
N_NIMCALL(TY53545*, Semidentvis_121092)(TY103012* C_121094, NU8 Kind_121095, TY53523* N_121096, NU32 Allowed_121097) {
TY53545* Result_126985;
NIM_BOOL LOC5;
NI LOC6;
TY52011* V_127054;
NIM_BOOL LOC11;
NIM_BOOL LOC15;
Result_126985 = 0;
if (!((*N_121096).Kind == ((NU8) 29))) goto LA2;
LOC6 = Sonslen_53801(N_121096);
LOC5 = (LOC6 == 2);
if (!(LOC5)) goto LA7;
LOC5 = ((*(*N_121096).KindU.S6.Sons->data[0]).Kind == ((NU8) 2));
LA7: ;
if (!LOC5) goto LA8;
Result_126985 = Newsyms_121059(Kind_121095, (*N_121096).KindU.S6.Sons->data[1], C_121094);
V_127054 = 0;
V_127054 = (*(*N_121096).KindU.S6.Sons->data[0]).KindU.S5.Ident;
LOC11 = ((Allowed_121097 &(1<<((((NU8) 1))&31)))!=0);
if (!(LOC11)) goto LA12;
LOC11 = ((*V_127054).Sup.Id == 69);
LA12: ;
if (!LOC11) goto LA13;
(*Result_126985).Flags |=(1<<((NI32)(((NU8) 1))%(sizeof(NI32)*8)));
goto LA10;
LA13: ;
LOC15 = ((Allowed_121097 &(1<<((((NU8) 2))&31)))!=0);
if (!(LOC15)) goto LA16;
LOC15 = ((*V_127054).Sup.Id == 70);
LA16: ;
if (!LOC15) goto LA17;
(*Result_126985).Flags |=(1<<((NI32)(((NU8) 2))%(sizeof(NI32)*8)));
goto LA10;
LA17: ;
Limessage_45562((*(*N_121096).KindU.S6.Sons->data[0]).Info, ((NU8) 171), (*V_127054).S);
LA10: ;
goto LA4;
LA8: ;
Illformedast_103092(N_121096);
LA4: ;
goto LA1;
LA2: ;
Result_126985 = Newsyms_121059(Kind_121095, N_121096, C_121094);
LA1: ;
return Result_126985;
}
N_NIMCALL(TY53545*, Semidentwithpragma_121098)(TY103012* C_121100, NU8 Kind_121101, TY53523* N_121102, NU32 Allowed_121103) {
TY53545* Result_127133;
Result_127133 = 0;
if (!((*N_121102).Kind == ((NU8) 34))) goto LA2;
Checksonslen_103099(N_121102, 2);
Result_127133 = Semidentvis_121092(C_121100, Kind_121101, (*N_121102).KindU.S6.Sons->data[0], Allowed_121103);
switch (Kind_121101) {
case ((NU8) 6):
break;
case ((NU8) 15):
Pragma_118028(C_121100, Result_127133, (*N_121102).KindU.S6.Sons->data[1], TMP194107);
break;
case ((NU8) 8):
Pragma_118028(C_121100, Result_127133, (*N_121102).KindU.S6.Sons->data[1], TMP194108);
break;
case ((NU8) 7):
Pragma_118028(C_121100, Result_127133, (*N_121102).KindU.S6.Sons->data[1], TMP194109);
break;
default:
break;
}
goto LA1;
LA2: ;
Result_127133 = Semidentvis_121092(C_121100, Kind_121101, N_121102, Allowed_121103);
LA1: ;
return Result_127133;
}
N_NIMCALL(void, Semrecordnodeaux_127437)(TY103012* C_127439, TY53523* N_127440, TY53898* Check_127442, NI* Pos_127444, TY53523* Father_127445, TY53545* Rectype_127446) {
NI Length_127664;
TY53545* F_127665;
TY53523* A_127666;
TY53523* It_127667;
TY53523* E_127668;
TY53523* Branch_127669;
TY53549* Typ_127670;
NI I_127689;
NI HEX3Atmp_141859;
NI LOC4;
NI Res_141861;
NIM_BOOL LOC13;
TY53523* LOC26;
NI I_127830;
NI HEX3Atmp_141865;
NI LOC30;
NI Res_141867;
NIM_BOOL LOC36;
NI I_127940;
NI HEX3Atmp_141871;
NI LOC46;
NI Res_141873;
NIM_BOOL LOC49;
NIM_BOOL LOC50;
NIM_BOOL LOC56;
TY53523* LOC62;
TY53523* LOC63;
Length_127664 = 0;
F_127665 = 0;
A_127666 = 0;
It_127667 = 0;
E_127668 = 0;
Branch_127669 = 0;
Typ_127670 = 0;
if (!(N_127440 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*N_127440).Kind) {
case ((NU8) 115):
Branch_127669 = NIM_NIL;
I_127689 = 0;
HEX3Atmp_141859 = 0;
LOC4 = Sonslen_53801(N_127440);
HEX3Atmp_141859 = (NI32)(LOC4 - 1);
Res_141861 = 0;
Res_141861 = 0;
while (1) {
if (!(Res_141861 <= HEX3Atmp_141859)) goto LA5;
I_127689 = Res_141861;
It_127667 = (*N_127440).KindU.S6.Sons->data[I_127689];
if (!(It_127667 == NIM_NIL)) goto LA7;
Illformedast_103092(N_127440);
LA7: ;
switch ((*It_127667).Kind) {
case ((NU8) 76):
Checksonslen_103099(It_127667, 2);
E_127668 = Semconstexpr_121171(C_127439, (*It_127667).KindU.S6.Sons->data[0]);
Checkbool_125912(E_127668);
if (!!(((*E_127668).Kind == ((NU8) 6)))) goto LA10;
Internalerror_45567((*E_127668).Info, ((NimStringDesc*) &TMP194099));
LA10: ;
LOC13 = !(((*E_127668).KindU.S1.Intval == 0));
if (!(LOC13)) goto LA14;
LOC13 = (Branch_127669 == NIM_NIL);
LA14: ;
if (!LOC13) goto LA15;
Branch_127669 = (*It_127667).KindU.S6.Sons->data[1];
LA15: ;
break;
case ((NU8) 78):
Checksonslen_103099(It_127667, 1);
if (!(Branch_127669 == NIM_NIL)) goto LA18;
Branch_127669 = (*It_127667).KindU.S6.Sons->data[0];
LA18: ;
break;
default:
Illformedast_103092(N_127440);
break;
}
Res_141861 += 1;
} LA5: ;
if (!!((Branch_127669 == NIM_NIL))) goto LA21;
Semrecordnodeaux_127437(C_127439, Branch_127669, Check_127442, Pos_127444, Father_127445, Rectype_127446);
LA21: ;
break;
case ((NU8) 114):
Semrecordcase_127447(C_127439, N_127440, Check_127442, Pos_127444, Father_127445, Rectype_127446);
break;
case ((NU8) 18):
if (!!(((*Father_127445).Kind == ((NU8) 113)))) goto LA24;
LOC26 = Newnodei_53735(((NU8) 113), (*N_127440).Info);
Addson_53821(Father_127445, LOC26);
LA24: ;
break;
case ((NU8) 113):
if (!((*Father_127445).Kind == ((NU8) 113))) goto LA28;
A_127666 = Father_127445;
goto LA27;
LA28: ;
A_127666 = Copynode_53853(N_127440);
LA27: ;
I_127830 = 0;
HEX3Atmp_141865 = 0;
LOC30 = Sonslen_53801(N_127440);
HEX3Atmp_141865 = (NI32)(LOC30 - 1);
Res_141867 = 0;
Res_141867 = 0;
while (1) {
if (!(Res_141867 <= HEX3Atmp_141865)) goto LA31;
I_127830 = Res_141867;
Semrecordnodeaux_127437(C_127439, (*N_127440).KindU.S6.Sons->data[I_127830], Check_127442, Pos_127444, A_127666, Rectype_127446);
Res_141867 += 1;
} LA31: ;
if (!!((A_127666 == Father_127445))) goto LA33;
Addson_53821(Father_127445, A_127666);
LA33: ;
break;
case ((NU8) 25):
Checkminsonslen_103103(N_127440, 3);
Length_127664 = Sonslen_53801(N_127440);
LOC36 = !(((*Father_127445).Kind == ((NU8) 113)));
if (!(LOC36)) goto LA37;
LOC36 = (4 <= Length_127664);
LA37: ;
if (!LOC36) goto LA38;
A_127666 = Newnodei_53735(((NU8) 113), (*N_127440).Info);
goto LA35;
LA38: ;
A_127666 = NIM_NIL;
LA35: ;
if (!!(((*N_127440).KindU.S6.Sons->data[(NI32)(Length_127664 - 1)] == NIM_NIL))) goto LA41;
Limessage_45562((*(*N_127440).KindU.S6.Sons->data[(NI32)(Length_127664 - 1)]).Info, ((NU8) 172), ((NimStringDesc*) &TMP193928));
LA41: ;
if (!((*N_127440).KindU.S6.Sons->data[(NI32)(Length_127664 - 2)] == NIM_NIL)) goto LA44;
Limessage_45562((*N_127440).Info, ((NU8) 60), ((NimStringDesc*) &TMP193928));
LA44: ;
Typ_127670 = Semtypenode_121138(C_127439, (*N_127440).KindU.S6.Sons->data[(NI32)(Length_127664 - 2)], NIM_NIL);
I_127940 = 0;
HEX3Atmp_141871 = 0;
LOC46 = Sonslen_53801(N_127440);
HEX3Atmp_141871 = (NI32)(LOC46 - 3);
Res_141873 = 0;
Res_141873 = 0;
while (1) {
if (!(Res_141873 <= HEX3Atmp_141871)) goto LA47;
I_127940 = Res_141873;
F_127665 = Semidentwithpragma_121098(C_127439, ((NU8) 15), (*N_127440).KindU.S6.Sons->data[I_127940], 100663296);
asgnRef((void**) &(*F_127665).Typ, Typ_127670);
(*F_127665).Position = (*Pos_127444);
LOC50 = !((Rectype_127446 == NIM_NIL));
if (!(LOC50)) goto LA51;
LOC50 = !(((IL64(2147549184) & (*Rectype_127446).Flags) == 0));
LA51: ;
LOC49 = LOC50;
if (!(LOC49)) goto LA52;
LOC49 = ((*F_127665).Loc.R == NIM_NIL);
LA52: ;
if (!LOC49) goto LA53;
asgnRefNoCycle((void**) &(*F_127665).Loc.R, Torope_50046((*(*F_127665).Name).S));
(*F_127665).Flags = ((*F_127665).Flags | (IL64(2147549184) & (*Rectype_127446).Flags));
LA53: ;
(*Pos_127444) += 1;
LOC56 = Intsetcontainsorincl_53926(Check_127442, (*(*F_127665).Name).Sup.Id);
if (!LOC56) goto LA57;
Limessage_45562((*(*N_127440).KindU.S6.Sons->data[I_127940]).Info, ((NU8) 37), (*(*F_127665).Name).S);
LA57: ;
if (!(A_127666 == NIM_NIL)) goto LA60;
LOC62 = Newsymnode_53732(F_127665);
Addson_53821(Father_127445, LOC62);
goto LA59;
LA60: ;
LOC63 = Newsymnode_53732(F_127665);
Addson_53821(A_127666, LOC63);
LA59: ;
Res_141873 += 1;
} LA47: ;
if (!!((A_127666 == NIM_NIL))) goto LA65;
Addson_53821(Father_127445, A_127666);
LA65: ;
break;
default:
Illformedast_103092(N_127440);
break;
}
BeforeRet: ;
}
N_NIMCALL(TY53549*, Semobjectnode_128205)(TY103012* C_128207, TY53523* N_128208, TY53549* Prev_128209) {
TY53549* Result_128210;
TY53898 Check_128211;
TY53549* Base_128212;
NI Pos_128213;
NIM_BOOL LOC11;
Result_128210 = 0;
memset((void*)&Check_128211, 0, sizeof(Check_128211));
Base_128212 = 0;
Pos_128213 = 0;
Intsetinit_53922(&Check_128211);
Pos_128213 = 0;
Checksonslen_103099(N_128208, 3);
if (!!(((*N_128208).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA2;
Base_128212 = Semtypenode_121138(C_128207, (*(*N_128208).KindU.S6.Sons->data[1]).KindU.S6.Sons->data[0], NIM_NIL);
if (!((*Base_128212).Kind == ((NU8) 17))) goto LA5;
Addinheritedfields_128184(C_128207, &Check_128211, &Pos_128213, Base_128212);
goto LA4;
LA5: ;
Limessage_45562((*(*N_128208).KindU.S6.Sons->data[1]).Info, ((NU8) 119), ((NimStringDesc*) &TMP193928));
LA4: ;
goto LA1;
LA2: ;
Base_128212 = NIM_NIL;
LA1: ;
if (!!(((*N_128208).Kind == ((NU8) 111)))) goto LA8;
Internalerror_45567((*N_128208).Info, ((NimStringDesc*) &TMP194098));
LA8: ;
Result_128210 = Neworprevtype_125986(((NU8) 17), Prev_128209, C_128207);
Addson_53825(Result_128210, Base_128212);
asgnRefNoCycle((void**) &(*Result_128210).N, Newnodei_53735(((NU8) 113), (*N_128208).Info));
Semrecordnodeaux_127437(C_128207, (*N_128208).KindU.S6.Sons->data[2], &Check_128211, &Pos_128213, (*Result_128210).N, (*Result_128210).Sym);
LOC11 = !((Base_128212 == NIM_NIL));
if (!(LOC11)) goto LA12;
LOC11 = (((*Base_128212).Flags &(1<<((((NU8) 2))&7)))!=0);
LA12: ;
if (!LOC11) goto LA13;
Limessage_45562((*(*N_128208).KindU.S6.Sons->data[1]).Info, ((NU8) 119), ((NimStringDesc*) &TMP193928));
LA13: ;
return Result_128210;
}
N_NIMCALL(TY53549*, Semtuple_126749)(TY103012* C_126751, TY53523* N_126752, TY53549* Prev_126753) {
TY53549* Result_126754;
NI Length_126755;
NI Counter_126756;
TY53549* Typ_126757;
TY53898 Check_126758;
TY53523* A_126759;
TY53545* Field_126760;
NI I_126769;
NI HEX3Atmp_141815;
NI LOC1;
NI Res_141817;
NI J_126868;
NI HEX3Atmp_141809;
NI Res_141811;
NIM_BOOL LOC14;
TY53523* LOC17;
Result_126754 = 0;
Length_126755 = 0;
Counter_126756 = 0;
Typ_126757 = 0;
memset((void*)&Check_126758, 0, sizeof(Check_126758));
A_126759 = 0;
Field_126760 = 0;
Result_126754 = Neworprevtype_125986(((NU8) 18), Prev_126753, C_126751);
asgnRefNoCycle((void**) &(*Result_126754).N, Newnodei_53735(((NU8) 113), (*N_126752).Info));
Intsetinit_53922(&Check_126758);
Counter_126756 = 0;
I_126769 = 0;
HEX3Atmp_141815 = 0;
LOC1 = Sonslen_53801(N_126752);
HEX3Atmp_141815 = (NI32)(LOC1 - 1);
Res_141817 = 0;
Res_141817 = 0;
while (1) {
if (!(Res_141817 <= HEX3Atmp_141815)) goto LA2;
I_126769 = Res_141817;
A_126759 = (*N_126752).KindU.S6.Sons->data[I_126769];
if (!!(((*A_126759).Kind == ((NU8) 25)))) goto LA4;
Illformedast_103092(A_126759);
LA4: ;
Checkminsonslen_103103(A_126759, 3);
Length_126755 = Sonslen_53801(A_126759);
if (!!(((*A_126759).KindU.S6.Sons->data[(NI32)(Length_126755 - 2)] == NIM_NIL))) goto LA7;
Typ_126757 = Semtypenode_121138(C_126751, (*A_126759).KindU.S6.Sons->data[(NI32)(Length_126755 - 2)], NIM_NIL);
goto LA6;
LA7: ;
Limessage_45562((*A_126759).Info, ((NU8) 60), ((NimStringDesc*) &TMP193928));
LA6: ;
if (!!(((*A_126759).KindU.S6.Sons->data[(NI32)(Length_126755 - 1)] == NIM_NIL))) goto LA10;
Limessage_45562((*(*A_126759).KindU.S6.Sons->data[(NI32)(Length_126755 - 1)]).Info, ((NU8) 172), ((NimStringDesc*) &TMP193928));
LA10: ;
J_126868 = 0;
HEX3Atmp_141809 = 0;
HEX3Atmp_141809 = (NI32)(Length_126755 - 3);
Res_141811 = 0;
Res_141811 = 0;
while (1) {
if (!(Res_141811 <= HEX3Atmp_141809)) goto LA12;
J_126868 = Res_141811;
Field_126760 = Newsyms_121059(((NU8) 15), (*A_126759).KindU.S6.Sons->data[J_126868], C_126751);
asgnRef((void**) &(*Field_126760).Typ, Typ_126757);
(*Field_126760).Position = Counter_126756;
Counter_126756 += 1;
LOC14 = Intsetcontainsorincl_53926(&Check_126758, (*(*Field_126760).Name).Sup.Id);
if (!LOC14) goto LA15;
Limessage_45562((*(*A_126759).KindU.S6.Sons->data[J_126868]).Info, ((NU8) 37), (*(*Field_126760).Name).S);
LA15: ;
LOC17 = Newsymnode_53732(Field_126760);
Addson_53821((*Result_126754).N, LOC17);
Addson_53825(Result_126754, Typ_126757);
Res_141811 += 1;
} LA12: ;
Res_141817 += 1;
} LA2: ;
return Result_126754;
}
N_NIMCALL(TY53549*, Semanyref_126348)(TY103012* C_126350, TY53523* N_126351, NU8 Kind_126352, NimStringDesc* Kindstr_126353, TY53549* Prev_126354) {
TY53549* Result_126355;
NI LOC2;
TY53549* Base_126370;
Result_126355 = 0;
Result_126355 = Neworprevtype_125986(Kind_126352, Prev_126354, C_126350);
LOC2 = Sonslen_53801(N_126351);
if (!(LOC2 == 1)) goto LA3;
Base_126370 = 0;
Base_126370 = Semtypenode_121138(C_126350, (*N_126351).KindU.S6.Sons->data[0], NIM_NIL);
Addson_53825(Result_126355, Base_126370);
goto LA1;
LA3: ;
Limessage_45562((*N_126351).Info, ((NU8) 169), Kindstr_126353);
LA1: ;
return Result_126355;
}
N_NIMCALL(TY53549*, Semvartype_126371)(TY103012* C_126373, TY53523* N_126374, TY53549* Prev_126375) {
TY53549* Result_126376;
NI LOC2;
TY53549* Base_126391;
Result_126376 = 0;
Result_126376 = Neworprevtype_125986(((NU8) 23), Prev_126375, C_126373);
LOC2 = Sonslen_53801(N_126374);
if (!(LOC2 == 1)) goto LA3;
Base_126391 = 0;
Base_126391 = Semtypenode_121138(C_126373, (*N_126374).KindU.S6.Sons->data[0], NIM_NIL);
if (!((*Base_126391).Kind == ((NU8) 23))) goto LA6;
Limessage_45562((*N_126374).Info, ((NU8) 190), ((NimStringDesc*) &TMP193928));
LA6: ;
Addson_53825(Result_126376, Base_126391);
goto LA1;
LA3: ;
Limessage_45562((*N_126374).Info, ((NU8) 169), ((NimStringDesc*) &TMP194112));
LA1: ;
return Result_126376;
}
N_NIMCALL(TY53549*, Semdistinct_126401)(TY103012* C_126403, TY53523* N_126404, TY53549* Prev_126405) {
TY53549* Result_126406;
NI LOC2;
TY53549* LOC5;
Result_126406 = 0;
Result_126406 = Neworprevtype_125986(((NU8) 13), Prev_126405, C_126403);
LOC2 = Sonslen_53801(N_126404);
if (!(LOC2 == 1)) goto LA3;
LOC5 = Semtypenode_121138(C_126403, (*N_126404).KindU.S6.Sons->data[0], NIM_NIL);
Addson_53825(Result_126406, LOC5);
goto LA1;
LA3: ;
Limessage_45562((*N_126404).Info, ((NU8) 169), ((NimStringDesc*) &TMP194113));
LA1: ;
return Result_126406;
}
N_NIMCALL(TY53549*, Semenum_126012)(TY103012* C_126014, TY53523* N_126015, TY53549* Prev_126016) {
TY53549* Result_126017;
NI64 Counter_126018;
NI64 X_126019;
TY53545* E_126020;
TY53549* Base_126021;
TY53523* V_126022;
NI64 LOC7;
NI I_126098;
NI HEX3Atmp_141803;
NI LOC8;
NI Res_141805;
NIM_BOOL LOC20;
TY53523* LOC24;
Result_126017 = 0;
Counter_126018 = 0;
X_126019 = 0;
E_126020 = 0;
Base_126021 = 0;
V_126022 = 0;
Counter_126018 = 0;
Base_126021 = NIM_NIL;
Result_126017 = Neworprevtype_125986(((NU8) 14), Prev_126016, C_126014);
asgnRefNoCycle((void**) &(*Result_126017).N, Newnodei_53735(((NU8) 121), (*N_126015).Info));
Checkminsonslen_103103(N_126015, 1);
if (!!(((*N_126015).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA2;
Base_126021 = Semtypenode_121138(C_126014, (*(*N_126015).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[0], NIM_NIL);
if (!!(((*Base_126021).Kind == ((NU8) 14)))) goto LA5;
Limessage_45562((*(*N_126015).KindU.S6.Sons->data[0]).Info, ((NU8) 120), ((NimStringDesc*) &TMP193928));
LA5: ;
LOC7 = Lastord_93004(Base_126021);
Counter_126018 = (NI64)(LOC7 + 1);
LA2: ;
Addson_53825(Result_126017, Base_126021);
I_126098 = 0;
HEX3Atmp_141803 = 0;
LOC8 = Sonslen_53801(N_126015);
HEX3Atmp_141803 = (NI32)(LOC8 - 1);
Res_141805 = 0;
Res_141805 = 1;
while (1) {
if (!(Res_141805 <= HEX3Atmp_141803)) goto LA9;
I_126098 = Res_141805;
switch ((*(*N_126015).KindU.S6.Sons->data[I_126098]).Kind) {
case ((NU8) 122):
E_126020 = Newsyms_121059(((NU8) 16), (*(*N_126015).KindU.S6.Sons->data[I_126098]).KindU.S6.Sons->data[0], C_126014);
V_126022 = Semconstexpr_121171(C_126014, (*(*N_126015).KindU.S6.Sons->data[I_126098]).KindU.S6.Sons->data[1]);
X_126019 = Getordvalue_93107(V_126022);
if (!!((I_126098 == 1))) goto LA11;
if (!!((X_126019 == Counter_126018))) goto LA14;
(*Result_126017).Flags |=(1<<((NI8)(((NU8) 4))%(sizeof(NI8)*8)));
LA14: ;
if (!(X_126019 < Counter_126018)) goto LA17;
Limessage_45562((*(*N_126015).KindU.S6.Sons->data[I_126098]).Info, ((NU8) 141), (*(*E_126020).Name).S);
LA17: ;
LA11: ;
Counter_126018 = X_126019;
break;
case ((NU8) 3):
E_126020 = (*(*N_126015).KindU.S6.Sons->data[I_126098]).KindU.S4.Sym;
break;
case ((NU8) 2):
E_126020 = Newsyms_121059(((NU8) 16), (*N_126015).KindU.S6.Sons->data[I_126098], C_126014);
break;
default:
Illformedast_103092(N_126015);
break;
}
asgnRef((void**) &(*E_126020).Typ, Result_126017);
(*E_126020).Position = ((NI) (Counter_126018));
LOC20 = !(((*Result_126017).Sym == NIM_NIL));
if (!(LOC20)) goto LA21;
LOC20 = (((*(*Result_126017).Sym).Flags &(1<<((((NU8) 3))&31)))!=0);
LA21: ;
if (!LOC20) goto LA22;
(*E_126020).Flags |=(1<<((NI32)(((NU8) 0))%(sizeof(NI32)*8)));
(*E_126020).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
Strtableadd_57064(&(*(*C_126014).Module).Tab, E_126020);
LA22: ;
LOC24 = Newsymnode_53732(E_126020);
Addson_53821((*Result_126017).N, LOC24);
Adddeclat_104030(C_126014, E_126020, ((NI) ((NI32)(((NI) ((*C_126014).Tab.Tos)) - 1))));
Counter_126018 += 1;
Res_141805 += 1;
} LA9: ;
return Result_126017;
}
N_NIMCALL(TY53549*, Semstmtlisttype_128684)(TY103012* C_128686, TY53523* N_128687, TY53549* Prev_128688) {
TY53549* Result_128689;
NI Length_128690;
NI I_128698;
NI HEX3Atmp_141923;
NI Res_141925;
Result_128689 = 0;
Length_128690 = 0;
Checkminsonslen_103103(N_128687, 1);
Length_128690 = Sonslen_53801(N_128687);
I_128698 = 0;
HEX3Atmp_141923 = 0;
HEX3Atmp_141923 = (NI32)(Length_128690 - 2);
Res_141925 = 0;
Res_141925 = 0;
while (1) {
if (!(Res_141925 <= HEX3Atmp_141923)) goto LA1;
I_128698 = Res_141925;
asgnRefNoCycle((void**) &(*N_128687).KindU.S6.Sons->data[I_128698], Semstmt_121143(C_128686, (*N_128687).KindU.S6.Sons->data[I_128698]));
Res_141925 += 1;
} LA1: ;
if (!(0 < Length_128690)) goto LA3;
Result_128689 = Semtypenode_121138(C_128686, (*N_128687).KindU.S6.Sons->data[(NI32)(Length_128690 - 1)], Prev_128688);
asgnRef((void**) &(*N_128687).Typ, Result_128689);
asgnRef((void**) &(*(*N_128687).KindU.S6.Sons->data[(NI32)(Length_128690 - 1)]).Typ, Result_128689);
goto LA2;
LA3: ;
Result_128689 = NIM_NIL;
LA2: ;
return Result_128689;
}
N_NIMCALL(TY53549*, Semblocktype_128749)(TY103012* C_128751, TY53523* N_128752, TY53549* Prev_128753) {
TY53549* Result_128754;
TY53545* LOC4;
Result_128754 = 0;
(*(*C_128751).P).Nestedblockcounter += 1;
Checksonslen_103099(N_128752, 2);
Openscope_57149(&(*C_128751).Tab);
if (!!(((*N_128752).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA2;
LOC4 = Newsyms_121059(((NU8) 19), (*N_128752).KindU.S6.Sons->data[0], C_128751);
Adddecl_104026(C_128751, LOC4);
LA2: ;
Result_128754 = Semstmtlisttype_128684(C_128751, (*N_128752).KindU.S6.Sons->data[1], Prev_128753);
asgnRef((void**) &(*(*N_128752).KindU.S6.Sons->data[1]).Typ, Result_128754);
asgnRef((void**) &(*N_128752).Typ, Result_128754);
Closescope_104017(&(*C_128751).Tab);
(*(*C_128751).P).Nestedblockcounter -= 1;
return Result_128754;
}
N_NIMCALL(TY53549*, Semtypenode_121138)(TY103012* C_121140, TY53523* N_121141, TY53549* Prev_121142) {
TY53549* Result_128845;
TY53545* S_128846;
TY53549* T_128847;
TY53523* LOC4;
NI LOC6;
NIM_BOOL LOC16;
TY52011* LOC23;
TY53523* LOC24;
Result_128845 = 0;
S_128846 = 0;
T_128847 = 0;
Result_128845 = NIM_NIL;
if (!(N_121141 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*N_121141).Kind) {
case ((NU8) 110):
LOC4 = Semexprwithtype_121122(C_121140, N_121141, 1);
Result_128845 = (*LOC4).Typ;
break;
case ((NU8) 30):
LOC6 = Sonslen_53801(N_121141);
if (!(LOC6 == 1)) goto LA7;
Result_128845 = Semtypenode_121138(C_121140, (*N_121141).KindU.S6.Sons->data[0], Prev_121142);
goto LA5;
LA7: ;
Limessage_45562((*N_121141).Info, ((NU8) 60), ((NimStringDesc*) &TMP193928));
LA5: ;
break;
case ((NU8) 33):
Checkminsonslen_103103(N_121141, 2);
S_128846 = Semtypeident_126724(C_121140, (*N_121141).KindU.S6.Sons->data[0]);
switch ((*S_128846).Magic) {
case ((NU8) 162):
Result_128845 = Semarray_126573(C_121140, N_121141, Prev_121142);
break;
case ((NU8) 163):
Result_128845 = Semcontainer_126325(C_121140, N_121141, ((NU8) 27), ((NimStringDesc*) &TMP194089), Prev_121142);
break;
case ((NU8) 164):
Result_128845 = Semrange_126520(C_121140, N_121141, Prev_121142);
break;
case ((NU8) 165):
Result_128845 = Semset_126284(C_121140, N_121141, Prev_121142);
break;
case ((NU8) 167):
Result_128845 = Semordinal_126682(C_121140, N_121141, Prev_121142);
break;
case ((NU8) 166):
Result_128845 = Semcontainer_126325(C_121140, N_121141, ((NU8) 24), ((NimStringDesc*) &TMP194093), Prev_121142);
break;
default:
Result_128845 = Semgeneric_126906(C_121140, N_121141, S_128846, Prev_121142);
break;
}
break;
case ((NU8) 2):
case ((NU8) 36):
case ((NU8) 43):
S_128846 = Semtypeident_126724(C_121140, N_121141);
if (!((*S_128846).Typ == NIM_NIL)) goto LA10;
Limessage_45562((*N_121141).Info, ((NU8) 60), ((NimStringDesc*) &TMP193928));
LA10: ;
if (!(Prev_121142 == NIM_NIL)) goto LA13;
Result_128845 = (*S_128846).Typ;
goto LA12;
LA13: ;
Assigntype_53777(Prev_121142, (*S_128846).Typ);
(*Prev_121142).Sup.Id = (*(*S_128846).Typ).Sup.Id;
Result_128845 = Prev_121142;
LA12: ;
break;
case ((NU8) 3):
LOC16 = ((*(*N_121141).KindU.S4.Sym).Kind == ((NU8) 6));
if (!(LOC16)) goto LA17;
LOC16 = !(((*(*N_121141).KindU.S4.Sym).Typ == NIM_NIL));
LA17: ;
if (!LOC16) goto LA18;
T_128847 = (*(*N_121141).KindU.S4.Sym).Typ;
if (!(Prev_121142 == NIM_NIL)) goto LA21;
Result_128845 = T_128847;
goto LA20;
LA21: ;
Assigntype_53777(Prev_121142, T_128847);
Result_128845 = Prev_121142;
LA20: ;
Markused_121065(N_121141, (*N_121141).KindU.S4.Sym);
goto LA15;
LA18: ;
Limessage_45562((*N_121141).Info, ((NU8) 60), ((NimStringDesc*) &TMP193928));
LA15: ;
break;
case ((NU8) 111):
Result_128845 = Semobjectnode_128205(C_121140, N_121141, Prev_121142);
break;
case ((NU8) 112):
Result_128845 = Semtuple_126749(C_121140, N_121141, Prev_121142);
break;
case ((NU8) 116):
Result_128845 = Semanyref_126348(C_121140, N_121141, ((NU8) 22), ((NimStringDesc*) &TMP194110), Prev_121142);
break;
case ((NU8) 117):
Result_128845 = Semanyref_126348(C_121140, N_121141, ((NU8) 21), ((NimStringDesc*) &TMP194111), Prev_121142);
break;
case ((NU8) 118):
Result_128845 = Semvartype_126371(C_121140, N_121141, Prev_121142);
break;
case ((NU8) 119):
Result_128845 = Semdistinct_126401(C_121140, N_121141, Prev_121142);
break;
case ((NU8) 120):
Checksonslen_103099(N_121141, 2);
Result_128845 = Semproctypenode_128417(C_121140, (*N_121141).KindU.S6.Sons->data[0], NIM_NIL, Prev_121142);
LOC23 = Getident_52016(((NimStringDesc*) &TMP194114));
LOC24 = Newidentnode_53728(LOC23, (*N_121141).Info);
S_128846 = Newsyms_121059(((NU8) 9), LOC24, C_121140);
asgnRef((void**) &(*S_128846).Typ, Result_128845);
Pragma_118028(C_121140, S_128846, (*N_121141).KindU.S6.Sons->data[1], TMP194115);
break;
case ((NU8) 121):
Result_128845 = Semenum_126012(C_121140, N_121141, Prev_121142);
break;
case ((NU8) 4):
Result_128845 = (*N_121141).Typ;
break;
case ((NU8) 108):
Result_128845 = Semstmtlisttype_128684(C_121140, N_121141, Prev_121142);
break;
case ((NU8) 109):
Result_128845 = Semblocktype_128749(C_121140, N_121141, Prev_121142);
break;
default:
Limessage_45562((*N_121141).Info, ((NU8) 60), ((NimStringDesc*) &TMP193928));
break;
}
BeforeRet: ;
return Result_128845;
}
N_NIMCALL(TY53549*, Addtypevarsofgenericbody_128342)(TY103012* C_128344, TY53549* T_128345, TY53523* Genericparams_128346, TY53898* Cl_128348) {
TY53549* Result_128349;
NIM_BOOL LOC5;
NI I_128368;
NI HEX3Atmp_141889;
NI LOC8;
NI Res_141891;
TY53545* S_128378;
TY53523* LOC13;
NI L_128379;
NI LOC14;
NI I_128387;
NI HEX3Atmp_141895;
NI LOC15;
NI Res_141897;
NI I_128395;
NI HEX3Atmp_141901;
NI LOC17;
NI Res_141903;
Result_128349 = 0;
Result_128349 = T_128345;
if (!(T_128345 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
LOC5 = Intsetcontainsorincl_53926(Cl_128348, (*T_128345).Sup.Id);
if (!LOC5) goto LA6;
goto BeforeRet;
LA6: ;
switch ((*T_128345).Kind) {
case ((NU8) 10):
Result_128349 = Newtypes_103077(((NU8) 9), C_128344);
Addson_53825(Result_128349, T_128345);
I_128368 = 0;
HEX3Atmp_141889 = 0;
LOC8 = Sonslen_53804(T_128345);
HEX3Atmp_141889 = (NI32)(LOC8 - 2);
Res_141891 = 0;
Res_141891 = 0;
while (1) {
if (!(Res_141891 <= HEX3Atmp_141889)) goto LA9;
I_128368 = Res_141891;
if (!!(((*(*T_128345).Sons->data[I_128368]).Kind == ((NU8) 12)))) goto LA11;
Internalerror_45571(((NimStringDesc*) &TMP194117));
LA11: ;
S_128378 = 0;
S_128378 = Copysym_53773((*(*T_128345).Sons->data[I_128368]).Sym, NIM_FALSE);
(*S_128378).Position = Sonslen_53801(Genericparams_128346);
Adddecl_104026(C_128344, S_128378);
LOC13 = Newsymnode_53732(S_128378);
Addson_53821(Genericparams_128346, LOC13);
Addson_53825(Result_128349, (*T_128345).Sons->data[I_128368]);
Res_141891 += 1;
} LA9: ;
break;
case ((NU8) 11):
L_128379 = 0;
LOC14 = Sonslen_53804(T_128345);
L_128379 = (NI32)(LOC14 - 1);
asgnRef((void**) &(*T_128345).Sons->data[L_128379], Addtypevarsofgenericbody_128342(C_128344, (*T_128345).Sons->data[L_128379], Genericparams_128346, Cl_128348));
break;
case ((NU8) 9):
I_128387 = 0;
HEX3Atmp_141895 = 0;
LOC15 = Sonslen_53804(T_128345);
HEX3Atmp_141895 = (NI32)(LOC15 - 1);
Res_141897 = 0;
Res_141897 = 1;
while (1) {
if (!(Res_141897 <= HEX3Atmp_141895)) goto LA16;
I_128387 = Res_141897;
asgnRef((void**) &(*T_128345).Sons->data[I_128387], Addtypevarsofgenericbody_128342(C_128344, (*T_128345).Sons->data[I_128387], Genericparams_128346, Cl_128348));
Res_141897 += 1;
} LA16: ;
break;
default:
I_128395 = 0;
HEX3Atmp_141901 = 0;
LOC17 = Sonslen_53804(T_128345);
HEX3Atmp_141901 = (NI32)(LOC17 - 1);
Res_141903 = 0;
Res_141903 = 0;
while (1) {
if (!(Res_141903 <= HEX3Atmp_141901)) goto LA18;
I_128395 = Res_141903;
asgnRef((void**) &(*T_128345).Sons->data[I_128395], Addtypevarsofgenericbody_128342(C_128344, (*T_128345).Sons->data[I_128395], Genericparams_128346, Cl_128348));
Res_141903 += 1;
} LA18: ;
break;
}
BeforeRet: ;
return Result_128349;
}
N_NIMCALL(TY53549*, Paramtype_128396)(TY103012* C_128398, TY53523* N_128399, TY53523* Genericparams_128400, TY53898* Cl_128402) {
TY53549* Result_128403;
NIM_BOOL LOC2;
NI LOC4;
Result_128403 = 0;
Result_128403 = Semtypenode_121138(C_128398, N_128399, NIM_NIL);
LOC2 = !((Genericparams_128400 == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC4 = Sonslen_53801(Genericparams_128400);
LOC2 = (LOC4 == 0);
LA3: ;
if (!LOC2) goto LA5;
Result_128403 = Addtypevarsofgenericbody_128342(C_128398, Result_128403, Genericparams_128400, Cl_128402);
LA5: ;
return Result_128403;
}
N_NIMCALL(TY53523*, Indextypesmatch_124917)(TY103012* C_124919, TY53549* F_124920, TY53549* A_124921, TY53523* Arg_124922) {
TY53523* Result_124923;
TY123058 M_124924;
Result_124923 = 0;
memset((void*)&M_124924, 0, sizeof(M_124924));
Initcandidate_123086(&M_124924, F_124920);
Result_124923 = Paramtypesmatch_124731(C_124919, &M_124924, F_124920, A_124921, Arg_124922);
return Result_124923;
}
N_NIMCALL(TY53523*, Fitnode_121129)(TY103012* C_121131, TY53549* Formal_121132, TY53523* Arg_121133) {
TY53523* Result_125974;
Result_125974 = 0;
Result_125974 = Indextypesmatch_124917(C_121131, Formal_121132, (*Arg_121133).Typ, Arg_121133);
if (!(Result_125974 == NIM_NIL)) goto LA2;
Typemismatch_125936(Arg_121133, Formal_121132, (*Arg_121133).Typ);
LA2: ;
return Result_125974;
}
N_NIMCALL(TY53549*, Semproctypenode_128417)(TY103012* C_128419, TY53523* N_128420, TY53523* Genericparams_128421, TY53549* Prev_128422) {
TY53549* Result_128423;
TY53523* Def_128424;
TY53523* Res_128425;
TY53549* Typ_128426;
TY53898 Check_128427;
TY53898 Cl_128428;
TY103002* LOC1;
NIM_BOOL LOC3;
NI LOC5;
TY53523* LOC11;
NI Counter_128467;
NI I_128475;
NI HEX3Atmp_141913;
NI LOC12;
NI Res_141915;
TY53523* A_128488;
NI Length_128498;
NU8 LOC27;
NI J_128609;
NI HEX3Atmp_141907;
NI Res_141909;
TY53545* Arg_128622;
NIM_BOOL LOC32;
TY53523* LOC35;
Result_128423 = 0;
Def_128424 = 0;
Res_128425 = 0;
Typ_128426 = 0;
memset((void*)&Check_128427, 0, sizeof(Check_128427));
memset((void*)&Cl_128428, 0, sizeof(Cl_128428));
Checkminsonslen_103103(N_128420, 1);
Result_128423 = Neworprevtype_125986(((NU8) 25), Prev_128422, C_128419);
LOC1 = Lastoptionentry_103053(C_128419);
(*Result_128423).Callconv = (*LOC1).Defaultcc;
asgnRefNoCycle((void**) &(*Result_128423).N, Newnodei_53735(((NU8) 66), (*N_128420).Info));
LOC3 = !((Genericparams_128421 == NIM_NIL));
if (!(LOC3)) goto LA4;
LOC5 = Sonslen_53801(Genericparams_128421);
LOC3 = (LOC5 == 0);
LA4: ;
if (!LOC3) goto LA6;
Intsetinit_53922(&Cl_128428);
LA6: ;
if (!((*N_128420).KindU.S6.Sons->data[0] == NIM_NIL)) goto LA9;
Addson_53825(Result_128423, NIM_NIL);
LOC11 = Newnodei_53735(((NU8) 4), (*N_128420).Info);
Addson_53821((*Result_128423).N, LOC11);
goto LA8;
LA9: ;
Addson_53825(Result_128423, NIM_NIL);
Res_128425 = Newnodei_53735(((NU8) 4), (*N_128420).Info);
Addson_53821((*Result_128423).N, Res_128425);
LA8: ;
Intsetinit_53922(&Check_128427);
Counter_128467 = 0;
Counter_128467 = 0;
I_128475 = 0;
HEX3Atmp_141913 = 0;
LOC12 = Sonslen_53801(N_128420);
HEX3Atmp_141913 = (NI32)(LOC12 - 1);
Res_141915 = 0;
Res_141915 = 1;
while (1) {
if (!(Res_141915 <= HEX3Atmp_141913)) goto LA13;
I_128475 = Res_141915;
A_128488 = 0;
A_128488 = (*N_128420).KindU.S6.Sons->data[I_128475];
if (!!(((*A_128488).Kind == ((NU8) 25)))) goto LA15;
Illformedast_103092(A_128488);
LA15: ;
Checkminsonslen_103103(A_128488, 3);
Length_128498 = 0;
Length_128498 = Sonslen_53801(A_128488);
if (!!(((*A_128488).KindU.S6.Sons->data[(NI32)(Length_128498 - 2)] == NIM_NIL))) goto LA18;
Typ_128426 = Paramtype_128396(C_128419, (*A_128488).KindU.S6.Sons->data[(NI32)(Length_128498 - 2)], Genericparams_128421, &Cl_128428);
goto LA17;
LA18: ;
Typ_128426 = NIM_NIL;
LA17: ;
if (!!(((*A_128488).KindU.S6.Sons->data[(NI32)(Length_128498 - 1)] == NIM_NIL))) goto LA21;
Def_128424 = Semexprwithtype_121122(C_128419, (*A_128488).KindU.S6.Sons->data[(NI32)(Length_128498 - 1)], 0);
if (!!((Typ_128426 == NIM_NIL))) goto LA24;
LOC27 = Cmptypes_124467(Typ_128426, (*Def_128424).Typ);
if (!(LOC27 < ((NU8) 1))) goto LA28;
Typemismatch_125936((*A_128488).KindU.S6.Sons->data[(NI32)(Length_128498 - 1)], Typ_128426, (*Def_128424).Typ);
LA28: ;
Def_128424 = Fitnode_121129(C_128419, Typ_128426, Def_128424);
goto LA23;
LA24: ;
Typ_128426 = (*Def_128424).Typ;
LA23: ;
goto LA20;
LA21: ;
Def_128424 = NIM_NIL;
LA20: ;
J_128609 = 0;
HEX3Atmp_141907 = 0;
HEX3Atmp_141907 = (NI32)(Length_128498 - 3);
Res_141909 = 0;
Res_141909 = 0;
while (1) {
if (!(Res_141909 <= HEX3Atmp_141907)) goto LA30;
J_128609 = Res_141909;
Arg_128622 = 0;
Arg_128622 = Newsyms_121059(((NU8) 3), (*A_128488).KindU.S6.Sons->data[J_128609], C_128419);
asgnRef((void**) &(*Arg_128622).Typ, Typ_128426);
(*Arg_128622).Position = Counter_128467;
Counter_128467 += 1;
asgnRefNoCycle((void**) &(*Arg_128622).Ast, Copytree_53856(Def_128424));
LOC32 = Intsetcontainsorincl_53926(&Check_128427, (*(*Arg_128622).Name).Sup.Id);
if (!LOC32) goto LA33;
Limessage_45562((*(*A_128488).KindU.S6.Sons->data[J_128609]).Info, ((NU8) 37), (*(*Arg_128622).Name).S);
LA33: ;
LOC35 = Newsymnode_53732(Arg_128622);
Addson_53821((*Result_128423).N, LOC35);
Addson_53825(Result_128423, Typ_128426);
Res_141909 += 1;
} LA30: ;
Res_141915 += 1;
} LA13: ;
if (!!(((*N_128420).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA37;
asgnRef((void**) &(*Result_128423).Sons->data[0], Paramtype_128396(C_128419, (*N_128420).KindU.S6.Sons->data[0], Genericparams_128421, &Cl_128428));
asgnRef((void**) &(*Res_128425).Typ, (*Result_128423).Sons->data[0]);
LA37: ;
return Result_128423;
}
N_NIMCALL(void, Semparamlist_121147)(TY103012* C_121149, TY53523* N_121150, TY53523* Genericparams_121151, TY53545* S_121152) {
asgnRef((void**) &(*S_121152).Typ, Semproctypenode_128417(C_121149, N_121150, Genericparams_121151, NIM_NIL));
}
N_NIMCALL(void, Addparams_121153)(TY103012* C_121155, TY53523* N_121156) {
NI I_140322;
NI HEX3Atmp_142346;
NI LOC1;
NI Res_142348;
I_140322 = 0;
HEX3Atmp_142346 = 0;
LOC1 = Sonslen_53801(N_121156);
HEX3Atmp_142346 = (NI32)(LOC1 - 1);
Res_142348 = 0;
Res_142348 = 1;
while (1) {
if (!(Res_142348 <= HEX3Atmp_142346)) goto LA2;
I_140322 = Res_142348;
if (!!(((*(*N_121156).KindU.S6.Sons->data[I_140322]).Kind == ((NU8) 3)))) goto LA4;
Internalerror_45567((*N_121156).Info, ((NimStringDesc*) &TMP194118));
LA4: ;
Adddecl_104026(C_121155, (*(*N_121156).KindU.S6.Sons->data[I_140322]).KindU.S4.Sym);
Res_142348 += 1;
} LA2: ;
}
N_NIMCALL(TY53545*, Genericcacheget_122326)(TY103012* C_122328, TY53545* Genericsym_122329, TY53545* Instsym_122330) {
TY53545* Result_122331;
NI I_122339;
NI HEX3Atmp_125811;
NI LOC1;
NI Res_125813;
TY53545* A_122397;
TY53545* B_122436;
NU8 LOC10;
Result_122331 = 0;
Result_122331 = NIM_NIL;
I_122339 = 0;
HEX3Atmp_125811 = 0;
LOC1 = Sonslen_53801((*C_122328).Generics);
HEX3Atmp_125811 = (NI32)(LOC1 - 1);
Res_125813 = 0;
Res_125813 = 0;
while (1) {
if (!(Res_125813 <= HEX3Atmp_125811)) goto LA2;
I_122339 = Res_125813;
if (!!(((*(*(*C_122328).Generics).KindU.S6.Sons->data[I_122339]).Kind == ((NU8) 23)))) goto LA4;
Internalerror_45567((*Genericsym_122329).Info, ((NimStringDesc*) &TMP194119));
LA4: ;
A_122397 = 0;
A_122397 = (*(*(*(*C_122328).Generics).KindU.S6.Sons->data[I_122339]).KindU.S6.Sons->data[0]).KindU.S4.Sym;
if (!((*Genericsym_122329).Sup.Id == (*A_122397).Sup.Id)) goto LA7;
B_122436 = 0;
B_122436 = (*(*(*(*C_122328).Generics).KindU.S6.Sons->data[I_122339]).KindU.S6.Sons->data[1]).KindU.S4.Sym;
LOC10 = Equalparams_93065((*(*B_122436).Typ).N, (*(*Instsym_122330).Typ).N);
if (!(LOC10 == ((NU8) 1))) goto LA11;
Result_122331 = B_122436;
goto BeforeRet;
LA11: ;
LA7: ;
Res_125813 += 1;
} LA2: ;
BeforeRet: ;
return Result_122331;
}
N_NIMCALL(void, Genericcacheadd_122446)(TY103012* C_122448, TY53545* Genericsym_122449, TY53545* Instsym_122450) {
TY53523* N_122451;
TY53523* LOC1;
TY53523* LOC2;
N_122451 = 0;
N_122451 = Newnode_53708(((NU8) 23));
LOC1 = Newsymnode_53732(Genericsym_122449);
Addson_53821(N_122451, LOC1);
LOC2 = Newsymnode_53732(Instsym_122450);
Addson_53821(N_122451, LOC2);
Addson_53821((*C_122448).Generics, N_122451);
}
N_NIMCALL(void, Addresult_121157)(TY103012* C_121159, TY53549* T_121160, TY45532 Info_121161) {
TY53545* S_140438;
TY52011* LOC4;
TY53545* LOC5;
if (!!((T_121160 == NIM_NIL))) goto LA2;
S_140438 = 0;
LOC4 = Getident_52016(((NimStringDesc*) &TMP194121));
LOC5 = Getcurrowner_103107();
S_140438 = Newsym_53699(((NU8) 8), LOC4, LOC5);
(*S_140438).Info = Info_121161;
asgnRef((void**) &(*S_140438).Typ, T_121160);
(*S_140438).Flags |=(1<<((NI32)(((NU8) 12))%(sizeof(NI32)*8)));
(*S_140438).Flags |=(1<<((NI32)(((NU8) 0))%(sizeof(NI32)*8)));
Adddecl_104026(C_121159, S_140438);
asgnRef((void**) &(*(*C_121159).P).Resultsym, S_140438);
LA2: ;
}
N_NIMCALL(void, Addresultnode_121162)(TY103012* C_121164, TY53523* N_121165) {
TY53523* LOC4;
if (!!(((*(*C_121164).P).Resultsym == NIM_NIL))) goto LA2;
LOC4 = Newsymnode_53732((*(*C_121164).P).Resultsym);
Addson_53821(N_121165, LOC4);
LA2: ;
}
N_NIMCALL(TY53523*, Semstmtscope_121104)(TY103012* C_121106, TY53523* N_121107) {
TY53523* Result_141799;
Result_141799 = 0;
Openscope_57149(&(*C_121106).Tab);
Result_141799 = Semstmt_121143(C_121106, N_121107);
Closescope_104017(&(*C_121106).Tab);
return Result_141799;
}
N_NIMCALL(TY53545*, Generateinstance_122152)(TY103012* C_122154, TY53545* Fn_122155, TY53561 Pt_122156, TY45532 Info_122157) {
TY53545* Result_122458;
TY53545* Oldprc_122459;
TY53545* Oldmod_122460;
TY103006* Oldp_122461;
TY53523* N_122462;
TY53545* LOC4;
Result_122458 = 0;
Oldprc_122459 = 0;
Oldmod_122460 = 0;
Oldp_122461 = 0;
N_122462 = 0;
if (!(1000 < (*C_122154).Instcounter)) goto LA2;
Internalerror_45567((*(*Fn_122155).Ast).Info, ((NimStringDesc*) &TMP194083));
LA2: ;
(*C_122154).Instcounter += 1;
Oldp_122461 = (*C_122154).P;
Oldmod_122460 = (*C_122154).Module;
asgnRef((void**) &(*C_122154).Module, Getmodule_57206(Fn_122155));
Result_122458 = Copysym_53773(Fn_122155, NIM_FALSE);
(*Result_122458).Flags |=(1<<((NI32)(((NU8) 4))%(sizeof(NI32)*8)));
LOC4 = Getcurrowner_103107();
asgnRef((void**) &(*Result_122458).Owner, (*LOC4).Owner);
N_122462 = Copytree_53856((*Fn_122155).Ast);
asgnRefNoCycle((void**) &(*Result_122458).Ast, N_122462);
Pushowner_103109(Result_122458);
Openscope_57149(&(*C_122154).Tab);
if (!((*N_122462).KindU.S6.Sons->data[1] == NIM_NIL)) goto LA6;
Internalerror_45567((*N_122462).Info, ((NimStringDesc*) &TMP194084));
LA6: ;
asgnRefNoCycle((void**) &(*N_122462).KindU.S6.Sons->data[0], Newsymnode_53732(Result_122458));
Pushinfocontext_45606(Info_122157);
Instantiategenericparamlist_122227(C_122154, (*N_122462).KindU.S6.Sons->data[1], Pt_122156);
asgnRefNoCycle((void**) &(*N_122462).KindU.S6.Sons->data[1], NIM_NIL);
if (!!(((*N_122462).KindU.S6.Sons->data[2] == NIM_NIL))) goto LA9;
Semparamlist_121147(C_122154, (*N_122462).KindU.S6.Sons->data[2], NIM_NIL, Result_122458);
Addparams_121153(C_122154, (*(*Result_122458).Typ).N);
goto LA8;
LA9: ;
asgnRef((void**) &(*Result_122458).Typ, Newtypes_103077(((NU8) 25), C_122154));
Addson_53825((*Result_122458).Typ, NIM_NIL);
LA8: ;
Oldprc_122459 = Genericcacheget_122326(C_122154, Fn_122155, Result_122458);
if (!(Oldprc_122459 == NIM_NIL)) goto LA12;
Genericcacheadd_122446(C_122154, Fn_122155, Result_122458);
Adddecl_104026(C_122154, Result_122458);
if (!!(((*N_122462).KindU.S6.Sons->data[4] == NIM_NIL))) goto LA15;
asgnRefNoCycle((void**) &(*C_122154).P, Newproccon_103050(Result_122458));
if (!((1441792 &(1<<(((*Result_122458).Kind)&31)))!=0)) goto LA18;
Addresult_121157(C_122154, (*(*Result_122458).Typ).Sons->data[0], (*N_122462).Info);
Addresultnode_121162(C_122154, N_122462);
LA18: ;
asgnRefNoCycle((void**) &(*N_122462).KindU.S6.Sons->data[4], Semstmtscope_121104(C_122154, (*N_122462).KindU.S6.Sons->data[4]));
LA15: ;
goto LA11;
LA12: ;
Result_122458 = Oldprc_122459;
LA11: ;
Popinfocontext_45609();
Closescope_104017(&(*C_122154).Tab);
Popowner_103112();
asgnRefNoCycle((void**) &(*C_122154).P, Oldp_122461);
asgnRef((void**) &(*C_122154).Module, Oldmod_122460);
(*C_122154).Instcounter -= 1;
return Result_122458;
}
N_NIMCALL(TY53523*, Semdirectcallwithbinding_125602)(TY103012* C_125604, TY53523* N_125605, TY53523* F_125606, NU32 Filter_125607, TY53523* Initialbinding_125608) {
TY53523* Result_125609;
TY104004 O_125610;
TY123058 X_125611;
TY123058 Y_125612;
TY123058 Z_125613;
TY53545* Sym_125615;
NI Cmp_125662;
NIM_BOOL LOC19;
NIM_BOOL LOC20;
NI LOC22;
NIM_BOOL LOC24;
NimStringDesc* LOC30;
TY70066 LOC31;
NimStringDesc* LOC32;
Result_125609 = 0;
memset((void*)&O_125610, 0, sizeof(O_125610));
memset((void*)&X_125611, 0, sizeof(X_125611));
memset((void*)&Y_125612, 0, sizeof(Y_125612));
memset((void*)&Z_125613, 0, sizeof(Z_125613));
Sym_125615 = 0;
Sym_125615 = Initoverloaditer_104058(&O_125610, C_125604, F_125606);
Result_125609 = NIM_NIL;
if (!(Sym_125615 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
Initcandidate_123092(&X_125611, Sym_125615, Initialbinding_125608);
Initcandidate_123092(&Y_125612, Sym_125615, Initialbinding_125608);
while (1) {
if (!!((Sym_125615 == NIM_NIL))) goto LA4;
if (!((Filter_125607 &(1<<(((*Sym_125615).Kind)&31)))!=0)) goto LA6;
Initcandidate_123092(&Z_125613, Sym_125615, Initialbinding_125608);
Z_125613.Calleesym = Sym_125615;
Matches_124970(C_125604, N_125605, &Z_125613);
if (!(Z_125613.State == ((NU8) 1))) goto LA9;
switch (X_125611.State) {
case ((NU8) 0):
case ((NU8) 2):
genericAssign((void*)&X_125611, (void*)&Z_125613, NTI123058);
break;
case ((NU8) 1):
Cmp_125662 = 0;
Cmp_125662 = Cmpcandidates_123141(&X_125611, &Z_125613);
if (!(Cmp_125662 < 0)) goto LA12;
genericAssign((void*)&X_125611, (void*)&Z_125613, NTI123058);
goto LA11;
LA12: ;
if (!(Cmp_125662 == 0)) goto LA14;
genericAssign((void*)&Y_125612, (void*)&Z_125613, NTI123058);
goto LA11;
LA14: ;
LA11: ;
break;
}
LA9: ;
LA6: ;
Sym_125615 = Nextoverloaditer_104064(&O_125610, C_125604, F_125606);
} LA4: ;
if (!(X_125611.State == ((NU8) 0))) goto LA17;
goto LA16;
LA17: ;
LOC20 = (Y_125612.State == ((NU8) 1));
if (!(LOC20)) goto LA21;
LOC22 = Cmpcandidates_123141(&X_125611, &Y_125612);
LOC20 = (LOC22 == 0);
LA21: ;
LOC19 = LOC20;
if (!(LOC19)) goto LA23;
LOC24 = Samemethoddispatcher_125526(X_125611.Calleesym, Y_125612.Calleesym);
LOC19 = !(LOC24);
LA23: ;
if (!LOC19) goto LA25;
if (!!((X_125611.State == ((NU8) 1)))) goto LA28;
Internalerror_45567((*N_125605).Info, ((NimStringDesc*) &TMP194079));
LA28: ;
LOC30 = Msgkindtostring_45588(((NU8) 129));
LOC31[0] = Getprocheader_93018(X_125611.Calleesym);
LOC31[1] = Getprocheader_93018(Y_125612.Calleesym);
LOC31[2] = copyString((*(*X_125611.Calleesym).Name).S);
LOC32 = nsuFormatOpenArray(LOC30, LOC31, 3);
Limessage_45562((*N_125605).Info, ((NU8) 4), LOC32);
goto LA16;
LA25: ;
Markused_121065(N_125605, X_125611.Calleesym);
if (!((*X_125611.Calleesym).Ast == NIM_NIL)) goto LA34;
Internalerror_45567((*N_125605).Info, ((NimStringDesc*) &TMP194082));
LA34: ;
if (!!(((*(*X_125611.Calleesym).Ast).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA37;
X_125611.Calleesym = Generateinstance_122152(C_125604, X_125611.Calleesym, X_125611.Bindings, (*N_125605).Info);
X_125611.Callee = (*X_125611.Calleesym).Typ;
LA37: ;
Result_125609 = X_125611.Call;
asgnRefNoCycle((void**) &(*Result_125609).KindU.S6.Sons->data[0], Newsymnode_53732(X_125611.Calleesym));
asgnRef((void**) &(*Result_125609).Typ, (*X_125611.Callee).Sons->data[0]);
LA16: ;
BeforeRet: ;
return Result_125609;
}
N_NIMCALL(TY53523*, Semdirectcall_125747)(TY103012* C_125749, TY53523* N_125750, NU32 Filter_125751) {
TY53523* Result_125752;
TY53523* Initialbinding_125753;
TY53523* F_125766;
Result_125752 = 0;
Initialbinding_125753 = 0;
F_125766 = 0;
F_125766 = (*N_125750).KindU.S6.Sons->data[0];
if (!((*F_125766).Kind == ((NU8) 33))) goto LA2;
Initialbinding_125753 = F_125766;
F_125766 = (*F_125766).KindU.S6.Sons->data[0];
goto LA1;
LA2: ;
Initialbinding_125753 = NIM_NIL;
LA1: ;
Result_125752 = Semdirectcallwithbinding_125602(C_125749, N_125750, F_125766, Filter_125751, Initialbinding_125753);
return Result_125752;
}
N_NIMCALL(TY53523*, Semdirectcallanalyseeffects_131107)(TY103012* C_131109, TY53523* N_131110, NU8 Flags_131111) {
TY53523* Result_131112;
TY53545* Callee_131182;
NIM_BOOL LOC11;
NIM_BOOL LOC19;
Result_131112 = 0;
if (!!(((Flags_131111 &(1<<((((NU8) 2))&7)))!=0))) goto LA2;
Result_131112 = Semdirectcall_125747(C_131109, N_131110, 1441792);
goto LA1;
LA2: ;
Result_131112 = Semdirectcall_125747(C_131109, N_131110, 524288);
LA1: ;
if (!!((Result_131112 == NIM_NIL))) goto LA5;
if (!!(((*(*Result_131112).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA8;
Internalerror_45571(((NimStringDesc*) &TMP194123));
LA8: ;
Callee_131182 = 0;
Callee_131182 = (*(*Result_131112).KindU.S6.Sons->data[0]).KindU.S4.Sym;
LOC11 = ((*Callee_131182).Kind == ((NU8) 11));
if (!(LOC11)) goto LA12;
LOC11 = ((*Callee_131182).Sup.Id == (*(*(*C_131109).P).Owner).Sup.Id);
LA12: ;
if (!LOC11) goto LA13;
Limessage_45562((*N_131110).Info, ((NU8) 23), (*(*Callee_131182).Name).S);
LA13: ;
if (!!((((*Callee_131182).Flags &(1<<((((NU8) 13))&31)))!=0))) goto LA16;
LOC19 = (((*Callee_131182).Flags &(1<<((((NU8) 6))&31)))!=0);
if (LOC19) goto LA20;
LOC19 = !(((IL64(2151677952) & (*Callee_131182).Flags) == 0));
LA20: ;
if (!LOC19) goto LA21;
(*(*(*C_131109).P).Owner).Flags |=(1<<((NI32)(((NU8) 14))%(sizeof(NI32)*8)));
LA21: ;
LA16: ;
LA5: ;
return Result_131112;
}
N_NIMCALL(TY53523*, Semarrayconstr_130156)(TY103012* C_130158, TY53523* N_130159) {
TY53523* Result_130160;
NI LOC2;
TY53549* LOC5;
TY53523* LOC6;
TY53549* Typ_130188;
NI I_130196;
NI HEX3Atmp_141967;
NI LOC7;
NI Res_141969;
TY53523* LOC9;
NI LOC10;
Result_130160 = 0;
Result_130160 = Newnodei_53735(((NU8) 32), (*N_130159).Info);
asgnRef((void**) &(*Result_130160).Typ, Newtypes_103077(((NU8) 4), C_130158));
Addson_53825((*Result_130160).Typ, NIM_NIL);
LOC2 = Sonslen_53801(N_130159);
if (!(LOC2 == 0)) goto LA3;
LOC5 = Newtypes_103077(((NU8) 3), C_130158);
Addson_53825((*Result_130160).Typ, LOC5);
goto LA1;
LA3: ;
LOC6 = Semexprwithtype_121122(C_130158, (*N_130159).KindU.S6.Sons->data[0], 0);
Addson_53821(Result_130160, LOC6);
Typ_130188 = 0;
Typ_130188 = Skiptypes_93085((*(*Result_130160).KindU.S6.Sons->data[0]).Typ, IL64(38421334321004544));
I_130196 = 0;
HEX3Atmp_141967 = 0;
LOC7 = Sonslen_53801(N_130159);
HEX3Atmp_141967 = (NI32)(LOC7 - 1);
Res_141969 = 0;
Res_141969 = 1;
while (1) {
if (!(Res_141969 <= HEX3Atmp_141967)) goto LA8;
I_130196 = Res_141969;
asgnRefNoCycle((void**) &(*N_130159).KindU.S6.Sons->data[I_130196], Semexprwithtype_121122(C_130158, (*N_130159).KindU.S6.Sons->data[I_130196], 0));
LOC9 = Fitnode_121129(C_130158, Typ_130188, (*N_130159).KindU.S6.Sons->data[I_130196]);
Addson_53821(Result_130160, LOC9);
Res_141969 += 1;
} LA8: ;
Addson_53825((*Result_130160).Typ, Typ_130188);
LA1: ;
LOC10 = Sonslen_53801(Result_130160);
asgnRef((void**) &(*(*Result_130160).Typ).Sons->data[0], Makerangetype_103086(C_130158, 0, ((NI64) ((NI32)(LOC10 - 1))), (*N_130159).Info));
return Result_130160;
}
N_NIMCALL(void, Changetype_129942)(TY53523* N_129944, TY53549* Newtype_129945) {
TY53545* F_129946;
TY53523* A_129947;
TY53523* M_129948;
NI I_129956;
NI HEX3Atmp_141949;
NI LOC1;
NI Res_141951;
TY53549* LOC3;
NIM_BOOL LOC11;
NI LOC12;
NI I_130019;
NI HEX3Atmp_141955;
NI LOC16;
NI Res_141957;
NI I_130107;
NI HEX3Atmp_141961;
NI LOC24;
NI Res_141963;
TY53523* LOC26;
F_129946 = 0;
A_129947 = 0;
M_129948 = 0;
switch ((*N_129944).Kind) {
case ((NU8) 31):
case ((NU8) 32):
I_129956 = 0;
HEX3Atmp_141949 = 0;
LOC1 = Sonslen_53801(N_129944);
HEX3Atmp_141949 = (NI32)(LOC1 - 1);
Res_141951 = 0;
Res_141951 = 0;
while (1) {
if (!(Res_141951 <= HEX3Atmp_141949)) goto LA2;
I_129956 = Res_141951;
LOC3 = Elemtype_93089(Newtype_129945);
Changetype_129942((*N_129944).KindU.S6.Sons->data[I_129956], LOC3);
Res_141951 += 1;
} LA2: ;
break;
case ((NU8) 30):
if (!!(((*Newtype_129945).Kind == ((NU8) 18)))) goto LA5;
Internalerror_45567((*N_129944).Info, ((NimStringDesc*) &TMP194124));
LA5: ;
if (!((*Newtype_129945).N == NIM_NIL)) goto LA8;
Internalerror_45567((*N_129944).Info, ((NimStringDesc*) &TMP194125));
LA8: ;
LOC12 = Sonslen_53801(N_129944);
LOC11 = (0 < LOC12);
if (!(LOC11)) goto LA13;
LOC11 = ((*(*N_129944).KindU.S6.Sons->data[0]).Kind == ((NU8) 24));
LA13: ;
if (!LOC11) goto LA14;
I_130019 = 0;
HEX3Atmp_141955 = 0;
LOC16 = Sonslen_53801(N_129944);
HEX3Atmp_141955 = (NI32)(LOC16 - 1);
Res_141957 = 0;
Res_141957 = 0;
while (1) {
if (!(Res_141957 <= HEX3Atmp_141955)) goto LA17;
I_130019 = Res_141957;
M_129948 = (*(*N_129944).KindU.S6.Sons->data[I_130019]).KindU.S6.Sons->data[0];
if (!!(((*M_129948).Kind == ((NU8) 3)))) goto LA19;
Internalerror_45567((*M_129948).Info, ((NimStringDesc*) &TMP194126));
LA19: ;
F_129946 = Getsymfromlist_57197((*Newtype_129945).N, (*(*M_129948).KindU.S4.Sym).Name, 0);
if (!(F_129946 == NIM_NIL)) goto LA22;
Internalerror_45567((*M_129948).Info, ((NimStringDesc*) &TMP194127));
LA22: ;
Changetype_129942((*(*N_129944).KindU.S6.Sons->data[I_130019]).KindU.S6.Sons->data[1], (*F_129946).Typ);
Res_141957 += 1;
} LA17: ;
goto LA10;
LA14: ;
I_130107 = 0;
HEX3Atmp_141961 = 0;
LOC24 = Sonslen_53801(N_129944);
HEX3Atmp_141961 = (NI32)(LOC24 - 1);
Res_141963 = 0;
Res_141963 = 0;
while (1) {
if (!(Res_141963 <= HEX3Atmp_141961)) goto LA25;
I_130107 = Res_141963;
M_129948 = (*N_129944).KindU.S6.Sons->data[I_130107];
A_129947 = Newnodeit_53739(((NU8) 24), (*M_129948).Info, (*Newtype_129945).Sons->data[I_130107]);
LOC26 = Newsymnode_53732((*(*(*Newtype_129945).N).KindU.S6.Sons->data[I_130107]).KindU.S4.Sym);
Addson_53821(A_129947, LOC26);
Addson_53821(A_129947, M_129948);
Changetype_129942(M_129948, (*Newtype_129945).Sons->data[I_130107]);
asgnRefNoCycle((void**) &(*N_129944).KindU.S6.Sons->data[I_130107], A_129947);
Res_141963 += 1;
} LA25: ;
LA10: ;
break;
default:
break;
}
asgnRef((void**) &(*N_129944).Typ, Newtype_129945);
}
N_NIMCALL(void, Fixabstracttype_130233)(TY103012* C_130235, TY53523* N_130236) {
NI I_130244;
NI HEX3Atmp_141973;
NI LOC1;
NI Res_141975;
TY53523* It_130257;
TY53549* LOC7;
TY53549* S_130324;
NIM_BOOL LOC11;
TY53545* LOC15;
TY53549* LOC16;
TY53549* LOC17;
TY53549* LOC18;
TY53549* S_130379;
NimStringDesc* LOC24;
NimStringDesc* LOC25;
I_130244 = 0;
HEX3Atmp_141973 = 0;
LOC1 = Sonslen_53801(N_130236);
HEX3Atmp_141973 = (NI32)(LOC1 - 1);
Res_141975 = 0;
Res_141975 = 1;
while (1) {
if (!(Res_141975 <= HEX3Atmp_141973)) goto LA2;
I_130244 = Res_141975;
It_130257 = 0;
It_130257 = (*N_130236).KindU.S6.Sons->data[I_130244];
switch ((*It_130257).Kind) {
case ((NU8) 47):
case ((NU8) 48):
if (!((*(*It_130257).KindU.S6.Sons->data[1]).Kind == ((NU8) 32))) goto LA4;
asgnRefNoCycle((void**) &(*It_130257).KindU.S6.Sons->data[1], Semarrayconstr_130156(C_130235, (*It_130257).KindU.S6.Sons->data[1]));
LA4: ;
LOC7 = Skiptypes_93085((*It_130257).Typ, IL64(47428533575745536));
if (!((*LOC7).Kind == ((NU8) 27))) goto LA8;
S_130324 = 0;
S_130324 = Skiptypes_93085((*(*It_130257).KindU.S6.Sons->data[1]).Typ, IL64(47428533575745536));
LOC11 = ((*S_130324).Kind == ((NU8) 4));
if (!(LOC11)) goto LA12;
LOC11 = ((*(*S_130324).Sons->data[1]).Kind == ((NU8) 3));
LA12: ;
if (!LOC11) goto LA13;
LOC15 = Getcurrowner_103107();
S_130324 = Copytype_53768(S_130324, LOC15, NIM_FALSE);
LOC16 = Skiptypes_93085(S_130324, IL64(47428533575745536));
LOC17 = Skiptypes_93085((*It_130257).Typ, IL64(47428533575745536));
asgnRef((void**) &(*LOC16).Sons->data[1], Elemtype_93089(LOC17));
asgnRef((void**) &(*(*It_130257).KindU.S6.Sons->data[1]).Typ, S_130324);
LA13: ;
goto LA6;
LA8: ;
LOC18 = Skiptypes_93085((*(*It_130257).KindU.S6.Sons->data[1]).Typ, IL64(47428533575745536));
if (!((*LOC18).Kind == ((NU8) 5) || (*LOC18).Kind == ((NU8) 4) || (*LOC18).Kind == ((NU8) 18) || (*LOC18).Kind == ((NU8) 19))) goto LA19;
S_130379 = 0;
S_130379 = Skiptypes_93085((*It_130257).Typ, IL64(47428533575745536));
Changetype_129942((*It_130257).KindU.S6.Sons->data[1], S_130379);
asgnRefNoCycle((void**) &(*N_130236).KindU.S6.Sons->data[I_130244], (*It_130257).KindU.S6.Sons->data[1]);
goto LA6;
LA19: ;
LA6: ;
break;
case ((NU8) 32):
asgnRefNoCycle((void**) &(*N_130236).KindU.S6.Sons->data[I_130244], Semarrayconstr_130156(C_130235, It_130257));
break;
default:
if (!((*It_130257).Typ == NIM_NIL)) goto LA22;
LOC25 = Rendertree_81042(It_130257, 0);
LOC24 = rawNewString(LOC25->Sup.len + 17);
appendString(LOC24, ((NimStringDesc*) &TMP194128));
appendString(LOC24, LOC25);
Internalerror_45567((*It_130257).Info, LOC24);
LA22: ;
break;
}
Res_141975 += 1;
} LA2: ;
}
N_NIMCALL(NU8, Isassignable_130504)(TY53523* N_130506) {
NU8 Result_130507;
TY53549* LOC5;
NIM_BOOL LOC9;
TY53549* LOC14;
TY53549* LOC18;
Result_130507 = 0;
Result_130507 = ((NU8) 0);
switch ((*N_130506).Kind) {
case ((NU8) 3):
if (!((536936448 &(1<<(((*(*N_130506).KindU.S4.Sym).Kind)&31)))!=0)) goto LA2;
Result_130507 = ((NU8) 1);
LA2: ;
break;
case ((NU8) 36):
Checkminsonslen_103103(N_130506, 1);
LOC5 = Skiptypes_93085((*(*N_130506).KindU.S6.Sons->data[0]).Typ, IL64(47287796087390208));
if (!((*LOC5).Kind == ((NU8) 23) || (*LOC5).Kind == ((NU8) 21) || (*LOC5).Kind == ((NU8) 22))) goto LA6;
Result_130507 = ((NU8) 1);
goto LA4;
LA6: ;
Result_130507 = Isassignable_130504((*N_130506).KindU.S6.Sons->data[0]);
LA4: ;
LOC9 = (Result_130507 == ((NU8) 1));
if (!(LOC9)) goto LA10;
LOC9 = (((*(*(*N_130506).KindU.S6.Sons->data[1]).KindU.S4.Sym).Flags &(1<<((((NU8) 21))&31)))!=0);
LA10: ;
if (!LOC9) goto LA11;
Result_130507 = ((NU8) 2);
LA11: ;
break;
case ((NU8) 33):
Checkminsonslen_103103(N_130506, 1);
LOC14 = Skiptypes_93085((*(*N_130506).KindU.S6.Sons->data[0]).Typ, IL64(47287796087390208));
if (!((*LOC14).Kind == ((NU8) 23) || (*LOC14).Kind == ((NU8) 21) || (*LOC14).Kind == ((NU8) 22))) goto LA15;
Result_130507 = ((NU8) 1);
goto LA13;
LA15: ;
Result_130507 = Isassignable_130504((*N_130506).KindU.S6.Sons->data[0]);
LA13: ;
break;
case ((NU8) 47):
case ((NU8) 48):
case ((NU8) 50):
LOC18 = Skiptypes_93085((*N_130506).Typ, IL64(47534086692012032));
if (!((*LOC18).Kind == ((NU8) 27) || (*LOC18).Kind == ((NU8) 18) || (*LOC18).Kind == ((NU8) 17))) goto LA19;
Result_130507 = Isassignable_130504((*N_130506).KindU.S6.Sons->data[1]);
LA19: ;
break;
case ((NU8) 54):
case ((NU8) 38):
Result_130507 = ((NU8) 1);
break;
case ((NU8) 56):
case ((NU8) 55):
case ((NU8) 37):
Result_130507 = Isassignable_130504((*N_130506).KindU.S6.Sons->data[0]);
break;
default:
break;
}
return Result_130507;
}
N_NIMCALL(TY53523*, Newhiddenaddrtaken_130684)(TY103012* C_130686, TY53523* N_130687) {
TY53523* Result_130688;
TY53549* LOC4;
NU8 LOC6;
Result_130688 = 0;
if (!((*N_130687).Kind == ((NU8) 54))) goto LA2;
Checksonslen_103099(N_130687, 1);
Result_130688 = (*N_130687).KindU.S6.Sons->data[0];
goto LA1;
LA2: ;
LOC4 = Makevartype_103073(C_130686, (*N_130687).Typ);
Result_130688 = Newnodeit_53739(((NU8) 53), (*N_130687).Info, LOC4);
Addson_53821(Result_130688, N_130687);
LOC6 = Isassignable_130504(N_130687);
if (!!((LOC6 == ((NU8) 1)))) goto LA7;
Limessage_45562((*N_130687).Info, ((NU8) 124), ((NimStringDesc*) &TMP193928));
LA7: ;
LA1: ;
return Result_130688;
}
N_NIMCALL(TY53523*, Analyseifaddresstaken_130719)(TY103012* C_130721, TY53523* N_130722) {
TY53523* Result_130723;
TY53549* LOC2;
TY53549* LOC9;
TY53549* LOC13;
Result_130723 = 0;
Result_130723 = N_130722;
switch ((*N_130722).Kind) {
case ((NU8) 3):
LOC2 = Skiptypes_93085((*(*N_130722).KindU.S4.Sym).Typ, IL64(47287796087390208));
if (!!(((*LOC2).Kind == ((NU8) 23)))) goto LA3;
(*(*N_130722).KindU.S4.Sym).Flags |=(1<<((NI32)(((NU8) 18))%(sizeof(NI32)*8)));
Result_130723 = Newhiddenaddrtaken_130684(C_130721, N_130722);
LA3: ;
break;
case ((NU8) 36):
Checksonslen_103099(N_130722, 2);
if (!!(((*(*N_130722).KindU.S6.Sons->data[1]).Kind == ((NU8) 3)))) goto LA6;
Internalerror_45567((*N_130722).Info, ((NimStringDesc*) &TMP194131));
LA6: ;
LOC9 = Skiptypes_93085((*(*(*N_130722).KindU.S6.Sons->data[1]).KindU.S4.Sym).Typ, IL64(47287796087390208));
if (!!(((*LOC9).Kind == ((NU8) 23)))) goto LA10;
(*(*(*N_130722).KindU.S6.Sons->data[1]).KindU.S4.Sym).Flags |=(1<<((NI32)(((NU8) 18))%(sizeof(NI32)*8)));
Result_130723 = Newhiddenaddrtaken_130684(C_130721, N_130722);
LA10: ;
break;
case ((NU8) 33):
Checkminsonslen_103103(N_130722, 1);
LOC13 = Skiptypes_93085((*(*N_130722).KindU.S6.Sons->data[0]).Typ, IL64(47287796087390208));
if (!!(((*LOC13).Kind == ((NU8) 23)))) goto LA14;
if (!((*(*N_130722).KindU.S6.Sons->data[0]).Kind == ((NU8) 3))) goto LA17;
(*(*(*N_130722).KindU.S6.Sons->data[0]).KindU.S4.Sym).Flags |=(1<<((NI32)(((NU8) 18))%(sizeof(NI32)*8)));
LA17: ;
Result_130723 = Newhiddenaddrtaken_130684(C_130721, N_130722);
LA14: ;
break;
default:
Result_130723 = Newhiddenaddrtaken_130684(C_130721, N_130722);
break;
}
return Result_130723;
}
N_NIMCALL(void, Analyseifaddresstakenincall_130937)(TY103012* C_130939, TY53523* N_130940) {
TY53549* T_130955;
NIM_BOOL LOC2;
NI I_131019;
NI HEX3Atmp_141979;
NI LOC6;
NI Res_141981;
NIM_BOOL LOC9;
NI LOC10;
TY53549* LOC12;
NU8 LOC16;
NI I_131071;
NI HEX3Atmp_141985;
NI LOC19;
NI Res_141987;
NIM_BOOL LOC22;
NI LOC23;
TY53549* LOC25;
Checkminsonslen_103103(N_130940, 1);
T_130955 = 0;
T_130955 = (*(*N_130940).KindU.S6.Sons->data[0]).Typ;
LOC2 = ((*(*N_130940).KindU.S6.Sons->data[0]).Kind == ((NU8) 3));
if (!(LOC2)) goto LA3;
LOC2 = ((TMP194129[(*(*(*N_130940).KindU.S6.Sons->data[0]).KindU.S4.Sym).Magic/8] &(1<<((*(*(*N_130940).KindU.S6.Sons->data[0]).KindU.S4.Sym).Magic%8)))!=0);
LA3: ;
if (!LOC2) goto LA4;
I_131019 = 0;
HEX3Atmp_141979 = 0;
LOC6 = Sonslen_53801(N_130940);
HEX3Atmp_141979 = (NI32)(LOC6 - 1);
Res_141981 = 0;
Res_141981 = 1;
while (1) {
if (!(Res_141981 <= HEX3Atmp_141979)) goto LA7;
I_131019 = Res_141981;
LOC10 = Sonslen_53804(T_130955);
LOC9 = (I_131019 < LOC10);
if (!(LOC9)) goto LA11;
LOC12 = Skiptypes_93085((*T_130955).Sons->data[I_131019], IL64(47287796087390208));
LOC9 = ((*LOC12).Kind == ((NU8) 23));
LA11: ;
if (!LOC9) goto LA13;
LOC16 = Isassignable_130504((*N_130940).KindU.S6.Sons->data[I_131019]);
if (!!((LOC16 == ((NU8) 1)))) goto LA17;
Limessage_45562((*(*N_130940).KindU.S6.Sons->data[I_131019]).Info, ((NU8) 124), ((NimStringDesc*) &TMP193928));
LA17: ;
LA13: ;
Res_141981 += 1;
} LA7: ;
goto BeforeRet;
LA4: ;
I_131071 = 0;
HEX3Atmp_141985 = 0;
LOC19 = Sonslen_53801(N_130940);
HEX3Atmp_141985 = (NI32)(LOC19 - 1);
Res_141987 = 0;
Res_141987 = 1;
while (1) {
if (!(Res_141987 <= HEX3Atmp_141985)) goto LA20;
I_131071 = Res_141987;
LOC23 = Sonslen_53804(T_130955);
LOC22 = (I_131071 < LOC23);
if (!(LOC22)) goto LA24;
LOC25 = Skiptypes_93085((*T_130955).Sons->data[I_131071], IL64(47287796087390208));
LOC22 = ((*LOC25).Kind == ((NU8) 23));
LA24: ;
if (!LOC22) goto LA26;
asgnRefNoCycle((void**) &(*N_130940).KindU.S6.Sons->data[I_131071], Analyseifaddresstaken_130719(C_130939, (*N_130940).KindU.S6.Sons->data[I_131071]));
LA26: ;
Res_141987 += 1;
} LA20: ;
BeforeRet: ;
}
N_NIMCALL(TY53523*, Propertywriteaccess_137641)(TY103012* C_137643, TY53523* N_137644, TY53523* A_137645) {
TY53523* Result_137646;
TY52011* Id_137647;
TY53523* LOC1;
NimStringDesc* LOC2;
TY52011* LOC3;
TY53523* LOC4;
TY53523* LOC5;
TY53523* LOC6;
TY53523* LOC7;
Result_137646 = 0;
Id_137647 = 0;
LOC1 = HEX5BHEX5D_55072(A_137645, 1);
Id_137647 = Consideracc_121003(LOC1);
Result_137646 = Newnodei_53735(((NU8) 21), (*N_137644).Info);
LOC2 = rawNewString((*Id_137647).S->Sup.len + 1);
appendString(LOC2, (*Id_137647).S);
appendChar(LOC2, 61);
LOC3 = Getident_52016(LOC2);
LOC4 = Newidentnode_53728(LOC3, (*N_137644).Info);
Addson_53821(Result_137646, LOC4);
LOC5 = HEX5BHEX5D_55072(A_137645, 0);
Addson_53821(Result_137646, LOC5);
LOC6 = HEX5BHEX5D_55072(N_137644, 1);
LOC7 = Semexpr_121115(C_137643, LOC6, 0);
Addson_53821(Result_137646, LOC7);
Result_137646 = Semdirectcallanalyseeffects_131107(C_137643, Result_137646, 0);
if (!!((Result_137646 == NIM_NIL))) goto LA9;
Fixabstracttype_130233(C_137643, Result_137646);
Analyseifaddresstakenincall_130937(C_137643, Result_137646);
goto LA8;
LA9: ;
Limessage_45562((*N_137644).Info, ((NU8) 77), (*Id_137647).S);
LA8: ;
return Result_137646;
}
N_NIMCALL(TY53523*, Semsubscript_132778)(TY103012* C_132780, TY53523* N_132781, NU8 Flags_132782) {
TY53523* Result_132783;
TY53549* Arr_132832;
NI I_132864;
NI HEX3Atmp_142049;
NI LOC1;
NI Res_142051;
TY53549* Indextype_132909;
TY53549* LOC3;
TY53523* Arg_132934;
TY53549* LOC10;
NI64 Idx_133043;
NIM_BOOL LOC14;
NI LOC16;
Result_132783 = 0;
Checkminsonslen_103103(N_132781, 2);
asgnRefNoCycle((void**) &(*N_132781).KindU.S6.Sons->data[0], Semexprwithtype_121122(C_132780, (*N_132781).KindU.S6.Sons->data[0], (Flags_132782 & ~ 1)));
Arr_132832 = 0;
Arr_132832 = Skiptypes_93085((*(*N_132781).KindU.S6.Sons->data[0]).Typ, IL64(2498090418307072));
switch ((*Arr_132832).Kind) {
case ((NU8) 16):
case ((NU8) 27):
case ((NU8) 4):
case ((NU8) 24):
case ((NU8) 28):
case ((NU8) 29):
Checksonslen_103099(N_132781, 2);
asgnRefNoCycle((void**) &(*N_132781).KindU.S6.Sons->data[0], Makederef_132200((*N_132781).KindU.S6.Sons->data[0]));
I_132864 = 0;
HEX3Atmp_142049 = 0;
LOC1 = Sonslen_53801(N_132781);
HEX3Atmp_142049 = (NI32)(LOC1 - 1);
Res_142051 = 0;
Res_142051 = 1;
while (1) {
if (!(Res_142051 <= HEX3Atmp_142049)) goto LA2;
I_132864 = Res_142051;
asgnRefNoCycle((void**) &(*N_132781).KindU.S6.Sons->data[I_132864], Semexprwithtype_121122(C_132780, (*N_132781).KindU.S6.Sons->data[I_132864], (Flags_132782 & ~ 1)));
Res_142051 += 1;
} LA2: ;
Indextype_132909 = 0;
if (!((*Arr_132832).Kind == ((NU8) 16))) goto LA5;
LOC3 = (*Arr_132832).Sons->data[0];
goto LA4;
LA5: ;
LOC3 = Getsystype_98008(((NU8) 31));
LA4: ;
Indextype_132909 = LOC3;
Arg_132934 = 0;
Arg_132934 = Indextypesmatch_124917(C_132780, Indextype_132909, (*(*N_132781).KindU.S6.Sons->data[1]).Typ, (*N_132781).KindU.S6.Sons->data[1]);
if (!!((Arg_132934 == NIM_NIL))) goto LA7;
asgnRefNoCycle((void**) &(*N_132781).KindU.S6.Sons->data[1], Arg_132934);
goto LA6;
LA7: ;
Limessage_45562((*N_132781).Info, ((NU8) 80), ((NimStringDesc*) &TMP193928));
LA6: ;
Result_132783 = N_132781;
asgnRef((void**) &(*Result_132783).Typ, Elemtype_93089(Arr_132832));
break;
case ((NU8) 18):
Checksonslen_103099(N_132781, 2);
asgnRefNoCycle((void**) &(*N_132781).KindU.S6.Sons->data[0], Makederef_132200((*N_132781).KindU.S6.Sons->data[0]));
asgnRefNoCycle((void**) &(*N_132781).KindU.S6.Sons->data[1], Semconstexpr_121171(C_132780, (*N_132781).KindU.S6.Sons->data[1]));
LOC10 = Skiptypes_93085((*(*N_132781).KindU.S6.Sons->data[1]).Typ, IL64(38298189018693632));
if (!((*LOC10).Kind >= ((NU8) 31) && (*LOC10).Kind <= ((NU8) 35))) goto LA11;
Idx_133043 = 0;
Idx_133043 = Getordvalue_93107((*N_132781).KindU.S6.Sons->data[1]);
LOC14 = (0 <= Idx_133043);
if (!(LOC14)) goto LA15;
LOC16 = Sonslen_53804(Arr_132832);
LOC14 = (Idx_133043 < ((NI64) (LOC16)));
LA15: ;
if (!LOC14) goto LA17;
asgnRef((void**) &(*N_132781).Typ, (*Arr_132832).Sons->data[Idx_133043]);
goto LA13;
LA17: ;
Limessage_45562((*N_132781).Info, ((NU8) 180), ((NimStringDesc*) &TMP193928));
LA13: ;
goto LA9;
LA11: ;
Limessage_45562((*N_132781).Info, ((NU8) 80), ((NimStringDesc*) &TMP193928));
LA9: ;
Result_132783 = N_132781;
break;
default:
break;
}
return Result_132783;
}
static N_INLINE(NI, Len_54944)(TY53523* N_54946) {
NI Result_54947;
Result_54947 = 0;
if (!(*N_54946).KindU.S6.Sons == 0) goto LA2;
Result_54947 = 0;
goto LA1;
LA2: ;
Result_54947 = (*N_54946).KindU.S6.Sons->Sup.len;
LA1: ;
return Result_54947;
}
N_NIMCALL(void, Addsliceopr_132700)(NimStringDesc** Result_132703, TY53523* N_132704) {
TY53523* LOC2;
TY53523* LOC6;
TY53523* LOC9;
LOC2 = HEX5BHEX5D_55072(N_132704, 0);
if (!(LOC2 == NIM_NIL)) goto LA3;
LOC6 = HEX5BHEX5D_55072(N_132704, 1);
if (!(LOC6 == NIM_NIL)) goto LA7;
(*Result_132703) = resizeString((*Result_132703), 2);
appendString((*Result_132703), ((NimStringDesc*) &TMP194134));
goto LA5;
LA7: ;
(*Result_132703) = resizeString((*Result_132703), 3);
appendString((*Result_132703), ((NimStringDesc*) &TMP194135));
LA5: ;
goto LA1;
LA3: ;
LOC9 = HEX5BHEX5D_55072(N_132704, 1);
if (!(LOC9 == NIM_NIL)) goto LA10;
(*Result_132703) = resizeString((*Result_132703), 3);
appendString((*Result_132703), ((NimStringDesc*) &TMP194136));
goto LA1;
LA10: ;
(*Result_132703) = resizeString((*Result_132703), 4);
appendString((*Result_132703), ((NimStringDesc*) &TMP194137));
LA1: ;
}
N_NIMCALL(TY53523*, Buildoverloadedsubscripts_132738)(TY53523* N_132740, NIM_BOOL Inasgn_132741) {
TY53523* Result_132742;
TY53523* LOC1;
NimStringDesc* Opr_132743;
NI I_132753;
NI HEX3Atmp_142043;
NI LOC2;
NI Res_142045;
TY53523* LOC8;
TY53523* LOC11;
TY53523* LOC12;
TY53523* LOC13;
TY53523* LOC14;
TY53523* LOC15;
TY53523* LOC16;
TY53523* LOC17;
TY52011* LOC21;
Result_132742 = 0;
Result_132742 = Newnodei_53735(((NU8) 21), (*N_132740).Info);
Add_54990(Result_132742, NIM_NIL);
LOC1 = HEX5BHEX5D_55072(N_132740, 0);
Add_54990(Result_132742, LOC1);
Opr_132743 = 0;
Opr_132743 = copyString(((NimStringDesc*) &TMP194132));
I_132753 = 0;
HEX3Atmp_142043 = 0;
LOC2 = Len_54944(N_132740);
HEX3Atmp_142043 = (NI32)(LOC2 - 1);
Res_142045 = 0;
Res_142045 = 1;
while (1) {
if (!(Res_142045 <= HEX3Atmp_142043)) goto LA3;
I_132753 = Res_142045;
if (!(1 < I_132753)) goto LA5;
Opr_132743 = resizeString(Opr_132743, 1);
appendString(Opr_132743, ((NimStringDesc*) &TMP194133));
LA5: ;
LOC8 = HEX5BHEX5D_55072(N_132740, I_132753);
if (!((*LOC8).Kind == ((NU8) 35))) goto LA9;
LOC11 = HEX5BHEX5D_55072(N_132740, I_132753);
Checksonslen_103099(LOC11, 2);
LOC12 = HEX5BHEX5D_55072(N_132740, I_132753);
Addsliceopr_132700(&Opr_132743, LOC12);
LOC13 = HEX5BHEX5D_55072(N_132740, I_132753);
LOC14 = HEX5BHEX5D_55072(LOC13, 0);
Addsonifnotnil_53829(Result_132742, LOC14);
LOC15 = HEX5BHEX5D_55072(N_132740, I_132753);
LOC16 = HEX5BHEX5D_55072(LOC15, 1);
Addsonifnotnil_53829(Result_132742, LOC16);
goto LA7;
LA9: ;
LOC17 = HEX5BHEX5D_55072(N_132740, I_132753);
Add_54990(Result_132742, LOC17);
LA7: ;
Res_142045 += 1;
} LA3: ;
if (!Inasgn_132741) goto LA19;
Opr_132743 = resizeString(Opr_132743, 2);
appendString(Opr_132743, ((NimStringDesc*) &TMP194138));
goto LA18;
LA19: ;
Opr_132743 = resizeString(Opr_132743, 1);
appendString(Opr_132743, ((NimStringDesc*) &TMP194139));
LA18: ;
LOC21 = Getident_52016(Opr_132743);
asgnRefNoCycle((void**) &(*Result_132742).KindU.S6.Sons->data[0], Newidentnode_53728(LOC21, (*N_132740).Info));
return Result_132742;
}
N_NIMCALL(TY53523*, Semexprnotype_136703)(TY103012* C_136705, TY53523* N_136706) {
TY53523* Result_136707;
NIM_BOOL LOC2;
Result_136707 = 0;
Result_136707 = Semexpr_121115(C_136705, N_136706, 0);
LOC2 = !(((*Result_136707).Typ == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC2 = !(((*(*Result_136707).Typ).Kind == ((NU8) 7)));
LA3: ;
if (!LOC2) goto LA4;
Limessage_45562((*N_136706).Info, ((NU8) 137), ((NimStringDesc*) &TMP193928));
LA4: ;
return Result_136707;
}
N_NIMCALL(TY53523*, Semasgn_137665)(TY103012* C_137667, TY53523* N_137668) {
TY53523* Result_137669;
TY53523* A_137682;
TY53523* LOC4;
TY53523* LOC8;
TY53549* Le_137862;
NIM_BOOL LOC10;
TY53549* LOC11;
NU8 LOC13;
NimStringDesc* LOC16;
Result_137669 = 0;
Checksonslen_103099(N_137668, 2);
A_137682 = 0;
A_137682 = (*N_137668).KindU.S6.Sons->data[0];
switch ((*A_137682).Kind) {
case ((NU8) 36):
A_137682 = Builtinfieldaccess_132229(C_137667, A_137682, 2);
if (!(A_137682 == NIM_NIL)) goto LA2;
LOC4 = HEX5BHEX5D_55072(N_137668, 0);
Result_137669 = Propertywriteaccess_137641(C_137667, N_137668, LOC4);
goto BeforeRet;
LA2: ;
break;
case ((NU8) 33):
A_137682 = Semsubscript_132778(C_137667, A_137682, 2);
if (!(A_137682 == NIM_NIL)) goto LA6;
Result_137669 = Buildoverloadedsubscripts_132738((*N_137668).KindU.S6.Sons->data[0], NIM_TRUE);
LOC8 = HEX5BHEX5D_55072(N_137668, 1);
Add_54990(Result_137669, LOC8);
Result_137669 = Semexprnotype_136703(C_137667, Result_137669);
goto BeforeRet;
LA6: ;
break;
default:
A_137682 = Semexprwithtype_121122(C_137667, A_137682, 2);
break;
}
asgnRefNoCycle((void**) &(*N_137668).KindU.S6.Sons->data[0], A_137682);
asgnRefNoCycle((void**) &(*N_137668).KindU.S6.Sons->data[1], Semexprwithtype_121122(C_137667, (*N_137668).KindU.S6.Sons->data[1], 0));
Le_137862 = 0;
Le_137862 = (*A_137682).Typ;
LOC11 = Skiptypes_93085(Le_137862, IL64(2251799813685248));
LOC10 = !(((*LOC11).Kind == ((NU8) 23)));
if (!(LOC10)) goto LA12;
LOC13 = Isassignable_130504(A_137682);
LOC10 = (LOC13 == ((NU8) 0));
LA12: ;
if (!LOC10) goto LA14;
LOC16 = Rendertree_81042(A_137682, 4);
Limessage_45562((*A_137682).Info, ((NU8) 173), LOC16);
goto LA9;
LA14: ;
asgnRefNoCycle((void**) &(*N_137668).KindU.S6.Sons->data[1], Fitnode_121129(C_137667, Le_137862, (*N_137668).KindU.S6.Sons->data[1]));
Fixabstracttype_130233(C_137667, N_137668);
LA9: ;
Result_137669 = N_137668;
BeforeRet: ;
return Result_137669;
}
N_NIMCALL(TY53523*, Semcommand_141650)(TY103012* C_141652, TY53523* N_141653) {
TY53523* Result_141654;
Result_141654 = 0;
Result_141654 = Semexprnotype_136703(C_141652, N_141653);
return Result_141654;
}
N_NIMCALL(TY53523*, Semblock_137153)(TY103012* C_137155, TY53523* N_137156) {
TY53523* Result_137157;
TY53545* Labl_137206;
Result_137157 = 0;
Result_137157 = N_137156;
(*(*C_137155).P).Nestedblockcounter += 1;
Checksonslen_103099(N_137156, 2);
Openscope_57149(&(*C_137155).Tab);
if (!!(((*N_137156).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA2;
Labl_137206 = 0;
Labl_137206 = Newsyms_121059(((NU8) 19), (*N_137156).KindU.S6.Sons->data[0], C_137155);
Adddecl_104026(C_137155, Labl_137206);
asgnRefNoCycle((void**) &(*N_137156).KindU.S6.Sons->data[0], Newsymnode_53732(Labl_137206));
LA2: ;
asgnRefNoCycle((void**) &(*N_137156).KindU.S6.Sons->data[1], Semstmt_121143(C_137155, (*N_137156).KindU.S6.Sons->data[1]));
Closescope_104017(&(*C_137155).Tab);
(*(*C_137155).P).Nestedblockcounter -= 1;
return Result_137157;
}
N_NIMCALL(TY53523*, Semraise_139191)(TY103012* C_139193, TY53523* N_139194) {
TY53523* Result_139195;
TY53549* Typ_139255;
NIM_BOOL LOC5;
Result_139195 = 0;
Result_139195 = N_139194;
Checksonslen_103099(N_139194, 1);
if (!!(((*N_139194).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA2;
asgnRefNoCycle((void**) &(*N_139194).KindU.S6.Sons->data[0], Semexprwithtype_121122(C_139193, (*N_139194).KindU.S6.Sons->data[0], 0));
Typ_139255 = 0;
Typ_139255 = (*(*N_139194).KindU.S6.Sons->data[0]).Typ;
LOC5 = !(((*Typ_139255).Kind == ((NU8) 22)));
if (LOC5) goto LA6;
LOC5 = !(((*(*Typ_139255).Sons->data[0]).Kind == ((NU8) 17)));
LA6: ;
if (!LOC5) goto LA7;
Limessage_45562((*N_139194).Info, ((NU8) 110), ((NimStringDesc*) &TMP193928));
LA7: ;
LA2: ;
return Result_139195;
}
N_NIMCALL(TY53523*, Semvar_138296)(TY103012* C_138298, TY53523* N_138299) {
TY53523* Result_138300;
NI Length_138301;
TY53523* A_138302;
TY53523* B_138303;
TY53523* Def_138304;
TY53549* Typ_138305;
TY53549* Tup_138306;
TY53545* V_138307;
NI I_138315;
NI HEX3Atmp_142268;
NI LOC1;
NI Res_142270;
NIM_BOOL LOC8;
NIM_BOOL LOC22;
NimStringDesc* LOC25;
NI LOC33;
NI J_138488;
NI HEX3Atmp_142262;
NI Res_142264;
TY53523* LOC46;
TY53523* LOC47;
Result_138300 = 0;
Length_138301 = 0;
A_138302 = 0;
B_138303 = 0;
Def_138304 = 0;
Typ_138305 = 0;
Tup_138306 = 0;
V_138307 = 0;
Result_138300 = Copynode_53853(N_138299);
I_138315 = 0;
HEX3Atmp_142268 = 0;
LOC1 = Sonslen_53801(N_138299);
HEX3Atmp_142268 = (NI32)(LOC1 - 1);
Res_142270 = 0;
Res_142270 = 0;
while (1) {
if (!(Res_142270 <= HEX3Atmp_142268)) goto LA2;
I_138315 = Res_142270;
A_138302 = (*N_138299).KindU.S6.Sons->data[I_138315];
if (!((*A_138302).Kind == ((NU8) 105))) goto LA5;
goto LA3;
LA5: ;
LOC8 = !(((*A_138302).Kind == ((NU8) 25)));
if (!(LOC8)) goto LA9;
LOC8 = !(((*A_138302).Kind == ((NU8) 26)));
LA9: ;
if (!LOC8) goto LA10;
Illformedast_103092(A_138302);
LA10: ;
Checkminsonslen_103103(A_138302, 3);
Length_138301 = Sonslen_53801(A_138302);
if (!!(((*A_138302).KindU.S6.Sons->data[(NI32)(Length_138301 - 2)] == NIM_NIL))) goto LA13;
Typ_138305 = Semtypenode_121138(C_138298, (*A_138302).KindU.S6.Sons->data[(NI32)(Length_138301 - 2)], NIM_NIL);
goto LA12;
LA13: ;
Typ_138305 = NIM_NIL;
LA12: ;
if (!!(((*A_138302).KindU.S6.Sons->data[(NI32)(Length_138301 - 1)] == NIM_NIL))) goto LA16;
Def_138304 = Semexprwithtype_121122(C_138298, (*A_138302).KindU.S6.Sons->data[(NI32)(Length_138301 - 1)], 0);
if (!!((Typ_138305 == NIM_NIL))) goto LA19;
Def_138304 = Fitnode_121129(C_138298, Typ_138305, Def_138304);
goto LA18;
LA19: ;
Typ_138305 = (*Def_138304).Typ;
LA18: ;
goto LA15;
LA16: ;
Def_138304 = NIM_NIL;
LA15: ;
LOC22 = Typeallowed_93134(Typ_138305, ((NU8) 8));
if (!!(LOC22)) goto LA23;
LOC25 = Typetostring_93014(Typ_138305, ((NU8) 0));
Limessage_45562((*A_138302).Info, ((NU8) 162), LOC25);
LA23: ;
Tup_138306 = Skiptypes_93085(Typ_138305, IL64(2251799813685248));
if (!((*A_138302).Kind == ((NU8) 26))) goto LA27;
if (!!(((*Tup_138306).Kind == ((NU8) 18)))) goto LA30;
Limessage_45562((*A_138302).Info, ((NU8) 182), ((NimStringDesc*) &TMP194145));
LA30: ;
LOC33 = Sonslen_53804(Tup_138306);
if (!!(((NI32)(Length_138301 - 2) == LOC33))) goto LA34;
Limessage_45562((*A_138302).Info, ((NU8) 109), ((NimStringDesc*) &TMP193928));
LA34: ;
B_138303 = Newnodei_53735(((NU8) 26), (*A_138302).Info);
Newsons_53813(B_138303, Length_138301);
asgnRefNoCycle((void**) &(*B_138303).KindU.S6.Sons->data[(NI32)(Length_138301 - 2)], NIM_NIL);
asgnRefNoCycle((void**) &(*B_138303).KindU.S6.Sons->data[(NI32)(Length_138301 - 1)], Def_138304);
Addson_53821(Result_138300, B_138303);
LA27: ;
J_138488 = 0;
HEX3Atmp_142262 = 0;
HEX3Atmp_142262 = (NI32)(Length_138301 - 3);
Res_142264 = 0;
Res_142264 = 0;
while (1) {
if (!(Res_142264 <= HEX3Atmp_142262)) goto LA36;
J_138488 = Res_142264;
if (!((*(*(*C_138298).P).Owner).Kind == ((NU8) 18))) goto LA38;
V_138307 = Semidentwithpragma_121098(C_138298, ((NU8) 8), (*A_138302).KindU.S6.Sons->data[J_138488], 100663296);
(*V_138307).Flags |=(1<<((NI32)(((NU8) 5))%(sizeof(NI32)*8)));
goto LA37;
LA38: ;
V_138307 = Semidentwithpragma_121098(C_138298, ((NU8) 8), (*A_138302).KindU.S6.Sons->data[J_138488], 0);
LA37: ;
if (!!((((*V_138307).Flags & 100663296) == 0))) goto LA41;
(*V_138307).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
LA41: ;
Addinterfacedecl_104040(C_138298, V_138307);
if (!!(((*A_138302).Kind == ((NU8) 26)))) goto LA44;
asgnRef((void**) &(*V_138307).Typ, Typ_138305);
B_138303 = Newnodei_53735(((NU8) 25), (*A_138302).Info);
LOC46 = Newsymnode_53732(V_138307);
Addson_53821(B_138303, LOC46);
Addson_53821(B_138303, NIM_NIL);
LOC47 = Copytree_53856(Def_138304);
Addson_53821(B_138303, LOC47);
Addson_53821(Result_138300, B_138303);
goto LA43;
LA44: ;
asgnRef((void**) &(*V_138307).Typ, (*Tup_138306).Sons->data[J_138488]);
asgnRefNoCycle((void**) &(*B_138303).KindU.S6.Sons->data[J_138488], Newsymnode_53732(V_138307));
LA43: ;
Res_142264 += 1;
} LA36: ;
LA3: ;
Res_142270 += 1;
} LA2: ;
return Result_138300;
}
N_NIMCALL(TY53523*, Semandevalconstexpr_121198)(TY103012* C_121200, TY53523* N_121201) {
TY53523* Result_121202;
TY53523* E_121203;
NIM_BOOL LOC8;
Result_121202 = 0;
E_121203 = 0;
E_121203 = Semexprwithtype_121122(C_121200, N_121201, 0);
if (!(E_121203 == NIM_NIL)) goto LA2;
Limessage_45562((*N_121201).Info, ((NU8) 102), ((NimStringDesc*) &TMP193928));
Result_121202 = NIM_NIL;
goto BeforeRet;
LA2: ;
Result_121202 = Getconstexpr_109010((*C_121200).Module, E_121203);
if (!(Result_121202 == NIM_NIL)) goto LA5;
Result_121202 = Evalconstexpr_111042((*C_121200).Module, E_121203);
LOC8 = (Result_121202 == NIM_NIL);
if (LOC8) goto LA9;
LOC8 = ((*Result_121202).Kind == ((NU8) 1));
LA9: ;
if (!LOC8) goto LA10;
Limessage_45562((*N_121201).Info, ((NU8) 102), ((NimStringDesc*) &TMP193928));
LA10: ;
LA5: ;
BeforeRet: ;
return Result_121202;
}
N_NIMCALL(TY53523*, Fitremovehiddenconv_138254)(TY103012* C_138256, TY53549* Typ_138257, TY53523* N_138258) {
TY53523* Result_138259;
NIM_BOOL LOC4;
Result_138259 = 0;
Result_138259 = Fitnode_121129(C_138256, Typ_138257, N_138258);
if (!((*Result_138259).Kind == ((NU8) 47) || (*Result_138259).Kind == ((NU8) 48))) goto LA2;
Changetype_129942((*Result_138259).KindU.S6.Sons->data[1], Typ_138257);
Result_138259 = (*Result_138259).KindU.S6.Sons->data[1];
goto LA1;
LA2: ;
LOC4 = Sametype_93048((*Result_138259).Typ, Typ_138257);
if (!!(LOC4)) goto LA5;
Changetype_129942(Result_138259, Typ_138257);
goto LA1;
LA5: ;
LA1: ;
return Result_138259;
}
N_NIMCALL(TY53523*, Semconst_138594)(TY103012* C_138596, TY53523* N_138597) {
TY53523* Result_138598;
TY53523* A_138599;
TY53523* Def_138600;
TY53523* B_138601;
TY53545* V_138602;
TY53549* Typ_138603;
NI I_138611;
NI HEX3Atmp_142278;
NI LOC1;
NI Res_142280;
NIM_BOOL LOC20;
NimStringDesc* LOC23;
TY53523* LOC27;
TY53523* LOC28;
Result_138598 = 0;
A_138599 = 0;
Def_138600 = 0;
B_138601 = 0;
V_138602 = 0;
Typ_138603 = 0;
Result_138598 = Copynode_53853(N_138597);
I_138611 = 0;
HEX3Atmp_142278 = 0;
LOC1 = Sonslen_53801(N_138597);
HEX3Atmp_142278 = (NI32)(LOC1 - 1);
Res_142280 = 0;
Res_142280 = 0;
while (1) {
if (!(Res_142280 <= HEX3Atmp_142278)) goto LA2;
I_138611 = Res_142280;
A_138599 = (*N_138597).KindU.S6.Sons->data[I_138611];
if (!((*A_138599).Kind == ((NU8) 105))) goto LA5;
goto LA3;
LA5: ;
if (!!(((*A_138599).Kind == ((NU8) 89)))) goto LA8;
Illformedast_103092(A_138599);
LA8: ;
Checksonslen_103099(A_138599, 3);
if (!((*(*(*C_138596).P).Owner).Kind == ((NU8) 18))) goto LA11;
V_138602 = Semidentwithpragma_121098(C_138596, ((NU8) 7), (*A_138599).KindU.S6.Sons->data[0], 100663296);
(*V_138602).Flags |=(1<<((NI32)(((NU8) 5))%(sizeof(NI32)*8)));
goto LA10;
LA11: ;
V_138602 = Semidentwithpragma_121098(C_138596, ((NU8) 7), (*A_138599).KindU.S6.Sons->data[0], 0);
LA10: ;
if (!!(((*A_138599).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA14;
Typ_138603 = Semtypenode_121138(C_138596, (*A_138599).KindU.S6.Sons->data[1], NIM_NIL);
goto LA13;
LA14: ;
Typ_138603 = NIM_NIL;
LA13: ;
Def_138600 = Semandevalconstexpr_121198(C_138596, (*A_138599).KindU.S6.Sons->data[2]);
if (!!((Typ_138603 == NIM_NIL))) goto LA17;
Def_138600 = Fitremovehiddenconv_138254(C_138596, Typ_138603, Def_138600);
goto LA16;
LA17: ;
Typ_138603 = (*Def_138600).Typ;
LA16: ;
LOC20 = Typeallowed_93134(Typ_138603, ((NU8) 7));
if (!!(LOC20)) goto LA21;
LOC23 = Typetostring_93014(Typ_138603, ((NU8) 0));
Limessage_45562((*A_138599).Info, ((NU8) 162), LOC23);
LA21: ;
asgnRef((void**) &(*V_138602).Typ, Typ_138603);
asgnRefNoCycle((void**) &(*V_138602).Ast, Def_138600);
if (!!((((*V_138602).Flags & 100663296) == 0))) goto LA25;
(*V_138602).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
LA25: ;
Addinterfacedecl_104040(C_138596, V_138602);
B_138601 = Newnodei_53735(((NU8) 89), (*A_138599).Info);
LOC27 = Newsymnode_53732(V_138602);
Addson_53821(B_138601, LOC27);
Addson_53821(B_138601, NIM_NIL);
LOC28 = Copytree_53856(Def_138600);
Addson_53821(B_138601, LOC28);
Addson_53821(Result_138598, B_138601);
LA3: ;
Res_142280 += 1;
} LA2: ;
return Result_138598;
}
N_NIMCALL(void, Setmagictype_129011)(TY53545* M_129013, NU8 Kind_129014, NI Size_129015) {
(*(*M_129013).Typ).Kind = Kind_129014;
(*(*M_129013).Typ).Align = Size_129015;
(*(*M_129013).Typ).Size = ((NI64) (Size_129015));
}
N_NIMCALL(void, Processmagictype_129016)(TY103012* C_129018, TY53545* M_129019) {
TY53549* LOC1;
TY53549* LOC2;
TY53549* LOC3;
switch ((*M_129019).Magic) {
case ((NU8) 168):
Setmagictype_129011(M_129019, ((NU8) 31), Intsize_49570);
break;
case ((NU8) 169):
Setmagictype_129011(M_129019, ((NU8) 32), 1);
break;
case ((NU8) 170):
Setmagictype_129011(M_129019, ((NU8) 33), 2);
break;
case ((NU8) 171):
Setmagictype_129011(M_129019, ((NU8) 34), 4);
break;
case ((NU8) 172):
Setmagictype_129011(M_129019, ((NU8) 35), 8);
break;
case ((NU8) 173):
Setmagictype_129011(M_129019, ((NU8) 36), Floatsize_49571);
break;
case ((NU8) 174):
Setmagictype_129011(M_129019, ((NU8) 37), 4);
break;
case ((NU8) 175):
Setmagictype_129011(M_129019, ((NU8) 38), 8);
break;
case ((NU8) 176):
Setmagictype_129011(M_129019, ((NU8) 1), 1);
break;
case ((NU8) 177):
Setmagictype_129011(M_129019, ((NU8) 2), 1);
break;
case ((NU8) 178):
Setmagictype_129011(M_129019, ((NU8) 28), Ptrsize_49572);
LOC1 = Getsystype_98008(((NU8) 2));
Addson_53825((*M_129019).Typ, LOC1);
break;
case ((NU8) 179):
Setmagictype_129011(M_129019, ((NU8) 29), Ptrsize_49572);
LOC2 = Getsystype_98008(((NU8) 2));
Addson_53825((*M_129019).Typ, LOC2);
break;
case ((NU8) 180):
Setmagictype_129011(M_129019, ((NU8) 26), Ptrsize_49572);
break;
case ((NU8) 181):
Setmagictype_129011(M_129019, ((NU8) 19), 1);
LOC3 = Newtypes_103077(((NU8) 3), C_129018);
Addson_53825((*M_129019).Typ, LOC3);
break;
case ((NU8) 182):
Setmagictype_129011(M_129019, ((NU8) 20), Intsize_49570);
goto BeforeRet;
break;
case ((NU8) 183):
Setmagictype_129011(M_129019, ((NU8) 5), Ptrsize_49572);
break;
case ((NU8) 184):
Setmagictype_129011(M_129019, ((NU8) 6), 0);
break;
case ((NU8) 185):
Setmagictype_129011(M_129019, ((NU8) 7), 0);
break;
case ((NU8) 186):
Setmagictype_129011(M_129019, ((NU8) 8), 0);
break;
case ((NU8) 162):
case ((NU8) 163):
case ((NU8) 164):
case ((NU8) 165):
case ((NU8) 166):
case ((NU8) 167):
goto BeforeRet;
break;
default:
Limessage_45562((*M_129019).Info, ((NU8) 60), ((NimStringDesc*) &TMP193928));
break;
}
BeforeRet: ;
}
N_NIMCALL(TY53523*, Semgenericparamlist_139469)(TY103012* C_139471, TY53523* N_139472, TY53549* Father_139473) {
TY53523* Result_139474;
NI I_139491;
NI HEX3Atmp_142312;
NI LOC4;
NI Res_142314;
TY53523* A_139504;
NI L_139514;
TY53523* Def_139527;
TY53549* Typ_139528;
NI J_139582;
NI HEX3Atmp_142306;
NI Res_142308;
TY53545* S_139583;
NIM_BOOL LOC16;
TY53523* LOC23;
Result_139474 = 0;
Result_139474 = Copynode_53853(N_139472);
if (!!(((*N_139472).Kind == ((NU8) 65)))) goto LA2;
Internalerror_45567((*N_139472).Info, ((NimStringDesc*) &TMP194164));
LA2: ;
I_139491 = 0;
HEX3Atmp_142312 = 0;
LOC4 = Sonslen_53801(N_139472);
HEX3Atmp_142312 = (NI32)(LOC4 - 1);
Res_142314 = 0;
Res_142314 = 0;
while (1) {
if (!(Res_142314 <= HEX3Atmp_142312)) goto LA5;
I_139491 = Res_142314;
A_139504 = 0;
A_139504 = (*N_139472).KindU.S6.Sons->data[I_139491];
if (!!(((*A_139504).Kind == ((NU8) 25)))) goto LA7;
Illformedast_103092(N_139472);
LA7: ;
L_139514 = 0;
L_139514 = Sonslen_53801(A_139504);
Def_139527 = 0;
Def_139527 = (*A_139504).KindU.S6.Sons->data[(NI32)(L_139514 - 1)];
Typ_139528 = 0;
if (!!(((*A_139504).KindU.S6.Sons->data[(NI32)(L_139514 - 2)] == NIM_NIL))) goto LA10;
Typ_139528 = Semtypenode_121138(C_139471, (*A_139504).KindU.S6.Sons->data[(NI32)(L_139514 - 2)], NIM_NIL);
goto LA9;
LA10: ;
if (!!((Def_139527 == NIM_NIL))) goto LA12;
Typ_139528 = Newtypes_103077(((NU8) 6), C_139471);
goto LA9;
LA12: ;
Typ_139528 = NIM_NIL;
LA9: ;
J_139582 = 0;
HEX3Atmp_142306 = 0;
HEX3Atmp_142306 = (NI32)(L_139514 - 3);
Res_142308 = 0;
Res_142308 = 0;
while (1) {
if (!(Res_142308 <= HEX3Atmp_142306)) goto LA14;
J_139582 = Res_142308;
S_139583 = 0;
LOC16 = (Typ_139528 == NIM_NIL);
if (LOC16) goto LA17;
LOC16 = ((*Typ_139528).Kind == ((NU8) 8));
LA17: ;
if (!LOC16) goto LA18;
S_139583 = Newsyms_121059(((NU8) 6), (*A_139504).KindU.S6.Sons->data[J_139582], C_139471);
asgnRef((void**) &(*S_139583).Typ, Newtypes_103077(((NU8) 12), C_139471));
goto LA15;
LA18: ;
S_139583 = Newsyms_121059(((NU8) 4), (*A_139504).KindU.S6.Sons->data[J_139582], C_139471);
asgnRef((void**) &(*S_139583).Typ, Typ_139528);
LA15: ;
asgnRefNoCycle((void**) &(*S_139583).Ast, Def_139527);
asgnRef((void**) &(*(*S_139583).Typ).Sym, S_139583);
if (!!((Father_139473 == NIM_NIL))) goto LA21;
Addson_53825(Father_139473, (*S_139583).Typ);
LA21: ;
(*S_139583).Position = I_139491;
LOC23 = Newsymnode_53732(S_139583);
Addson_53821(Result_139474, LOC23);
Adddecl_104026(C_139471, S_139583);
Res_142308 += 1;
} LA14: ;
Res_142314 += 1;
} LA5: ;
return Result_139474;
}
N_NIMCALL(TY53523*, Semtypesection_139694)(TY103012* C_139696, TY53523* N_139697) {
TY53523* Result_139698;
TY53545* S_139699;
TY53549* T_139700;
TY53549* Body_139701;
NI I_139709;
NI HEX3Atmp_142328;
NI LOC1;
NI Res_142330;
TY53523* A_139722;
NI I_139889;
NI HEX3Atmp_142334;
NI LOC19;
NI Res_142336;
TY53523* A_139902;
NIM_BOOL LOC32;
NI LOC48;
NIM_BOOL LOC52;
NI I_140143;
NI HEX3Atmp_142340;
NI LOC56;
NI Res_142342;
TY53523* A_140156;
NIM_BOOL LOC69;
Result_139698 = 0;
S_139699 = 0;
T_139700 = 0;
Body_139701 = 0;
Result_139698 = N_139697;
I_139709 = 0;
HEX3Atmp_142328 = 0;
LOC1 = Sonslen_53801(N_139697);
HEX3Atmp_142328 = (NI32)(LOC1 - 1);
Res_142330 = 0;
Res_142330 = 0;
while (1) {
if (!(Res_142330 <= HEX3Atmp_142328)) goto LA2;
I_139709 = Res_142330;
A_139722 = 0;
A_139722 = (*N_139697).KindU.S6.Sons->data[I_139709];
if (!((*A_139722).Kind == ((NU8) 105))) goto LA5;
goto LA3;
LA5: ;
if (!!(((*A_139722).Kind == ((NU8) 91)))) goto LA8;
Illformedast_103092(A_139722);
LA8: ;
Checksonslen_103099(A_139722, 3);
if (!((*(*(*C_139696).P).Owner).Kind == ((NU8) 18))) goto LA11;
S_139699 = Semidentwithpragma_121098(C_139696, ((NU8) 6), (*A_139722).KindU.S6.Sons->data[0], 100663296);
(*S_139699).Flags |=(1<<((NI32)(((NU8) 5))%(sizeof(NI32)*8)));
goto LA10;
LA11: ;
S_139699 = Semidentwithpragma_121098(C_139696, ((NU8) 6), (*A_139722).KindU.S6.Sons->data[0], 0);
LA10: ;
if (!!((((*S_139699).Flags & 100663296) == 0))) goto LA14;
(*S_139699).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
LA14: ;
asgnRef((void**) &(*S_139699).Typ, Newtypes_103077(((NU8) 30), C_139696));
asgnRef((void**) &(*(*S_139699).Typ).Sym, S_139699);
if (!((*(*A_139722).KindU.S6.Sons->data[0]).Kind == ((NU8) 34))) goto LA17;
Pragma_118028(C_139696, S_139699, (*(*A_139722).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[1], TMP194162);
LA17: ;
Addinterfacedecl_104040(C_139696, S_139699);
asgnRefNoCycle((void**) &(*A_139722).KindU.S6.Sons->data[0], Newsymnode_53732(S_139699));
LA3: ;
Res_142330 += 1;
} LA2: ;
I_139889 = 0;
HEX3Atmp_142334 = 0;
LOC19 = Sonslen_53801(N_139697);
HEX3Atmp_142334 = (NI32)(LOC19 - 1);
Res_142336 = 0;
Res_142336 = 0;
while (1) {
if (!(Res_142336 <= HEX3Atmp_142334)) goto LA20;
I_139889 = Res_142336;
A_139902 = 0;
A_139902 = (*N_139697).KindU.S6.Sons->data[I_139889];
if (!((*A_139902).Kind == ((NU8) 105))) goto LA23;
goto LA21;
LA23: ;
if (!!(((*A_139902).Kind == ((NU8) 91)))) goto LA26;
Illformedast_103092(A_139902);
LA26: ;
Checksonslen_103099(A_139902, 3);
if (!!(((*(*A_139902).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA29;
Illformedast_103092(A_139902);
LA29: ;
S_139699 = (*(*A_139902).KindU.S6.Sons->data[0]).KindU.S4.Sym;
LOC32 = ((*S_139699).Magic == ((NU8) 0));
if (!(LOC32)) goto LA33;
LOC32 = ((*A_139902).KindU.S6.Sons->data[2] == NIM_NIL);
LA33: ;
if (!LOC32) goto LA34;
Limessage_45562((*A_139902).Info, ((NU8) 135), (*(*S_139699).Name).S);
LA34: ;
if (!!(((*S_139699).Magic == ((NU8) 0)))) goto LA37;
Processmagictype_129016(C_139696, S_139699);
LA37: ;
if (!!(((*A_139902).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA40;
Openscope_57149(&(*C_139696).Tab);
Pushowner_103109(S_139699);
(*(*S_139699).Typ).Kind = ((NU8) 10);
if (!!(((*(*S_139699).Typ).Containerid == 0))) goto LA43;
Internalerror_45567((*A_139902).Info, ((NimStringDesc*) &TMP194163));
LA43: ;
(*(*S_139699).Typ).Containerid = Getid_53691();
asgnRefNoCycle((void**) &(*A_139902).KindU.S6.Sons->data[1], Semgenericparamlist_139469(C_139696, (*A_139902).KindU.S6.Sons->data[1], (*S_139699).Typ));
Addson_53825((*S_139699).Typ, NIM_NIL);
asgnRefNoCycle((void**) &(*S_139699).Ast, A_139902);
Body_139701 = Semtypenode_121138(C_139696, (*A_139902).KindU.S6.Sons->data[2], NIM_NIL);
if (!!((Body_139701 == NIM_NIL))) goto LA46;
asgnRef((void**) &(*Body_139701).Sym, S_139699);
LA46: ;
LOC48 = Sonslen_53804((*S_139699).Typ);
asgnRef((void**) &(*(*S_139699).Typ).Sons->data[(NI32)(LOC48 - 1)], Body_139701);
Popowner_103112();
Closescope_104017(&(*C_139696).Tab);
goto LA39;
LA40: ;
if (!!(((*A_139902).KindU.S6.Sons->data[2] == NIM_NIL))) goto LA49;
Pushowner_103109(S_139699);
T_139700 = Semtypenode_121138(C_139696, (*A_139902).KindU.S6.Sons->data[2], (*S_139699).Typ);
LOC52 = !((T_139700 == (*S_139699).Typ));
if (!(LOC52)) goto LA53;
LOC52 = !(((*S_139699).Typ == NIM_NIL));
LA53: ;
if (!LOC52) goto LA54;
Internalerror_45567((*A_139902).Info, ((NimStringDesc*) &TMP194165));
LA54: ;
asgnRef((void**) &(*S_139699).Typ, T_139700);
asgnRefNoCycle((void**) &(*S_139699).Ast, A_139902);
Popowner_103112();
goto LA39;
LA49: ;
LA39: ;
LA21: ;
Res_142336 += 1;
} LA20: ;
I_140143 = 0;
HEX3Atmp_142340 = 0;
LOC56 = Sonslen_53801(N_139697);
HEX3Atmp_142340 = (NI32)(LOC56 - 1);
Res_142342 = 0;
Res_142342 = 0;
while (1) {
if (!(Res_142342 <= HEX3Atmp_142340)) goto LA57;
I_140143 = Res_142342;
A_140156 = 0;
A_140156 = (*N_139697).KindU.S6.Sons->data[I_140143];
if (!((*A_140156).Kind == ((NU8) 105))) goto LA60;
goto LA58;
LA60: ;
if (!!(((*(*A_140156).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA63;
Illformedast_103092(A_140156);
LA63: ;
S_139699 = (*(*A_140156).KindU.S6.Sons->data[0]).KindU.S4.Sym;
if (!((*A_140156).KindU.S6.Sons->data[1] == NIM_NIL)) goto LA66;
LOC69 = !(((*A_140156).KindU.S6.Sons->data[2] == NIM_NIL));
if (!(LOC69)) goto LA70;
LOC69 = ((*(*A_140156).KindU.S6.Sons->data[2]).Kind == ((NU8) 3) || (*(*A_140156).KindU.S6.Sons->data[2]).Kind == ((NU8) 2) || (*(*A_140156).KindU.S6.Sons->data[2]).Kind == ((NU8) 43));
LA70: ;
if (!LOC69) goto LA71;
T_139700 = Semtypenode_121138(C_139696, (*A_140156).KindU.S6.Sons->data[2], NIM_NIL);
if (!((*T_139700).Kind == ((NU8) 17) || (*T_139700).Kind == ((NU8) 14))) goto LA74;
Assigntype_53777((*S_139699).Typ, T_139700);
(*(*S_139699).Typ).Sup.Id = (*T_139700).Sup.Id;
LA74: ;
LA71: ;
Checkconstructedtype_122667((*S_139699).Info, (*S_139699).Typ);
LA66: ;
LA58: ;
Res_142342 += 1;
} LA57: ;
return Result_139698;
}
N_NIMCALL(TY53523*, Semif_136858)(TY103012* C_136860, TY53523* N_136861) {
TY53523* Result_136862;
NI I_136870;
NI HEX3Atmp_142249;
NI LOC1;
NI Res_142251;
TY53523* It_136883;
NI LOC7;
Result_136862 = 0;
Result_136862 = N_136861;
I_136870 = 0;
HEX3Atmp_142249 = 0;
LOC1 = Sonslen_53801(N_136861);
HEX3Atmp_142249 = (NI32)(LOC1 - 1);
Res_142251 = 0;
Res_142251 = 0;
while (1) {
if (!(Res_142251 <= HEX3Atmp_142249)) goto LA2;
I_136870 = Res_142251;
It_136883 = 0;
It_136883 = (*N_136861).KindU.S6.Sons->data[I_136870];
if (!(It_136883 == NIM_NIL)) goto LA4;
Illformedast_103092(N_136861);
LA4: ;
switch ((*It_136883).Kind) {
case ((NU8) 76):
Checksonslen_103099(It_136883, 2);
Openscope_57149(&(*C_136860).Tab);
asgnRefNoCycle((void**) &(*It_136883).KindU.S6.Sons->data[0], Semexprwithtype_121122(C_136860, (*It_136883).KindU.S6.Sons->data[0], 0));
Checkbool_125912((*It_136883).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*It_136883).KindU.S6.Sons->data[1], Semstmt_121143(C_136860, (*It_136883).KindU.S6.Sons->data[1]));
Closescope_104017(&(*C_136860).Tab);
break;
case ((NU8) 78):
LOC7 = Sonslen_53801(It_136883);
if (!(LOC7 == 1)) goto LA8;
asgnRefNoCycle((void**) &(*It_136883).KindU.S6.Sons->data[0], Semstmtscope_121104(C_136860, (*It_136883).KindU.S6.Sons->data[0]));
goto LA6;
LA8: ;
Illformedast_103092(It_136883);
LA6: ;
break;
default:
Illformedast_103092(N_136861);
break;
}
Res_142251 += 1;
} LA2: ;
return Result_136862;
}
N_NIMCALL(TY53523*, Semwhen_136728)(TY103012* C_136730, TY53523* N_136731) {
TY53523* Result_136732;
NI I_136740;
NI HEX3Atmp_142243;
NI LOC1;
NI Res_142245;
TY53523* It_136753;
TY53523* E_136777;
NIM_BOOL LOC10;
Result_136732 = 0;
Result_136732 = NIM_NIL;
I_136740 = 0;
HEX3Atmp_142243 = 0;
LOC1 = Sonslen_53801(N_136731);
HEX3Atmp_142243 = (NI32)(LOC1 - 1);
Res_142245 = 0;
Res_142245 = 0;
while (1) {
if (!(Res_142245 <= HEX3Atmp_142243)) goto LA2;
I_136740 = Res_142245;
It_136753 = 0;
It_136753 = (*N_136731).KindU.S6.Sons->data[I_136740];
if (!(It_136753 == NIM_NIL)) goto LA4;
Illformedast_103092(N_136731);
LA4: ;
switch ((*It_136753).Kind) {
case ((NU8) 76):
Checksonslen_103099(It_136753, 2);
E_136777 = 0;
E_136777 = Semconstexpr_121171(C_136730, (*It_136753).KindU.S6.Sons->data[0]);
Checkbool_125912(E_136777);
if (!!(((*E_136777).Kind == ((NU8) 6)))) goto LA7;
Internalerror_45567((*N_136731).Info, ((NimStringDesc*) &TMP194166));
LA7: ;
LOC10 = !(((*E_136777).KindU.S1.Intval == 0));
if (!(LOC10)) goto LA11;
LOC10 = (Result_136732 == NIM_NIL);
LA11: ;
if (!LOC10) goto LA12;
Result_136732 = Semstmt_121143(C_136730, (*It_136753).KindU.S6.Sons->data[1]);
LA12: ;
break;
case ((NU8) 78):
Checksonslen_103099(It_136753, 1);
if (!(Result_136732 == NIM_NIL)) goto LA15;
Result_136732 = Semstmt_121143(C_136730, (*It_136753).KindU.S6.Sons->data[0]);
LA15: ;
break;
default:
Illformedast_103092(N_136731);
break;
}
Res_142245 += 1;
} LA2: ;
if (!(Result_136732 == NIM_NIL)) goto LA18;
Result_136732 = Newnodei_53735(((NU8) 18), (*N_136731).Info);
LA18: ;
Idsynchronizationpoint_53696(200);
return Result_136732;
}
N_NIMCALL(TY53523*, Semdiscard_136983)(TY103012* C_136985, TY53523* N_136986) {
TY53523* Result_136987;
Result_136987 = 0;
Result_136987 = N_136986;
Checksonslen_103099(N_136986, 1);
asgnRefNoCycle((void**) &(*N_136986).KindU.S6.Sons->data[0], Semexprwithtype_121122(C_136985, (*N_136986).KindU.S6.Sons->data[0], 0));
if (!((*(*N_136986).KindU.S6.Sons->data[0]).Typ == NIM_NIL)) goto LA2;
Limessage_45562((*N_136986).Info, ((NU8) 138), ((NimStringDesc*) &TMP193928));
LA2: ;
return Result_136987;
}
N_NIMCALL(TY53523*, Semwhile_137346)(TY103012* C_137348, TY53523* N_137349) {
TY53523* Result_137350;
Result_137350 = 0;
Result_137350 = N_137349;
Checksonslen_103099(N_137349, 2);
Openscope_57149(&(*C_137348).Tab);
asgnRefNoCycle((void**) &(*N_137349).KindU.S6.Sons->data[0], Semexprwithtype_121122(C_137348, (*N_137349).KindU.S6.Sons->data[0], 0));
Checkbool_125912((*N_137349).KindU.S6.Sons->data[0]);
(*(*C_137348).P).Nestedloopcounter += 1;
asgnRefNoCycle((void**) &(*N_137349).KindU.S6.Sons->data[1], Semstmt_121143(C_137348, (*N_137349).KindU.S6.Sons->data[1]));
(*(*C_137348).P).Nestedloopcounter -= 1;
Closescope_104017(&(*C_137348).Tab);
return Result_137350;
}
N_NIMCALL(TY53523*, Semtry_139274)(TY103012* C_139276, TY53523* N_139277) {
TY53523* Result_139278;
TY53898 Check_139279;
NI I_139312;
NI HEX3Atmp_142296;
NI LOC1;
NI Res_142298;
TY53523* A_139325;
NI Length_139326;
NI J_139343;
NI HEX3Atmp_142290;
NI Res_142292;
TY53549* Typ_139356;
NIM_BOOL LOC14;
Result_139278 = 0;
memset((void*)&Check_139279, 0, sizeof(Check_139279));
Result_139278 = N_139277;
Checkminsonslen_103103(N_139277, 2);
asgnRefNoCycle((void**) &(*N_139277).KindU.S6.Sons->data[0], Semstmtscope_121104(C_139276, (*N_139277).KindU.S6.Sons->data[0]));
Intsetinit_53922(&Check_139279);
I_139312 = 0;
HEX3Atmp_142296 = 0;
LOC1 = Sonslen_53801(N_139277);
HEX3Atmp_142296 = (NI32)(LOC1 - 1);
Res_142298 = 0;
Res_142298 = 1;
while (1) {
if (!(Res_142298 <= HEX3Atmp_142296)) goto LA2;
I_139312 = Res_142298;
A_139325 = 0;
A_139325 = (*N_139277).KindU.S6.Sons->data[I_139312];
Checkminsonslen_103103(A_139325, 1);
Length_139326 = 0;
Length_139326 = Sonslen_53801(A_139325);
if (!((*A_139325).Kind == ((NU8) 77))) goto LA4;
J_139343 = 0;
HEX3Atmp_142290 = 0;
HEX3Atmp_142290 = (NI32)(Length_139326 - 2);
Res_142292 = 0;
Res_142292 = 0;
while (1) {
if (!(Res_142292 <= HEX3Atmp_142290)) goto LA6;
J_139343 = Res_142292;
Typ_139356 = 0;
Typ_139356 = Semtypenode_121138(C_139276, (*A_139325).KindU.S6.Sons->data[J_139343], NIM_NIL);
if (!((*Typ_139356).Kind == ((NU8) 22))) goto LA8;
Typ_139356 = (*Typ_139356).Sons->data[0];
LA8: ;
if (!!(((*Typ_139356).Kind == ((NU8) 17)))) goto LA11;
Limessage_45562((*(*A_139325).KindU.S6.Sons->data[J_139343]).Info, ((NU8) 110), ((NimStringDesc*) &TMP193928));
LA11: ;
asgnRefNoCycle((void**) &(*A_139325).KindU.S6.Sons->data[J_139343], Newnodei_53735(((NU8) 4), (*(*A_139325).KindU.S6.Sons->data[J_139343]).Info));
asgnRef((void**) &(*(*A_139325).KindU.S6.Sons->data[J_139343]).Typ, Typ_139356);
LOC14 = Intsetcontainsorincl_53926(&Check_139279, (*Typ_139356).Sup.Id);
if (!LOC14) goto LA15;
Limessage_45562((*(*A_139325).KindU.S6.Sons->data[J_139343]).Info, ((NU8) 33), ((NimStringDesc*) &TMP193928));
LA15: ;
Res_142292 += 1;
} LA6: ;
goto LA3;
LA4: ;
if (!!(((*A_139325).Kind == ((NU8) 94)))) goto LA17;
Illformedast_103092(N_139277);
goto LA3;
LA17: ;
LA3: ;
asgnRefNoCycle((void**) &(*A_139325).KindU.S6.Sons->data[(NI32)(Length_139326 - 1)], Semstmtscope_121104(C_139276, (*A_139325).KindU.S6.Sons->data[(NI32)(Length_139326 - 1)]));
Res_142298 += 1;
} LA2: ;
return Result_139278;
}
N_NIMCALL(TY53523*, Sembreakorcontinue_137035)(TY103012* C_137037, TY53523* N_137038) {
TY53523* Result_137039;
TY53545* S_137063;
NIM_BOOL LOC5;
TY53523* X_137123;
NIM_BOOL LOC9;
NimStringDesc* LOC13;
Result_137039 = 0;
Result_137039 = N_137038;
Checksonslen_103099(N_137038, 1);
if (!!(((*N_137038).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA2;
S_137063 = 0;
switch ((*(*N_137038).KindU.S6.Sons->data[0]).Kind) {
case ((NU8) 2):
S_137063 = Lookup_104049(C_137037, (*N_137038).KindU.S6.Sons->data[0]);
break;
case ((NU8) 3):
S_137063 = (*(*N_137038).KindU.S6.Sons->data[0]).KindU.S4.Sym;
break;
default:
Illformedast_103092(N_137038);
break;
}
LOC5 = ((*S_137063).Kind == ((NU8) 19));
if (!(LOC5)) goto LA6;
LOC5 = ((*(*S_137063).Owner).Sup.Id == (*(*(*C_137037).P).Owner).Sup.Id);
LA6: ;
if (!LOC5) goto LA7;
X_137123 = 0;
X_137123 = Newsymnode_53732(S_137063);
(*X_137123).Info = (*N_137038).Info;
(*S_137063).Flags |=(1<<((NI32)(((NU8) 0))%(sizeof(NI32)*8)));
asgnRefNoCycle((void**) &(*N_137038).KindU.S6.Sons->data[0], X_137123);
goto LA4;
LA7: ;
Limessage_45562((*N_137038).Info, ((NU8) 160), (*(*S_137063).Name).S);
LA4: ;
goto LA1;
LA2: ;
LOC9 = ((*(*C_137037).P).Nestedloopcounter <= 0);
if (!(LOC9)) goto LA10;
LOC9 = ((*(*C_137037).P).Nestedblockcounter <= 0);
LA10: ;
if (!LOC9) goto LA11;
LOC13 = Rendertree_81042(N_137038, 4);
Limessage_45562((*N_137038).Info, ((NU8) 160), LOC13);
goto LA1;
LA11: ;
LA1: ;
return Result_137039;
}
N_NIMCALL(TY53523*, Semfor_138784)(TY103012* C_138786, TY53523* N_138787) {
TY53523* Result_138788;
NI Length_138789;
TY53545* V_138790;
TY53545* Countup_138791;
TY53549* Iter_138792;
TY53523* Countupnode_138793;
TY53523* Call_138794;
TY52011* LOC4;
NIM_BOOL LOC9;
NIM_BOOL LOC10;
NI LOC22;
NI I_139117;
NI HEX3Atmp_142284;
NI Res_142286;
Result_138788 = 0;
Length_138789 = 0;
V_138790 = 0;
Countup_138791 = 0;
Iter_138792 = 0;
Countupnode_138793 = 0;
Call_138794 = 0;
Result_138788 = N_138787;
Checkminsonslen_103103(N_138787, 3);
Length_138789 = Sonslen_53801(N_138787);
Openscope_57149(&(*C_138786).Tab);
if (!((*(*N_138787).KindU.S6.Sons->data[(NI32)(Length_138789 - 2)]).Kind == ((NU8) 35))) goto LA2;
Checksonslen_103099((*N_138787).KindU.S6.Sons->data[(NI32)(Length_138789 - 2)], 2);
Countupnode_138793 = Newnodei_53735(((NU8) 21), (*(*N_138787).KindU.S6.Sons->data[(NI32)(Length_138789 - 2)]).Info);
LOC4 = Getident_52016(((NimStringDesc*) &TMP194167));
Countup_138791 = Strtableget_57069(&(*Systemmodule_98004).Tab, LOC4);
if (!(Countup_138791 == NIM_NIL)) goto LA6;
Limessage_45562((*Countupnode_138793).Info, ((NU8) 61), ((NimStringDesc*) &TMP194167));
LA6: ;
Newsons_53813(Countupnode_138793, 3);
asgnRefNoCycle((void**) &(*Countupnode_138793).KindU.S6.Sons->data[0], Newsymnode_53732(Countup_138791));
asgnRefNoCycle((void**) &(*Countupnode_138793).KindU.S6.Sons->data[1], (*(*N_138787).KindU.S6.Sons->data[(NI32)(Length_138789 - 2)]).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*Countupnode_138793).KindU.S6.Sons->data[2], (*(*N_138787).KindU.S6.Sons->data[(NI32)(Length_138789 - 2)]).KindU.S6.Sons->data[1]);
asgnRefNoCycle((void**) &(*N_138787).KindU.S6.Sons->data[(NI32)(Length_138789 - 2)], Countupnode_138793);
LA2: ;
asgnRefNoCycle((void**) &(*N_138787).KindU.S6.Sons->data[(NI32)(Length_138789 - 2)], Semexprwithtype_121122(C_138786, (*N_138787).KindU.S6.Sons->data[(NI32)(Length_138789 - 2)], 4));
Call_138794 = (*N_138787).KindU.S6.Sons->data[(NI32)(Length_138789 - 2)];
LOC10 = !(((*Call_138794).Kind == ((NU8) 21)));
if (LOC10) goto LA11;
LOC10 = !(((*(*Call_138794).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)));
LA11: ;
LOC9 = LOC10;
if (LOC9) goto LA12;
LOC9 = !(((*(*(*Call_138794).KindU.S6.Sons->data[0]).KindU.S4.Sym).Kind == ((NU8) 11)));
LA12: ;
if (!LOC9) goto LA13;
Limessage_45562((*(*N_138787).KindU.S6.Sons->data[(NI32)(Length_138789 - 2)]).Info, ((NU8) 205), ((NimStringDesc*) &TMP193928));
LA13: ;
Iter_138792 = Skiptypes_93085((*(*N_138787).KindU.S6.Sons->data[(NI32)(Length_138789 - 2)]).Typ, IL64(2251799813685248));
if (!!(((*Iter_138792).Kind == ((NU8) 18)))) goto LA16;
if (!!((Length_138789 == 3))) goto LA19;
Limessage_45562((*N_138787).Info, ((NU8) 109), ((NimStringDesc*) &TMP193928));
LA19: ;
V_138790 = Newsyms_121059(((NU8) 17), (*N_138787).KindU.S6.Sons->data[0], C_138786);
asgnRef((void**) &(*V_138790).Typ, Iter_138792);
asgnRefNoCycle((void**) &(*N_138787).KindU.S6.Sons->data[0], Newsymnode_53732(V_138790));
Adddecl_104026(C_138786, V_138790);
goto LA15;
LA16: ;
LOC22 = Sonslen_53804(Iter_138792);
if (!!(((NI32)(Length_138789 - 2) == LOC22))) goto LA23;
Limessage_45562((*N_138787).Info, ((NU8) 109), ((NimStringDesc*) &TMP193928));
LA23: ;
I_139117 = 0;
HEX3Atmp_142284 = 0;
HEX3Atmp_142284 = (NI32)(Length_138789 - 3);
Res_142286 = 0;
Res_142286 = 0;
while (1) {
if (!(Res_142286 <= HEX3Atmp_142284)) goto LA25;
I_139117 = Res_142286;
V_138790 = Newsyms_121059(((NU8) 17), (*N_138787).KindU.S6.Sons->data[I_139117], C_138786);
asgnRef((void**) &(*V_138790).Typ, (*Iter_138792).Sons->data[I_139117]);
asgnRefNoCycle((void**) &(*N_138787).KindU.S6.Sons->data[I_139117], Newsymnode_53732(V_138790));
Adddecl_104026(C_138786, V_138790);
Res_142286 += 1;
} LA25: ;
LA15: ;
(*(*C_138786).P).Nestedloopcounter += 1;
asgnRefNoCycle((void**) &(*N_138787).KindU.S6.Sons->data[(NI32)(Length_138789 - 1)], Semstmt_121143(C_138786, (*N_138787).KindU.S6.Sons->data[(NI32)(Length_138789 - 1)]));
Closescope_104017(&(*C_138786).Tab);
(*(*C_138786).P).Nestedloopcounter -= 1;
return Result_138788;
}
N_NIMCALL(NI64, Tocover_137437)(TY53549* T_137439) {
NI64 Result_137440;
TY53549* T2_137441;
NIM_BOOL LOC2;
NI LOC6;
TY53549* LOC7;
Result_137440 = 0;
T2_137441 = 0;
T2_137441 = Skiptypes_93085(T_137439, IL64(47446125761789952));
LOC2 = ((*T2_137441).Kind == ((NU8) 14));
if (!(LOC2)) goto LA3;
LOC2 = Enumhaswholes_93072(T2_137441);
LA3: ;
if (!LOC2) goto LA4;
LOC6 = Sonslen_53801((*T2_137441).N);
Result_137440 = ((NI64) (LOC6));
goto LA1;
LA4: ;
LOC7 = Skiptypes_93085(T_137439, IL64(47428533575745536));
Result_137440 = Lengthord_93007(LOC7);
LA1: ;
return Result_137440;
}
N_NIMCALL(TY53523*, Semcase_137451)(TY103012* C_137453, TY53523* N_137454) {
TY53523* Result_137455;
NIM_BOOL Chckcovered_137481;
NI64 Covered_137482;
TY53549* LOC1;
NI I_137502;
NI HEX3Atmp_142256;
NI LOC2;
NI Res_142258;
TY53523* X_137515;
NI Length_137517;
NIM_BOOL LOC5;
NI64 LOC7;
Result_137455 = 0;
Result_137455 = N_137454;
Checkminsonslen_103103(N_137454, 2);
Openscope_57149(&(*C_137453).Tab);
asgnRefNoCycle((void**) &(*N_137454).KindU.S6.Sons->data[0], Semexprwithtype_121122(C_137453, (*N_137454).KindU.S6.Sons->data[0], 0));
Chckcovered_137481 = 0;
Chckcovered_137481 = NIM_FALSE;
Covered_137482 = 0;
Covered_137482 = 0;
LOC1 = Skiptypes_93085((*(*N_137454).KindU.S6.Sons->data[0]).Typ, IL64(47446125761789952));
switch ((*LOC1).Kind) {
case ((NU8) 31) ... ((NU8) 35):
case ((NU8) 2):
case ((NU8) 14):
Chckcovered_137481 = NIM_TRUE;
break;
case ((NU8) 36) ... ((NU8) 39):
case ((NU8) 28):
break;
default:
Limessage_45562((*N_137454).Info, ((NU8) 105), ((NimStringDesc*) &TMP193928));
break;
}
I_137502 = 0;
HEX3Atmp_142256 = 0;
LOC2 = Sonslen_53801(N_137454);
HEX3Atmp_142256 = (NI32)(LOC2 - 1);
Res_142258 = 0;
Res_142258 = 1;
while (1) {
if (!(Res_142258 <= HEX3Atmp_142256)) goto LA3;
I_137502 = Res_142258;
X_137515 = 0;
X_137515 = (*N_137454).KindU.S6.Sons->data[I_137502];
switch ((*X_137515).Kind) {
case ((NU8) 75):
Checkminsonslen_103103(X_137515, 2);
Semcasebranch_127288(C_137453, N_137454, X_137515, I_137502, &Covered_137482);
Length_137517 = 0;
Length_137517 = Sonslen_53801(X_137515);
asgnRefNoCycle((void**) &(*X_137515).KindU.S6.Sons->data[(NI32)(Length_137517 - 1)], Semstmtscope_121104(C_137453, (*X_137515).KindU.S6.Sons->data[(NI32)(Length_137517 - 1)]));
break;
case ((NU8) 76):
Chckcovered_137481 = NIM_FALSE;
Checksonslen_103099(X_137515, 2);
asgnRefNoCycle((void**) &(*X_137515).KindU.S6.Sons->data[0], Semexprwithtype_121122(C_137453, (*X_137515).KindU.S6.Sons->data[0], 0));
Checkbool_125912((*X_137515).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*X_137515).KindU.S6.Sons->data[1], Semstmtscope_121104(C_137453, (*X_137515).KindU.S6.Sons->data[1]));
break;
case ((NU8) 78):
Chckcovered_137481 = NIM_FALSE;
Checksonslen_103099(X_137515, 1);
asgnRefNoCycle((void**) &(*X_137515).KindU.S6.Sons->data[0], Semstmtscope_121104(C_137453, (*X_137515).KindU.S6.Sons->data[0]));
break;
default:
Illformedast_103092(X_137515);
break;
}
Res_142258 += 1;
} LA3: ;
LOC5 = Chckcovered_137481;
if (!(LOC5)) goto LA6;
LOC7 = Tocover_137437((*(*N_137454).KindU.S6.Sons->data[0]).Typ);
LOC5 = !((Covered_137482 == LOC7));
LA6: ;
if (!LOC5) goto LA8;
Limessage_45562((*N_137454).Info, ((NU8) 147), ((NimStringDesc*) &TMP193928));
LA8: ;
Closescope_104017(&(*C_137453).Tab);
return Result_137455;
}
N_NIMCALL(TY53523*, Semreturn_137907)(TY103012* C_137909, TY53523* N_137910) {
TY53523* Result_137911;
TY53549* Restype_137912;
TY53523* A_137913;
NIM_BOOL LOC11;
TY53523* LOC18;
TY53523* LOC19;
Result_137911 = 0;
Restype_137912 = 0;
A_137913 = 0;
Result_137911 = N_137910;
Checksonslen_103099(N_137910, 1);
if (!!(((3538944 &(1<<(((*(*(*C_137909).P).Owner).Kind)&31)))!=0))) goto LA2;
Limessage_45562((*N_137910).Info, ((NU8) 159), ((NimStringDesc*) &TMP194168));
LA2: ;
if (!!(((*N_137910).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA5;
asgnRefNoCycle((void**) &(*N_137910).KindU.S6.Sons->data[0], Semexprwithtype_121122(C_137909, (*N_137910).KindU.S6.Sons->data[0], 0));
Restype_137912 = (*(*(*(*C_137909).P).Owner).Typ).Sons->data[0];
if (!!((Restype_137912 == NIM_NIL))) goto LA8;
A_137913 = Newnodei_53735(((NU8) 63), (*(*N_137910).KindU.S6.Sons->data[0]).Info);
asgnRefNoCycle((void**) &(*N_137910).KindU.S6.Sons->data[0], Fitnode_121129(C_137909, Restype_137912, (*N_137910).KindU.S6.Sons->data[0]));
LOC11 = ((*(*N_137910).KindU.S6.Sons->data[0]).Kind == ((NU8) 3));
if (!(LOC11)) goto LA12;
LOC11 = (((*(*(*N_137910).KindU.S6.Sons->data[0]).KindU.S4.Sym).Flags &(1<<((((NU8) 12))&31)))!=0);
LA12: ;
if (!LOC11) goto LA13;
asgnRefNoCycle((void**) &(*N_137910).KindU.S6.Sons->data[0], NIM_NIL);
goto LA10;
LA13: ;
if (!((*(*C_137909).P).Resultsym == NIM_NIL)) goto LA16;
Internalerror_45567((*N_137910).Info, ((NimStringDesc*) &TMP194169));
LA16: ;
LOC18 = Newsymnode_53732((*(*C_137909).P).Resultsym);
LOC19 = Semexprwithtype_121122(C_137909, LOC18, 0);
Addson_53821(A_137913, LOC19);
Addson_53821(A_137913, (*N_137910).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*N_137910).KindU.S6.Sons->data[0], A_137913);
LA10: ;
goto LA7;
LA8: ;
Limessage_45562((*N_137910).Info, ((NU8) 36), ((NimStringDesc*) &TMP193928));
LA7: ;
LA5: ;
return Result_137911;
}
N_NIMCALL(TY53523*, Semasm_137256)(TY103012* Con_137258, TY53523* N_137259) {
TY53523* Result_137260;
NIM_CHAR Marker_137273;
NimStringDesc* Str_137312;
NI A_137313;
NI B_137314;
NimStringDesc* Sub_137317;
NimStringDesc* LOC8;
TY53523* LOC14;
NI C_137320;
TY53545* E_137323;
TY52011* LOC24;
TY53523* LOC31;
TY53523* LOC32;
Result_137260 = 0;
Result_137260 = N_137259;
Checksonslen_103099(N_137259, 2);
Marker_137273 = 0;
Marker_137273 = Pragmaasm_118034(Con_137258, (*N_137259).KindU.S6.Sons->data[0]);
if (!((NU8)(Marker_137273) == (NU8)(0))) goto LA2;
Marker_137273 = 96;
LA2: ;
switch ((*(*N_137259).KindU.S6.Sons->data[1]).Kind) {
case ((NU8) 14):
case ((NU8) 15):
case ((NU8) 16):
Result_137260 = Copynode_53853(N_137259);
Str_137312 = 0;
Str_137312 = copyString((*(*N_137259).KindU.S6.Sons->data[1]).KindU.S3.Strval);
if (!((Str_137312) && (Str_137312)->Sup.len == 0)) goto LA5;
Limessage_45562((*N_137259).Info, ((NU8) 30), ((NimStringDesc*) &TMP193928));
LA5: ;
A_137313 = 0;
A_137313 = 0;
while (1) {
B_137314 = 0;
B_137314 = nsuFindChar(Str_137312, Marker_137273, A_137313);
Sub_137317 = 0;
if (!(B_137314 < 0)) goto LA10;
LOC8 = copyStr(Str_137312, A_137313);
goto LA9;
LA10: ;
LOC8 = copyStrLast(Str_137312, A_137313, (NI32)(B_137314 - 1));
LA9: ;
Sub_137317 = LOC8;
if (!!(((Sub_137317) && (Sub_137317)->Sup.len == 0))) goto LA12;
LOC14 = Newstrnode_53724(((NU8) 14), Sub_137317);
Addson_53821(Result_137260, LOC14);
LA12: ;
if (!(B_137314 < 0)) goto LA16;
goto LA7;
LA16: ;
C_137320 = 0;
C_137320 = nsuFindChar(Str_137312, Marker_137273, (NI32)(B_137314 + 1));
if (!(C_137320 < 0)) goto LA19;
Sub_137317 = copyStr(Str_137312, (NI32)(B_137314 + 1));
goto LA18;
LA19: ;
Sub_137317 = copyStrLast(Str_137312, (NI32)(B_137314 + 1), (NI32)(C_137320 - 1));
LA18: ;
if (!!(((Sub_137317) && (Sub_137317)->Sup.len == 0))) goto LA22;
E_137323 = 0;
LOC24 = Getident_52016(Sub_137317);
E_137323 = Symtabget_57119((*Con_137258).Tab, LOC24);
if (!!((E_137323 == NIM_NIL))) goto LA26;
if (!((*E_137323).Kind == ((NU8) 20))) goto LA29;
Loadstub_89070(E_137323);
LA29: ;
LOC31 = Newsymnode_53732(E_137323);
Addson_53821(Result_137260, LOC31);
goto LA25;
LA26: ;
LOC32 = Newstrnode_53724(((NU8) 14), Sub_137317);
Addson_53821(Result_137260, LOC32);
LA25: ;
LA22: ;
if (!(C_137320 < 0)) goto LA34;
goto LA7;
LA34: ;
A_137313 = (NI32)(C_137320 + 1);
} LA7: ;
break;
default:
Illformedast_103092(N_137259);
break;
}
return Result_137260;
}
N_NIMCALL(TY53523*, Semyield_138123)(TY103012* C_138125, TY53523* N_138126) {
TY53523* Result_138127;
NIM_BOOL LOC2;
TY53549* Restype_138195;
Result_138127 = 0;
Result_138127 = N_138126;
Checksonslen_103099(N_138126, 1);
LOC2 = ((*(*C_138125).P).Owner == NIM_NIL);
if (LOC2) goto LA3;
LOC2 = !(((*(*(*C_138125).P).Owner).Kind == ((NU8) 11)));
LA3: ;
if (!LOC2) goto LA4;
Limessage_45562((*N_138126).Info, ((NU8) 34), ((NimStringDesc*) &TMP193928));
LA4: ;
if (!!(((*N_138126).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA7;
asgnRefNoCycle((void**) &(*N_138126).KindU.S6.Sons->data[0], Semexprwithtype_121122(C_138125, (*N_138126).KindU.S6.Sons->data[0], 0));
Restype_138195 = 0;
Restype_138195 = (*(*(*(*C_138125).P).Owner).Typ).Sons->data[0];
if (!!((Restype_138195 == NIM_NIL))) goto LA10;
asgnRefNoCycle((void**) &(*N_138126).KindU.S6.Sons->data[0], Fitnode_121129(C_138125, Restype_138195, (*N_138126).KindU.S6.Sons->data[0]));
if (!((*(*N_138126).KindU.S6.Sons->data[0]).Typ == NIM_NIL)) goto LA13;
Internalerror_45567((*N_138126).Info, ((NimStringDesc*) &TMP194170));
LA13: ;
goto LA9;
LA10: ;
Limessage_45562((*N_138126).Info, ((NU8) 36), ((NimStringDesc*) &TMP193928));
LA9: ;
LA7: ;
return Result_138127;
}
N_NIMCALL(void, Addgenericparamlisttoscope_139639)(TY103012* C_139641, TY53523* N_139642) {
NI I_139659;
NI HEX3Atmp_142322;
NI LOC4;
NI Res_142324;
TY53523* A_139672;
if (!!(((*N_139642).Kind == ((NU8) 65)))) goto LA2;
Internalerror_45567((*N_139642).Info, ((NimStringDesc*) &TMP194174));
LA2: ;
I_139659 = 0;
HEX3Atmp_142322 = 0;
LOC4 = Sonslen_53801(N_139642);
HEX3Atmp_142322 = (NI32)(LOC4 - 1);
Res_142324 = 0;
Res_142324 = 0;
while (1) {
if (!(Res_142324 <= HEX3Atmp_142322)) goto LA5;
I_139659 = Res_142324;
A_139672 = 0;
A_139672 = (*N_139642).KindU.S6.Sons->data[I_139659];
if (!!(((*A_139672).Kind == ((NU8) 3)))) goto LA7;
Internalerror_45567((*A_139672).Info, ((NimStringDesc*) &TMP194174));
LA7: ;
Adddecl_104026(C_139641, (*A_139672).KindU.S4.Sym);
Res_142324 += 1;
} LA5: ;
}
N_NIMCALL(TY53523*, Evaltemplateargs_121424)(TY103012* C_121426, TY53523* N_121427, TY53545* S_121428) {
TY53523* Result_121429;
NI F_121430;
NI A_121431;
TY53523* Arg_121432;
NI I_121442;
NI HEX3Atmp_122074;
NI Res_122076;
TY53523* LOC14;
Result_121429 = 0;
F_121430 = 0;
A_121431 = 0;
Arg_121432 = 0;
F_121430 = Sonslen_53804((*S_121428).Typ);
switch ((*N_121427).Kind) {
case ((NU8) 21):
case ((NU8) 27):
case ((NU8) 28):
case ((NU8) 29):
case ((NU8) 20):
case ((NU8) 22):
A_121431 = Sonslen_53801(N_121427);
break;
default:
A_121431 = 0;
break;
}
if (!(F_121430 < A_121431)) goto LA2;
Limessage_45562((*N_121427).Info, ((NU8) 130), ((NimStringDesc*) &TMP193928));
LA2: ;
Result_121429 = Copynode_53853(N_121427);
I_121442 = 0;
HEX3Atmp_122074 = 0;
HEX3Atmp_122074 = (NI32)(F_121430 - 1);
Res_122076 = 0;
Res_122076 = 1;
while (1) {
if (!(Res_122076 <= HEX3Atmp_122074)) goto LA4;
I_121442 = Res_122076;
if (!(I_121442 < A_121431)) goto LA6;
Arg_121432 = (*N_121427).KindU.S6.Sons->data[I_121442];
goto LA5;
LA6: ;
Arg_121432 = Copytree_53856((*(*(*(*(*S_121428).Typ).N).KindU.S6.Sons->data[I_121442]).KindU.S4.Sym).Ast);
LA5: ;
if (!(Arg_121432 == NIM_NIL)) goto LA9;
Limessage_45562((*N_121427).Info, ((NU8) 130), ((NimStringDesc*) &TMP193928));
LA9: ;
if (!!(((*(*(*S_121428).Typ).Sons->data[I_121442]).Kind == ((NU8) 8) || (*(*(*S_121428).Typ).Sons->data[I_121442]).Kind == ((NU8) 7) || (*(*(*S_121428).Typ).Sons->data[I_121442]).Kind == ((NU8) 6)))) goto LA12;
LOC14 = Semexprwithtype_121122(C_121426, Arg_121432, 0);
Arg_121432 = Fitnode_121129(C_121426, (*(*S_121428).Typ).Sons->data[I_121442], LOC14);
LA12: ;
Addson_53821(Result_121429, Arg_121432);
Res_122076 += 1;
} LA4: ;
return Result_121429;
}
N_NIMCALL(TY53523*, Evaltemplateaux_121337)(TY103012* C_121339, TY53523* Templ_121340, TY53523* Actual_121341, TY53545* Sym_121342) {
TY53523* Result_121343;
TY53545* P_121344;
NIM_BOOL LOC5;
NI LOC9;
NI I_121398;
NI HEX3Atmp_122068;
NI LOC10;
NI Res_122070;
Result_121343 = 0;
P_121344 = 0;
if (!(Templ_121340 == NIM_NIL)) goto LA2;
Result_121343 = NIM_NIL;
goto BeforeRet;
LA2: ;
switch ((*Templ_121340).Kind) {
case ((NU8) 3):
P_121344 = (*Templ_121340).KindU.S4.Sym;
LOC5 = ((*P_121344).Kind == ((NU8) 3));
if (!(LOC5)) goto LA6;
LOC5 = ((*(*P_121344).Owner).Sup.Id == (*Sym_121342).Sup.Id);
LA6: ;
if (!LOC5) goto LA7;
Result_121343 = Copytree_53856((*Actual_121341).KindU.S6.Sons->data[(*P_121344).Position]);
goto LA4;
LA7: ;
Result_121343 = Copynode_53853(Templ_121340);
LA4: ;
break;
case ((NU8) 0) ... ((NU8) 2):
case ((NU8) 4) ... ((NU8) 18):
Result_121343 = Copynode_53853(Templ_121340);
break;
default:
Result_121343 = Copynode_53853(Templ_121340);
LOC9 = Sonslen_53801(Templ_121340);
Newsons_53813(Result_121343, LOC9);
I_121398 = 0;
HEX3Atmp_122068 = 0;
LOC10 = Sonslen_53801(Templ_121340);
HEX3Atmp_122068 = (NI32)(LOC10 - 1);
Res_122070 = 0;
Res_122070 = 0;
while (1) {
if (!(Res_122070 <= HEX3Atmp_122068)) goto LA11;
I_121398 = Res_122070;
asgnRefNoCycle((void**) &(*Result_121343).KindU.S6.Sons->data[I_121398], Evaltemplateaux_121337(C_121339, (*Templ_121340).KindU.S6.Sons->data[I_121398], Actual_121341, Sym_121342));
Res_122070 += 1;
} LA11: ;
break;
}
BeforeRet: ;
return Result_121343;
}
N_NIMCALL(TY53523*, Evaltemplate_121504)(TY103012* C_121506, TY53523* N_121507, TY53545* Sym_121508) {
TY53523* Result_121509;
TY53523* Args_121510;
Result_121509 = 0;
Args_121510 = 0;
Evaltemplatecounter_121423 += 1;
if (!(100 < Evaltemplatecounter_121423)) goto LA2;
Limessage_45562((*N_121507).Info, ((NU8) 178), ((NimStringDesc*) &TMP193928));
LA2: ;
Args_121510 = Evaltemplateargs_121424(C_121506, N_121507, Sym_121508);
Result_121509 = Evaltemplateaux_121337(C_121506, (*(*Sym_121508).Ast).KindU.S6.Sons->data[4], Args_121510, Sym_121508);
Evaltemplatecounter_121423 -= 1;
return Result_121509;
}
N_NIMCALL(TY53523*, Semtemplateexpr_129022)(TY103012* C_129024, TY53523* N_129025, TY53545* S_129026, NIM_BOOL Semcheck_129027) {
TY53523* Result_129028;
Result_129028 = 0;
Markused_121065(N_129025, S_129026);
Pushinfocontext_45606((*N_129025).Info);
Result_129028 = Evaltemplate_121504(C_129024, N_129025, S_129026);
if (!Semcheck_129027) goto LA2;
Result_129028 = Semaftermacrocall_121246(C_129024, Result_129028, S_129026);
LA2: ;
Popinfocontext_45609();
return Result_129028;
}
N_NIMCALL(TY53523*, Semgenericstmtsymbol_135119)(TY103012* C_135121, TY53523* N_135122, TY53545* S_135123) {
TY53523* Result_135124;
NIM_BOOL LOC2;
Result_135124 = 0;
switch ((*S_135123).Kind) {
case ((NU8) 0):
Result_135124 = N_135122;
break;
case ((NU8) 9):
case ((NU8) 10):
case ((NU8) 11):
case ((NU8) 12):
Result_135124 = Symchoice_121549(C_135121, N_135122, S_135123);
break;
case ((NU8) 14):
Result_135124 = Semtemplateexpr_129022(C_135121, N_135122, S_135123, NIM_FALSE);
break;
case ((NU8) 13):
Result_135124 = Semmacroexpr_122093(C_135121, N_135122, S_135123, NIM_FALSE);
break;
case ((NU8) 4):
Result_135124 = Newsymnode_53732(S_135123);
break;
case ((NU8) 3):
Result_135124 = N_135122;
break;
case ((NU8) 6):
LOC2 = !(((*S_135123).Typ == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC2 = !(((*(*S_135123).Typ).Kind == ((NU8) 12)));
LA3: ;
if (!LOC2) goto LA4;
Result_135124 = Newsymnode_53732(S_135123);
goto LA1;
LA4: ;
Result_135124 = N_135122;
LA1: ;
break;
default:
Result_135124 = Newsymnode_53732(S_135123);
break;
}
return Result_135124;
}
N_NIMCALL(NIM_BOOL, Iscallexpr_134483)(TY53523* N_134485) {
NIM_BOOL Result_134486;
Result_134486 = 0;
Result_134486 = ((*N_134485).Kind == ((NU8) 21) || (*N_134485).Kind == ((NU8) 27) || (*N_134485).Kind == ((NU8) 28) || (*N_134485).Kind == ((NU8) 29) || (*N_134485).Kind == ((NU8) 20) || (*N_134485).Kind == ((NU8) 22));
return Result_134486;
}
N_NIMCALL(TY53523*, Semmacrostmt_134499)(TY103012* C_134501, TY53523* N_134502, NIM_BOOL Semcheck_134503) {
TY53523* Result_134504;
TY53523* A_134505;
NIM_BOOL LOC2;
TY53545* S_134554;
NIM_BOOL LOC9;
NI I_134597;
NI HEX3Atmp_142097;
NI LOC12;
NI Res_142099;
NI I_134629;
NI HEX3Atmp_142103;
NI LOC14;
NI Res_142105;
NimStringDesc* LOC16;
Result_134504 = 0;
Checkminsonslen_103103(N_134502, 2);
A_134505 = 0;
LOC2 = Iscallexpr_134483((*N_134502).KindU.S6.Sons->data[0]);
if (!LOC2) goto LA3;
A_134505 = (*(*N_134502).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[0];
goto LA1;
LA3: ;
A_134505 = (*N_134502).KindU.S6.Sons->data[0];
LA1: ;
S_134554 = 0;
S_134554 = Qualifiedlookup_104053(C_134501, A_134505, NIM_FALSE);
if (!!((S_134554 == NIM_NIL))) goto LA6;
switch ((*S_134554).Kind) {
case ((NU8) 13):
Result_134504 = Semmacroexpr_122093(C_134501, N_134502, S_134554, Semcheck_134503);
break;
case ((NU8) 14):
Result_134504 = Newnodei_53735(((NU8) 21), (*N_134502).Info);
Addson_53821(Result_134504, A_134505);
LOC9 = Iscallexpr_134483((*N_134502).KindU.S6.Sons->data[0]);
if (!LOC9) goto LA10;
I_134597 = 0;
HEX3Atmp_142097 = 0;
LOC12 = Sonslen_53801((*N_134502).KindU.S6.Sons->data[0]);
HEX3Atmp_142097 = (NI32)(LOC12 - 1);
Res_142099 = 0;
Res_142099 = 1;
while (1) {
if (!(Res_142099 <= HEX3Atmp_142097)) goto LA13;
I_134597 = Res_142099;
Addson_53821(Result_134504, (*(*N_134502).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[I_134597]);
Res_142099 += 1;
} LA13: ;
LA10: ;
I_134629 = 0;
HEX3Atmp_142103 = 0;
LOC14 = Sonslen_53801(N_134502);
HEX3Atmp_142103 = (NI32)(LOC14 - 1);
Res_142105 = 0;
Res_142105 = 1;
while (1) {
if (!(Res_142105 <= HEX3Atmp_142103)) goto LA15;
I_134629 = Res_142105;
Addson_53821(Result_134504, (*N_134502).KindU.S6.Sons->data[I_134629]);
Res_142105 += 1;
} LA15: ;
Result_134504 = Semtemplateexpr_129022(C_134501, Result_134504, S_134554, Semcheck_134503);
break;
default:
Limessage_45562((*N_134502).Info, ((NU8) 203), (*(*S_134554).Name).S);
break;
}
goto LA5;
LA6: ;
LOC16 = Rendertree_81042(A_134505, 4);
Limessage_45562((*N_134502).Info, ((NU8) 165), LOC16);
LA5: ;
return Result_134504;
}
N_NIMCALL(TY53523*, Getidentnode_135145)(TY53523* N_135147) {
TY53523* Result_135148;
Result_135148 = 0;
switch ((*N_135147).Kind) {
case ((NU8) 29):
Result_135148 = Getidentnode_135145((*N_135147).KindU.S6.Sons->data[1]);
break;
case ((NU8) 34):
case ((NU8) 43):
Result_135148 = Getidentnode_135145((*N_135147).KindU.S6.Sons->data[0]);
break;
case ((NU8) 2):
Result_135148 = N_135147;
break;
default:
Illformedast_103092(N_135147);
Result_135148 = NIM_NIL;
break;
}
return Result_135148;
}
N_NIMCALL(TY53523*, Semgenericstmt_135102)(TY103012* C_135104, TY53523* N_135105, NU8 Flags_135108) {
TY53523* Result_135180;
NI L_135181;
TY53523* A_135182;
TY53545* S_135183;
NIM_BOOL LOC14;
NI I_135340;
NI HEX3Atmp_142109;
NI LOC18;
NI Res_142111;
NI I_135372;
NI HEX3Atmp_142115;
NI LOC20;
NI Res_142117;
NI I_135405;
NI HEX3Atmp_142121;
NI LOC22;
NI Res_142123;
NI I_135463;
NI HEX3Atmp_142133;
NI LOC24;
NI Res_142135;
NI J_135483;
NI HEX3Atmp_142127;
NI Res_142129;
NI I_135565;
NI HEX3Atmp_142143;
NI Res_142145;
TY53545* LOC28;
TY53545* LOC32;
NI I_135695;
NI HEX3Atmp_142155;
NI LOC33;
NI Res_142157;
NI J_135715;
NI HEX3Atmp_142149;
NI Res_142151;
NI I_135772;
NI HEX3Atmp_142171;
NI LOC36;
NI Res_142173;
NIM_BOOL LOC43;
NI J_135868;
NI HEX3Atmp_142165;
NI Res_142167;
TY53523* LOC48;
TY53545* LOC49;
NI I_135888;
NI HEX3Atmp_142187;
NI LOC50;
NI Res_142189;
NI J_135942;
NI HEX3Atmp_142181;
NI Res_142183;
TY53523* LOC56;
TY53545* LOC57;
NI I_135962;
NI HEX3Atmp_142197;
NI LOC58;
NI Res_142199;
TY53523* LOC67;
TY53545* LOC68;
NI I_136061;
NI HEX3Atmp_142203;
NI LOC69;
NI Res_142205;
TY53523* LOC78;
TY53545* LOC79;
NI I_136111;
NI HEX3Atmp_142209;
NI LOC80;
NI Res_142211;
NI I_136296;
NI HEX3Atmp_142215;
NI LOC95;
NI Res_142217;
TY53523* LOC97;
TY53545* LOC98;
NI I_136412;
NI HEX3Atmp_142227;
NI LOC102;
NI Res_142229;
NI J_136490;
NI HEX3Atmp_142221;
NI Res_142223;
TY53523* LOC108;
TY53545* LOC109;
TY53523* LOC110;
TY53545* LOC111;
TY52011* LOC118;
TY53545* LOC119;
NI I_136678;
NI HEX3Atmp_142237;
NI LOC120;
NI Res_142239;
Result_135180 = 0;
L_135181 = 0;
A_135182 = 0;
S_135183 = 0;
Result_135180 = N_135105;
if (!(N_135105 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*N_135105).Kind) {
case ((NU8) 2):
case ((NU8) 43):
S_135183 = Lookup_104049(C_135104, N_135105);
if (!((Flags_135108 &(1<<((((NU8) 0))&7)))!=0)) goto LA5;
Result_135180 = Symchoice_121549(C_135104, N_135105, S_135183);
goto LA4;
LA5: ;
Result_135180 = Semgenericstmtsymbol_135119(C_135104, N_135105, S_135183);
LA4: ;
break;
case ((NU8) 36):
S_135183 = Qualifiedlookup_104053(C_135104, N_135105, NIM_TRUE);
if (!!((S_135183 == NIM_NIL))) goto LA8;
Result_135180 = Semgenericstmtsymbol_135119(C_135104, N_135105, S_135183);
LA8: ;
break;
case ((NU8) 3) ... ((NU8) 18):
break;
case ((NU8) 45):
Result_135180 = Semgenericstmt_135102(C_135104, (*N_135105).KindU.S6.Sons->data[0], 1);
break;
case ((NU8) 21):
case ((NU8) 49):
case ((NU8) 27):
case ((NU8) 28):
case ((NU8) 20):
case ((NU8) 22):
Checkminsonslen_103103(N_135105, 1);
S_135183 = Qualifiedlookup_104053(C_135104, (*N_135105).KindU.S6.Sons->data[0], NIM_FALSE);
if (!!((S_135183 == NIM_NIL))) goto LA11;
switch ((*S_135183).Kind) {
case ((NU8) 13):
Result_135180 = Semmacroexpr_122093(C_135104, N_135105, S_135183, NIM_FALSE);
goto BeforeRet;
break;
case ((NU8) 14):
Result_135180 = Semtemplateexpr_129022(C_135104, N_135105, S_135183, NIM_FALSE);
goto BeforeRet;
break;
case ((NU8) 0):
case ((NU8) 3):
break;
case ((NU8) 9):
case ((NU8) 10):
case ((NU8) 11):
case ((NU8) 12):
asgnRefNoCycle((void**) &(*N_135105).KindU.S6.Sons->data[0], Symchoice_121549(C_135104, (*N_135105).KindU.S6.Sons->data[0], S_135183));
break;
case ((NU8) 4):
asgnRefNoCycle((void**) &(*N_135105).KindU.S6.Sons->data[0], Newsymnode_53732(S_135183));
break;
case ((NU8) 6):
LOC14 = !(((*S_135183).Typ == NIM_NIL));
if (!(LOC14)) goto LA15;
LOC14 = !(((*(*S_135183).Typ).Kind == ((NU8) 12)));
LA15: ;
if (!LOC14) goto LA16;
asgnRefNoCycle((void**) &(*N_135105).KindU.S6.Sons->data[0], Newsymnode_53732(S_135183));
LA16: ;
break;
default:
asgnRefNoCycle((void**) &(*N_135105).KindU.S6.Sons->data[0], Newsymnode_53732(S_135183));
break;
}
LA11: ;
I_135340 = 0;
HEX3Atmp_142109 = 0;
LOC18 = Sonslen_53801(N_135105);
HEX3Atmp_142109 = (NI32)(LOC18 - 1);
Res_142111 = 0;
Res_142111 = 1;
while (1) {
if (!(Res_142111 <= HEX3Atmp_142109)) goto LA19;
I_135340 = Res_142111;
asgnRefNoCycle((void**) &(*N_135105).KindU.S6.Sons->data[I_135340], Semgenericstmt_135102(C_135104, (*N_135105).KindU.S6.Sons->data[I_135340], Flags_135108));
Res_142111 += 1;
} LA19: ;
break;
case ((NU8) 79):
Result_135180 = Semmacrostmt_134499(C_135104, N_135105, NIM_FALSE);
break;
case ((NU8) 82):
I_135372 = 0;
HEX3Atmp_142115 = 0;
LOC20 = Sonslen_53801(N_135105);
HEX3Atmp_142115 = (NI32)(LOC20 - 1);
Res_142117 = 0;
Res_142117 = 0;
while (1) {
if (!(Res_142117 <= HEX3Atmp_142115)) goto LA21;
I_135372 = Res_142117;
asgnRefNoCycle((void**) &(*N_135105).KindU.S6.Sons->data[I_135372], Semgenericstmtscope_135109(C_135104, (*N_135105).KindU.S6.Sons->data[I_135372], 0));
Res_142117 += 1;
} LA21: ;
break;
case ((NU8) 85):
Openscope_57149(&(*C_135104).Tab);
I_135405 = 0;
HEX3Atmp_142121 = 0;
LOC22 = Sonslen_53801(N_135105);
HEX3Atmp_142121 = (NI32)(LOC22 - 1);
Res_142123 = 0;
Res_142123 = 0;
while (1) {
if (!(Res_142123 <= HEX3Atmp_142121)) goto LA23;
I_135405 = Res_142123;
asgnRefNoCycle((void**) &(*N_135105).KindU.S6.Sons->data[I_135405], Semgenericstmt_135102(C_135104, (*N_135105).KindU.S6.Sons->data[I_135405], 0));
Res_142123 += 1;
} LA23: ;
Closescope_104017(&(*C_135104).Tab);
break;
case ((NU8) 86):
Openscope_57149(&(*C_135104).Tab);
asgnRefNoCycle((void**) &(*N_135105).KindU.S6.Sons->data[0], Semgenericstmt_135102(C_135104, (*N_135105).KindU.S6.Sons->data[0], 0));
I_135463 = 0;
HEX3Atmp_142133 = 0;
LOC24 = Sonslen_53801(N_135105);
HEX3Atmp_142133 = (NI32)(LOC24 - 1);
Res_142135 = 0;
Res_142135 = 1;
while (1) {
if (!(Res_142135 <= HEX3Atmp_142133)) goto LA25;
I_135463 = Res_142135;
A_135182 = (*N_135105).KindU.S6.Sons->data[I_135463];
Checkminsonslen_103103(A_135182, 1);
L_135181 = Sonslen_53801(A_135182);
J_135483 = 0;
HEX3Atmp_142127 = 0;
HEX3Atmp_142127 = (NI32)(L_135181 - 2);
Res_142129 = 0;
Res_142129 = 0;
while (1) {
if (!(Res_142129 <= HEX3Atmp_142127)) goto LA26;
J_135483 = Res_142129;
asgnRefNoCycle((void**) &(*A_135182).KindU.S6.Sons->data[J_135483], Semgenericstmt_135102(C_135104, (*A_135182).KindU.S6.Sons->data[J_135483], 0));
Res_142129 += 1;
} LA26: ;
asgnRefNoCycle((void**) &(*A_135182).KindU.S6.Sons->data[(NI32)(L_135181 - 1)], Semgenericstmtscope_135109(C_135104, (*A_135182).KindU.S6.Sons->data[(NI32)(L_135181 - 1)], 0));
Res_142135 += 1;
} LA25: ;
Closescope_104017(&(*C_135104).Tab);
break;
case ((NU8) 84):
L_135181 = Sonslen_53801(N_135105);
Openscope_57149(&(*C_135104).Tab);
asgnRefNoCycle((void**) &(*N_135105).KindU.S6.Sons->data[(NI32)(L_135181 - 2)], Semgenericstmt_135102(C_135104, (*N_135105).KindU.S6.Sons->data[(NI32)(L_135181 - 2)], 0));
I_135565 = 0;
HEX3Atmp_142143 = 0;
HEX3Atmp_142143 = (NI32)(L_135181 - 3);
Res_142145 = 0;
Res_142145 = 0;
while (1) {
if (!(Res_142145 <= HEX3Atmp_142143)) goto LA27;
I_135565 = Res_142145;
LOC28 = Newsyms_121059(((NU8) 0), (*N_135105).KindU.S6.Sons->data[I_135565], C_135104);
Adddecl_104026(C_135104, LOC28);
Res_142145 += 1;
} LA27: ;
asgnRefNoCycle((void**) &(*N_135105).KindU.S6.Sons->data[(NI32)(L_135181 - 1)], Semgenericstmt_135102(C_135104, (*N_135105).KindU.S6.Sons->data[(NI32)(L_135181 - 1)], 0));
Closescope_104017(&(*C_135104).Tab);
break;
case ((NU8) 99):
case ((NU8) 107):
case ((NU8) 109):
Checksonslen_103099(N_135105, 2);
Openscope_57149(&(*C_135104).Tab);
if (!!(((*N_135105).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA30;
LOC32 = Newsyms_121059(((NU8) 0), (*N_135105).KindU.S6.Sons->data[0], C_135104);
Adddecl_104026(C_135104, LOC32);
LA30: ;
asgnRefNoCycle((void**) &(*N_135105).KindU.S6.Sons->data[1], Semgenericstmt_135102(C_135104, (*N_135105).KindU.S6.Sons->data[1], 0));
Closescope_104017(&(*C_135104).Tab);
break;
case ((NU8) 93):
Checkminsonslen_103103(N_135105, 2);
asgnRefNoCycle((void**) &(*N_135105).KindU.S6.Sons->data[0], Semgenericstmtscope_135109(C_135104, (*N_135105).KindU.S6.Sons->data[0], 0));
I_135695 = 0;
HEX3Atmp_142155 = 0;
LOC33 = Sonslen_53801(N_135105);
HEX3Atmp_142155 = (NI32)(LOC33 - 1);
Res_142157 = 0;
Res_142157 = 1;
while (1) {
if (!(Res_142157 <= HEX3Atmp_142155)) goto LA34;
I_135695 = Res_142157;
A_135182 = (*N_135105).KindU.S6.Sons->data[I_135695];
Checkminsonslen_103103(A_135182, 1);
L_135181 = Sonslen_53801(A_135182);
J_135715 = 0;
HEX3Atmp_142149 = 0;
HEX3Atmp_142149 = (NI32)(L_135181 - 2);
Res_142151 = 0;
Res_142151 = 0;
while (1) {
if (!(Res_142151 <= HEX3Atmp_142149)) goto LA35;
J_135715 = Res_142151;
asgnRefNoCycle((void**) &(*A_135182).KindU.S6.Sons->data[J_135715], Semgenericstmt_135102(C_135104, (*A_135182).KindU.S6.Sons->data[J_135715], 2));
Res_142151 += 1;
} LA35: ;
asgnRefNoCycle((void**) &(*A_135182).KindU.S6.Sons->data[(NI32)(L_135181 - 1)], Semgenericstmtscope_135109(C_135104, (*A_135182).KindU.S6.Sons->data[(NI32)(L_135181 - 1)], 0));
Res_142157 += 1;
} LA34: ;
break;
case ((NU8) 87):
I_135772 = 0;
HEX3Atmp_142171 = 0;
LOC36 = Sonslen_53801(N_135105);
HEX3Atmp_142171 = (NI32)(LOC36 - 1);
Res_142173 = 0;
Res_142173 = 0;
while (1) {
if (!(Res_142173 <= HEX3Atmp_142171)) goto LA37;
I_135772 = Res_142173;
A_135182 = (*N_135105).KindU.S6.Sons->data[I_135772];
if (!((*A_135182).Kind == ((NU8) 105))) goto LA40;
goto LA38;
LA40: ;
LOC43 = !(((*A_135182).Kind == ((NU8) 25)));
if (!(LOC43)) goto LA44;
LOC43 = !(((*A_135182).Kind == ((NU8) 26)));
LA44: ;
if (!LOC43) goto LA45;
Illformedast_103092(A_135182);
LA45: ;
Checkminsonslen_103103(A_135182, 3);
L_135181 = Sonslen_53801(A_135182);
asgnRefNoCycle((void**) &(*A_135182).KindU.S6.Sons->data[(NI32)(L_135181 - 2)], Semgenericstmt_135102(C_135104, (*A_135182).KindU.S6.Sons->data[(NI32)(L_135181 - 2)], 2));
asgnRefNoCycle((void**) &(*A_135182).KindU.S6.Sons->data[(NI32)(L_135181 - 1)], Semgenericstmt_135102(C_135104, (*A_135182).KindU.S6.Sons->data[(NI32)(L_135181 - 1)], 0));
J_135868 = 0;
HEX3Atmp_142165 = 0;
HEX3Atmp_142165 = (NI32)(L_135181 - 3);
Res_142167 = 0;
Res_142167 = 0;
while (1) {
if (!(Res_142167 <= HEX3Atmp_142165)) goto LA47;
J_135868 = Res_142167;
LOC48 = Getidentnode_135145((*A_135182).KindU.S6.Sons->data[J_135868]);
LOC49 = Newsyms_121059(((NU8) 0), LOC48, C_135104);
Adddecl_104026(C_135104, LOC49);
Res_142167 += 1;
} LA47: ;
LA38: ;
Res_142173 += 1;
} LA37: ;
break;
case ((NU8) 65):
I_135888 = 0;
HEX3Atmp_142187 = 0;
LOC50 = Sonslen_53801(N_135105);
HEX3Atmp_142187 = (NI32)(LOC50 - 1);
Res_142189 = 0;
Res_142189 = 0;
while (1) {
if (!(Res_142189 <= HEX3Atmp_142187)) goto LA51;
I_135888 = Res_142189;
A_135182 = (*N_135105).KindU.S6.Sons->data[I_135888];
if (!!(((*A_135182).Kind == ((NU8) 25)))) goto LA53;
Illformedast_103092(A_135182);
LA53: ;
Checkminsonslen_103103(A_135182, 3);
L_135181 = Sonslen_53801(A_135182);
asgnRefNoCycle((void**) &(*A_135182).KindU.S6.Sons->data[(NI32)(L_135181 - 2)], Semgenericstmt_135102(C_135104, (*A_135182).KindU.S6.Sons->data[(NI32)(L_135181 - 2)], 2));
J_135942 = 0;
HEX3Atmp_142181 = 0;
HEX3Atmp_142181 = (NI32)(L_135181 - 3);
Res_142183 = 0;
Res_142183 = 0;
while (1) {
if (!(Res_142183 <= HEX3Atmp_142181)) goto LA55;
J_135942 = Res_142183;
LOC56 = Getidentnode_135145((*A_135182).KindU.S6.Sons->data[J_135942]);
LOC57 = Newsyms_121059(((NU8) 0), LOC56, C_135104);
Adddecl_104026(C_135104, LOC57);
Res_142183 += 1;
} LA55: ;
Res_142189 += 1;
} LA51: ;
break;
case ((NU8) 88):
I_135962 = 0;
HEX3Atmp_142197 = 0;
LOC58 = Sonslen_53801(N_135105);
HEX3Atmp_142197 = (NI32)(LOC58 - 1);
Res_142199 = 0;
Res_142199 = 0;
while (1) {
if (!(Res_142199 <= HEX3Atmp_142197)) goto LA59;
I_135962 = Res_142199;
A_135182 = (*N_135105).KindU.S6.Sons->data[I_135962];
if (!((*A_135182).Kind == ((NU8) 105))) goto LA62;
goto LA60;
LA62: ;
if (!!(((*A_135182).Kind == ((NU8) 89)))) goto LA65;
Illformedast_103092(A_135182);
LA65: ;
Checksonslen_103099(A_135182, 3);
LOC67 = Getidentnode_135145((*A_135182).KindU.S6.Sons->data[0]);
LOC68 = Newsyms_121059(((NU8) 0), LOC67, C_135104);
Adddecl_104026(C_135104, LOC68);
asgnRefNoCycle((void**) &(*A_135182).KindU.S6.Sons->data[1], Semgenericstmt_135102(C_135104, (*A_135182).KindU.S6.Sons->data[1], 2));
asgnRefNoCycle((void**) &(*A_135182).KindU.S6.Sons->data[2], Semgenericstmt_135102(C_135104, (*A_135182).KindU.S6.Sons->data[2], 0));
LA60: ;
Res_142199 += 1;
} LA59: ;
break;
case ((NU8) 90):
I_136061 = 0;
HEX3Atmp_142203 = 0;
LOC69 = Sonslen_53801(N_135105);
HEX3Atmp_142203 = (NI32)(LOC69 - 1);
Res_142205 = 0;
Res_142205 = 0;
while (1) {
if (!(Res_142205 <= HEX3Atmp_142203)) goto LA70;
I_136061 = Res_142205;
A_135182 = (*N_135105).KindU.S6.Sons->data[I_136061];
if (!((*A_135182).Kind == ((NU8) 105))) goto LA73;
goto LA71;
LA73: ;
if (!!(((*A_135182).Kind == ((NU8) 91)))) goto LA76;
Illformedast_103092(A_135182);
LA76: ;
Checksonslen_103099(A_135182, 3);
LOC78 = Getidentnode_135145((*A_135182).KindU.S6.Sons->data[0]);
LOC79 = Newsyms_121059(((NU8) 0), LOC78, C_135104);
Adddecl_104026(C_135104, LOC79);
LA71: ;
Res_142205 += 1;
} LA70: ;
I_136111 = 0;
HEX3Atmp_142209 = 0;
LOC80 = Sonslen_53801(N_135105);
HEX3Atmp_142209 = (NI32)(LOC80 - 1);
Res_142211 = 0;
Res_142211 = 0;
while (1) {
if (!(Res_142211 <= HEX3Atmp_142209)) goto LA81;
I_136111 = Res_142211;
A_135182 = (*N_135105).KindU.S6.Sons->data[I_136111];
if (!((*A_135182).Kind == ((NU8) 105))) goto LA84;
goto LA82;
LA84: ;
if (!!(((*A_135182).Kind == ((NU8) 91)))) goto LA87;
Illformedast_103092(A_135182);
LA87: ;
Checksonslen_103099(A_135182, 3);
if (!!(((*A_135182).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA90;
Openscope_57149(&(*C_135104).Tab);
asgnRefNoCycle((void**) &(*A_135182).KindU.S6.Sons->data[1], Semgenericstmt_135102(C_135104, (*A_135182).KindU.S6.Sons->data[1], 0));
asgnRefNoCycle((void**) &(*A_135182).KindU.S6.Sons->data[2], Semgenericstmt_135102(C_135104, (*A_135182).KindU.S6.Sons->data[2], 2));
Closescope_104017(&(*C_135104).Tab);
goto LA89;
LA90: ;
asgnRefNoCycle((void**) &(*A_135182).KindU.S6.Sons->data[2], Semgenericstmt_135102(C_135104, (*A_135182).KindU.S6.Sons->data[2], 2));
LA89: ;
LA82: ;
Res_142211 += 1;
} LA81: ;
break;
case ((NU8) 121):
Checkminsonslen_103103(N_135105, 1);
if (!!(((*N_135105).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA93;
asgnRefNoCycle((void**) &(*N_135105).KindU.S6.Sons->data[0], Semgenericstmt_135102(C_135104, (*N_135105).KindU.S6.Sons->data[0], 2));
LA93: ;
I_136296 = 0;
HEX3Atmp_142215 = 0;
LOC95 = Sonslen_53801(N_135105);
HEX3Atmp_142215 = (NI32)(LOC95 - 1);
Res_142217 = 0;
Res_142217 = 1;
while (1) {
if (!(Res_142217 <= HEX3Atmp_142215)) goto LA96;
I_136296 = Res_142217;
switch ((*(*N_135105).KindU.S6.Sons->data[I_136296]).Kind) {
case ((NU8) 122):
A_135182 = (*(*N_135105).KindU.S6.Sons->data[I_136296]).KindU.S6.Sons->data[0];
break;
case ((NU8) 2):
A_135182 = (*N_135105).KindU.S6.Sons->data[I_136296];
break;
default:
Illformedast_103092(N_135105);
break;
}
LOC97 = Getidentnode_135145((*A_135182).KindU.S6.Sons->data[I_136296]);
LOC98 = Newsyms_121059(((NU8) 0), LOC97, C_135104);
Adddeclat_104030(C_135104, LOC98, ((NI) ((NI32)(((NI) ((*C_135104).Tab.Tos)) - 1))));
Res_142217 += 1;
} LA96: ;
break;
case ((NU8) 111):
case ((NU8) 112):
break;
case ((NU8) 66):
Checkminsonslen_103103(N_135105, 1);
if (!!(((*N_135105).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA100;
asgnRefNoCycle((void**) &(*N_135105).KindU.S6.Sons->data[0], Semgenericstmt_135102(C_135104, (*N_135105).KindU.S6.Sons->data[0], 2));
LA100: ;
I_136412 = 0;
HEX3Atmp_142227 = 0;
LOC102 = Sonslen_53801(N_135105);
HEX3Atmp_142227 = (NI32)(LOC102 - 1);
Res_142229 = 0;
Res_142229 = 1;
while (1) {
if (!(Res_142229 <= HEX3Atmp_142227)) goto LA103;
I_136412 = Res_142229;
A_135182 = (*N_135105).KindU.S6.Sons->data[I_136412];
if (!!(((*A_135182).Kind == ((NU8) 25)))) goto LA105;
Illformedast_103092(A_135182);
LA105: ;
Checkminsonslen_103103(A_135182, 3);
L_135181 = Sonslen_53801(A_135182);
asgnRefNoCycle((void**) &(*A_135182).KindU.S6.Sons->data[(NI32)(L_135181 - 1)], Semgenericstmt_135102(C_135104, (*A_135182).KindU.S6.Sons->data[(NI32)(L_135181 - 2)], 2));
asgnRefNoCycle((void**) &(*A_135182).KindU.S6.Sons->data[(NI32)(L_135181 - 1)], Semgenericstmt_135102(C_135104, (*A_135182).KindU.S6.Sons->data[(NI32)(L_135181 - 1)], 0));
J_136490 = 0;
HEX3Atmp_142221 = 0;
HEX3Atmp_142221 = (NI32)(L_135181 - 3);
Res_142223 = 0;
Res_142223 = 0;
while (1) {
if (!(Res_142223 <= HEX3Atmp_142221)) goto LA107;
J_136490 = Res_142223;
LOC108 = Getidentnode_135145((*A_135182).KindU.S6.Sons->data[J_136490]);
LOC109 = Newsyms_121059(((NU8) 0), LOC108, C_135104);
Adddecl_104026(C_135104, LOC109);
Res_142223 += 1;
} LA107: ;
Res_142229 += 1;
} LA103: ;
break;
case ((NU8) 69):
case ((NU8) 70):
case ((NU8) 71):
case ((NU8) 72):
case ((NU8) 73):
case ((NU8) 74):
case ((NU8) 42):
Checksonslen_103099(N_135105, 5);
LOC110 = Getidentnode_135145((*N_135105).KindU.S6.Sons->data[0]);
LOC111 = Newsyms_121059(((NU8) 0), LOC110, C_135104);
Adddecl_104026(C_135104, LOC111);
Openscope_57149(&(*C_135104).Tab);
asgnRefNoCycle((void**) &(*N_135105).KindU.S6.Sons->data[1], Semgenericstmt_135102(C_135104, (*N_135105).KindU.S6.Sons->data[1], 0));
if (!!(((*N_135105).KindU.S6.Sons->data[2] == NIM_NIL))) goto LA113;
if (!!(((*(*N_135105).KindU.S6.Sons->data[2]).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA116;
LOC118 = Getident_52016(((NimStringDesc*) &TMP194121));
LOC119 = Newsym_53699(((NU8) 0), LOC118, NIM_NIL);
Adddecl_104026(C_135104, LOC119);
LA116: ;
asgnRefNoCycle((void**) &(*N_135105).KindU.S6.Sons->data[2], Semgenericstmt_135102(C_135104, (*N_135105).KindU.S6.Sons->data[2], 0));
LA113: ;
asgnRefNoCycle((void**) &(*N_135105).KindU.S6.Sons->data[3], Semgenericstmt_135102(C_135104, (*N_135105).KindU.S6.Sons->data[3], 0));
asgnRefNoCycle((void**) &(*N_135105).KindU.S6.Sons->data[4], Semgenericstmtscope_135109(C_135104, (*N_135105).KindU.S6.Sons->data[4], 0));
Closescope_104017(&(*C_135104).Tab);
break;
default:
I_136678 = 0;
HEX3Atmp_142237 = 0;
LOC120 = Sonslen_53801(N_135105);
HEX3Atmp_142237 = (NI32)(LOC120 - 1);
Res_142239 = 0;
Res_142239 = 0;
while (1) {
if (!(Res_142239 <= HEX3Atmp_142237)) goto LA121;
I_136678 = Res_142239;
asgnRefNoCycle((void**) &(*Result_135180).KindU.S6.Sons->data[I_136678], Semgenericstmt_135102(C_135104, (*N_135105).KindU.S6.Sons->data[I_136678], Flags_135108));
Res_142239 += 1;
} LA121: ;
break;
}
BeforeRet: ;
return Result_135180;
}
N_NIMCALL(TY53523*, Semgenericstmtscope_135109)(TY103012* C_135111, TY53523* N_135112, NU8 Flags_135115) {
TY53523* Result_135116;
Result_135116 = 0;
Openscope_57149(&(*C_135111).Tab);
Result_135116 = Semgenericstmt_135102(C_135111, N_135112, Flags_135115);
Closescope_104017(&(*C_135111).Tab);
return Result_135116;
}
N_NIMCALL(void, Semborrow_140368)(TY103012* C_140370, TY53523* N_140371, TY53545* S_140372) {
TY53545* B_140373;
B_140373 = 0;
B_140373 = Searchforborrowproc_117009(C_140370, S_140372, (NI32)(((NI) ((*C_140370).Tab.Tos)) - 2));
if (!(B_140373 == NIM_NIL)) goto LA2;
Limessage_45562((*N_140371).Info, ((NU8) 136), ((NimStringDesc*) &TMP193928));
LA2: ;
asgnRefNoCycle((void**) &(*N_140371).KindU.S6.Sons->data[4], Newsymnode_53732(B_140373));
}
N_NIMCALL(void, Sideeffectscheck_140397)(TY103012* C_140399, TY53545* S_140400) {
if (!((6291456 & (*S_140400).Flags) == 6291456)) goto LA2;
Limessage_45562((*S_140400).Info, ((NU8) 204), (*(*S_140400).Name).S);
LA2: ;
}
N_NIMCALL(TY53523*, Semprocaux_140662)(TY103012* C_140664, TY53523* N_140665, NU8 Kind_140666, TY118007 Validpragmas_140667) {
TY53523* Result_140668;
TY53545* S_140669;
TY53545* Proto_140670;
TY53523* Gp_140671;
TY103006* Oldp_140732;
NI LOC14;
TY103002* LOC23;
NIM_BOOL LOC52;
NIM_BOOL LOC60;
NIM_BOOL LOC65;
TY52011* LOC69;
TY53545* LOC70;
Result_140668 = 0;
S_140669 = 0;
Proto_140670 = 0;
Gp_140671 = 0;
Result_140668 = N_140665;
Checksonslen_103099(N_140665, 5);
if (!((*(*(*C_140664).P).Owner).Kind == ((NU8) 18))) goto LA2;
S_140669 = Semidentvis_121092(C_140664, Kind_140666, (*N_140665).KindU.S6.Sons->data[0], 33554432);
(*S_140669).Flags |=(1<<((NI32)(((NU8) 5))%(sizeof(NI32)*8)));
goto LA1;
LA2: ;
S_140669 = Semidentvis_121092(C_140664, Kind_140666, (*N_140665).KindU.S6.Sons->data[0], 0);
LA1: ;
asgnRefNoCycle((void**) &(*N_140665).KindU.S6.Sons->data[0], Newsymnode_53732(S_140669));
Oldp_140732 = 0;
Oldp_140732 = (*C_140664).P;
if (!(((*S_140669).Flags &(1<<((((NU8) 1))&31)))!=0)) goto LA5;
(*S_140669).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
LA5: ;
asgnRefNoCycle((void**) &(*S_140669).Ast, N_140665);
Pushowner_103109(S_140669);
Openscope_57149(&(*C_140664).Tab);
if (!!(((*N_140665).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA8;
asgnRefNoCycle((void**) &(*N_140665).KindU.S6.Sons->data[1], Semgenericparamlist_139469(C_140664, (*N_140665).KindU.S6.Sons->data[1], NIM_NIL));
Gp_140671 = (*N_140665).KindU.S6.Sons->data[1];
goto LA7;
LA8: ;
Gp_140671 = Newnodei_53735(((NU8) 65), (*N_140665).Info);
LA7: ;
if (!!(((*N_140665).KindU.S6.Sons->data[2] == NIM_NIL))) goto LA11;
Semparamlist_121147(C_140664, (*N_140665).KindU.S6.Sons->data[2], Gp_140671, S_140669);
LOC14 = Sonslen_53801(Gp_140671);
if (!(0 < LOC14)) goto LA15;
asgnRefNoCycle((void**) &(*N_140665).KindU.S6.Sons->data[1], Gp_140671);
LA15: ;
Addparams_121153(C_140664, (*(*S_140669).Typ).N);
goto LA10;
LA11: ;
asgnRef((void**) &(*S_140669).Typ, Newtypes_103077(((NU8) 25), C_140664));
Addson_53825((*S_140669).Typ, NIM_NIL);
LA10: ;
Proto_140670 = Searchforproc_117004(C_140664, S_140669, (NI32)(((NI) ((*C_140664).Tab.Tos)) - 2));
if (!(Proto_140670 == NIM_NIL)) goto LA18;
if (!!(((*(*Oldp_140732).Owner).Kind == ((NU8) 18)))) goto LA21;
(*(*S_140669).Typ).Callconv = ((NU8) 8);
goto LA20;
LA21: ;
LOC23 = Lastoptionentry_103053(C_140664);
(*(*S_140669).Typ).Callconv = (*LOC23).Defaultcc;
LA20: ;
if (!((1967104 &(1<<((Kind_140666)&31)))!=0)) goto LA25;
Addinterfaceoverloadablesymat_104044(C_140664, S_140669, (NI32)(((NI) ((*C_140664).Tab.Tos)) - 2));
goto LA24;
LA25: ;
Addinterfacedeclat_104246(C_140664, S_140669, ((NI) ((NI32)(((NI) ((*C_140664).Tab.Tos)) - 2))));
LA24: ;
if (!!(((*N_140665).KindU.S6.Sons->data[3] == NIM_NIL))) goto LA28;
Pragma_118028(C_140664, S_140669, (*N_140665).KindU.S6.Sons->data[3], Validpragmas_140667);
LA28: ;
goto LA17;
LA18: ;
if (!!(((*N_140665).KindU.S6.Sons->data[3] == NIM_NIL))) goto LA31;
Limessage_45562((*(*N_140665).KindU.S6.Sons->data[3]).Info, ((NU8) 133), ((NimStringDesc*) &TMP193928));
LA31: ;
if (!!((((*Proto_140670).Flags &(1<<((((NU8) 6))&31)))!=0))) goto LA34;
Limessage_45562((*N_140665).Info, ((NU8) 94), (*(*Proto_140670).Name).S);
LA34: ;
(*Proto_140670).Flags &= ~(1 << ((NI32)(((NU8) 6)) % (sizeof(NI32)*8)));
Closescope_104017(&(*C_140664).Tab);
Openscope_57149(&(*C_140664).Tab);
if (!!(((*(*Proto_140670).Ast).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA37;
Addgenericparamlisttoscope_139639(C_140664, (*(*Proto_140670).Ast).KindU.S6.Sons->data[1]);
LA37: ;
Addparams_121153(C_140664, (*(*Proto_140670).Typ).N);
(*Proto_140670).Info = (*S_140669).Info;
asgnRef((void**) &(*S_140669).Typ, (*Proto_140670).Typ);
S_140669 = Proto_140670;
asgnRefNoCycle((void**) &(*N_140665).KindU.S6.Sons->data[1], (*(*Proto_140670).Ast).KindU.S6.Sons->data[1]);
asgnRefNoCycle((void**) &(*N_140665).KindU.S6.Sons->data[2], (*(*Proto_140670).Ast).KindU.S6.Sons->data[2]);
if (!!(((*(*N_140665).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA40;
Internalerror_45567((*N_140665).Info, ((NimStringDesc*) &TMP194175));
LA40: ;
asgnRef((void**) &(*(*N_140665).KindU.S6.Sons->data[0]).KindU.S4.Sym, Proto_140670);
asgnRefNoCycle((void**) &(*Proto_140670).Ast, N_140665);
Popowner_103112();
Pushowner_103109(S_140669);
LA17: ;
(*S_140669).Options = Goptions_44075;
if (!!(((*N_140665).KindU.S6.Sons->data[4] == NIM_NIL))) goto LA43;
if (!(((*S_140669).Flags &(1<<((((NU8) 29))&31)))!=0)) goto LA46;
Limessage_45562((*(*N_140665).KindU.S6.Sons->data[4]).Info, ((NU8) 134), (*(*S_140669).Name).S);
LA46: ;
if (!((*N_140665).KindU.S6.Sons->data[1] == NIM_NIL)) goto LA49;
asgnRefNoCycle((void**) &(*C_140664).P, Newproccon_103050(S_140669));
LOC52 = !(((*(*S_140669).Typ).Sons->data[0] == NIM_NIL));
if (!(LOC52)) goto LA53;
LOC52 = !((Kind_140666 == ((NU8) 11)));
LA53: ;
if (!LOC52) goto LA54;
Addresult_121157(C_140664, (*(*S_140669).Typ).Sons->data[0], (*N_140665).Info);
LA54: ;
if (!!((((*S_140669).Flags &(1<<((((NU8) 7))&31)))!=0))) goto LA57;
asgnRefNoCycle((void**) &(*N_140665).KindU.S6.Sons->data[4], Semstmtscope_121104(C_140664, (*N_140665).KindU.S6.Sons->data[4]));
LA57: ;
LOC60 = !(((*(*S_140669).Typ).Sons->data[0] == NIM_NIL));
if (!(LOC60)) goto LA61;
LOC60 = !((Kind_140666 == ((NU8) 11)));
LA61: ;
if (!LOC60) goto LA62;
Addresultnode_121162(C_140664, N_140665);
LA62: ;
goto LA48;
LA49: ;
LOC65 = !(((*(*S_140669).Typ).Sons->data[0] == NIM_NIL));
if (!(LOC65)) goto LA66;
LOC65 = !((Kind_140666 == ((NU8) 11)));
LA66: ;
if (!LOC65) goto LA67;
LOC69 = Getident_52016(((NimStringDesc*) &TMP194121));
LOC70 = Newsym_53699(((NU8) 0), LOC69, NIM_NIL);
Adddecl_104026(C_140664, LOC70);
LA67: ;
asgnRefNoCycle((void**) &(*N_140665).KindU.S6.Sons->data[4], Semgenericstmtscope_135109(C_140664, (*N_140665).KindU.S6.Sons->data[4], 0));
LA48: ;
if (!(((*S_140669).Flags &(1<<((((NU8) 7))&31)))!=0)) goto LA72;
asgnRefNoCycle((void**) &(*N_140665).KindU.S6.Sons->data[4], NIM_NIL);
LA72: ;
goto LA42;
LA43: ;
if (!!((Proto_140670 == NIM_NIL))) goto LA75;
Limessage_45562((*N_140665).Info, ((NU8) 135), (*(*Proto_140670).Name).S);
LA75: ;
if (!((IL64(2147483680) & (*S_140669).Flags) == 0)) goto LA78;
(*S_140669).Flags |=(1<<((NI32)(((NU8) 6))%(sizeof(NI32)*8)));
goto LA77;
LA78: ;
if (!(((*S_140669).Flags &(1<<((((NU8) 29))&31)))!=0)) goto LA80;
Semborrow_140368(C_140664, N_140665, S_140669);
goto LA77;
LA80: ;
LA77: ;
LA42: ;
Sideeffectscheck_140397(C_140664, S_140669);
Closescope_104017(&(*C_140664).Tab);
Popowner_103112();
asgnRefNoCycle((void**) &(*C_140664).P, Oldp_140732);
return Result_140668;
}
N_NIMCALL(TY53523*, Semiterator_141389)(TY103012* C_141391, TY53523* N_141392) {
TY53523* Result_141393;
TY53545* S_141418;
TY53549* T_141419;
Result_141393 = 0;
Result_141393 = Semprocaux_140662(C_141391, N_141392, ((NU8) 11), TMP194176);
S_141418 = 0;
S_141418 = (*(*Result_141393).KindU.S6.Sons->data[0]).KindU.S4.Sym;
T_141419 = 0;
T_141419 = (*S_141418).Typ;
if (!((*T_141419).Sons->data[0] == NIM_NIL)) goto LA2;
Limessage_45562((*N_141392).Info, ((NU8) 175), ((NimStringDesc*) &TMP194177));
LA2: ;
if (!((*N_141392).KindU.S6.Sons->data[4] == NIM_NIL)) goto LA5;
Limessage_45562((*N_141392).Info, ((NU8) 135), (*(*S_141418).Name).S);
LA5: ;
return Result_141393;
}
N_NIMCALL(TY53523*, Semproc_141454)(TY103012* C_141456, TY53523* N_141457) {
TY53523* Result_141458;
Result_141458 = 0;
Result_141458 = Semprocaux_140662(C_141456, N_141457, ((NU8) 9), TMP194178);
return Result_141458;
}
N_NIMCALL(NIM_BOOL, Istoplevel_121053)(TY103012* C_121055) {
NIM_BOOL Result_121056;
Result_121056 = 0;
Result_121056 = (((NI) ((*C_121055).Tab.Tos)) <= 2);
return Result_121056;
}
N_NIMCALL(TY53523*, Semmethod_141459)(TY103012* C_141461, TY53523* N_141462) {
TY53523* Result_141463;
NIM_BOOL LOC2;
Result_141463 = 0;
LOC2 = Istoplevel_121053(C_141461);
if (!!(LOC2)) goto LA3;
Limessage_45562((*N_141462).Info, ((NU8) 177), ((NimStringDesc*) &TMP194179));
LA3: ;
Result_141463 = Semprocaux_140662(C_141461, N_141462, ((NU8) 10), TMP194178);
return Result_141463;
}
N_NIMCALL(TY53523*, Semconverterdef_141464)(TY103012* C_141466, TY53523* N_141467) {
TY53523* Result_141468;
NIM_BOOL LOC2;
TY53545* S_141516;
TY53549* T_141517;
NI LOC12;
Result_141468 = 0;
LOC2 = Istoplevel_121053(C_141466);
if (!!(LOC2)) goto LA3;
Limessage_45562((*N_141467).Info, ((NU8) 177), ((NimStringDesc*) &TMP194180));
LA3: ;
Checksonslen_103099(N_141467, 5);
if (!!(((*N_141467).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA6;
Limessage_45562((*N_141467).Info, ((NU8) 152), ((NimStringDesc*) &TMP194180));
LA6: ;
Result_141468 = Semprocaux_140662(C_141466, N_141467, ((NU8) 12), TMP194178);
S_141516 = 0;
S_141516 = (*(*Result_141468).KindU.S6.Sons->data[0]).KindU.S4.Sym;
T_141517 = 0;
T_141517 = (*S_141516).Typ;
if (!((*T_141517).Sons->data[0] == NIM_NIL)) goto LA9;
Limessage_45562((*N_141467).Info, ((NU8) 175), ((NimStringDesc*) &TMP194180));
LA9: ;
LOC12 = Sonslen_53804(T_141517);
if (!!((LOC12 == 2))) goto LA13;
Limessage_45562((*N_141467).Info, ((NU8) 200), ((NimStringDesc*) &TMP194180));
LA13: ;
Addconverter_103058(C_141466, S_141516);
return Result_141468;
}
N_NIMCALL(TY53523*, Semmacrodef_141531)(TY103012* C_141533, TY53523* N_141534) {
TY53523* Result_141535;
TY53545* S_141583;
TY53549* T_141584;
NI LOC8;
Result_141535 = 0;
Checksonslen_103099(N_141534, 5);
if (!!(((*N_141534).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA2;
Limessage_45562((*N_141534).Info, ((NU8) 152), ((NimStringDesc*) &TMP194181));
LA2: ;
Result_141535 = Semprocaux_140662(C_141533, N_141534, ((NU8) 13), TMP194182);
S_141583 = 0;
S_141583 = (*(*Result_141535).KindU.S6.Sons->data[0]).KindU.S4.Sym;
T_141584 = 0;
T_141584 = (*S_141583).Typ;
if (!((*T_141584).Sons->data[0] == NIM_NIL)) goto LA5;
Limessage_45562((*N_141534).Info, ((NU8) 175), ((NimStringDesc*) &TMP194181));
LA5: ;
LOC8 = Sonslen_53804(T_141584);
if (!!((LOC8 == 2))) goto LA9;
Limessage_45562((*N_141534).Info, ((NU8) 200), ((NimStringDesc*) &TMP194181));
LA9: ;
if (!((*N_141534).KindU.S6.Sons->data[4] == NIM_NIL)) goto LA12;
Limessage_45562((*N_141534).Info, ((NU8) 135), (*(*S_141583).Name).S);
LA12: ;
return Result_141535;
}
N_NIMCALL(TY53523*, Resolvetemplateparams_121598)(TY103012* C_121600, TY53523* N_121601, NIM_BOOL Withinbind_121602, TY53898* Tobind_121604) {
TY53523* Result_121605;
TY53545* S_121606;
NIM_BOOL LOC5;
NIM_BOOL LOC7;
TY53545* LOC13;
NI I_121684;
NI HEX3Atmp_122082;
NI LOC14;
NI Res_122084;
Result_121605 = 0;
S_121606 = 0;
if (!(N_121601 == NIM_NIL)) goto LA2;
Result_121605 = NIM_NIL;
goto BeforeRet;
LA2: ;
switch ((*N_121601).Kind) {
case ((NU8) 2):
LOC5 = !(Withinbind_121602);
if (!(LOC5)) goto LA6;
LOC7 = Intsetcontains_53908((*Tobind_121604), (*(*N_121601).KindU.S5.Ident).Sup.Id);
LOC5 = !(LOC7);
LA6: ;
if (!LOC5) goto LA8;
S_121606 = Symtablocalget_57123((*C_121600).Tab, (*N_121601).KindU.S5.Ident);
if (!!((S_121606 == NIM_NIL))) goto LA11;
Result_121605 = Newsymnode_53732(S_121606);
(*Result_121605).Info = (*N_121601).Info;
goto LA10;
LA11: ;
Result_121605 = N_121601;
LA10: ;
goto LA4;
LA8: ;
Intsetincl_53912(Tobind_121604, (*(*N_121601).KindU.S5.Ident).Sup.Id);
LOC13 = Lookup_104049(C_121600, N_121601);
Result_121605 = Symchoice_121549(C_121600, N_121601, LOC13);
LA4: ;
break;
case ((NU8) 3) ... ((NU8) 18):
Result_121605 = N_121601;
break;
case ((NU8) 45):
Result_121605 = Resolvetemplateparams_121598(C_121600, (*N_121601).KindU.S6.Sons->data[0], NIM_TRUE, Tobind_121604);
break;
default:
Result_121605 = N_121601;
I_121684 = 0;
HEX3Atmp_122082 = 0;
LOC14 = Sonslen_53801(N_121601);
HEX3Atmp_122082 = (NI32)(LOC14 - 1);
Res_122084 = 0;
Res_122084 = 0;
while (1) {
if (!(Res_122084 <= HEX3Atmp_122082)) goto LA15;
I_121684 = Res_122084;
asgnRefNoCycle((void**) &(*Result_121605).KindU.S6.Sons->data[I_121684], Resolvetemplateparams_121598(C_121600, (*N_121601).KindU.S6.Sons->data[I_121684], Withinbind_121602, Tobind_121604));
Res_122084 += 1;
} LA15: ;
break;
}
BeforeRet: ;
return Result_121605;
}
N_NIMCALL(TY53523*, Transformtoexpr_121709)(TY53523* N_121711) {
TY53523* Result_121712;
NI Realstmt_121713;
NI I_121721;
NI HEX3Atmp_122088;
NI LOC1;
NI Res_122090;
Result_121712 = 0;
Realstmt_121713 = 0;
Result_121712 = N_121711;
switch ((*N_121711).Kind) {
case ((NU8) 101):
Realstmt_121713 = -1;
I_121721 = 0;
HEX3Atmp_122088 = 0;
LOC1 = Sonslen_53801(N_121711);
HEX3Atmp_122088 = (NI32)(LOC1 - 1);
Res_122090 = 0;
Res_122090 = 0;
while (1) {
if (!(Res_122090 <= HEX3Atmp_122088)) goto LA2;
I_121721 = Res_122090;
switch ((*(*N_121711).KindU.S6.Sons->data[I_121721]).Kind) {
case ((NU8) 105):
case ((NU8) 1):
case ((NU8) 18):
break;
default:
if (!(Realstmt_121713 == -1)) goto LA4;
Realstmt_121713 = I_121721;
goto LA3;
LA4: ;
Realstmt_121713 = -2;
LA3: ;
break;
}
Res_122090 += 1;
} LA2: ;
if (!(0 <= Realstmt_121713)) goto LA7;
Result_121712 = Transformtoexpr_121709((*N_121711).KindU.S6.Sons->data[Realstmt_121713]);
goto LA6;
LA7: ;
(*N_121711).Kind = ((NU8) 106);
LA6: ;
break;
case ((NU8) 99):
(*N_121711).Kind = ((NU8) 107);
break;
default:
break;
}
return Result_121712;
}
N_NIMCALL(TY53523*, Semtemplatedef_121750)(TY103012* C_121752, TY53523* N_121753) {
TY53523* Result_121754;
TY53545* S_121755;
TY53898 Tobind_121756;
TY53549* LOC16;
TY53523* LOC17;
Result_121754 = 0;
S_121755 = 0;
memset((void*)&Tobind_121756, 0, sizeof(Tobind_121756));
if (!((*(*(*C_121752).P).Owner).Kind == ((NU8) 18))) goto LA2;
S_121755 = Semidentvis_121092(C_121752, ((NU8) 14), (*N_121753).KindU.S6.Sons->data[0], 33554432);
(*S_121755).Flags |=(1<<((NI32)(((NU8) 5))%(sizeof(NI32)*8)));
goto LA1;
LA2: ;
S_121755 = Semidentvis_121092(C_121752, ((NU8) 14), (*N_121753).KindU.S6.Sons->data[0], 0);
LA1: ;
if (!(((*S_121755).Flags &(1<<((((NU8) 1))&31)))!=0)) goto LA5;
(*S_121755).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
LA5: ;
Pushowner_103109(S_121755);
Openscope_57149(&(*C_121752).Tab);
asgnRefNoCycle((void**) &(*N_121753).KindU.S6.Sons->data[0], Newsymnode_53732(S_121755));
if (!!(((*N_121753).KindU.S6.Sons->data[3] == NIM_NIL))) goto LA8;
Limessage_45562((*N_121753).Info, ((NU8) 151), ((NimStringDesc*) &TMP194183));
LA8: ;
if (!!(((*N_121753).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA11;
Limessage_45562((*N_121753).Info, ((NU8) 152), ((NimStringDesc*) &TMP194183));
LA11: ;
if (!((*N_121753).KindU.S6.Sons->data[2] == NIM_NIL)) goto LA14;
asgnRef((void**) &(*S_121755).Typ, Newtypes_103077(((NU8) 25), C_121752));
asgnRefNoCycle((void**) &(*(*S_121755).Typ).N, Newnodei_53735(((NU8) 66), (*N_121753).Info));
LOC16 = Newtypes_103077(((NU8) 7), C_121752);
Addson_53825((*S_121755).Typ, LOC16);
LOC17 = Newnodeit_53739(((NU8) 4), (*N_121753).Info, (*(*S_121755).Typ).Sons->data[0]);
Addson_53821((*(*S_121755).Typ).N, LOC17);
goto LA13;
LA14: ;
Semparamlist_121147(C_121752, (*N_121753).KindU.S6.Sons->data[2], NIM_NIL, S_121755);
if (!((*(*N_121753).KindU.S6.Sons->data[2]).KindU.S6.Sons->data[0] == NIM_NIL)) goto LA19;
asgnRef((void**) &(*(*S_121755).Typ).Sons->data[0], Newtypes_103077(((NU8) 7), C_121752));
asgnRefNoCycle((void**) &(*(*(*S_121755).Typ).N).KindU.S6.Sons->data[0], Newnodeit_53739(((NU8) 4), (*N_121753).Info, (*(*S_121755).Typ).Sons->data[0]));
LA19: ;
LA13: ;
Addparams_121153(C_121752, (*(*S_121755).Typ).N);
Intsetinit_53922(&Tobind_121756);
asgnRefNoCycle((void**) &(*N_121753).KindU.S6.Sons->data[4], Resolvetemplateparams_121598(C_121752, (*N_121753).KindU.S6.Sons->data[4], NIM_FALSE, &Tobind_121756));
if (!!(((*(*(*S_121755).Typ).Sons->data[0]).Kind == ((NU8) 7) || (*(*(*S_121755).Typ).Sons->data[0]).Kind == ((NU8) 8)))) goto LA22;
asgnRefNoCycle((void**) &(*N_121753).KindU.S6.Sons->data[4], Transformtoexpr_121709((*N_121753).KindU.S6.Sons->data[4]));
LA22: ;
Closescope_104017(&(*C_121752).Tab);
Popowner_103112();
asgnRefNoCycle((void**) &(*S_121755).Ast, N_121753);
Result_121754 = N_121753;
if (!((*N_121753).KindU.S6.Sons->data[4] == NIM_NIL)) goto LA25;
Limessage_45562((*N_121753).Info, ((NU8) 135), (*(*S_121755).Name).S);
LA25: ;
Addinterfacedecl_104040(C_121752, S_121755);
return Result_121754;
}
N_NIMCALL(TY53523*, Evalinclude_141621)(TY103012* C_141623, TY53523* N_141624) {
TY53523* Result_141625;
NI I_141633;
NI HEX3Atmp_142352;
NI LOC1;
NI Res_142354;
NimStringDesc* F_141646;
NI Fileindex_141647;
NIM_BOOL LOC4;
TY53523* LOC7;
TY53523* LOC8;
Result_141625 = 0;
Result_141625 = Newnodei_53735(((NU8) 101), (*N_141624).Info);
Addson_53821(Result_141625, N_141624);
I_141633 = 0;
HEX3Atmp_142352 = 0;
LOC1 = Sonslen_53801(N_141624);
HEX3Atmp_142352 = (NI32)(LOC1 - 1);
Res_142354 = 0;
Res_142354 = 0;
while (1) {
if (!(Res_142354 <= HEX3Atmp_142352)) goto LA2;
I_141633 = Res_142354;
F_141646 = 0;
F_141646 = Getmodulefile_106013((*N_141624).KindU.S6.Sons->data[I_141633]);
Fileindex_141647 = 0;
Fileindex_141647 = Includefilename_45611(F_141646);
LOC4 = Intsetcontainsorincl_53926(&(*C_141623).Includedfiles, Fileindex_141647);
if (!LOC4) goto LA5;
Limessage_45562((*N_141624).Info, ((NU8) 23), F_141646);
LA5: ;
LOC7 = Gincludefile_101051(F_141646);
LOC8 = Semstmt_121143(C_141623, LOC7);
Addson_53821(Result_141625, LOC8);
Intsetexcl_53917(&(*C_141623).Includedfiles, Fileindex_141647);
Res_142354 += 1;
} LA2: ;
return Result_141625;
}
N_NIMCALL(TY53523*, Semstmt_121143)(TY103012* C_121145, TY53523* N_121146) {
TY53523* Result_141659;
NI Length_141684;
NI I_141692;
NI HEX3Atmp_142365;
NI Res_142367;
NI J_141747;
NI HEX3Atmp_142358;
NI HEX3Atmp_142359;
NI Res_142361;
NIM_BOOL LOC13;
NIM_BOOL LOC17;
NIM_BOOL LOC21;
Result_141659 = 0;
Result_141659 = N_121146;
if (!(N_121146 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
if (!(((*N_121146).Flags &(1<<((((NU8) 6))&7)))!=0)) goto LA5;
goto BeforeRet;
LA5: ;
switch ((*N_121146).Kind) {
case ((NU8) 63):
Result_141659 = Semasgn_137665(C_121145, N_121146);
break;
case ((NU8) 21):
case ((NU8) 27):
case ((NU8) 28):
case ((NU8) 29):
case ((NU8) 20):
case ((NU8) 79):
case ((NU8) 22):
Result_141659 = Semcommand_141650(C_121145, N_121146);
break;
case ((NU8) 1):
case ((NU8) 105):
case ((NU8) 18):
break;
case ((NU8) 99):
Result_141659 = Semblock_137153(C_121145, N_121146);
break;
case ((NU8) 101):
Length_141684 = 0;
Length_141684 = Sonslen_53801(N_121146);
I_141692 = 0;
HEX3Atmp_142365 = 0;
HEX3Atmp_142365 = (NI32)(Length_141684 - 1);
Res_142367 = 0;
Res_142367 = 0;
while (1) {
if (!(Res_142367 <= HEX3Atmp_142365)) goto LA7;
I_141692 = Res_142367;
asgnRefNoCycle((void**) &(*N_121146).KindU.S6.Sons->data[I_141692], Semstmt_121143(C_121145, (*N_121146).KindU.S6.Sons->data[I_141692]));
if (!((*(*N_121146).KindU.S6.Sons->data[I_141692]).Kind == ((NU8) 95) || (*(*N_121146).KindU.S6.Sons->data[I_141692]).Kind == ((NU8) 96) || (*(*N_121146).KindU.S6.Sons->data[I_141692]).Kind == ((NU8) 97) || (*(*N_121146).KindU.S6.Sons->data[I_141692]).Kind == ((NU8) 98))) goto LA9;
J_141747 = 0;
HEX3Atmp_142358 = 0;
HEX3Atmp_142359 = 0;
HEX3Atmp_142358 = (NI32)(I_141692 + 1);
HEX3Atmp_142359 = (NI32)(Length_141684 - 1);
Res_142361 = 0;
Res_142361 = HEX3Atmp_142358;
while (1) {
if (!(Res_142361 <= HEX3Atmp_142359)) goto LA11;
J_141747 = Res_142361;
switch ((*(*N_121146).KindU.S6.Sons->data[J_141747]).Kind) {
case ((NU8) 81):
case ((NU8) 105):
case ((NU8) 18):
case ((NU8) 1):
break;
default:
Limessage_45562((*(*N_121146).KindU.S6.Sons->data[J_141747]).Info, ((NU8) 38), ((NimStringDesc*) &TMP193928));
break;
}
Res_142361 += 1;
} LA11: ;
LA9: ;
Res_142367 += 1;
} LA7: ;
break;
case ((NU8) 95):
Result_141659 = Semraise_139191(C_121145, N_121146);
break;
case ((NU8) 87):
Result_141659 = Semvar_138296(C_121145, N_121146);
break;
case ((NU8) 88):
Result_141659 = Semconst_138594(C_121145, N_121146);
break;
case ((NU8) 90):
Result_141659 = Semtypesection_139694(C_121145, N_121146);
break;
case ((NU8) 82):
Result_141659 = Semif_136858(C_121145, N_121146);
break;
case ((NU8) 83):
Result_141659 = Semwhen_136728(C_121145, N_121146);
break;
case ((NU8) 100):
Result_141659 = Semdiscard_136983(C_121145, N_121146);
break;
case ((NU8) 85):
Result_141659 = Semwhile_137346(C_121145, N_121146);
break;
case ((NU8) 93):
Result_141659 = Semtry_139274(C_121145, N_121146);
break;
case ((NU8) 97):
case ((NU8) 98):
Result_141659 = Sembreakorcontinue_137035(C_121145, N_121146);
break;
case ((NU8) 84):
Result_141659 = Semfor_138784(C_121145, N_121146);
break;
case ((NU8) 86):
Result_141659 = Semcase_137451(C_121145, N_121146);
break;
case ((NU8) 96):
Result_141659 = Semreturn_137907(C_121145, N_121146);
break;
case ((NU8) 80):
Result_141659 = Semasm_137256(C_121145, N_121146);
break;
case ((NU8) 92):
Result_141659 = Semyield_138123(C_121145, N_121146);
break;
case ((NU8) 81):
Pragma_118028(C_121145, (*(*C_121145).P).Owner, N_121146, TMP194171);
break;
case ((NU8) 74):
Result_141659 = Semiterator_141389(C_121145, N_121146);
break;
case ((NU8) 69):
Result_141659 = Semproc_141454(C_121145, N_121146);
break;
case ((NU8) 70):
Result_141659 = Semmethod_141459(C_121145, N_121146);
break;
case ((NU8) 71):
Result_141659 = Semconverterdef_141464(C_121145, N_121146);
break;
case ((NU8) 72):
Result_141659 = Semmacrodef_141531(C_121145, N_121146);
break;
case ((NU8) 73):
Result_141659 = Semtemplatedef_121750(C_121145, N_121146);
break;
case ((NU8) 102):
LOC13 = Istoplevel_121053(C_121145);
if (!!(LOC13)) goto LA14;
Limessage_45562((*N_121146).Info, ((NU8) 177), ((NimStringDesc*) &TMP194184));
LA14: ;
Result_141659 = Evalimport_106001(C_121145, N_121146);
break;
case ((NU8) 103):
LOC17 = Istoplevel_121053(C_121145);
if (!!(LOC17)) goto LA18;
Limessage_45562((*N_121146).Info, ((NU8) 177), ((NimStringDesc*) &TMP194190));
LA18: ;
Result_141659 = Evalfrom_106005(C_121145, N_121146);
break;
case ((NU8) 104):
LOC21 = Istoplevel_121053(C_121145);
if (!!(LOC21)) goto LA22;
Limessage_45562((*N_121146).Info, ((NU8) 177), ((NimStringDesc*) &TMP194194));
LA22: ;
Result_141659 = Evalinclude_141621(C_121145, N_121146);
break;
default:
Limessage_45562((*N_121146).Info, ((NU8) 39), ((NimStringDesc*) &TMP193928));
break;
}
if (!(Result_141659 == NIM_NIL)) goto LA25;
Internalerror_45567((*N_121146).Info, ((NimStringDesc*) &TMP194195));
LA25: ;
(*Result_141659).Flags |=(1<<((NI8)(((NU8) 6))%(sizeof(NI8)*8)));
BeforeRet: ;
return Result_141659;
}
N_NIMCALL(TY53523*, Semaftermacrocall_121246)(TY103012* C_121248, TY53523* N_121249, TY53545* S_121250) {
TY53523* Result_121251;
NimStringDesc* LOC1;
Result_121251 = 0;
Result_121251 = N_121249;
switch ((*(*(*S_121250).Typ).Sons->data[0]).Kind) {
case ((NU8) 6):
Result_121251 = Semexpr_121115(C_121248, Result_121251, 0);
break;
case ((NU8) 7):
Result_121251 = Semstmt_121143(C_121248, Result_121251);
break;
case ((NU8) 8):
asgnRef((void**) &(*Result_121251).Typ, Semtypenode_121138(C_121248, Result_121251, NIM_NIL));
break;
default:
LOC1 = Typetostring_93014((*(*S_121250).Typ).Sons->data[0], ((NU8) 0));
Limessage_45562((*S_121250).Info, ((NU8) 153), LOC1);
break;
}
return Result_121251;
}
N_NIMCALL(TY53523*, Semmacroexpr_122093)(TY103012* C_122095, TY53523* N_122096, TY53545* Sym_122097, NIM_BOOL Semcheck_122098) {
TY53523* Result_122099;
TY111006* P_122114;
TY111004* S_122115;
TY53523* LOC4;
NIM_BOOL LOC6;
Result_122099 = 0;
Evaltemplatecounter_121423 += 1;
if (!(100 < Evaltemplatecounter_121423)) goto LA2;
Limessage_45562((*N_122096).Info, ((NU8) 178), ((NimStringDesc*) &TMP193928));
LA2: ;
Markused_121065(N_122096, Sym_122097);
P_122114 = 0;
P_122114 = Newevalcontext_111033((*C_122095).Module, ((NimStringDesc*) &TMP193928), NIM_FALSE);
S_122115 = 0;
S_122115 = Newstackframe_111024();
asgnRefNoCycle((void**) &(*S_122115).Call, N_122096);
(*S_122115).Params = (TY53517*) setLengthSeq(&((*S_122115).Params)->Sup, sizeof(TY53523*), 2);
asgnRefNoCycle((void**) &(*S_122115).Params->data[0], Newnodeit_53739(((NU8) 18), (*N_122096).Info, (*(*Sym_122097).Typ).Sons->data[0]));
asgnRefNoCycle((void**) &(*S_122115).Params->data[1], N_122096);
Pushstackframe_111026(P_122114, S_122115);
LOC4 = Eval_111038(P_122114, (*(*Sym_122097).Ast).KindU.S6.Sons->data[4]);
Result_122099 = (*S_122115).Params->data[0];
Popstackframe_111030(P_122114);
LOC6 = Cyclictree_92043(Result_122099);
if (!LOC6) goto LA7;
Limessage_45562((*N_122096).Info, ((NU8) 202), ((NimStringDesc*) &TMP193928));
LA7: ;
if (!Semcheck_122098) goto LA10;
Result_122099 = Semaftermacrocall_121246(C_122095, Result_122099, Sym_122097);
LA10: ;
Evaltemplatecounter_121423 -= 1;
return Result_122099;
}
N_NIMCALL(TY53523*, Semsym_129077)(TY103012* C_129079, TY53523* N_129080, TY53545* S_129081, NU8 Flags_129082) {
TY53523* Result_129083;
NIM_BOOL LOC2;
NIM_BOOL LOC7;
NIM_BOOL LOC8;
TY53545* LOC11;
Result_129083 = 0;
LOC2 = ((*S_129081).Kind == ((NU8) 6));
if (!(LOC2)) goto LA3;
LOC2 = !(((Flags_129082 &(1<<((((NU8) 0))&7)))!=0));
LA3: ;
if (!LOC2) goto LA4;
Limessage_45562((*N_129080).Info, ((NU8) 161), ((NimStringDesc*) &TMP193928));
LA4: ;
switch ((*S_129081).Kind) {
case ((NU8) 9):
case ((NU8) 10):
case ((NU8) 11):
case ((NU8) 12):
LOC8 = !((((*S_129081).Flags &(1<<((((NU8) 20))&31)))!=0));
if (!(LOC8)) goto LA9;
LOC8 = ((*(*S_129081).Typ).Callconv == ((NU8) 0));
LA9: ;
LOC7 = LOC8;
if (!(LOC7)) goto LA10;
LOC11 = Getmodule_57206(S_129081);
LOC7 = !(((*LOC11).Sup.Id == (*(*C_129079).Module).Sup.Id));
LA10: ;
if (!LOC7) goto LA12;
Limessage_45562((*N_129080).Info, ((NU8) 131), (*(*S_129081).Name).S);
LA12: ;
Result_129083 = Symchoice_121549(C_129079, N_129080, S_129081);
break;
case ((NU8) 7):
Markused_121065(N_129080, S_129081);
if (!((*(*S_129081).Typ).Kind == ((NU8) 5) || (*(*S_129081).Typ).Kind == ((NU8) 2) || (*(*S_129081).Typ).Kind >= ((NU8) 31) && (*(*S_129081).Typ).Kind <= ((NU8) 35) || (*(*S_129081).Typ).Kind >= ((NU8) 36) && (*(*S_129081).Typ).Kind <= ((NU8) 39) || (*(*S_129081).Typ).Kind == ((NU8) 4) || (*(*S_129081).Typ).Kind == ((NU8) 18) || (*(*S_129081).Typ).Kind == ((NU8) 19))) goto LA15;
Result_129083 = Copytree_53856((*S_129081).Ast);
asgnRef((void**) &(*Result_129083).Typ, (*S_129081).Typ);
goto LA14;
LA15: ;
Result_129083 = Newsymnode_53732(S_129081);
LA14: ;
(*Result_129083).Info = (*N_129080).Info;
break;
case ((NU8) 13):
Result_129083 = Semmacroexpr_122093(C_129079, N_129080, S_129081, NIM_TRUE);
break;
case ((NU8) 14):
Result_129083 = Semtemplateexpr_129022(C_129079, N_129080, S_129081, NIM_TRUE);
break;
case ((NU8) 8):
Markused_121065(N_129080, S_129081);
if (!(((*S_129081).Flags &(1<<((((NU8) 5))&31)))!=0)) goto LA18;
(*(*(*C_129079).P).Owner).Flags |=(1<<((NI32)(((NU8) 14))%(sizeof(NI32)*8)));
LA18: ;
Result_129083 = Newsymnode_53732(S_129081);
(*Result_129083).Info = (*N_129080).Info;
break;
case ((NU8) 4):
if (!((*S_129081).Ast == NIM_NIL)) goto LA21;
Internalerror_45567((*N_129080).Info, ((NimStringDesc*) &TMP194196));
LA21: ;
Result_129083 = Semexpr_121115(C_129079, (*S_129081).Ast, 0);
break;
default:
Markused_121065(N_129080, S_129081);
Result_129083 = Newsymnode_53732(S_129081);
(*Result_129083).Info = (*N_129080).Info;
break;
}
return Result_129083;
}
N_NIMCALL(TY53523*, Semfieldaccess_129029)(TY103012* C_129031, TY53523* N_129032, NU8 Flags_129035) {
TY53523* Result_132590;
TY52011* I_132614;
TY53545* F_132615;
TY53523* LOC7;
TY53523* LOC8;
TY53523* LOC9;
Result_132590 = 0;
Result_132590 = Builtinfieldaccess_132229(C_129031, N_129032, Flags_129035);
if (!(Result_132590 == NIM_NIL)) goto LA2;
I_132614 = 0;
I_132614 = Consideracc_121003((*N_129032).KindU.S6.Sons->data[1]);
F_132615 = 0;
F_132615 = Symtabget_57119((*C_129031).Tab, I_132614);
if (!!((F_132615 == NIM_NIL))) goto LA5;
Result_132590 = Newnodei_53735(((NU8) 19), (*N_129032).Info);
LOC7 = Newidentnode_53728(I_132614, (*N_129032).Info);
Addson_53821(Result_132590, LOC7);
LOC8 = HEX5BHEX5D_55072(N_129032, 0);
LOC9 = Copytree_53856(LOC8);
Addson_53821(Result_132590, LOC9);
goto LA4;
LA5: ;
Limessage_45562((*N_129032).Info, ((NU8) 77), (*I_132614).S);
LA4: ;
LA2: ;
return Result_132590;
}
N_NIMCALL(void, Checkconversionbetweenobjects_129171)(TY45532 Info_129173, TY53549* Castdest_129174, TY53549* Src_129175) {
NI Diff_129176;
NimStringDesc* LOC4;
TY111148 LOC5;
NimStringDesc* LOC6;
Diff_129176 = 0;
Diff_129176 = Inheritancediff_93119(Castdest_129174, Src_129175);
if (!(Diff_129176 == 2147483647)) goto LA2;
LOC4 = Msgkindtostring_45588(((NU8) 139));
LOC5[0] = Typetostring_93014(Src_129175, ((NU8) 0));
LOC5[1] = Typetostring_93014(Castdest_129174, ((NU8) 0));
LOC6 = nsuFormatOpenArray(LOC4, LOC5, 2);
Limessage_45562(Info_129173, ((NU8) 4), LOC6);
LA2: ;
}
N_NIMCALL(void, Checkconvertible_129183)(TY45532 Info_129185, TY53549* Castdest_129186, TY53549* Src_129187) {
NIM_BOOL LOC2;
NimStringDesc* LOC8;
TY53549* D_129202;
TY53549* S_129203;
NIM_BOOL LOC10;
NIM_BOOL LOC11;
NimStringDesc* LOC17;
TY111148 LOC18;
NimStringDesc* LOC19;
NIM_BOOL LOC21;
NIM_BOOL LOC25;
TY53549* LOC26;
TY53549* LOC28;
NU8 LOC31;
NIM_BOOL LOC33;
NIM_BOOL LOC34;
NIM_BOOL LOC36;
NimStringDesc* LOC39;
TY111148 LOC40;
NimStringDesc* LOC41;
LOC2 = Sametype_93048(Castdest_129186, Src_129187);
if (!LOC2) goto LA3;
if (!!(((*Castdest_129186).Kind >= ((NU8) 31) && (*Castdest_129186).Kind <= ((NU8) 39) || (*Castdest_129186).Kind == ((NU8) 5)))) goto LA6;
LOC8 = Typetostring_93014(Castdest_129186, ((NU8) 0));
Limessage_45562(Info_129185, ((NU8) 227), LOC8);
LA6: ;
goto BeforeRet;
LA3: ;
D_129202 = 0;
D_129202 = Skiptypes_93085(Castdest_129186, IL64(47428533575745536));
S_129203 = 0;
S_129203 = Skiptypes_93085(Src_129187, IL64(47428533575745536));
while (1) {
LOC11 = !((D_129202 == NIM_NIL));
if (!(LOC11)) goto LA12;
LOC11 = ((*D_129202).Kind == ((NU8) 21) || (*D_129202).Kind == ((NU8) 22));
LA12: ;
LOC10 = LOC11;
if (!(LOC10)) goto LA13;
LOC10 = ((*D_129202).Kind == (*S_129203).Kind);
LA13: ;
if (!LOC10) goto LA9;
D_129202 = Base_93021(D_129202);
S_129203 = Base_93021(S_129203);
} LA9: ;
if (!(D_129202 == NIM_NIL)) goto LA15;
LOC17 = Msgkindtostring_45588(((NU8) 139));
LOC18[0] = Typetostring_93014(Src_129187, ((NU8) 0));
LOC18[1] = Typetostring_93014(Castdest_129186, ((NU8) 0));
LOC19 = nsuFormatOpenArray(LOC17, LOC18, 2);
Limessage_45562(Info_129185, ((NU8) 4), LOC19);
LA15: ;
LOC21 = ((*D_129202).Kind == ((NU8) 17));
if (!(LOC21)) goto LA22;
LOC21 = ((*S_129203).Kind == ((NU8) 17));
LA22: ;
if (!LOC21) goto LA23;
Checkconversionbetweenobjects_129171(Info_129185, D_129202, S_129203);
goto LA20;
LA23: ;
LOC26 = Skiptypes_93085(Castdest_129186, IL64(47446125761789952));
LOC25 = ((*LOC26).Kind == ((NU8) 1) || (*LOC26).Kind == ((NU8) 14) || (*LOC26).Kind == ((NU8) 2) || (*LOC26).Kind >= ((NU8) 31) && (*LOC26).Kind <= ((NU8) 39));
if (!(LOC25)) goto LA27;
LOC28 = Skiptypes_93085(Src_129187, IL64(47446125761789952));
LOC25 = ((*LOC28).Kind == ((NU8) 1) || (*LOC28).Kind == ((NU8) 14) || (*LOC28).Kind == ((NU8) 2) || (*LOC28).Kind >= ((NU8) 31) && (*LOC28).Kind <= ((NU8) 39));
LA27: ;
if (!LOC25) goto LA29;
goto LA20;
LA29: ;
LOC31 = Cmptypes_124467(D_129202, S_129203);
switch (LOC31) {
case ((NU8) 0):
case ((NU8) 4):
LOC34 = Equalordistinctof_93056(Castdest_129186, Src_129187);
LOC33 = !(LOC34);
if (!(LOC33)) goto LA35;
LOC36 = Equalordistinctof_93056(Src_129187, Castdest_129186);
LOC33 = !(LOC36);
LA35: ;
if (!LOC33) goto LA37;
LOC39 = Msgkindtostring_45588(((NU8) 139));
LOC40[0] = Typetostring_93014(Src_129187, ((NU8) 0));
LOC40[1] = Typetostring_93014(Castdest_129186, ((NU8) 0));
LOC41 = nsuFormatOpenArray(LOC39, LOC40, 2);
Limessage_45562(Info_129185, ((NU8) 4), LOC41);
LA37: ;
break;
default:
break;
}
LA20: ;
BeforeRet: ;
}
N_NIMCALL(TY53523*, Semconv_129332)(TY103012* C_129334, TY53523* N_129335, TY53545* S_129336) {
TY53523* Result_129337;
NI LOC2;
TY53523* LOC5;
TY53523* LOC6;
TY53523* Op_129388;
NI I_129405;
NI HEX3Atmp_141930;
NI LOC10;
NI Res_141932;
NIM_BOOL LOC13;
Result_129337 = 0;
LOC2 = Sonslen_53801(N_129335);
if (!!((LOC2 == 2))) goto LA3;
Limessage_45562((*N_129335).Info, ((NU8) 157), ((NimStringDesc*) &TMP193928));
LA3: ;
Result_129337 = Newnodei_53735(((NU8) 50), (*N_129335).Info);
asgnRef((void**) &(*Result_129337).Typ, Semtypenode_121138(C_129334, (*N_129335).KindU.S6.Sons->data[0], NIM_NIL));
LOC5 = Copytree_53856((*N_129335).KindU.S6.Sons->data[0]);
Addson_53821(Result_129337, LOC5);
LOC6 = Semexprwithtype_121122(C_129334, (*N_129335).KindU.S6.Sons->data[1], 0);
Addson_53821(Result_129337, LOC6);
Op_129388 = 0;
Op_129388 = (*Result_129337).KindU.S6.Sons->data[1];
if (!!(((*Op_129388).Kind == ((NU8) 46)))) goto LA8;
Checkconvertible_129183((*Result_129337).Info, (*Result_129337).Typ, (*Op_129388).Typ);
goto LA7;
LA8: ;
I_129405 = 0;
HEX3Atmp_141930 = 0;
LOC10 = Sonslen_53801(Op_129388);
HEX3Atmp_141930 = (NI32)(LOC10 - 1);
Res_141932 = 0;
Res_141932 = 0;
while (1) {
if (!(Res_141932 <= HEX3Atmp_141930)) goto LA11;
I_129405 = Res_141932;
LOC13 = Sametype_93048((*Result_129337).Typ, (*(*Op_129388).KindU.S6.Sons->data[I_129405]).Typ);
if (!LOC13) goto LA14;
Markused_121065(N_129335, (*(*Op_129388).KindU.S6.Sons->data[I_129405]).KindU.S4.Sym);
Result_129337 = (*Op_129388).KindU.S6.Sons->data[I_129405];
goto BeforeRet;
LA14: ;
Res_141932 += 1;
} LA11: ;
Limessage_45562((*N_129335).Info, ((NU8) 59), (*(*(*(*Op_129388).KindU.S6.Sons->data[0]).KindU.S4.Sym).Name).S);
LA7: ;
BeforeRet: ;
return Result_129337;
}
N_NIMCALL(void, Semopaux_129786)(TY103012* C_129788, TY53523* N_129789) {
NI I_129797;
NI HEX3Atmp_141937;
NI LOC1;
NI Res_141939;
TY53523* A_129810;
TY45532 Info_129832;
TY52011* LOC6;
I_129797 = 0;
HEX3Atmp_141937 = 0;
LOC1 = Sonslen_53801(N_129789);
HEX3Atmp_141937 = (NI32)(LOC1 - 1);
Res_141939 = 0;
Res_141939 = 1;
while (1) {
if (!(Res_141939 <= HEX3Atmp_141937)) goto LA2;
I_129797 = Res_141939;
A_129810 = 0;
A_129810 = (*N_129789).KindU.S6.Sons->data[I_129797];
if (!((*A_129810).Kind == ((NU8) 23))) goto LA4;
Checksonslen_103099(A_129810, 2);
memset((void*)&Info_129832, 0, sizeof(Info_129832));
Info_129832 = (*(*A_129810).KindU.S6.Sons->data[0]).Info;
LOC6 = Consideracc_121003((*A_129810).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*A_129810).KindU.S6.Sons->data[0], Newidentnode_53728(LOC6, Info_129832));
asgnRefNoCycle((void**) &(*A_129810).KindU.S6.Sons->data[1], Semexprwithtype_121122(C_129788, (*A_129810).KindU.S6.Sons->data[1], 0));
asgnRef((void**) &(*A_129810).Typ, (*(*A_129810).KindU.S6.Sons->data[1]).Typ);
goto LA3;
LA4: ;
asgnRefNoCycle((void**) &(*N_129789).KindU.S6.Sons->data[I_129797], Semexprwithtype_121122(C_129788, A_129810, 0));
LA3: ;
Res_141939 += 1;
} LA2: ;
}
N_NIMCALL(TY53523*, Overloadedcallopr_129905)(TY103012* C_129907, TY53523* N_129908) {
TY53523* Result_129909;
TY52011* Par_129910;
TY53545* LOC2;
TY53523* LOC5;
NI I_129929;
NI HEX3Atmp_141943;
NI LOC6;
NI Res_141945;
Result_129909 = 0;
Par_129910 = 0;
Par_129910 = Getident_52016(((NimStringDesc*) &TMP194197));
LOC2 = Symtabget_57119((*C_129907).Tab, Par_129910);
if (!(LOC2 == NIM_NIL)) goto LA3;
Result_129909 = NIM_NIL;
goto LA1;
LA3: ;
Result_129909 = Newnodei_53735(((NU8) 21), (*N_129908).Info);
LOC5 = Newidentnode_53728(Par_129910, (*N_129908).Info);
Addson_53821(Result_129909, LOC5);
I_129929 = 0;
HEX3Atmp_141943 = 0;
LOC6 = Sonslen_53801(N_129908);
HEX3Atmp_141943 = (NI32)(LOC6 - 1);
Res_141945 = 0;
Res_141945 = 0;
while (1) {
if (!(Res_141945 <= HEX3Atmp_141943)) goto LA7;
I_129929 = Res_141945;
Addson_53821(Result_129909, (*N_129908).KindU.S6.Sons->data[I_129929]);
Res_141945 += 1;
} LA7: ;
Result_129909 = Semexpr_121115(C_129907, Result_129909, 0);
LA1: ;
return Result_129909;
}
N_NIMCALL(NimStringDesc*, Getnotfounderror_123247)(TY103012* C_123249, TY53523* N_123250) {
NimStringDesc* Result_123251;
NI I_123259;
NI HEX3Atmp_125853;
NI LOC1;
NI Res_125855;
NimStringDesc* LOC3;
NI LOC5;
NimStringDesc* Candidates_123274;
TY104004 O_123275;
TY53545* Sym_123289;
NimStringDesc* LOC12;
NimStringDesc* LOC16;
NimStringDesc* LOC17;
Result_123251 = 0;
Result_123251 = Msgkindtostring_45588(((NU8) 126));
I_123259 = 0;
HEX3Atmp_125853 = 0;
LOC1 = Sonslen_53801(N_123250);
HEX3Atmp_125853 = (NI32)(LOC1 - 1);
Res_125855 = 0;
Res_125855 = 1;
while (1) {
if (!(Res_125855 <= HEX3Atmp_125853)) goto LA2;
I_123259 = Res_125855;
LOC3 = Typetostring_93014((*(*N_123250).KindU.S6.Sons->data[I_123259]).Typ, ((NU8) 0));
Result_123251 = resizeString(Result_123251, LOC3->Sup.len + 0);
appendString(Result_123251, LOC3);
LOC5 = Sonslen_53801(N_123250);
if (!!((I_123259 == (NI32)(LOC5 - 1)))) goto LA6;
Result_123251 = resizeString(Result_123251, 2);
appendString(Result_123251, ((NimStringDesc*) &TMP194198));
LA6: ;
Res_125855 += 1;
} LA2: ;
Result_123251 = addChar(Result_123251, 41);
Candidates_123274 = 0;
Candidates_123274 = copyString(((NimStringDesc*) &TMP193928));
memset((void*)&O_123275, 0, sizeof(O_123275));
Sym_123289 = 0;
Sym_123289 = Initoverloaditer_104058(&O_123275, C_123249, (*N_123250).KindU.S6.Sons->data[0]);
while (1) {
if (!!((Sym_123289 == NIM_NIL))) goto LA8;
if (!((1966080 &(1<<(((*Sym_123289).Kind)&31)))!=0)) goto LA10;
LOC12 = Getprocheader_93018(Sym_123289);
Candidates_123274 = resizeString(Candidates_123274, LOC12->Sup.len + 0);
appendString(Candidates_123274, LOC12);
Candidates_123274 = resizeString(Candidates_123274, 1);
appendString(Candidates_123274, ((NimStringDesc*) &TMP194199));
LA10: ;
Sym_123289 = Nextoverloaditer_104064(&O_123275, C_123249, (*N_123250).KindU.S6.Sons->data[0]);
} LA8: ;
if (!!(((Candidates_123274) && (Candidates_123274)->Sup.len == 0))) goto LA14;
LOC17 = Msgkindtostring_45588(((NU8) 127));
LOC16 = rawNewString(LOC17->Sup.len + Candidates_123274->Sup.len + 2);
appendString(LOC16, ((NimStringDesc*) &TMP194199));
appendString(LOC16, LOC17);
appendString(LOC16, ((NimStringDesc*) &TMP194199));
appendString(LOC16, Candidates_123274);
Result_123251 = resizeString(Result_123251, LOC16->Sup.len + 0);
appendString(Result_123251, LOC16);
LA14: ;
return Result_123251;
}
N_NIMCALL(TY53523*, Semdirectop_131590)(TY103012* C_131592, TY53523* N_131593, NU8 Flags_131594) {
TY53523* Result_131595;
NimStringDesc* LOC7;
Result_131595 = 0;
Semopaux_129786(C_131592, N_131593);
Result_131595 = Semdirectcallanalyseeffects_131107(C_131592, N_131593, Flags_131594);
if (!(Result_131595 == NIM_NIL)) goto LA2;
Result_131595 = Overloadedcallopr_129905(C_131592, N_131593);
if (!(Result_131595 == NIM_NIL)) goto LA5;
LOC7 = Getnotfounderror_123247(C_131592, N_131593);
Limessage_45562((*N_131593).Info, ((NU8) 4), LOC7);
LA5: ;
LA2: ;
Fixabstracttype_130233(C_131592, Result_131595);
Analyseifaddresstakenincall_130937(C_131592, Result_131595);
return Result_131595;
}
N_NIMCALL(TY53545*, Lookupfordefined_131657)(TY103012* C_131659, TY53523* N_131660, NIM_BOOL Onlycurrentscope_131661) {
TY53545* Result_131662;
TY53545* M_131699;
NIM_BOOL LOC8;
TY52011* Ident_131765;
NimStringDesc* LOC18;
Result_131662 = 0;
switch ((*N_131660).Kind) {
case ((NU8) 2):
if (!Onlycurrentscope_131661) goto LA2;
Result_131662 = Symtablocalget_57123((*C_131659).Tab, (*N_131660).KindU.S5.Ident);
goto LA1;
LA2: ;
Result_131662 = Symtabget_57119((*C_131659).Tab, (*N_131660).KindU.S5.Ident);
LA1: ;
break;
case ((NU8) 36):
Result_131662 = NIM_NIL;
if (!Onlycurrentscope_131661) goto LA5;
goto BeforeRet;
LA5: ;
Checksonslen_103099(N_131660, 2);
M_131699 = 0;
M_131699 = Lookupfordefined_131657(C_131659, (*N_131660).KindU.S6.Sons->data[0], Onlycurrentscope_131661);
LOC8 = !((M_131699 == NIM_NIL));
if (!(LOC8)) goto LA9;
LOC8 = ((*M_131699).Kind == ((NU8) 18));
LA9: ;
if (!LOC8) goto LA10;
if (!((*(*N_131660).KindU.S6.Sons->data[1]).Kind == ((NU8) 2))) goto LA13;
Ident_131765 = 0;
Ident_131765 = (*(*N_131660).KindU.S6.Sons->data[1]).KindU.S5.Ident;
if (!(M_131699 == (*C_131659).Module)) goto LA16;
Result_131662 = Strtableget_57069(&(*C_131659).Tab.Stack->data[1], Ident_131765);
goto LA15;
LA16: ;
Result_131662 = Strtableget_57069(&(*M_131699).Tab, Ident_131765);
LA15: ;
goto LA12;
LA13: ;
Limessage_45562((*(*N_131660).KindU.S6.Sons->data[1]).Info, ((NU8) 19), ((NimStringDesc*) &TMP193928));
LA12: ;
LA10: ;
break;
case ((NU8) 43):
Checksonslen_103099(N_131660, 1);
Result_131662 = Lookupfordefined_131657(C_131659, (*N_131660).KindU.S6.Sons->data[0], Onlycurrentscope_131661);
break;
default:
LOC18 = Rendertree_81042(N_131660, 0);
Limessage_45562((*N_131660).Info, ((NU8) 19), LOC18);
Result_131662 = NIM_NIL;
break;
}
BeforeRet: ;
return Result_131662;
}
N_NIMCALL(TY53523*, Semdefined_131799)(TY103012* C_131801, TY53523* N_131802, NIM_BOOL Onlycurrentscope_131803) {
TY53523* Result_131804;
TY53545* LOC2;
NIM_BOOL LOC5;
NIM_BOOL LOC6;
Result_131804 = 0;
Checksonslen_103099(N_131802, 2);
Result_131804 = Newintnode_53711(((NU8) 6), 0);
LOC2 = Lookupfordefined_131657(C_131801, (*N_131802).KindU.S6.Sons->data[1], Onlycurrentscope_131803);
if (!!((LOC2 == NIM_NIL))) goto LA3;
(*Result_131804).KindU.S1.Intval = 1;
goto LA1;
LA3: ;
LOC6 = !(Onlycurrentscope_131803);
if (!(LOC6)) goto LA7;
LOC6 = ((*(*N_131802).KindU.S6.Sons->data[1]).Kind == ((NU8) 2));
LA7: ;
LOC5 = LOC6;
if (!(LOC5)) goto LA8;
LOC5 = Isdefined_61059((*(*N_131802).KindU.S6.Sons->data[1]).KindU.S5.Ident);
LA8: ;
if (!LOC5) goto LA9;
(*Result_131804).KindU.S1.Intval = 1;
goto LA1;
LA9: ;
LA1: ;
(*Result_131804).Info = (*N_131802).Info;
asgnRef((void**) &(*Result_131804).Typ, Getsystype_98008(((NU8) 1)));
return Result_131804;
}
N_NIMCALL(TY53523*, Setms_131897)(TY53523* N_131899, TY53545* S_131900) {
TY53523* Result_131901;
Result_131901 = 0;
Result_131901 = N_131899;
asgnRefNoCycle((void**) &(*N_131899).KindU.S6.Sons->data[0], Newsymnode_53732(S_131900));
(*(*N_131899).KindU.S6.Sons->data[0]).Info = (*N_131899).Info;
return Result_131901;
}
N_NIMCALL(TY53523*, Semlowhigh_129554)(TY103012* C_129556, TY53523* N_129557, NU8 M_129558) {
TY53523* Result_129559;
NI LOC2;
TY53549* Typ_129604;
Result_129559 = 0;
LOC2 = Sonslen_53801(N_129557);
if (!!((LOC2 == 2))) goto LA3;
Limessage_45562((*N_129557).Info, ((NU8) 66), Optostr_129560[(M_129558)-3]);
goto LA1;
LA3: ;
asgnRefNoCycle((void**) &(*N_129557).KindU.S6.Sons->data[1], Semexprwithtype_121122(C_129556, (*N_129557).KindU.S6.Sons->data[1], 1));
Typ_129604 = 0;
Typ_129604 = Skiptypes_93085((*(*N_129557).KindU.S6.Sons->data[1]).Typ, IL64(47446125761789952));
switch ((*Typ_129604).Kind) {
case ((NU8) 24):
case ((NU8) 28):
case ((NU8) 27):
asgnRef((void**) &(*N_129557).Typ, Getsystype_98008(((NU8) 31)));
break;
case ((NU8) 4):
case ((NU8) 16):
asgnRef((void**) &(*N_129557).Typ, (*(*(*N_129557).KindU.S6.Sons->data[1]).Typ).Sons->data[0]);
break;
case ((NU8) 31) ... ((NU8) 35):
case ((NU8) 2):
case ((NU8) 1):
case ((NU8) 14):
asgnRef((void**) &(*N_129557).Typ, (*(*N_129557).KindU.S6.Sons->data[1]).Typ);
break;
default:
Limessage_45562((*N_129557).Info, ((NU8) 64), Optostr_129560[(M_129558)-3]);
break;
}
LA1: ;
Result_129559 = N_129557;
return Result_129559;
}
N_NIMCALL(TY53523*, Semsizeof_129629)(TY103012* C_129631, TY53523* N_129632) {
TY53523* Result_129633;
NI LOC2;
Result_129633 = 0;
LOC2 = Sonslen_53801(N_129632);
if (!!((LOC2 == 2))) goto LA3;
Limessage_45562((*N_129632).Info, ((NU8) 66), ((NimStringDesc*) &TMP194202));
goto LA1;
LA3: ;
asgnRefNoCycle((void**) &(*N_129632).KindU.S6.Sons->data[1], Semexprwithtype_121122(C_129631, (*N_129632).KindU.S6.Sons->data[1], 1));
LA1: ;
asgnRef((void**) &(*N_129632).Typ, Getsystype_98008(((NU8) 31)));
Result_129633 = N_129632;
return Result_129633;
}
N_NIMCALL(TY53523*, Semis_129661)(TY103012* C_129663, TY53523* N_129664) {
TY53523* Result_129665;
NI LOC2;
TY53549* A_129730;
TY53549* B_129743;
NIM_BOOL LOC6;
NIM_BOOL LOC11;
NimStringDesc* LOC16;
Result_129665 = 0;
LOC2 = Sonslen_53801(N_129664);
if (!(LOC2 == 3)) goto LA3;
asgnRefNoCycle((void**) &(*N_129664).KindU.S6.Sons->data[1], Semexprwithtype_121122(C_129663, (*N_129664).KindU.S6.Sons->data[1], 1));
asgnRefNoCycle((void**) &(*N_129664).KindU.S6.Sons->data[2], Semexprwithtype_121122(C_129663, (*N_129664).KindU.S6.Sons->data[2], 1));
A_129730 = 0;
A_129730 = (*(*N_129664).KindU.S6.Sons->data[1]).Typ;
B_129743 = 0;
B_129743 = (*(*N_129664).KindU.S6.Sons->data[2]).Typ;
LOC6 = !(((*B_129743).Kind == ((NU8) 17)));
if (LOC6) goto LA7;
LOC6 = !(((*A_129730).Kind == ((NU8) 17)));
LA7: ;
if (!LOC6) goto LA8;
Limessage_45562((*N_129664).Info, ((NU8) 192), ((NimStringDesc*) &TMP193928));
LA8: ;
while (1) {
LOC11 = !((B_129743 == NIM_NIL));
if (!(LOC11)) goto LA12;
LOC11 = !(((*B_129743).Sup.Id == (*A_129730).Sup.Id));
LA12: ;
if (!LOC11) goto LA10;
B_129743 = (*B_129743).Sons->data[0];
} LA10: ;
if (!(B_129743 == NIM_NIL)) goto LA14;
LOC16 = Typetostring_93014(A_129730, ((NU8) 0));
Limessage_45562((*N_129664).Info, ((NU8) 193), LOC16);
LA14: ;
asgnRef((void**) &(*N_129664).Typ, Getsystype_98008(((NU8) 1)));
goto LA1;
LA3: ;
Limessage_45562((*N_129664).Info, ((NU8) 191), ((NimStringDesc*) &TMP193928));
LA1: ;
Result_129665 = N_129664;
return Result_129665;
}
N_NIMCALL(TY53523*, Semecho_131618)(TY103012* C_131620, TY53523* N_131621) {
TY53523* Result_131622;
NI I_131630;
NI HEX3Atmp_142003;
NI LOC1;
NI Res_142005;
TY53523* Arg_131643;
TY53523* Call_131644;
TY52011* LOC3;
TY53523* LOC4;
Result_131622 = 0;
Checkminsonslen_103103(N_131621, 1);
I_131630 = 0;
HEX3Atmp_142003 = 0;
LOC1 = Sonslen_53801(N_131621);
HEX3Atmp_142003 = (NI32)(LOC1 - 1);
Res_142005 = 0;
Res_142005 = 1;
while (1) {
if (!(Res_142005 <= HEX3Atmp_142003)) goto LA2;
I_131630 = Res_142005;
Arg_131643 = 0;
Arg_131643 = Semexprwithtype_121122(C_131620, (*N_131621).KindU.S6.Sons->data[I_131630], 0);
Call_131644 = 0;
Call_131644 = Newnodei_53735(((NU8) 21), (*Arg_131643).Info);
LOC3 = Getident_52016(((NimStringDesc*) &TMP194203));
LOC4 = Newidentnode_53728(LOC3, (*N_131621).Info);
Addson_53821(Call_131644, LOC4);
Addson_53821(Call_131644, Arg_131643);
asgnRefNoCycle((void**) &(*N_131621).KindU.S6.Sons->data[I_131630], Semexpr_121115(C_131620, Call_131644, 0));
Res_142005 += 1;
} LA2: ;
Result_131622 = N_131621;
return Result_131622;
}
N_NIMCALL(TY53523*, Semmagic_131926)(TY103012* C_131928, TY53523* N_131929, TY53545* S_131930, NU8 Flags_131931) {
TY53523* Result_131932;
TY53523* LOC1;
TY53523* LOC2;
TY53523* LOC3;
TY53523* LOC4;
TY53523* LOC5;
TY53523* LOC6;
TY53523* LOC7;
Result_131932 = 0;
Result_131932 = N_131929;
switch ((*S_131930).Magic) {
case ((NU8) 1):
LOC1 = Setms_131897(N_131929, S_131930);
Result_131932 = Semdefined_131799(C_131928, LOC1, NIM_FALSE);
break;
case ((NU8) 2):
LOC2 = Setms_131897(N_131929, S_131930);
Result_131932 = Semdefined_131799(C_131928, LOC2, NIM_TRUE);
break;
case ((NU8) 3):
LOC3 = Setms_131897(N_131929, S_131930);
Result_131932 = Semlowhigh_129554(C_131928, LOC3, ((NU8) 3));
break;
case ((NU8) 4):
LOC4 = Setms_131897(N_131929, S_131930);
Result_131932 = Semlowhigh_129554(C_131928, LOC4, ((NU8) 4));
break;
case ((NU8) 5):
LOC5 = Setms_131897(N_131929, S_131930);
Result_131932 = Semsizeof_129629(C_131928, LOC5);
break;
case ((NU8) 6):
LOC6 = Setms_131897(N_131929, S_131930);
Result_131932 = Semis_129661(C_131928, LOC6);
break;
case ((NU8) 7):
LOC7 = Setms_131897(N_131929, S_131930);
Result_131932 = Semecho_131618(C_131928, LOC7);
break;
default:
Result_131932 = Semdirectop_131590(C_131928, N_131929, Flags_131931);
break;
}
return Result_131932;
}
N_NIMCALL(TY53523*, Semindirectop_131252)(TY103012* C_131254, TY53523* N_131255, NU8 Flags_131256) {
TY53523* Result_131257;
TY53523* Prc_131270;
NI I_131368;
NI HEX3Atmp_141991;
NI LOC7;
NI Res_141993;
TY53549* T_131405;
NIM_BOOL LOC13;
TY123058 M_131461;
NimStringDesc* Msg_131473;
NI I_131481;
NI HEX3Atmp_141997;
NI LOC20;
NI Res_141999;
NimStringDesc* LOC25;
NimStringDesc* LOC26;
NimStringDesc* LOC27;
NimStringDesc* LOC28;
NimStringDesc* LOC38;
Result_131257 = 0;
Result_131257 = NIM_NIL;
Prc_131270 = 0;
Prc_131270 = (*N_131255).KindU.S6.Sons->data[0];
Checkminsonslen_103103(N_131255, 1);
if (!((*(*N_131255).KindU.S6.Sons->data[0]).Kind == ((NU8) 36))) goto LA2;
Checksonslen_103099((*N_131255).KindU.S6.Sons->data[0], 2);
asgnRefNoCycle((void**) &(*N_131255).KindU.S6.Sons->data[0], Semfieldaccess_129029(C_131254, (*N_131255).KindU.S6.Sons->data[0], 0));
if (!((*(*N_131255).KindU.S6.Sons->data[0]).Kind == ((NU8) 19))) goto LA5;
Result_131257 = (*N_131255).KindU.S6.Sons->data[0];
(*Result_131257).Kind = ((NU8) 21);
I_131368 = 0;
HEX3Atmp_141991 = 0;
LOC7 = Sonslen_53801(N_131255);
HEX3Atmp_141991 = (NI32)(LOC7 - 1);
Res_141993 = 0;
Res_141993 = 1;
while (1) {
if (!(Res_141993 <= HEX3Atmp_141991)) goto LA8;
I_131368 = Res_141993;
Addson_53821(Result_131257, (*N_131255).KindU.S6.Sons->data[I_131368]);
Res_141993 += 1;
} LA8: ;
Result_131257 = Semexpr_121115(C_131254, Result_131257, Flags_131256);
goto BeforeRet;
LA5: ;
goto LA1;
LA2: ;
asgnRefNoCycle((void**) &(*N_131255).KindU.S6.Sons->data[0], Semexpr_121115(C_131254, (*N_131255).KindU.S6.Sons->data[0], 0));
LA1: ;
Semopaux_129786(C_131254, N_131255);
T_131405 = 0;
T_131405 = NIM_NIL;
if (!!(((*(*N_131255).KindU.S6.Sons->data[0]).Typ == NIM_NIL))) goto LA10;
T_131405 = Skiptypes_93085((*(*N_131255).KindU.S6.Sons->data[0]).Typ, IL64(47287796087390208));
LA10: ;
LOC13 = !((T_131405 == NIM_NIL));
if (!(LOC13)) goto LA14;
LOC13 = ((*T_131405).Kind == ((NU8) 25));
LA14: ;
if (!LOC13) goto LA15;
memset((void*)&M_131461, 0, sizeof(M_131461));
Initcandidate_123086(&M_131461, T_131405);
Matches_124970(C_131254, N_131255, &M_131461);
if (!!((M_131461.State == ((NU8) 1)))) goto LA18;
Msg_131473 = 0;
Msg_131473 = Msgkindtostring_45588(((NU8) 126));
I_131481 = 0;
HEX3Atmp_141997 = 0;
LOC20 = Sonslen_53801(N_131255);
HEX3Atmp_141997 = (NI32)(LOC20 - 1);
Res_141999 = 0;
Res_141999 = 1;
while (1) {
if (!(Res_141999 <= HEX3Atmp_141997)) goto LA21;
I_131481 = Res_141999;
if (!(1 < I_131481)) goto LA23;
Msg_131473 = resizeString(Msg_131473, 2);
appendString(Msg_131473, ((NimStringDesc*) &TMP194198));
LA23: ;
LOC25 = Typetostring_93014((*(*N_131255).KindU.S6.Sons->data[I_131481]).Typ, ((NU8) 0));
Msg_131473 = resizeString(Msg_131473, LOC25->Sup.len + 0);
appendString(Msg_131473, LOC25);
Res_141999 += 1;
} LA21: ;
LOC27 = Msgkindtostring_45588(((NU8) 127));
LOC28 = Typetostring_93014((*(*N_131255).KindU.S6.Sons->data[0]).Typ, ((NU8) 0));
LOC26 = rawNewString(LOC27->Sup.len + LOC28->Sup.len + 3);
appendString(LOC26, ((NimStringDesc*) &TMP194204));
appendString(LOC26, LOC27);
appendString(LOC26, ((NimStringDesc*) &TMP194199));
appendString(LOC26, LOC28);
Msg_131473 = resizeString(Msg_131473, LOC26->Sup.len + 0);
appendString(Msg_131473, LOC26);
Limessage_45562((*N_131255).Info, ((NU8) 4), Msg_131473);
Result_131257 = NIM_NIL;
goto LA17;
LA18: ;
Result_131257 = M_131461.Call;
LA17: ;
if (!!((((*T_131405).Flags &(1<<((((NU8) 1))&7)))!=0))) goto LA30;
(*(*(*C_131254).P).Owner).Flags |=(1<<((NI32)(((NU8) 14))%(sizeof(NI32)*8)));
LA30: ;
goto LA12;
LA15: ;
Result_131257 = Overloadedcallopr_129905(C_131254, N_131255);
if (!(Result_131257 == NIM_NIL)) goto LA33;
asgnRefNoCycle((void**) &(*N_131255).KindU.S6.Sons->data[0], Prc_131270);
Result_131257 = Semdirectcallanalyseeffects_131107(C_131254, N_131255, Flags_131256);
LA33: ;
if (!(Result_131257 == NIM_NIL)) goto LA36;
LOC38 = Rendertree_81042(N_131255, 4);
Limessage_45562((*N_131255).Info, ((NU8) 85), LOC38);
LA36: ;
LA12: ;
Fixabstracttype_130233(C_131254, Result_131257);
Analyseifaddresstakenincall_130937(C_131254, Result_131257);
BeforeRet: ;
return Result_131257;
}
N_NIMCALL(TY53523*, Partialspecialization_123017)(TY103012* C_123019, TY53523* N_123020, TY53545* S_123021) {
TY53523* Result_123022;
NI I_123030;
NI HEX3Atmp_125841;
NI LOC1;
NI Res_125843;
Result_123022 = 0;
I_123030 = 0;
HEX3Atmp_125841 = 0;
LOC1 = Sonslen_53801(N_123020);
HEX3Atmp_125841 = (NI32)(LOC1 - 1);
Res_125843 = 0;
Res_125843 = 1;
while (1) {
if (!(Res_125843 <= HEX3Atmp_125841)) goto LA2;
I_123030 = Res_125843;
asgnRef((void**) &(*(*N_123020).KindU.S6.Sons->data[I_123030]).Typ, Semtypenode_121138(C_123019, (*N_123020).KindU.S6.Sons->data[I_123030], NIM_NIL));
Res_125843 += 1;
} LA2: ;
Result_123022 = N_123020;
return Result_123022;
}
N_NIMCALL(TY53523*, Semarrayaccess_133048)(TY103012* C_133050, TY53523* N_133051, NU8 Flags_133052) {
TY53523* Result_133053;
TY53523* LOC4;
Result_133053 = 0;
Result_133053 = Semsubscript_132778(C_133050, N_133051, Flags_133052);
if (!(Result_133053 == NIM_NIL)) goto LA2;
LOC4 = Buildoverloadedsubscripts_132738(N_133051, NIM_FALSE);
Result_133053 = Semexpr_121115(C_133050, LOC4, 0);
LA2: ;
return Result_133053;
}
N_NIMCALL(NU8, Checkpar_133769)(TY53523* N_133771) {
NU8 Result_133772;
NI Length_133773;
NI I_133806;
NI HEX3Atmp_142073;
NI Res_142075;
NIM_BOOL LOC14;
Result_133772 = 0;
Length_133773 = 0;
Length_133773 = Sonslen_53801(N_133771);
if (!(Length_133773 == 0)) goto LA2;
Result_133772 = ((NU8) 3);
goto LA1;
LA2: ;
if (!(Length_133773 == 1)) goto LA4;
Result_133772 = ((NU8) 1);
goto LA1;
LA4: ;
if (!((*(*N_133771).KindU.S6.Sons->data[0]).Kind == ((NU8) 24))) goto LA7;
Result_133772 = ((NU8) 2);
goto LA6;
LA7: ;
Result_133772 = ((NU8) 3);
LA6: ;
I_133806 = 0;
HEX3Atmp_142073 = 0;
HEX3Atmp_142073 = (NI32)(Length_133773 - 1);
Res_142075 = 0;
Res_142075 = 0;
while (1) {
if (!(Res_142075 <= HEX3Atmp_142073)) goto LA9;
I_133806 = Res_142075;
if (!(Result_133772 == ((NU8) 2))) goto LA11;
LOC14 = !(((*(*N_133771).KindU.S6.Sons->data[I_133806]).Kind == ((NU8) 24)));
if (LOC14) goto LA15;
LOC14 = !(((*(*(*N_133771).KindU.S6.Sons->data[I_133806]).KindU.S6.Sons->data[0]).Kind == ((NU8) 3) || (*(*(*N_133771).KindU.S6.Sons->data[I_133806]).KindU.S6.Sons->data[0]).Kind == ((NU8) 2)));
LA15: ;
if (!LOC14) goto LA16;
Limessage_45562((*(*N_133771).KindU.S6.Sons->data[I_133806]).Info, ((NU8) 167), ((NimStringDesc*) &TMP193928));
Result_133772 = ((NU8) 0);
goto BeforeRet;
LA16: ;
goto LA10;
LA11: ;
if (!((*(*N_133771).KindU.S6.Sons->data[I_133806]).Kind == ((NU8) 24))) goto LA19;
Limessage_45562((*(*N_133771).KindU.S6.Sons->data[I_133806]).Info, ((NU8) 168), ((NimStringDesc*) &TMP193928));
Result_133772 = ((NU8) 0);
goto BeforeRet;
LA19: ;
LA10: ;
Res_142075 += 1;
} LA9: ;
LA1: ;
BeforeRet: ;
return Result_133772;
}
N_NIMCALL(TY53523*, Semtuplepositionsconstr_134255)(TY103012* C_134257, TY53523* N_134258) {
TY53523* Result_134259;
TY53549* Typ_134260;
NI I_134268;
NI HEX3Atmp_142085;
NI LOC1;
NI Res_142087;
Result_134259 = 0;
Result_134259 = N_134258;
Typ_134260 = 0;
Typ_134260 = Newtypes_103077(((NU8) 18), C_134257);
I_134268 = 0;
HEX3Atmp_142085 = 0;
LOC1 = Sonslen_53801(N_134258);
HEX3Atmp_142085 = (NI32)(LOC1 - 1);
Res_142087 = 0;
Res_142087 = 0;
while (1) {
if (!(Res_142087 <= HEX3Atmp_142085)) goto LA2;
I_134268 = Res_142087;
asgnRefNoCycle((void**) &(*N_134258).KindU.S6.Sons->data[I_134268], Semexprwithtype_121122(C_134257, (*N_134258).KindU.S6.Sons->data[I_134268], 0));
Addson_53825(Typ_134260, (*(*N_134258).KindU.S6.Sons->data[I_134268]).Typ);
Res_142087 += 1;
} LA2: ;
asgnRef((void**) &(*Result_134259).Typ, Typ_134260);
return Result_134259;
}
N_NIMCALL(TY53523*, Semtuplefieldsconstr_133918)(TY103012* C_133920, TY53523* N_133921) {
TY53523* Result_133922;
TY53898 Ids_133923;
TY53549* Typ_133924;
NI I_133933;
NI HEX3Atmp_142079;
NI LOC1;
NI Res_142081;
NIM_BOOL LOC4;
TY52011* Id_134003;
NIM_BOOL LOC12;
TY53545* F_134194;
TY53523* LOC15;
Result_133922 = 0;
memset((void*)&Ids_133923, 0, sizeof(Ids_133923));
Result_133922 = Newnodei_53735(((NU8) 30), (*N_133921).Info);
Typ_133924 = 0;
Typ_133924 = Newtypes_103077(((NU8) 18), C_133920);
asgnRefNoCycle((void**) &(*Typ_133924).N, Newnodei_53735(((NU8) 113), (*N_133921).Info));
Intsetinit_53922(&Ids_133923);
I_133933 = 0;
HEX3Atmp_142079 = 0;
LOC1 = Sonslen_53801(N_133921);
HEX3Atmp_142079 = (NI32)(LOC1 - 1);
Res_142081 = 0;
Res_142081 = 0;
while (1) {
if (!(Res_142081 <= HEX3Atmp_142079)) goto LA2;
I_133933 = Res_142081;
LOC4 = !(((*(*N_133921).KindU.S6.Sons->data[I_133933]).Kind == ((NU8) 24)));
if (LOC4) goto LA5;
LOC4 = !(((*(*(*N_133921).KindU.S6.Sons->data[I_133933]).KindU.S6.Sons->data[0]).Kind == ((NU8) 3) || (*(*(*N_133921).KindU.S6.Sons->data[I_133933]).KindU.S6.Sons->data[0]).Kind == ((NU8) 2)));
LA5: ;
if (!LOC4) goto LA6;
Illformedast_103092((*N_133921).KindU.S6.Sons->data[I_133933]);
LA6: ;
Id_134003 = 0;
if (!((*(*(*N_133921).KindU.S6.Sons->data[I_133933]).KindU.S6.Sons->data[0]).Kind == ((NU8) 2))) goto LA9;
Id_134003 = (*(*(*N_133921).KindU.S6.Sons->data[I_133933]).KindU.S6.Sons->data[0]).KindU.S5.Ident;
goto LA8;
LA9: ;
Id_134003 = (*(*(*(*N_133921).KindU.S6.Sons->data[I_133933]).KindU.S6.Sons->data[0]).KindU.S4.Sym).Name;
LA8: ;
LOC12 = Intsetcontainsorincl_53926(&Ids_133923, (*Id_134003).Sup.Id);
if (!LOC12) goto LA13;
Limessage_45562((*(*N_133921).KindU.S6.Sons->data[I_133933]).Info, ((NU8) 83), (*Id_134003).S);
LA13: ;
asgnRefNoCycle((void**) &(*(*N_133921).KindU.S6.Sons->data[I_133933]).KindU.S6.Sons->data[1], Semexprwithtype_121122(C_133920, (*(*N_133921).KindU.S6.Sons->data[I_133933]).KindU.S6.Sons->data[1], 0));
F_134194 = 0;
F_134194 = Newsyms_121059(((NU8) 15), (*(*N_133921).KindU.S6.Sons->data[I_133933]).KindU.S6.Sons->data[0], C_133920);
asgnRef((void**) &(*F_134194).Typ, (*(*(*N_133921).KindU.S6.Sons->data[I_133933]).KindU.S6.Sons->data[1]).Typ);
Addson_53825(Typ_133924, (*F_134194).Typ);
LOC15 = Newsymnode_53732(F_134194);
Addson_53821((*Typ_133924).N, LOC15);
asgnRefNoCycle((void**) &(*(*N_133921).KindU.S6.Sons->data[I_133933]).KindU.S6.Sons->data[0], Newsymnode_53732(F_134194));
Addson_53821(Result_133922, (*N_133921).KindU.S6.Sons->data[I_133933]);
Res_142081 += 1;
} LA2: ;
asgnRef((void**) &(*Result_133922).Typ, Typ_133924);
return Result_133922;
}
N_NIMCALL(TY53523*, Semsetconstr_133394)(TY103012* C_133396, TY53523* N_133397) {
TY53523* Result_133398;
NI LOC2;
TY53549* LOC5;
TY53549* Typ_133401;
NI I_133409;
NI HEX3Atmp_142061;
NI LOC6;
NI Res_142063;
NIM_BOOL LOC18;
NI64 LOC22;
NI I_133668;
NI HEX3Atmp_142067;
NI LOC25;
NI Res_142069;
TY53523* M_133669;
TY53523* LOC30;
TY53523* LOC31;
Result_133398 = 0;
Result_133398 = Newnodei_53735(((NU8) 31), (*N_133397).Info);
asgnRef((void**) &(*Result_133398).Typ, Newtypes_103077(((NU8) 19), C_133396));
LOC2 = Sonslen_53801(N_133397);
if (!(LOC2 == 0)) goto LA3;
LOC5 = Newtypes_103077(((NU8) 3), C_133396);
Addson_53825((*Result_133398).Typ, LOC5);
goto LA1;
LA3: ;
Typ_133401 = 0;
Typ_133401 = NIM_NIL;
I_133409 = 0;
HEX3Atmp_142061 = 0;
LOC6 = Sonslen_53801(N_133397);
HEX3Atmp_142061 = (NI32)(LOC6 - 1);
Res_142063 = 0;
Res_142063 = 0;
while (1) {
if (!(Res_142063 <= HEX3Atmp_142061)) goto LA7;
I_133409 = Res_142063;
if (!((*(*N_133397).KindU.S6.Sons->data[I_133409]).Kind == ((NU8) 35))) goto LA9;
Checksonslen_103099((*N_133397).KindU.S6.Sons->data[I_133409], 2);
asgnRefNoCycle((void**) &(*(*N_133397).KindU.S6.Sons->data[I_133409]).KindU.S6.Sons->data[0], Semexprwithtype_121122(C_133396, (*(*N_133397).KindU.S6.Sons->data[I_133409]).KindU.S6.Sons->data[0], 0));
asgnRefNoCycle((void**) &(*(*N_133397).KindU.S6.Sons->data[I_133409]).KindU.S6.Sons->data[1], Semexprwithtype_121122(C_133396, (*(*N_133397).KindU.S6.Sons->data[I_133409]).KindU.S6.Sons->data[1], 0));
if (!(Typ_133401 == NIM_NIL)) goto LA12;
Typ_133401 = Skiptypes_93085((*(*(*N_133397).KindU.S6.Sons->data[I_133409]).KindU.S6.Sons->data[0]).Typ, IL64(38421334321004544));
LA12: ;
asgnRef((void**) &(*(*N_133397).KindU.S6.Sons->data[I_133409]).Typ, (*(*(*N_133397).KindU.S6.Sons->data[I_133409]).KindU.S6.Sons->data[1]).Typ);
goto LA8;
LA9: ;
asgnRefNoCycle((void**) &(*N_133397).KindU.S6.Sons->data[I_133409], Semexprwithtype_121122(C_133396, (*N_133397).KindU.S6.Sons->data[I_133409], 0));
if (!(Typ_133401 == NIM_NIL)) goto LA15;
Typ_133401 = Skiptypes_93085((*(*N_133397).KindU.S6.Sons->data[I_133409]).Typ, IL64(38421334321004544));
LA15: ;
LA8: ;
Res_142063 += 1;
} LA7: ;
LOC18 = Isordinaltype_93069(Typ_133401);
if (!!(LOC18)) goto LA19;
Limessage_45562((*N_133397).Info, ((NU8) 71), ((NimStringDesc*) &TMP193928));
goto BeforeRet;
LA19: ;
LOC22 = Lengthord_93007(Typ_133401);
if (!(65536 < LOC22)) goto LA23;
Typ_133401 = Makerangetype_103086(C_133396, 0, 65535, (*N_133397).Info);
LA23: ;
Addson_53825((*Result_133398).Typ, Typ_133401);
I_133668 = 0;
HEX3Atmp_142067 = 0;
LOC25 = Sonslen_53801(N_133397);
HEX3Atmp_142067 = (NI32)(LOC25 - 1);
Res_142069 = 0;
Res_142069 = 0;
while (1) {
if (!(Res_142069 <= HEX3Atmp_142067)) goto LA26;
I_133668 = Res_142069;
M_133669 = 0;
if (!((*(*N_133397).KindU.S6.Sons->data[I_133668]).Kind == ((NU8) 35))) goto LA28;
M_133669 = Newnodei_53735(((NU8) 35), (*(*N_133397).KindU.S6.Sons->data[I_133668]).Info);
LOC30 = Fitnode_121129(C_133396, Typ_133401, (*(*N_133397).KindU.S6.Sons->data[I_133668]).KindU.S6.Sons->data[0]);
Addson_53821(M_133669, LOC30);
LOC31 = Fitnode_121129(C_133396, Typ_133401, (*(*N_133397).KindU.S6.Sons->data[I_133668]).KindU.S6.Sons->data[1]);
Addson_53821(M_133669, LOC31);
goto LA27;
LA28: ;
M_133669 = Fitnode_121129(C_133396, Typ_133401, (*N_133397).KindU.S6.Sons->data[I_133668]);
LA27: ;
Addson_53821(Result_133398, M_133669);
Res_142069 += 1;
} LA26: ;
LA1: ;
BeforeRet: ;
return Result_133398;
}
N_NIMCALL(TY53523*, Semlambda_121134)(TY103012* C_121136, TY53523* N_121137) {
TY53523* Result_140482;
TY53545* S_140483;
TY52011* LOC1;
TY53545* LOC2;
TY103006* Oldp_140484;
Result_140482 = 0;
Result_140482 = N_121137;
Checksonslen_103099(N_121137, 5);
S_140483 = 0;
LOC1 = Getident_52016(((NimStringDesc*) &TMP194206));
LOC2 = Getcurrowner_103107();
S_140483 = Newsym_53699(((NU8) 9), LOC1, LOC2);
(*S_140483).Info = (*N_121137).Info;
Oldp_140484 = 0;
Oldp_140484 = (*C_121136).P;
asgnRefNoCycle((void**) &(*S_140483).Ast, N_121137);
asgnRefNoCycle((void**) &(*N_121137).KindU.S6.Sons->data[0], Newsymnode_53732(S_140483));
Pushowner_103109(S_140483);
Openscope_57149(&(*C_121136).Tab);
if (!!(((*N_121137).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA4;
Illformedast_103092(N_121137);
LA4: ;
if (!!(((*N_121137).KindU.S6.Sons->data[2] == NIM_NIL))) goto LA7;
Semparamlist_121147(C_121136, (*N_121137).KindU.S6.Sons->data[2], NIM_NIL, S_140483);
Addparams_121153(C_121136, (*(*S_140483).Typ).N);
goto LA6;
LA7: ;
asgnRef((void**) &(*S_140483).Typ, Newtypes_103077(((NU8) 25), C_121136));
Addson_53825((*S_140483).Typ, NIM_NIL);
LA6: ;
(*(*S_140483).Typ).Callconv = ((NU8) 8);
if (!!(((*N_121137).KindU.S6.Sons->data[3] == NIM_NIL))) goto LA10;
Pragma_118028(C_121136, S_140483, (*N_121137).KindU.S6.Sons->data[3], TMP194207);
LA10: ;
(*S_140483).Options = Goptions_44075;
if (!!(((*N_121137).KindU.S6.Sons->data[4] == NIM_NIL))) goto LA13;
if (!(((*S_140483).Flags &(1<<((((NU8) 7))&31)))!=0)) goto LA16;
Limessage_45562((*(*N_121137).KindU.S6.Sons->data[4]).Info, ((NU8) 134), (*(*S_140483).Name).S);
LA16: ;
asgnRefNoCycle((void**) &(*C_121136).P, Newproccon_103050(S_140483));
Addresult_121157(C_121136, (*(*S_140483).Typ).Sons->data[0], (*N_121137).Info);
asgnRefNoCycle((void**) &(*N_121137).KindU.S6.Sons->data[4], Semstmtscope_121104(C_121136, (*N_121137).KindU.S6.Sons->data[4]));
Addresultnode_121162(C_121136, N_121137);
goto LA12;
LA13: ;
Limessage_45562((*N_121137).Info, ((NU8) 135), (*(*S_140483).Name).S);
LA12: ;
Closescope_104017(&(*C_121136).Tab);
Popowner_103112();
asgnRefNoCycle((void**) &(*C_121136).P, Oldp_140484);
asgnRef((void**) &(*Result_140482).Typ, (*S_140483).Typ);
return Result_140482;
}
N_NIMCALL(NIM_BOOL, Iscastable_129295)(TY53549* Dst_129297, TY53549* Src_129298) {
NIM_BOOL Result_129299;
NI64 Ds_129300;
NI64 Ss_129301;
NIM_BOOL LOC6;
NIM_BOOL LOC7;
TY53549* LOC9;
TY53549* LOC11;
Result_129299 = 0;
Ds_129300 = 0;
Ss_129301 = 0;
Ds_129300 = Computesize_93110(Dst_129297);
Ss_129301 = Computesize_93110(Src_129298);
if (!(Ds_129300 < 0)) goto LA2;
Result_129299 = NIM_FALSE;
goto LA1;
LA2: ;
if (!(Ss_129301 < 0)) goto LA4;
Result_129299 = NIM_FALSE;
goto LA1;
LA4: ;
LOC7 = (Ss_129301 <= Ds_129300);
if (LOC7) goto LA8;
LOC9 = Skiptypes_93085(Dst_129297, IL64(47287796087390208));
LOC7 = ((*LOC9).Kind >= ((NU8) 31) && (*LOC9).Kind <= ((NU8) 39));
LA8: ;
LOC6 = LOC7;
if (LOC6) goto LA10;
LOC11 = Skiptypes_93085(Src_129298, IL64(47287796087390208));
LOC6 = ((*LOC11).Kind >= ((NU8) 31) && (*LOC11).Kind <= ((NU8) 39));
LA10: ;
Result_129299 = LOC6;
LA1: ;
return Result_129299;
}
N_NIMCALL(TY53523*, Semcast_129478)(TY103012* C_129480, TY53523* N_129481) {
TY53523* Result_129482;
TY53523* LOC4;
TY53523* LOC5;
NIM_BOOL LOC7;
NimStringDesc* LOC10;
Result_129482 = 0;
if (!((Gglobaloptions_44077 &(1<<((((NU8) 8))&31)))!=0)) goto LA2;
Limessage_45562((*N_129481).Info, ((NU8) 88), ((NimStringDesc*) &TMP193928));
LA2: ;
(*(*(*C_129480).P).Owner).Flags |=(1<<((NI32)(((NU8) 14))%(sizeof(NI32)*8)));
Checksonslen_103099(N_129481, 2);
Result_129482 = Newnodei_53735(((NU8) 51), (*N_129481).Info);
asgnRef((void**) &(*Result_129482).Typ, Semtypenode_121138(C_129480, (*N_129481).KindU.S6.Sons->data[0], NIM_NIL));
LOC4 = Copytree_53856((*N_129481).KindU.S6.Sons->data[0]);
Addson_53821(Result_129482, LOC4);
LOC5 = Semexprwithtype_121122(C_129480, (*N_129481).KindU.S6.Sons->data[1], 0);
Addson_53821(Result_129482, LOC5);
LOC7 = Iscastable_129295((*Result_129482).Typ, (*(*Result_129482).KindU.S6.Sons->data[1]).Typ);
if (!!(LOC7)) goto LA8;
LOC10 = Typetostring_93014((*Result_129482).Typ, ((NU8) 0));
Limessage_45562((*Result_129482).Info, ((NU8) 89), LOC10);
LA8: ;
return Result_129482;
}
N_NIMCALL(TY53523*, Semifexpr_133201)(TY103012* C_133203, TY53523* N_133204) {
TY53523* Result_133205;
TY53549* Typ_133206;
NI I_133214;
NI HEX3Atmp_142055;
NI LOC1;
NI Res_142057;
TY53523* It_133227;
Result_133205 = 0;
Result_133205 = N_133204;
Checkminsonslen_103103(N_133204, 2);
Typ_133206 = 0;
Typ_133206 = NIM_NIL;
I_133214 = 0;
HEX3Atmp_142055 = 0;
LOC1 = Sonslen_53801(N_133204);
HEX3Atmp_142055 = (NI32)(LOC1 - 1);
Res_142057 = 0;
Res_142057 = 0;
while (1) {
if (!(Res_142057 <= HEX3Atmp_142055)) goto LA2;
I_133214 = Res_142057;
It_133227 = 0;
It_133227 = (*N_133204).KindU.S6.Sons->data[I_133214];
switch ((*It_133227).Kind) {
case ((NU8) 40):
Checksonslen_103099(It_133227, 2);
asgnRefNoCycle((void**) &(*It_133227).KindU.S6.Sons->data[0], Semexprwithtype_121122(C_133203, (*It_133227).KindU.S6.Sons->data[0], 0));
Checkbool_125912((*It_133227).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*It_133227).KindU.S6.Sons->data[1], Semexprwithtype_121122(C_133203, (*It_133227).KindU.S6.Sons->data[1], 0));
if (!(Typ_133206 == NIM_NIL)) goto LA4;
Typ_133206 = (*(*It_133227).KindU.S6.Sons->data[1]).Typ;
goto LA3;
LA4: ;
asgnRefNoCycle((void**) &(*It_133227).KindU.S6.Sons->data[1], Fitnode_121129(C_133203, Typ_133206, (*It_133227).KindU.S6.Sons->data[1]));
LA3: ;
break;
case ((NU8) 41):
Checksonslen_103099(It_133227, 1);
asgnRefNoCycle((void**) &(*It_133227).KindU.S6.Sons->data[0], Semexprwithtype_121122(C_133203, (*It_133227).KindU.S6.Sons->data[0], 0));
if (!(Typ_133206 == NIM_NIL)) goto LA7;
Internalerror_45567((*It_133227).Info, ((NimStringDesc*) &TMP194209));
LA7: ;
asgnRefNoCycle((void**) &(*It_133227).KindU.S6.Sons->data[0], Fitnode_121129(C_133203, Typ_133206, (*It_133227).KindU.S6.Sons->data[0]));
break;
default:
Illformedast_103092(N_133204);
break;
}
Res_142057 += 1;
} LA2: ;
asgnRef((void**) &(*Result_133205).Typ, Typ_133206);
return Result_133205;
}
N_NIMCALL(TY53523*, Semstmtlistexpr_134305)(TY103012* C_134307, TY53523* N_134308) {
TY53523* Result_134309;
NI Length_134310;
NI I_134318;
NI HEX3Atmp_142091;
NI Res_142093;
Result_134309 = 0;
Result_134309 = N_134308;
Checkminsonslen_103103(N_134308, 1);
Length_134310 = 0;
Length_134310 = Sonslen_53801(N_134308);
I_134318 = 0;
HEX3Atmp_142091 = 0;
HEX3Atmp_142091 = (NI32)(Length_134310 - 2);
Res_142093 = 0;
Res_142093 = 0;
while (1) {
if (!(Res_142093 <= HEX3Atmp_142091)) goto LA1;
I_134318 = Res_142093;
asgnRefNoCycle((void**) &(*N_134308).KindU.S6.Sons->data[I_134318], Semstmt_121143(C_134307, (*N_134308).KindU.S6.Sons->data[I_134318]));
Res_142093 += 1;
} LA1: ;
if (!(0 < Length_134310)) goto LA3;
asgnRefNoCycle((void**) &(*N_134308).KindU.S6.Sons->data[(NI32)(Length_134310 - 1)], Semexprwithtype_121122(C_134307, (*N_134308).KindU.S6.Sons->data[(NI32)(Length_134310 - 1)], 0));
asgnRef((void**) &(*N_134308).Typ, (*(*N_134308).KindU.S6.Sons->data[(NI32)(Length_134310 - 1)]).Typ);
LA3: ;
return Result_134309;
}
N_NIMCALL(TY53523*, Semblockexpr_134381)(TY103012* C_134383, TY53523* N_134384) {
TY53523* Result_134385;
TY53545* LOC4;
Result_134385 = 0;
Result_134385 = N_134384;
(*(*C_134383).P).Nestedblockcounter += 1;
Checksonslen_103099(N_134384, 2);
Openscope_57149(&(*C_134383).Tab);
if (!!(((*N_134384).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA2;
LOC4 = Newsyms_121059(((NU8) 19), (*N_134384).KindU.S6.Sons->data[0], C_134383);
Adddecl_104026(C_134383, LOC4);
LA2: ;
asgnRefNoCycle((void**) &(*N_134384).KindU.S6.Sons->data[1], Semstmtlistexpr_134305(C_134383, (*N_134384).KindU.S6.Sons->data[1]));
asgnRef((void**) &(*N_134384).Typ, (*(*N_134384).KindU.S6.Sons->data[1]).Typ);
Closescope_104017(&(*C_134383).Tab);
(*(*C_134383).P).Nestedblockcounter -= 1;
return Result_134385;
}
N_NIMCALL(TY53523*, Semexpr_121115)(TY103012* C_121117, TY53523* N_121118, NU8 Flags_121121) {
TY53523* Result_134650;
TY53545* S_134673;
TY53545* S_134840;
TY53545* S_134903;
NIM_BOOL LOC55;
NU8 LOC59;
TY53549* T_134976;
NU8 LOC61;
NimStringDesc* LOC64;
NimStringDesc* LOC65;
Result_134650 = 0;
Result_134650 = N_121118;
if (!(N_121118 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
if (!(((*N_121118).Flags &(1<<((((NU8) 6))&7)))!=0)) goto LA5;
goto BeforeRet;
LA5: ;
switch ((*N_121118).Kind) {
case ((NU8) 2):
S_134673 = 0;
S_134673 = Lookup_104049(C_121117, N_121118);
Result_134650 = Semsym_129077(C_121117, N_121118, S_134673, Flags_121121);
break;
case ((NU8) 3):
Result_134650 = Semsym_129077(C_121117, N_121118, (*N_121118).KindU.S4.Sym, Flags_121121);
break;
case ((NU8) 1):
case ((NU8) 0):
break;
case ((NU8) 18):
asgnRef((void**) &(*Result_134650).Typ, Getsystype_98008(((NU8) 5)));
break;
case ((NU8) 4):
if (!!(((Flags_121121 &(1<<((((NU8) 0))&7)))!=0))) goto LA8;
Limessage_45562((*N_121118).Info, ((NU8) 161), ((NimStringDesc*) &TMP193928));
LA8: ;
asgnRef((void**) &(*N_121118).Typ, Semtypenode_121138(C_121117, N_121118, NIM_NIL));
break;
case ((NU8) 6):
if (!((*Result_134650).Typ == NIM_NIL)) goto LA11;
asgnRef((void**) &(*Result_134650).Typ, Getsystype_98008(((NU8) 31)));
LA11: ;
break;
case ((NU8) 7):
if (!((*Result_134650).Typ == NIM_NIL)) goto LA14;
asgnRef((void**) &(*Result_134650).Typ, Getsystype_98008(((NU8) 32)));
LA14: ;
break;
case ((NU8) 8):
if (!((*Result_134650).Typ == NIM_NIL)) goto LA17;
asgnRef((void**) &(*Result_134650).Typ, Getsystype_98008(((NU8) 33)));
LA17: ;
break;
case ((NU8) 9):
if (!((*Result_134650).Typ == NIM_NIL)) goto LA20;
asgnRef((void**) &(*Result_134650).Typ, Getsystype_98008(((NU8) 34)));
LA20: ;
break;
case ((NU8) 10):
if (!((*Result_134650).Typ == NIM_NIL)) goto LA23;
asgnRef((void**) &(*Result_134650).Typ, Getsystype_98008(((NU8) 35)));
LA23: ;
break;
case ((NU8) 11):
if (!((*Result_134650).Typ == NIM_NIL)) goto LA26;
asgnRef((void**) &(*Result_134650).Typ, Getsystype_98008(((NU8) 36)));
LA26: ;
break;
case ((NU8) 12):
if (!((*Result_134650).Typ == NIM_NIL)) goto LA29;
asgnRef((void**) &(*Result_134650).Typ, Getsystype_98008(((NU8) 37)));
LA29: ;
break;
case ((NU8) 13):
if (!((*Result_134650).Typ == NIM_NIL)) goto LA32;
asgnRef((void**) &(*Result_134650).Typ, Getsystype_98008(((NU8) 38)));
LA32: ;
break;
case ((NU8) 14) ... ((NU8) 16):
if (!((*Result_134650).Typ == NIM_NIL)) goto LA35;
asgnRef((void**) &(*Result_134650).Typ, Getsystype_98008(((NU8) 28)));
LA35: ;
break;
case ((NU8) 5):
if (!((*Result_134650).Typ == NIM_NIL)) goto LA38;
asgnRef((void**) &(*Result_134650).Typ, Getsystype_98008(((NU8) 2)));
LA38: ;
break;
case ((NU8) 36):
Result_134650 = Semfieldaccess_129029(C_121117, N_121118, Flags_121121);
if (!((*Result_134650).Kind == ((NU8) 19))) goto LA41;
(*Result_134650).Kind = ((NU8) 21);
Result_134650 = Semexpr_121115(C_121117, Result_134650, Flags_121121);
LA41: ;
break;
case ((NU8) 45):
Result_134650 = Semexpr_121115(C_121117, (*N_121118).KindU.S6.Sons->data[0], Flags_121121);
break;
case ((NU8) 21):
case ((NU8) 27):
case ((NU8) 28):
case ((NU8) 29):
case ((NU8) 20):
case ((NU8) 22):
Checkminsonslen_103103(N_121118, 1);
S_134840 = 0;
S_134840 = Qualifiedlookup_104053(C_121117, (*N_121118).KindU.S6.Sons->data[0], NIM_FALSE);
if (!!((S_134840 == NIM_NIL))) goto LA44;
switch ((*S_134840).Kind) {
case ((NU8) 13):
Result_134650 = Semmacroexpr_122093(C_121117, N_121118, S_134840, NIM_TRUE);
break;
case ((NU8) 14):
Result_134650 = Semtemplateexpr_129022(C_121117, N_121118, S_134840, NIM_TRUE);
break;
case ((NU8) 6):
if (!!(((*N_121118).Kind == ((NU8) 21)))) goto LA47;
Limessage_45562((*N_121118).Info, ((NU8) 150), (*(*S_134840).Name).S);
LA47: ;
Result_134650 = Semconv_129332(C_121117, N_121118, S_134840);
break;
case ((NU8) 9):
case ((NU8) 10):
case ((NU8) 12):
case ((NU8) 11):
if (!((*S_134840).Magic == ((NU8) 0))) goto LA50;
Result_134650 = Semdirectop_131590(C_121117, N_121118, Flags_121121);
goto LA49;
LA50: ;
Result_134650 = Semmagic_131926(C_121117, N_121118, S_134840, Flags_121121);
LA49: ;
break;
default:
Result_134650 = Semindirectop_131252(C_121117, N_121118, Flags_121121);
break;
}
goto LA43;
LA44: ;
if (!((*(*N_121118).KindU.S6.Sons->data[0]).Kind == ((NU8) 46))) goto LA52;
Result_134650 = Semdirectop_131590(C_121117, N_121118, Flags_121121);
goto LA43;
LA52: ;
Result_134650 = Semindirectop_131252(C_121117, N_121118, Flags_121121);
LA43: ;
break;
case ((NU8) 79):
Result_134650 = Semmacrostmt_134499(C_121117, N_121118, NIM_TRUE);
break;
case ((NU8) 33):
Checkminsonslen_103103(N_121118, 1);
S_134903 = 0;
S_134903 = Qualifiedlookup_104053(C_121117, (*N_121118).KindU.S6.Sons->data[0], NIM_FALSE);
LOC55 = !((S_134903 == NIM_NIL));
if (!(LOC55)) goto LA56;
LOC55 = ((1966080 &(1<<(((*S_134903).Kind)&31)))!=0);
LA56: ;
if (!LOC55) goto LA57;
Result_134650 = Partialspecialization_123017(C_121117, N_121118, S_134903);
goto LA54;
LA57: ;
Result_134650 = Semarrayaccess_133048(C_121117, N_121118, Flags_121121);
LA54: ;
break;
case ((NU8) 34):
Internalerror_45567((*N_121118).Info, ((NimStringDesc*) &TMP194205));
break;
case ((NU8) 30):
LOC59 = Checkpar_133769(N_121118);
switch (LOC59) {
case ((NU8) 0):
Result_134650 = NIM_NIL;
break;
case ((NU8) 3):
Result_134650 = Semtuplepositionsconstr_134255(C_121117, N_121118);
break;
case ((NU8) 2):
Result_134650 = Semtuplefieldsconstr_133918(C_121117, N_121118);
break;
case ((NU8) 1):
Result_134650 = Semexpr_121115(C_121117, (*N_121118).KindU.S6.Sons->data[0], 0);
break;
}
break;
case ((NU8) 31):
Result_134650 = Semsetconstr_133394(C_121117, N_121118);
break;
case ((NU8) 32):
Result_134650 = Semarrayconstr_130156(C_121117, N_121118);
break;
case ((NU8) 42):
Result_134650 = Semlambda_121134(C_121117, N_121118);
break;
case ((NU8) 38):
Checksonslen_103099(N_121118, 1);
asgnRefNoCycle((void**) &(*N_121118).KindU.S6.Sons->data[0], Semexprwithtype_121122(C_121117, (*N_121118).KindU.S6.Sons->data[0], 0));
Result_134650 = N_121118;
T_134976 = 0;
T_134976 = Skiptypes_93085((*(*N_121118).KindU.S6.Sons->data[0]).Typ, IL64(2392537302040576));
switch ((*T_134976).Kind) {
case ((NU8) 22):
case ((NU8) 21):
asgnRef((void**) &(*N_121118).Typ, (*T_134976).Sons->data[0]);
break;
default:
Limessage_45562((*(*N_121118).KindU.S6.Sons->data[0]).Info, ((NU8) 163), ((NimStringDesc*) &TMP193928));
break;
}
Result_134650 = N_121118;
break;
case ((NU8) 52):
Result_134650 = N_121118;
Checksonslen_103099(N_121118, 1);
asgnRefNoCycle((void**) &(*N_121118).KindU.S6.Sons->data[0], Semexprwithtype_121122(C_121117, (*N_121118).KindU.S6.Sons->data[0], 0));
LOC61 = Isassignable_130504((*N_121118).KindU.S6.Sons->data[0]);
if (!!((LOC61 == ((NU8) 1)))) goto LA62;
Limessage_45562((*N_121118).Info, ((NU8) 123), ((NimStringDesc*) &TMP193928));
LA62: ;
asgnRef((void**) &(*N_121118).Typ, Makeptrtype_103069(C_121117, (*(*N_121118).KindU.S6.Sons->data[0]).Typ));
break;
case ((NU8) 53):
case ((NU8) 54):
Checksonslen_103099(N_121118, 1);
asgnRefNoCycle((void**) &(*N_121118).KindU.S6.Sons->data[0], Semexpr_121115(C_121117, (*N_121118).KindU.S6.Sons->data[0], Flags_121121));
break;
case ((NU8) 51):
Result_134650 = Semcast_129478(C_121117, N_121118);
break;
case ((NU8) 43):
Checksonslen_103099(N_121118, 1);
Result_134650 = Semexpr_121115(C_121117, (*N_121118).KindU.S6.Sons->data[0], 0);
break;
case ((NU8) 39):
Result_134650 = Semifexpr_133201(C_121117, N_121118);
break;
case ((NU8) 106):
Result_134650 = Semstmtlistexpr_134305(C_121117, N_121118);
break;
case ((NU8) 107):
Result_134650 = Semblockexpr_134381(C_121117, N_121118);
break;
case ((NU8) 47):
case ((NU8) 48):
case ((NU8) 50):
case ((NU8) 49):
Checksonslen_103099(N_121118, 2);
break;
case ((NU8) 60):
case ((NU8) 61):
case ((NU8) 62):
case ((NU8) 55):
case ((NU8) 56):
Checksonslen_103099(N_121118, 1);
break;
case ((NU8) 57):
case ((NU8) 58):
case ((NU8) 59):
Checksonslen_103099(N_121118, 3);
break;
case ((NU8) 37):
Checkminsonslen_103103(N_121118, 2);
break;
case ((NU8) 46):
LOC64 = Rendertree_81042(N_121118, 4);
Limessage_45562((*N_121118).Info, ((NU8) 69), LOC64);
break;
default:
LOC65 = Rendertree_81042(N_121118, 4);
Limessage_45562((*N_121118).Info, ((NU8) 165), LOC65);
break;
}
(*Result_134650).Flags |=(1<<((NI8)(((NU8) 6))%(sizeof(NI8)*8)));
BeforeRet: ;
return Result_134650;
}
N_NIMCALL(TY53523*, Semexprwithtype_121122)(TY103012* C_121124, TY53523* N_121125, NU8 Flags_121128) {
TY53523* Result_129043;
NimStringDesc* LOC7;
TY53523* D_129076;
Result_129043 = 0;
Result_129043 = Semexpr_121115(C_121124, N_121125, Flags_121128);
if (!(Result_129043 == NIM_NIL)) goto LA2;
Internalerror_45571(((NimStringDesc*) &TMP194210));
LA2: ;
if (!((*Result_129043).Typ == NIM_NIL)) goto LA5;
LOC7 = Rendertree_81042(Result_129043, 4);
Limessage_45562((*N_121125).Info, ((NU8) 87), LOC7);
LA5: ;
if (!((*(*Result_129043).Typ).Kind == ((NU8) 23))) goto LA9;
D_129076 = 0;
D_129076 = Newnodeit_53739(((NU8) 54), (*Result_129043).Info, (*(*Result_129043).Typ).Sons->data[0]);
Addson_53821(D_129076, Result_129043);
Result_129043 = D_129076;
LA9: ;
return Result_129043;
}
N_NIMCALL(TY53523*, Semconstexpr_121171)(TY103012* C_121173, TY53523* N_121174) {
TY53523* Result_121175;
Result_121175 = 0;
Result_121175 = Semexprwithtype_121122(C_121173, N_121174, 0);
if (!(Result_121175 == NIM_NIL)) goto LA2;
Limessage_45562((*N_121174).Info, ((NU8) 102), ((NimStringDesc*) &TMP193928));
goto BeforeRet;
LA2: ;
Result_121175 = Getconstexpr_109010((*C_121173).Module, Result_121175);
if (!(Result_121175 == NIM_NIL)) goto LA5;
Limessage_45562((*N_121174).Info, ((NU8) 102), ((NimStringDesc*) &TMP193928));
LA5: ;
BeforeRet: ;
return Result_121175;
}
N_NIMCALL(TY53523*, Semexprnoflags_142503)(TY103012* C_142505, TY53523* N_142506) {
TY53523* Result_142507;
Result_142507 = 0;
Result_142507 = Semexpr_121115(C_142505, N_142506, 0);
return Result_142507;
}
N_NIMCALL(TY101002*, Myopen_142510)(TY53545* Module_142512, NimStringDesc* Filename_142513) {
TY101002* Result_142514;
TY103012* C_142515;
Result_142514 = 0;
C_142515 = 0;
C_142515 = Newcontext_103046(Module_142512, Filename_142513);
if (!!(((*C_142515).P == NIM_NIL))) goto LA2;
Internalerror_45567((*Module_142512).Info, ((NimStringDesc*) &TMP193926));
LA2: ;
(*C_142515).Semconstexpr = Semconstexpr_121171;
(*C_142515).Semexpr = Semexprnoflags_142503;
asgnRefNoCycle((void**) &(*C_142515).P, Newproccon_103050(Module_142512));
Pushowner_103109((*C_142515).Module);
Openscope_57149(&(*C_142515).Tab);
Symtabadd_57127(&(*C_142515).Tab, Module_142512);
if (!(((*Module_142512).Flags &(1<<((((NU8) 16))&31)))!=0)) goto LA5;
asgnRef((void**) &Systemmodule_98004, Module_142512);
Initsystem_98017(&(*C_142515).Tab);
goto LA4;
LA5: ;
Symtabadd_57127(&(*C_142515).Tab, Systemmodule_98004);
Importallsymbols_106009(C_142515, Systemmodule_98004);
LA4: ;
Openscope_57149(&(*C_142515).Tab);
Result_142514 = &C_142515->Sup;
return Result_142514;
}
N_NIMCALL(TY101002*, Myopencached_142543)(TY53545* Module_142545, NimStringDesc* Filename_142546, TY89031* Rd_142547) {
TY101002* Result_142548;
TY103012* C_142549;
TY101002* LOC1;
Result_142548 = 0;
C_142549 = 0;
LOC1 = Myopen_142510(Module_142545, Filename_142546);
C_142549 = ((TY103012*) (LOC1));
(*C_142549).Fromcache = NIM_TRUE;
Result_142548 = &C_142549->Sup;
return Result_142548;
}
N_NIMCALL(void, Addcodeforgenerics_142374)(TY103012* C_142376, TY53523* N_142377) {
NI I_142385;
NI HEX3Atmp_142497;
NI HEX3Atmp_142498;
NI LOC1;
NI Res_142500;
TY53523* It_142410;
TY53545* Prc_142432;
NIM_BOOL LOC7;
NIM_BOOL LOC12;
NimStringDesc* LOC16;
I_142385 = 0;
HEX3Atmp_142497 = 0;
HEX3Atmp_142498 = 0;
HEX3Atmp_142497 = (*C_142376).Lastgenericidx;
LOC1 = Sonslen_53801((*C_142376).Generics);
HEX3Atmp_142498 = (NI32)(LOC1 - 1);
Res_142500 = 0;
Res_142500 = HEX3Atmp_142497;
while (1) {
if (!(Res_142500 <= HEX3Atmp_142498)) goto LA2;
I_142385 = Res_142500;
It_142410 = 0;
It_142410 = (*(*(*C_142376).Generics).KindU.S6.Sons->data[I_142385]).KindU.S6.Sons->data[1];
if (!!(((*It_142410).Kind == ((NU8) 3)))) goto LA4;
Internalerror_45571(((NimStringDesc*) &TMP194212));
LA4: ;
Prc_142432 = 0;
Prc_142432 = (*It_142410).KindU.S4.Sym;
LOC7 = ((1441792 &(1<<(((*Prc_142432).Kind)&31)))!=0);
if (!(LOC7)) goto LA8;
LOC7 = ((*Prc_142432).Magic == ((NU8) 0));
LA8: ;
if (!LOC7) goto LA9;
LOC12 = ((*Prc_142432).Ast == NIM_NIL);
if (LOC12) goto LA13;
LOC12 = ((*(*Prc_142432).Ast).KindU.S6.Sons->data[4] == NIM_NIL);
LA13: ;
if (!LOC12) goto LA14;
LOC16 = rawNewString((*(*Prc_142432).Name).S->Sup.len + 12);
appendString(LOC16, ((NimStringDesc*) &TMP194213));
appendString(LOC16, (*(*Prc_142432).Name).S);
Internalerror_45567((*Prc_142432).Info, LOC16);
LA14: ;
Addson_53821(N_142377, (*Prc_142432).Ast);
LA9: ;
Res_142500 += 1;
} LA2: ;
(*C_142376).Lastgenericidx = Sonslen_53801((*C_142376).Generics);
}
N_NIMCALL(TY53523*, Myclose_142561)(TY101002* Context_142563, TY53523* N_142564) {
TY53523* Result_142565;
TY103012* C_142566;
Result_142565 = 0;
C_142566 = 0;
C_142566 = ((TY103012*) (Context_142563));
Closescope_104017(&(*C_142566).Tab);
Rawclosescope_57153(&(*C_142566).Tab);
if (!(N_142564 == NIM_NIL)) goto LA2;
Result_142565 = Newnode_53708(((NU8) 101));
goto LA1;
LA2: ;
Internalerror_45567((*N_142564).Info, ((NimStringDesc*) &TMP194211));
LA1: ;
Addcodeforgenerics_142374(C_142566, Result_142565);
Popowner_103112();
asgnRefNoCycle((void**) &(*C_142566).P, NIM_NIL);
return Result_142565;
}
N_NIMCALL(TY53523*, Myprocess_142550)(TY101002* Context_142552, TY53523* N_142553) {
TY53523* Result_142554;
TY103012* C_142555;
NI LOC2;
TY53523* A_142558;
NI LOC6;
Result_142554 = 0;
Result_142554 = NIM_NIL;
C_142555 = 0;
C_142555 = ((TY103012*) (Context_142552));
Result_142554 = Semstmt_121143(C_142555, N_142553);
LOC2 = Sonslen_53801((*C_142555).Generics);
if (!(0 < LOC2)) goto LA3;
A_142558 = 0;
A_142558 = Newnodei_53735(((NU8) 101), (*N_142553).Info);
Addcodeforgenerics_142374(C_142555, A_142558);
LOC6 = Sonslen_53801(A_142558);
if (!(0 < LOC6)) goto LA7;
Addsonifnotnil_53829(A_142558, Result_142554);
Result_142554 = A_142558;
LA7: ;
LA3: ;
return Result_142554;
}
N_NIMCALL(TY101006, Sempass_121001)(void) {
TY101006 Result_142582;
memset((void*)&Result_142582, 0, sizeof(Result_142582));
Initpass_101031(&Result_142582);
Result_142582.Open = Myopen_142510;
Result_142582.Opencached = Myopencached_142543;
Result_142582.Close = Myclose_142561;
Result_142582.Process = Myprocess_142550;
return Result_142582;
}
N_NOINLINE(void, semInit)(void) {
Evaltemplatecounter_121423 = 0;
}

