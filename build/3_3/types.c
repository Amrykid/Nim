/* Generated by Nimrod Compiler v0.8.11 */
/*   (c) 2011 Andreas Rumpf */

typedef long int NI;
typedef unsigned long int NU;
#include "nimbase.h"

typedef struct TY54551 TY54551;
typedef struct TY53005 TY53005;
typedef struct TNimObject TNimObject;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct TY54549 TY54549;
typedef struct TGenericSeq TGenericSeq;
typedef struct TY54525 TY54525;
typedef struct TY54547 TY54547;
typedef struct TY54539 TY54539;
typedef struct TY51008 TY51008;
typedef struct NimStringDesc NimStringDesc;
typedef struct TY46536 TY46536;
typedef struct TY53011 TY53011;
typedef struct TY54519 TY54519;
typedef struct TY54529 TY54529;
typedef struct TY54527 TY54527;
typedef struct TY54543 TY54543;
typedef struct TY54900 TY54900;
typedef struct TY54896 TY54896;
typedef struct TY54898 TY54898;
typedef struct TY42013 TY42013;
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TNimObject {
TNimType* m_type;
};
struct TY53005 {
  TNimObject Sup;
NI Id;
};
struct TGenericSeq {
NI len;
NI space;
};
struct TY54539 {
NU8 K;
NU8 S;
NU8 Flags;
TY54551* T;
TY51008* R;
NI A;
};
struct TY54551 {
  TY53005 Sup;
NU8 Kind;
TY54549* Sons;
TY54525* N;
NU8 Flags;
NU8 Callconv;
TY54547* Owner;
TY54547* Sym;
NI64 Size;
NI Align;
NI Containerid;
TY54539 Loc;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
struct TY46536 {
NI16 Line;
NI16 Col;
int Fileindex;
};
struct TY54525 {
TY54551* Typ;
NimStringDesc* Comment;
TY46536 Info;
NU8 Flags;
NU8 Kind;
union {
struct {NI64 Intval;
} S1;
struct {NF64 Floatval;
} S2;
struct {NimStringDesc* Strval;
} S3;
struct {TY54547* Sym;
} S4;
struct {TY53011* Ident;
} S5;
struct {TY54519* Sons;
} S6;
} KindU;
};
struct TY54529 {
TNimType* m_type;
NI Counter;
TY54527* Data;
};
struct TY54547 {
  TY53005 Sup;
NU8 Kind;
NU8 Magic;
TY54551* Typ;
TY53011* Name;
TY46536 Info;
TY54547* Owner;
NU32 Flags;
TY54529 Tab;
TY54525* Ast;
NU32 Options;
NI Position;
NI Offset;
TY54539 Loc;
TY54543* Annex;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
typedef NimStringDesc* TY97412[40];
struct TY53011 {
  TY53005 Sup;
NimStringDesc* S;
TY53011* Next;
NI H;
};
typedef NimStringDesc* TY54016[10];
typedef N_NIMCALL_PTR(NIM_BOOL, TY96025) (TY54551* T_96030, TNimObject* Closure_96031);
struct TY54900 {
NI Counter;
NI Max;
TY54896* Head;
TY54898* Data;
};
typedef N_NIMCALL_PTR(NIM_BOOL, TY96029) (TY54551* T_96036);
struct TY51008 {
  TNimObject Sup;
TY51008* Left;
TY51008* Right;
NI Length;
NimStringDesc* Data;
};
struct TY42013 {
  TNimObject Sup;
TY42013* Prev;
TY42013* Next;
};
struct TY54543 {
  TY42013 Sup;
NU8 Kind;
NIM_BOOL Generated;
TY51008* Name;
TY54525* Path;
};
typedef NI TY8414[16];
struct TY54896 {
TY54896* Next;
NI Key;
TY8414 Bits;
};
struct TY54549 {
  TGenericSeq Sup;
  TY54551* data[SEQ_DECL_SIZE];
};
struct TY54519 {
  TGenericSeq Sup;
  TY54525* data[SEQ_DECL_SIZE];
};
struct TY54527 {
  TGenericSeq Sup;
  TY54547* data[SEQ_DECL_SIZE];
};
struct TY54898 {
  TGenericSeq Sup;
  TY54896* data[SEQ_DECL_SIZE];
};
static N_INLINE(TY54551*, Lastson_54812)(TY54551* N_54814);
static N_INLINE(NI, Sonslen_54806)(TY54551* N_54808);
N_NIMCALL(NI64, Lastord_96004)(TY54551* T_96006);
N_NIMCALL(NI64, Getordvalue_96109)(TY54525* N_96111);
N_NIMCALL(void, Limessage_46566)(TY46536 Info_46568, NU8 Msg_46569, NimStringDesc* Arg_46570);
static N_INLINE(NI, Sonslen_54803)(TY54525* N_54805);
N_NIMCALL(NI64, Firstord_96001)(TY54551* T_96003);
N_NIMCALL(void, Internalerror_46575)(NimStringDesc* Errmsg_46577);
static N_INLINE(void, appendString)(NimStringDesc* Dest_18392, NimStringDesc* Src_18393);
N_NIMCALL(NimStringDesc*, reprEnum)(NI E_19355, TNimType* Typ_19356);
static N_INLINE(void, appendChar)(NimStringDesc* Dest_18409, NIM_CHAR C_18410);
N_NIMCALL(NimStringDesc*, rawNewString)(NI Space_18287);
N_NIMCALL(NI64, Lengthord_96007)(TY54551* T_96009);
N_NIMCALL(TY54551*, Elemtype_96091)(TY54551* T_96093);
N_NIMCALL(NI64, Computesize_96112)(TY54551* Typ_96114);
N_NIMCALL(NI64, Computesizeaux_98871)(TY54551* Typ_98873, NI64* A_98875);
N_NIMCALL(NI64, Align_98866)(NI64 Address_98868, NI64 Alignment_98869);
N_NIMCALL(NIM_BOOL, Isobjectwithtypefieldpredicate_96929)(TY54551* T_96931);
N_NIMCALL(NI64, Computerecsizeaux_98876)(TY54525* N_98878, NI64* A_98880, NI64* Curroffset_98881);
static N_INLINE(TY54525*, Lastson_54809)(TY54525* N_54811);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* Src_18308);
N_NIMCALL(NimStringDesc*, Typetostring_96014)(TY54551* Typ_96016, NU8 Prefer_96017);
N_NIMCALL(NimStringDesc*, resizeString)(NimStringDesc* Dest_18382, NI Addlen_18383);
N_NIMCALL(NimStringDesc*, addChar)(NimStringDesc* S_1603, NIM_CHAR C_1604);
N_NIMCALL(NimStringDesc*, Rangetostr_97369)(TY54525* N_97371);
N_NIMCALL(NimStringDesc*, Valuetostring_54874)(TY54525* A_54876);
static N_INLINE(void, Addsep_24854)(NimStringDesc** Dest_24857, NimStringDesc* Sep_24858, NI Startlen_24859);
N_NIMCALL(NIM_BOOL, Isordinaltype_96069)(TY54551* T_96071);
N_NIMCALL(void, Intsetinit_54924)(TY54900* S_54927);
N_NIMCALL(NIM_BOOL, Iterovertypeaux_96660)(TY54900* Marker_96663, TY54551* T_96664, TY96025 Iter_96665, TNimObject* Closure_96666);
N_NIMCALL(NIM_BOOL, Intsetcontainsorincl_54928)(TY54900* S_54931, NI Key_54932);
N_NIMCALL(NIM_BOOL, Iterovernode_96667)(TY54900* Marker_96670, TY54525* N_96671, TY96025 Iter_96672, TNimObject* Closure_96673);
N_NIMCALL(TY54551*, Skiptypes_96087)(TY54551* T_96089, NU64 Kinds_96090);
N_NIMCALL(NIM_BOOL, Sametuple_98203)(TY54551* A_98205, TY54551* B_98206, NIM_BOOL Distinctof_98207);
N_NIMCALL(NIM_BOOL, Equalordistinctof_96056)(TY54551* X_96058, TY54551* Y_96059);
N_NIMCALL(NIM_BOOL, Samevalue_54866)(TY54525* A_54868, TY54525* B_54869);
N_NIMCALL(NIM_BOOL, Sametype_96048)(TY54551* X_96050, TY54551* Y_96051);
N_NIMCALL(void, Internalerror_46571)(TY46536 Info_46573, NimStringDesc* Errmsg_46574);
N_NIMCALL(NIM_BOOL, Sametypeornil_96052)(TY54551* A_96054, TY54551* B_96055);
N_NIMCALL(NU8, Equalparam_97833)(TY54547* A_97835, TY54547* B_97836);
N_NIMCALL(NIM_BOOL, Exprstructuralequivalent_95035)(TY54525* A_95037, TY54525* B_95038);
N_NIMCALL(NIM_BOOL, Typeallowedaux_98649)(TY54900* Marker_98652, TY54551* Typ_98653, NU8 Kind_98654);
N_NIMCALL(NIM_BOOL, Typeallowednode_98655)(TY54900* Marker_98658, TY54525* N_98659, NU8 Kind_98660);
N_NIMCALL(void, Debug_59157)(TY54551* N_59159);
N_NIMCALL(NIM_BOOL, Searchtypefor_96904)(TY54551* T_96906, TY96029 Predicate_96907);
N_NIMCALL(NIM_BOOL, Searchtypeforaux_96759)(TY54551* T_96761, TY96029 Predicate_96762, TY54900* Marker_96764);
N_NIMCALL(NIM_BOOL, Searchtypenodeforaux_96765)(TY54525* N_96767, TY96029 P_96768, TY54900* Marker_96770);
N_NIMCALL(NIM_BOOL, Isgbcref_97080)(TY54551* T_97082);
N_NIMCALL(NIM_BOOL, Canformacycleaux_97120)(TY54900* Marker_97123, TY54551* Typ_97124, NI Startid_97125);
N_NIMCALL(NIM_BOOL, Canformacyclenode_97126)(TY54900* Marker_97129, TY54525* N_97130, NI Startid_97131);
N_NIMCALL(NU8, Analyseobjectwithtypefieldaux_96986)(TY54551* T_96988, TY54900* Marker_96990);
NIM_CONST NU64 Abstractptrs_96075 = IL64(47534086692012032);
NIM_CONST NU64 Abstractvar_96077 = IL64(47428533575745536);
NIM_CONST NU64 Abstractrange_96079 = IL64(47305388273434624);
NIM_CONST NU64 Abstractvarrange_96081 = IL64(47446125761789952);
NIM_CONST NU64 Abstractinst_96083 = IL64(47287796087390208);
NIM_CONST NU64 Skipptrs_96085 = IL64(2498090418307072);
STRING_LITERAL(TMP193933, "", 0);
STRING_LITERAL(TMP193934, "invalid kind for first(", 23);
STRING_LITERAL(TMP193935, "invalid kind for last(", 22);
STRING_LITERAL(TMP193948, "computeRecSizeAux(record case branch)", 37);
STRING_LITERAL(TMP193949, "computeRecSizeAux()", 19);
STRING_LITERAL(TMP193950, "getSize(", 8);
STRING_LITERAL(TMP193993, "None", 4);
STRING_LITERAL(TMP193994, "bool", 4);
STRING_LITERAL(TMP193995, "Char", 4);
STRING_LITERAL(TMP193996, "empty", 5);
STRING_LITERAL(TMP193997, "Array Constructor [$1]", 22);
STRING_LITERAL(TMP193998, "nil", 3);
STRING_LITERAL(TMP193999, "expr", 4);
STRING_LITERAL(TMP194000, "stmt", 4);
STRING_LITERAL(TMP194001, "typeDesc", 8);
STRING_LITERAL(TMP194002, "GenericInvokation", 17);
STRING_LITERAL(TMP194003, "GenericBody", 11);
STRING_LITERAL(TMP194004, "GenericInst", 11);
STRING_LITERAL(TMP194005, "GenericParam", 12);
STRING_LITERAL(TMP194006, "distinct $1", 11);
STRING_LITERAL(TMP194007, "enum", 4);
STRING_LITERAL(TMP194008, "ordinal[$1]", 11);
STRING_LITERAL(TMP194009, "array[$1, $2]", 13);
STRING_LITERAL(TMP194010, "object", 6);
STRING_LITERAL(TMP194011, "tuple", 5);
STRING_LITERAL(TMP194012, "set[$1]", 7);
STRING_LITERAL(TMP194013, "range[$1]", 9);
STRING_LITERAL(TMP194014, "ptr ", 4);
STRING_LITERAL(TMP194015, "ref ", 4);
STRING_LITERAL(TMP194016, "var ", 4);
STRING_LITERAL(TMP194017, "seq[$1]", 7);
STRING_LITERAL(TMP194018, "proc", 4);
STRING_LITERAL(TMP194019, "pointer", 7);
STRING_LITERAL(TMP194020, "OpenArray[$1]", 13);
STRING_LITERAL(TMP194021, "string", 6);
STRING_LITERAL(TMP194022, "CString", 7);
STRING_LITERAL(TMP194023, "Forward", 7);
STRING_LITERAL(TMP194024, "int", 3);
STRING_LITERAL(TMP194025, "int8", 4);
STRING_LITERAL(TMP194026, "int16", 5);
STRING_LITERAL(TMP194027, "int32", 5);
STRING_LITERAL(TMP194028, "int64", 5);
STRING_LITERAL(TMP194029, "float", 5);
STRING_LITERAL(TMP194030, "float32", 7);
STRING_LITERAL(TMP194031, "float64", 7);
STRING_LITERAL(TMP194032, "float128", 8);
NIM_CONST TY97412 Typetostr_97411 = {((NimStringDesc*) &TMP193993),
((NimStringDesc*) &TMP193994),
((NimStringDesc*) &TMP193995),
((NimStringDesc*) &TMP193996),
((NimStringDesc*) &TMP193997),
((NimStringDesc*) &TMP193998),
((NimStringDesc*) &TMP193999),
((NimStringDesc*) &TMP194000),
((NimStringDesc*) &TMP194001),
((NimStringDesc*) &TMP194002),
((NimStringDesc*) &TMP194003),
((NimStringDesc*) &TMP194004),
((NimStringDesc*) &TMP194005),
((NimStringDesc*) &TMP194006),
((NimStringDesc*) &TMP194007),
((NimStringDesc*) &TMP194008),
((NimStringDesc*) &TMP194009),
((NimStringDesc*) &TMP194010),
((NimStringDesc*) &TMP194011),
((NimStringDesc*) &TMP194012),
((NimStringDesc*) &TMP194013),
((NimStringDesc*) &TMP194014),
((NimStringDesc*) &TMP194015),
((NimStringDesc*) &TMP194016),
((NimStringDesc*) &TMP194017),
((NimStringDesc*) &TMP194018),
((NimStringDesc*) &TMP194019),
((NimStringDesc*) &TMP194020),
((NimStringDesc*) &TMP194021),
((NimStringDesc*) &TMP194022),
((NimStringDesc*) &TMP194023),
((NimStringDesc*) &TMP194024),
((NimStringDesc*) &TMP194025),
((NimStringDesc*) &TMP194026),
((NimStringDesc*) &TMP194027),
((NimStringDesc*) &TMP194028),
((NimStringDesc*) &TMP194029),
((NimStringDesc*) &TMP194030),
((NimStringDesc*) &TMP194031),
((NimStringDesc*) &TMP194032)}
;
STRING_LITERAL(TMP194033, ", ", 2);
STRING_LITERAL(TMP194034, "array[", 6);
STRING_LITERAL(TMP194036, "..", 2);
STRING_LITERAL(TMP194037, "Array constructor[", 18);
STRING_LITERAL(TMP194038, "seq[", 4);
STRING_LITERAL(TMP194039, "ordinal[", 8);
STRING_LITERAL(TMP194040, "set[", 4);
STRING_LITERAL(TMP194041, "openarray[", 10);
STRING_LITERAL(TMP194042, "distinct ", 9);
STRING_LITERAL(TMP194043, "tuple[", 6);
STRING_LITERAL(TMP194044, ": ", 2);
extern NIM_CONST TY97412 Typetostr_97411;
STRING_LITERAL(TMP194045, "range ", 6);
STRING_LITERAL(TMP194046, "proc (", 6);
extern NIM_CONST TY54016 Callingconvtostr_54015;
STRING_LITERAL(TMP194047, "noSideEffect", 12);
STRING_LITERAL(TMP194048, "{.", 2);
STRING_LITERAL(TMP194049, ".}", 2);
STRING_LITERAL(TMP194065, "sameTuple", 9);
STRING_LITERAL(TMP194076, "getProcHeader", 13);
STRING_LITERAL(TMP194269, "searchTypeNodeForAux(record case branch)", 40);
STRING_LITERAL(TMP194270, "searchTypeNodeForAux()", 22);
extern NI Intsize_50570;
extern TNimType* NTI54162; /* TTypeKind */
extern NI Floatsize_50571;
extern NI Ptrsize_50572;
static N_INLINE(NI, Sonslen_54806)(TY54551* N_54808) {
NI Result_55744;
Result_55744 = 0;
if (!(*N_54808).Sons == 0) goto LA2;
Result_55744 = 0;
goto LA1;
LA2: ;
Result_55744 = (*N_54808).Sons->Sup.len;
LA1: ;
return Result_55744;
}
static N_INLINE(TY54551*, Lastson_54812)(TY54551* N_54814) {
TY54551* Result_56833;
NI LOC1;
Result_56833 = 0;
LOC1 = Sonslen_54806(N_54814);
Result_56833 = (*N_54814).Sons->data[(NI32)(LOC1 - 1)];
return Result_56833;
}
N_NIMCALL(TY54551*, Skiptypes_96087)(TY54551* T_96089, NU64 Kinds_96090) {
TY54551* Result_96575;
Result_96575 = 0;
Result_96575 = T_96089;
while (1) {
if (!((Kinds_96090 &(IL64(1)<<(((*Result_96575).Kind)&IL64(63))))!=0)) goto LA1;
Result_96575 = Lastson_54812(Result_96575);
} LA1: ;
return Result_96575;
}
N_NIMCALL(NI64, Getordvalue_96109)(TY54525* N_96111) {
NI64 Result_96262;
Result_96262 = 0;
switch ((*N_96111).Kind) {
case ((NU8) 5) ... ((NU8) 10):
Result_96262 = (*N_96111).KindU.S1.Intval;
break;
case ((NU8) 18):
Result_96262 = 0;
break;
default:
Limessage_46566((*N_96111).Info, ((NU8) 71), ((NimStringDesc*) &TMP193933));
Result_96262 = 0;
break;
}
return Result_96262;
}
static N_INLINE(NI, Sonslen_54803)(TY54525* N_54805) {
NI Result_55880;
Result_55880 = 0;
if (!(*N_54805).KindU.S6.Sons == 0) goto LA2;
Result_55880 = 0;
goto LA1;
LA2: ;
Result_55880 = (*N_54805).KindU.S6.Sons->Sup.len;
LA1: ;
return Result_55880;
}
static N_INLINE(void, appendString)(NimStringDesc* Dest_18392, NimStringDesc* Src_18393) {
memcpy(((NCSTRING) (&(*Dest_18392).data[((*Dest_18392).Sup.len)-0])), ((NCSTRING) ((*Src_18393).data)), ((int) ((NI32)((NI32)((*Src_18393).Sup.len + 1) * 1))));
(*Dest_18392).Sup.len += (*Src_18393).Sup.len;
}
static N_INLINE(void, appendChar)(NimStringDesc* Dest_18409, NIM_CHAR C_18410) {
(*Dest_18409).data[((*Dest_18409).Sup.len)-0] = C_18410;
(*Dest_18409).data[((NI32)((*Dest_18409).Sup.len + 1))-0] = 0;
(*Dest_18409).Sup.len += 1;
}
N_NIMCALL(NI64, Firstord_96001)(TY54551* T_96003) {
NI64 Result_97637;
NIM_BOOL LOC5;
NI LOC6;
TY54551* LOC10;
NimStringDesc* LOC11;
Result_97637 = 0;
switch ((*T_96003).Kind) {
case ((NU8) 1):
case ((NU8) 2):
case ((NU8) 24):
case ((NU8) 27):
case ((NU8) 28):
Result_97637 = 0;
break;
case ((NU8) 19):
case ((NU8) 23):
Result_97637 = Firstord_96001((*T_96003).Sons->data[0]);
break;
case ((NU8) 16):
case ((NU8) 4):
Result_97637 = Firstord_96001((*T_96003).Sons->data[0]);
break;
case ((NU8) 20):
Result_97637 = Getordvalue_96109((*(*T_96003).N).KindU.S6.Sons->data[0]);
break;
case ((NU8) 31):
if (!(Intsize_50570 == 4)) goto LA2;
Result_97637 = (-2147483647 -1);
goto LA1;
LA2: ;
Result_97637 = (IL64(-9223372036854775807) - IL64(1));
LA1: ;
break;
case ((NU8) 32):
Result_97637 = -128;
break;
case ((NU8) 33):
Result_97637 = -32768;
break;
case ((NU8) 34):
Result_97637 = (-2147483647 -1);
break;
case ((NU8) 35):
Result_97637 = (IL64(-9223372036854775807) - IL64(1));
break;
case ((NU8) 14):
LOC6 = Sonslen_54806(T_96003);
LOC5 = (0 < LOC6);
if (!(LOC5)) goto LA7;
LOC5 = !(((*T_96003).Sons->data[0] == NIM_NIL));
LA7: ;
if (!LOC5) goto LA8;
Result_97637 = Firstord_96001((*T_96003).Sons->data[0]);
goto LA4;
LA8: ;
Result_97637 = ((NI64) ((*(*(*(*T_96003).N).KindU.S6.Sons->data[0]).KindU.S4.Sym).Position));
LA4: ;
break;
case ((NU8) 11):
case ((NU8) 13):
LOC10 = 0;
LOC10 = Lastson_54812(T_96003);
Result_97637 = Firstord_96001(LOC10);
break;
default:
LOC11 = 0;
LOC11 = rawNewString(reprEnum((*T_96003).Kind, NTI54162)->Sup.len + 24);
appendString(LOC11, ((NimStringDesc*) &TMP193934));
appendString(LOC11, reprEnum((*T_96003).Kind, NTI54162));
appendChar(LOC11, 41);
Internalerror_46575(LOC11);
Result_97637 = 0;
break;
}
return Result_97637;
}
N_NIMCALL(NI64, Lastord_96004)(TY54551* T_96006) {
NI64 Result_97741;
NI LOC4;
TY54551* LOC5;
NimStringDesc* LOC6;
Result_97741 = 0;
switch ((*T_96006).Kind) {
case ((NU8) 1):
Result_97741 = 1;
break;
case ((NU8) 2):
Result_97741 = 255;
break;
case ((NU8) 19):
case ((NU8) 23):
Result_97741 = Lastord_96004((*T_96006).Sons->data[0]);
break;
case ((NU8) 16):
case ((NU8) 4):
Result_97741 = Lastord_96004((*T_96006).Sons->data[0]);
break;
case ((NU8) 20):
Result_97741 = Getordvalue_96109((*(*T_96006).N).KindU.S6.Sons->data[1]);
break;
case ((NU8) 31):
if (!(Intsize_50570 == 4)) goto LA2;
Result_97741 = 2147483647;
goto LA1;
LA2: ;
Result_97741 = IL64(9223372036854775807);
LA1: ;
break;
case ((NU8) 32):
Result_97741 = 127;
break;
case ((NU8) 33):
Result_97741 = 32767;
break;
case ((NU8) 34):
Result_97741 = 2147483647;
break;
case ((NU8) 35):
Result_97741 = IL64(9223372036854775807);
break;
case ((NU8) 14):
LOC4 = Sonslen_54803((*T_96006).N);
Result_97741 = ((NI64) ((*(*(*(*T_96006).N).KindU.S6.Sons->data[(NI32)(LOC4 - 1)]).KindU.S4.Sym).Position));
break;
case ((NU8) 11):
case ((NU8) 13):
LOC5 = 0;
LOC5 = Lastson_54812(T_96006);
Result_97741 = Firstord_96001(LOC5);
break;
default:
LOC6 = 0;
LOC6 = rawNewString(reprEnum((*T_96006).Kind, NTI54162)->Sup.len + 23);
appendString(LOC6, ((NimStringDesc*) &TMP193935));
appendString(LOC6, reprEnum((*T_96006).Kind, NTI54162));
appendChar(LOC6, 41);
Internalerror_46575(LOC6);
Result_97741 = 0;
break;
}
return Result_97741;
}
N_NIMCALL(NI64, Lengthord_96007)(TY54551* T_96009) {
NI64 Result_97832;
NI64 LOC1;
NI64 LOC2;
Result_97832 = 0;
switch ((*T_96009).Kind) {
case ((NU8) 35):
case ((NU8) 34):
case ((NU8) 31):
Result_97832 = Lastord_96004(T_96009);
break;
case ((NU8) 13):
Result_97832 = Lengthord_96007((*T_96009).Sons->data[0]);
break;
default:
LOC1 = Lastord_96004(T_96009);
LOC2 = Firstord_96001(T_96009);
Result_97832 = (NI64)((NI64)(LOC1 - LOC2) + 1);
break;
}
return Result_97832;
}
N_NIMCALL(TY54551*, Elemtype_96091)(TY54551* T_96093) {
TY54551* Result_96429;
TY54551* LOC1;
Result_96429 = 0;
switch ((*T_96093).Kind) {
case ((NU8) 11):
case ((NU8) 13):
LOC1 = 0;
LOC1 = Lastson_54812(T_96093);
Result_96429 = Elemtype_96091(LOC1);
break;
case ((NU8) 16):
case ((NU8) 4):
Result_96429 = (*T_96093).Sons->data[1];
break;
default:
Result_96429 = (*T_96093).Sons->data[0];
break;
}
return Result_96429;
}
N_NIMCALL(NI, Inheritancediff_96121)(TY54551* A_96123, TY54551* B_96124) {
NI Result_96168;
TY54551* X_96169;
TY54551* Y_96195;
Result_96168 = 0;
X_96169 = 0;
X_96169 = A_96123;
Result_96168 = 0;
while (1) {
if (!!((X_96169 == NIM_NIL))) goto LA1;
if (!((*X_96169).Sup.Id == (*B_96124).Sup.Id)) goto LA3;
goto BeforeRet;
LA3: ;
X_96169 = (*X_96169).Sons->data[0];
Result_96168 -= 1;
} LA1: ;
Y_96195 = 0;
Y_96195 = B_96124;
Result_96168 = 0;
while (1) {
if (!!((Y_96195 == NIM_NIL))) goto LA5;
if (!((*Y_96195).Sup.Id == (*A_96123).Sup.Id)) goto LA7;
goto BeforeRet;
LA7: ;
Y_96195 = (*Y_96195).Sons->data[0];
Result_96168 += 1;
} LA5: ;
Result_96168 = 2147483647;
BeforeRet: ;
return Result_96168;
}
N_NIMCALL(NI64, Align_98866)(NI64 Address_98868, NI64 Alignment_98869) {
NI64 Result_98870;
Result_98870 = 0;
Result_98870 = ((NI64)(Address_98868 + (NI64)(Alignment_98869 - 1)) & ~((NI64)(Alignment_98869 - 1)));
return Result_98870;
}
N_NIMCALL(NIM_BOOL, Isobjectwithtypefieldpredicate_96929)(TY54551* T_96931) {
NIM_BOOL Result_96932;
NIM_BOOL LOC1;
NIM_BOOL LOC2;
NIM_BOOL LOC3;
NIM_BOOL LOC6;
Result_96932 = 0;
LOC3 = ((*T_96931).Kind == ((NU8) 17));
if (!(LOC3)) goto LA4;
LOC3 = ((*T_96931).Sons->data[0] == NIM_NIL);
LA4: ;
LOC2 = LOC3;
if (!(LOC2)) goto LA5;
LOC6 = !(((*T_96931).Sym == NIM_NIL));
if (!(LOC6)) goto LA7;
LOC6 = (((*(*T_96931).Sym).Flags &(1<<((((NU8) 11))&31)))!=0);
LA7: ;
LOC2 = !(LOC6);
LA5: ;
LOC1 = LOC2;
if (!(LOC1)) goto LA8;
LOC1 = !((((*T_96931).Flags &(1<<((((NU8) 2))&7)))!=0));
LA8: ;
Result_96932 = LOC1;
return Result_96932;
}
static N_INLINE(TY54525*, Lastson_54809)(TY54525* N_54811) {
TY54525* Result_56817;
NI LOC1;
Result_56817 = 0;
LOC1 = Sonslen_54803(N_54811);
Result_56817 = (*N_54811).KindU.S6.Sons->data[(NI32)(LOC1 - 1)];
return Result_56817;
}
N_NIMCALL(NI64, Computerecsizeaux_98876)(TY54525* N_98878, NI64* A_98880, NI64* Curroffset_98881) {
NI64 Result_98882;
NI64 Maxalign_98883;
NI64 Maxsize_98884;
NI64 B_98885;
NI64 Res_98886;
NI I_98927;
NI HEX3Atmp_99008;
NI LOC1;
NI Res_99010;
TY54525* LOC3;
NI64 LOC7;
NI64 LOC8;
NI I_98966;
NI HEX3Atmp_99011;
NI LOC9;
NI Res_99013;
NI64 LOC14;
NI64 LOC15;
Result_98882 = 0;
Maxalign_98883 = 0;
Maxsize_98884 = 0;
B_98885 = 0;
Res_98886 = 0;
switch ((*N_98878).Kind) {
case ((NU8) 114):
Result_98882 = Computerecsizeaux_98876((*N_98878).KindU.S6.Sons->data[0], A_98880, Curroffset_98881);
Maxsize_98884 = 0;
Maxalign_98883 = 1;
I_98927 = 0;
HEX3Atmp_99008 = 0;
LOC1 = Sonslen_54803(N_98878);
HEX3Atmp_99008 = (NI32)(LOC1 - 1);
Res_99010 = 0;
Res_99010 = 1;
while (1) {
if (!(Res_99010 <= HEX3Atmp_99008)) goto LA2;
I_98927 = Res_99010;
switch ((*(*N_98878).KindU.S6.Sons->data[I_98927]).Kind) {
case ((NU8) 75):
case ((NU8) 78):
LOC3 = 0;
LOC3 = Lastson_54809((*N_98878).KindU.S6.Sons->data[I_98927]);
Res_98886 = Computerecsizeaux_98876(LOC3, &B_98885, Curroffset_98881);
if (!(Res_98886 < 0)) goto LA5;
Result_98882 = Res_98886;
goto BeforeRet;
LA5: ;
Maxsize_98884 = ((Maxsize_98884 >= Res_98886) ? Maxsize_98884 : Res_98886);
Maxalign_98883 = ((Maxalign_98883 >= B_98885) ? Maxalign_98883 : B_98885);
break;
default:
Internalerror_46575(((NimStringDesc*) &TMP193948));
break;
}
Res_99010 += 1;
} LA2: ;
LOC7 = Align_98866((*Curroffset_98881), Maxalign_98883);
(*Curroffset_98881) = (NI64)(LOC7 + Maxsize_98884);
LOC8 = Align_98866(Result_98882, Maxalign_98883);
Result_98882 = (NI64)(LOC8 + Maxsize_98884);
(*A_98880) = Maxalign_98883;
break;
case ((NU8) 113):
Result_98882 = 0;
Maxalign_98883 = 1;
I_98966 = 0;
HEX3Atmp_99011 = 0;
LOC9 = Sonslen_54803(N_98878);
HEX3Atmp_99011 = (NI32)(LOC9 - 1);
Res_99013 = 0;
Res_99013 = 0;
while (1) {
if (!(Res_99013 <= HEX3Atmp_99011)) goto LA10;
I_98966 = Res_99013;
Res_98886 = Computerecsizeaux_98876((*N_98878).KindU.S6.Sons->data[I_98966], &B_98885, Curroffset_98881);
if (!(Res_98886 < 0)) goto LA12;
Result_98882 = Res_98886;
goto BeforeRet;
LA12: ;
LOC14 = Align_98866((*Curroffset_98881), B_98885);
(*Curroffset_98881) = (NI64)(LOC14 + Res_98886);
LOC15 = Align_98866(Result_98882, B_98885);
Result_98882 = (NI64)(LOC15 + Res_98886);
if (!(Maxalign_98883 < B_98885)) goto LA17;
Maxalign_98883 = B_98885;
LA17: ;
Res_99013 += 1;
} LA10: ;
(*A_98880) = Maxalign_98883;
break;
case ((NU8) 3):
Result_98882 = Computesizeaux_98871((*(*N_98878).KindU.S4.Sym).Typ, A_98880);
(*(*N_98878).KindU.S4.Sym).Offset = ((NI) ((*Curroffset_98881)));
break;
default:
Internalerror_46575(((NimStringDesc*) &TMP193949));
(*A_98880) = 1;
Result_98882 = -1;
break;
}
BeforeRet: ;
return Result_98882;
}
N_NIMCALL(NI64, Computesizeaux_98871)(TY54551* Typ_98873, NI64* A_98875) {
NI64 Result_99019;
NI64 Res_99020;
NI64 Maxalign_99021;
NI64 Length_99022;
NI64 Curroffset_99023;
NI64 LOC10;
NI64 LOC11;
NI64 LOC13;
NI64 LOC32;
NI64 LOC35;
NI64 LOC36;
NI I_99062;
NI HEX3Atmp_99085;
NI LOC37;
NI Res_99087;
NI64 LOC42;
NIM_BOOL LOC49;
TY54551* LOC58;
Result_99019 = 0;
Res_99020 = 0;
Maxalign_99021 = 0;
Length_99022 = 0;
Curroffset_99023 = 0;
if (!((*Typ_98873).Size == -2)) goto LA2;
Result_99019 = -2;
goto BeforeRet;
LA2: ;
if (!(0 <= (*Typ_98873).Size)) goto LA5;
Result_99019 = (*Typ_98873).Size;
(*A_98875) = ((NI64) ((*Typ_98873).Align));
goto BeforeRet;
LA5: ;
(*Typ_98873).Size = -2;
switch ((*Typ_98873).Kind) {
case ((NU8) 31):
Result_99019 = ((NI64) (Intsize_50570));
(*A_98875) = Result_99019;
break;
case ((NU8) 32):
case ((NU8) 1):
case ((NU8) 2):
Result_99019 = 1;
(*A_98875) = Result_99019;
break;
case ((NU8) 33):
Result_99019 = 2;
(*A_98875) = Result_99019;
break;
case ((NU8) 34):
case ((NU8) 37):
Result_99019 = 4;
(*A_98875) = Result_99019;
break;
case ((NU8) 35):
case ((NU8) 38):
Result_99019 = 8;
(*A_98875) = Result_99019;
break;
case ((NU8) 36):
Result_99019 = ((NI64) (Floatsize_50571));
(*A_98875) = Result_99019;
break;
case ((NU8) 25):
if (!((*Typ_98873).Callconv == ((NU8) 8))) goto LA8;
Result_99019 = ((NI64) ((NI32)(2 * Ptrsize_50572)));
goto LA7;
LA8: ;
Result_99019 = ((NI64) (Ptrsize_50572));
LA7: ;
(*A_98875) = ((NI64) (Ptrsize_50572));
break;
case ((NU8) 5):
case ((NU8) 29):
case ((NU8) 28):
case ((NU8) 24):
case ((NU8) 21):
case ((NU8) 22):
case ((NU8) 27):
Result_99019 = ((NI64) (Ptrsize_50572));
(*A_98875) = Result_99019;
break;
case ((NU8) 16):
case ((NU8) 4):
LOC10 = Lengthord_96007((*Typ_98873).Sons->data[0]);
LOC11 = Computesizeaux_98871((*Typ_98873).Sons->data[1], A_98875);
Result_99019 = (NI64)(LOC10 * LOC11);
break;
case ((NU8) 14):
LOC13 = Firstord_96001(Typ_98873);
if (!(LOC13 < 0)) goto LA14;
Result_99019 = 4;
goto LA12;
LA14: ;
Length_99022 = Lastord_96004(Typ_98873);
if (!((NI64)(Length_99022 + 1) < 256)) goto LA17;
Result_99019 = 1;
goto LA16;
LA17: ;
if (!((NI64)(Length_99022 + 1) < 65536)) goto LA19;
Result_99019 = 2;
goto LA16;
LA19: ;
if (!((NI64)(Length_99022 + 1) < IL64(4294967296))) goto LA21;
Result_99019 = 4;
goto LA16;
LA21: ;
Result_99019 = 8;
LA16: ;
LA12: ;
(*A_98875) = Result_99019;
break;
case ((NU8) 19):
Length_99022 = Lengthord_96007((*Typ_98873).Sons->data[0]);
if (!(Length_99022 <= 8)) goto LA24;
Result_99019 = 1;
goto LA23;
LA24: ;
if (!(Length_99022 <= 16)) goto LA26;
Result_99019 = 2;
goto LA23;
LA26: ;
if (!(Length_99022 <= 32)) goto LA28;
Result_99019 = 4;
goto LA23;
LA28: ;
if (!(Length_99022 <= 64)) goto LA30;
Result_99019 = 8;
goto LA23;
LA30: ;
LOC32 = Align_98866(Length_99022, 8);
if (!((NI64)(LOC32 % 8) == 0)) goto LA33;
LOC35 = Align_98866(Length_99022, 8);
Result_99019 = (NI64)(LOC35 / 8);
goto LA23;
LA33: ;
LOC36 = Align_98866(Length_99022, 8);
Result_99019 = (NI64)((NI64)(LOC36 / 8) + 1);
LA23: ;
(*A_98875) = Result_99019;
break;
case ((NU8) 20):
Result_99019 = Computesizeaux_98871((*Typ_98873).Sons->data[0], A_98875);
break;
case ((NU8) 18):
Result_99019 = 0;
Maxalign_99021 = 1;
I_99062 = 0;
HEX3Atmp_99085 = 0;
LOC37 = Sonslen_54806(Typ_98873);
HEX3Atmp_99085 = (NI32)(LOC37 - 1);
Res_99087 = 0;
Res_99087 = 0;
while (1) {
if (!(Res_99087 <= HEX3Atmp_99085)) goto LA38;
I_99062 = Res_99087;
Res_99020 = Computesizeaux_98871((*Typ_98873).Sons->data[I_99062], A_98875);
if (!(Res_99020 < 0)) goto LA40;
Result_99019 = Res_99020;
goto BeforeRet;
LA40: ;
Maxalign_99021 = ((Maxalign_99021 >= (*A_98875)) ? Maxalign_99021 : (*A_98875));
LOC42 = Align_98866(Result_99019, (*A_98875));
Result_99019 = (NI64)(LOC42 + Res_99020);
Res_99087 += 1;
} LA38: ;
Result_99019 = Align_98866(Result_99019, Maxalign_99021);
(*A_98875) = Maxalign_99021;
break;
case ((NU8) 17):
if (!!(((*Typ_98873).Sons->data[0] == NIM_NIL))) goto LA44;
Result_99019 = Computesizeaux_98871((*Typ_98873).Sons->data[0], A_98875);
if (!(Result_99019 < 0)) goto LA47;
goto BeforeRet;
LA47: ;
Maxalign_99021 = (*A_98875);
goto LA43;
LA44: ;
LOC49 = Isobjectwithtypefieldpredicate_96929(Typ_98873);
if (!LOC49) goto LA50;
Result_99019 = ((NI64) (Intsize_50570));
Maxalign_99021 = Result_99019;
goto LA43;
LA50: ;
Result_99019 = 0;
Maxalign_99021 = 1;
LA43: ;
Curroffset_99023 = Result_99019;
Result_99019 = Computerecsizeaux_98876((*Typ_98873).N, A_98875, &Curroffset_99023);
if (!(Result_99019 < 0)) goto LA53;
goto BeforeRet;
LA53: ;
if (!((*A_98875) < Maxalign_99021)) goto LA56;
(*A_98875) = Maxalign_99021;
LA56: ;
Result_99019 = Align_98866(Result_99019, (*A_98875));
break;
case ((NU8) 11):
case ((NU8) 13):
case ((NU8) 10):
LOC58 = 0;
LOC58 = Lastson_54812(Typ_98873);
Result_99019 = Computesizeaux_98871(LOC58, A_98875);
break;
default:
Result_99019 = -1;
break;
}
(*Typ_98873).Size = Result_99019;
(*Typ_98873).Align = ((NI) ((*A_98875)));
BeforeRet: ;
return Result_99019;
}
N_NIMCALL(NI64, Computesize_96112)(TY54551* Typ_96114) {
NI64 Result_99091;
NI64 A_99092;
Result_99091 = 0;
A_99092 = 0;
A_99092 = 1;
Result_99091 = Computesizeaux_98871(Typ_96114, &A_99092);
return Result_99091;
}
N_NIMCALL(NI64, Getsize_96115)(TY54551* Typ_96117) {
NI64 Result_99097;
NimStringDesc* LOC4;
Result_99097 = 0;
Result_99097 = Computesize_96112(Typ_96117);
if (!(Result_99097 < 0)) goto LA2;
LOC4 = 0;
LOC4 = rawNewString(reprEnum((*Typ_96117).Kind, NTI54162)->Sup.len + 9);
appendString(LOC4, ((NimStringDesc*) &TMP193950));
appendString(LOC4, reprEnum((*Typ_96117).Kind, NTI54162));
appendChar(LOC4, 41);
Internalerror_46575(LOC4);
LA2: ;
return Result_99097;
}
N_NIMCALL(NimStringDesc*, Rangetostr_97369)(TY54525* N_97371) {
NimStringDesc* Result_97372;
NimStringDesc* LOC1;
NimStringDesc* LOC2;
NimStringDesc* LOC3;
Result_97372 = 0;
LOC1 = 0;
LOC2 = 0;
LOC2 = Valuetostring_54874((*N_97371).KindU.S6.Sons->data[0]);
LOC3 = 0;
LOC3 = Valuetostring_54874((*N_97371).KindU.S6.Sons->data[1]);
LOC1 = rawNewString(LOC2->Sup.len + LOC3->Sup.len + 2);
appendString(LOC1, LOC2);
appendString(LOC1, ((NimStringDesc*) &TMP194036));
appendString(LOC1, LOC3);
Result_97372 = LOC1;
return Result_97372;
}
static N_INLINE(void, Addsep_24854)(NimStringDesc** Dest_24857, NimStringDesc* Sep_24858, NI Startlen_24859) {
if (!(Startlen_24859 < (*Dest_24857)->Sup.len)) goto LA2;
(*Dest_24857) = resizeString((*Dest_24857), Sep_24858->Sup.len + 0);
appendString((*Dest_24857), Sep_24858);
LA2: ;
}
N_NIMCALL(NimStringDesc*, Typetostring_96014)(TY54551* Typ_96016, NU8 Prefer_96017) {
NimStringDesc* Result_97410;
TY54551* T_97415;
NIM_BOOL LOC5;
NimStringDesc* LOC9;
NimStringDesc* LOC10;
NI I_97468;
NI HEX3Atmp_97605;
NI LOC11;
NI Res_97607;
NimStringDesc* LOC16;
NimStringDesc* LOC20;
NimStringDesc* LOC21;
NimStringDesc* LOC22;
NimStringDesc* LOC23;
NimStringDesc* LOC24;
NimStringDesc* LOC25;
NimStringDesc* LOC26;
NimStringDesc* LOC27;
NimStringDesc* LOC28;
NimStringDesc* LOC29;
NimStringDesc* LOC30;
NimStringDesc* LOC31;
NimStringDesc* LOC32;
NimStringDesc* LOC33;
NimStringDesc* LOC34;
NimStringDesc* LOC35;
NimStringDesc* LOC36;
NimStringDesc* LOC37;
NimStringDesc* LOC38;
NI I_97500;
NI HEX3Atmp_97608;
NI LOC42;
NI Res_97610;
NimStringDesc* LOC44;
NimStringDesc* LOC45;
NI LOC47;
NI I_97555;
NI HEX3Atmp_97611;
NI LOC50;
NI Res_97613;
NimStringDesc* LOC52;
NI LOC54;
NimStringDesc* LOC57;
NimStringDesc* LOC58;
NimStringDesc* LOC59;
NimStringDesc* LOC60;
NI I_97565;
NI HEX3Atmp_97614;
NI LOC61;
NI Res_97616;
NimStringDesc* LOC63;
NI LOC65;
NimStringDesc* LOC71;
NimStringDesc* LOC72;
NimStringDesc* Prag_97579;
NimStringDesc* LOC82;
Result_97410 = 0;
T_97415 = 0;
T_97415 = Typ_96016;
Result_97410 = copyString(((NimStringDesc*) &TMP193933));
if (!(T_97415 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
LOC5 = (Prefer_96017 == ((NU8) 0));
if (!(LOC5)) goto LA6;
LOC5 = !(((*T_97415).Sym == NIM_NIL));
LA6: ;
if (!LOC5) goto LA7;
Result_97410 = copyString((*(*(*T_97415).Sym).Name).S);
goto BeforeRet;
LA7: ;
switch ((*T_97415).Kind) {
case ((NU8) 10):
case ((NU8) 11):
case ((NU8) 9):
LOC9 = 0;
LOC10 = 0;
LOC10 = Typetostring_96014((*T_97415).Sons->data[0], ((NU8) 0));
LOC9 = rawNewString(LOC10->Sup.len + 1);
appendString(LOC9, LOC10);
appendChar(LOC9, 91);
Result_97410 = LOC9;
I_97468 = 0;
HEX3Atmp_97605 = 0;
LOC11 = Sonslen_54806(T_97415);
HEX3Atmp_97605 = (NI32)((NI32)(LOC11 - 1) - !(((*T_97415).Kind == ((NU8) 9))));
Res_97607 = 0;
Res_97607 = 1;
while (1) {
if (!(Res_97607 <= HEX3Atmp_97605)) goto LA12;
I_97468 = Res_97607;
if (!(1 < I_97468)) goto LA14;
Result_97410 = resizeString(Result_97410, 2);
appendString(Result_97410, ((NimStringDesc*) &TMP194033));
LA14: ;
LOC16 = 0;
LOC16 = Typetostring_96014((*T_97415).Sons->data[I_97468], ((NU8) 0));
Result_97410 = resizeString(Result_97410, LOC16->Sup.len + 0);
appendString(Result_97410, LOC16);
Res_97607 += 1;
} LA12: ;
Result_97410 = addChar(Result_97410, 93);
break;
case ((NU8) 16):
if (!((*(*T_97415).Sons->data[0]).Kind == ((NU8) 20))) goto LA18;
LOC20 = 0;
LOC21 = 0;
LOC21 = Rangetostr_97369((*(*T_97415).Sons->data[0]).N);
LOC22 = 0;
LOC22 = Typetostring_96014((*T_97415).Sons->data[1], ((NU8) 0));
LOC20 = rawNewString(LOC21->Sup.len + LOC22->Sup.len + 9);
appendString(LOC20, ((NimStringDesc*) &TMP194034));
appendString(LOC20, LOC21);
appendString(LOC20, ((NimStringDesc*) &TMP194033));
appendString(LOC20, LOC22);
appendChar(LOC20, 93);
Result_97410 = LOC20;
goto LA17;
LA18: ;
LOC23 = 0;
LOC24 = 0;
LOC24 = Typetostring_96014((*T_97415).Sons->data[0], ((NU8) 0));
LOC25 = 0;
LOC25 = Typetostring_96014((*T_97415).Sons->data[1], ((NU8) 0));
LOC23 = rawNewString(LOC24->Sup.len + LOC25->Sup.len + 9);
appendString(LOC23, ((NimStringDesc*) &TMP194034));
appendString(LOC23, LOC24);
appendString(LOC23, ((NimStringDesc*) &TMP194033));
appendString(LOC23, LOC25);
appendChar(LOC23, 93);
Result_97410 = LOC23;
LA17: ;
break;
case ((NU8) 4):
LOC26 = 0;
LOC27 = 0;
LOC27 = Rangetostr_97369((*(*T_97415).Sons->data[0]).N);
LOC28 = 0;
LOC28 = Typetostring_96014((*T_97415).Sons->data[1], ((NU8) 0));
LOC26 = rawNewString(LOC27->Sup.len + LOC28->Sup.len + 21);
appendString(LOC26, ((NimStringDesc*) &TMP194037));
appendString(LOC26, LOC27);
appendString(LOC26, ((NimStringDesc*) &TMP194033));
appendString(LOC26, LOC28);
appendChar(LOC26, 93);
Result_97410 = LOC26;
break;
case ((NU8) 24):
LOC29 = 0;
LOC30 = 0;
LOC30 = Typetostring_96014((*T_97415).Sons->data[0], ((NU8) 0));
LOC29 = rawNewString(LOC30->Sup.len + 5);
appendString(LOC29, ((NimStringDesc*) &TMP194038));
appendString(LOC29, LOC30);
appendChar(LOC29, 93);
Result_97410 = LOC29;
break;
case ((NU8) 15):
LOC31 = 0;
LOC32 = 0;
LOC32 = Typetostring_96014((*T_97415).Sons->data[0], ((NU8) 0));
LOC31 = rawNewString(LOC32->Sup.len + 9);
appendString(LOC31, ((NimStringDesc*) &TMP194039));
appendString(LOC31, LOC32);
appendChar(LOC31, 93);
Result_97410 = LOC31;
break;
case ((NU8) 19):
LOC33 = 0;
LOC34 = 0;
LOC34 = Typetostring_96014((*T_97415).Sons->data[0], ((NU8) 0));
LOC33 = rawNewString(LOC34->Sup.len + 5);
appendString(LOC33, ((NimStringDesc*) &TMP194040));
appendString(LOC33, LOC34);
appendChar(LOC33, 93);
Result_97410 = LOC33;
break;
case ((NU8) 27):
LOC35 = 0;
LOC36 = 0;
LOC36 = Typetostring_96014((*T_97415).Sons->data[0], ((NU8) 0));
LOC35 = rawNewString(LOC36->Sup.len + 11);
appendString(LOC35, ((NimStringDesc*) &TMP194041));
appendString(LOC35, LOC36);
appendChar(LOC35, 93);
Result_97410 = LOC35;
break;
case ((NU8) 13):
LOC37 = 0;
LOC38 = 0;
LOC38 = Typetostring_96014((*T_97415).Sons->data[0], ((NU8) 0));
LOC37 = rawNewString(LOC38->Sup.len + 9);
appendString(LOC37, ((NimStringDesc*) &TMP194042));
appendString(LOC37, LOC38);
Result_97410 = LOC37;
break;
case ((NU8) 18):
Result_97410 = copyString(((NimStringDesc*) &TMP194043));
if (!!(((*T_97415).N == NIM_NIL))) goto LA40;
I_97500 = 0;
HEX3Atmp_97608 = 0;
LOC42 = Sonslen_54803((*T_97415).N);
HEX3Atmp_97608 = (NI32)(LOC42 - 1);
Res_97610 = 0;
Res_97610 = 0;
while (1) {
if (!(Res_97610 <= HEX3Atmp_97608)) goto LA43;
I_97500 = Res_97610;
LOC44 = 0;
LOC45 = 0;
LOC45 = Typetostring_96014((*T_97415).Sons->data[I_97500], ((NU8) 0));
LOC44 = rawNewString((*(*(*(*(*T_97415).N).KindU.S6.Sons->data[I_97500]).KindU.S4.Sym).Name).S->Sup.len + LOC45->Sup.len + 2);
appendString(LOC44, (*(*(*(*(*T_97415).N).KindU.S6.Sons->data[I_97500]).KindU.S4.Sym).Name).S);
appendString(LOC44, ((NimStringDesc*) &TMP194044));
appendString(LOC44, LOC45);
Result_97410 = resizeString(Result_97410, LOC44->Sup.len + 0);
appendString(Result_97410, LOC44);
LOC47 = Sonslen_54803((*T_97415).N);
if (!(I_97500 < (NI32)(LOC47 - 1))) goto LA48;
Result_97410 = resizeString(Result_97410, 2);
appendString(Result_97410, ((NimStringDesc*) &TMP194033));
LA48: ;
Res_97610 += 1;
} LA43: ;
goto LA39;
LA40: ;
I_97555 = 0;
HEX3Atmp_97611 = 0;
LOC50 = Sonslen_54806(T_97415);
HEX3Atmp_97611 = (NI32)(LOC50 - 1);
Res_97613 = 0;
Res_97613 = 0;
while (1) {
if (!(Res_97613 <= HEX3Atmp_97611)) goto LA51;
I_97555 = Res_97613;
LOC52 = 0;
LOC52 = Typetostring_96014((*T_97415).Sons->data[I_97555], ((NU8) 0));
Result_97410 = resizeString(Result_97410, LOC52->Sup.len + 0);
appendString(Result_97410, LOC52);
LOC54 = Sonslen_54806(T_97415);
if (!(I_97555 < (NI32)(LOC54 - 1))) goto LA55;
Result_97410 = resizeString(Result_97410, 2);
appendString(Result_97410, ((NimStringDesc*) &TMP194033));
LA55: ;
Res_97613 += 1;
} LA51: ;
LA39: ;
Result_97410 = addChar(Result_97410, 93);
break;
case ((NU8) 21):
case ((NU8) 22):
case ((NU8) 23):
LOC57 = 0;
LOC58 = 0;
LOC58 = Typetostring_96014((*T_97415).Sons->data[0], ((NU8) 0));
LOC57 = rawNewString(Typetostr_97411[((*T_97415).Kind)-0]->Sup.len + LOC58->Sup.len + 0);
appendString(LOC57, Typetostr_97411[((*T_97415).Kind)-0]);
appendString(LOC57, LOC58);
Result_97410 = LOC57;
break;
case ((NU8) 20):
LOC59 = 0;
LOC60 = 0;
LOC60 = Rangetostr_97369((*T_97415).N);
LOC59 = rawNewString(LOC60->Sup.len + 6);
appendString(LOC59, ((NimStringDesc*) &TMP194045));
appendString(LOC59, LOC60);
Result_97410 = LOC59;
break;
case ((NU8) 25):
Result_97410 = copyString(((NimStringDesc*) &TMP194046));
I_97565 = 0;
HEX3Atmp_97614 = 0;
LOC61 = Sonslen_54806(T_97415);
HEX3Atmp_97614 = (NI32)(LOC61 - 1);
Res_97616 = 0;
Res_97616 = 1;
while (1) {
if (!(Res_97616 <= HEX3Atmp_97614)) goto LA62;
I_97565 = Res_97616;
LOC63 = 0;
LOC63 = Typetostring_96014((*T_97415).Sons->data[I_97565], ((NU8) 0));
Result_97410 = resizeString(Result_97410, LOC63->Sup.len + 0);
appendString(Result_97410, LOC63);
LOC65 = Sonslen_54806(T_97415);
if (!(I_97565 < (NI32)(LOC65 - 1))) goto LA66;
Result_97410 = resizeString(Result_97410, 2);
appendString(Result_97410, ((NimStringDesc*) &TMP194033));
LA66: ;
Res_97616 += 1;
} LA62: ;
Result_97410 = addChar(Result_97410, 41);
if (!!(((*T_97415).Sons->data[0] == NIM_NIL))) goto LA69;
LOC71 = 0;
LOC72 = 0;
LOC72 = Typetostring_96014((*T_97415).Sons->data[0], ((NU8) 0));
LOC71 = rawNewString(LOC72->Sup.len + 2);
appendString(LOC71, ((NimStringDesc*) &TMP194044));
appendString(LOC71, LOC72);
Result_97410 = resizeString(Result_97410, LOC71->Sup.len + 0);
appendString(Result_97410, LOC71);
LA69: ;
Prag_97579 = 0;
if (!!(((*T_97415).Callconv == ((NU8) 0)))) goto LA74;
Prag_97579 = copyString(Callingconvtostr_54015[((*T_97415).Callconv)-0]);
goto LA73;
LA74: ;
Prag_97579 = copyString(((NimStringDesc*) &TMP193933));
LA73: ;
if (!(((*T_97415).Flags &(1<<((((NU8) 1))&7)))!=0)) goto LA77;
Addsep_24854(&Prag_97579, ((NimStringDesc*) &TMP194033), 0);
Prag_97579 = resizeString(Prag_97579, 12);
appendString(Prag_97579, ((NimStringDesc*) &TMP194047));
LA77: ;
if (!!((Prag_97579->Sup.len == 0))) goto LA80;
LOC82 = 0;
LOC82 = rawNewString(Prag_97579->Sup.len + 4);
appendString(LOC82, ((NimStringDesc*) &TMP194048));
appendString(LOC82, Prag_97579);
appendString(LOC82, ((NimStringDesc*) &TMP194049));
Result_97410 = resizeString(Result_97410, LOC82->Sup.len + 0);
appendString(Result_97410, LOC82);
LA80: ;
break;
default:
Result_97410 = copyString(Typetostr_97411[((*T_97415).Kind)-0]);
break;
}
BeforeRet: ;
return Result_97410;
}
N_NIMCALL(TY54551*, Base_96021)(TY54551* T_96023) {
TY54551* Result_97633;
Result_97633 = 0;
Result_97633 = (*T_96023).Sons->data[0];
return Result_97633;
}
N_NIMCALL(NIM_BOOL, Isordinaltype_96069)(TY54551* T_96071) {
NIM_BOOL Result_96590;
NIM_BOOL LOC1;
NIM_BOOL LOC3;
Result_96590 = 0;
LOC1 = ((*T_96071).Kind == ((NU8) 2) || (*T_96071).Kind >= ((NU8) 31) && (*T_96071).Kind <= ((NU8) 35) || (*T_96071).Kind == ((NU8) 1) || (*T_96071).Kind == ((NU8) 14));
if (LOC1) goto LA2;
LOC3 = ((*T_96071).Kind == ((NU8) 20) || (*T_96071).Kind == ((NU8) 15));
if (!(LOC3)) goto LA4;
LOC3 = Isordinaltype_96069((*T_96071).Sons->data[0]);
LA4: ;
LOC1 = LOC3;
LA2: ;
Result_96590 = LOC1;
return Result_96590;
}
N_NIMCALL(NIM_BOOL, Iterovernode_96667)(TY54900* Marker_96670, TY54525* N_96671, TY96025 Iter_96672, TNimObject* Closure_96673) {
NIM_BOOL Result_96674;
NI I_96693;
NI HEX3Atmp_96706;
NI LOC4;
NI Res_96708;
Result_96674 = 0;
Result_96674 = NIM_FALSE;
if (!!((N_96671 == NIM_NIL))) goto LA2;
switch ((*N_96671).Kind) {
case ((NU8) 0) ... ((NU8) 18):
Result_96674 = Iterovertypeaux_96660(Marker_96670, (*N_96671).Typ, Iter_96672, Closure_96673);
break;
default:
I_96693 = 0;
HEX3Atmp_96706 = 0;
LOC4 = Sonslen_54803(N_96671);
HEX3Atmp_96706 = (NI32)(LOC4 - 1);
Res_96708 = 0;
Res_96708 = 0;
while (1) {
if (!(Res_96708 <= HEX3Atmp_96706)) goto LA5;
I_96693 = Res_96708;
Result_96674 = Iterovernode_96667(Marker_96670, (*N_96671).KindU.S6.Sons->data[I_96693], Iter_96672, Closure_96673);
if (!Result_96674) goto LA7;
goto BeforeRet;
LA7: ;
Res_96708 += 1;
} LA5: ;
break;
}
LA2: ;
BeforeRet: ;
return Result_96674;
}
N_NIMCALL(NIM_BOOL, Iterovertypeaux_96660)(TY54900* Marker_96663, TY54551* T_96664, TY96025 Iter_96665, TNimObject* Closure_96666) {
NIM_BOOL Result_96716;
NIM_BOOL LOC8;
TY54551* LOC11;
NI I_96735;
NI HEX3Atmp_96747;
NI LOC12;
NI Res_96749;
Result_96716 = 0;
Result_96716 = NIM_FALSE;
if (!(T_96664 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
Result_96716 = Iter_96665(T_96664, Closure_96666);
if (!Result_96716) goto LA5;
goto BeforeRet;
LA5: ;
LOC8 = Intsetcontainsorincl_54928(Marker_96663, (*T_96664).Sup.Id);
if (!!(LOC8)) goto LA9;
switch ((*T_96664).Kind) {
case ((NU8) 11):
case ((NU8) 10):
LOC11 = 0;
LOC11 = Lastson_54812(T_96664);
Result_96716 = Iterovertypeaux_96660(Marker_96663, LOC11, Iter_96665, Closure_96666);
break;
default:
I_96735 = 0;
HEX3Atmp_96747 = 0;
LOC12 = Sonslen_54806(T_96664);
HEX3Atmp_96747 = (NI32)(LOC12 - 1);
Res_96749 = 0;
Res_96749 = 0;
while (1) {
if (!(Res_96749 <= HEX3Atmp_96747)) goto LA13;
I_96735 = Res_96749;
Result_96716 = Iterovertypeaux_96660(Marker_96663, (*T_96664).Sons->data[I_96735], Iter_96665, Closure_96666);
if (!Result_96716) goto LA15;
goto BeforeRet;
LA15: ;
Res_96749 += 1;
} LA13: ;
if (!!(((*T_96664).N == NIM_NIL))) goto LA18;
Result_96716 = Iterovernode_96667(Marker_96663, (*T_96664).N, Iter_96665, Closure_96666);
LA18: ;
break;
}
LA9: ;
BeforeRet: ;
return Result_96716;
}
N_NIMCALL(NIM_BOOL, Iterovertype_96038)(TY54551* T_96040, TY96025 Iter_96041, TNimObject* Closure_96042) {
NIM_BOOL Result_96755;
TY54900 Marker_96756;
Result_96755 = 0;
memset((void*)&Marker_96756, 0, sizeof(Marker_96756));
Intsetinit_54924(&Marker_96756);
Result_96755 = Iterovertypeaux_96660(&Marker_96756, T_96040, Iter_96041, Closure_96042);
return Result_96755;
}
N_NIMCALL(NIM_BOOL, Equalordistinctof_96056)(TY54551* X_96058, TY54551* Y_96059) {
NIM_BOOL Result_98483;
NIM_BOOL LOC5;
TY54551* A_98516;
TY54551* B_98518;
TY54551* LOC18;
TY54551* LOC19;
NI LOC21;
NI LOC22;
NI I_98579;
NI HEX3Atmp_98646;
NI LOC25;
NI Res_98648;
NIM_BOOL LOC31;
NIM_BOOL LOC35;
NIM_BOOL LOC36;
Result_98483 = 0;
if (!(X_96058 == Y_96059)) goto LA2;
Result_98483 = NIM_TRUE;
goto BeforeRet;
LA2: ;
LOC5 = (X_96058 == NIM_NIL);
if (LOC5) goto LA6;
LOC5 = (Y_96059 == NIM_NIL);
LA6: ;
if (!LOC5) goto LA7;
Result_98483 = NIM_FALSE;
goto BeforeRet;
LA7: ;
A_98516 = 0;
A_98516 = Skiptypes_96087(X_96058, IL64(2251799813685248));
B_98518 = 0;
B_98518 = Skiptypes_96087(Y_96059, IL64(2251799813685248));
if (!!(((*A_98516).Kind == (*B_98518).Kind))) goto LA10;
if (!((*A_98516).Kind == ((NU8) 13))) goto LA13;
A_98516 = (*A_98516).Sons->data[0];
LA13: ;
if (!!(((*A_98516).Kind == (*B_98518).Kind))) goto LA16;
Result_98483 = NIM_FALSE;
goto BeforeRet;
LA16: ;
LA10: ;
switch ((*A_98516).Kind) {
case ((NU8) 3):
case ((NU8) 2):
case ((NU8) 1):
case ((NU8) 5):
case ((NU8) 26):
case ((NU8) 28):
case ((NU8) 29):
case ((NU8) 31) ... ((NU8) 39):
case ((NU8) 6):
case ((NU8) 7):
case ((NU8) 8):
Result_98483 = NIM_TRUE;
break;
case ((NU8) 14):
case ((NU8) 30):
case ((NU8) 17):
case ((NU8) 13):
Result_98483 = ((*A_98516).Sup.Id == (*B_98518).Sup.Id);
break;
case ((NU8) 18):
Result_98483 = Sametuple_98203(A_98516, B_98518, NIM_TRUE);
break;
case ((NU8) 11):
LOC18 = 0;
LOC18 = Lastson_54812(A_98516);
LOC19 = 0;
LOC19 = Lastson_54812(B_98518);
Result_98483 = Equalordistinctof_96056(LOC18, LOC19);
break;
case ((NU8) 12):
case ((NU8) 9):
case ((NU8) 10):
case ((NU8) 24):
case ((NU8) 15):
case ((NU8) 27):
case ((NU8) 19):
case ((NU8) 22):
case ((NU8) 21):
case ((NU8) 23):
case ((NU8) 4):
case ((NU8) 16):
case ((NU8) 25):
LOC21 = Sonslen_54806(A_98516);
LOC22 = Sonslen_54806(B_98518);
if (!(LOC21 == LOC22)) goto LA23;
Result_98483 = NIM_TRUE;
I_98579 = 0;
HEX3Atmp_98646 = 0;
LOC25 = Sonslen_54806(A_98516);
HEX3Atmp_98646 = (NI32)(LOC25 - 1);
Res_98648 = 0;
Res_98648 = 0;
while (1) {
if (!(Res_98648 <= HEX3Atmp_98646)) goto LA26;
I_98579 = Res_98648;
Result_98483 = Equalordistinctof_96056((*A_98516).Sons->data[I_98579], (*B_98518).Sons->data[I_98579]);
if (!!(Result_98483)) goto LA28;
goto BeforeRet;
LA28: ;
Res_98648 += 1;
} LA26: ;
LOC31 = Result_98483;
if (!(LOC31)) goto LA32;
LOC31 = ((*A_98516).Kind == ((NU8) 25));
LA32: ;
if (!LOC31) goto LA33;
Result_98483 = ((*A_98516).Callconv == (*B_98518).Callconv);
LA33: ;
goto LA20;
LA23: ;
Result_98483 = NIM_FALSE;
LA20: ;
break;
case ((NU8) 20):
LOC36 = Equalordistinctof_96056((*A_98516).Sons->data[0], (*B_98518).Sons->data[0]);
if (!(LOC36)) goto LA37;
LOC36 = Samevalue_54866((*(*A_98516).N).KindU.S6.Sons->data[0], (*(*B_98518).N).KindU.S6.Sons->data[0]);
LA37: ;
LOC35 = LOC36;
if (!(LOC35)) goto LA38;
LOC35 = Samevalue_54866((*(*A_98516).N).KindU.S6.Sons->data[1], (*(*B_98518).N).KindU.S6.Sons->data[1]);
LA38: ;
Result_98483 = LOC35;
break;
case ((NU8) 0):
Result_98483 = NIM_FALSE;
break;
}
BeforeRet: ;
return Result_98483;
}
N_NIMCALL(NIM_BOOL, Sametuple_98203)(TY54551* A_98205, TY54551* B_98206, NIM_BOOL Distinctof_98207) {
NIM_BOOL Result_98208;
TY54547* X_98209;
TY54547* Y_98210;
NI LOC2;
NI LOC3;
NI I_98220;
NI HEX3Atmp_98343;
NI LOC6;
NI Res_98345;
NIM_BOOL LOC15;
NI I_98250;
NI HEX3Atmp_98346;
NI LOC19;
NI Res_98348;
Result_98208 = 0;
X_98209 = 0;
Y_98210 = 0;
LOC2 = Sonslen_54806(A_98205);
LOC3 = Sonslen_54806(B_98206);
if (!(LOC2 == LOC3)) goto LA4;
Result_98208 = NIM_TRUE;
I_98220 = 0;
HEX3Atmp_98343 = 0;
LOC6 = Sonslen_54806(A_98205);
HEX3Atmp_98343 = (NI32)(LOC6 - 1);
Res_98345 = 0;
Res_98345 = 0;
while (1) {
if (!(Res_98345 <= HEX3Atmp_98343)) goto LA7;
I_98220 = Res_98345;
if (!Distinctof_98207) goto LA9;
Result_98208 = Equalordistinctof_96056((*A_98205).Sons->data[I_98220], (*B_98206).Sons->data[I_98220]);
goto LA8;
LA9: ;
Result_98208 = Sametype_96048((*A_98205).Sons->data[I_98220], (*B_98206).Sons->data[I_98220]);
LA8: ;
if (!!(Result_98208)) goto LA12;
goto BeforeRet;
LA12: ;
Res_98345 += 1;
} LA7: ;
LOC15 = !(((*A_98205).N == NIM_NIL));
if (!(LOC15)) goto LA16;
LOC15 = !(((*B_98206).N == NIM_NIL));
LA16: ;
if (!LOC15) goto LA17;
I_98250 = 0;
HEX3Atmp_98346 = 0;
LOC19 = Sonslen_54803((*A_98205).N);
HEX3Atmp_98346 = (NI32)(LOC19 - 1);
Res_98348 = 0;
Res_98348 = 0;
while (1) {
if (!(Res_98348 <= HEX3Atmp_98346)) goto LA20;
I_98250 = Res_98348;
if (!!(((*(*(*A_98205).N).KindU.S6.Sons->data[I_98250]).Kind == ((NU8) 3)))) goto LA22;
Internalerror_46571((*(*A_98205).N).Info, ((NimStringDesc*) &TMP194065));
LA22: ;
if (!!(((*(*(*B_98206).N).KindU.S6.Sons->data[I_98250]).Kind == ((NU8) 3)))) goto LA25;
Internalerror_46571((*(*B_98206).N).Info, ((NimStringDesc*) &TMP194065));
LA25: ;
X_98209 = (*(*(*A_98205).N).KindU.S6.Sons->data[I_98250]).KindU.S4.Sym;
Y_98210 = (*(*(*B_98206).N).KindU.S6.Sons->data[I_98250]).KindU.S4.Sym;
Result_98208 = ((*(*X_98209).Name).Sup.Id == (*(*Y_98210).Name).Sup.Id);
if (!!(Result_98208)) goto LA28;
goto LA20;
LA28: ;
Res_98348 += 1;
} LA20: ;
LA17: ;
goto LA1;
LA4: ;
Result_98208 = NIM_FALSE;
LA1: ;
BeforeRet: ;
return Result_98208;
}
N_NIMCALL(NIM_BOOL, Sametypeornil_96052)(TY54551* A_96054, TY54551* B_96055) {
NIM_BOOL Result_98054;
NIM_BOOL LOC5;
Result_98054 = 0;
if (!(A_96054 == B_96055)) goto LA2;
Result_98054 = NIM_TRUE;
goto LA1;
LA2: ;
LOC5 = (A_96054 == NIM_NIL);
if (LOC5) goto LA6;
LOC5 = (B_96055 == NIM_NIL);
LA6: ;
if (!LOC5) goto LA7;
Result_98054 = NIM_FALSE;
goto LA4;
LA7: ;
Result_98054 = Sametype_96048(A_96054, B_96055);
LA4: ;
LA1: ;
return Result_98054;
}
N_NIMCALL(NIM_BOOL, Sametype_96048)(TY54551* X_96050, TY54551* Y_96051) {
NIM_BOOL Result_98353;
TY54551* A_98364;
TY54551* B_98366;
TY54551* LOC7;
TY54551* LOC8;
NI LOC10;
NI LOC11;
NI I_98409;
NI HEX3Atmp_98476;
NI LOC14;
NI Res_98478;
NIM_BOOL LOC20;
NIM_BOOL LOC24;
NIM_BOOL LOC25;
Result_98353 = 0;
if (!(X_96050 == Y_96051)) goto LA2;
Result_98353 = NIM_TRUE;
goto BeforeRet;
LA2: ;
A_98364 = 0;
A_98364 = Skiptypes_96087(X_96050, IL64(2251799813685248));
B_98366 = 0;
B_98366 = Skiptypes_96087(Y_96051, IL64(2251799813685248));
if (!!(((*A_98364).Kind == (*B_98366).Kind))) goto LA5;
Result_98353 = NIM_FALSE;
goto BeforeRet;
LA5: ;
switch ((*A_98364).Kind) {
case ((NU8) 3):
case ((NU8) 2):
case ((NU8) 1):
case ((NU8) 5):
case ((NU8) 26):
case ((NU8) 28):
case ((NU8) 29):
case ((NU8) 31) ... ((NU8) 39):
case ((NU8) 6):
case ((NU8) 7):
case ((NU8) 8):
Result_98353 = NIM_TRUE;
break;
case ((NU8) 14):
case ((NU8) 30):
case ((NU8) 17):
case ((NU8) 13):
Result_98353 = ((*A_98364).Sup.Id == (*B_98366).Sup.Id);
break;
case ((NU8) 18):
Result_98353 = Sametuple_98203(A_98364, B_98366, NIM_FALSE);
break;
case ((NU8) 11):
LOC7 = 0;
LOC7 = Lastson_54812(A_98364);
LOC8 = 0;
LOC8 = Lastson_54812(B_98366);
Result_98353 = Sametype_96048(LOC7, LOC8);
break;
case ((NU8) 12):
case ((NU8) 9):
case ((NU8) 10):
case ((NU8) 24):
case ((NU8) 15):
case ((NU8) 27):
case ((NU8) 19):
case ((NU8) 22):
case ((NU8) 21):
case ((NU8) 23):
case ((NU8) 4):
case ((NU8) 16):
case ((NU8) 25):
LOC10 = Sonslen_54806(A_98364);
LOC11 = Sonslen_54806(B_98366);
if (!(LOC10 == LOC11)) goto LA12;
Result_98353 = NIM_TRUE;
I_98409 = 0;
HEX3Atmp_98476 = 0;
LOC14 = Sonslen_54806(A_98364);
HEX3Atmp_98476 = (NI32)(LOC14 - 1);
Res_98478 = 0;
Res_98478 = 0;
while (1) {
if (!(Res_98478 <= HEX3Atmp_98476)) goto LA15;
I_98409 = Res_98478;
Result_98353 = Sametypeornil_96052((*A_98364).Sons->data[I_98409], (*B_98366).Sons->data[I_98409]);
if (!!(Result_98353)) goto LA17;
goto BeforeRet;
LA17: ;
Res_98478 += 1;
} LA15: ;
LOC20 = Result_98353;
if (!(LOC20)) goto LA21;
LOC20 = ((*A_98364).Kind == ((NU8) 25));
LA21: ;
if (!LOC20) goto LA22;
Result_98353 = ((*A_98364).Callconv == (*B_98366).Callconv);
LA22: ;
goto LA9;
LA12: ;
Result_98353 = NIM_FALSE;
LA9: ;
break;
case ((NU8) 20):
LOC25 = Sametypeornil_96052((*A_98364).Sons->data[0], (*B_98366).Sons->data[0]);
if (!(LOC25)) goto LA26;
LOC25 = Samevalue_54866((*(*A_98364).N).KindU.S6.Sons->data[0], (*(*B_98366).N).KindU.S6.Sons->data[0]);
LA26: ;
LOC24 = LOC25;
if (!(LOC24)) goto LA27;
LOC24 = Samevalue_54866((*(*A_98364).N).KindU.S6.Sons->data[1], (*(*B_98366).N).KindU.S6.Sons->data[1]);
LA27: ;
Result_98353 = LOC24;
break;
case ((NU8) 0):
Result_98353 = NIM_FALSE;
break;
}
BeforeRet: ;
return Result_98353;
}
N_NIMCALL(NimStringDesc*, Getprocheader_96018)(TY54547* Sym_96020) {
NimStringDesc* Result_96315;
NimStringDesc* LOC1;
TY54525* N_96316;
NI I_96339;
NI HEX3Atmp_96423;
NI LOC2;
NI Res_96425;
TY54525* P_96352;
NimStringDesc* LOC7;
NI LOC9;
NimStringDesc* LOC15;
NimStringDesc* LOC16;
Result_96315 = 0;
LOC1 = 0;
LOC1 = rawNewString((*(*Sym_96020).Name).S->Sup.len + 1);
appendString(LOC1, (*(*Sym_96020).Name).S);
appendChar(LOC1, 40);
Result_96315 = LOC1;
N_96316 = 0;
N_96316 = (*(*Sym_96020).Typ).N;
I_96339 = 0;
HEX3Atmp_96423 = 0;
LOC2 = Sonslen_54803(N_96316);
HEX3Atmp_96423 = (NI32)(LOC2 - 1);
Res_96425 = 0;
Res_96425 = 1;
while (1) {
if (!(Res_96425 <= HEX3Atmp_96423)) goto LA3;
I_96339 = Res_96425;
P_96352 = 0;
P_96352 = (*N_96316).KindU.S6.Sons->data[I_96339];
if (!!(((*P_96352).Kind == ((NU8) 3)))) goto LA5;
Internalerror_46575(((NimStringDesc*) &TMP194076));
LA5: ;
Result_96315 = resizeString(Result_96315, (*(*(*P_96352).KindU.S4.Sym).Name).S->Sup.len + 0);
appendString(Result_96315, (*(*(*P_96352).KindU.S4.Sym).Name).S);
Result_96315 = resizeString(Result_96315, 2);
appendString(Result_96315, ((NimStringDesc*) &TMP194044));
LOC7 = 0;
LOC7 = Typetostring_96014((*(*P_96352).KindU.S4.Sym).Typ, ((NU8) 0));
Result_96315 = resizeString(Result_96315, LOC7->Sup.len + 0);
appendString(Result_96315, LOC7);
LOC9 = Sonslen_54803(N_96316);
if (!!((I_96339 == (NI32)(LOC9 - 1)))) goto LA10;
Result_96315 = resizeString(Result_96315, 2);
appendString(Result_96315, ((NimStringDesc*) &TMP194033));
LA10: ;
Res_96425 += 1;
} LA3: ;
Result_96315 = addChar(Result_96315, 41);
if (!!(((*(*N_96316).KindU.S6.Sons->data[0]).Typ == NIM_NIL))) goto LA13;
LOC15 = 0;
LOC16 = 0;
LOC16 = Typetostring_96014((*(*N_96316).KindU.S6.Sons->data[0]).Typ, ((NU8) 0));
LOC15 = rawNewString(Result_96315->Sup.len + LOC16->Sup.len + 2);
appendString(LOC15, Result_96315);
appendString(LOC15, ((NimStringDesc*) &TMP194044));
appendString(LOC15, LOC16);
Result_96315 = LOC15;
LA13: ;
return Result_96315;
}
N_NIMCALL(NIM_BOOL, Enumhaswholes_96072)(TY54551* T_96074) {
NIM_BOOL Result_96629;
TY54551* B_96630;
NIM_BOOL LOC2;
Result_96629 = 0;
B_96630 = 0;
B_96630 = T_96074;
while (1) {
if (!((*B_96630).Kind == ((NU8) 20))) goto LA1;
B_96630 = (*B_96630).Sons->data[0];
} LA1: ;
LOC2 = ((*B_96630).Kind == ((NU8) 14));
if (!(LOC2)) goto LA3;
LOC2 = (((*B_96630).Flags &(1<<((((NU8) 4))&7)))!=0);
LA3: ;
Result_96629 = LOC2;
return Result_96629;
}
N_NIMCALL(NU8, Equalparam_97833)(TY54547* A_97835, TY54547* B_97836) {
NU8 Result_97837;
NIM_BOOL LOC2;
NIM_BOOL LOC8;
NIM_BOOL LOC13;
Result_97837 = 0;
LOC2 = Sametypeornil_96052((*A_97835).Typ, (*B_97836).Typ);
if (!LOC2) goto LA3;
if (!((*A_97835).Ast == (*B_97836).Ast)) goto LA6;
Result_97837 = ((NU8) 1);
goto LA5;
LA6: ;
LOC8 = !(((*A_97835).Ast == NIM_NIL));
if (!(LOC8)) goto LA9;
LOC8 = !(((*B_97836).Ast == NIM_NIL));
LA9: ;
if (!LOC8) goto LA10;
LOC13 = Exprstructuralequivalent_95035((*A_97835).Ast, (*B_97836).Ast);
if (!LOC13) goto LA14;
Result_97837 = ((NU8) 1);
goto LA12;
LA14: ;
Result_97837 = ((NU8) 2);
LA12: ;
goto LA5;
LA10: ;
if (!!(((*A_97835).Ast == NIM_NIL))) goto LA16;
Result_97837 = ((NU8) 1);
goto LA5;
LA16: ;
if (!!(((*B_97836).Ast == NIM_NIL))) goto LA18;
Result_97837 = ((NU8) 2);
goto LA5;
LA18: ;
LA5: ;
goto LA1;
LA3: ;
Result_97837 = ((NU8) 0);
LA1: ;
return Result_97837;
}
N_NIMCALL(NU8, Equalparams_96065)(TY54525* A_96067, TY54525* B_96068) {
NU8 Result_97895;
NI Length_97896;
TY54547* M_97897;
TY54547* N_97898;
NI LOC2;
NI I_97908;
NI HEX3Atmp_98047;
NI Res_98049;
NU8 LOC6;
NIM_BOOL LOC11;
NIM_BOOL LOC15;
Result_97895 = 0;
Length_97896 = 0;
M_97897 = 0;
N_97898 = 0;
Result_97895 = ((NU8) 1);
Length_97896 = Sonslen_54803(A_96067);
LOC2 = Sonslen_54803(B_96068);
if (!!((Length_97896 == LOC2))) goto LA3;
Result_97895 = ((NU8) 0);
goto LA1;
LA3: ;
I_97908 = 0;
HEX3Atmp_98047 = 0;
HEX3Atmp_98047 = (NI32)(Length_97896 - 1);
Res_98049 = 0;
Res_98049 = 1;
while (1) {
if (!(Res_98049 <= HEX3Atmp_98047)) goto LA5;
I_97908 = Res_98049;
M_97897 = (*(*A_96067).KindU.S6.Sons->data[I_97908]).KindU.S4.Sym;
N_97898 = (*(*B_96068).KindU.S6.Sons->data[I_97908]).KindU.S4.Sym;
LOC6 = Equalparam_97833(M_97897, N_97898);
switch (LOC6) {
case ((NU8) 0):
Result_97895 = ((NU8) 0);
goto BeforeRet;
break;
case ((NU8) 1):
break;
case ((NU8) 2):
Result_97895 = ((NU8) 2);
break;
}
if (!!(((*(*M_97897).Name).Sup.Id == (*(*N_97898).Name).Sup.Id))) goto LA8;
Result_97895 = ((NU8) 0);
goto BeforeRet;
LA8: ;
Res_98049 += 1;
} LA5: ;
LOC11 = Sametypeornil_96052((*(*A_96067).KindU.S6.Sons->data[0]).Typ, (*(*B_96068).KindU.S6.Sons->data[0]).Typ);
if (!!(LOC11)) goto LA12;
LOC15 = ((*(*A_96067).KindU.S6.Sons->data[0]).Typ == NIM_NIL);
if (LOC15) goto LA16;
LOC15 = ((*(*B_96068).KindU.S6.Sons->data[0]).Typ == NIM_NIL);
LA16: ;
if (!LOC15) goto LA17;
Result_97895 = ((NU8) 0);
goto LA14;
LA17: ;
Result_97895 = ((NU8) 2);
LA14: ;
LA12: ;
LA1: ;
BeforeRet: ;
return Result_97895;
}
N_NIMCALL(NIM_BOOL, Typeallowednode_98655)(TY54900* Marker_98658, TY54525* N_98659, NU8 Kind_98660) {
NIM_BOOL Result_98661;
NI I_98680;
NI HEX3Atmp_98693;
NI LOC10;
NI Res_98695;
Result_98661 = 0;
Result_98661 = NIM_TRUE;
if (!!((N_98659 == NIM_NIL))) goto LA2;
Result_98661 = Typeallowedaux_98649(Marker_98658, (*N_98659).Typ, Kind_98660);
if (!!(Result_98661)) goto LA5;
Debug_59157((*N_98659).Typ);
LA5: ;
if (!Result_98661) goto LA8;
switch ((*N_98659).Kind) {
case ((NU8) 0) ... ((NU8) 18):
break;
default:
I_98680 = 0;
HEX3Atmp_98693 = 0;
LOC10 = Sonslen_54803(N_98659);
HEX3Atmp_98693 = (NI32)(LOC10 - 1);
Res_98695 = 0;
Res_98695 = 0;
while (1) {
if (!(Res_98695 <= HEX3Atmp_98693)) goto LA11;
I_98680 = Res_98695;
Result_98661 = Typeallowednode_98655(Marker_98658, (*N_98659).KindU.S6.Sons->data[I_98680], Kind_98660);
if (!!(Result_98661)) goto LA13;
goto BeforeRet;
LA13: ;
Res_98695 += 1;
} LA11: ;
break;
}
LA8: ;
LA2: ;
BeforeRet: ;
return Result_98661;
}
N_NIMCALL(NIM_BOOL, Typeallowedaux_98649)(TY54900* Marker_98652, TY54551* Typ_98653, NU8 Kind_98654) {
NIM_BOOL Result_98702;
TY54551* T_98703;
TY54551* T2_98704;
NIM_BOOL LOC5;
NIM_BOOL LOC8;
NIM_BOOL LOC10;
NI I_98753;
NI HEX3Atmp_98849;
NI LOC12;
NI Res_98851;
TY54551* LOC20;
TY54551* LOC21;
NIM_BOOL LOC22;
NIM_BOOL LOC24;
NIM_BOOL LOC25;
NI I_98829;
NI HEX3Atmp_98852;
NI LOC28;
NI Res_98854;
NI I_98837;
NI HEX3Atmp_98855;
NI LOC33;
NI Res_98857;
Result_98702 = 0;
T_98703 = 0;
T2_98704 = 0;
Result_98702 = NIM_TRUE;
if (!(Typ_98653 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
LOC5 = Intsetcontainsorincl_54928(Marker_98652, (*Typ_98653).Sup.Id);
if (!LOC5) goto LA6;
goto BeforeRet;
LA6: ;
T_98703 = Skiptypes_96087(Typ_98653, IL64(47287796087390208));
switch ((*T_98703).Kind) {
case ((NU8) 23):
T2_98704 = Skiptypes_96087((*T_98703).Sons->data[0], IL64(47287796087390208));
switch ((*T2_98704).Kind) {
case ((NU8) 23):
Result_98702 = NIM_FALSE;
break;
case ((NU8) 27):
LOC8 = (Kind_98654 == ((NU8) 3));
if (!(LOC8)) goto LA9;
LOC8 = Typeallowedaux_98649(Marker_98652, T2_98704, Kind_98654);
LA9: ;
Result_98702 = LOC8;
break;
default:
LOC10 = !((Kind_98654 == ((NU8) 8)));
if (!(LOC10)) goto LA11;
LOC10 = Typeallowedaux_98649(Marker_98652, T2_98704, Kind_98654);
LA11: ;
Result_98702 = LOC10;
break;
}
break;
case ((NU8) 25):
I_98753 = 0;
HEX3Atmp_98849 = 0;
LOC12 = Sonslen_54806(T_98703);
HEX3Atmp_98849 = (NI32)(LOC12 - 1);
Res_98851 = 0;
Res_98851 = 1;
while (1) {
if (!(Res_98851 <= HEX3Atmp_98849)) goto LA13;
I_98753 = Res_98851;
Result_98702 = Typeallowedaux_98649(Marker_98652, (*T_98703).Sons->data[I_98753], ((NU8) 3));
if (!!(Result_98702)) goto LA15;
goto BeforeRet;
LA15: ;
Res_98851 += 1;
} LA13: ;
if (!!(((*T_98703).Sons->data[0] == NIM_NIL))) goto LA18;
Result_98702 = Typeallowedaux_98649(Marker_98652, (*T_98703).Sons->data[0], ((NU8) 9));
LA18: ;
break;
case ((NU8) 6):
case ((NU8) 7):
case ((NU8) 8):
Result_98702 = NIM_TRUE;
break;
case ((NU8) 10):
case ((NU8) 12):
case ((NU8) 30):
case ((NU8) 0):
case ((NU8) 9):
Result_98702 = NIM_FALSE;
break;
case ((NU8) 3):
case ((NU8) 5):
Result_98702 = (Kind_98654 == ((NU8) 8));
break;
case ((NU8) 28):
case ((NU8) 1):
case ((NU8) 2):
case ((NU8) 14):
case ((NU8) 31) ... ((NU8) 39):
case ((NU8) 29):
case ((NU8) 26):
Result_98702 = NIM_TRUE;
break;
case ((NU8) 15):
Result_98702 = (Kind_98654 == ((NU8) 3));
break;
case ((NU8) 11):
case ((NU8) 13):
LOC20 = 0;
LOC20 = Lastson_54812(T_98703);
Result_98702 = Typeallowedaux_98649(Marker_98652, LOC20, Kind_98654);
break;
case ((NU8) 20):
LOC21 = 0;
LOC21 = Skiptypes_96087((*T_98703).Sons->data[0], IL64(47287796087390208));
Result_98702 = ((*LOC21).Kind == ((NU8) 2) || (*LOC21).Kind == ((NU8) 14) || (*LOC21).Kind >= ((NU8) 31) && (*LOC21).Kind <= ((NU8) 39));
break;
case ((NU8) 27):
LOC22 = (Kind_98654 == ((NU8) 3));
if (!(LOC22)) goto LA23;
LOC22 = Typeallowedaux_98649(Marker_98652, (*T_98703).Sons->data[0], ((NU8) 9));
LA23: ;
Result_98702 = LOC22;
break;
case ((NU8) 24):
LOC25 = !((Kind_98654 == ((NU8) 8)));
if (!(LOC25)) goto LA26;
LOC25 = Typeallowedaux_98649(Marker_98652, (*T_98703).Sons->data[0], ((NU8) 9));
LA26: ;
LOC24 = LOC25;
if (LOC24) goto LA27;
LOC24 = ((*(*T_98703).Sons->data[0]).Kind == ((NU8) 3));
LA27: ;
Result_98702 = LOC24;
break;
case ((NU8) 16):
Result_98702 = Typeallowedaux_98649(Marker_98652, (*T_98703).Sons->data[1], ((NU8) 9));
break;
case ((NU8) 21):
case ((NU8) 22):
Result_98702 = Typeallowedaux_98649(Marker_98652, (*T_98703).Sons->data[0], ((NU8) 9));
break;
case ((NU8) 4):
case ((NU8) 18):
case ((NU8) 19):
I_98829 = 0;
HEX3Atmp_98852 = 0;
LOC28 = Sonslen_54806(T_98703);
HEX3Atmp_98852 = (NI32)(LOC28 - 1);
Res_98854 = 0;
Res_98854 = 0;
while (1) {
if (!(Res_98854 <= HEX3Atmp_98852)) goto LA29;
I_98829 = Res_98854;
Result_98702 = Typeallowedaux_98649(Marker_98652, (*T_98703).Sons->data[I_98829], Kind_98654);
if (!!(Result_98702)) goto LA31;
goto BeforeRet;
LA31: ;
Res_98854 += 1;
} LA29: ;
break;
case ((NU8) 17):
I_98837 = 0;
HEX3Atmp_98855 = 0;
LOC33 = Sonslen_54806(T_98703);
HEX3Atmp_98855 = (NI32)(LOC33 - 1);
Res_98857 = 0;
Res_98857 = 0;
while (1) {
if (!(Res_98857 <= HEX3Atmp_98855)) goto LA34;
I_98837 = Res_98857;
Result_98702 = Typeallowedaux_98649(Marker_98652, (*T_98703).Sons->data[I_98837], ((NU8) 9));
if (!!(Result_98702)) goto LA36;
goto BeforeRet;
LA36: ;
Res_98857 += 1;
} LA34: ;
if (!!(((*T_98703).N == NIM_NIL))) goto LA39;
Result_98702 = Typeallowednode_98655(Marker_98652, (*T_98703).N, ((NU8) 9));
LA39: ;
break;
}
BeforeRet: ;
return Result_98702;
}
N_NIMCALL(NIM_BOOL, Typeallowed_96136)(TY54551* T_96138, NU8 Kind_96139) {
NIM_BOOL Result_98862;
TY54900 Marker_98863;
Result_98862 = 0;
memset((void*)&Marker_98863, 0, sizeof(Marker_98863));
Intsetinit_54924(&Marker_98863);
Result_98862 = Typeallowedaux_98649(&Marker_98863, T_96138, Kind_96139);
return Result_98862;
}
N_NIMCALL(NIM_BOOL, Searchtypenodeforaux_96765)(TY54525* N_96767, TY96029 P_96768, TY54900* Marker_96770) {
NIM_BOOL Result_96771;
NI I_96779;
NI HEX3Atmp_96869;
NI LOC1;
NI Res_96871;
NI I_96832;
NI HEX3Atmp_96872;
NI LOC9;
NI Res_96874;
TY54525* LOC11;
Result_96771 = 0;
Result_96771 = NIM_FALSE;
switch ((*N_96767).Kind) {
case ((NU8) 113):
I_96779 = 0;
HEX3Atmp_96869 = 0;
LOC1 = Sonslen_54803(N_96767);
HEX3Atmp_96869 = (NI32)(LOC1 - 1);
Res_96871 = 0;
Res_96871 = 0;
while (1) {
if (!(Res_96871 <= HEX3Atmp_96869)) goto LA2;
I_96779 = Res_96871;
Result_96771 = Searchtypenodeforaux_96765((*N_96767).KindU.S6.Sons->data[I_96779], P_96768, Marker_96770);
if (!Result_96771) goto LA4;
goto BeforeRet;
LA4: ;
Res_96871 += 1;
} LA2: ;
break;
case ((NU8) 114):
Result_96771 = Searchtypenodeforaux_96765((*N_96767).KindU.S6.Sons->data[0], P_96768, Marker_96770);
if (!Result_96771) goto LA7;
goto BeforeRet;
LA7: ;
I_96832 = 0;
HEX3Atmp_96872 = 0;
LOC9 = Sonslen_54803(N_96767);
HEX3Atmp_96872 = (NI32)(LOC9 - 1);
Res_96874 = 0;
Res_96874 = 1;
while (1) {
if (!(Res_96874 <= HEX3Atmp_96872)) goto LA10;
I_96832 = Res_96874;
switch ((*(*N_96767).KindU.S6.Sons->data[I_96832]).Kind) {
case ((NU8) 75):
case ((NU8) 78):
LOC11 = 0;
LOC11 = Lastson_54809((*N_96767).KindU.S6.Sons->data[I_96832]);
Result_96771 = Searchtypenodeforaux_96765(LOC11, P_96768, Marker_96770);
if (!Result_96771) goto LA13;
goto BeforeRet;
LA13: ;
break;
default:
Internalerror_46575(((NimStringDesc*) &TMP194269));
break;
}
Res_96874 += 1;
} LA10: ;
break;
case ((NU8) 3):
Result_96771 = Searchtypeforaux_96759((*(*N_96767).KindU.S4.Sym).Typ, P_96768, Marker_96770);
break;
default:
Internalerror_46571((*N_96767).Info, ((NimStringDesc*) &TMP194270));
break;
}
BeforeRet: ;
return Result_96771;
}
N_NIMCALL(NIM_BOOL, Searchtypeforaux_96759)(TY54551* T_96761, TY96029 Predicate_96762, TY54900* Marker_96764) {
NIM_BOOL Result_96881;
NIM_BOOL LOC5;
TY54551* LOC14;
NI I_96900;
NI HEX3Atmp_96901;
NI LOC15;
NI Res_96903;
Result_96881 = 0;
Result_96881 = NIM_FALSE;
if (!(T_96761 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
LOC5 = Intsetcontainsorincl_54928(Marker_96764, (*T_96761).Sup.Id);
if (!LOC5) goto LA6;
goto BeforeRet;
LA6: ;
Result_96881 = Predicate_96762(T_96761);
if (!Result_96881) goto LA9;
goto BeforeRet;
LA9: ;
switch ((*T_96761).Kind) {
case ((NU8) 17):
Result_96881 = Searchtypeforaux_96759((*T_96761).Sons->data[0], Predicate_96762, Marker_96764);
if (!!(Result_96881)) goto LA12;
Result_96881 = Searchtypenodeforaux_96765((*T_96761).N, Predicate_96762, Marker_96764);
LA12: ;
break;
case ((NU8) 11):
case ((NU8) 13):
LOC14 = 0;
LOC14 = Lastson_54812(T_96761);
Result_96881 = Searchtypeforaux_96759(LOC14, Predicate_96762, Marker_96764);
break;
case ((NU8) 16):
case ((NU8) 4):
case ((NU8) 19):
case ((NU8) 18):
I_96900 = 0;
HEX3Atmp_96901 = 0;
LOC15 = Sonslen_54806(T_96761);
HEX3Atmp_96901 = (NI32)(LOC15 - 1);
Res_96903 = 0;
Res_96903 = 0;
while (1) {
if (!(Res_96903 <= HEX3Atmp_96901)) goto LA16;
I_96900 = Res_96903;
Result_96881 = Searchtypeforaux_96759((*T_96761).Sons->data[I_96900], Predicate_96762, Marker_96764);
if (!Result_96881) goto LA18;
goto BeforeRet;
LA18: ;
Res_96903 += 1;
} LA16: ;
break;
default:
break;
}
BeforeRet: ;
return Result_96881;
}
N_NIMCALL(NIM_BOOL, Searchtypefor_96904)(TY54551* T_96906, TY96029 Predicate_96907) {
NIM_BOOL Result_96908;
TY54900 Marker_96909;
Result_96908 = 0;
memset((void*)&Marker_96909, 0, sizeof(Marker_96909));
Intsetinit_54924(&Marker_96909);
Result_96908 = Searchtypeforaux_96759(T_96906, Predicate_96907, &Marker_96909);
return Result_96908;
}
N_NIMCALL(NIM_BOOL, Isgbcref_97080)(TY54551* T_97082) {
NIM_BOOL Result_97083;
Result_97083 = 0;
Result_97083 = ((*T_97082).Kind == ((NU8) 22) || (*T_97082).Kind == ((NU8) 24) || (*T_97082).Kind == ((NU8) 28));
return Result_97083;
}
N_NIMCALL(NIM_BOOL, Containsgarbagecollectedref_96097)(TY54551* Typ_96099) {
NIM_BOOL Result_97099;
Result_97099 = 0;
Result_97099 = Searchtypefor_96904(Typ_96099, Isgbcref_97080);
return Result_97099;
}
N_NIMCALL(NIM_BOOL, Canformacyclenode_97126)(TY54900* Marker_97129, TY54525* N_97130, NI Startid_97131) {
NIM_BOOL Result_97132;
NI I_97151;
NI HEX3Atmp_97164;
NI LOC7;
NI Res_97166;
Result_97132 = 0;
Result_97132 = NIM_FALSE;
if (!!((N_97130 == NIM_NIL))) goto LA2;
Result_97132 = Canformacycleaux_97120(Marker_97129, (*N_97130).Typ, Startid_97131);
if (!!(Result_97132)) goto LA5;
switch ((*N_97130).Kind) {
case ((NU8) 0) ... ((NU8) 18):
break;
default:
I_97151 = 0;
HEX3Atmp_97164 = 0;
LOC7 = Sonslen_54803(N_97130);
HEX3Atmp_97164 = (NI32)(LOC7 - 1);
Res_97166 = 0;
Res_97166 = 0;
while (1) {
if (!(Res_97166 <= HEX3Atmp_97164)) goto LA8;
I_97151 = Res_97166;
Result_97132 = Canformacyclenode_97126(Marker_97129, (*N_97130).KindU.S6.Sons->data[I_97151], Startid_97131);
if (!Result_97132) goto LA10;
goto BeforeRet;
LA10: ;
Res_97166 += 1;
} LA8: ;
break;
}
LA5: ;
LA2: ;
BeforeRet: ;
return Result_97132;
}
N_NIMCALL(NIM_BOOL, Canformacycleaux_97120)(TY54900* Marker_97123, TY54551* Typ_97124, NI Startid_97125) {
NIM_BOOL Result_97173;
TY54551* T_97174;
NIM_BOOL LOC11;
NI I_97215;
NI HEX3Atmp_97229;
NI LOC14;
NI Res_97231;
Result_97173 = 0;
T_97174 = 0;
Result_97173 = NIM_FALSE;
if (!(Typ_97124 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
if (!(((*Typ_97124).Flags &(1<<((((NU8) 3))&7)))!=0)) goto LA5;
goto BeforeRet;
LA5: ;
T_97174 = Skiptypes_96087(Typ_97124, IL64(47287796087390208));
if (!(((*T_97174).Flags &(1<<((((NU8) 3))&7)))!=0)) goto LA8;
goto BeforeRet;
LA8: ;
switch ((*T_97174).Kind) {
case ((NU8) 18):
case ((NU8) 17):
case ((NU8) 22):
case ((NU8) 24):
case ((NU8) 16):
case ((NU8) 4):
case ((NU8) 27):
LOC11 = Intsetcontainsorincl_54928(Marker_97123, (*T_97174).Sup.Id);
if (!!(LOC11)) goto LA12;
I_97215 = 0;
HEX3Atmp_97229 = 0;
LOC14 = Sonslen_54806(T_97174);
HEX3Atmp_97229 = (NI32)(LOC14 - 1);
Res_97231 = 0;
Res_97231 = 0;
while (1) {
if (!(Res_97231 <= HEX3Atmp_97229)) goto LA15;
I_97215 = Res_97231;
Result_97173 = Canformacycleaux_97120(Marker_97123, (*T_97174).Sons->data[I_97215], Startid_97125);
if (!Result_97173) goto LA17;
goto BeforeRet;
LA17: ;
Res_97231 += 1;
} LA15: ;
if (!!(((*T_97174).N == NIM_NIL))) goto LA20;
Result_97173 = Canformacyclenode_97126(Marker_97123, (*T_97174).N, Startid_97125);
LA20: ;
goto LA10;
LA12: ;
Result_97173 = ((*T_97174).Sup.Id == Startid_97125);
LA10: ;
break;
default:
break;
}
BeforeRet: ;
return Result_97173;
}
N_NIMCALL(NIM_BOOL, Canformacycle_96103)(TY54551* Typ_96105) {
NIM_BOOL Result_97235;
TY54900 Marker_97236;
Result_97235 = 0;
memset((void*)&Marker_97236, 0, sizeof(Marker_97236));
Intsetinit_54924(&Marker_97236);
Result_97235 = Canformacycleaux_97120(&Marker_97236, Typ_96105, (*Typ_96105).Sup.Id);
return Result_97235;
}
N_NIMCALL(NU8, Analyseobjectwithtypefieldaux_96986)(TY54551* T_96988, TY54900* Marker_96990) {
NU8 Result_96991;
NU8 Res_96992;
NIM_BOOL LOC8;
NI I_97022;
NI HEX3Atmp_97067;
NI LOC11;
NI Res_97069;
NIM_BOOL LOC23;
TY54551* LOC26;
NI I_97057;
NI HEX3Atmp_97070;
NI LOC27;
NI Res_97072;
Result_96991 = 0;
Res_96992 = 0;
Result_96991 = ((NU8) 0);
if (!(T_96988 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*T_96988).Kind) {
case ((NU8) 17):
if (!!(((*T_96988).N == NIM_NIL))) goto LA5;
LOC8 = Searchtypenodeforaux_96765((*T_96988).N, Isobjectwithtypefieldpredicate_96929, Marker_96990);
if (!LOC8) goto LA9;
Result_96991 = ((NU8) 2);
goto BeforeRet;
LA9: ;
LA5: ;
I_97022 = 0;
HEX3Atmp_97067 = 0;
LOC11 = Sonslen_54806(T_96988);
HEX3Atmp_97067 = (NI32)(LOC11 - 1);
Res_97069 = 0;
Res_97069 = 0;
while (1) {
if (!(Res_97069 <= HEX3Atmp_97067)) goto LA12;
I_97022 = Res_97069;
Res_96992 = Analyseobjectwithtypefieldaux_96986((*T_96988).Sons->data[I_97022], Marker_96990);
if (!(Res_96992 == ((NU8) 2))) goto LA14;
Result_96991 = ((NU8) 2);
goto BeforeRet;
LA14: ;
if (!(Res_96992 == ((NU8) 1))) goto LA17;
Result_96991 = ((NU8) 1);
LA17: ;
Res_97069 += 1;
} LA12: ;
if (!(Result_96991 == ((NU8) 0))) goto LA20;
LOC23 = Isobjectwithtypefieldpredicate_96929(T_96988);
if (!LOC23) goto LA24;
Result_96991 = ((NU8) 1);
LA24: ;
LA20: ;
break;
case ((NU8) 11):
case ((NU8) 13):
LOC26 = 0;
LOC26 = Lastson_54812(T_96988);
Result_96991 = Analyseobjectwithtypefieldaux_96986(LOC26, Marker_96990);
break;
case ((NU8) 16):
case ((NU8) 4):
case ((NU8) 18):
I_97057 = 0;
HEX3Atmp_97070 = 0;
LOC27 = Sonslen_54806(T_96988);
HEX3Atmp_97070 = (NI32)(LOC27 - 1);
Res_97072 = 0;
Res_97072 = 0;
while (1) {
if (!(Res_97072 <= HEX3Atmp_97070)) goto LA28;
I_97057 = Res_97072;
Res_96992 = Analyseobjectwithtypefieldaux_96986((*T_96988).Sons->data[I_97057], Marker_96990);
if (!!((Res_96992 == ((NU8) 0)))) goto LA30;
Result_96991 = ((NU8) 2);
goto BeforeRet;
LA30: ;
Res_97072 += 1;
} LA28: ;
break;
default:
break;
}
BeforeRet: ;
return Result_96991;
}
N_NIMCALL(NU8, Analyseobjectwithtypefield_96133)(TY54551* T_96135) {
NU8 Result_97076;
TY54900 Marker_97077;
Result_97076 = 0;
memset((void*)&Marker_97077, 0, sizeof(Marker_97077));
Intsetinit_54924(&Marker_97077);
Result_97076 = Analyseobjectwithtypefieldaux_96986(T_96135, &Marker_97077);
return Result_97076;
}
N_NIMCALL(NIM_BOOL, Ispureobject_96118)(TY54551* Typ_96120) {
NIM_BOOL Result_96224;
TY54551* T_96225;
NIM_BOOL LOC2;
Result_96224 = 0;
T_96225 = 0;
T_96225 = Typ_96120;
while (1) {
if (!!(((*T_96225).Sons->data[0] == NIM_NIL))) goto LA1;
T_96225 = (*T_96225).Sons->data[0];
} LA1: ;
LOC2 = !(((*T_96225).Sym == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC2 = (((*(*T_96225).Sym).Flags &(1<<((((NU8) 11))&31)))!=0);
LA3: ;
Result_96224 = LOC2;
return Result_96224;
}
N_NOINLINE(void, typesInit)(void) {
}

