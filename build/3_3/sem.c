/* Generated by Nimrod Compiler v0.8.11 */
/*   (c) 2011 Andreas Rumpf */

typedef long int NI;
typedef unsigned long int NU;
#include "nimbase.h"

typedef struct TY105006 TY105006;
typedef struct TY105002 TY105002;
typedef struct TY55548 TY55548;
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct TY93031 TY93031;
typedef struct TY55526 TY55526;
typedef struct TY107012 TY107012;
typedef struct TNimObject TNimObject;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct TY107006 TY107006;
typedef struct TY60104 TY60104;
typedef struct TY60106 TY60106;
typedef struct TY55530 TY55530;
typedef struct TY55528 TY55528;
typedef struct TY55901 TY55901;
typedef struct TY55897 TY55897;
typedef struct TY55899 TY55899;
typedef struct TY43019 TY43019;
typedef struct TY43013 TY43013;
typedef struct TY47539 TY47539;
typedef struct TY54005 TY54005;
typedef struct TY55552 TY55552;
typedef struct TY54011 TY54011;
typedef struct TY55540 TY55540;
typedef struct TY52008 TY52008;
typedef struct TY55544 TY55544;
typedef struct TY55520 TY55520;
typedef struct TY55550 TY55550;
typedef struct TY108004 TY108004;
typedef struct TY60089 TY60089;
typedef struct TY11002 TY11002;
typedef struct TY11014 TY11014;
typedef struct TY11396 TY11396;
typedef struct TY11018 TY11018;
typedef struct TY11010 TY11010;
typedef struct TY11394 TY11394;
typedef struct TY115006 TY115006;
typedef struct TY115004 TY115004;
typedef struct TY55570 TY55570;
typedef struct TY55568 TY55568;
typedef struct TY55566 TY55566;
typedef struct TY127022 TY127022;
typedef struct TY55564 TY55564;
typedef struct TY55562 TY55562;
typedef struct TY55560 TY55560;
typedef struct TY126708 TY126708;
typedef struct TY107002 TY107002;
typedef struct TY39221 TY39221;
typedef struct TY93029 TY93029;
typedef struct TY60220 TY60220;
typedef struct TY60218 TY60218;
typedef struct TY60216 TY60216;
struct TGenericSeq {
NI len;
NI space;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
typedef N_NIMCALL_PTR(TY105002*, TY105007) (TY55548* Module_105008, NimStringDesc* Filename_105009);
typedef N_NIMCALL_PTR(TY105002*, TY105012) (TY55548* Module_105013, NimStringDesc* Filename_105014, TY93031* Rd_105015);
typedef N_NIMCALL_PTR(TY55526*, TY105018) (TY105002* P_105019, TY55526* N_105020);
typedef N_NIMCALL_PTR(TY55526*, TY105023) (TY105002* P_105024, TY55526* Toplevelstmt_105025);
struct TY105006 {
TY105007 Open;
TY105012 Opencached;
TY105018 Close;
TY105023 Process;
};
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TNimObject {
TNimType* m_type;
};
struct TY105002 {
  TNimObject Sup;
};
struct TY55530 {
TNimType* m_type;
NI Counter;
TY55528* Data;
};
struct TY60104 {
NI Tos;
TY60106* Stack;
};
struct TY55901 {
NI Counter;
NI Max;
TY55897* Head;
TY55899* Data;
};
struct TY43019 {
TNimType* m_type;
TY43013* Head;
TY43013* Tail;
NI Counter;
};
typedef N_NIMCALL_PTR(TY55526*, TY107032) (TY107012* C_107033, TY55526* N_107034);
typedef N_NIMCALL_PTR(TY55526*, TY107037) (TY107012* C_107038, TY55526* N_107039);
struct TY107012 {
  TY105002 Sup;
TY55548* Module;
TY107006* P;
NI Instcounter;
TY55526* Generics;
NI Lastgenericidx;
TY60104 Tab;
TY55901 Ambiguoussymbols;
TY55528* Converters;
TY43019 Optionstack;
TY43019 Libs;
NIM_BOOL Fromcache;
TY107032 Semconstexpr;
TY107037 Semexpr;
TY55901 Includedfiles;
NimStringDesc* Filename;
TY55530 Userpragmas;
};
struct TY47539 {
NI16 Line;
NI16 Col;
int Fileindex;
};
struct TY54005 {
  TNimObject Sup;
NI Id;
};
struct TY55540 {
NU8 K;
NU8 S;
NU8 Flags;
TY55552* T;
TY52008* R;
NI A;
};
struct TY55548 {
  TY54005 Sup;
NU8 Kind;
NU8 Magic;
TY55552* Typ;
TY54011* Name;
TY47539 Info;
TY55548* Owner;
NU32 Flags;
TY55530 Tab;
TY55526* Ast;
NU32 Options;
NI Position;
NI Offset;
TY55540 Loc;
TY55544* Annex;
};
struct TY55526 {
TY55552* Typ;
NimStringDesc* Comment;
TY47539 Info;
NU8 Flags;
NU8 Kind;
union {
struct {NI64 Intval;
} S1;
struct {NF64 Floatval;
} S2;
struct {NimStringDesc* Strval;
} S3;
struct {TY55548* Sym;
} S4;
struct {TY54011* Ident;
} S5;
struct {TY55520* Sons;
} S6;
} KindU;
};
struct TY55552 {
  TY54005 Sup;
NU8 Kind;
TY55550* Sons;
TY55526* N;
NU8 Flags;
NU8 Callconv;
TY55548* Owner;
TY55548* Sym;
NI64 Size;
NI Align;
NI Containerid;
TY55540 Loc;
};
struct TY54011 {
  TY54005 Sup;
NimStringDesc* S;
TY54011* Next;
NI H;
};
struct TY60089 {
NI H;
TY54011* Name;
};
struct TY108004 {
NI Stackptr;
TY60089 It;
TY55548* M;
NU8 Mode;
};
struct TY11002 {
NI Refcount;
TNimType* Typ;
};
struct TY11018 {
NI Len;
NI Cap;
TY11002** D;
};
struct TY11014 {
NI Counter;
NI Max;
TY11010* Head;
TY11010** Data;
};
struct TY11394 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY11396 {
TY11018 Zct;
TY11018 Decstack;
TY11014 Cycleroots;
TY11018 Tempstack;
TY11394 Stat;
};
struct TY55566 {
TY54005* Key;
TY55526* Val;
};
struct TY55570 {
NI Counter;
TY55568* Data;
};
struct TY115004 {
TY55570 Mapping;
TY55548* Prc;
TY55526* Call;
TY115004* Next;
TY55520* Params;
};
typedef NU8 TY180060[16];
struct TY55560 {
TY54005* Key;
TNimObject* Val;
};
struct TY55564 {
NI Counter;
TY55562* Data;
};
struct TY127022 {
NI Exactmatches;
NI Subtypematches;
NI Intconvmatches;
NI Convmatches;
NI Genericmatches;
NU8 State;
TY55552* Callee;
TY55548* Calleesym;
TY55526* Call;
TY55564 Bindings;
NIM_BOOL Basetypematch;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
typedef N_NIMCALL_PTR(NIM_BOOL, TY97025) (TY55552* T_97030, TNimObject* Closure_97031);
struct TY126708 {
TY107012* C;
TY55564 Typemap;
TY55564 Symmap;
TY47539 Info;
};
typedef NimStringDesc* TY73026[3];
struct TY43013 {
  TNimObject Sup;
TY43013* Prev;
TY43013* Next;
};
struct TY107002 {
  TY43013 Sup;
NU32 Options;
NU8 Defaultcc;
TY55544* Dynlib;
NU32 Notes;
};
typedef NimStringDesc* TY47869[1];
typedef NU8 TY122007[29];
struct TY107006 {
TY55548* Owner;
TY55548* Resultsym;
NI Nestedloopcounter;
NI Nestedblockcounter;
};
typedef NU8 TY135048[30];
typedef N_NIMCALL_PTR(TY55526*, TY105048) (NimStringDesc* Filename_105049);
typedef NimStringDesc* TY115148[2];
typedef NimStringDesc* TY133581[2];
struct TY60216 {
NI Key;
NI Val;
};
struct TY60220 {
NI Counter;
TY60218* Data;
};
struct TY93029 {
NI Lastidxkey;
NI Lastidxval;
TY60220 Tab;
TY52008* R;
NI Offset;
};
struct TY93031 {
  TNimObject Sup;
NI Pos;
NimStringDesc* S;
NU32 Options;
NU8 Reason;
TY39221* Moddeps;
TY39221* Files;
NI Dataidx;
NI Convertersidx;
NI Initidx;
NI Interfidx;
NI Compilerprocsidx;
NI Cgenidx;
NimStringDesc* Filename;
TY93029 Index;
TY93029 Imports;
NI Readerindex;
NI Line;
NI Moduleid;
TY55564 Syms;
};
typedef NI TY9014[16];
struct TY55897 {
TY55897* Next;
NI Key;
TY9014 Bits;
};
struct TY52008 {
  TNimObject Sup;
TY52008* Left;
TY52008* Right;
NI Length;
NimStringDesc* Data;
};
struct TY55544 {
  TY43013 Sup;
NU8 Kind;
NIM_BOOL Generated;
TY52008* Name;
TY55526* Path;
};
struct TY11010 {
TY11010* Next;
NI Key;
TY9014 Bits;
};
struct TY115006 {
  TY105002 Sup;
TY55548* Module;
TY115004* Tos;
TY55526* Lastexception;
NIM_BOOL Opteval;
};
struct TY55528 {
  TGenericSeq Sup;
  TY55548* data[SEQ_DECL_SIZE];
};
struct TY60106 {
  TGenericSeq Sup;
  TY55530 data[SEQ_DECL_SIZE];
};
struct TY55899 {
  TGenericSeq Sup;
  TY55897* data[SEQ_DECL_SIZE];
};
struct TY55520 {
  TGenericSeq Sup;
  TY55526* data[SEQ_DECL_SIZE];
};
struct TY55550 {
  TGenericSeq Sup;
  TY55552* data[SEQ_DECL_SIZE];
};
struct TY55568 {
  TGenericSeq Sup;
  TY55566 data[SEQ_DECL_SIZE];
};
struct TY55562 {
  TGenericSeq Sup;
  TY55560 data[SEQ_DECL_SIZE];
};
struct TY39221 {
  TGenericSeq Sup;
  NimStringDesc* data[SEQ_DECL_SIZE];
};
struct TY60218 {
  TGenericSeq Sup;
  TY60216 data[SEQ_DECL_SIZE];
};
N_NIMCALL(void, Initpass_105031)(TY105006* P_105034);
N_NIMCALL(TY105002*, Myopen_146228)(TY55548* Module_146230, NimStringDesc* Filename_146231);
N_NIMCALL(TY107012*, Newcontext_107046)(TY55548* Module_107048, NimStringDesc* Nimfile_107049);
N_NIMCALL(void, Internalerror_47574)(TY47539 Info_47576, NimStringDesc* Errmsg_47577);
N_NIMCALL(TY55526*, Semconstexpr_125171)(TY107012* C_125173, TY55526* N_125174);
N_NIMCALL(TY55526*, Semexprwithtype_125122)(TY107012* C_125124, TY55526* N_125125, NU8 Flags_125128);
N_NIMCALL(TY55526*, Semexpr_125115)(TY107012* C_125117, TY55526* N_125118, NU8 Flags_125121);
N_NIMCALL(TY55548*, Lookup_108245)(TY107012* C_108247, TY55526* N_108248);
N_NIMCALL(TY55526*, Semsym_133092)(TY107012* C_133094, TY55526* N_133095, TY55548* S_133096, NU8 Flags_133097);
N_NIMCALL(void, Limessage_47569)(TY47539 Info_47571, NU8 Msg_47572, NimStringDesc* Arg_47573);
N_NIMCALL(TY55548*, Getmodule_60203)(TY55548* S_60205);
N_NIMCALL(TY55526*, Symchoice_125559)(TY107012* C_125561, TY55526* N_125562, TY55548* S_125563);
N_NIMCALL(TY55548*, Initoverloaditer_108734)(TY108004* O_108737, TY107012* C_108738, TY55526* N_108739);
N_NIMCALL(TY55548*, Nextoverloaditer_109063)(TY108004* O_109066, TY107012* C_109067, TY55526* N_109068);
N_NIMCALL(TY55526*, Newsymnode_55735)(TY55548* Sym_55737);
N_NIMCALL(void, Markused_125065)(TY55526* N_125067, TY55548* S_125068);
N_NIMCALL(TY55526*, Newnodeit_55742)(NU8 Kind_55744, TY47539 Info_55745, TY55552* Typ_55746);
N_NIMCALL(TY55552*, Newtypes_107077)(NU8 Kind_107079, TY107012* C_107080);
N_NIMCALL(void, Addson_55824)(TY55526* Father_55826, TY55526* Son_55827);
N_NIMCALL(TY55526*, Copytree_55859)(TY55526* Src_55861);
static N_INLINE(void, asgnRef)(void** Dest_13414, void* Src_13415);
static N_INLINE(void, Incref_13402)(TY11002* C_13404);
static N_INLINE(NI, Atomicinc_3401)(NI* Memloc_3404, NI X_3405);
static N_INLINE(NIM_BOOL, Canbecycleroot_11816)(TY11002* C_11818);
static N_INLINE(void, Rtladdcycleroot_12452)(TY11002* C_12454);
N_NOINLINE(void, Incl_11280)(TY11014* S_11283, TY11002* Cell_11284);
static N_INLINE(TY11002*, Usrtocell_11812)(void* Usr_11814);
static N_INLINE(void, Decref_13201)(TY11002* C_13203);
static N_INLINE(NI, Atomicdec_3406)(NI* Memloc_3409, NI X_3410);
static N_INLINE(void, Rtladdzct_12801)(TY11002* C_12803);
N_NOINLINE(void, Addzct_11801)(TY11018* S_11804, TY11002* C_11805);
N_NIMCALL(TY55526*, Semmacroexpr_126085)(TY107012* C_126087, TY55526* N_126088, TY55548* Sym_126089, NIM_BOOL Semcheck_126090);
N_NIMCALL(TY115006*, Newevalcontext_115033)(TY55548* Module_115035, NimStringDesc* Filename_115036, NIM_BOOL Opteval_115037);
N_NIMCALL(TY115004*, Newstackframe_115024)(void);
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13418, void* Src_13419);
N_NIMCALL(TGenericSeq*, setLengthSeq)(TGenericSeq* Seq_19203, NI Elemsize_19204, NI Newlen_19205);
N_NIMCALL(void, Pushstackframe_115026)(TY115006* C_115028, TY115004* T_115029);
N_NIMCALL(TY55526*, Eval_115038)(TY115006* C_115040, TY55526* N_115041);
N_NIMCALL(void, Popstackframe_115030)(TY115006* C_115032);
N_NIMCALL(NIM_BOOL, Cyclictree_96043)(TY55526* N_96045);
N_NIMCALL(TY55526*, Semaftermacrocall_125246)(TY107012* C_125248, TY55526* N_125249, TY55548* S_125250);
N_NIMCALL(TY55526*, Semstmt_125143)(TY107012* C_125145, TY55526* N_125146);
N_NIMCALL(TY55526*, Semasgn_141705)(TY107012* C_141707, TY55526* N_141708);
N_NIMCALL(void, Checksonslen_107099)(TY55526* N_107101, NI Length_107102);
N_NIMCALL(TY55526*, Builtinfieldaccess_136326)(TY107012* C_136328, TY55526* N_136329, NU8 Flags_136330);
N_NIMCALL(TY55548*, Qualifiedlookup_108322)(TY107012* C_108324, TY55526* N_108325, NU8 Flags_108327);
N_NIMCALL(TY54011*, Consideracc_125003)(TY55526* N_125005);
N_NIMCALL(NimStringDesc*, Rendertree_85042)(TY55526* N_85044, NU8 Renderflags_85047);
N_NIMCALL(TY55548*, Getsymfromlist_60194)(TY55526* List_60196, TY54011* Ident_60197, NI Start_60198);
N_NIMCALL(NIM_BOOL, Istypeexpr_136026)(TY55526* N_136028);
N_NIMCALL(TY55552*, Skiptypes_97087)(TY55552* T_97089, NU64 Kinds_97090);
N_NIMCALL(TY55548*, Lookupinrecordandbuildcheck_136051)(TY107012* C_136053, TY55526* N_136054, TY55526* R_136055, TY54011* Field_136056, TY55526** Check_136058);
static N_INLINE(NI, Sonslen_55804)(TY55526* N_55806);
N_NIMCALL(void, Checkminsonslen_107103)(TY55526* N_107105, NI Length_107106);
N_NIMCALL(void, Illformedast_107092)(TY55526* N_107094);
N_NIMCALL(TY55526*, Newnodei_55738)(NU8 Kind_55740, TY47539 Info_55741);
static N_INLINE(TY55526*, Lastson_55810)(TY55526* N_55812);
N_NIMCALL(void, unsureAsgnRef)(void** Dest_13426, void* Src_13427);
N_NIMCALL(TY55526*, Newidentnode_55731)(TY54011* Ident_55733, TY47539 Info_55734);
N_NIMCALL(TY54011*, Getident_54016)(NimStringDesc* Identifier_54018);
N_NIMCALL(TY55526*, Makederef_136297)(TY55526* N_136299);
N_NIMCALL(TY55526*, Propertywriteaccess_141685)(TY107012* C_141687, TY55526* N_141688, TY55526* A_141689);
static N_INLINE(TY55526*, HEX5BHEX5D_57057)(TY55526* N_57059, NI I_57060);
static N_INLINE(void, appendString)(NimStringDesc* Dest_18999, NimStringDesc* Src_19000);
static N_INLINE(void, appendChar)(NimStringDesc* Dest_19016, NIM_CHAR C_19017);
N_NIMCALL(NimStringDesc*, rawNewString)(NI Space_18889);
N_NIMCALL(TY55526*, Semdirectcallanalyseeffects_135219)(TY107012* C_135221, TY55526* N_135222, NU8 Flags_135223);
N_NIMCALL(TY55526*, Semdirectcall_129710)(TY107012* C_129712, TY55526* N_129713, NU32 Filter_129714);
N_NIMCALL(TY55526*, Semdirectcallwithbinding_129563)(TY107012* C_129565, TY55526* N_129566, TY55526* F_129567, NU32 Filter_129568, TY55526* Initialbinding_129569);
N_NIMCALL(void, Initcandidate_127056)(TY127022* C_127059, TY55548* Callee_127060, TY55526* Binding_127061);
static N_INLINE(void, Initcandidateaux_127045)(TY127022* C_127048, TY55552* Callee_127049);
N_NIMCALL(void, Initidtable_55755)(TY55564* X_55758);
N_NIMCALL(void, Idtableput_60171)(TY55564* T_60174, TY54005* Key_60175, TNimObject* Val_60176);
N_NIMCALL(void, Matches_128927)(TY107012* C_128929, TY55526* N_128930, TY127022* M_128932);
N_NIMCALL(TY55552*, Base_97021)(TY55552* T_97023);
N_NIMCALL(void, Intsetinit_55925)(TY55901* S_55928);
N_NIMCALL(NIM_BOOL, Intsetcontainsorincl_55929)(TY55901* S_55932, NI Key_55933);
N_NIMCALL(TY55526*, Paramtypesmatch_128685)(TY107012* C_128687, TY127022* M_128689, TY55552* F_128690, TY55552* A_128691, TY55526* Arg_128692);
N_NIMCALL(TY55526*, Paramtypesmatchaux_128539)(TY107012* C_128541, TY127022* M_128543, TY55552* F_128544, TY55552* A_128545, TY55526* Arg_128546);
N_NIMCALL(NU8, Typerel_127297)(TY55564* Mapping_127300, TY55552* F_127301, TY55552* A_127302);
static N_INLINE(TY55552*, Lastson_55813)(TY55552* N_55815);
static N_INLINE(NI, Sonslen_55807)(TY55552* N_55809);
N_NIMCALL(NU8, Handlerange_127328)(TY55552* F_127330, TY55552* A_127331, NU8 Min_127332, NU8 Max_127333);
N_NIMCALL(NU8, Handlefloatrange_127394)(TY55552* F_127396, TY55552* A_127397);
N_NIMCALL(NU8, Minrel_127467)(NU8 A_127469, NU8 B_127470);
N_NIMCALL(NI64, Lengthord_97007)(TY55552* T_97009);
N_NIMCALL(NIM_BOOL, Isordinaltype_97069)(TY55552* T_97071);
N_NIMCALL(void, Internalerror_47578)(NimStringDesc* Errmsg_47580);
N_NIMCALL(NU8, Tuplerel_127481)(TY55564* Mapping_127484, TY55552* F_127485, TY55552* A_127486);
N_NIMCALL(NIM_BOOL, Isobjectsubtype_127437)(TY55552* A_127439, TY55552* F_127440);
N_NIMCALL(NI64, Firstord_97001)(TY55552* T_97003);
N_NIMCALL(TNimObject*, Idtableget_60163)(TY55564 T_60165, TY54005* Key_60166);
N_NIMCALL(TY55552*, Concretetype_127303)(TY55564 Mapping_127305, TY55552* T_127306);
N_NIMCALL(TY55552*, Newtype_55707)(NU8 Kind_55709, TY55548* Owner_55710);
N_NIMCALL(void, Addson_55828)(TY55552* Father_55830, TY55552* Son_55831);
N_NIMCALL(NimStringDesc*, reprEnum)(NI E_19971, TNimType* Typ_19972);
N_NIMCALL(TY55526*, Implicitconv_128457)(NU8 Kind_128459, TY55552* F_128460, TY55526* Arg_128461, TY127022* M_128462, TY107012* C_128463);
N_NIMCALL(NIM_BOOL, Containsgenerictype_126221)(TY55552* T_126223);
N_NIMCALL(NIM_BOOL, Iterovertype_97038)(TY55552* T_97040, TY97025 Iter_97041, TNimObject* Closure_97042);
N_NIMCALL(NIM_BOOL, Containsgenerictypeiter_126205)(TY55552* T_126207, TNimObject* Closure_126208);
N_NIMCALL(TY55552*, Getinstantiatedtype_128428)(TY107012* C_128430, TY55526* Arg_128431, TY127022* M_128432, TY55552* F_128433);
N_NIMCALL(TY55552*, Generatetypeinstance_127008)(TY107012* P_127010, TY55564 Pt_127011, TY55526* Arg_127012, TY55552* T_127013);
N_NIMCALL(void, Copyidtable_55799)(TY55564* Dest_55802, TY55564 Src_55803);
N_NIMCALL(void, Pushinfocontext_47613)(TY47539 Info_47615);
N_NIMCALL(TY55552*, Replacetypevarst_126713)(TY126708* Cl_126716, TY55552* T_126717);
N_NIMCALL(TY55552*, Lookuptypevar_126861)(TY126708* Cl_126863, TY55552* T_126864);
N_NIMCALL(NimStringDesc*, Typetostring_97014)(TY55552* Typ_97016, NU8 Prefer_97017);
N_NIMCALL(TY55552*, Copytype_55771)(TY55552* T_55773, TY55548* Owner_55774, NIM_BOOL Keepid_55775);
N_NIMCALL(TY55552*, Searchinsttypes_126152)(TY55564 Tab_126154, TY55552* Key_126155);
N_NIMCALL(NIM_BOOL, Sametype_97048)(TY55552* X_97050, TY55552* Y_97051);
N_NIMCALL(TY55526*, Replacetypevarsn_126723)(TY126708* Cl_126726, TY55526* N_126727);
N_NIMCALL(TY55526*, Copynode_55856)(TY55526* Src_55858);
N_NIMCALL(TY55548*, Replacetypevarss_126718)(TY126708* Cl_126721, TY55548* S_126722);
N_NIMCALL(TY55548*, Copysym_55776)(TY55548* S_55778, NIM_BOOL Keepid_55779);
N_NIMCALL(void, Newsons_55816)(TY55526* Father_55818, NI Length_55819);
N_NIMCALL(void, Checkconstructedtype_126661)(TY47539 Info_126663, TY55552* T_126664);
N_NIMCALL(NI64, Computesize_97112)(TY55552* Typ_97114);
N_NIMCALL(void, Popinfocontext_47616)(void);
N_NIMCALL(TY55526*, Userconvmatch_128476)(TY107012* C_128478, TY127022* M_128480, TY55552* F_128481, TY55552* A_128482, TY55526* Arg_128483);
N_NIMCALL(void, Initcandidate_127050)(TY127022* C_127053, TY55552* Callee_127054);
N_NIMCALL(void, Copycandidate_127100)(TY127022* A_127103, TY127022* B_127104);
N_NIMCALL(void, genericAssign)(void* Dest_19775, void* Src_19776, TNimType* Mt_19777);
N_NIMCALL(NI, Cmpcandidates_127106)(TY127022* A_127108, TY127022* B_127109);
N_NIMCALL(void, Setson_128884)(TY55526* Father_128886, NI At_128887, TY55526* Son_128888);
N_NIMCALL(TY55552*, Getsystype_102008)(NU8 Kind_102010);
N_NIMCALL(NIM_BOOL, Samemethoddispatcher_129487)(TY55548* A_129489, TY55548* B_129490);
N_NIMCALL(NimStringDesc*, nsuFormatOpenArray)(NimStringDesc* Formatstr_24960, NimStringDesc** A_24962, NI A_24962Len0);
N_NIMCALL(NimStringDesc*, Msgkindtostring_47595)(NU8 Kind_47597);
N_NIMCALL(NimStringDesc*, Getprocheader_97018)(TY55548* Sym_97020);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* Src_18912);
N_NIMCALL(TY55548*, Generateinstance_126146)(TY107012* C_126148, TY55548* Fn_126149, TY55564 Pt_126150, TY47539 Info_126151);
N_NIMCALL(TY55548*, Getcurrowner_107107)(void);
N_NIMCALL(void, Pushowner_107109)(TY55548* Owner_107111);
N_NIMCALL(void, Openscope_60146)(TY60104* Tab_60149);
N_NIMCALL(void, Instantiategenericparamlist_126225)(TY107012* C_126227, TY55526* N_126228, TY55564 Pt_126229);
N_NIMCALL(TY55548*, Newsym_55702)(NU8 Symkind_55704, TY54011* Name_55705, TY55548* Owner_55706);
N_NIMCALL(void, Adddecl_108114)(TY107012* C_108116, TY55548* Sym_108117);
N_NIMCALL(void, Semparamlist_125147)(TY107012* C_125149, TY55526* N_125150, TY55526* Genericparams_125151, TY55548* S_125152);
N_NIMCALL(TY55552*, Semproctypenode_132448)(TY107012* C_132450, TY55526* N_132451, TY55526* Genericparams_132452, TY55552* Prev_132453);
N_NIMCALL(TY55552*, Neworprevtype_129931)(NU8 Kind_129933, TY55552* Prev_129934, TY107012* C_129935);
N_NIMCALL(TY107002*, Lastoptionentry_107053)(TY107012* C_107055);
N_NIMCALL(TY55552*, Paramtype_132427)(TY107012* C_132429, TY55526* N_132430, TY55526* Genericparams_132431, TY55901* Cl_132433);
N_NIMCALL(TY55552*, Semtypenode_125138)(TY107012* C_125140, TY55526* N_125141, TY55552* Prev_125142);
N_NIMCALL(TY55548*, Semtypeident_130713)(TY107012* C_130715, TY55526* N_130716);
N_NIMCALL(TY55552*, Semarray_130562)(TY107012* C_130564, TY55526* N_130565, TY55552* Prev_130566);
N_NIMCALL(TY55552*, Semrangeaux_130410)(TY107012* C_130412, TY55526* N_130413, TY55552* Prev_130414);
N_NIMCALL(NIM_BOOL, Enumhaswholes_97072)(TY55552* T_97074);
N_NIMCALL(NIM_BOOL, Levalue_55871)(TY55526* A_55873, TY55526* B_55874);
N_NIMCALL(TY55552*, Semcontainer_130314)(TY107012* C_130316, TY55526* N_130317, NU8 Kind_130318, NimStringDesc* Kindstr_130319, TY55552* Prev_130320);
N_NIMCALL(TY55552*, Semrange_130509)(TY107012* C_130511, TY55526* N_130512, TY55552* Prev_130513);
N_NIMCALL(TY55552*, Semset_130271)(TY107012* C_130273, TY55526* N_130274, TY55552* Prev_130275);
N_NIMCALL(TY55552*, Semordinal_130671)(TY107012* C_130673, TY55526* N_130674, TY55552* Prev_130675);
N_NIMCALL(TY55552*, Semgeneric_130898)(TY107012* C_130900, TY55526* N_130901, TY55548* S_130902, TY55552* Prev_130903);
N_NIMCALL(TY55552*, Instgenericcontainer_125166)(TY107012* C_125168, TY55526* N_125169, TY55552* Header_125170);
N_NIMCALL(void, Assigntype_55780)(TY55552* Dest_55782, TY55552* Src_55783);
N_NIMCALL(TY55552*, Semobjectnode_132213)(TY107012* C_132215, TY55526* N_132216, TY55552* Prev_132217);
N_NIMCALL(void, Addinheritedfields_132190)(TY107012* C_132192, TY55901* Check_132194, NI* Pos_132196, TY55552* Obj_132197);
N_NIMCALL(void, Addinheritedfieldsaux_132071)(TY107012* C_132073, TY55901* Check_132075, NI* Pos_132077, TY55526* N_132078);
N_NIMCALL(void, Intsetincl_55915)(TY55901* S_55918, NI Key_55919);
N_NIMCALL(void, Semrecordnodeaux_131433)(TY107012* C_131435, TY55526* N_131436, TY55901* Check_131438, NI* Pos_131440, TY55526* Father_131441, TY55548* Rectype_131442);
N_NIMCALL(void, Checkbool_129881)(TY55526* T_129883);
N_NIMCALL(void, Semrecordcase_131443)(TY107012* C_131445, TY55526* N_131446, TY55901* Check_131448, NI* Pos_131450, TY55526* Father_131451, TY55548* Rectype_131452);
N_NIMCALL(void, Semcasebranch_131283)(TY107012* C_131285, TY55526* T_131286, TY55526* Branch_131287, NI Branchindex_131288, NI64* Covered_131290);
N_NIMCALL(void, Sembranchexpr_131244)(TY107012* C_131246, TY55526* T_131247, TY55526** Ex_131249);
N_NIMCALL(NU8, Cmptypes_128420)(TY55552* F_128422, TY55552* A_128423);
N_NIMCALL(void, Typemismatch_129905)(TY55526* N_129907, TY55552* Formal_129908, TY55552* Actual_129909);
N_NIMCALL(NIM_BOOL, Emptyrange_104019)(TY55526* A_104021, TY55526* B_104022);
N_NIMCALL(NI64, Getordvalue_97109)(TY55526* N_97111);
N_NIMCALL(void, Checkforoverlap_131184)(TY107012* C_131186, TY55526* T_131187, TY55526* Ex_131188, NI Branchindex_131189);
N_NIMCALL(NIM_BOOL, Overlap_104006)(TY55526* A_104008, TY55526* B_104009);
N_NIMCALL(void, Delson_55836)(TY55526* Father_55838, NI Idx_55839);
N_NIMCALL(TY55548*, Semidentwithpragma_125098)(TY107012* C_125100, NU8 Kind_125101, TY55526* N_125102, NU32 Allowed_125103);
N_NIMCALL(TY55548*, Semidentvis_125092)(TY107012* C_125094, NU8 Kind_125095, TY55526* N_125096, NU32 Allowed_125097);
N_NIMCALL(TY55548*, Newsyms_125059)(NU8 Kind_125061, TY55526* N_125062, TY107012* C_125063);
N_NIMCALL(void, Pragma_122028)(TY107012* C_122030, TY55548* Sym_122031, TY55526* N_122032, TY122007 Validpragmas_122033);
N_NIMCALL(TY52008*, Torope_52046)(NimStringDesc* S_52048);
N_NIMCALL(TY55552*, Semtuple_130739)(TY107012* C_130741, TY55526* N_130742, TY55552* Prev_130743);
N_NIMCALL(TY55552*, Semanyref_130337)(TY107012* C_130339, TY55526* N_130340, NU8 Kind_130341, NimStringDesc* Kindstr_130342, TY55552* Prev_130343);
N_NIMCALL(TY55552*, Semvartype_130360)(TY107012* C_130362, TY55526* N_130363, TY55552* Prev_130364);
N_NIMCALL(TY55552*, Semdistinct_130390)(TY107012* C_130392, TY55526* N_130393, TY55552* Prev_130394);
N_NIMCALL(TY55552*, Semenum_129957)(TY107012* C_129959, TY55526* N_129960, TY55552* Prev_129961);
N_NIMCALL(NI64, Lastord_97004)(TY55552* T_97006);
N_NIMCALL(void, Strtableadd_60061)(TY55530* T_60064, TY55548* N_60065);
N_NIMCALL(void, Adddeclat_108128)(TY107012* C_108130, TY55548* Sym_108131, NI At_108132);
N_NIMCALL(TY55552*, Semstmtlisttype_132696)(TY107012* C_132698, TY55526* N_132699, TY55552* Prev_132700);
N_NIMCALL(TY55552*, Semblocktype_132764)(TY107012* C_132766, TY55526* N_132767, TY55552* Prev_132768);
N_NIMCALL(void, Closescope_108018)(TY60104* Tab_108021);
N_NIMCALL(TY55552*, Addtypevarsofgenericbody_132350)(TY107012* C_132352, TY55552* T_132353, TY55526* Genericparams_132354, TY55901* Cl_132356);
N_NIMCALL(TY55526*, Fitnode_125129)(TY107012* C_125131, TY55552* Formal_125132, TY55526* Arg_125133);
N_NIMCALL(TY55526*, Indextypesmatch_128874)(TY107012* C_128876, TY55552* F_128877, TY55552* A_128878, TY55526* Arg_128879);
N_NIMCALL(void, Addparams_125153)(TY107012* C_125155, TY55526* N_125156);
N_NIMCALL(TY55548*, Genericcacheget_126317)(TY107012* C_126319, TY55548* Genericsym_126320, TY55548* Instsym_126321);
N_NIMCALL(NU8, Equalparams_97065)(TY55526* A_97067, TY55526* B_97068);
N_NIMCALL(void, Genericcacheadd_126438)(TY107012* C_126440, TY55548* Genericsym_126441, TY55548* Instsym_126442);
N_NIMCALL(TY55526*, Newnode_55711)(NU8 Kind_55713);
N_NIMCALL(TY107006*, Newproccon_107050)(TY55548* Owner_107052);
N_NIMCALL(void, Addresult_125157)(TY107012* C_125159, TY55552* T_125160, TY47539 Info_125161);
N_NIMCALL(void, Addresultnode_125162)(TY107012* C_125164, TY55526* N_125165);
N_NIMCALL(TY55526*, Semstmtscope_125104)(TY107012* C_125106, TY55526* N_125107);
N_NIMCALL(void, Popowner_107112)(void);
N_NIMCALL(void, Fixabstracttype_134346)(TY107012* C_134348, TY55526* N_134349);
N_NIMCALL(TY55526*, Semarrayconstr_134183)(TY107012* C_134185, TY55526* N_134186);
N_NIMCALL(TY55552*, Makerangetype_107086)(TY107012* C_107088, NI64 First_107089, NI64 Last_107090, TY47539 Info_107091);
N_NIMCALL(TY55552*, Elemtype_97091)(TY55552* T_97093);
N_NIMCALL(void, Changetype_133964)(TY55526* N_133966, TY55552* Newtype_133967);
N_NIMCALL(void, Analyseifaddresstakenincall_135043)(TY107012* C_135045, TY55526* N_135046);
N_NIMCALL(NU8, Isassignable_134610)(TY55526* N_134612);
N_NIMCALL(TY55526*, Analyseifaddresstaken_134825)(TY107012* C_134827, TY55526* N_134828);
N_NIMCALL(TY55526*, Newhiddenaddrtaken_134790)(TY107012* C_134792, TY55526* N_134793);
N_NIMCALL(TY55552*, Makevartype_107073)(TY107012* C_107075, TY55552* Basetype_107076);
N_NIMCALL(TY55526*, Semsubscript_136890)(TY107012* C_136892, TY55526* N_136893, NU8 Flags_136894);
N_NIMCALL(TY55526*, Buildoverloadedsubscripts_136847)(TY55526* N_136849, NIM_BOOL Inasgn_136850);
N_NIMCALL(void, Add_56975)(TY55526* Father_56977, TY55526* Son_56978);
static N_INLINE(NI, Len_56929)(TY55526* N_56931);
N_NIMCALL(NimStringDesc*, resizeString)(NimStringDesc* Dest_18989, NI Addlen_18990);
N_NIMCALL(void, Addsliceopr_136809)(NimStringDesc** Result_136812, TY55526* N_136813);
N_NIMCALL(void, Addsonifnotnil_55832)(TY55526* Father_55834, TY55526* N_55835);
N_NIMCALL(TY55526*, Semexprnotype_140814)(TY107012* C_140816, TY55526* N_140817);
N_NIMCALL(TY55526*, Semcommand_145680)(TY107012* C_145682, TY55526* N_145683);
N_NIMCALL(TY55526*, Semblock_141266)(TY107012* C_141268, TY55526* N_141269);
N_NIMCALL(TY55526*, Semraise_143129)(TY107012* C_143131, TY55526* N_143132);
N_NIMCALL(TY55526*, Semvar_142230)(TY107012* C_142232, TY55526* N_142233);
N_NIMCALL(NIM_BOOL, Typeallowed_97136)(TY55552* T_97138, NU8 Kind_97139);
N_NIMCALL(void, Addinterfacedecl_108236)(TY107012* C_108238, TY55548* Sym_108239);
N_NIMCALL(TY55526*, Semconst_142530)(TY107012* C_142532, TY55526* N_142533);
N_NIMCALL(TY55526*, Semandevalconstexpr_125198)(TY107012* C_125200, TY55526* N_125201);
N_NIMCALL(TY55526*, Getconstexpr_113010)(TY55548* M_113012, TY55526* N_113013);
N_NIMCALL(TY55526*, Evalconstexpr_115042)(TY55548* Module_115044, TY55526* E_115045);
N_NIMCALL(TY55526*, Fitremovehiddenconv_142188)(TY107012* C_142190, TY55552* Typ_142191, TY55526* N_142192);
N_NIMCALL(TY55526*, Semtypesection_143637)(TY107012* C_143639, TY55526* N_143640);
N_NIMCALL(void, Processmagictype_133031)(TY107012* C_133033, TY55548* M_133034);
N_NIMCALL(void, Setmagictype_133026)(TY55548* M_133028, NU8 Kind_133029, NI Size_133030);
static N_INLINE(NI, Getid_55694)(void);
N_NIMCALL(TY55526*, Semgenericparamlist_143409)(TY107012* C_143411, TY55526* N_143412, TY55552* Father_143413);
N_NIMCALL(TY55526*, Semif_140970)(TY107012* C_140972, TY55526* N_140973);
N_NIMCALL(TY55526*, Semwhen_140839)(TY107012* C_140841, TY55526* N_140842);
N_NIMCALL(void, Idsynchronizationpoint_55699)(NI Idrange_55701);
N_NIMCALL(TY55526*, Semdiscard_141096)(TY107012* C_141098, TY55526* N_141099);
N_NIMCALL(TY55526*, Semwhile_141389)(TY107012* C_141391, TY55526* N_141392);
N_NIMCALL(TY55526*, Semtry_143212)(TY107012* C_143214, TY55526* N_143215);
N_NIMCALL(TY55526*, Sembreakorcontinue_141148)(TY107012* C_141150, TY55526* N_141151);
N_NIMCALL(TY55526*, Semfor_142721)(TY107012* C_142723, TY55526* N_142724);
N_NIMCALL(TY55548*, Strtableget_60066)(TY55530* T_60068, TY54011* Name_60069);
N_NIMCALL(TY55526*, Semcase_141494)(TY107012* C_141496, TY55526* N_141497);
N_NIMCALL(NI64, Tocover_141480)(TY55552* T_141482);
N_NIMCALL(TY55526*, Semreturn_141841)(TY107012* C_141843, TY55526* N_141844);
N_NIMCALL(TY55526*, Semasm_141369)(TY107012* Con_141371, TY55526* N_141372);
N_NIMCALL(NIM_CHAR, Pragmaasm_122034)(TY107012* C_122036, TY55526* N_122037);
N_NIMCALL(TY55526*, Semasmoremit_123596)(TY107012* Con_123598, TY55526* N_123599, NIM_CHAR Marker_123600);
N_NIMCALL(TY55526*, Semyield_142057)(TY107012* C_142059, TY55526* N_142060);
N_NIMCALL(TY55526*, Semiterator_145373)(TY107012* C_145375, TY55526* N_145376);
N_NIMCALL(TY55526*, Semprocaux_144609)(TY107012* C_144611, TY55526* N_144612, NU8 Kind_144613, TY122007 Validpragmas_144614);
N_NIMCALL(TY55548*, Searchforproc_121004)(TY107012* C_121006, TY55548* Fn_121007, NI Tos_121008);
N_NIMCALL(void, Addinterfaceoverloadablesymat_108240)(TY107012* C_108242, TY55548* Sym_108243, NI At_108244);
N_NIMCALL(void, Addinterfacedeclat_108191)(TY107012* C_108193, TY55548* Sym_108194, NI At_108195);
N_NIMCALL(void, Addgenericparamlisttoscope_143581)(TY107012* C_143583, TY55526* N_143584);
N_NIMCALL(TY55526*, Semgenericstmtscope_139125)(TY107012* C_139127, TY55526* N_139128, NU8 Flags_139131);
N_NIMCALL(TY55526*, Semgenericstmt_139118)(TY107012* C_139120, TY55526* N_139121, NU8 Flags_139124);
N_NIMCALL(TY55548*, Symtabget_60116)(TY60104 Tab_60118, TY54011* S_60119);
N_NIMCALL(TY55526*, Semgenericstmtsymbol_139135)(TY107012* C_139137, TY55526* N_139138, TY55548* S_139139);
N_NIMCALL(TY55526*, Semtemplateexpr_133037)(TY107012* C_133039, TY55526* N_133040, TY55548* S_133041, NIM_BOOL Semcheck_133042);
N_NIMCALL(TY55526*, Evaltemplate_125512)(TY107012* C_125514, TY55526* N_125515, TY55548* Sym_125516);
N_NIMCALL(TY55526*, Evaltemplateargs_125427)(TY107012* C_125429, TY55526* N_125430, TY55548* S_125431);
N_NIMCALL(TY55526*, Evaltemplateaux_125339)(TY107012* C_125341, TY55526* Templ_125342, TY55526* Actual_125343, TY55548* Sym_125344);
N_NIMCALL(TY55526*, Semmacrostmt_138510)(TY107012* C_138512, TY55526* N_138513, NIM_BOOL Semcheck_138514);
N_NIMCALL(NIM_BOOL, Iscallexpr_138494)(TY55526* N_138496);
N_NIMCALL(TY55526*, Getidentnode_139173)(TY55526* N_139175);
N_NIMCALL(void, Semborrow_144315)(TY107012* C_144317, TY55526* N_144318, TY55548* S_144319);
N_NIMCALL(TY55548*, Searchforborrowproc_121009)(TY107012* C_121011, TY55548* Fn_121012, NI Tos_121013);
N_NIMCALL(void, Sideeffectscheck_144344)(TY107012* C_144346, TY55548* S_144347);
N_NIMCALL(TY55526*, Semproc_145438)(TY107012* C_145440, TY55526* N_145441);
N_NIMCALL(TY55526*, Semmethod_145443)(TY107012* C_145445, TY55526* N_145446);
N_NIMCALL(NIM_BOOL, Istoplevel_125053)(TY107012* C_125055);
N_NIMCALL(TY55526*, Semconverterdef_145493)(TY107012* C_145495, TY55526* N_145496);
N_NIMCALL(void, Addconverter_107058)(TY107012* C_107060, TY55548* Conv_107061);
N_NIMCALL(TY55526*, Semmacrodef_145560)(TY107012* C_145562, TY55526* N_145563);
N_NIMCALL(TY55526*, Semtemplatedef_125762)(TY107012* C_125764, TY55526* N_125765);
N_NIMCALL(TY55526*, Resolvetemplateparams_125608)(TY107012* C_125610, TY55526* N_125611, NIM_BOOL Withinbind_125612, TY55901* Tobind_125614);
N_NIMCALL(NIM_BOOL, Intsetcontains_55911)(TY55901 S_55913, NI Key_55914);
N_NIMCALL(TY55548*, Symtablocalget_60120)(TY60104 Tab_60122, TY54011* S_60123);
N_NIMCALL(TY55526*, Transformtoexpr_125720)(TY55526* N_125722);
N_NIMCALL(TY55526*, Evalimport_110001)(TY107012* C_110003, TY55526* N_110004);
N_NIMCALL(TY55526*, Evalfrom_110005)(TY107012* C_110007, TY55526* N_110008);
N_NIMCALL(TY55526*, Evalinclude_145650)(TY107012* C_145652, TY55526* N_145653);
N_NIMCALL(NimStringDesc*, Getmodulefile_110013)(TY55526* N_110015);
N_NIMCALL(NI, Includefilename_47618)(NimStringDesc* F_47620);
N_NIMCALL(void, Intsetexcl_55920)(TY55901* S_55923, NI Key_55924);
N_NIMCALL(TY55526*, Semfieldaccess_133044)(TY107012* C_133046, TY55526* N_133047, NU8 Flags_133050);
N_NIMCALL(TY55526*, Semconv_133351)(TY107012* C_133353, TY55526* N_133354, TY55548* S_133355);
N_NIMCALL(void, Checkconvertible_133198)(TY47539 Info_133200, TY55552* Castdest_133201, TY55552* Src_133202);
N_NIMCALL(void, Checkconversionbetweenobjects_133186)(TY47539 Info_133188, TY55552* Castdest_133189, TY55552* Src_133190);
N_NIMCALL(NI, Inheritancediff_97121)(TY55552* A_97123, TY55552* B_97124);
N_NIMCALL(NIM_BOOL, Equalordistinctof_97056)(TY55552* X_97058, TY55552* Y_97059);
N_NIMCALL(TY55526*, Semdirectop_135682)(TY107012* C_135684, TY55526* N_135685, NU8 Flags_135686);
N_NIMCALL(void, Semopaux_133806)(TY107012* C_133808, TY55526* N_133809);
N_NIMCALL(TY55526*, Overloadedcallopr_133926)(TY107012* C_133928, TY55526* N_133929);
N_NIMCALL(NimStringDesc*, Getnotfounderror_127172)(TY107012* C_127174, TY55526* N_127175);
N_NIMCALL(NimStringDesc*, addChar)(NimStringDesc* S_1803, NIM_CHAR C_1804);
N_NIMCALL(TY55526*, Semmagic_136019)(TY107012* C_136021, TY55526* N_136022, TY55548* S_136023, NU8 Flags_136024);
N_NIMCALL(TY55526*, Semdefined_135892)(TY107012* C_135894, TY55526* N_135895, NIM_BOOL Onlycurrentscope_135896);
N_NIMCALL(TY55526*, Newintnode_55714)(NU8 Kind_55716, NI64 Intval_55717);
N_NIMCALL(TY55548*, Lookupfordefined_135750)(TY107012* C_135752, TY55526* N_135753, NIM_BOOL Onlycurrentscope_135754);
N_NIMCALL(NIM_BOOL, Isdefined_64059)(TY54011* Symbol_64061);
N_NIMCALL(TY55526*, Setms_135990)(TY55526* N_135992, TY55548* S_135993);
N_NIMCALL(TY55526*, Semlowhigh_133574)(TY107012* C_133576, TY55526* N_133577, NU8 M_133578);
N_NIMCALL(TY55526*, Semsizeof_133649)(TY107012* C_133651, TY55526* N_133652);
N_NIMCALL(TY55526*, Semis_133681)(TY107012* C_133683, TY55526* N_133684);
N_NIMCALL(TY55526*, Semecho_135710)(TY107012* C_135712, TY55526* N_135713);
N_NIMCALL(TY55526*, Semindirectop_135364)(TY107012* C_135366, TY55526* N_135367, NU8 Flags_135368);
N_NIMCALL(TY55526*, Explictgenericinstantiation_129751)(TY107012* C_129753, TY55526* N_129754, TY55548* S_129755);
N_NIMCALL(TY55526*, Semarrayaccess_137163)(TY107012* C_137165, TY55526* N_137166, NU8 Flags_137167);
N_NIMCALL(NU8, Checkpar_137774)(TY55526* N_137776);
N_NIMCALL(TY55526*, Semtuplepositionsconstr_138262)(TY107012* C_138264, TY55526* N_138265);
N_NIMCALL(TY55526*, Semtuplefieldsconstr_137924)(TY107012* C_137926, TY55526* N_137927);
N_NIMCALL(TY55526*, Semsetconstr_137395)(TY107012* C_137397, TY55526* N_137398);
N_NIMCALL(TY55526*, Semlambda_125134)(TY107012* C_125136, TY55526* N_125137);
N_NIMCALL(TY55552*, Makeptrtype_107069)(TY107012* C_107071, TY55552* Basetype_107072);
N_NIMCALL(TY55526*, Semcast_133498)(TY107012* C_133500, TY55526* N_133501);
N_NIMCALL(NIM_BOOL, Iscastable_133310)(TY55552* Dst_133312, TY55552* Src_133313);
N_NIMCALL(TY55526*, Semifexpr_137201)(TY107012* C_137203, TY55526* N_137204);
N_NIMCALL(TY55526*, Semstmtlistexpr_138313)(TY107012* C_138315, TY55526* N_138316);
N_NIMCALL(TY55526*, Semblockexpr_138392)(TY107012* C_138394, TY55526* N_138395);
N_NIMCALL(TY55526*, Semexprnoflags_146221)(TY107012* C_146223, TY55526* N_146224);
N_NIMCALL(void, Symtabadd_60124)(TY60104* Tab_60127, TY55548* E_60128);
N_NIMCALL(void, Initsystem_102017)(TY60104* Tab_102020);
N_NIMCALL(void, Importallsymbols_110009)(TY107012* C_110011, TY55548* Frommod_110012);
N_NIMCALL(TY105002*, Myopencached_146261)(TY55548* Module_146263, NimStringDesc* Filename_146264, TY93031* Rd_146265);
N_NIMCALL(TY55526*, Myclose_146283)(TY105002* Context_146285, TY55526* N_146286);
N_NIMCALL(void, Rawclosescope_60150)(TY60104* Tab_60153);
N_NIMCALL(void, Addcodeforgenerics_146102)(TY107012* C_146104, TY55526* N_146105);
N_NIMCALL(TY55526*, Myprocess_146268)(TY105002* Context_146270, TY55526* N_146271);
NIM_CONST NU64 Constabstracttypes_133035 = IL64(3747008638145789952);
STRING_LITERAL(TMP195925, "sem.myOpen", 10);
STRING_LITERAL(TMP195927, "", 0);
NIM_CONST TY180060 Lastblockstmts_145690 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x80, 0x07, 0x00, 0x00, 0x00}
;
STRING_LITERAL(TMP196058, "in", 2);
STRING_LITERAL(TMP196059, "not", 3);
STRING_LITERAL(TMP196060, "forward type in typeRel()", 25);
STRING_LITERAL(TMP196061, "tupleRel", 8);
STRING_LITERAL(TMP196062, "typeRel: tyGenericInvokation -> tyGenericInvokation", 51);
STRING_LITERAL(TMP196063, "wrong instantiated type!", 24);
STRING_LITERAL(TMP196064, "lookup failed", 13);
STRING_LITERAL(TMP196065, "has constraints: ", 17);
STRING_LITERAL(TMP196066, "typeRel(", 8);
STRING_LITERAL(TMP196067, "substitution with generic parameter", 35);
STRING_LITERAL(TMP196068, "no generic body", 15);
STRING_LITERAL(TMP196070, "acyclic", 7);
STRING_LITERAL(TMP196071, "ReplaceTypeVarsT: tyGenericBody", 31);
STRING_LITERAL(TMP196072, "getInstantiatedType", 19);
STRING_LITERAL(TMP196073, "implicitConv", 12);
STRING_LITERAL(TMP196078, "x.state is not csMatch", 22);
STRING_LITERAL(TMP196079, "matches", 7);
STRING_LITERAL(TMP196081, "calleeSym.ast is nil", 20);
STRING_LITERAL(TMP196082, "nesting too deep", 16);
STRING_LITERAL(TMP196083, "generateInstance", 16);
STRING_LITERAL(TMP196084, "instantiateGenericParamList; no generic params", 46);
STRING_LITERAL(TMP196085, "instantiateGenericParamList; no symbol", 38);
STRING_LITERAL(TMP196086, "instantiateGenericParamList: ", 29);
STRING_LITERAL(TMP196087, "semRangeAux", 11);
STRING_LITERAL(TMP196088, "openarray", 9);
STRING_LITERAL(TMP196089, "range", 5);
STRING_LITERAL(TMP196090, "set", 3);
STRING_LITERAL(TMP196091, "ordinal", 7);
STRING_LITERAL(TMP196092, "seq", 3);
STRING_LITERAL(TMP196093, "semtypes.semGeneric", 19);
STRING_LITERAL(TMP196094, "addInheritedFieldsAux", 21);
STRING_LITERAL(TMP196095, "addInheritedFieldsAux(record case branch)", 41);
STRING_LITERAL(TMP196096, "addInheritedFieldsAux()", 23);
STRING_LITERAL(TMP196097, "semObjectNode", 13);
STRING_LITERAL(TMP196098, "semRecordNodeAux", 16);
STRING_LITERAL(TMP196099, "semRecordCase: dicriminant is no symbol", 39);
STRING_LITERAL(TMP196100, ") ", 2);
static NIM_CONST TY122007 TMP196106 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x70, 0x00, 0x00, 0x00, 0x20, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00}
;static NIM_CONST TY122007 TMP196107 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x70, 0x2D, 0x0C, 0x00, 0x20, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x20, 0x00}
;static NIM_CONST TY122007 TMP196108 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x70, 0x21, 0x00, 0x00, 0x20, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP196109, "ref", 3);
STRING_LITERAL(TMP196110, "ptr", 3);
STRING_LITERAL(TMP196111, "var", 3);
STRING_LITERAL(TMP196112, "distinct", 8);
STRING_LITERAL(TMP196113, "dummy", 5);
static NIM_CONST TY122007 TMP196114 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x40, 0x00, 0x00, 0x40, 0xF8, 0x1F,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP196116, "addTypeVarsOfGenericBody", 24);
STRING_LITERAL(TMP196117, "addTypeVarsOfGenericBody 2", 26);
STRING_LITERAL(TMP196118, "addParams", 9);
STRING_LITERAL(TMP196119, "GenericCacheGet", 15);
STRING_LITERAL(TMP196121, "result", 6);
STRING_LITERAL(TMP196123, "semDirectCallAnalyseEffects", 27);
STRING_LITERAL(TMP196124, "changeType: no tuple type for constructor", 41);
STRING_LITERAL(TMP196125, "changeType: no tuple fields", 27);
STRING_LITERAL(TMP196126, "changeType(): invalid tuple constr", 34);
STRING_LITERAL(TMP196127, "changeType(): invalid identifier", 32);
STRING_LITERAL(TMP196128, "fixAbstractType: ", 17);
NIM_CONST TY135048 Fakevarparams_135047 = {
0x00, 0xD8, 0x61, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x38, 0x2C, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;
static NIM_CONST TY135048 TMP196129 = {
0x00, 0xD8, 0x61, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x38, 0x2C, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP196131, "analyseIfAddressTaken", 21);
STRING_LITERAL(TMP196132, "[", 1);
STRING_LITERAL(TMP196133, ",", 1);
STRING_LITERAL(TMP196134, "..", 2);
STRING_LITERAL(TMP196135, "..$", 3);
STRING_LITERAL(TMP196136, "$..", 3);
STRING_LITERAL(TMP196137, "$..$", 4);
STRING_LITERAL(TMP196138, "]=", 2);
STRING_LITERAL(TMP196139, "]", 1);
STRING_LITERAL(TMP196140, "tuple", 5);
static NIM_CONST TY122007 TMP196157 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x72, 0x23, 0x08, 0x00, 0x20, 0x00, 0x00,
0x00, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x40, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP196158, "semTypeSection: containerID", 27);
STRING_LITERAL(TMP196159, "semGenericParamList", 19);
STRING_LITERAL(TMP196160, "semTypeSection()", 16);
STRING_LITERAL(TMP196161, "semWhen", 7);
STRING_LITERAL(TMP196162, "countup", 7);
STRING_LITERAL(TMP196163, "\'return\'", 8);
STRING_LITERAL(TMP196164, "semReturn", 9);
STRING_LITERAL(TMP196165, "semYield", 8);
static NIM_CONST TY122007 TMP196166 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x08, 0x02, 0xE0, 0xFD, 0x3D, 0x02, 0x80,
0xFF, 0x0D, 0x00, 0x05, 0xA0, 0x00, 0x00, 0x04,
0x04, 0x00, 0x00, 0x40, 0x00}
;STRING_LITERAL(TMP196169, "addGenericParamListToScope", 26);
STRING_LITERAL(TMP196170, "semProcAux", 10);
static NIM_CONST TY122007 TMP196171 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x70, 0x51, 0x00, 0x00, 0x20, 0xF8, 0x1F,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x04, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP196172, "iterator", 8);
static NIM_CONST TY122007 TMP196173 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x70, 0xF3, 0x1D, 0x00, 0x60, 0xF8, 0x1F,
0x00, 0x00, 0x00, 0x08, 0x00, 0x00, 0x04, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP196174, "method", 6);
STRING_LITERAL(TMP196175, "converter", 9);
STRING_LITERAL(TMP196176, "macro", 5);
static NIM_CONST TY122007 TMP196177 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x71, 0x41, 0x08, 0x00, 0x20, 0xF8, 0x1F,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP196178, "template", 8);
STRING_LITERAL(TMP196179, "import", 6);
STRING_LITERAL(TMP196185, "from", 4);
STRING_LITERAL(TMP196189, "include", 7);
STRING_LITERAL(TMP196190, "SemStmt: result = nil", 21);
STRING_LITERAL(TMP196191, "no default for", 14);
NIM_CONST NU64 Integraltypes_133203 = IL64(450360516771053568);
STRING_LITERAL(TMP196192, "()", 2);
STRING_LITERAL(TMP196193, ": ", 2);
STRING_LITERAL(TMP196194, ", ", 2);
STRING_LITERAL(TMP196195, "\012", 1);
STRING_LITERAL(TMP196196, "low", 3);
STRING_LITERAL(TMP196197, "high", 4);
NIM_CONST TY133581 Optostr_133580 = {((NimStringDesc*) &TMP196196),
((NimStringDesc*) &TMP196197)}
;
extern NIM_CONST TY133581 Optostr_133580;
STRING_LITERAL(TMP196198, "sizeof", 6);
STRING_LITERAL(TMP196199, "$", 1);
STRING_LITERAL(TMP196200, ")\012", 2);
STRING_LITERAL(TMP196201, "semExpr() to implement", 22);
STRING_LITERAL(TMP196202, ":anonymous", 10);
static NIM_CONST TY122007 TMP196203 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x70, 0xF3, 0x04, 0x00, 0x20, 0xF8, 0x1F,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP196205, "semIfExpr", 9);
STRING_LITERAL(TMP196206, "semExprWithType", 15);
STRING_LITERAL(TMP196207, "n is not nil", 12);
STRING_LITERAL(TMP196208, "addCodeForGenerics", 18);
STRING_LITERAL(TMP196209, "no code for ", 12);
NI Evaltemplatecounter_125426;
extern TY11396 Gch_11414;
extern TNimType* NTI55162; /* TTypeKind */
extern TY55564 Ginsttypes_107045;
extern TNimType* NTI127022; /* TCandidate */
extern NI Intsize_51570;
extern NI Floatsize_51571;
extern NI Ptrsize_51572;
extern NI Gid_55693;
extern TY55548* Systemmodule_102004;
extern NU32 Goptions_46077;
extern TY105048 Gincludefile_105051;
extern NU32 Gglobaloptions_46079;
N_NIMCALL(void, Markused_125065)(TY55526* N_125067, TY55548* S_125068) {
(*S_125068).Flags |=(1<<((NI32)(((NU8) 0))%(sizeof(NI32)*8)));
if (!(((*S_125068).Flags &(1<<((((NU8) 22))&31)))!=0)) goto LA2;
Limessage_47569((*N_125067).Info, ((NU8) 215), (*(*S_125068).Name).S);
LA2: ;
}
N_NIMCALL(TY55526*, Symchoice_125559)(TY107012* C_125561, TY55526* N_125562, TY55548* S_125563) {
TY55526* Result_125564;
TY55548* A_125565;
TY108004 O_125566;
NI I_125567;
TY55552* LOC5;
TY55526* LOC7;
Result_125564 = 0;
A_125565 = 0;
memset((void*)&O_125566, 0, sizeof(O_125566));
I_125567 = 0;
I_125567 = 0;
A_125565 = Initoverloaditer_108734(&O_125566, C_125561, N_125562);
while (1) {
if (!!((A_125565 == NIM_NIL))) goto LA1;
A_125565 = Nextoverloaditer_109063(&O_125566, C_125561, N_125562);
I_125567 += 1;
} LA1: ;
if (!(I_125567 <= 1)) goto LA3;
Result_125564 = Newsymnode_55735(S_125563);
(*Result_125564).Info = (*N_125562).Info;
Markused_125065(N_125562, S_125563);
goto LA2;
LA3: ;
LOC5 = 0;
LOC5 = Newtypes_107077(((NU8) 0), C_125561);
Result_125564 = Newnodeit_55742(((NU8) 46), (*N_125562).Info, LOC5);
A_125565 = Initoverloaditer_108734(&O_125566, C_125561, N_125562);
while (1) {
if (!!((A_125565 == NIM_NIL))) goto LA6;
LOC7 = 0;
LOC7 = Newsymnode_55735(A_125565);
Addson_55824(Result_125564, LOC7);
A_125565 = Nextoverloaditer_109063(&O_125566, C_125561, N_125562);
} LA6: ;
LA2: ;
return Result_125564;
}
static N_INLINE(NI, Atomicinc_3401)(NI* Memloc_3404, NI X_3405) {
NI Result_8007;
Result_8007 = 0;
(*Memloc_3404) += X_3405;
Result_8007 = (*Memloc_3404);
return Result_8007;
}
static N_INLINE(NIM_BOOL, Canbecycleroot_11816)(TY11002* C_11818) {
NIM_BOOL Result_11819;
Result_11819 = 0;
Result_11819 = !((((*(*C_11818).Typ).flags &(1<<((((NU8) 1))&7)))!=0));
return Result_11819;
}
static N_INLINE(void, Rtladdcycleroot_12452)(TY11002* C_12454) {
Incl_11280(&Gch_11414.Cycleroots, C_12454);
}
static N_INLINE(void, Incref_13402)(TY11002* C_13404) {
NI LOC1;
NIM_BOOL LOC3;
LOC1 = Atomicinc_3401(&(*C_13404).Refcount, 8);
LOC3 = Canbecycleroot_11816(C_13404);
if (!LOC3) goto LA4;
Rtladdcycleroot_12452(C_13404);
LA4: ;
}
static N_INLINE(TY11002*, Usrtocell_11812)(void* Usr_11814) {
TY11002* Result_11815;
Result_11815 = 0;
Result_11815 = ((TY11002*) ((NI32)((NU32)(((NI) (Usr_11814))) - (NU32)(((NI) (((NI)sizeof(TY11002))))))));
return Result_11815;
}
static N_INLINE(NI, Atomicdec_3406)(NI* Memloc_3409, NI X_3410) {
NI Result_8206;
Result_8206 = 0;
(*Memloc_3409) -= X_3410;
Result_8206 = (*Memloc_3409);
return Result_8206;
}
static N_INLINE(void, Rtladdzct_12801)(TY11002* C_12803) {
Addzct_11801(&Gch_11414.Zct, C_12803);
}
static N_INLINE(void, Decref_13201)(TY11002* C_13203) {
NI LOC2;
NIM_BOOL LOC5;
LOC2 = Atomicdec_3406(&(*C_13203).Refcount, 8);
if (!((NU32)(LOC2) < (NU32)(8))) goto LA3;
Rtladdzct_12801(C_13203);
goto LA1;
LA3: ;
LOC5 = Canbecycleroot_11816(C_13203);
if (!LOC5) goto LA6;
Rtladdcycleroot_12452(C_13203);
goto LA1;
LA6: ;
LA1: ;
}
static N_INLINE(void, asgnRef)(void** Dest_13414, void* Src_13415) {
TY11002* LOC4;
TY11002* LOC8;
if (!!((Src_13415 == NIM_NIL))) goto LA2;
LOC4 = Usrtocell_11812(Src_13415);
Incref_13402(LOC4);
LA2: ;
if (!!(((*Dest_13414) == NIM_NIL))) goto LA6;
LOC8 = Usrtocell_11812((*Dest_13414));
Decref_13201(LOC8);
LA6: ;
(*Dest_13414) = Src_13415;
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13418, void* Src_13419) {
TY11002* C_13420;
NI LOC4;
TY11002* C_13422;
NI LOC9;
if (!!((Src_13419 == NIM_NIL))) goto LA2;
C_13420 = 0;
C_13420 = Usrtocell_11812(Src_13419);
LOC4 = Atomicinc_3401(&(*C_13420).Refcount, 8);
LA2: ;
if (!!(((*Dest_13418) == NIM_NIL))) goto LA6;
C_13422 = 0;
C_13422 = Usrtocell_11812((*Dest_13418));
LOC9 = Atomicdec_3406(&(*C_13422).Refcount, 8);
if (!((NU32)(LOC9) < (NU32)(8))) goto LA10;
Rtladdzct_12801(C_13422);
LA10: ;
LA6: ;
(*Dest_13418) = Src_13419;
}
N_NIMCALL(TY54011*, Consideracc_125003)(TY55526* N_125005) {
TY54011* Result_125006;
TY55526* X_125007;
NimStringDesc* LOC4;
Result_125006 = 0;
X_125007 = 0;
X_125007 = N_125005;
if (!((*X_125007).Kind == ((NU8) 43))) goto LA2;
X_125007 = (*X_125007).KindU.S6.Sons->data[0];
LA2: ;
switch ((*X_125007).Kind) {
case ((NU8) 2):
Result_125006 = (*X_125007).KindU.S5.Ident;
break;
case ((NU8) 3):
Result_125006 = (*(*X_125007).KindU.S4.Sym).Name;
break;
default:
LOC4 = 0;
LOC4 = Rendertree_85042(N_125005, 0);
Limessage_47569((*N_125005).Info, ((NU8) 19), LOC4);
Result_125006 = NIM_NIL;
break;
}
return Result_125006;
}
N_NIMCALL(NIM_BOOL, Istypeexpr_136026)(TY55526* N_136028) {
NIM_BOOL Result_136029;
Result_136029 = 0;
switch ((*N_136028).Kind) {
case ((NU8) 4):
case ((NU8) 110):
Result_136029 = NIM_TRUE;
break;
case ((NU8) 3):
Result_136029 = ((*(*N_136028).KindU.S4.Sym).Kind == ((NU8) 7));
break;
default:
Result_136029 = NIM_FALSE;
break;
}
return Result_136029;
}
static N_INLINE(NI, Sonslen_55804)(TY55526* N_55806) {
NI Result_56886;
Result_56886 = 0;
if (!(*N_55806).KindU.S6.Sons == 0) goto LA2;
Result_56886 = 0;
goto LA1;
LA2: ;
Result_56886 = (*N_55806).KindU.S6.Sons->Sup.len;
LA1: ;
return Result_56886;
}
static N_INLINE(TY55526*, Lastson_55810)(TY55526* N_55812) {
TY55526* Result_57825;
NI LOC1;
Result_57825 = 0;
LOC1 = Sonslen_55804(N_55812);
Result_57825 = (*N_55812).KindU.S6.Sons->data[(NI32)(LOC1 - 1)];
return Result_57825;
}
N_NIMCALL(TY55548*, Lookupinrecordandbuildcheck_136051)(TY107012* C_136053, TY55526* N_136054, TY55526* R_136055, TY54011* Field_136056, TY55526** Check_136058) {
TY55548* Result_136059;
TY55526* S_136060;
TY55526* It_136061;
TY55526* Inexpr_136062;
TY55526* Notexpr_136063;
NI I_136072;
NI HEX3Atmp_145930;
NI LOC1;
NI Res_145932;
NI I_136148;
NI HEX3Atmp_145939;
NI LOC12;
NI Res_145941;
TY55526* LOC14;
NI J_136180;
NI HEX3Atmp_145933;
NI LOC18;
NI Res_145935;
TY55526* LOC20;
NI J_136212;
NI HEX3Atmp_145936;
NI LOC24;
NI Res_145938;
TY55526* LOC26;
TY54011* LOC27;
TY55526* LOC28;
TY55526* LOC29;
TY55526* LOC30;
TY55526* LOC31;
TY54011* LOC38;
TY55526* LOC39;
TY55526* LOC40;
TY54011* LOC41;
TY55526* LOC42;
TY55526* LOC43;
Result_136059 = 0;
S_136060 = 0;
It_136061 = 0;
Inexpr_136062 = 0;
Notexpr_136063 = 0;
Result_136059 = NIM_NIL;
switch ((*R_136055).Kind) {
case ((NU8) 113):
I_136072 = 0;
HEX3Atmp_145930 = 0;
LOC1 = Sonslen_55804(R_136055);
HEX3Atmp_145930 = (NI32)(LOC1 - 1);
Res_145932 = 0;
Res_145932 = 0;
while (1) {
if (!(Res_145932 <= HEX3Atmp_145930)) goto LA2;
I_136072 = Res_145932;
Result_136059 = Lookupinrecordandbuildcheck_136051(C_136053, N_136054, (*R_136055).KindU.S6.Sons->data[I_136072], Field_136056, Check_136058);
if (!!((Result_136059 == NIM_NIL))) goto LA4;
goto BeforeRet;
LA4: ;
Res_145932 += 1;
} LA2: ;
break;
case ((NU8) 114):
Checkminsonslen_107103(R_136055, 2);
if (!!(((*(*R_136055).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA7;
Illformedast_107092(R_136055);
LA7: ;
Result_136059 = Lookupinrecordandbuildcheck_136051(C_136053, N_136054, (*R_136055).KindU.S6.Sons->data[0], Field_136056, Check_136058);
if (!!((Result_136059 == NIM_NIL))) goto LA10;
goto BeforeRet;
LA10: ;
S_136060 = Newnodei_55738(((NU8) 31), (*R_136055).Info);
I_136148 = 0;
HEX3Atmp_145939 = 0;
LOC12 = Sonslen_55804(R_136055);
HEX3Atmp_145939 = (NI32)(LOC12 - 1);
Res_145941 = 0;
Res_145941 = 1;
while (1) {
if (!(Res_145941 <= HEX3Atmp_145939)) goto LA13;
I_136148 = Res_145941;
It_136061 = (*R_136055).KindU.S6.Sons->data[I_136148];
switch ((*It_136061).Kind) {
case ((NU8) 75):
LOC14 = 0;
LOC14 = Lastson_55810(It_136061);
Result_136059 = Lookupinrecordandbuildcheck_136051(C_136053, N_136054, LOC14, Field_136056, Check_136058);
if (!(Result_136059 == NIM_NIL)) goto LA16;
J_136180 = 0;
HEX3Atmp_145933 = 0;
LOC18 = Sonslen_55804(It_136061);
HEX3Atmp_145933 = (NI32)(LOC18 - 2);
Res_145935 = 0;
Res_145935 = 0;
while (1) {
if (!(Res_145935 <= HEX3Atmp_145933)) goto LA19;
J_136180 = Res_145935;
LOC20 = 0;
LOC20 = Copytree_55859((*It_136061).KindU.S6.Sons->data[J_136180]);
Addson_55824(S_136060, LOC20);
Res_145935 += 1;
} LA19: ;
goto LA15;
LA16: ;
if (!((*Check_136058) == NIM_NIL)) goto LA22;
unsureAsgnRef((void**) &(*Check_136058), Newnodei_55738(((NU8) 37), (*N_136054).Info));
Addson_55824((*Check_136058), NIM_NIL);
LA22: ;
S_136060 = Newnodei_55738(((NU8) 31), (*N_136054).Info);
J_136212 = 0;
HEX3Atmp_145936 = 0;
LOC24 = Sonslen_55804(It_136061);
HEX3Atmp_145936 = (NI32)(LOC24 - 2);
Res_145938 = 0;
Res_145938 = 0;
while (1) {
if (!(Res_145938 <= HEX3Atmp_145936)) goto LA25;
J_136212 = Res_145938;
LOC26 = 0;
LOC26 = Copytree_55859((*It_136061).KindU.S6.Sons->data[J_136212]);
Addson_55824(S_136060, LOC26);
Res_145938 += 1;
} LA25: ;
Inexpr_136062 = Newnodei_55738(((NU8) 21), (*N_136054).Info);
LOC27 = 0;
LOC27 = Getident_54016(((NimStringDesc*) &TMP196058));
LOC28 = 0;
LOC28 = Newidentnode_55731(LOC27, (*N_136054).Info);
Addson_55824(Inexpr_136062, LOC28);
LOC29 = 0;
LOC29 = Copytree_55859((*R_136055).KindU.S6.Sons->data[0]);
Addson_55824(Inexpr_136062, LOC29);
Addson_55824(Inexpr_136062, S_136060);
LOC30 = 0;
LOC30 = Semexpr_125115(C_136053, Inexpr_136062, 0);
Addson_55824((*Check_136058), LOC30);
goto BeforeRet;
LA15: ;
break;
case ((NU8) 78):
LOC31 = 0;
LOC31 = Lastson_55810(It_136061);
Result_136059 = Lookupinrecordandbuildcheck_136051(C_136053, N_136054, LOC31, Field_136056, Check_136058);
if (!!((Result_136059 == NIM_NIL))) goto LA33;
if (!((*Check_136058) == NIM_NIL)) goto LA36;
unsureAsgnRef((void**) &(*Check_136058), Newnodei_55738(((NU8) 37), (*N_136054).Info));
Addson_55824((*Check_136058), NIM_NIL);
LA36: ;
Inexpr_136062 = Newnodei_55738(((NU8) 21), (*N_136054).Info);
LOC38 = 0;
LOC38 = Getident_54016(((NimStringDesc*) &TMP196058));
LOC39 = 0;
LOC39 = Newidentnode_55731(LOC38, (*N_136054).Info);
Addson_55824(Inexpr_136062, LOC39);
LOC40 = 0;
LOC40 = Copytree_55859((*R_136055).KindU.S6.Sons->data[0]);
Addson_55824(Inexpr_136062, LOC40);
Addson_55824(Inexpr_136062, S_136060);
Notexpr_136063 = Newnodei_55738(((NU8) 21), (*N_136054).Info);
LOC41 = 0;
LOC41 = Getident_54016(((NimStringDesc*) &TMP196059));
LOC42 = 0;
LOC42 = Newidentnode_55731(LOC41, (*N_136054).Info);
Addson_55824(Notexpr_136063, LOC42);
Addson_55824(Notexpr_136063, Inexpr_136062);
LOC43 = 0;
LOC43 = Semexpr_125115(C_136053, Notexpr_136063, 0);
Addson_55824((*Check_136058), LOC43);
goto BeforeRet;
LA33: ;
break;
default:
Illformedast_107092(It_136061);
break;
}
Res_145941 += 1;
} LA13: ;
break;
case ((NU8) 3):
if (!((*(*(*R_136055).KindU.S4.Sym).Name).Sup.Id == (*Field_136056).Sup.Id)) goto LA45;
Result_136059 = (*R_136055).KindU.S4.Sym;
LA45: ;
break;
default:
Illformedast_107092(N_136054);
break;
}
BeforeRet: ;
return Result_136059;
}
N_NIMCALL(TY55526*, Makederef_136297)(TY55526* N_136299) {
TY55526* Result_136300;
TY55552* T_136302;
TY55526* A_136325;
Result_136300 = 0;
T_136302 = 0;
T_136302 = Skiptypes_97087((*N_136299).Typ, IL64(2251799813685248));
Result_136300 = N_136299;
if (!((*T_136302).Kind == ((NU8) 23))) goto LA2;
Result_136300 = Newnodeit_55742(((NU8) 54), (*N_136299).Info, (*T_136302).Sons->data[0]);
Addson_55824(Result_136300, N_136299);
T_136302 = Skiptypes_97087((*T_136302).Sons->data[0], IL64(2251799813685248));
LA2: ;
if (!((*T_136302).Kind == ((NU8) 21) || (*T_136302).Kind == ((NU8) 22))) goto LA5;
A_136325 = 0;
A_136325 = Result_136300;
Result_136300 = Newnodeit_55742(((NU8) 38), (*N_136299).Info, (*T_136302).Sons->data[0]);
Addson_55824(Result_136300, A_136325);
LA5: ;
return Result_136300;
}
N_NIMCALL(TY55526*, Builtinfieldaccess_136326)(TY107012* C_136328, TY55526* N_136329, NU8 Flags_136330) {
TY55526* Result_136331;
TY55548* S_136333;
TY54011* I_136392;
TY55552* Ty_136405;
TY55548* F_136406;
NIM_BOOL LOC14;
TY55526* Check_136497;
NIM_BOOL LOC32;
TY55548* LOC34;
NIM_BOOL LOC40;
Result_136331 = 0;
S_136333 = 0;
S_136333 = Qualifiedlookup_108322(C_136328, N_136329, 3);
if (!!((S_136333 == NIM_NIL))) goto LA2;
Result_136331 = Semsym_133092(C_136328, N_136329, S_136333, Flags_136330);
goto BeforeRet;
LA2: ;
Checksonslen_107099(N_136329, 2);
asgnRefNoCycle((void**) &(*N_136329).KindU.S6.Sons->data[0], Semexprwithtype_125122(C_136328, (*N_136329).KindU.S6.Sons->data[0], (1 | Flags_136330)));
I_136392 = 0;
I_136392 = Consideracc_125003((*N_136329).KindU.S6.Sons->data[1]);
Ty_136405 = 0;
Ty_136405 = (*(*N_136329).KindU.S6.Sons->data[0]).Typ;
F_136406 = 0;
F_136406 = NIM_NIL;
Result_136331 = NIM_NIL;
if (!((*Ty_136405).Kind == ((NU8) 14))) goto LA5;
while (1) {
if (!!((Ty_136405 == NIM_NIL))) goto LA7;
F_136406 = Getsymfromlist_60194((*Ty_136405).N, I_136392, 0);
if (!!((F_136406 == NIM_NIL))) goto LA9;
goto LA7;
LA9: ;
Ty_136405 = (*Ty_136405).Sons->data[0];
} LA7: ;
if (!!((F_136406 == NIM_NIL))) goto LA12;
Result_136331 = Newsymnode_55735(F_136406);
(*Result_136331).Info = (*N_136329).Info;
asgnRef((void**) &(*Result_136331).Typ, Ty_136405);
Markused_125065(N_136329, F_136406);
goto LA11;
LA12: ;
Limessage_47569((*(*N_136329).KindU.S6.Sons->data[1]).Info, ((NU8) 167), (*I_136392).S);
LA11: ;
goto BeforeRet;
goto LA4;
LA5: ;
LOC14 = !(((Flags_136330 &(1<<((((NU8) 0))&7)))!=0));
if (!(LOC14)) goto LA15;
LOC14 = Istypeexpr_136026((*N_136329).KindU.S6.Sons->data[0]);
LA15: ;
if (!LOC14) goto LA16;
Limessage_47569((*(*N_136329).KindU.S6.Sons->data[0]).Info, ((NU8) 162), ((NimStringDesc*) &TMP195927));
goto BeforeRet;
goto LA4;
LA16: ;
LA4: ;
Ty_136405 = Skiptypes_97087(Ty_136405, IL64(2498090418307072));
Check_136497 = 0;
Check_136497 = NIM_NIL;
if (!((*Ty_136405).Kind == ((NU8) 17))) goto LA19;
while (1) {
Check_136497 = NIM_NIL;
F_136406 = Lookupinrecordandbuildcheck_136051(C_136328, N_136329, (*Ty_136405).N, I_136392, &Check_136497);
if (!!((F_136406 == NIM_NIL))) goto LA23;
goto LA21;
LA23: ;
if (!((*Ty_136405).Sons->data[0] == NIM_NIL)) goto LA26;
goto LA21;
LA26: ;
Ty_136405 = Skiptypes_97087((*Ty_136405).Sons->data[0], IL64(2251799813685248));
} LA21: ;
if (!!((F_136406 == NIM_NIL))) goto LA29;
LOC32 = !(((100663296 & (*F_136406).Flags) == 0));
if (LOC32) goto LA33;
LOC34 = 0;
LOC34 = Getmodule_60203(F_136406);
LOC32 = ((*LOC34).Sup.Id == (*(*C_136328).Module).Sup.Id);
LA33: ;
if (!LOC32) goto LA35;
asgnRefNoCycle((void**) &(*N_136329).KindU.S6.Sons->data[0], Makederef_136297((*N_136329).KindU.S6.Sons->data[0]));
asgnRefNoCycle((void**) &(*N_136329).KindU.S6.Sons->data[1], Newsymnode_55735(F_136406));
asgnRef((void**) &(*N_136329).Typ, (*F_136406).Typ);
Markused_125065(N_136329, F_136406);
if (!(Check_136497 == NIM_NIL)) goto LA38;
Result_136331 = N_136329;
goto LA37;
LA38: ;
asgnRefNoCycle((void**) &(*Check_136497).KindU.S6.Sons->data[0], N_136329);
asgnRef((void**) &(*Check_136497).Typ, (*N_136329).Typ);
Result_136331 = Check_136497;
LA37: ;
LA35: ;
LA29: ;
goto LA18;
LA19: ;
LOC40 = ((*Ty_136405).Kind == ((NU8) 18));
if (!(LOC40)) goto LA41;
LOC40 = !(((*Ty_136405).N == NIM_NIL));
LA41: ;
if (!LOC40) goto LA42;
F_136406 = Getsymfromlist_60194((*Ty_136405).N, I_136392, 0);
if (!!((F_136406 == NIM_NIL))) goto LA45;
asgnRefNoCycle((void**) &(*N_136329).KindU.S6.Sons->data[0], Makederef_136297((*N_136329).KindU.S6.Sons->data[0]));
asgnRefNoCycle((void**) &(*N_136329).KindU.S6.Sons->data[1], Newsymnode_55735(F_136406));
asgnRef((void**) &(*N_136329).Typ, (*F_136406).Typ);
Result_136331 = N_136329;
Markused_125065(N_136329, F_136406);
LA45: ;
goto LA18;
LA42: ;
LA18: ;
BeforeRet: ;
return Result_136331;
}
static N_INLINE(TY55526*, HEX5BHEX5D_57057)(TY55526* N_57059, NI I_57060) {
TY55526* Result_57061;
Result_57061 = 0;
Result_57061 = (*N_57059).KindU.S6.Sons->data[I_57060];
return Result_57061;
}
static N_INLINE(void, appendString)(NimStringDesc* Dest_18999, NimStringDesc* Src_19000) {
memcpy(((NCSTRING) (&(*Dest_18999).data[((*Dest_18999).Sup.len)-0])), ((NCSTRING) ((*Src_19000).data)), ((int) ((NI32)((NI32)((*Src_19000).Sup.len + 1) * 1))));
(*Dest_18999).Sup.len += (*Src_19000).Sup.len;
}
static N_INLINE(void, appendChar)(NimStringDesc* Dest_19016, NIM_CHAR C_19017) {
(*Dest_19016).data[((*Dest_19016).Sup.len)-0] = C_19017;
(*Dest_19016).data[((NI32)((*Dest_19016).Sup.len + 1))-0] = 0;
(*Dest_19016).Sup.len += 1;
}
static N_INLINE(void, Initcandidateaux_127045)(TY127022* C_127048, TY55552* Callee_127049) {
(*C_127048).Exactmatches = 0;
(*C_127048).Subtypematches = 0;
(*C_127048).Convmatches = 0;
(*C_127048).Intconvmatches = 0;
(*C_127048).Genericmatches = 0;
(*C_127048).State = ((NU8) 0);
unsureAsgnRef((void**) &(*C_127048).Callee, Callee_127049);
unsureAsgnRef((void**) &(*C_127048).Call, NIM_NIL);
(*C_127048).Basetypematch = NIM_FALSE;
}
N_NIMCALL(void, Initcandidate_127056)(TY127022* C_127059, TY55548* Callee_127060, TY55526* Binding_127061) {
TY55526* Typeparams_127074;
NI I_127085;
NI HEX3Atmp_129848;
NI LOC4;
NI LOC5;
NI Res_129850;
TY55552* Formaltypeparam_127098;
TY55526* LOC7;
Initcandidateaux_127045(C_127059, (*Callee_127060).Typ);
unsureAsgnRef((void**) &(*C_127059).Calleesym, Callee_127060);
Initidtable_55755(&(*C_127059).Bindings);
if (!!((Binding_127061 == NIM_NIL))) goto LA2;
Typeparams_127074 = 0;
Typeparams_127074 = HEX5BHEX5D_57057((*Callee_127060).Ast, 1);
I_127085 = 0;
HEX3Atmp_129848 = 0;
LOC4 = Sonslen_55804(Typeparams_127074);
LOC5 = Sonslen_55804(Binding_127061);
HEX3Atmp_129848 = ((LOC4 <= (NI32)(LOC5 - 1)) ? LOC4 : (NI32)(LOC5 - 1));
Res_129850 = 0;
Res_129850 = 1;
while (1) {
if (!(Res_129850 <= HEX3Atmp_129848)) goto LA6;
I_127085 = Res_129850;
Formaltypeparam_127098 = 0;
Formaltypeparam_127098 = (*(*Typeparams_127074).KindU.S6.Sons->data[(NI32)(I_127085 - 1)]).Typ;
LOC7 = 0;
LOC7 = HEX5BHEX5D_57057(Binding_127061, I_127085);
Idtableput_60171(&(*C_127059).Bindings, &Formaltypeparam_127098->Sup, &(*LOC7).Typ->Sup.Sup);
Res_129850 += 1;
} LA6: ;
LA2: ;
}
static N_INLINE(NI, Sonslen_55807)(TY55552* N_55809) {
NI Result_56750;
Result_56750 = 0;
if (!(*N_55809).Sons == 0) goto LA2;
Result_56750 = 0;
goto LA1;
LA2: ;
Result_56750 = (*N_55809).Sons->Sup.len;
LA1: ;
return Result_56750;
}
static N_INLINE(TY55552*, Lastson_55813)(TY55552* N_55815) {
TY55552* Result_57841;
NI LOC1;
Result_57841 = 0;
LOC1 = Sonslen_55807(N_55815);
Result_57841 = (*N_55815).Sons->data[(NI32)(LOC1 - 1)];
return Result_57841;
}
N_NIMCALL(NU8, Handlerange_127328)(TY55552* F_127330, TY55552* A_127331, NU8 Min_127332, NU8 Max_127333) {
NU8 Result_127334;
NU8 K_127345;
TY55552* LOC4;
NIM_BOOL LOC8;
NIM_BOOL LOC12;
Result_127334 = 0;
if (!((*A_127331).Kind == (*F_127330).Kind)) goto LA2;
Result_127334 = ((NU8) 5);
goto LA1;
LA2: ;
K_127345 = 0;
LOC4 = 0;
LOC4 = Skiptypes_97087(A_127331, IL64(17592186044416));
K_127345 = (*LOC4).Kind;
if (!(K_127345 == (*F_127330).Kind)) goto LA6;
Result_127334 = ((NU8) 3);
goto LA5;
LA6: ;
LOC8 = ((*F_127330).Kind == ((NU8) 31));
if (!(LOC8)) goto LA9;
LOC8 = (K_127345 >= ((NU8) 31) && K_127345 <= ((NU8) 34));
LA9: ;
if (!LOC8) goto LA10;
Result_127334 = ((NU8) 2);
goto LA5;
LA10: ;
LOC12 = (Min_127332 <= K_127345);
if (!(LOC12)) goto LA13;
LOC12 = (K_127345 <= Max_127333);
LA13: ;
if (!LOC12) goto LA14;
Result_127334 = ((NU8) 1);
goto LA5;
LA14: ;
Result_127334 = ((NU8) 0);
LA5: ;
LA1: ;
return Result_127334;
}
N_NIMCALL(NU8, Handlefloatrange_127394)(TY55552* F_127396, TY55552* A_127397) {
NU8 Result_127398;
NU8 K_127409;
TY55552* LOC4;
NIM_BOOL LOC8;
Result_127398 = 0;
if (!((*A_127397).Kind == (*F_127396).Kind)) goto LA2;
Result_127398 = ((NU8) 5);
goto LA1;
LA2: ;
K_127409 = 0;
LOC4 = 0;
LOC4 = Skiptypes_97087(A_127397, IL64(17592186044416));
K_127409 = (*LOC4).Kind;
if (!(K_127409 == (*F_127396).Kind)) goto LA6;
Result_127398 = ((NU8) 3);
goto LA5;
LA6: ;
LOC8 = (((NU8) 36) <= K_127409);
if (!(LOC8)) goto LA9;
LOC8 = (K_127409 <= ((NU8) 39));
LA9: ;
if (!LOC8) goto LA10;
Result_127398 = ((NU8) 1);
goto LA5;
LA10: ;
Result_127398 = ((NU8) 0);
LA5: ;
LA1: ;
return Result_127398;
}
N_NIMCALL(NU8, Minrel_127467)(NU8 A_127469, NU8 B_127470) {
NU8 Result_127471;
Result_127471 = 0;
if (!(A_127469 <= B_127470)) goto LA2;
Result_127471 = A_127469;
goto LA1;
LA2: ;
Result_127471 = B_127470;
LA1: ;
return Result_127471;
}
N_NIMCALL(NU8, Tuplerel_127481)(TY55564* Mapping_127484, TY55552* F_127485, TY55552* A_127486) {
NU8 Result_127487;
NI LOC2;
NI LOC3;
NI I_127498;
NI HEX3Atmp_129854;
NI LOC6;
NI Res_129856;
NU8 M_127499;
NIM_BOOL LOC12;
NI I_127541;
NI HEX3Atmp_129857;
NI LOC16;
NI Res_129859;
TY55548* X_127608;
TY55548* Y_127633;
Result_127487 = 0;
Result_127487 = ((NU8) 0);
LOC2 = Sonslen_55807(A_127486);
LOC3 = Sonslen_55807(F_127485);
if (!(LOC2 == LOC3)) goto LA4;
Result_127487 = ((NU8) 5);
I_127498 = 0;
HEX3Atmp_129854 = 0;
LOC6 = Sonslen_55807(F_127485);
HEX3Atmp_129854 = (NI32)(LOC6 - 1);
Res_129856 = 0;
Res_129856 = 0;
while (1) {
if (!(Res_129856 <= HEX3Atmp_129854)) goto LA7;
I_127498 = Res_129856;
M_127499 = 0;
M_127499 = Typerel_127297(Mapping_127484, (*F_127485).Sons->data[I_127498], (*A_127486).Sons->data[I_127498]);
if (!(M_127499 < ((NU8) 3))) goto LA9;
Result_127487 = ((NU8) 0);
goto BeforeRet;
LA9: ;
Result_127487 = Minrel_127467(Result_127487, M_127499);
Res_129856 += 1;
} LA7: ;
LOC12 = !(((*F_127485).N == NIM_NIL));
if (!(LOC12)) goto LA13;
LOC12 = !(((*A_127486).N == NIM_NIL));
LA13: ;
if (!LOC12) goto LA14;
I_127541 = 0;
HEX3Atmp_129857 = 0;
LOC16 = Sonslen_55804((*F_127485).N);
HEX3Atmp_129857 = (NI32)(LOC16 - 1);
Res_129859 = 0;
Res_129859 = 0;
while (1) {
if (!(Res_129859 <= HEX3Atmp_129857)) goto LA17;
I_127541 = Res_129859;
if (!!(((*(*(*F_127485).N).KindU.S6.Sons->data[I_127541]).Kind == ((NU8) 3)))) goto LA19;
Internalerror_47574((*(*F_127485).N).Info, ((NimStringDesc*) &TMP196061));
LA19: ;
if (!!(((*(*(*A_127486).N).KindU.S6.Sons->data[I_127541]).Kind == ((NU8) 3)))) goto LA22;
Internalerror_47574((*(*A_127486).N).Info, ((NimStringDesc*) &TMP196061));
LA22: ;
X_127608 = 0;
X_127608 = (*(*(*F_127485).N).KindU.S6.Sons->data[I_127541]).KindU.S4.Sym;
Y_127633 = 0;
Y_127633 = (*(*(*A_127486).N).KindU.S6.Sons->data[I_127541]).KindU.S4.Sym;
if (!!(((*(*X_127608).Name).Sup.Id == (*(*Y_127633).Name).Sup.Id))) goto LA25;
Result_127487 = ((NU8) 0);
goto BeforeRet;
LA25: ;
Res_129859 += 1;
} LA17: ;
LA14: ;
LA4: ;
BeforeRet: ;
return Result_127487;
}
N_NIMCALL(NIM_BOOL, Isobjectsubtype_127437)(TY55552* A_127439, TY55552* F_127440) {
NIM_BOOL Result_127441;
TY55552* T_127442;
NIM_BOOL LOC2;
Result_127441 = 0;
T_127442 = 0;
T_127442 = A_127439;
while (1) {
LOC2 = !((T_127442 == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC2 = !(((*T_127442).Sup.Id == (*F_127440).Sup.Id));
LA3: ;
if (!LOC2) goto LA1;
T_127442 = Base_97021(T_127442);
} LA1: ;
Result_127441 = !((T_127442 == NIM_NIL));
return Result_127441;
}
N_NIMCALL(TY55552*, Concretetype_127303)(TY55564 Mapping_127305, TY55552* T_127306) {
TY55552* Result_127307;
TNimObject* LOC2;
Result_127307 = 0;
switch ((*T_127306).Kind) {
case ((NU8) 4):
Result_127307 = Newtype_55707(((NU8) 16), (*T_127306).Owner);
Addson_55828(Result_127307, (*T_127306).Sons->data[0]);
Addson_55828(Result_127307, (*T_127306).Sons->data[1]);
break;
case ((NU8) 5):
Result_127307 = NIM_NIL;
break;
case ((NU8) 12):
Result_127307 = T_127306;
while (1) {
LOC2 = 0;
LOC2 = Idtableget_60163(Mapping_127305, &T_127306->Sup);
Result_127307 = ((TY55552*) (LOC2));
if (!(Result_127307 == NIM_NIL)) goto LA4;
Internalerror_47578(((NimStringDesc*) &TMP196064));
LA4: ;
if (!!(((*Result_127307).Kind == ((NU8) 12)))) goto LA7;
goto LA1;
LA7: ;
} LA1: ;
break;
default:
Result_127307 = T_127306;
break;
}
return Result_127307;
}
N_NIMCALL(NU8, Typerel_127297)(TY55564* Mapping_127300, TY55552* F_127301, TY55552* A_127302) {
NU8 Result_127642;
TY55552* X_127643;
TY55552* Concrete_127644;
NU8 M_127645;
NIM_BOOL LOC2;
TY55552* LOC4;
TY55552* LOC7;
NIM_BOOL LOC9;
NIM_BOOL LOC14;
TY55552* LOC18;
TY55552* LOC24;
TY55552* LOC30;
TY55552* LOC31;
TY55552* LOC35;
TY55552* LOC41;
TY55552* LOC42;
TY55552* LOC43;
NU8 LOC44;
NU8 LOC45;
NIM_BOOL LOC53;
NI64 LOC55;
NI64 LOC56;
NU8 LOC61;
TY55552* LOC62;
TY55552* LOC63;
NIM_BOOL LOC68;
TY55552* LOC72;
NU8 LOC73;
NIM_BOOL LOC77;
TY55552* LOC81;
NU8 LOC82;
NIM_BOOL LOC86;
TY55552* LOC90;
NU8 LOC91;
NIM_BOOL LOC95;
NIM_BOOL LOC103;
NIM_BOOL LOC124;
NIM_BOOL LOC128;
NIM_BOOL LOC136;
TY55552* LOC143;
TY55552* LOC144;
TY55552* LOC148;
TY55552* LOC149;
NIM_BOOL LOC154;
NI LOC155;
NI LOC156;
NI I_128078;
NI HEX3Atmp_129860;
NI LOC160;
NI Res_129862;
NIM_BOOL LOC163;
NU8 LOC165;
NIM_BOOL LOC184;
NIM_BOOL LOC192;
NIM_BOOL LOC193;
NI64 LOC194;
TY55552* LOC196;
TY55552* LOC203;
TY55552* LOC204;
NIM_BOOL LOC212;
NI LOC214;
NI LOC215;
NI I_128273;
NI HEX3Atmp_129863;
NI LOC218;
NI Res_129865;
NU8 LOC224;
NI I_128311;
NI HEX3Atmp_129866;
NI LOC230;
NI Res_129868;
TNimObject* LOC232;
NIM_BOOL LOC234;
TNimObject* LOC238;
NI LOC243;
NimStringDesc* LOC249;
NI I_128364;
NI HEX3Atmp_129869;
NI LOC250;
NI Res_129871;
NU8 LOC253;
NimStringDesc* LOC266;
Result_127642 = 0;
X_127643 = 0;
Concrete_127644 = 0;
M_127645 = 0;
Result_127642 = ((NU8) 0);
LOC2 = ((*A_127302).Kind == ((NU8) 11));
if (!(LOC2)) goto LA3;
LOC4 = 0;
LOC4 = Skiptypes_97087(F_127301, IL64(140737488355328));
LOC2 = !(((*LOC4).Kind == ((NU8) 10) || (*LOC4).Kind == ((NU8) 9)));
LA3: ;
if (!LOC2) goto LA5;
LOC7 = 0;
LOC7 = Lastson_55813(A_127302);
Result_127642 = Typerel_127297(Mapping_127300, F_127301, LOC7);
goto BeforeRet;
LA5: ;
LOC9 = ((*A_127302).Kind == ((NU8) 23));
if (!(LOC9)) goto LA10;
LOC9 = !(((*F_127301).Kind == ((NU8) 23)));
LA10: ;
if (!LOC9) goto LA11;
Result_127642 = Typerel_127297(Mapping_127300, F_127301, (*A_127302).Sons->data[0]);
goto BeforeRet;
LA11: ;
switch ((*F_127301).Kind) {
case ((NU8) 14):
LOC14 = ((*A_127302).Kind == (*F_127301).Kind);
if (!(LOC14)) goto LA15;
LOC14 = ((*A_127302).Sup.Id == (*F_127301).Sup.Id);
LA15: ;
if (!LOC14) goto LA16;
Result_127642 = ((NU8) 5);
goto LA13;
LA16: ;
LOC18 = 0;
LOC18 = Skiptypes_97087(A_127302, IL64(17592186044416));
if (!((*LOC18).Sup.Id == (*F_127301).Sup.Id)) goto LA19;
Result_127642 = ((NU8) 3);
goto LA13;
LA19: ;
LA13: ;
break;
case ((NU8) 1):
case ((NU8) 2):
if (!((*A_127302).Kind == (*F_127301).Kind)) goto LA22;
Result_127642 = ((NU8) 5);
goto LA21;
LA22: ;
LOC24 = 0;
LOC24 = Skiptypes_97087(A_127302, IL64(17592186044416));
if (!((*LOC24).Kind == (*F_127301).Kind)) goto LA25;
Result_127642 = ((NU8) 3);
goto LA21;
LA25: ;
LA21: ;
break;
case ((NU8) 20):
if (!((*A_127302).Kind == (*F_127301).Kind)) goto LA28;
LOC30 = 0;
LOC30 = Base_97021(A_127302);
LOC31 = 0;
LOC31 = Base_97021(F_127301);
Result_127642 = Typerel_127297(Mapping_127300, LOC30, LOC31);
if (!(Result_127642 < ((NU8) 4))) goto LA33;
Result_127642 = ((NU8) 0);
LA33: ;
goto LA27;
LA28: ;
LOC35 = 0;
LOC35 = Skiptypes_97087(F_127301, IL64(17592186044416));
if (!((*LOC35).Kind == (*A_127302).Kind)) goto LA36;
Result_127642 = ((NU8) 1);
goto LA27;
LA36: ;
LA27: ;
break;
case ((NU8) 31):
Result_127642 = Handlerange_127328(F_127301, A_127302, ((NU8) 32), ((NU8) 34));
break;
case ((NU8) 32):
Result_127642 = Handlerange_127328(F_127301, A_127302, ((NU8) 32), ((NU8) 32));
break;
case ((NU8) 33):
Result_127642 = Handlerange_127328(F_127301, A_127302, ((NU8) 32), ((NU8) 33));
break;
case ((NU8) 34):
Result_127642 = Handlerange_127328(F_127301, A_127302, ((NU8) 31), ((NU8) 34));
break;
case ((NU8) 35):
Result_127642 = Handlerange_127328(F_127301, A_127302, ((NU8) 31), ((NU8) 35));
break;
case ((NU8) 36):
Result_127642 = Handlefloatrange_127394(F_127301, A_127302);
break;
case ((NU8) 37):
Result_127642 = Handlefloatrange_127394(F_127301, A_127302);
break;
case ((NU8) 38):
Result_127642 = Handlefloatrange_127394(F_127301, A_127302);
break;
case ((NU8) 39):
Result_127642 = Handlefloatrange_127394(F_127301, A_127302);
break;
case ((NU8) 23):
if (!((*A_127302).Kind == (*F_127301).Kind)) goto LA39;
LOC41 = 0;
LOC41 = Base_97021(F_127301);
LOC42 = 0;
LOC42 = Base_97021(A_127302);
Result_127642 = Typerel_127297(Mapping_127300, LOC41, LOC42);
goto LA38;
LA39: ;
LOC43 = 0;
LOC43 = Base_97021(F_127301);
Result_127642 = Typerel_127297(Mapping_127300, LOC43, A_127302);
LA38: ;
break;
case ((NU8) 16):
case ((NU8) 4):
switch ((*A_127302).Kind) {
case ((NU8) 16):
LOC44 = Typerel_127297(Mapping_127300, (*F_127301).Sons->data[0], (*A_127302).Sons->data[0]);
LOC45 = Typerel_127297(Mapping_127300, (*F_127301).Sons->data[1], (*A_127302).Sons->data[1]);
Result_127642 = Minrel_127467(LOC44, LOC45);
if (!(Result_127642 < ((NU8) 4))) goto LA47;
Result_127642 = ((NU8) 0);
LA47: ;
break;
case ((NU8) 4):
Result_127642 = Typerel_127297(Mapping_127300, (*F_127301).Sons->data[1], (*A_127302).Sons->data[1]);
if (!(Result_127642 < ((NU8) 4))) goto LA50;
Result_127642 = ((NU8) 0);
goto LA49;
LA50: ;
LOC53 = !((Result_127642 == ((NU8) 4)));
if (!(LOC53)) goto LA54;
LOC55 = Lengthord_97007(F_127301);
LOC56 = Lengthord_97007(A_127302);
LOC53 = !((LOC55 == LOC56));
LA54: ;
if (!LOC53) goto LA57;
Result_127642 = ((NU8) 0);
goto LA52;
LA57: ;
if (!((*(*F_127301).Sons->data[0]).Kind == ((NU8) 9) || (*(*F_127301).Sons->data[0]).Kind == ((NU8) 10) || (*(*F_127301).Sons->data[0]).Kind == ((NU8) 12))) goto LA59;
LOC61 = Typerel_127297(Mapping_127300, (*F_127301).Sons->data[0], (*A_127302).Sons->data[0]);
Result_127642 = Minrel_127467(Result_127642, LOC61);
goto LA52;
LA59: ;
LA52: ;
LA49: ;
break;
default:
break;
}
break;
case ((NU8) 27):
switch ((*A_127302).Kind) {
case ((NU8) 27):
LOC62 = 0;
LOC62 = Base_97021(F_127301);
LOC63 = 0;
LOC63 = Base_97021(A_127302);
Result_127642 = Typerel_127297(Mapping_127300, LOC62, LOC63);
if (!(Result_127642 < ((NU8) 4))) goto LA65;
Result_127642 = ((NU8) 0);
LA65: ;
break;
case ((NU8) 4):
LOC68 = !(((*(*F_127301).Sons->data[0]).Kind == ((NU8) 12)));
if (!(LOC68)) goto LA69;
LOC68 = ((*(*A_127302).Sons->data[1]).Kind == ((NU8) 3));
LA69: ;
if (!LOC68) goto LA70;
Result_127642 = ((NU8) 3);
goto LA67;
LA70: ;
LOC72 = 0;
LOC72 = Base_97021(F_127301);
LOC73 = Typerel_127297(Mapping_127300, LOC72, (*A_127302).Sons->data[1]);
if (!(((NU8) 4) <= LOC73)) goto LA74;
Result_127642 = ((NU8) 3);
goto LA67;
LA74: ;
LA67: ;
break;
case ((NU8) 16):
LOC77 = !(((*(*F_127301).Sons->data[0]).Kind == ((NU8) 12)));
if (!(LOC77)) goto LA78;
LOC77 = ((*(*A_127302).Sons->data[1]).Kind == ((NU8) 3));
LA78: ;
if (!LOC77) goto LA79;
Result_127642 = ((NU8) 3);
goto LA76;
LA79: ;
LOC81 = 0;
LOC81 = Base_97021(F_127301);
LOC82 = Typerel_127297(Mapping_127300, LOC81, (*A_127302).Sons->data[1]);
if (!(((NU8) 4) <= LOC82)) goto LA83;
Result_127642 = ((NU8) 1);
goto LA76;
LA83: ;
LA76: ;
break;
case ((NU8) 24):
LOC86 = !(((*(*F_127301).Sons->data[0]).Kind == ((NU8) 12)));
if (!(LOC86)) goto LA87;
LOC86 = ((*(*A_127302).Sons->data[0]).Kind == ((NU8) 3));
LA87: ;
if (!LOC86) goto LA88;
Result_127642 = ((NU8) 1);
goto LA85;
LA88: ;
LOC90 = 0;
LOC90 = Base_97021(F_127301);
LOC91 = Typerel_127297(Mapping_127300, LOC90, (*A_127302).Sons->data[0]);
if (!(((NU8) 4) <= LOC91)) goto LA92;
Result_127642 = ((NU8) 1);
goto LA85;
LA92: ;
LA85: ;
break;
default:
break;
}
break;
case ((NU8) 24):
switch ((*A_127302).Kind) {
case ((NU8) 5):
Result_127642 = ((NU8) 3);
break;
case ((NU8) 24):
LOC95 = !(((*(*F_127301).Sons->data[0]).Kind == ((NU8) 12)));
if (!(LOC95)) goto LA96;
LOC95 = ((*(*A_127302).Sons->data[0]).Kind == ((NU8) 3));
LA96: ;
if (!LOC95) goto LA97;
Result_127642 = ((NU8) 3);
goto LA94;
LA97: ;
Result_127642 = Typerel_127297(Mapping_127300, (*F_127301).Sons->data[0], (*A_127302).Sons->data[0]);
if (!(Result_127642 < ((NU8) 4))) goto LA100;
Result_127642 = ((NU8) 0);
LA100: ;
LA94: ;
break;
default:
break;
}
break;
case ((NU8) 15):
LOC103 = Isordinaltype_97069(A_127302);
if (!LOC103) goto LA104;
if (!((*A_127302).Kind == ((NU8) 15))) goto LA107;
X_127643 = (*A_127302).Sons->data[0];
goto LA106;
LA107: ;
X_127643 = A_127302;
LA106: ;
Result_127642 = Typerel_127297(Mapping_127300, (*F_127301).Sons->data[0], X_127643);
if (!(Result_127642 < ((NU8) 4))) goto LA110;
Result_127642 = ((NU8) 0);
LA110: ;
LA104: ;
break;
case ((NU8) 30):
Internalerror_47578(((NimStringDesc*) &TMP196060));
break;
case ((NU8) 5):
if (!((*A_127302).Kind == (*F_127301).Kind)) goto LA113;
Result_127642 = ((NU8) 5);
LA113: ;
break;
case ((NU8) 18):
if (!((*A_127302).Kind == ((NU8) 18))) goto LA116;
Result_127642 = Tuplerel_127481(Mapping_127300, F_127301, A_127302);
LA116: ;
break;
case ((NU8) 17):
if (!((*A_127302).Kind == ((NU8) 17))) goto LA119;
if (!((*A_127302).Sup.Id == (*F_127301).Sup.Id)) goto LA122;
Result_127642 = ((NU8) 5);
goto LA121;
LA122: ;
LOC124 = Isobjectsubtype_127437(A_127302, F_127301);
if (!LOC124) goto LA125;
Result_127642 = ((NU8) 3);
goto LA121;
LA125: ;
LA121: ;
LA119: ;
break;
case ((NU8) 13):
LOC128 = ((*A_127302).Kind == ((NU8) 13));
if (!(LOC128)) goto LA129;
LOC128 = ((*A_127302).Sup.Id == (*F_127301).Sup.Id);
LA129: ;
if (!LOC128) goto LA130;
Result_127642 = ((NU8) 5);
LA130: ;
break;
case ((NU8) 19):
if (!((*A_127302).Kind == ((NU8) 19))) goto LA133;
LOC136 = !(((*(*F_127301).Sons->data[0]).Kind == ((NU8) 12)));
if (!(LOC136)) goto LA137;
LOC136 = ((*(*A_127302).Sons->data[0]).Kind == ((NU8) 3));
LA137: ;
if (!LOC136) goto LA138;
Result_127642 = ((NU8) 3);
goto LA135;
LA138: ;
Result_127642 = Typerel_127297(Mapping_127300, (*F_127301).Sons->data[0], (*A_127302).Sons->data[0]);
if (!(Result_127642 <= ((NU8) 1))) goto LA141;
Result_127642 = ((NU8) 0);
LA141: ;
LA135: ;
LA133: ;
break;
case ((NU8) 21):
switch ((*A_127302).Kind) {
case ((NU8) 21):
LOC143 = 0;
LOC143 = Base_97021(F_127301);
LOC144 = 0;
LOC144 = Base_97021(A_127302);
Result_127642 = Typerel_127297(Mapping_127300, LOC143, LOC144);
if (!(Result_127642 <= ((NU8) 1))) goto LA146;
Result_127642 = ((NU8) 0);
LA146: ;
break;
case ((NU8) 5):
Result_127642 = ((NU8) 3);
break;
default:
break;
}
break;
case ((NU8) 22):
switch ((*A_127302).Kind) {
case ((NU8) 22):
LOC148 = 0;
LOC148 = Base_97021(F_127301);
LOC149 = 0;
LOC149 = Base_97021(A_127302);
Result_127642 = Typerel_127297(Mapping_127300, LOC148, LOC149);
if (!(Result_127642 <= ((NU8) 1))) goto LA151;
Result_127642 = ((NU8) 0);
LA151: ;
break;
case ((NU8) 5):
Result_127642 = ((NU8) 3);
break;
default:
break;
}
break;
case ((NU8) 25):
switch ((*A_127302).Kind) {
case ((NU8) 5):
Result_127642 = ((NU8) 3);
break;
case ((NU8) 25):
LOC155 = Sonslen_55807(F_127301);
LOC156 = Sonslen_55807(A_127302);
LOC154 = (LOC155 == LOC156);
if (!(LOC154)) goto LA157;
LOC154 = ((*F_127301).Callconv == (*A_127302).Callconv);
LA157: ;
if (!LOC154) goto LA158;
Result_127642 = ((NU8) 5);
I_128078 = 0;
HEX3Atmp_129860 = 0;
LOC160 = Sonslen_55807(F_127301);
HEX3Atmp_129860 = (NI32)(LOC160 - 1);
Res_129862 = 0;
Res_129862 = 1;
while (1) {
if (!(Res_129862 <= HEX3Atmp_129860)) goto LA161;
I_128078 = Res_129862;
M_127645 = Typerel_127297(Mapping_127300, (*F_127301).Sons->data[I_128078], (*A_127302).Sons->data[I_128078]);
LOC163 = (M_127645 == ((NU8) 0));
if (!(LOC163)) goto LA164;
LOC165 = Typerel_127297(Mapping_127300, (*A_127302).Sons->data[I_128078], (*F_127301).Sons->data[I_128078]);
LOC163 = (LOC165 == ((NU8) 3));
LA164: ;
if (!LOC163) goto LA166;
Result_127642 = ((NU8) 1);
goto LA162;
LA166: ;
if (!(M_127645 < ((NU8) 3))) goto LA168;
Result_127642 = ((NU8) 0);
goto BeforeRet;
goto LA162;
LA168: ;
Result_127642 = Minrel_127467(M_127645, Result_127642);
LA162: ;
Res_129862 += 1;
} LA161: ;
if (!!(((*F_127301).Sons->data[0] == NIM_NIL))) goto LA171;
if (!!(((*A_127302).Sons->data[0] == NIM_NIL))) goto LA174;
M_127645 = Typerel_127297(Mapping_127300, (*F_127301).Sons->data[0], (*A_127302).Sons->data[0]);
if (!(M_127645 < ((NU8) 3))) goto LA177;
Result_127642 = ((NU8) 0);
goto LA176;
LA177: ;
if (!(M_127645 == ((NU8) 3))) goto LA179;
Result_127642 = ((NU8) 1);
goto LA176;
LA179: ;
Result_127642 = Minrel_127467(M_127645, Result_127642);
LA176: ;
goto LA173;
LA174: ;
Result_127642 = ((NU8) 0);
LA173: ;
goto LA170;
LA171: ;
if (!!(((*A_127302).Sons->data[0] == NIM_NIL))) goto LA181;
Result_127642 = ((NU8) 0);
goto LA170;
LA181: ;
LA170: ;
LOC184 = (((*F_127301).Flags &(1<<((((NU8) 1))&7)))!=0);
if (!(LOC184)) goto LA185;
LOC184 = !((((*A_127302).Flags &(1<<((((NU8) 1))&7)))!=0));
LA185: ;
if (!LOC184) goto LA186;
Result_127642 = ((NU8) 0);
LA186: ;
LA158: ;
break;
default:
break;
}
break;
case ((NU8) 26):
switch ((*A_127302).Kind) {
case ((NU8) 26):
Result_127642 = ((NU8) 5);
break;
case ((NU8) 5):
Result_127642 = ((NU8) 3);
break;
case ((NU8) 21):
case ((NU8) 25):
case ((NU8) 29):
Result_127642 = ((NU8) 1);
break;
default:
break;
}
break;
case ((NU8) 28):
switch ((*A_127302).Kind) {
case ((NU8) 28):
Result_127642 = ((NU8) 5);
break;
case ((NU8) 5):
Result_127642 = ((NU8) 3);
break;
default:
break;
}
break;
case ((NU8) 29):
switch ((*A_127302).Kind) {
case ((NU8) 29):
Result_127642 = ((NU8) 5);
break;
case ((NU8) 5):
Result_127642 = ((NU8) 3);
break;
case ((NU8) 28):
Result_127642 = ((NU8) 1);
break;
case ((NU8) 21):
if (!((*(*A_127302).Sons->data[0]).Kind == ((NU8) 2))) goto LA189;
Result_127642 = ((NU8) 1);
LA189: ;
break;
case ((NU8) 16):
LOC194 = Firstord_97001((*A_127302).Sons->data[0]);
LOC193 = (LOC194 == 0);
if (!(LOC193)) goto LA195;
LOC196 = 0;
LOC196 = Skiptypes_97087((*A_127302).Sons->data[0], IL64(17592186044416));
LOC193 = ((*LOC196).Kind >= ((NU8) 31) && (*LOC196).Kind <= ((NU8) 35));
LA195: ;
LOC192 = LOC193;
if (!(LOC192)) goto LA197;
LOC192 = ((*(*A_127302).Sons->data[1]).Kind == ((NU8) 2));
LA197: ;
if (!LOC192) goto LA198;
Result_127642 = ((NU8) 1);
LA198: ;
break;
default:
break;
}
break;
case ((NU8) 3):
if (!((*A_127302).Kind == ((NU8) 3))) goto LA201;
Result_127642 = ((NU8) 5);
LA201: ;
break;
case ((NU8) 11):
LOC203 = 0;
LOC203 = Lastson_55813(F_127301);
Result_127642 = Typerel_127297(Mapping_127300, LOC203, A_127302);
break;
case ((NU8) 10):
LOC204 = 0;
LOC204 = Lastson_55813(F_127301);
Result_127642 = Typerel_127297(Mapping_127300, LOC204, A_127302);
break;
case ((NU8) 9):
if (!((*A_127302).Kind == ((NU8) 9))) goto LA206;
Internalerror_47578(((NimStringDesc*) &TMP196062));
LA206: ;
if (!((*A_127302).Kind == ((NU8) 11))) goto LA209;
LOC212 = ((*(*F_127301).Sons->data[0]).Containerid == (*(*A_127302).Sons->data[0]).Containerid);
if (!(LOC212)) goto LA213;
LOC214 = Sonslen_55807(A_127302);
LOC215 = Sonslen_55807(F_127301);
LOC212 = ((NI32)(LOC214 - 1) == LOC215);
LA213: ;
if (!LOC212) goto LA216;
I_128273 = 0;
HEX3Atmp_129863 = 0;
LOC218 = Sonslen_55807(F_127301);
HEX3Atmp_129863 = (NI32)(LOC218 - 1);
Res_129865 = 0;
Res_129865 = 1;
while (1) {
if (!(Res_129865 <= HEX3Atmp_129863)) goto LA219;
I_128273 = Res_129865;
if (!((*(*A_127302).Sons->data[I_128273]).Kind == ((NU8) 12))) goto LA221;
Internalerror_47578(((NimStringDesc*) &TMP196063));
LA221: ;
LOC224 = Typerel_127297(Mapping_127300, (*F_127301).Sons->data[I_128273], (*A_127302).Sons->data[I_128273]);
if (!(LOC224 < ((NU8) 4))) goto LA225;
goto BeforeRet;
LA225: ;
Res_129865 += 1;
} LA219: ;
Result_127642 = ((NU8) 4);
LA216: ;
goto LA208;
LA209: ;
Result_127642 = Typerel_127297(Mapping_127300, (*F_127301).Sons->data[0], A_127302);
if (!!((Result_127642 == ((NU8) 0)))) goto LA228;
I_128311 = 0;
HEX3Atmp_129866 = 0;
LOC230 = Sonslen_55807(F_127301);
HEX3Atmp_129866 = (NI32)(LOC230 - 1);
Res_129868 = 0;
Res_129868 = 1;
while (1) {
if (!(Res_129868 <= HEX3Atmp_129866)) goto LA231;
I_128311 = Res_129868;
LOC232 = 0;
LOC232 = Idtableget_60163((*Mapping_127300), &(*(*F_127301).Sons->data[0]).Sons->data[(NI32)(I_128311 - 1)]->Sup);
X_127643 = ((TY55552*) (LOC232));
LOC234 = (X_127643 == NIM_NIL);
if (LOC234) goto LA235;
LOC234 = ((*X_127643).Kind == ((NU8) 12));
LA235: ;
if (!LOC234) goto LA236;
Internalerror_47578(((NimStringDesc*) &TMP196063));
LA236: ;
Idtableput_60171(Mapping_127300, &(*F_127301).Sons->data[I_128311]->Sup, &X_127643->Sup.Sup);
Res_129868 += 1;
} LA231: ;
LA228: ;
LA208: ;
break;
case ((NU8) 12):
LOC238 = 0;
LOC238 = Idtableget_60163((*Mapping_127300), &F_127301->Sup);
X_127643 = ((TY55552*) (LOC238));
if (!(X_127643 == NIM_NIL)) goto LA240;
LOC243 = Sonslen_55807(F_127301);
if (!(LOC243 == 0)) goto LA244;
Concrete_127644 = Concretetype_127303((*Mapping_127300), A_127302);
if (!!((Concrete_127644 == NIM_NIL))) goto LA247;
Idtableput_60171(Mapping_127300, &F_127301->Sup, &Concrete_127644->Sup.Sup);
Result_127642 = ((NU8) 4);
LA247: ;
goto LA242;
LA244: ;
LOC249 = 0;
LOC249 = rawNewString((*(*(*F_127301).Sym).Name).S->Sup.len + 17);
appendString(LOC249, ((NimStringDesc*) &TMP196065));
appendString(LOC249, (*(*(*F_127301).Sym).Name).S);
Internalerror_47574((*(*F_127301).Sym).Info, LOC249);
I_128364 = 0;
HEX3Atmp_129869 = 0;
LOC250 = Sonslen_55807(F_127301);
HEX3Atmp_129869 = (NI32)(LOC250 - 1);
Res_129871 = 0;
Res_129871 = 0;
while (1) {
if (!(Res_129871 <= HEX3Atmp_129869)) goto LA251;
I_128364 = Res_129871;
LOC253 = Typerel_127297(Mapping_127300, (*F_127301).Sons->data[I_128364], A_127302);
if (!(((NU8) 3) <= LOC253)) goto LA254;
Concrete_127644 = Concretetype_127303((*Mapping_127300), A_127302);
if (!!((Concrete_127644 == NIM_NIL))) goto LA257;
Idtableput_60171(Mapping_127300, &F_127301->Sup, &Concrete_127644->Sup.Sup);
Result_127642 = ((NU8) 4);
LA257: ;
goto LA251;
LA254: ;
Res_129871 += 1;
} LA251: ;
LA242: ;
goto LA239;
LA240: ;
if (!((*A_127302).Kind == ((NU8) 3))) goto LA259;
Result_127642 = ((NU8) 4);
goto LA239;
LA259: ;
if (!((*X_127643).Kind == ((NU8) 12))) goto LA261;
Result_127642 = ((NU8) 4);
goto LA239;
LA261: ;
Result_127642 = Typerel_127297(Mapping_127300, X_127643, A_127302);
LA239: ;
break;
case ((NU8) 6):
case ((NU8) 7):
case ((NU8) 8):
if (!((*A_127302).Kind == (*F_127301).Kind)) goto LA264;
Result_127642 = ((NU8) 5);
goto LA263;
LA264: ;
switch ((*A_127302).Kind) {
case ((NU8) 6):
case ((NU8) 7):
case ((NU8) 8):
Result_127642 = ((NU8) 4);
break;
case ((NU8) 5):
Result_127642 = ((NU8) 3);
break;
default:
break;
}
LA263: ;
break;
default:
LOC266 = 0;
LOC266 = rawNewString(reprEnum((*F_127301).Kind, NTI55162)->Sup.len + 9);
appendString(LOC266, ((NimStringDesc*) &TMP196066));
appendString(LOC266, reprEnum((*F_127301).Kind, NTI55162));
appendChar(LOC266, 41);
Internalerror_47578(LOC266);
break;
}
BeforeRet: ;
return Result_127642;
}
N_NIMCALL(NIM_BOOL, Containsgenerictypeiter_126205)(TY55552* T_126207, TNimObject* Closure_126208) {
NIM_BOOL Result_126209;
Result_126209 = 0;
Result_126209 = ((*T_126207).Kind == ((NU8) 9) || (*T_126207).Kind == ((NU8) 10) || (*T_126207).Kind == ((NU8) 12));
return Result_126209;
}
N_NIMCALL(NIM_BOOL, Containsgenerictype_126221)(TY55552* T_126223) {
NIM_BOOL Result_126224;
Result_126224 = 0;
Result_126224 = Iterovertype_97038(T_126223, Containsgenerictypeiter_126205, NIM_NIL);
return Result_126224;
}
N_NIMCALL(TY55552*, Lookuptypevar_126861)(TY126708* Cl_126863, TY55552* T_126864) {
TY55552* Result_126865;
TNimObject* LOC1;
NimStringDesc* LOC5;
Result_126865 = 0;
LOC1 = 0;
LOC1 = Idtableget_60163((*Cl_126863).Typemap, &T_126864->Sup);
Result_126865 = ((TY55552*) (LOC1));
if (!(Result_126865 == NIM_NIL)) goto LA3;
LOC5 = 0;
LOC5 = Typetostring_97014(T_126864, ((NU8) 0));
Limessage_47569((*(*T_126864).Sym).Info, ((NU8) 122), LOC5);
goto LA2;
LA3: ;
if (!((*Result_126865).Kind == ((NU8) 12))) goto LA6;
Internalerror_47574((*Cl_126863).Info, ((NimStringDesc*) &TMP196067));
goto LA2;
LA6: ;
LA2: ;
return Result_126865;
}
N_NIMCALL(TY55552*, Searchinsttypes_126152)(TY55564 Tab_126154, TY55552* Key_126155) {
TY55552* Result_126156;
TNimObject* LOC1;
NIM_BOOL LOC3;
NI H_126180;
NI HEX3Atmp_129826;
NI Res_129828;
TY55552* T_126181;
NIM_BOOL Match_126195;
NI J_126204;
NI HEX3Atmp_129823;
NI LOC14;
NI Res_129825;
NIM_BOOL LOC17;
Result_126156 = 0;
LOC1 = 0;
LOC1 = Idtableget_60163(Tab_126154, &Key_126155->Sup);
Result_126156 = ((TY55552*) (LOC1));
LOC3 = (Result_126156 == NIM_NIL);
if (!(LOC3)) goto LA4;
LOC3 = (0 < Tab_126154.Counter);
LA4: ;
if (!LOC3) goto LA5;
H_126180 = 0;
HEX3Atmp_129826 = 0;
HEX3Atmp_129826 = (Tab_126154.Data->Sup.len-1);
Res_129828 = 0;
Res_129828 = 0;
while (1) {
if (!(Res_129828 <= HEX3Atmp_129826)) goto LA7;
H_126180 = Res_129828;
T_126181 = 0;
T_126181 = ((TY55552*) (Tab_126154.Data->data[H_126180].Key));
if (!!((T_126181 == NIM_NIL))) goto LA9;
if (!((*Key_126155).Containerid == (*T_126181).Containerid)) goto LA12;
Match_126195 = 0;
Match_126195 = NIM_TRUE;
J_126204 = 0;
HEX3Atmp_129823 = 0;
LOC14 = Sonslen_55807(T_126181);
HEX3Atmp_129823 = (NI32)(LOC14 - 1);
Res_129825 = 0;
Res_129825 = 0;
while (1) {
if (!(Res_129825 <= HEX3Atmp_129823)) goto LA15;
J_126204 = Res_129825;
LOC17 = Sametype_97048((*T_126181).Sons->data[J_126204], (*Key_126155).Sons->data[J_126204]);
if (!!(LOC17)) goto LA18;
Match_126195 = NIM_FALSE;
goto LA15;
LA18: ;
Res_129825 += 1;
} LA15: ;
if (!Match_126195) goto LA21;
Result_126156 = ((TY55552*) (Tab_126154.Data->data[H_126180].Val));
goto BeforeRet;
LA21: ;
LA12: ;
LA9: ;
Res_129828 += 1;
} LA7: ;
LA5: ;
BeforeRet: ;
return Result_126156;
}
N_NIMCALL(TY55548*, Replacetypevarss_126718)(TY126708* Cl_126721, TY55548* S_126722) {
TY55548* Result_126825;
TNimObject* LOC4;
Result_126825 = 0;
if (!(S_126722 == NIM_NIL)) goto LA2;
Result_126825 = NIM_NIL;
goto BeforeRet;
LA2: ;
LOC4 = 0;
LOC4 = Idtableget_60163((*Cl_126721).Symmap, &S_126722->Sup);
Result_126825 = ((TY55548*) (LOC4));
if (!(Result_126825 == NIM_NIL)) goto LA6;
Result_126825 = Copysym_55776(S_126722, NIM_FALSE);
(*Result_126825).Flags |=(1<<((NI32)(((NU8) 4))%(sizeof(NI32)*8)));
Idtableput_60171(&(*Cl_126721).Symmap, &S_126722->Sup, &Result_126825->Sup.Sup);
asgnRef((void**) &(*Result_126825).Typ, Replacetypevarst_126713(Cl_126721, (*S_126722).Typ));
asgnRef((void**) &(*Result_126825).Owner, (*S_126722).Owner);
asgnRefNoCycle((void**) &(*Result_126825).Ast, Replacetypevarsn_126723(Cl_126721, (*S_126722).Ast));
LA6: ;
BeforeRet: ;
return Result_126825;
}
N_NIMCALL(TY55526*, Replacetypevarsn_126723)(TY126708* Cl_126726, TY55526* N_126727) {
TY55526* Result_126728;
NI Length_126782;
NI I_126795;
NI HEX3Atmp_129836;
NI Res_129838;
Result_126728 = 0;
if (!!((N_126727 == NIM_NIL))) goto LA2;
Result_126728 = Copynode_55856(N_126727);
asgnRef((void**) &(*Result_126728).Typ, Replacetypevarst_126713(Cl_126726, (*N_126727).Typ));
switch ((*N_126727).Kind) {
case ((NU8) 0) ... ((NU8) 2):
case ((NU8) 4) ... ((NU8) 18):
break;
case ((NU8) 3):
asgnRef((void**) &(*Result_126728).KindU.S4.Sym, Replacetypevarss_126718(Cl_126726, (*N_126727).KindU.S4.Sym));
break;
default:
Length_126782 = 0;
Length_126782 = Sonslen_55804(N_126727);
if (!(0 < Length_126782)) goto LA5;
Newsons_55816(Result_126728, Length_126782);
I_126795 = 0;
HEX3Atmp_129836 = 0;
HEX3Atmp_129836 = (NI32)(Length_126782 - 1);
Res_129838 = 0;
Res_129838 = 0;
while (1) {
if (!(Res_129838 <= HEX3Atmp_129836)) goto LA7;
I_126795 = Res_129838;
asgnRefNoCycle((void**) &(*Result_126728).KindU.S6.Sons->data[I_126795], Replacetypevarsn_126723(Cl_126726, (*N_126727).KindU.S6.Sons->data[I_126795]));
Res_129838 += 1;
} LA7: ;
LA5: ;
break;
}
LA2: ;
return Result_126728;
}
N_NIMCALL(void, Checkconstructedtype_126661)(TY47539 Info_126663, TY55552* T_126664) {
NIM_BOOL LOC2;
TY55552* LOC4;
NI64 LOC8;
NimStringDesc* LOC11;
NIM_BOOL LOC13;
LOC2 = (((*T_126664).Flags &(1<<((((NU8) 3))&7)))!=0);
if (!(LOC2)) goto LA3;
LOC4 = 0;
LOC4 = Skiptypes_97087(T_126664, IL64(47287796087390208));
LOC2 = !(((*LOC4).Kind == ((NU8) 17)));
LA3: ;
if (!LOC2) goto LA5;
Limessage_47569(Info_126663, ((NU8) 159), ((NimStringDesc*) &TMP196070));
LA5: ;
LOC8 = Computesize_97112(T_126664);
if (!(LOC8 < 0)) goto LA9;
LOC11 = 0;
LOC11 = Typetostring_97014(T_126664, ((NU8) 0));
Limessage_47569(Info_126663, ((NU8) 121), LOC11);
LA9: ;
LOC13 = ((*T_126664).Kind == ((NU8) 23));
if (!(LOC13)) goto LA14;
LOC13 = ((*(*T_126664).Sons->data[0]).Kind == ((NU8) 23));
LA14: ;
if (!LOC13) goto LA15;
Limessage_47569(Info_126663, ((NU8) 192), ((NimStringDesc*) &TMP195927));
LA15: ;
}
N_NIMCALL(TY55552*, Replacetypevarst_126713)(TY126708* Cl_126716, TY55552* T_126717) {
TY55552* Result_126891;
TY55552* Body_126892;
TY55552* Newbody_126893;
TY55552* X_126894;
TY55552* Header_126895;
NI I_126924;
NI HEX3Atmp_129839;
NI LOC7;
NI Res_129841;
NI I_126976;
NI HEX3Atmp_129842;
NI LOC21;
NI Res_129844;
TY55552* LOC23;
TY55552* LOC24;
TY55552* LOC25;
NIM_BOOL LOC27;
NI I_126986;
NI HEX3Atmp_129845;
NI LOC30;
NI Res_129847;
NimStringDesc* LOC35;
Result_126891 = 0;
Body_126892 = 0;
Newbody_126893 = 0;
X_126894 = 0;
Header_126895 = 0;
Result_126891 = T_126717;
if (!(T_126717 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*T_126717).Kind) {
case ((NU8) 12):
Result_126891 = Lookuptypevar_126861(&(*Cl_126716), T_126717);
break;
case ((NU8) 9):
Body_126892 = (*T_126717).Sons->data[0];
if (!!(((*Body_126892).Kind == ((NU8) 10)))) goto LA5;
Internalerror_47574((*Cl_126716).Info, ((NimStringDesc*) &TMP196068));
LA5: ;
Header_126895 = NIM_NIL;
I_126924 = 0;
HEX3Atmp_129839 = 0;
LOC7 = Sonslen_55807(T_126717);
HEX3Atmp_129839 = (NI32)(LOC7 - 1);
Res_129841 = 0;
Res_129841 = 1;
while (1) {
if (!(Res_129841 <= HEX3Atmp_129839)) goto LA8;
I_126924 = Res_129841;
if (!((*(*T_126717).Sons->data[I_126924]).Kind == ((NU8) 12))) goto LA10;
X_126894 = Lookuptypevar_126861(&(*Cl_126716), (*T_126717).Sons->data[I_126924]);
if (!(Header_126895 == NIM_NIL)) goto LA13;
Header_126895 = Copytype_55771(T_126717, (*T_126717).Owner, NIM_FALSE);
LA13: ;
asgnRef((void**) &(*Header_126895).Sons->data[I_126924], X_126894);
goto LA9;
LA10: ;
X_126894 = (*T_126717).Sons->data[I_126924];
LA9: ;
Idtableput_60171(&(*Cl_126716).Typemap, &(*Body_126892).Sons->data[(NI32)(I_126924 - 1)]->Sup, &X_126894->Sup.Sup);
Res_129841 += 1;
} LA8: ;
if (!(Header_126895 == NIM_NIL)) goto LA16;
Header_126895 = T_126717;
LA16: ;
Result_126891 = Searchinsttypes_126152(Ginsttypes_107045, Header_126895);
if (!!((Result_126891 == NIM_NIL))) goto LA19;
goto BeforeRet;
LA19: ;
Result_126891 = Newtype_55707(((NU8) 11), (*(*T_126717).Sons->data[0]).Owner);
I_126976 = 0;
HEX3Atmp_129842 = 0;
LOC21 = Sonslen_55807(T_126717);
HEX3Atmp_129842 = (NI32)(LOC21 - 1);
Res_129844 = 0;
Res_129844 = 0;
while (1) {
if (!(Res_129844 <= HEX3Atmp_129842)) goto LA22;
I_126976 = Res_129844;
Addson_55828(Result_126891, (*Header_126895).Sons->data[I_126976]);
Res_129844 += 1;
} LA22: ;
Idtableput_60171(&Ginsttypes_107045, &Header_126895->Sup, &Result_126891->Sup.Sup);
LOC23 = 0;
LOC23 = Lastson_55813(Body_126892);
Newbody_126893 = Replacetypevarst_126713(Cl_126716, LOC23);
LOC24 = 0;
LOC24 = Lastson_55813(Body_126892);
asgnRefNoCycle((void**) &(*Newbody_126893).N, Replacetypevarsn_126723(Cl_126716, (*LOC24).N));
Addson_55828(Result_126891, Newbody_126893);
Checkconstructedtype_126661((*Cl_126716).Info, Newbody_126893);
break;
case ((NU8) 10):
Internalerror_47574((*Cl_126716).Info, ((NimStringDesc*) &TMP196071));
LOC25 = 0;
LOC25 = Lastson_55813(T_126717);
Result_126891 = Replacetypevarst_126713(Cl_126716, LOC25);
break;
default:
LOC27 = Containsgenerictype_126221(T_126717);
if (!LOC27) goto LA28;
Result_126891 = Copytype_55771(T_126717, (*T_126717).Owner, NIM_FALSE);
I_126986 = 0;
HEX3Atmp_129845 = 0;
LOC30 = Sonslen_55807(Result_126891);
HEX3Atmp_129845 = (NI32)(LOC30 - 1);
Res_129847 = 0;
Res_129847 = 0;
while (1) {
if (!(Res_129847 <= HEX3Atmp_129845)) goto LA31;
I_126986 = Res_129847;
asgnRef((void**) &(*Result_126891).Sons->data[I_126986], Replacetypevarst_126713(Cl_126716, (*Result_126891).Sons->data[I_126986]));
Res_129847 += 1;
} LA31: ;
asgnRefNoCycle((void**) &(*Result_126891).N, Replacetypevarsn_126723(Cl_126716, (*Result_126891).N));
if (!((*Result_126891).Kind == ((NU8) 9) || (*Result_126891).Kind == ((NU8) 10) || (*Result_126891).Kind == ((NU8) 12))) goto LA33;
LOC35 = 0;
LOC35 = Typetostring_97014(T_126717, ((NU8) 0));
Limessage_47569((*Cl_126716).Info, ((NU8) 122), LOC35);
LA33: ;
LA28: ;
break;
}
BeforeRet: ;
return Result_126891;
}
N_NIMCALL(TY55552*, Generatetypeinstance_127008)(TY107012* P_127010, TY55564 Pt_127011, TY55526* Arg_127012, TY55552* T_127013) {
TY55552* Result_127014;
TY126708 Cl_127015;
Result_127014 = 0;
memset((void*)&Cl_127015, 0, sizeof(Cl_127015));
Initidtable_55755(&Cl_127015.Symmap);
Copyidtable_55799(&Cl_127015.Typemap, Pt_127011);
Cl_127015.Info = (*Arg_127012).Info;
Cl_127015.C = P_127010;
Pushinfocontext_47613((*Arg_127012).Info);
Result_127014 = Replacetypevarst_126713(&Cl_127015, T_127013);
Popinfocontext_47616();
return Result_127014;
}
N_NIMCALL(TY55552*, Getinstantiatedtype_128428)(TY107012* C_128430, TY55526* Arg_128431, TY127022* M_128432, TY55552* F_128433) {
TY55552* Result_128434;
TNimObject* LOC1;
Result_128434 = 0;
LOC1 = 0;
LOC1 = Idtableget_60163((*M_128432).Bindings, &F_128433->Sup);
Result_128434 = ((TY55552*) (LOC1));
if (!(Result_128434 == NIM_NIL)) goto LA3;
Result_128434 = Generatetypeinstance_127008(C_128430, (*M_128432).Bindings, Arg_128431, F_128433);
LA3: ;
if (!(Result_128434 == NIM_NIL)) goto LA6;
Internalerror_47574((*Arg_128431).Info, ((NimStringDesc*) &TMP196072));
LA6: ;
return Result_128434;
}
N_NIMCALL(TY55526*, Implicitconv_128457)(NU8 Kind_128459, TY55552* F_128460, TY55526* Arg_128461, TY127022* M_128462, TY107012* C_128463) {
TY55526* Result_128464;
NIM_BOOL LOC2;
Result_128464 = 0;
Result_128464 = Newnodei_55738(Kind_128459, (*Arg_128461).Info);
LOC2 = Containsgenerictype_126221(F_128460);
if (!LOC2) goto LA3;
asgnRef((void**) &(*Result_128464).Typ, Getinstantiatedtype_128428(C_128463, Arg_128461, M_128462, F_128460));
goto LA1;
LA3: ;
asgnRef((void**) &(*Result_128464).Typ, F_128460);
LA1: ;
if (!((*Result_128464).Typ == NIM_NIL)) goto LA6;
Internalerror_47574((*Arg_128461).Info, ((NimStringDesc*) &TMP196073));
LA6: ;
Addson_55824(Result_128464, NIM_NIL);
Addson_55824(Result_128464, Arg_128461);
return Result_128464;
}
N_NIMCALL(TY55526*, Userconvmatch_128476)(TY107012* C_128478, TY127022* M_128480, TY55552* F_128481, TY55552* A_128482, TY55526* Arg_128483) {
TY55526* Result_128484;
NI I_128503;
NI HEX3Atmp_129872;
NI Res_129874;
TY55552* Src_128504;
TY55552* Dest_128505;
NIM_BOOL LOC3;
NU8 LOC4;
NU8 LOC6;
TY55526* S_128526;
TY55526* LOC9;
Result_128484 = 0;
Result_128484 = NIM_NIL;
I_128503 = 0;
HEX3Atmp_129872 = 0;
HEX3Atmp_129872 = (NI32)((*C_128478).Converters->Sup.len - 1);
Res_129874 = 0;
Res_129874 = 0;
while (1) {
if (!(Res_129874 <= HEX3Atmp_129872)) goto LA1;
I_128503 = Res_129874;
Src_128504 = 0;
Src_128504 = (*(*(*C_128478).Converters->data[I_128503]).Typ).Sons->data[1];
Dest_128505 = 0;
Dest_128505 = (*(*(*C_128478).Converters->data[I_128503]).Typ).Sons->data[0];
LOC4 = Typerel_127297(&(*M_128480).Bindings, F_128481, Dest_128505);
LOC3 = (LOC4 == ((NU8) 5));
if (!(LOC3)) goto LA5;
LOC6 = Typerel_127297(&(*M_128480).Bindings, Src_128504, A_128482);
LOC3 = (LOC6 == ((NU8) 5));
LA5: ;
if (!LOC3) goto LA7;
S_128526 = 0;
S_128526 = Newsymnode_55735((*C_128478).Converters->data[I_128503]);
asgnRef((void**) &(*S_128526).Typ, (*(*C_128478).Converters->data[I_128503]).Typ);
(*S_128526).Info = (*Arg_128483).Info;
Result_128484 = Newnodeit_55742(((NU8) 49), (*Arg_128483).Info, (*(*S_128526).Typ).Sons->data[0]);
Addson_55824(Result_128484, S_128526);
LOC9 = 0;
LOC9 = Copytree_55859(Arg_128483);
Addson_55824(Result_128484, LOC9);
(*M_128480).Convmatches += 1;
goto BeforeRet;
LA7: ;
Res_129874 += 1;
} LA1: ;
BeforeRet: ;
return Result_128484;
}
N_NIMCALL(TY55526*, Paramtypesmatchaux_128539)(TY107012* C_128541, TY127022* M_128543, TY55552* F_128544, TY55552* A_128545, TY55526* Arg_128546) {
TY55526* Result_128547;
NU8 R_128549;
TY55526* LOC1;
TY55526* LOC2;
TY55526* LOC3;
TY55552* LOC5;
TY55526* LOC8;
TY55552* LOC10;
TY55526* LOC13;
NIM_BOOL LOC15;
TY55552* LOC19;
TY55552* LOC26;
TY55552* LOC27;
Result_128547 = 0;
R_128549 = 0;
R_128549 = Typerel_127297(&(*M_128543).Bindings, F_128544, A_128545);
switch (R_128549) {
case ((NU8) 1):
(*M_128543).Convmatches += 1;
LOC1 = 0;
LOC1 = Copytree_55859(Arg_128546);
Result_128547 = Implicitconv_128457(((NU8) 47), F_128544, LOC1, &(*M_128543), C_128541);
break;
case ((NU8) 2):
(*M_128543).Intconvmatches += 1;
LOC2 = 0;
LOC2 = Copytree_55859(Arg_128546);
Result_128547 = Implicitconv_128457(((NU8) 47), F_128544, LOC2, &(*M_128543), C_128541);
break;
case ((NU8) 3):
(*M_128543).Subtypematches += 1;
LOC3 = 0;
LOC3 = Copytree_55859(Arg_128546);
Result_128547 = Implicitconv_128457(((NU8) 48), F_128544, LOC3, &(*M_128543), C_128541);
break;
case ((NU8) 4):
(*M_128543).Genericmatches += 1;
Result_128547 = Copytree_55859(Arg_128546);
asgnRef((void**) &(*Result_128547).Typ, Getinstantiatedtype_128428(C_128541, Arg_128546, &(*M_128543), F_128544));
LOC5 = 0;
LOC5 = Skiptypes_97087((*Result_128547).Typ, IL64(47428533575745536));
if (!((*LOC5).Kind == ((NU8) 18) || (*LOC5).Kind == ((NU8) 27))) goto LA6;
LOC8 = 0;
LOC8 = Copytree_55859(Arg_128546);
Result_128547 = Implicitconv_128457(((NU8) 47), F_128544, LOC8, &(*M_128543), C_128541);
LA6: ;
break;
case ((NU8) 5):
(*M_128543).Exactmatches += 1;
Result_128547 = Copytree_55859(Arg_128546);
LOC10 = 0;
LOC10 = Skiptypes_97087(F_128544, IL64(47428533575745536));
if (!((*LOC10).Kind == ((NU8) 18) || (*LOC10).Kind == ((NU8) 27))) goto LA11;
LOC13 = 0;
LOC13 = Copytree_55859(Arg_128546);
Result_128547 = Implicitconv_128457(((NU8) 47), F_128544, LOC13, &(*M_128543), C_128541);
LA11: ;
break;
case ((NU8) 0):
Result_128547 = Userconvmatch_128476(C_128541, M_128543, F_128544, A_128545, Arg_128546);
LOC15 = (Result_128547 == NIM_NIL);
if (!(LOC15)) goto LA16;
LOC15 = ((*F_128544).Kind == ((NU8) 27));
LA16: ;
if (!LOC15) goto LA17;
LOC19 = 0;
LOC19 = Base_97021(F_128544);
R_128549 = Typerel_127297(&(*M_128543).Bindings, LOC19, A_128545);
if (!(((NU8) 4) <= R_128549)) goto LA21;
(*M_128543).Convmatches += 1;
Result_128547 = Copytree_55859(Arg_128546);
if (!(R_128549 == ((NU8) 4))) goto LA24;
LOC26 = 0;
LOC26 = Base_97021(F_128544);
asgnRef((void**) &(*Result_128547).Typ, Getinstantiatedtype_128428(C_128541, Arg_128546, &(*M_128543), LOC26));
LA24: ;
(*M_128543).Basetypematch = NIM_TRUE;
goto LA20;
LA21: ;
LOC27 = 0;
LOC27 = Base_97021(F_128544);
Result_128547 = Userconvmatch_128476(C_128541, M_128543, LOC27, A_128545, Arg_128546);
LA20: ;
LA17: ;
break;
}
return Result_128547;
}
N_NIMCALL(void, Initcandidate_127050)(TY127022* C_127053, TY55552* Callee_127054) {
Initcandidateaux_127045(C_127053, Callee_127054);
unsureAsgnRef((void**) &(*C_127053).Calleesym, NIM_NIL);
Initidtable_55755(&(*C_127053).Bindings);
}
N_NIMCALL(void, Copycandidate_127100)(TY127022* A_127103, TY127022* B_127104) {
(*A_127103).Exactmatches = (*B_127104).Exactmatches;
(*A_127103).Subtypematches = (*B_127104).Subtypematches;
(*A_127103).Convmatches = (*B_127104).Convmatches;
(*A_127103).Intconvmatches = (*B_127104).Intconvmatches;
(*A_127103).Genericmatches = (*B_127104).Genericmatches;
(*A_127103).State = (*B_127104).State;
unsureAsgnRef((void**) &(*A_127103).Callee, (*B_127104).Callee);
unsureAsgnRef((void**) &(*A_127103).Calleesym, (*B_127104).Calleesym);
unsureAsgnRef((void**) &(*A_127103).Call, Copytree_55859((*B_127104).Call));
(*A_127103).Basetypematch = (*B_127104).Basetypematch;
Copyidtable_55799(&(*A_127103).Bindings, (*B_127104).Bindings);
}
N_NIMCALL(NI, Cmpcandidates_127106)(TY127022* A_127108, TY127022* B_127109) {
NI Result_127110;
Result_127110 = 0;
Result_127110 = (NI32)((*A_127108).Exactmatches - (*B_127109).Exactmatches);
if (!!((Result_127110 == 0))) goto LA2;
goto BeforeRet;
LA2: ;
Result_127110 = (NI32)((*A_127108).Genericmatches - (*B_127109).Genericmatches);
if (!!((Result_127110 == 0))) goto LA5;
goto BeforeRet;
LA5: ;
Result_127110 = (NI32)((*A_127108).Subtypematches - (*B_127109).Subtypematches);
if (!!((Result_127110 == 0))) goto LA8;
goto BeforeRet;
LA8: ;
Result_127110 = (NI32)((*A_127108).Intconvmatches - (*B_127109).Intconvmatches);
if (!!((Result_127110 == 0))) goto LA11;
goto BeforeRet;
LA11: ;
Result_127110 = (NI32)((*A_127108).Convmatches - (*B_127109).Convmatches);
BeforeRet: ;
return Result_127110;
}
N_NIMCALL(TY55526*, Paramtypesmatch_128685)(TY107012* C_128687, TY127022* M_128689, TY55552* F_128690, TY55552* A_128691, TY55526* Arg_128692) {
TY55526* Result_128693;
NIM_BOOL LOC2;
TY127022 X_128714;
TY127022 Y_128715;
TY127022 Z_128716;
NI Best_128720;
NI I_128729;
NI HEX3Atmp_129875;
NI LOC6;
NI Res_129877;
NU8 R_128780;
NI Cmp_128790;
NIM_BOOL LOC22;
NI LOC24;
Result_128693 = 0;
LOC2 = (Arg_128692 == NIM_NIL);
if (LOC2) goto LA3;
LOC2 = !(((*Arg_128692).Kind == ((NU8) 46)));
LA3: ;
if (!LOC2) goto LA4;
Result_128693 = Paramtypesmatchaux_128539(C_128687, M_128689, F_128690, A_128691, Arg_128692);
goto LA1;
LA4: ;
memset((void*)&X_128714, 0, sizeof(X_128714));
memset((void*)&Y_128715, 0, sizeof(Y_128715));
memset((void*)&Z_128716, 0, sizeof(Z_128716));
Initcandidate_127050(&X_128714, (*M_128689).Callee);
Initcandidate_127050(&Y_128715, (*M_128689).Callee);
Initcandidate_127050(&Z_128716, (*M_128689).Callee);
X_128714.Calleesym = (*M_128689).Calleesym;
Y_128715.Calleesym = (*M_128689).Calleesym;
Z_128716.Calleesym = (*M_128689).Calleesym;
Best_128720 = 0;
Best_128720 = -1;
I_128729 = 0;
HEX3Atmp_129875 = 0;
LOC6 = Sonslen_55804(Arg_128692);
HEX3Atmp_129875 = (NI32)(LOC6 - 1);
Res_129877 = 0;
Res_129877 = 0;
while (1) {
if (!(Res_129877 <= HEX3Atmp_129875)) goto LA7;
I_128729 = Res_129877;
if (!((2883584 &(1<<(((*(*(*Arg_128692).KindU.S6.Sons->data[I_128729]).KindU.S4.Sym).Kind)&31)))!=0)) goto LA9;
Copycandidate_127100(&Z_128716, &(*M_128689));
R_128780 = 0;
R_128780 = Typerel_127297(&Z_128716.Bindings, F_128690, (*(*Arg_128692).KindU.S6.Sons->data[I_128729]).Typ);
if (!!((R_128780 == ((NU8) 0)))) goto LA12;
switch (X_128714.State) {
case ((NU8) 0):
case ((NU8) 2):
genericAssign((void*)&X_128714, (void*)&Z_128716, NTI127022);
Best_128720 = I_128729;
X_128714.State = ((NU8) 1);
break;
case ((NU8) 1):
Cmp_128790 = 0;
Cmp_128790 = Cmpcandidates_127106(&X_128714, &Z_128716);
if (!(Cmp_128790 < 0)) goto LA15;
Best_128720 = I_128729;
genericAssign((void*)&X_128714, (void*)&Z_128716, NTI127022);
goto LA14;
LA15: ;
if (!(Cmp_128790 == 0)) goto LA17;
genericAssign((void*)&Y_128715, (void*)&Z_128716, NTI127022);
goto LA14;
LA17: ;
LA14: ;
break;
}
LA12: ;
LA9: ;
Res_129877 += 1;
} LA7: ;
if (!(X_128714.State == ((NU8) 0))) goto LA20;
Result_128693 = NIM_NIL;
goto LA19;
LA20: ;
LOC22 = (Y_128715.State == ((NU8) 1));
if (!(LOC22)) goto LA23;
LOC24 = Cmpcandidates_127106(&X_128714, &Y_128715);
LOC22 = (LOC24 == 0);
LA23: ;
if (!LOC22) goto LA25;
if (!!((X_128714.State == ((NU8) 1)))) goto LA28;
Internalerror_47574((*Arg_128692).Info, ((NimStringDesc*) &TMP196078));
LA28: ;
Result_128693 = NIM_NIL;
goto LA19;
LA25: ;
Markused_125065(Arg_128692, (*(*Arg_128692).KindU.S6.Sons->data[Best_128720]).KindU.S4.Sym);
Result_128693 = Paramtypesmatchaux_128539(C_128687, M_128689, F_128690, (*(*Arg_128692).KindU.S6.Sons->data[Best_128720]).Typ, (*Arg_128692).KindU.S6.Sons->data[Best_128720]);
LA19: ;
LA1: ;
return Result_128693;
}
N_NIMCALL(void, Setson_128884)(TY55526* Father_128886, NI At_128887, TY55526* Son_128888) {
NI LOC2;
LOC2 = Sonslen_55804(Father_128886);
if (!(LOC2 <= At_128887)) goto LA3;
(*Father_128886).KindU.S6.Sons = (TY55520*) setLengthSeq(&((*Father_128886).KindU.S6.Sons)->Sup, sizeof(TY55526*), (NI32)(At_128887 + 1));
LA3: ;
asgnRefNoCycle((void**) &(*Father_128886).KindU.S6.Sons->data[At_128887], Son_128888);
}
N_NIMCALL(void, Matches_128927)(TY107012* C_128929, TY55526* N_128930, TY127022* M_128932) {
NI F_128933;
NI A_128934;
NI Formallen_128935;
TY55526* LOC1;
TY55901 Marker_128948;
TY55526* Container_128950;
TY55548* Formal_128951;
NI LOC3;
NIM_BOOL LOC14;
TY55526* Arg_129118;
TY55552* LOC33;
TY55552* LOC36;
TY55526* LOC37;
TY55526* LOC38;
TY55526* LOC39;
TY55526* Arg_129248;
NIM_BOOL LOC43;
NIM_BOOL LOC44;
NIM_BOOL LOC53;
TY55526* Arg_129365;
TY55526* LOC62;
NI LOC67;
NIM_BOOL LOC69;
TY55526* LOC78;
TY55526* LOC79;
F_128933 = 0;
F_128933 = 1;
A_128934 = 0;
A_128934 = 1;
(*M_128932).State = ((NU8) 1);
unsureAsgnRef((void**) &(*M_128932).Call, Newnodei_55738(((NU8) 21), (*N_128930).Info));
asgnRef((void**) &(*(*M_128932).Call).Typ, Base_97021((*M_128932).Callee));
Formallen_128935 = 0;
Formallen_128935 = Sonslen_55804((*(*M_128932).Callee).N);
LOC1 = 0;
LOC1 = Copytree_55859((*N_128930).KindU.S6.Sons->data[0]);
Addson_55824((*M_128932).Call, LOC1);
memset((void*)&Marker_128948, 0, sizeof(Marker_128948));
Intsetinit_55925(&Marker_128948);
Container_128950 = 0;
Container_128950 = NIM_NIL;
Formal_128951 = 0;
Formal_128951 = NIM_NIL;
while (1) {
LOC3 = Sonslen_55804(N_128930);
if (!(A_128934 < LOC3)) goto LA2;
if (!((*(*N_128930).KindU.S6.Sons->data[A_128934]).Kind == ((NU8) 23))) goto LA5;
if (!!(((*(*(*N_128930).KindU.S6.Sons->data[A_128934]).KindU.S6.Sons->data[0]).Kind == ((NU8) 2)))) goto LA8;
Limessage_47569((*(*N_128930).KindU.S6.Sons->data[A_128934]).Info, ((NU8) 156), ((NimStringDesc*) &TMP195927));
(*M_128932).State = ((NU8) 2);
goto BeforeRet;
LA8: ;
Formal_128951 = Getsymfromlist_60194((*(*M_128932).Callee).N, (*(*(*N_128930).KindU.S6.Sons->data[A_128934]).KindU.S6.Sons->data[0]).KindU.S5.Ident, 1);
if (!(Formal_128951 == NIM_NIL)) goto LA11;
(*M_128932).State = ((NU8) 2);
goto BeforeRet;
LA11: ;
LOC14 = Intsetcontainsorincl_55929(&Marker_128948, (*Formal_128951).Position);
if (!LOC14) goto LA15;
Limessage_47569((*(*N_128930).KindU.S6.Sons->data[A_128934]).Info, ((NU8) 140), (*(*Formal_128951).Name).S);
(*M_128932).State = ((NU8) 2);
goto BeforeRet;
LA15: ;
(*M_128932).Basetypematch = NIM_FALSE;
Arg_129118 = 0;
Arg_129118 = Paramtypesmatch_128685(C_128929, M_128932, (*Formal_128951).Typ, (*(*N_128930).KindU.S6.Sons->data[A_128934]).Typ, (*(*N_128930).KindU.S6.Sons->data[A_128934]).KindU.S6.Sons->data[1]);
if (!(Arg_129118 == NIM_NIL)) goto LA18;
(*M_128932).State = ((NU8) 2);
goto BeforeRet;
LA18: ;
if (!(*M_128932).Basetypematch) goto LA21;
Container_128950 = Newnodei_55738(((NU8) 32), (*(*N_128930).KindU.S6.Sons->data[A_128934]).Info);
Addson_55824(Container_128950, Arg_129118);
Setson_128884((*M_128932).Call, (NI32)((*Formal_128951).Position + 1), Container_128950);
if (!!((F_128933 == (NI32)(Formallen_128935 - 1)))) goto LA24;
Container_128950 = NIM_NIL;
LA24: ;
goto LA20;
LA21: ;
Setson_128884((*M_128932).Call, (NI32)((*Formal_128951).Position + 1), Arg_129118);
LA20: ;
goto LA4;
LA5: ;
if (!(Formallen_128935 <= F_128933)) goto LA27;
if (!(((*(*M_128932).Callee).Flags &(1<<((((NU8) 0))&7)))!=0)) goto LA30;
LOC33 = 0;
LOC33 = Skiptypes_97087((*(*N_128930).KindU.S6.Sons->data[A_128934]).Typ, IL64(47428533575745536));
if (!((*LOC33).Kind == ((NU8) 28))) goto LA34;
LOC36 = 0;
LOC36 = Getsystype_102008(((NU8) 29));
LOC37 = 0;
LOC37 = Copytree_55859((*N_128930).KindU.S6.Sons->data[A_128934]);
LOC38 = 0;
LOC38 = Implicitconv_128457(((NU8) 47), LOC36, LOC37, &(*M_128932), C_128929);
Addson_55824((*M_128932).Call, LOC38);
goto LA32;
LA34: ;
LOC39 = 0;
LOC39 = Copytree_55859((*N_128930).KindU.S6.Sons->data[A_128934]);
Addson_55824((*M_128932).Call, LOC39);
LA32: ;
goto LA29;
LA30: ;
if (!!((Formal_128951 == NIM_NIL))) goto LA40;
(*M_128932).Basetypematch = NIM_FALSE;
Arg_129248 = 0;
Arg_129248 = Paramtypesmatch_128685(C_128929, M_128932, (*Formal_128951).Typ, (*(*N_128930).KindU.S6.Sons->data[A_128934]).Typ, (*N_128930).KindU.S6.Sons->data[A_128934]);
LOC44 = !((Arg_129248 == NIM_NIL));
if (!(LOC44)) goto LA45;
LOC44 = (*M_128932).Basetypematch;
LA45: ;
LOC43 = LOC44;
if (!(LOC43)) goto LA46;
LOC43 = !((Container_128950 == NIM_NIL));
LA46: ;
if (!LOC43) goto LA47;
Addson_55824(Container_128950, Arg_129248);
goto LA42;
LA47: ;
(*M_128932).State = ((NU8) 2);
goto BeforeRet;
LA42: ;
goto LA29;
LA40: ;
(*M_128932).State = ((NU8) 2);
goto BeforeRet;
LA29: ;
goto LA26;
LA27: ;
if (!!(((*(*(*(*M_128932).Callee).N).KindU.S6.Sons->data[F_128933]).Kind == ((NU8) 3)))) goto LA50;
Internalerror_47574((*(*N_128930).KindU.S6.Sons->data[A_128934]).Info, ((NimStringDesc*) &TMP196079));
LA50: ;
Formal_128951 = (*(*(*(*M_128932).Callee).N).KindU.S6.Sons->data[F_128933]).KindU.S4.Sym;
LOC53 = Intsetcontainsorincl_55929(&Marker_128948, (*Formal_128951).Position);
if (!LOC53) goto LA54;
Limessage_47569((*(*N_128930).KindU.S6.Sons->data[A_128934]).Info, ((NU8) 140), (*(*Formal_128951).Name).S);
(*M_128932).State = ((NU8) 2);
goto BeforeRet;
LA54: ;
(*M_128932).Basetypematch = NIM_FALSE;
Arg_129365 = 0;
Arg_129365 = Paramtypesmatch_128685(C_128929, M_128932, (*Formal_128951).Typ, (*(*N_128930).KindU.S6.Sons->data[A_128934]).Typ, (*N_128930).KindU.S6.Sons->data[A_128934]);
if (!(Arg_129365 == NIM_NIL)) goto LA57;
(*M_128932).State = ((NU8) 2);
goto BeforeRet;
LA57: ;
if (!(*M_128932).Basetypematch) goto LA60;
Container_128950 = Newnodei_55738(((NU8) 32), (*(*N_128930).KindU.S6.Sons->data[A_128934]).Info);
Addson_55824(Container_128950, Arg_129365);
LOC62 = 0;
LOC62 = Implicitconv_128457(((NU8) 47), (*Formal_128951).Typ, Container_128950, &(*M_128932), C_128929);
Setson_128884((*M_128932).Call, (NI32)((*Formal_128951).Position + 1), LOC62);
if (!!((F_128933 == (NI32)(Formallen_128935 - 1)))) goto LA64;
Container_128950 = NIM_NIL;
LA64: ;
goto LA59;
LA60: ;
Setson_128884((*M_128932).Call, (NI32)((*Formal_128951).Position + 1), Arg_129365);
LA59: ;
LA26: ;
LA4: ;
A_128934 += 1;
F_128933 += 1;
} LA2: ;
F_128933 = 1;
while (1) {
LOC67 = Sonslen_55804((*(*M_128932).Callee).N);
if (!(F_128933 < LOC67)) goto LA66;
Formal_128951 = (*(*(*(*M_128932).Callee).N).KindU.S6.Sons->data[F_128933]).KindU.S4.Sym;
LOC69 = Intsetcontainsorincl_55929(&Marker_128948, (*Formal_128951).Position);
if (!!(LOC69)) goto LA70;
if (!((*Formal_128951).Ast == NIM_NIL)) goto LA73;
if (!((*(*Formal_128951).Typ).Kind == ((NU8) 27))) goto LA76;
Container_128950 = Newnodei_55738(((NU8) 32), (*N_128930).Info);
LOC78 = 0;
LOC78 = Implicitconv_128457(((NU8) 47), (*Formal_128951).Typ, Container_128950, &(*M_128932), C_128929);
Addson_55824((*M_128932).Call, LOC78);
goto LA75;
LA76: ;
(*M_128932).State = ((NU8) 2);
goto LA66;
LA75: ;
goto LA72;
LA73: ;
LOC79 = 0;
LOC79 = Copytree_55859((*Formal_128951).Ast);
Setson_128884((*M_128932).Call, (NI32)((*Formal_128951).Position + 1), LOC79);
LA72: ;
LA70: ;
F_128933 += 1;
} LA66: ;
BeforeRet: ;
}
N_NIMCALL(NIM_BOOL, Samemethoddispatcher_129487)(TY55548* A_129489, TY55548* B_129490) {
NIM_BOOL Result_129491;
NIM_BOOL LOC2;
TY55526* Aa_129510;
TY55526* Bb_129511;
NIM_BOOL LOC7;
NIM_BOOL LOC8;
Result_129491 = 0;
Result_129491 = NIM_FALSE;
LOC2 = ((*A_129489).Kind == ((NU8) 11));
if (!(LOC2)) goto LA3;
LOC2 = ((*B_129490).Kind == ((NU8) 11));
LA3: ;
if (!LOC2) goto LA4;
Aa_129510 = 0;
Aa_129510 = Lastson_55810((*A_129489).Ast);
Bb_129511 = 0;
Bb_129511 = Lastson_55810((*B_129490).Ast);
LOC8 = ((*Aa_129510).Kind == ((NU8) 3));
if (!(LOC8)) goto LA9;
LOC8 = ((*Bb_129511).Kind == ((NU8) 3));
LA9: ;
LOC7 = LOC8;
if (!(LOC7)) goto LA10;
LOC7 = ((*Aa_129510).KindU.S4.Sym == (*Bb_129511).KindU.S4.Sym);
LA10: ;
if (!LOC7) goto LA11;
Result_129491 = NIM_TRUE;
LA11: ;
LA4: ;
return Result_129491;
}
N_NIMCALL(void, Instantiategenericparamlist_126225)(TY107012* C_126227, TY55526* N_126228, TY55564 Pt_126229) {
NI I_126247;
NI HEX3Atmp_129830;
NI LOC4;
NI Res_129832;
TY55526* A_126260;
TY55548* Q_126282;
TY55548* S_126295;
TY55548* LOC13;
TY55552* T_126296;
TNimObject* LOC14;
NimStringDesc* LOC21;
if (!!(((*N_126228).Kind == ((NU8) 65)))) goto LA2;
Internalerror_47574((*N_126228).Info, ((NimStringDesc*) &TMP196084));
LA2: ;
I_126247 = 0;
HEX3Atmp_129830 = 0;
LOC4 = Sonslen_55804(N_126228);
HEX3Atmp_129830 = (NI32)(LOC4 - 1);
Res_129832 = 0;
Res_129832 = 0;
while (1) {
if (!(Res_129832 <= HEX3Atmp_129830)) goto LA5;
I_126247 = Res_129832;
A_126260 = 0;
A_126260 = (*N_126228).KindU.S6.Sons->data[I_126247];
if (!!(((*A_126260).Kind == ((NU8) 3)))) goto LA8;
Internalerror_47574((*A_126260).Info, ((NimStringDesc*) &TMP196085));
LA8: ;
Q_126282 = 0;
Q_126282 = (*A_126260).KindU.S4.Sym;
if (!!(((*(*Q_126282).Typ).Kind == ((NU8) 8) || (*(*Q_126282).Typ).Kind == ((NU8) 12)))) goto LA11;
goto LA6;
LA11: ;
S_126295 = 0;
LOC13 = 0;
LOC13 = Getcurrowner_107107();
S_126295 = Newsym_55702(((NU8) 7), (*Q_126282).Name, LOC13);
T_126296 = 0;
LOC14 = 0;
LOC14 = Idtableget_60163(Pt_126229, &(*Q_126282).Typ->Sup);
T_126296 = ((TY55552*) (LOC14));
if (!(T_126296 == NIM_NIL)) goto LA16;
Limessage_47569((*A_126260).Info, ((NU8) 122), (*(*S_126295).Name).S);
LA16: ;
if (!((*T_126296).Kind == ((NU8) 12))) goto LA19;
LOC21 = 0;
LOC21 = rawNewString((*(*Q_126282).Name).S->Sup.len + 29);
appendString(LOC21, ((NimStringDesc*) &TMP196086));
appendString(LOC21, (*(*Q_126282).Name).S);
Internalerror_47574((*A_126260).Info, LOC21);
LA19: ;
asgnRef((void**) &(*S_126295).Typ, T_126296);
Adddecl_108114(C_126227, S_126295);
LA6: ;
Res_129832 += 1;
} LA5: ;
}
N_NIMCALL(TY55552*, Neworprevtype_129931)(NU8 Kind_129933, TY55552* Prev_129934, TY107012* C_129935) {
TY55552* Result_129936;
Result_129936 = 0;
if (!(Prev_129934 == NIM_NIL)) goto LA2;
Result_129936 = Newtypes_107077(Kind_129933, C_129935);
goto LA1;
LA2: ;
Result_129936 = Prev_129934;
if (!((*Result_129936).Kind == ((NU8) 30))) goto LA5;
(*Result_129936).Kind = Kind_129933;
LA5: ;
LA1: ;
return Result_129936;
}
N_NIMCALL(TY55548*, Semtypeident_130713)(TY107012* C_130715, TY55526* N_130716) {
TY55548* Result_130717;
Result_130717 = 0;
Result_130717 = Qualifiedlookup_108322(C_130715, N_130716, 3);
if (!!((Result_130717 == NIM_NIL))) goto LA2;
Markused_125065(N_130716, Result_130717);
if (!!(((*Result_130717).Kind == ((NU8) 7)))) goto LA5;
Limessage_47569((*N_130716).Info, ((NU8) 60), ((NimStringDesc*) &TMP195927));
LA5: ;
goto LA1;
LA2: ;
Limessage_47569((*N_130716).Info, ((NU8) 19), ((NimStringDesc*) &TMP195927));
LA1: ;
return Result_130717;
}
N_NIMCALL(TY55552*, Semrangeaux_130410)(TY107012* C_130412, TY55526* N_130413, TY55552* Prev_130414) {
TY55552* Result_130415;
NIM_BOOL LOC5;
TY55526* A_130483;
TY55526* B_130496;
NIM_BOOL LOC10;
NIM_BOOL LOC17;
NIM_BOOL LOC21;
Result_130415 = 0;
if (!!(((*N_130413).Kind == ((NU8) 35)))) goto LA2;
Internalerror_47574((*N_130413).Info, ((NimStringDesc*) &TMP196087));
LA2: ;
Checksonslen_107099(N_130413, 2);
Result_130415 = Neworprevtype_129931(((NU8) 20), Prev_130414, C_130412);
asgnRefNoCycle((void**) &(*Result_130415).N, Newnodei_55738(((NU8) 35), (*N_130413).Info));
LOC5 = ((*N_130413).KindU.S6.Sons->data[0] == NIM_NIL);
if (LOC5) goto LA6;
LOC5 = ((*N_130413).KindU.S6.Sons->data[1] == NIM_NIL);
LA6: ;
if (!LOC5) goto LA7;
Limessage_47569((*N_130413).Info, ((NU8) 104), ((NimStringDesc*) &TMP195927));
LA7: ;
A_130483 = 0;
A_130483 = Semconstexpr_125171(C_130412, (*N_130413).KindU.S6.Sons->data[0]);
B_130496 = 0;
B_130496 = Semconstexpr_125171(C_130412, (*N_130413).KindU.S6.Sons->data[1]);
LOC10 = Sametype_97048((*A_130483).Typ, (*B_130496).Typ);
if (!!(LOC10)) goto LA11;
Limessage_47569((*N_130413).Info, ((NU8) 125), ((NimStringDesc*) &TMP195927));
LA11: ;
if (!!(((*(*A_130483).Typ).Kind >= ((NU8) 31) && (*(*A_130483).Typ).Kind <= ((NU8) 35) || (*(*A_130483).Typ).Kind == ((NU8) 14) || (*(*A_130483).Typ).Kind == ((NU8) 1) || (*(*A_130483).Typ).Kind == ((NU8) 2) || (*(*A_130483).Typ).Kind >= ((NU8) 36) && (*(*A_130483).Typ).Kind <= ((NU8) 39)))) goto LA14;
Limessage_47569((*N_130413).Info, ((NU8) 71), ((NimStringDesc*) &TMP195927));
LA14: ;
LOC17 = Enumhaswholes_97072((*A_130483).Typ);
if (!LOC17) goto LA18;
Limessage_47569((*N_130413).Info, ((NU8) 143), (*(*(*(*A_130483).Typ).Sym).Name).S);
LA18: ;
LOC21 = Levalue_55871(A_130483, B_130496);
if (!!(LOC21)) goto LA22;
Limessage_47569((*N_130413).Info, ((NU8) 104), ((NimStringDesc*) &TMP195927));
LA22: ;
Addson_55824((*Result_130415).N, A_130483);
Addson_55824((*Result_130415).N, B_130496);
Addson_55828(Result_130415, (*B_130496).Typ);
return Result_130415;
}
N_NIMCALL(TY55552*, Semarray_130562)(TY107012* C_130564, TY55526* N_130565, TY55552* Prev_130566) {
TY55552* Result_130567;
TY55552* Indx_130568;
TY55552* Base_130569;
NI LOC2;
NIM_BOOL LOC15;
NIM_BOOL LOC19;
Result_130567 = 0;
Indx_130568 = 0;
Base_130569 = 0;
Result_130567 = Neworprevtype_129931(((NU8) 16), Prev_130566, C_130564);
LOC2 = Sonslen_55804(N_130565);
if (!(LOC2 == 3)) goto LA3;
if (!((*(*N_130565).KindU.S6.Sons->data[1]).Kind == ((NU8) 35))) goto LA6;
Indx_130568 = Semrangeaux_130410(C_130564, (*N_130565).KindU.S6.Sons->data[1], NIM_NIL);
goto LA5;
LA6: ;
Indx_130568 = Semtypenode_125138(C_130564, (*N_130565).KindU.S6.Sons->data[1], NIM_NIL);
LA5: ;
Addson_55828(Result_130567, Indx_130568);
if (!((*Indx_130568).Kind == ((NU8) 11))) goto LA9;
Indx_130568 = Lastson_55813(Indx_130568);
LA9: ;
if (!!(((*Indx_130568).Kind == ((NU8) 12)))) goto LA12;
LOC15 = Isordinaltype_97069(Indx_130568);
if (!!(LOC15)) goto LA16;
Limessage_47569((*(*N_130565).KindU.S6.Sons->data[1]).Info, ((NU8) 71), ((NimStringDesc*) &TMP195927));
LA16: ;
LOC19 = Enumhaswholes_97072(Indx_130568);
if (!LOC19) goto LA20;
Limessage_47569((*(*N_130565).KindU.S6.Sons->data[1]).Info, ((NU8) 143), (*(*(*Indx_130568).Sym).Name).S);
LA20: ;
LA12: ;
Base_130569 = Semtypenode_125138(C_130564, (*N_130565).KindU.S6.Sons->data[2], NIM_NIL);
Addson_55828(Result_130567, Base_130569);
goto LA1;
LA3: ;
Limessage_47569((*N_130565).Info, ((NU8) 171), ((NimStringDesc*) &TMP195927));
LA1: ;
return Result_130567;
}
N_NIMCALL(TY55552*, Semcontainer_130314)(TY107012* C_130316, TY55526* N_130317, NU8 Kind_130318, NimStringDesc* Kindstr_130319, TY55552* Prev_130320) {
TY55552* Result_130321;
NI LOC2;
TY55552* Base_130336;
Result_130321 = 0;
Result_130321 = Neworprevtype_129931(Kind_130318, Prev_130320, C_130316);
LOC2 = Sonslen_55804(N_130317);
if (!(LOC2 == 2)) goto LA3;
Base_130336 = 0;
Base_130336 = Semtypenode_125138(C_130316, (*N_130317).KindU.S6.Sons->data[1], NIM_NIL);
Addson_55828(Result_130321, Base_130336);
goto LA1;
LA3: ;
Limessage_47569((*N_130317).Info, ((NU8) 170), Kindstr_130319);
LA1: ;
return Result_130321;
}
N_NIMCALL(TY55552*, Semrange_130509)(TY107012* C_130511, TY55526* N_130512, TY55552* Prev_130513) {
TY55552* Result_130514;
NI LOC2;
Result_130514 = 0;
Result_130514 = NIM_NIL;
LOC2 = Sonslen_55804(N_130512);
if (!(LOC2 == 2)) goto LA3;
if (!((*(*N_130512).KindU.S6.Sons->data[1]).Kind == ((NU8) 35))) goto LA6;
Result_130514 = Semrangeaux_130410(C_130511, (*N_130512).KindU.S6.Sons->data[1], Prev_130513);
goto LA5;
LA6: ;
Limessage_47569((*(*N_130512).KindU.S6.Sons->data[0]).Info, ((NU8) 93), ((NimStringDesc*) &TMP195927));
LA5: ;
goto LA1;
LA3: ;
Limessage_47569((*N_130512).Info, ((NU8) 170), ((NimStringDesc*) &TMP196089));
LA1: ;
return Result_130514;
}
N_NIMCALL(TY55552*, Semset_130271)(TY107012* C_130273, TY55526* N_130274, TY55552* Prev_130275) {
TY55552* Result_130276;
NI LOC2;
TY55552* Base_130291;
NIM_BOOL LOC12;
NI64 LOC16;
Result_130276 = 0;
Result_130276 = Neworprevtype_129931(((NU8) 19), Prev_130275, C_130273);
LOC2 = Sonslen_55804(N_130274);
if (!(LOC2 == 2)) goto LA3;
Base_130291 = 0;
Base_130291 = Semtypenode_125138(C_130273, (*N_130274).KindU.S6.Sons->data[1], NIM_NIL);
Addson_55828(Result_130276, Base_130291);
if (!((*Base_130291).Kind == ((NU8) 11))) goto LA6;
Base_130291 = Lastson_55813(Base_130291);
LA6: ;
if (!!(((*Base_130291).Kind == ((NU8) 12)))) goto LA9;
LOC12 = Isordinaltype_97069(Base_130291);
if (!!(LOC12)) goto LA13;
Limessage_47569((*N_130274).Info, ((NU8) 71), ((NimStringDesc*) &TMP195927));
LA13: ;
LOC16 = Lengthord_97007(Base_130291);
if (!(65536 < LOC16)) goto LA17;
Limessage_47569((*N_130274).Info, ((NU8) 117), ((NimStringDesc*) &TMP195927));
LA17: ;
LA9: ;
goto LA1;
LA3: ;
Limessage_47569((*N_130274).Info, ((NU8) 170), ((NimStringDesc*) &TMP196090));
LA1: ;
return Result_130276;
}
N_NIMCALL(TY55552*, Semordinal_130671)(TY107012* C_130673, TY55526* N_130674, TY55552* Prev_130675) {
TY55552* Result_130676;
NI LOC2;
TY55552* Base_130691;
NIM_BOOL LOC9;
Result_130676 = 0;
Result_130676 = Neworprevtype_129931(((NU8) 15), Prev_130675, C_130673);
LOC2 = Sonslen_55804(N_130674);
if (!(LOC2 == 2)) goto LA3;
Base_130691 = 0;
Base_130691 = Semtypenode_125138(C_130673, (*N_130674).KindU.S6.Sons->data[1], NIM_NIL);
if (!!(((*Base_130691).Kind == ((NU8) 12)))) goto LA6;
LOC9 = Isordinaltype_97069(Base_130691);
if (!!(LOC9)) goto LA10;
Limessage_47569((*(*N_130674).KindU.S6.Sons->data[1]).Info, ((NU8) 71), ((NimStringDesc*) &TMP195927));
LA10: ;
LA6: ;
Addson_55828(Result_130676, Base_130691);
goto LA1;
LA3: ;
Limessage_47569((*N_130674).Info, ((NU8) 170), ((NimStringDesc*) &TMP196091));
LA1: ;
return Result_130676;
}
N_NIMCALL(TY55552*, Instgenericcontainer_125166)(TY107012* C_125168, TY55526* N_125169, TY55552* Header_125170) {
TY55552* Result_127003;
TY126708 Cl_127004;
Result_127003 = 0;
memset((void*)&Cl_127004, 0, sizeof(Cl_127004));
Initidtable_55755(&Cl_127004.Symmap);
Initidtable_55755(&Cl_127004.Typemap);
Cl_127004.Info = (*N_125169).Info;
Cl_127004.C = C_125168;
Result_127003 = Replacetypevarst_126713(&Cl_127004, Header_125170);
return Result_127003;
}
N_NIMCALL(TY55552*, Semgeneric_130898)(TY107012* C_130900, TY55526* N_130901, TY55548* S_130902, TY55552* Prev_130903) {
TY55552* Result_130904;
TY55552* Elem_130905;
NIM_BOOL Isconcrete_130906;
NIM_BOOL LOC2;
NI LOC10;
NI LOC11;
NI I_130939;
NI HEX3Atmp_145843;
NI LOC14;
NI Res_145845;
Result_130904 = 0;
Elem_130905 = 0;
Isconcrete_130906 = 0;
LOC2 = ((*S_130902).Typ == NIM_NIL);
if (LOC2) goto LA3;
LOC2 = !(((*(*S_130902).Typ).Kind == ((NU8) 10)));
LA3: ;
if (!LOC2) goto LA4;
Limessage_47569((*N_130901).Info, ((NU8) 122), (*(*S_130902).Name).S);
LA4: ;
Result_130904 = Neworprevtype_129931(((NU8) 9), Prev_130903, C_130900);
if (!((*(*S_130902).Typ).Containerid == 0)) goto LA7;
Internalerror_47574((*N_130901).Info, ((NimStringDesc*) &TMP196093));
LA7: ;
LOC10 = Sonslen_55804(N_130901);
LOC11 = Sonslen_55807((*S_130902).Typ);
if (!!((LOC10 == LOC11))) goto LA12;
Limessage_47569((*N_130901).Info, ((NU8) 130), ((NimStringDesc*) &TMP195927));
LA12: ;
Addson_55828(Result_130904, (*S_130902).Typ);
Isconcrete_130906 = NIM_TRUE;
I_130939 = 0;
HEX3Atmp_145843 = 0;
LOC14 = Sonslen_55804(N_130901);
HEX3Atmp_145843 = (NI32)(LOC14 - 1);
Res_145845 = 0;
Res_145845 = 1;
while (1) {
if (!(Res_145845 <= HEX3Atmp_145843)) goto LA15;
I_130939 = Res_145845;
Elem_130905 = Semtypenode_125138(C_130900, (*N_130901).KindU.S6.Sons->data[I_130939], NIM_NIL);
if (!((*Elem_130905).Kind == ((NU8) 12))) goto LA17;
Isconcrete_130906 = NIM_FALSE;
LA17: ;
Addson_55828(Result_130904, Elem_130905);
Res_145845 += 1;
} LA15: ;
if (!Isconcrete_130906) goto LA20;
if (!((*S_130902).Ast == NIM_NIL)) goto LA23;
Limessage_47569((*N_130901).Info, ((NU8) 122), (*(*S_130902).Name).S);
LA23: ;
Result_130904 = Instgenericcontainer_125166(C_130900, N_130901, Result_130904);
LA20: ;
return Result_130904;
}
N_NIMCALL(void, Addinheritedfieldsaux_132071)(TY107012* C_132073, TY55901* Check_132075, NI* Pos_132077, TY55526* N_132078) {
NI I_132120;
NI HEX3Atmp_145867;
NI LOC4;
NI Res_145869;
TY55526* LOC6;
NI I_132153;
NI HEX3Atmp_145870;
NI LOC7;
NI Res_145872;
switch ((*N_132078).Kind) {
case ((NU8) 114):
if (!!(((*(*N_132078).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA2;
Internalerror_47574((*N_132078).Info, ((NimStringDesc*) &TMP196094));
LA2: ;
Addinheritedfieldsaux_132071(C_132073, Check_132075, Pos_132077, (*N_132078).KindU.S6.Sons->data[0]);
I_132120 = 0;
HEX3Atmp_145867 = 0;
LOC4 = Sonslen_55804(N_132078);
HEX3Atmp_145867 = (NI32)(LOC4 - 1);
Res_145869 = 0;
Res_145869 = 1;
while (1) {
if (!(Res_145869 <= HEX3Atmp_145867)) goto LA5;
I_132120 = Res_145869;
switch ((*(*N_132078).KindU.S6.Sons->data[I_132120]).Kind) {
case ((NU8) 75):
case ((NU8) 78):
LOC6 = 0;
LOC6 = Lastson_55810((*N_132078).KindU.S6.Sons->data[I_132120]);
Addinheritedfieldsaux_132071(C_132073, Check_132075, Pos_132077, LOC6);
break;
default:
Internalerror_47574((*N_132078).Info, ((NimStringDesc*) &TMP196095));
break;
}
Res_145869 += 1;
} LA5: ;
break;
case ((NU8) 113):
I_132153 = 0;
HEX3Atmp_145870 = 0;
LOC7 = Sonslen_55804(N_132078);
HEX3Atmp_145870 = (NI32)(LOC7 - 1);
Res_145872 = 0;
Res_145872 = 0;
while (1) {
if (!(Res_145872 <= HEX3Atmp_145870)) goto LA8;
I_132153 = Res_145872;
Addinheritedfieldsaux_132071(C_132073, Check_132075, Pos_132077, (*N_132078).KindU.S6.Sons->data[I_132153]);
Res_145872 += 1;
} LA8: ;
break;
case ((NU8) 3):
Intsetincl_55915(Check_132075, (*(*(*N_132078).KindU.S4.Sym).Name).Sup.Id);
(*Pos_132077) += 1;
break;
default:
Internalerror_47574((*N_132078).Info, ((NimStringDesc*) &TMP196096));
break;
}
}
N_NIMCALL(void, Addinheritedfields_132190)(TY107012* C_132192, TY55901* Check_132194, NI* Pos_132196, TY55552* Obj_132197) {
NIM_BOOL LOC2;
NI LOC3;
LOC3 = Sonslen_55807(Obj_132197);
LOC2 = (0 < LOC3);
if (!(LOC2)) goto LA4;
LOC2 = !(((*Obj_132197).Sons->data[0] == NIM_NIL));
LA4: ;
if (!LOC2) goto LA5;
Addinheritedfields_132190(C_132192, Check_132194, Pos_132196, (*Obj_132197).Sons->data[0]);
LA5: ;
Addinheritedfieldsaux_132071(C_132192, Check_132194, Pos_132196, (*Obj_132197).N);
}
N_NIMCALL(void, Checkbool_129881)(TY55526* T_129883) {
NIM_BOOL LOC2;
TY55552* LOC4;
LOC2 = ((*T_129883).Typ == NIM_NIL);
if (LOC2) goto LA3;
LOC4 = 0;
LOC4 = Skiptypes_97087((*T_129883).Typ, IL64(38421334321004544));
LOC2 = !(((*LOC4).Kind == ((NU8) 1)));
LA3: ;
if (!LOC2) goto LA5;
Limessage_47569((*T_129883).Info, ((NU8) 101), ((NimStringDesc*) &TMP195927));
LA5: ;
}
N_NIMCALL(NU8, Cmptypes_128420)(TY55552* F_128422, TY55552* A_128423) {
NU8 Result_128424;
TY55564 Mapping_128425;
Result_128424 = 0;
memset((void*)&Mapping_128425, 0, sizeof(Mapping_128425));
Initidtable_55755(&Mapping_128425);
Result_128424 = Typerel_127297(&Mapping_128425, F_128422, A_128423);
return Result_128424;
}
N_NIMCALL(void, Typemismatch_129905)(TY55526* N_129907, TY55552* Formal_129908, TY55552* Actual_129909) {
NimStringDesc* LOC1;
NimStringDesc* LOC2;
NimStringDesc* LOC3;
NimStringDesc* LOC4;
TY47869 LOC5;
NimStringDesc* LOC6;
LOC1 = 0;
LOC2 = 0;
LOC2 = Msgkindtostring_47595(((NU8) 126));
LOC3 = 0;
LOC3 = Typetostring_97014(Actual_129909, ((NU8) 0));
LOC4 = 0;
LOC4 = Msgkindtostring_47595(((NU8) 128));
memset((void*)&LOC5, 0, sizeof(LOC5));
LOC5[0] = Typetostring_97014(Formal_129908, ((NU8) 0));
LOC6 = 0;
LOC6 = nsuFormatOpenArray(LOC4, LOC5, 1);
LOC1 = rawNewString(LOC2->Sup.len + LOC3->Sup.len + LOC6->Sup.len + 2);
appendString(LOC1, LOC2);
appendString(LOC1, LOC3);
appendString(LOC1, ((NimStringDesc*) &TMP196100));
appendString(LOC1, LOC6);
Limessage_47569((*N_129907).Info, ((NU8) 4), LOC1);
}
N_NIMCALL(void, Sembranchexpr_131244)(TY107012* C_131246, TY55526* T_131247, TY55526** Ex_131249) {
NU8 LOC2;
unsureAsgnRef((void**) &(*Ex_131249), Semconstexpr_125171(C_131246, (*Ex_131249)));
Checkminsonslen_107103(T_131247, 1);
LOC2 = Cmptypes_128420((*(*T_131247).KindU.S6.Sons->data[0]).Typ, (*(*Ex_131249)).Typ);
if (!(LOC2 <= ((NU8) 1))) goto LA3;
Typemismatch_129905((*Ex_131249), (*(*T_131247).KindU.S6.Sons->data[0]).Typ, (*(*Ex_131249)).Typ);
LA3: ;
}
N_NIMCALL(void, Checkforoverlap_131184)(TY107012* C_131186, TY55526* T_131187, TY55526* Ex_131188, NI Branchindex_131189) {
NI I_131198;
NI HEX3Atmp_145849;
NI Res_145851;
NI J_131219;
NI HEX3Atmp_145846;
NI LOC2;
NI Res_145848;
NIM_BOOL LOC5;
I_131198 = 0;
HEX3Atmp_145849 = 0;
HEX3Atmp_145849 = (NI32)(Branchindex_131189 - 1);
Res_145851 = 0;
Res_145851 = 1;
while (1) {
if (!(Res_145851 <= HEX3Atmp_145849)) goto LA1;
I_131198 = Res_145851;
J_131219 = 0;
HEX3Atmp_145846 = 0;
LOC2 = Sonslen_55804((*T_131187).KindU.S6.Sons->data[I_131198]);
HEX3Atmp_145846 = (NI32)(LOC2 - 2);
Res_145848 = 0;
Res_145848 = 0;
while (1) {
if (!(Res_145848 <= HEX3Atmp_145846)) goto LA3;
J_131219 = Res_145848;
LOC5 = Overlap_104006((*(*T_131187).KindU.S6.Sons->data[I_131198]).KindU.S6.Sons->data[J_131219], Ex_131188);
if (!LOC5) goto LA6;
Limessage_47569((*Ex_131188).Info, ((NU8) 103), ((NimStringDesc*) &TMP195927));
LA6: ;
Res_145848 += 1;
} LA3: ;
Res_145851 += 1;
} LA1: ;
}
N_NIMCALL(void, Semcasebranch_131283)(TY107012* C_131285, TY55526* T_131286, TY55526* Branch_131287, NI Branchindex_131288, NI64* Covered_131290) {
NI I_131299;
NI HEX3Atmp_145852;
NI LOC1;
NI Res_145854;
TY55526* B_131312;
NIM_BOOL LOC7;
NI64 LOC10;
NI64 LOC11;
I_131299 = 0;
HEX3Atmp_145852 = 0;
LOC1 = Sonslen_55804(Branch_131287);
HEX3Atmp_145852 = (NI32)(LOC1 - 2);
Res_145854 = 0;
Res_145854 = 0;
while (1) {
if (!(Res_145854 <= HEX3Atmp_145852)) goto LA2;
I_131299 = Res_145854;
B_131312 = 0;
B_131312 = (*Branch_131287).KindU.S6.Sons->data[I_131299];
if (!((*B_131312).Kind == ((NU8) 35))) goto LA4;
Checksonslen_107099(B_131312, 2);
Sembranchexpr_131244(C_131285, T_131286, &(*B_131312).KindU.S6.Sons->data[0]);
Sembranchexpr_131244(C_131285, T_131286, &(*B_131312).KindU.S6.Sons->data[1]);
LOC7 = Emptyrange_104019((*B_131312).KindU.S6.Sons->data[0], (*B_131312).KindU.S6.Sons->data[1]);
if (!LOC7) goto LA8;
Limessage_47569((*B_131312).Info, ((NU8) 104), ((NimStringDesc*) &TMP195927));
LA8: ;
LOC10 = Getordvalue_97109((*B_131312).KindU.S6.Sons->data[1]);
LOC11 = Getordvalue_97109((*B_131312).KindU.S6.Sons->data[0]);
(*Covered_131290) = (NI64)((NI64)((NI64)((*Covered_131290) + LOC10) - LOC11) + 1);
goto LA3;
LA4: ;
Sembranchexpr_131244(C_131285, T_131286, &(*Branch_131287).KindU.S6.Sons->data[I_131299]);
(*Covered_131290) += 1;
LA3: ;
Checkforoverlap_131184(C_131285, T_131286, (*Branch_131287).KindU.S6.Sons->data[I_131299], Branchindex_131288);
Res_145854 += 1;
} LA2: ;
}
N_NIMCALL(void, Semrecordcase_131443)(TY107012* C_131445, TY55526* N_131446, TY55901* Check_131448, NI* Pos_131450, TY55526* Father_131451, TY55548* Rectype_131452) {
NI64 Covered_131453;
NIM_BOOL Chckcovered_131454;
TY55526* A_131455;
TY55526* B_131456;
TY55552* Typ_131457;
NIM_BOOL LOC5;
NI64 LOC9;
NI64 LOC13;
NI I_131603;
NI HEX3Atmp_145855;
NI LOC16;
NI Res_145857;
NI LOC18;
TY55526* LOC19;
NIM_BOOL LOC21;
NI64 LOC23;
Covered_131453 = 0;
Chckcovered_131454 = 0;
A_131455 = 0;
B_131456 = 0;
Typ_131457 = 0;
A_131455 = Copynode_55856(N_131446);
Checkminsonslen_107103(N_131446, 2);
Semrecordnodeaux_131433(C_131445, (*N_131446).KindU.S6.Sons->data[0], Check_131448, Pos_131450, A_131455, Rectype_131452);
if (!!(((*(*A_131455).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA2;
Internalerror_47578(((NimStringDesc*) &TMP196099));
LA2: ;
(*(*(*A_131455).KindU.S6.Sons->data[0]).KindU.S4.Sym).Flags |=(1<<((NI32)(((NU8) 21))%(sizeof(NI32)*8)));
Covered_131453 = 0;
Typ_131457 = Skiptypes_97087((*(*A_131455).KindU.S6.Sons->data[0]).Typ, IL64(47428533575745536));
LOC5 = Isordinaltype_97069(Typ_131457);
if (!!(LOC5)) goto LA6;
Limessage_47569((*N_131446).Info, ((NU8) 106), ((NimStringDesc*) &TMP195927));
LA6: ;
LOC9 = Firstord_97001(Typ_131457);
if (!(LOC9 < 0)) goto LA10;
Limessage_47569((*N_131446).Info, ((NU8) 107), (*(*(*(*A_131455).KindU.S6.Sons->data[0]).KindU.S4.Sym).Name).S);
LA10: ;
LOC13 = Lengthord_97007(Typ_131457);
if (!(32767 < LOC13)) goto LA14;
Limessage_47569((*N_131446).Info, ((NU8) 108), (*(*(*(*A_131455).KindU.S6.Sons->data[0]).KindU.S4.Sym).Name).S);
LA14: ;
Chckcovered_131454 = NIM_TRUE;
I_131603 = 0;
HEX3Atmp_145855 = 0;
LOC16 = Sonslen_55804(N_131446);
HEX3Atmp_145855 = (NI32)(LOC16 - 1);
Res_145857 = 0;
Res_145857 = 1;
while (1) {
if (!(Res_145857 <= HEX3Atmp_145855)) goto LA17;
I_131603 = Res_145857;
B_131456 = Copytree_55859((*N_131446).KindU.S6.Sons->data[I_131603]);
switch ((*(*N_131446).KindU.S6.Sons->data[I_131603]).Kind) {
case ((NU8) 75):
Checkminsonslen_107103(B_131456, 2);
Semcasebranch_131283(C_131445, A_131455, B_131456, I_131603, &Covered_131453);
break;
case ((NU8) 78):
Chckcovered_131454 = NIM_FALSE;
Checksonslen_107099(B_131456, 1);
break;
default:
Illformedast_107092(N_131446);
break;
}
LOC18 = Sonslen_55804(B_131456);
Delson_55836(B_131456, (NI32)(LOC18 - 1));
LOC19 = 0;
LOC19 = Lastson_55810((*N_131446).KindU.S6.Sons->data[I_131603]);
Semrecordnodeaux_131433(C_131445, LOC19, Check_131448, Pos_131450, B_131456, Rectype_131452);
Addson_55824(A_131455, B_131456);
Res_145857 += 1;
} LA17: ;
LOC21 = Chckcovered_131454;
if (!(LOC21)) goto LA22;
LOC23 = Lengthord_97007((*(*A_131455).KindU.S6.Sons->data[0]).Typ);
LOC21 = !((Covered_131453 == LOC23));
LA22: ;
if (!LOC21) goto LA24;
Limessage_47569((*A_131455).Info, ((NU8) 148), ((NimStringDesc*) &TMP195927));
LA24: ;
Addson_55824(Father_131451, A_131455);
}
N_NIMCALL(TY55548*, Newsyms_125059)(NU8 Kind_125061, TY55526* N_125062, TY107012* C_125063) {
TY55548* Result_125064;
TY54011* LOC1;
TY55548* LOC2;
Result_125064 = 0;
LOC1 = 0;
LOC1 = Consideracc_125003(N_125062);
LOC2 = 0;
LOC2 = Getcurrowner_107107();
Result_125064 = Newsym_55702(Kind_125061, LOC1, LOC2);
(*Result_125064).Info = (*N_125062).Info;
return Result_125064;
}
N_NIMCALL(TY55548*, Semidentvis_125092)(TY107012* C_125094, NU8 Kind_125095, TY55526* N_125096, NU32 Allowed_125097) {
TY55548* Result_130978;
NIM_BOOL LOC5;
NI LOC6;
TY54011* V_131047;
NIM_BOOL LOC11;
NIM_BOOL LOC15;
Result_130978 = 0;
if (!((*N_125096).Kind == ((NU8) 29))) goto LA2;
LOC6 = Sonslen_55804(N_125096);
LOC5 = (LOC6 == 2);
if (!(LOC5)) goto LA7;
LOC5 = ((*(*N_125096).KindU.S6.Sons->data[0]).Kind == ((NU8) 2));
LA7: ;
if (!LOC5) goto LA8;
Result_130978 = Newsyms_125059(Kind_125095, (*N_125096).KindU.S6.Sons->data[1], C_125094);
V_131047 = 0;
V_131047 = (*(*N_125096).KindU.S6.Sons->data[0]).KindU.S5.Ident;
LOC11 = ((Allowed_125097 &(1<<((((NU8) 1))&31)))!=0);
if (!(LOC11)) goto LA12;
LOC11 = ((*V_131047).Sup.Id == 69);
LA12: ;
if (!LOC11) goto LA13;
(*Result_130978).Flags |=(1<<((NI32)(((NU8) 1))%(sizeof(NI32)*8)));
goto LA10;
LA13: ;
LOC15 = ((Allowed_125097 &(1<<((((NU8) 2))&31)))!=0);
if (!(LOC15)) goto LA16;
LOC15 = ((*V_131047).Sup.Id == 70);
LA16: ;
if (!LOC15) goto LA17;
(*Result_130978).Flags |=(1<<((NI32)(((NU8) 2))%(sizeof(NI32)*8)));
goto LA10;
LA17: ;
Limessage_47569((*(*N_125096).KindU.S6.Sons->data[0]).Info, ((NU8) 172), (*V_131047).S);
LA10: ;
goto LA4;
LA8: ;
Illformedast_107092(N_125096);
LA4: ;
goto LA1;
LA2: ;
Result_130978 = Newsyms_125059(Kind_125095, N_125096, C_125094);
LA1: ;
return Result_130978;
}
N_NIMCALL(TY55548*, Semidentwithpragma_125098)(TY107012* C_125100, NU8 Kind_125101, TY55526* N_125102, NU32 Allowed_125103) {
TY55548* Result_131126;
Result_131126 = 0;
if (!((*N_125102).Kind == ((NU8) 34))) goto LA2;
Checksonslen_107099(N_125102, 2);
Result_131126 = Semidentvis_125092(C_125100, Kind_125101, (*N_125102).KindU.S6.Sons->data[0], Allowed_125103);
switch (Kind_125101) {
case ((NU8) 7):
break;
case ((NU8) 16):
Pragma_122028(C_125100, Result_131126, (*N_125102).KindU.S6.Sons->data[1], TMP196106);
break;
case ((NU8) 9):
Pragma_122028(C_125100, Result_131126, (*N_125102).KindU.S6.Sons->data[1], TMP196107);
break;
case ((NU8) 8):
Pragma_122028(C_125100, Result_131126, (*N_125102).KindU.S6.Sons->data[1], TMP196108);
break;
default:
break;
}
goto LA1;
LA2: ;
Result_131126 = Semidentvis_125092(C_125100, Kind_125101, N_125102, Allowed_125103);
LA1: ;
return Result_131126;
}
N_NIMCALL(void, Semrecordnodeaux_131433)(TY107012* C_131435, TY55526* N_131436, TY55901* Check_131438, NI* Pos_131440, TY55526* Father_131441, TY55548* Rectype_131442) {
NI Length_131665;
TY55548* F_131666;
TY55526* A_131667;
TY55526* It_131668;
TY55526* E_131669;
TY55526* Branch_131670;
TY55552* Typ_131671;
NI I_131691;
NI HEX3Atmp_145858;
NI LOC4;
NI Res_145860;
NIM_BOOL LOC13;
TY55526* LOC26;
NI I_131833;
NI HEX3Atmp_145861;
NI LOC30;
NI Res_145863;
NIM_BOOL LOC36;
NI I_131944;
NI HEX3Atmp_145864;
NI LOC46;
NI Res_145866;
NIM_BOOL LOC49;
NIM_BOOL LOC50;
NIM_BOOL LOC56;
TY55526* LOC62;
TY55526* LOC63;
Length_131665 = 0;
F_131666 = 0;
A_131667 = 0;
It_131668 = 0;
E_131669 = 0;
Branch_131670 = 0;
Typ_131671 = 0;
if (!(N_131436 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*N_131436).Kind) {
case ((NU8) 115):
Branch_131670 = NIM_NIL;
I_131691 = 0;
HEX3Atmp_145858 = 0;
LOC4 = Sonslen_55804(N_131436);
HEX3Atmp_145858 = (NI32)(LOC4 - 1);
Res_145860 = 0;
Res_145860 = 0;
while (1) {
if (!(Res_145860 <= HEX3Atmp_145858)) goto LA5;
I_131691 = Res_145860;
It_131668 = (*N_131436).KindU.S6.Sons->data[I_131691];
if (!(It_131668 == NIM_NIL)) goto LA7;
Illformedast_107092(N_131436);
LA7: ;
switch ((*It_131668).Kind) {
case ((NU8) 76):
Checksonslen_107099(It_131668, 2);
E_131669 = Semconstexpr_125171(C_131435, (*It_131668).KindU.S6.Sons->data[0]);
Checkbool_129881(E_131669);
if (!!(((*E_131669).Kind == ((NU8) 6)))) goto LA10;
Internalerror_47574((*E_131669).Info, ((NimStringDesc*) &TMP196098));
LA10: ;
LOC13 = !(((*E_131669).KindU.S1.Intval == 0));
if (!(LOC13)) goto LA14;
LOC13 = (Branch_131670 == NIM_NIL);
LA14: ;
if (!LOC13) goto LA15;
Branch_131670 = (*It_131668).KindU.S6.Sons->data[1];
LA15: ;
break;
case ((NU8) 78):
Checksonslen_107099(It_131668, 1);
if (!(Branch_131670 == NIM_NIL)) goto LA18;
Branch_131670 = (*It_131668).KindU.S6.Sons->data[0];
LA18: ;
break;
default:
Illformedast_107092(N_131436);
break;
}
Res_145860 += 1;
} LA5: ;
if (!!((Branch_131670 == NIM_NIL))) goto LA21;
Semrecordnodeaux_131433(C_131435, Branch_131670, Check_131438, Pos_131440, Father_131441, Rectype_131442);
LA21: ;
break;
case ((NU8) 114):
Semrecordcase_131443(C_131435, N_131436, Check_131438, Pos_131440, Father_131441, Rectype_131442);
break;
case ((NU8) 18):
if (!!(((*Father_131441).Kind == ((NU8) 113)))) goto LA24;
LOC26 = 0;
LOC26 = Newnodei_55738(((NU8) 113), (*N_131436).Info);
Addson_55824(Father_131441, LOC26);
LA24: ;
break;
case ((NU8) 113):
if (!((*Father_131441).Kind == ((NU8) 113))) goto LA28;
A_131667 = Father_131441;
goto LA27;
LA28: ;
A_131667 = Copynode_55856(N_131436);
LA27: ;
I_131833 = 0;
HEX3Atmp_145861 = 0;
LOC30 = Sonslen_55804(N_131436);
HEX3Atmp_145861 = (NI32)(LOC30 - 1);
Res_145863 = 0;
Res_145863 = 0;
while (1) {
if (!(Res_145863 <= HEX3Atmp_145861)) goto LA31;
I_131833 = Res_145863;
Semrecordnodeaux_131433(C_131435, (*N_131436).KindU.S6.Sons->data[I_131833], Check_131438, Pos_131440, A_131667, Rectype_131442);
Res_145863 += 1;
} LA31: ;
if (!!((A_131667 == Father_131441))) goto LA33;
Addson_55824(Father_131441, A_131667);
LA33: ;
break;
case ((NU8) 25):
Checkminsonslen_107103(N_131436, 3);
Length_131665 = Sonslen_55804(N_131436);
LOC36 = !(((*Father_131441).Kind == ((NU8) 113)));
if (!(LOC36)) goto LA37;
LOC36 = (4 <= Length_131665);
LA37: ;
if (!LOC36) goto LA38;
A_131667 = Newnodei_55738(((NU8) 113), (*N_131436).Info);
goto LA35;
LA38: ;
A_131667 = NIM_NIL;
LA35: ;
if (!!(((*N_131436).KindU.S6.Sons->data[(NI32)(Length_131665 - 1)] == NIM_NIL))) goto LA41;
Limessage_47569((*(*N_131436).KindU.S6.Sons->data[(NI32)(Length_131665 - 1)]).Info, ((NU8) 173), ((NimStringDesc*) &TMP195927));
LA41: ;
if (!((*N_131436).KindU.S6.Sons->data[(NI32)(Length_131665 - 2)] == NIM_NIL)) goto LA44;
Limessage_47569((*N_131436).Info, ((NU8) 60), ((NimStringDesc*) &TMP195927));
LA44: ;
Typ_131671 = Semtypenode_125138(C_131435, (*N_131436).KindU.S6.Sons->data[(NI32)(Length_131665 - 2)], NIM_NIL);
I_131944 = 0;
HEX3Atmp_145864 = 0;
LOC46 = Sonslen_55804(N_131436);
HEX3Atmp_145864 = (NI32)(LOC46 - 3);
Res_145866 = 0;
Res_145866 = 0;
while (1) {
if (!(Res_145866 <= HEX3Atmp_145864)) goto LA47;
I_131944 = Res_145866;
F_131666 = Semidentwithpragma_125098(C_131435, ((NU8) 16), (*N_131436).KindU.S6.Sons->data[I_131944], 100663296);
asgnRef((void**) &(*F_131666).Typ, Typ_131671);
(*F_131666).Position = (*Pos_131440);
LOC50 = !((Rectype_131442 == NIM_NIL));
if (!(LOC50)) goto LA51;
LOC50 = !(((IL64(2147549184) & (*Rectype_131442).Flags) == 0));
LA51: ;
LOC49 = LOC50;
if (!(LOC49)) goto LA52;
LOC49 = ((*F_131666).Loc.R == NIM_NIL);
LA52: ;
if (!LOC49) goto LA53;
asgnRefNoCycle((void**) &(*F_131666).Loc.R, Torope_52046((*(*F_131666).Name).S));
(*F_131666).Flags = ((*F_131666).Flags | (IL64(2147549184) & (*Rectype_131442).Flags));
LA53: ;
(*Pos_131440) += 1;
LOC56 = Intsetcontainsorincl_55929(Check_131438, (*(*F_131666).Name).Sup.Id);
if (!LOC56) goto LA57;
Limessage_47569((*(*N_131436).KindU.S6.Sons->data[I_131944]).Info, ((NU8) 37), (*(*F_131666).Name).S);
LA57: ;
if (!(A_131667 == NIM_NIL)) goto LA60;
LOC62 = 0;
LOC62 = Newsymnode_55735(F_131666);
Addson_55824(Father_131441, LOC62);
goto LA59;
LA60: ;
LOC63 = 0;
LOC63 = Newsymnode_55735(F_131666);
Addson_55824(A_131667, LOC63);
LA59: ;
Res_145866 += 1;
} LA47: ;
if (!!((A_131667 == NIM_NIL))) goto LA65;
Addson_55824(Father_131441, A_131667);
LA65: ;
break;
default:
Illformedast_107092(N_131436);
break;
}
BeforeRet: ;
}
N_NIMCALL(TY55552*, Semobjectnode_132213)(TY107012* C_132215, TY55526* N_132216, TY55552* Prev_132217) {
TY55552* Result_132218;
TY55901 Check_132219;
TY55552* Base_132220;
NI Pos_132221;
NIM_BOOL LOC11;
Result_132218 = 0;
memset((void*)&Check_132219, 0, sizeof(Check_132219));
Base_132220 = 0;
Pos_132221 = 0;
Intsetinit_55925(&Check_132219);
Pos_132221 = 0;
Checksonslen_107099(N_132216, 3);
if (!!(((*N_132216).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA2;
Base_132220 = Semtypenode_125138(C_132215, (*(*N_132216).KindU.S6.Sons->data[1]).KindU.S6.Sons->data[0], NIM_NIL);
if (!((*Base_132220).Kind == ((NU8) 17))) goto LA5;
Addinheritedfields_132190(C_132215, &Check_132219, &Pos_132221, Base_132220);
goto LA4;
LA5: ;
Limessage_47569((*(*N_132216).KindU.S6.Sons->data[1]).Info, ((NU8) 119), ((NimStringDesc*) &TMP195927));
LA4: ;
goto LA1;
LA2: ;
Base_132220 = NIM_NIL;
LA1: ;
if (!!(((*N_132216).Kind == ((NU8) 111)))) goto LA8;
Internalerror_47574((*N_132216).Info, ((NimStringDesc*) &TMP196097));
LA8: ;
Result_132218 = Neworprevtype_129931(((NU8) 17), Prev_132217, C_132215);
Addson_55828(Result_132218, Base_132220);
asgnRefNoCycle((void**) &(*Result_132218).N, Newnodei_55738(((NU8) 113), (*N_132216).Info));
Semrecordnodeaux_131433(C_132215, (*N_132216).KindU.S6.Sons->data[2], &Check_132219, &Pos_132221, (*Result_132218).N, (*Result_132218).Sym);
LOC11 = !((Base_132220 == NIM_NIL));
if (!(LOC11)) goto LA12;
LOC11 = (((*Base_132220).Flags &(1<<((((NU8) 2))&7)))!=0);
LA12: ;
if (!LOC11) goto LA13;
Limessage_47569((*(*N_132216).KindU.S6.Sons->data[1]).Info, ((NU8) 119), ((NimStringDesc*) &TMP195927));
LA13: ;
return Result_132218;
}
N_NIMCALL(TY55552*, Semtuple_130739)(TY107012* C_130741, TY55526* N_130742, TY55552* Prev_130743) {
TY55552* Result_130744;
NI Length_130745;
NI Counter_130746;
TY55552* Typ_130747;
TY55901 Check_130748;
TY55526* A_130749;
TY55548* Field_130750;
NI I_130760;
NI HEX3Atmp_145840;
NI LOC1;
NI Res_145842;
NI J_130860;
NI HEX3Atmp_145837;
NI Res_145839;
NIM_BOOL LOC14;
TY55526* LOC17;
Result_130744 = 0;
Length_130745 = 0;
Counter_130746 = 0;
Typ_130747 = 0;
memset((void*)&Check_130748, 0, sizeof(Check_130748));
A_130749 = 0;
Field_130750 = 0;
Result_130744 = Neworprevtype_129931(((NU8) 18), Prev_130743, C_130741);
asgnRefNoCycle((void**) &(*Result_130744).N, Newnodei_55738(((NU8) 113), (*N_130742).Info));
Intsetinit_55925(&Check_130748);
Counter_130746 = 0;
I_130760 = 0;
HEX3Atmp_145840 = 0;
LOC1 = Sonslen_55804(N_130742);
HEX3Atmp_145840 = (NI32)(LOC1 - 1);
Res_145842 = 0;
Res_145842 = 0;
while (1) {
if (!(Res_145842 <= HEX3Atmp_145840)) goto LA2;
I_130760 = Res_145842;
A_130749 = (*N_130742).KindU.S6.Sons->data[I_130760];
if (!!(((*A_130749).Kind == ((NU8) 25)))) goto LA4;
Illformedast_107092(A_130749);
LA4: ;
Checkminsonslen_107103(A_130749, 3);
Length_130745 = Sonslen_55804(A_130749);
if (!!(((*A_130749).KindU.S6.Sons->data[(NI32)(Length_130745 - 2)] == NIM_NIL))) goto LA7;
Typ_130747 = Semtypenode_125138(C_130741, (*A_130749).KindU.S6.Sons->data[(NI32)(Length_130745 - 2)], NIM_NIL);
goto LA6;
LA7: ;
Limessage_47569((*A_130749).Info, ((NU8) 60), ((NimStringDesc*) &TMP195927));
LA6: ;
if (!!(((*A_130749).KindU.S6.Sons->data[(NI32)(Length_130745 - 1)] == NIM_NIL))) goto LA10;
Limessage_47569((*(*A_130749).KindU.S6.Sons->data[(NI32)(Length_130745 - 1)]).Info, ((NU8) 173), ((NimStringDesc*) &TMP195927));
LA10: ;
J_130860 = 0;
HEX3Atmp_145837 = 0;
HEX3Atmp_145837 = (NI32)(Length_130745 - 3);
Res_145839 = 0;
Res_145839 = 0;
while (1) {
if (!(Res_145839 <= HEX3Atmp_145837)) goto LA12;
J_130860 = Res_145839;
Field_130750 = Newsyms_125059(((NU8) 16), (*A_130749).KindU.S6.Sons->data[J_130860], C_130741);
asgnRef((void**) &(*Field_130750).Typ, Typ_130747);
(*Field_130750).Position = Counter_130746;
Counter_130746 += 1;
LOC14 = Intsetcontainsorincl_55929(&Check_130748, (*(*Field_130750).Name).Sup.Id);
if (!LOC14) goto LA15;
Limessage_47569((*(*A_130749).KindU.S6.Sons->data[J_130860]).Info, ((NU8) 37), (*(*Field_130750).Name).S);
LA15: ;
LOC17 = 0;
LOC17 = Newsymnode_55735(Field_130750);
Addson_55824((*Result_130744).N, LOC17);
Addson_55828(Result_130744, Typ_130747);
Res_145839 += 1;
} LA12: ;
Res_145842 += 1;
} LA2: ;
return Result_130744;
}
N_NIMCALL(TY55552*, Semanyref_130337)(TY107012* C_130339, TY55526* N_130340, NU8 Kind_130341, NimStringDesc* Kindstr_130342, TY55552* Prev_130343) {
TY55552* Result_130344;
NI LOC2;
TY55552* Base_130359;
Result_130344 = 0;
Result_130344 = Neworprevtype_129931(Kind_130341, Prev_130343, C_130339);
LOC2 = Sonslen_55804(N_130340);
if (!(LOC2 == 1)) goto LA3;
Base_130359 = 0;
Base_130359 = Semtypenode_125138(C_130339, (*N_130340).KindU.S6.Sons->data[0], NIM_NIL);
Addson_55828(Result_130344, Base_130359);
goto LA1;
LA3: ;
Limessage_47569((*N_130340).Info, ((NU8) 170), Kindstr_130342);
LA1: ;
return Result_130344;
}
N_NIMCALL(TY55552*, Semvartype_130360)(TY107012* C_130362, TY55526* N_130363, TY55552* Prev_130364) {
TY55552* Result_130365;
NI LOC2;
TY55552* Base_130380;
Result_130365 = 0;
Result_130365 = Neworprevtype_129931(((NU8) 23), Prev_130364, C_130362);
LOC2 = Sonslen_55804(N_130363);
if (!(LOC2 == 1)) goto LA3;
Base_130380 = 0;
Base_130380 = Semtypenode_125138(C_130362, (*N_130363).KindU.S6.Sons->data[0], NIM_NIL);
if (!((*Base_130380).Kind == ((NU8) 23))) goto LA6;
Limessage_47569((*N_130363).Info, ((NU8) 192), ((NimStringDesc*) &TMP195927));
LA6: ;
Addson_55828(Result_130365, Base_130380);
goto LA1;
LA3: ;
Limessage_47569((*N_130363).Info, ((NU8) 170), ((NimStringDesc*) &TMP196111));
LA1: ;
return Result_130365;
}
N_NIMCALL(TY55552*, Semdistinct_130390)(TY107012* C_130392, TY55526* N_130393, TY55552* Prev_130394) {
TY55552* Result_130395;
NI LOC2;
TY55552* LOC5;
Result_130395 = 0;
Result_130395 = Neworprevtype_129931(((NU8) 13), Prev_130394, C_130392);
LOC2 = Sonslen_55804(N_130393);
if (!(LOC2 == 1)) goto LA3;
LOC5 = 0;
LOC5 = Semtypenode_125138(C_130392, (*N_130393).KindU.S6.Sons->data[0], NIM_NIL);
Addson_55828(Result_130395, LOC5);
goto LA1;
LA3: ;
Limessage_47569((*N_130393).Info, ((NU8) 170), ((NimStringDesc*) &TMP196112));
LA1: ;
return Result_130395;
}
N_NIMCALL(TY55552*, Semenum_129957)(TY107012* C_129959, TY55526* N_129960, TY55552* Prev_129961) {
TY55552* Result_129962;
NI64 Counter_129963;
NI64 X_129964;
TY55548* E_129965;
TY55552* Base_129966;
NI64 LOC7;
NI I_130043;
NI HEX3Atmp_145834;
NI LOC8;
NI Res_145836;
TY55526* V_130104;
TY55526* Strval_130105;
TY55552* LOC10;
NI LOC12;
TY55552* LOC16;
NIM_BOOL LOC29;
TY55526* LOC33;
Result_129962 = 0;
Counter_129963 = 0;
X_129964 = 0;
E_129965 = 0;
Base_129966 = 0;
Counter_129963 = 0;
Base_129966 = NIM_NIL;
Result_129962 = Neworprevtype_129931(((NU8) 14), Prev_129961, C_129959);
asgnRefNoCycle((void**) &(*Result_129962).N, Newnodei_55738(((NU8) 121), (*N_129960).Info));
Checkminsonslen_107103(N_129960, 1);
if (!!(((*N_129960).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA2;
Base_129966 = Semtypenode_125138(C_129959, (*(*N_129960).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[0], NIM_NIL);
if (!!(((*Base_129966).Kind == ((NU8) 14)))) goto LA5;
Limessage_47569((*(*N_129960).KindU.S6.Sons->data[0]).Info, ((NU8) 120), ((NimStringDesc*) &TMP195927));
LA5: ;
LOC7 = Lastord_97004(Base_129966);
Counter_129963 = (NI64)(LOC7 + 1);
LA2: ;
Addson_55828(Result_129962, Base_129966);
I_130043 = 0;
HEX3Atmp_145834 = 0;
LOC8 = Sonslen_55804(N_129960);
HEX3Atmp_145834 = (NI32)(LOC8 - 1);
Res_145836 = 0;
Res_145836 = 1;
while (1) {
if (!(Res_145836 <= HEX3Atmp_145834)) goto LA9;
I_130043 = Res_145836;
switch ((*(*N_129960).KindU.S6.Sons->data[I_130043]).Kind) {
case ((NU8) 122):
E_129965 = Newsyms_125059(((NU8) 17), (*(*N_129960).KindU.S6.Sons->data[I_130043]).KindU.S6.Sons->data[0], C_129959);
V_130104 = 0;
V_130104 = Semconstexpr_125171(C_129959, (*(*N_129960).KindU.S6.Sons->data[I_130043]).KindU.S6.Sons->data[1]);
Strval_130105 = 0;
Strval_130105 = NIM_NIL;
LOC10 = 0;
LOC10 = Skiptypes_97087((*V_130104).Typ, IL64(47287796087390208));
switch ((*LOC10).Kind) {
case ((NU8) 18):
LOC12 = Sonslen_55804(V_130104);
if (!!((LOC12 == 2))) goto LA13;
Limessage_47569((*V_130104).Info, ((NU8) 109), ((NimStringDesc*) &TMP195927));
LA13: ;
Strval_130105 = (*V_130104).KindU.S6.Sons->data[1];
LOC16 = 0;
LOC16 = Skiptypes_97087((*Strval_130105).Typ, IL64(47287796087390208));
if (!!(((*LOC16).Kind == ((NU8) 28) || (*LOC16).Kind == ((NU8) 29)))) goto LA17;
Limessage_47569((*Strval_130105).Info, ((NU8) 6), ((NimStringDesc*) &TMP195927));
LA17: ;
X_129964 = Getordvalue_97109((*V_130104).KindU.S6.Sons->data[0]);
break;
case ((NU8) 28):
case ((NU8) 29):
Strval_130105 = V_130104;
X_129964 = Counter_129963;
break;
default:
X_129964 = Getordvalue_97109(V_130104);
break;
}
if (!!((I_130043 == 1))) goto LA20;
if (!!((X_129964 == Counter_129963))) goto LA23;
(*Result_129962).Flags |=(1<<((NI8)(((NU8) 4))%(sizeof(NI8)*8)));
LA23: ;
if (!(X_129964 < Counter_129963)) goto LA26;
Limessage_47569((*(*N_129960).KindU.S6.Sons->data[I_130043]).Info, ((NU8) 142), (*(*E_129965).Name).S);
LA26: ;
LA20: ;
asgnRefNoCycle((void**) &(*E_129965).Ast, Strval_130105);
Counter_129963 = X_129964;
break;
case ((NU8) 3):
E_129965 = (*(*N_129960).KindU.S6.Sons->data[I_130043]).KindU.S4.Sym;
break;
case ((NU8) 2):
E_129965 = Newsyms_125059(((NU8) 17), (*N_129960).KindU.S6.Sons->data[I_130043], C_129959);
break;
default:
Illformedast_107092(N_129960);
break;
}
asgnRef((void**) &(*E_129965).Typ, Result_129962);
(*E_129965).Position = ((NI) (Counter_129963));
LOC29 = !(((*Result_129962).Sym == NIM_NIL));
if (!(LOC29)) goto LA30;
LOC29 = (((*(*Result_129962).Sym).Flags &(1<<((((NU8) 3))&31)))!=0);
LA30: ;
if (!LOC29) goto LA31;
(*E_129965).Flags |=(1<<((NI32)(((NU8) 0))%(sizeof(NI32)*8)));
(*E_129965).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
Strtableadd_60061(&(*(*C_129959).Module).Tab, E_129965);
LA31: ;
LOC33 = 0;
LOC33 = Newsymnode_55735(E_129965);
Addson_55824((*Result_129962).N, LOC33);
Adddeclat_108128(C_129959, E_129965, ((NI) ((NI32)(((NI) ((*C_129959).Tab.Tos)) - 1))));
Counter_129963 += 1;
Res_145836 += 1;
} LA9: ;
return Result_129962;
}
N_NIMCALL(TY55552*, Semstmtlisttype_132696)(TY107012* C_132698, TY55526* N_132699, TY55552* Prev_132700) {
TY55552* Result_132701;
NI Length_132702;
NI I_132711;
NI HEX3Atmp_145888;
NI Res_145890;
Result_132701 = 0;
Checkminsonslen_107103(N_132699, 1);
Length_132702 = 0;
Length_132702 = Sonslen_55804(N_132699);
I_132711 = 0;
HEX3Atmp_145888 = 0;
HEX3Atmp_145888 = (NI32)(Length_132702 - 2);
Res_145890 = 0;
Res_145890 = 0;
while (1) {
if (!(Res_145890 <= HEX3Atmp_145888)) goto LA1;
I_132711 = Res_145890;
asgnRefNoCycle((void**) &(*N_132699).KindU.S6.Sons->data[I_132711], Semstmt_125143(C_132698, (*N_132699).KindU.S6.Sons->data[I_132711]));
Res_145890 += 1;
} LA1: ;
if (!(0 < Length_132702)) goto LA3;
Result_132701 = Semtypenode_125138(C_132698, (*N_132699).KindU.S6.Sons->data[(NI32)(Length_132702 - 1)], Prev_132700);
asgnRef((void**) &(*N_132699).Typ, Result_132701);
asgnRef((void**) &(*(*N_132699).KindU.S6.Sons->data[(NI32)(Length_132702 - 1)]).Typ, Result_132701);
goto LA2;
LA3: ;
Result_132701 = NIM_NIL;
LA2: ;
return Result_132701;
}
N_NIMCALL(TY55552*, Semblocktype_132764)(TY107012* C_132766, TY55526* N_132767, TY55552* Prev_132768) {
TY55552* Result_132769;
TY55548* LOC4;
Result_132769 = 0;
(*(*C_132766).P).Nestedblockcounter += 1;
Checksonslen_107099(N_132767, 2);
Openscope_60146(&(*C_132766).Tab);
if (!!(((*N_132767).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA2;
LOC4 = 0;
LOC4 = Newsyms_125059(((NU8) 19), (*N_132767).KindU.S6.Sons->data[0], C_132766);
Adddecl_108114(C_132766, LOC4);
LA2: ;
Result_132769 = Semstmtlisttype_132696(C_132766, (*N_132767).KindU.S6.Sons->data[1], Prev_132768);
asgnRef((void**) &(*(*N_132767).KindU.S6.Sons->data[1]).Typ, Result_132769);
asgnRef((void**) &(*N_132767).Typ, Result_132769);
Closescope_108018(&(*C_132766).Tab);
(*(*C_132766).P).Nestedblockcounter -= 1;
return Result_132769;
}
N_NIMCALL(TY55552*, Semtypenode_125138)(TY107012* C_125140, TY55526* N_125141, TY55552* Prev_125142) {
TY55552* Result_132860;
TY55548* S_132861;
TY55552* T_132862;
TY55526* LOC4;
NI LOC6;
NIM_BOOL LOC16;
TY54011* LOC23;
TY55526* LOC24;
Result_132860 = 0;
S_132861 = 0;
T_132862 = 0;
Result_132860 = NIM_NIL;
if (!(N_125141 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*N_125141).Kind) {
case ((NU8) 110):
LOC4 = 0;
LOC4 = Semexprwithtype_125122(C_125140, N_125141, 1);
Result_132860 = (*LOC4).Typ;
break;
case ((NU8) 30):
LOC6 = Sonslen_55804(N_125141);
if (!(LOC6 == 1)) goto LA7;
Result_132860 = Semtypenode_125138(C_125140, (*N_125141).KindU.S6.Sons->data[0], Prev_125142);
goto LA5;
LA7: ;
Limessage_47569((*N_125141).Info, ((NU8) 60), ((NimStringDesc*) &TMP195927));
LA5: ;
break;
case ((NU8) 33):
Checkminsonslen_107103(N_125141, 2);
S_132861 = Semtypeident_130713(C_125140, (*N_125141).KindU.S6.Sons->data[0]);
switch ((*S_132861).Magic) {
case ((NU8) 163):
Result_132860 = Semarray_130562(C_125140, N_125141, Prev_125142);
break;
case ((NU8) 164):
Result_132860 = Semcontainer_130314(C_125140, N_125141, ((NU8) 27), ((NimStringDesc*) &TMP196088), Prev_125142);
break;
case ((NU8) 165):
Result_132860 = Semrange_130509(C_125140, N_125141, Prev_125142);
break;
case ((NU8) 166):
Result_132860 = Semset_130271(C_125140, N_125141, Prev_125142);
break;
case ((NU8) 168):
Result_132860 = Semordinal_130671(C_125140, N_125141, Prev_125142);
break;
case ((NU8) 167):
Result_132860 = Semcontainer_130314(C_125140, N_125141, ((NU8) 24), ((NimStringDesc*) &TMP196092), Prev_125142);
break;
default:
Result_132860 = Semgeneric_130898(C_125140, N_125141, S_132861, Prev_125142);
break;
}
break;
case ((NU8) 2):
case ((NU8) 36):
case ((NU8) 43):
S_132861 = Semtypeident_130713(C_125140, N_125141);
if (!((*S_132861).Typ == NIM_NIL)) goto LA10;
Limessage_47569((*N_125141).Info, ((NU8) 60), ((NimStringDesc*) &TMP195927));
LA10: ;
if (!(Prev_125142 == NIM_NIL)) goto LA13;
Result_132860 = (*S_132861).Typ;
goto LA12;
LA13: ;
Assigntype_55780(Prev_125142, (*S_132861).Typ);
(*Prev_125142).Sup.Id = (*(*S_132861).Typ).Sup.Id;
Result_132860 = Prev_125142;
LA12: ;
break;
case ((NU8) 3):
LOC16 = ((*(*N_125141).KindU.S4.Sym).Kind == ((NU8) 7));
if (!(LOC16)) goto LA17;
LOC16 = !(((*(*N_125141).KindU.S4.Sym).Typ == NIM_NIL));
LA17: ;
if (!LOC16) goto LA18;
T_132862 = (*(*N_125141).KindU.S4.Sym).Typ;
if (!(Prev_125142 == NIM_NIL)) goto LA21;
Result_132860 = T_132862;
goto LA20;
LA21: ;
Assigntype_55780(Prev_125142, T_132862);
Result_132860 = Prev_125142;
LA20: ;
Markused_125065(N_125141, (*N_125141).KindU.S4.Sym);
goto LA15;
LA18: ;
Limessage_47569((*N_125141).Info, ((NU8) 60), ((NimStringDesc*) &TMP195927));
LA15: ;
break;
case ((NU8) 111):
Result_132860 = Semobjectnode_132213(C_125140, N_125141, Prev_125142);
break;
case ((NU8) 112):
Result_132860 = Semtuple_130739(C_125140, N_125141, Prev_125142);
break;
case ((NU8) 116):
Result_132860 = Semanyref_130337(C_125140, N_125141, ((NU8) 22), ((NimStringDesc*) &TMP196109), Prev_125142);
break;
case ((NU8) 117):
Result_132860 = Semanyref_130337(C_125140, N_125141, ((NU8) 21), ((NimStringDesc*) &TMP196110), Prev_125142);
break;
case ((NU8) 118):
Result_132860 = Semvartype_130360(C_125140, N_125141, Prev_125142);
break;
case ((NU8) 119):
Result_132860 = Semdistinct_130390(C_125140, N_125141, Prev_125142);
break;
case ((NU8) 120):
Checksonslen_107099(N_125141, 2);
Result_132860 = Semproctypenode_132448(C_125140, (*N_125141).KindU.S6.Sons->data[0], NIM_NIL, Prev_125142);
LOC23 = 0;
LOC23 = Getident_54016(((NimStringDesc*) &TMP196113));
LOC24 = 0;
LOC24 = Newidentnode_55731(LOC23, (*N_125141).Info);
S_132861 = Newsyms_125059(((NU8) 10), LOC24, C_125140);
asgnRef((void**) &(*S_132861).Typ, Result_132860);
Pragma_122028(C_125140, S_132861, (*N_125141).KindU.S6.Sons->data[1], TMP196114);
break;
case ((NU8) 121):
Result_132860 = Semenum_129957(C_125140, N_125141, Prev_125142);
break;
case ((NU8) 4):
Result_132860 = (*N_125141).Typ;
break;
case ((NU8) 108):
Result_132860 = Semstmtlisttype_132696(C_125140, N_125141, Prev_125142);
break;
case ((NU8) 109):
Result_132860 = Semblocktype_132764(C_125140, N_125141, Prev_125142);
break;
default:
Limessage_47569((*N_125141).Info, ((NU8) 60), ((NimStringDesc*) &TMP195927));
break;
}
BeforeRet: ;
return Result_132860;
}
N_NIMCALL(TY55552*, Addtypevarsofgenericbody_132350)(TY107012* C_132352, TY55552* T_132353, TY55526* Genericparams_132354, TY55901* Cl_132356) {
TY55552* Result_132357;
NIM_BOOL LOC5;
NI I_132377;
NI HEX3Atmp_145873;
NI LOC8;
NI Res_145875;
TY55548* S_132387;
NIM_BOOL LOC14;
TY55526* LOC18;
NI L_132408;
NI LOC19;
NI I_132417;
NI HEX3Atmp_145876;
NI LOC20;
NI Res_145878;
NI I_132426;
NI HEX3Atmp_145879;
NI LOC22;
NI Res_145881;
Result_132357 = 0;
Result_132357 = T_132353;
if (!(T_132353 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
LOC5 = Intsetcontainsorincl_55929(Cl_132356, (*T_132353).Sup.Id);
if (!LOC5) goto LA6;
goto BeforeRet;
LA6: ;
switch ((*T_132353).Kind) {
case ((NU8) 10):
Result_132357 = Newtypes_107077(((NU8) 9), C_132352);
Addson_55828(Result_132357, T_132353);
I_132377 = 0;
HEX3Atmp_145873 = 0;
LOC8 = Sonslen_55807(T_132353);
HEX3Atmp_145873 = (NI32)(LOC8 - 2);
Res_145875 = 0;
Res_145875 = 0;
while (1) {
if (!(Res_145875 <= HEX3Atmp_145873)) goto LA9;
I_132377 = Res_145875;
if (!!(((*(*T_132353).Sons->data[I_132377]).Kind == ((NU8) 12)))) goto LA11;
Internalerror_47578(((NimStringDesc*) &TMP196116));
LA11: ;
S_132387 = 0;
S_132387 = Copysym_55776((*(*T_132353).Sons->data[I_132377]).Sym, NIM_FALSE);
(*S_132387).Position = Sonslen_55804(Genericparams_132354);
LOC14 = ((*S_132387).Typ == NIM_NIL);
if (LOC14) goto LA15;
LOC14 = !(((*(*S_132387).Typ).Kind == ((NU8) 12)));
LA15: ;
if (!LOC14) goto LA16;
Internalerror_47578(((NimStringDesc*) &TMP196117));
LA16: ;
Adddecl_108114(C_132352, S_132387);
LOC18 = 0;
LOC18 = Newsymnode_55735(S_132387);
Addson_55824(Genericparams_132354, LOC18);
Addson_55828(Result_132357, (*T_132353).Sons->data[I_132377]);
Res_145875 += 1;
} LA9: ;
break;
case ((NU8) 11):
L_132408 = 0;
LOC19 = Sonslen_55807(T_132353);
L_132408 = (NI32)(LOC19 - 1);
asgnRef((void**) &(*T_132353).Sons->data[L_132408], Addtypevarsofgenericbody_132350(C_132352, (*T_132353).Sons->data[L_132408], Genericparams_132354, Cl_132356));
break;
case ((NU8) 9):
I_132417 = 0;
HEX3Atmp_145876 = 0;
LOC20 = Sonslen_55807(T_132353);
HEX3Atmp_145876 = (NI32)(LOC20 - 1);
Res_145878 = 0;
Res_145878 = 1;
while (1) {
if (!(Res_145878 <= HEX3Atmp_145876)) goto LA21;
I_132417 = Res_145878;
asgnRef((void**) &(*T_132353).Sons->data[I_132417], Addtypevarsofgenericbody_132350(C_132352, (*T_132353).Sons->data[I_132417], Genericparams_132354, Cl_132356));
Res_145878 += 1;
} LA21: ;
break;
default:
I_132426 = 0;
HEX3Atmp_145879 = 0;
LOC22 = Sonslen_55807(T_132353);
HEX3Atmp_145879 = (NI32)(LOC22 - 1);
Res_145881 = 0;
Res_145881 = 0;
while (1) {
if (!(Res_145881 <= HEX3Atmp_145879)) goto LA23;
I_132426 = Res_145881;
asgnRef((void**) &(*T_132353).Sons->data[I_132426], Addtypevarsofgenericbody_132350(C_132352, (*T_132353).Sons->data[I_132426], Genericparams_132354, Cl_132356));
Res_145881 += 1;
} LA23: ;
break;
}
BeforeRet: ;
return Result_132357;
}
N_NIMCALL(TY55552*, Paramtype_132427)(TY107012* C_132429, TY55526* N_132430, TY55526* Genericparams_132431, TY55901* Cl_132433) {
TY55552* Result_132434;
NIM_BOOL LOC2;
NI LOC4;
Result_132434 = 0;
Result_132434 = Semtypenode_125138(C_132429, N_132430, NIM_NIL);
LOC2 = !((Genericparams_132431 == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC4 = Sonslen_55804(Genericparams_132431);
LOC2 = (LOC4 == 0);
LA3: ;
if (!LOC2) goto LA5;
Result_132434 = Addtypevarsofgenericbody_132350(C_132429, Result_132434, Genericparams_132431, Cl_132433);
LA5: ;
return Result_132434;
}
N_NIMCALL(TY55526*, Indextypesmatch_128874)(TY107012* C_128876, TY55552* F_128877, TY55552* A_128878, TY55526* Arg_128879) {
TY55526* Result_128880;
TY127022 M_128881;
Result_128880 = 0;
memset((void*)&M_128881, 0, sizeof(M_128881));
Initcandidate_127050(&M_128881, F_128877);
Result_128880 = Paramtypesmatch_128685(C_128876, &M_128881, F_128877, A_128878, Arg_128879);
return Result_128880;
}
N_NIMCALL(TY55526*, Fitnode_125129)(TY107012* C_125131, TY55552* Formal_125132, TY55526* Arg_125133) {
TY55526* Result_129919;
Result_129919 = 0;
Result_129919 = Indextypesmatch_128874(C_125131, Formal_125132, (*Arg_125133).Typ, Arg_125133);
if (!(Result_129919 == NIM_NIL)) goto LA2;
Typemismatch_129905(Arg_125133, Formal_125132, (*Arg_125133).Typ);
LA2: ;
return Result_129919;
}
N_NIMCALL(TY55552*, Semproctypenode_132448)(TY107012* C_132450, TY55526* N_132451, TY55526* Genericparams_132452, TY55552* Prev_132453) {
TY55552* Result_132454;
TY55526* Def_132455;
TY55526* Res_132456;
TY55552* Typ_132457;
TY55901 Check_132458;
TY55901 Cl_132459;
TY107002* LOC1;
NIM_BOOL LOC3;
NI LOC5;
NI Counter_132475;
NI I_132484;
NI HEX3Atmp_145885;
NI LOC8;
NI Res_145887;
TY55526* A_132497;
NI Length_132507;
NU8 LOC23;
NI J_132621;
NI HEX3Atmp_145882;
NI Res_145884;
TY55548* Arg_132634;
NIM_BOOL LOC28;
TY55526* LOC31;
Result_132454 = 0;
Def_132455 = 0;
Res_132456 = 0;
Typ_132457 = 0;
memset((void*)&Check_132458, 0, sizeof(Check_132458));
memset((void*)&Cl_132459, 0, sizeof(Cl_132459));
Checkminsonslen_107103(N_132451, 1);
Result_132454 = Neworprevtype_129931(((NU8) 25), Prev_132453, C_132450);
LOC1 = 0;
LOC1 = Lastoptionentry_107053(C_132450);
(*Result_132454).Callconv = (*LOC1).Defaultcc;
asgnRefNoCycle((void**) &(*Result_132454).N, Newnodei_55738(((NU8) 66), (*N_132451).Info));
LOC3 = !((Genericparams_132452 == NIM_NIL));
if (!(LOC3)) goto LA4;
LOC5 = Sonslen_55804(Genericparams_132452);
LOC3 = (LOC5 == 0);
LA4: ;
if (!LOC3) goto LA6;
Intsetinit_55925(&Cl_132459);
LA6: ;
Addson_55828(Result_132454, NIM_NIL);
Res_132456 = Newnodei_55738(((NU8) 4), (*N_132451).Info);
Addson_55824((*Result_132454).N, Res_132456);
Intsetinit_55925(&Check_132458);
Counter_132475 = 0;
Counter_132475 = 0;
I_132484 = 0;
HEX3Atmp_145885 = 0;
LOC8 = Sonslen_55804(N_132451);
HEX3Atmp_145885 = (NI32)(LOC8 - 1);
Res_145887 = 0;
Res_145887 = 1;
while (1) {
if (!(Res_145887 <= HEX3Atmp_145885)) goto LA9;
I_132484 = Res_145887;
A_132497 = 0;
A_132497 = (*N_132451).KindU.S6.Sons->data[I_132484];
if (!!(((*A_132497).Kind == ((NU8) 25)))) goto LA11;
Illformedast_107092(A_132497);
LA11: ;
Checkminsonslen_107103(A_132497, 3);
Length_132507 = 0;
Length_132507 = Sonslen_55804(A_132497);
if (!!(((*A_132497).KindU.S6.Sons->data[(NI32)(Length_132507 - 2)] == NIM_NIL))) goto LA14;
Typ_132457 = Paramtype_132427(C_132450, (*A_132497).KindU.S6.Sons->data[(NI32)(Length_132507 - 2)], Genericparams_132452, &Cl_132459);
goto LA13;
LA14: ;
Typ_132457 = NIM_NIL;
LA13: ;
if (!!(((*A_132497).KindU.S6.Sons->data[(NI32)(Length_132507 - 1)] == NIM_NIL))) goto LA17;
Def_132455 = Semexprwithtype_125122(C_132450, (*A_132497).KindU.S6.Sons->data[(NI32)(Length_132507 - 1)], 0);
if (!!((Typ_132457 == NIM_NIL))) goto LA20;
LOC23 = Cmptypes_128420(Typ_132457, (*Def_132455).Typ);
if (!(LOC23 < ((NU8) 1))) goto LA24;
Typemismatch_129905((*A_132497).KindU.S6.Sons->data[(NI32)(Length_132507 - 1)], Typ_132457, (*Def_132455).Typ);
LA24: ;
Def_132455 = Fitnode_125129(C_132450, Typ_132457, Def_132455);
goto LA19;
LA20: ;
Typ_132457 = (*Def_132455).Typ;
LA19: ;
goto LA16;
LA17: ;
Def_132455 = NIM_NIL;
LA16: ;
J_132621 = 0;
HEX3Atmp_145882 = 0;
HEX3Atmp_145882 = (NI32)(Length_132507 - 3);
Res_145884 = 0;
Res_145884 = 0;
while (1) {
if (!(Res_145884 <= HEX3Atmp_145882)) goto LA26;
J_132621 = Res_145884;
Arg_132634 = 0;
Arg_132634 = Newsyms_125059(((NU8) 3), (*A_132497).KindU.S6.Sons->data[J_132621], C_132450);
asgnRef((void**) &(*Arg_132634).Typ, Typ_132457);
(*Arg_132634).Position = Counter_132475;
Counter_132475 += 1;
asgnRefNoCycle((void**) &(*Arg_132634).Ast, Copytree_55859(Def_132455));
LOC28 = Intsetcontainsorincl_55929(&Check_132458, (*(*Arg_132634).Name).Sup.Id);
if (!LOC28) goto LA29;
Limessage_47569((*(*A_132497).KindU.S6.Sons->data[J_132621]).Info, ((NU8) 37), (*(*Arg_132634).Name).S);
LA29: ;
LOC31 = 0;
LOC31 = Newsymnode_55735(Arg_132634);
Addson_55824((*Result_132454).N, LOC31);
Addson_55828(Result_132454, Typ_132457);
Res_145884 += 1;
} LA26: ;
Res_145887 += 1;
} LA9: ;
if (!!(((*N_132451).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA33;
asgnRef((void**) &(*Result_132454).Sons->data[0], Paramtype_132427(C_132450, (*N_132451).KindU.S6.Sons->data[0], Genericparams_132452, &Cl_132459));
asgnRef((void**) &(*Res_132456).Typ, (*Result_132454).Sons->data[0]);
LA33: ;
return Result_132454;
}
N_NIMCALL(void, Semparamlist_125147)(TY107012* C_125149, TY55526* N_125150, TY55526* Genericparams_125151, TY55548* S_125152) {
asgnRef((void**) &(*S_125152).Typ, Semproctypenode_132448(C_125149, N_125150, Genericparams_125151, NIM_NIL));
}
N_NIMCALL(void, Addparams_125153)(TY107012* C_125155, TY55526* N_125156) {
NI I_144269;
NI HEX3Atmp_146086;
NI LOC1;
NI Res_146088;
I_144269 = 0;
HEX3Atmp_146086 = 0;
LOC1 = Sonslen_55804(N_125156);
HEX3Atmp_146086 = (NI32)(LOC1 - 1);
Res_146088 = 0;
Res_146088 = 1;
while (1) {
if (!(Res_146088 <= HEX3Atmp_146086)) goto LA2;
I_144269 = Res_146088;
if (!!(((*(*N_125156).KindU.S6.Sons->data[I_144269]).Kind == ((NU8) 3)))) goto LA4;
Internalerror_47574((*N_125156).Info, ((NimStringDesc*) &TMP196118));
LA4: ;
Adddecl_108114(C_125155, (*(*N_125156).KindU.S6.Sons->data[I_144269]).KindU.S4.Sym);
Res_146088 += 1;
} LA2: ;
}
N_NIMCALL(TY55548*, Genericcacheget_126317)(TY107012* C_126319, TY55548* Genericsym_126320, TY55548* Instsym_126321) {
TY55548* Result_126322;
NI I_126331;
NI HEX3Atmp_129833;
NI LOC1;
NI Res_129835;
TY55548* A_126389;
TY55548* B_126428;
NU8 LOC10;
Result_126322 = 0;
Result_126322 = NIM_NIL;
I_126331 = 0;
HEX3Atmp_129833 = 0;
LOC1 = Sonslen_55804((*C_126319).Generics);
HEX3Atmp_129833 = (NI32)(LOC1 - 1);
Res_129835 = 0;
Res_129835 = 0;
while (1) {
if (!(Res_129835 <= HEX3Atmp_129833)) goto LA2;
I_126331 = Res_129835;
if (!!(((*(*(*C_126319).Generics).KindU.S6.Sons->data[I_126331]).Kind == ((NU8) 23)))) goto LA4;
Internalerror_47574((*Genericsym_126320).Info, ((NimStringDesc*) &TMP196119));
LA4: ;
A_126389 = 0;
A_126389 = (*(*(*(*C_126319).Generics).KindU.S6.Sons->data[I_126331]).KindU.S6.Sons->data[0]).KindU.S4.Sym;
if (!((*Genericsym_126320).Sup.Id == (*A_126389).Sup.Id)) goto LA7;
B_126428 = 0;
B_126428 = (*(*(*(*C_126319).Generics).KindU.S6.Sons->data[I_126331]).KindU.S6.Sons->data[1]).KindU.S4.Sym;
LOC10 = Equalparams_97065((*(*B_126428).Typ).N, (*(*Instsym_126321).Typ).N);
if (!(LOC10 == ((NU8) 1))) goto LA11;
Result_126322 = B_126428;
goto BeforeRet;
LA11: ;
LA7: ;
Res_129835 += 1;
} LA2: ;
BeforeRet: ;
return Result_126322;
}
N_NIMCALL(void, Genericcacheadd_126438)(TY107012* C_126440, TY55548* Genericsym_126441, TY55548* Instsym_126442) {
TY55526* N_126443;
TY55526* LOC1;
TY55526* LOC2;
N_126443 = 0;
N_126443 = Newnode_55711(((NU8) 23));
LOC1 = 0;
LOC1 = Newsymnode_55735(Genericsym_126441);
Addson_55824(N_126443, LOC1);
LOC2 = 0;
LOC2 = Newsymnode_55735(Instsym_126442);
Addson_55824(N_126443, LOC2);
Addson_55824((*C_126440).Generics, N_126443);
}
N_NIMCALL(void, Addresult_125157)(TY107012* C_125159, TY55552* T_125160, TY47539 Info_125161) {
TY55548* S_144385;
TY54011* LOC4;
TY55548* LOC5;
if (!!((T_125160 == NIM_NIL))) goto LA2;
S_144385 = 0;
LOC4 = 0;
LOC4 = Getident_54016(((NimStringDesc*) &TMP196121));
LOC5 = 0;
LOC5 = Getcurrowner_107107();
S_144385 = Newsym_55702(((NU8) 9), LOC4, LOC5);
(*S_144385).Info = Info_125161;
asgnRef((void**) &(*S_144385).Typ, T_125160);
(*S_144385).Flags |=(1<<((NI32)(((NU8) 12))%(sizeof(NI32)*8)));
(*S_144385).Flags |=(1<<((NI32)(((NU8) 0))%(sizeof(NI32)*8)));
Adddecl_108114(C_125159, S_144385);
asgnRef((void**) &(*(*C_125159).P).Resultsym, S_144385);
LA2: ;
}
N_NIMCALL(void, Addresultnode_125162)(TY107012* C_125164, TY55526* N_125165) {
TY55526* LOC4;
if (!!(((*(*C_125164).P).Resultsym == NIM_NIL))) goto LA2;
LOC4 = 0;
LOC4 = Newsymnode_55735((*(*C_125164).P).Resultsym);
Addson_55824(N_125165, LOC4);
LA2: ;
}
N_NIMCALL(TY55526*, Semstmtscope_125104)(TY107012* C_125106, TY55526* N_125107) {
TY55526* Result_145831;
Result_145831 = 0;
Openscope_60146(&(*C_125106).Tab);
Result_145831 = Semstmt_125143(C_125106, N_125107);
Closescope_108018(&(*C_125106).Tab);
return Result_145831;
}
N_NIMCALL(TY55548*, Generateinstance_126146)(TY107012* C_126148, TY55548* Fn_126149, TY55564 Pt_126150, TY47539 Info_126151) {
TY55548* Result_126450;
TY55548* Oldprc_126451;
TY55548* Oldmod_126452;
TY107006* Oldp_126453;
TY55526* N_126454;
TY55548* LOC4;
Result_126450 = 0;
Oldprc_126451 = 0;
Oldmod_126452 = 0;
Oldp_126453 = 0;
N_126454 = 0;
if (!(1000 < (*C_126148).Instcounter)) goto LA2;
Internalerror_47574((*(*Fn_126149).Ast).Info, ((NimStringDesc*) &TMP196082));
LA2: ;
(*C_126148).Instcounter += 1;
Oldp_126453 = (*C_126148).P;
Oldmod_126452 = (*C_126148).Module;
asgnRef((void**) &(*C_126148).Module, Getmodule_60203(Fn_126149));
Result_126450 = Copysym_55776(Fn_126149, NIM_FALSE);
(*Result_126450).Flags |=(1<<((NI32)(((NU8) 4))%(sizeof(NI32)*8)));
LOC4 = 0;
LOC4 = Getcurrowner_107107();
asgnRef((void**) &(*Result_126450).Owner, (*LOC4).Owner);
N_126454 = Copytree_55859((*Fn_126149).Ast);
asgnRefNoCycle((void**) &(*Result_126450).Ast, N_126454);
Pushowner_107109(Result_126450);
Openscope_60146(&(*C_126148).Tab);
if (!((*N_126454).KindU.S6.Sons->data[1] == NIM_NIL)) goto LA6;
Internalerror_47574((*N_126454).Info, ((NimStringDesc*) &TMP196083));
LA6: ;
asgnRefNoCycle((void**) &(*N_126454).KindU.S6.Sons->data[0], Newsymnode_55735(Result_126450));
Pushinfocontext_47613(Info_126151);
Instantiategenericparamlist_126225(C_126148, (*N_126454).KindU.S6.Sons->data[1], Pt_126150);
asgnRefNoCycle((void**) &(*N_126454).KindU.S6.Sons->data[1], NIM_NIL);
if (!!(((*N_126454).KindU.S6.Sons->data[2] == NIM_NIL))) goto LA9;
Semparamlist_125147(C_126148, (*N_126454).KindU.S6.Sons->data[2], NIM_NIL, Result_126450);
Addparams_125153(C_126148, (*(*Result_126450).Typ).N);
goto LA8;
LA9: ;
asgnRef((void**) &(*Result_126450).Typ, Newtypes_107077(((NU8) 25), C_126148));
Addson_55828((*Result_126450).Typ, NIM_NIL);
LA8: ;
(*(*Result_126450).Typ).Callconv = (*(*Fn_126149).Typ).Callconv;
Oldprc_126451 = Genericcacheget_126317(C_126148, Fn_126149, Result_126450);
if (!(Oldprc_126451 == NIM_NIL)) goto LA12;
Genericcacheadd_126438(C_126148, Fn_126149, Result_126450);
Adddecl_108114(C_126148, Result_126450);
if (!!(((*N_126454).KindU.S6.Sons->data[4] == NIM_NIL))) goto LA15;
asgnRefNoCycle((void**) &(*C_126148).P, Newproccon_107050(Result_126450));
if (!((2883584 &(1<<(((*Result_126450).Kind)&31)))!=0)) goto LA18;
Addresult_125157(C_126148, (*(*Result_126450).Typ).Sons->data[0], (*N_126454).Info);
Addresultnode_125162(C_126148, N_126454);
LA18: ;
asgnRefNoCycle((void**) &(*N_126454).KindU.S6.Sons->data[4], Semstmtscope_125104(C_126148, (*N_126454).KindU.S6.Sons->data[4]));
LA15: ;
goto LA11;
LA12: ;
Result_126450 = Oldprc_126451;
LA11: ;
Popinfocontext_47616();
Closescope_108018(&(*C_126148).Tab);
Popowner_107112();
asgnRefNoCycle((void**) &(*C_126148).P, Oldp_126453);
asgnRef((void**) &(*C_126148).Module, Oldmod_126452);
(*C_126148).Instcounter -= 1;
return Result_126450;
}
N_NIMCALL(TY55526*, Semdirectcallwithbinding_129563)(TY107012* C_129565, TY55526* N_129566, TY55526* F_129567, NU32 Filter_129568, TY55526* Initialbinding_129569) {
TY55526* Result_129570;
TY108004 O_129571;
TY127022 X_129572;
TY127022 Y_129573;
TY127022 Z_129574;
TY55548* Sym_129576;
NI Cmp_129623;
NIM_BOOL LOC19;
NIM_BOOL LOC20;
NI LOC22;
NIM_BOOL LOC24;
NimStringDesc* LOC30;
TY73026 LOC31;
NimStringDesc* LOC32;
Result_129570 = 0;
memset((void*)&O_129571, 0, sizeof(O_129571));
memset((void*)&X_129572, 0, sizeof(X_129572));
memset((void*)&Y_129573, 0, sizeof(Y_129573));
memset((void*)&Z_129574, 0, sizeof(Z_129574));
Sym_129576 = 0;
Sym_129576 = Initoverloaditer_108734(&O_129571, C_129565, F_129567);
Result_129570 = NIM_NIL;
if (!(Sym_129576 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
Initcandidate_127056(&X_129572, Sym_129576, Initialbinding_129569);
Initcandidate_127056(&Y_129573, Sym_129576, Initialbinding_129569);
while (1) {
if (!!((Sym_129576 == NIM_NIL))) goto LA4;
if (!((Filter_129568 &(1<<(((*Sym_129576).Kind)&31)))!=0)) goto LA6;
Initcandidate_127056(&Z_129574, Sym_129576, Initialbinding_129569);
Z_129574.Calleesym = Sym_129576;
Matches_128927(C_129565, N_129566, &Z_129574);
if (!(Z_129574.State == ((NU8) 1))) goto LA9;
switch (X_129572.State) {
case ((NU8) 0):
case ((NU8) 2):
genericAssign((void*)&X_129572, (void*)&Z_129574, NTI127022);
break;
case ((NU8) 1):
Cmp_129623 = 0;
Cmp_129623 = Cmpcandidates_127106(&X_129572, &Z_129574);
if (!(Cmp_129623 < 0)) goto LA12;
genericAssign((void*)&X_129572, (void*)&Z_129574, NTI127022);
goto LA11;
LA12: ;
if (!(Cmp_129623 == 0)) goto LA14;
genericAssign((void*)&Y_129573, (void*)&Z_129574, NTI127022);
goto LA11;
LA14: ;
LA11: ;
break;
}
LA9: ;
LA6: ;
Sym_129576 = Nextoverloaditer_109063(&O_129571, C_129565, F_129567);
} LA4: ;
if (!(X_129572.State == ((NU8) 0))) goto LA17;
goto LA16;
LA17: ;
LOC20 = (Y_129573.State == ((NU8) 1));
if (!(LOC20)) goto LA21;
LOC22 = Cmpcandidates_127106(&X_129572, &Y_129573);
LOC20 = (LOC22 == 0);
LA21: ;
LOC19 = LOC20;
if (!(LOC19)) goto LA23;
LOC24 = Samemethoddispatcher_129487(X_129572.Calleesym, Y_129573.Calleesym);
LOC19 = !(LOC24);
LA23: ;
if (!LOC19) goto LA25;
if (!!((X_129572.State == ((NU8) 1)))) goto LA28;
Internalerror_47574((*N_129566).Info, ((NimStringDesc*) &TMP196078));
LA28: ;
LOC30 = 0;
LOC30 = Msgkindtostring_47595(((NU8) 129));
memset((void*)&LOC31, 0, sizeof(LOC31));
LOC31[0] = Getprocheader_97018(X_129572.Calleesym);
LOC31[1] = Getprocheader_97018(Y_129573.Calleesym);
LOC31[2] = copyString((*(*X_129572.Calleesym).Name).S);
LOC32 = 0;
LOC32 = nsuFormatOpenArray(LOC30, LOC31, 3);
Limessage_47569((*N_129566).Info, ((NU8) 4), LOC32);
goto LA16;
LA25: ;
Markused_125065(N_129566, X_129572.Calleesym);
if (!((*X_129572.Calleesym).Ast == NIM_NIL)) goto LA34;
Internalerror_47574((*N_129566).Info, ((NimStringDesc*) &TMP196081));
LA34: ;
if (!!(((*(*X_129572.Calleesym).Ast).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA37;
X_129572.Calleesym = Generateinstance_126146(C_129565, X_129572.Calleesym, X_129572.Bindings, (*N_129566).Info);
X_129572.Callee = (*X_129572.Calleesym).Typ;
LA37: ;
Result_129570 = X_129572.Call;
asgnRefNoCycle((void**) &(*Result_129570).KindU.S6.Sons->data[0], Newsymnode_55735(X_129572.Calleesym));
asgnRef((void**) &(*Result_129570).Typ, (*X_129572.Callee).Sons->data[0]);
LA16: ;
BeforeRet: ;
return Result_129570;
}
N_NIMCALL(TY55526*, Semdirectcall_129710)(TY107012* C_129712, TY55526* N_129713, NU32 Filter_129714) {
TY55526* Result_129715;
TY55526* Initialbinding_129716;
TY55526* F_129729;
Result_129715 = 0;
Initialbinding_129716 = 0;
F_129729 = 0;
F_129729 = (*N_129713).KindU.S6.Sons->data[0];
if (!((*F_129729).Kind == ((NU8) 33))) goto LA2;
Initialbinding_129716 = F_129729;
F_129729 = (*F_129729).KindU.S6.Sons->data[0];
goto LA1;
LA2: ;
Initialbinding_129716 = NIM_NIL;
LA1: ;
Result_129715 = Semdirectcallwithbinding_129563(C_129712, N_129713, F_129729, Filter_129714, Initialbinding_129716);
return Result_129715;
}
N_NIMCALL(TY55526*, Semdirectcallanalyseeffects_135219)(TY107012* C_135221, TY55526* N_135222, NU8 Flags_135223) {
TY55526* Result_135224;
TY55548* Callee_135294;
NIM_BOOL LOC11;
NIM_BOOL LOC19;
Result_135224 = 0;
if (!!(((Flags_135223 &(1<<((((NU8) 2))&7)))!=0))) goto LA2;
Result_135224 = Semdirectcall_129710(C_135221, N_135222, 2883584);
goto LA1;
LA2: ;
Result_135224 = Semdirectcall_129710(C_135221, N_135222, 1048576);
LA1: ;
if (!!((Result_135224 == NIM_NIL))) goto LA5;
if (!!(((*(*Result_135224).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA8;
Internalerror_47578(((NimStringDesc*) &TMP196123));
LA8: ;
Callee_135294 = 0;
Callee_135294 = (*(*Result_135224).KindU.S6.Sons->data[0]).KindU.S4.Sym;
LOC11 = ((*Callee_135294).Kind == ((NU8) 12));
if (!(LOC11)) goto LA12;
LOC11 = ((*Callee_135294).Sup.Id == (*(*(*C_135221).P).Owner).Sup.Id);
LA12: ;
if (!LOC11) goto LA13;
Limessage_47569((*N_135222).Info, ((NU8) 23), (*(*Callee_135294).Name).S);
LA13: ;
if (!!((((*Callee_135294).Flags &(1<<((((NU8) 13))&31)))!=0))) goto LA16;
LOC19 = (((*Callee_135294).Flags &(1<<((((NU8) 6))&31)))!=0);
if (LOC19) goto LA20;
LOC19 = !(((IL64(2151677952) & (*Callee_135294).Flags) == 0));
LA20: ;
if (!LOC19) goto LA21;
(*(*(*C_135221).P).Owner).Flags |=(1<<((NI32)(((NU8) 14))%(sizeof(NI32)*8)));
LA21: ;
LA16: ;
LA5: ;
return Result_135224;
}
N_NIMCALL(TY55526*, Semarrayconstr_134183)(TY107012* C_134185, TY55526* N_134186) {
TY55526* Result_134187;
NI LOC2;
TY55552* LOC5;
TY55526* X_134202;
NI64 Lastindex_134203;
TY55552* Indextype_134204;
TY55526* Idx_134226;
TY55526* LOC9;
TY55552* Typ_134252;
NI I_134261;
NI HEX3Atmp_145909;
NI LOC10;
NI Res_145911;
TY55526* Idx_134295;
NI64 LOC16;
TY55526* LOC19;
NI LOC20;
Result_134187 = 0;
Result_134187 = Newnodei_55738(((NU8) 32), (*N_134186).Info);
asgnRef((void**) &(*Result_134187).Typ, Newtypes_107077(((NU8) 4), C_134185));
Addson_55828((*Result_134187).Typ, NIM_NIL);
LOC2 = Sonslen_55804(N_134186);
if (!(LOC2 == 0)) goto LA3;
LOC5 = 0;
LOC5 = Newtypes_107077(((NU8) 3), C_134185);
Addson_55828((*Result_134187).Typ, LOC5);
goto LA1;
LA3: ;
X_134202 = 0;
X_134202 = (*N_134186).KindU.S6.Sons->data[0];
Lastindex_134203 = 0;
Lastindex_134203 = 0;
Indextype_134204 = 0;
Indextype_134204 = Getsystype_102008(((NU8) 31));
if (!((*X_134202).Kind == ((NU8) 24))) goto LA7;
Idx_134226 = 0;
Idx_134226 = Semconstexpr_125171(C_134185, (*X_134202).KindU.S6.Sons->data[0]);
Lastindex_134203 = Getordvalue_97109(Idx_134226);
Indextype_134204 = (*Idx_134226).Typ;
X_134202 = (*X_134202).KindU.S6.Sons->data[1];
LA7: ;
LOC9 = 0;
LOC9 = Semexprwithtype_125122(C_134185, X_134202, 0);
Addson_55824(Result_134187, LOC9);
Typ_134252 = 0;
Typ_134252 = Skiptypes_97087((*(*Result_134187).KindU.S6.Sons->data[0]).Typ, IL64(38421334321004544));
I_134261 = 0;
HEX3Atmp_145909 = 0;
LOC10 = Sonslen_55804(N_134186);
HEX3Atmp_145909 = (NI32)(LOC10 - 1);
Res_145911 = 0;
Res_145911 = 1;
while (1) {
if (!(Res_145911 <= HEX3Atmp_145909)) goto LA11;
I_134261 = Res_145911;
X_134202 = (*N_134186).KindU.S6.Sons->data[I_134261];
if (!((*X_134202).Kind == ((NU8) 24))) goto LA13;
Idx_134295 = 0;
Idx_134295 = Semconstexpr_125171(C_134185, (*X_134202).KindU.S6.Sons->data[0]);
Idx_134295 = Fitnode_125129(C_134185, Indextype_134204, Idx_134295);
LOC16 = Getordvalue_97109(Idx_134295);
if (!!(((NI64)(Lastindex_134203 + 1) == LOC16))) goto LA17;
Limessage_47569((*X_134202).Info, ((NU8) 141), ((NimStringDesc*) &TMP195927));
LA17: ;
X_134202 = (*X_134202).KindU.S6.Sons->data[1];
LA13: ;
asgnRefNoCycle((void**) &(*N_134186).KindU.S6.Sons->data[I_134261], Semexprwithtype_125122(C_134185, X_134202, 0));
LOC19 = 0;
LOC19 = Fitnode_125129(C_134185, Typ_134252, (*N_134186).KindU.S6.Sons->data[I_134261]);
Addson_55824(Result_134187, LOC19);
Lastindex_134203 += 1;
Res_145911 += 1;
} LA11: ;
Addson_55828((*Result_134187).Typ, Typ_134252);
LA1: ;
LOC20 = Sonslen_55804(Result_134187);
asgnRef((void**) &(*(*Result_134187).Typ).Sons->data[0], Makerangetype_107086(C_134185, 0, ((NI64) ((NI32)(LOC20 - 1))), (*N_134186).Info));
return Result_134187;
}
N_NIMCALL(void, Changetype_133964)(TY55526* N_133966, TY55552* Newtype_133967) {
TY55548* F_133968;
TY55526* A_133969;
TY55526* M_133970;
NI I_133979;
NI HEX3Atmp_145900;
NI LOC1;
NI Res_145902;
TY55552* LOC3;
NIM_BOOL LOC11;
NI LOC12;
NI I_134045;
NI HEX3Atmp_145903;
NI LOC16;
NI Res_145905;
NI I_134134;
NI HEX3Atmp_145906;
NI LOC24;
NI Res_145908;
TY55526* LOC26;
F_133968 = 0;
A_133969 = 0;
M_133970 = 0;
switch ((*N_133966).Kind) {
case ((NU8) 31):
case ((NU8) 32):
I_133979 = 0;
HEX3Atmp_145900 = 0;
LOC1 = Sonslen_55804(N_133966);
HEX3Atmp_145900 = (NI32)(LOC1 - 1);
Res_145902 = 0;
Res_145902 = 0;
while (1) {
if (!(Res_145902 <= HEX3Atmp_145900)) goto LA2;
I_133979 = Res_145902;
LOC3 = 0;
LOC3 = Elemtype_97091(Newtype_133967);
Changetype_133964((*N_133966).KindU.S6.Sons->data[I_133979], LOC3);
Res_145902 += 1;
} LA2: ;
break;
case ((NU8) 30):
if (!!(((*Newtype_133967).Kind == ((NU8) 18)))) goto LA5;
Internalerror_47574((*N_133966).Info, ((NimStringDesc*) &TMP196124));
LA5: ;
if (!((*Newtype_133967).N == NIM_NIL)) goto LA8;
Internalerror_47574((*N_133966).Info, ((NimStringDesc*) &TMP196125));
LA8: ;
LOC12 = Sonslen_55804(N_133966);
LOC11 = (0 < LOC12);
if (!(LOC11)) goto LA13;
LOC11 = ((*(*N_133966).KindU.S6.Sons->data[0]).Kind == ((NU8) 24));
LA13: ;
if (!LOC11) goto LA14;
I_134045 = 0;
HEX3Atmp_145903 = 0;
LOC16 = Sonslen_55804(N_133966);
HEX3Atmp_145903 = (NI32)(LOC16 - 1);
Res_145905 = 0;
Res_145905 = 0;
while (1) {
if (!(Res_145905 <= HEX3Atmp_145903)) goto LA17;
I_134045 = Res_145905;
M_133970 = (*(*N_133966).KindU.S6.Sons->data[I_134045]).KindU.S6.Sons->data[0];
if (!!(((*M_133970).Kind == ((NU8) 3)))) goto LA19;
Internalerror_47574((*M_133970).Info, ((NimStringDesc*) &TMP196126));
LA19: ;
F_133968 = Getsymfromlist_60194((*Newtype_133967).N, (*(*M_133970).KindU.S4.Sym).Name, 0);
if (!(F_133968 == NIM_NIL)) goto LA22;
Internalerror_47574((*M_133970).Info, ((NimStringDesc*) &TMP196127));
LA22: ;
Changetype_133964((*(*N_133966).KindU.S6.Sons->data[I_134045]).KindU.S6.Sons->data[1], (*F_133968).Typ);
Res_145905 += 1;
} LA17: ;
goto LA10;
LA14: ;
I_134134 = 0;
HEX3Atmp_145906 = 0;
LOC24 = Sonslen_55804(N_133966);
HEX3Atmp_145906 = (NI32)(LOC24 - 1);
Res_145908 = 0;
Res_145908 = 0;
while (1) {
if (!(Res_145908 <= HEX3Atmp_145906)) goto LA25;
I_134134 = Res_145908;
M_133970 = (*N_133966).KindU.S6.Sons->data[I_134134];
A_133969 = Newnodeit_55742(((NU8) 24), (*M_133970).Info, (*Newtype_133967).Sons->data[I_134134]);
LOC26 = 0;
LOC26 = Newsymnode_55735((*(*(*Newtype_133967).N).KindU.S6.Sons->data[I_134134]).KindU.S4.Sym);
Addson_55824(A_133969, LOC26);
Addson_55824(A_133969, M_133970);
Changetype_133964(M_133970, (*Newtype_133967).Sons->data[I_134134]);
asgnRefNoCycle((void**) &(*N_133966).KindU.S6.Sons->data[I_134134], A_133969);
Res_145908 += 1;
} LA25: ;
LA10: ;
break;
default:
break;
}
asgnRef((void**) &(*N_133966).Typ, Newtype_133967);
}
N_NIMCALL(void, Fixabstracttype_134346)(TY107012* C_134348, TY55526* N_134349) {
NI I_134358;
NI HEX3Atmp_145912;
NI LOC1;
NI Res_145914;
TY55526* It_134371;
TY55552* LOC7;
TY55552* S_134438;
NIM_BOOL LOC11;
TY55548* LOC15;
TY55552* LOC16;
TY55552* LOC17;
TY55552* LOC18;
TY55552* S_134493;
NimStringDesc* LOC24;
NimStringDesc* LOC25;
I_134358 = 0;
HEX3Atmp_145912 = 0;
LOC1 = Sonslen_55804(N_134349);
HEX3Atmp_145912 = (NI32)(LOC1 - 1);
Res_145914 = 0;
Res_145914 = 1;
while (1) {
if (!(Res_145914 <= HEX3Atmp_145912)) goto LA2;
I_134358 = Res_145914;
It_134371 = 0;
It_134371 = (*N_134349).KindU.S6.Sons->data[I_134358];
switch ((*It_134371).Kind) {
case ((NU8) 47):
case ((NU8) 48):
if (!((*(*It_134371).KindU.S6.Sons->data[1]).Kind == ((NU8) 32))) goto LA4;
asgnRefNoCycle((void**) &(*It_134371).KindU.S6.Sons->data[1], Semarrayconstr_134183(C_134348, (*It_134371).KindU.S6.Sons->data[1]));
LA4: ;
LOC7 = 0;
LOC7 = Skiptypes_97087((*It_134371).Typ, IL64(47428533575745536));
if (!((*LOC7).Kind == ((NU8) 27))) goto LA8;
S_134438 = 0;
S_134438 = Skiptypes_97087((*(*It_134371).KindU.S6.Sons->data[1]).Typ, IL64(47428533575745536));
LOC11 = ((*S_134438).Kind == ((NU8) 4));
if (!(LOC11)) goto LA12;
LOC11 = ((*(*S_134438).Sons->data[1]).Kind == ((NU8) 3));
LA12: ;
if (!LOC11) goto LA13;
LOC15 = 0;
LOC15 = Getcurrowner_107107();
S_134438 = Copytype_55771(S_134438, LOC15, NIM_FALSE);
LOC16 = 0;
LOC16 = Skiptypes_97087(S_134438, IL64(47428533575745536));
LOC17 = 0;
LOC17 = Skiptypes_97087((*It_134371).Typ, IL64(47428533575745536));
asgnRef((void**) &(*LOC16).Sons->data[1], Elemtype_97091(LOC17));
asgnRef((void**) &(*(*It_134371).KindU.S6.Sons->data[1]).Typ, S_134438);
LA13: ;
goto LA6;
LA8: ;
LOC18 = 0;
LOC18 = Skiptypes_97087((*(*It_134371).KindU.S6.Sons->data[1]).Typ, IL64(47428533575745536));
if (!((*LOC18).Kind == ((NU8) 5) || (*LOC18).Kind == ((NU8) 4) || (*LOC18).Kind == ((NU8) 18) || (*LOC18).Kind == ((NU8) 19))) goto LA19;
S_134493 = 0;
S_134493 = Skiptypes_97087((*It_134371).Typ, IL64(47428533575745536));
Changetype_133964((*It_134371).KindU.S6.Sons->data[1], S_134493);
asgnRefNoCycle((void**) &(*N_134349).KindU.S6.Sons->data[I_134358], (*It_134371).KindU.S6.Sons->data[1]);
goto LA6;
LA19: ;
LA6: ;
break;
case ((NU8) 32):
asgnRefNoCycle((void**) &(*N_134349).KindU.S6.Sons->data[I_134358], Semarrayconstr_134183(C_134348, It_134371));
break;
default:
if (!((*It_134371).Typ == NIM_NIL)) goto LA22;
LOC24 = 0;
LOC25 = 0;
LOC25 = Rendertree_85042(It_134371, 0);
LOC24 = rawNewString(LOC25->Sup.len + 17);
appendString(LOC24, ((NimStringDesc*) &TMP196128));
appendString(LOC24, LOC25);
Internalerror_47574((*It_134371).Info, LOC24);
LA22: ;
break;
}
Res_145914 += 1;
} LA2: ;
}
N_NIMCALL(NU8, Isassignable_134610)(TY55526* N_134612) {
NU8 Result_134613;
TY55552* LOC5;
NIM_BOOL LOC9;
TY55552* LOC14;
TY55552* LOC18;
Result_134613 = 0;
Result_134613 = ((NU8) 0);
switch ((*N_134612).Kind) {
case ((NU8) 3):
if (!((537001984 &(1<<(((*(*N_134612).KindU.S4.Sym).Kind)&31)))!=0)) goto LA2;
Result_134613 = ((NU8) 1);
LA2: ;
break;
case ((NU8) 36):
Checkminsonslen_107103(N_134612, 1);
LOC5 = 0;
LOC5 = Skiptypes_97087((*(*N_134612).KindU.S6.Sons->data[0]).Typ, IL64(47287796087390208));
if (!((*LOC5).Kind == ((NU8) 23) || (*LOC5).Kind == ((NU8) 21) || (*LOC5).Kind == ((NU8) 22))) goto LA6;
Result_134613 = ((NU8) 1);
goto LA4;
LA6: ;
Result_134613 = Isassignable_134610((*N_134612).KindU.S6.Sons->data[0]);
LA4: ;
LOC9 = (Result_134613 == ((NU8) 1));
if (!(LOC9)) goto LA10;
LOC9 = (((*(*(*N_134612).KindU.S6.Sons->data[1]).KindU.S4.Sym).Flags &(1<<((((NU8) 21))&31)))!=0);
LA10: ;
if (!LOC9) goto LA11;
Result_134613 = ((NU8) 2);
LA11: ;
break;
case ((NU8) 33):
Checkminsonslen_107103(N_134612, 1);
LOC14 = 0;
LOC14 = Skiptypes_97087((*(*N_134612).KindU.S6.Sons->data[0]).Typ, IL64(47287796087390208));
if (!((*LOC14).Kind == ((NU8) 23) || (*LOC14).Kind == ((NU8) 21) || (*LOC14).Kind == ((NU8) 22))) goto LA15;
Result_134613 = ((NU8) 1);
goto LA13;
LA15: ;
Result_134613 = Isassignable_134610((*N_134612).KindU.S6.Sons->data[0]);
LA13: ;
break;
case ((NU8) 47):
case ((NU8) 48):
case ((NU8) 50):
LOC18 = 0;
LOC18 = Skiptypes_97087((*N_134612).Typ, IL64(47534086692012032));
if (!((*LOC18).Kind == ((NU8) 27) || (*LOC18).Kind == ((NU8) 18) || (*LOC18).Kind == ((NU8) 17))) goto LA19;
Result_134613 = Isassignable_134610((*N_134612).KindU.S6.Sons->data[1]);
LA19: ;
break;
case ((NU8) 54):
case ((NU8) 38):
Result_134613 = ((NU8) 1);
break;
case ((NU8) 56):
case ((NU8) 55):
case ((NU8) 37):
Result_134613 = Isassignable_134610((*N_134612).KindU.S6.Sons->data[0]);
break;
default:
break;
}
return Result_134613;
}
N_NIMCALL(TY55526*, Newhiddenaddrtaken_134790)(TY107012* C_134792, TY55526* N_134793) {
TY55526* Result_134794;
TY55552* LOC4;
NU8 LOC6;
Result_134794 = 0;
if (!((*N_134793).Kind == ((NU8) 54))) goto LA2;
Checksonslen_107099(N_134793, 1);
Result_134794 = (*N_134793).KindU.S6.Sons->data[0];
goto LA1;
LA2: ;
LOC4 = 0;
LOC4 = Makevartype_107073(C_134792, (*N_134793).Typ);
Result_134794 = Newnodeit_55742(((NU8) 53), (*N_134793).Info, LOC4);
Addson_55824(Result_134794, N_134793);
LOC6 = Isassignable_134610(N_134793);
if (!!((LOC6 == ((NU8) 1)))) goto LA7;
Limessage_47569((*N_134793).Info, ((NU8) 124), ((NimStringDesc*) &TMP195927));
LA7: ;
LA1: ;
return Result_134794;
}
N_NIMCALL(TY55526*, Analyseifaddresstaken_134825)(TY107012* C_134827, TY55526* N_134828) {
TY55526* Result_134829;
TY55552* LOC2;
TY55552* LOC9;
TY55552* LOC13;
Result_134829 = 0;
Result_134829 = N_134828;
switch ((*N_134828).Kind) {
case ((NU8) 3):
LOC2 = 0;
LOC2 = Skiptypes_97087((*(*N_134828).KindU.S4.Sym).Typ, IL64(47287796087390208));
if (!!(((*LOC2).Kind == ((NU8) 23)))) goto LA3;
(*(*N_134828).KindU.S4.Sym).Flags |=(1<<((NI32)(((NU8) 18))%(sizeof(NI32)*8)));
Result_134829 = Newhiddenaddrtaken_134790(C_134827, N_134828);
LA3: ;
break;
case ((NU8) 36):
Checksonslen_107099(N_134828, 2);
if (!!(((*(*N_134828).KindU.S6.Sons->data[1]).Kind == ((NU8) 3)))) goto LA6;
Internalerror_47574((*N_134828).Info, ((NimStringDesc*) &TMP196131));
LA6: ;
LOC9 = 0;
LOC9 = Skiptypes_97087((*(*(*N_134828).KindU.S6.Sons->data[1]).KindU.S4.Sym).Typ, IL64(47287796087390208));
if (!!(((*LOC9).Kind == ((NU8) 23)))) goto LA10;
(*(*(*N_134828).KindU.S6.Sons->data[1]).KindU.S4.Sym).Flags |=(1<<((NI32)(((NU8) 18))%(sizeof(NI32)*8)));
Result_134829 = Newhiddenaddrtaken_134790(C_134827, N_134828);
LA10: ;
break;
case ((NU8) 33):
Checkminsonslen_107103(N_134828, 1);
LOC13 = 0;
LOC13 = Skiptypes_97087((*(*N_134828).KindU.S6.Sons->data[0]).Typ, IL64(47287796087390208));
if (!!(((*LOC13).Kind == ((NU8) 23)))) goto LA14;
if (!((*(*N_134828).KindU.S6.Sons->data[0]).Kind == ((NU8) 3))) goto LA17;
(*(*(*N_134828).KindU.S6.Sons->data[0]).KindU.S4.Sym).Flags |=(1<<((NI32)(((NU8) 18))%(sizeof(NI32)*8)));
LA17: ;
Result_134829 = Newhiddenaddrtaken_134790(C_134827, N_134828);
LA14: ;
break;
default:
Result_134829 = Newhiddenaddrtaken_134790(C_134827, N_134828);
break;
}
return Result_134829;
}
N_NIMCALL(void, Analyseifaddresstakenincall_135043)(TY107012* C_135045, TY55526* N_135046) {
TY55552* T_135061;
NIM_BOOL LOC2;
NI I_135126;
NI HEX3Atmp_145915;
NI LOC6;
NI Res_145917;
NIM_BOOL LOC9;
NI LOC10;
TY55552* LOC12;
NU8 LOC16;
NI I_135181;
NI HEX3Atmp_145918;
NI LOC19;
NI Res_145920;
NIM_BOOL LOC22;
NI LOC23;
TY55552* LOC25;
Checkminsonslen_107103(N_135046, 1);
T_135061 = 0;
T_135061 = (*(*N_135046).KindU.S6.Sons->data[0]).Typ;
LOC2 = ((*(*N_135046).KindU.S6.Sons->data[0]).Kind == ((NU8) 3));
if (!(LOC2)) goto LA3;
LOC2 = ((TMP196129[(*(*(*N_135046).KindU.S6.Sons->data[0]).KindU.S4.Sym).Magic/8] &(1<<((*(*(*N_135046).KindU.S6.Sons->data[0]).KindU.S4.Sym).Magic%8)))!=0);
LA3: ;
if (!LOC2) goto LA4;
I_135126 = 0;
HEX3Atmp_145915 = 0;
LOC6 = Sonslen_55804(N_135046);
HEX3Atmp_145915 = (NI32)(LOC6 - 1);
Res_145917 = 0;
Res_145917 = 1;
while (1) {
if (!(Res_145917 <= HEX3Atmp_145915)) goto LA7;
I_135126 = Res_145917;
LOC10 = Sonslen_55807(T_135061);
LOC9 = (I_135126 < LOC10);
if (!(LOC9)) goto LA11;
LOC12 = 0;
LOC12 = Skiptypes_97087((*T_135061).Sons->data[I_135126], IL64(47287796087390208));
LOC9 = ((*LOC12).Kind == ((NU8) 23));
LA11: ;
if (!LOC9) goto LA13;
LOC16 = Isassignable_134610((*N_135046).KindU.S6.Sons->data[I_135126]);
if (!!((LOC16 == ((NU8) 1)))) goto LA17;
Limessage_47569((*(*N_135046).KindU.S6.Sons->data[I_135126]).Info, ((NU8) 124), ((NimStringDesc*) &TMP195927));
LA17: ;
LA13: ;
Res_145917 += 1;
} LA7: ;
goto BeforeRet;
LA4: ;
I_135181 = 0;
HEX3Atmp_145918 = 0;
LOC19 = Sonslen_55804(N_135046);
HEX3Atmp_145918 = (NI32)(LOC19 - 1);
Res_145920 = 0;
Res_145920 = 1;
while (1) {
if (!(Res_145920 <= HEX3Atmp_145918)) goto LA20;
I_135181 = Res_145920;
LOC23 = Sonslen_55807(T_135061);
LOC22 = (I_135181 < LOC23);
if (!(LOC22)) goto LA24;
LOC25 = 0;
LOC25 = Skiptypes_97087((*T_135061).Sons->data[I_135181], IL64(47287796087390208));
LOC22 = ((*LOC25).Kind == ((NU8) 23));
LA24: ;
if (!LOC22) goto LA26;
asgnRefNoCycle((void**) &(*N_135046).KindU.S6.Sons->data[I_135181], Analyseifaddresstaken_134825(C_135045, (*N_135046).KindU.S6.Sons->data[I_135181]));
LA26: ;
Res_145920 += 1;
} LA20: ;
BeforeRet: ;
}
N_NIMCALL(TY55526*, Propertywriteaccess_141685)(TY107012* C_141687, TY55526* N_141688, TY55526* A_141689) {
TY55526* Result_141690;
TY54011* Id_141691;
TY55526* LOC1;
NimStringDesc* LOC2;
TY54011* LOC3;
TY55526* LOC4;
TY55526* LOC5;
TY55526* LOC6;
TY55526* LOC7;
Result_141690 = 0;
Id_141691 = 0;
LOC1 = 0;
LOC1 = HEX5BHEX5D_57057(A_141689, 1);
Id_141691 = Consideracc_125003(LOC1);
Result_141690 = Newnodei_55738(((NU8) 21), (*N_141688).Info);
LOC2 = 0;
LOC2 = rawNewString((*Id_141691).S->Sup.len + 1);
appendString(LOC2, (*Id_141691).S);
appendChar(LOC2, 61);
LOC3 = 0;
LOC3 = Getident_54016(LOC2);
LOC4 = 0;
LOC4 = Newidentnode_55731(LOC3, (*N_141688).Info);
Addson_55824(Result_141690, LOC4);
LOC5 = 0;
LOC5 = HEX5BHEX5D_57057(A_141689, 0);
Addson_55824(Result_141690, LOC5);
LOC6 = 0;
LOC6 = HEX5BHEX5D_57057(N_141688, 1);
LOC7 = 0;
LOC7 = Semexpr_125115(C_141687, LOC6, 0);
Addson_55824(Result_141690, LOC7);
Result_141690 = Semdirectcallanalyseeffects_135219(C_141687, Result_141690, 0);
if (!!((Result_141690 == NIM_NIL))) goto LA9;
Fixabstracttype_134346(C_141687, Result_141690);
Analyseifaddresstakenincall_135043(C_141687, Result_141690);
goto LA8;
LA9: ;
Limessage_47569((*N_141688).Info, ((NU8) 77), (*Id_141691).S);
LA8: ;
return Result_141690;
}
N_NIMCALL(TY55526*, Semsubscript_136890)(TY107012* C_136892, TY55526* N_136893, NU8 Flags_136894) {
TY55526* Result_136895;
TY55552* Arr_136944;
NI I_136977;
NI HEX3Atmp_145945;
NI LOC1;
NI Res_145947;
TY55552* Indextype_137022;
TY55552* LOC3;
TY55526* Arg_137047;
TY55552* LOC10;
NI64 Idx_137156;
NIM_BOOL LOC14;
NI LOC16;
Result_136895 = 0;
Checkminsonslen_107103(N_136893, 2);
asgnRefNoCycle((void**) &(*N_136893).KindU.S6.Sons->data[0], Semexprwithtype_125122(C_136892, (*N_136893).KindU.S6.Sons->data[0], (Flags_136894 & ~ 1)));
Arr_136944 = 0;
Arr_136944 = Skiptypes_97087((*(*N_136893).KindU.S6.Sons->data[0]).Typ, IL64(2498090418307072));
switch ((*Arr_136944).Kind) {
case ((NU8) 16):
case ((NU8) 27):
case ((NU8) 4):
case ((NU8) 24):
case ((NU8) 28):
case ((NU8) 29):
Checksonslen_107099(N_136893, 2);
asgnRefNoCycle((void**) &(*N_136893).KindU.S6.Sons->data[0], Makederef_136297((*N_136893).KindU.S6.Sons->data[0]));
I_136977 = 0;
HEX3Atmp_145945 = 0;
LOC1 = Sonslen_55804(N_136893);
HEX3Atmp_145945 = (NI32)(LOC1 - 1);
Res_145947 = 0;
Res_145947 = 1;
while (1) {
if (!(Res_145947 <= HEX3Atmp_145945)) goto LA2;
I_136977 = Res_145947;
asgnRefNoCycle((void**) &(*N_136893).KindU.S6.Sons->data[I_136977], Semexprwithtype_125122(C_136892, (*N_136893).KindU.S6.Sons->data[I_136977], (Flags_136894 & ~ 1)));
Res_145947 += 1;
} LA2: ;
Indextype_137022 = 0;
LOC3 = 0;
if (!((*Arr_136944).Kind == ((NU8) 16))) goto LA5;
LOC3 = (*Arr_136944).Sons->data[0];
goto LA4;
LA5: ;
LOC3 = Getsystype_102008(((NU8) 31));
LA4: ;
Indextype_137022 = LOC3;
Arg_137047 = 0;
Arg_137047 = Indextypesmatch_128874(C_136892, Indextype_137022, (*(*N_136893).KindU.S6.Sons->data[1]).Typ, (*N_136893).KindU.S6.Sons->data[1]);
if (!!((Arg_137047 == NIM_NIL))) goto LA7;
asgnRefNoCycle((void**) &(*N_136893).KindU.S6.Sons->data[1], Arg_137047);
goto LA6;
LA7: ;
Limessage_47569((*N_136893).Info, ((NU8) 80), ((NimStringDesc*) &TMP195927));
LA6: ;
Result_136895 = N_136893;
asgnRef((void**) &(*Result_136895).Typ, Elemtype_97091(Arr_136944));
break;
case ((NU8) 18):
Checksonslen_107099(N_136893, 2);
asgnRefNoCycle((void**) &(*N_136893).KindU.S6.Sons->data[0], Makederef_136297((*N_136893).KindU.S6.Sons->data[0]));
asgnRefNoCycle((void**) &(*N_136893).KindU.S6.Sons->data[1], Semconstexpr_125171(C_136892, (*N_136893).KindU.S6.Sons->data[1]));
LOC10 = 0;
LOC10 = Skiptypes_97087((*(*N_136893).KindU.S6.Sons->data[1]).Typ, IL64(38298189018693632));
if (!((*LOC10).Kind >= ((NU8) 31) && (*LOC10).Kind <= ((NU8) 35))) goto LA11;
Idx_137156 = 0;
Idx_137156 = Getordvalue_97109((*N_136893).KindU.S6.Sons->data[1]);
LOC14 = (0 <= Idx_137156);
if (!(LOC14)) goto LA15;
LOC16 = Sonslen_55807(Arr_136944);
LOC14 = (Idx_137156 < ((NI64) (LOC16)));
LA15: ;
if (!LOC14) goto LA17;
asgnRef((void**) &(*N_136893).Typ, (*Arr_136944).Sons->data[Idx_137156]);
goto LA13;
LA17: ;
Limessage_47569((*N_136893).Info, ((NU8) 182), ((NimStringDesc*) &TMP195927));
LA13: ;
goto LA9;
LA11: ;
Limessage_47569((*N_136893).Info, ((NU8) 80), ((NimStringDesc*) &TMP195927));
LA9: ;
Result_136895 = N_136893;
break;
default:
break;
}
return Result_136895;
}
static N_INLINE(NI, Len_56929)(TY55526* N_56931) {
NI Result_56932;
Result_56932 = 0;
if (!(*N_56931).KindU.S6.Sons == 0) goto LA2;
Result_56932 = 0;
goto LA1;
LA2: ;
Result_56932 = (*N_56931).KindU.S6.Sons->Sup.len;
LA1: ;
return Result_56932;
}
N_NIMCALL(void, Addsliceopr_136809)(NimStringDesc** Result_136812, TY55526* N_136813) {
TY55526* LOC2;
TY55526* LOC6;
TY55526* LOC9;
LOC2 = 0;
LOC2 = HEX5BHEX5D_57057(N_136813, 0);
if (!(LOC2 == NIM_NIL)) goto LA3;
LOC6 = 0;
LOC6 = HEX5BHEX5D_57057(N_136813, 1);
if (!(LOC6 == NIM_NIL)) goto LA7;
(*Result_136812) = resizeString((*Result_136812), 2);
appendString((*Result_136812), ((NimStringDesc*) &TMP196134));
goto LA5;
LA7: ;
(*Result_136812) = resizeString((*Result_136812), 3);
appendString((*Result_136812), ((NimStringDesc*) &TMP196135));
LA5: ;
goto LA1;
LA3: ;
LOC9 = 0;
LOC9 = HEX5BHEX5D_57057(N_136813, 1);
if (!(LOC9 == NIM_NIL)) goto LA10;
(*Result_136812) = resizeString((*Result_136812), 3);
appendString((*Result_136812), ((NimStringDesc*) &TMP196136));
goto LA1;
LA10: ;
(*Result_136812) = resizeString((*Result_136812), 4);
appendString((*Result_136812), ((NimStringDesc*) &TMP196137));
LA1: ;
}
N_NIMCALL(TY55526*, Buildoverloadedsubscripts_136847)(TY55526* N_136849, NIM_BOOL Inasgn_136850) {
TY55526* Result_136851;
TY55526* LOC1;
NimStringDesc* Opr_136852;
NI I_136863;
NI HEX3Atmp_145942;
NI LOC2;
NI Res_145944;
TY55526* LOC8;
TY55526* LOC11;
TY55526* LOC12;
TY55526* LOC13;
TY55526* LOC14;
TY55526* LOC15;
TY55526* LOC16;
TY55526* LOC17;
TY54011* LOC21;
Result_136851 = 0;
Result_136851 = Newnodei_55738(((NU8) 21), (*N_136849).Info);
Add_56975(Result_136851, NIM_NIL);
LOC1 = 0;
LOC1 = HEX5BHEX5D_57057(N_136849, 0);
Add_56975(Result_136851, LOC1);
Opr_136852 = 0;
Opr_136852 = copyString(((NimStringDesc*) &TMP196132));
I_136863 = 0;
HEX3Atmp_145942 = 0;
LOC2 = Len_56929(N_136849);
HEX3Atmp_145942 = (NI32)(LOC2 - 1);
Res_145944 = 0;
Res_145944 = 1;
while (1) {
if (!(Res_145944 <= HEX3Atmp_145942)) goto LA3;
I_136863 = Res_145944;
if (!(1 < I_136863)) goto LA5;
Opr_136852 = resizeString(Opr_136852, 1);
appendString(Opr_136852, ((NimStringDesc*) &TMP196133));
LA5: ;
LOC8 = 0;
LOC8 = HEX5BHEX5D_57057(N_136849, I_136863);
if (!((*LOC8).Kind == ((NU8) 35))) goto LA9;
LOC11 = 0;
LOC11 = HEX5BHEX5D_57057(N_136849, I_136863);
Checksonslen_107099(LOC11, 2);
LOC12 = 0;
LOC12 = HEX5BHEX5D_57057(N_136849, I_136863);
Addsliceopr_136809(&Opr_136852, LOC12);
LOC13 = 0;
LOC13 = HEX5BHEX5D_57057(N_136849, I_136863);
LOC14 = 0;
LOC14 = HEX5BHEX5D_57057(LOC13, 0);
Addsonifnotnil_55832(Result_136851, LOC14);
LOC15 = 0;
LOC15 = HEX5BHEX5D_57057(N_136849, I_136863);
LOC16 = 0;
LOC16 = HEX5BHEX5D_57057(LOC15, 1);
Addsonifnotnil_55832(Result_136851, LOC16);
goto LA7;
LA9: ;
LOC17 = 0;
LOC17 = HEX5BHEX5D_57057(N_136849, I_136863);
Add_56975(Result_136851, LOC17);
LA7: ;
Res_145944 += 1;
} LA3: ;
if (!Inasgn_136850) goto LA19;
Opr_136852 = resizeString(Opr_136852, 2);
appendString(Opr_136852, ((NimStringDesc*) &TMP196138));
goto LA18;
LA19: ;
Opr_136852 = resizeString(Opr_136852, 1);
appendString(Opr_136852, ((NimStringDesc*) &TMP196139));
LA18: ;
LOC21 = 0;
LOC21 = Getident_54016(Opr_136852);
asgnRefNoCycle((void**) &(*Result_136851).KindU.S6.Sons->data[0], Newidentnode_55731(LOC21, (*N_136849).Info));
return Result_136851;
}
N_NIMCALL(TY55526*, Semexprnotype_140814)(TY107012* C_140816, TY55526* N_140817) {
TY55526* Result_140818;
NIM_BOOL LOC2;
Result_140818 = 0;
Result_140818 = Semexpr_125115(C_140816, N_140817, 0);
LOC2 = !(((*Result_140818).Typ == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC2 = !(((*(*Result_140818).Typ).Kind == ((NU8) 7)));
LA3: ;
if (!LOC2) goto LA4;
Limessage_47569((*N_140817).Info, ((NU8) 137), ((NimStringDesc*) &TMP195927));
LA4: ;
return Result_140818;
}
N_NIMCALL(TY55526*, Semasgn_141705)(TY107012* C_141707, TY55526* N_141708) {
TY55526* Result_141709;
TY55526* A_141722;
TY55526* LOC4;
TY55526* LOC8;
TY55552* Le_141796;
NIM_BOOL LOC10;
TY55552* LOC11;
NU8 LOC13;
NimStringDesc* LOC16;
Result_141709 = 0;
Checksonslen_107099(N_141708, 2);
A_141722 = 0;
A_141722 = (*N_141708).KindU.S6.Sons->data[0];
switch ((*A_141722).Kind) {
case ((NU8) 36):
A_141722 = Builtinfieldaccess_136326(C_141707, A_141722, 2);
if (!(A_141722 == NIM_NIL)) goto LA2;
LOC4 = 0;
LOC4 = HEX5BHEX5D_57057(N_141708, 0);
Result_141709 = Propertywriteaccess_141685(C_141707, N_141708, LOC4);
goto BeforeRet;
LA2: ;
break;
case ((NU8) 33):
A_141722 = Semsubscript_136890(C_141707, A_141722, 2);
if (!(A_141722 == NIM_NIL)) goto LA6;
Result_141709 = Buildoverloadedsubscripts_136847((*N_141708).KindU.S6.Sons->data[0], NIM_TRUE);
LOC8 = 0;
LOC8 = HEX5BHEX5D_57057(N_141708, 1);
Add_56975(Result_141709, LOC8);
Result_141709 = Semexprnotype_140814(C_141707, Result_141709);
goto BeforeRet;
LA6: ;
break;
default:
A_141722 = Semexprwithtype_125122(C_141707, A_141722, 2);
break;
}
asgnRefNoCycle((void**) &(*N_141708).KindU.S6.Sons->data[0], A_141722);
asgnRefNoCycle((void**) &(*N_141708).KindU.S6.Sons->data[1], Semexprwithtype_125122(C_141707, (*N_141708).KindU.S6.Sons->data[1], 0));
Le_141796 = 0;
Le_141796 = (*A_141722).Typ;
LOC11 = 0;
LOC11 = Skiptypes_97087(Le_141796, IL64(2251799813685248));
LOC10 = !(((*LOC11).Kind == ((NU8) 23)));
if (!(LOC10)) goto LA12;
LOC13 = Isassignable_134610(A_141722);
LOC10 = (LOC13 == ((NU8) 0));
LA12: ;
if (!LOC10) goto LA14;
LOC16 = 0;
LOC16 = Rendertree_85042(A_141722, 4);
Limessage_47569((*A_141722).Info, ((NU8) 174), LOC16);
goto LA9;
LA14: ;
asgnRefNoCycle((void**) &(*N_141708).KindU.S6.Sons->data[1], Fitnode_125129(C_141707, Le_141796, (*N_141708).KindU.S6.Sons->data[1]));
Fixabstracttype_134346(C_141707, N_141708);
LA9: ;
Result_141709 = N_141708;
BeforeRet: ;
return Result_141709;
}
N_NIMCALL(TY55526*, Semcommand_145680)(TY107012* C_145682, TY55526* N_145683) {
TY55526* Result_145684;
Result_145684 = 0;
Result_145684 = Semexprnotype_140814(C_145682, N_145683);
return Result_145684;
}
N_NIMCALL(TY55526*, Semblock_141266)(TY107012* C_141268, TY55526* N_141269) {
TY55526* Result_141270;
TY55548* Labl_141319;
Result_141270 = 0;
Result_141270 = N_141269;
(*(*C_141268).P).Nestedblockcounter += 1;
Checksonslen_107099(N_141269, 2);
Openscope_60146(&(*C_141268).Tab);
if (!!(((*N_141269).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA2;
Labl_141319 = 0;
Labl_141319 = Newsyms_125059(((NU8) 19), (*N_141269).KindU.S6.Sons->data[0], C_141268);
Adddecl_108114(C_141268, Labl_141319);
asgnRefNoCycle((void**) &(*N_141269).KindU.S6.Sons->data[0], Newsymnode_55735(Labl_141319));
LA2: ;
asgnRefNoCycle((void**) &(*N_141269).KindU.S6.Sons->data[1], Semstmt_125143(C_141268, (*N_141269).KindU.S6.Sons->data[1]));
Closescope_108018(&(*C_141268).Tab);
(*(*C_141268).P).Nestedblockcounter -= 1;
return Result_141270;
}
N_NIMCALL(TY55526*, Semraise_143129)(TY107012* C_143131, TY55526* N_143132) {
TY55526* Result_143133;
TY55552* Typ_143193;
NIM_BOOL LOC5;
Result_143133 = 0;
Result_143133 = N_143132;
Checksonslen_107099(N_143132, 1);
if (!!(((*N_143132).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA2;
asgnRefNoCycle((void**) &(*N_143132).KindU.S6.Sons->data[0], Semexprwithtype_125122(C_143131, (*N_143132).KindU.S6.Sons->data[0], 0));
Typ_143193 = 0;
Typ_143193 = (*(*N_143132).KindU.S6.Sons->data[0]).Typ;
LOC5 = !(((*Typ_143193).Kind == ((NU8) 22)));
if (LOC5) goto LA6;
LOC5 = !(((*(*Typ_143193).Sons->data[0]).Kind == ((NU8) 17)));
LA6: ;
if (!LOC5) goto LA7;
Limessage_47569((*N_143132).Info, ((NU8) 110), ((NimStringDesc*) &TMP195927));
LA7: ;
LA2: ;
return Result_143133;
}
N_NIMCALL(TY55526*, Semvar_142230)(TY107012* C_142232, TY55526* N_142233) {
TY55526* Result_142234;
NI Length_142235;
TY55526* A_142236;
TY55526* B_142237;
TY55526* Def_142238;
TY55552* Typ_142239;
TY55552* Tup_142240;
TY55548* V_142241;
NI I_142250;
NI HEX3Atmp_146049;
NI LOC1;
NI Res_146051;
NIM_BOOL LOC8;
NIM_BOOL LOC22;
NimStringDesc* LOC25;
NI LOC33;
NI J_142424;
NI HEX3Atmp_146046;
NI Res_146048;
TY55526* LOC46;
TY55526* LOC47;
Result_142234 = 0;
Length_142235 = 0;
A_142236 = 0;
B_142237 = 0;
Def_142238 = 0;
Typ_142239 = 0;
Tup_142240 = 0;
V_142241 = 0;
Result_142234 = Copynode_55856(N_142233);
I_142250 = 0;
HEX3Atmp_146049 = 0;
LOC1 = Sonslen_55804(N_142233);
HEX3Atmp_146049 = (NI32)(LOC1 - 1);
Res_146051 = 0;
Res_146051 = 0;
while (1) {
if (!(Res_146051 <= HEX3Atmp_146049)) goto LA2;
I_142250 = Res_146051;
A_142236 = (*N_142233).KindU.S6.Sons->data[I_142250];
if (!((*A_142236).Kind == ((NU8) 105))) goto LA5;
goto LA3;
LA5: ;
LOC8 = !(((*A_142236).Kind == ((NU8) 25)));
if (!(LOC8)) goto LA9;
LOC8 = !(((*A_142236).Kind == ((NU8) 26)));
LA9: ;
if (!LOC8) goto LA10;
Illformedast_107092(A_142236);
LA10: ;
Checkminsonslen_107103(A_142236, 3);
Length_142235 = Sonslen_55804(A_142236);
if (!!(((*A_142236).KindU.S6.Sons->data[(NI32)(Length_142235 - 2)] == NIM_NIL))) goto LA13;
Typ_142239 = Semtypenode_125138(C_142232, (*A_142236).KindU.S6.Sons->data[(NI32)(Length_142235 - 2)], NIM_NIL);
goto LA12;
LA13: ;
Typ_142239 = NIM_NIL;
LA12: ;
if (!!(((*A_142236).KindU.S6.Sons->data[(NI32)(Length_142235 - 1)] == NIM_NIL))) goto LA16;
Def_142238 = Semexprwithtype_125122(C_142232, (*A_142236).KindU.S6.Sons->data[(NI32)(Length_142235 - 1)], 0);
if (!!((Typ_142239 == NIM_NIL))) goto LA19;
Def_142238 = Fitnode_125129(C_142232, Typ_142239, Def_142238);
goto LA18;
LA19: ;
Typ_142239 = (*Def_142238).Typ;
LA18: ;
goto LA15;
LA16: ;
Def_142238 = NIM_NIL;
LA15: ;
LOC22 = Typeallowed_97136(Typ_142239, ((NU8) 9));
if (!!(LOC22)) goto LA23;
LOC25 = 0;
LOC25 = Typetostring_97014(Typ_142239, ((NU8) 0));
Limessage_47569((*A_142236).Info, ((NU8) 163), LOC25);
LA23: ;
Tup_142240 = Skiptypes_97087(Typ_142239, IL64(2251799813685248));
if (!((*A_142236).Kind == ((NU8) 26))) goto LA27;
if (!!(((*Tup_142240).Kind == ((NU8) 18)))) goto LA30;
Limessage_47569((*A_142236).Info, ((NU8) 184), ((NimStringDesc*) &TMP196140));
LA30: ;
LOC33 = Sonslen_55807(Tup_142240);
if (!!(((NI32)(Length_142235 - 2) == LOC33))) goto LA34;
Limessage_47569((*A_142236).Info, ((NU8) 109), ((NimStringDesc*) &TMP195927));
LA34: ;
B_142237 = Newnodei_55738(((NU8) 26), (*A_142236).Info);
Newsons_55816(B_142237, Length_142235);
asgnRefNoCycle((void**) &(*B_142237).KindU.S6.Sons->data[(NI32)(Length_142235 - 2)], NIM_NIL);
asgnRefNoCycle((void**) &(*B_142237).KindU.S6.Sons->data[(NI32)(Length_142235 - 1)], Def_142238);
Addson_55824(Result_142234, B_142237);
LA27: ;
J_142424 = 0;
HEX3Atmp_146046 = 0;
HEX3Atmp_146046 = (NI32)(Length_142235 - 3);
Res_146048 = 0;
Res_146048 = 0;
while (1) {
if (!(Res_146048 <= HEX3Atmp_146046)) goto LA36;
J_142424 = Res_146048;
if (!((*(*(*C_142232).P).Owner).Kind == ((NU8) 6))) goto LA38;
V_142241 = Semidentwithpragma_125098(C_142232, ((NU8) 9), (*A_142236).KindU.S6.Sons->data[J_142424], 100663296);
(*V_142241).Flags |=(1<<((NI32)(((NU8) 5))%(sizeof(NI32)*8)));
goto LA37;
LA38: ;
V_142241 = Semidentwithpragma_125098(C_142232, ((NU8) 9), (*A_142236).KindU.S6.Sons->data[J_142424], 0);
LA37: ;
if (!!((((*V_142241).Flags & 100663296) == 0))) goto LA41;
(*V_142241).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
LA41: ;
Addinterfacedecl_108236(C_142232, V_142241);
if (!!(((*A_142236).Kind == ((NU8) 26)))) goto LA44;
asgnRef((void**) &(*V_142241).Typ, Typ_142239);
B_142237 = Newnodei_55738(((NU8) 25), (*A_142236).Info);
LOC46 = 0;
LOC46 = Newsymnode_55735(V_142241);
Addson_55824(B_142237, LOC46);
Addson_55824(B_142237, NIM_NIL);
LOC47 = 0;
LOC47 = Copytree_55859(Def_142238);
Addson_55824(B_142237, LOC47);
Addson_55824(Result_142234, B_142237);
goto LA43;
LA44: ;
asgnRef((void**) &(*V_142241).Typ, (*Tup_142240).Sons->data[J_142424]);
asgnRefNoCycle((void**) &(*B_142237).KindU.S6.Sons->data[J_142424], Newsymnode_55735(V_142241));
LA43: ;
Res_146048 += 1;
} LA36: ;
LA3: ;
Res_146051 += 1;
} LA2: ;
return Result_142234;
}
N_NIMCALL(TY55526*, Semandevalconstexpr_125198)(TY107012* C_125200, TY55526* N_125201) {
TY55526* Result_125202;
TY55526* E_125203;
NIM_BOOL LOC8;
Result_125202 = 0;
E_125203 = 0;
E_125203 = Semexprwithtype_125122(C_125200, N_125201, 0);
if (!(E_125203 == NIM_NIL)) goto LA2;
Limessage_47569((*N_125201).Info, ((NU8) 102), ((NimStringDesc*) &TMP195927));
Result_125202 = NIM_NIL;
goto BeforeRet;
LA2: ;
Result_125202 = Getconstexpr_113010((*C_125200).Module, E_125203);
if (!(Result_125202 == NIM_NIL)) goto LA5;
Result_125202 = Evalconstexpr_115042((*C_125200).Module, E_125203);
LOC8 = (Result_125202 == NIM_NIL);
if (LOC8) goto LA9;
LOC8 = ((*Result_125202).Kind == ((NU8) 1));
LA9: ;
if (!LOC8) goto LA10;
Limessage_47569((*N_125201).Info, ((NU8) 102), ((NimStringDesc*) &TMP195927));
LA10: ;
LA5: ;
BeforeRet: ;
return Result_125202;
}
N_NIMCALL(TY55526*, Fitremovehiddenconv_142188)(TY107012* C_142190, TY55552* Typ_142191, TY55526* N_142192) {
TY55526* Result_142193;
NIM_BOOL LOC4;
Result_142193 = 0;
Result_142193 = Fitnode_125129(C_142190, Typ_142191, N_142192);
if (!((*Result_142193).Kind == ((NU8) 47) || (*Result_142193).Kind == ((NU8) 48))) goto LA2;
Changetype_133964((*Result_142193).KindU.S6.Sons->data[1], Typ_142191);
Result_142193 = (*Result_142193).KindU.S6.Sons->data[1];
goto LA1;
LA2: ;
LOC4 = Sametype_97048((*Result_142193).Typ, Typ_142191);
if (!!(LOC4)) goto LA5;
Changetype_133964(Result_142193, Typ_142191);
goto LA1;
LA5: ;
LA1: ;
return Result_142193;
}
N_NIMCALL(TY55526*, Semconst_142530)(TY107012* C_142532, TY55526* N_142533) {
TY55526* Result_142534;
TY55526* A_142535;
TY55526* Def_142536;
TY55526* B_142537;
TY55548* V_142538;
TY55552* Typ_142539;
NI I_142548;
NI HEX3Atmp_146053;
NI LOC1;
NI Res_146055;
NIM_BOOL LOC20;
NimStringDesc* LOC23;
TY55526* LOC27;
TY55526* LOC28;
Result_142534 = 0;
A_142535 = 0;
Def_142536 = 0;
B_142537 = 0;
V_142538 = 0;
Typ_142539 = 0;
Result_142534 = Copynode_55856(N_142533);
I_142548 = 0;
HEX3Atmp_146053 = 0;
LOC1 = Sonslen_55804(N_142533);
HEX3Atmp_146053 = (NI32)(LOC1 - 1);
Res_146055 = 0;
Res_146055 = 0;
while (1) {
if (!(Res_146055 <= HEX3Atmp_146053)) goto LA2;
I_142548 = Res_146055;
A_142535 = (*N_142533).KindU.S6.Sons->data[I_142548];
if (!((*A_142535).Kind == ((NU8) 105))) goto LA5;
goto LA3;
LA5: ;
if (!!(((*A_142535).Kind == ((NU8) 89)))) goto LA8;
Illformedast_107092(A_142535);
LA8: ;
Checksonslen_107099(A_142535, 3);
if (!((*(*(*C_142532).P).Owner).Kind == ((NU8) 6))) goto LA11;
V_142538 = Semidentwithpragma_125098(C_142532, ((NU8) 8), (*A_142535).KindU.S6.Sons->data[0], 100663296);
(*V_142538).Flags |=(1<<((NI32)(((NU8) 5))%(sizeof(NI32)*8)));
goto LA10;
LA11: ;
V_142538 = Semidentwithpragma_125098(C_142532, ((NU8) 8), (*A_142535).KindU.S6.Sons->data[0], 0);
LA10: ;
if (!!(((*A_142535).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA14;
Typ_142539 = Semtypenode_125138(C_142532, (*A_142535).KindU.S6.Sons->data[1], NIM_NIL);
goto LA13;
LA14: ;
Typ_142539 = NIM_NIL;
LA13: ;
Def_142536 = Semandevalconstexpr_125198(C_142532, (*A_142535).KindU.S6.Sons->data[2]);
if (!!((Typ_142539 == NIM_NIL))) goto LA17;
Def_142536 = Fitremovehiddenconv_142188(C_142532, Typ_142539, Def_142536);
goto LA16;
LA17: ;
Typ_142539 = (*Def_142536).Typ;
LA16: ;
LOC20 = Typeallowed_97136(Typ_142539, ((NU8) 8));
if (!!(LOC20)) goto LA21;
LOC23 = 0;
LOC23 = Typetostring_97014(Typ_142539, ((NU8) 0));
Limessage_47569((*A_142535).Info, ((NU8) 163), LOC23);
LA21: ;
asgnRef((void**) &(*V_142538).Typ, Typ_142539);
asgnRefNoCycle((void**) &(*V_142538).Ast, Def_142536);
if (!!((((*V_142538).Flags & 100663296) == 0))) goto LA25;
(*V_142538).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
LA25: ;
Addinterfacedecl_108236(C_142532, V_142538);
B_142537 = Newnodei_55738(((NU8) 89), (*A_142535).Info);
LOC27 = 0;
LOC27 = Newsymnode_55735(V_142538);
Addson_55824(B_142537, LOC27);
Addson_55824(B_142537, NIM_NIL);
LOC28 = 0;
LOC28 = Copytree_55859(Def_142536);
Addson_55824(B_142537, LOC28);
Addson_55824(Result_142534, B_142537);
LA3: ;
Res_146055 += 1;
} LA2: ;
return Result_142534;
}
N_NIMCALL(void, Setmagictype_133026)(TY55548* M_133028, NU8 Kind_133029, NI Size_133030) {
(*(*M_133028).Typ).Kind = Kind_133029;
(*(*M_133028).Typ).Align = Size_133030;
(*(*M_133028).Typ).Size = ((NI64) (Size_133030));
}
N_NIMCALL(void, Processmagictype_133031)(TY107012* C_133033, TY55548* M_133034) {
TY55552* LOC1;
TY55552* LOC2;
TY55552* LOC3;
switch ((*M_133034).Magic) {
case ((NU8) 169):
Setmagictype_133026(M_133034, ((NU8) 31), Intsize_51570);
break;
case ((NU8) 170):
Setmagictype_133026(M_133034, ((NU8) 32), 1);
break;
case ((NU8) 171):
Setmagictype_133026(M_133034, ((NU8) 33), 2);
break;
case ((NU8) 172):
Setmagictype_133026(M_133034, ((NU8) 34), 4);
break;
case ((NU8) 173):
Setmagictype_133026(M_133034, ((NU8) 35), 8);
break;
case ((NU8) 174):
Setmagictype_133026(M_133034, ((NU8) 36), Floatsize_51571);
break;
case ((NU8) 175):
Setmagictype_133026(M_133034, ((NU8) 37), 4);
break;
case ((NU8) 176):
Setmagictype_133026(M_133034, ((NU8) 38), 8);
break;
case ((NU8) 177):
Setmagictype_133026(M_133034, ((NU8) 1), 1);
break;
case ((NU8) 178):
Setmagictype_133026(M_133034, ((NU8) 2), 1);
break;
case ((NU8) 179):
Setmagictype_133026(M_133034, ((NU8) 28), Ptrsize_51572);
LOC1 = 0;
LOC1 = Getsystype_102008(((NU8) 2));
Addson_55828((*M_133034).Typ, LOC1);
break;
case ((NU8) 180):
Setmagictype_133026(M_133034, ((NU8) 29), Ptrsize_51572);
LOC2 = 0;
LOC2 = Getsystype_102008(((NU8) 2));
Addson_55828((*M_133034).Typ, LOC2);
break;
case ((NU8) 181):
Setmagictype_133026(M_133034, ((NU8) 26), Ptrsize_51572);
break;
case ((NU8) 182):
Setmagictype_133026(M_133034, ((NU8) 19), 1);
LOC3 = 0;
LOC3 = Newtypes_107077(((NU8) 3), C_133033);
Addson_55828((*M_133034).Typ, LOC3);
break;
case ((NU8) 183):
Setmagictype_133026(M_133034, ((NU8) 20), Intsize_51570);
goto BeforeRet;
break;
case ((NU8) 184):
Setmagictype_133026(M_133034, ((NU8) 5), Ptrsize_51572);
break;
case ((NU8) 185):
Setmagictype_133026(M_133034, ((NU8) 6), 0);
break;
case ((NU8) 186):
Setmagictype_133026(M_133034, ((NU8) 7), 0);
break;
case ((NU8) 187):
Setmagictype_133026(M_133034, ((NU8) 8), 0);
break;
case ((NU8) 163):
case ((NU8) 164):
case ((NU8) 165):
case ((NU8) 166):
case ((NU8) 167):
case ((NU8) 168):
goto BeforeRet;
break;
default:
Limessage_47569((*M_133034).Info, ((NU8) 60), ((NimStringDesc*) &TMP195927));
break;
}
BeforeRet: ;
}
static N_INLINE(NI, Getid_55694)(void) {
NI Result_55949;
Result_55949 = 0;
Result_55949 = Gid_55693;
Gid_55693 += 1;
return Result_55949;
}
N_NIMCALL(TY55526*, Semgenericparamlist_143409)(TY107012* C_143411, TY55526* N_143412, TY55552* Father_143413) {
TY55526* Result_143414;
NI I_143432;
NI HEX3Atmp_146068;
NI LOC4;
NI Res_146070;
TY55526* A_143445;
NI L_143455;
TY55526* Def_143468;
TY55552* Typ_143469;
NI J_143524;
NI HEX3Atmp_146065;
NI Res_146067;
TY55548* S_143525;
NIM_BOOL LOC16;
TY55526* LOC23;
Result_143414 = 0;
Result_143414 = Copynode_55856(N_143412);
if (!!(((*N_143412).Kind == ((NU8) 65)))) goto LA2;
Internalerror_47574((*N_143412).Info, ((NimStringDesc*) &TMP196159));
LA2: ;
I_143432 = 0;
HEX3Atmp_146068 = 0;
LOC4 = Sonslen_55804(N_143412);
HEX3Atmp_146068 = (NI32)(LOC4 - 1);
Res_146070 = 0;
Res_146070 = 0;
while (1) {
if (!(Res_146070 <= HEX3Atmp_146068)) goto LA5;
I_143432 = Res_146070;
A_143445 = 0;
A_143445 = (*N_143412).KindU.S6.Sons->data[I_143432];
if (!!(((*A_143445).Kind == ((NU8) 25)))) goto LA7;
Illformedast_107092(N_143412);
LA7: ;
L_143455 = 0;
L_143455 = Sonslen_55804(A_143445);
Def_143468 = 0;
Def_143468 = (*A_143445).KindU.S6.Sons->data[(NI32)(L_143455 - 1)];
Typ_143469 = 0;
if (!!(((*A_143445).KindU.S6.Sons->data[(NI32)(L_143455 - 2)] == NIM_NIL))) goto LA10;
Typ_143469 = Semtypenode_125138(C_143411, (*A_143445).KindU.S6.Sons->data[(NI32)(L_143455 - 2)], NIM_NIL);
goto LA9;
LA10: ;
if (!!((Def_143468 == NIM_NIL))) goto LA12;
Typ_143469 = Newtypes_107077(((NU8) 6), C_143411);
goto LA9;
LA12: ;
Typ_143469 = NIM_NIL;
LA9: ;
J_143524 = 0;
HEX3Atmp_146065 = 0;
HEX3Atmp_146065 = (NI32)(L_143455 - 3);
Res_146067 = 0;
Res_146067 = 0;
while (1) {
if (!(Res_146067 <= HEX3Atmp_146065)) goto LA14;
J_143524 = Res_146067;
S_143525 = 0;
LOC16 = (Typ_143469 == NIM_NIL);
if (LOC16) goto LA17;
LOC16 = ((*Typ_143469).Kind == ((NU8) 8));
LA17: ;
if (!LOC16) goto LA18;
S_143525 = Newsyms_125059(((NU8) 7), (*A_143445).KindU.S6.Sons->data[J_143524], C_143411);
asgnRef((void**) &(*S_143525).Typ, Newtypes_107077(((NU8) 12), C_143411));
goto LA15;
LA18: ;
S_143525 = Newsyms_125059(((NU8) 4), (*A_143445).KindU.S6.Sons->data[J_143524], C_143411);
asgnRef((void**) &(*S_143525).Typ, Typ_143469);
LA15: ;
asgnRefNoCycle((void**) &(*S_143525).Ast, Def_143468);
asgnRef((void**) &(*(*S_143525).Typ).Sym, S_143525);
if (!!((Father_143413 == NIM_NIL))) goto LA21;
Addson_55828(Father_143413, (*S_143525).Typ);
LA21: ;
(*S_143525).Position = I_143432;
LOC23 = 0;
LOC23 = Newsymnode_55735(S_143525);
Addson_55824(Result_143414, LOC23);
Adddecl_108114(C_143411, S_143525);
Res_146067 += 1;
} LA14: ;
Res_146070 += 1;
} LA5: ;
return Result_143414;
}
N_NIMCALL(TY55526*, Semtypesection_143637)(TY107012* C_143639, TY55526* N_143640) {
TY55526* Result_143641;
TY55548* S_143642;
TY55552* T_143643;
TY55552* Body_143644;
NI I_143653;
NI HEX3Atmp_146075;
NI LOC1;
NI Res_146077;
TY55526* A_143666;
NI I_143834;
NI HEX3Atmp_146079;
NI LOC19;
NI Res_146081;
TY55526* A_143847;
NIM_BOOL LOC32;
NI LOC48;
NIM_BOOL LOC52;
NI I_144089;
NI HEX3Atmp_146083;
NI LOC56;
NI Res_146085;
TY55526* A_144102;
NIM_BOOL LOC69;
Result_143641 = 0;
S_143642 = 0;
T_143643 = 0;
Body_143644 = 0;
Result_143641 = N_143640;
I_143653 = 0;
HEX3Atmp_146075 = 0;
LOC1 = Sonslen_55804(N_143640);
HEX3Atmp_146075 = (NI32)(LOC1 - 1);
Res_146077 = 0;
Res_146077 = 0;
while (1) {
if (!(Res_146077 <= HEX3Atmp_146075)) goto LA2;
I_143653 = Res_146077;
A_143666 = 0;
A_143666 = (*N_143640).KindU.S6.Sons->data[I_143653];
if (!((*A_143666).Kind == ((NU8) 105))) goto LA5;
goto LA3;
LA5: ;
if (!!(((*A_143666).Kind == ((NU8) 91)))) goto LA8;
Illformedast_107092(A_143666);
LA8: ;
Checksonslen_107099(A_143666, 3);
if (!((*(*(*C_143639).P).Owner).Kind == ((NU8) 6))) goto LA11;
S_143642 = Semidentwithpragma_125098(C_143639, ((NU8) 7), (*A_143666).KindU.S6.Sons->data[0], 100663296);
(*S_143642).Flags |=(1<<((NI32)(((NU8) 5))%(sizeof(NI32)*8)));
goto LA10;
LA11: ;
S_143642 = Semidentwithpragma_125098(C_143639, ((NU8) 7), (*A_143666).KindU.S6.Sons->data[0], 0);
LA10: ;
if (!!((((*S_143642).Flags & 100663296) == 0))) goto LA14;
(*S_143642).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
LA14: ;
asgnRef((void**) &(*S_143642).Typ, Newtypes_107077(((NU8) 30), C_143639));
asgnRef((void**) &(*(*S_143642).Typ).Sym, S_143642);
if (!((*(*A_143666).KindU.S6.Sons->data[0]).Kind == ((NU8) 34))) goto LA17;
Pragma_122028(C_143639, S_143642, (*(*A_143666).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[1], TMP196157);
LA17: ;
Addinterfacedecl_108236(C_143639, S_143642);
asgnRefNoCycle((void**) &(*A_143666).KindU.S6.Sons->data[0], Newsymnode_55735(S_143642));
LA3: ;
Res_146077 += 1;
} LA2: ;
I_143834 = 0;
HEX3Atmp_146079 = 0;
LOC19 = Sonslen_55804(N_143640);
HEX3Atmp_146079 = (NI32)(LOC19 - 1);
Res_146081 = 0;
Res_146081 = 0;
while (1) {
if (!(Res_146081 <= HEX3Atmp_146079)) goto LA20;
I_143834 = Res_146081;
A_143847 = 0;
A_143847 = (*N_143640).KindU.S6.Sons->data[I_143834];
if (!((*A_143847).Kind == ((NU8) 105))) goto LA23;
goto LA21;
LA23: ;
if (!!(((*A_143847).Kind == ((NU8) 91)))) goto LA26;
Illformedast_107092(A_143847);
LA26: ;
Checksonslen_107099(A_143847, 3);
if (!!(((*(*A_143847).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA29;
Illformedast_107092(A_143847);
LA29: ;
S_143642 = (*(*A_143847).KindU.S6.Sons->data[0]).KindU.S4.Sym;
LOC32 = ((*S_143642).Magic == ((NU8) 0));
if (!(LOC32)) goto LA33;
LOC32 = ((*A_143847).KindU.S6.Sons->data[2] == NIM_NIL);
LA33: ;
if (!LOC32) goto LA34;
Limessage_47569((*A_143847).Info, ((NU8) 135), (*(*S_143642).Name).S);
LA34: ;
if (!!(((*S_143642).Magic == ((NU8) 0)))) goto LA37;
Processmagictype_133031(C_143639, S_143642);
LA37: ;
if (!!(((*A_143847).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA40;
Openscope_60146(&(*C_143639).Tab);
Pushowner_107109(S_143642);
(*(*S_143642).Typ).Kind = ((NU8) 10);
if (!!(((*(*S_143642).Typ).Containerid == 0))) goto LA43;
Internalerror_47574((*A_143847).Info, ((NimStringDesc*) &TMP196158));
LA43: ;
(*(*S_143642).Typ).Containerid = Getid_55694();
asgnRefNoCycle((void**) &(*A_143847).KindU.S6.Sons->data[1], Semgenericparamlist_143409(C_143639, (*A_143847).KindU.S6.Sons->data[1], (*S_143642).Typ));
Addson_55828((*S_143642).Typ, NIM_NIL);
asgnRefNoCycle((void**) &(*S_143642).Ast, A_143847);
Body_143644 = Semtypenode_125138(C_143639, (*A_143847).KindU.S6.Sons->data[2], NIM_NIL);
if (!!((Body_143644 == NIM_NIL))) goto LA46;
asgnRef((void**) &(*Body_143644).Sym, S_143642);
LA46: ;
LOC48 = Sonslen_55807((*S_143642).Typ);
asgnRef((void**) &(*(*S_143642).Typ).Sons->data[(NI32)(LOC48 - 1)], Body_143644);
Popowner_107112();
Closescope_108018(&(*C_143639).Tab);
goto LA39;
LA40: ;
if (!!(((*A_143847).KindU.S6.Sons->data[2] == NIM_NIL))) goto LA49;
Pushowner_107109(S_143642);
T_143643 = Semtypenode_125138(C_143639, (*A_143847).KindU.S6.Sons->data[2], (*S_143642).Typ);
LOC52 = !((T_143643 == (*S_143642).Typ));
if (!(LOC52)) goto LA53;
LOC52 = !(((*S_143642).Typ == NIM_NIL));
LA53: ;
if (!LOC52) goto LA54;
Internalerror_47574((*A_143847).Info, ((NimStringDesc*) &TMP196160));
LA54: ;
asgnRef((void**) &(*S_143642).Typ, T_143643);
asgnRefNoCycle((void**) &(*S_143642).Ast, A_143847);
Popowner_107112();
goto LA39;
LA49: ;
LA39: ;
LA21: ;
Res_146081 += 1;
} LA20: ;
I_144089 = 0;
HEX3Atmp_146083 = 0;
LOC56 = Sonslen_55804(N_143640);
HEX3Atmp_146083 = (NI32)(LOC56 - 1);
Res_146085 = 0;
Res_146085 = 0;
while (1) {
if (!(Res_146085 <= HEX3Atmp_146083)) goto LA57;
I_144089 = Res_146085;
A_144102 = 0;
A_144102 = (*N_143640).KindU.S6.Sons->data[I_144089];
if (!((*A_144102).Kind == ((NU8) 105))) goto LA60;
goto LA58;
LA60: ;
if (!!(((*(*A_144102).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA63;
Illformedast_107092(A_144102);
LA63: ;
S_143642 = (*(*A_144102).KindU.S6.Sons->data[0]).KindU.S4.Sym;
if (!((*A_144102).KindU.S6.Sons->data[1] == NIM_NIL)) goto LA66;
LOC69 = !(((*A_144102).KindU.S6.Sons->data[2] == NIM_NIL));
if (!(LOC69)) goto LA70;
LOC69 = ((*(*A_144102).KindU.S6.Sons->data[2]).Kind == ((NU8) 3) || (*(*A_144102).KindU.S6.Sons->data[2]).Kind == ((NU8) 2) || (*(*A_144102).KindU.S6.Sons->data[2]).Kind == ((NU8) 43));
LA70: ;
if (!LOC69) goto LA71;
T_143643 = Semtypenode_125138(C_143639, (*A_144102).KindU.S6.Sons->data[2], NIM_NIL);
if (!((*T_143643).Kind == ((NU8) 17) || (*T_143643).Kind == ((NU8) 14))) goto LA74;
Assigntype_55780((*S_143642).Typ, T_143643);
(*(*S_143642).Typ).Sup.Id = (*T_143643).Sup.Id;
LA74: ;
LA71: ;
Checkconstructedtype_126661((*S_143642).Info, (*S_143642).Typ);
LA66: ;
LA58: ;
Res_146085 += 1;
} LA57: ;
return Result_143641;
}
N_NIMCALL(TY55526*, Semif_140970)(TY107012* C_140972, TY55526* N_140973) {
TY55526* Result_140974;
NI I_140983;
NI HEX3Atmp_146039;
NI LOC1;
NI Res_146041;
TY55526* It_140996;
NI LOC7;
Result_140974 = 0;
Result_140974 = N_140973;
I_140983 = 0;
HEX3Atmp_146039 = 0;
LOC1 = Sonslen_55804(N_140973);
HEX3Atmp_146039 = (NI32)(LOC1 - 1);
Res_146041 = 0;
Res_146041 = 0;
while (1) {
if (!(Res_146041 <= HEX3Atmp_146039)) goto LA2;
I_140983 = Res_146041;
It_140996 = 0;
It_140996 = (*N_140973).KindU.S6.Sons->data[I_140983];
if (!(It_140996 == NIM_NIL)) goto LA4;
Illformedast_107092(N_140973);
LA4: ;
switch ((*It_140996).Kind) {
case ((NU8) 76):
Checksonslen_107099(It_140996, 2);
Openscope_60146(&(*C_140972).Tab);
asgnRefNoCycle((void**) &(*It_140996).KindU.S6.Sons->data[0], Semexprwithtype_125122(C_140972, (*It_140996).KindU.S6.Sons->data[0], 0));
Checkbool_129881((*It_140996).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*It_140996).KindU.S6.Sons->data[1], Semstmt_125143(C_140972, (*It_140996).KindU.S6.Sons->data[1]));
Closescope_108018(&(*C_140972).Tab);
break;
case ((NU8) 78):
LOC7 = Sonslen_55804(It_140996);
if (!(LOC7 == 1)) goto LA8;
asgnRefNoCycle((void**) &(*It_140996).KindU.S6.Sons->data[0], Semstmtscope_125104(C_140972, (*It_140996).KindU.S6.Sons->data[0]));
goto LA6;
LA8: ;
Illformedast_107092(It_140996);
LA6: ;
break;
default:
Illformedast_107092(N_140973);
break;
}
Res_146041 += 1;
} LA2: ;
return Result_140974;
}
N_NIMCALL(TY55526*, Semwhen_140839)(TY107012* C_140841, TY55526* N_140842) {
TY55526* Result_140843;
NI I_140852;
NI HEX3Atmp_146036;
NI LOC1;
NI Res_146038;
TY55526* It_140865;
TY55526* E_140889;
NIM_BOOL LOC10;
Result_140843 = 0;
Result_140843 = NIM_NIL;
I_140852 = 0;
HEX3Atmp_146036 = 0;
LOC1 = Sonslen_55804(N_140842);
HEX3Atmp_146036 = (NI32)(LOC1 - 1);
Res_146038 = 0;
Res_146038 = 0;
while (1) {
if (!(Res_146038 <= HEX3Atmp_146036)) goto LA2;
I_140852 = Res_146038;
It_140865 = 0;
It_140865 = (*N_140842).KindU.S6.Sons->data[I_140852];
if (!(It_140865 == NIM_NIL)) goto LA4;
Illformedast_107092(N_140842);
LA4: ;
switch ((*It_140865).Kind) {
case ((NU8) 76):
Checksonslen_107099(It_140865, 2);
E_140889 = 0;
E_140889 = Semconstexpr_125171(C_140841, (*It_140865).KindU.S6.Sons->data[0]);
Checkbool_129881(E_140889);
if (!!(((*E_140889).Kind == ((NU8) 6)))) goto LA7;
Internalerror_47574((*N_140842).Info, ((NimStringDesc*) &TMP196161));
LA7: ;
LOC10 = !(((*E_140889).KindU.S1.Intval == 0));
if (!(LOC10)) goto LA11;
LOC10 = (Result_140843 == NIM_NIL);
LA11: ;
if (!LOC10) goto LA12;
Result_140843 = Semstmt_125143(C_140841, (*It_140865).KindU.S6.Sons->data[1]);
LA12: ;
break;
case ((NU8) 78):
Checksonslen_107099(It_140865, 1);
if (!(Result_140843 == NIM_NIL)) goto LA15;
Result_140843 = Semstmt_125143(C_140841, (*It_140865).KindU.S6.Sons->data[0]);
LA15: ;
break;
default:
Illformedast_107092(N_140842);
break;
}
Res_146038 += 1;
} LA2: ;
if (!(Result_140843 == NIM_NIL)) goto LA18;
Result_140843 = Newnodei_55738(((NU8) 18), (*N_140842).Info);
LA18: ;
Idsynchronizationpoint_55699(200);
return Result_140843;
}
N_NIMCALL(TY55526*, Semdiscard_141096)(TY107012* C_141098, TY55526* N_141099) {
TY55526* Result_141100;
Result_141100 = 0;
Result_141100 = N_141099;
Checksonslen_107099(N_141099, 1);
asgnRefNoCycle((void**) &(*N_141099).KindU.S6.Sons->data[0], Semexprwithtype_125122(C_141098, (*N_141099).KindU.S6.Sons->data[0], 0));
if (!((*(*N_141099).KindU.S6.Sons->data[0]).Typ == NIM_NIL)) goto LA2;
Limessage_47569((*N_141099).Info, ((NU8) 138), ((NimStringDesc*) &TMP195927));
LA2: ;
return Result_141100;
}
N_NIMCALL(TY55526*, Semwhile_141389)(TY107012* C_141391, TY55526* N_141392) {
TY55526* Result_141393;
Result_141393 = 0;
Result_141393 = N_141392;
Checksonslen_107099(N_141392, 2);
Openscope_60146(&(*C_141391).Tab);
asgnRefNoCycle((void**) &(*N_141392).KindU.S6.Sons->data[0], Semexprwithtype_125122(C_141391, (*N_141392).KindU.S6.Sons->data[0], 0));
Checkbool_129881((*N_141392).KindU.S6.Sons->data[0]);
(*(*C_141391).P).Nestedloopcounter += 1;
asgnRefNoCycle((void**) &(*N_141392).KindU.S6.Sons->data[1], Semstmt_125143(C_141391, (*N_141392).KindU.S6.Sons->data[1]));
(*(*C_141391).P).Nestedloopcounter -= 1;
Closescope_108018(&(*C_141391).Tab);
return Result_141393;
}
N_NIMCALL(TY55526*, Semtry_143212)(TY107012* C_143214, TY55526* N_143215) {
TY55526* Result_143216;
TY55901 Check_143217;
NI I_143251;
NI HEX3Atmp_146062;
NI LOC1;
NI Res_146064;
TY55526* A_143264;
NI Length_143265;
NI J_143283;
NI HEX3Atmp_146059;
NI Res_146061;
TY55552* Typ_143296;
NIM_BOOL LOC14;
Result_143216 = 0;
memset((void*)&Check_143217, 0, sizeof(Check_143217));
Result_143216 = N_143215;
Checkminsonslen_107103(N_143215, 2);
asgnRefNoCycle((void**) &(*N_143215).KindU.S6.Sons->data[0], Semstmtscope_125104(C_143214, (*N_143215).KindU.S6.Sons->data[0]));
Intsetinit_55925(&Check_143217);
I_143251 = 0;
HEX3Atmp_146062 = 0;
LOC1 = Sonslen_55804(N_143215);
HEX3Atmp_146062 = (NI32)(LOC1 - 1);
Res_146064 = 0;
Res_146064 = 1;
while (1) {
if (!(Res_146064 <= HEX3Atmp_146062)) goto LA2;
I_143251 = Res_146064;
A_143264 = 0;
A_143264 = (*N_143215).KindU.S6.Sons->data[I_143251];
Checkminsonslen_107103(A_143264, 1);
Length_143265 = 0;
Length_143265 = Sonslen_55804(A_143264);
if (!((*A_143264).Kind == ((NU8) 77))) goto LA4;
J_143283 = 0;
HEX3Atmp_146059 = 0;
HEX3Atmp_146059 = (NI32)(Length_143265 - 2);
Res_146061 = 0;
Res_146061 = 0;
while (1) {
if (!(Res_146061 <= HEX3Atmp_146059)) goto LA6;
J_143283 = Res_146061;
Typ_143296 = 0;
Typ_143296 = Semtypenode_125138(C_143214, (*A_143264).KindU.S6.Sons->data[J_143283], NIM_NIL);
if (!((*Typ_143296).Kind == ((NU8) 22))) goto LA8;
Typ_143296 = (*Typ_143296).Sons->data[0];
LA8: ;
if (!!(((*Typ_143296).Kind == ((NU8) 17)))) goto LA11;
Limessage_47569((*(*A_143264).KindU.S6.Sons->data[J_143283]).Info, ((NU8) 110), ((NimStringDesc*) &TMP195927));
LA11: ;
asgnRefNoCycle((void**) &(*A_143264).KindU.S6.Sons->data[J_143283], Newnodei_55738(((NU8) 4), (*(*A_143264).KindU.S6.Sons->data[J_143283]).Info));
asgnRef((void**) &(*(*A_143264).KindU.S6.Sons->data[J_143283]).Typ, Typ_143296);
LOC14 = Intsetcontainsorincl_55929(&Check_143217, (*Typ_143296).Sup.Id);
if (!LOC14) goto LA15;
Limessage_47569((*(*A_143264).KindU.S6.Sons->data[J_143283]).Info, ((NU8) 33), ((NimStringDesc*) &TMP195927));
LA15: ;
Res_146061 += 1;
} LA6: ;
goto LA3;
LA4: ;
if (!!(((*A_143264).Kind == ((NU8) 94)))) goto LA17;
Illformedast_107092(N_143215);
goto LA3;
LA17: ;
LA3: ;
asgnRefNoCycle((void**) &(*A_143264).KindU.S6.Sons->data[(NI32)(Length_143265 - 1)], Semstmtscope_125104(C_143214, (*A_143264).KindU.S6.Sons->data[(NI32)(Length_143265 - 1)]));
Res_146064 += 1;
} LA2: ;
return Result_143216;
}
N_NIMCALL(TY55526*, Sembreakorcontinue_141148)(TY107012* C_141150, TY55526* N_141151) {
TY55526* Result_141152;
TY55548* S_141176;
NIM_BOOL LOC5;
TY55526* X_141236;
NIM_BOOL LOC9;
NimStringDesc* LOC13;
Result_141152 = 0;
Result_141152 = N_141151;
Checksonslen_107099(N_141151, 1);
if (!!(((*N_141151).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA2;
S_141176 = 0;
switch ((*(*N_141151).KindU.S6.Sons->data[0]).Kind) {
case ((NU8) 2):
S_141176 = Lookup_108245(C_141150, (*N_141151).KindU.S6.Sons->data[0]);
break;
case ((NU8) 3):
S_141176 = (*(*N_141151).KindU.S6.Sons->data[0]).KindU.S4.Sym;
break;
default:
Illformedast_107092(N_141151);
break;
}
LOC5 = ((*S_141176).Kind == ((NU8) 19));
if (!(LOC5)) goto LA6;
LOC5 = ((*(*S_141176).Owner).Sup.Id == (*(*(*C_141150).P).Owner).Sup.Id);
LA6: ;
if (!LOC5) goto LA7;
X_141236 = 0;
X_141236 = Newsymnode_55735(S_141176);
(*X_141236).Info = (*N_141151).Info;
(*S_141176).Flags |=(1<<((NI32)(((NU8) 0))%(sizeof(NI32)*8)));
asgnRefNoCycle((void**) &(*N_141151).KindU.S6.Sons->data[0], X_141236);
goto LA4;
LA7: ;
Limessage_47569((*N_141151).Info, ((NU8) 161), (*(*S_141176).Name).S);
LA4: ;
goto LA1;
LA2: ;
LOC9 = ((*(*C_141150).P).Nestedloopcounter <= 0);
if (!(LOC9)) goto LA10;
LOC9 = ((*(*C_141150).P).Nestedblockcounter <= 0);
LA10: ;
if (!LOC9) goto LA11;
LOC13 = 0;
LOC13 = Rendertree_85042(N_141151, 4);
Limessage_47569((*N_141151).Info, ((NU8) 161), LOC13);
goto LA1;
LA11: ;
LA1: ;
return Result_141152;
}
N_NIMCALL(TY55526*, Semfor_142721)(TY107012* C_142723, TY55526* N_142724) {
TY55526* Result_142725;
NI Length_142726;
TY55548* V_142727;
TY55548* Countup_142728;
TY55552* Iter_142729;
TY55526* Countupnode_142730;
TY55526* Call_142731;
TY54011* LOC4;
NIM_BOOL LOC9;
NIM_BOOL LOC10;
NI LOC22;
NI I_143055;
NI HEX3Atmp_146056;
NI Res_146058;
Result_142725 = 0;
Length_142726 = 0;
V_142727 = 0;
Countup_142728 = 0;
Iter_142729 = 0;
Countupnode_142730 = 0;
Call_142731 = 0;
Result_142725 = N_142724;
Checkminsonslen_107103(N_142724, 3);
Length_142726 = Sonslen_55804(N_142724);
Openscope_60146(&(*C_142723).Tab);
if (!((*(*N_142724).KindU.S6.Sons->data[(NI32)(Length_142726 - 2)]).Kind == ((NU8) 35))) goto LA2;
Checksonslen_107099((*N_142724).KindU.S6.Sons->data[(NI32)(Length_142726 - 2)], 2);
Countupnode_142730 = Newnodei_55738(((NU8) 21), (*(*N_142724).KindU.S6.Sons->data[(NI32)(Length_142726 - 2)]).Info);
LOC4 = 0;
LOC4 = Getident_54016(((NimStringDesc*) &TMP196162));
Countup_142728 = Strtableget_60066(&(*Systemmodule_102004).Tab, LOC4);
if (!(Countup_142728 == NIM_NIL)) goto LA6;
Limessage_47569((*Countupnode_142730).Info, ((NU8) 61), ((NimStringDesc*) &TMP196162));
LA6: ;
Newsons_55816(Countupnode_142730, 3);
asgnRefNoCycle((void**) &(*Countupnode_142730).KindU.S6.Sons->data[0], Newsymnode_55735(Countup_142728));
asgnRefNoCycle((void**) &(*Countupnode_142730).KindU.S6.Sons->data[1], (*(*N_142724).KindU.S6.Sons->data[(NI32)(Length_142726 - 2)]).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*Countupnode_142730).KindU.S6.Sons->data[2], (*(*N_142724).KindU.S6.Sons->data[(NI32)(Length_142726 - 2)]).KindU.S6.Sons->data[1]);
asgnRefNoCycle((void**) &(*N_142724).KindU.S6.Sons->data[(NI32)(Length_142726 - 2)], Countupnode_142730);
LA2: ;
asgnRefNoCycle((void**) &(*N_142724).KindU.S6.Sons->data[(NI32)(Length_142726 - 2)], Semexprwithtype_125122(C_142723, (*N_142724).KindU.S6.Sons->data[(NI32)(Length_142726 - 2)], 4));
Call_142731 = (*N_142724).KindU.S6.Sons->data[(NI32)(Length_142726 - 2)];
LOC10 = !(((*Call_142731).Kind == ((NU8) 21)));
if (LOC10) goto LA11;
LOC10 = !(((*(*Call_142731).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)));
LA11: ;
LOC9 = LOC10;
if (LOC9) goto LA12;
LOC9 = !(((*(*(*Call_142731).KindU.S6.Sons->data[0]).KindU.S4.Sym).Kind == ((NU8) 12)));
LA12: ;
if (!LOC9) goto LA13;
Limessage_47569((*(*N_142724).KindU.S6.Sons->data[(NI32)(Length_142726 - 2)]).Info, ((NU8) 207), ((NimStringDesc*) &TMP195927));
LA13: ;
Iter_142729 = Skiptypes_97087((*(*N_142724).KindU.S6.Sons->data[(NI32)(Length_142726 - 2)]).Typ, IL64(2251799813685248));
if (!!(((*Iter_142729).Kind == ((NU8) 18)))) goto LA16;
if (!!((Length_142726 == 3))) goto LA19;
Limessage_47569((*N_142724).Info, ((NU8) 109), ((NimStringDesc*) &TMP195927));
LA19: ;
V_142727 = Newsyms_125059(((NU8) 18), (*N_142724).KindU.S6.Sons->data[0], C_142723);
asgnRef((void**) &(*V_142727).Typ, Iter_142729);
asgnRefNoCycle((void**) &(*N_142724).KindU.S6.Sons->data[0], Newsymnode_55735(V_142727));
Adddecl_108114(C_142723, V_142727);
goto LA15;
LA16: ;
LOC22 = Sonslen_55807(Iter_142729);
if (!!(((NI32)(Length_142726 - 2) == LOC22))) goto LA23;
Limessage_47569((*N_142724).Info, ((NU8) 109), ((NimStringDesc*) &TMP195927));
LA23: ;
I_143055 = 0;
HEX3Atmp_146056 = 0;
HEX3Atmp_146056 = (NI32)(Length_142726 - 3);
Res_146058 = 0;
Res_146058 = 0;
while (1) {
if (!(Res_146058 <= HEX3Atmp_146056)) goto LA25;
I_143055 = Res_146058;
V_142727 = Newsyms_125059(((NU8) 18), (*N_142724).KindU.S6.Sons->data[I_143055], C_142723);
asgnRef((void**) &(*V_142727).Typ, (*Iter_142729).Sons->data[I_143055]);
asgnRefNoCycle((void**) &(*N_142724).KindU.S6.Sons->data[I_143055], Newsymnode_55735(V_142727));
Adddecl_108114(C_142723, V_142727);
Res_146058 += 1;
} LA25: ;
LA15: ;
(*(*C_142723).P).Nestedloopcounter += 1;
asgnRefNoCycle((void**) &(*N_142724).KindU.S6.Sons->data[(NI32)(Length_142726 - 1)], Semstmt_125143(C_142723, (*N_142724).KindU.S6.Sons->data[(NI32)(Length_142726 - 1)]));
Closescope_108018(&(*C_142723).Tab);
(*(*C_142723).P).Nestedloopcounter -= 1;
return Result_142725;
}
N_NIMCALL(NI64, Tocover_141480)(TY55552* T_141482) {
NI64 Result_141483;
TY55552* T2_141484;
NIM_BOOL LOC2;
NI LOC6;
TY55552* LOC7;
Result_141483 = 0;
T2_141484 = 0;
T2_141484 = Skiptypes_97087(T_141482, IL64(47446125761789952));
LOC2 = ((*T2_141484).Kind == ((NU8) 14));
if (!(LOC2)) goto LA3;
LOC2 = Enumhaswholes_97072(T2_141484);
LA3: ;
if (!LOC2) goto LA4;
LOC6 = Sonslen_55804((*T2_141484).N);
Result_141483 = ((NI64) (LOC6));
goto LA1;
LA4: ;
LOC7 = 0;
LOC7 = Skiptypes_97087(T_141482, IL64(47428533575745536));
Result_141483 = Lengthord_97007(LOC7);
LA1: ;
return Result_141483;
}
N_NIMCALL(TY55526*, Semcase_141494)(TY107012* C_141496, TY55526* N_141497) {
TY55526* Result_141498;
NIM_BOOL Chckcovered_141524;
NI64 Covered_141525;
TY55552* LOC1;
NI I_141546;
NI HEX3Atmp_146042;
NI LOC2;
NI Res_146044;
TY55526* X_141559;
NI Length_141561;
NIM_BOOL LOC5;
NI64 LOC7;
Result_141498 = 0;
Result_141498 = N_141497;
Checkminsonslen_107103(N_141497, 2);
Openscope_60146(&(*C_141496).Tab);
asgnRefNoCycle((void**) &(*N_141497).KindU.S6.Sons->data[0], Semexprwithtype_125122(C_141496, (*N_141497).KindU.S6.Sons->data[0], 0));
Chckcovered_141524 = 0;
Chckcovered_141524 = NIM_FALSE;
Covered_141525 = 0;
Covered_141525 = 0;
LOC1 = 0;
LOC1 = Skiptypes_97087((*(*N_141497).KindU.S6.Sons->data[0]).Typ, IL64(47446125761789952));
switch ((*LOC1).Kind) {
case ((NU8) 31) ... ((NU8) 35):
case ((NU8) 2):
case ((NU8) 14):
Chckcovered_141524 = NIM_TRUE;
break;
case ((NU8) 36) ... ((NU8) 39):
case ((NU8) 28):
break;
default:
Limessage_47569((*N_141497).Info, ((NU8) 105), ((NimStringDesc*) &TMP195927));
break;
}
I_141546 = 0;
HEX3Atmp_146042 = 0;
LOC2 = Sonslen_55804(N_141497);
HEX3Atmp_146042 = (NI32)(LOC2 - 1);
Res_146044 = 0;
Res_146044 = 1;
while (1) {
if (!(Res_146044 <= HEX3Atmp_146042)) goto LA3;
I_141546 = Res_146044;
X_141559 = 0;
X_141559 = (*N_141497).KindU.S6.Sons->data[I_141546];
switch ((*X_141559).Kind) {
case ((NU8) 75):
Checkminsonslen_107103(X_141559, 2);
Semcasebranch_131283(C_141496, N_141497, X_141559, I_141546, &Covered_141525);
Length_141561 = 0;
Length_141561 = Sonslen_55804(X_141559);
asgnRefNoCycle((void**) &(*X_141559).KindU.S6.Sons->data[(NI32)(Length_141561 - 1)], Semstmtscope_125104(C_141496, (*X_141559).KindU.S6.Sons->data[(NI32)(Length_141561 - 1)]));
break;
case ((NU8) 76):
Chckcovered_141524 = NIM_FALSE;
Checksonslen_107099(X_141559, 2);
asgnRefNoCycle((void**) &(*X_141559).KindU.S6.Sons->data[0], Semexprwithtype_125122(C_141496, (*X_141559).KindU.S6.Sons->data[0], 0));
Checkbool_129881((*X_141559).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*X_141559).KindU.S6.Sons->data[1], Semstmtscope_125104(C_141496, (*X_141559).KindU.S6.Sons->data[1]));
break;
case ((NU8) 78):
Chckcovered_141524 = NIM_FALSE;
Checksonslen_107099(X_141559, 1);
asgnRefNoCycle((void**) &(*X_141559).KindU.S6.Sons->data[0], Semstmtscope_125104(C_141496, (*X_141559).KindU.S6.Sons->data[0]));
break;
default:
Illformedast_107092(X_141559);
break;
}
Res_146044 += 1;
} LA3: ;
LOC5 = Chckcovered_141524;
if (!(LOC5)) goto LA6;
LOC7 = Tocover_141480((*(*N_141497).KindU.S6.Sons->data[0]).Typ);
LOC5 = !((Covered_141525 == LOC7));
LA6: ;
if (!LOC5) goto LA8;
Limessage_47569((*N_141497).Info, ((NU8) 148), ((NimStringDesc*) &TMP195927));
LA8: ;
Closescope_108018(&(*C_141496).Tab);
return Result_141498;
}
N_NIMCALL(TY55526*, Semreturn_141841)(TY107012* C_141843, TY55526* N_141844) {
TY55526* Result_141845;
TY55552* Restype_141846;
TY55526* A_141847;
NIM_BOOL LOC11;
TY55526* LOC18;
TY55526* LOC19;
Result_141845 = 0;
Restype_141846 = 0;
A_141847 = 0;
Result_141845 = N_141844;
Checksonslen_107099(N_141844, 1);
if (!!(((7077888 &(1<<(((*(*(*C_141843).P).Owner).Kind)&31)))!=0))) goto LA2;
Limessage_47569((*N_141844).Info, ((NU8) 160), ((NimStringDesc*) &TMP196163));
LA2: ;
if (!!(((*N_141844).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA5;
asgnRefNoCycle((void**) &(*N_141844).KindU.S6.Sons->data[0], Semexprwithtype_125122(C_141843, (*N_141844).KindU.S6.Sons->data[0], 0));
Restype_141846 = (*(*(*(*C_141843).P).Owner).Typ).Sons->data[0];
if (!!((Restype_141846 == NIM_NIL))) goto LA8;
A_141847 = Newnodei_55738(((NU8) 63), (*(*N_141844).KindU.S6.Sons->data[0]).Info);
asgnRefNoCycle((void**) &(*N_141844).KindU.S6.Sons->data[0], Fitnode_125129(C_141843, Restype_141846, (*N_141844).KindU.S6.Sons->data[0]));
LOC11 = ((*(*N_141844).KindU.S6.Sons->data[0]).Kind == ((NU8) 3));
if (!(LOC11)) goto LA12;
LOC11 = (((*(*(*N_141844).KindU.S6.Sons->data[0]).KindU.S4.Sym).Flags &(1<<((((NU8) 12))&31)))!=0);
LA12: ;
if (!LOC11) goto LA13;
asgnRefNoCycle((void**) &(*N_141844).KindU.S6.Sons->data[0], NIM_NIL);
goto LA10;
LA13: ;
if (!((*(*C_141843).P).Resultsym == NIM_NIL)) goto LA16;
Internalerror_47574((*N_141844).Info, ((NimStringDesc*) &TMP196164));
LA16: ;
LOC18 = 0;
LOC18 = Newsymnode_55735((*(*C_141843).P).Resultsym);
LOC19 = 0;
LOC19 = Semexprwithtype_125122(C_141843, LOC18, 0);
Addson_55824(A_141847, LOC19);
Addson_55824(A_141847, (*N_141844).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*N_141844).KindU.S6.Sons->data[0], A_141847);
LA10: ;
goto LA7;
LA8: ;
Limessage_47569((*N_141844).Info, ((NU8) 36), ((NimStringDesc*) &TMP195927));
LA7: ;
LA5: ;
return Result_141845;
}
N_NIMCALL(TY55526*, Semasm_141369)(TY107012* Con_141371, TY55526* N_141372) {
TY55526* Result_141373;
NIM_CHAR Marker_141386;
Result_141373 = 0;
Checksonslen_107099(N_141372, 2);
Marker_141386 = 0;
Marker_141386 = Pragmaasm_122034(Con_141371, (*N_141372).KindU.S6.Sons->data[0]);
if (!((NU8)(Marker_141386) == (NU8)(0))) goto LA2;
Marker_141386 = 96;
LA2: ;
Result_141373 = Semasmoremit_123596(Con_141371, N_141372, Marker_141386);
return Result_141373;
}
N_NIMCALL(TY55526*, Semyield_142057)(TY107012* C_142059, TY55526* N_142060) {
TY55526* Result_142061;
NIM_BOOL LOC2;
TY55552* Restype_142129;
Result_142061 = 0;
Result_142061 = N_142060;
Checksonslen_107099(N_142060, 1);
LOC2 = ((*(*C_142059).P).Owner == NIM_NIL);
if (LOC2) goto LA3;
LOC2 = !(((*(*(*C_142059).P).Owner).Kind == ((NU8) 12)));
LA3: ;
if (!LOC2) goto LA4;
Limessage_47569((*N_142060).Info, ((NU8) 34), ((NimStringDesc*) &TMP195927));
LA4: ;
if (!!(((*N_142060).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA7;
asgnRefNoCycle((void**) &(*N_142060).KindU.S6.Sons->data[0], Semexprwithtype_125122(C_142059, (*N_142060).KindU.S6.Sons->data[0], 0));
Restype_142129 = 0;
Restype_142129 = (*(*(*(*C_142059).P).Owner).Typ).Sons->data[0];
if (!!((Restype_142129 == NIM_NIL))) goto LA10;
asgnRefNoCycle((void**) &(*N_142060).KindU.S6.Sons->data[0], Fitnode_125129(C_142059, Restype_142129, (*N_142060).KindU.S6.Sons->data[0]));
if (!((*(*N_142060).KindU.S6.Sons->data[0]).Typ == NIM_NIL)) goto LA13;
Internalerror_47574((*N_142060).Info, ((NimStringDesc*) &TMP196165));
LA13: ;
goto LA9;
LA10: ;
Limessage_47569((*N_142060).Info, ((NU8) 36), ((NimStringDesc*) &TMP195927));
LA9: ;
LA7: ;
return Result_142061;
}
N_NIMCALL(void, Addgenericparamlisttoscope_143581)(TY107012* C_143583, TY55526* N_143584) {
NI I_143602;
NI HEX3Atmp_146071;
NI LOC4;
NI Res_146073;
TY55526* A_143615;
if (!!(((*N_143584).Kind == ((NU8) 65)))) goto LA2;
Internalerror_47574((*N_143584).Info, ((NimStringDesc*) &TMP196169));
LA2: ;
I_143602 = 0;
HEX3Atmp_146071 = 0;
LOC4 = Sonslen_55804(N_143584);
HEX3Atmp_146071 = (NI32)(LOC4 - 1);
Res_146073 = 0;
Res_146073 = 0;
while (1) {
if (!(Res_146073 <= HEX3Atmp_146071)) goto LA5;
I_143602 = Res_146073;
A_143615 = 0;
A_143615 = (*N_143584).KindU.S6.Sons->data[I_143602];
if (!!(((*A_143615).Kind == ((NU8) 3)))) goto LA7;
Internalerror_47574((*A_143615).Info, ((NimStringDesc*) &TMP196169));
LA7: ;
Adddecl_108114(C_143583, (*A_143615).KindU.S4.Sym);
Res_146073 += 1;
} LA5: ;
}
N_NIMCALL(TY55526*, Evaltemplateargs_125427)(TY107012* C_125429, TY55526* N_125430, TY55548* S_125431) {
TY55526* Result_125432;
NI F_125433;
NI A_125434;
TY55526* Arg_125435;
NI I_125448;
NI HEX3Atmp_126076;
NI Res_126078;
TY55526* LOC14;
Result_125432 = 0;
F_125433 = 0;
A_125434 = 0;
Arg_125435 = 0;
F_125433 = Sonslen_55807((*S_125431).Typ);
switch ((*N_125430).Kind) {
case ((NU8) 21):
case ((NU8) 27):
case ((NU8) 28):
case ((NU8) 29):
case ((NU8) 20):
case ((NU8) 22):
A_125434 = Sonslen_55804(N_125430);
break;
default:
A_125434 = 0;
break;
}
if (!(F_125433 < A_125434)) goto LA2;
Limessage_47569((*N_125430).Info, ((NU8) 130), ((NimStringDesc*) &TMP195927));
LA2: ;
Result_125432 = Copynode_55856(N_125430);
I_125448 = 0;
HEX3Atmp_126076 = 0;
HEX3Atmp_126076 = (NI32)(F_125433 - 1);
Res_126078 = 0;
Res_126078 = 1;
while (1) {
if (!(Res_126078 <= HEX3Atmp_126076)) goto LA4;
I_125448 = Res_126078;
if (!(I_125448 < A_125434)) goto LA6;
Arg_125435 = (*N_125430).KindU.S6.Sons->data[I_125448];
goto LA5;
LA6: ;
Arg_125435 = Copytree_55859((*(*(*(*(*S_125431).Typ).N).KindU.S6.Sons->data[I_125448]).KindU.S4.Sym).Ast);
LA5: ;
if (!(Arg_125435 == NIM_NIL)) goto LA9;
Limessage_47569((*N_125430).Info, ((NU8) 130), ((NimStringDesc*) &TMP195927));
LA9: ;
if (!!(((*(*(*S_125431).Typ).Sons->data[I_125448]).Kind == ((NU8) 8) || (*(*(*S_125431).Typ).Sons->data[I_125448]).Kind == ((NU8) 7) || (*(*(*S_125431).Typ).Sons->data[I_125448]).Kind == ((NU8) 6)))) goto LA12;
LOC14 = 0;
LOC14 = Semexprwithtype_125122(C_125429, Arg_125435, 0);
Arg_125435 = Fitnode_125129(C_125429, (*(*S_125431).Typ).Sons->data[I_125448], LOC14);
LA12: ;
Addson_55824(Result_125432, Arg_125435);
Res_126078 += 1;
} LA4: ;
return Result_125432;
}
N_NIMCALL(TY55526*, Evaltemplateaux_125339)(TY107012* C_125341, TY55526* Templ_125342, TY55526* Actual_125343, TY55548* Sym_125344) {
TY55526* Result_125345;
TY55548* P_125346;
NIM_BOOL LOC5;
NI LOC9;
NI I_125401;
NI HEX3Atmp_126073;
NI LOC10;
NI Res_126075;
Result_125345 = 0;
P_125346 = 0;
if (!(Templ_125342 == NIM_NIL)) goto LA2;
Result_125345 = NIM_NIL;
goto BeforeRet;
LA2: ;
switch ((*Templ_125342).Kind) {
case ((NU8) 3):
P_125346 = (*Templ_125342).KindU.S4.Sym;
LOC5 = ((*P_125346).Kind == ((NU8) 3));
if (!(LOC5)) goto LA6;
LOC5 = ((*(*P_125346).Owner).Sup.Id == (*Sym_125344).Sup.Id);
LA6: ;
if (!LOC5) goto LA7;
Result_125345 = Copytree_55859((*Actual_125343).KindU.S6.Sons->data[(*P_125346).Position]);
goto LA4;
LA7: ;
Result_125345 = Copynode_55856(Templ_125342);
LA4: ;
break;
case ((NU8) 0) ... ((NU8) 2):
case ((NU8) 4) ... ((NU8) 18):
Result_125345 = Copynode_55856(Templ_125342);
break;
default:
Result_125345 = Copynode_55856(Templ_125342);
LOC9 = Sonslen_55804(Templ_125342);
Newsons_55816(Result_125345, LOC9);
I_125401 = 0;
HEX3Atmp_126073 = 0;
LOC10 = Sonslen_55804(Templ_125342);
HEX3Atmp_126073 = (NI32)(LOC10 - 1);
Res_126075 = 0;
Res_126075 = 0;
while (1) {
if (!(Res_126075 <= HEX3Atmp_126073)) goto LA11;
I_125401 = Res_126075;
asgnRefNoCycle((void**) &(*Result_125345).KindU.S6.Sons->data[I_125401], Evaltemplateaux_125339(C_125341, (*Templ_125342).KindU.S6.Sons->data[I_125401], Actual_125343, Sym_125344));
Res_126075 += 1;
} LA11: ;
break;
}
BeforeRet: ;
return Result_125345;
}
N_NIMCALL(TY55526*, Evaltemplate_125512)(TY107012* C_125514, TY55526* N_125515, TY55548* Sym_125516) {
TY55526* Result_125517;
TY55526* Args_125518;
Result_125517 = 0;
Args_125518 = 0;
Evaltemplatecounter_125426 += 1;
if (!(100 < Evaltemplatecounter_125426)) goto LA2;
Limessage_47569((*N_125515).Info, ((NU8) 180), ((NimStringDesc*) &TMP195927));
LA2: ;
Args_125518 = Evaltemplateargs_125427(C_125514, N_125515, Sym_125516);
Result_125517 = Evaltemplateaux_125339(C_125514, (*(*Sym_125516).Ast).KindU.S6.Sons->data[4], Args_125518, Sym_125516);
Evaltemplatecounter_125426 -= 1;
return Result_125517;
}
N_NIMCALL(TY55526*, Semtemplateexpr_133037)(TY107012* C_133039, TY55526* N_133040, TY55548* S_133041, NIM_BOOL Semcheck_133042) {
TY55526* Result_133043;
Result_133043 = 0;
Markused_125065(N_133040, S_133041);
Pushinfocontext_47613((*N_133040).Info);
Result_133043 = Evaltemplate_125512(C_133039, N_133040, S_133041);
if (!Semcheck_133042) goto LA2;
Result_133043 = Semaftermacrocall_125246(C_133039, Result_133043, S_133041);
LA2: ;
Popinfocontext_47616();
return Result_133043;
}
N_NIMCALL(TY55526*, Semgenericstmtsymbol_139135)(TY107012* C_139137, TY55526* N_139138, TY55548* S_139139) {
TY55526* Result_139140;
NIM_BOOL LOC2;
Result_139140 = 0;
(*S_139139).Flags |=(1<<((NI32)(((NU8) 0))%(sizeof(NI32)*8)));
switch ((*S_139139).Kind) {
case ((NU8) 0):
Result_139140 = N_139138;
break;
case ((NU8) 10):
case ((NU8) 11):
case ((NU8) 12):
case ((NU8) 13):
Result_139140 = Symchoice_125559(C_139137, N_139138, S_139139);
break;
case ((NU8) 15):
Result_139140 = Semtemplateexpr_133037(C_139137, N_139138, S_139139, NIM_FALSE);
break;
case ((NU8) 14):
Result_139140 = Semmacroexpr_126085(C_139137, N_139138, S_139139, NIM_FALSE);
break;
case ((NU8) 4):
Result_139140 = Newsymnode_55735(S_139139);
break;
case ((NU8) 3):
Result_139140 = N_139138;
break;
case ((NU8) 7):
LOC2 = !(((*S_139139).Typ == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC2 = !(((*(*S_139139).Typ).Kind == ((NU8) 12)));
LA3: ;
if (!LOC2) goto LA4;
Result_139140 = Newsymnode_55735(S_139139);
goto LA1;
LA4: ;
Result_139140 = N_139138;
LA1: ;
break;
default:
Result_139140 = Newsymnode_55735(S_139139);
break;
}
return Result_139140;
}
N_NIMCALL(NIM_BOOL, Iscallexpr_138494)(TY55526* N_138496) {
NIM_BOOL Result_138497;
Result_138497 = 0;
Result_138497 = ((*N_138496).Kind == ((NU8) 21) || (*N_138496).Kind == ((NU8) 27) || (*N_138496).Kind == ((NU8) 28) || (*N_138496).Kind == ((NU8) 29) || (*N_138496).Kind == ((NU8) 20) || (*N_138496).Kind == ((NU8) 22));
return Result_138497;
}
N_NIMCALL(TY55526*, Semmacrostmt_138510)(TY107012* C_138512, TY55526* N_138513, NIM_BOOL Semcheck_138514) {
TY55526* Result_138515;
TY55526* A_138516;
NIM_BOOL LOC2;
TY55548* S_138566;
NIM_BOOL LOC9;
NI I_138610;
NI HEX3Atmp_145969;
NI LOC12;
NI Res_145971;
NI I_138643;
NI HEX3Atmp_145972;
NI LOC14;
NI Res_145974;
NimStringDesc* LOC16;
Result_138515 = 0;
Checkminsonslen_107103(N_138513, 2);
A_138516 = 0;
LOC2 = Iscallexpr_138494((*N_138513).KindU.S6.Sons->data[0]);
if (!LOC2) goto LA3;
A_138516 = (*(*N_138513).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[0];
goto LA1;
LA3: ;
A_138516 = (*N_138513).KindU.S6.Sons->data[0];
LA1: ;
S_138566 = 0;
S_138566 = Qualifiedlookup_108322(C_138512, A_138516, 2);
if (!!((S_138566 == NIM_NIL))) goto LA6;
switch ((*S_138566).Kind) {
case ((NU8) 14):
Result_138515 = Semmacroexpr_126085(C_138512, N_138513, S_138566, Semcheck_138514);
break;
case ((NU8) 15):
Result_138515 = Newnodei_55738(((NU8) 21), (*N_138513).Info);
Addson_55824(Result_138515, A_138516);
LOC9 = Iscallexpr_138494((*N_138513).KindU.S6.Sons->data[0]);
if (!LOC9) goto LA10;
I_138610 = 0;
HEX3Atmp_145969 = 0;
LOC12 = Sonslen_55804((*N_138513).KindU.S6.Sons->data[0]);
HEX3Atmp_145969 = (NI32)(LOC12 - 1);
Res_145971 = 0;
Res_145971 = 1;
while (1) {
if (!(Res_145971 <= HEX3Atmp_145969)) goto LA13;
I_138610 = Res_145971;
Addson_55824(Result_138515, (*(*N_138513).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[I_138610]);
Res_145971 += 1;
} LA13: ;
LA10: ;
I_138643 = 0;
HEX3Atmp_145972 = 0;
LOC14 = Sonslen_55804(N_138513);
HEX3Atmp_145972 = (NI32)(LOC14 - 1);
Res_145974 = 0;
Res_145974 = 1;
while (1) {
if (!(Res_145974 <= HEX3Atmp_145972)) goto LA15;
I_138643 = Res_145974;
Addson_55824(Result_138515, (*N_138513).KindU.S6.Sons->data[I_138643]);
Res_145974 += 1;
} LA15: ;
Result_138515 = Semtemplateexpr_133037(C_138512, Result_138515, S_138566, Semcheck_138514);
break;
default:
Limessage_47569((*N_138513).Info, ((NU8) 205), (*(*S_138566).Name).S);
break;
}
goto LA5;
LA6: ;
LOC16 = 0;
LOC16 = Rendertree_85042(A_138516, 4);
Limessage_47569((*N_138513).Info, ((NU8) 166), LOC16);
LA5: ;
return Result_138515;
}
N_NIMCALL(TY55526*, Getidentnode_139173)(TY55526* N_139175) {
TY55526* Result_139176;
Result_139176 = 0;
switch ((*N_139175).Kind) {
case ((NU8) 29):
Result_139176 = Getidentnode_139173((*N_139175).KindU.S6.Sons->data[1]);
break;
case ((NU8) 34):
case ((NU8) 43):
Result_139176 = Getidentnode_139173((*N_139175).KindU.S6.Sons->data[0]);
break;
case ((NU8) 2):
Result_139176 = N_139175;
break;
default:
Illformedast_107092(N_139175);
Result_139176 = NIM_NIL;
break;
}
return Result_139176;
}
N_NIMCALL(TY55526*, Semgenericstmt_139118)(TY107012* C_139120, TY55526* N_139121, NU8 Flags_139124) {
TY55526* Result_139208;
NI L_139209;
TY55526* A_139210;
TY55548* S_139234;
TY55548* S_139282;
TY55548* S_139321;
NIM_BOOL LOC20;
NI I_139433;
NI HEX3Atmp_145975;
NI LOC24;
NI Res_145977;
NI I_139466;
NI HEX3Atmp_145978;
NI LOC26;
NI Res_145980;
NI I_139500;
NI HEX3Atmp_145981;
NI LOC28;
NI Res_145983;
NI I_139559;
NI HEX3Atmp_145987;
NI LOC30;
NI Res_145989;
NI J_139580;
NI HEX3Atmp_145984;
NI Res_145986;
NI I_139663;
NI HEX3Atmp_145990;
NI Res_145992;
TY55548* LOC34;
TY55548* LOC38;
NI I_139794;
NI HEX3Atmp_145996;
NI LOC39;
NI Res_145998;
NI J_139815;
NI HEX3Atmp_145993;
NI Res_145995;
NI I_139873;
NI HEX3Atmp_146003;
NI LOC42;
NI Res_146005;
NIM_BOOL LOC49;
NI J_139970;
NI HEX3Atmp_146000;
NI Res_146002;
TY55526* LOC54;
TY55548* LOC55;
NI I_139991;
NI HEX3Atmp_146009;
NI LOC56;
NI Res_146011;
NI J_140046;
NI HEX3Atmp_146006;
NI Res_146008;
TY55526* LOC62;
TY55548* LOC63;
NI I_140067;
NI HEX3Atmp_146013;
NI LOC64;
NI Res_146015;
TY55526* LOC73;
TY55548* LOC74;
NI I_140167;
NI HEX3Atmp_146017;
NI LOC75;
NI Res_146019;
TY55526* LOC84;
TY55548* LOC85;
NI I_140218;
NI HEX3Atmp_146021;
NI LOC86;
NI Res_146023;
NI I_140404;
NI HEX3Atmp_146024;
NI LOC101;
NI Res_146026;
TY55526* LOC103;
TY55548* LOC104;
NI I_140521;
NI HEX3Atmp_146030;
NI LOC108;
NI Res_146032;
NI J_140600;
NI HEX3Atmp_146027;
NI Res_146029;
TY55526* LOC114;
TY55548* LOC115;
TY55526* LOC116;
TY55548* LOC117;
TY54011* LOC124;
TY55548* LOC125;
NI I_140789;
NI HEX3Atmp_146033;
NI LOC126;
NI Res_146035;
Result_139208 = 0;
L_139209 = 0;
A_139210 = 0;
Result_139208 = N_139121;
if (!(N_139121 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*N_139121).Kind) {
case ((NU8) 2):
S_139234 = 0;
S_139234 = Symtabget_60116((*C_139120).Tab, (*N_139121).KindU.S5.Ident);
if (!(S_139234 == NIM_NIL)) goto LA5;
if (!((Flags_139124 &(1<<((((NU8) 0))&7)))!=0)) goto LA8;
Limessage_47569((*N_139121).Info, ((NU8) 58), (*(*N_139121).KindU.S5.Ident).S);
LA8: ;
goto LA4;
LA5: ;
if (!((Flags_139124 &(1<<((((NU8) 0))&7)))!=0)) goto LA11;
Result_139208 = Symchoice_125559(C_139120, N_139121, S_139234);
goto LA10;
LA11: ;
Result_139208 = Semgenericstmtsymbol_139135(C_139120, N_139121, S_139234);
LA10: ;
LA4: ;
break;
case ((NU8) 36):
S_139282 = 0;
S_139282 = Qualifiedlookup_108322(C_139120, N_139121, 0);
if (!!((S_139282 == NIM_NIL))) goto LA14;
Result_139208 = Semgenericstmtsymbol_139135(C_139120, N_139121, S_139282);
LA14: ;
break;
case ((NU8) 3) ... ((NU8) 18):
break;
case ((NU8) 45):
Result_139208 = Semgenericstmt_139118(C_139120, (*N_139121).KindU.S6.Sons->data[0], 1);
break;
case ((NU8) 21):
case ((NU8) 49):
case ((NU8) 27):
case ((NU8) 28):
case ((NU8) 20):
case ((NU8) 22):
Checkminsonslen_107103(N_139121, 1);
S_139321 = 0;
S_139321 = Qualifiedlookup_108322(C_139120, (*N_139121).KindU.S6.Sons->data[0], 0);
if (!!((S_139321 == NIM_NIL))) goto LA17;
(*S_139321).Flags |=(1<<((NI32)(((NU8) 0))%(sizeof(NI32)*8)));
switch ((*S_139321).Kind) {
case ((NU8) 14):
Result_139208 = Semmacroexpr_126085(C_139120, N_139121, S_139321, NIM_FALSE);
goto BeforeRet;
break;
case ((NU8) 15):
Result_139208 = Semtemplateexpr_133037(C_139120, N_139121, S_139321, NIM_FALSE);
goto BeforeRet;
break;
case ((NU8) 0):
case ((NU8) 3):
break;
case ((NU8) 10):
case ((NU8) 11):
case ((NU8) 12):
case ((NU8) 13):
asgnRefNoCycle((void**) &(*N_139121).KindU.S6.Sons->data[0], Symchoice_125559(C_139120, (*N_139121).KindU.S6.Sons->data[0], S_139321));
break;
case ((NU8) 4):
asgnRefNoCycle((void**) &(*N_139121).KindU.S6.Sons->data[0], Newsymnode_55735(S_139321));
break;
case ((NU8) 7):
LOC20 = !(((*S_139321).Typ == NIM_NIL));
if (!(LOC20)) goto LA21;
LOC20 = !(((*(*S_139321).Typ).Kind == ((NU8) 12)));
LA21: ;
if (!LOC20) goto LA22;
asgnRefNoCycle((void**) &(*N_139121).KindU.S6.Sons->data[0], Newsymnode_55735(S_139321));
LA22: ;
break;
default:
asgnRefNoCycle((void**) &(*N_139121).KindU.S6.Sons->data[0], Newsymnode_55735(S_139321));
break;
}
LA17: ;
I_139433 = 0;
HEX3Atmp_145975 = 0;
LOC24 = Sonslen_55804(N_139121);
HEX3Atmp_145975 = (NI32)(LOC24 - 1);
Res_145977 = 0;
Res_145977 = 1;
while (1) {
if (!(Res_145977 <= HEX3Atmp_145975)) goto LA25;
I_139433 = Res_145977;
asgnRefNoCycle((void**) &(*N_139121).KindU.S6.Sons->data[I_139433], Semgenericstmt_139118(C_139120, (*N_139121).KindU.S6.Sons->data[I_139433], Flags_139124));
Res_145977 += 1;
} LA25: ;
break;
case ((NU8) 79):
Result_139208 = Semmacrostmt_138510(C_139120, N_139121, NIM_FALSE);
break;
case ((NU8) 82):
I_139466 = 0;
HEX3Atmp_145978 = 0;
LOC26 = Sonslen_55804(N_139121);
HEX3Atmp_145978 = (NI32)(LOC26 - 1);
Res_145980 = 0;
Res_145980 = 0;
while (1) {
if (!(Res_145980 <= HEX3Atmp_145978)) goto LA27;
I_139466 = Res_145980;
asgnRefNoCycle((void**) &(*N_139121).KindU.S6.Sons->data[I_139466], Semgenericstmtscope_139125(C_139120, (*N_139121).KindU.S6.Sons->data[I_139466], 0));
Res_145980 += 1;
} LA27: ;
break;
case ((NU8) 85):
Openscope_60146(&(*C_139120).Tab);
I_139500 = 0;
HEX3Atmp_145981 = 0;
LOC28 = Sonslen_55804(N_139121);
HEX3Atmp_145981 = (NI32)(LOC28 - 1);
Res_145983 = 0;
Res_145983 = 0;
while (1) {
if (!(Res_145983 <= HEX3Atmp_145981)) goto LA29;
I_139500 = Res_145983;
asgnRefNoCycle((void**) &(*N_139121).KindU.S6.Sons->data[I_139500], Semgenericstmt_139118(C_139120, (*N_139121).KindU.S6.Sons->data[I_139500], 0));
Res_145983 += 1;
} LA29: ;
Closescope_108018(&(*C_139120).Tab);
break;
case ((NU8) 86):
Openscope_60146(&(*C_139120).Tab);
asgnRefNoCycle((void**) &(*N_139121).KindU.S6.Sons->data[0], Semgenericstmt_139118(C_139120, (*N_139121).KindU.S6.Sons->data[0], 0));
I_139559 = 0;
HEX3Atmp_145987 = 0;
LOC30 = Sonslen_55804(N_139121);
HEX3Atmp_145987 = (NI32)(LOC30 - 1);
Res_145989 = 0;
Res_145989 = 1;
while (1) {
if (!(Res_145989 <= HEX3Atmp_145987)) goto LA31;
I_139559 = Res_145989;
A_139210 = (*N_139121).KindU.S6.Sons->data[I_139559];
Checkminsonslen_107103(A_139210, 1);
L_139209 = Sonslen_55804(A_139210);
J_139580 = 0;
HEX3Atmp_145984 = 0;
HEX3Atmp_145984 = (NI32)(L_139209 - 2);
Res_145986 = 0;
Res_145986 = 0;
while (1) {
if (!(Res_145986 <= HEX3Atmp_145984)) goto LA32;
J_139580 = Res_145986;
asgnRefNoCycle((void**) &(*A_139210).KindU.S6.Sons->data[J_139580], Semgenericstmt_139118(C_139120, (*A_139210).KindU.S6.Sons->data[J_139580], 0));
Res_145986 += 1;
} LA32: ;
asgnRefNoCycle((void**) &(*A_139210).KindU.S6.Sons->data[(NI32)(L_139209 - 1)], Semgenericstmtscope_139125(C_139120, (*A_139210).KindU.S6.Sons->data[(NI32)(L_139209 - 1)], 0));
Res_145989 += 1;
} LA31: ;
Closescope_108018(&(*C_139120).Tab);
break;
case ((NU8) 84):
L_139209 = Sonslen_55804(N_139121);
Openscope_60146(&(*C_139120).Tab);
asgnRefNoCycle((void**) &(*N_139121).KindU.S6.Sons->data[(NI32)(L_139209 - 2)], Semgenericstmt_139118(C_139120, (*N_139121).KindU.S6.Sons->data[(NI32)(L_139209 - 2)], 0));
I_139663 = 0;
HEX3Atmp_145990 = 0;
HEX3Atmp_145990 = (NI32)(L_139209 - 3);
Res_145992 = 0;
Res_145992 = 0;
while (1) {
if (!(Res_145992 <= HEX3Atmp_145990)) goto LA33;
I_139663 = Res_145992;
LOC34 = 0;
LOC34 = Newsyms_125059(((NU8) 0), (*N_139121).KindU.S6.Sons->data[I_139663], C_139120);
Adddecl_108114(C_139120, LOC34);
Res_145992 += 1;
} LA33: ;
asgnRefNoCycle((void**) &(*N_139121).KindU.S6.Sons->data[(NI32)(L_139209 - 1)], Semgenericstmt_139118(C_139120, (*N_139121).KindU.S6.Sons->data[(NI32)(L_139209 - 1)], 0));
Closescope_108018(&(*C_139120).Tab);
break;
case ((NU8) 99):
case ((NU8) 107):
case ((NU8) 109):
Checksonslen_107099(N_139121, 2);
Openscope_60146(&(*C_139120).Tab);
if (!!(((*N_139121).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA36;
LOC38 = 0;
LOC38 = Newsyms_125059(((NU8) 0), (*N_139121).KindU.S6.Sons->data[0], C_139120);
Adddecl_108114(C_139120, LOC38);
LA36: ;
asgnRefNoCycle((void**) &(*N_139121).KindU.S6.Sons->data[1], Semgenericstmt_139118(C_139120, (*N_139121).KindU.S6.Sons->data[1], 0));
Closescope_108018(&(*C_139120).Tab);
break;
case ((NU8) 93):
Checkminsonslen_107103(N_139121, 2);
asgnRefNoCycle((void**) &(*N_139121).KindU.S6.Sons->data[0], Semgenericstmtscope_139125(C_139120, (*N_139121).KindU.S6.Sons->data[0], 0));
I_139794 = 0;
HEX3Atmp_145996 = 0;
LOC39 = Sonslen_55804(N_139121);
HEX3Atmp_145996 = (NI32)(LOC39 - 1);
Res_145998 = 0;
Res_145998 = 1;
while (1) {
if (!(Res_145998 <= HEX3Atmp_145996)) goto LA40;
I_139794 = Res_145998;
A_139210 = (*N_139121).KindU.S6.Sons->data[I_139794];
Checkminsonslen_107103(A_139210, 1);
L_139209 = Sonslen_55804(A_139210);
J_139815 = 0;
HEX3Atmp_145993 = 0;
HEX3Atmp_145993 = (NI32)(L_139209 - 2);
Res_145995 = 0;
Res_145995 = 0;
while (1) {
if (!(Res_145995 <= HEX3Atmp_145993)) goto LA41;
J_139815 = Res_145995;
asgnRefNoCycle((void**) &(*A_139210).KindU.S6.Sons->data[J_139815], Semgenericstmt_139118(C_139120, (*A_139210).KindU.S6.Sons->data[J_139815], 2));
Res_145995 += 1;
} LA41: ;
asgnRefNoCycle((void**) &(*A_139210).KindU.S6.Sons->data[(NI32)(L_139209 - 1)], Semgenericstmtscope_139125(C_139120, (*A_139210).KindU.S6.Sons->data[(NI32)(L_139209 - 1)], 0));
Res_145998 += 1;
} LA40: ;
break;
case ((NU8) 87):
I_139873 = 0;
HEX3Atmp_146003 = 0;
LOC42 = Sonslen_55804(N_139121);
HEX3Atmp_146003 = (NI32)(LOC42 - 1);
Res_146005 = 0;
Res_146005 = 0;
while (1) {
if (!(Res_146005 <= HEX3Atmp_146003)) goto LA43;
I_139873 = Res_146005;
A_139210 = (*N_139121).KindU.S6.Sons->data[I_139873];
if (!((*A_139210).Kind == ((NU8) 105))) goto LA46;
goto LA44;
LA46: ;
LOC49 = !(((*A_139210).Kind == ((NU8) 25)));
if (!(LOC49)) goto LA50;
LOC49 = !(((*A_139210).Kind == ((NU8) 26)));
LA50: ;
if (!LOC49) goto LA51;
Illformedast_107092(A_139210);
LA51: ;
Checkminsonslen_107103(A_139210, 3);
L_139209 = Sonslen_55804(A_139210);
asgnRefNoCycle((void**) &(*A_139210).KindU.S6.Sons->data[(NI32)(L_139209 - 2)], Semgenericstmt_139118(C_139120, (*A_139210).KindU.S6.Sons->data[(NI32)(L_139209 - 2)], 2));
asgnRefNoCycle((void**) &(*A_139210).KindU.S6.Sons->data[(NI32)(L_139209 - 1)], Semgenericstmt_139118(C_139120, (*A_139210).KindU.S6.Sons->data[(NI32)(L_139209 - 1)], 0));
J_139970 = 0;
HEX3Atmp_146000 = 0;
HEX3Atmp_146000 = (NI32)(L_139209 - 3);
Res_146002 = 0;
Res_146002 = 0;
while (1) {
if (!(Res_146002 <= HEX3Atmp_146000)) goto LA53;
J_139970 = Res_146002;
LOC54 = 0;
LOC54 = Getidentnode_139173((*A_139210).KindU.S6.Sons->data[J_139970]);
LOC55 = 0;
LOC55 = Newsyms_125059(((NU8) 0), LOC54, C_139120);
Adddecl_108114(C_139120, LOC55);
Res_146002 += 1;
} LA53: ;
LA44: ;
Res_146005 += 1;
} LA43: ;
break;
case ((NU8) 65):
I_139991 = 0;
HEX3Atmp_146009 = 0;
LOC56 = Sonslen_55804(N_139121);
HEX3Atmp_146009 = (NI32)(LOC56 - 1);
Res_146011 = 0;
Res_146011 = 0;
while (1) {
if (!(Res_146011 <= HEX3Atmp_146009)) goto LA57;
I_139991 = Res_146011;
A_139210 = (*N_139121).KindU.S6.Sons->data[I_139991];
if (!!(((*A_139210).Kind == ((NU8) 25)))) goto LA59;
Illformedast_107092(A_139210);
LA59: ;
Checkminsonslen_107103(A_139210, 3);
L_139209 = Sonslen_55804(A_139210);
asgnRefNoCycle((void**) &(*A_139210).KindU.S6.Sons->data[(NI32)(L_139209 - 2)], Semgenericstmt_139118(C_139120, (*A_139210).KindU.S6.Sons->data[(NI32)(L_139209 - 2)], 2));
J_140046 = 0;
HEX3Atmp_146006 = 0;
HEX3Atmp_146006 = (NI32)(L_139209 - 3);
Res_146008 = 0;
Res_146008 = 0;
while (1) {
if (!(Res_146008 <= HEX3Atmp_146006)) goto LA61;
J_140046 = Res_146008;
LOC62 = 0;
LOC62 = Getidentnode_139173((*A_139210).KindU.S6.Sons->data[J_140046]);
LOC63 = 0;
LOC63 = Newsyms_125059(((NU8) 0), LOC62, C_139120);
Adddecl_108114(C_139120, LOC63);
Res_146008 += 1;
} LA61: ;
Res_146011 += 1;
} LA57: ;
break;
case ((NU8) 88):
I_140067 = 0;
HEX3Atmp_146013 = 0;
LOC64 = Sonslen_55804(N_139121);
HEX3Atmp_146013 = (NI32)(LOC64 - 1);
Res_146015 = 0;
Res_146015 = 0;
while (1) {
if (!(Res_146015 <= HEX3Atmp_146013)) goto LA65;
I_140067 = Res_146015;
A_139210 = (*N_139121).KindU.S6.Sons->data[I_140067];
if (!((*A_139210).Kind == ((NU8) 105))) goto LA68;
goto LA66;
LA68: ;
if (!!(((*A_139210).Kind == ((NU8) 89)))) goto LA71;
Illformedast_107092(A_139210);
LA71: ;
Checksonslen_107099(A_139210, 3);
LOC73 = 0;
LOC73 = Getidentnode_139173((*A_139210).KindU.S6.Sons->data[0]);
LOC74 = 0;
LOC74 = Newsyms_125059(((NU8) 0), LOC73, C_139120);
Adddecl_108114(C_139120, LOC74);
asgnRefNoCycle((void**) &(*A_139210).KindU.S6.Sons->data[1], Semgenericstmt_139118(C_139120, (*A_139210).KindU.S6.Sons->data[1], 2));
asgnRefNoCycle((void**) &(*A_139210).KindU.S6.Sons->data[2], Semgenericstmt_139118(C_139120, (*A_139210).KindU.S6.Sons->data[2], 0));
LA66: ;
Res_146015 += 1;
} LA65: ;
break;
case ((NU8) 90):
I_140167 = 0;
HEX3Atmp_146017 = 0;
LOC75 = Sonslen_55804(N_139121);
HEX3Atmp_146017 = (NI32)(LOC75 - 1);
Res_146019 = 0;
Res_146019 = 0;
while (1) {
if (!(Res_146019 <= HEX3Atmp_146017)) goto LA76;
I_140167 = Res_146019;
A_139210 = (*N_139121).KindU.S6.Sons->data[I_140167];
if (!((*A_139210).Kind == ((NU8) 105))) goto LA79;
goto LA77;
LA79: ;
if (!!(((*A_139210).Kind == ((NU8) 91)))) goto LA82;
Illformedast_107092(A_139210);
LA82: ;
Checksonslen_107099(A_139210, 3);
LOC84 = 0;
LOC84 = Getidentnode_139173((*A_139210).KindU.S6.Sons->data[0]);
LOC85 = 0;
LOC85 = Newsyms_125059(((NU8) 0), LOC84, C_139120);
Adddecl_108114(C_139120, LOC85);
LA77: ;
Res_146019 += 1;
} LA76: ;
I_140218 = 0;
HEX3Atmp_146021 = 0;
LOC86 = Sonslen_55804(N_139121);
HEX3Atmp_146021 = (NI32)(LOC86 - 1);
Res_146023 = 0;
Res_146023 = 0;
while (1) {
if (!(Res_146023 <= HEX3Atmp_146021)) goto LA87;
I_140218 = Res_146023;
A_139210 = (*N_139121).KindU.S6.Sons->data[I_140218];
if (!((*A_139210).Kind == ((NU8) 105))) goto LA90;
goto LA88;
LA90: ;
if (!!(((*A_139210).Kind == ((NU8) 91)))) goto LA93;
Illformedast_107092(A_139210);
LA93: ;
Checksonslen_107099(A_139210, 3);
if (!!(((*A_139210).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA96;
Openscope_60146(&(*C_139120).Tab);
asgnRefNoCycle((void**) &(*A_139210).KindU.S6.Sons->data[1], Semgenericstmt_139118(C_139120, (*A_139210).KindU.S6.Sons->data[1], 0));
asgnRefNoCycle((void**) &(*A_139210).KindU.S6.Sons->data[2], Semgenericstmt_139118(C_139120, (*A_139210).KindU.S6.Sons->data[2], 2));
Closescope_108018(&(*C_139120).Tab);
goto LA95;
LA96: ;
asgnRefNoCycle((void**) &(*A_139210).KindU.S6.Sons->data[2], Semgenericstmt_139118(C_139120, (*A_139210).KindU.S6.Sons->data[2], 2));
LA95: ;
LA88: ;
Res_146023 += 1;
} LA87: ;
break;
case ((NU8) 121):
Checkminsonslen_107103(N_139121, 1);
if (!!(((*N_139121).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA99;
asgnRefNoCycle((void**) &(*N_139121).KindU.S6.Sons->data[0], Semgenericstmt_139118(C_139120, (*N_139121).KindU.S6.Sons->data[0], 2));
LA99: ;
I_140404 = 0;
HEX3Atmp_146024 = 0;
LOC101 = Sonslen_55804(N_139121);
HEX3Atmp_146024 = (NI32)(LOC101 - 1);
Res_146026 = 0;
Res_146026 = 1;
while (1) {
if (!(Res_146026 <= HEX3Atmp_146024)) goto LA102;
I_140404 = Res_146026;
switch ((*(*N_139121).KindU.S6.Sons->data[I_140404]).Kind) {
case ((NU8) 122):
A_139210 = (*(*N_139121).KindU.S6.Sons->data[I_140404]).KindU.S6.Sons->data[0];
break;
case ((NU8) 2):
A_139210 = (*N_139121).KindU.S6.Sons->data[I_140404];
break;
default:
Illformedast_107092(N_139121);
break;
}
LOC103 = 0;
LOC103 = Getidentnode_139173((*A_139210).KindU.S6.Sons->data[I_140404]);
LOC104 = 0;
LOC104 = Newsyms_125059(((NU8) 0), LOC103, C_139120);
Adddeclat_108128(C_139120, LOC104, ((NI) ((NI32)(((NI) ((*C_139120).Tab.Tos)) - 1))));
Res_146026 += 1;
} LA102: ;
break;
case ((NU8) 111):
case ((NU8) 112):
break;
case ((NU8) 66):
Checkminsonslen_107103(N_139121, 1);
if (!!(((*N_139121).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA106;
asgnRefNoCycle((void**) &(*N_139121).KindU.S6.Sons->data[0], Semgenericstmt_139118(C_139120, (*N_139121).KindU.S6.Sons->data[0], 2));
LA106: ;
I_140521 = 0;
HEX3Atmp_146030 = 0;
LOC108 = Sonslen_55804(N_139121);
HEX3Atmp_146030 = (NI32)(LOC108 - 1);
Res_146032 = 0;
Res_146032 = 1;
while (1) {
if (!(Res_146032 <= HEX3Atmp_146030)) goto LA109;
I_140521 = Res_146032;
A_139210 = (*N_139121).KindU.S6.Sons->data[I_140521];
if (!!(((*A_139210).Kind == ((NU8) 25)))) goto LA111;
Illformedast_107092(A_139210);
LA111: ;
Checkminsonslen_107103(A_139210, 3);
L_139209 = Sonslen_55804(A_139210);
asgnRefNoCycle((void**) &(*A_139210).KindU.S6.Sons->data[(NI32)(L_139209 - 1)], Semgenericstmt_139118(C_139120, (*A_139210).KindU.S6.Sons->data[(NI32)(L_139209 - 2)], 2));
asgnRefNoCycle((void**) &(*A_139210).KindU.S6.Sons->data[(NI32)(L_139209 - 1)], Semgenericstmt_139118(C_139120, (*A_139210).KindU.S6.Sons->data[(NI32)(L_139209 - 1)], 0));
J_140600 = 0;
HEX3Atmp_146027 = 0;
HEX3Atmp_146027 = (NI32)(L_139209 - 3);
Res_146029 = 0;
Res_146029 = 0;
while (1) {
if (!(Res_146029 <= HEX3Atmp_146027)) goto LA113;
J_140600 = Res_146029;
LOC114 = 0;
LOC114 = Getidentnode_139173((*A_139210).KindU.S6.Sons->data[J_140600]);
LOC115 = 0;
LOC115 = Newsyms_125059(((NU8) 0), LOC114, C_139120);
Adddecl_108114(C_139120, LOC115);
Res_146029 += 1;
} LA113: ;
Res_146032 += 1;
} LA109: ;
break;
case ((NU8) 69):
case ((NU8) 70):
case ((NU8) 71):
case ((NU8) 72):
case ((NU8) 73):
case ((NU8) 74):
case ((NU8) 42):
Checksonslen_107099(N_139121, 5);
LOC116 = 0;
LOC116 = Getidentnode_139173((*N_139121).KindU.S6.Sons->data[0]);
LOC117 = 0;
LOC117 = Newsyms_125059(((NU8) 0), LOC116, C_139120);
Adddecl_108114(C_139120, LOC117);
Openscope_60146(&(*C_139120).Tab);
asgnRefNoCycle((void**) &(*N_139121).KindU.S6.Sons->data[1], Semgenericstmt_139118(C_139120, (*N_139121).KindU.S6.Sons->data[1], 0));
if (!!(((*N_139121).KindU.S6.Sons->data[2] == NIM_NIL))) goto LA119;
if (!!(((*(*N_139121).KindU.S6.Sons->data[2]).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA122;
LOC124 = 0;
LOC124 = Getident_54016(((NimStringDesc*) &TMP196121));
LOC125 = 0;
LOC125 = Newsym_55702(((NU8) 0), LOC124, NIM_NIL);
Adddecl_108114(C_139120, LOC125);
LA122: ;
asgnRefNoCycle((void**) &(*N_139121).KindU.S6.Sons->data[2], Semgenericstmt_139118(C_139120, (*N_139121).KindU.S6.Sons->data[2], 0));
LA119: ;
asgnRefNoCycle((void**) &(*N_139121).KindU.S6.Sons->data[3], Semgenericstmt_139118(C_139120, (*N_139121).KindU.S6.Sons->data[3], 0));
asgnRefNoCycle((void**) &(*N_139121).KindU.S6.Sons->data[4], Semgenericstmtscope_139125(C_139120, (*N_139121).KindU.S6.Sons->data[4], 0));
Closescope_108018(&(*C_139120).Tab);
break;
default:
I_140789 = 0;
HEX3Atmp_146033 = 0;
LOC126 = Sonslen_55804(N_139121);
HEX3Atmp_146033 = (NI32)(LOC126 - 1);
Res_146035 = 0;
Res_146035 = 0;
while (1) {
if (!(Res_146035 <= HEX3Atmp_146033)) goto LA127;
I_140789 = Res_146035;
asgnRefNoCycle((void**) &(*Result_139208).KindU.S6.Sons->data[I_140789], Semgenericstmt_139118(C_139120, (*N_139121).KindU.S6.Sons->data[I_140789], Flags_139124));
Res_146035 += 1;
} LA127: ;
break;
}
BeforeRet: ;
return Result_139208;
}
N_NIMCALL(TY55526*, Semgenericstmtscope_139125)(TY107012* C_139127, TY55526* N_139128, NU8 Flags_139131) {
TY55526* Result_139132;
Result_139132 = 0;
Openscope_60146(&(*C_139127).Tab);
Result_139132 = Semgenericstmt_139118(C_139127, N_139128, Flags_139131);
Closescope_108018(&(*C_139127).Tab);
return Result_139132;
}
N_NIMCALL(void, Semborrow_144315)(TY107012* C_144317, TY55526* N_144318, TY55548* S_144319) {
TY55548* B_144320;
B_144320 = 0;
B_144320 = Searchforborrowproc_121009(C_144317, S_144319, (NI32)(((NI) ((*C_144317).Tab.Tos)) - 2));
if (!(B_144320 == NIM_NIL)) goto LA2;
Limessage_47569((*N_144318).Info, ((NU8) 136), ((NimStringDesc*) &TMP195927));
LA2: ;
asgnRefNoCycle((void**) &(*N_144318).KindU.S6.Sons->data[4], Newsymnode_55735(B_144320));
}
N_NIMCALL(void, Sideeffectscheck_144344)(TY107012* C_144346, TY55548* S_144347) {
if (!((6291456 & (*S_144347).Flags) == 6291456)) goto LA2;
Limessage_47569((*S_144347).Info, ((NU8) 206), (*(*S_144347).Name).S);
LA2: ;
}
N_NIMCALL(TY55526*, Semprocaux_144609)(TY107012* C_144611, TY55526* N_144612, NU8 Kind_144613, TY122007 Validpragmas_144614) {
TY55526* Result_144615;
TY55548* S_144616;
TY55548* Proto_144617;
TY55526* Gp_144618;
TY107006* Oldp_144679;
NI LOC14;
TY107002* LOC26;
NIM_BOOL LOC55;
NIM_BOOL LOC63;
NIM_BOOL LOC68;
TY54011* LOC72;
TY55548* LOC73;
Result_144615 = 0;
S_144616 = 0;
Proto_144617 = 0;
Gp_144618 = 0;
Result_144615 = N_144612;
Checksonslen_107099(N_144612, 5);
if (!((*(*(*C_144611).P).Owner).Kind == ((NU8) 6))) goto LA2;
S_144616 = Semidentvis_125092(C_144611, Kind_144613, (*N_144612).KindU.S6.Sons->data[0], 33554432);
(*S_144616).Flags |=(1<<((NI32)(((NU8) 5))%(sizeof(NI32)*8)));
goto LA1;
LA2: ;
S_144616 = Semidentvis_125092(C_144611, Kind_144613, (*N_144612).KindU.S6.Sons->data[0], 0);
LA1: ;
asgnRefNoCycle((void**) &(*N_144612).KindU.S6.Sons->data[0], Newsymnode_55735(S_144616));
Oldp_144679 = 0;
Oldp_144679 = (*C_144611).P;
if (!(((*S_144616).Flags &(1<<((((NU8) 1))&31)))!=0)) goto LA5;
(*S_144616).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
LA5: ;
asgnRefNoCycle((void**) &(*S_144616).Ast, N_144612);
Pushowner_107109(S_144616);
Openscope_60146(&(*C_144611).Tab);
if (!!(((*N_144612).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA8;
asgnRefNoCycle((void**) &(*N_144612).KindU.S6.Sons->data[1], Semgenericparamlist_143409(C_144611, (*N_144612).KindU.S6.Sons->data[1], NIM_NIL));
Gp_144618 = (*N_144612).KindU.S6.Sons->data[1];
goto LA7;
LA8: ;
Gp_144618 = Newnodei_55738(((NU8) 65), (*N_144612).Info);
LA7: ;
if (!!(((*N_144612).KindU.S6.Sons->data[2] == NIM_NIL))) goto LA11;
Semparamlist_125147(C_144611, (*N_144612).KindU.S6.Sons->data[2], Gp_144618, S_144616);
LOC14 = Sonslen_55804(Gp_144618);
if (!(0 < LOC14)) goto LA15;
if (!((*N_144612).KindU.S6.Sons->data[1] == NIM_NIL)) goto LA18;
asgnRefNoCycle((void**) &(*N_144612).KindU.S6.Sons->data[1], Gp_144618);
Semparamlist_125147(C_144611, (*N_144612).KindU.S6.Sons->data[2], NIM_NIL, S_144616);
LA18: ;
LA15: ;
Addparams_125153(C_144611, (*(*S_144616).Typ).N);
goto LA10;
LA11: ;
asgnRef((void**) &(*S_144616).Typ, Newtypes_107077(((NU8) 25), C_144611));
Addson_55828((*S_144616).Typ, NIM_NIL);
LA10: ;
Proto_144617 = Searchforproc_121004(C_144611, S_144616, (NI32)(((NI) ((*C_144611).Tab.Tos)) - 2));
if (!(Proto_144617 == NIM_NIL)) goto LA21;
if (!!(((*(*Oldp_144679).Owner).Kind == ((NU8) 6)))) goto LA24;
(*(*S_144616).Typ).Callconv = ((NU8) 8);
goto LA23;
LA24: ;
LOC26 = 0;
LOC26 = Lastoptionentry_107053(C_144611);
(*(*S_144616).Typ).Callconv = (*LOC26).Defaultcc;
LA23: ;
if (!((1077673984 &(1<<((Kind_144613)&31)))!=0)) goto LA28;
Addinterfaceoverloadablesymat_108240(C_144611, S_144616, (NI32)(((NI) ((*C_144611).Tab.Tos)) - 2));
goto LA27;
LA28: ;
Addinterfacedeclat_108191(C_144611, S_144616, ((NI) ((NI32)(((NI) ((*C_144611).Tab.Tos)) - 2))));
LA27: ;
if (!!(((*N_144612).KindU.S6.Sons->data[3] == NIM_NIL))) goto LA31;
Pragma_122028(C_144611, S_144616, (*N_144612).KindU.S6.Sons->data[3], Validpragmas_144614);
LA31: ;
goto LA20;
LA21: ;
if (!!(((*N_144612).KindU.S6.Sons->data[3] == NIM_NIL))) goto LA34;
Limessage_47569((*(*N_144612).KindU.S6.Sons->data[3]).Info, ((NU8) 133), ((NimStringDesc*) &TMP195927));
LA34: ;
if (!!((((*Proto_144617).Flags &(1<<((((NU8) 6))&31)))!=0))) goto LA37;
Limessage_47569((*N_144612).Info, ((NU8) 94), (*(*Proto_144617).Name).S);
LA37: ;
(*Proto_144617).Flags &= ~(1 << ((NI32)(((NU8) 6)) % (sizeof(NI32)*8)));
Closescope_108018(&(*C_144611).Tab);
Openscope_60146(&(*C_144611).Tab);
if (!!(((*(*Proto_144617).Ast).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA40;
Addgenericparamlisttoscope_143581(C_144611, (*(*Proto_144617).Ast).KindU.S6.Sons->data[1]);
LA40: ;
Addparams_125153(C_144611, (*(*Proto_144617).Typ).N);
(*Proto_144617).Info = (*S_144616).Info;
asgnRef((void**) &(*S_144616).Typ, (*Proto_144617).Typ);
S_144616 = Proto_144617;
asgnRefNoCycle((void**) &(*N_144612).KindU.S6.Sons->data[1], (*(*Proto_144617).Ast).KindU.S6.Sons->data[1]);
asgnRefNoCycle((void**) &(*N_144612).KindU.S6.Sons->data[2], (*(*Proto_144617).Ast).KindU.S6.Sons->data[2]);
if (!!(((*(*N_144612).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA43;
Internalerror_47574((*N_144612).Info, ((NimStringDesc*) &TMP196170));
LA43: ;
asgnRef((void**) &(*(*N_144612).KindU.S6.Sons->data[0]).KindU.S4.Sym, Proto_144617);
asgnRefNoCycle((void**) &(*Proto_144617).Ast, N_144612);
Popowner_107112();
Pushowner_107109(S_144616);
LA20: ;
(*S_144616).Options = Goptions_46077;
if (!!(((*N_144612).KindU.S6.Sons->data[4] == NIM_NIL))) goto LA46;
if (!(((*S_144616).Flags &(1<<((((NU8) 29))&31)))!=0)) goto LA49;
Limessage_47569((*(*N_144612).KindU.S6.Sons->data[4]).Info, ((NU8) 134), (*(*S_144616).Name).S);
LA49: ;
if (!((*N_144612).KindU.S6.Sons->data[1] == NIM_NIL)) goto LA52;
asgnRefNoCycle((void**) &(*C_144611).P, Newproccon_107050(S_144616));
LOC55 = !(((*(*S_144616).Typ).Sons->data[0] == NIM_NIL));
if (!(LOC55)) goto LA56;
LOC55 = !((Kind_144613 == ((NU8) 12)));
LA56: ;
if (!LOC55) goto LA57;
Addresult_125157(C_144611, (*(*S_144616).Typ).Sons->data[0], (*N_144612).Info);
LA57: ;
if (!!((((*S_144616).Flags &(1<<((((NU8) 7))&31)))!=0))) goto LA60;
asgnRefNoCycle((void**) &(*N_144612).KindU.S6.Sons->data[4], Semstmtscope_125104(C_144611, (*N_144612).KindU.S6.Sons->data[4]));
LA60: ;
LOC63 = !(((*(*S_144616).Typ).Sons->data[0] == NIM_NIL));
if (!(LOC63)) goto LA64;
LOC63 = !((Kind_144613 == ((NU8) 12)));
LA64: ;
if (!LOC63) goto LA65;
Addresultnode_125162(C_144611, N_144612);
LA65: ;
goto LA51;
LA52: ;
LOC68 = !(((*(*S_144616).Typ).Sons->data[0] == NIM_NIL));
if (!(LOC68)) goto LA69;
LOC68 = !((Kind_144613 == ((NU8) 12)));
LA69: ;
if (!LOC68) goto LA70;
LOC72 = 0;
LOC72 = Getident_54016(((NimStringDesc*) &TMP196121));
LOC73 = 0;
LOC73 = Newsym_55702(((NU8) 0), LOC72, NIM_NIL);
Adddecl_108114(C_144611, LOC73);
LA70: ;
asgnRefNoCycle((void**) &(*N_144612).KindU.S6.Sons->data[4], Semgenericstmtscope_139125(C_144611, (*N_144612).KindU.S6.Sons->data[4], 0));
LA51: ;
if (!(((*S_144616).Flags &(1<<((((NU8) 7))&31)))!=0)) goto LA75;
asgnRefNoCycle((void**) &(*N_144612).KindU.S6.Sons->data[4], NIM_NIL);
LA75: ;
goto LA45;
LA46: ;
if (!!((Proto_144617 == NIM_NIL))) goto LA78;
Limessage_47569((*N_144612).Info, ((NU8) 135), (*(*Proto_144617).Name).S);
LA78: ;
if (!((IL64(2147483680) & (*S_144616).Flags) == 0)) goto LA81;
(*S_144616).Flags |=(1<<((NI32)(((NU8) 6))%(sizeof(NI32)*8)));
goto LA80;
LA81: ;
if (!(((*S_144616).Flags &(1<<((((NU8) 29))&31)))!=0)) goto LA83;
Semborrow_144315(C_144611, N_144612, S_144616);
goto LA80;
LA83: ;
LA80: ;
LA45: ;
Sideeffectscheck_144344(C_144611, S_144616);
Closescope_108018(&(*C_144611).Tab);
Popowner_107112();
asgnRefNoCycle((void**) &(*C_144611).P, Oldp_144679);
return Result_144615;
}
N_NIMCALL(TY55526*, Semiterator_145373)(TY107012* C_145375, TY55526* N_145376) {
TY55526* Result_145377;
TY55548* S_145402;
TY55552* T_145403;
Result_145377 = 0;
Result_145377 = Semprocaux_144609(C_145375, N_145376, ((NU8) 12), TMP196171);
S_145402 = 0;
S_145402 = (*(*Result_145377).KindU.S6.Sons->data[0]).KindU.S4.Sym;
T_145403 = 0;
T_145403 = (*S_145402).Typ;
if (!((*T_145403).Sons->data[0] == NIM_NIL)) goto LA2;
Limessage_47569((*N_145376).Info, ((NU8) 176), ((NimStringDesc*) &TMP196172));
LA2: ;
if (!((*N_145376).KindU.S6.Sons->data[4] == NIM_NIL)) goto LA5;
Limessage_47569((*N_145376).Info, ((NU8) 135), (*(*S_145402).Name).S);
LA5: ;
return Result_145377;
}
N_NIMCALL(TY55526*, Semproc_145438)(TY107012* C_145440, TY55526* N_145441) {
TY55526* Result_145442;
Result_145442 = 0;
Result_145442 = Semprocaux_144609(C_145440, N_145441, ((NU8) 10), TMP196173);
return Result_145442;
}
N_NIMCALL(NIM_BOOL, Istoplevel_125053)(TY107012* C_125055) {
NIM_BOOL Result_125056;
Result_125056 = 0;
Result_125056 = (((NI) ((*C_125055).Tab.Tos)) <= 2);
return Result_125056;
}
N_NIMCALL(TY55526*, Semmethod_145443)(TY107012* C_145445, TY55526* N_145446) {
TY55526* Result_145447;
NIM_BOOL LOC2;
TY55548* S_145472;
TY55552* T_145473;
NIM_BOOL Hasobjparam_145474;
NI Col_145483;
NI HEX3Atmp_146089;
NI LOC5;
NI Res_146091;
TY55552* LOC8;
Result_145447 = 0;
LOC2 = Istoplevel_125053(C_145445);
if (!!(LOC2)) goto LA3;
Limessage_47569((*N_145446).Info, ((NU8) 178), ((NimStringDesc*) &TMP196174));
LA3: ;
Result_145447 = Semprocaux_144609(C_145445, N_145446, ((NU8) 11), TMP196173);
S_145472 = 0;
S_145472 = (*(*Result_145447).KindU.S6.Sons->data[0]).KindU.S4.Sym;
T_145473 = 0;
T_145473 = (*S_145472).Typ;
Hasobjparam_145474 = 0;
Hasobjparam_145474 = NIM_FALSE;
Col_145483 = 0;
HEX3Atmp_146089 = 0;
LOC5 = Sonslen_55807(T_145473);
HEX3Atmp_146089 = (NI32)(LOC5 - 1);
Res_146091 = 0;
Res_146091 = 1;
while (1) {
if (!(Res_146091 <= HEX3Atmp_146089)) goto LA6;
Col_145483 = Res_146091;
LOC8 = 0;
LOC8 = Skiptypes_97087((*T_145473).Sons->data[Col_145483], IL64(2498090418307072));
if (!((*LOC8).Kind == ((NU8) 17))) goto LA9;
Hasobjparam_145474 = NIM_TRUE;
goto LA6;
LA9: ;
Res_146091 += 1;
} LA6: ;
if (!!(Hasobjparam_145474)) goto LA12;
Limessage_47569((*N_145446).Info, ((NU8) 179), ((NimStringDesc*) &TMP196174));
LA12: ;
return Result_145447;
}
N_NIMCALL(TY55526*, Semconverterdef_145493)(TY107012* C_145495, TY55526* N_145496) {
TY55526* Result_145497;
NIM_BOOL LOC2;
TY55548* S_145545;
TY55552* T_145546;
NI LOC12;
Result_145497 = 0;
LOC2 = Istoplevel_125053(C_145495);
if (!!(LOC2)) goto LA3;
Limessage_47569((*N_145496).Info, ((NU8) 178), ((NimStringDesc*) &TMP196175));
LA3: ;
Checksonslen_107099(N_145496, 5);
if (!!(((*N_145496).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA6;
Limessage_47569((*N_145496).Info, ((NU8) 153), ((NimStringDesc*) &TMP196175));
LA6: ;
Result_145497 = Semprocaux_144609(C_145495, N_145496, ((NU8) 13), TMP196173);
S_145545 = 0;
S_145545 = (*(*Result_145497).KindU.S6.Sons->data[0]).KindU.S4.Sym;
T_145546 = 0;
T_145546 = (*S_145545).Typ;
if (!((*T_145546).Sons->data[0] == NIM_NIL)) goto LA9;
Limessage_47569((*N_145496).Info, ((NU8) 176), ((NimStringDesc*) &TMP196175));
LA9: ;
LOC12 = Sonslen_55807(T_145546);
if (!!((LOC12 == 2))) goto LA13;
Limessage_47569((*N_145496).Info, ((NU8) 202), ((NimStringDesc*) &TMP196175));
LA13: ;
Addconverter_107058(C_145495, S_145545);
return Result_145497;
}
N_NIMCALL(TY55526*, Semmacrodef_145560)(TY107012* C_145562, TY55526* N_145563) {
TY55526* Result_145564;
TY55548* S_145612;
TY55552* T_145613;
NI LOC8;
Result_145564 = 0;
Checksonslen_107099(N_145563, 5);
if (!!(((*N_145563).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA2;
Limessage_47569((*N_145563).Info, ((NU8) 153), ((NimStringDesc*) &TMP196176));
LA2: ;
Result_145564 = Semprocaux_144609(C_145562, N_145563, ((NU8) 14), TMP196177);
S_145612 = 0;
S_145612 = (*(*Result_145564).KindU.S6.Sons->data[0]).KindU.S4.Sym;
T_145613 = 0;
T_145613 = (*S_145612).Typ;
if (!((*T_145613).Sons->data[0] == NIM_NIL)) goto LA5;
Limessage_47569((*N_145563).Info, ((NU8) 176), ((NimStringDesc*) &TMP196176));
LA5: ;
LOC8 = Sonslen_55807(T_145613);
if (!!((LOC8 == 2))) goto LA9;
Limessage_47569((*N_145563).Info, ((NU8) 202), ((NimStringDesc*) &TMP196176));
LA9: ;
if (!((*N_145563).KindU.S6.Sons->data[4] == NIM_NIL)) goto LA12;
Limessage_47569((*N_145563).Info, ((NU8) 135), (*(*S_145612).Name).S);
LA12: ;
return Result_145564;
}
N_NIMCALL(TY55526*, Resolvetemplateparams_125608)(TY107012* C_125610, TY55526* N_125611, NIM_BOOL Withinbind_125612, TY55901* Tobind_125614) {
TY55526* Result_125615;
TY55548* S_125616;
NIM_BOOL LOC5;
NIM_BOOL LOC7;
TY55548* LOC13;
NI I_125695;
NI HEX3Atmp_126079;
NI LOC14;
NI Res_126081;
Result_125615 = 0;
S_125616 = 0;
if (!(N_125611 == NIM_NIL)) goto LA2;
Result_125615 = NIM_NIL;
goto BeforeRet;
LA2: ;
switch ((*N_125611).Kind) {
case ((NU8) 2):
LOC5 = !(Withinbind_125612);
if (!(LOC5)) goto LA6;
LOC7 = Intsetcontains_55911((*Tobind_125614), (*(*N_125611).KindU.S5.Ident).Sup.Id);
LOC5 = !(LOC7);
LA6: ;
if (!LOC5) goto LA8;
S_125616 = Symtablocalget_60120((*C_125610).Tab, (*N_125611).KindU.S5.Ident);
if (!!((S_125616 == NIM_NIL))) goto LA11;
Result_125615 = Newsymnode_55735(S_125616);
(*Result_125615).Info = (*N_125611).Info;
goto LA10;
LA11: ;
Result_125615 = N_125611;
LA10: ;
goto LA4;
LA8: ;
Intsetincl_55915(Tobind_125614, (*(*N_125611).KindU.S5.Ident).Sup.Id);
LOC13 = 0;
LOC13 = Lookup_108245(C_125610, N_125611);
Result_125615 = Symchoice_125559(C_125610, N_125611, LOC13);
LA4: ;
break;
case ((NU8) 3) ... ((NU8) 18):
Result_125615 = N_125611;
break;
case ((NU8) 45):
Result_125615 = Resolvetemplateparams_125608(C_125610, (*N_125611).KindU.S6.Sons->data[0], NIM_TRUE, Tobind_125614);
break;
default:
Result_125615 = N_125611;
I_125695 = 0;
HEX3Atmp_126079 = 0;
LOC14 = Sonslen_55804(N_125611);
HEX3Atmp_126079 = (NI32)(LOC14 - 1);
Res_126081 = 0;
Res_126081 = 0;
while (1) {
if (!(Res_126081 <= HEX3Atmp_126079)) goto LA15;
I_125695 = Res_126081;
asgnRefNoCycle((void**) &(*Result_125615).KindU.S6.Sons->data[I_125695], Resolvetemplateparams_125608(C_125610, (*N_125611).KindU.S6.Sons->data[I_125695], Withinbind_125612, Tobind_125614));
Res_126081 += 1;
} LA15: ;
break;
}
BeforeRet: ;
return Result_125615;
}
N_NIMCALL(TY55526*, Transformtoexpr_125720)(TY55526* N_125722) {
TY55526* Result_125723;
NI Realstmt_125724;
NI I_125733;
NI HEX3Atmp_126082;
NI LOC1;
NI Res_126084;
Result_125723 = 0;
Realstmt_125724 = 0;
Result_125723 = N_125722;
switch ((*N_125722).Kind) {
case ((NU8) 101):
Realstmt_125724 = -1;
I_125733 = 0;
HEX3Atmp_126082 = 0;
LOC1 = Sonslen_55804(N_125722);
HEX3Atmp_126082 = (NI32)(LOC1 - 1);
Res_126084 = 0;
Res_126084 = 0;
while (1) {
if (!(Res_126084 <= HEX3Atmp_126082)) goto LA2;
I_125733 = Res_126084;
switch ((*(*N_125722).KindU.S6.Sons->data[I_125733]).Kind) {
case ((NU8) 105):
case ((NU8) 1):
case ((NU8) 18):
break;
default:
if (!(Realstmt_125724 == -1)) goto LA4;
Realstmt_125724 = I_125733;
goto LA3;
LA4: ;
Realstmt_125724 = -2;
LA3: ;
break;
}
Res_126084 += 1;
} LA2: ;
if (!(0 <= Realstmt_125724)) goto LA7;
Result_125723 = Transformtoexpr_125720((*N_125722).KindU.S6.Sons->data[Realstmt_125724]);
goto LA6;
LA7: ;
(*N_125722).Kind = ((NU8) 106);
LA6: ;
break;
case ((NU8) 99):
(*N_125722).Kind = ((NU8) 107);
break;
default:
break;
}
return Result_125723;
}
N_NIMCALL(TY55526*, Semtemplatedef_125762)(TY107012* C_125764, TY55526* N_125765) {
TY55526* Result_125766;
TY55548* S_125767;
TY55901 Tobind_125768;
TY55552* LOC16;
TY55526* LOC17;
Result_125766 = 0;
S_125767 = 0;
memset((void*)&Tobind_125768, 0, sizeof(Tobind_125768));
if (!((*(*(*C_125764).P).Owner).Kind == ((NU8) 6))) goto LA2;
S_125767 = Semidentvis_125092(C_125764, ((NU8) 15), (*N_125765).KindU.S6.Sons->data[0], 33554432);
(*S_125767).Flags |=(1<<((NI32)(((NU8) 5))%(sizeof(NI32)*8)));
goto LA1;
LA2: ;
S_125767 = Semidentvis_125092(C_125764, ((NU8) 15), (*N_125765).KindU.S6.Sons->data[0], 0);
LA1: ;
if (!(((*S_125767).Flags &(1<<((((NU8) 1))&31)))!=0)) goto LA5;
(*S_125767).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
LA5: ;
Pushowner_107109(S_125767);
Openscope_60146(&(*C_125764).Tab);
asgnRefNoCycle((void**) &(*N_125765).KindU.S6.Sons->data[0], Newsymnode_55735(S_125767));
if (!!(((*N_125765).KindU.S6.Sons->data[3] == NIM_NIL))) goto LA8;
Limessage_47569((*N_125765).Info, ((NU8) 152), ((NimStringDesc*) &TMP196178));
LA8: ;
if (!!(((*N_125765).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA11;
Limessage_47569((*N_125765).Info, ((NU8) 153), ((NimStringDesc*) &TMP196178));
LA11: ;
if (!((*N_125765).KindU.S6.Sons->data[2] == NIM_NIL)) goto LA14;
asgnRef((void**) &(*S_125767).Typ, Newtypes_107077(((NU8) 25), C_125764));
asgnRefNoCycle((void**) &(*(*S_125767).Typ).N, Newnodei_55738(((NU8) 66), (*N_125765).Info));
LOC16 = 0;
LOC16 = Newtypes_107077(((NU8) 7), C_125764);
Addson_55828((*S_125767).Typ, LOC16);
LOC17 = 0;
LOC17 = Newnodeit_55742(((NU8) 4), (*N_125765).Info, (*(*S_125767).Typ).Sons->data[0]);
Addson_55824((*(*S_125767).Typ).N, LOC17);
goto LA13;
LA14: ;
Semparamlist_125147(C_125764, (*N_125765).KindU.S6.Sons->data[2], NIM_NIL, S_125767);
if (!((*(*N_125765).KindU.S6.Sons->data[2]).KindU.S6.Sons->data[0] == NIM_NIL)) goto LA19;
asgnRef((void**) &(*(*S_125767).Typ).Sons->data[0], Newtypes_107077(((NU8) 7), C_125764));
asgnRefNoCycle((void**) &(*(*(*S_125767).Typ).N).KindU.S6.Sons->data[0], Newnodeit_55742(((NU8) 4), (*N_125765).Info, (*(*S_125767).Typ).Sons->data[0]));
LA19: ;
LA13: ;
Addparams_125153(C_125764, (*(*S_125767).Typ).N);
Intsetinit_55925(&Tobind_125768);
asgnRefNoCycle((void**) &(*N_125765).KindU.S6.Sons->data[4], Resolvetemplateparams_125608(C_125764, (*N_125765).KindU.S6.Sons->data[4], NIM_FALSE, &Tobind_125768));
if (!!(((*(*(*S_125767).Typ).Sons->data[0]).Kind == ((NU8) 7) || (*(*(*S_125767).Typ).Sons->data[0]).Kind == ((NU8) 8)))) goto LA22;
asgnRefNoCycle((void**) &(*N_125765).KindU.S6.Sons->data[4], Transformtoexpr_125720((*N_125765).KindU.S6.Sons->data[4]));
LA22: ;
Closescope_108018(&(*C_125764).Tab);
Popowner_107112();
asgnRefNoCycle((void**) &(*S_125767).Ast, N_125765);
Result_125766 = N_125765;
if (!((*N_125765).KindU.S6.Sons->data[4] == NIM_NIL)) goto LA25;
Limessage_47569((*N_125765).Info, ((NU8) 135), (*(*S_125767).Name).S);
LA25: ;
Addinterfacedecl_108236(C_125764, S_125767);
return Result_125766;
}
N_NIMCALL(TY55526*, Evalinclude_145650)(TY107012* C_145652, TY55526* N_145653) {
TY55526* Result_145654;
NI I_145663;
NI HEX3Atmp_146092;
NI LOC1;
NI Res_146094;
NimStringDesc* F_145676;
NI Fileindex_145677;
NIM_BOOL LOC4;
TY55526* LOC7;
TY55526* LOC8;
Result_145654 = 0;
Result_145654 = Newnodei_55738(((NU8) 101), (*N_145653).Info);
Addson_55824(Result_145654, N_145653);
I_145663 = 0;
HEX3Atmp_146092 = 0;
LOC1 = Sonslen_55804(N_145653);
HEX3Atmp_146092 = (NI32)(LOC1 - 1);
Res_146094 = 0;
Res_146094 = 0;
while (1) {
if (!(Res_146094 <= HEX3Atmp_146092)) goto LA2;
I_145663 = Res_146094;
F_145676 = 0;
F_145676 = Getmodulefile_110013((*N_145653).KindU.S6.Sons->data[I_145663]);
Fileindex_145677 = 0;
Fileindex_145677 = Includefilename_47618(F_145676);
LOC4 = Intsetcontainsorincl_55929(&(*C_145652).Includedfiles, Fileindex_145677);
if (!LOC4) goto LA5;
Limessage_47569((*N_145653).Info, ((NU8) 23), F_145676);
LA5: ;
LOC7 = 0;
LOC7 = Gincludefile_105051(F_145676);
LOC8 = 0;
LOC8 = Semstmt_125143(C_145652, LOC7);
Addson_55824(Result_145654, LOC8);
Intsetexcl_55920(&(*C_145652).Includedfiles, Fileindex_145677);
Res_146094 += 1;
} LA2: ;
return Result_145654;
}
N_NIMCALL(TY55526*, Semstmt_125143)(TY107012* C_125145, TY55526* N_125146) {
TY55526* Result_145689;
NI Length_145714;
NI I_145723;
NI HEX3Atmp_146099;
NI Res_146101;
NI J_145779;
NI HEX3Atmp_146095;
NI HEX3Atmp_146096;
NI Res_146098;
NIM_BOOL LOC13;
NIM_BOOL LOC17;
NIM_BOOL LOC21;
Result_145689 = 0;
Result_145689 = N_125146;
if (!(N_125146 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
if (!(((*N_125146).Flags &(1<<((((NU8) 6))&7)))!=0)) goto LA5;
goto BeforeRet;
LA5: ;
switch ((*N_125146).Kind) {
case ((NU8) 63):
Result_145689 = Semasgn_141705(C_125145, N_125146);
break;
case ((NU8) 21):
case ((NU8) 27):
case ((NU8) 28):
case ((NU8) 29):
case ((NU8) 20):
case ((NU8) 79):
case ((NU8) 22):
Result_145689 = Semcommand_145680(C_125145, N_125146);
break;
case ((NU8) 1):
case ((NU8) 105):
case ((NU8) 18):
break;
case ((NU8) 99):
Result_145689 = Semblock_141266(C_125145, N_125146);
break;
case ((NU8) 101):
Length_145714 = 0;
Length_145714 = Sonslen_55804(N_125146);
I_145723 = 0;
HEX3Atmp_146099 = 0;
HEX3Atmp_146099 = (NI32)(Length_145714 - 1);
Res_146101 = 0;
Res_146101 = 0;
while (1) {
if (!(Res_146101 <= HEX3Atmp_146099)) goto LA7;
I_145723 = Res_146101;
asgnRefNoCycle((void**) &(*N_125146).KindU.S6.Sons->data[I_145723], Semstmt_125143(C_125145, (*N_125146).KindU.S6.Sons->data[I_145723]));
if (!((*(*N_125146).KindU.S6.Sons->data[I_145723]).Kind == ((NU8) 95) || (*(*N_125146).KindU.S6.Sons->data[I_145723]).Kind == ((NU8) 96) || (*(*N_125146).KindU.S6.Sons->data[I_145723]).Kind == ((NU8) 97) || (*(*N_125146).KindU.S6.Sons->data[I_145723]).Kind == ((NU8) 98))) goto LA9;
J_145779 = 0;
HEX3Atmp_146095 = 0;
HEX3Atmp_146096 = 0;
HEX3Atmp_146095 = (NI32)(I_145723 + 1);
HEX3Atmp_146096 = (NI32)(Length_145714 - 1);
Res_146098 = 0;
Res_146098 = HEX3Atmp_146095;
while (1) {
if (!(Res_146098 <= HEX3Atmp_146096)) goto LA11;
J_145779 = Res_146098;
switch ((*(*N_125146).KindU.S6.Sons->data[J_145779]).Kind) {
case ((NU8) 81):
case ((NU8) 105):
case ((NU8) 18):
case ((NU8) 1):
break;
default:
Limessage_47569((*(*N_125146).KindU.S6.Sons->data[J_145779]).Info, ((NU8) 38), ((NimStringDesc*) &TMP195927));
break;
}
Res_146098 += 1;
} LA11: ;
LA9: ;
Res_146101 += 1;
} LA7: ;
break;
case ((NU8) 95):
Result_145689 = Semraise_143129(C_125145, N_125146);
break;
case ((NU8) 87):
Result_145689 = Semvar_142230(C_125145, N_125146);
break;
case ((NU8) 88):
Result_145689 = Semconst_142530(C_125145, N_125146);
break;
case ((NU8) 90):
Result_145689 = Semtypesection_143637(C_125145, N_125146);
break;
case ((NU8) 82):
Result_145689 = Semif_140970(C_125145, N_125146);
break;
case ((NU8) 83):
Result_145689 = Semwhen_140839(C_125145, N_125146);
break;
case ((NU8) 100):
Result_145689 = Semdiscard_141096(C_125145, N_125146);
break;
case ((NU8) 85):
Result_145689 = Semwhile_141389(C_125145, N_125146);
break;
case ((NU8) 93):
Result_145689 = Semtry_143212(C_125145, N_125146);
break;
case ((NU8) 97):
case ((NU8) 98):
Result_145689 = Sembreakorcontinue_141148(C_125145, N_125146);
break;
case ((NU8) 84):
Result_145689 = Semfor_142721(C_125145, N_125146);
break;
case ((NU8) 86):
Result_145689 = Semcase_141494(C_125145, N_125146);
break;
case ((NU8) 96):
Result_145689 = Semreturn_141841(C_125145, N_125146);
break;
case ((NU8) 80):
Result_145689 = Semasm_141369(C_125145, N_125146);
break;
case ((NU8) 92):
Result_145689 = Semyield_142057(C_125145, N_125146);
break;
case ((NU8) 81):
Pragma_122028(C_125145, (*(*C_125145).P).Owner, N_125146, TMP196166);
break;
case ((NU8) 74):
Result_145689 = Semiterator_145373(C_125145, N_125146);
break;
case ((NU8) 69):
Result_145689 = Semproc_145438(C_125145, N_125146);
break;
case ((NU8) 70):
Result_145689 = Semmethod_145443(C_125145, N_125146);
break;
case ((NU8) 71):
Result_145689 = Semconverterdef_145493(C_125145, N_125146);
break;
case ((NU8) 72):
Result_145689 = Semmacrodef_145560(C_125145, N_125146);
break;
case ((NU8) 73):
Result_145689 = Semtemplatedef_125762(C_125145, N_125146);
break;
case ((NU8) 102):
LOC13 = Istoplevel_125053(C_125145);
if (!!(LOC13)) goto LA14;
Limessage_47569((*N_125146).Info, ((NU8) 178), ((NimStringDesc*) &TMP196179));
LA14: ;
Result_145689 = Evalimport_110001(C_125145, N_125146);
break;
case ((NU8) 103):
LOC17 = Istoplevel_125053(C_125145);
if (!!(LOC17)) goto LA18;
Limessage_47569((*N_125146).Info, ((NU8) 178), ((NimStringDesc*) &TMP196185));
LA18: ;
Result_145689 = Evalfrom_110005(C_125145, N_125146);
break;
case ((NU8) 104):
LOC21 = Istoplevel_125053(C_125145);
if (!!(LOC21)) goto LA22;
Limessage_47569((*N_125146).Info, ((NU8) 178), ((NimStringDesc*) &TMP196189));
LA22: ;
Result_145689 = Evalinclude_145650(C_125145, N_125146);
break;
default:
Limessage_47569((*N_125146).Info, ((NU8) 39), ((NimStringDesc*) &TMP195927));
break;
}
if (!(Result_145689 == NIM_NIL)) goto LA25;
Internalerror_47574((*N_125146).Info, ((NimStringDesc*) &TMP196190));
LA25: ;
(*Result_145689).Flags |=(1<<((NI8)(((NU8) 6))%(sizeof(NI8)*8)));
BeforeRet: ;
return Result_145689;
}
N_NIMCALL(TY55526*, Semaftermacrocall_125246)(TY107012* C_125248, TY55526* N_125249, TY55548* S_125250) {
TY55526* Result_125251;
NimStringDesc* LOC1;
Result_125251 = 0;
Result_125251 = N_125249;
switch ((*(*(*S_125250).Typ).Sons->data[0]).Kind) {
case ((NU8) 6):
Result_125251 = Semexpr_125115(C_125248, Result_125251, 0);
break;
case ((NU8) 7):
Result_125251 = Semstmt_125143(C_125248, Result_125251);
break;
case ((NU8) 8):
asgnRef((void**) &(*Result_125251).Typ, Semtypenode_125138(C_125248, Result_125251, NIM_NIL));
break;
default:
LOC1 = 0;
LOC1 = Typetostring_97014((*(*S_125250).Typ).Sons->data[0], ((NU8) 0));
Limessage_47569((*S_125250).Info, ((NU8) 154), LOC1);
break;
}
return Result_125251;
}
N_NIMCALL(TY55526*, Semmacroexpr_126085)(TY107012* C_126087, TY55526* N_126088, TY55548* Sym_126089, NIM_BOOL Semcheck_126090) {
TY55526* Result_126091;
TY115006* P_126108;
TY115004* S_126109;
TY55526* LOC4;
NIM_BOOL LOC6;
Result_126091 = 0;
Evaltemplatecounter_125426 += 1;
if (!(100 < Evaltemplatecounter_125426)) goto LA2;
Limessage_47569((*N_126088).Info, ((NU8) 180), ((NimStringDesc*) &TMP195927));
LA2: ;
Markused_125065(N_126088, Sym_126089);
P_126108 = 0;
P_126108 = Newevalcontext_115033((*C_126087).Module, ((NimStringDesc*) &TMP195927), NIM_FALSE);
S_126109 = 0;
S_126109 = Newstackframe_115024();
asgnRefNoCycle((void**) &(*S_126109).Call, N_126088);
(*S_126109).Params = (TY55520*) setLengthSeq(&((*S_126109).Params)->Sup, sizeof(TY55526*), 2);
asgnRefNoCycle((void**) &(*S_126109).Params->data[0], Newnodeit_55742(((NU8) 18), (*N_126088).Info, (*(*Sym_126089).Typ).Sons->data[0]));
asgnRefNoCycle((void**) &(*S_126109).Params->data[1], N_126088);
Pushstackframe_115026(P_126108, S_126109);
LOC4 = 0;
LOC4 = Eval_115038(P_126108, (*(*Sym_126089).Ast).KindU.S6.Sons->data[4]);
Result_126091 = (*S_126109).Params->data[0];
Popstackframe_115030(P_126108);
LOC6 = Cyclictree_96043(Result_126091);
if (!LOC6) goto LA7;
Limessage_47569((*N_126088).Info, ((NU8) 204), ((NimStringDesc*) &TMP195927));
LA7: ;
if (!Semcheck_126090) goto LA10;
Result_126091 = Semaftermacrocall_125246(C_126087, Result_126091, Sym_126089);
LA10: ;
Evaltemplatecounter_125426 -= 1;
return Result_126091;
}
N_NIMCALL(TY55526*, Semsym_133092)(TY107012* C_133094, TY55526* N_133095, TY55548* S_133096, NU8 Flags_133097) {
TY55526* Result_133098;
NIM_BOOL LOC2;
NIM_BOOL LOC7;
NIM_BOOL LOC8;
TY55548* LOC11;
Result_133098 = 0;
LOC2 = ((*S_133096).Kind == ((NU8) 7));
if (!(LOC2)) goto LA3;
LOC2 = !(((Flags_133097 &(1<<((((NU8) 0))&7)))!=0));
LA3: ;
if (!LOC2) goto LA4;
Limessage_47569((*N_133095).Info, ((NU8) 162), ((NimStringDesc*) &TMP195927));
LA4: ;
switch ((*S_133096).Kind) {
case ((NU8) 10):
case ((NU8) 11):
case ((NU8) 12):
case ((NU8) 13):
LOC8 = !((((*S_133096).Flags &(1<<((((NU8) 20))&31)))!=0));
if (!(LOC8)) goto LA9;
LOC8 = ((*(*S_133096).Typ).Callconv == ((NU8) 0));
LA9: ;
LOC7 = LOC8;
if (!(LOC7)) goto LA10;
LOC11 = 0;
LOC11 = Getmodule_60203(S_133096);
LOC7 = !(((*LOC11).Sup.Id == (*(*C_133094).Module).Sup.Id));
LA10: ;
if (!LOC7) goto LA12;
Limessage_47569((*N_133095).Info, ((NU8) 131), (*(*S_133096).Name).S);
LA12: ;
Result_133098 = Symchoice_125559(C_133094, N_133095, S_133096);
break;
case ((NU8) 8):
Markused_125065(N_133095, S_133096);
if (!((*(*S_133096).Typ).Kind == ((NU8) 5) || (*(*S_133096).Typ).Kind == ((NU8) 2) || (*(*S_133096).Typ).Kind >= ((NU8) 31) && (*(*S_133096).Typ).Kind <= ((NU8) 35) || (*(*S_133096).Typ).Kind >= ((NU8) 36) && (*(*S_133096).Typ).Kind <= ((NU8) 39) || (*(*S_133096).Typ).Kind == ((NU8) 4) || (*(*S_133096).Typ).Kind == ((NU8) 18) || (*(*S_133096).Typ).Kind == ((NU8) 19))) goto LA15;
Result_133098 = Copytree_55859((*S_133096).Ast);
asgnRef((void**) &(*Result_133098).Typ, (*S_133096).Typ);
goto LA14;
LA15: ;
Result_133098 = Newsymnode_55735(S_133096);
LA14: ;
(*Result_133098).Info = (*N_133095).Info;
break;
case ((NU8) 14):
Result_133098 = Semmacroexpr_126085(C_133094, N_133095, S_133096, NIM_TRUE);
break;
case ((NU8) 15):
Result_133098 = Semtemplateexpr_133037(C_133094, N_133095, S_133096, NIM_TRUE);
break;
case ((NU8) 9):
Markused_125065(N_133095, S_133096);
if (!(((*S_133096).Flags &(1<<((((NU8) 5))&31)))!=0)) goto LA18;
(*(*(*C_133094).P).Owner).Flags |=(1<<((NI32)(((NU8) 14))%(sizeof(NI32)*8)));
LA18: ;
Result_133098 = Newsymnode_55735(S_133096);
(*Result_133098).Info = (*N_133095).Info;
break;
case ((NU8) 4):
if (!((*S_133096).Ast == NIM_NIL)) goto LA21;
Internalerror_47574((*N_133095).Info, ((NimStringDesc*) &TMP196191));
LA21: ;
Result_133098 = Semexpr_125115(C_133094, (*S_133096).Ast, 0);
break;
default:
Markused_125065(N_133095, S_133096);
Result_133098 = Newsymnode_55735(S_133096);
(*Result_133098).Info = (*N_133095).Info;
break;
}
return Result_133098;
}
N_NIMCALL(TY55526*, Semfieldaccess_133044)(TY107012* C_133046, TY55526* N_133047, NU8 Flags_133050) {
TY55526* Result_136699;
TY54011* I_136723;
TY55548* F_136724;
TY55526* LOC7;
TY55526* LOC8;
TY55526* LOC9;
Result_136699 = 0;
Result_136699 = Builtinfieldaccess_136326(C_133046, N_133047, Flags_133050);
if (!(Result_136699 == NIM_NIL)) goto LA2;
I_136723 = 0;
I_136723 = Consideracc_125003((*N_133047).KindU.S6.Sons->data[1]);
F_136724 = 0;
F_136724 = Symtabget_60116((*C_133046).Tab, I_136723);
if (!!((F_136724 == NIM_NIL))) goto LA5;
Result_136699 = Newnodei_55738(((NU8) 19), (*N_133047).Info);
LOC7 = 0;
LOC7 = Newidentnode_55731(I_136723, (*N_133047).Info);
Addson_55824(Result_136699, LOC7);
LOC8 = 0;
LOC8 = HEX5BHEX5D_57057(N_133047, 0);
LOC9 = 0;
LOC9 = Copytree_55859(LOC8);
Addson_55824(Result_136699, LOC9);
goto LA4;
LA5: ;
Limessage_47569((*N_133047).Info, ((NU8) 77), (*I_136723).S);
LA4: ;
LA2: ;
return Result_136699;
}
N_NIMCALL(void, Checkconversionbetweenobjects_133186)(TY47539 Info_133188, TY55552* Castdest_133189, TY55552* Src_133190) {
NI Diff_133191;
NimStringDesc* LOC4;
TY115148 LOC5;
NimStringDesc* LOC6;
Diff_133191 = 0;
Diff_133191 = Inheritancediff_97121(Castdest_133189, Src_133190);
if (!(Diff_133191 == 2147483647)) goto LA2;
LOC4 = 0;
LOC4 = Msgkindtostring_47595(((NU8) 139));
memset((void*)&LOC5, 0, sizeof(LOC5));
LOC5[0] = Typetostring_97014(Src_133190, ((NU8) 0));
LOC5[1] = Typetostring_97014(Castdest_133189, ((NU8) 0));
LOC6 = 0;
LOC6 = nsuFormatOpenArray(LOC4, LOC5, 2);
Limessage_47569(Info_133188, ((NU8) 4), LOC6);
LA2: ;
}
N_NIMCALL(void, Checkconvertible_133198)(TY47539 Info_133200, TY55552* Castdest_133201, TY55552* Src_133202) {
NIM_BOOL LOC2;
NimStringDesc* LOC8;
TY55552* D_133217;
TY55552* S_133218;
NIM_BOOL LOC10;
NIM_BOOL LOC11;
NimStringDesc* LOC17;
TY115148 LOC18;
NimStringDesc* LOC19;
NIM_BOOL LOC21;
NIM_BOOL LOC25;
TY55552* LOC26;
TY55552* LOC28;
NU8 LOC31;
NIM_BOOL LOC33;
NIM_BOOL LOC34;
NIM_BOOL LOC36;
NimStringDesc* LOC39;
TY115148 LOC40;
NimStringDesc* LOC41;
LOC2 = Sametype_97048(Castdest_133201, Src_133202);
if (!LOC2) goto LA3;
if (!!(((*Castdest_133201).Kind >= ((NU8) 31) && (*Castdest_133201).Kind <= ((NU8) 39) || (*Castdest_133201).Kind == ((NU8) 5)))) goto LA6;
LOC8 = 0;
LOC8 = Typetostring_97014(Castdest_133201, ((NU8) 0));
Limessage_47569(Info_133200, ((NU8) 229), LOC8);
LA6: ;
goto BeforeRet;
LA3: ;
D_133217 = 0;
D_133217 = Skiptypes_97087(Castdest_133201, IL64(47428533575745536));
S_133218 = 0;
S_133218 = Skiptypes_97087(Src_133202, IL64(47428533575745536));
while (1) {
LOC11 = !((D_133217 == NIM_NIL));
if (!(LOC11)) goto LA12;
LOC11 = ((*D_133217).Kind == ((NU8) 21) || (*D_133217).Kind == ((NU8) 22));
LA12: ;
LOC10 = LOC11;
if (!(LOC10)) goto LA13;
LOC10 = ((*D_133217).Kind == (*S_133218).Kind);
LA13: ;
if (!LOC10) goto LA9;
D_133217 = Base_97021(D_133217);
S_133218 = Base_97021(S_133218);
} LA9: ;
if (!(D_133217 == NIM_NIL)) goto LA15;
LOC17 = 0;
LOC17 = Msgkindtostring_47595(((NU8) 139));
memset((void*)&LOC18, 0, sizeof(LOC18));
LOC18[0] = Typetostring_97014(Src_133202, ((NU8) 0));
LOC18[1] = Typetostring_97014(Castdest_133201, ((NU8) 0));
LOC19 = 0;
LOC19 = nsuFormatOpenArray(LOC17, LOC18, 2);
Limessage_47569(Info_133200, ((NU8) 4), LOC19);
LA15: ;
LOC21 = ((*D_133217).Kind == ((NU8) 17));
if (!(LOC21)) goto LA22;
LOC21 = ((*S_133218).Kind == ((NU8) 17));
LA22: ;
if (!LOC21) goto LA23;
Checkconversionbetweenobjects_133186(Info_133200, D_133217, S_133218);
goto LA20;
LA23: ;
LOC26 = 0;
LOC26 = Skiptypes_97087(Castdest_133201, IL64(47446125761789952));
LOC25 = ((*LOC26).Kind == ((NU8) 1) || (*LOC26).Kind == ((NU8) 14) || (*LOC26).Kind == ((NU8) 2) || (*LOC26).Kind >= ((NU8) 31) && (*LOC26).Kind <= ((NU8) 39));
if (!(LOC25)) goto LA27;
LOC28 = 0;
LOC28 = Skiptypes_97087(Src_133202, IL64(47446125761789952));
LOC25 = ((*LOC28).Kind == ((NU8) 1) || (*LOC28).Kind == ((NU8) 14) || (*LOC28).Kind == ((NU8) 2) || (*LOC28).Kind >= ((NU8) 31) && (*LOC28).Kind <= ((NU8) 39));
LA27: ;
if (!LOC25) goto LA29;
goto LA20;
LA29: ;
LOC31 = Cmptypes_128420(D_133217, S_133218);
switch (LOC31) {
case ((NU8) 0):
case ((NU8) 4):
LOC34 = Equalordistinctof_97056(Castdest_133201, Src_133202);
LOC33 = !(LOC34);
if (!(LOC33)) goto LA35;
LOC36 = Equalordistinctof_97056(Src_133202, Castdest_133201);
LOC33 = !(LOC36);
LA35: ;
if (!LOC33) goto LA37;
LOC39 = 0;
LOC39 = Msgkindtostring_47595(((NU8) 139));
memset((void*)&LOC40, 0, sizeof(LOC40));
LOC40[0] = Typetostring_97014(Src_133202, ((NU8) 0));
LOC40[1] = Typetostring_97014(Castdest_133201, ((NU8) 0));
LOC41 = 0;
LOC41 = nsuFormatOpenArray(LOC39, LOC40, 2);
Limessage_47569(Info_133200, ((NU8) 4), LOC41);
LA37: ;
break;
default:
break;
}
LA20: ;
BeforeRet: ;
}
N_NIMCALL(TY55526*, Semconv_133351)(TY107012* C_133353, TY55526* N_133354, TY55548* S_133355) {
TY55526* Result_133356;
NI LOC2;
TY55526* LOC5;
TY55526* LOC6;
TY55526* Op_133407;
NI I_133425;
NI HEX3Atmp_145891;
NI LOC10;
NI Res_145893;
NIM_BOOL LOC13;
Result_133356 = 0;
LOC2 = Sonslen_55804(N_133354);
if (!!((LOC2 == 2))) goto LA3;
Limessage_47569((*N_133354).Info, ((NU8) 158), ((NimStringDesc*) &TMP195927));
LA3: ;
Result_133356 = Newnodei_55738(((NU8) 50), (*N_133354).Info);
asgnRef((void**) &(*Result_133356).Typ, Semtypenode_125138(C_133353, (*N_133354).KindU.S6.Sons->data[0], NIM_NIL));
LOC5 = 0;
LOC5 = Copytree_55859((*N_133354).KindU.S6.Sons->data[0]);
Addson_55824(Result_133356, LOC5);
LOC6 = 0;
LOC6 = Semexprwithtype_125122(C_133353, (*N_133354).KindU.S6.Sons->data[1], 0);
Addson_55824(Result_133356, LOC6);
Op_133407 = 0;
Op_133407 = (*Result_133356).KindU.S6.Sons->data[1];
if (!!(((*Op_133407).Kind == ((NU8) 46)))) goto LA8;
Checkconvertible_133198((*Result_133356).Info, (*Result_133356).Typ, (*Op_133407).Typ);
goto LA7;
LA8: ;
I_133425 = 0;
HEX3Atmp_145891 = 0;
LOC10 = Sonslen_55804(Op_133407);
HEX3Atmp_145891 = (NI32)(LOC10 - 1);
Res_145893 = 0;
Res_145893 = 0;
while (1) {
if (!(Res_145893 <= HEX3Atmp_145891)) goto LA11;
I_133425 = Res_145893;
LOC13 = Sametype_97048((*Result_133356).Typ, (*(*Op_133407).KindU.S6.Sons->data[I_133425]).Typ);
if (!LOC13) goto LA14;
Markused_125065(N_133354, (*(*Op_133407).KindU.S6.Sons->data[I_133425]).KindU.S4.Sym);
Result_133356 = (*Op_133407).KindU.S6.Sons->data[I_133425];
goto BeforeRet;
LA14: ;
Res_145893 += 1;
} LA11: ;
Limessage_47569((*N_133354).Info, ((NU8) 59), (*(*(*(*Op_133407).KindU.S6.Sons->data[0]).KindU.S4.Sym).Name).S);
LA7: ;
BeforeRet: ;
return Result_133356;
}
N_NIMCALL(void, Semopaux_133806)(TY107012* C_133808, TY55526* N_133809) {
NI I_133818;
NI HEX3Atmp_145894;
NI LOC1;
NI Res_145896;
TY55526* A_133831;
TY47539 Info_133853;
TY54011* LOC6;
I_133818 = 0;
HEX3Atmp_145894 = 0;
LOC1 = Sonslen_55804(N_133809);
HEX3Atmp_145894 = (NI32)(LOC1 - 1);
Res_145896 = 0;
Res_145896 = 1;
while (1) {
if (!(Res_145896 <= HEX3Atmp_145894)) goto LA2;
I_133818 = Res_145896;
A_133831 = 0;
A_133831 = (*N_133809).KindU.S6.Sons->data[I_133818];
if (!((*A_133831).Kind == ((NU8) 23))) goto LA4;
Checksonslen_107099(A_133831, 2);
memset((void*)&Info_133853, 0, sizeof(Info_133853));
Info_133853 = (*(*A_133831).KindU.S6.Sons->data[0]).Info;
LOC6 = 0;
LOC6 = Consideracc_125003((*A_133831).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*A_133831).KindU.S6.Sons->data[0], Newidentnode_55731(LOC6, Info_133853));
asgnRefNoCycle((void**) &(*A_133831).KindU.S6.Sons->data[1], Semexprwithtype_125122(C_133808, (*A_133831).KindU.S6.Sons->data[1], 0));
asgnRef((void**) &(*A_133831).Typ, (*(*A_133831).KindU.S6.Sons->data[1]).Typ);
goto LA3;
LA4: ;
asgnRefNoCycle((void**) &(*N_133809).KindU.S6.Sons->data[I_133818], Semexprwithtype_125122(C_133808, A_133831, 0));
LA3: ;
Res_145896 += 1;
} LA2: ;
}
N_NIMCALL(TY55526*, Overloadedcallopr_133926)(TY107012* C_133928, TY55526* N_133929) {
TY55526* Result_133930;
TY54011* Par_133931;
TY55548* LOC2;
TY55526* LOC5;
NI I_133951;
NI HEX3Atmp_145897;
NI LOC6;
NI Res_145899;
Result_133930 = 0;
Par_133931 = 0;
Par_133931 = Getident_54016(((NimStringDesc*) &TMP196192));
LOC2 = 0;
LOC2 = Symtabget_60116((*C_133928).Tab, Par_133931);
if (!(LOC2 == NIM_NIL)) goto LA3;
Result_133930 = NIM_NIL;
goto LA1;
LA3: ;
Result_133930 = Newnodei_55738(((NU8) 21), (*N_133929).Info);
LOC5 = 0;
LOC5 = Newidentnode_55731(Par_133931, (*N_133929).Info);
Addson_55824(Result_133930, LOC5);
I_133951 = 0;
HEX3Atmp_145897 = 0;
LOC6 = Sonslen_55804(N_133929);
HEX3Atmp_145897 = (NI32)(LOC6 - 1);
Res_145899 = 0;
Res_145899 = 0;
while (1) {
if (!(Res_145899 <= HEX3Atmp_145897)) goto LA7;
I_133951 = Res_145899;
Addson_55824(Result_133930, (*N_133929).KindU.S6.Sons->data[I_133951]);
Res_145899 += 1;
} LA7: ;
Result_133930 = Semexpr_125115(C_133928, Result_133930, 0);
LA1: ;
return Result_133930;
}
N_NIMCALL(NimStringDesc*, Getnotfounderror_127172)(TY107012* C_127174, TY55526* N_127175) {
NimStringDesc* Result_127176;
NI I_127185;
NI HEX3Atmp_129851;
NI LOC1;
NI Res_129853;
NimStringDesc* LOC6;
NimStringDesc* LOC7;
NI LOC9;
NimStringDesc* Candidates_127245;
TY108004 O_127246;
TY55548* Sym_127260;
NimStringDesc* LOC16;
NimStringDesc* LOC20;
NimStringDesc* LOC21;
Result_127176 = 0;
Result_127176 = Msgkindtostring_47595(((NU8) 126));
I_127185 = 0;
HEX3Atmp_129851 = 0;
LOC1 = Sonslen_55804(N_127175);
HEX3Atmp_129851 = (NI32)(LOC1 - 1);
Res_129853 = 0;
Res_129853 = 1;
while (1) {
if (!(Res_129853 <= HEX3Atmp_129851)) goto LA2;
I_127185 = Res_129853;
if (!((*(*N_127175).KindU.S6.Sons->data[I_127185]).Kind == ((NU8) 23))) goto LA4;
LOC6 = 0;
LOC6 = Rendertree_85042((*(*N_127175).KindU.S6.Sons->data[I_127185]).KindU.S6.Sons->data[0], 0);
Result_127176 = resizeString(Result_127176, LOC6->Sup.len + 0);
appendString(Result_127176, LOC6);
Result_127176 = resizeString(Result_127176, 2);
appendString(Result_127176, ((NimStringDesc*) &TMP196193));
LA4: ;
LOC7 = 0;
LOC7 = Typetostring_97014((*(*N_127175).KindU.S6.Sons->data[I_127185]).Typ, ((NU8) 0));
Result_127176 = resizeString(Result_127176, LOC7->Sup.len + 0);
appendString(Result_127176, LOC7);
LOC9 = Sonslen_55804(N_127175);
if (!!((I_127185 == (NI32)(LOC9 - 1)))) goto LA10;
Result_127176 = resizeString(Result_127176, 2);
appendString(Result_127176, ((NimStringDesc*) &TMP196194));
LA10: ;
Res_129853 += 1;
} LA2: ;
Result_127176 = addChar(Result_127176, 41);
Candidates_127245 = 0;
Candidates_127245 = copyString(((NimStringDesc*) &TMP195927));
memset((void*)&O_127246, 0, sizeof(O_127246));
Sym_127260 = 0;
Sym_127260 = Initoverloaditer_108734(&O_127246, C_127174, (*N_127175).KindU.S6.Sons->data[0]);
while (1) {
if (!!((Sym_127260 == NIM_NIL))) goto LA12;
if (!((3932160 &(1<<(((*Sym_127260).Kind)&31)))!=0)) goto LA14;
LOC16 = 0;
LOC16 = Getprocheader_97018(Sym_127260);
Candidates_127245 = resizeString(Candidates_127245, LOC16->Sup.len + 0);
appendString(Candidates_127245, LOC16);
Candidates_127245 = resizeString(Candidates_127245, 1);
appendString(Candidates_127245, ((NimStringDesc*) &TMP196195));
LA14: ;
Sym_127260 = Nextoverloaditer_109063(&O_127246, C_127174, (*N_127175).KindU.S6.Sons->data[0]);
} LA12: ;
if (!!(((Candidates_127245) && (Candidates_127245)->Sup.len == 0))) goto LA18;
LOC20 = 0;
LOC21 = 0;
LOC21 = Msgkindtostring_47595(((NU8) 127));
LOC20 = rawNewString(LOC21->Sup.len + Candidates_127245->Sup.len + 2);
appendString(LOC20, ((NimStringDesc*) &TMP196195));
appendString(LOC20, LOC21);
appendString(LOC20, ((NimStringDesc*) &TMP196195));
appendString(LOC20, Candidates_127245);
Result_127176 = resizeString(Result_127176, LOC20->Sup.len + 0);
appendString(Result_127176, LOC20);
LA18: ;
return Result_127176;
}
N_NIMCALL(TY55526*, Semdirectop_135682)(TY107012* C_135684, TY55526* N_135685, NU8 Flags_135686) {
TY55526* Result_135687;
NimStringDesc* LOC7;
Result_135687 = 0;
Semopaux_133806(C_135684, N_135685);
Result_135687 = Semdirectcallanalyseeffects_135219(C_135684, N_135685, Flags_135686);
if (!(Result_135687 == NIM_NIL)) goto LA2;
Result_135687 = Overloadedcallopr_133926(C_135684, N_135685);
if (!(Result_135687 == NIM_NIL)) goto LA5;
LOC7 = 0;
LOC7 = Getnotfounderror_127172(C_135684, N_135685);
Limessage_47569((*N_135685).Info, ((NU8) 4), LOC7);
LA5: ;
LA2: ;
Fixabstracttype_134346(C_135684, Result_135687);
Analyseifaddresstakenincall_135043(C_135684, Result_135687);
return Result_135687;
}
N_NIMCALL(TY55548*, Lookupfordefined_135750)(TY107012* C_135752, TY55526* N_135753, NIM_BOOL Onlycurrentscope_135754) {
TY55548* Result_135755;
TY55548* M_135792;
NIM_BOOL LOC8;
TY54011* Ident_135858;
NimStringDesc* LOC18;
Result_135755 = 0;
switch ((*N_135753).Kind) {
case ((NU8) 2):
if (!Onlycurrentscope_135754) goto LA2;
Result_135755 = Symtablocalget_60120((*C_135752).Tab, (*N_135753).KindU.S5.Ident);
goto LA1;
LA2: ;
Result_135755 = Symtabget_60116((*C_135752).Tab, (*N_135753).KindU.S5.Ident);
LA1: ;
break;
case ((NU8) 36):
Result_135755 = NIM_NIL;
if (!Onlycurrentscope_135754) goto LA5;
goto BeforeRet;
LA5: ;
Checksonslen_107099(N_135753, 2);
M_135792 = 0;
M_135792 = Lookupfordefined_135750(C_135752, (*N_135753).KindU.S6.Sons->data[0], Onlycurrentscope_135754);
LOC8 = !((M_135792 == NIM_NIL));
if (!(LOC8)) goto LA9;
LOC8 = ((*M_135792).Kind == ((NU8) 6));
LA9: ;
if (!LOC8) goto LA10;
if (!((*(*N_135753).KindU.S6.Sons->data[1]).Kind == ((NU8) 2))) goto LA13;
Ident_135858 = 0;
Ident_135858 = (*(*N_135753).KindU.S6.Sons->data[1]).KindU.S5.Ident;
if (!(M_135792 == (*C_135752).Module)) goto LA16;
Result_135755 = Strtableget_60066(&(*C_135752).Tab.Stack->data[1], Ident_135858);
goto LA15;
LA16: ;
Result_135755 = Strtableget_60066(&(*M_135792).Tab, Ident_135858);
LA15: ;
goto LA12;
LA13: ;
Limessage_47569((*(*N_135753).KindU.S6.Sons->data[1]).Info, ((NU8) 19), ((NimStringDesc*) &TMP195927));
LA12: ;
LA10: ;
break;
case ((NU8) 43):
Checksonslen_107099(N_135753, 1);
Result_135755 = Lookupfordefined_135750(C_135752, (*N_135753).KindU.S6.Sons->data[0], Onlycurrentscope_135754);
break;
default:
LOC18 = 0;
LOC18 = Rendertree_85042(N_135753, 0);
Limessage_47569((*N_135753).Info, ((NU8) 19), LOC18);
Result_135755 = NIM_NIL;
break;
}
BeforeRet: ;
return Result_135755;
}
N_NIMCALL(TY55526*, Semdefined_135892)(TY107012* C_135894, TY55526* N_135895, NIM_BOOL Onlycurrentscope_135896) {
TY55526* Result_135897;
TY55548* LOC2;
NIM_BOOL LOC5;
NIM_BOOL LOC6;
Result_135897 = 0;
Checksonslen_107099(N_135895, 2);
Result_135897 = Newintnode_55714(((NU8) 6), 0);
LOC2 = 0;
LOC2 = Lookupfordefined_135750(C_135894, (*N_135895).KindU.S6.Sons->data[1], Onlycurrentscope_135896);
if (!!((LOC2 == NIM_NIL))) goto LA3;
(*Result_135897).KindU.S1.Intval = 1;
goto LA1;
LA3: ;
LOC6 = !(Onlycurrentscope_135896);
if (!(LOC6)) goto LA7;
LOC6 = ((*(*N_135895).KindU.S6.Sons->data[1]).Kind == ((NU8) 2));
LA7: ;
LOC5 = LOC6;
if (!(LOC5)) goto LA8;
LOC5 = Isdefined_64059((*(*N_135895).KindU.S6.Sons->data[1]).KindU.S5.Ident);
LA8: ;
if (!LOC5) goto LA9;
(*Result_135897).KindU.S1.Intval = 1;
goto LA1;
LA9: ;
LA1: ;
(*Result_135897).Info = (*N_135895).Info;
asgnRef((void**) &(*Result_135897).Typ, Getsystype_102008(((NU8) 1)));
return Result_135897;
}
N_NIMCALL(TY55526*, Setms_135990)(TY55526* N_135992, TY55548* S_135993) {
TY55526* Result_135994;
Result_135994 = 0;
Result_135994 = N_135992;
asgnRefNoCycle((void**) &(*N_135992).KindU.S6.Sons->data[0], Newsymnode_55735(S_135993));
(*(*N_135992).KindU.S6.Sons->data[0]).Info = (*N_135992).Info;
return Result_135994;
}
N_NIMCALL(TY55526*, Semlowhigh_133574)(TY107012* C_133576, TY55526* N_133577, NU8 M_133578) {
TY55526* Result_133579;
NI LOC2;
TY55552* Typ_133624;
Result_133579 = 0;
LOC2 = Sonslen_55804(N_133577);
if (!!((LOC2 == 2))) goto LA3;
Limessage_47569((*N_133577).Info, ((NU8) 66), Optostr_133580[(M_133578)-3]);
goto LA1;
LA3: ;
asgnRefNoCycle((void**) &(*N_133577).KindU.S6.Sons->data[1], Semexprwithtype_125122(C_133576, (*N_133577).KindU.S6.Sons->data[1], 1));
Typ_133624 = 0;
Typ_133624 = Skiptypes_97087((*(*N_133577).KindU.S6.Sons->data[1]).Typ, IL64(47446125761789952));
switch ((*Typ_133624).Kind) {
case ((NU8) 24):
case ((NU8) 28):
case ((NU8) 27):
asgnRef((void**) &(*N_133577).Typ, Getsystype_102008(((NU8) 31)));
break;
case ((NU8) 4):
case ((NU8) 16):
asgnRef((void**) &(*N_133577).Typ, (*(*(*N_133577).KindU.S6.Sons->data[1]).Typ).Sons->data[0]);
break;
case ((NU8) 31) ... ((NU8) 35):
case ((NU8) 2):
case ((NU8) 1):
case ((NU8) 14):
asgnRef((void**) &(*N_133577).Typ, (*(*N_133577).KindU.S6.Sons->data[1]).Typ);
break;
default:
Limessage_47569((*N_133577).Info, ((NU8) 64), Optostr_133580[(M_133578)-3]);
break;
}
LA1: ;
Result_133579 = N_133577;
return Result_133579;
}
N_NIMCALL(TY55526*, Semsizeof_133649)(TY107012* C_133651, TY55526* N_133652) {
TY55526* Result_133653;
NI LOC2;
Result_133653 = 0;
LOC2 = Sonslen_55804(N_133652);
if (!!((LOC2 == 2))) goto LA3;
Limessage_47569((*N_133652).Info, ((NU8) 66), ((NimStringDesc*) &TMP196198));
goto LA1;
LA3: ;
asgnRefNoCycle((void**) &(*N_133652).KindU.S6.Sons->data[1], Semexprwithtype_125122(C_133651, (*N_133652).KindU.S6.Sons->data[1], 1));
LA1: ;
asgnRef((void**) &(*N_133652).Typ, Getsystype_102008(((NU8) 31)));
Result_133653 = N_133652;
return Result_133653;
}
N_NIMCALL(TY55526*, Semis_133681)(TY107012* C_133683, TY55526* N_133684) {
TY55526* Result_133685;
NI LOC2;
TY55552* A_133750;
TY55552* B_133763;
NIM_BOOL LOC6;
NIM_BOOL LOC11;
NimStringDesc* LOC16;
Result_133685 = 0;
LOC2 = Sonslen_55804(N_133684);
if (!(LOC2 == 3)) goto LA3;
asgnRefNoCycle((void**) &(*N_133684).KindU.S6.Sons->data[1], Semexprwithtype_125122(C_133683, (*N_133684).KindU.S6.Sons->data[1], 1));
asgnRefNoCycle((void**) &(*N_133684).KindU.S6.Sons->data[2], Semexprwithtype_125122(C_133683, (*N_133684).KindU.S6.Sons->data[2], 1));
A_133750 = 0;
A_133750 = (*(*N_133684).KindU.S6.Sons->data[1]).Typ;
B_133763 = 0;
B_133763 = (*(*N_133684).KindU.S6.Sons->data[2]).Typ;
LOC6 = !(((*B_133763).Kind == ((NU8) 17)));
if (LOC6) goto LA7;
LOC6 = !(((*A_133750).Kind == ((NU8) 17)));
LA7: ;
if (!LOC6) goto LA8;
Limessage_47569((*N_133684).Info, ((NU8) 194), ((NimStringDesc*) &TMP195927));
LA8: ;
while (1) {
LOC11 = !((B_133763 == NIM_NIL));
if (!(LOC11)) goto LA12;
LOC11 = !(((*B_133763).Sup.Id == (*A_133750).Sup.Id));
LA12: ;
if (!LOC11) goto LA10;
B_133763 = (*B_133763).Sons->data[0];
} LA10: ;
if (!(B_133763 == NIM_NIL)) goto LA14;
LOC16 = 0;
LOC16 = Typetostring_97014(A_133750, ((NU8) 0));
Limessage_47569((*N_133684).Info, ((NU8) 195), LOC16);
LA14: ;
asgnRef((void**) &(*N_133684).Typ, Getsystype_102008(((NU8) 1)));
goto LA1;
LA3: ;
Limessage_47569((*N_133684).Info, ((NU8) 193), ((NimStringDesc*) &TMP195927));
LA1: ;
Result_133685 = N_133684;
return Result_133685;
}
N_NIMCALL(TY55526*, Semecho_135710)(TY107012* C_135712, TY55526* N_135713) {
TY55526* Result_135714;
NI I_135723;
NI HEX3Atmp_145927;
NI LOC1;
NI Res_145929;
TY55526* Arg_135736;
TY55526* Call_135737;
TY54011* LOC3;
TY55526* LOC4;
Result_135714 = 0;
Checkminsonslen_107103(N_135713, 1);
I_135723 = 0;
HEX3Atmp_145927 = 0;
LOC1 = Sonslen_55804(N_135713);
HEX3Atmp_145927 = (NI32)(LOC1 - 1);
Res_145929 = 0;
Res_145929 = 1;
while (1) {
if (!(Res_145929 <= HEX3Atmp_145927)) goto LA2;
I_135723 = Res_145929;
Arg_135736 = 0;
Arg_135736 = Semexprwithtype_125122(C_135712, (*N_135713).KindU.S6.Sons->data[I_135723], 0);
Call_135737 = 0;
Call_135737 = Newnodei_55738(((NU8) 21), (*Arg_135736).Info);
LOC3 = 0;
LOC3 = Getident_54016(((NimStringDesc*) &TMP196199));
LOC4 = 0;
LOC4 = Newidentnode_55731(LOC3, (*N_135713).Info);
Addson_55824(Call_135737, LOC4);
Addson_55824(Call_135737, Arg_135736);
asgnRefNoCycle((void**) &(*N_135713).KindU.S6.Sons->data[I_135723], Semexpr_125115(C_135712, Call_135737, 0));
Res_145929 += 1;
} LA2: ;
Result_135714 = N_135713;
return Result_135714;
}
N_NIMCALL(TY55526*, Semmagic_136019)(TY107012* C_136021, TY55526* N_136022, TY55548* S_136023, NU8 Flags_136024) {
TY55526* Result_136025;
TY55526* LOC1;
TY55526* LOC2;
TY55526* LOC3;
TY55526* LOC4;
TY55526* LOC5;
TY55526* LOC6;
TY55526* LOC7;
Result_136025 = 0;
Result_136025 = N_136022;
switch ((*S_136023).Magic) {
case ((NU8) 1):
LOC1 = 0;
LOC1 = Setms_135990(N_136022, S_136023);
Result_136025 = Semdefined_135892(C_136021, LOC1, NIM_FALSE);
break;
case ((NU8) 2):
LOC2 = 0;
LOC2 = Setms_135990(N_136022, S_136023);
Result_136025 = Semdefined_135892(C_136021, LOC2, NIM_TRUE);
break;
case ((NU8) 3):
LOC3 = 0;
LOC3 = Setms_135990(N_136022, S_136023);
Result_136025 = Semlowhigh_133574(C_136021, LOC3, ((NU8) 3));
break;
case ((NU8) 4):
LOC4 = 0;
LOC4 = Setms_135990(N_136022, S_136023);
Result_136025 = Semlowhigh_133574(C_136021, LOC4, ((NU8) 4));
break;
case ((NU8) 5):
LOC5 = 0;
LOC5 = Setms_135990(N_136022, S_136023);
Result_136025 = Semsizeof_133649(C_136021, LOC5);
break;
case ((NU8) 6):
LOC6 = 0;
LOC6 = Setms_135990(N_136022, S_136023);
Result_136025 = Semis_133681(C_136021, LOC6);
break;
case ((NU8) 7):
LOC7 = 0;
LOC7 = Setms_135990(N_136022, S_136023);
Result_136025 = Semecho_135710(C_136021, LOC7);
break;
default:
Result_136025 = Semdirectop_135682(C_136021, N_136022, Flags_136024);
break;
}
return Result_136025;
}
N_NIMCALL(TY55526*, Semindirectop_135364)(TY107012* C_135366, TY55526* N_135367, NU8 Flags_135368) {
TY55526* Result_135369;
TY55526* Prc_135382;
NI I_135481;
NI HEX3Atmp_145921;
NI LOC7;
NI Res_145923;
TY55552* T_135518;
NIM_BOOL LOC13;
TY127022 M_135574;
NimStringDesc* Msg_135586;
NI I_135595;
NI HEX3Atmp_145924;
NI LOC20;
NI Res_145926;
NimStringDesc* LOC25;
NimStringDesc* LOC26;
NimStringDesc* LOC27;
NimStringDesc* LOC28;
NimStringDesc* LOC38;
Result_135369 = 0;
Result_135369 = NIM_NIL;
Prc_135382 = 0;
Prc_135382 = (*N_135367).KindU.S6.Sons->data[0];
Checkminsonslen_107103(N_135367, 1);
if (!((*(*N_135367).KindU.S6.Sons->data[0]).Kind == ((NU8) 36))) goto LA2;
Checksonslen_107099((*N_135367).KindU.S6.Sons->data[0], 2);
asgnRefNoCycle((void**) &(*N_135367).KindU.S6.Sons->data[0], Semfieldaccess_133044(C_135366, (*N_135367).KindU.S6.Sons->data[0], 0));
if (!((*(*N_135367).KindU.S6.Sons->data[0]).Kind == ((NU8) 19))) goto LA5;
Result_135369 = (*N_135367).KindU.S6.Sons->data[0];
(*Result_135369).Kind = ((NU8) 21);
I_135481 = 0;
HEX3Atmp_145921 = 0;
LOC7 = Sonslen_55804(N_135367);
HEX3Atmp_145921 = (NI32)(LOC7 - 1);
Res_145923 = 0;
Res_145923 = 1;
while (1) {
if (!(Res_145923 <= HEX3Atmp_145921)) goto LA8;
I_135481 = Res_145923;
Addson_55824(Result_135369, (*N_135367).KindU.S6.Sons->data[I_135481]);
Res_145923 += 1;
} LA8: ;
Result_135369 = Semexpr_125115(C_135366, Result_135369, Flags_135368);
goto BeforeRet;
LA5: ;
goto LA1;
LA2: ;
asgnRefNoCycle((void**) &(*N_135367).KindU.S6.Sons->data[0], Semexpr_125115(C_135366, (*N_135367).KindU.S6.Sons->data[0], 0));
LA1: ;
Semopaux_133806(C_135366, N_135367);
T_135518 = 0;
T_135518 = NIM_NIL;
if (!!(((*(*N_135367).KindU.S6.Sons->data[0]).Typ == NIM_NIL))) goto LA10;
T_135518 = Skiptypes_97087((*(*N_135367).KindU.S6.Sons->data[0]).Typ, IL64(47287796087390208));
LA10: ;
LOC13 = !((T_135518 == NIM_NIL));
if (!(LOC13)) goto LA14;
LOC13 = ((*T_135518).Kind == ((NU8) 25));
LA14: ;
if (!LOC13) goto LA15;
memset((void*)&M_135574, 0, sizeof(M_135574));
Initcandidate_127050(&M_135574, T_135518);
Matches_128927(C_135366, N_135367, &M_135574);
if (!!((M_135574.State == ((NU8) 1)))) goto LA18;
Msg_135586 = 0;
Msg_135586 = Msgkindtostring_47595(((NU8) 126));
I_135595 = 0;
HEX3Atmp_145924 = 0;
LOC20 = Sonslen_55804(N_135367);
HEX3Atmp_145924 = (NI32)(LOC20 - 1);
Res_145926 = 0;
Res_145926 = 1;
while (1) {
if (!(Res_145926 <= HEX3Atmp_145924)) goto LA21;
I_135595 = Res_145926;
if (!(1 < I_135595)) goto LA23;
Msg_135586 = resizeString(Msg_135586, 2);
appendString(Msg_135586, ((NimStringDesc*) &TMP196194));
LA23: ;
LOC25 = 0;
LOC25 = Typetostring_97014((*(*N_135367).KindU.S6.Sons->data[I_135595]).Typ, ((NU8) 0));
Msg_135586 = resizeString(Msg_135586, LOC25->Sup.len + 0);
appendString(Msg_135586, LOC25);
Res_145926 += 1;
} LA21: ;
LOC26 = 0;
LOC27 = 0;
LOC27 = Msgkindtostring_47595(((NU8) 127));
LOC28 = 0;
LOC28 = Typetostring_97014((*(*N_135367).KindU.S6.Sons->data[0]).Typ, ((NU8) 0));
LOC26 = rawNewString(LOC27->Sup.len + LOC28->Sup.len + 3);
appendString(LOC26, ((NimStringDesc*) &TMP196200));
appendString(LOC26, LOC27);
appendString(LOC26, ((NimStringDesc*) &TMP196195));
appendString(LOC26, LOC28);
Msg_135586 = resizeString(Msg_135586, LOC26->Sup.len + 0);
appendString(Msg_135586, LOC26);
Limessage_47569((*N_135367).Info, ((NU8) 4), Msg_135586);
Result_135369 = NIM_NIL;
goto LA17;
LA18: ;
Result_135369 = M_135574.Call;
LA17: ;
if (!!((((*T_135518).Flags &(1<<((((NU8) 1))&7)))!=0))) goto LA30;
(*(*(*C_135366).P).Owner).Flags |=(1<<((NI32)(((NU8) 14))%(sizeof(NI32)*8)));
LA30: ;
goto LA12;
LA15: ;
Result_135369 = Overloadedcallopr_133926(C_135366, N_135367);
if (!(Result_135369 == NIM_NIL)) goto LA33;
asgnRefNoCycle((void**) &(*N_135367).KindU.S6.Sons->data[0], Prc_135382);
Result_135369 = Semdirectcallanalyseeffects_135219(C_135366, N_135367, Flags_135368);
LA33: ;
if (!(Result_135369 == NIM_NIL)) goto LA36;
LOC38 = 0;
LOC38 = Rendertree_85042(N_135367, 4);
Limessage_47569((*N_135367).Info, ((NU8) 85), LOC38);
LA36: ;
LA12: ;
Fixabstracttype_134346(C_135366, Result_135369);
Analyseifaddresstakenincall_135043(C_135366, Result_135369);
BeforeRet: ;
return Result_135369;
}
N_NIMCALL(TY55526*, Explictgenericinstantiation_129751)(TY107012* C_129753, TY55526* N_129754, TY55548* S_129755) {
TY55526* Result_129756;
NI I_129774;
NI HEX3Atmp_129878;
NI LOC1;
NI Res_129880;
TY127022 X_129820;
TY55548* Newinst_129822;
Result_129756 = 0;
I_129774 = 0;
HEX3Atmp_129878 = 0;
LOC1 = Sonslen_55804(N_129754);
HEX3Atmp_129878 = (NI32)(LOC1 - 1);
Res_129880 = 0;
Res_129880 = 1;
while (1) {
if (!(Res_129880 <= HEX3Atmp_129878)) goto LA2;
I_129774 = Res_129880;
asgnRef((void**) &(*(*N_129754).KindU.S6.Sons->data[I_129774]).Typ, Semtypenode_125138(C_129753, (*N_129754).KindU.S6.Sons->data[I_129774], NIM_NIL));
Res_129880 += 1;
} LA2: ;
memset((void*)&X_129820, 0, sizeof(X_129820));
Initcandidate_127056(&X_129820, S_129755, N_129754);
Newinst_129822 = 0;
Newinst_129822 = Generateinstance_126146(C_129753, S_129755, X_129820.Bindings, (*N_129754).Info);
Markused_125065(N_129754, S_129755);
Result_129756 = Newsymnode_55735(Newinst_129822);
(*Result_129756).Info = (*N_129754).Info;
return Result_129756;
}
N_NIMCALL(TY55526*, Semarrayaccess_137163)(TY107012* C_137165, TY55526* N_137166, NU8 Flags_137167) {
TY55526* Result_137168;
TY55526* LOC4;
Result_137168 = 0;
Result_137168 = Semsubscript_136890(C_137165, N_137166, Flags_137167);
if (!(Result_137168 == NIM_NIL)) goto LA2;
LOC4 = 0;
LOC4 = Buildoverloadedsubscripts_136847(N_137166, NIM_FALSE);
Result_137168 = Semexpr_125115(C_137165, LOC4, 0);
LA2: ;
return Result_137168;
}
N_NIMCALL(NU8, Checkpar_137774)(TY55526* N_137776) {
NU8 Result_137777;
NI Length_137778;
NI I_137812;
NI HEX3Atmp_145957;
NI Res_145959;
NIM_BOOL LOC14;
Result_137777 = 0;
Length_137778 = 0;
Length_137778 = Sonslen_55804(N_137776);
if (!(Length_137778 == 0)) goto LA2;
Result_137777 = ((NU8) 3);
goto LA1;
LA2: ;
if (!(Length_137778 == 1)) goto LA4;
Result_137777 = ((NU8) 1);
goto LA1;
LA4: ;
if (!((*(*N_137776).KindU.S6.Sons->data[0]).Kind == ((NU8) 24))) goto LA7;
Result_137777 = ((NU8) 2);
goto LA6;
LA7: ;
Result_137777 = ((NU8) 3);
LA6: ;
I_137812 = 0;
HEX3Atmp_145957 = 0;
HEX3Atmp_145957 = (NI32)(Length_137778 - 1);
Res_145959 = 0;
Res_145959 = 0;
while (1) {
if (!(Res_145959 <= HEX3Atmp_145957)) goto LA9;
I_137812 = Res_145959;
if (!(Result_137777 == ((NU8) 2))) goto LA11;
LOC14 = !(((*(*N_137776).KindU.S6.Sons->data[I_137812]).Kind == ((NU8) 24)));
if (LOC14) goto LA15;
LOC14 = !(((*(*(*N_137776).KindU.S6.Sons->data[I_137812]).KindU.S6.Sons->data[0]).Kind == ((NU8) 3) || (*(*(*N_137776).KindU.S6.Sons->data[I_137812]).KindU.S6.Sons->data[0]).Kind == ((NU8) 2)));
LA15: ;
if (!LOC14) goto LA16;
Limessage_47569((*(*N_137776).KindU.S6.Sons->data[I_137812]).Info, ((NU8) 168), ((NimStringDesc*) &TMP195927));
Result_137777 = ((NU8) 0);
goto BeforeRet;
LA16: ;
goto LA10;
LA11: ;
if (!((*(*N_137776).KindU.S6.Sons->data[I_137812]).Kind == ((NU8) 24))) goto LA19;
Limessage_47569((*(*N_137776).KindU.S6.Sons->data[I_137812]).Info, ((NU8) 169), ((NimStringDesc*) &TMP195927));
Result_137777 = ((NU8) 0);
goto BeforeRet;
LA19: ;
LA10: ;
Res_145959 += 1;
} LA9: ;
LA1: ;
BeforeRet: ;
return Result_137777;
}
N_NIMCALL(TY55526*, Semtuplepositionsconstr_138262)(TY107012* C_138264, TY55526* N_138265) {
TY55526* Result_138266;
TY55552* Typ_138267;
NI I_138276;
NI HEX3Atmp_145963;
NI LOC1;
NI Res_145965;
Result_138266 = 0;
Result_138266 = N_138265;
Typ_138267 = 0;
Typ_138267 = Newtypes_107077(((NU8) 18), C_138264);
I_138276 = 0;
HEX3Atmp_145963 = 0;
LOC1 = Sonslen_55804(N_138265);
HEX3Atmp_145963 = (NI32)(LOC1 - 1);
Res_145965 = 0;
Res_145965 = 0;
while (1) {
if (!(Res_145965 <= HEX3Atmp_145963)) goto LA2;
I_138276 = Res_145965;
asgnRefNoCycle((void**) &(*N_138265).KindU.S6.Sons->data[I_138276], Semexprwithtype_125122(C_138264, (*N_138265).KindU.S6.Sons->data[I_138276], 0));
Addson_55828(Typ_138267, (*(*N_138265).KindU.S6.Sons->data[I_138276]).Typ);
Res_145965 += 1;
} LA2: ;
asgnRef((void**) &(*Result_138266).Typ, Typ_138267);
return Result_138266;
}
N_NIMCALL(TY55526*, Semtuplefieldsconstr_137924)(TY107012* C_137926, TY55526* N_137927) {
TY55526* Result_137928;
TY55901 Ids_137929;
TY55552* Typ_137930;
NI I_137940;
NI HEX3Atmp_145960;
NI LOC1;
NI Res_145962;
NIM_BOOL LOC4;
TY54011* Id_138010;
NIM_BOOL LOC12;
TY55548* F_138201;
TY55526* LOC15;
Result_137928 = 0;
memset((void*)&Ids_137929, 0, sizeof(Ids_137929));
Result_137928 = Newnodei_55738(((NU8) 30), (*N_137927).Info);
Typ_137930 = 0;
Typ_137930 = Newtypes_107077(((NU8) 18), C_137926);
asgnRefNoCycle((void**) &(*Typ_137930).N, Newnodei_55738(((NU8) 113), (*N_137927).Info));
Intsetinit_55925(&Ids_137929);
I_137940 = 0;
HEX3Atmp_145960 = 0;
LOC1 = Sonslen_55804(N_137927);
HEX3Atmp_145960 = (NI32)(LOC1 - 1);
Res_145962 = 0;
Res_145962 = 0;
while (1) {
if (!(Res_145962 <= HEX3Atmp_145960)) goto LA2;
I_137940 = Res_145962;
LOC4 = !(((*(*N_137927).KindU.S6.Sons->data[I_137940]).Kind == ((NU8) 24)));
if (LOC4) goto LA5;
LOC4 = !(((*(*(*N_137927).KindU.S6.Sons->data[I_137940]).KindU.S6.Sons->data[0]).Kind == ((NU8) 3) || (*(*(*N_137927).KindU.S6.Sons->data[I_137940]).KindU.S6.Sons->data[0]).Kind == ((NU8) 2)));
LA5: ;
if (!LOC4) goto LA6;
Illformedast_107092((*N_137927).KindU.S6.Sons->data[I_137940]);
LA6: ;
Id_138010 = 0;
if (!((*(*(*N_137927).KindU.S6.Sons->data[I_137940]).KindU.S6.Sons->data[0]).Kind == ((NU8) 2))) goto LA9;
Id_138010 = (*(*(*N_137927).KindU.S6.Sons->data[I_137940]).KindU.S6.Sons->data[0]).KindU.S5.Ident;
goto LA8;
LA9: ;
Id_138010 = (*(*(*(*N_137927).KindU.S6.Sons->data[I_137940]).KindU.S6.Sons->data[0]).KindU.S4.Sym).Name;
LA8: ;
LOC12 = Intsetcontainsorincl_55929(&Ids_137929, (*Id_138010).Sup.Id);
if (!LOC12) goto LA13;
Limessage_47569((*(*N_137927).KindU.S6.Sons->data[I_137940]).Info, ((NU8) 83), (*Id_138010).S);
LA13: ;
asgnRefNoCycle((void**) &(*(*N_137927).KindU.S6.Sons->data[I_137940]).KindU.S6.Sons->data[1], Semexprwithtype_125122(C_137926, (*(*N_137927).KindU.S6.Sons->data[I_137940]).KindU.S6.Sons->data[1], 0));
F_138201 = 0;
F_138201 = Newsyms_125059(((NU8) 16), (*(*N_137927).KindU.S6.Sons->data[I_137940]).KindU.S6.Sons->data[0], C_137926);
asgnRef((void**) &(*F_138201).Typ, (*(*(*N_137927).KindU.S6.Sons->data[I_137940]).KindU.S6.Sons->data[1]).Typ);
Addson_55828(Typ_137930, (*F_138201).Typ);
LOC15 = 0;
LOC15 = Newsymnode_55735(F_138201);
Addson_55824((*Typ_137930).N, LOC15);
asgnRefNoCycle((void**) &(*(*N_137927).KindU.S6.Sons->data[I_137940]).KindU.S6.Sons->data[0], Newsymnode_55735(F_138201));
Addson_55824(Result_137928, (*N_137927).KindU.S6.Sons->data[I_137940]);
Res_145962 += 1;
} LA2: ;
asgnRef((void**) &(*Result_137928).Typ, Typ_137930);
return Result_137928;
}
N_NIMCALL(TY55526*, Semsetconstr_137395)(TY107012* C_137397, TY55526* N_137398) {
TY55526* Result_137399;
NI LOC2;
TY55552* LOC5;
TY55552* Typ_137402;
NI I_137411;
NI HEX3Atmp_145951;
NI LOC6;
NI Res_145953;
NIM_BOOL LOC18;
NI64 LOC22;
NI I_137673;
NI HEX3Atmp_145954;
NI LOC25;
NI Res_145956;
TY55526* M_137674;
TY55526* LOC30;
TY55526* LOC31;
Result_137399 = 0;
Result_137399 = Newnodei_55738(((NU8) 31), (*N_137398).Info);
asgnRef((void**) &(*Result_137399).Typ, Newtypes_107077(((NU8) 19), C_137397));
LOC2 = Sonslen_55804(N_137398);
if (!(LOC2 == 0)) goto LA3;
LOC5 = 0;
LOC5 = Newtypes_107077(((NU8) 3), C_137397);
Addson_55828((*Result_137399).Typ, LOC5);
goto LA1;
LA3: ;
Typ_137402 = 0;
Typ_137402 = NIM_NIL;
I_137411 = 0;
HEX3Atmp_145951 = 0;
LOC6 = Sonslen_55804(N_137398);
HEX3Atmp_145951 = (NI32)(LOC6 - 1);
Res_145953 = 0;
Res_145953 = 0;
while (1) {
if (!(Res_145953 <= HEX3Atmp_145951)) goto LA7;
I_137411 = Res_145953;
if (!((*(*N_137398).KindU.S6.Sons->data[I_137411]).Kind == ((NU8) 35))) goto LA9;
Checksonslen_107099((*N_137398).KindU.S6.Sons->data[I_137411], 2);
asgnRefNoCycle((void**) &(*(*N_137398).KindU.S6.Sons->data[I_137411]).KindU.S6.Sons->data[0], Semexprwithtype_125122(C_137397, (*(*N_137398).KindU.S6.Sons->data[I_137411]).KindU.S6.Sons->data[0], 0));
asgnRefNoCycle((void**) &(*(*N_137398).KindU.S6.Sons->data[I_137411]).KindU.S6.Sons->data[1], Semexprwithtype_125122(C_137397, (*(*N_137398).KindU.S6.Sons->data[I_137411]).KindU.S6.Sons->data[1], 0));
if (!(Typ_137402 == NIM_NIL)) goto LA12;
Typ_137402 = Skiptypes_97087((*(*(*N_137398).KindU.S6.Sons->data[I_137411]).KindU.S6.Sons->data[0]).Typ, IL64(38421334321004544));
LA12: ;
asgnRef((void**) &(*(*N_137398).KindU.S6.Sons->data[I_137411]).Typ, (*(*(*N_137398).KindU.S6.Sons->data[I_137411]).KindU.S6.Sons->data[1]).Typ);
goto LA8;
LA9: ;
asgnRefNoCycle((void**) &(*N_137398).KindU.S6.Sons->data[I_137411], Semexprwithtype_125122(C_137397, (*N_137398).KindU.S6.Sons->data[I_137411], 0));
if (!(Typ_137402 == NIM_NIL)) goto LA15;
Typ_137402 = Skiptypes_97087((*(*N_137398).KindU.S6.Sons->data[I_137411]).Typ, IL64(38421334321004544));
LA15: ;
LA8: ;
Res_145953 += 1;
} LA7: ;
LOC18 = Isordinaltype_97069(Typ_137402);
if (!!(LOC18)) goto LA19;
Limessage_47569((*N_137398).Info, ((NU8) 71), ((NimStringDesc*) &TMP195927));
goto BeforeRet;
LA19: ;
LOC22 = Lengthord_97007(Typ_137402);
if (!(65536 < LOC22)) goto LA23;
Typ_137402 = Makerangetype_107086(C_137397, 0, 65535, (*N_137398).Info);
LA23: ;
Addson_55828((*Result_137399).Typ, Typ_137402);
I_137673 = 0;
HEX3Atmp_145954 = 0;
LOC25 = Sonslen_55804(N_137398);
HEX3Atmp_145954 = (NI32)(LOC25 - 1);
Res_145956 = 0;
Res_145956 = 0;
while (1) {
if (!(Res_145956 <= HEX3Atmp_145954)) goto LA26;
I_137673 = Res_145956;
M_137674 = 0;
if (!((*(*N_137398).KindU.S6.Sons->data[I_137673]).Kind == ((NU8) 35))) goto LA28;
M_137674 = Newnodei_55738(((NU8) 35), (*(*N_137398).KindU.S6.Sons->data[I_137673]).Info);
LOC30 = 0;
LOC30 = Fitnode_125129(C_137397, Typ_137402, (*(*N_137398).KindU.S6.Sons->data[I_137673]).KindU.S6.Sons->data[0]);
Addson_55824(M_137674, LOC30);
LOC31 = 0;
LOC31 = Fitnode_125129(C_137397, Typ_137402, (*(*N_137398).KindU.S6.Sons->data[I_137673]).KindU.S6.Sons->data[1]);
Addson_55824(M_137674, LOC31);
goto LA27;
LA28: ;
M_137674 = Fitnode_125129(C_137397, Typ_137402, (*N_137398).KindU.S6.Sons->data[I_137673]);
LA27: ;
Addson_55824(Result_137399, M_137674);
Res_145956 += 1;
} LA26: ;
LA1: ;
BeforeRet: ;
return Result_137399;
}
N_NIMCALL(TY55526*, Semlambda_125134)(TY107012* C_125136, TY55526* N_125137) {
TY55526* Result_144429;
TY55548* S_144430;
TY54011* LOC1;
TY55548* LOC2;
TY107006* Oldp_144431;
Result_144429 = 0;
Result_144429 = N_125137;
Checksonslen_107099(N_125137, 5);
S_144430 = 0;
LOC1 = 0;
LOC1 = Getident_54016(((NimStringDesc*) &TMP196202));
LOC2 = 0;
LOC2 = Getcurrowner_107107();
S_144430 = Newsym_55702(((NU8) 10), LOC1, LOC2);
(*S_144430).Info = (*N_125137).Info;
Oldp_144431 = 0;
Oldp_144431 = (*C_125136).P;
asgnRefNoCycle((void**) &(*S_144430).Ast, N_125137);
asgnRefNoCycle((void**) &(*N_125137).KindU.S6.Sons->data[0], Newsymnode_55735(S_144430));
Pushowner_107109(S_144430);
Openscope_60146(&(*C_125136).Tab);
if (!!(((*N_125137).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA4;
Illformedast_107092(N_125137);
LA4: ;
if (!!(((*N_125137).KindU.S6.Sons->data[2] == NIM_NIL))) goto LA7;
Semparamlist_125147(C_125136, (*N_125137).KindU.S6.Sons->data[2], NIM_NIL, S_144430);
Addparams_125153(C_125136, (*(*S_144430).Typ).N);
goto LA6;
LA7: ;
asgnRef((void**) &(*S_144430).Typ, Newtypes_107077(((NU8) 25), C_125136));
Addson_55828((*S_144430).Typ, NIM_NIL);
LA6: ;
(*(*S_144430).Typ).Callconv = ((NU8) 8);
if (!!(((*N_125137).KindU.S6.Sons->data[3] == NIM_NIL))) goto LA10;
Pragma_122028(C_125136, S_144430, (*N_125137).KindU.S6.Sons->data[3], TMP196203);
LA10: ;
(*S_144430).Options = Goptions_46077;
if (!!(((*N_125137).KindU.S6.Sons->data[4] == NIM_NIL))) goto LA13;
if (!(((*S_144430).Flags &(1<<((((NU8) 7))&31)))!=0)) goto LA16;
Limessage_47569((*(*N_125137).KindU.S6.Sons->data[4]).Info, ((NU8) 134), (*(*S_144430).Name).S);
LA16: ;
asgnRefNoCycle((void**) &(*C_125136).P, Newproccon_107050(S_144430));
Addresult_125157(C_125136, (*(*S_144430).Typ).Sons->data[0], (*N_125137).Info);
asgnRefNoCycle((void**) &(*N_125137).KindU.S6.Sons->data[4], Semstmtscope_125104(C_125136, (*N_125137).KindU.S6.Sons->data[4]));
Addresultnode_125162(C_125136, N_125137);
goto LA12;
LA13: ;
Limessage_47569((*N_125137).Info, ((NU8) 135), (*(*S_144430).Name).S);
LA12: ;
Closescope_108018(&(*C_125136).Tab);
Popowner_107112();
asgnRefNoCycle((void**) &(*C_125136).P, Oldp_144431);
asgnRef((void**) &(*Result_144429).Typ, (*S_144430).Typ);
return Result_144429;
}
N_NIMCALL(NIM_BOOL, Iscastable_133310)(TY55552* Dst_133312, TY55552* Src_133313) {
NIM_BOOL Result_133314;
NI64 Ds_133315;
NI64 Ss_133316;
NIM_BOOL LOC6;
NIM_BOOL LOC7;
TY55552* LOC9;
TY55552* LOC11;
Result_133314 = 0;
Ds_133315 = 0;
Ss_133316 = 0;
Ds_133315 = Computesize_97112(Dst_133312);
Ss_133316 = Computesize_97112(Src_133313);
if (!(Ds_133315 < 0)) goto LA2;
Result_133314 = NIM_FALSE;
goto LA1;
LA2: ;
if (!(Ss_133316 < 0)) goto LA4;
Result_133314 = NIM_FALSE;
goto LA1;
LA4: ;
LOC7 = (Ss_133316 <= Ds_133315);
if (LOC7) goto LA8;
LOC9 = 0;
LOC9 = Skiptypes_97087(Dst_133312, IL64(47287796087390208));
LOC7 = ((*LOC9).Kind >= ((NU8) 31) && (*LOC9).Kind <= ((NU8) 39));
LA8: ;
LOC6 = LOC7;
if (LOC6) goto LA10;
LOC11 = 0;
LOC11 = Skiptypes_97087(Src_133313, IL64(47287796087390208));
LOC6 = ((*LOC11).Kind >= ((NU8) 31) && (*LOC11).Kind <= ((NU8) 39));
LA10: ;
Result_133314 = LOC6;
LA1: ;
return Result_133314;
}
N_NIMCALL(TY55526*, Semcast_133498)(TY107012* C_133500, TY55526* N_133501) {
TY55526* Result_133502;
TY55526* LOC4;
TY55526* LOC5;
NIM_BOOL LOC7;
NimStringDesc* LOC10;
Result_133502 = 0;
if (!((Gglobaloptions_46079 &(1<<((((NU8) 8))&31)))!=0)) goto LA2;
Limessage_47569((*N_133501).Info, ((NU8) 88), ((NimStringDesc*) &TMP195927));
LA2: ;
(*(*(*C_133500).P).Owner).Flags |=(1<<((NI32)(((NU8) 14))%(sizeof(NI32)*8)));
Checksonslen_107099(N_133501, 2);
Result_133502 = Newnodei_55738(((NU8) 51), (*N_133501).Info);
asgnRef((void**) &(*Result_133502).Typ, Semtypenode_125138(C_133500, (*N_133501).KindU.S6.Sons->data[0], NIM_NIL));
LOC4 = 0;
LOC4 = Copytree_55859((*N_133501).KindU.S6.Sons->data[0]);
Addson_55824(Result_133502, LOC4);
LOC5 = 0;
LOC5 = Semexprwithtype_125122(C_133500, (*N_133501).KindU.S6.Sons->data[1], 0);
Addson_55824(Result_133502, LOC5);
LOC7 = Iscastable_133310((*Result_133502).Typ, (*(*Result_133502).KindU.S6.Sons->data[1]).Typ);
if (!!(LOC7)) goto LA8;
LOC10 = 0;
LOC10 = Typetostring_97014((*Result_133502).Typ, ((NU8) 0));
Limessage_47569((*Result_133502).Info, ((NU8) 89), LOC10);
LA8: ;
return Result_133502;
}
N_NIMCALL(TY55526*, Semifexpr_137201)(TY107012* C_137203, TY55526* N_137204) {
TY55526* Result_137205;
TY55552* Typ_137206;
NI I_137215;
NI HEX3Atmp_145948;
NI LOC1;
NI Res_145950;
TY55526* It_137228;
Result_137205 = 0;
Result_137205 = N_137204;
Checkminsonslen_107103(N_137204, 2);
Typ_137206 = 0;
Typ_137206 = NIM_NIL;
I_137215 = 0;
HEX3Atmp_145948 = 0;
LOC1 = Sonslen_55804(N_137204);
HEX3Atmp_145948 = (NI32)(LOC1 - 1);
Res_145950 = 0;
Res_145950 = 0;
while (1) {
if (!(Res_145950 <= HEX3Atmp_145948)) goto LA2;
I_137215 = Res_145950;
It_137228 = 0;
It_137228 = (*N_137204).KindU.S6.Sons->data[I_137215];
switch ((*It_137228).Kind) {
case ((NU8) 40):
Checksonslen_107099(It_137228, 2);
asgnRefNoCycle((void**) &(*It_137228).KindU.S6.Sons->data[0], Semexprwithtype_125122(C_137203, (*It_137228).KindU.S6.Sons->data[0], 0));
Checkbool_129881((*It_137228).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*It_137228).KindU.S6.Sons->data[1], Semexprwithtype_125122(C_137203, (*It_137228).KindU.S6.Sons->data[1], 0));
if (!(Typ_137206 == NIM_NIL)) goto LA4;
Typ_137206 = (*(*It_137228).KindU.S6.Sons->data[1]).Typ;
goto LA3;
LA4: ;
asgnRefNoCycle((void**) &(*It_137228).KindU.S6.Sons->data[1], Fitnode_125129(C_137203, Typ_137206, (*It_137228).KindU.S6.Sons->data[1]));
LA3: ;
break;
case ((NU8) 41):
Checksonslen_107099(It_137228, 1);
asgnRefNoCycle((void**) &(*It_137228).KindU.S6.Sons->data[0], Semexprwithtype_125122(C_137203, (*It_137228).KindU.S6.Sons->data[0], 0));
if (!(Typ_137206 == NIM_NIL)) goto LA7;
Internalerror_47574((*It_137228).Info, ((NimStringDesc*) &TMP196205));
LA7: ;
asgnRefNoCycle((void**) &(*It_137228).KindU.S6.Sons->data[0], Fitnode_125129(C_137203, Typ_137206, (*It_137228).KindU.S6.Sons->data[0]));
break;
default:
Illformedast_107092(N_137204);
break;
}
Res_145950 += 1;
} LA2: ;
asgnRef((void**) &(*Result_137205).Typ, Typ_137206);
return Result_137205;
}
N_NIMCALL(TY55526*, Semstmtlistexpr_138313)(TY107012* C_138315, TY55526* N_138316) {
TY55526* Result_138317;
NI Length_138318;
NI I_138327;
NI HEX3Atmp_145966;
NI Res_145968;
Result_138317 = 0;
Result_138317 = N_138316;
Checkminsonslen_107103(N_138316, 1);
Length_138318 = 0;
Length_138318 = Sonslen_55804(N_138316);
I_138327 = 0;
HEX3Atmp_145966 = 0;
HEX3Atmp_145966 = (NI32)(Length_138318 - 2);
Res_145968 = 0;
Res_145968 = 0;
while (1) {
if (!(Res_145968 <= HEX3Atmp_145966)) goto LA1;
I_138327 = Res_145968;
asgnRefNoCycle((void**) &(*N_138316).KindU.S6.Sons->data[I_138327], Semstmt_125143(C_138315, (*N_138316).KindU.S6.Sons->data[I_138327]));
Res_145968 += 1;
} LA1: ;
if (!(0 < Length_138318)) goto LA3;
asgnRefNoCycle((void**) &(*N_138316).KindU.S6.Sons->data[(NI32)(Length_138318 - 1)], Semexprwithtype_125122(C_138315, (*N_138316).KindU.S6.Sons->data[(NI32)(Length_138318 - 1)], 0));
asgnRef((void**) &(*N_138316).Typ, (*(*N_138316).KindU.S6.Sons->data[(NI32)(Length_138318 - 1)]).Typ);
LA3: ;
return Result_138317;
}
N_NIMCALL(TY55526*, Semblockexpr_138392)(TY107012* C_138394, TY55526* N_138395) {
TY55526* Result_138396;
TY55548* LOC4;
Result_138396 = 0;
Result_138396 = N_138395;
(*(*C_138394).P).Nestedblockcounter += 1;
Checksonslen_107099(N_138395, 2);
Openscope_60146(&(*C_138394).Tab);
if (!!(((*N_138395).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA2;
LOC4 = 0;
LOC4 = Newsyms_125059(((NU8) 19), (*N_138395).KindU.S6.Sons->data[0], C_138394);
Adddecl_108114(C_138394, LOC4);
LA2: ;
asgnRefNoCycle((void**) &(*N_138395).KindU.S6.Sons->data[1], Semstmtlistexpr_138313(C_138394, (*N_138395).KindU.S6.Sons->data[1]));
asgnRef((void**) &(*N_138395).Typ, (*(*N_138395).KindU.S6.Sons->data[1]).Typ);
Closescope_108018(&(*C_138394).Tab);
(*(*C_138394).P).Nestedblockcounter -= 1;
return Result_138396;
}
N_NIMCALL(TY55526*, Semexpr_125115)(TY107012* C_125117, TY55526* N_125118, NU8 Flags_125121) {
TY55526* Result_138664;
TY55548* S_138687;
TY55548* S_138855;
TY55548* S_138919;
NIM_BOOL LOC55;
NU8 LOC59;
TY55552* T_138992;
NU8 LOC61;
NimStringDesc* LOC64;
NimStringDesc* LOC65;
Result_138664 = 0;
Result_138664 = N_125118;
if (!(N_125118 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
if (!(((*N_125118).Flags &(1<<((((NU8) 6))&7)))!=0)) goto LA5;
goto BeforeRet;
LA5: ;
switch ((*N_125118).Kind) {
case ((NU8) 2):
S_138687 = 0;
S_138687 = Lookup_108245(C_125117, N_125118);
Result_138664 = Semsym_133092(C_125117, N_125118, S_138687, Flags_125121);
break;
case ((NU8) 3):
Result_138664 = Semsym_133092(C_125117, N_125118, (*N_125118).KindU.S4.Sym, Flags_125121);
break;
case ((NU8) 1):
case ((NU8) 0):
break;
case ((NU8) 18):
asgnRef((void**) &(*Result_138664).Typ, Getsystype_102008(((NU8) 5)));
break;
case ((NU8) 4):
if (!!(((Flags_125121 &(1<<((((NU8) 0))&7)))!=0))) goto LA8;
Limessage_47569((*N_125118).Info, ((NU8) 162), ((NimStringDesc*) &TMP195927));
LA8: ;
asgnRef((void**) &(*N_125118).Typ, Semtypenode_125138(C_125117, N_125118, NIM_NIL));
break;
case ((NU8) 6):
if (!((*Result_138664).Typ == NIM_NIL)) goto LA11;
asgnRef((void**) &(*Result_138664).Typ, Getsystype_102008(((NU8) 31)));
LA11: ;
break;
case ((NU8) 7):
if (!((*Result_138664).Typ == NIM_NIL)) goto LA14;
asgnRef((void**) &(*Result_138664).Typ, Getsystype_102008(((NU8) 32)));
LA14: ;
break;
case ((NU8) 8):
if (!((*Result_138664).Typ == NIM_NIL)) goto LA17;
asgnRef((void**) &(*Result_138664).Typ, Getsystype_102008(((NU8) 33)));
LA17: ;
break;
case ((NU8) 9):
if (!((*Result_138664).Typ == NIM_NIL)) goto LA20;
asgnRef((void**) &(*Result_138664).Typ, Getsystype_102008(((NU8) 34)));
LA20: ;
break;
case ((NU8) 10):
if (!((*Result_138664).Typ == NIM_NIL)) goto LA23;
asgnRef((void**) &(*Result_138664).Typ, Getsystype_102008(((NU8) 35)));
LA23: ;
break;
case ((NU8) 11):
if (!((*Result_138664).Typ == NIM_NIL)) goto LA26;
asgnRef((void**) &(*Result_138664).Typ, Getsystype_102008(((NU8) 36)));
LA26: ;
break;
case ((NU8) 12):
if (!((*Result_138664).Typ == NIM_NIL)) goto LA29;
asgnRef((void**) &(*Result_138664).Typ, Getsystype_102008(((NU8) 37)));
LA29: ;
break;
case ((NU8) 13):
if (!((*Result_138664).Typ == NIM_NIL)) goto LA32;
asgnRef((void**) &(*Result_138664).Typ, Getsystype_102008(((NU8) 38)));
LA32: ;
break;
case ((NU8) 14) ... ((NU8) 16):
if (!((*Result_138664).Typ == NIM_NIL)) goto LA35;
asgnRef((void**) &(*Result_138664).Typ, Getsystype_102008(((NU8) 28)));
LA35: ;
break;
case ((NU8) 5):
if (!((*Result_138664).Typ == NIM_NIL)) goto LA38;
asgnRef((void**) &(*Result_138664).Typ, Getsystype_102008(((NU8) 2)));
LA38: ;
break;
case ((NU8) 36):
Result_138664 = Semfieldaccess_133044(C_125117, N_125118, Flags_125121);
if (!((*Result_138664).Kind == ((NU8) 19))) goto LA41;
(*Result_138664).Kind = ((NU8) 21);
Result_138664 = Semexpr_125115(C_125117, Result_138664, Flags_125121);
LA41: ;
break;
case ((NU8) 45):
Result_138664 = Semexpr_125115(C_125117, (*N_125118).KindU.S6.Sons->data[0], Flags_125121);
break;
case ((NU8) 21):
case ((NU8) 27):
case ((NU8) 28):
case ((NU8) 29):
case ((NU8) 20):
case ((NU8) 22):
Checkminsonslen_107103(N_125118, 1);
S_138855 = 0;
S_138855 = Qualifiedlookup_108322(C_125117, (*N_125118).KindU.S6.Sons->data[0], 2);
if (!!((S_138855 == NIM_NIL))) goto LA44;
switch ((*S_138855).Kind) {
case ((NU8) 14):
Result_138664 = Semmacroexpr_126085(C_125117, N_125118, S_138855, NIM_TRUE);
break;
case ((NU8) 15):
Result_138664 = Semtemplateexpr_133037(C_125117, N_125118, S_138855, NIM_TRUE);
break;
case ((NU8) 7):
if (!!(((*N_125118).Kind == ((NU8) 21)))) goto LA47;
Limessage_47569((*N_125118).Info, ((NU8) 151), (*(*S_138855).Name).S);
LA47: ;
Result_138664 = Semconv_133351(C_125117, N_125118, S_138855);
break;
case ((NU8) 10):
case ((NU8) 11):
case ((NU8) 13):
case ((NU8) 12):
if (!((*S_138855).Magic == ((NU8) 0))) goto LA50;
Result_138664 = Semdirectop_135682(C_125117, N_125118, Flags_125121);
goto LA49;
LA50: ;
Result_138664 = Semmagic_136019(C_125117, N_125118, S_138855, Flags_125121);
LA49: ;
break;
default:
Result_138664 = Semindirectop_135364(C_125117, N_125118, Flags_125121);
break;
}
goto LA43;
LA44: ;
if (!((*(*N_125118).KindU.S6.Sons->data[0]).Kind == ((NU8) 46))) goto LA52;
Result_138664 = Semdirectop_135682(C_125117, N_125118, Flags_125121);
goto LA43;
LA52: ;
Result_138664 = Semindirectop_135364(C_125117, N_125118, Flags_125121);
LA43: ;
break;
case ((NU8) 79):
Result_138664 = Semmacrostmt_138510(C_125117, N_125118, NIM_TRUE);
break;
case ((NU8) 33):
Checkminsonslen_107103(N_125118, 1);
S_138919 = 0;
S_138919 = Qualifiedlookup_108322(C_125117, (*N_125118).KindU.S6.Sons->data[0], 2);
LOC55 = !((S_138919 == NIM_NIL));
if (!(LOC55)) goto LA56;
LOC55 = ((3932160 &(1<<(((*S_138919).Kind)&31)))!=0);
LA56: ;
if (!LOC55) goto LA57;
Result_138664 = Explictgenericinstantiation_129751(C_125117, N_125118, S_138919);
goto LA54;
LA57: ;
Result_138664 = Semarrayaccess_137163(C_125117, N_125118, Flags_125121);
LA54: ;
break;
case ((NU8) 34):
Internalerror_47574((*N_125118).Info, ((NimStringDesc*) &TMP196201));
break;
case ((NU8) 30):
LOC59 = Checkpar_137774(N_125118);
switch (LOC59) {
case ((NU8) 0):
Result_138664 = NIM_NIL;
break;
case ((NU8) 3):
Result_138664 = Semtuplepositionsconstr_138262(C_125117, N_125118);
break;
case ((NU8) 2):
Result_138664 = Semtuplefieldsconstr_137924(C_125117, N_125118);
break;
case ((NU8) 1):
Result_138664 = Semexpr_125115(C_125117, (*N_125118).KindU.S6.Sons->data[0], 0);
break;
}
break;
case ((NU8) 31):
Result_138664 = Semsetconstr_137395(C_125117, N_125118);
break;
case ((NU8) 32):
Result_138664 = Semarrayconstr_134183(C_125117, N_125118);
break;
case ((NU8) 42):
Result_138664 = Semlambda_125134(C_125117, N_125118);
break;
case ((NU8) 38):
Checksonslen_107099(N_125118, 1);
asgnRefNoCycle((void**) &(*N_125118).KindU.S6.Sons->data[0], Semexprwithtype_125122(C_125117, (*N_125118).KindU.S6.Sons->data[0], 0));
Result_138664 = N_125118;
T_138992 = 0;
T_138992 = Skiptypes_97087((*(*N_125118).KindU.S6.Sons->data[0]).Typ, IL64(2392537302040576));
switch ((*T_138992).Kind) {
case ((NU8) 22):
case ((NU8) 21):
asgnRef((void**) &(*N_125118).Typ, (*T_138992).Sons->data[0]);
break;
default:
Limessage_47569((*(*N_125118).KindU.S6.Sons->data[0]).Info, ((NU8) 164), ((NimStringDesc*) &TMP195927));
break;
}
Result_138664 = N_125118;
break;
case ((NU8) 52):
Result_138664 = N_125118;
Checksonslen_107099(N_125118, 1);
asgnRefNoCycle((void**) &(*N_125118).KindU.S6.Sons->data[0], Semexprwithtype_125122(C_125117, (*N_125118).KindU.S6.Sons->data[0], 0));
LOC61 = Isassignable_134610((*N_125118).KindU.S6.Sons->data[0]);
if (!!((LOC61 == ((NU8) 1)))) goto LA62;
Limessage_47569((*N_125118).Info, ((NU8) 123), ((NimStringDesc*) &TMP195927));
LA62: ;
asgnRef((void**) &(*N_125118).Typ, Makeptrtype_107069(C_125117, (*(*N_125118).KindU.S6.Sons->data[0]).Typ));
break;
case ((NU8) 53):
case ((NU8) 54):
Checksonslen_107099(N_125118, 1);
asgnRefNoCycle((void**) &(*N_125118).KindU.S6.Sons->data[0], Semexpr_125115(C_125117, (*N_125118).KindU.S6.Sons->data[0], Flags_125121));
break;
case ((NU8) 51):
Result_138664 = Semcast_133498(C_125117, N_125118);
break;
case ((NU8) 43):
Checksonslen_107099(N_125118, 1);
Result_138664 = Semexpr_125115(C_125117, (*N_125118).KindU.S6.Sons->data[0], 0);
break;
case ((NU8) 39):
Result_138664 = Semifexpr_137201(C_125117, N_125118);
break;
case ((NU8) 106):
Result_138664 = Semstmtlistexpr_138313(C_125117, N_125118);
break;
case ((NU8) 107):
Result_138664 = Semblockexpr_138392(C_125117, N_125118);
break;
case ((NU8) 47):
case ((NU8) 48):
case ((NU8) 50):
case ((NU8) 49):
Checksonslen_107099(N_125118, 2);
break;
case ((NU8) 60):
case ((NU8) 61):
case ((NU8) 62):
case ((NU8) 55):
case ((NU8) 56):
Checksonslen_107099(N_125118, 1);
break;
case ((NU8) 57):
case ((NU8) 58):
case ((NU8) 59):
Checksonslen_107099(N_125118, 3);
break;
case ((NU8) 37):
Checkminsonslen_107103(N_125118, 2);
break;
case ((NU8) 46):
LOC64 = 0;
LOC64 = Rendertree_85042(N_125118, 4);
Limessage_47569((*N_125118).Info, ((NU8) 69), LOC64);
break;
default:
LOC65 = 0;
LOC65 = Rendertree_85042(N_125118, 4);
Limessage_47569((*N_125118).Info, ((NU8) 166), LOC65);
break;
}
(*Result_138664).Flags |=(1<<((NI8)(((NU8) 6))%(sizeof(NI8)*8)));
BeforeRet: ;
return Result_138664;
}
N_NIMCALL(TY55526*, Semexprwithtype_125122)(TY107012* C_125124, TY55526* N_125125, NU8 Flags_125128) {
TY55526* Result_133058;
NimStringDesc* LOC7;
TY55526* D_133091;
Result_133058 = 0;
Result_133058 = Semexpr_125115(C_125124, N_125125, Flags_125128);
if (!(Result_133058 == NIM_NIL)) goto LA2;
Internalerror_47578(((NimStringDesc*) &TMP196206));
LA2: ;
if (!((*Result_133058).Typ == NIM_NIL)) goto LA5;
LOC7 = 0;
LOC7 = Rendertree_85042(Result_133058, 4);
Limessage_47569((*N_125125).Info, ((NU8) 87), LOC7);
LA5: ;
if (!((*(*Result_133058).Typ).Kind == ((NU8) 23))) goto LA9;
D_133091 = 0;
D_133091 = Newnodeit_55742(((NU8) 54), (*Result_133058).Info, (*(*Result_133058).Typ).Sons->data[0]);
Addson_55824(D_133091, Result_133058);
Result_133058 = D_133091;
LA9: ;
return Result_133058;
}
N_NIMCALL(TY55526*, Semconstexpr_125171)(TY107012* C_125173, TY55526* N_125174) {
TY55526* Result_125175;
Result_125175 = 0;
Result_125175 = Semexprwithtype_125122(C_125173, N_125174, 0);
if (!(Result_125175 == NIM_NIL)) goto LA2;
Limessage_47569((*N_125174).Info, ((NU8) 102), ((NimStringDesc*) &TMP195927));
goto BeforeRet;
LA2: ;
Result_125175 = Getconstexpr_113010((*C_125173).Module, Result_125175);
if (!(Result_125175 == NIM_NIL)) goto LA5;
Limessage_47569((*N_125174).Info, ((NU8) 102), ((NimStringDesc*) &TMP195927));
LA5: ;
BeforeRet: ;
return Result_125175;
}
N_NIMCALL(TY55526*, Semexprnoflags_146221)(TY107012* C_146223, TY55526* N_146224) {
TY55526* Result_146225;
Result_146225 = 0;
Result_146225 = Semexpr_125115(C_146223, N_146224, 0);
return Result_146225;
}
N_NIMCALL(TY105002*, Myopen_146228)(TY55548* Module_146230, NimStringDesc* Filename_146231) {
TY105002* Result_146232;
TY107012* C_146233;
Result_146232 = 0;
C_146233 = 0;
C_146233 = Newcontext_107046(Module_146230, Filename_146231);
if (!!(((*C_146233).P == NIM_NIL))) goto LA2;
Internalerror_47574((*Module_146230).Info, ((NimStringDesc*) &TMP195925));
LA2: ;
(*C_146233).Semconstexpr = Semconstexpr_125171;
(*C_146233).Semexpr = Semexprnoflags_146221;
asgnRefNoCycle((void**) &(*C_146233).P, Newproccon_107050(Module_146230));
Pushowner_107109((*C_146233).Module);
Openscope_60146(&(*C_146233).Tab);
Symtabadd_60124(&(*C_146233).Tab, Module_146230);
if (!(((*Module_146230).Flags &(1<<((((NU8) 16))&31)))!=0)) goto LA5;
asgnRef((void**) &Systemmodule_102004, Module_146230);
Initsystem_102017(&(*C_146233).Tab);
goto LA4;
LA5: ;
Symtabadd_60124(&(*C_146233).Tab, Systemmodule_102004);
Importallsymbols_110009(C_146233, Systemmodule_102004);
LA4: ;
Openscope_60146(&(*C_146233).Tab);
Result_146232 = &C_146233->Sup;
return Result_146232;
}
N_NIMCALL(TY105002*, Myopencached_146261)(TY55548* Module_146263, NimStringDesc* Filename_146264, TY93031* Rd_146265) {
TY105002* Result_146266;
TY107012* C_146267;
TY105002* LOC1;
Result_146266 = 0;
C_146267 = 0;
LOC1 = 0;
LOC1 = Myopen_146228(Module_146263, Filename_146264);
C_146267 = ((TY107012*) (LOC1));
(*C_146267).Fromcache = NIM_TRUE;
Result_146266 = &C_146267->Sup;
return Result_146266;
}
N_NIMCALL(void, Addcodeforgenerics_146102)(TY107012* C_146104, TY55526* N_146105) {
NI I_146114;
NI HEX3Atmp_146217;
NI HEX3Atmp_146218;
NI LOC1;
NI Res_146220;
TY55526* It_146139;
TY55548* Prc_146161;
NIM_BOOL LOC7;
NIM_BOOL LOC12;
NimStringDesc* LOC16;
I_146114 = 0;
HEX3Atmp_146217 = 0;
HEX3Atmp_146218 = 0;
HEX3Atmp_146217 = (*C_146104).Lastgenericidx;
LOC1 = Sonslen_55804((*C_146104).Generics);
HEX3Atmp_146218 = (NI32)(LOC1 - 1);
Res_146220 = 0;
Res_146220 = HEX3Atmp_146217;
while (1) {
if (!(Res_146220 <= HEX3Atmp_146218)) goto LA2;
I_146114 = Res_146220;
It_146139 = 0;
It_146139 = (*(*(*C_146104).Generics).KindU.S6.Sons->data[I_146114]).KindU.S6.Sons->data[1];
if (!!(((*It_146139).Kind == ((NU8) 3)))) goto LA4;
Internalerror_47578(((NimStringDesc*) &TMP196208));
LA4: ;
Prc_146161 = 0;
Prc_146161 = (*It_146139).KindU.S4.Sym;
LOC7 = ((2883584 &(1<<(((*Prc_146161).Kind)&31)))!=0);
if (!(LOC7)) goto LA8;
LOC7 = ((*Prc_146161).Magic == ((NU8) 0));
LA8: ;
if (!LOC7) goto LA9;
LOC12 = ((*Prc_146161).Ast == NIM_NIL);
if (LOC12) goto LA13;
LOC12 = ((*(*Prc_146161).Ast).KindU.S6.Sons->data[4] == NIM_NIL);
LA13: ;
if (!LOC12) goto LA14;
LOC16 = 0;
LOC16 = rawNewString((*(*Prc_146161).Name).S->Sup.len + 12);
appendString(LOC16, ((NimStringDesc*) &TMP196209));
appendString(LOC16, (*(*Prc_146161).Name).S);
Internalerror_47574((*Prc_146161).Info, LOC16);
LA14: ;
Addson_55824(N_146105, (*Prc_146161).Ast);
LA9: ;
Res_146220 += 1;
} LA2: ;
(*C_146104).Lastgenericidx = Sonslen_55804((*C_146104).Generics);
}
N_NIMCALL(TY55526*, Myclose_146283)(TY105002* Context_146285, TY55526* N_146286) {
TY55526* Result_146287;
TY107012* C_146288;
Result_146287 = 0;
C_146288 = 0;
C_146288 = ((TY107012*) (Context_146285));
Closescope_108018(&(*C_146288).Tab);
Rawclosescope_60150(&(*C_146288).Tab);
if (!(N_146286 == NIM_NIL)) goto LA2;
Result_146287 = Newnode_55711(((NU8) 101));
goto LA1;
LA2: ;
Internalerror_47574((*N_146286).Info, ((NimStringDesc*) &TMP196207));
LA1: ;
Addcodeforgenerics_146102(C_146288, Result_146287);
Popowner_107112();
asgnRefNoCycle((void**) &(*C_146288).P, NIM_NIL);
return Result_146287;
}
N_NIMCALL(TY55526*, Myprocess_146268)(TY105002* Context_146270, TY55526* N_146271) {
TY55526* Result_146272;
TY107012* C_146273;
NI LOC2;
TY55526* A_146278;
NI LOC6;
Result_146272 = 0;
Result_146272 = NIM_NIL;
C_146273 = 0;
C_146273 = ((TY107012*) (Context_146270));
Result_146272 = Semstmt_125143(C_146273, N_146271);
LOC2 = Sonslen_55804((*C_146273).Generics);
if (!(0 < LOC2)) goto LA3;
A_146278 = 0;
A_146278 = Newnodei_55738(((NU8) 101), (*N_146271).Info);
Addcodeforgenerics_146102(C_146273, A_146278);
LOC6 = Sonslen_55804(A_146278);
if (!(0 < LOC6)) goto LA7;
Addsonifnotnil_55832(A_146278, Result_146272);
Result_146272 = A_146278;
LA7: ;
LA3: ;
return Result_146272;
}
N_NIMCALL(TY105006, Sempass_125001)(void) {
TY105006 Result_146304;
memset((void*)&Result_146304, 0, sizeof(Result_146304));
Initpass_105031(&Result_146304);
Result_146304.Open = Myopen_146228;
Result_146304.Opencached = Myopencached_146261;
Result_146304.Close = Myclose_146283;
Result_146304.Process = Myprocess_146268;
return Result_146304;
}
N_NOINLINE(void, semInit)(void) {
Evaltemplatecounter_125426 = 0;
}

