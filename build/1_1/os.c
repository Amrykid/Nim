/* Generated by Nimrod Compiler v0.8.10 */
/*   (c) 2010 Andreas Rumpf */

typedef long int NI;
typedef unsigned long int NU;
#include "nimbase.h"

#include <errno.h>
#include <string.h>
typedef struct TY35221 TY35221;
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct TY10602 TY10602;
typedef struct TY10618 TY10618;
typedef struct TY10990 TY10990;
typedef struct TY10614 TY10614;
typedef struct TY10610 TY10610;
typedef struct TY8004 TY8004;
typedef struct TY10988 TY10988;
typedef struct TY34378 TY34378;
typedef struct TY34515 TY34515;
typedef struct TY422 TY422;
typedef struct TY418 TY418;
typedef struct TY416 TY416;
typedef struct E_Base E_Base;
typedef struct TNimObject TNimObject;
typedef struct TY28595 TY28595;
typedef struct TY28593 TY28593;
struct TGenericSeq {
NI len;
NI space;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct TY10602 {
NI Refcount;
TNimType* Typ;
};
struct TY10618 {
NI Len;
NI Cap;
TY10602** D;
};
struct TY10614 {
NI Counter;
NI Max;
TY10610* Head;
TY10610** Data;
};
struct TY8004 {
void* Debuginfo;
NI32 Lockcount;
NI32 Recursioncount;
NI Owningthread;
NI Locksemaphore;
NI32 Reserved;
};
struct TY10988 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY10990 {
TY10618 Zct;
TY10618 Decstack;
TY10614 Cycleroots;
TY10618 Tempstack;
TY8004 Cyclerootslock;
TY8004 Zctlock;
TY10988 Stat;
};
typedef N_STDCALL_PTR(NCSTRING, TY28650) (void);
struct TY34378 {
NimStringDesc* Head;
NimStringDesc* Tail;
};
struct TY34515 {
NimStringDesc* Dir;
NimStringDesc* Name;
NimStringDesc* Ext;
};
typedef N_STDCALL_PTR(NI32, TY28580) (NI Handle_28581, NCSTRING Buf_28582, NI32 Size_28583);
typedef N_STDCALL_PTR(NI32, TY28633) (NCSTRING Lpfilename_28634);
typedef N_STDCALL_PTR(NI32, TY28562) (NI32 Nbufferlength_28563, NCSTRING Lpbuffer_28564);
typedef N_STDCALL_PTR(NI32, TY28548) (void);
typedef N_STDCALL_PTR(NI32, TY28550) (NI32 Dwflags_28551, void* Lpsource_28552, NI32 Dwmessageid_28553, NI32 Dwlanguageid_28554, void* Lpbuffer_28555, NI32 Nsize_28556, void* Arguments_28557);
typedef N_STDCALL_PTR(void, TY28559) (void* P_28560);
struct TNimObject {
TNimType* m_type;
};
struct E_Base {
  TNimObject Sup;
E_Base* parent;
NCSTRING name;
NimStringDesc* message;
};
struct TY416 {
  E_Base Sup;
};
struct TY418 {
  TY416 Sup;
};
struct TY422 {
  TY418 Sup;
};
typedef N_STDCALL_PTR(NI32, TY28569) (NCSTRING Pathname_28570, void* Security_28571);
typedef N_STDCALL_PTR(NCSTRING, TY28645) (void);
typedef N_STDCALL_PTR(NI32, TY28647) (NCSTRING Para1_28648);
typedef N_STDCALL_PTR(NI32, TY28576) (NCSTRING Lpname_28577, NCSTRING Lpvalue_28578);
struct TY28593 {
NI32 Dwlowdatetime;
NI32 Dwhighdatetime;
};
typedef NIM_CHAR TY28606[260];
typedef NIM_CHAR TY28609[14];
struct TY28595 {
NI32 Dwfileattributes;
TY28593 Ftcreationtime;
TY28593 Ftlastaccesstime;
TY28593 Ftlastwritetime;
NI32 Nfilesizehigh;
NI32 Nfilesizelow;
NI32 Dwreserved0;
NI32 Dwreserved1;
TY28606 Cfilename;
TY28609 Calternatefilename;
};
typedef N_STDCALL_PTR(NI, TY28613) (NCSTRING Lpfilename_28614, TY28595* Lpfindfiledata_28616);
typedef N_STDCALL_PTR(void, TY28623) (NI Hfindfile_28624);
typedef N_STDCALL_PTR(void, TY28664) (NI32 Dwmilliseconds_28665);
typedef NI TY8614[16];
struct TY10610 {
TY10610* Next;
NI Key;
TY8614 Bits;
};
struct TY35221 {
  TGenericSeq Sup;
  NimStringDesc* data[SEQ_DECL_SIZE];
};
N_NIMCALL(void*, newSeq)(TNimType* Typ_14004, NI Len_14005);
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13018, void* Src_13019);
static N_INLINE(TY10602*, Usrtocell_11412)(void* Usr_11414);
static N_INLINE(NI, Atomicinc_3001)(NI* Memloc_3004, NI X_3005);
static N_INLINE(NI, Atomicdec_3006)(NI* Memloc_3009, NI X_3010);
static N_INLINE(void, Rtladdzct_12401)(TY10602* C_12403);
N_NOINLINE(void, Addzct_11401)(TY10618* S_11404, TY10602* C_11405);
N_NIMCALL(TY35221*, nosparseCmdLine)(NimStringDesc* C_36434);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* Src_18508);
N_NIMCALL(NimStringDesc*, setLengthStr)(NimStringDesc* S_18625, NI Newlen_18626);
N_NIMCALL(NimStringDesc*, addChar)(NimStringDesc* S_1603, NIM_CHAR C_1604);
N_NIMCALL(TGenericSeq*, incrSeq)(TGenericSeq* Seq_18635, NI Elemsize_18636);
N_NIMCALL(NimStringDesc*, cstrToNimstr)(NCSTRING Str_18504);
static N_INLINE(void, appendString)(NimStringDesc* Dest_18592, NimStringDesc* Src_18593);
N_NIMCALL(NimStringDesc*, resizeString)(NimStringDesc* Dest_18582, NI Addlen_18583);
N_NIMCALL(NimStringDesc*, copyStrLast)(NimStringDesc* S_1928, NI First_1929, NI Last_1930);
N_NIMCALL(void, unsureAsgnRef)(void** Dest_13026, void* Src_13027);
N_NIMCALL(NimStringDesc*, copyStr)(NimStringDesc* S_1924, NI First_1925);
N_NIMCALL(void, nossplitFile)(NimStringDesc* Path_34514, TY34515* Result);
N_NIMCALL(NimStringDesc*, nosgetApplicationFilename)(void);
N_NIMCALL(NimStringDesc*, mnewString)(NI Len_1349);
N_NIMCALL(NimStringDesc*, rawNewString)(NI Space_18487);
static N_INLINE(void, appendChar)(NimStringDesc* Dest_18609, NIM_CHAR C_18610);
N_NIMCALL(NI, Searchextpos_34478)(NimStringDesc* S_34480);
N_NIMCALL(NimStringDesc*, Normext_34468)(NimStringDesc* Ext_34470);
N_NOINLINE(void, nosOSError)(NimStringDesc* Msg_32004);
N_NIMCALL(void*, newObj)(TNimType* Typ_13507, NI Size_13508);
N_NIMCALL(void, raiseException)(E_Base* E_5404, NCSTRING Ename_5405);
N_NIMCALL(NimStringDesc*, nosJoinPath)(NimStringDesc* Head_34203, NimStringDesc* Tail_34204);
N_NIMCALL(void, Rawcreatedir_36219)(NimStringDesc* Dir_36221);
N_NIMCALL(NI, Findenvvar_35402)(NimStringDesc* Key_35404);
N_NIMCALL(void, Getenvvarsc_35244)(void);
N_NIMCALL(NIM_BOOL, nsuStartsWith)(NimStringDesc* S_25769, NimStringDesc* Prefix_25770);
N_NIMCALL(NI, nsuFindChar)(NimStringDesc* S_26227, NIM_CHAR Sub_26228, NI Start_26229);
N_NIMCALL(NimStringDesc*, Getenv_35425)(NimStringDesc* Key_35427);
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* A_18447, NimStringDesc* B_18448);
N_NIMCALL(NI, noscmpPaths)(NimStringDesc* Patha_34865, NimStringDesc* Pathb_34866);
N_NIMCALL(NI, Cmp_1321)(NimStringDesc* X_1323, NimStringDesc* Y_1324);
N_NIMCALL(NI, nsuCmpIgnoreCase)(NimStringDesc* A_24595, NimStringDesc* B_24596);
N_NIMCALL(void, nosSplitPath)(NimStringDesc* Path_34377, TY34378* Result);
N_NIMCALL(NI64, ntDiffTime)(NI32 A_29435, NI32 B_29436);
N_NIMCALL(NI32, nosgetLastModificationTime)(NimStringDesc* File_33203);
N_NIMCALL(NI32, Wintimetounixtime_30261)(NI64 T_30263);
N_NIMCALL(NI64, Rdfiletime_28651)(TY28593 F_28653);
STRING_LITERAL(TMP193635, "", 0);
STRING_LITERAL(TMP193650, "C:\\", 3);
STRING_LITERAL(TMP193651, ".", 1);
STRING_LITERAL(TMP193652, "..\\", 3);
STRING_LITERAL(TMP193656, "unknown OS error", 16);
STRING_LITERAL(TMP193729, "APPDATA", 7);
STRING_LITERAL(TMP193730, "\\", 1);
NIM_BOOL Envcomputed_35220;
TY35221* Environment_35238;
extern TNimType* NTI35221; /* seq[string] */
extern TY10990 Gch_11010;
TY35221* Ownargv_37402;
extern TY28650 Dl_28649;
extern TY28580 Dl_28579;
extern TY28633 Dl_28632;
extern TY28562 Dl_28561;
extern TY28548 Dl_28547;
extern TY28550 Dl_28549;
extern TY28559 Dl_28558;
extern TNimType* NTI32017; /* ref EOS */
extern TNimType* NTI422; /* EOS */
extern TY28569 Dl_28568;
extern TY28645 Dl_28644;
extern TY28647 Dl_28646;
extern TY28576 Dl_28575;
extern TY28613 Dl_28612;
extern TY28623 Dl_28622;
extern TY28664 Dl_28663;
static N_INLINE(TY10602*, Usrtocell_11412)(void* Usr_11414) {
TY10602* Result_11415;
Result_11415 = 0;
Result_11415 = ((TY10602*) ((NI32)((NU32)(((NI) (Usr_11414))) - (NU32)(((NI) (((NI)sizeof(TY10602))))))));
return Result_11415;
}
static N_INLINE(NI, Atomicinc_3001)(NI* Memloc_3004, NI X_3005) {
NI Result_7607;
Result_7607 = 0;
(*Memloc_3004) += X_3005;
Result_7607 = (*Memloc_3004);
return Result_7607;
}
static N_INLINE(NI, Atomicdec_3006)(NI* Memloc_3009, NI X_3010) {
NI Result_7806;
Result_7806 = 0;
(*Memloc_3009) -= X_3010;
Result_7806 = (*Memloc_3009);
return Result_7806;
}
static N_INLINE(void, Rtladdzct_12401)(TY10602* C_12403) {
Addzct_11401(&Gch_11010.Zct, C_12403);
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13018, void* Src_13019) {
TY10602* C_13020;
NI LOC4;
TY10602* C_13022;
NI LOC9;
if (!!((Src_13019 == NIM_NIL))) goto LA2;
C_13020 = 0;
C_13020 = Usrtocell_11412(Src_13019);
LOC4 = Atomicinc_3001(&(*C_13020).Refcount, 8);
LA2: ;
if (!!(((*Dest_13018) == NIM_NIL))) goto LA6;
C_13022 = 0;
C_13022 = Usrtocell_11412((*Dest_13018));
LOC9 = Atomicdec_3006(&(*C_13022).Refcount, 8);
if (!((NU32)(LOC9) < (NU32)(8))) goto LA10;
Rtladdzct_12401(C_13022);
LA10: ;
LA6: ;
(*Dest_13018) = Src_13019;
}
N_NIMCALL(TY35221*, nosparseCmdLine)(NimStringDesc* C_36434) {
TY35221* Result_36436;
NI I_36453;
NimStringDesc* A_36454;
NIM_BOOL LOC3;
NIM_BOOL Inquote_36473;
NI J_36474;
NI K_36498;
NI HEX3Atmp_36622;
NI Res_36624;
Result_36436 = 0;
Result_36436 = (TY35221*) newSeq(NTI35221, 0);
I_36453 = 0;
I_36453 = 0;
A_36454 = 0;
A_36454 = copyString(((NimStringDesc*) &TMP193635));
while (1) {
A_36454 = setLengthStr(A_36454, 0);
while (1) {
LOC3 = ((NU8)(C_36434->data[I_36453]) == (NU8)(32));
if (LOC3) goto LA4;
LOC3 = ((NU8)(C_36434->data[I_36453]) == (NU8)(9));
LA4: ;
if (!LOC3) goto LA2;
I_36453 += 1;
} LA2: ;
if (!((NU8)(C_36434->data[I_36453]) == (NU8)(0))) goto LA6;
goto LA1;
LA6: ;
Inquote_36473 = 0;
Inquote_36473 = NIM_FALSE;
while (1) {
switch (((NU8)(C_36434->data[I_36453]))) {
case 0:
goto LA8;
break;
case 92:
J_36474 = 0;
J_36474 = I_36453;
while (1) {
if (!((NU8)(C_36434->data[J_36474]) == (NU8)(92))) goto LA9;
J_36474 += 1;
} LA9: ;
if (!((NU8)(C_36434->data[J_36474]) == (NU8)(34))) goto LA11;
K_36498 = 0;
HEX3Atmp_36622 = 0;
HEX3Atmp_36622 = (NI32)((NI32)(J_36474 - I_36453) / 2);
Res_36624 = 0;
Res_36624 = 1;
while (1) {
if (!(Res_36624 <= HEX3Atmp_36622)) goto LA13;
K_36498 = Res_36624;
A_36454 = addChar(A_36454, 92);
Res_36624 += 1;
} LA13: ;
if (!((NI32)((NI32)(J_36474 - I_36453) % 2) == 0)) goto LA15;
I_36453 = J_36474;
goto LA14;
LA15: ;
A_36454 = addChar(A_36454, 34);
I_36453 = (NI32)(J_36474 + 1);
LA14: ;
goto LA10;
LA11: ;
A_36454 = addChar(A_36454, C_36434->data[I_36453]);
I_36453 += 1;
LA10: ;
break;
case 34:
I_36453 += 1;
if (!!(Inquote_36473)) goto LA18;
Inquote_36473 = NIM_TRUE;
goto LA17;
LA18: ;
if (!((NU8)(C_36434->data[I_36453]) == (NU8)(34))) goto LA20;
A_36454 = addChar(A_36454, C_36434->data[I_36453]);
I_36453 += 1;
goto LA17;
LA20: ;
Inquote_36473 = NIM_FALSE;
goto LA8;
LA17: ;
break;
case 32:
case 9:
if (!!(Inquote_36473)) goto LA23;
goto LA8;
LA23: ;
A_36454 = addChar(A_36454, C_36434->data[I_36453]);
I_36453 += 1;
break;
default:
A_36454 = addChar(A_36454, C_36434->data[I_36453]);
I_36453 += 1;
break;
}
} LA8: ;
Result_36436 = (TY35221*) incrSeq(&(Result_36436)->Sup, sizeof(NimStringDesc*));
asgnRefNoCycle((void**) &Result_36436->data[Result_36436->Sup.len-1], copyString(A_36454));
} LA1: ;
return Result_36436;
}
N_NIMCALL(NI, nosparamCount)(void) {
NI Result_37405;
NCSTRING LOC4;
NimStringDesc* LOC5;
Result_37405 = 0;
if (!Ownargv_37402 == 0) goto LA2;
LOC4 = Dl_28649();
LOC5 = 0;
LOC5 = cstrToNimstr(LOC4);
asgnRefNoCycle((void**) &Ownargv_37402, nosparseCmdLine(LOC5));
LA2: ;
Result_37405 = (NI32)(Ownargv_37402->Sup.len - 1);
return Result_37405;
}
N_NIMCALL(NimStringDesc*, nosparamStr)(NI I_37426) {
NimStringDesc* Result_37427;
NCSTRING LOC4;
NimStringDesc* LOC5;
Result_37427 = 0;
if (!Ownargv_37402 == 0) goto LA2;
LOC4 = Dl_28649();
LOC5 = 0;
LOC5 = cstrToNimstr(LOC4);
asgnRefNoCycle((void**) &Ownargv_37402, nosparseCmdLine(LOC5));
LA2: ;
Result_37427 = copyString(Ownargv_37402->data[I_37426]);
goto BeforeRet;
BeforeRet: ;
return Result_37427;
}
static N_INLINE(void, appendString)(NimStringDesc* Dest_18592, NimStringDesc* Src_18593) {
memcpy(((NCSTRING) (&(*Dest_18592).data[((*Dest_18592).Sup.len)-0])), ((NCSTRING) ((*Src_18593).data)), ((NI32) ((NI32)((NI32)((*Src_18593).Sup.len + 1) * 1))));
(*Dest_18592).Sup.len += (*Src_18593).Sup.len;
}
N_NIMCALL(NimStringDesc*, nosUnixToNativePath)(NimStringDesc* Path_32256) {
NimStringDesc* Result_32257;
NI Start_32258;
NIM_BOOL LOC4;
NI I_32407;
NIM_BOOL LOC10;
NIM_BOOL LOC11;
Result_32257 = 0;
Start_32258 = 0;
if (!((NU8)(Path_32256->data[0]) == (NU8)(47))) goto LA2;
Result_32257 = copyString(((NimStringDesc*) &TMP193650));
Start_32258 = 1;
goto LA1;
LA2: ;
LOC4 = ((NU8)(Path_32256->data[0]) == (NU8)(46));
if (!(LOC4)) goto LA5;
LOC4 = ((NU8)(Path_32256->data[1]) == (NU8)(47));
LA5: ;
if (!LOC4) goto LA6;
Result_32257 = copyString(((NimStringDesc*) &TMP193651));
Start_32258 = 2;
goto LA1;
LA6: ;
Result_32257 = copyString(((NimStringDesc*) &TMP193635));
Start_32258 = 0;
LA1: ;
I_32407 = 0;
I_32407 = Start_32258;
while (1) {
if (!(I_32407 < Path_32256->Sup.len)) goto LA8;
LOC11 = ((NU8)(Path_32256->data[I_32407]) == (NU8)(46));
if (!(LOC11)) goto LA12;
LOC11 = ((NU8)(Path_32256->data[(NI32)(I_32407 + 1)]) == (NU8)(46));
LA12: ;
LOC10 = LOC11;
if (!(LOC10)) goto LA13;
LOC10 = ((NU8)(Path_32256->data[(NI32)(I_32407 + 2)]) == (NU8)(47));
LA13: ;
if (!LOC10) goto LA14;
Result_32257 = resizeString(Result_32257, 3);
appendString(Result_32257, ((NimStringDesc*) &TMP193652));
I_32407 += 3;
goto LA9;
LA14: ;
if (!((NU8)(Path_32256->data[I_32407]) == (NU8)(47))) goto LA16;
Result_32257 = addChar(Result_32257, 92);
I_32407 += 1;
goto LA9;
LA16: ;
Result_32257 = addChar(Result_32257, Path_32256->data[I_32407]);
I_32407 += 1;
LA9: ;
} LA8: ;
return Result_32257;
}
N_NIMCALL(void, nosSplitPath)(NimStringDesc* Path_34377, TY34378* Result) {
NI Seppos_34382;
NI I_34392;
NI HEX3Atmp_34408;
NI Res_34410;
memset((void*)Result, 0, sizeof((*Result)));
Seppos_34382 = 0;
Seppos_34382 = -1;
I_34392 = 0;
HEX3Atmp_34408 = 0;
HEX3Atmp_34408 = (NI32)(Path_34377->Sup.len - 1);
Res_34410 = 0;
Res_34410 = HEX3Atmp_34408;
while (1) {
if (!(0 <= Res_34410)) goto LA1;
I_34392 = Res_34410;
if (!(((NU8)(Path_34377->data[I_34392])) == ((NU8)(92)) || ((NU8)(Path_34377->data[I_34392])) == ((NU8)(47)))) goto LA3;
Seppos_34382 = I_34392;
goto LA1;
LA3: ;
Res_34410 -= 1;
} LA1: ;
if (!(0 <= Seppos_34382)) goto LA6;
unsureAsgnRef((void**) &(*Result).Head, copyStrLast(Path_34377, 0, (NI32)(Seppos_34382 - 1)));
unsureAsgnRef((void**) &(*Result).Tail, copyStr(Path_34377, (NI32)(Seppos_34382 + 1)));
goto LA5;
LA6: ;
unsureAsgnRef((void**) &(*Result).Head, copyString(((NimStringDesc*) &TMP193635)));
unsureAsgnRef((void**) &(*Result).Tail, copyString(Path_34377));
LA5: ;
}
N_NIMCALL(void, nossplitFile)(NimStringDesc* Path_34514, TY34515* Result) {
NIM_BOOL LOC2;
NI Seppos_34539;
NI Dotpos_34542;
NI I_34552;
NI HEX3Atmp_34574;
NI Res_34576;
NIM_BOOL LOC11;
memset((void*)Result, 0, sizeof((*Result)));
LOC2 = (Path_34514->Sup.len == 0);
if (LOC2) goto LA3;
LOC2 = (((NU8)(Path_34514->data[(NI32)(Path_34514->Sup.len - 1)])) == ((NU8)(92)) || ((NU8)(Path_34514->data[(NI32)(Path_34514->Sup.len - 1)])) == ((NU8)(47)));
LA3: ;
if (!LOC2) goto LA4;
unsureAsgnRef((void**) &(*Result).Dir, copyString(Path_34514));
unsureAsgnRef((void**) &(*Result).Name, copyString(((NimStringDesc*) &TMP193635)));
unsureAsgnRef((void**) &(*Result).Ext, copyString(((NimStringDesc*) &TMP193635)));
goto LA1;
LA4: ;
Seppos_34539 = 0;
Seppos_34539 = -1;
Dotpos_34542 = 0;
Dotpos_34542 = Path_34514->Sup.len;
I_34552 = 0;
HEX3Atmp_34574 = 0;
HEX3Atmp_34574 = (NI32)(Path_34514->Sup.len - 1);
Res_34576 = 0;
Res_34576 = HEX3Atmp_34574;
while (1) {
if (!(0 <= Res_34576)) goto LA6;
I_34552 = Res_34576;
if (!((NU8)(Path_34514->data[I_34552]) == (NU8)(46))) goto LA8;
LOC11 = (Dotpos_34542 == Path_34514->Sup.len);
if (!(LOC11)) goto LA12;
LOC11 = (0 < I_34552);
LA12: ;
if (!LOC11) goto LA13;
Dotpos_34542 = I_34552;
LA13: ;
goto LA7;
LA8: ;
if (!(((NU8)(Path_34514->data[I_34552])) == ((NU8)(92)) || ((NU8)(Path_34514->data[I_34552])) == ((NU8)(47)))) goto LA15;
Seppos_34539 = I_34552;
goto LA6;
goto LA7;
LA15: ;
LA7: ;
Res_34576 -= 1;
} LA6: ;
unsureAsgnRef((void**) &(*Result).Dir, copyStrLast(Path_34514, 0, (NI32)(Seppos_34539 - 1)));
unsureAsgnRef((void**) &(*Result).Name, copyStrLast(Path_34514, (NI32)(Seppos_34539 + 1), (NI32)(Dotpos_34542 - 1)));
unsureAsgnRef((void**) &(*Result).Ext, copyStr(Path_34514, Dotpos_34542));
LA1: ;
}
N_NIMCALL(NimStringDesc*, nosgetApplicationFilename)(void) {
NimStringDesc* Result_38003;
NI32 Len_38004;
Result_38003 = 0;
Result_38003 = mnewString(256);
Len_38004 = 0;
Len_38004 = Dl_28579(0, Result_38003->data, ((NI32) 256));
Result_38003 = setLengthStr(Result_38003, ((NI) (Len_38004)));
return Result_38003;
}
N_NIMCALL(NimStringDesc*, nosgetApplicationDir)(void) {
NimStringDesc* Result_38203;
NimStringDesc* LOC1;
TY34515 LOC2;
Result_38203 = 0;
LOC1 = 0;
LOC1 = nosgetApplicationFilename();
memset((void*)&LOC2, 0, sizeof(LOC2));
nossplitFile(LOC1, &LOC2);
Result_38203 = copyString(LOC2.Dir);
return Result_38203;
}
N_NIMCALL(NIM_BOOL, nosexistsFile)(NimStringDesc* Filename_32804) {
NIM_BOOL Result_32805;
NI32 A_32806;
Result_32805 = 0;
A_32806 = 0;
A_32806 = Dl_28632(Filename_32804->data);
if (!!((A_32806 == ((NI32) -1)))) goto LA2;
Result_32805 = ((NI32)(A_32806 & ((NI32) 16)) == ((NI32) 0));
LA2: ;
return Result_32805;
}
static N_INLINE(void, appendChar)(NimStringDesc* Dest_18609, NIM_CHAR C_18610) {
(*Dest_18609).data[((*Dest_18609).Sup.len)-0] = C_18610;
(*Dest_18609).data[((NI32)((*Dest_18609).Sup.len + 1))-0] = 0;
(*Dest_18609).Sup.len += 1;
}
N_NIMCALL(NimStringDesc*, nosJoinPath)(NimStringDesc* Head_34203, NimStringDesc* Tail_34204) {
NimStringDesc* Result_34205;
NimStringDesc* LOC9;
NimStringDesc* LOC10;
NimStringDesc* LOC11;
NimStringDesc* LOC15;
NimStringDesc* LOC16;
Result_34205 = 0;
if (!(Head_34203->Sup.len == 0)) goto LA2;
Result_34205 = copyString(Tail_34204);
goto LA1;
LA2: ;
if (!(((NU8)(Head_34203->data[(NI32)(Head_34203->Sup.len - 1)])) == ((NU8)(92)) || ((NU8)(Head_34203->data[(NI32)(Head_34203->Sup.len - 1)])) == ((NU8)(47)))) goto LA4;
if (!(((NU8)(Tail_34204->data[0])) == ((NU8)(92)) || ((NU8)(Tail_34204->data[0])) == ((NU8)(47)))) goto LA7;
LOC9 = 0;
LOC10 = 0;
LOC10 = copyStr(Tail_34204, 1);
LOC9 = rawNewString(Head_34203->Sup.len + LOC10->Sup.len + 0);
appendString(LOC9, Head_34203);
appendString(LOC9, LOC10);
Result_34205 = LOC9;
goto LA6;
LA7: ;
LOC11 = 0;
LOC11 = rawNewString(Head_34203->Sup.len + Tail_34204->Sup.len + 0);
appendString(LOC11, Head_34203);
appendString(LOC11, Tail_34204);
Result_34205 = LOC11;
LA6: ;
goto LA1;
LA4: ;
if (!(((NU8)(Tail_34204->data[0])) == ((NU8)(92)) || ((NU8)(Tail_34204->data[0])) == ((NU8)(47)))) goto LA13;
LOC15 = 0;
LOC15 = rawNewString(Head_34203->Sup.len + Tail_34204->Sup.len + 0);
appendString(LOC15, Head_34203);
appendString(LOC15, Tail_34204);
Result_34205 = LOC15;
goto LA12;
LA13: ;
LOC16 = 0;
LOC16 = rawNewString(Head_34203->Sup.len + Tail_34204->Sup.len + 1);
appendString(LOC16, Head_34203);
appendChar(LOC16, 92);
appendString(LOC16, Tail_34204);
Result_34205 = LOC16;
LA12: ;
LA1: ;
return Result_34205;
}
N_NIMCALL(NI, Searchextpos_34478)(NimStringDesc* S_34480) {
NI Result_34481;
NI I_34491;
NI HEX3Atmp_34507;
NI Res_34509;
Result_34481 = 0;
Result_34481 = -1;
I_34491 = 0;
HEX3Atmp_34507 = 0;
HEX3Atmp_34507 = (NI32)(S_34480->Sup.len - 1);
Res_34509 = 0;
Res_34509 = HEX3Atmp_34507;
while (1) {
if (!(1 <= Res_34509)) goto LA1;
I_34491 = Res_34509;
if (!((NU8)(S_34480->data[I_34491]) == (NU8)(46))) goto LA3;
Result_34481 = I_34491;
goto LA1;
goto LA2;
LA3: ;
if (!(((NU8)(S_34480->data[I_34491])) == ((NU8)(92)) || ((NU8)(S_34480->data[I_34491])) == ((NU8)(47)))) goto LA5;
goto LA1;
goto LA2;
LA5: ;
LA2: ;
Res_34509 -= 1;
} LA1: ;
return Result_34481;
}
N_NIMCALL(NimStringDesc*, Normext_34468)(NimStringDesc* Ext_34470) {
NimStringDesc* Result_34471;
NIM_BOOL LOC2;
NimStringDesc* LOC6;
Result_34471 = 0;
LOC2 = ((Ext_34470) && (Ext_34470)->Sup.len == 0);
if (LOC2) goto LA3;
LOC2 = ((NU8)(Ext_34470->data[0]) == (NU8)(46));
LA3: ;
if (!LOC2) goto LA4;
Result_34471 = copyString(Ext_34470);
goto LA1;
LA4: ;
LOC6 = 0;
LOC6 = rawNewString(Ext_34470->Sup.len + 1);
appendChar(LOC6, 46);
appendString(LOC6, Ext_34470);
Result_34471 = LOC6;
LA1: ;
return Result_34471;
}
N_NIMCALL(NimStringDesc*, nosChangeFileExt)(NimStringDesc* Filename_34820, NimStringDesc* Ext_34821) {
NimStringDesc* Result_34822;
NI Extpos_34823;
NimStringDesc* LOC4;
NimStringDesc* LOC5;
NimStringDesc* LOC6;
NimStringDesc* LOC7;
NimStringDesc* LOC8;
Result_34822 = 0;
Extpos_34823 = 0;
Extpos_34823 = Searchextpos_34478(Filename_34820);
if (!(Extpos_34823 < 0)) goto LA2;
LOC4 = 0;
LOC5 = 0;
LOC5 = Normext_34468(Ext_34821);
LOC4 = rawNewString(Filename_34820->Sup.len + LOC5->Sup.len + 0);
appendString(LOC4, Filename_34820);
appendString(LOC4, LOC5);
Result_34822 = LOC4;
goto LA1;
LA2: ;
LOC6 = 0;
LOC7 = 0;
LOC7 = copyStrLast(Filename_34820, 0, (NI32)(Extpos_34823 - 1));
LOC8 = 0;
LOC8 = Normext_34468(Ext_34821);
LOC6 = rawNewString(LOC7->Sup.len + LOC8->Sup.len + 0);
appendString(LOC6, LOC7);
appendString(LOC6, LOC8);
Result_34822 = LOC6;
LA1: ;
return Result_34822;
}
N_NOINLINE(void, nosOSError)(NimStringDesc* Msg_32004) {
NI32 Err_32009;
NCSTRING Msgbuf_32012;
NI32 LOC8;
NimStringDesc* M_32016;
TY422* E_32018;
TY422* E_32204;
NCSTRING LOC19;
TY422* E_32221;
TY422* E_32238;
if (!(Msg_32004->Sup.len == 0)) goto LA2;
Err_32009 = 0;
Err_32009 = Dl_28547();
if (!!((Err_32009 == ((NI32) 0)))) goto LA5;
Msgbuf_32012 = 0;
LOC8 = Dl_28549(((NI32) 4864), NIM_NIL, Err_32009, ((NI32) 0), ((void*) (&Msgbuf_32012)), ((NI32) 0), NIM_NIL);
if (!!((LOC8 == ((NI32) 0)))) goto LA9;
M_32016 = 0;
M_32016 = cstrToNimstr(Msgbuf_32012);
if (!!((Msgbuf_32012 == NIM_NIL))) goto LA12;
Dl_28558(((void*) (Msgbuf_32012)));
LA12: ;
E_32018 = 0;
E_32018 = (TY422*) newObj(NTI32017, sizeof(TY422));
(*E_32018).Sup.Sup.Sup.Sup.m_type = NTI422;
asgnRefNoCycle((void**) &(*E_32018).Sup.Sup.Sup.message, copyString(M_32016));
raiseException((E_Base*)E_32018, "EOS");
LA9: ;
LA5: ;
if (!!((errno == ((NI32) 0)))) goto LA16;
E_32204 = 0;
E_32204 = (TY422*) newObj(NTI32017, sizeof(TY422));
(*E_32204).Sup.Sup.Sup.Sup.m_type = NTI422;
LOC19 = strerror(errno);
asgnRefNoCycle((void**) &(*E_32204).Sup.Sup.Sup.message, cstrToNimstr(LOC19));
raiseException((E_Base*)E_32204, "EOS");
goto LA15;
LA16: ;
E_32221 = 0;
E_32221 = (TY422*) newObj(NTI32017, sizeof(TY422));
(*E_32221).Sup.Sup.Sup.Sup.m_type = NTI422;
asgnRefNoCycle((void**) &(*E_32221).Sup.Sup.Sup.message, copyString(((NimStringDesc*) &TMP193656)));
raiseException((E_Base*)E_32221, "EOS");
LA15: ;
goto LA1;
LA2: ;
E_32238 = 0;
E_32238 = (TY422*) newObj(NTI32017, sizeof(TY422));
(*E_32238).Sup.Sup.Sup.Sup.m_type = NTI422;
asgnRefNoCycle((void**) &(*E_32238).Sup.Sup.Sup.message, copyString(Msg_32004));
raiseException((E_Base*)E_32238, "EOS");
LA1: ;
}
N_NIMCALL(NimStringDesc*, nosgetCurrentDir)(void) {
NimStringDesc* Result_33810;
NI32 L_33812;
Result_33810 = 0;
Result_33810 = mnewString(512);
L_33812 = 0;
L_33812 = Dl_28561(((NI32) 512), Result_33810->data);
if (!(L_33812 == ((NI32) 0))) goto LA2;
nosOSError(((NimStringDesc*) &TMP193635));
LA2: ;
Result_33810 = setLengthStr(Result_33810, ((NI) (L_33812)));
return Result_33810;
}
N_NIMCALL(NimStringDesc*, nosJoinPathOpenArray)(NimStringDesc** Parts_34287, NI Parts_34287Len0) {
NimStringDesc* Result_34288;
NI I_34311;
NI HEX3Atmp_34313;
NI Res_34315;
Result_34288 = 0;
Result_34288 = copyString(Parts_34287[0]);
I_34311 = 0;
HEX3Atmp_34313 = 0;
HEX3Atmp_34313 = (Parts_34287Len0-1);
Res_34315 = 0;
Res_34315 = 1;
while (1) {
if (!(Res_34315 <= HEX3Atmp_34313)) goto LA1;
I_34311 = Res_34315;
Result_34288 = nosJoinPath(Result_34288, Parts_34287[I_34311]);
Res_34315 += 1;
} LA1: ;
return Result_34288;
}
N_NIMCALL(void, Rawcreatedir_36219)(NimStringDesc* Dir_36221) {
NIM_BOOL LOC2;
NI32 LOC3;
NI32 LOC5;
LOC3 = Dl_28568(Dir_36221->data, NIM_NIL);
LOC2 = (LOC3 == ((NI32) 0));
if (!(LOC2)) goto LA4;
LOC5 = Dl_28547();
LOC2 = !((LOC5 == ((NI32) 183)));
LA4: ;
if (!LOC2) goto LA6;
nosOSError(((NimStringDesc*) &TMP193635));
LA6: ;
}
N_NIMCALL(void, noscreateDir)(NimStringDesc* Dir_36403) {
NI I_36413;
NI HEX3Atmp_36427;
NI Res_36429;
NimStringDesc* LOC5;
I_36413 = 0;
HEX3Atmp_36427 = 0;
HEX3Atmp_36427 = (NI32)(Dir_36403->Sup.len - 1);
Res_36429 = 0;
Res_36429 = 1;
while (1) {
if (!(Res_36429 <= HEX3Atmp_36427)) goto LA1;
I_36413 = Res_36429;
if (!(((NU8)(Dir_36403->data[I_36413])) == ((NU8)(92)) || ((NU8)(Dir_36403->data[I_36413])) == ((NU8)(47)))) goto LA3;
LOC5 = 0;
LOC5 = copyStrLast(Dir_36403, 0, (NI32)(I_36413 - 1));
Rawcreatedir_36219(LOC5);
LA3: ;
Res_36429 += 1;
} LA1: ;
Rawcreatedir_36219(Dir_36403);
}
N_NIMCALL(void, Getenvvarsc_35244)(void) {
NCSTRING Env_35246;
NCSTRING E_35247;
NCSTRING Eend_35248;
NimStringDesc* LOC8;
NI32 LOC12;
if (!!(Envcomputed_35220)) goto LA2;
Env_35246 = 0;
Env_35246 = Dl_28644();
E_35247 = 0;
E_35247 = Env_35246;
if (!(E_35247 == NIM_NIL)) goto LA5;
goto BeforeRet;
LA5: ;
while (1) {
Eend_35248 = 0;
Eend_35248 = strchr(E_35247, ((NI32) 0));
LOC8 = 0;
LOC8 = cstrToNimstr(E_35247);
Environment_35238 = (TY35221*) incrSeq(&(Environment_35238)->Sup, sizeof(NimStringDesc*));
asgnRefNoCycle((void**) &Environment_35238->data[Environment_35238->Sup.len-1], copyString(LOC8));
E_35247 = ((NCSTRING) ((NI32)(((NI) (Eend_35248)) + 1)));
if (!((NU8)(Eend_35248[1]) == (NU8)(0))) goto LA10;
goto LA7;
LA10: ;
} LA7: ;
Envcomputed_35220 = NIM_TRUE;
LOC12 = Dl_28646(Env_35246);
LA2: ;
BeforeRet: ;
}
N_NIMCALL(NI, Findenvvar_35402)(NimStringDesc* Key_35404) {
NI Result_35405;
NimStringDesc* Temp_35410;
NimStringDesc* LOC1;
NI I_35418;
NI HEX3Atmp_35420;
NI Res_35422;
NIM_BOOL LOC4;
Result_35405 = 0;
Getenvvarsc_35244();
Temp_35410 = 0;
LOC1 = 0;
LOC1 = rawNewString(Key_35404->Sup.len + 1);
appendString(LOC1, Key_35404);
appendChar(LOC1, 61);
Temp_35410 = LOC1;
I_35418 = 0;
HEX3Atmp_35420 = 0;
HEX3Atmp_35420 = (Environment_35238->Sup.len-1);
Res_35422 = 0;
Res_35422 = 0;
while (1) {
if (!(Res_35422 <= HEX3Atmp_35420)) goto LA2;
I_35418 = Res_35422;
LOC4 = nsuStartsWith(Environment_35238->data[I_35418], Temp_35410);
if (!LOC4) goto LA5;
Result_35405 = I_35418;
goto BeforeRet;
LA5: ;
Res_35422 += 1;
} LA2: ;
Result_35405 = -1;
goto BeforeRet;
BeforeRet: ;
return Result_35405;
}
N_NIMCALL(void, Putenv_35439)(NimStringDesc* Key_35441, NimStringDesc* Val_35442) {
NI Indx_35443;
NimStringDesc* LOC4;
NimStringDesc* LOC5;
NI32 LOC7;
Indx_35443 = 0;
Indx_35443 = Findenvvar_35402(Key_35441);
if (!(0 <= Indx_35443)) goto LA2;
LOC4 = 0;
LOC4 = rawNewString(Key_35441->Sup.len + Val_35442->Sup.len + 1);
appendString(LOC4, Key_35441);
appendChar(LOC4, 61);
appendString(LOC4, Val_35442);
asgnRefNoCycle((void**) &Environment_35238->data[Indx_35443], LOC4);
goto LA1;
LA2: ;
LOC5 = 0;
LOC5 = rawNewString(Key_35441->Sup.len + Val_35442->Sup.len + 1);
appendString(LOC5, Key_35441);
appendChar(LOC5, 61);
appendString(LOC5, Val_35442);
Environment_35238 = (TY35221*) incrSeq(&(Environment_35238)->Sup, sizeof(NimStringDesc*));
asgnRefNoCycle((void**) &Environment_35238->data[Environment_35238->Sup.len-1], copyString(LOC5));
Indx_35443 = (Environment_35238->Sup.len-1);
LA1: ;
LOC7 = Dl_28575(Key_35441->data, Val_35442->data);
if (!(LOC7 == ((NI32) 0))) goto LA8;
nosOSError(((NimStringDesc*) &TMP193635));
LA8: ;
}
N_NIMCALL(NimStringDesc*, Getenv_35425)(NimStringDesc* Key_35427) {
NimStringDesc* Result_35428;
NI I_35429;
NI LOC4;
NCSTRING Env_35432;
Result_35428 = 0;
I_35429 = 0;
I_35429 = Findenvvar_35402(Key_35427);
if (!(0 <= I_35429)) goto LA2;
LOC4 = nsuFindChar(Environment_35238->data[I_35429], 61, 0);
Result_35428 = copyStr(Environment_35238->data[I_35429], (NI32)(LOC4 + 1));
goto BeforeRet;
goto LA1;
LA2: ;
Env_35432 = 0;
Env_35432 = getenv(Key_35427->data);
if (!(Env_35432 == NIM_NIL)) goto LA6;
Result_35428 = copyString(((NimStringDesc*) &TMP193635));
goto BeforeRet;
LA6: ;
Result_35428 = cstrToNimstr(Env_35432);
LA1: ;
BeforeRet: ;
return Result_35428;
}
N_NIMCALL(NimStringDesc*, nosgetConfigDir)(void) {
NimStringDesc* Result_37203;
NimStringDesc* LOC1;
NimStringDesc* LOC2;
Result_37203 = 0;
LOC1 = 0;
LOC2 = 0;
LOC2 = Getenv_35425(((NimStringDesc*) &TMP193729));
LOC1 = rawNewString(LOC2->Sup.len + 1);
appendString(LOC1, LOC2);
appendString(LOC1, ((NimStringDesc*) &TMP193730));
Result_37203 = LOC1;
goto BeforeRet;
BeforeRet: ;
return Result_37203;
}
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* A_18447, NimStringDesc* B_18448) {
NIM_BOOL Result_18449;
NIM_BOOL LOC5;
NIM_BOOL LOC9;
NI32 LOC11;
Result_18449 = 0;
if (!(A_18447 == B_18448)) goto LA2;
Result_18449 = NIM_TRUE;
goto BeforeRet;
LA2: ;
LOC5 = (A_18447 == NIM_NIL);
if (LOC5) goto LA6;
LOC5 = (B_18448 == NIM_NIL);
LA6: ;
if (!LOC5) goto LA7;
Result_18449 = NIM_FALSE;
goto BeforeRet;
LA7: ;
LOC9 = ((*A_18447).Sup.len == (*B_18448).Sup.len);
if (!(LOC9)) goto LA10;
LOC11 = memcmp(((NCSTRING) ((*A_18447).data)), ((NCSTRING) ((*B_18448).data)), ((NI32) ((NI32)((*A_18447).Sup.len * 1))));
LOC9 = (LOC11 == ((NI32) 0));
LA10: ;
Result_18449 = LOC9;
goto BeforeRet;
BeforeRet: ;
return Result_18449;
}
N_NIMCALL(NI, noscmpPaths)(NimStringDesc* Patha_34865, NimStringDesc* Pathb_34866) {
NI Result_34867;
Result_34867 = 0;
if (!NIM_FALSE) goto LA2;
Result_34867 = Cmp_1321(Patha_34865, Pathb_34866);
goto LA1;
LA2: ;
Result_34867 = nsuCmpIgnoreCase(Patha_34865, Pathb_34866);
LA1: ;
return Result_34867;
}
N_NIMCALL(NIM_BOOL, nossameFile)(NimStringDesc* Path1_34870, NimStringDesc* Path2_34871) {
NIM_BOOL Result_34872;
TY28595 A_34873;
TY28595 B_34874;
NI Resa_34876;
NI Resb_34878;
NIM_BOOL LOC2;
NimStringDesc* LOC6;
NimStringDesc* LOC7;
NI LOC8;
Result_34872 = 0;
memset((void*)&A_34873, 0, sizeof(A_34873));
memset((void*)&B_34874, 0, sizeof(B_34874));
Resa_34876 = 0;
Resa_34876 = Dl_28612(Path1_34870->data, &A_34873);
Resb_34878 = 0;
Resb_34878 = Dl_28612(Path2_34871->data, &B_34874);
LOC2 = !((Resa_34876 == -1));
if (!(LOC2)) goto LA3;
LOC2 = !((Resb_34878 == -1));
LA3: ;
if (!LOC2) goto LA4;
LOC6 = 0;
LOC6 = cstrToNimstr(((NCSTRING) (A_34873.Cfilename)));
LOC7 = 0;
LOC7 = cstrToNimstr(((NCSTRING) (B_34874.Cfilename)));
Result_34872 = eqStrings(LOC6, LOC7);
goto LA1;
LA4: ;
LOC8 = noscmpPaths(Path1_34870, Path2_34871);
Result_34872 = (LOC8 == 0);
LA1: ;
if (!!((Resa_34876 == -1))) goto LA10;
Dl_28622(Resa_34876);
LA10: ;
if (!!((Resb_34878 == -1))) goto LA13;
Dl_28622(Resb_34878);
LA13: ;
return Result_34872;
}
N_NIMCALL(NimStringDesc*, nosaddFileExt)(NimStringDesc* Filename_34844, NimStringDesc* Ext_34845) {
NimStringDesc* Result_34846;
NI Extpos_34847;
NimStringDesc* LOC4;
NimStringDesc* LOC5;
Result_34846 = 0;
Extpos_34847 = 0;
Extpos_34847 = Searchextpos_34478(Filename_34844);
if (!(Extpos_34847 < 0)) goto LA2;
LOC4 = 0;
LOC5 = 0;
LOC5 = Normext_34468(Ext_34845);
LOC4 = rawNewString(Filename_34844->Sup.len + LOC5->Sup.len + 0);
appendString(LOC4, Filename_34844);
appendString(LOC4, LOC5);
Result_34846 = LOC4;
goto LA1;
LA2: ;
Result_34846 = copyString(Filename_34844);
LA1: ;
return Result_34846;
}
N_NIMCALL(NimStringDesc*, HEX2F_34318)(NimStringDesc* Head_34320, NimStringDesc* Tail_34321) {
NimStringDesc* Result_34322;
Result_34322 = 0;
Result_34322 = nosJoinPath(Head_34320, Tail_34321);
goto BeforeRet;
BeforeRet: ;
return Result_34322;
}
N_NIMCALL(NimStringDesc*, nosextractFilename)(NimStringDesc* Path_34585) {
NimStringDesc* Result_34586;
NIM_BOOL LOC2;
TY34378 LOC6;
Result_34586 = 0;
LOC2 = (Path_34585->Sup.len == 0);
if (LOC2) goto LA3;
LOC2 = (((NU8)(Path_34585->data[(NI32)(Path_34585->Sup.len - 1)])) == ((NU8)(92)) || ((NU8)(Path_34585->data[(NI32)(Path_34585->Sup.len - 1)])) == ((NU8)(47)));
LA3: ;
if (!LOC2) goto LA4;
Result_34586 = copyString(((NimStringDesc*) &TMP193635));
goto LA1;
LA4: ;
memset((void*)&LOC6, 0, sizeof(LOC6));
nosSplitPath(Path_34585, &LOC6);
Result_34586 = copyString(LOC6.Tail);
LA1: ;
return Result_34586;
}
N_NIMCALL(NI32, nosgetLastModificationTime)(NimStringDesc* File_33203) {
NI32 Result_33204;
TY28595 F_33205;
NI H_33207;
NI64 LOC4;
Result_33204 = 0;
memset((void*)&F_33205, 0, sizeof(F_33205));
H_33207 = 0;
H_33207 = Dl_28612(File_33203->data, &F_33205);
if (!(H_33207 == -1)) goto LA2;
nosOSError(((NimStringDesc*) &TMP193635));
LA2: ;
LOC4 = Rdfiletime_28651(F_33205.Ftlastwritetime);
Result_33204 = Wintimetounixtime_30261(LOC4);
Dl_28622(H_33207);
return Result_33204;
}
N_NIMCALL(NIM_BOOL, nosfileNewer)(NimStringDesc* A_33803, NimStringDesc* B_33804) {
NIM_BOOL Result_33805;
NI32 LOC1;
NI32 LOC2;
NI64 LOC3;
Result_33805 = 0;
LOC1 = nosgetLastModificationTime(A_33803);
LOC2 = nosgetLastModificationTime(B_33804);
LOC3 = ntDiffTime(LOC1, LOC2);
Result_33805 = (0 < LOC3);
return Result_33805;
}
N_NIMCALL(void, nossleep)(NI Milsecs_38206) {
Dl_28663(((NI32) (Milsecs_38206)));
}
N_NOINLINE(void, osInit)(void) {
Envcomputed_35220 = NIM_FALSE;
asgnRefNoCycle((void**) &Environment_35238, (TY35221*) newSeq(NTI35221, 0));
}

