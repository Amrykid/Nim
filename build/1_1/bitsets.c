/* Generated by Nimrod Compiler v0.8.9 */
/*   (c) 2010 Andreas Rumpf */

typedef long int NI;
typedef unsigned long int NU;
#include "nimbase.h"

typedef struct TY97008 TY97008;
typedef struct TGenericSeq TGenericSeq;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
struct TGenericSeq {
NI len;
NI space;
};
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct TY97008 {
  TGenericSeq Sup;
  NI8 data[SEQ_DECL_SIZE];
};
N_NIMCALL(NIM_BOOL, Bitsetin_97045)(TY97008* X_97047, NI64 E_97048);
static N_INLINE(NI64, divInt64)(NI64 A_5561, NI64 B_5562);
N_NOINLINE(void, raiseDivByZero)(void);
N_NOINLINE(void, raiseOverflow)(void);
N_NOINLINE(void, raiseIndexError)(void);
static N_INLINE(NI64, modInt64)(NI64 A_5572, NI64 B_5573);
N_NIMCALL(NI64, chckRange64)(NI64 I_5323, NI64 A_5324, NI64 B_5325);
N_NIMCALL(void, Bitsetincl_97035)(TY97008** X_97038, NI64 Elem_97039);
N_NIMCALL(void, internalAssert)(NCSTRING File_5054, NI Line_5055, NIM_BOOL Cond_5056);
N_NIMCALL(void, Bitsetexcl_97040)(TY97008** X_97043, NI64 Elem_97044);
N_NIMCALL(void, Bitsetinit_97010)(TY97008** B_97013, NI Length_97014);
N_NIMCALL(void*, newSeq)(TNimType* Typ_12604, NI Len_12605);
N_NIMCALL(void, unsureAsgnRef)(void** Dest_11626, void* Src_11627);
N_NIMCALL(void, Bitsetunion_97015)(TY97008** X_97018, TY97008* Y_97019);
static N_INLINE(NI, addInt)(NI A_5603, NI B_5604);
N_NIMCALL(void, Bitsetdiff_97020)(TY97008** X_97023, TY97008* Y_97024);
N_NIMCALL(void, Bitsetsymdiff_97025)(TY97008** X_97028, TY97008* Y_97029);
N_NIMCALL(void, Bitsetintersect_97030)(TY97008** X_97033, TY97008* Y_97034);
N_NIMCALL(NIM_BOOL, Bitsetequals_97049)(TY97008* X_97051, TY97008* Y_97052);
N_NIMCALL(NIM_BOOL, Bitsetcontains_97053)(TY97008* X_97055, TY97008* Y_97056);
extern TNimType* NTI97008; /* TBitSet */
static N_INLINE(NI64, divInt64)(NI64 A_5561, NI64 B_5562) {
NI64 Result_5563;
NIM_BOOL LOC5;
Result_5563 = 0;
if (!(B_5562 == 0)) goto LA2;
raiseDivByZero();
LA2: ;
LOC5 = (A_5561 == (IL64(-9223372036854775807) - IL64(1)));
if (!(LOC5)) goto LA6;
LOC5 = (B_5562 == -1);
LA6: ;
if (!LOC5) goto LA7;
raiseOverflow();
LA7: ;
Result_5563 = (NI64)(A_5561 / B_5562);
goto BeforeRet;
BeforeRet: ;
return Result_5563;
}
static N_INLINE(NI64, modInt64)(NI64 A_5572, NI64 B_5573) {
NI64 Result_5574;
Result_5574 = 0;
if (!(B_5573 == 0)) goto LA2;
raiseDivByZero();
LA2: ;
Result_5574 = (NI64)(A_5572 % B_5573);
goto BeforeRet;
BeforeRet: ;
return Result_5574;
}
N_NIMCALL(NIM_BOOL, Bitsetin_97045)(TY97008* X_97047, NI64 E_97048) {
NIM_BOOL Result_97061;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "BitSetIn";
F.prev = framePtr;
F.filename = "rod/bitsets.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_97061 = 0;
F.line = 34;F.filename = "bitsets.nim";
if ((NU)(divInt64(E_97048, 8)) >= (NU)(X_97047->Sup.len)) raiseIndexError();
Result_97061 = !(((NI8)(X_97047->data[divInt64(E_97048, 8)] & ((NI8)(NU8)(NU)(((NI)chckRange64((NI64)((NU64)(1) << (NU64)(modInt64(E_97048, 8))), (-2147483647 -1), 2147483647))))) == ((NI8) 0)));
framePtr = framePtr->prev;
return Result_97061;
}
N_NIMCALL(void, Bitsetincl_97035)(TY97008** X_97038, NI64 Elem_97039) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "BitSetIncl";
F.prev = framePtr;
F.filename = "rod/bitsets.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 38;F.filename = "bitsets.nim";
internalAssert("rod/bitsets.nim", 38, (0 <= Elem_97039));
F.line = 39;F.filename = "bitsets.nim";
if ((NU)(divInt64(Elem_97039, 8)) >= (NU)((*X_97038)->Sup.len)) raiseIndexError();
if ((NU)(divInt64(Elem_97039, 8)) >= (NU)((*X_97038)->Sup.len)) raiseIndexError();
(*X_97038)->data[divInt64(Elem_97039, 8)] = (NI8)((*X_97038)->data[divInt64(Elem_97039, 8)] | ((NI8)(NU8)(NU)(((NI)chckRange64((NI64)((NU64)(1) << (NU64)(modInt64(Elem_97039, 8))), (-2147483647 -1), 2147483647)))));
framePtr = framePtr->prev;
}
N_NIMCALL(void, Bitsetexcl_97040)(TY97008** X_97043, NI64 Elem_97044) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "BitSetExcl";
F.prev = framePtr;
F.filename = "rod/bitsets.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 43;F.filename = "bitsets.nim";
if ((NU)(divInt64(Elem_97044, 8)) >= (NU)((*X_97043)->Sup.len)) raiseIndexError();
if ((NU)(divInt64(Elem_97044, 8)) >= (NU)((*X_97043)->Sup.len)) raiseIndexError();
(*X_97043)->data[divInt64(Elem_97044, 8)] = (NI8)((*X_97043)->data[divInt64(Elem_97044, 8)] & (NI8)((NU8) ~(((NI8)(NU8)(NU)(((NI)chckRange64((NI64)((NU64)(1) << (NU64)(modInt64(Elem_97044, 8))), (-2147483647 -1), 2147483647)))))));
framePtr = framePtr->prev;
}
N_NIMCALL(void, Bitsetinit_97010)(TY97008** B_97013, NI Length_97014) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "BitSetInit";
F.prev = framePtr;
F.filename = "rod/bitsets.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 47;F.filename = "bitsets.nim";
unsureAsgnRef((void**) &(*B_97013), (TY97008*) newSeq(NTI97008, Length_97014));
framePtr = framePtr->prev;
}
static N_INLINE(NI, addInt)(NI A_5603, NI B_5604) {
NI Result_5605;
NIM_BOOL LOC2;
Result_5605 = 0;
Result_5605 = (NI32)((NU32)(A_5603) + (NU32)(B_5604));
LOC2 = (0 <= (NI32)(Result_5605 ^ A_5603));
if (LOC2) goto LA3;
LOC2 = (0 <= (NI32)(Result_5605 ^ B_5604));
LA3: ;
if (!LOC2) goto LA4;
goto BeforeRet;
LA4: ;
raiseOverflow();
BeforeRet: ;
return Result_5605;
}
N_NIMCALL(void, Bitsetunion_97015)(TY97008** X_97018, TY97008* Y_97019) {
NI I_97120;
NI HEX3Atmp_97122;
NI Res_97124;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "BitSetUnion";
F.prev = framePtr;
F.filename = "rod/bitsets.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
I_97120 = 0;
HEX3Atmp_97122 = 0;
F.line = 50;F.filename = "bitsets.nim";
HEX3Atmp_97122 = ((*X_97018)->Sup.len-1);
Res_97124 = 0;
F.line = 1019;F.filename = "system.nim";
Res_97124 = 0;
F.line = 1020;F.filename = "system.nim";
while (1) {
if (!(Res_97124 <= HEX3Atmp_97122)) goto LA1;
F.line = 1019;F.filename = "system.nim";
I_97120 = Res_97124;
F.line = 50;F.filename = "bitsets.nim";
if ((NU)(I_97120) >= (NU)((*X_97018)->Sup.len)) raiseIndexError();
if ((NU)(I_97120) >= (NU)((*X_97018)->Sup.len)) raiseIndexError();
if ((NU)(I_97120) >= (NU)(Y_97019->Sup.len)) raiseIndexError();
(*X_97018)->data[I_97120] = (NI8)((*X_97018)->data[I_97120] | Y_97019->data[I_97120]);
F.line = 1022;F.filename = "system.nim";
Res_97124 = addInt(Res_97124, 1);
} LA1: ;
framePtr = framePtr->prev;
}
N_NIMCALL(void, Bitsetdiff_97020)(TY97008** X_97023, TY97008* Y_97024) {
NI I_97139;
NI HEX3Atmp_97141;
NI Res_97143;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "BitSetDiff";
F.prev = framePtr;
F.filename = "rod/bitsets.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
I_97139 = 0;
HEX3Atmp_97141 = 0;
F.line = 53;F.filename = "bitsets.nim";
HEX3Atmp_97141 = ((*X_97023)->Sup.len-1);
Res_97143 = 0;
F.line = 1019;F.filename = "system.nim";
Res_97143 = 0;
F.line = 1020;F.filename = "system.nim";
while (1) {
if (!(Res_97143 <= HEX3Atmp_97141)) goto LA1;
F.line = 1019;F.filename = "system.nim";
I_97139 = Res_97143;
F.line = 53;F.filename = "bitsets.nim";
if ((NU)(I_97139) >= (NU)((*X_97023)->Sup.len)) raiseIndexError();
if ((NU)(I_97139) >= (NU)((*X_97023)->Sup.len)) raiseIndexError();
if ((NU)(I_97139) >= (NU)(Y_97024->Sup.len)) raiseIndexError();
(*X_97023)->data[I_97139] = (NI8)((*X_97023)->data[I_97139] & (NI8)((NU8) ~(Y_97024->data[I_97139])));
F.line = 1022;F.filename = "system.nim";
Res_97143 = addInt(Res_97143, 1);
} LA1: ;
framePtr = framePtr->prev;
}
N_NIMCALL(void, Bitsetsymdiff_97025)(TY97008** X_97028, TY97008* Y_97029) {
NI I_97158;
NI HEX3Atmp_97160;
NI Res_97162;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "BitSetSymDiff";
F.prev = framePtr;
F.filename = "rod/bitsets.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
I_97158 = 0;
HEX3Atmp_97160 = 0;
F.line = 56;F.filename = "bitsets.nim";
HEX3Atmp_97160 = ((*X_97028)->Sup.len-1);
Res_97162 = 0;
F.line = 1019;F.filename = "system.nim";
Res_97162 = 0;
F.line = 1020;F.filename = "system.nim";
while (1) {
if (!(Res_97162 <= HEX3Atmp_97160)) goto LA1;
F.line = 1019;F.filename = "system.nim";
I_97158 = Res_97162;
F.line = 56;F.filename = "bitsets.nim";
if ((NU)(I_97158) >= (NU)((*X_97028)->Sup.len)) raiseIndexError();
if ((NU)(I_97158) >= (NU)((*X_97028)->Sup.len)) raiseIndexError();
if ((NU)(I_97158) >= (NU)(Y_97029->Sup.len)) raiseIndexError();
(*X_97028)->data[I_97158] = (NI8)((*X_97028)->data[I_97158] ^ Y_97029->data[I_97158]);
F.line = 1022;F.filename = "system.nim";
Res_97162 = addInt(Res_97162, 1);
} LA1: ;
framePtr = framePtr->prev;
}
N_NIMCALL(void, Bitsetintersect_97030)(TY97008** X_97033, TY97008* Y_97034) {
NI I_97177;
NI HEX3Atmp_97179;
NI Res_97181;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "BitSetIntersect";
F.prev = framePtr;
F.filename = "rod/bitsets.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
I_97177 = 0;
HEX3Atmp_97179 = 0;
F.line = 59;F.filename = "bitsets.nim";
HEX3Atmp_97179 = ((*X_97033)->Sup.len-1);
Res_97181 = 0;
F.line = 1019;F.filename = "system.nim";
Res_97181 = 0;
F.line = 1020;F.filename = "system.nim";
while (1) {
if (!(Res_97181 <= HEX3Atmp_97179)) goto LA1;
F.line = 1019;F.filename = "system.nim";
I_97177 = Res_97181;
F.line = 59;F.filename = "bitsets.nim";
if ((NU)(I_97177) >= (NU)((*X_97033)->Sup.len)) raiseIndexError();
if ((NU)(I_97177) >= (NU)((*X_97033)->Sup.len)) raiseIndexError();
if ((NU)(I_97177) >= (NU)(Y_97034->Sup.len)) raiseIndexError();
(*X_97033)->data[I_97177] = (NI8)((*X_97033)->data[I_97177] & Y_97034->data[I_97177]);
F.line = 1022;F.filename = "system.nim";
Res_97181 = addInt(Res_97181, 1);
} LA1: ;
framePtr = framePtr->prev;
}
N_NIMCALL(NIM_BOOL, Bitsetequals_97049)(TY97008* X_97051, TY97008* Y_97052) {
NIM_BOOL Result_97188;
NI I_97196;
NI HEX3Atmp_97200;
NI Res_97202;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "BitSetEquals";
F.prev = framePtr;
F.filename = "rod/bitsets.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_97188 = 0;
I_97196 = 0;
HEX3Atmp_97200 = 0;
F.line = 62;F.filename = "bitsets.nim";
HEX3Atmp_97200 = (X_97051->Sup.len-1);
Res_97202 = 0;
F.line = 1019;F.filename = "system.nim";
Res_97202 = 0;
F.line = 1020;F.filename = "system.nim";
while (1) {
if (!(Res_97202 <= HEX3Atmp_97200)) goto LA1;
F.line = 1019;F.filename = "system.nim";
I_97196 = Res_97202;
F.line = 63;F.filename = "bitsets.nim";
if ((NU)(I_97196) >= (NU)(X_97051->Sup.len)) raiseIndexError();
if ((NU)(I_97196) >= (NU)(Y_97052->Sup.len)) raiseIndexError();
if (!!((X_97051->data[I_97196] == Y_97052->data[I_97196]))) goto LA3;
F.line = 64;F.filename = "bitsets.nim";
F.line = 64;F.filename = "bitsets.nim";
Result_97188 = NIM_FALSE;
goto BeforeRet;
LA3: ;
F.line = 1022;F.filename = "system.nim";
Res_97202 = addInt(Res_97202, 1);
} LA1: ;
F.line = 65;F.filename = "bitsets.nim";
Result_97188 = NIM_TRUE;
BeforeRet: ;
framePtr = framePtr->prev;
return Result_97188;
}
N_NIMCALL(NIM_BOOL, Bitsetcontains_97053)(TY97008* X_97055, TY97008* Y_97056) {
NIM_BOOL Result_97209;
NI I_97217;
NI HEX3Atmp_97221;
NI Res_97223;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "BitSetContains";
F.prev = framePtr;
F.filename = "rod/bitsets.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_97209 = 0;
I_97217 = 0;
HEX3Atmp_97221 = 0;
F.line = 68;F.filename = "bitsets.nim";
HEX3Atmp_97221 = (X_97055->Sup.len-1);
Res_97223 = 0;
F.line = 1019;F.filename = "system.nim";
Res_97223 = 0;
F.line = 1020;F.filename = "system.nim";
while (1) {
if (!(Res_97223 <= HEX3Atmp_97221)) goto LA1;
F.line = 1019;F.filename = "system.nim";
I_97217 = Res_97223;
F.line = 69;F.filename = "bitsets.nim";
if ((NU)(I_97217) >= (NU)(X_97055->Sup.len)) raiseIndexError();
if ((NU)(I_97217) >= (NU)(Y_97056->Sup.len)) raiseIndexError();
if (!!(((NI8)(X_97055->data[I_97217] & (NI8)((NU8) ~(Y_97056->data[I_97217]))) == ((NI8) 0)))) goto LA3;
F.line = 70;F.filename = "bitsets.nim";
F.line = 70;F.filename = "bitsets.nim";
Result_97209 = NIM_FALSE;
goto BeforeRet;
LA3: ;
F.line = 1022;F.filename = "system.nim";
Res_97223 = addInt(Res_97223, 1);
} LA1: ;
F.line = 71;F.filename = "bitsets.nim";
Result_97209 = NIM_TRUE;
BeforeRet: ;
framePtr = framePtr->prev;
return Result_97209;
}
N_NOINLINE(void, bitsetsInit)(void) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "bitsets";
F.prev = framePtr;
F.filename = "rod/bitsets.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
framePtr = framePtr->prev;
}

