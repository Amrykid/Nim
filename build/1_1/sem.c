/* Generated by Nimrod Compiler v0.8.11 */
/*   (c) 2011 Andreas Rumpf */

typedef long int NI;
typedef unsigned long int NU;
#include "nimbase.h"

typedef struct TY101006 TY101006;
typedef struct TY101002 TY101002;
typedef struct TY50548 TY50548;
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct TY89031 TY89031;
typedef struct TY50526 TY50526;
typedef struct TY103012 TY103012;
typedef struct TNimObject TNimObject;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct TY103006 TY103006;
typedef struct TY55099 TY55099;
typedef struct TY55101 TY55101;
typedef struct TY50530 TY50530;
typedef struct TY50528 TY50528;
typedef struct TY50895 TY50895;
typedef struct TY50891 TY50891;
typedef struct TY50893 TY50893;
typedef struct TY38019 TY38019;
typedef struct TY38013 TY38013;
typedef struct TY42538 TY42538;
typedef struct TY49005 TY49005;
typedef struct TY50552 TY50552;
typedef struct TY49011 TY49011;
typedef struct TY50540 TY50540;
typedef struct TY47008 TY47008;
typedef struct TY50544 TY50544;
typedef struct TY50520 TY50520;
typedef struct TY50550 TY50550;
typedef struct TY104004 TY104004;
typedef struct TY55084 TY55084;
typedef struct TY10602 TY10602;
typedef struct TY10614 TY10614;
typedef struct TY10996 TY10996;
typedef struct TY10618 TY10618;
typedef struct TY10610 TY10610;
typedef struct TY10994 TY10994;
typedef struct TY111006 TY111006;
typedef struct TY111004 TY111004;
typedef struct TY50570 TY50570;
typedef struct TY50568 TY50568;
typedef struct TY50566 TY50566;
typedef struct TY123969 TY123969;
typedef struct TY50564 TY50564;
typedef struct TY50562 TY50562;
typedef struct TY50560 TY50560;
typedef struct TY123655 TY123655;
typedef struct TY103002 TY103002;
typedef struct E_Base E_Base;
typedef struct TSafePoint TSafePoint;
typedef struct TY34021 TY34021;
typedef struct TY89029 TY89029;
typedef struct TY55215 TY55215;
typedef struct TY55213 TY55213;
typedef struct TY55211 TY55211;
struct TGenericSeq {
NI len;
NI space;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
typedef N_NIMCALL_PTR(TY101002*, TY101007) (TY50548* Module_101008, NimStringDesc* Filename_101009);
typedef N_NIMCALL_PTR(TY101002*, TY101012) (TY50548* Module_101013, NimStringDesc* Filename_101014, TY89031* Rd_101015);
typedef N_NIMCALL_PTR(TY50526*, TY101018) (TY101002* P_101019, TY50526* N_101020);
typedef N_NIMCALL_PTR(TY50526*, TY101023) (TY101002* P_101024, TY50526* Toplevelstmt_101025);
struct TY101006 {
TY101007 Open;
TY101012 Opencached;
TY101018 Close;
TY101023 Process;
};
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TNimObject {
TNimType* m_type;
};
struct TY101002 {
  TNimObject Sup;
};
struct TY50530 {
TNimType* m_type;
NI Counter;
TY50528* Data;
};
struct TY55099 {
NI Tos;
TY55101* Stack;
};
struct TY50895 {
NI Counter;
NI Max;
TY50891* Head;
TY50893* Data;
};
struct TY38019 {
TNimType* m_type;
TY38013* Head;
TY38013* Tail;
NI Counter;
};
typedef N_NIMCALL_PTR(TY50526*, TY103032) (TY103012* C_103033, TY50526* N_103034);
typedef N_NIMCALL_PTR(TY50526*, TY103037) (TY103012* C_103038, TY50526* N_103039);
struct TY103012 {
  TY101002 Sup;
TY50548* Module;
TY103006* P;
NI Instcounter;
TY50526* Generics;
NI Lastgenericidx;
TY55099 Tab;
TY50895 Ambiguoussymbols;
TY50528* Converters;
TY38019 Optionstack;
TY38019 Libs;
NIM_BOOL Fromcache;
TY103032 Semconstexpr;
TY103037 Semexpr;
TY50895 Includedfiles;
NimStringDesc* Filename;
TY50530 Userpragmas;
};
struct TY42538 {
NI16 Line;
NI16 Col;
NI32 Fileindex;
};
struct TY49005 {
  TNimObject Sup;
NI Id;
};
struct TY50540 {
NU8 K;
NU8 S;
NU8 Flags;
TY50552* T;
TY47008* R;
NI A;
};
struct TY50548 {
  TY49005 Sup;
NU8 Kind;
NU8 Magic;
TY50552* Typ;
TY49011* Name;
TY42538 Info;
TY50548* Owner;
NU32 Flags;
TY50530 Tab;
TY50526* Ast;
NU32 Options;
NI Position;
NI Offset;
TY50540 Loc;
TY50544* Annex;
};
struct TY50526 {
TY50552* Typ;
NimStringDesc* Comment;
TY42538 Info;
NU8 Flags;
NU8 Kind;
union {
struct {NI64 Intval;
} S1;
struct {NF64 Floatval;
} S2;
struct {NimStringDesc* Strval;
} S3;
struct {TY50548* Sym;
} S4;
struct {TY49011* Ident;
} S5;
struct {TY50520* Sons;
} S6;
} KindU;
};
struct TY50552 {
  TY49005 Sup;
NU8 Kind;
TY50550* Sons;
TY50526* N;
NU8 Flags;
NU8 Callconv;
TY50548* Owner;
TY50548* Sym;
NI64 Size;
NI Align;
NI Containerid;
TY50540 Loc;
};
struct TY49011 {
  TY49005 Sup;
NimStringDesc* S;
TY49011* Next;
NI H;
};
struct TY55084 {
NI H;
TY49011* Name;
};
struct TY104004 {
NI Stackptr;
TY55084 It;
TY50548* M;
NU8 Mode;
};
struct TY10602 {
NI Refcount;
TNimType* Typ;
};
struct TY10618 {
NI Len;
NI Cap;
TY10602** D;
};
struct TY10614 {
NI Counter;
NI Max;
TY10610* Head;
TY10610** Data;
};
struct TY10994 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY10996 {
TY10618 Zct;
TY10618 Decstack;
TY10614 Cycleroots;
TY10618 Tempstack;
TY10994 Stat;
};
struct TY50566 {
TY49005* Key;
TY50526* Val;
};
struct TY50570 {
NI Counter;
TY50568* Data;
};
struct TY111004 {
TY50570 Mapping;
TY50548* Prc;
TY50526* Call;
TY111004* Next;
TY50520* Params;
};
typedef NU8 TY177054[16];
struct TY50560 {
TY49005* Key;
TNimObject* Val;
};
struct TY50564 {
NI Counter;
TY50562* Data;
};
struct TY123969 {
NI Exactmatches;
NI Subtypematches;
NI Intconvmatches;
NI Convmatches;
NI Genericmatches;
NU8 State;
TY50552* Callee;
TY50548* Calleesym;
TY50526* Call;
TY50564 Bindings;
NIM_BOOL Basetypematch;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
typedef N_NIMCALL_PTR(NIM_BOOL, TY93025) (TY50552* T_93030, TNimObject* Closure_93031);
struct TY123655 {
TY103012* C;
TY50564 Typemap;
TY50564 Symmap;
TY42538 Info;
};
typedef NimStringDesc* TY69026[3];
struct TY38013 {
  TNimObject Sup;
TY38013* Prev;
TY38013* Next;
};
struct TY103002 {
  TY38013 Sup;
NU32 Options;
NU8 Defaultcc;
TY50544* Dynlib;
NU32 Notes;
};
typedef NimStringDesc* TY42805[1];
typedef NU8 TY118007[29];
struct TY103006 {
TY50548* Owner;
TY50548* Resultsym;
NI Nestedloopcounter;
NI Nestedblockcounter;
};
typedef NU8 TY131991[30];
typedef N_NIMCALL_PTR(TY50526*, TY101045) (NimStringDesc* Filename_101046);
typedef NimStringDesc* TY111159[2];
typedef NimStringDesc* TY130495[2];
struct E_Base {
  TNimObject Sup;
E_Base* parent;
NCSTRING name;
NimStringDesc* message;
};
struct TSafePoint {
TSafePoint* prev;
NI status;
E_Base* exc;
jmp_buf context;
};
struct TY55211 {
NI Key;
NI Val;
};
struct TY55215 {
NI Counter;
TY55213* Data;
};
struct TY89029 {
NI Lastidxkey;
NI Lastidxval;
TY55215 Tab;
TY47008* R;
NI Offset;
};
struct TY89031 {
  TNimObject Sup;
NI Pos;
NimStringDesc* S;
NU32 Options;
NU8 Reason;
TY34021* Moddeps;
TY34021* Files;
NI Dataidx;
NI Convertersidx;
NI Initidx;
NI Interfidx;
NI Compilerprocsidx;
NI Cgenidx;
NimStringDesc* Filename;
TY89029 Index;
TY89029 Imports;
NI Readerindex;
NI Line;
NI Moduleid;
TY50564 Syms;
};
typedef NI TY8614[16];
struct TY50891 {
TY50891* Next;
NI Key;
TY8614 Bits;
};
struct TY47008 {
  TNimObject Sup;
TY47008* Left;
TY47008* Right;
NI Length;
NimStringDesc* Data;
};
struct TY50544 {
  TY38013 Sup;
NU8 Kind;
NIM_BOOL Generated;
TY47008* Name;
TY50526* Path;
};
struct TY10610 {
TY10610* Next;
NI Key;
TY8614 Bits;
};
struct TY111006 {
  TY101002 Sup;
TY50548* Module;
TY111004* Tos;
TY50526* Lastexception;
NIM_BOOL Opteval;
};
struct TY50528 {
  TGenericSeq Sup;
  TY50548* data[SEQ_DECL_SIZE];
};
struct TY55101 {
  TGenericSeq Sup;
  TY50530 data[SEQ_DECL_SIZE];
};
struct TY50893 {
  TGenericSeq Sup;
  TY50891* data[SEQ_DECL_SIZE];
};
struct TY50520 {
  TGenericSeq Sup;
  TY50526* data[SEQ_DECL_SIZE];
};
struct TY50550 {
  TGenericSeq Sup;
  TY50552* data[SEQ_DECL_SIZE];
};
struct TY50568 {
  TGenericSeq Sup;
  TY50566 data[SEQ_DECL_SIZE];
};
struct TY50562 {
  TGenericSeq Sup;
  TY50560 data[SEQ_DECL_SIZE];
};
struct TY34021 {
  TGenericSeq Sup;
  NimStringDesc* data[SEQ_DECL_SIZE];
};
struct TY55213 {
  TGenericSeq Sup;
  TY55211 data[SEQ_DECL_SIZE];
};
N_NIMCALL(void, Initpass_101031)(TY101006* P_101034);
N_NIMCALL(TY101002*, Myopen_143084)(TY50548* Module_143086, NimStringDesc* Filename_143087);
N_NIMCALL(TY103012*, Newcontext_103046)(TY50548* Module_103048, NimStringDesc* Nimfile_103049);
N_NIMCALL(void, Internalerror_43159)(TY42538 Info_43161, NimStringDesc* Errmsg_43162);
N_NIMCALL(TY50526*, Semconstexpr_122171)(TY103012* C_122173, TY50526* N_122174);
N_NIMCALL(TY50526*, Semexprwithtype_122122)(TY103012* C_122124, TY50526* N_122125, NU8 Flags_122128);
N_NIMCALL(TY50526*, Semexpr_122115)(TY103012* C_122117, TY50526* N_122118, NU8 Flags_122121);
N_NIMCALL(void, Suggestexpr_121068)(TY103012* C_121070, TY50526* N_121071);
N_NIMCALL(TY50548*, Lookup_104245)(TY103012* C_104247, TY50526* N_104248);
N_NIMCALL(TY50526*, Semsym_130006)(TY103012* C_130008, TY50526* N_130009, TY50548* S_130010, NU8 Flags_130011);
N_NIMCALL(void, Globalerror_43139)(TY42538 Info_43141, NU8 Msg_43142, NimStringDesc* Arg_43143);
N_NIMCALL(TY50548*, Getmodule_55198)(TY50548* S_55200);
N_NIMCALL(void, Localerror_43144)(TY42538 Info_43146, NU8 Msg_43147, NimStringDesc* Arg_43148);
N_NIMCALL(TY50526*, Symchoice_122533)(TY103012* C_122535, TY50526* N_122536, TY50548* S_122537);
N_NIMCALL(TY50548*, Initoverloaditer_104745)(TY104004* O_104748, TY103012* C_104749, TY50526* N_104750);
N_NIMCALL(TY50548*, Nextoverloaditer_105074)(TY104004* O_105077, TY103012* C_105078, TY50526* N_105079);
N_NIMCALL(TY50526*, Newsymnode_50735)(TY50548* Sym_50737);
N_NIMCALL(void, Markused_122065)(TY50526* N_122067, TY50548* S_122068);
N_NIMCALL(void, Message_43149)(TY42538 Info_43151, NU8 Msg_43152, NimStringDesc* Arg_43153);
N_NIMCALL(TY50526*, Newnodeit_50742)(NU8 Kind_50744, TY42538 Info_50745, TY50552* Typ_50746);
N_NIMCALL(TY50552*, Newtypes_103077)(NU8 Kind_103079, TY103012* C_103080);
N_NIMCALL(void, Addson_50824)(TY50526* Father_50826, TY50526* Son_50827);
N_NIMCALL(TY50526*, Copytree_50852)(TY50526* Src_50854);
static N_INLINE(void, asgnRef)(void** Dest_13014, void* Src_13015);
static N_INLINE(void, Incref_13002)(TY10602* C_13004);
static N_INLINE(NI, Atomicinc_3221)(NI* Memloc_3224, NI X_3225);
static N_INLINE(NIM_BOOL, Canbecycleroot_11416)(TY10602* C_11418);
static N_INLINE(void, Rtladdcycleroot_12052)(TY10602* C_12054);
N_NOINLINE(void, Incl_10880)(TY10614* S_10883, TY10602* Cell_10884);
static N_INLINE(TY10602*, Usrtocell_11412)(void* Usr_11414);
static N_INLINE(void, Decref_12801)(TY10602* C_12803);
static N_INLINE(NI, Atomicdec_3226)(NI* Memloc_3229, NI X_3230);
static N_INLINE(void, Rtladdzct_12401)(TY10602* C_12403);
N_NOINLINE(void, Addzct_11401)(TY10618* S_11404, TY10602* C_11405);
N_NIMCALL(TY50526*, Semmacroexpr_123038)(TY103012* C_123040, TY50526* N_123041, TY50548* Sym_123042, NIM_BOOL Semcheck_123043);
N_NIMCALL(TY111006*, Newevalcontext_111033)(TY50548* Module_111035, NimStringDesc* Filename_111036, NIM_BOOL Opteval_111037);
N_NIMCALL(TY111004*, Newstackframe_111024)(void);
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13018, void* Src_13019);
N_NIMCALL(TGenericSeq*, setLengthSeq)(TGenericSeq* Seq_18803, NI Elemsize_18804, NI Newlen_18805);
N_NIMCALL(void, Pushstackframe_111026)(TY111006* C_111028, TY111004* T_111029);
N_NIMCALL(TY50526*, Eval_111038)(TY111006* C_111040, TY50526* N_111041);
N_NIMCALL(void, Popstackframe_111030)(TY111006* C_111032);
N_NIMCALL(NIM_BOOL, Cyclictree_92043)(TY50526* N_92045);
N_NIMCALL(TY50526*, Semaftermacrocall_122246)(TY103012* C_122248, TY50526* N_122249, TY50548* S_122250);
N_NIMCALL(TY50526*, Semstmt_122143)(TY103012* C_122145, TY50526* N_122146);
N_NIMCALL(void, Suggeststmt_121110)(TY103012* C_121112, TY50526* N_121113);
N_NIMCALL(TY50526*, Semasgn_138618)(TY103012* C_138620, TY50526* N_138621);
N_NIMCALL(void, Checksonslen_103407)(TY50526* N_103409, NI Length_103410);
N_NIMCALL(TY50526*, Builtinfieldaccess_133293)(TY103012* C_133295, TY50526* N_133296, NU8 Flags_133297);
N_NIMCALL(TY50548*, Qualifiedlookup_104322)(TY103012* C_104324, TY50526* N_104325, NU8 Flags_104327);
N_NIMCALL(TY49011*, Consideracc_122003)(TY50526* N_122005);
N_NIMCALL(NimStringDesc*, Rendertree_81042)(TY50526* N_81044, NU8 Renderflags_81047);
N_NIMCALL(TY50548*, Getsymfromlist_55189)(TY50526* List_55191, TY49011* Ident_55192, NI Start_55193);
N_NIMCALL(NIM_BOOL, Istypeexpr_132993)(TY50526* N_132995);
N_NIMCALL(TY50552*, Skiptypes_93087)(TY50552* T_93089, NU64 Kinds_93090);
N_NIMCALL(TY50548*, Lookupinrecordandbuildcheck_133018)(TY103012* C_133020, TY50526* N_133021, TY50526* R_133022, TY49011* Field_133023, TY50526** Check_133025);
static N_INLINE(NI, Sonslen_50804)(TY50526* N_50806);
N_NIMCALL(void, Checkminsonslen_103413)(TY50526* N_103415, NI Length_103416);
N_NIMCALL(void, Illformedast_103403)(TY50526* N_103405);
N_NIMCALL(TY50526*, Newnodei_50738)(NU8 Kind_50740, TY42538 Info_50741);
static N_INLINE(TY50526*, Lastson_50810)(TY50526* N_50812);
N_NIMCALL(void, unsureAsgnRef)(void** Dest_13026, void* Src_13027);
N_NIMCALL(TY50526*, Newidentnode_50731)(TY49011* Ident_50733, TY42538 Info_50734);
N_NIMCALL(TY49011*, Getident_49016)(NimStringDesc* Identifier_49018);
N_NIMCALL(TY50526*, Makederef_133264)(TY50526* N_133266);
N_NIMCALL(TY50526*, Propertywriteaccess_138598)(TY103012* C_138600, TY50526* N_138601, TY50526* A_138602);
static N_INLINE(TY50526*, HEX5BHEX5D_52062)(TY50526* N_52064, NI I_52065);
static N_INLINE(void, appendString)(NimStringDesc* Dest_18599, NimStringDesc* Src_18600);
static N_INLINE(void, appendChar)(NimStringDesc* Dest_18616, NIM_CHAR C_18617);
N_NIMCALL(NimStringDesc*, rawNewString)(NI Space_18489);
N_NIMCALL(TY50526*, Semdirectcallanalyseeffects_132162)(TY103012* C_132164, TY50526* N_132165, NU8 Flags_132166);
N_NIMCALL(TY50526*, Semdirectcall_126655)(TY103012* C_126657, TY50526* N_126658, NU32 Filter_126659);
N_NIMCALL(TY50526*, Semdirectcallwithbinding_126510)(TY103012* C_126512, TY50526* N_126513, TY50526* F_126514, NU32 Filter_126515, TY50526* Initialbinding_126516);
N_NIMCALL(void, Initcandidate_124003)(TY123969* C_124006, TY50548* Callee_124007, TY50526* Binding_124008);
static N_INLINE(void, Initcandidateaux_123992)(TY123969* C_123995, TY50552* Callee_123996);
N_NIMCALL(void, Initidtable_50755)(TY50564* X_50758);
N_NIMCALL(void, Idtableput_55166)(TY50564* T_55169, TY49005* Key_55170, TNimObject* Val_55171);
N_NIMCALL(void, Matches_125874)(TY103012* C_125876, TY50526* N_125877, TY123969* M_125879);
N_NIMCALL(TY50552*, Base_93021)(TY50552* T_93023);
N_NIMCALL(void, Intsetinit_50919)(TY50895* S_50922);
N_NIMCALL(NIM_BOOL, Intsetcontainsorincl_50923)(TY50895* S_50926, NI Key_50927);
N_NIMCALL(TY50526*, Paramtypesmatch_125632)(TY103012* C_125634, TY123969* M_125636, TY50552* F_125637, TY50552* A_125638, TY50526* Arg_125639);
N_NIMCALL(TY50526*, Paramtypesmatchaux_125486)(TY103012* C_125488, TY123969* M_125490, TY50552* F_125491, TY50552* A_125492, TY50526* Arg_125493);
N_NIMCALL(NU8, Typerel_124244)(TY50564* Mapping_124247, TY50552* F_124248, TY50552* A_124249);
static N_INLINE(TY50552*, Lastson_50813)(TY50552* N_50815);
static N_INLINE(NI, Sonslen_50807)(TY50552* N_50809);
N_NIMCALL(NU8, Handlerange_124275)(TY50552* F_124277, TY50552* A_124278, NU8 Min_124279, NU8 Max_124280);
N_NIMCALL(NU8, Handlefloatrange_124341)(TY50552* F_124343, TY50552* A_124344);
N_NIMCALL(NU8, Minrel_124414)(NU8 A_124416, NU8 B_124417);
N_NIMCALL(NI64, Lengthord_93007)(TY50552* T_93009);
N_NIMCALL(NIM_BOOL, Isordinaltype_93069)(TY50552* T_93071);
N_NIMCALL(void, Internalerror_43163)(NimStringDesc* Errmsg_43165);
N_NIMCALL(NU8, Tuplerel_124428)(TY50564* Mapping_124431, TY50552* F_124432, TY50552* A_124433);
N_NIMCALL(NIM_BOOL, Isobjectsubtype_124384)(TY50552* A_124386, TY50552* F_124387);
N_NIMCALL(NI64, Firstord_93001)(TY50552* T_93003);
N_NIMCALL(TNimObject*, Idtableget_55158)(TY50564 T_55160, TY49005* Key_55161);
N_NIMCALL(TY50552*, Concretetype_124250)(TY50564 Mapping_124252, TY50552* T_124253);
N_NIMCALL(TY50552*, Newtype_50707)(NU8 Kind_50709, TY50548* Owner_50710);
N_NIMCALL(void, Addson_50828)(TY50552* Father_50830, TY50552* Son_50831);
N_NIMCALL(NimStringDesc*, reprEnum)(NI E_19571, TNimType* Typ_19572);
N_NIMCALL(TY50526*, Implicitconv_125404)(NU8 Kind_125406, TY50552* F_125407, TY50526* Arg_125408, TY123969* M_125409, TY103012* C_125410);
N_NIMCALL(NIM_BOOL, Containsgenerictype_123174)(TY50552* T_123176);
N_NIMCALL(NIM_BOOL, Iterovertype_93038)(TY50552* T_93040, TY93025 Iter_93041, TNimObject* Closure_93042);
N_NIMCALL(NIM_BOOL, Containsgenerictypeiter_123158)(TY50552* T_123160, TNimObject* Closure_123161);
N_NIMCALL(TY50552*, Getinstantiatedtype_125375)(TY103012* C_125377, TY50526* Arg_125378, TY123969* M_125379, TY50552* F_125380);
N_NIMCALL(TY50552*, Generatetypeinstance_123955)(TY103012* P_123957, TY50564 Pt_123958, TY50526* Arg_123959, TY50552* T_123960);
N_NIMCALL(void, Copyidtable_50799)(TY50564* Dest_50802, TY50564 Src_50803);
N_NIMCALL(void, Pushinfocontext_42615)(TY42538 Info_42617);
N_NIMCALL(TY50552*, Replacetypevarst_123660)(TY123655* Cl_123663, TY50552* T_123664);
N_NIMCALL(TY50552*, Lookuptypevar_123808)(TY123655* Cl_123810, TY50552* T_123811);
N_NIMCALL(NimStringDesc*, Typetostring_93014)(TY50552* Typ_93016, NU8 Prefer_93017);
N_NIMCALL(TY50552*, Copytype_50771)(TY50552* T_50773, TY50548* Owner_50774, NIM_BOOL Keepid_50775);
N_NIMCALL(TY50552*, Searchinsttypes_123105)(TY50564 Tab_123107, TY50552* Key_123108);
N_NIMCALL(NIM_BOOL, Sametype_93048)(TY50552* X_93050, TY50552* Y_93051);
N_NIMCALL(TY50526*, Replacetypevarsn_123670)(TY123655* Cl_123673, TY50526* N_123674);
N_NIMCALL(TY50526*, Copynode_50849)(TY50526* Src_50851);
N_NIMCALL(TY50548*, Replacetypevarss_123665)(TY123655* Cl_123668, TY50548* S_123669);
N_NIMCALL(TY50548*, Copysym_50776)(TY50548* S_50778, NIM_BOOL Keepid_50779);
N_NIMCALL(void, Newsons_50816)(TY50526* Father_50818, NI Length_50819);
N_NIMCALL(void, Checkconstructedtype_123608)(TY42538 Info_123610, TY50552* T_123611);
N_NIMCALL(NI64, Computesize_93112)(TY50552* Typ_93114);
N_NIMCALL(void, Popinfocontext_42636)(void);
N_NIMCALL(TY50526*, Userconvmatch_125423)(TY103012* C_125425, TY123969* M_125427, TY50552* F_125428, TY50552* A_125429, TY50526* Arg_125430);
N_NIMCALL(void, Initcandidate_123997)(TY123969* C_124000, TY50552* Callee_124001);
N_NIMCALL(void, Copycandidate_124047)(TY123969* A_124050, TY123969* B_124051);
N_NIMCALL(void, genericAssign)(void* Dest_19375, void* Src_19376, TNimType* Mt_19377);
N_NIMCALL(NI, Cmpcandidates_124053)(TY123969* A_124055, TY123969* B_124056);
N_NIMCALL(void, Setson_125831)(TY50526* Father_125833, NI At_125834, TY50526* Son_125835);
N_NIMCALL(TY50552*, Getsystype_98008)(NU8 Kind_98010);
N_NIMCALL(NIM_BOOL, Samemethoddispatcher_126434)(TY50548* A_126436, TY50548* B_126437);
N_NIMCALL(NimStringDesc*, nsuFormatOpenArray)(NimStringDesc* Formatstr_23960, NimStringDesc** A_23962, NI A_23962Len0);
N_NIMCALL(NimStringDesc*, Msgkindtostring_42794)(NU8 Kind_42796);
N_NIMCALL(NimStringDesc*, Getprocheader_93018)(TY50548* Sym_93020);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* Src_18512);
N_NIMCALL(TY50548*, Generateinstance_123099)(TY103012* C_123101, TY50548* Fn_123102, TY50564 Pt_123103, TY42538 Info_123104);
N_NIMCALL(TY50548*, Getcurrowner_103092)(void);
N_NIMCALL(void, Pushowner_103094)(TY50548* Owner_103096);
N_NIMCALL(void, Openscope_55141)(TY55099* Tab_55144);
N_NIMCALL(void, Instantiategenericparamlist_123178)(TY103012* C_123180, TY50526* N_123181, TY50564 Pt_123182);
N_NIMCALL(TY50548*, Newsym_50702)(NU8 Symkind_50704, TY49011* Name_50705, TY50548* Owner_50706);
N_NIMCALL(void, Adddecl_104114)(TY103012* C_104116, TY50548* Sym_104117);
N_NIMCALL(void, Semparamlist_122147)(TY103012* C_122149, TY50526* N_122150, TY50526* Genericparams_122151, TY50548* S_122152);
N_NIMCALL(TY50552*, Semproctypenode_129374)(TY103012* C_129376, TY50526* N_129377, TY50526* Genericparams_129378, TY50552* Prev_129379);
N_NIMCALL(TY50552*, Neworprevtype_126876)(NU8 Kind_126878, TY50552* Prev_126879, TY103012* C_126880);
N_NIMCALL(TY103002*, Lastoptionentry_103053)(TY103012* C_103055);
N_NIMCALL(TY50552*, Paramtype_129353)(TY103012* C_129355, TY50526* N_129356, TY50526* Genericparams_129357, TY50895* Cl_129359);
N_NIMCALL(TY50552*, Semtypenode_122138)(TY103012* C_122140, TY50526* N_122141, TY50552* Prev_122142);
N_NIMCALL(TY50548*, Semtypeident_127652)(TY103012* C_127654, TY50526* N_127655);
N_NIMCALL(TY50552*, Semarray_127501)(TY103012* C_127503, TY50526* N_127504, TY50552* Prev_127505);
N_NIMCALL(TY50552*, Semrangeaux_127353)(TY103012* C_127355, TY50526* N_127356, TY50552* Prev_127357);
N_NIMCALL(NIM_BOOL, Enumhaswholes_93072)(TY50552* T_93074);
N_NIMCALL(NIM_BOOL, Levalue_50865)(TY50526* A_50867, TY50526* B_50868);
N_NIMCALL(TY50552*, Semcontainer_127257)(TY103012* C_127259, TY50526* N_127260, NU8 Kind_127261, NimStringDesc* Kindstr_127262, TY50552* Prev_127263);
N_NIMCALL(TY50552*, Semrange_127448)(TY103012* C_127450, TY50526* N_127451, TY50552* Prev_127452);
N_NIMCALL(TY50552*, Semset_127214)(TY103012* C_127216, TY50526* N_127217, TY50552* Prev_127218);
N_NIMCALL(TY50552*, Semordinal_127610)(TY103012* C_127612, TY50526* N_127613, TY50552* Prev_127614);
N_NIMCALL(TY50552*, Semgeneric_127833)(TY103012* C_127835, TY50526* N_127836, TY50548* S_127837, TY50552* Prev_127838);
N_NIMCALL(TY50552*, Instgenericcontainer_122166)(TY103012* C_122168, TY50526* N_122169, TY50552* Header_122170);
N_NIMCALL(void, Assigntype_50780)(TY50552* Dest_50782, TY50552* Src_50783);
N_NIMCALL(TY50552*, Semobjectnode_129141)(TY103012* C_129143, TY50526* N_129144, TY50552* Prev_129145);
N_NIMCALL(void, Addinheritedfields_129118)(TY103012* C_129120, TY50895* Check_129122, NI* Pos_129124, TY50552* Obj_129125);
N_NIMCALL(void, Addinheritedfieldsaux_128999)(TY103012* C_129001, TY50895* Check_129003, NI* Pos_129005, TY50526* N_129006);
N_NIMCALL(void, Intsetincl_50909)(TY50895* S_50912, NI Key_50913);
N_NIMCALL(void, Semrecordnodeaux_128368)(TY103012* C_128370, TY50526* N_128371, TY50895* Check_128373, NI* Pos_128375, TY50526* Father_128376, TY50548* Rectype_128377);
N_NIMCALL(void, Checkbool_126826)(TY50526* T_126828);
N_NIMCALL(void, Semrecordcase_128378)(TY103012* C_128380, TY50526* N_128381, TY50895* Check_128383, NI* Pos_128385, TY50526* Father_128386, TY50548* Rectype_128387);
N_NIMCALL(void, Semcasebranch_128218)(TY103012* C_128220, TY50526* T_128221, TY50526* Branch_128222, NI Branchindex_128223, NI64* Covered_128225);
N_NIMCALL(void, Sembranchexpr_128179)(TY103012* C_128181, TY50526* T_128182, TY50526** Ex_128184);
N_NIMCALL(NU8, Cmptypes_125367)(TY50552* F_125369, TY50552* A_125370);
N_NIMCALL(void, Typemismatch_126850)(TY50526* N_126852, TY50552* Formal_126853, TY50552* Actual_126854);
N_NIMCALL(NIM_BOOL, Emptyrange_100019)(TY50526* A_100021, TY50526* B_100022);
N_NIMCALL(NI64, Getordvalue_93109)(TY50526* N_93111);
N_NIMCALL(void, Checkforoverlap_128119)(TY103012* C_128121, TY50526* T_128122, TY50526* Ex_128123, NI Branchindex_128124);
N_NIMCALL(NIM_BOOL, Overlap_100006)(TY50526* A_100008, TY50526* B_100009);
N_NIMCALL(void, Delson_50832)(TY50526* Father_50834, NI Idx_50835);
N_NIMCALL(TY50548*, Semidentwithpragma_122098)(TY103012* C_122100, NU8 Kind_122101, TY50526* N_122102, NU32 Allowed_122103);
N_NIMCALL(TY50548*, Semidentvis_122092)(TY103012* C_122094, NU8 Kind_122095, TY50526* N_122096, NU32 Allowed_122097);
N_NIMCALL(TY50548*, Newsyms_122059)(NU8 Kind_122061, TY50526* N_122062, TY103012* C_122063);
N_NIMCALL(void, Pragma_118028)(TY103012* C_118030, TY50548* Sym_118031, TY50526* N_118032, TY118007 Validpragmas_118033);
N_NIMCALL(TY47008*, Torope_47046)(NimStringDesc* S_47048);
N_NIMCALL(TY50552*, Semtuple_127678)(TY103012* C_127680, TY50526* N_127681, TY50552* Prev_127682);
N_NIMCALL(TY50552*, Semanyref_127280)(TY103012* C_127282, TY50526* N_127283, NU8 Kind_127284, NimStringDesc* Kindstr_127285, TY50552* Prev_127286);
N_NIMCALL(TY50552*, Semvartype_127303)(TY103012* C_127305, TY50526* N_127306, TY50552* Prev_127307);
N_NIMCALL(TY50552*, Semdistinct_127333)(TY103012* C_127335, TY50526* N_127336, TY50552* Prev_127337);
N_NIMCALL(TY50552*, Semenum_126902)(TY103012* C_126904, TY50526* N_126905, TY50552* Prev_126906);
N_NIMCALL(NI64, Lastord_93004)(TY50552* T_93006);
N_NIMCALL(void, Strtableadd_55061)(TY50530* T_55064, TY50548* N_55065);
N_NIMCALL(void, Adddeclat_104128)(TY103012* C_104130, TY50548* Sym_104131, NI At_104132);
N_NIMCALL(TY50552*, Semstmtlisttype_129625)(TY103012* C_129627, TY50526* N_129628, TY50552* Prev_129629);
N_NIMCALL(TY50552*, Semblocktype_129693)(TY103012* C_129695, TY50526* N_129696, TY50552* Prev_129697);
N_NIMCALL(void, Closescope_104018)(TY55099* Tab_104021);
N_NIMCALL(TY50552*, Addtypevarsofgenericbody_129276)(TY103012* C_129278, TY50552* T_129279, TY50526* Genericparams_129280, TY50895* Cl_129282);
N_NIMCALL(TY50526*, Fitnode_122129)(TY103012* C_122131, TY50552* Formal_122132, TY50526* Arg_122133);
N_NIMCALL(TY50526*, Indextypesmatch_125821)(TY103012* C_125823, TY50552* F_125824, TY50552* A_125825, TY50526* Arg_125826);
N_NIMCALL(void, Addparams_122153)(TY103012* C_122155, TY50526* N_122156);
N_NIMCALL(TY50548*, Genericcacheget_123270)(TY103012* C_123272, TY50548* Genericsym_123273, TY50548* Instsym_123274);
N_NIMCALL(NU8, Equalparams_93065)(TY50526* A_93067, TY50526* B_93068);
N_NIMCALL(void, Genericcacheadd_123391)(TY103012* C_123393, TY50548* Genericsym_123394, TY50548* Instsym_123395);
N_NIMCALL(TY50526*, Newnode_50711)(NU8 Kind_50713);
N_NIMCALL(TY103006*, Newproccon_103050)(TY50548* Owner_103052);
N_NIMCALL(void, Addresult_122157)(TY103012* C_122159, TY50552* T_122160, TY42538 Info_122161);
N_NIMCALL(void, Addresultnode_122162)(TY103012* C_122164, TY50526* N_122165);
N_NIMCALL(TY50526*, Semstmtscope_122104)(TY103012* C_122106, TY50526* N_122107);
N_NIMCALL(void, Popowner_103097)(void);
N_NIMCALL(void, Fixabstracttype_131289)(TY103012* C_131291, TY50526* N_131292);
N_NIMCALL(TY50526*, Semarrayconstr_131122)(TY103012* C_131124, TY50526* N_131125);
N_NIMCALL(TY50552*, Makerangetype_103086)(TY103012* C_103088, NI64 First_103089, NI64 Last_103090, TY42538 Info_103091);
N_NIMCALL(TY50552*, Elemtype_93091)(TY50552* T_93093);
N_NIMCALL(void, Changetype_130902)(TY50526* N_130904, TY50552* Newtype_130905);
N_NIMCALL(void, Analyseifaddresstakenincall_131986)(TY103012* C_131988, TY50526* N_131989);
N_NIMCALL(NU8, Isassignable_131553)(TY50526* N_131555);
N_NIMCALL(TY50526*, Analyseifaddresstaken_131768)(TY103012* C_131770, TY50526* N_131771);
N_NIMCALL(TY50526*, Newhiddenaddrtaken_131733)(TY103012* C_131735, TY50526* N_131736);
N_NIMCALL(TY50552*, Makevartype_103073)(TY103012* C_103075, TY50552* Basetype_103076);
N_NIMCALL(TY50526*, Semsubscript_133845)(TY103012* C_133847, TY50526* N_133848, NU8 Flags_133849);
N_NIMCALL(TY50526*, Buildoverloadedsubscripts_133802)(TY50526* N_133804, NIM_BOOL Inasgn_133805);
N_NIMCALL(void, Add_51969)(TY50526* Father_51971, TY50526* Son_51972);
static N_INLINE(NI, Len_51923)(TY50526* N_51925);
N_NIMCALL(NimStringDesc*, resizeString)(NimStringDesc* Dest_18589, NI Addlen_18590);
N_NIMCALL(void, Addsliceopr_133770)(NimStringDesc** Result_133773, TY50526* N_133774);
N_NIMCALL(TY50526*, Semexprnotype_137739)(TY103012* C_137741, TY50526* N_137742);
N_NIMCALL(TY50526*, Buildechostmt_137721)(TY103012* C_137723, TY50526* N_137724);
N_NIMCALL(TY50548*, Strtableget_55066)(TY50530* T_55068, TY49011* Name_55069);
N_NIMCALL(TY50526*, Buildstringify_132653)(TY103012* C_132655, TY50526* Arg_132656);
N_NIMCALL(TY50526*, Semcommand_137773)(TY103012* C_137775, TY50526* N_137776);
N_NIMCALL(TY50526*, Semblock_138181)(TY103012* C_138183, TY50526* N_138184);
N_NIMCALL(TY50526*, Semraise_140043)(TY103012* C_140045, TY50526* N_140046);
N_NIMCALL(TY50526*, Semvar_139139)(TY103012* C_139141, TY50526* N_139142);
N_NIMCALL(NIM_BOOL, Typeallowed_93136)(TY50552* T_93138, NU8 Kind_93139);
N_NIMCALL(void, Addinterfacedecl_104236)(TY103012* C_104238, TY50548* Sym_104239);
N_NIMCALL(TY50526*, Semconst_139446)(TY103012* C_139448, TY50526* N_139449);
N_NIMCALL(TY50526*, Semandevalconstexpr_122198)(TY103012* C_122200, TY50526* N_122201);
N_NIMCALL(TY50526*, Getconstexpr_109010)(TY50548* M_109012, TY50526* N_109013);
N_NIMCALL(TY50526*, Evalconstexpr_111042)(TY50548* Module_111044, TY50526* E_111045);
N_NIMCALL(TY50526*, Fitremovehiddenconv_139097)(TY103012* C_139099, TY50552* Typ_139100, TY50526* N_139101);
N_NIMCALL(TY50526*, Semtypesection_140554)(TY103012* C_140556, TY50526* N_140557);
N_NIMCALL(void, Processmagictype_129947)(TY103012* C_129949, TY50548* M_129950);
N_NIMCALL(void, Setmagictype_129942)(TY50548* M_129944, NU8 Kind_129945, NI Size_129946);
static N_INLINE(NI, Getid_50694)(void);
N_NIMCALL(TY50526*, Semgenericparamlist_140321)(TY103012* C_140323, TY50526* N_140324, TY50552* Father_140325);
N_NIMCALL(TY50526*, Semif_137898)(TY103012* C_137900, TY50526* N_137901);
N_NIMCALL(TY50526*, Semwhen_137778)(TY103012* C_137780, TY50526* N_137781);
N_NIMCALL(void, Idsynchronizationpoint_50699)(NI Idrange_50701);
N_NIMCALL(TY50526*, Semdiscard_138013)(TY103012* C_138015, TY50526* N_138016);
N_NIMCALL(TY50526*, Semwhile_138302)(TY103012* C_138304, TY50526* N_138305);
N_NIMCALL(TY50526*, Semtry_140124)(TY103012* C_140126, TY50526* N_140127);
N_NIMCALL(TY50526*, Sembreakorcontinue_138065)(TY103012* C_138067, TY50526* N_138068);
N_NIMCALL(TY50526*, Semfor_139635)(TY103012* C_139637, TY50526* N_139638);
N_NIMCALL(TY50526*, Semcase_138407)(TY103012* C_138409, TY50526* N_138410);
N_NIMCALL(NI64, Tocover_138393)(TY50552* T_138395);
N_NIMCALL(TY50526*, Semreturn_138754)(TY103012* C_138756, TY50526* N_138757);
N_NIMCALL(TY50526*, Semasm_138282)(TY103012* Con_138284, TY50526* N_138285);
N_NIMCALL(NIM_CHAR, Pragmaasm_118034)(TY103012* C_118036, TY50526* N_118037);
N_NIMCALL(TY50526*, Semasmoremit_119596)(TY103012* Con_119598, TY50526* N_119599, NIM_CHAR Marker_119600);
N_NIMCALL(TY50526*, Semyield_138968)(TY103012* C_138970, TY50526* N_138971);
N_NIMCALL(TY50526*, Semiterator_142235)(TY103012* C_142237, TY50526* N_142238);
N_NIMCALL(TY50526*, Semprocaux_141487)(TY103012* C_141489, TY50526* N_141490, NU8 Kind_141491, TY118007 Validpragmas_141492);
N_NIMCALL(TY50548*, Searchforproc_117004)(TY103012* C_117006, TY50548* Fn_117007, NI Tos_117008);
N_NIMCALL(void, Addinterfaceoverloadablesymat_104240)(TY103012* C_104242, TY50548* Sym_104243, NI At_104244);
N_NIMCALL(void, Addinterfacedeclat_104191)(TY103012* C_104193, TY50548* Sym_104194, NI At_104195);
N_NIMCALL(void, Addgenericparamlisttoscope_140498)(TY103012* C_140500, TY50526* N_140501);
N_NIMCALL(TY50526*, Semgenericstmtscope_136055)(TY103012* C_136057, TY50526* N_136058, NU8 Flags_136061);
N_NIMCALL(TY50526*, Semgenericstmt_136048)(TY103012* C_136050, TY50526* N_136051, NU8 Flags_136054);
N_NIMCALL(TY50548*, Symtabget_55111)(TY55099 Tab_55113, TY49011* S_55114);
N_NIMCALL(TY50526*, Semgenericstmtsymbol_136065)(TY103012* C_136067, TY50526* N_136068, TY50548* S_136069);
N_NIMCALL(TY50526*, Semtemplateexpr_129953)(TY103012* C_129955, TY50526* N_129956, TY50548* S_129957, NIM_BOOL Semcheck_129958);
N_NIMCALL(TY50526*, Evaltemplate_122488)(TY103012* C_122490, TY50526* N_122491, TY50548* Sym_122492);
N_NIMCALL(TY50526*, Evaltemplateargs_122394)(TY103012* C_122396, TY50526* N_122397, TY50548* S_122398);
N_NIMCALL(TY50526*, Evaltemplateaux_122317)(TY103012* C_122319, TY50526* Templ_122320, TY50526* Actual_122321, TY50548* Sym_122322);
N_NIMCALL(TY50526*, Semmacrostmt_135442)(TY103012* C_135444, TY50526* N_135445, NIM_BOOL Semcheck_135446);
N_NIMCALL(NIM_BOOL, Iscallexpr_135426)(TY50526* N_135428);
N_NIMCALL(TY50526*, Getidentnode_136103)(TY50526* N_136105);
N_NIMCALL(void, Semborrow_141201)(TY103012* C_141203, TY50526* N_141204, TY50548* S_141205);
N_NIMCALL(TY50548*, Searchforborrowproc_117009)(TY103012* C_117011, TY50548* Fn_117012, NI Tos_117013);
N_NIMCALL(void, Sideeffectscheck_141230)(TY103012* C_141232, TY50548* S_141233);
N_NIMCALL(TY50526*, Semproc_142298)(TY103012* C_142300, TY50526* N_142301);
N_NIMCALL(TY50526*, Semmethod_142303)(TY103012* C_142305, TY50526* N_142306);
N_NIMCALL(NIM_BOOL, Istoplevel_122053)(TY103012* C_122055);
N_NIMCALL(TY50526*, Semconverterdef_142353)(TY103012* C_142355, TY50526* N_142356);
N_NIMCALL(void, Addconverter_103058)(TY103012* C_103060, TY50548* Conv_103061);
N_NIMCALL(TY50526*, Semmacrodef_142418)(TY103012* C_142420, TY50526* N_142421);
N_NIMCALL(TY50526*, Semtemplatedef_122725)(TY103012* C_122727, TY50526* N_122728);
N_NIMCALL(TY50526*, Resolvetemplateparams_122582)(TY103012* C_122584, TY50526* N_122585, NIM_BOOL Withinbind_122586, TY50895* Tobind_122588);
N_NIMCALL(NIM_BOOL, Intsetcontains_50905)(TY50895 S_50907, NI Key_50908);
N_NIMCALL(TY50548*, Symtablocalget_55115)(TY55099 Tab_55117, TY49011* S_55118);
N_NIMCALL(TY50526*, Transformtoexpr_122683)(TY50526* N_122685);
N_NIMCALL(TY50526*, Evalimport_106001)(TY103012* C_106003, TY50526* N_106004);
N_NIMCALL(TY50526*, Evalfrom_106005)(TY103012* C_106007, TY50526* N_106008);
N_NIMCALL(TY50526*, Evalinclude_142504)(TY103012* C_142506, TY50526* N_142507);
N_NIMCALL(NimStringDesc*, Getmodulefile_106013)(TY50526* N_106015);
N_NIMCALL(NI, Includefilename_42660)(NimStringDesc* F_42662);
N_NIMCALL(void, Intsetexcl_50914)(TY50895* S_50917, NI Key_50918);
N_NIMCALL(TY50526*, Semfieldaccess_129960)(TY103012* C_129962, TY50526* N_129963, NU8 Flags_129966);
N_NIMCALL(TY50526*, Semconv_130265)(TY103012* C_130267, TY50526* N_130268, TY50548* S_130269);
N_NIMCALL(void, Checkconvertible_130112)(TY42538 Info_130114, TY50552* Castdest_130115, TY50552* Src_130116);
N_NIMCALL(void, Checkconversionbetweenobjects_130100)(TY42538 Info_130102, TY50552* Castdest_130103, TY50552* Src_130104);
N_NIMCALL(NI, Inheritancediff_93121)(TY50552* A_93123, TY50552* B_93124);
N_NIMCALL(NIM_BOOL, Equalordistinctof_93056)(TY50552* X_93058, TY50552* Y_93059);
N_NIMCALL(TY50526*, Semdirectop_132625)(TY103012* C_132627, TY50526* N_132628, NU8 Flags_132629);
N_NIMCALL(void, Semopaux_130742)(TY103012* C_130744, TY50526* N_130745);
N_NIMCALL(TY50526*, Overloadedcallopr_130864)(TY103012* C_130866, TY50526* N_130867);
N_NIMCALL(NimStringDesc*, Getnotfounderror_124119)(TY103012* C_124121, TY50526* N_124122);
N_NIMCALL(NimStringDesc*, addChar)(NimStringDesc* S_1803, NIM_CHAR C_1804);
N_NIMCALL(TY50526*, Semmagic_132986)(TY103012* C_132988, TY50526* N_132989, TY50548* S_132990, NU8 Flags_132991);
N_NIMCALL(TY50526*, Semdefined_132859)(TY103012* C_132861, TY50526* N_132862, NIM_BOOL Onlycurrentscope_132863);
N_NIMCALL(TY50526*, Newintnode_50714)(NU8 Kind_50716, NI64 Intval_50717);
N_NIMCALL(TY50548*, Lookupfordefined_132717)(TY103012* C_132719, TY50526* N_132720, NIM_BOOL Onlycurrentscope_132721);
N_NIMCALL(NIM_BOOL, Isdefined_59059)(TY49011* Symbol_59061);
N_NIMCALL(TY50526*, Setms_132957)(TY50526* N_132959, TY50548* S_132960);
N_NIMCALL(TY50526*, Semlowhigh_130488)(TY103012* C_130490, TY50526* N_130491, NU8 M_130492);
N_NIMCALL(TY50526*, Semsizeof_130563)(TY103012* C_130565, TY50526* N_130566);
N_NIMCALL(TY50526*, Semis_130595)(TY103012* C_130597, TY50526* N_130598);
N_NIMCALL(TY50526*, Semecho_132678)(TY103012* C_132680, TY50526* N_132681);
N_NIMCALL(TY50526*, Semindirectop_132307)(TY103012* C_132309, TY50526* N_132310, NU8 Flags_132311);
N_NIMCALL(TY50526*, Explictgenericinstantiation_126696)(TY103012* C_126698, TY50526* N_126699, TY50548* S_126700);
N_NIMCALL(TY50526*, Semarrayaccess_134118)(TY103012* C_134120, TY50526* N_134121, NU8 Flags_134122);
N_NIMCALL(NU8, Checkpar_134708)(TY50526* N_134710);
N_NIMCALL(TY50526*, Semtuplepositionsconstr_135196)(TY103012* C_135198, TY50526* N_135199);
N_NIMCALL(TY50526*, Semtuplefieldsconstr_134858)(TY103012* C_134860, TY50526* N_134861);
N_NIMCALL(TY50526*, Semsetconstr_134329)(TY103012* C_134331, TY50526* N_134332);
N_NIMCALL(TY50526*, Semlambda_122134)(TY103012* C_122136, TY50526* N_122137);
N_NIMCALL(TY50552*, Makeptrtype_103069)(TY103012* C_103071, TY50552* Basetype_103072);
N_NIMCALL(TY50526*, Semcast_130412)(TY103012* C_130414, TY50526* N_130415);
N_NIMCALL(NIM_BOOL, Iscastable_130224)(TY50552* Dst_130226, TY50552* Src_130227);
N_NIMCALL(TY50526*, Semifexpr_134135)(TY103012* C_134137, TY50526* N_134138);
N_NIMCALL(TY50526*, Semstmtlistexpr_135247)(TY103012* C_135249, TY50526* N_135250);
N_NIMCALL(TY50526*, Semblockexpr_135326)(TY103012* C_135328, TY50526* N_135329);
N_NOINLINE(void, Raiserecoverableerror_42544)(void);
N_NIMCALL(TY50526*, Semexprnoflags_143077)(TY103012* C_143079, TY50526* N_143080);
N_NIMCALL(void, Symtabadd_55119)(TY55099* Tab_55122, TY50548* E_55123);
N_NIMCALL(void, Initsystem_98017)(TY55099* Tab_98020);
N_NIMCALL(void, Importallsymbols_106009)(TY103012* C_106011, TY50548* Frommod_106012);
N_NIMCALL(TY101002*, Myopencached_143117)(TY50548* Module_143119, NimStringDesc* Filename_143120, TY89031* Rd_143121);
N_NIMCALL(TY50526*, Myclose_143155)(TY101002* Context_143157, TY50526* N_143158);
N_NIMCALL(void, Rawclosescope_55145)(TY55099* Tab_55148);
N_NIMCALL(void, Addcodeforgenerics_142958)(TY103012* C_142960, TY50526* N_142961);
N_NIMCALL(TY50526*, Myprocess_143147)(TY101002* Context_143149, TY50526* N_143150);
N_NIMCALL(TY50526*, Semstmtandgenerategenerics_143124)(TY103012* C_143126, TY50526* N_143127);
static N_INLINE(void, pushSafePoint)(TSafePoint* S_5035);
static N_INLINE(void, popSafePoint)(void);
static N_INLINE(E_Base*, getCurrentException)(void);
static N_INLINE(void, popCurrentException)(void);
N_NIMCALL(void, reraiseException)(void);
NIM_CONST NU64 Constabstracttypes_129951 = IL64(1097364930612);
STRING_LITERAL(TMP191934, "sem.myOpen", 10);
STRING_LITERAL(TMP191995, "", 0);
NIM_CONST TY177054 Lastblockstmts_142539 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x80, 0x07, 0x00, 0x00, 0x00}
;
STRING_LITERAL(TMP192068, "in", 2);
STRING_LITERAL(TMP192069, "not", 3);
STRING_LITERAL(TMP192070, "forward type in typeRel()", 25);
STRING_LITERAL(TMP192071, "tupleRel", 8);
STRING_LITERAL(TMP192072, "typeRel: tyGenericInvokation -> tyGenericInvokation", 51);
STRING_LITERAL(TMP192073, "wrong instantiated type!", 24);
STRING_LITERAL(TMP192074, "lookup failed", 13);
STRING_LITERAL(TMP192075, "has constraints: ", 17);
STRING_LITERAL(TMP192076, "typeRel(", 8);
STRING_LITERAL(TMP192077, "substitution with generic parameter", 35);
STRING_LITERAL(TMP192078, "no generic body", 15);
STRING_LITERAL(TMP192080, "acyclic", 7);
STRING_LITERAL(TMP192081, "ReplaceTypeVarsT: tyGenericBody", 31);
STRING_LITERAL(TMP192082, "getInstantiatedType", 19);
STRING_LITERAL(TMP192083, "implicitConv", 12);
STRING_LITERAL(TMP192088, "x.state is not csMatch", 22);
STRING_LITERAL(TMP192089, "matches", 7);
STRING_LITERAL(TMP192091, "calleeSym.ast is nil", 20);
STRING_LITERAL(TMP192092, "nesting too deep", 16);
STRING_LITERAL(TMP192093, "generateInstance", 16);
STRING_LITERAL(TMP192094, "instantiateGenericParamList; no generic params", 46);
STRING_LITERAL(TMP192095, "instantiateGenericParamList; no symbol", 38);
STRING_LITERAL(TMP192096, "instantiateGenericParamList: ", 29);
STRING_LITERAL(TMP192097, "semRangeAux", 11);
STRING_LITERAL(TMP192098, "openarray", 9);
STRING_LITERAL(TMP192099, "range", 5);
STRING_LITERAL(TMP192100, "set", 3);
STRING_LITERAL(TMP192101, "ordinal", 7);
STRING_LITERAL(TMP192102, "seq", 3);
STRING_LITERAL(TMP192103, "semtypes.semGeneric", 19);
STRING_LITERAL(TMP192104, "addInheritedFieldsAux", 21);
STRING_LITERAL(TMP192105, "addInheritedFieldsAux(record case branch)", 41);
STRING_LITERAL(TMP192106, "addInheritedFieldsAux()", 23);
STRING_LITERAL(TMP192107, "semObjectNode", 13);
STRING_LITERAL(TMP192108, "semRecordNodeAux", 16);
STRING_LITERAL(TMP192109, "semRecordCase: dicriminant is no symbol", 39);
STRING_LITERAL(TMP192110, ") ", 2);
static NIM_CONST TY118007 TMP192116 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x70, 0x00, 0x00, 0x00, 0x20, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00}
;static NIM_CONST TY118007 TMP192117 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x70, 0x2D, 0x0C, 0x00, 0x20, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x20, 0x00}
;static NIM_CONST TY118007 TMP192118 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x70, 0x21, 0x00, 0x00, 0x20, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP192119, "ref", 3);
STRING_LITERAL(TMP192120, "ptr", 3);
STRING_LITERAL(TMP192121, "var", 3);
STRING_LITERAL(TMP192122, "distinct", 8);
STRING_LITERAL(TMP192123, "dummy", 5);
static NIM_CONST TY118007 TMP192124 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x40, 0x00, 0x00, 0x40, 0xF8, 0x1F,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP192126, "addTypeVarsOfGenericBody", 24);
STRING_LITERAL(TMP192127, "addTypeVarsOfGenericBody 2", 26);
STRING_LITERAL(TMP192128, "addParams", 9);
STRING_LITERAL(TMP192129, "GenericCacheGet", 15);
STRING_LITERAL(TMP192131, "result", 6);
STRING_LITERAL(TMP192133, "semDirectCallAnalyseEffects", 27);
STRING_LITERAL(TMP192134, "changeType: no tuple type for constructor", 41);
STRING_LITERAL(TMP192135, "changeType: no tuple fields", 27);
STRING_LITERAL(TMP192136, "changeType(): invalid tuple constr", 34);
STRING_LITERAL(TMP192137, "changeType(): invalid identifier", 32);
STRING_LITERAL(TMP192138, "fixAbstractType: ", 17);
NIM_CONST TY131991 Fakevarparams_131990 = {
0x00, 0xD8, 0x61, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x38, 0x2C, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;
static NIM_CONST TY131991 TMP192139 = {
0x00, 0xD8, 0x61, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x38, 0x2C, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP192141, "analyseIfAddressTaken", 21);
STRING_LITERAL(TMP192142, "[", 1);
STRING_LITERAL(TMP192143, ",", 1);
STRING_LITERAL(TMP192144, "..", 2);
STRING_LITERAL(TMP192145, "..$", 3);
STRING_LITERAL(TMP192146, "$..", 3);
STRING_LITERAL(TMP192147, "$..$", 4);
STRING_LITERAL(TMP192148, "]=", 2);
STRING_LITERAL(TMP192149, "]", 1);
STRING_LITERAL(TMP192150, "echo", 4);
STRING_LITERAL(TMP192151, "echo", 4);
STRING_LITERAL(TMP192152, "$", 1);
STRING_LITERAL(TMP192153, "tuple", 5);
static NIM_CONST TY118007 TMP192170 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x72, 0x23, 0x08, 0x00, 0x20, 0x00, 0x00,
0x00, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x40, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP192171, "semTypeSection: containerID", 27);
STRING_LITERAL(TMP192172, "semGenericParamList", 19);
STRING_LITERAL(TMP192173, "semTypeSection()", 16);
STRING_LITERAL(TMP192174, "semWhen", 7);
STRING_LITERAL(TMP192175, "countup", 7);
STRING_LITERAL(TMP192176, "\'return\'", 8);
STRING_LITERAL(TMP192177, "semReturn", 9);
STRING_LITERAL(TMP192178, "semYield", 8);
static NIM_CONST TY118007 TMP192179 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x08, 0x02, 0xE0, 0xFD, 0x3D, 0x02, 0x80,
0xFF, 0x0D, 0x00, 0x05, 0xA0, 0x00, 0x00, 0x04,
0x04, 0x00, 0x00, 0x40, 0x00}
;STRING_LITERAL(TMP192182, "addGenericParamListToScope", 26);
STRING_LITERAL(TMP192183, "semProcAux", 10);
static NIM_CONST TY118007 TMP192184 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x70, 0x51, 0x00, 0x00, 0x20, 0xF8, 0x1F,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x04, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP192185, "iterator", 8);
static NIM_CONST TY118007 TMP192186 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x70, 0xF3, 0x1D, 0x00, 0x60, 0xF8, 0x1F,
0x00, 0x00, 0x00, 0x08, 0x00, 0x00, 0x04, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP192187, "method", 6);
STRING_LITERAL(TMP192188, "converter", 9);
STRING_LITERAL(TMP192189, "macro", 5);
static NIM_CONST TY118007 TMP192190 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x71, 0x41, 0x08, 0x00, 0x20, 0xF8, 0x1F,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP192191, "template", 8);
STRING_LITERAL(TMP192192, "import", 6);
STRING_LITERAL(TMP192198, "from", 4);
STRING_LITERAL(TMP192202, "include", 7);
STRING_LITERAL(TMP192203, "SemStmt: result = nil", 21);
STRING_LITERAL(TMP192204, "no default for", 14);
NIM_CONST NU64 Integraltypes_130117 = IL64(1097364160518);
STRING_LITERAL(TMP192205, "()", 2);
STRING_LITERAL(TMP192206, ": ", 2);
STRING_LITERAL(TMP192207, ", ", 2);
STRING_LITERAL(TMP192208, "\015\012", 2);
STRING_LITERAL(TMP192209, "low", 3);
STRING_LITERAL(TMP192210, "high", 4);
NIM_CONST TY130495 Optostr_130494 = {((NimStringDesc*) &TMP192209),
((NimStringDesc*) &TMP192210)}
;
extern NIM_CONST TY130495 Optostr_130494;
STRING_LITERAL(TMP192211, "sizeof", 6);
STRING_LITERAL(TMP192212, ")\015\012", 3);
STRING_LITERAL(TMP192213, "semExpr() to implement", 22);
STRING_LITERAL(TMP192214, ":anonymous", 10);
static NIM_CONST TY118007 TMP192215 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x70, 0xF3, 0x04, 0x00, 0x20, 0xF8, 0x1F,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP192217, "semIfExpr", 9);
STRING_LITERAL(TMP192218, "n is not nil", 12);
STRING_LITERAL(TMP192219, "addCodeForGenerics", 18);
STRING_LITERAL(TMP192220, "no code for ", 12);
NI Evaltemplatecounter_122393;
extern NU8 Gcmd_41084;
extern TY10996 Gch_11014;
extern TY50526* Emptynode_50858;
extern TNimType* NTI50162; /* TTypeKind */
extern TY50564 Ginsttypes_103045;
extern TNimType* NTI123969; /* TCandidate */
extern TY50548* Systemmodule_98004;
extern NI Intsize_46578;
extern NI Floatsize_46579;
extern NI Ptrsize_46580;
extern NI Gid_50693;
extern NU32 Goptions_41077;
extern TY101045 Gincludefile_101048;
extern NU32 Gglobaloptions_41079;
extern NI Gerrormax_42568;
extern TSafePoint* excHandler;
extern TNimType* NTI42540; /* ERecoverableError */
extern E_Base* Currexception_5032;
N_NIMCALL(void, Markused_122065)(TY50526* N_122067, TY50548* S_122068) {
(*S_122068).Flags |=(1<<((NI32)(((NU8) 0))%(sizeof(NI32)*8)));
if (!(((*S_122068).Flags &(1<<((((NU8) 22))&31)))!=0)) goto LA2;
Message_43149((*N_122067).Info, ((NU8) 214), (*(*S_122068).Name).S);
LA2: ;
}
N_NIMCALL(TY50526*, Symchoice_122533)(TY103012* C_122535, TY50526* N_122536, TY50548* S_122537) {
TY50526* Result_122538;
TY50548* A_122539;
TY104004 O_122540;
NI I_122541;
TY50552* LOC5;
TY50526* LOC7;
Result_122538 = 0;
A_122539 = 0;
memset((void*)&O_122540, 0, sizeof(O_122540));
I_122541 = 0;
I_122541 = 0;
A_122539 = Initoverloaditer_104745(&O_122540, C_122535, N_122536);
while (1) {
if (!!((A_122539 == NIM_NIL))) goto LA1;
A_122539 = Nextoverloaditer_105074(&O_122540, C_122535, N_122536);
I_122541 += 1;
} LA1: ;
if (!(I_122541 <= 1)) goto LA3;
Result_122538 = Newsymnode_50735(S_122537);
(*Result_122538).Info = (*N_122536).Info;
Markused_122065(N_122536, S_122537);
goto LA2;
LA3: ;
LOC5 = 0;
LOC5 = Newtypes_103077(((NU8) 0), C_122535);
Result_122538 = Newnodeit_50742(((NU8) 46), (*N_122536).Info, LOC5);
A_122539 = Initoverloaditer_104745(&O_122540, C_122535, N_122536);
while (1) {
if (!!((A_122539 == NIM_NIL))) goto LA6;
LOC7 = 0;
LOC7 = Newsymnode_50735(A_122539);
Addson_50824(Result_122538, LOC7);
A_122539 = Nextoverloaditer_105074(&O_122540, C_122535, N_122536);
} LA6: ;
LA2: ;
return Result_122538;
}
static N_INLINE(NI, Atomicinc_3221)(NI* Memloc_3224, NI X_3225) {
NI Result_7807;
Result_7807 = 0;
(*Memloc_3224) += X_3225;
Result_7807 = (*Memloc_3224);
return Result_7807;
}
static N_INLINE(NIM_BOOL, Canbecycleroot_11416)(TY10602* C_11418) {
NIM_BOOL Result_11419;
Result_11419 = 0;
Result_11419 = !((((*(*C_11418).Typ).flags &(1<<((((NU8) 1))&7)))!=0));
return Result_11419;
}
static N_INLINE(void, Rtladdcycleroot_12052)(TY10602* C_12054) {
Incl_10880(&Gch_11014.Cycleroots, C_12054);
}
static N_INLINE(void, Incref_13002)(TY10602* C_13004) {
NI LOC1;
NIM_BOOL LOC3;
LOC1 = Atomicinc_3221(&(*C_13004).Refcount, 8);
LOC3 = Canbecycleroot_11416(C_13004);
if (!LOC3) goto LA4;
Rtladdcycleroot_12052(C_13004);
LA4: ;
}
static N_INLINE(TY10602*, Usrtocell_11412)(void* Usr_11414) {
TY10602* Result_11415;
Result_11415 = 0;
Result_11415 = ((TY10602*) ((NI32)((NU32)(((NI) (Usr_11414))) - (NU32)(((NI) (((NI)sizeof(TY10602))))))));
return Result_11415;
}
static N_INLINE(NI, Atomicdec_3226)(NI* Memloc_3229, NI X_3230) {
NI Result_8006;
Result_8006 = 0;
(*Memloc_3229) -= X_3230;
Result_8006 = (*Memloc_3229);
return Result_8006;
}
static N_INLINE(void, Rtladdzct_12401)(TY10602* C_12403) {
Addzct_11401(&Gch_11014.Zct, C_12403);
}
static N_INLINE(void, Decref_12801)(TY10602* C_12803) {
NI LOC2;
NIM_BOOL LOC5;
LOC2 = Atomicdec_3226(&(*C_12803).Refcount, 8);
if (!((NU32)(LOC2) < (NU32)(8))) goto LA3;
Rtladdzct_12401(C_12803);
goto LA1;
LA3: ;
LOC5 = Canbecycleroot_11416(C_12803);
if (!LOC5) goto LA6;
Rtladdcycleroot_12052(C_12803);
goto LA1;
LA6: ;
LA1: ;
}
static N_INLINE(void, asgnRef)(void** Dest_13014, void* Src_13015) {
TY10602* LOC4;
TY10602* LOC8;
if (!!((Src_13015 == NIM_NIL))) goto LA2;
LOC4 = Usrtocell_11412(Src_13015);
Incref_13002(LOC4);
LA2: ;
if (!!(((*Dest_13014) == NIM_NIL))) goto LA6;
LOC8 = Usrtocell_11412((*Dest_13014));
Decref_12801(LOC8);
LA6: ;
(*Dest_13014) = Src_13015;
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13018, void* Src_13019) {
TY10602* C_13020;
NI LOC4;
TY10602* C_13022;
NI LOC9;
if (!!((Src_13019 == NIM_NIL))) goto LA2;
C_13020 = 0;
C_13020 = Usrtocell_11412(Src_13019);
LOC4 = Atomicinc_3221(&(*C_13020).Refcount, 8);
LA2: ;
if (!!(((*Dest_13018) == NIM_NIL))) goto LA6;
C_13022 = 0;
C_13022 = Usrtocell_11412((*Dest_13018));
LOC9 = Atomicdec_3226(&(*C_13022).Refcount, 8);
if (!((NU32)(LOC9) < (NU32)(8))) goto LA10;
Rtladdzct_12401(C_13022);
LA10: ;
LA6: ;
(*Dest_13018) = Src_13019;
}
N_NIMCALL(TY49011*, Consideracc_122003)(TY50526* N_122005) {
TY49011* Result_122006;
TY50526* X_122007;
NimStringDesc* LOC4;
Result_122006 = 0;
X_122007 = 0;
X_122007 = N_122005;
if (!((*X_122007).Kind == ((NU8) 43))) goto LA2;
X_122007 = (*X_122007).KindU.S6.Sons->data[0];
LA2: ;
switch ((*X_122007).Kind) {
case ((NU8) 2):
Result_122006 = (*X_122007).KindU.S5.Ident;
break;
case ((NU8) 3):
Result_122006 = (*(*X_122007).KindU.S4.Sym).Name;
break;
default:
LOC4 = 0;
LOC4 = Rendertree_81042(N_122005, 0);
Globalerror_43139((*N_122005).Info, ((NU8) 19), LOC4);
Result_122006 = NIM_NIL;
break;
}
return Result_122006;
}
N_NIMCALL(NIM_BOOL, Istypeexpr_132993)(TY50526* N_132995) {
NIM_BOOL Result_132996;
Result_132996 = 0;
switch ((*N_132995).Kind) {
case ((NU8) 4):
case ((NU8) 110):
Result_132996 = NIM_TRUE;
break;
case ((NU8) 3):
Result_132996 = ((*(*N_132995).KindU.S4.Sym).Kind == ((NU8) 7));
break;
default:
Result_132996 = NIM_FALSE;
break;
}
return Result_132996;
}
static N_INLINE(NI, Sonslen_50804)(TY50526* N_50806) {
NI Result_51880;
Result_51880 = 0;
if (!(*N_50806).KindU.S6.Sons == 0) goto LA2;
Result_51880 = 0;
goto LA1;
LA2: ;
Result_51880 = (*N_50806).KindU.S6.Sons->Sup.len;
LA1: ;
return Result_51880;
}
static N_INLINE(TY50526*, Lastson_50810)(TY50526* N_50812) {
TY50526* Result_52841;
NI LOC1;
Result_52841 = 0;
LOC1 = Sonslen_50804(N_50812);
Result_52841 = (*N_50812).KindU.S6.Sons->data[(NI32)(LOC1 - 1)];
return Result_52841;
}
N_NIMCALL(TY50548*, Lookupinrecordandbuildcheck_133018)(TY103012* C_133020, TY50526* N_133021, TY50526* R_133022, TY49011* Field_133023, TY50526** Check_133025) {
TY50548* Result_133026;
TY50526* S_133027;
TY50526* It_133028;
TY50526* Inexpr_133029;
TY50526* Notexpr_133030;
NI I_133039;
NI HEX3Atmp_142786;
NI LOC1;
NI Res_142788;
NI I_133115;
NI HEX3Atmp_142795;
NI LOC12;
NI Res_142797;
TY50526* LOC14;
NI J_133147;
NI HEX3Atmp_142789;
NI LOC18;
NI Res_142791;
TY50526* LOC20;
NI J_133179;
NI HEX3Atmp_142792;
NI LOC24;
NI Res_142794;
TY50526* LOC26;
TY49011* LOC27;
TY50526* LOC28;
TY50526* LOC29;
TY50526* LOC30;
TY50526* LOC31;
TY49011* LOC38;
TY50526* LOC39;
TY50526* LOC40;
TY49011* LOC41;
TY50526* LOC42;
TY50526* LOC43;
Result_133026 = 0;
S_133027 = 0;
It_133028 = 0;
Inexpr_133029 = 0;
Notexpr_133030 = 0;
Result_133026 = NIM_NIL;
switch ((*R_133022).Kind) {
case ((NU8) 113):
I_133039 = 0;
HEX3Atmp_142786 = 0;
LOC1 = Sonslen_50804(R_133022);
HEX3Atmp_142786 = (NI32)(LOC1 - 1);
Res_142788 = 0;
Res_142788 = 0;
while (1) {
if (!(Res_142788 <= HEX3Atmp_142786)) goto LA2;
I_133039 = Res_142788;
Result_133026 = Lookupinrecordandbuildcheck_133018(C_133020, N_133021, (*R_133022).KindU.S6.Sons->data[I_133039], Field_133023, Check_133025);
if (!!((Result_133026 == NIM_NIL))) goto LA4;
goto BeforeRet;
LA4: ;
Res_142788 += 1;
} LA2: ;
break;
case ((NU8) 114):
Checkminsonslen_103413(R_133022, 2);
if (!!(((*(*R_133022).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA7;
Illformedast_103403(R_133022);
LA7: ;
Result_133026 = Lookupinrecordandbuildcheck_133018(C_133020, N_133021, (*R_133022).KindU.S6.Sons->data[0], Field_133023, Check_133025);
if (!!((Result_133026 == NIM_NIL))) goto LA10;
goto BeforeRet;
LA10: ;
S_133027 = Newnodei_50738(((NU8) 31), (*R_133022).Info);
I_133115 = 0;
HEX3Atmp_142795 = 0;
LOC12 = Sonslen_50804(R_133022);
HEX3Atmp_142795 = (NI32)(LOC12 - 1);
Res_142797 = 0;
Res_142797 = 1;
while (1) {
if (!(Res_142797 <= HEX3Atmp_142795)) goto LA13;
I_133115 = Res_142797;
It_133028 = (*R_133022).KindU.S6.Sons->data[I_133115];
switch ((*It_133028).Kind) {
case ((NU8) 75):
LOC14 = 0;
LOC14 = Lastson_50810(It_133028);
Result_133026 = Lookupinrecordandbuildcheck_133018(C_133020, N_133021, LOC14, Field_133023, Check_133025);
if (!(Result_133026 == NIM_NIL)) goto LA16;
J_133147 = 0;
HEX3Atmp_142789 = 0;
LOC18 = Sonslen_50804(It_133028);
HEX3Atmp_142789 = (NI32)(LOC18 - 2);
Res_142791 = 0;
Res_142791 = 0;
while (1) {
if (!(Res_142791 <= HEX3Atmp_142789)) goto LA19;
J_133147 = Res_142791;
LOC20 = 0;
LOC20 = Copytree_50852((*It_133028).KindU.S6.Sons->data[J_133147]);
Addson_50824(S_133027, LOC20);
Res_142791 += 1;
} LA19: ;
goto LA15;
LA16: ;
if (!((*Check_133025) == NIM_NIL)) goto LA22;
unsureAsgnRef((void**) &(*Check_133025), Newnodei_50738(((NU8) 37), (*N_133021).Info));
Addson_50824((*Check_133025), Emptynode_50858);
LA22: ;
S_133027 = Newnodei_50738(((NU8) 31), (*N_133021).Info);
J_133179 = 0;
HEX3Atmp_142792 = 0;
LOC24 = Sonslen_50804(It_133028);
HEX3Atmp_142792 = (NI32)(LOC24 - 2);
Res_142794 = 0;
Res_142794 = 0;
while (1) {
if (!(Res_142794 <= HEX3Atmp_142792)) goto LA25;
J_133179 = Res_142794;
LOC26 = 0;
LOC26 = Copytree_50852((*It_133028).KindU.S6.Sons->data[J_133179]);
Addson_50824(S_133027, LOC26);
Res_142794 += 1;
} LA25: ;
Inexpr_133029 = Newnodei_50738(((NU8) 21), (*N_133021).Info);
LOC27 = 0;
LOC27 = Getident_49016(((NimStringDesc*) &TMP192068));
LOC28 = 0;
LOC28 = Newidentnode_50731(LOC27, (*N_133021).Info);
Addson_50824(Inexpr_133029, LOC28);
LOC29 = 0;
LOC29 = Copytree_50852((*R_133022).KindU.S6.Sons->data[0]);
Addson_50824(Inexpr_133029, LOC29);
Addson_50824(Inexpr_133029, S_133027);
LOC30 = 0;
LOC30 = Semexpr_122115(C_133020, Inexpr_133029, 0);
Addson_50824((*Check_133025), LOC30);
goto BeforeRet;
LA15: ;
break;
case ((NU8) 78):
LOC31 = 0;
LOC31 = Lastson_50810(It_133028);
Result_133026 = Lookupinrecordandbuildcheck_133018(C_133020, N_133021, LOC31, Field_133023, Check_133025);
if (!!((Result_133026 == NIM_NIL))) goto LA33;
if (!((*Check_133025) == NIM_NIL)) goto LA36;
unsureAsgnRef((void**) &(*Check_133025), Newnodei_50738(((NU8) 37), (*N_133021).Info));
Addson_50824((*Check_133025), Emptynode_50858);
LA36: ;
Inexpr_133029 = Newnodei_50738(((NU8) 21), (*N_133021).Info);
LOC38 = 0;
LOC38 = Getident_49016(((NimStringDesc*) &TMP192068));
LOC39 = 0;
LOC39 = Newidentnode_50731(LOC38, (*N_133021).Info);
Addson_50824(Inexpr_133029, LOC39);
LOC40 = 0;
LOC40 = Copytree_50852((*R_133022).KindU.S6.Sons->data[0]);
Addson_50824(Inexpr_133029, LOC40);
Addson_50824(Inexpr_133029, S_133027);
Notexpr_133030 = Newnodei_50738(((NU8) 21), (*N_133021).Info);
LOC41 = 0;
LOC41 = Getident_49016(((NimStringDesc*) &TMP192069));
LOC42 = 0;
LOC42 = Newidentnode_50731(LOC41, (*N_133021).Info);
Addson_50824(Notexpr_133030, LOC42);
Addson_50824(Notexpr_133030, Inexpr_133029);
LOC43 = 0;
LOC43 = Semexpr_122115(C_133020, Notexpr_133030, 0);
Addson_50824((*Check_133025), LOC43);
goto BeforeRet;
LA33: ;
break;
default:
Illformedast_103403(It_133028);
break;
}
Res_142797 += 1;
} LA13: ;
break;
case ((NU8) 3):
if (!((*(*(*R_133022).KindU.S4.Sym).Name).Sup.Id == (*Field_133023).Sup.Id)) goto LA45;
Result_133026 = (*R_133022).KindU.S4.Sym;
LA45: ;
break;
default:
Illformedast_103403(N_133021);
break;
}
BeforeRet: ;
return Result_133026;
}
N_NIMCALL(TY50526*, Makederef_133264)(TY50526* N_133266) {
TY50526* Result_133267;
TY50552* T_133269;
TY50526* A_133292;
Result_133267 = 0;
T_133269 = 0;
T_133269 = Skiptypes_93087((*N_133266).Typ, 2048);
Result_133267 = N_133266;
if (!((*T_133269).Kind == ((NU8) 23))) goto LA2;
Result_133267 = Newnodeit_50742(((NU8) 54), (*N_133266).Info, (*T_133269).Sons->data[0]);
Addson_50824(Result_133267, N_133266);
T_133269 = Skiptypes_93087((*T_133269).Sons->data[0], 2048);
LA2: ;
if (!((*T_133269).Kind == ((NU8) 21) || (*T_133269).Kind == ((NU8) 22))) goto LA5;
A_133292 = 0;
A_133292 = Result_133267;
Result_133267 = Newnodeit_50742(((NU8) 38), (*N_133266).Info, (*T_133269).Sons->data[0]);
Addson_50824(Result_133267, A_133292);
LA5: ;
return Result_133267;
}
N_NIMCALL(TY50526*, Builtinfieldaccess_133293)(TY103012* C_133295, TY50526* N_133296, NU8 Flags_133297) {
TY50526* Result_133298;
TY50548* S_133300;
TY49011* I_133359;
TY50552* Ty_133372;
TY50548* F_133373;
NIM_BOOL LOC14;
TY50526* Check_133464;
NIM_BOOL LOC32;
TY50548* LOC34;
NIM_BOOL LOC40;
Result_133298 = 0;
S_133300 = 0;
S_133300 = Qualifiedlookup_104322(C_133295, N_133296, 3);
if (!!((S_133300 == NIM_NIL))) goto LA2;
Result_133298 = Semsym_130006(C_133295, N_133296, S_133300, Flags_133297);
goto BeforeRet;
LA2: ;
Checksonslen_103407(N_133296, 2);
asgnRefNoCycle((void**) &(*N_133296).KindU.S6.Sons->data[0], Semexprwithtype_122122(C_133295, (*N_133296).KindU.S6.Sons->data[0], (1 | Flags_133297)));
I_133359 = 0;
I_133359 = Consideracc_122003((*N_133296).KindU.S6.Sons->data[1]);
Ty_133372 = 0;
Ty_133372 = (*(*N_133296).KindU.S6.Sons->data[0]).Typ;
F_133373 = 0;
F_133373 = NIM_NIL;
Result_133298 = NIM_NIL;
if (!((*Ty_133372).Kind == ((NU8) 14))) goto LA5;
while (1) {
if (!!((Ty_133372 == NIM_NIL))) goto LA7;
F_133373 = Getsymfromlist_55189((*Ty_133372).N, I_133359, 0);
if (!!((F_133373 == NIM_NIL))) goto LA9;
goto LA7;
LA9: ;
Ty_133372 = (*Ty_133372).Sons->data[0];
} LA7: ;
if (!!((F_133373 == NIM_NIL))) goto LA12;
Result_133298 = Newsymnode_50735(F_133373);
(*Result_133298).Info = (*N_133296).Info;
asgnRef((void**) &(*Result_133298).Typ, Ty_133372);
Markused_122065(N_133296, F_133373);
goto LA11;
LA12: ;
Globalerror_43139((*(*N_133296).KindU.S6.Sons->data[1]).Info, ((NU8) 166), (*I_133359).S);
LA11: ;
goto BeforeRet;
goto LA4;
LA5: ;
LOC14 = !(((Flags_133297 &(1<<((((NU8) 0))&7)))!=0));
if (!(LOC14)) goto LA15;
LOC14 = Istypeexpr_132993((*N_133296).KindU.S6.Sons->data[0]);
LA15: ;
if (!LOC14) goto LA16;
Globalerror_43139((*(*N_133296).KindU.S6.Sons->data[0]).Info, ((NU8) 161), ((NimStringDesc*) &TMP191995));
goto BeforeRet;
goto LA4;
LA16: ;
LA4: ;
Ty_133372 = Skiptypes_93087(Ty_133372, 14682112);
Check_133464 = 0;
Check_133464 = NIM_NIL;
if (!((*Ty_133372).Kind == ((NU8) 17))) goto LA19;
while (1) {
Check_133464 = NIM_NIL;
F_133373 = Lookupinrecordandbuildcheck_133018(C_133295, N_133296, (*Ty_133372).N, I_133359, &Check_133464);
if (!!((F_133373 == NIM_NIL))) goto LA23;
goto LA21;
LA23: ;
if (!((*Ty_133372).Sons->data[0] == NIM_NIL)) goto LA26;
goto LA21;
LA26: ;
Ty_133372 = Skiptypes_93087((*Ty_133372).Sons->data[0], 2048);
} LA21: ;
if (!!((F_133373 == NIM_NIL))) goto LA29;
LOC32 = !(((6 & (*F_133373).Flags) == 0));
if (LOC32) goto LA33;
LOC34 = 0;
LOC34 = Getmodule_55198(F_133373);
LOC32 = ((*LOC34).Sup.Id == (*(*C_133295).Module).Sup.Id);
LA33: ;
if (!LOC32) goto LA35;
asgnRefNoCycle((void**) &(*N_133296).KindU.S6.Sons->data[0], Makederef_133264((*N_133296).KindU.S6.Sons->data[0]));
asgnRefNoCycle((void**) &(*N_133296).KindU.S6.Sons->data[1], Newsymnode_50735(F_133373));
asgnRef((void**) &(*N_133296).Typ, (*F_133373).Typ);
Markused_122065(N_133296, F_133373);
if (!(Check_133464 == NIM_NIL)) goto LA38;
Result_133298 = N_133296;
goto LA37;
LA38: ;
asgnRefNoCycle((void**) &(*Check_133464).KindU.S6.Sons->data[0], N_133296);
asgnRef((void**) &(*Check_133464).Typ, (*N_133296).Typ);
Result_133298 = Check_133464;
LA37: ;
LA35: ;
LA29: ;
goto LA18;
LA19: ;
LOC40 = ((*Ty_133372).Kind == ((NU8) 18));
if (!(LOC40)) goto LA41;
LOC40 = !(((*Ty_133372).N == NIM_NIL));
LA41: ;
if (!LOC40) goto LA42;
F_133373 = Getsymfromlist_55189((*Ty_133372).N, I_133359, 0);
if (!!((F_133373 == NIM_NIL))) goto LA45;
asgnRefNoCycle((void**) &(*N_133296).KindU.S6.Sons->data[0], Makederef_133264((*N_133296).KindU.S6.Sons->data[0]));
asgnRefNoCycle((void**) &(*N_133296).KindU.S6.Sons->data[1], Newsymnode_50735(F_133373));
asgnRef((void**) &(*N_133296).Typ, (*F_133373).Typ);
Result_133298 = N_133296;
Markused_122065(N_133296, F_133373);
LA45: ;
goto LA18;
LA42: ;
LA18: ;
BeforeRet: ;
return Result_133298;
}
static N_INLINE(TY50526*, HEX5BHEX5D_52062)(TY50526* N_52064, NI I_52065) {
TY50526* Result_52066;
Result_52066 = 0;
Result_52066 = (*N_52064).KindU.S6.Sons->data[I_52065];
return Result_52066;
}
static N_INLINE(void, appendString)(NimStringDesc* Dest_18599, NimStringDesc* Src_18600) {
memcpy(((NCSTRING) (&(*Dest_18599).data[((*Dest_18599).Sup.len)-0])), ((NCSTRING) ((*Src_18600).data)), ((NI32) ((NI32)((NI32)((*Src_18600).Sup.len + 1) * 1))));
(*Dest_18599).Sup.len += (*Src_18600).Sup.len;
}
static N_INLINE(void, appendChar)(NimStringDesc* Dest_18616, NIM_CHAR C_18617) {
(*Dest_18616).data[((*Dest_18616).Sup.len)-0] = C_18617;
(*Dest_18616).data[((NI32)((*Dest_18616).Sup.len + 1))-0] = 0;
(*Dest_18616).Sup.len += 1;
}
static N_INLINE(void, Initcandidateaux_123992)(TY123969* C_123995, TY50552* Callee_123996) {
(*C_123995).Exactmatches = 0;
(*C_123995).Subtypematches = 0;
(*C_123995).Convmatches = 0;
(*C_123995).Intconvmatches = 0;
(*C_123995).Genericmatches = 0;
(*C_123995).State = ((NU8) 0);
unsureAsgnRef((void**) &(*C_123995).Callee, Callee_123996);
unsureAsgnRef((void**) &(*C_123995).Call, NIM_NIL);
(*C_123995).Basetypematch = NIM_FALSE;
}
N_NIMCALL(void, Initcandidate_124003)(TY123969* C_124006, TY50548* Callee_124007, TY50526* Binding_124008) {
TY50526* Typeparams_124021;
NI I_124032;
NI HEX3Atmp_126793;
NI LOC4;
NI LOC5;
NI Res_126795;
TY50552* Formaltypeparam_124045;
TY50526* LOC7;
Initcandidateaux_123992(C_124006, (*Callee_124007).Typ);
unsureAsgnRef((void**) &(*C_124006).Calleesym, Callee_124007);
Initidtable_50755(&(*C_124006).Bindings);
if (!!((Binding_124008 == NIM_NIL))) goto LA2;
Typeparams_124021 = 0;
Typeparams_124021 = HEX5BHEX5D_52062((*Callee_124007).Ast, 1);
I_124032 = 0;
HEX3Atmp_126793 = 0;
LOC4 = Sonslen_50804(Typeparams_124021);
LOC5 = Sonslen_50804(Binding_124008);
HEX3Atmp_126793 = ((LOC4 <= (NI32)(LOC5 - 1)) ? LOC4 : (NI32)(LOC5 - 1));
Res_126795 = 0;
Res_126795 = 1;
while (1) {
if (!(Res_126795 <= HEX3Atmp_126793)) goto LA6;
I_124032 = Res_126795;
Formaltypeparam_124045 = 0;
Formaltypeparam_124045 = (*(*Typeparams_124021).KindU.S6.Sons->data[(NI32)(I_124032 - 1)]).Typ;
LOC7 = 0;
LOC7 = HEX5BHEX5D_52062(Binding_124008, I_124032);
Idtableput_55166(&(*C_124006).Bindings, &Formaltypeparam_124045->Sup, &(*LOC7).Typ->Sup.Sup);
Res_126795 += 1;
} LA6: ;
LA2: ;
}
static N_INLINE(NI, Sonslen_50807)(TY50552* N_50809) {
NI Result_51744;
Result_51744 = 0;
if (!(*N_50809).Sons == 0) goto LA2;
Result_51744 = 0;
goto LA1;
LA2: ;
Result_51744 = (*N_50809).Sons->Sup.len;
LA1: ;
return Result_51744;
}
static N_INLINE(TY50552*, Lastson_50813)(TY50552* N_50815) {
TY50552* Result_52857;
NI LOC1;
Result_52857 = 0;
LOC1 = Sonslen_50807(N_50815);
Result_52857 = (*N_50815).Sons->data[(NI32)(LOC1 - 1)];
return Result_52857;
}
N_NIMCALL(NU8, Handlerange_124275)(TY50552* F_124277, TY50552* A_124278, NU8 Min_124279, NU8 Max_124280) {
NU8 Result_124281;
NU8 K_124292;
TY50552* LOC4;
NIM_BOOL LOC8;
NIM_BOOL LOC12;
Result_124281 = 0;
if (!((*A_124278).Kind == (*F_124277).Kind)) goto LA2;
Result_124281 = ((NU8) 5);
goto LA1;
LA2: ;
K_124292 = 0;
LOC4 = 0;
LOC4 = Skiptypes_93087(A_124278, 1048576);
K_124292 = (*LOC4).Kind;
if (!(K_124292 == (*F_124277).Kind)) goto LA6;
Result_124281 = ((NU8) 3);
goto LA5;
LA6: ;
LOC8 = ((*F_124277).Kind == ((NU8) 31));
if (!(LOC8)) goto LA9;
LOC8 = (K_124292 >= ((NU8) 31) && K_124292 <= ((NU8) 34));
LA9: ;
if (!LOC8) goto LA10;
Result_124281 = ((NU8) 2);
goto LA5;
LA10: ;
LOC12 = (Min_124279 <= K_124292);
if (!(LOC12)) goto LA13;
LOC12 = (K_124292 <= Max_124280);
LA13: ;
if (!LOC12) goto LA14;
Result_124281 = ((NU8) 1);
goto LA5;
LA14: ;
Result_124281 = ((NU8) 0);
LA5: ;
LA1: ;
return Result_124281;
}
N_NIMCALL(NU8, Handlefloatrange_124341)(TY50552* F_124343, TY50552* A_124344) {
NU8 Result_124345;
NU8 K_124356;
TY50552* LOC4;
NIM_BOOL LOC8;
Result_124345 = 0;
if (!((*A_124344).Kind == (*F_124343).Kind)) goto LA2;
Result_124345 = ((NU8) 5);
goto LA1;
LA2: ;
K_124356 = 0;
LOC4 = 0;
LOC4 = Skiptypes_93087(A_124344, 1048576);
K_124356 = (*LOC4).Kind;
if (!(K_124356 == (*F_124343).Kind)) goto LA6;
Result_124345 = ((NU8) 3);
goto LA5;
LA6: ;
LOC8 = (((NU8) 36) <= K_124356);
if (!(LOC8)) goto LA9;
LOC8 = (K_124356 <= ((NU8) 39));
LA9: ;
if (!LOC8) goto LA10;
Result_124345 = ((NU8) 1);
goto LA5;
LA10: ;
Result_124345 = ((NU8) 0);
LA5: ;
LA1: ;
return Result_124345;
}
N_NIMCALL(NU8, Minrel_124414)(NU8 A_124416, NU8 B_124417) {
NU8 Result_124418;
Result_124418 = 0;
if (!(A_124416 <= B_124417)) goto LA2;
Result_124418 = A_124416;
goto LA1;
LA2: ;
Result_124418 = B_124417;
LA1: ;
return Result_124418;
}
N_NIMCALL(NU8, Tuplerel_124428)(TY50564* Mapping_124431, TY50552* F_124432, TY50552* A_124433) {
NU8 Result_124434;
NI LOC2;
NI LOC3;
NI I_124445;
NI HEX3Atmp_126799;
NI LOC6;
NI Res_126801;
NU8 M_124446;
NIM_BOOL LOC12;
NI I_124488;
NI HEX3Atmp_126802;
NI LOC16;
NI Res_126804;
TY50548* X_124555;
TY50548* Y_124580;
Result_124434 = 0;
Result_124434 = ((NU8) 0);
LOC2 = Sonslen_50807(A_124433);
LOC3 = Sonslen_50807(F_124432);
if (!(LOC2 == LOC3)) goto LA4;
Result_124434 = ((NU8) 5);
I_124445 = 0;
HEX3Atmp_126799 = 0;
LOC6 = Sonslen_50807(F_124432);
HEX3Atmp_126799 = (NI32)(LOC6 - 1);
Res_126801 = 0;
Res_126801 = 0;
while (1) {
if (!(Res_126801 <= HEX3Atmp_126799)) goto LA7;
I_124445 = Res_126801;
M_124446 = 0;
M_124446 = Typerel_124244(Mapping_124431, (*F_124432).Sons->data[I_124445], (*A_124433).Sons->data[I_124445]);
if (!(M_124446 < ((NU8) 3))) goto LA9;
Result_124434 = ((NU8) 0);
goto BeforeRet;
LA9: ;
Result_124434 = Minrel_124414(Result_124434, M_124446);
Res_126801 += 1;
} LA7: ;
LOC12 = !(((*F_124432).N == NIM_NIL));
if (!(LOC12)) goto LA13;
LOC12 = !(((*A_124433).N == NIM_NIL));
LA13: ;
if (!LOC12) goto LA14;
I_124488 = 0;
HEX3Atmp_126802 = 0;
LOC16 = Sonslen_50804((*F_124432).N);
HEX3Atmp_126802 = (NI32)(LOC16 - 1);
Res_126804 = 0;
Res_126804 = 0;
while (1) {
if (!(Res_126804 <= HEX3Atmp_126802)) goto LA17;
I_124488 = Res_126804;
if (!!(((*(*(*F_124432).N).KindU.S6.Sons->data[I_124488]).Kind == ((NU8) 3)))) goto LA19;
Internalerror_43159((*(*F_124432).N).Info, ((NimStringDesc*) &TMP192071));
LA19: ;
if (!!(((*(*(*A_124433).N).KindU.S6.Sons->data[I_124488]).Kind == ((NU8) 3)))) goto LA22;
Internalerror_43159((*(*A_124433).N).Info, ((NimStringDesc*) &TMP192071));
LA22: ;
X_124555 = 0;
X_124555 = (*(*(*F_124432).N).KindU.S6.Sons->data[I_124488]).KindU.S4.Sym;
Y_124580 = 0;
Y_124580 = (*(*(*A_124433).N).KindU.S6.Sons->data[I_124488]).KindU.S4.Sym;
if (!!(((*(*X_124555).Name).Sup.Id == (*(*Y_124580).Name).Sup.Id))) goto LA25;
Result_124434 = ((NU8) 0);
goto BeforeRet;
LA25: ;
Res_126804 += 1;
} LA17: ;
LA14: ;
LA4: ;
BeforeRet: ;
return Result_124434;
}
N_NIMCALL(NIM_BOOL, Isobjectsubtype_124384)(TY50552* A_124386, TY50552* F_124387) {
NIM_BOOL Result_124388;
TY50552* T_124389;
NIM_BOOL LOC2;
Result_124388 = 0;
T_124389 = 0;
T_124389 = A_124386;
while (1) {
LOC2 = !((T_124389 == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC2 = !(((*T_124389).Sup.Id == (*F_124387).Sup.Id));
LA3: ;
if (!LOC2) goto LA1;
T_124389 = Base_93021(T_124389);
} LA1: ;
Result_124388 = !((T_124389 == NIM_NIL));
return Result_124388;
}
N_NIMCALL(TY50552*, Concretetype_124250)(TY50564 Mapping_124252, TY50552* T_124253) {
TY50552* Result_124254;
TNimObject* LOC2;
Result_124254 = 0;
switch ((*T_124253).Kind) {
case ((NU8) 4):
Result_124254 = Newtype_50707(((NU8) 16), (*T_124253).Owner);
Addson_50828(Result_124254, (*T_124253).Sons->data[0]);
Addson_50828(Result_124254, (*T_124253).Sons->data[1]);
break;
case ((NU8) 5):
Result_124254 = NIM_NIL;
break;
case ((NU8) 12):
Result_124254 = T_124253;
while (1) {
LOC2 = 0;
LOC2 = Idtableget_55158(Mapping_124252, &T_124253->Sup);
Result_124254 = ((TY50552*) (LOC2));
if (!(Result_124254 == NIM_NIL)) goto LA4;
Internalerror_43163(((NimStringDesc*) &TMP192074));
LA4: ;
if (!!(((*Result_124254).Kind == ((NU8) 12)))) goto LA7;
goto LA1;
LA7: ;
} LA1: ;
break;
default:
Result_124254 = T_124253;
break;
}
return Result_124254;
}
N_NIMCALL(NU8, Typerel_124244)(TY50564* Mapping_124247, TY50552* F_124248, TY50552* A_124249) {
NU8 Result_124589;
TY50552* X_124590;
TY50552* Concrete_124591;
NU8 M_124592;
NIM_BOOL LOC2;
TY50552* LOC4;
TY50552* LOC7;
NIM_BOOL LOC9;
NIM_BOOL LOC14;
TY50552* LOC18;
TY50552* LOC24;
TY50552* LOC30;
TY50552* LOC31;
TY50552* LOC35;
TY50552* LOC41;
TY50552* LOC42;
TY50552* LOC43;
NU8 LOC44;
NU8 LOC45;
NIM_BOOL LOC53;
NI64 LOC55;
NI64 LOC56;
NU8 LOC61;
TY50552* LOC62;
TY50552* LOC63;
NIM_BOOL LOC68;
TY50552* LOC72;
NU8 LOC73;
NIM_BOOL LOC77;
TY50552* LOC81;
NU8 LOC82;
NIM_BOOL LOC86;
TY50552* LOC90;
NU8 LOC91;
NIM_BOOL LOC95;
NIM_BOOL LOC103;
NIM_BOOL LOC124;
NIM_BOOL LOC128;
NIM_BOOL LOC136;
TY50552* LOC143;
TY50552* LOC144;
TY50552* LOC148;
TY50552* LOC149;
NIM_BOOL LOC154;
NI LOC155;
NI LOC156;
NI I_125025;
NI HEX3Atmp_126805;
NI LOC160;
NI Res_126807;
NIM_BOOL LOC163;
NU8 LOC165;
NIM_BOOL LOC184;
NIM_BOOL LOC192;
NIM_BOOL LOC193;
NI64 LOC194;
TY50552* LOC196;
TY50552* LOC203;
TY50552* LOC204;
NIM_BOOL LOC212;
NI LOC214;
NI LOC215;
NI I_125220;
NI HEX3Atmp_126808;
NI LOC218;
NI Res_126810;
NU8 LOC224;
NI I_125258;
NI HEX3Atmp_126811;
NI LOC230;
NI Res_126813;
TNimObject* LOC232;
NIM_BOOL LOC234;
TNimObject* LOC238;
NI LOC243;
NimStringDesc* LOC249;
NI I_125311;
NI HEX3Atmp_126814;
NI LOC250;
NI Res_126816;
NU8 LOC253;
NimStringDesc* LOC266;
Result_124589 = 0;
X_124590 = 0;
Concrete_124591 = 0;
M_124592 = 0;
Result_124589 = ((NU8) 0);
LOC2 = ((*A_124249).Kind == ((NU8) 11));
if (!(LOC2)) goto LA3;
LOC4 = 0;
LOC4 = Skiptypes_93087(F_124248, 8388608);
LOC2 = !(((*LOC4).Kind == ((NU8) 10) || (*LOC4).Kind == ((NU8) 9)));
LA3: ;
if (!LOC2) goto LA5;
LOC7 = 0;
LOC7 = Lastson_50813(A_124249);
Result_124589 = Typerel_124244(Mapping_124247, F_124248, LOC7);
goto BeforeRet;
LA5: ;
LOC9 = ((*A_124249).Kind == ((NU8) 23));
if (!(LOC9)) goto LA10;
LOC9 = !(((*F_124248).Kind == ((NU8) 23)));
LA10: ;
if (!LOC9) goto LA11;
Result_124589 = Typerel_124244(Mapping_124247, F_124248, (*A_124249).Sons->data[0]);
goto BeforeRet;
LA11: ;
switch ((*F_124248).Kind) {
case ((NU8) 14):
LOC14 = ((*A_124249).Kind == (*F_124248).Kind);
if (!(LOC14)) goto LA15;
LOC14 = ((*A_124249).Sup.Id == (*F_124248).Sup.Id);
LA15: ;
if (!LOC14) goto LA16;
Result_124589 = ((NU8) 5);
goto LA13;
LA16: ;
LOC18 = 0;
LOC18 = Skiptypes_93087(A_124249, 1048576);
if (!((*LOC18).Sup.Id == (*F_124248).Sup.Id)) goto LA19;
Result_124589 = ((NU8) 3);
goto LA13;
LA19: ;
LA13: ;
break;
case ((NU8) 1):
case ((NU8) 2):
if (!((*A_124249).Kind == (*F_124248).Kind)) goto LA22;
Result_124589 = ((NU8) 5);
goto LA21;
LA22: ;
LOC24 = 0;
LOC24 = Skiptypes_93087(A_124249, 1048576);
if (!((*LOC24).Kind == (*F_124248).Kind)) goto LA25;
Result_124589 = ((NU8) 3);
goto LA21;
LA25: ;
LA21: ;
break;
case ((NU8) 20):
if (!((*A_124249).Kind == (*F_124248).Kind)) goto LA28;
LOC30 = 0;
LOC30 = Base_93021(A_124249);
LOC31 = 0;
LOC31 = Base_93021(F_124248);
Result_124589 = Typerel_124244(Mapping_124247, LOC30, LOC31);
if (!(Result_124589 < ((NU8) 4))) goto LA33;
Result_124589 = ((NU8) 0);
LA33: ;
goto LA27;
LA28: ;
LOC35 = 0;
LOC35 = Skiptypes_93087(F_124248, 1048576);
if (!((*LOC35).Kind == (*A_124249).Kind)) goto LA36;
Result_124589 = ((NU8) 1);
goto LA27;
LA36: ;
LA27: ;
break;
case ((NU8) 31):
Result_124589 = Handlerange_124275(F_124248, A_124249, ((NU8) 32), ((NU8) 34));
break;
case ((NU8) 32):
Result_124589 = Handlerange_124275(F_124248, A_124249, ((NU8) 32), ((NU8) 32));
break;
case ((NU8) 33):
Result_124589 = Handlerange_124275(F_124248, A_124249, ((NU8) 32), ((NU8) 33));
break;
case ((NU8) 34):
Result_124589 = Handlerange_124275(F_124248, A_124249, ((NU8) 31), ((NU8) 34));
break;
case ((NU8) 35):
Result_124589 = Handlerange_124275(F_124248, A_124249, ((NU8) 31), ((NU8) 35));
break;
case ((NU8) 36):
Result_124589 = Handlefloatrange_124341(F_124248, A_124249);
break;
case ((NU8) 37):
Result_124589 = Handlefloatrange_124341(F_124248, A_124249);
break;
case ((NU8) 38):
Result_124589 = Handlefloatrange_124341(F_124248, A_124249);
break;
case ((NU8) 39):
Result_124589 = Handlefloatrange_124341(F_124248, A_124249);
break;
case ((NU8) 23):
if (!((*A_124249).Kind == (*F_124248).Kind)) goto LA39;
LOC41 = 0;
LOC41 = Base_93021(F_124248);
LOC42 = 0;
LOC42 = Base_93021(A_124249);
Result_124589 = Typerel_124244(Mapping_124247, LOC41, LOC42);
goto LA38;
LA39: ;
LOC43 = 0;
LOC43 = Base_93021(F_124248);
Result_124589 = Typerel_124244(Mapping_124247, LOC43, A_124249);
LA38: ;
break;
case ((NU8) 16):
case ((NU8) 4):
switch ((*A_124249).Kind) {
case ((NU8) 16):
LOC44 = Typerel_124244(Mapping_124247, (*F_124248).Sons->data[0], (*A_124249).Sons->data[0]);
LOC45 = Typerel_124244(Mapping_124247, (*F_124248).Sons->data[1], (*A_124249).Sons->data[1]);
Result_124589 = Minrel_124414(LOC44, LOC45);
if (!(Result_124589 < ((NU8) 4))) goto LA47;
Result_124589 = ((NU8) 0);
LA47: ;
break;
case ((NU8) 4):
Result_124589 = Typerel_124244(Mapping_124247, (*F_124248).Sons->data[1], (*A_124249).Sons->data[1]);
if (!(Result_124589 < ((NU8) 4))) goto LA50;
Result_124589 = ((NU8) 0);
goto LA49;
LA50: ;
LOC53 = !((Result_124589 == ((NU8) 4)));
if (!(LOC53)) goto LA54;
LOC55 = Lengthord_93007(F_124248);
LOC56 = Lengthord_93007(A_124249);
LOC53 = !((LOC55 == LOC56));
LA54: ;
if (!LOC53) goto LA57;
Result_124589 = ((NU8) 0);
goto LA52;
LA57: ;
if (!((*(*F_124248).Sons->data[0]).Kind == ((NU8) 9) || (*(*F_124248).Sons->data[0]).Kind == ((NU8) 10) || (*(*F_124248).Sons->data[0]).Kind == ((NU8) 12))) goto LA59;
LOC61 = Typerel_124244(Mapping_124247, (*F_124248).Sons->data[0], (*A_124249).Sons->data[0]);
Result_124589 = Minrel_124414(Result_124589, LOC61);
goto LA52;
LA59: ;
LA52: ;
LA49: ;
break;
default:
break;
}
break;
case ((NU8) 27):
switch ((*A_124249).Kind) {
case ((NU8) 27):
LOC62 = 0;
LOC62 = Base_93021(F_124248);
LOC63 = 0;
LOC63 = Base_93021(A_124249);
Result_124589 = Typerel_124244(Mapping_124247, LOC62, LOC63);
if (!(Result_124589 < ((NU8) 4))) goto LA65;
Result_124589 = ((NU8) 0);
LA65: ;
break;
case ((NU8) 4):
LOC68 = !(((*(*F_124248).Sons->data[0]).Kind == ((NU8) 12)));
if (!(LOC68)) goto LA69;
LOC68 = ((*(*A_124249).Sons->data[1]).Kind == ((NU8) 3));
LA69: ;
if (!LOC68) goto LA70;
Result_124589 = ((NU8) 3);
goto LA67;
LA70: ;
LOC72 = 0;
LOC72 = Base_93021(F_124248);
LOC73 = Typerel_124244(Mapping_124247, LOC72, (*A_124249).Sons->data[1]);
if (!(((NU8) 4) <= LOC73)) goto LA74;
Result_124589 = ((NU8) 3);
goto LA67;
LA74: ;
LA67: ;
break;
case ((NU8) 16):
LOC77 = !(((*(*F_124248).Sons->data[0]).Kind == ((NU8) 12)));
if (!(LOC77)) goto LA78;
LOC77 = ((*(*A_124249).Sons->data[1]).Kind == ((NU8) 3));
LA78: ;
if (!LOC77) goto LA79;
Result_124589 = ((NU8) 3);
goto LA76;
LA79: ;
LOC81 = 0;
LOC81 = Base_93021(F_124248);
LOC82 = Typerel_124244(Mapping_124247, LOC81, (*A_124249).Sons->data[1]);
if (!(((NU8) 4) <= LOC82)) goto LA83;
Result_124589 = ((NU8) 1);
goto LA76;
LA83: ;
LA76: ;
break;
case ((NU8) 24):
LOC86 = !(((*(*F_124248).Sons->data[0]).Kind == ((NU8) 12)));
if (!(LOC86)) goto LA87;
LOC86 = ((*(*A_124249).Sons->data[0]).Kind == ((NU8) 3));
LA87: ;
if (!LOC86) goto LA88;
Result_124589 = ((NU8) 1);
goto LA85;
LA88: ;
LOC90 = 0;
LOC90 = Base_93021(F_124248);
LOC91 = Typerel_124244(Mapping_124247, LOC90, (*A_124249).Sons->data[0]);
if (!(((NU8) 4) <= LOC91)) goto LA92;
Result_124589 = ((NU8) 1);
goto LA85;
LA92: ;
LA85: ;
break;
default:
break;
}
break;
case ((NU8) 24):
switch ((*A_124249).Kind) {
case ((NU8) 5):
Result_124589 = ((NU8) 3);
break;
case ((NU8) 24):
LOC95 = !(((*(*F_124248).Sons->data[0]).Kind == ((NU8) 12)));
if (!(LOC95)) goto LA96;
LOC95 = ((*(*A_124249).Sons->data[0]).Kind == ((NU8) 3));
LA96: ;
if (!LOC95) goto LA97;
Result_124589 = ((NU8) 3);
goto LA94;
LA97: ;
Result_124589 = Typerel_124244(Mapping_124247, (*F_124248).Sons->data[0], (*A_124249).Sons->data[0]);
if (!(Result_124589 < ((NU8) 4))) goto LA100;
Result_124589 = ((NU8) 0);
LA100: ;
LA94: ;
break;
default:
break;
}
break;
case ((NU8) 15):
LOC103 = Isordinaltype_93069(A_124249);
if (!LOC103) goto LA104;
if (!((*A_124249).Kind == ((NU8) 15))) goto LA107;
X_124590 = (*A_124249).Sons->data[0];
goto LA106;
LA107: ;
X_124590 = A_124249;
LA106: ;
Result_124589 = Typerel_124244(Mapping_124247, (*F_124248).Sons->data[0], X_124590);
if (!(Result_124589 < ((NU8) 4))) goto LA110;
Result_124589 = ((NU8) 0);
LA110: ;
LA104: ;
break;
case ((NU8) 30):
Internalerror_43163(((NimStringDesc*) &TMP192070));
break;
case ((NU8) 5):
if (!((*A_124249).Kind == (*F_124248).Kind)) goto LA113;
Result_124589 = ((NU8) 5);
LA113: ;
break;
case ((NU8) 18):
if (!((*A_124249).Kind == ((NU8) 18))) goto LA116;
Result_124589 = Tuplerel_124428(Mapping_124247, F_124248, A_124249);
LA116: ;
break;
case ((NU8) 17):
if (!((*A_124249).Kind == ((NU8) 17))) goto LA119;
if (!((*A_124249).Sup.Id == (*F_124248).Sup.Id)) goto LA122;
Result_124589 = ((NU8) 5);
goto LA121;
LA122: ;
LOC124 = Isobjectsubtype_124384(A_124249, F_124248);
if (!LOC124) goto LA125;
Result_124589 = ((NU8) 3);
goto LA121;
LA125: ;
LA121: ;
LA119: ;
break;
case ((NU8) 13):
LOC128 = ((*A_124249).Kind == ((NU8) 13));
if (!(LOC128)) goto LA129;
LOC128 = ((*A_124249).Sup.Id == (*F_124248).Sup.Id);
LA129: ;
if (!LOC128) goto LA130;
Result_124589 = ((NU8) 5);
LA130: ;
break;
case ((NU8) 19):
if (!((*A_124249).Kind == ((NU8) 19))) goto LA133;
LOC136 = !(((*(*F_124248).Sons->data[0]).Kind == ((NU8) 12)));
if (!(LOC136)) goto LA137;
LOC136 = ((*(*A_124249).Sons->data[0]).Kind == ((NU8) 3));
LA137: ;
if (!LOC136) goto LA138;
Result_124589 = ((NU8) 3);
goto LA135;
LA138: ;
Result_124589 = Typerel_124244(Mapping_124247, (*F_124248).Sons->data[0], (*A_124249).Sons->data[0]);
if (!(Result_124589 <= ((NU8) 1))) goto LA141;
Result_124589 = ((NU8) 0);
LA141: ;
LA135: ;
LA133: ;
break;
case ((NU8) 21):
switch ((*A_124249).Kind) {
case ((NU8) 21):
LOC143 = 0;
LOC143 = Base_93021(F_124248);
LOC144 = 0;
LOC144 = Base_93021(A_124249);
Result_124589 = Typerel_124244(Mapping_124247, LOC143, LOC144);
if (!(Result_124589 <= ((NU8) 1))) goto LA146;
Result_124589 = ((NU8) 0);
LA146: ;
break;
case ((NU8) 5):
Result_124589 = ((NU8) 3);
break;
default:
break;
}
break;
case ((NU8) 22):
switch ((*A_124249).Kind) {
case ((NU8) 22):
LOC148 = 0;
LOC148 = Base_93021(F_124248);
LOC149 = 0;
LOC149 = Base_93021(A_124249);
Result_124589 = Typerel_124244(Mapping_124247, LOC148, LOC149);
if (!(Result_124589 <= ((NU8) 1))) goto LA151;
Result_124589 = ((NU8) 0);
LA151: ;
break;
case ((NU8) 5):
Result_124589 = ((NU8) 3);
break;
default:
break;
}
break;
case ((NU8) 25):
switch ((*A_124249).Kind) {
case ((NU8) 5):
Result_124589 = ((NU8) 3);
break;
case ((NU8) 25):
LOC155 = Sonslen_50807(F_124248);
LOC156 = Sonslen_50807(A_124249);
LOC154 = (LOC155 == LOC156);
if (!(LOC154)) goto LA157;
LOC154 = ((*F_124248).Callconv == (*A_124249).Callconv);
LA157: ;
if (!LOC154) goto LA158;
Result_124589 = ((NU8) 5);
I_125025 = 0;
HEX3Atmp_126805 = 0;
LOC160 = Sonslen_50807(F_124248);
HEX3Atmp_126805 = (NI32)(LOC160 - 1);
Res_126807 = 0;
Res_126807 = 1;
while (1) {
if (!(Res_126807 <= HEX3Atmp_126805)) goto LA161;
I_125025 = Res_126807;
M_124592 = Typerel_124244(Mapping_124247, (*F_124248).Sons->data[I_125025], (*A_124249).Sons->data[I_125025]);
LOC163 = (M_124592 == ((NU8) 0));
if (!(LOC163)) goto LA164;
LOC165 = Typerel_124244(Mapping_124247, (*A_124249).Sons->data[I_125025], (*F_124248).Sons->data[I_125025]);
LOC163 = (LOC165 == ((NU8) 3));
LA164: ;
if (!LOC163) goto LA166;
Result_124589 = ((NU8) 1);
goto LA162;
LA166: ;
if (!(M_124592 < ((NU8) 3))) goto LA168;
Result_124589 = ((NU8) 0);
goto BeforeRet;
goto LA162;
LA168: ;
Result_124589 = Minrel_124414(M_124592, Result_124589);
LA162: ;
Res_126807 += 1;
} LA161: ;
if (!!(((*F_124248).Sons->data[0] == NIM_NIL))) goto LA171;
if (!!(((*A_124249).Sons->data[0] == NIM_NIL))) goto LA174;
M_124592 = Typerel_124244(Mapping_124247, (*F_124248).Sons->data[0], (*A_124249).Sons->data[0]);
if (!(M_124592 < ((NU8) 3))) goto LA177;
Result_124589 = ((NU8) 0);
goto LA176;
LA177: ;
if (!(M_124592 == ((NU8) 3))) goto LA179;
Result_124589 = ((NU8) 1);
goto LA176;
LA179: ;
Result_124589 = Minrel_124414(M_124592, Result_124589);
LA176: ;
goto LA173;
LA174: ;
Result_124589 = ((NU8) 0);
LA173: ;
goto LA170;
LA171: ;
if (!!(((*A_124249).Sons->data[0] == NIM_NIL))) goto LA181;
Result_124589 = ((NU8) 0);
goto LA170;
LA181: ;
LA170: ;
LOC184 = (((*F_124248).Flags &(1<<((((NU8) 1))&7)))!=0);
if (!(LOC184)) goto LA185;
LOC184 = !((((*A_124249).Flags &(1<<((((NU8) 1))&7)))!=0));
LA185: ;
if (!LOC184) goto LA186;
Result_124589 = ((NU8) 0);
LA186: ;
LA158: ;
break;
default:
break;
}
break;
case ((NU8) 26):
switch ((*A_124249).Kind) {
case ((NU8) 26):
Result_124589 = ((NU8) 5);
break;
case ((NU8) 5):
Result_124589 = ((NU8) 3);
break;
case ((NU8) 21):
case ((NU8) 25):
case ((NU8) 29):
Result_124589 = ((NU8) 1);
break;
default:
break;
}
break;
case ((NU8) 28):
switch ((*A_124249).Kind) {
case ((NU8) 28):
Result_124589 = ((NU8) 5);
break;
case ((NU8) 5):
Result_124589 = ((NU8) 3);
break;
default:
break;
}
break;
case ((NU8) 29):
switch ((*A_124249).Kind) {
case ((NU8) 29):
Result_124589 = ((NU8) 5);
break;
case ((NU8) 5):
Result_124589 = ((NU8) 3);
break;
case ((NU8) 28):
Result_124589 = ((NU8) 1);
break;
case ((NU8) 21):
if (!((*(*A_124249).Sons->data[0]).Kind == ((NU8) 2))) goto LA189;
Result_124589 = ((NU8) 1);
LA189: ;
break;
case ((NU8) 16):
LOC194 = Firstord_93001((*A_124249).Sons->data[0]);
LOC193 = (LOC194 == 0);
if (!(LOC193)) goto LA195;
LOC196 = 0;
LOC196 = Skiptypes_93087((*A_124249).Sons->data[0], 1048576);
LOC193 = ((*LOC196).Kind >= ((NU8) 31) && (*LOC196).Kind <= ((NU8) 35));
LA195: ;
LOC192 = LOC193;
if (!(LOC192)) goto LA197;
LOC192 = ((*(*A_124249).Sons->data[1]).Kind == ((NU8) 2));
LA197: ;
if (!LOC192) goto LA198;
Result_124589 = ((NU8) 1);
LA198: ;
break;
default:
break;
}
break;
case ((NU8) 3):
if (!((*A_124249).Kind == ((NU8) 3))) goto LA201;
Result_124589 = ((NU8) 5);
LA201: ;
break;
case ((NU8) 11):
LOC203 = 0;
LOC203 = Lastson_50813(F_124248);
Result_124589 = Typerel_124244(Mapping_124247, LOC203, A_124249);
break;
case ((NU8) 10):
LOC204 = 0;
LOC204 = Lastson_50813(F_124248);
Result_124589 = Typerel_124244(Mapping_124247, LOC204, A_124249);
break;
case ((NU8) 9):
if (!((*A_124249).Kind == ((NU8) 9))) goto LA206;
Internalerror_43163(((NimStringDesc*) &TMP192072));
LA206: ;
if (!((*A_124249).Kind == ((NU8) 11))) goto LA209;
LOC212 = ((*(*F_124248).Sons->data[0]).Containerid == (*(*A_124249).Sons->data[0]).Containerid);
if (!(LOC212)) goto LA213;
LOC214 = Sonslen_50807(A_124249);
LOC215 = Sonslen_50807(F_124248);
LOC212 = ((NI32)(LOC214 - 1) == LOC215);
LA213: ;
if (!LOC212) goto LA216;
I_125220 = 0;
HEX3Atmp_126808 = 0;
LOC218 = Sonslen_50807(F_124248);
HEX3Atmp_126808 = (NI32)(LOC218 - 1);
Res_126810 = 0;
Res_126810 = 1;
while (1) {
if (!(Res_126810 <= HEX3Atmp_126808)) goto LA219;
I_125220 = Res_126810;
if (!((*(*A_124249).Sons->data[I_125220]).Kind == ((NU8) 12))) goto LA221;
Internalerror_43163(((NimStringDesc*) &TMP192073));
LA221: ;
LOC224 = Typerel_124244(Mapping_124247, (*F_124248).Sons->data[I_125220], (*A_124249).Sons->data[I_125220]);
if (!(LOC224 < ((NU8) 4))) goto LA225;
goto BeforeRet;
LA225: ;
Res_126810 += 1;
} LA219: ;
Result_124589 = ((NU8) 4);
LA216: ;
goto LA208;
LA209: ;
Result_124589 = Typerel_124244(Mapping_124247, (*F_124248).Sons->data[0], A_124249);
if (!!((Result_124589 == ((NU8) 0)))) goto LA228;
I_125258 = 0;
HEX3Atmp_126811 = 0;
LOC230 = Sonslen_50807(F_124248);
HEX3Atmp_126811 = (NI32)(LOC230 - 1);
Res_126813 = 0;
Res_126813 = 1;
while (1) {
if (!(Res_126813 <= HEX3Atmp_126811)) goto LA231;
I_125258 = Res_126813;
LOC232 = 0;
LOC232 = Idtableget_55158((*Mapping_124247), &(*(*F_124248).Sons->data[0]).Sons->data[(NI32)(I_125258 - 1)]->Sup);
X_124590 = ((TY50552*) (LOC232));
LOC234 = (X_124590 == NIM_NIL);
if (LOC234) goto LA235;
LOC234 = ((*X_124590).Kind == ((NU8) 12));
LA235: ;
if (!LOC234) goto LA236;
Internalerror_43163(((NimStringDesc*) &TMP192073));
LA236: ;
Idtableput_55166(Mapping_124247, &(*F_124248).Sons->data[I_125258]->Sup, &X_124590->Sup.Sup);
Res_126813 += 1;
} LA231: ;
LA228: ;
LA208: ;
break;
case ((NU8) 12):
LOC238 = 0;
LOC238 = Idtableget_55158((*Mapping_124247), &F_124248->Sup);
X_124590 = ((TY50552*) (LOC238));
if (!(X_124590 == NIM_NIL)) goto LA240;
LOC243 = Sonslen_50807(F_124248);
if (!(LOC243 == 0)) goto LA244;
Concrete_124591 = Concretetype_124250((*Mapping_124247), A_124249);
if (!!((Concrete_124591 == NIM_NIL))) goto LA247;
Idtableput_55166(Mapping_124247, &F_124248->Sup, &Concrete_124591->Sup.Sup);
Result_124589 = ((NU8) 4);
LA247: ;
goto LA242;
LA244: ;
LOC249 = 0;
LOC249 = rawNewString((*(*(*F_124248).Sym).Name).S->Sup.len + 17);
appendString(LOC249, ((NimStringDesc*) &TMP192075));
appendString(LOC249, (*(*(*F_124248).Sym).Name).S);
Internalerror_43159((*(*F_124248).Sym).Info, LOC249);
I_125311 = 0;
HEX3Atmp_126814 = 0;
LOC250 = Sonslen_50807(F_124248);
HEX3Atmp_126814 = (NI32)(LOC250 - 1);
Res_126816 = 0;
Res_126816 = 0;
while (1) {
if (!(Res_126816 <= HEX3Atmp_126814)) goto LA251;
I_125311 = Res_126816;
LOC253 = Typerel_124244(Mapping_124247, (*F_124248).Sons->data[I_125311], A_124249);
if (!(((NU8) 3) <= LOC253)) goto LA254;
Concrete_124591 = Concretetype_124250((*Mapping_124247), A_124249);
if (!!((Concrete_124591 == NIM_NIL))) goto LA257;
Idtableput_55166(Mapping_124247, &F_124248->Sup, &Concrete_124591->Sup.Sup);
Result_124589 = ((NU8) 4);
LA257: ;
goto LA251;
LA254: ;
Res_126816 += 1;
} LA251: ;
LA242: ;
goto LA239;
LA240: ;
if (!((*A_124249).Kind == ((NU8) 3))) goto LA259;
Result_124589 = ((NU8) 4);
goto LA239;
LA259: ;
if (!((*X_124590).Kind == ((NU8) 12))) goto LA261;
Result_124589 = ((NU8) 4);
goto LA239;
LA261: ;
Result_124589 = Typerel_124244(Mapping_124247, X_124590, A_124249);
LA239: ;
break;
case ((NU8) 6):
case ((NU8) 7):
case ((NU8) 8):
if (!((*A_124249).Kind == (*F_124248).Kind)) goto LA264;
Result_124589 = ((NU8) 5);
goto LA263;
LA264: ;
switch ((*A_124249).Kind) {
case ((NU8) 6):
case ((NU8) 7):
case ((NU8) 8):
Result_124589 = ((NU8) 4);
break;
case ((NU8) 5):
Result_124589 = ((NU8) 3);
break;
default:
break;
}
LA263: ;
break;
default:
LOC266 = 0;
LOC266 = rawNewString(reprEnum((*F_124248).Kind, NTI50162)->Sup.len + 9);
appendString(LOC266, ((NimStringDesc*) &TMP192076));
appendString(LOC266, reprEnum((*F_124248).Kind, NTI50162));
appendChar(LOC266, 41);
Internalerror_43163(LOC266);
break;
}
BeforeRet: ;
return Result_124589;
}
N_NIMCALL(NIM_BOOL, Containsgenerictypeiter_123158)(TY50552* T_123160, TNimObject* Closure_123161) {
NIM_BOOL Result_123162;
Result_123162 = 0;
Result_123162 = ((*T_123160).Kind == ((NU8) 9) || (*T_123160).Kind == ((NU8) 10) || (*T_123160).Kind == ((NU8) 12));
return Result_123162;
}
N_NIMCALL(NIM_BOOL, Containsgenerictype_123174)(TY50552* T_123176) {
NIM_BOOL Result_123177;
Result_123177 = 0;
Result_123177 = Iterovertype_93038(T_123176, Containsgenerictypeiter_123158, NIM_NIL);
return Result_123177;
}
N_NIMCALL(TY50552*, Lookuptypevar_123808)(TY123655* Cl_123810, TY50552* T_123811) {
TY50552* Result_123812;
TNimObject* LOC1;
NimStringDesc* LOC5;
Result_123812 = 0;
LOC1 = 0;
LOC1 = Idtableget_55158((*Cl_123810).Typemap, &T_123811->Sup);
Result_123812 = ((TY50552*) (LOC1));
if (!(Result_123812 == NIM_NIL)) goto LA3;
LOC5 = 0;
LOC5 = Typetostring_93014(T_123811, ((NU8) 0));
Globalerror_43139((*(*T_123811).Sym).Info, ((NU8) 121), LOC5);
goto LA2;
LA3: ;
if (!((*Result_123812).Kind == ((NU8) 12))) goto LA6;
Internalerror_43159((*Cl_123810).Info, ((NimStringDesc*) &TMP192077));
goto LA2;
LA6: ;
LA2: ;
return Result_123812;
}
N_NIMCALL(TY50552*, Searchinsttypes_123105)(TY50564 Tab_123107, TY50552* Key_123108) {
TY50552* Result_123109;
TNimObject* LOC1;
NIM_BOOL LOC3;
NI H_123133;
NI HEX3Atmp_126771;
NI Res_126773;
TY50552* T_123134;
NIM_BOOL Match_123148;
NI J_123157;
NI HEX3Atmp_126768;
NI LOC14;
NI Res_126770;
NIM_BOOL LOC17;
Result_123109 = 0;
LOC1 = 0;
LOC1 = Idtableget_55158(Tab_123107, &Key_123108->Sup);
Result_123109 = ((TY50552*) (LOC1));
LOC3 = (Result_123109 == NIM_NIL);
if (!(LOC3)) goto LA4;
LOC3 = (0 < Tab_123107.Counter);
LA4: ;
if (!LOC3) goto LA5;
H_123133 = 0;
HEX3Atmp_126771 = 0;
HEX3Atmp_126771 = (Tab_123107.Data->Sup.len-1);
Res_126773 = 0;
Res_126773 = 0;
while (1) {
if (!(Res_126773 <= HEX3Atmp_126771)) goto LA7;
H_123133 = Res_126773;
T_123134 = 0;
T_123134 = ((TY50552*) (Tab_123107.Data->data[H_123133].Key));
if (!!((T_123134 == NIM_NIL))) goto LA9;
if (!((*Key_123108).Containerid == (*T_123134).Containerid)) goto LA12;
Match_123148 = 0;
Match_123148 = NIM_TRUE;
J_123157 = 0;
HEX3Atmp_126768 = 0;
LOC14 = Sonslen_50807(T_123134);
HEX3Atmp_126768 = (NI32)(LOC14 - 1);
Res_126770 = 0;
Res_126770 = 0;
while (1) {
if (!(Res_126770 <= HEX3Atmp_126768)) goto LA15;
J_123157 = Res_126770;
LOC17 = Sametype_93048((*T_123134).Sons->data[J_123157], (*Key_123108).Sons->data[J_123157]);
if (!!(LOC17)) goto LA18;
Match_123148 = NIM_FALSE;
goto LA15;
LA18: ;
Res_126770 += 1;
} LA15: ;
if (!Match_123148) goto LA21;
Result_123109 = ((TY50552*) (Tab_123107.Data->data[H_123133].Val));
goto BeforeRet;
LA21: ;
LA12: ;
LA9: ;
Res_126773 += 1;
} LA7: ;
LA5: ;
BeforeRet: ;
return Result_123109;
}
N_NIMCALL(TY50548*, Replacetypevarss_123665)(TY123655* Cl_123668, TY50548* S_123669) {
TY50548* Result_123772;
TNimObject* LOC4;
Result_123772 = 0;
if (!(S_123669 == NIM_NIL)) goto LA2;
Result_123772 = NIM_NIL;
goto BeforeRet;
LA2: ;
LOC4 = 0;
LOC4 = Idtableget_55158((*Cl_123668).Symmap, &S_123669->Sup);
Result_123772 = ((TY50548*) (LOC4));
if (!(Result_123772 == NIM_NIL)) goto LA6;
Result_123772 = Copysym_50776(S_123669, NIM_FALSE);
(*Result_123772).Flags |=(1<<((NI32)(((NU8) 4))%(sizeof(NI32)*8)));
Idtableput_55166(&(*Cl_123668).Symmap, &S_123669->Sup, &Result_123772->Sup.Sup);
asgnRef((void**) &(*Result_123772).Typ, Replacetypevarst_123660(Cl_123668, (*S_123669).Typ));
asgnRef((void**) &(*Result_123772).Owner, (*S_123669).Owner);
asgnRefNoCycle((void**) &(*Result_123772).Ast, Replacetypevarsn_123670(Cl_123668, (*S_123669).Ast));
LA6: ;
BeforeRet: ;
return Result_123772;
}
N_NIMCALL(TY50526*, Replacetypevarsn_123670)(TY123655* Cl_123673, TY50526* N_123674) {
TY50526* Result_123675;
NI Length_123729;
NI I_123742;
NI HEX3Atmp_126781;
NI Res_126783;
Result_123675 = 0;
if (!!((N_123674 == NIM_NIL))) goto LA2;
Result_123675 = Copynode_50849(N_123674);
asgnRef((void**) &(*Result_123675).Typ, Replacetypevarst_123660(Cl_123673, (*N_123674).Typ));
switch ((*N_123674).Kind) {
case ((NU8) 0) ... ((NU8) 2):
case ((NU8) 4) ... ((NU8) 18):
break;
case ((NU8) 3):
asgnRef((void**) &(*Result_123675).KindU.S4.Sym, Replacetypevarss_123665(Cl_123673, (*N_123674).KindU.S4.Sym));
break;
default:
Length_123729 = 0;
Length_123729 = Sonslen_50804(N_123674);
if (!(0 < Length_123729)) goto LA5;
Newsons_50816(Result_123675, Length_123729);
I_123742 = 0;
HEX3Atmp_126781 = 0;
HEX3Atmp_126781 = (NI32)(Length_123729 - 1);
Res_126783 = 0;
Res_126783 = 0;
while (1) {
if (!(Res_126783 <= HEX3Atmp_126781)) goto LA7;
I_123742 = Res_126783;
asgnRefNoCycle((void**) &(*Result_123675).KindU.S6.Sons->data[I_123742], Replacetypevarsn_123670(Cl_123673, (*N_123674).KindU.S6.Sons->data[I_123742]));
Res_126783 += 1;
} LA7: ;
LA5: ;
break;
}
LA2: ;
return Result_123675;
}
N_NIMCALL(void, Checkconstructedtype_123608)(TY42538 Info_123610, TY50552* T_123611) {
NIM_BOOL LOC2;
TY50552* LOC4;
NI64 LOC7;
NimStringDesc* LOC10;
NIM_BOOL LOC11;
LOC2 = (((*T_123611).Flags &(1<<((((NU8) 3))&7)))!=0);
if (!(LOC2)) goto LA3;
LOC4 = 0;
LOC4 = Skiptypes_93087(T_123611, 43008);
LOC2 = !(((*LOC4).Kind == ((NU8) 17)));
LA3: ;
if (!LOC2) goto LA5;
Localerror_43144(Info_123610, ((NU8) 158), ((NimStringDesc*) &TMP192080));
goto LA1;
LA5: ;
LOC7 = Computesize_93112(T_123611);
if (!(LOC7 < 0)) goto LA8;
LOC10 = 0;
LOC10 = Typetostring_93014(T_123611, ((NU8) 0));
Localerror_43144(Info_123610, ((NU8) 120), LOC10);
goto LA1;
LA8: ;
LOC11 = ((*T_123611).Kind == ((NU8) 23));
if (!(LOC11)) goto LA12;
LOC11 = ((*(*T_123611).Sons->data[0]).Kind == ((NU8) 23));
LA12: ;
if (!LOC11) goto LA13;
Localerror_43144(Info_123610, ((NU8) 191), ((NimStringDesc*) &TMP191995));
goto LA1;
LA13: ;
LA1: ;
}
N_NIMCALL(TY50552*, Replacetypevarst_123660)(TY123655* Cl_123663, TY50552* T_123664) {
TY50552* Result_123838;
TY50552* Body_123839;
TY50552* Newbody_123840;
TY50552* X_123841;
TY50552* Header_123842;
NI I_123871;
NI HEX3Atmp_126784;
NI LOC7;
NI Res_126786;
NI I_123923;
NI HEX3Atmp_126787;
NI LOC21;
NI Res_126789;
TY50552* LOC23;
TY50552* LOC24;
TY50552* LOC25;
NIM_BOOL LOC27;
NI I_123933;
NI HEX3Atmp_126790;
NI LOC30;
NI Res_126792;
NimStringDesc* LOC35;
Result_123838 = 0;
Body_123839 = 0;
Newbody_123840 = 0;
X_123841 = 0;
Header_123842 = 0;
Result_123838 = T_123664;
if (!(T_123664 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*T_123664).Kind) {
case ((NU8) 12):
Result_123838 = Lookuptypevar_123808(&(*Cl_123663), T_123664);
break;
case ((NU8) 9):
Body_123839 = (*T_123664).Sons->data[0];
if (!!(((*Body_123839).Kind == ((NU8) 10)))) goto LA5;
Internalerror_43159((*Cl_123663).Info, ((NimStringDesc*) &TMP192078));
LA5: ;
Header_123842 = NIM_NIL;
I_123871 = 0;
HEX3Atmp_126784 = 0;
LOC7 = Sonslen_50807(T_123664);
HEX3Atmp_126784 = (NI32)(LOC7 - 1);
Res_126786 = 0;
Res_126786 = 1;
while (1) {
if (!(Res_126786 <= HEX3Atmp_126784)) goto LA8;
I_123871 = Res_126786;
if (!((*(*T_123664).Sons->data[I_123871]).Kind == ((NU8) 12))) goto LA10;
X_123841 = Lookuptypevar_123808(&(*Cl_123663), (*T_123664).Sons->data[I_123871]);
if (!(Header_123842 == NIM_NIL)) goto LA13;
Header_123842 = Copytype_50771(T_123664, (*T_123664).Owner, NIM_FALSE);
LA13: ;
asgnRef((void**) &(*Header_123842).Sons->data[I_123871], X_123841);
goto LA9;
LA10: ;
X_123841 = (*T_123664).Sons->data[I_123871];
LA9: ;
Idtableput_55166(&(*Cl_123663).Typemap, &(*Body_123839).Sons->data[(NI32)(I_123871 - 1)]->Sup, &X_123841->Sup.Sup);
Res_126786 += 1;
} LA8: ;
if (!(Header_123842 == NIM_NIL)) goto LA16;
Header_123842 = T_123664;
LA16: ;
Result_123838 = Searchinsttypes_123105(Ginsttypes_103045, Header_123842);
if (!!((Result_123838 == NIM_NIL))) goto LA19;
goto BeforeRet;
LA19: ;
Result_123838 = Newtype_50707(((NU8) 11), (*(*T_123664).Sons->data[0]).Owner);
I_123923 = 0;
HEX3Atmp_126787 = 0;
LOC21 = Sonslen_50807(T_123664);
HEX3Atmp_126787 = (NI32)(LOC21 - 1);
Res_126789 = 0;
Res_126789 = 0;
while (1) {
if (!(Res_126789 <= HEX3Atmp_126787)) goto LA22;
I_123923 = Res_126789;
Addson_50828(Result_123838, (*Header_123842).Sons->data[I_123923]);
Res_126789 += 1;
} LA22: ;
Idtableput_55166(&Ginsttypes_103045, &Header_123842->Sup, &Result_123838->Sup.Sup);
LOC23 = 0;
LOC23 = Lastson_50813(Body_123839);
Newbody_123840 = Replacetypevarst_123660(Cl_123663, LOC23);
LOC24 = 0;
LOC24 = Lastson_50813(Body_123839);
asgnRefNoCycle((void**) &(*Newbody_123840).N, Replacetypevarsn_123670(Cl_123663, (*LOC24).N));
Addson_50828(Result_123838, Newbody_123840);
Checkconstructedtype_123608((*Cl_123663).Info, Newbody_123840);
break;
case ((NU8) 10):
Internalerror_43159((*Cl_123663).Info, ((NimStringDesc*) &TMP192081));
LOC25 = 0;
LOC25 = Lastson_50813(T_123664);
Result_123838 = Replacetypevarst_123660(Cl_123663, LOC25);
break;
default:
LOC27 = Containsgenerictype_123174(T_123664);
if (!LOC27) goto LA28;
Result_123838 = Copytype_50771(T_123664, (*T_123664).Owner, NIM_FALSE);
I_123933 = 0;
HEX3Atmp_126790 = 0;
LOC30 = Sonslen_50807(Result_123838);
HEX3Atmp_126790 = (NI32)(LOC30 - 1);
Res_126792 = 0;
Res_126792 = 0;
while (1) {
if (!(Res_126792 <= HEX3Atmp_126790)) goto LA31;
I_123933 = Res_126792;
asgnRef((void**) &(*Result_123838).Sons->data[I_123933], Replacetypevarst_123660(Cl_123663, (*Result_123838).Sons->data[I_123933]));
Res_126792 += 1;
} LA31: ;
asgnRefNoCycle((void**) &(*Result_123838).N, Replacetypevarsn_123670(Cl_123663, (*Result_123838).N));
if (!((*Result_123838).Kind == ((NU8) 9) || (*Result_123838).Kind == ((NU8) 10) || (*Result_123838).Kind == ((NU8) 12))) goto LA33;
LOC35 = 0;
LOC35 = Typetostring_93014(T_123664, ((NU8) 0));
Localerror_43144((*Cl_123663).Info, ((NU8) 121), LOC35);
LA33: ;
LA28: ;
break;
}
BeforeRet: ;
return Result_123838;
}
N_NIMCALL(TY50552*, Generatetypeinstance_123955)(TY103012* P_123957, TY50564 Pt_123958, TY50526* Arg_123959, TY50552* T_123960) {
TY50552* Result_123961;
TY123655 Cl_123962;
Result_123961 = 0;
memset((void*)&Cl_123962, 0, sizeof(Cl_123962));
Initidtable_50755(&Cl_123962.Symmap);
Copyidtable_50799(&Cl_123962.Typemap, Pt_123958);
Cl_123962.Info = (*Arg_123959).Info;
Cl_123962.C = P_123957;
Pushinfocontext_42615((*Arg_123959).Info);
Result_123961 = Replacetypevarst_123660(&Cl_123962, T_123960);
Popinfocontext_42636();
return Result_123961;
}
N_NIMCALL(TY50552*, Getinstantiatedtype_125375)(TY103012* C_125377, TY50526* Arg_125378, TY123969* M_125379, TY50552* F_125380) {
TY50552* Result_125381;
TNimObject* LOC1;
Result_125381 = 0;
LOC1 = 0;
LOC1 = Idtableget_55158((*M_125379).Bindings, &F_125380->Sup);
Result_125381 = ((TY50552*) (LOC1));
if (!(Result_125381 == NIM_NIL)) goto LA3;
Result_125381 = Generatetypeinstance_123955(C_125377, (*M_125379).Bindings, Arg_125378, F_125380);
LA3: ;
if (!(Result_125381 == NIM_NIL)) goto LA6;
Internalerror_43159((*Arg_125378).Info, ((NimStringDesc*) &TMP192082));
LA6: ;
return Result_125381;
}
N_NIMCALL(TY50526*, Implicitconv_125404)(NU8 Kind_125406, TY50552* F_125407, TY50526* Arg_125408, TY123969* M_125409, TY103012* C_125410) {
TY50526* Result_125411;
NIM_BOOL LOC2;
Result_125411 = 0;
Result_125411 = Newnodei_50738(Kind_125406, (*Arg_125408).Info);
LOC2 = Containsgenerictype_123174(F_125407);
if (!LOC2) goto LA3;
asgnRef((void**) &(*Result_125411).Typ, Getinstantiatedtype_125375(C_125410, Arg_125408, M_125409, F_125407));
goto LA1;
LA3: ;
asgnRef((void**) &(*Result_125411).Typ, F_125407);
LA1: ;
if (!((*Result_125411).Typ == NIM_NIL)) goto LA6;
Internalerror_43159((*Arg_125408).Info, ((NimStringDesc*) &TMP192083));
LA6: ;
Addson_50824(Result_125411, Emptynode_50858);
Addson_50824(Result_125411, Arg_125408);
return Result_125411;
}
N_NIMCALL(TY50526*, Userconvmatch_125423)(TY103012* C_125425, TY123969* M_125427, TY50552* F_125428, TY50552* A_125429, TY50526* Arg_125430) {
TY50526* Result_125431;
NI I_125450;
NI HEX3Atmp_126817;
NI Res_126819;
TY50552* Src_125451;
TY50552* Dest_125452;
NIM_BOOL LOC3;
NU8 LOC4;
NU8 LOC6;
TY50526* S_125473;
TY50526* LOC9;
Result_125431 = 0;
Result_125431 = NIM_NIL;
I_125450 = 0;
HEX3Atmp_126817 = 0;
HEX3Atmp_126817 = (NI32)((*C_125425).Converters->Sup.len - 1);
Res_126819 = 0;
Res_126819 = 0;
while (1) {
if (!(Res_126819 <= HEX3Atmp_126817)) goto LA1;
I_125450 = Res_126819;
Src_125451 = 0;
Src_125451 = (*(*(*C_125425).Converters->data[I_125450]).Typ).Sons->data[1];
Dest_125452 = 0;
Dest_125452 = (*(*(*C_125425).Converters->data[I_125450]).Typ).Sons->data[0];
LOC4 = Typerel_124244(&(*M_125427).Bindings, F_125428, Dest_125452);
LOC3 = (LOC4 == ((NU8) 5));
if (!(LOC3)) goto LA5;
LOC6 = Typerel_124244(&(*M_125427).Bindings, Src_125451, A_125429);
LOC3 = (LOC6 == ((NU8) 5));
LA5: ;
if (!LOC3) goto LA7;
S_125473 = 0;
S_125473 = Newsymnode_50735((*C_125425).Converters->data[I_125450]);
asgnRef((void**) &(*S_125473).Typ, (*(*C_125425).Converters->data[I_125450]).Typ);
(*S_125473).Info = (*Arg_125430).Info;
Result_125431 = Newnodeit_50742(((NU8) 49), (*Arg_125430).Info, (*(*S_125473).Typ).Sons->data[0]);
Addson_50824(Result_125431, S_125473);
LOC9 = 0;
LOC9 = Copytree_50852(Arg_125430);
Addson_50824(Result_125431, LOC9);
(*M_125427).Convmatches += 1;
goto BeforeRet;
LA7: ;
Res_126819 += 1;
} LA1: ;
BeforeRet: ;
return Result_125431;
}
N_NIMCALL(TY50526*, Paramtypesmatchaux_125486)(TY103012* C_125488, TY123969* M_125490, TY50552* F_125491, TY50552* A_125492, TY50526* Arg_125493) {
TY50526* Result_125494;
NU8 R_125496;
TY50526* LOC1;
TY50526* LOC2;
TY50526* LOC3;
TY50552* LOC5;
TY50526* LOC8;
TY50552* LOC10;
TY50526* LOC13;
NIM_BOOL LOC15;
TY50552* LOC19;
TY50552* LOC26;
TY50552* LOC27;
Result_125494 = 0;
R_125496 = 0;
R_125496 = Typerel_124244(&(*M_125490).Bindings, F_125491, A_125492);
switch (R_125496) {
case ((NU8) 1):
(*M_125490).Convmatches += 1;
LOC1 = 0;
LOC1 = Copytree_50852(Arg_125493);
Result_125494 = Implicitconv_125404(((NU8) 47), F_125491, LOC1, &(*M_125490), C_125488);
break;
case ((NU8) 2):
(*M_125490).Intconvmatches += 1;
LOC2 = 0;
LOC2 = Copytree_50852(Arg_125493);
Result_125494 = Implicitconv_125404(((NU8) 47), F_125491, LOC2, &(*M_125490), C_125488);
break;
case ((NU8) 3):
(*M_125490).Subtypematches += 1;
LOC3 = 0;
LOC3 = Copytree_50852(Arg_125493);
Result_125494 = Implicitconv_125404(((NU8) 48), F_125491, LOC3, &(*M_125490), C_125488);
break;
case ((NU8) 4):
(*M_125490).Genericmatches += 1;
Result_125494 = Copytree_50852(Arg_125493);
asgnRef((void**) &(*Result_125494).Typ, Getinstantiatedtype_125375(C_125488, Arg_125493, &(*M_125490), F_125491));
LOC5 = 0;
LOC5 = Skiptypes_93087((*Result_125494).Typ, 8431616);
if (!((*LOC5).Kind == ((NU8) 18) || (*LOC5).Kind == ((NU8) 27))) goto LA6;
LOC8 = 0;
LOC8 = Copytree_50852(Arg_125493);
Result_125494 = Implicitconv_125404(((NU8) 47), F_125491, LOC8, &(*M_125490), C_125488);
LA6: ;
break;
case ((NU8) 5):
(*M_125490).Exactmatches += 1;
Result_125494 = Copytree_50852(Arg_125493);
LOC10 = 0;
LOC10 = Skiptypes_93087(F_125491, 8431616);
if (!((*LOC10).Kind == ((NU8) 18) || (*LOC10).Kind == ((NU8) 27))) goto LA11;
LOC13 = 0;
LOC13 = Copytree_50852(Arg_125493);
Result_125494 = Implicitconv_125404(((NU8) 47), F_125491, LOC13, &(*M_125490), C_125488);
LA11: ;
break;
case ((NU8) 0):
Result_125494 = Userconvmatch_125423(C_125488, M_125490, F_125491, A_125492, Arg_125493);
LOC15 = (Result_125494 == NIM_NIL);
if (!(LOC15)) goto LA16;
LOC15 = ((*F_125491).Kind == ((NU8) 27));
LA16: ;
if (!LOC15) goto LA17;
LOC19 = 0;
LOC19 = Base_93021(F_125491);
R_125496 = Typerel_124244(&(*M_125490).Bindings, LOC19, A_125492);
if (!(((NU8) 4) <= R_125496)) goto LA21;
(*M_125490).Convmatches += 1;
Result_125494 = Copytree_50852(Arg_125493);
if (!(R_125496 == ((NU8) 4))) goto LA24;
LOC26 = 0;
LOC26 = Base_93021(F_125491);
asgnRef((void**) &(*Result_125494).Typ, Getinstantiatedtype_125375(C_125488, Arg_125493, &(*M_125490), LOC26));
LA24: ;
(*M_125490).Basetypematch = NIM_TRUE;
goto LA20;
LA21: ;
LOC27 = 0;
LOC27 = Base_93021(F_125491);
Result_125494 = Userconvmatch_125423(C_125488, M_125490, LOC27, A_125492, Arg_125493);
LA20: ;
LA17: ;
break;
}
return Result_125494;
}
N_NIMCALL(void, Initcandidate_123997)(TY123969* C_124000, TY50552* Callee_124001) {
Initcandidateaux_123992(C_124000, Callee_124001);
unsureAsgnRef((void**) &(*C_124000).Calleesym, NIM_NIL);
Initidtable_50755(&(*C_124000).Bindings);
}
N_NIMCALL(void, Copycandidate_124047)(TY123969* A_124050, TY123969* B_124051) {
(*A_124050).Exactmatches = (*B_124051).Exactmatches;
(*A_124050).Subtypematches = (*B_124051).Subtypematches;
(*A_124050).Convmatches = (*B_124051).Convmatches;
(*A_124050).Intconvmatches = (*B_124051).Intconvmatches;
(*A_124050).Genericmatches = (*B_124051).Genericmatches;
(*A_124050).State = (*B_124051).State;
unsureAsgnRef((void**) &(*A_124050).Callee, (*B_124051).Callee);
unsureAsgnRef((void**) &(*A_124050).Calleesym, (*B_124051).Calleesym);
unsureAsgnRef((void**) &(*A_124050).Call, Copytree_50852((*B_124051).Call));
(*A_124050).Basetypematch = (*B_124051).Basetypematch;
Copyidtable_50799(&(*A_124050).Bindings, (*B_124051).Bindings);
}
N_NIMCALL(NI, Cmpcandidates_124053)(TY123969* A_124055, TY123969* B_124056) {
NI Result_124057;
Result_124057 = 0;
Result_124057 = (NI32)((*A_124055).Exactmatches - (*B_124056).Exactmatches);
if (!!((Result_124057 == 0))) goto LA2;
goto BeforeRet;
LA2: ;
Result_124057 = (NI32)((*A_124055).Genericmatches - (*B_124056).Genericmatches);
if (!!((Result_124057 == 0))) goto LA5;
goto BeforeRet;
LA5: ;
Result_124057 = (NI32)((*A_124055).Subtypematches - (*B_124056).Subtypematches);
if (!!((Result_124057 == 0))) goto LA8;
goto BeforeRet;
LA8: ;
Result_124057 = (NI32)((*A_124055).Intconvmatches - (*B_124056).Intconvmatches);
if (!!((Result_124057 == 0))) goto LA11;
goto BeforeRet;
LA11: ;
Result_124057 = (NI32)((*A_124055).Convmatches - (*B_124056).Convmatches);
BeforeRet: ;
return Result_124057;
}
N_NIMCALL(TY50526*, Paramtypesmatch_125632)(TY103012* C_125634, TY123969* M_125636, TY50552* F_125637, TY50552* A_125638, TY50526* Arg_125639) {
TY50526* Result_125640;
NIM_BOOL LOC2;
TY123969 X_125661;
TY123969 Y_125662;
TY123969 Z_125663;
NI Best_125667;
NI I_125676;
NI HEX3Atmp_126820;
NI LOC6;
NI Res_126822;
NU8 R_125727;
NI Cmp_125737;
NIM_BOOL LOC22;
NI LOC24;
Result_125640 = 0;
LOC2 = (Arg_125639 == NIM_NIL);
if (LOC2) goto LA3;
LOC2 = !(((*Arg_125639).Kind == ((NU8) 46)));
LA3: ;
if (!LOC2) goto LA4;
Result_125640 = Paramtypesmatchaux_125486(C_125634, M_125636, F_125637, A_125638, Arg_125639);
goto LA1;
LA4: ;
memset((void*)&X_125661, 0, sizeof(X_125661));
memset((void*)&Y_125662, 0, sizeof(Y_125662));
memset((void*)&Z_125663, 0, sizeof(Z_125663));
Initcandidate_123997(&X_125661, (*M_125636).Callee);
Initcandidate_123997(&Y_125662, (*M_125636).Callee);
Initcandidate_123997(&Z_125663, (*M_125636).Callee);
X_125661.Calleesym = (*M_125636).Calleesym;
Y_125662.Calleesym = (*M_125636).Calleesym;
Z_125663.Calleesym = (*M_125636).Calleesym;
Best_125667 = 0;
Best_125667 = -1;
I_125676 = 0;
HEX3Atmp_126820 = 0;
LOC6 = Sonslen_50804(Arg_125639);
HEX3Atmp_126820 = (NI32)(LOC6 - 1);
Res_126822 = 0;
Res_126822 = 0;
while (1) {
if (!(Res_126822 <= HEX3Atmp_126820)) goto LA7;
I_125676 = Res_126822;
if (!((11264 &(1<<(((*(*(*Arg_125639).KindU.S6.Sons->data[I_125676]).KindU.S4.Sym).Kind)&31)))!=0)) goto LA9;
Copycandidate_124047(&Z_125663, &(*M_125636));
R_125727 = 0;
R_125727 = Typerel_124244(&Z_125663.Bindings, F_125637, (*(*Arg_125639).KindU.S6.Sons->data[I_125676]).Typ);
if (!!((R_125727 == ((NU8) 0)))) goto LA12;
switch (X_125661.State) {
case ((NU8) 0):
case ((NU8) 2):
genericAssign((void*)&X_125661, (void*)&Z_125663, NTI123969);
Best_125667 = I_125676;
X_125661.State = ((NU8) 1);
break;
case ((NU8) 1):
Cmp_125737 = 0;
Cmp_125737 = Cmpcandidates_124053(&X_125661, &Z_125663);
if (!(Cmp_125737 < 0)) goto LA15;
Best_125667 = I_125676;
genericAssign((void*)&X_125661, (void*)&Z_125663, NTI123969);
goto LA14;
LA15: ;
if (!(Cmp_125737 == 0)) goto LA17;
genericAssign((void*)&Y_125662, (void*)&Z_125663, NTI123969);
goto LA14;
LA17: ;
LA14: ;
break;
}
LA12: ;
LA9: ;
Res_126822 += 1;
} LA7: ;
if (!(X_125661.State == ((NU8) 0))) goto LA20;
Result_125640 = NIM_NIL;
goto LA19;
LA20: ;
LOC22 = (Y_125662.State == ((NU8) 1));
if (!(LOC22)) goto LA23;
LOC24 = Cmpcandidates_124053(&X_125661, &Y_125662);
LOC22 = (LOC24 == 0);
LA23: ;
if (!LOC22) goto LA25;
if (!!((X_125661.State == ((NU8) 1)))) goto LA28;
Internalerror_43159((*Arg_125639).Info, ((NimStringDesc*) &TMP192088));
LA28: ;
Result_125640 = NIM_NIL;
goto LA19;
LA25: ;
Markused_122065(Arg_125639, (*(*Arg_125639).KindU.S6.Sons->data[Best_125667]).KindU.S4.Sym);
Result_125640 = Paramtypesmatchaux_125486(C_125634, M_125636, F_125637, (*(*Arg_125639).KindU.S6.Sons->data[Best_125667]).Typ, (*Arg_125639).KindU.S6.Sons->data[Best_125667]);
LA19: ;
LA1: ;
return Result_125640;
}
N_NIMCALL(void, Setson_125831)(TY50526* Father_125833, NI At_125834, TY50526* Son_125835) {
NI LOC2;
LOC2 = Sonslen_50804(Father_125833);
if (!(LOC2 <= At_125834)) goto LA3;
(*Father_125833).KindU.S6.Sons = (TY50520*) setLengthSeq(&((*Father_125833).KindU.S6.Sons)->Sup, sizeof(TY50526*), (NI32)(At_125834 + 1));
LA3: ;
asgnRefNoCycle((void**) &(*Father_125833).KindU.S6.Sons->data[At_125834], Son_125835);
}
N_NIMCALL(void, Matches_125874)(TY103012* C_125876, TY50526* N_125877, TY123969* M_125879) {
NI F_125880;
NI A_125881;
NI Formallen_125882;
TY50526* LOC1;
TY50895 Marker_125895;
TY50526* Container_125897;
TY50548* Formal_125898;
NI LOC3;
NIM_BOOL LOC14;
TY50526* Arg_126065;
TY50552* LOC33;
TY50552* LOC36;
TY50526* LOC37;
TY50526* LOC38;
TY50526* LOC39;
TY50526* Arg_126195;
NIM_BOOL LOC43;
NIM_BOOL LOC44;
NIM_BOOL LOC53;
TY50526* Arg_126312;
TY50526* LOC62;
NI LOC67;
NIM_BOOL LOC69;
TY50526* LOC78;
TY50526* LOC79;
F_125880 = 0;
F_125880 = 1;
A_125881 = 0;
A_125881 = 1;
(*M_125879).State = ((NU8) 1);
unsureAsgnRef((void**) &(*M_125879).Call, Newnodei_50738(((NU8) 21), (*N_125877).Info));
asgnRef((void**) &(*(*M_125879).Call).Typ, Base_93021((*M_125879).Callee));
Formallen_125882 = 0;
Formallen_125882 = Sonslen_50804((*(*M_125879).Callee).N);
LOC1 = 0;
LOC1 = Copytree_50852((*N_125877).KindU.S6.Sons->data[0]);
Addson_50824((*M_125879).Call, LOC1);
memset((void*)&Marker_125895, 0, sizeof(Marker_125895));
Intsetinit_50919(&Marker_125895);
Container_125897 = 0;
Container_125897 = NIM_NIL;
Formal_125898 = 0;
Formal_125898 = NIM_NIL;
while (1) {
LOC3 = Sonslen_50804(N_125877);
if (!(A_125881 < LOC3)) goto LA2;
if (!((*(*N_125877).KindU.S6.Sons->data[A_125881]).Kind == ((NU8) 23))) goto LA5;
if (!!(((*(*(*N_125877).KindU.S6.Sons->data[A_125881]).KindU.S6.Sons->data[0]).Kind == ((NU8) 2)))) goto LA8;
Localerror_43144((*(*N_125877).KindU.S6.Sons->data[A_125881]).Info, ((NU8) 155), ((NimStringDesc*) &TMP191995));
(*M_125879).State = ((NU8) 2);
goto BeforeRet;
LA8: ;
Formal_125898 = Getsymfromlist_55189((*(*M_125879).Callee).N, (*(*(*N_125877).KindU.S6.Sons->data[A_125881]).KindU.S6.Sons->data[0]).KindU.S5.Ident, 1);
if (!(Formal_125898 == NIM_NIL)) goto LA11;
(*M_125879).State = ((NU8) 2);
goto BeforeRet;
LA11: ;
LOC14 = Intsetcontainsorincl_50923(&Marker_125895, (*Formal_125898).Position);
if (!LOC14) goto LA15;
Localerror_43144((*(*N_125877).KindU.S6.Sons->data[A_125881]).Info, ((NU8) 139), (*(*Formal_125898).Name).S);
(*M_125879).State = ((NU8) 2);
goto BeforeRet;
LA15: ;
(*M_125879).Basetypematch = NIM_FALSE;
Arg_126065 = 0;
Arg_126065 = Paramtypesmatch_125632(C_125876, M_125879, (*Formal_125898).Typ, (*(*N_125877).KindU.S6.Sons->data[A_125881]).Typ, (*(*N_125877).KindU.S6.Sons->data[A_125881]).KindU.S6.Sons->data[1]);
if (!(Arg_126065 == NIM_NIL)) goto LA18;
(*M_125879).State = ((NU8) 2);
goto BeforeRet;
LA18: ;
if (!(*M_125879).Basetypematch) goto LA21;
Container_125897 = Newnodei_50738(((NU8) 32), (*(*N_125877).KindU.S6.Sons->data[A_125881]).Info);
Addson_50824(Container_125897, Arg_126065);
Setson_125831((*M_125879).Call, (NI32)((*Formal_125898).Position + 1), Container_125897);
if (!!((F_125880 == (NI32)(Formallen_125882 - 1)))) goto LA24;
Container_125897 = NIM_NIL;
LA24: ;
goto LA20;
LA21: ;
Setson_125831((*M_125879).Call, (NI32)((*Formal_125898).Position + 1), Arg_126065);
LA20: ;
goto LA4;
LA5: ;
if (!(Formallen_125882 <= F_125880)) goto LA27;
if (!(((*(*M_125879).Callee).Flags &(1<<((((NU8) 0))&7)))!=0)) goto LA30;
LOC33 = 0;
LOC33 = Skiptypes_93087((*(*N_125877).KindU.S6.Sons->data[A_125881]).Typ, 8431616);
if (!((*LOC33).Kind == ((NU8) 28))) goto LA34;
LOC36 = 0;
LOC36 = Getsystype_98008(((NU8) 29));
LOC37 = 0;
LOC37 = Copytree_50852((*N_125877).KindU.S6.Sons->data[A_125881]);
LOC38 = 0;
LOC38 = Implicitconv_125404(((NU8) 47), LOC36, LOC37, &(*M_125879), C_125876);
Addson_50824((*M_125879).Call, LOC38);
goto LA32;
LA34: ;
LOC39 = 0;
LOC39 = Copytree_50852((*N_125877).KindU.S6.Sons->data[A_125881]);
Addson_50824((*M_125879).Call, LOC39);
LA32: ;
goto LA29;
LA30: ;
if (!!((Formal_125898 == NIM_NIL))) goto LA40;
(*M_125879).Basetypematch = NIM_FALSE;
Arg_126195 = 0;
Arg_126195 = Paramtypesmatch_125632(C_125876, M_125879, (*Formal_125898).Typ, (*(*N_125877).KindU.S6.Sons->data[A_125881]).Typ, (*N_125877).KindU.S6.Sons->data[A_125881]);
LOC44 = !((Arg_126195 == NIM_NIL));
if (!(LOC44)) goto LA45;
LOC44 = (*M_125879).Basetypematch;
LA45: ;
LOC43 = LOC44;
if (!(LOC43)) goto LA46;
LOC43 = !((Container_125897 == NIM_NIL));
LA46: ;
if (!LOC43) goto LA47;
Addson_50824(Container_125897, Arg_126195);
goto LA42;
LA47: ;
(*M_125879).State = ((NU8) 2);
goto BeforeRet;
LA42: ;
goto LA29;
LA40: ;
(*M_125879).State = ((NU8) 2);
goto BeforeRet;
LA29: ;
goto LA26;
LA27: ;
if (!!(((*(*(*(*M_125879).Callee).N).KindU.S6.Sons->data[F_125880]).Kind == ((NU8) 3)))) goto LA50;
Internalerror_43159((*(*N_125877).KindU.S6.Sons->data[A_125881]).Info, ((NimStringDesc*) &TMP192089));
LA50: ;
Formal_125898 = (*(*(*(*M_125879).Callee).N).KindU.S6.Sons->data[F_125880]).KindU.S4.Sym;
LOC53 = Intsetcontainsorincl_50923(&Marker_125895, (*Formal_125898).Position);
if (!LOC53) goto LA54;
Localerror_43144((*(*N_125877).KindU.S6.Sons->data[A_125881]).Info, ((NU8) 139), (*(*Formal_125898).Name).S);
(*M_125879).State = ((NU8) 2);
goto BeforeRet;
LA54: ;
(*M_125879).Basetypematch = NIM_FALSE;
Arg_126312 = 0;
Arg_126312 = Paramtypesmatch_125632(C_125876, M_125879, (*Formal_125898).Typ, (*(*N_125877).KindU.S6.Sons->data[A_125881]).Typ, (*N_125877).KindU.S6.Sons->data[A_125881]);
if (!(Arg_126312 == NIM_NIL)) goto LA57;
(*M_125879).State = ((NU8) 2);
goto BeforeRet;
LA57: ;
if (!(*M_125879).Basetypematch) goto LA60;
Container_125897 = Newnodei_50738(((NU8) 32), (*(*N_125877).KindU.S6.Sons->data[A_125881]).Info);
Addson_50824(Container_125897, Arg_126312);
LOC62 = 0;
LOC62 = Implicitconv_125404(((NU8) 47), (*Formal_125898).Typ, Container_125897, &(*M_125879), C_125876);
Setson_125831((*M_125879).Call, (NI32)((*Formal_125898).Position + 1), LOC62);
if (!!((F_125880 == (NI32)(Formallen_125882 - 1)))) goto LA64;
Container_125897 = NIM_NIL;
LA64: ;
goto LA59;
LA60: ;
Setson_125831((*M_125879).Call, (NI32)((*Formal_125898).Position + 1), Arg_126312);
LA59: ;
LA26: ;
LA4: ;
A_125881 += 1;
F_125880 += 1;
} LA2: ;
F_125880 = 1;
while (1) {
LOC67 = Sonslen_50804((*(*M_125879).Callee).N);
if (!(F_125880 < LOC67)) goto LA66;
Formal_125898 = (*(*(*(*M_125879).Callee).N).KindU.S6.Sons->data[F_125880]).KindU.S4.Sym;
LOC69 = Intsetcontainsorincl_50923(&Marker_125895, (*Formal_125898).Position);
if (!!(LOC69)) goto LA70;
if (!((*Formal_125898).Ast == NIM_NIL)) goto LA73;
if (!((*(*Formal_125898).Typ).Kind == ((NU8) 27))) goto LA76;
Container_125897 = Newnodei_50738(((NU8) 32), (*N_125877).Info);
LOC78 = 0;
LOC78 = Implicitconv_125404(((NU8) 47), (*Formal_125898).Typ, Container_125897, &(*M_125879), C_125876);
Addson_50824((*M_125879).Call, LOC78);
goto LA75;
LA76: ;
(*M_125879).State = ((NU8) 2);
goto LA66;
LA75: ;
goto LA72;
LA73: ;
LOC79 = 0;
LOC79 = Copytree_50852((*Formal_125898).Ast);
Setson_125831((*M_125879).Call, (NI32)((*Formal_125898).Position + 1), LOC79);
LA72: ;
LA70: ;
F_125880 += 1;
} LA66: ;
BeforeRet: ;
}
N_NIMCALL(NIM_BOOL, Samemethoddispatcher_126434)(TY50548* A_126436, TY50548* B_126437) {
NIM_BOOL Result_126438;
NIM_BOOL LOC2;
TY50526* Aa_126457;
TY50526* Bb_126458;
NIM_BOOL LOC7;
NIM_BOOL LOC8;
Result_126438 = 0;
Result_126438 = NIM_FALSE;
LOC2 = ((*A_126436).Kind == ((NU8) 11));
if (!(LOC2)) goto LA3;
LOC2 = ((*B_126437).Kind == ((NU8) 11));
LA3: ;
if (!LOC2) goto LA4;
Aa_126457 = 0;
Aa_126457 = Lastson_50810((*A_126436).Ast);
Bb_126458 = 0;
Bb_126458 = Lastson_50810((*B_126437).Ast);
LOC8 = ((*Aa_126457).Kind == ((NU8) 3));
if (!(LOC8)) goto LA9;
LOC8 = ((*Bb_126458).Kind == ((NU8) 3));
LA9: ;
LOC7 = LOC8;
if (!(LOC7)) goto LA10;
LOC7 = ((*Aa_126457).KindU.S4.Sym == (*Bb_126458).KindU.S4.Sym);
LA10: ;
if (!LOC7) goto LA11;
Result_126438 = NIM_TRUE;
LA11: ;
LA4: ;
return Result_126438;
}
N_NIMCALL(void, Instantiategenericparamlist_123178)(TY103012* C_123180, TY50526* N_123181, TY50564 Pt_123182) {
NI I_123200;
NI HEX3Atmp_126775;
NI LOC4;
NI Res_126777;
TY50526* A_123213;
TY50548* Q_123235;
TY50548* S_123248;
TY50548* LOC13;
TY50552* T_123249;
TNimObject* LOC14;
NimStringDesc* LOC21;
if (!!(((*N_123181).Kind == ((NU8) 65)))) goto LA2;
Internalerror_43159((*N_123181).Info, ((NimStringDesc*) &TMP192094));
LA2: ;
I_123200 = 0;
HEX3Atmp_126775 = 0;
LOC4 = Sonslen_50804(N_123181);
HEX3Atmp_126775 = (NI32)(LOC4 - 1);
Res_126777 = 0;
Res_126777 = 0;
while (1) {
if (!(Res_126777 <= HEX3Atmp_126775)) goto LA5;
I_123200 = Res_126777;
A_123213 = 0;
A_123213 = (*N_123181).KindU.S6.Sons->data[I_123200];
if (!!(((*A_123213).Kind == ((NU8) 3)))) goto LA8;
Internalerror_43159((*A_123213).Info, ((NimStringDesc*) &TMP192095));
LA8: ;
Q_123235 = 0;
Q_123235 = (*A_123213).KindU.S4.Sym;
if (!!(((*(*Q_123235).Typ).Kind == ((NU8) 8) || (*(*Q_123235).Typ).Kind == ((NU8) 12)))) goto LA11;
goto LA6;
LA11: ;
S_123248 = 0;
LOC13 = 0;
LOC13 = Getcurrowner_103092();
S_123248 = Newsym_50702(((NU8) 7), (*Q_123235).Name, LOC13);
T_123249 = 0;
LOC14 = 0;
LOC14 = Idtableget_55158(Pt_123182, &(*Q_123235).Typ->Sup);
T_123249 = ((TY50552*) (LOC14));
if (!(T_123249 == NIM_NIL)) goto LA16;
Localerror_43144((*A_123213).Info, ((NU8) 121), (*(*S_123248).Name).S);
goto LA6;
LA16: ;
if (!((*T_123249).Kind == ((NU8) 12))) goto LA19;
LOC21 = 0;
LOC21 = rawNewString((*(*Q_123235).Name).S->Sup.len + 29);
appendString(LOC21, ((NimStringDesc*) &TMP192096));
appendString(LOC21, (*(*Q_123235).Name).S);
Internalerror_43159((*A_123213).Info, LOC21);
LA19: ;
asgnRef((void**) &(*S_123248).Typ, T_123249);
Adddecl_104114(C_123180, S_123248);
LA6: ;
Res_126777 += 1;
} LA5: ;
}
N_NIMCALL(TY50552*, Neworprevtype_126876)(NU8 Kind_126878, TY50552* Prev_126879, TY103012* C_126880) {
TY50552* Result_126881;
Result_126881 = 0;
if (!(Prev_126879 == NIM_NIL)) goto LA2;
Result_126881 = Newtypes_103077(Kind_126878, C_126880);
goto LA1;
LA2: ;
Result_126881 = Prev_126879;
if (!((*Result_126881).Kind == ((NU8) 30))) goto LA5;
(*Result_126881).Kind = Kind_126878;
LA5: ;
LA1: ;
return Result_126881;
}
N_NIMCALL(TY50548*, Semtypeident_127652)(TY103012* C_127654, TY50526* N_127655) {
TY50548* Result_127656;
Result_127656 = 0;
Result_127656 = Qualifiedlookup_104322(C_127654, N_127655, 3);
if (!!((Result_127656 == NIM_NIL))) goto LA2;
Markused_122065(N_127655, Result_127656);
if (!!(((*Result_127656).Kind == ((NU8) 7)))) goto LA5;
Globalerror_43139((*N_127655).Info, ((NU8) 60), ((NimStringDesc*) &TMP191995));
LA5: ;
goto LA1;
LA2: ;
Globalerror_43139((*N_127655).Info, ((NU8) 19), ((NimStringDesc*) &TMP191995));
LA1: ;
return Result_127656;
}
N_NIMCALL(TY50552*, Semrangeaux_127353)(TY103012* C_127355, TY50526* N_127356, TY50552* Prev_127357) {
TY50552* Result_127358;
NIM_BOOL LOC5;
TY50526* A_127422;
TY50526* B_127435;
NIM_BOOL LOC10;
NIM_BOOL LOC17;
NIM_BOOL LOC21;
Result_127358 = 0;
if (!!(((*N_127356).Kind == ((NU8) 35)))) goto LA2;
Internalerror_43159((*N_127356).Info, ((NimStringDesc*) &TMP192097));
LA2: ;
Checksonslen_103407(N_127356, 2);
Result_127358 = Neworprevtype_126876(((NU8) 20), Prev_127357, C_127355);
asgnRefNoCycle((void**) &(*Result_127358).N, Newnodei_50738(((NU8) 35), (*N_127356).Info));
LOC5 = ((*(*N_127356).KindU.S6.Sons->data[0]).Kind == ((NU8) 1));
if (LOC5) goto LA6;
LOC5 = ((*(*N_127356).KindU.S6.Sons->data[1]).Kind == ((NU8) 1));
LA6: ;
if (!LOC5) goto LA7;
Globalerror_43139((*N_127356).Info, ((NU8) 103), ((NimStringDesc*) &TMP191995));
LA7: ;
A_127422 = 0;
A_127422 = Semconstexpr_122171(C_127355, (*N_127356).KindU.S6.Sons->data[0]);
B_127435 = 0;
B_127435 = Semconstexpr_122171(C_127355, (*N_127356).KindU.S6.Sons->data[1]);
LOC10 = Sametype_93048((*A_127422).Typ, (*B_127435).Typ);
if (!!(LOC10)) goto LA11;
Globalerror_43139((*N_127356).Info, ((NU8) 124), ((NimStringDesc*) &TMP191995));
LA11: ;
if (!!(((*(*A_127422).Typ).Kind >= ((NU8) 31) && (*(*A_127422).Typ).Kind <= ((NU8) 35) || (*(*A_127422).Typ).Kind == ((NU8) 14) || (*(*A_127422).Typ).Kind == ((NU8) 1) || (*(*A_127422).Typ).Kind == ((NU8) 2) || (*(*A_127422).Typ).Kind >= ((NU8) 36) && (*(*A_127422).Typ).Kind <= ((NU8) 39)))) goto LA14;
Globalerror_43139((*N_127356).Info, ((NU8) 71), ((NimStringDesc*) &TMP191995));
LA14: ;
LOC17 = Enumhaswholes_93072((*A_127422).Typ);
if (!LOC17) goto LA18;
Globalerror_43139((*N_127356).Info, ((NU8) 142), (*(*(*(*A_127422).Typ).Sym).Name).S);
LA18: ;
LOC21 = Levalue_50865(A_127422, B_127435);
if (!!(LOC21)) goto LA22;
Globalerror_43139((*N_127356).Info, ((NU8) 103), ((NimStringDesc*) &TMP191995));
LA22: ;
Addson_50824((*Result_127358).N, A_127422);
Addson_50824((*Result_127358).N, B_127435);
Addson_50828(Result_127358, (*B_127435).Typ);
return Result_127358;
}
N_NIMCALL(TY50552*, Semarray_127501)(TY103012* C_127503, TY50526* N_127504, TY50552* Prev_127505) {
TY50552* Result_127506;
TY50552* Indx_127507;
TY50552* Base_127508;
NI LOC2;
NIM_BOOL LOC15;
NIM_BOOL LOC19;
Result_127506 = 0;
Indx_127507 = 0;
Base_127508 = 0;
Result_127506 = Neworprevtype_126876(((NU8) 16), Prev_127505, C_127503);
LOC2 = Sonslen_50804(N_127504);
if (!(LOC2 == 3)) goto LA3;
if (!((*(*N_127504).KindU.S6.Sons->data[1]).Kind == ((NU8) 35))) goto LA6;
Indx_127507 = Semrangeaux_127353(C_127503, (*N_127504).KindU.S6.Sons->data[1], NIM_NIL);
goto LA5;
LA6: ;
Indx_127507 = Semtypenode_122138(C_127503, (*N_127504).KindU.S6.Sons->data[1], NIM_NIL);
LA5: ;
Addson_50828(Result_127506, Indx_127507);
if (!((*Indx_127507).Kind == ((NU8) 11))) goto LA9;
Indx_127507 = Lastson_50813(Indx_127507);
LA9: ;
if (!!(((*Indx_127507).Kind == ((NU8) 12)))) goto LA12;
LOC15 = Isordinaltype_93069(Indx_127507);
if (!!(LOC15)) goto LA16;
Globalerror_43139((*(*N_127504).KindU.S6.Sons->data[1]).Info, ((NU8) 71), ((NimStringDesc*) &TMP191995));
LA16: ;
LOC19 = Enumhaswholes_93072(Indx_127507);
if (!LOC19) goto LA20;
Globalerror_43139((*(*N_127504).KindU.S6.Sons->data[1]).Info, ((NU8) 142), (*(*(*Indx_127507).Sym).Name).S);
LA20: ;
LA12: ;
Base_127508 = Semtypenode_122138(C_127503, (*N_127504).KindU.S6.Sons->data[2], NIM_NIL);
Addson_50828(Result_127506, Base_127508);
goto LA1;
LA3: ;
Globalerror_43139((*N_127504).Info, ((NU8) 170), ((NimStringDesc*) &TMP191995));
LA1: ;
return Result_127506;
}
N_NIMCALL(TY50552*, Semcontainer_127257)(TY103012* C_127259, TY50526* N_127260, NU8 Kind_127261, NimStringDesc* Kindstr_127262, TY50552* Prev_127263) {
TY50552* Result_127264;
NI LOC2;
TY50552* Base_127279;
Result_127264 = 0;
Result_127264 = Neworprevtype_126876(Kind_127261, Prev_127263, C_127259);
LOC2 = Sonslen_50804(N_127260);
if (!(LOC2 == 2)) goto LA3;
Base_127279 = 0;
Base_127279 = Semtypenode_122138(C_127259, (*N_127260).KindU.S6.Sons->data[1], NIM_NIL);
Addson_50828(Result_127264, Base_127279);
goto LA1;
LA3: ;
Globalerror_43139((*N_127260).Info, ((NU8) 169), Kindstr_127262);
LA1: ;
return Result_127264;
}
N_NIMCALL(TY50552*, Semrange_127448)(TY103012* C_127450, TY50526* N_127451, TY50552* Prev_127452) {
TY50552* Result_127453;
NI LOC2;
Result_127453 = 0;
Result_127453 = NIM_NIL;
LOC2 = Sonslen_50804(N_127451);
if (!(LOC2 == 2)) goto LA3;
if (!((*(*N_127451).KindU.S6.Sons->data[1]).Kind == ((NU8) 35))) goto LA6;
Result_127453 = Semrangeaux_127353(C_127450, (*N_127451).KindU.S6.Sons->data[1], Prev_127452);
goto LA5;
LA6: ;
Globalerror_43139((*(*N_127451).KindU.S6.Sons->data[0]).Info, ((NU8) 93), ((NimStringDesc*) &TMP191995));
LA5: ;
goto LA1;
LA3: ;
Globalerror_43139((*N_127451).Info, ((NU8) 169), ((NimStringDesc*) &TMP192099));
LA1: ;
return Result_127453;
}
N_NIMCALL(TY50552*, Semset_127214)(TY103012* C_127216, TY50526* N_127217, TY50552* Prev_127218) {
TY50552* Result_127219;
NI LOC2;
TY50552* Base_127234;
NIM_BOOL LOC12;
NI64 LOC16;
Result_127219 = 0;
Result_127219 = Neworprevtype_126876(((NU8) 19), Prev_127218, C_127216);
LOC2 = Sonslen_50804(N_127217);
if (!(LOC2 == 2)) goto LA3;
Base_127234 = 0;
Base_127234 = Semtypenode_122138(C_127216, (*N_127217).KindU.S6.Sons->data[1], NIM_NIL);
Addson_50828(Result_127219, Base_127234);
if (!((*Base_127234).Kind == ((NU8) 11))) goto LA6;
Base_127234 = Lastson_50813(Base_127234);
LA6: ;
if (!!(((*Base_127234).Kind == ((NU8) 12)))) goto LA9;
LOC12 = Isordinaltype_93069(Base_127234);
if (!!(LOC12)) goto LA13;
Globalerror_43139((*N_127217).Info, ((NU8) 71), ((NimStringDesc*) &TMP191995));
LA13: ;
LOC16 = Lengthord_93007(Base_127234);
if (!(65536 < LOC16)) goto LA17;
Globalerror_43139((*N_127217).Info, ((NU8) 116), ((NimStringDesc*) &TMP191995));
LA17: ;
LA9: ;
goto LA1;
LA3: ;
Globalerror_43139((*N_127217).Info, ((NU8) 169), ((NimStringDesc*) &TMP192100));
LA1: ;
return Result_127219;
}
N_NIMCALL(TY50552*, Semordinal_127610)(TY103012* C_127612, TY50526* N_127613, TY50552* Prev_127614) {
TY50552* Result_127615;
NI LOC2;
TY50552* Base_127630;
NIM_BOOL LOC9;
Result_127615 = 0;
Result_127615 = Neworprevtype_126876(((NU8) 15), Prev_127614, C_127612);
LOC2 = Sonslen_50804(N_127613);
if (!(LOC2 == 2)) goto LA3;
Base_127630 = 0;
Base_127630 = Semtypenode_122138(C_127612, (*N_127613).KindU.S6.Sons->data[1], NIM_NIL);
if (!!(((*Base_127630).Kind == ((NU8) 12)))) goto LA6;
LOC9 = Isordinaltype_93069(Base_127630);
if (!!(LOC9)) goto LA10;
Globalerror_43139((*(*N_127613).KindU.S6.Sons->data[1]).Info, ((NU8) 71), ((NimStringDesc*) &TMP191995));
LA10: ;
LA6: ;
Addson_50828(Result_127615, Base_127630);
goto LA1;
LA3: ;
Globalerror_43139((*N_127613).Info, ((NU8) 169), ((NimStringDesc*) &TMP192101));
LA1: ;
return Result_127615;
}
N_NIMCALL(TY50552*, Instgenericcontainer_122166)(TY103012* C_122168, TY50526* N_122169, TY50552* Header_122170) {
TY50552* Result_123950;
TY123655 Cl_123951;
Result_123950 = 0;
memset((void*)&Cl_123951, 0, sizeof(Cl_123951));
Initidtable_50755(&Cl_123951.Symmap);
Initidtable_50755(&Cl_123951.Typemap);
Cl_123951.Info = (*N_122169).Info;
Cl_123951.C = C_122168;
Result_123950 = Replacetypevarst_123660(&Cl_123951, Header_122170);
return Result_123950;
}
N_NIMCALL(TY50552*, Semgeneric_127833)(TY103012* C_127835, TY50526* N_127836, TY50548* S_127837, TY50552* Prev_127838) {
TY50552* Result_127839;
TY50552* Elem_127840;
NIM_BOOL Isconcrete_127841;
NIM_BOOL LOC2;
NI LOC10;
NI LOC11;
NI I_127874;
NI HEX3Atmp_142699;
NI LOC14;
NI Res_142701;
Result_127839 = 0;
Elem_127840 = 0;
Isconcrete_127841 = 0;
LOC2 = ((*S_127837).Typ == NIM_NIL);
if (LOC2) goto LA3;
LOC2 = !(((*(*S_127837).Typ).Kind == ((NU8) 10)));
LA3: ;
if (!LOC2) goto LA4;
Globalerror_43139((*N_127836).Info, ((NU8) 121), (*(*S_127837).Name).S);
LA4: ;
Result_127839 = Neworprevtype_126876(((NU8) 9), Prev_127838, C_127835);
if (!((*(*S_127837).Typ).Containerid == 0)) goto LA7;
Internalerror_43159((*N_127836).Info, ((NimStringDesc*) &TMP192103));
LA7: ;
LOC10 = Sonslen_50804(N_127836);
LOC11 = Sonslen_50807((*S_127837).Typ);
if (!!((LOC10 == LOC11))) goto LA12;
Globalerror_43139((*N_127836).Info, ((NU8) 129), ((NimStringDesc*) &TMP191995));
LA12: ;
Addson_50828(Result_127839, (*S_127837).Typ);
Isconcrete_127841 = NIM_TRUE;
I_127874 = 0;
HEX3Atmp_142699 = 0;
LOC14 = Sonslen_50804(N_127836);
HEX3Atmp_142699 = (NI32)(LOC14 - 1);
Res_142701 = 0;
Res_142701 = 1;
while (1) {
if (!(Res_142701 <= HEX3Atmp_142699)) goto LA15;
I_127874 = Res_142701;
Elem_127840 = Semtypenode_122138(C_127835, (*N_127836).KindU.S6.Sons->data[I_127874], NIM_NIL);
if (!((*Elem_127840).Kind == ((NU8) 12))) goto LA17;
Isconcrete_127841 = NIM_FALSE;
LA17: ;
Addson_50828(Result_127839, Elem_127840);
Res_142701 += 1;
} LA15: ;
if (!Isconcrete_127841) goto LA20;
if (!((*S_127837).Ast == NIM_NIL)) goto LA23;
Globalerror_43139((*N_127836).Info, ((NU8) 121), (*(*S_127837).Name).S);
LA23: ;
Result_127839 = Instgenericcontainer_122166(C_127835, N_127836, Result_127839);
LA20: ;
return Result_127839;
}
N_NIMCALL(void, Addinheritedfieldsaux_128999)(TY103012* C_129001, TY50895* Check_129003, NI* Pos_129005, TY50526* N_129006) {
NI I_129048;
NI HEX3Atmp_142723;
NI LOC4;
NI Res_142725;
TY50526* LOC6;
NI I_129081;
NI HEX3Atmp_142726;
NI LOC7;
NI Res_142728;
switch ((*N_129006).Kind) {
case ((NU8) 114):
if (!!(((*(*N_129006).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA2;
Internalerror_43159((*N_129006).Info, ((NimStringDesc*) &TMP192104));
LA2: ;
Addinheritedfieldsaux_128999(C_129001, Check_129003, Pos_129005, (*N_129006).KindU.S6.Sons->data[0]);
I_129048 = 0;
HEX3Atmp_142723 = 0;
LOC4 = Sonslen_50804(N_129006);
HEX3Atmp_142723 = (NI32)(LOC4 - 1);
Res_142725 = 0;
Res_142725 = 1;
while (1) {
if (!(Res_142725 <= HEX3Atmp_142723)) goto LA5;
I_129048 = Res_142725;
switch ((*(*N_129006).KindU.S6.Sons->data[I_129048]).Kind) {
case ((NU8) 75):
case ((NU8) 78):
LOC6 = 0;
LOC6 = Lastson_50810((*N_129006).KindU.S6.Sons->data[I_129048]);
Addinheritedfieldsaux_128999(C_129001, Check_129003, Pos_129005, LOC6);
break;
default:
Internalerror_43159((*N_129006).Info, ((NimStringDesc*) &TMP192105));
break;
}
Res_142725 += 1;
} LA5: ;
break;
case ((NU8) 113):
I_129081 = 0;
HEX3Atmp_142726 = 0;
LOC7 = Sonslen_50804(N_129006);
HEX3Atmp_142726 = (NI32)(LOC7 - 1);
Res_142728 = 0;
Res_142728 = 0;
while (1) {
if (!(Res_142728 <= HEX3Atmp_142726)) goto LA8;
I_129081 = Res_142728;
Addinheritedfieldsaux_128999(C_129001, Check_129003, Pos_129005, (*N_129006).KindU.S6.Sons->data[I_129081]);
Res_142728 += 1;
} LA8: ;
break;
case ((NU8) 3):
Intsetincl_50909(Check_129003, (*(*(*N_129006).KindU.S4.Sym).Name).Sup.Id);
(*Pos_129005) += 1;
break;
default:
Internalerror_43159((*N_129006).Info, ((NimStringDesc*) &TMP192106));
break;
}
}
N_NIMCALL(void, Addinheritedfields_129118)(TY103012* C_129120, TY50895* Check_129122, NI* Pos_129124, TY50552* Obj_129125) {
NIM_BOOL LOC2;
NI LOC3;
LOC3 = Sonslen_50807(Obj_129125);
LOC2 = (0 < LOC3);
if (!(LOC2)) goto LA4;
LOC2 = !(((*Obj_129125).Sons->data[0] == NIM_NIL));
LA4: ;
if (!LOC2) goto LA5;
Addinheritedfields_129118(C_129120, Check_129122, Pos_129124, (*Obj_129125).Sons->data[0]);
LA5: ;
Addinheritedfieldsaux_128999(C_129120, Check_129122, Pos_129124, (*Obj_129125).N);
}
N_NIMCALL(void, Checkbool_126826)(TY50526* T_126828) {
NIM_BOOL LOC2;
TY50552* LOC4;
LOC2 = ((*T_126828).Typ == NIM_NIL);
if (LOC2) goto LA3;
LOC4 = 0;
LOC4 = Skiptypes_93087((*T_126828).Typ, 8423424);
LOC2 = !(((*LOC4).Kind == ((NU8) 1)));
LA3: ;
if (!LOC2) goto LA5;
Localerror_43144((*T_126828).Info, ((NU8) 100), ((NimStringDesc*) &TMP191995));
LA5: ;
}
N_NIMCALL(NU8, Cmptypes_125367)(TY50552* F_125369, TY50552* A_125370) {
NU8 Result_125371;
TY50564 Mapping_125372;
Result_125371 = 0;
memset((void*)&Mapping_125372, 0, sizeof(Mapping_125372));
Initidtable_50755(&Mapping_125372);
Result_125371 = Typerel_124244(&Mapping_125372, F_125369, A_125370);
return Result_125371;
}
N_NIMCALL(void, Typemismatch_126850)(TY50526* N_126852, TY50552* Formal_126853, TY50552* Actual_126854) {
NimStringDesc* LOC1;
NimStringDesc* LOC2;
NimStringDesc* LOC3;
NimStringDesc* LOC4;
TY42805 LOC5;
NimStringDesc* LOC6;
LOC1 = 0;
LOC2 = 0;
LOC2 = Msgkindtostring_42794(((NU8) 125));
LOC3 = 0;
LOC3 = Typetostring_93014(Actual_126854, ((NU8) 0));
LOC4 = 0;
LOC4 = Msgkindtostring_42794(((NU8) 127));
memset((void*)&LOC5, 0, sizeof(LOC5));
LOC5[0] = Typetostring_93014(Formal_126853, ((NU8) 0));
LOC6 = 0;
LOC6 = nsuFormatOpenArray(LOC4, LOC5, 1);
LOC1 = rawNewString(LOC2->Sup.len + LOC3->Sup.len + LOC6->Sup.len + 2);
appendString(LOC1, LOC2);
appendString(LOC1, LOC3);
appendString(LOC1, ((NimStringDesc*) &TMP192110));
appendString(LOC1, LOC6);
Globalerror_43139((*N_126852).Info, ((NU8) 4), LOC1);
}
N_NIMCALL(void, Sembranchexpr_128179)(TY103012* C_128181, TY50526* T_128182, TY50526** Ex_128184) {
NU8 LOC2;
unsureAsgnRef((void**) &(*Ex_128184), Semconstexpr_122171(C_128181, (*Ex_128184)));
Checkminsonslen_103413(T_128182, 1);
LOC2 = Cmptypes_125367((*(*T_128182).KindU.S6.Sons->data[0]).Typ, (*(*Ex_128184)).Typ);
if (!(LOC2 <= ((NU8) 1))) goto LA3;
Typemismatch_126850((*Ex_128184), (*(*T_128182).KindU.S6.Sons->data[0]).Typ, (*(*Ex_128184)).Typ);
LA3: ;
}
N_NIMCALL(void, Checkforoverlap_128119)(TY103012* C_128121, TY50526* T_128122, TY50526* Ex_128123, NI Branchindex_128124) {
NI I_128133;
NI HEX3Atmp_142705;
NI Res_142707;
NI J_128154;
NI HEX3Atmp_142702;
NI LOC2;
NI Res_142704;
NIM_BOOL LOC5;
I_128133 = 0;
HEX3Atmp_142705 = 0;
HEX3Atmp_142705 = (NI32)(Branchindex_128124 - 1);
Res_142707 = 0;
Res_142707 = 1;
while (1) {
if (!(Res_142707 <= HEX3Atmp_142705)) goto LA1;
I_128133 = Res_142707;
J_128154 = 0;
HEX3Atmp_142702 = 0;
LOC2 = Sonslen_50804((*T_128122).KindU.S6.Sons->data[I_128133]);
HEX3Atmp_142702 = (NI32)(LOC2 - 2);
Res_142704 = 0;
Res_142704 = 0;
while (1) {
if (!(Res_142704 <= HEX3Atmp_142702)) goto LA3;
J_128154 = Res_142704;
LOC5 = Overlap_100006((*(*T_128122).KindU.S6.Sons->data[I_128133]).KindU.S6.Sons->data[J_128154], Ex_128123);
if (!LOC5) goto LA6;
Localerror_43144((*Ex_128123).Info, ((NU8) 102), ((NimStringDesc*) &TMP191995));
LA6: ;
Res_142704 += 1;
} LA3: ;
Res_142707 += 1;
} LA1: ;
}
N_NIMCALL(void, Semcasebranch_128218)(TY103012* C_128220, TY50526* T_128221, TY50526* Branch_128222, NI Branchindex_128223, NI64* Covered_128225) {
NI I_128234;
NI HEX3Atmp_142708;
NI LOC1;
NI Res_142710;
TY50526* B_128247;
NIM_BOOL LOC7;
NI64 LOC10;
NI64 LOC11;
I_128234 = 0;
HEX3Atmp_142708 = 0;
LOC1 = Sonslen_50804(Branch_128222);
HEX3Atmp_142708 = (NI32)(LOC1 - 2);
Res_142710 = 0;
Res_142710 = 0;
while (1) {
if (!(Res_142710 <= HEX3Atmp_142708)) goto LA2;
I_128234 = Res_142710;
B_128247 = 0;
B_128247 = (*Branch_128222).KindU.S6.Sons->data[I_128234];
if (!((*B_128247).Kind == ((NU8) 35))) goto LA4;
Checksonslen_103407(B_128247, 2);
Sembranchexpr_128179(C_128220, T_128221, &(*B_128247).KindU.S6.Sons->data[0]);
Sembranchexpr_128179(C_128220, T_128221, &(*B_128247).KindU.S6.Sons->data[1]);
LOC7 = Emptyrange_100019((*B_128247).KindU.S6.Sons->data[0], (*B_128247).KindU.S6.Sons->data[1]);
if (!LOC7) goto LA8;
Globalerror_43139((*B_128247).Info, ((NU8) 103), ((NimStringDesc*) &TMP191995));
LA8: ;
LOC10 = Getordvalue_93109((*B_128247).KindU.S6.Sons->data[1]);
LOC11 = Getordvalue_93109((*B_128247).KindU.S6.Sons->data[0]);
(*Covered_128225) = (NI64)((NI64)((NI64)((*Covered_128225) + LOC10) - LOC11) + 1);
goto LA3;
LA4: ;
Sembranchexpr_128179(C_128220, T_128221, &(*Branch_128222).KindU.S6.Sons->data[I_128234]);
(*Covered_128225) += 1;
LA3: ;
Checkforoverlap_128119(C_128220, T_128221, (*Branch_128222).KindU.S6.Sons->data[I_128234], Branchindex_128223);
Res_142710 += 1;
} LA2: ;
}
N_NIMCALL(void, Semrecordcase_128378)(TY103012* C_128380, TY50526* N_128381, TY50895* Check_128383, NI* Pos_128385, TY50526* Father_128386, TY50548* Rectype_128387) {
NI64 Covered_128388;
NIM_BOOL Chckcovered_128389;
TY50526* A_128390;
TY50526* B_128391;
TY50552* Typ_128392;
NIM_BOOL LOC5;
NI64 LOC9;
NI64 LOC13;
NI I_128538;
NI HEX3Atmp_142711;
NI LOC16;
NI Res_142713;
NI LOC18;
TY50526* LOC19;
NIM_BOOL LOC21;
NI64 LOC23;
Covered_128388 = 0;
Chckcovered_128389 = 0;
A_128390 = 0;
B_128391 = 0;
Typ_128392 = 0;
A_128390 = Copynode_50849(N_128381);
Checkminsonslen_103413(N_128381, 2);
Semrecordnodeaux_128368(C_128380, (*N_128381).KindU.S6.Sons->data[0], Check_128383, Pos_128385, A_128390, Rectype_128387);
if (!!(((*(*A_128390).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA2;
Internalerror_43163(((NimStringDesc*) &TMP192109));
LA2: ;
(*(*(*A_128390).KindU.S6.Sons->data[0]).KindU.S4.Sym).Flags |=(1<<((NI32)(((NU8) 21))%(sizeof(NI32)*8)));
Covered_128388 = 0;
Typ_128392 = Skiptypes_93087((*(*A_128390).KindU.S6.Sons->data[0]).Typ, 8431616);
LOC5 = Isordinaltype_93069(Typ_128392);
if (!!(LOC5)) goto LA6;
Globalerror_43139((*N_128381).Info, ((NU8) 105), ((NimStringDesc*) &TMP191995));
LA6: ;
LOC9 = Firstord_93001(Typ_128392);
if (!(LOC9 < 0)) goto LA10;
Globalerror_43139((*N_128381).Info, ((NU8) 106), (*(*(*(*A_128390).KindU.S6.Sons->data[0]).KindU.S4.Sym).Name).S);
LA10: ;
LOC13 = Lengthord_93007(Typ_128392);
if (!(32767 < LOC13)) goto LA14;
Globalerror_43139((*N_128381).Info, ((NU8) 107), (*(*(*(*A_128390).KindU.S6.Sons->data[0]).KindU.S4.Sym).Name).S);
LA14: ;
Chckcovered_128389 = NIM_TRUE;
I_128538 = 0;
HEX3Atmp_142711 = 0;
LOC16 = Sonslen_50804(N_128381);
HEX3Atmp_142711 = (NI32)(LOC16 - 1);
Res_142713 = 0;
Res_142713 = 1;
while (1) {
if (!(Res_142713 <= HEX3Atmp_142711)) goto LA17;
I_128538 = Res_142713;
B_128391 = Copytree_50852((*N_128381).KindU.S6.Sons->data[I_128538]);
switch ((*(*N_128381).KindU.S6.Sons->data[I_128538]).Kind) {
case ((NU8) 75):
Checkminsonslen_103413(B_128391, 2);
Semcasebranch_128218(C_128380, A_128390, B_128391, I_128538, &Covered_128388);
break;
case ((NU8) 78):
Chckcovered_128389 = NIM_FALSE;
Checksonslen_103407(B_128391, 1);
break;
default:
Illformedast_103403(N_128381);
break;
}
LOC18 = Sonslen_50804(B_128391);
Delson_50832(B_128391, (NI32)(LOC18 - 1));
LOC19 = 0;
LOC19 = Lastson_50810((*N_128381).KindU.S6.Sons->data[I_128538]);
Semrecordnodeaux_128368(C_128380, LOC19, Check_128383, Pos_128385, B_128391, Rectype_128387);
Addson_50824(A_128390, B_128391);
Res_142713 += 1;
} LA17: ;
LOC21 = Chckcovered_128389;
if (!(LOC21)) goto LA22;
LOC23 = Lengthord_93007((*(*A_128390).KindU.S6.Sons->data[0]).Typ);
LOC21 = !((Covered_128388 == LOC23));
LA22: ;
if (!LOC21) goto LA24;
Localerror_43144((*A_128390).Info, ((NU8) 147), ((NimStringDesc*) &TMP191995));
LA24: ;
Addson_50824(Father_128386, A_128390);
}
N_NIMCALL(TY50548*, Newsyms_122059)(NU8 Kind_122061, TY50526* N_122062, TY103012* C_122063) {
TY50548* Result_122064;
TY49011* LOC1;
TY50548* LOC2;
Result_122064 = 0;
LOC1 = 0;
LOC1 = Consideracc_122003(N_122062);
LOC2 = 0;
LOC2 = Getcurrowner_103092();
Result_122064 = Newsym_50702(Kind_122061, LOC1, LOC2);
(*Result_122064).Info = (*N_122062).Info;
return Result_122064;
}
N_NIMCALL(TY50548*, Semidentvis_122092)(TY103012* C_122094, NU8 Kind_122095, TY50526* N_122096, NU32 Allowed_122097) {
TY50548* Result_127913;
NIM_BOOL LOC5;
NI LOC6;
TY49011* V_127982;
NIM_BOOL LOC11;
NIM_BOOL LOC15;
Result_127913 = 0;
if (!((*N_122096).Kind == ((NU8) 29))) goto LA2;
LOC6 = Sonslen_50804(N_122096);
LOC5 = (LOC6 == 2);
if (!(LOC5)) goto LA7;
LOC5 = ((*(*N_122096).KindU.S6.Sons->data[0]).Kind == ((NU8) 2));
LA7: ;
if (!LOC5) goto LA8;
Result_127913 = Newsyms_122059(Kind_122095, (*N_122096).KindU.S6.Sons->data[1], C_122094);
V_127982 = 0;
V_127982 = (*(*N_122096).KindU.S6.Sons->data[0]).KindU.S5.Ident;
LOC11 = ((Allowed_122097 &(1<<((((NU8) 1))&31)))!=0);
if (!(LOC11)) goto LA12;
LOC11 = ((*V_127982).Sup.Id == 69);
LA12: ;
if (!LOC11) goto LA13;
(*Result_127913).Flags |=(1<<((NI32)(((NU8) 1))%(sizeof(NI32)*8)));
goto LA10;
LA13: ;
LOC15 = ((Allowed_122097 &(1<<((((NU8) 2))&31)))!=0);
if (!(LOC15)) goto LA16;
LOC15 = ((*V_127982).Sup.Id == 70);
LA16: ;
if (!LOC15) goto LA17;
(*Result_127913).Flags |=(1<<((NI32)(((NU8) 2))%(sizeof(NI32)*8)));
goto LA10;
LA17: ;
Globalerror_43139((*(*N_122096).KindU.S6.Sons->data[0]).Info, ((NU8) 171), (*V_127982).S);
LA10: ;
goto LA4;
LA8: ;
Illformedast_103403(N_122096);
LA4: ;
goto LA1;
LA2: ;
Result_127913 = Newsyms_122059(Kind_122095, N_122096, C_122094);
LA1: ;
return Result_127913;
}
N_NIMCALL(TY50548*, Semidentwithpragma_122098)(TY103012* C_122100, NU8 Kind_122101, TY50526* N_122102, NU32 Allowed_122103) {
TY50548* Result_128061;
Result_128061 = 0;
if (!((*N_122102).Kind == ((NU8) 34))) goto LA2;
Checksonslen_103407(N_122102, 2);
Result_128061 = Semidentvis_122092(C_122100, Kind_122101, (*N_122102).KindU.S6.Sons->data[0], Allowed_122103);
switch (Kind_122101) {
case ((NU8) 7):
break;
case ((NU8) 16):
Pragma_118028(C_122100, Result_128061, (*N_122102).KindU.S6.Sons->data[1], TMP192116);
break;
case ((NU8) 9):
Pragma_118028(C_122100, Result_128061, (*N_122102).KindU.S6.Sons->data[1], TMP192117);
break;
case ((NU8) 8):
Pragma_118028(C_122100, Result_128061, (*N_122102).KindU.S6.Sons->data[1], TMP192118);
break;
default:
break;
}
goto LA1;
LA2: ;
Result_128061 = Semidentvis_122092(C_122100, Kind_122101, N_122102, Allowed_122103);
LA1: ;
return Result_128061;
}
N_NIMCALL(void, Semrecordnodeaux_128368)(TY103012* C_128370, TY50526* N_128371, TY50895* Check_128373, NI* Pos_128375, TY50526* Father_128376, TY50548* Rectype_128377) {
NI Length_128600;
TY50548* F_128601;
TY50526* A_128602;
TY50526* It_128603;
TY50526* E_128604;
TY50526* Branch_128605;
TY50552* Typ_128606;
NI I_128626;
NI HEX3Atmp_142714;
NI LOC4;
NI Res_142716;
NIM_BOOL LOC13;
TY50526* LOC26;
TY50526* A_128760;
TY50526* LOC27;
NI I_128769;
NI HEX3Atmp_142717;
NI LOC30;
NI Res_142719;
NIM_BOOL LOC36;
NI I_128876;
NI HEX3Atmp_142720;
NI LOC46;
NI Res_142722;
NIM_BOOL LOC49;
NIM_BOOL LOC50;
NIM_BOOL LOC56;
TY50526* LOC62;
TY50526* LOC63;
Length_128600 = 0;
F_128601 = 0;
A_128602 = 0;
It_128603 = 0;
E_128604 = 0;
Branch_128605 = 0;
Typ_128606 = 0;
if (!(N_128371 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*N_128371).Kind) {
case ((NU8) 115):
Branch_128605 = NIM_NIL;
I_128626 = 0;
HEX3Atmp_142714 = 0;
LOC4 = Sonslen_50804(N_128371);
HEX3Atmp_142714 = (NI32)(LOC4 - 1);
Res_142716 = 0;
Res_142716 = 0;
while (1) {
if (!(Res_142716 <= HEX3Atmp_142714)) goto LA5;
I_128626 = Res_142716;
It_128603 = (*N_128371).KindU.S6.Sons->data[I_128626];
if (!(It_128603 == NIM_NIL)) goto LA7;
Illformedast_103403(N_128371);
LA7: ;
switch ((*It_128603).Kind) {
case ((NU8) 76):
Checksonslen_103407(It_128603, 2);
E_128604 = Semconstexpr_122171(C_128370, (*It_128603).KindU.S6.Sons->data[0]);
Checkbool_126826(E_128604);
if (!!(((*E_128604).Kind == ((NU8) 6)))) goto LA10;
Internalerror_43159((*E_128604).Info, ((NimStringDesc*) &TMP192108));
LA10: ;
LOC13 = !(((*E_128604).KindU.S1.Intval == 0));
if (!(LOC13)) goto LA14;
LOC13 = (Branch_128605 == NIM_NIL);
LA14: ;
if (!LOC13) goto LA15;
Branch_128605 = (*It_128603).KindU.S6.Sons->data[1];
LA15: ;
break;
case ((NU8) 78):
Checksonslen_103407(It_128603, 1);
if (!(Branch_128605 == NIM_NIL)) goto LA18;
Branch_128605 = (*It_128603).KindU.S6.Sons->data[0];
LA18: ;
break;
default:
Illformedast_103403(N_128371);
break;
}
Res_142716 += 1;
} LA5: ;
if (!!((Branch_128605 == NIM_NIL))) goto LA21;
Semrecordnodeaux_128368(C_128370, Branch_128605, Check_128373, Pos_128375, Father_128376, Rectype_128377);
LA21: ;
break;
case ((NU8) 114):
Semrecordcase_128378(C_128370, N_128371, Check_128373, Pos_128375, Father_128376, Rectype_128377);
break;
case ((NU8) 18):
if (!!(((*Father_128376).Kind == ((NU8) 113)))) goto LA24;
LOC26 = 0;
LOC26 = Newnodei_50738(((NU8) 113), (*N_128371).Info);
Addson_50824(Father_128376, LOC26);
LA24: ;
break;
case ((NU8) 113):
A_128760 = 0;
LOC27 = 0;
if (!((*Father_128376).Kind == ((NU8) 113))) goto LA29;
LOC27 = Father_128376;
goto LA28;
LA29: ;
LOC27 = Copynode_50849(N_128371);
LA28: ;
A_128760 = LOC27;
I_128769 = 0;
HEX3Atmp_142717 = 0;
LOC30 = Sonslen_50804(N_128371);
HEX3Atmp_142717 = (NI32)(LOC30 - 1);
Res_142719 = 0;
Res_142719 = 0;
while (1) {
if (!(Res_142719 <= HEX3Atmp_142717)) goto LA31;
I_128769 = Res_142719;
Semrecordnodeaux_128368(C_128370, (*N_128371).KindU.S6.Sons->data[I_128769], Check_128373, Pos_128375, A_128760, Rectype_128377);
Res_142719 += 1;
} LA31: ;
if (!!((A_128760 == Father_128376))) goto LA33;
Addson_50824(Father_128376, A_128760);
LA33: ;
break;
case ((NU8) 25):
Checkminsonslen_103413(N_128371, 3);
Length_128600 = Sonslen_50804(N_128371);
LOC36 = !(((*Father_128376).Kind == ((NU8) 113)));
if (!(LOC36)) goto LA37;
LOC36 = (4 <= Length_128600);
LA37: ;
if (!LOC36) goto LA38;
A_128602 = Newnodei_50738(((NU8) 113), (*N_128371).Info);
goto LA35;
LA38: ;
A_128602 = Emptynode_50858;
LA35: ;
if (!!(((*(*N_128371).KindU.S6.Sons->data[(NI32)(Length_128600 - 1)]).Kind == ((NU8) 1)))) goto LA41;
Localerror_43144((*(*N_128371).KindU.S6.Sons->data[(NI32)(Length_128600 - 1)]).Info, ((NU8) 172), ((NimStringDesc*) &TMP191995));
LA41: ;
if (!((*(*N_128371).KindU.S6.Sons->data[(NI32)(Length_128600 - 2)]).Kind == ((NU8) 1))) goto LA44;
Globalerror_43139((*N_128371).Info, ((NU8) 60), ((NimStringDesc*) &TMP191995));
LA44: ;
Typ_128606 = Semtypenode_122138(C_128370, (*N_128371).KindU.S6.Sons->data[(NI32)(Length_128600 - 2)], NIM_NIL);
I_128876 = 0;
HEX3Atmp_142720 = 0;
LOC46 = Sonslen_50804(N_128371);
HEX3Atmp_142720 = (NI32)(LOC46 - 3);
Res_142722 = 0;
Res_142722 = 0;
while (1) {
if (!(Res_142722 <= HEX3Atmp_142720)) goto LA47;
I_128876 = Res_142722;
F_128601 = Semidentwithpragma_122098(C_128370, ((NU8) 16), (*N_128371).KindU.S6.Sons->data[I_128876], 6);
asgnRef((void**) &(*F_128601).Typ, Typ_128606);
(*F_128601).Position = (*Pos_128375);
LOC50 = !((Rectype_128377 == NIM_NIL));
if (!(LOC50)) goto LA51;
LOC50 = !(((384 & (*Rectype_128377).Flags) == 0));
LA51: ;
LOC49 = LOC50;
if (!(LOC49)) goto LA52;
LOC49 = ((*F_128601).Loc.R == NIM_NIL);
LA52: ;
if (!LOC49) goto LA53;
asgnRefNoCycle((void**) &(*F_128601).Loc.R, Torope_47046((*(*F_128601).Name).S));
(*F_128601).Flags = ((*F_128601).Flags | (384 & (*Rectype_128377).Flags));
LA53: ;
(*Pos_128375) += 1;
LOC56 = Intsetcontainsorincl_50923(Check_128373, (*(*F_128601).Name).Sup.Id);
if (!LOC56) goto LA57;
Localerror_43144((*(*N_128371).KindU.S6.Sons->data[I_128876]).Info, ((NU8) 37), (*(*F_128601).Name).S);
LA57: ;
if (!((*A_128602).Kind == ((NU8) 1))) goto LA60;
LOC62 = 0;
LOC62 = Newsymnode_50735(F_128601);
Addson_50824(Father_128376, LOC62);
goto LA59;
LA60: ;
LOC63 = 0;
LOC63 = Newsymnode_50735(F_128601);
Addson_50824(A_128602, LOC63);
LA59: ;
Res_142722 += 1;
} LA47: ;
if (!!(((*A_128602).Kind == ((NU8) 1)))) goto LA65;
Addson_50824(Father_128376, A_128602);
LA65: ;
break;
case ((NU8) 1):
break;
default:
Illformedast_103403(N_128371);
break;
}
BeforeRet: ;
}
N_NIMCALL(TY50552*, Semobjectnode_129141)(TY103012* C_129143, TY50526* N_129144, TY50552* Prev_129145) {
TY50552* Result_129146;
TY50895 Check_129147;
TY50552* Base_129148;
NI Pos_129149;
NIM_BOOL LOC11;
Result_129146 = 0;
memset((void*)&Check_129147, 0, sizeof(Check_129147));
Base_129148 = 0;
Pos_129149 = 0;
Intsetinit_50919(&Check_129147);
Pos_129149 = 0;
Checksonslen_103407(N_129144, 3);
if (!!(((*(*N_129144).KindU.S6.Sons->data[1]).Kind == ((NU8) 1)))) goto LA2;
Base_129148 = Semtypenode_122138(C_129143, (*(*N_129144).KindU.S6.Sons->data[1]).KindU.S6.Sons->data[0], NIM_NIL);
if (!((*Base_129148).Kind == ((NU8) 17))) goto LA5;
Addinheritedfields_129118(C_129143, &Check_129147, &Pos_129149, Base_129148);
goto LA4;
LA5: ;
Localerror_43144((*(*N_129144).KindU.S6.Sons->data[1]).Info, ((NU8) 118), ((NimStringDesc*) &TMP191995));
LA4: ;
goto LA1;
LA2: ;
Base_129148 = NIM_NIL;
LA1: ;
if (!!(((*N_129144).Kind == ((NU8) 111)))) goto LA8;
Internalerror_43159((*N_129144).Info, ((NimStringDesc*) &TMP192107));
LA8: ;
Result_129146 = Neworprevtype_126876(((NU8) 17), Prev_129145, C_129143);
Addson_50828(Result_129146, Base_129148);
asgnRefNoCycle((void**) &(*Result_129146).N, Newnodei_50738(((NU8) 113), (*N_129144).Info));
Semrecordnodeaux_128368(C_129143, (*N_129144).KindU.S6.Sons->data[2], &Check_129147, &Pos_129149, (*Result_129146).N, (*Result_129146).Sym);
LOC11 = !((Base_129148 == NIM_NIL));
if (!(LOC11)) goto LA12;
LOC11 = (((*Base_129148).Flags &(1<<((((NU8) 2))&7)))!=0);
LA12: ;
if (!LOC11) goto LA13;
Localerror_43144((*(*N_129144).KindU.S6.Sons->data[1]).Info, ((NU8) 118), ((NimStringDesc*) &TMP191995));
LA13: ;
return Result_129146;
}
N_NIMCALL(TY50552*, Semtuple_127678)(TY103012* C_127680, TY50526* N_127681, TY50552* Prev_127682) {
TY50552* Result_127683;
TY50552* Typ_127684;
TY50895 Check_127685;
NI Counter_127687;
NI I_127696;
NI HEX3Atmp_142696;
NI LOC1;
NI Res_142698;
TY50526* A_127709;
NI Length_127719;
NI J_127794;
NI HEX3Atmp_142693;
NI Res_142695;
TY50548* Field_127807;
NIM_BOOL LOC14;
TY50526* LOC17;
Result_127683 = 0;
Typ_127684 = 0;
memset((void*)&Check_127685, 0, sizeof(Check_127685));
Result_127683 = Neworprevtype_126876(((NU8) 18), Prev_127682, C_127680);
asgnRefNoCycle((void**) &(*Result_127683).N, Newnodei_50738(((NU8) 113), (*N_127681).Info));
Intsetinit_50919(&Check_127685);
Counter_127687 = 0;
Counter_127687 = 0;
I_127696 = 0;
HEX3Atmp_142696 = 0;
LOC1 = Sonslen_50804(N_127681);
HEX3Atmp_142696 = (NI32)(LOC1 - 1);
Res_142698 = 0;
Res_142698 = 0;
while (1) {
if (!(Res_142698 <= HEX3Atmp_142696)) goto LA2;
I_127696 = Res_142698;
A_127709 = 0;
A_127709 = (*N_127681).KindU.S6.Sons->data[I_127696];
if (!!(((*A_127709).Kind == ((NU8) 25)))) goto LA4;
Illformedast_103403(A_127709);
LA4: ;
Checkminsonslen_103413(A_127709, 3);
Length_127719 = 0;
Length_127719 = Sonslen_50804(A_127709);
if (!!(((*(*A_127709).KindU.S6.Sons->data[(NI32)(Length_127719 - 2)]).Kind == ((NU8) 1)))) goto LA7;
Typ_127684 = Semtypenode_122138(C_127680, (*A_127709).KindU.S6.Sons->data[(NI32)(Length_127719 - 2)], NIM_NIL);
goto LA6;
LA7: ;
Globalerror_43139((*A_127709).Info, ((NU8) 60), ((NimStringDesc*) &TMP191995));
LA6: ;
if (!!(((*(*A_127709).KindU.S6.Sons->data[(NI32)(Length_127719 - 1)]).Kind == ((NU8) 1)))) goto LA10;
Globalerror_43139((*(*A_127709).KindU.S6.Sons->data[(NI32)(Length_127719 - 1)]).Info, ((NU8) 172), ((NimStringDesc*) &TMP191995));
LA10: ;
J_127794 = 0;
HEX3Atmp_142693 = 0;
HEX3Atmp_142693 = (NI32)(Length_127719 - 3);
Res_142695 = 0;
Res_142695 = 0;
while (1) {
if (!(Res_142695 <= HEX3Atmp_142693)) goto LA12;
J_127794 = Res_142695;
Field_127807 = 0;
Field_127807 = Newsyms_122059(((NU8) 16), (*A_127709).KindU.S6.Sons->data[J_127794], C_127680);
asgnRef((void**) &(*Field_127807).Typ, Typ_127684);
(*Field_127807).Position = Counter_127687;
Counter_127687 += 1;
LOC14 = Intsetcontainsorincl_50923(&Check_127685, (*(*Field_127807).Name).Sup.Id);
if (!LOC14) goto LA15;
Globalerror_43139((*(*A_127709).KindU.S6.Sons->data[J_127794]).Info, ((NU8) 37), (*(*Field_127807).Name).S);
LA15: ;
LOC17 = 0;
LOC17 = Newsymnode_50735(Field_127807);
Addson_50824((*Result_127683).N, LOC17);
Addson_50828(Result_127683, Typ_127684);
Res_142695 += 1;
} LA12: ;
Res_142698 += 1;
} LA2: ;
return Result_127683;
}
N_NIMCALL(TY50552*, Semanyref_127280)(TY103012* C_127282, TY50526* N_127283, NU8 Kind_127284, NimStringDesc* Kindstr_127285, TY50552* Prev_127286) {
TY50552* Result_127287;
NI LOC2;
TY50552* Base_127302;
Result_127287 = 0;
Result_127287 = Neworprevtype_126876(Kind_127284, Prev_127286, C_127282);
LOC2 = Sonslen_50804(N_127283);
if (!(LOC2 == 1)) goto LA3;
Base_127302 = 0;
Base_127302 = Semtypenode_122138(C_127282, (*N_127283).KindU.S6.Sons->data[0], NIM_NIL);
Addson_50828(Result_127287, Base_127302);
goto LA1;
LA3: ;
Globalerror_43139((*N_127283).Info, ((NU8) 169), Kindstr_127285);
LA1: ;
return Result_127287;
}
N_NIMCALL(TY50552*, Semvartype_127303)(TY103012* C_127305, TY50526* N_127306, TY50552* Prev_127307) {
TY50552* Result_127308;
NI LOC2;
TY50552* Base_127323;
Result_127308 = 0;
Result_127308 = Neworprevtype_126876(((NU8) 23), Prev_127307, C_127305);
LOC2 = Sonslen_50804(N_127306);
if (!(LOC2 == 1)) goto LA3;
Base_127323 = 0;
Base_127323 = Semtypenode_122138(C_127305, (*N_127306).KindU.S6.Sons->data[0], NIM_NIL);
if (!((*Base_127323).Kind == ((NU8) 23))) goto LA6;
Globalerror_43139((*N_127306).Info, ((NU8) 191), ((NimStringDesc*) &TMP191995));
LA6: ;
Addson_50828(Result_127308, Base_127323);
goto LA1;
LA3: ;
Globalerror_43139((*N_127306).Info, ((NU8) 169), ((NimStringDesc*) &TMP192121));
LA1: ;
return Result_127308;
}
N_NIMCALL(TY50552*, Semdistinct_127333)(TY103012* C_127335, TY50526* N_127336, TY50552* Prev_127337) {
TY50552* Result_127338;
NI LOC2;
TY50552* LOC5;
Result_127338 = 0;
Result_127338 = Neworprevtype_126876(((NU8) 13), Prev_127337, C_127335);
LOC2 = Sonslen_50804(N_127336);
if (!(LOC2 == 1)) goto LA3;
LOC5 = 0;
LOC5 = Semtypenode_122138(C_127335, (*N_127336).KindU.S6.Sons->data[0], NIM_NIL);
Addson_50828(Result_127338, LOC5);
goto LA1;
LA3: ;
Globalerror_43139((*N_127336).Info, ((NU8) 169), ((NimStringDesc*) &TMP192122));
LA1: ;
return Result_127338;
}
N_NIMCALL(TY50552*, Semenum_126902)(TY103012* C_126904, TY50526* N_126905, TY50552* Prev_126906) {
TY50552* Result_126907;
NI64 Counter_126908;
NI64 X_126909;
TY50548* E_126910;
TY50552* Base_126911;
NI64 LOC7;
NI I_126986;
NI HEX3Atmp_142690;
NI LOC8;
NI Res_142692;
TY50526* V_127047;
TY50526* Strval_127048;
TY50552* LOC10;
NI LOC12;
TY50552* LOC16;
NIM_BOOL LOC29;
TY50526* LOC33;
Result_126907 = 0;
Counter_126908 = 0;
X_126909 = 0;
E_126910 = 0;
Base_126911 = 0;
Counter_126908 = 0;
Base_126911 = NIM_NIL;
Result_126907 = Neworprevtype_126876(((NU8) 14), Prev_126906, C_126904);
asgnRefNoCycle((void**) &(*Result_126907).N, Newnodei_50738(((NU8) 121), (*N_126905).Info));
Checkminsonslen_103413(N_126905, 1);
if (!!(((*(*N_126905).KindU.S6.Sons->data[0]).Kind == ((NU8) 1)))) goto LA2;
Base_126911 = Semtypenode_122138(C_126904, (*(*N_126905).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[0], NIM_NIL);
if (!!(((*Base_126911).Kind == ((NU8) 14)))) goto LA5;
Localerror_43144((*(*N_126905).KindU.S6.Sons->data[0]).Info, ((NU8) 119), ((NimStringDesc*) &TMP191995));
LA5: ;
LOC7 = Lastord_93004(Base_126911);
Counter_126908 = (NI64)(LOC7 + 1);
LA2: ;
Addson_50828(Result_126907, Base_126911);
I_126986 = 0;
HEX3Atmp_142690 = 0;
LOC8 = Sonslen_50804(N_126905);
HEX3Atmp_142690 = (NI32)(LOC8 - 1);
Res_142692 = 0;
Res_142692 = 1;
while (1) {
if (!(Res_142692 <= HEX3Atmp_142690)) goto LA9;
I_126986 = Res_142692;
switch ((*(*N_126905).KindU.S6.Sons->data[I_126986]).Kind) {
case ((NU8) 122):
E_126910 = Newsyms_122059(((NU8) 17), (*(*N_126905).KindU.S6.Sons->data[I_126986]).KindU.S6.Sons->data[0], C_126904);
V_127047 = 0;
V_127047 = Semconstexpr_122171(C_126904, (*(*N_126905).KindU.S6.Sons->data[I_126986]).KindU.S6.Sons->data[1]);
Strval_127048 = 0;
Strval_127048 = NIM_NIL;
LOC10 = 0;
LOC10 = Skiptypes_93087((*V_127047).Typ, 43008);
switch ((*LOC10).Kind) {
case ((NU8) 18):
LOC12 = Sonslen_50804(V_127047);
if (!!((LOC12 == 2))) goto LA13;
Globalerror_43139((*V_127047).Info, ((NU8) 108), ((NimStringDesc*) &TMP191995));
LA13: ;
Strval_127048 = (*V_127047).KindU.S6.Sons->data[1];
LOC16 = 0;
LOC16 = Skiptypes_93087((*Strval_127048).Typ, 43008);
if (!!(((*LOC16).Kind == ((NU8) 28) || (*LOC16).Kind == ((NU8) 29)))) goto LA17;
Globalerror_43139((*Strval_127048).Info, ((NU8) 6), ((NimStringDesc*) &TMP191995));
LA17: ;
X_126909 = Getordvalue_93109((*V_127047).KindU.S6.Sons->data[0]);
break;
case ((NU8) 28):
case ((NU8) 29):
Strval_127048 = V_127047;
X_126909 = Counter_126908;
break;
default:
X_126909 = Getordvalue_93109(V_127047);
break;
}
if (!!((I_126986 == 1))) goto LA20;
if (!!((X_126909 == Counter_126908))) goto LA23;
(*Result_126907).Flags |=(1<<((NI8)(((NU8) 4))%(sizeof(NI8)*8)));
LA23: ;
if (!(X_126909 < Counter_126908)) goto LA26;
Globalerror_43139((*(*N_126905).KindU.S6.Sons->data[I_126986]).Info, ((NU8) 141), (*(*E_126910).Name).S);
LA26: ;
LA20: ;
asgnRefNoCycle((void**) &(*E_126910).Ast, Strval_127048);
Counter_126908 = X_126909;
break;
case ((NU8) 3):
E_126910 = (*(*N_126905).KindU.S6.Sons->data[I_126986]).KindU.S4.Sym;
break;
case ((NU8) 2):
E_126910 = Newsyms_122059(((NU8) 17), (*N_126905).KindU.S6.Sons->data[I_126986], C_126904);
break;
default:
Illformedast_103403(N_126905);
break;
}
asgnRef((void**) &(*E_126910).Typ, Result_126907);
(*E_126910).Position = ((NI) (Counter_126908));
LOC29 = !(((*Result_126907).Sym == NIM_NIL));
if (!(LOC29)) goto LA30;
LOC29 = (((*(*Result_126907).Sym).Flags &(1<<((((NU8) 3))&31)))!=0);
LA30: ;
if (!LOC29) goto LA31;
(*E_126910).Flags |=(1<<((NI32)(((NU8) 0))%(sizeof(NI32)*8)));
(*E_126910).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
Strtableadd_55061(&(*(*C_126904).Module).Tab, E_126910);
LA31: ;
LOC33 = 0;
LOC33 = Newsymnode_50735(E_126910);
Addson_50824((*Result_126907).N, LOC33);
Adddeclat_104128(C_126904, E_126910, ((NI) ((NI32)(((NI) ((*C_126904).Tab.Tos)) - 1))));
Counter_126908 += 1;
Res_142692 += 1;
} LA9: ;
return Result_126907;
}
N_NIMCALL(TY50552*, Semstmtlisttype_129625)(TY103012* C_129627, TY50526* N_129628, TY50552* Prev_129629) {
TY50552* Result_129630;
NI Length_129631;
NI I_129640;
NI HEX3Atmp_142744;
NI Res_142746;
Result_129630 = 0;
Checkminsonslen_103413(N_129628, 1);
Length_129631 = 0;
Length_129631 = Sonslen_50804(N_129628);
I_129640 = 0;
HEX3Atmp_142744 = 0;
HEX3Atmp_142744 = (NI32)(Length_129631 - 2);
Res_142746 = 0;
Res_142746 = 0;
while (1) {
if (!(Res_142746 <= HEX3Atmp_142744)) goto LA1;
I_129640 = Res_142746;
asgnRefNoCycle((void**) &(*N_129628).KindU.S6.Sons->data[I_129640], Semstmt_122143(C_129627, (*N_129628).KindU.S6.Sons->data[I_129640]));
Res_142746 += 1;
} LA1: ;
if (!(0 < Length_129631)) goto LA3;
Result_129630 = Semtypenode_122138(C_129627, (*N_129628).KindU.S6.Sons->data[(NI32)(Length_129631 - 1)], Prev_129629);
asgnRef((void**) &(*N_129628).Typ, Result_129630);
asgnRef((void**) &(*(*N_129628).KindU.S6.Sons->data[(NI32)(Length_129631 - 1)]).Typ, Result_129630);
goto LA2;
LA3: ;
Result_129630 = NIM_NIL;
LA2: ;
return Result_129630;
}
N_NIMCALL(TY50552*, Semblocktype_129693)(TY103012* C_129695, TY50526* N_129696, TY50552* Prev_129697) {
TY50552* Result_129698;
TY50548* LOC4;
Result_129698 = 0;
(*(*C_129695).P).Nestedblockcounter += 1;
Checksonslen_103407(N_129696, 2);
Openscope_55141(&(*C_129695).Tab);
if (!!(((*(*N_129696).KindU.S6.Sons->data[0]).Kind == ((NU8) 1)))) goto LA2;
LOC4 = 0;
LOC4 = Newsyms_122059(((NU8) 19), (*N_129696).KindU.S6.Sons->data[0], C_129695);
Adddecl_104114(C_129695, LOC4);
LA2: ;
Result_129698 = Semstmtlisttype_129625(C_129695, (*N_129696).KindU.S6.Sons->data[1], Prev_129697);
asgnRef((void**) &(*(*N_129696).KindU.S6.Sons->data[1]).Typ, Result_129698);
asgnRef((void**) &(*N_129696).Typ, Result_129698);
Closescope_104018(&(*C_129695).Tab);
(*(*C_129695).P).Nestedblockcounter -= 1;
return Result_129698;
}
N_NIMCALL(TY50552*, Semtypenode_122138)(TY103012* C_122140, TY50526* N_122141, TY50552* Prev_122142) {
TY50552* Result_129787;
TY50548* S_129788;
TY50552* T_129789;
TY50526* LOC1;
NI LOC3;
NIM_BOOL LOC13;
TY49011* LOC20;
TY50526* LOC21;
Result_129787 = 0;
S_129788 = 0;
T_129789 = 0;
Result_129787 = NIM_NIL;
switch ((*N_122141).Kind) {
case ((NU8) 1):
break;
case ((NU8) 110):
LOC1 = 0;
LOC1 = Semexprwithtype_122122(C_122140, N_122141, 1);
Result_129787 = (*LOC1).Typ;
break;
case ((NU8) 30):
LOC3 = Sonslen_50804(N_122141);
if (!(LOC3 == 1)) goto LA4;
Result_129787 = Semtypenode_122138(C_122140, (*N_122141).KindU.S6.Sons->data[0], Prev_122142);
goto LA2;
LA4: ;
Globalerror_43139((*N_122141).Info, ((NU8) 60), ((NimStringDesc*) &TMP191995));
LA2: ;
break;
case ((NU8) 33):
Checkminsonslen_103413(N_122141, 2);
S_129788 = Semtypeident_127652(C_122140, (*N_122141).KindU.S6.Sons->data[0]);
switch ((*S_129788).Magic) {
case ((NU8) 163):
Result_129787 = Semarray_127501(C_122140, N_122141, Prev_122142);
break;
case ((NU8) 164):
Result_129787 = Semcontainer_127257(C_122140, N_122141, ((NU8) 27), ((NimStringDesc*) &TMP192098), Prev_122142);
break;
case ((NU8) 165):
Result_129787 = Semrange_127448(C_122140, N_122141, Prev_122142);
break;
case ((NU8) 166):
Result_129787 = Semset_127214(C_122140, N_122141, Prev_122142);
break;
case ((NU8) 168):
Result_129787 = Semordinal_127610(C_122140, N_122141, Prev_122142);
break;
case ((NU8) 167):
Result_129787 = Semcontainer_127257(C_122140, N_122141, ((NU8) 24), ((NimStringDesc*) &TMP192102), Prev_122142);
break;
default:
Result_129787 = Semgeneric_127833(C_122140, N_122141, S_129788, Prev_122142);
break;
}
break;
case ((NU8) 2):
case ((NU8) 36):
case ((NU8) 43):
S_129788 = Semtypeident_127652(C_122140, N_122141);
if (!((*S_129788).Typ == NIM_NIL)) goto LA7;
Globalerror_43139((*N_122141).Info, ((NU8) 60), ((NimStringDesc*) &TMP191995));
LA7: ;
if (!(Prev_122142 == NIM_NIL)) goto LA10;
Result_129787 = (*S_129788).Typ;
goto LA9;
LA10: ;
Assigntype_50780(Prev_122142, (*S_129788).Typ);
(*Prev_122142).Sup.Id = (*(*S_129788).Typ).Sup.Id;
Result_129787 = Prev_122142;
LA9: ;
break;
case ((NU8) 3):
LOC13 = ((*(*N_122141).KindU.S4.Sym).Kind == ((NU8) 7));
if (!(LOC13)) goto LA14;
LOC13 = !(((*(*N_122141).KindU.S4.Sym).Typ == NIM_NIL));
LA14: ;
if (!LOC13) goto LA15;
T_129789 = (*(*N_122141).KindU.S4.Sym).Typ;
if (!(Prev_122142 == NIM_NIL)) goto LA18;
Result_129787 = T_129789;
goto LA17;
LA18: ;
Assigntype_50780(Prev_122142, T_129789);
Result_129787 = Prev_122142;
LA17: ;
Markused_122065(N_122141, (*N_122141).KindU.S4.Sym);
goto LA12;
LA15: ;
Globalerror_43139((*N_122141).Info, ((NU8) 60), ((NimStringDesc*) &TMP191995));
LA12: ;
break;
case ((NU8) 111):
Result_129787 = Semobjectnode_129141(C_122140, N_122141, Prev_122142);
break;
case ((NU8) 112):
Result_129787 = Semtuple_127678(C_122140, N_122141, Prev_122142);
break;
case ((NU8) 116):
Result_129787 = Semanyref_127280(C_122140, N_122141, ((NU8) 22), ((NimStringDesc*) &TMP192119), Prev_122142);
break;
case ((NU8) 117):
Result_129787 = Semanyref_127280(C_122140, N_122141, ((NU8) 21), ((NimStringDesc*) &TMP192120), Prev_122142);
break;
case ((NU8) 118):
Result_129787 = Semvartype_127303(C_122140, N_122141, Prev_122142);
break;
case ((NU8) 119):
Result_129787 = Semdistinct_127333(C_122140, N_122141, Prev_122142);
break;
case ((NU8) 120):
Checksonslen_103407(N_122141, 2);
Result_129787 = Semproctypenode_129374(C_122140, (*N_122141).KindU.S6.Sons->data[0], NIM_NIL, Prev_122142);
LOC20 = 0;
LOC20 = Getident_49016(((NimStringDesc*) &TMP192123));
LOC21 = 0;
LOC21 = Newidentnode_50731(LOC20, (*N_122141).Info);
S_129788 = Newsyms_122059(((NU8) 10), LOC21, C_122140);
asgnRef((void**) &(*S_129788).Typ, Result_129787);
Pragma_118028(C_122140, S_129788, (*N_122141).KindU.S6.Sons->data[1], TMP192124);
break;
case ((NU8) 121):
Result_129787 = Semenum_126902(C_122140, N_122141, Prev_122142);
break;
case ((NU8) 4):
Result_129787 = (*N_122141).Typ;
break;
case ((NU8) 108):
Result_129787 = Semstmtlisttype_129625(C_122140, N_122141, Prev_122142);
break;
case ((NU8) 109):
Result_129787 = Semblocktype_129693(C_122140, N_122141, Prev_122142);
break;
default:
Globalerror_43139((*N_122141).Info, ((NU8) 60), ((NimStringDesc*) &TMP191995));
break;
}
return Result_129787;
}
N_NIMCALL(TY50552*, Addtypevarsofgenericbody_129276)(TY103012* C_129278, TY50552* T_129279, TY50526* Genericparams_129280, TY50895* Cl_129282) {
TY50552* Result_129283;
NIM_BOOL LOC5;
NI I_129303;
NI HEX3Atmp_142729;
NI LOC8;
NI Res_142731;
TY50548* S_129313;
NIM_BOOL LOC14;
TY50526* LOC18;
NI L_129334;
NI LOC19;
NI I_129343;
NI HEX3Atmp_142732;
NI LOC20;
NI Res_142734;
NI I_129352;
NI HEX3Atmp_142735;
NI LOC22;
NI Res_142737;
Result_129283 = 0;
Result_129283 = T_129279;
if (!(T_129279 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
LOC5 = Intsetcontainsorincl_50923(Cl_129282, (*T_129279).Sup.Id);
if (!LOC5) goto LA6;
goto BeforeRet;
LA6: ;
switch ((*T_129279).Kind) {
case ((NU8) 10):
Result_129283 = Newtypes_103077(((NU8) 9), C_129278);
Addson_50828(Result_129283, T_129279);
I_129303 = 0;
HEX3Atmp_142729 = 0;
LOC8 = Sonslen_50807(T_129279);
HEX3Atmp_142729 = (NI32)(LOC8 - 2);
Res_142731 = 0;
Res_142731 = 0;
while (1) {
if (!(Res_142731 <= HEX3Atmp_142729)) goto LA9;
I_129303 = Res_142731;
if (!!(((*(*T_129279).Sons->data[I_129303]).Kind == ((NU8) 12)))) goto LA11;
Internalerror_43163(((NimStringDesc*) &TMP192126));
LA11: ;
S_129313 = 0;
S_129313 = Copysym_50776((*(*T_129279).Sons->data[I_129303]).Sym, NIM_FALSE);
(*S_129313).Position = Sonslen_50804(Genericparams_129280);
LOC14 = ((*S_129313).Typ == NIM_NIL);
if (LOC14) goto LA15;
LOC14 = !(((*(*S_129313).Typ).Kind == ((NU8) 12)));
LA15: ;
if (!LOC14) goto LA16;
Internalerror_43163(((NimStringDesc*) &TMP192127));
LA16: ;
Adddecl_104114(C_129278, S_129313);
LOC18 = 0;
LOC18 = Newsymnode_50735(S_129313);
Addson_50824(Genericparams_129280, LOC18);
Addson_50828(Result_129283, (*T_129279).Sons->data[I_129303]);
Res_142731 += 1;
} LA9: ;
break;
case ((NU8) 11):
L_129334 = 0;
LOC19 = Sonslen_50807(T_129279);
L_129334 = (NI32)(LOC19 - 1);
asgnRef((void**) &(*T_129279).Sons->data[L_129334], Addtypevarsofgenericbody_129276(C_129278, (*T_129279).Sons->data[L_129334], Genericparams_129280, Cl_129282));
break;
case ((NU8) 9):
I_129343 = 0;
HEX3Atmp_142732 = 0;
LOC20 = Sonslen_50807(T_129279);
HEX3Atmp_142732 = (NI32)(LOC20 - 1);
Res_142734 = 0;
Res_142734 = 1;
while (1) {
if (!(Res_142734 <= HEX3Atmp_142732)) goto LA21;
I_129343 = Res_142734;
asgnRef((void**) &(*T_129279).Sons->data[I_129343], Addtypevarsofgenericbody_129276(C_129278, (*T_129279).Sons->data[I_129343], Genericparams_129280, Cl_129282));
Res_142734 += 1;
} LA21: ;
break;
default:
I_129352 = 0;
HEX3Atmp_142735 = 0;
LOC22 = Sonslen_50807(T_129279);
HEX3Atmp_142735 = (NI32)(LOC22 - 1);
Res_142737 = 0;
Res_142737 = 0;
while (1) {
if (!(Res_142737 <= HEX3Atmp_142735)) goto LA23;
I_129352 = Res_142737;
asgnRef((void**) &(*T_129279).Sons->data[I_129352], Addtypevarsofgenericbody_129276(C_129278, (*T_129279).Sons->data[I_129352], Genericparams_129280, Cl_129282));
Res_142737 += 1;
} LA23: ;
break;
}
BeforeRet: ;
return Result_129283;
}
N_NIMCALL(TY50552*, Paramtype_129353)(TY103012* C_129355, TY50526* N_129356, TY50526* Genericparams_129357, TY50895* Cl_129359) {
TY50552* Result_129360;
NIM_BOOL LOC2;
NI LOC4;
Result_129360 = 0;
Result_129360 = Semtypenode_122138(C_129355, N_129356, NIM_NIL);
LOC2 = !((Genericparams_129357 == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC4 = Sonslen_50804(Genericparams_129357);
LOC2 = (LOC4 == 0);
LA3: ;
if (!LOC2) goto LA5;
Result_129360 = Addtypevarsofgenericbody_129276(C_129355, Result_129360, Genericparams_129357, Cl_129359);
LA5: ;
return Result_129360;
}
N_NIMCALL(TY50526*, Indextypesmatch_125821)(TY103012* C_125823, TY50552* F_125824, TY50552* A_125825, TY50526* Arg_125826) {
TY50526* Result_125827;
TY123969 M_125828;
Result_125827 = 0;
memset((void*)&M_125828, 0, sizeof(M_125828));
Initcandidate_123997(&M_125828, F_125824);
Result_125827 = Paramtypesmatch_125632(C_125823, &M_125828, F_125824, A_125825, Arg_125826);
return Result_125827;
}
N_NIMCALL(TY50526*, Fitnode_122129)(TY103012* C_122131, TY50552* Formal_122132, TY50526* Arg_122133) {
TY50526* Result_126864;
Result_126864 = 0;
Result_126864 = Indextypesmatch_125821(C_122131, Formal_122132, (*Arg_122133).Typ, Arg_122133);
if (!(Result_126864 == NIM_NIL)) goto LA2;
Typemismatch_126850(Arg_122133, Formal_122132, (*Arg_122133).Typ);
LA2: ;
return Result_126864;
}
N_NIMCALL(TY50552*, Semproctypenode_129374)(TY103012* C_129376, TY50526* N_129377, TY50526* Genericparams_129378, TY50552* Prev_129379) {
TY50552* Result_129380;
TY50526* Def_129381;
TY50526* Res_129382;
TY50552* Typ_129383;
TY50895 Check_129384;
TY50895 Cl_129385;
TY103002* LOC1;
NIM_BOOL LOC3;
NI LOC5;
NI Counter_129401;
NI I_129410;
NI HEX3Atmp_142741;
NI LOC8;
NI Res_142743;
TY50526* A_129423;
NI Length_129433;
NU8 LOC23;
NI J_129543;
NI HEX3Atmp_142738;
NI Res_142740;
TY50548* Arg_129556;
NIM_BOOL LOC31;
TY50526* LOC34;
Result_129380 = 0;
Def_129381 = 0;
Res_129382 = 0;
Typ_129383 = 0;
memset((void*)&Check_129384, 0, sizeof(Check_129384));
memset((void*)&Cl_129385, 0, sizeof(Cl_129385));
Checkminsonslen_103413(N_129377, 1);
Result_129380 = Neworprevtype_126876(((NU8) 25), Prev_129379, C_129376);
LOC1 = 0;
LOC1 = Lastoptionentry_103053(C_129376);
(*Result_129380).Callconv = (*LOC1).Defaultcc;
asgnRefNoCycle((void**) &(*Result_129380).N, Newnodei_50738(((NU8) 66), (*N_129377).Info));
LOC3 = !((Genericparams_129378 == NIM_NIL));
if (!(LOC3)) goto LA4;
LOC5 = Sonslen_50804(Genericparams_129378);
LOC3 = (LOC5 == 0);
LA4: ;
if (!LOC3) goto LA6;
Intsetinit_50919(&Cl_129385);
LA6: ;
Addson_50828(Result_129380, NIM_NIL);
Res_129382 = Newnodei_50738(((NU8) 4), (*N_129377).Info);
Addson_50824((*Result_129380).N, Res_129382);
Intsetinit_50919(&Check_129384);
Counter_129401 = 0;
Counter_129401 = 0;
I_129410 = 0;
HEX3Atmp_142741 = 0;
LOC8 = Sonslen_50804(N_129377);
HEX3Atmp_142741 = (NI32)(LOC8 - 1);
Res_142743 = 0;
Res_142743 = 1;
while (1) {
if (!(Res_142743 <= HEX3Atmp_142741)) goto LA9;
I_129410 = Res_142743;
A_129423 = 0;
A_129423 = (*N_129377).KindU.S6.Sons->data[I_129410];
if (!!(((*A_129423).Kind == ((NU8) 25)))) goto LA11;
Illformedast_103403(A_129423);
LA11: ;
Checkminsonslen_103413(A_129423, 3);
Length_129433 = 0;
Length_129433 = Sonslen_50804(A_129423);
if (!!(((*(*A_129423).KindU.S6.Sons->data[(NI32)(Length_129433 - 2)]).Kind == ((NU8) 1)))) goto LA14;
Typ_129383 = Paramtype_129353(C_129376, (*A_129423).KindU.S6.Sons->data[(NI32)(Length_129433 - 2)], Genericparams_129378, &Cl_129385);
goto LA13;
LA14: ;
Typ_129383 = NIM_NIL;
LA13: ;
if (!!(((*(*A_129423).KindU.S6.Sons->data[(NI32)(Length_129433 - 1)]).Kind == ((NU8) 1)))) goto LA17;
Def_129381 = Semexprwithtype_122122(C_129376, (*A_129423).KindU.S6.Sons->data[(NI32)(Length_129433 - 1)], 0);
if (!!((Typ_129383 == NIM_NIL))) goto LA20;
LOC23 = Cmptypes_125367(Typ_129383, (*Def_129381).Typ);
if (!(LOC23 < ((NU8) 1))) goto LA24;
Typemismatch_126850((*A_129423).KindU.S6.Sons->data[(NI32)(Length_129433 - 1)], Typ_129383, (*Def_129381).Typ);
LA24: ;
Def_129381 = Fitnode_122129(C_129376, Typ_129383, Def_129381);
goto LA19;
LA20: ;
Typ_129383 = (*Def_129381).Typ;
LA19: ;
goto LA16;
LA17: ;
Def_129381 = Emptynode_50858;
LA16: ;
J_129543 = 0;
HEX3Atmp_142738 = 0;
HEX3Atmp_142738 = (NI32)(Length_129433 - 3);
Res_142740 = 0;
Res_142740 = 0;
while (1) {
if (!(Res_142740 <= HEX3Atmp_142738)) goto LA26;
J_129543 = Res_142740;
Arg_129556 = 0;
Arg_129556 = Newsyms_122059(((NU8) 3), (*A_129423).KindU.S6.Sons->data[J_129543], C_129376);
asgnRef((void**) &(*Arg_129556).Typ, Typ_129383);
(*Arg_129556).Position = Counter_129401;
Counter_129401 += 1;
if (!!(((*Def_129381).Kind == ((NU8) 1)))) goto LA28;
asgnRefNoCycle((void**) &(*Arg_129556).Ast, Copytree_50852(Def_129381));
LA28: ;
LOC31 = Intsetcontainsorincl_50923(&Check_129384, (*(*Arg_129556).Name).Sup.Id);
if (!LOC31) goto LA32;
Localerror_43144((*(*A_129423).KindU.S6.Sons->data[J_129543]).Info, ((NU8) 37), (*(*Arg_129556).Name).S);
LA32: ;
LOC34 = 0;
LOC34 = Newsymnode_50735(Arg_129556);
Addson_50824((*Result_129380).N, LOC34);
Addson_50828(Result_129380, Typ_129383);
Res_142740 += 1;
} LA26: ;
Res_142743 += 1;
} LA9: ;
if (!!(((*(*N_129377).KindU.S6.Sons->data[0]).Kind == ((NU8) 1)))) goto LA36;
asgnRef((void**) &(*Result_129380).Sons->data[0], Paramtype_129353(C_129376, (*N_129377).KindU.S6.Sons->data[0], Genericparams_129378, &Cl_129385));
asgnRef((void**) &(*Res_129382).Typ, (*Result_129380).Sons->data[0]);
LA36: ;
return Result_129380;
}
N_NIMCALL(void, Semparamlist_122147)(TY103012* C_122149, TY50526* N_122150, TY50526* Genericparams_122151, TY50548* S_122152) {
asgnRef((void**) &(*S_122152).Typ, Semproctypenode_129374(C_122149, N_122150, Genericparams_122151, NIM_NIL));
}
N_NIMCALL(void, Addparams_122153)(TY103012* C_122155, TY50526* N_122156) {
NI I_141155;
NI HEX3Atmp_142942;
NI LOC1;
NI Res_142944;
I_141155 = 0;
HEX3Atmp_142942 = 0;
LOC1 = Sonslen_50804(N_122156);
HEX3Atmp_142942 = (NI32)(LOC1 - 1);
Res_142944 = 0;
Res_142944 = 1;
while (1) {
if (!(Res_142944 <= HEX3Atmp_142942)) goto LA2;
I_141155 = Res_142944;
if (!!(((*(*N_122156).KindU.S6.Sons->data[I_141155]).Kind == ((NU8) 3)))) goto LA4;
Internalerror_43159((*N_122156).Info, ((NimStringDesc*) &TMP192128));
LA4: ;
Adddecl_104114(C_122155, (*(*N_122156).KindU.S6.Sons->data[I_141155]).KindU.S4.Sym);
Res_142944 += 1;
} LA2: ;
}
N_NIMCALL(TY50548*, Genericcacheget_123270)(TY103012* C_123272, TY50548* Genericsym_123273, TY50548* Instsym_123274) {
TY50548* Result_123275;
NI I_123284;
NI HEX3Atmp_126778;
NI LOC1;
NI Res_126780;
TY50548* A_123342;
TY50548* B_123381;
NU8 LOC10;
Result_123275 = 0;
Result_123275 = NIM_NIL;
I_123284 = 0;
HEX3Atmp_126778 = 0;
LOC1 = Sonslen_50804((*C_123272).Generics);
HEX3Atmp_126778 = (NI32)(LOC1 - 1);
Res_126780 = 0;
Res_126780 = 0;
while (1) {
if (!(Res_126780 <= HEX3Atmp_126778)) goto LA2;
I_123284 = Res_126780;
if (!!(((*(*(*C_123272).Generics).KindU.S6.Sons->data[I_123284]).Kind == ((NU8) 23)))) goto LA4;
Internalerror_43159((*Genericsym_123273).Info, ((NimStringDesc*) &TMP192129));
LA4: ;
A_123342 = 0;
A_123342 = (*(*(*(*C_123272).Generics).KindU.S6.Sons->data[I_123284]).KindU.S6.Sons->data[0]).KindU.S4.Sym;
if (!((*Genericsym_123273).Sup.Id == (*A_123342).Sup.Id)) goto LA7;
B_123381 = 0;
B_123381 = (*(*(*(*C_123272).Generics).KindU.S6.Sons->data[I_123284]).KindU.S6.Sons->data[1]).KindU.S4.Sym;
LOC10 = Equalparams_93065((*(*B_123381).Typ).N, (*(*Instsym_123274).Typ).N);
if (!(LOC10 == ((NU8) 1))) goto LA11;
Result_123275 = B_123381;
goto BeforeRet;
LA11: ;
LA7: ;
Res_126780 += 1;
} LA2: ;
BeforeRet: ;
return Result_123275;
}
N_NIMCALL(void, Genericcacheadd_123391)(TY103012* C_123393, TY50548* Genericsym_123394, TY50548* Instsym_123395) {
TY50526* N_123396;
TY50526* LOC1;
TY50526* LOC2;
N_123396 = 0;
N_123396 = Newnode_50711(((NU8) 23));
LOC1 = 0;
LOC1 = Newsymnode_50735(Genericsym_123394);
Addson_50824(N_123396, LOC1);
LOC2 = 0;
LOC2 = Newsymnode_50735(Instsym_123395);
Addson_50824(N_123396, LOC2);
Addson_50824((*C_123393).Generics, N_123396);
}
N_NIMCALL(void, Addresult_122157)(TY103012* C_122159, TY50552* T_122160, TY42538 Info_122161) {
TY50548* S_141271;
TY49011* LOC4;
TY50548* LOC5;
if (!!((T_122160 == NIM_NIL))) goto LA2;
S_141271 = 0;
LOC4 = 0;
LOC4 = Getident_49016(((NimStringDesc*) &TMP192131));
LOC5 = 0;
LOC5 = Getcurrowner_103092();
S_141271 = Newsym_50702(((NU8) 9), LOC4, LOC5);
(*S_141271).Info = Info_122161;
asgnRef((void**) &(*S_141271).Typ, T_122160);
(*S_141271).Flags |=(1<<((NI32)(((NU8) 12))%(sizeof(NI32)*8)));
(*S_141271).Flags |=(1<<((NI32)(((NU8) 0))%(sizeof(NI32)*8)));
Adddecl_104114(C_122159, S_141271);
asgnRef((void**) &(*(*C_122159).P).Resultsym, S_141271);
LA2: ;
}
N_NIMCALL(void, Addresultnode_122162)(TY103012* C_122164, TY50526* N_122165) {
TY50526* LOC4;
if (!!(((*(*C_122164).P).Resultsym == NIM_NIL))) goto LA2;
LOC4 = 0;
LOC4 = Newsymnode_50735((*(*C_122164).P).Resultsym);
Addson_50824(N_122165, LOC4);
LA2: ;
}
N_NIMCALL(TY50526*, Semstmtscope_122104)(TY103012* C_122106, TY50526* N_122107) {
TY50526* Result_142687;
Result_142687 = 0;
Openscope_55141(&(*C_122106).Tab);
Result_142687 = Semstmt_122143(C_122106, N_122107);
Closescope_104018(&(*C_122106).Tab);
return Result_142687;
}
N_NIMCALL(TY50548*, Generateinstance_123099)(TY103012* C_123101, TY50548* Fn_123102, TY50564 Pt_123103, TY42538 Info_123104) {
TY50548* Result_123403;
TY50548* Oldprc_123404;
TY50548* Oldmod_123405;
TY103006* Oldp_123406;
TY50526* N_123407;
TY50548* LOC4;
Result_123403 = 0;
Oldprc_123404 = 0;
Oldmod_123405 = 0;
Oldp_123406 = 0;
N_123407 = 0;
if (!(1000 < (*C_123101).Instcounter)) goto LA2;
Internalerror_43159((*(*Fn_123102).Ast).Info, ((NimStringDesc*) &TMP192092));
LA2: ;
(*C_123101).Instcounter += 1;
Oldp_123406 = (*C_123101).P;
Oldmod_123405 = (*C_123101).Module;
asgnRef((void**) &(*C_123101).Module, Getmodule_55198(Fn_123102));
Result_123403 = Copysym_50776(Fn_123102, NIM_FALSE);
(*Result_123403).Flags |=(1<<((NI32)(((NU8) 4))%(sizeof(NI32)*8)));
LOC4 = 0;
LOC4 = Getcurrowner_103092();
asgnRef((void**) &(*Result_123403).Owner, (*LOC4).Owner);
N_123407 = Copytree_50852((*Fn_123102).Ast);
asgnRefNoCycle((void**) &(*Result_123403).Ast, N_123407);
Pushowner_103094(Result_123403);
Openscope_55141(&(*C_123101).Tab);
if (!((*(*N_123407).KindU.S6.Sons->data[1]).Kind == ((NU8) 1))) goto LA6;
Internalerror_43159((*N_123407).Info, ((NimStringDesc*) &TMP192093));
LA6: ;
asgnRefNoCycle((void**) &(*N_123407).KindU.S6.Sons->data[0], Newsymnode_50735(Result_123403));
Pushinfocontext_42615(Info_123104);
Instantiategenericparamlist_123178(C_123101, (*N_123407).KindU.S6.Sons->data[1], Pt_123103);
asgnRefNoCycle((void**) &(*N_123407).KindU.S6.Sons->data[1], Emptynode_50858);
if (!!(((*(*N_123407).KindU.S6.Sons->data[2]).Kind == ((NU8) 1)))) goto LA9;
Semparamlist_122147(C_123101, (*N_123407).KindU.S6.Sons->data[2], NIM_NIL, Result_123403);
Addparams_122153(C_123101, (*(*Result_123403).Typ).N);
goto LA8;
LA9: ;
asgnRef((void**) &(*Result_123403).Typ, Newtypes_103077(((NU8) 25), C_123101));
Addson_50828((*Result_123403).Typ, NIM_NIL);
LA8: ;
(*(*Result_123403).Typ).Callconv = (*(*Fn_123102).Typ).Callconv;
Oldprc_123404 = Genericcacheget_123270(C_123101, Fn_123102, Result_123403);
if (!(Oldprc_123404 == NIM_NIL)) goto LA12;
Genericcacheadd_123391(C_123101, Fn_123102, Result_123403);
Adddecl_104114(C_123101, Result_123403);
if (!!(((*(*N_123407).KindU.S6.Sons->data[4]).Kind == ((NU8) 1)))) goto LA15;
asgnRefNoCycle((void**) &(*C_123101).P, Newproccon_103050(Result_123403));
if (!((11264 &(1<<(((*Result_123403).Kind)&31)))!=0)) goto LA18;
Addresult_122157(C_123101, (*(*Result_123403).Typ).Sons->data[0], (*N_123407).Info);
Addresultnode_122162(C_123101, N_123407);
LA18: ;
asgnRefNoCycle((void**) &(*N_123407).KindU.S6.Sons->data[4], Semstmtscope_122104(C_123101, (*N_123407).KindU.S6.Sons->data[4]));
LA15: ;
goto LA11;
LA12: ;
Result_123403 = Oldprc_123404;
LA11: ;
Popinfocontext_42636();
Closescope_104018(&(*C_123101).Tab);
Popowner_103097();
asgnRefNoCycle((void**) &(*C_123101).P, Oldp_123406);
asgnRef((void**) &(*C_123101).Module, Oldmod_123405);
(*C_123101).Instcounter -= 1;
return Result_123403;
}
N_NIMCALL(TY50526*, Semdirectcallwithbinding_126510)(TY103012* C_126512, TY50526* N_126513, TY50526* F_126514, NU32 Filter_126515, TY50526* Initialbinding_126516) {
TY50526* Result_126517;
TY104004 O_126518;
TY123969 X_126519;
TY123969 Y_126520;
TY123969 Z_126521;
TY50548* Sym_126523;
NI Cmp_126570;
NIM_BOOL LOC19;
NIM_BOOL LOC20;
NI LOC22;
NIM_BOOL LOC24;
NimStringDesc* LOC30;
TY69026 LOC31;
NimStringDesc* LOC32;
Result_126517 = 0;
memset((void*)&O_126518, 0, sizeof(O_126518));
memset((void*)&X_126519, 0, sizeof(X_126519));
memset((void*)&Y_126520, 0, sizeof(Y_126520));
memset((void*)&Z_126521, 0, sizeof(Z_126521));
Sym_126523 = 0;
Sym_126523 = Initoverloaditer_104745(&O_126518, C_126512, F_126514);
Result_126517 = NIM_NIL;
if (!(Sym_126523 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
Initcandidate_124003(&X_126519, Sym_126523, Initialbinding_126516);
Initcandidate_124003(&Y_126520, Sym_126523, Initialbinding_126516);
while (1) {
if (!!((Sym_126523 == NIM_NIL))) goto LA4;
if (!((Filter_126515 &(1<<(((*Sym_126523).Kind)&31)))!=0)) goto LA6;
Initcandidate_124003(&Z_126521, Sym_126523, Initialbinding_126516);
Z_126521.Calleesym = Sym_126523;
Matches_125874(C_126512, N_126513, &Z_126521);
if (!(Z_126521.State == ((NU8) 1))) goto LA9;
switch (X_126519.State) {
case ((NU8) 0):
case ((NU8) 2):
genericAssign((void*)&X_126519, (void*)&Z_126521, NTI123969);
break;
case ((NU8) 1):
Cmp_126570 = 0;
Cmp_126570 = Cmpcandidates_124053(&X_126519, &Z_126521);
if (!(Cmp_126570 < 0)) goto LA12;
genericAssign((void*)&X_126519, (void*)&Z_126521, NTI123969);
goto LA11;
LA12: ;
if (!(Cmp_126570 == 0)) goto LA14;
genericAssign((void*)&Y_126520, (void*)&Z_126521, NTI123969);
goto LA11;
LA14: ;
LA11: ;
break;
}
LA9: ;
LA6: ;
Sym_126523 = Nextoverloaditer_105074(&O_126518, C_126512, F_126514);
} LA4: ;
if (!(X_126519.State == ((NU8) 0))) goto LA17;
goto LA16;
LA17: ;
LOC20 = (Y_126520.State == ((NU8) 1));
if (!(LOC20)) goto LA21;
LOC22 = Cmpcandidates_124053(&X_126519, &Y_126520);
LOC20 = (LOC22 == 0);
LA21: ;
LOC19 = LOC20;
if (!(LOC19)) goto LA23;
LOC24 = Samemethoddispatcher_126434(X_126519.Calleesym, Y_126520.Calleesym);
LOC19 = !(LOC24);
LA23: ;
if (!LOC19) goto LA25;
if (!!((X_126519.State == ((NU8) 1)))) goto LA28;
Internalerror_43159((*N_126513).Info, ((NimStringDesc*) &TMP192088));
LA28: ;
LOC30 = 0;
LOC30 = Msgkindtostring_42794(((NU8) 128));
memset((void*)&LOC31, 0, sizeof(LOC31));
LOC31[0] = Getprocheader_93018(X_126519.Calleesym);
LOC31[1] = Getprocheader_93018(Y_126520.Calleesym);
LOC31[2] = copyString((*(*X_126519.Calleesym).Name).S);
LOC32 = 0;
LOC32 = nsuFormatOpenArray(LOC30, LOC31, 3);
Localerror_43144((*N_126513).Info, ((NU8) 4), LOC32);
goto LA16;
LA25: ;
Markused_122065(N_126513, X_126519.Calleesym);
if (!((*X_126519.Calleesym).Ast == NIM_NIL)) goto LA34;
Internalerror_43159((*N_126513).Info, ((NimStringDesc*) &TMP192091));
LA34: ;
if (!!(((*(*(*X_126519.Calleesym).Ast).KindU.S6.Sons->data[1]).Kind == ((NU8) 1)))) goto LA37;
X_126519.Calleesym = Generateinstance_123099(C_126512, X_126519.Calleesym, X_126519.Bindings, (*N_126513).Info);
X_126519.Callee = (*X_126519.Calleesym).Typ;
LA37: ;
Result_126517 = X_126519.Call;
asgnRefNoCycle((void**) &(*Result_126517).KindU.S6.Sons->data[0], Newsymnode_50735(X_126519.Calleesym));
asgnRef((void**) &(*Result_126517).Typ, (*X_126519.Callee).Sons->data[0]);
LA16: ;
BeforeRet: ;
return Result_126517;
}
N_NIMCALL(TY50526*, Semdirectcall_126655)(TY103012* C_126657, TY50526* N_126658, NU32 Filter_126659) {
TY50526* Result_126660;
TY50526* Initialbinding_126661;
TY50526* F_126674;
Result_126660 = 0;
Initialbinding_126661 = 0;
F_126674 = 0;
F_126674 = (*N_126658).KindU.S6.Sons->data[0];
if (!((*F_126674).Kind == ((NU8) 33))) goto LA2;
Initialbinding_126661 = F_126674;
F_126674 = (*F_126674).KindU.S6.Sons->data[0];
goto LA1;
LA2: ;
Initialbinding_126661 = NIM_NIL;
LA1: ;
Result_126660 = Semdirectcallwithbinding_126510(C_126657, N_126658, F_126674, Filter_126659, Initialbinding_126661);
return Result_126660;
}
N_NIMCALL(TY50526*, Semdirectcallanalyseeffects_132162)(TY103012* C_132164, TY50526* N_132165, NU8 Flags_132166) {
TY50526* Result_132167;
TY50548* Callee_132237;
NIM_BOOL LOC11;
NIM_BOOL LOC19;
Result_132167 = 0;
if (!!(((Flags_132166 &(1<<((((NU8) 2))&7)))!=0))) goto LA2;
Result_132167 = Semdirectcall_126655(C_132164, N_132165, 11264);
goto LA1;
LA2: ;
Result_132167 = Semdirectcall_126655(C_132164, N_132165, 4096);
LA1: ;
if (!!((Result_132167 == NIM_NIL))) goto LA5;
if (!!(((*(*Result_132167).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA8;
Internalerror_43163(((NimStringDesc*) &TMP192133));
LA8: ;
Callee_132237 = 0;
Callee_132237 = (*(*Result_132167).KindU.S6.Sons->data[0]).KindU.S4.Sym;
LOC11 = ((*Callee_132237).Kind == ((NU8) 12));
if (!(LOC11)) goto LA12;
LOC11 = ((*Callee_132237).Sup.Id == (*(*(*C_132164).P).Owner).Sup.Id);
LA12: ;
if (!LOC11) goto LA13;
Globalerror_43139((*N_132165).Info, ((NU8) 23), (*(*Callee_132237).Name).S);
LA13: ;
if (!!((((*Callee_132237).Flags &(1<<((((NU8) 13))&31)))!=0))) goto LA16;
LOC19 = (((*Callee_132237).Flags &(1<<((((NU8) 6))&31)))!=0);
if (LOC19) goto LA20;
LOC19 = !(((16512 & (*Callee_132237).Flags) == 0));
LA20: ;
if (!LOC19) goto LA21;
(*(*(*C_132164).P).Owner).Flags |=(1<<((NI32)(((NU8) 14))%(sizeof(NI32)*8)));
LA21: ;
LA16: ;
LA5: ;
return Result_132167;
}
N_NIMCALL(TY50526*, Semarrayconstr_131122)(TY103012* C_131124, TY50526* N_131125) {
TY50526* Result_131126;
NI LOC2;
TY50552* LOC5;
TY50526* X_131141;
NI64 Lastindex_131142;
TY50552* Indextype_131143;
NIM_BOOL LOC7;
NI LOC9;
TY50526* Idx_131167;
TY50526* LOC12;
TY50552* Typ_131193;
NI I_131202;
NI HEX3Atmp_142765;
NI LOC13;
NI Res_142767;
NIM_BOOL LOC16;
NI LOC18;
TY50526* Idx_131238;
NI64 LOC22;
TY50526* LOC25;
NI LOC26;
Result_131126 = 0;
Result_131126 = Newnodei_50738(((NU8) 32), (*N_131125).Info);
asgnRef((void**) &(*Result_131126).Typ, Newtypes_103077(((NU8) 4), C_131124));
Addson_50828((*Result_131126).Typ, NIM_NIL);
LOC2 = Sonslen_50804(N_131125);
if (!(LOC2 == 0)) goto LA3;
LOC5 = 0;
LOC5 = Newtypes_103077(((NU8) 3), C_131124);
Addson_50828((*Result_131126).Typ, LOC5);
goto LA1;
LA3: ;
X_131141 = 0;
X_131141 = (*N_131125).KindU.S6.Sons->data[0];
Lastindex_131142 = 0;
Lastindex_131142 = 0;
Indextype_131143 = 0;
Indextype_131143 = Getsystype_98008(((NU8) 31));
LOC7 = ((*X_131141).Kind == ((NU8) 24));
if (!(LOC7)) goto LA8;
LOC9 = Sonslen_50804(X_131141);
LOC7 = (LOC9 == 2);
LA8: ;
if (!LOC7) goto LA10;
Idx_131167 = 0;
Idx_131167 = Semconstexpr_122171(C_131124, (*X_131141).KindU.S6.Sons->data[0]);
Lastindex_131142 = Getordvalue_93109(Idx_131167);
Indextype_131143 = (*Idx_131167).Typ;
X_131141 = (*X_131141).KindU.S6.Sons->data[1];
LA10: ;
LOC12 = 0;
LOC12 = Semexprwithtype_122122(C_131124, X_131141, 0);
Addson_50824(Result_131126, LOC12);
Typ_131193 = 0;
Typ_131193 = Skiptypes_93087((*(*Result_131126).KindU.S6.Sons->data[0]).Typ, 8423424);
I_131202 = 0;
HEX3Atmp_142765 = 0;
LOC13 = Sonslen_50804(N_131125);
HEX3Atmp_142765 = (NI32)(LOC13 - 1);
Res_142767 = 0;
Res_142767 = 1;
while (1) {
if (!(Res_142767 <= HEX3Atmp_142765)) goto LA14;
I_131202 = Res_142767;
X_131141 = (*N_131125).KindU.S6.Sons->data[I_131202];
LOC16 = ((*X_131141).Kind == ((NU8) 24));
if (!(LOC16)) goto LA17;
LOC18 = Sonslen_50804(X_131141);
LOC16 = (LOC18 == 2);
LA17: ;
if (!LOC16) goto LA19;
Idx_131238 = 0;
Idx_131238 = Semconstexpr_122171(C_131124, (*X_131141).KindU.S6.Sons->data[0]);
Idx_131238 = Fitnode_122129(C_131124, Indextype_131143, Idx_131238);
LOC22 = Getordvalue_93109(Idx_131238);
if (!!(((NI64)(Lastindex_131142 + 1) == LOC22))) goto LA23;
Localerror_43144((*X_131141).Info, ((NU8) 140), ((NimStringDesc*) &TMP191995));
LA23: ;
X_131141 = (*X_131141).KindU.S6.Sons->data[1];
LA19: ;
asgnRefNoCycle((void**) &(*N_131125).KindU.S6.Sons->data[I_131202], Semexprwithtype_122122(C_131124, X_131141, 0));
LOC25 = 0;
LOC25 = Fitnode_122129(C_131124, Typ_131193, (*N_131125).KindU.S6.Sons->data[I_131202]);
Addson_50824(Result_131126, LOC25);
Lastindex_131142 += 1;
Res_142767 += 1;
} LA14: ;
Addson_50828((*Result_131126).Typ, Typ_131193);
LA1: ;
LOC26 = Sonslen_50804(Result_131126);
asgnRef((void**) &(*(*Result_131126).Typ).Sons->data[0], Makerangetype_103086(C_131124, 0, ((NI64) ((NI32)(LOC26 - 1))), (*N_131125).Info));
return Result_131126;
}
N_NIMCALL(void, Changetype_130902)(TY50526* N_130904, TY50552* Newtype_130905) {
NI I_130914;
NI HEX3Atmp_142756;
NI LOC1;
NI Res_142758;
TY50552* LOC3;
NIM_BOOL LOC11;
NI LOC12;
NI I_130980;
NI HEX3Atmp_142759;
NI LOC16;
NI Res_142761;
TY50526* M_131005;
TY50548* F_131027;
NI I_131071;
NI HEX3Atmp_142762;
NI LOC24;
NI Res_142764;
TY50526* M_131084;
TY50526* A_131085;
TY50526* LOC26;
switch ((*N_130904).Kind) {
case ((NU8) 31):
case ((NU8) 32):
I_130914 = 0;
HEX3Atmp_142756 = 0;
LOC1 = Sonslen_50804(N_130904);
HEX3Atmp_142756 = (NI32)(LOC1 - 1);
Res_142758 = 0;
Res_142758 = 0;
while (1) {
if (!(Res_142758 <= HEX3Atmp_142756)) goto LA2;
I_130914 = Res_142758;
LOC3 = 0;
LOC3 = Elemtype_93091(Newtype_130905);
Changetype_130902((*N_130904).KindU.S6.Sons->data[I_130914], LOC3);
Res_142758 += 1;
} LA2: ;
break;
case ((NU8) 30):
if (!!(((*Newtype_130905).Kind == ((NU8) 18)))) goto LA5;
Internalerror_43159((*N_130904).Info, ((NimStringDesc*) &TMP192134));
LA5: ;
if (!((*Newtype_130905).N == NIM_NIL)) goto LA8;
Internalerror_43159((*N_130904).Info, ((NimStringDesc*) &TMP192135));
LA8: ;
LOC12 = Sonslen_50804(N_130904);
LOC11 = (0 < LOC12);
if (!(LOC11)) goto LA13;
LOC11 = ((*(*N_130904).KindU.S6.Sons->data[0]).Kind == ((NU8) 24));
LA13: ;
if (!LOC11) goto LA14;
I_130980 = 0;
HEX3Atmp_142759 = 0;
LOC16 = Sonslen_50804(N_130904);
HEX3Atmp_142759 = (NI32)(LOC16 - 1);
Res_142761 = 0;
Res_142761 = 0;
while (1) {
if (!(Res_142761 <= HEX3Atmp_142759)) goto LA17;
I_130980 = Res_142761;
M_131005 = 0;
M_131005 = (*(*N_130904).KindU.S6.Sons->data[I_130980]).KindU.S6.Sons->data[0];
if (!!(((*M_131005).Kind == ((NU8) 3)))) goto LA19;
Internalerror_43159((*M_131005).Info, ((NimStringDesc*) &TMP192136));
LA19: ;
F_131027 = 0;
F_131027 = Getsymfromlist_55189((*Newtype_130905).N, (*(*M_131005).KindU.S4.Sym).Name, 0);
if (!(F_131027 == NIM_NIL)) goto LA22;
Internalerror_43159((*M_131005).Info, ((NimStringDesc*) &TMP192137));
LA22: ;
Changetype_130902((*(*N_130904).KindU.S6.Sons->data[I_130980]).KindU.S6.Sons->data[1], (*F_131027).Typ);
Res_142761 += 1;
} LA17: ;
goto LA10;
LA14: ;
I_131071 = 0;
HEX3Atmp_142762 = 0;
LOC24 = Sonslen_50804(N_130904);
HEX3Atmp_142762 = (NI32)(LOC24 - 1);
Res_142764 = 0;
Res_142764 = 0;
while (1) {
if (!(Res_142764 <= HEX3Atmp_142762)) goto LA25;
I_131071 = Res_142764;
M_131084 = 0;
M_131084 = (*N_130904).KindU.S6.Sons->data[I_131071];
A_131085 = 0;
A_131085 = Newnodeit_50742(((NU8) 24), (*M_131084).Info, (*Newtype_130905).Sons->data[I_131071]);
LOC26 = 0;
LOC26 = Newsymnode_50735((*(*(*Newtype_130905).N).KindU.S6.Sons->data[I_131071]).KindU.S4.Sym);
Addson_50824(A_131085, LOC26);
Addson_50824(A_131085, M_131084);
Changetype_130902(M_131084, (*Newtype_130905).Sons->data[I_131071]);
asgnRefNoCycle((void**) &(*N_130904).KindU.S6.Sons->data[I_131071], A_131085);
Res_142764 += 1;
} LA25: ;
LA10: ;
break;
default:
break;
}
asgnRef((void**) &(*N_130904).Typ, Newtype_130905);
}
N_NIMCALL(void, Fixabstracttype_131289)(TY103012* C_131291, TY50526* N_131292) {
NI I_131301;
NI HEX3Atmp_142768;
NI LOC1;
NI Res_142770;
TY50526* It_131314;
TY50552* LOC7;
TY50552* S_131381;
NIM_BOOL LOC11;
TY50548* LOC15;
TY50552* LOC16;
TY50552* LOC17;
TY50552* LOC18;
TY50552* S_131436;
NimStringDesc* LOC24;
NimStringDesc* LOC25;
I_131301 = 0;
HEX3Atmp_142768 = 0;
LOC1 = Sonslen_50804(N_131292);
HEX3Atmp_142768 = (NI32)(LOC1 - 1);
Res_142770 = 0;
Res_142770 = 1;
while (1) {
if (!(Res_142770 <= HEX3Atmp_142768)) goto LA2;
I_131301 = Res_142770;
It_131314 = 0;
It_131314 = (*N_131292).KindU.S6.Sons->data[I_131301];
switch ((*It_131314).Kind) {
case ((NU8) 47):
case ((NU8) 48):
if (!((*(*It_131314).KindU.S6.Sons->data[1]).Kind == ((NU8) 32))) goto LA4;
asgnRefNoCycle((void**) &(*It_131314).KindU.S6.Sons->data[1], Semarrayconstr_131122(C_131291, (*It_131314).KindU.S6.Sons->data[1]));
LA4: ;
LOC7 = 0;
LOC7 = Skiptypes_93087((*It_131314).Typ, 8431616);
if (!((*LOC7).Kind == ((NU8) 27))) goto LA8;
S_131381 = 0;
S_131381 = Skiptypes_93087((*(*It_131314).KindU.S6.Sons->data[1]).Typ, 8431616);
LOC11 = ((*S_131381).Kind == ((NU8) 4));
if (!(LOC11)) goto LA12;
LOC11 = ((*(*S_131381).Sons->data[1]).Kind == ((NU8) 3));
LA12: ;
if (!LOC11) goto LA13;
LOC15 = 0;
LOC15 = Getcurrowner_103092();
S_131381 = Copytype_50771(S_131381, LOC15, NIM_FALSE);
LOC16 = 0;
LOC16 = Skiptypes_93087(S_131381, 8431616);
LOC17 = 0;
LOC17 = Skiptypes_93087((*It_131314).Typ, 8431616);
asgnRef((void**) &(*LOC16).Sons->data[1], Elemtype_93091(LOC17));
asgnRef((void**) &(*(*It_131314).KindU.S6.Sons->data[1]).Typ, S_131381);
LA13: ;
goto LA6;
LA8: ;
LOC18 = 0;
LOC18 = Skiptypes_93087((*(*It_131314).KindU.S6.Sons->data[1]).Typ, 8431616);
if (!((*LOC18).Kind == ((NU8) 5) || (*LOC18).Kind == ((NU8) 4) || (*LOC18).Kind == ((NU8) 18) || (*LOC18).Kind == ((NU8) 19))) goto LA19;
S_131436 = 0;
S_131436 = Skiptypes_93087((*It_131314).Typ, 8431616);
Changetype_130902((*It_131314).KindU.S6.Sons->data[1], S_131436);
asgnRefNoCycle((void**) &(*N_131292).KindU.S6.Sons->data[I_131301], (*It_131314).KindU.S6.Sons->data[1]);
goto LA6;
LA19: ;
LA6: ;
break;
case ((NU8) 32):
asgnRefNoCycle((void**) &(*N_131292).KindU.S6.Sons->data[I_131301], Semarrayconstr_131122(C_131291, It_131314));
break;
default:
if (!((*It_131314).Typ == NIM_NIL)) goto LA22;
LOC24 = 0;
LOC25 = 0;
LOC25 = Rendertree_81042(It_131314, 0);
LOC24 = rawNewString(LOC25->Sup.len + 17);
appendString(LOC24, ((NimStringDesc*) &TMP192138));
appendString(LOC24, LOC25);
Internalerror_43159((*It_131314).Info, LOC24);
LA22: ;
break;
}
Res_142770 += 1;
} LA2: ;
}
N_NIMCALL(NU8, Isassignable_131553)(TY50526* N_131555) {
NU8 Result_131556;
TY50552* LOC5;
NIM_BOOL LOC9;
TY50552* LOC14;
TY50552* LOC18;
Result_131556 = 0;
Result_131556 = ((NU8) 0);
switch ((*N_131555).Kind) {
case ((NU8) 3):
if (!((544 &(1<<(((*(*N_131555).KindU.S4.Sym).Kind)&31)))!=0)) goto LA2;
Result_131556 = ((NU8) 1);
LA2: ;
break;
case ((NU8) 36):
LOC5 = 0;
LOC5 = Skiptypes_93087((*(*N_131555).KindU.S6.Sons->data[0]).Typ, 43008);
if (!((*LOC5).Kind == ((NU8) 23) || (*LOC5).Kind == ((NU8) 21) || (*LOC5).Kind == ((NU8) 22))) goto LA6;
Result_131556 = ((NU8) 1);
goto LA4;
LA6: ;
Result_131556 = Isassignable_131553((*N_131555).KindU.S6.Sons->data[0]);
LA4: ;
LOC9 = (Result_131556 == ((NU8) 1));
if (!(LOC9)) goto LA10;
LOC9 = (((*(*(*N_131555).KindU.S6.Sons->data[1]).KindU.S4.Sym).Flags &(1<<((((NU8) 21))&31)))!=0);
LA10: ;
if (!LOC9) goto LA11;
Result_131556 = ((NU8) 2);
LA11: ;
break;
case ((NU8) 33):
LOC14 = 0;
LOC14 = Skiptypes_93087((*(*N_131555).KindU.S6.Sons->data[0]).Typ, 43008);
if (!((*LOC14).Kind == ((NU8) 23) || (*LOC14).Kind == ((NU8) 21) || (*LOC14).Kind == ((NU8) 22))) goto LA15;
Result_131556 = ((NU8) 1);
goto LA13;
LA15: ;
Result_131556 = Isassignable_131553((*N_131555).KindU.S6.Sons->data[0]);
LA13: ;
break;
case ((NU8) 47):
case ((NU8) 48):
case ((NU8) 50):
LOC18 = 0;
LOC18 = Skiptypes_93087((*N_131555).Typ, 14723072);
if (!((*LOC18).Kind == ((NU8) 27) || (*LOC18).Kind == ((NU8) 18) || (*LOC18).Kind == ((NU8) 17))) goto LA19;
Result_131556 = Isassignable_131553((*N_131555).KindU.S6.Sons->data[1]);
LA19: ;
break;
case ((NU8) 54):
case ((NU8) 38):
Result_131556 = ((NU8) 1);
break;
case ((NU8) 56):
case ((NU8) 55):
case ((NU8) 37):
Result_131556 = Isassignable_131553((*N_131555).KindU.S6.Sons->data[0]);
break;
default:
break;
}
return Result_131556;
}
N_NIMCALL(TY50526*, Newhiddenaddrtaken_131733)(TY103012* C_131735, TY50526* N_131736) {
TY50526* Result_131737;
TY50552* LOC4;
NU8 LOC6;
Result_131737 = 0;
if (!((*N_131736).Kind == ((NU8) 54))) goto LA2;
Checksonslen_103407(N_131736, 1);
Result_131737 = (*N_131736).KindU.S6.Sons->data[0];
goto LA1;
LA2: ;
LOC4 = 0;
LOC4 = Makevartype_103073(C_131735, (*N_131736).Typ);
Result_131737 = Newnodeit_50742(((NU8) 53), (*N_131736).Info, LOC4);
Addson_50824(Result_131737, N_131736);
LOC6 = Isassignable_131553(N_131736);
if (!!((LOC6 == ((NU8) 1)))) goto LA7;
Localerror_43144((*N_131736).Info, ((NU8) 123), ((NimStringDesc*) &TMP191995));
LA7: ;
LA1: ;
return Result_131737;
}
N_NIMCALL(TY50526*, Analyseifaddresstaken_131768)(TY103012* C_131770, TY50526* N_131771) {
TY50526* Result_131772;
TY50552* LOC2;
TY50552* LOC9;
TY50552* LOC13;
Result_131772 = 0;
Result_131772 = N_131771;
switch ((*N_131771).Kind) {
case ((NU8) 3):
LOC2 = 0;
LOC2 = Skiptypes_93087((*(*N_131771).KindU.S4.Sym).Typ, 43008);
if (!!(((*LOC2).Kind == ((NU8) 23)))) goto LA3;
(*(*N_131771).KindU.S4.Sym).Flags |=(1<<((NI32)(((NU8) 18))%(sizeof(NI32)*8)));
Result_131772 = Newhiddenaddrtaken_131733(C_131770, N_131771);
LA3: ;
break;
case ((NU8) 36):
Checksonslen_103407(N_131771, 2);
if (!!(((*(*N_131771).KindU.S6.Sons->data[1]).Kind == ((NU8) 3)))) goto LA6;
Internalerror_43159((*N_131771).Info, ((NimStringDesc*) &TMP192141));
LA6: ;
LOC9 = 0;
LOC9 = Skiptypes_93087((*(*(*N_131771).KindU.S6.Sons->data[1]).KindU.S4.Sym).Typ, 43008);
if (!!(((*LOC9).Kind == ((NU8) 23)))) goto LA10;
(*(*(*N_131771).KindU.S6.Sons->data[1]).KindU.S4.Sym).Flags |=(1<<((NI32)(((NU8) 18))%(sizeof(NI32)*8)));
Result_131772 = Newhiddenaddrtaken_131733(C_131770, N_131771);
LA10: ;
break;
case ((NU8) 33):
Checkminsonslen_103413(N_131771, 1);
LOC13 = 0;
LOC13 = Skiptypes_93087((*(*N_131771).KindU.S6.Sons->data[0]).Typ, 43008);
if (!!(((*LOC13).Kind == ((NU8) 23)))) goto LA14;
if (!((*(*N_131771).KindU.S6.Sons->data[0]).Kind == ((NU8) 3))) goto LA17;
(*(*(*N_131771).KindU.S6.Sons->data[0]).KindU.S4.Sym).Flags |=(1<<((NI32)(((NU8) 18))%(sizeof(NI32)*8)));
LA17: ;
Result_131772 = Newhiddenaddrtaken_131733(C_131770, N_131771);
LA14: ;
break;
default:
Result_131772 = Newhiddenaddrtaken_131733(C_131770, N_131771);
break;
}
return Result_131772;
}
N_NIMCALL(void, Analyseifaddresstakenincall_131986)(TY103012* C_131988, TY50526* N_131989) {
TY50552* T_132004;
NIM_BOOL LOC2;
NI I_132069;
NI HEX3Atmp_142771;
NI LOC6;
NI Res_142773;
NIM_BOOL LOC9;
NI LOC10;
TY50552* LOC12;
NU8 LOC16;
NI I_132124;
NI HEX3Atmp_142774;
NI LOC19;
NI Res_142776;
NIM_BOOL LOC22;
NI LOC23;
TY50552* LOC25;
Checkminsonslen_103413(N_131989, 1);
T_132004 = 0;
T_132004 = (*(*N_131989).KindU.S6.Sons->data[0]).Typ;
LOC2 = ((*(*N_131989).KindU.S6.Sons->data[0]).Kind == ((NU8) 3));
if (!(LOC2)) goto LA3;
LOC2 = ((TMP192139[(*(*(*N_131989).KindU.S6.Sons->data[0]).KindU.S4.Sym).Magic/8] &(1<<((*(*(*N_131989).KindU.S6.Sons->data[0]).KindU.S4.Sym).Magic%8)))!=0);
LA3: ;
if (!LOC2) goto LA4;
I_132069 = 0;
HEX3Atmp_142771 = 0;
LOC6 = Sonslen_50804(N_131989);
HEX3Atmp_142771 = (NI32)(LOC6 - 1);
Res_142773 = 0;
Res_142773 = 1;
while (1) {
if (!(Res_142773 <= HEX3Atmp_142771)) goto LA7;
I_132069 = Res_142773;
LOC10 = Sonslen_50807(T_132004);
LOC9 = (I_132069 < LOC10);
if (!(LOC9)) goto LA11;
LOC12 = 0;
LOC12 = Skiptypes_93087((*T_132004).Sons->data[I_132069], 43008);
LOC9 = ((*LOC12).Kind == ((NU8) 23));
LA11: ;
if (!LOC9) goto LA13;
LOC16 = Isassignable_131553((*N_131989).KindU.S6.Sons->data[I_132069]);
if (!!((LOC16 == ((NU8) 1)))) goto LA17;
Localerror_43144((*(*N_131989).KindU.S6.Sons->data[I_132069]).Info, ((NU8) 123), ((NimStringDesc*) &TMP191995));
LA17: ;
LA13: ;
Res_142773 += 1;
} LA7: ;
goto BeforeRet;
LA4: ;
I_132124 = 0;
HEX3Atmp_142774 = 0;
LOC19 = Sonslen_50804(N_131989);
HEX3Atmp_142774 = (NI32)(LOC19 - 1);
Res_142776 = 0;
Res_142776 = 1;
while (1) {
if (!(Res_142776 <= HEX3Atmp_142774)) goto LA20;
I_132124 = Res_142776;
LOC23 = Sonslen_50807(T_132004);
LOC22 = (I_132124 < LOC23);
if (!(LOC22)) goto LA24;
LOC25 = 0;
LOC25 = Skiptypes_93087((*T_132004).Sons->data[I_132124], 43008);
LOC22 = ((*LOC25).Kind == ((NU8) 23));
LA24: ;
if (!LOC22) goto LA26;
asgnRefNoCycle((void**) &(*N_131989).KindU.S6.Sons->data[I_132124], Analyseifaddresstaken_131768(C_131988, (*N_131989).KindU.S6.Sons->data[I_132124]));
LA26: ;
Res_142776 += 1;
} LA20: ;
BeforeRet: ;
}
N_NIMCALL(TY50526*, Propertywriteaccess_138598)(TY103012* C_138600, TY50526* N_138601, TY50526* A_138602) {
TY50526* Result_138603;
TY49011* Id_138604;
TY50526* LOC1;
NimStringDesc* LOC2;
TY49011* LOC3;
TY50526* LOC4;
TY50526* LOC5;
TY50526* LOC6;
TY50526* LOC7;
Result_138603 = 0;
Id_138604 = 0;
LOC1 = 0;
LOC1 = HEX5BHEX5D_52062(A_138602, 1);
Id_138604 = Consideracc_122003(LOC1);
Result_138603 = Newnodei_50738(((NU8) 21), (*N_138601).Info);
LOC2 = 0;
LOC2 = rawNewString((*Id_138604).S->Sup.len + 1);
appendString(LOC2, (*Id_138604).S);
appendChar(LOC2, 61);
LOC3 = 0;
LOC3 = Getident_49016(LOC2);
LOC4 = 0;
LOC4 = Newidentnode_50731(LOC3, (*N_138601).Info);
Addson_50824(Result_138603, LOC4);
LOC5 = 0;
LOC5 = HEX5BHEX5D_52062(A_138602, 0);
Addson_50824(Result_138603, LOC5);
LOC6 = 0;
LOC6 = HEX5BHEX5D_52062(N_138601, 1);
LOC7 = 0;
LOC7 = Semexpr_122115(C_138600, LOC6, 0);
Addson_50824(Result_138603, LOC7);
Result_138603 = Semdirectcallanalyseeffects_132162(C_138600, Result_138603, 0);
if (!!((Result_138603 == NIM_NIL))) goto LA9;
Fixabstracttype_131289(C_138600, Result_138603);
Analyseifaddresstakenincall_131986(C_138600, Result_138603);
goto LA8;
LA9: ;
Globalerror_43139((*N_138601).Info, ((NU8) 77), (*Id_138604).S);
LA8: ;
return Result_138603;
}
N_NIMCALL(TY50526*, Semsubscript_133845)(TY103012* C_133847, TY50526* N_133848, NU8 Flags_133849) {
TY50526* Result_133850;
TY50552* Arr_133899;
NI I_133932;
NI HEX3Atmp_142801;
NI LOC1;
NI Res_142803;
TY50552* Indextype_133977;
TY50552* LOC3;
TY50526* Arg_134002;
TY50552* LOC10;
NI64 Idx_134111;
NIM_BOOL LOC14;
NI LOC16;
Result_133850 = 0;
Checkminsonslen_103413(N_133848, 2);
asgnRefNoCycle((void**) &(*N_133848).KindU.S6.Sons->data[0], Semexprwithtype_122122(C_133847, (*N_133848).KindU.S6.Sons->data[0], (Flags_133849 & ~ 1)));
Arr_133899 = 0;
Arr_133899 = Skiptypes_93087((*(*N_133848).KindU.S6.Sons->data[0]).Typ, 14682112);
switch ((*Arr_133899).Kind) {
case ((NU8) 16):
case ((NU8) 27):
case ((NU8) 4):
case ((NU8) 24):
case ((NU8) 28):
case ((NU8) 29):
Checksonslen_103407(N_133848, 2);
asgnRefNoCycle((void**) &(*N_133848).KindU.S6.Sons->data[0], Makederef_133264((*N_133848).KindU.S6.Sons->data[0]));
I_133932 = 0;
HEX3Atmp_142801 = 0;
LOC1 = Sonslen_50804(N_133848);
HEX3Atmp_142801 = (NI32)(LOC1 - 1);
Res_142803 = 0;
Res_142803 = 1;
while (1) {
if (!(Res_142803 <= HEX3Atmp_142801)) goto LA2;
I_133932 = Res_142803;
asgnRefNoCycle((void**) &(*N_133848).KindU.S6.Sons->data[I_133932], Semexprwithtype_122122(C_133847, (*N_133848).KindU.S6.Sons->data[I_133932], (Flags_133849 & ~ 1)));
Res_142803 += 1;
} LA2: ;
Indextype_133977 = 0;
LOC3 = 0;
if (!((*Arr_133899).Kind == ((NU8) 16))) goto LA5;
LOC3 = (*Arr_133899).Sons->data[0];
goto LA4;
LA5: ;
LOC3 = Getsystype_98008(((NU8) 31));
LA4: ;
Indextype_133977 = LOC3;
Arg_134002 = 0;
Arg_134002 = Indextypesmatch_125821(C_133847, Indextype_133977, (*(*N_133848).KindU.S6.Sons->data[1]).Typ, (*N_133848).KindU.S6.Sons->data[1]);
if (!!((Arg_134002 == NIM_NIL))) goto LA7;
asgnRefNoCycle((void**) &(*N_133848).KindU.S6.Sons->data[1], Arg_134002);
goto LA6;
LA7: ;
Globalerror_43139((*N_133848).Info, ((NU8) 80), ((NimStringDesc*) &TMP191995));
LA6: ;
Result_133850 = N_133848;
asgnRef((void**) &(*Result_133850).Typ, Elemtype_93091(Arr_133899));
break;
case ((NU8) 18):
Checksonslen_103407(N_133848, 2);
asgnRefNoCycle((void**) &(*N_133848).KindU.S6.Sons->data[0], Makederef_133264((*N_133848).KindU.S6.Sons->data[0]));
asgnRefNoCycle((void**) &(*N_133848).KindU.S6.Sons->data[1], Semconstexpr_122171(C_133847, (*N_133848).KindU.S6.Sons->data[1]));
LOC10 = 0;
LOC10 = Skiptypes_93087((*(*N_133848).KindU.S6.Sons->data[1]).Typ, 1083392);
if (!((*LOC10).Kind >= ((NU8) 31) && (*LOC10).Kind <= ((NU8) 35))) goto LA11;
Idx_134111 = 0;
Idx_134111 = Getordvalue_93109((*N_133848).KindU.S6.Sons->data[1]);
LOC14 = (0 <= Idx_134111);
if (!(LOC14)) goto LA15;
LOC16 = Sonslen_50807(Arr_133899);
LOC14 = (Idx_134111 < ((NI64) (LOC16)));
LA15: ;
if (!LOC14) goto LA17;
asgnRef((void**) &(*N_133848).Typ, (*Arr_133899).Sons->data[Idx_134111]);
goto LA13;
LA17: ;
Globalerror_43139((*N_133848).Info, ((NU8) 181), ((NimStringDesc*) &TMP191995));
LA13: ;
goto LA9;
LA11: ;
Globalerror_43139((*N_133848).Info, ((NU8) 80), ((NimStringDesc*) &TMP191995));
LA9: ;
Result_133850 = N_133848;
break;
default:
break;
}
return Result_133850;
}
static N_INLINE(NI, Len_51923)(TY50526* N_51925) {
NI Result_51926;
Result_51926 = 0;
if (!(*N_51925).KindU.S6.Sons == 0) goto LA2;
Result_51926 = 0;
goto LA1;
LA2: ;
Result_51926 = (*N_51925).KindU.S6.Sons->Sup.len;
LA1: ;
return Result_51926;
}
N_NIMCALL(void, Addsliceopr_133770)(NimStringDesc** Result_133773, TY50526* N_133774) {
TY50526* LOC2;
TY50526* LOC6;
TY50526* LOC9;
LOC2 = 0;
LOC2 = HEX5BHEX5D_52062(N_133774, 0);
if (!((*LOC2).Kind == ((NU8) 1))) goto LA3;
LOC6 = 0;
LOC6 = HEX5BHEX5D_52062(N_133774, 1);
if (!((*LOC6).Kind == ((NU8) 1))) goto LA7;
(*Result_133773) = resizeString((*Result_133773), 2);
appendString((*Result_133773), ((NimStringDesc*) &TMP192144));
goto LA5;
LA7: ;
(*Result_133773) = resizeString((*Result_133773), 3);
appendString((*Result_133773), ((NimStringDesc*) &TMP192145));
LA5: ;
goto LA1;
LA3: ;
LOC9 = 0;
LOC9 = HEX5BHEX5D_52062(N_133774, 1);
if (!((*LOC9).Kind == ((NU8) 1))) goto LA10;
(*Result_133773) = resizeString((*Result_133773), 3);
appendString((*Result_133773), ((NimStringDesc*) &TMP192146));
goto LA1;
LA10: ;
(*Result_133773) = resizeString((*Result_133773), 4);
appendString((*Result_133773), ((NimStringDesc*) &TMP192147));
LA1: ;
}
N_NIMCALL(TY50526*, Buildoverloadedsubscripts_133802)(TY50526* N_133804, NIM_BOOL Inasgn_133805) {
TY50526* Result_133806;
TY50526* LOC1;
NimStringDesc* Opr_133807;
NI I_133818;
NI HEX3Atmp_142798;
NI LOC2;
NI Res_142800;
TY50526* LOC8;
TY50526* LOC11;
TY50526* LOC12;
TY50526* LOC13;
TY50526* LOC14;
TY50526* LOC15;
TY50526* LOC16;
TY50526* LOC17;
TY49011* LOC21;
Result_133806 = 0;
Result_133806 = Newnodei_50738(((NU8) 21), (*N_133804).Info);
Add_51969(Result_133806, Emptynode_50858);
LOC1 = 0;
LOC1 = HEX5BHEX5D_52062(N_133804, 0);
Add_51969(Result_133806, LOC1);
Opr_133807 = 0;
Opr_133807 = copyString(((NimStringDesc*) &TMP192142));
I_133818 = 0;
HEX3Atmp_142798 = 0;
LOC2 = Len_51923(N_133804);
HEX3Atmp_142798 = (NI32)(LOC2 - 1);
Res_142800 = 0;
Res_142800 = 1;
while (1) {
if (!(Res_142800 <= HEX3Atmp_142798)) goto LA3;
I_133818 = Res_142800;
if (!(1 < I_133818)) goto LA5;
Opr_133807 = resizeString(Opr_133807, 1);
appendString(Opr_133807, ((NimStringDesc*) &TMP192143));
LA5: ;
LOC8 = 0;
LOC8 = HEX5BHEX5D_52062(N_133804, I_133818);
if (!((*LOC8).Kind == ((NU8) 35))) goto LA9;
LOC11 = 0;
LOC11 = HEX5BHEX5D_52062(N_133804, I_133818);
Checksonslen_103407(LOC11, 2);
LOC12 = 0;
LOC12 = HEX5BHEX5D_52062(N_133804, I_133818);
Addsliceopr_133770(&Opr_133807, LOC12);
LOC13 = 0;
LOC13 = HEX5BHEX5D_52062(N_133804, I_133818);
LOC14 = 0;
LOC14 = HEX5BHEX5D_52062(LOC13, 0);
Addson_50824(Result_133806, LOC14);
LOC15 = 0;
LOC15 = HEX5BHEX5D_52062(N_133804, I_133818);
LOC16 = 0;
LOC16 = HEX5BHEX5D_52062(LOC15, 1);
Addson_50824(Result_133806, LOC16);
goto LA7;
LA9: ;
LOC17 = 0;
LOC17 = HEX5BHEX5D_52062(N_133804, I_133818);
Add_51969(Result_133806, LOC17);
LA7: ;
Res_142800 += 1;
} LA3: ;
if (!Inasgn_133805) goto LA19;
Opr_133807 = resizeString(Opr_133807, 2);
appendString(Opr_133807, ((NimStringDesc*) &TMP192148));
goto LA18;
LA19: ;
Opr_133807 = resizeString(Opr_133807, 1);
appendString(Opr_133807, ((NimStringDesc*) &TMP192149));
LA18: ;
LOC21 = 0;
LOC21 = Getident_49016(Opr_133807);
asgnRefNoCycle((void**) &(*Result_133806).KindU.S6.Sons->data[0], Newidentnode_50731(LOC21, (*N_133804).Info));
return Result_133806;
}
N_NIMCALL(TY50526*, Buildstringify_132653)(TY103012* C_132655, TY50526* Arg_132656) {
TY50526* Result_132657;
NIM_BOOL LOC2;
TY50552* LOC4;
TY49011* LOC7;
TY50526* LOC8;
Result_132657 = 0;
LOC2 = !(((*Arg_132656).Typ == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC4 = 0;
LOC4 = Skiptypes_93087((*Arg_132656).Typ, 43008);
LOC2 = ((*LOC4).Kind == ((NU8) 28));
LA3: ;
if (!LOC2) goto LA5;
Result_132657 = Arg_132656;
goto LA1;
LA5: ;
Result_132657 = Newnodei_50738(((NU8) 21), (*Arg_132656).Info);
LOC7 = 0;
LOC7 = Getident_49016(((NimStringDesc*) &TMP192152));
LOC8 = 0;
LOC8 = Newidentnode_50731(LOC7, (*Arg_132656).Info);
Addson_50824(Result_132657, LOC8);
Addson_50824(Result_132657, Arg_132656);
LA1: ;
return Result_132657;
}
N_NIMCALL(TY50526*, Buildechostmt_137721)(TY103012* C_137723, TY50526* N_137724) {
TY50526* Result_137725;
TY50548* E_137726;
TY49011* LOC1;
TY50526* LOC5;
TY50526* Arg_137738;
TY50526* LOC6;
Result_137725 = 0;
Result_137725 = Newnodei_50738(((NU8) 21), (*N_137724).Info);
E_137726 = 0;
LOC1 = 0;
LOC1 = Getident_49016(((NimStringDesc*) &TMP192150));
E_137726 = Strtableget_55066(&(*Systemmodule_98004).Tab, LOC1);
if (!(E_137726 == NIM_NIL)) goto LA3;
Globalerror_43139((*N_137724).Info, ((NU8) 61), ((NimStringDesc*) &TMP192151));
LA3: ;
LOC5 = 0;
LOC5 = Newsymnode_50735(E_137726);
Addson_50824(Result_137725, LOC5);
Arg_137738 = 0;
Arg_137738 = Buildstringify_132653(C_137723, N_137724);
LOC6 = 0;
LOC6 = Semexpr_122115(C_137723, Arg_137738, 0);
Addson_50824(Result_137725, LOC6);
return Result_137725;
}
N_NIMCALL(TY50526*, Semexprnotype_137739)(TY103012* C_137741, TY50526* N_137742) {
TY50526* Result_137743;
NIM_BOOL LOC2;
Result_137743 = 0;
Result_137743 = Semexpr_122115(C_137741, N_137742, 0);
LOC2 = !(((*Result_137743).Typ == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC2 = !(((*(*Result_137743).Typ).Kind == ((NU8) 7)));
LA3: ;
if (!LOC2) goto LA4;
if (!(Gcmd_41084 == ((NU8) 17))) goto LA7;
Result_137743 = Buildechostmt_137721(C_137741, Result_137743);
goto LA6;
LA7: ;
Localerror_43144((*N_137742).Info, ((NU8) 136), ((NimStringDesc*) &TMP191995));
LA6: ;
LA4: ;
return Result_137743;
}
N_NIMCALL(TY50526*, Semasgn_138618)(TY103012* C_138620, TY50526* N_138621) {
TY50526* Result_138622;
TY50526* A_138635;
TY50526* LOC4;
TY50526* LOC8;
TY50552* Le_138709;
NIM_BOOL LOC10;
TY50552* LOC11;
NU8 LOC13;
NimStringDesc* LOC16;
Result_138622 = 0;
Checksonslen_103407(N_138621, 2);
A_138635 = 0;
A_138635 = (*N_138621).KindU.S6.Sons->data[0];
switch ((*A_138635).Kind) {
case ((NU8) 36):
A_138635 = Builtinfieldaccess_133293(C_138620, A_138635, 2);
if (!(A_138635 == NIM_NIL)) goto LA2;
LOC4 = 0;
LOC4 = HEX5BHEX5D_52062(N_138621, 0);
Result_138622 = Propertywriteaccess_138598(C_138620, N_138621, LOC4);
goto BeforeRet;
LA2: ;
break;
case ((NU8) 33):
A_138635 = Semsubscript_133845(C_138620, A_138635, 2);
if (!(A_138635 == NIM_NIL)) goto LA6;
Result_138622 = Buildoverloadedsubscripts_133802((*N_138621).KindU.S6.Sons->data[0], NIM_TRUE);
LOC8 = 0;
LOC8 = HEX5BHEX5D_52062(N_138621, 1);
Add_51969(Result_138622, LOC8);
Result_138622 = Semexprnotype_137739(C_138620, Result_138622);
goto BeforeRet;
LA6: ;
break;
default:
A_138635 = Semexprwithtype_122122(C_138620, A_138635, 2);
break;
}
asgnRefNoCycle((void**) &(*N_138621).KindU.S6.Sons->data[0], A_138635);
asgnRefNoCycle((void**) &(*N_138621).KindU.S6.Sons->data[1], Semexprwithtype_122122(C_138620, (*N_138621).KindU.S6.Sons->data[1], 0));
Le_138709 = 0;
Le_138709 = (*A_138635).Typ;
LOC11 = 0;
LOC11 = Skiptypes_93087(Le_138709, 2048);
LOC10 = !(((*LOC11).Kind == ((NU8) 23)));
if (!(LOC10)) goto LA12;
LOC13 = Isassignable_131553(A_138635);
LOC10 = (LOC13 == ((NU8) 0));
LA12: ;
if (!LOC10) goto LA14;
LOC16 = 0;
LOC16 = Rendertree_81042(A_138635, 4);
Localerror_43144((*A_138635).Info, ((NU8) 173), LOC16);
goto LA9;
LA14: ;
asgnRefNoCycle((void**) &(*N_138621).KindU.S6.Sons->data[1], Fitnode_122129(C_138620, Le_138709, (*N_138621).KindU.S6.Sons->data[1]));
Fixabstracttype_131289(C_138620, N_138621);
LA9: ;
Result_138622 = N_138621;
BeforeRet: ;
return Result_138622;
}
N_NIMCALL(TY50526*, Semcommand_137773)(TY103012* C_137775, TY50526* N_137776) {
TY50526* Result_137777;
Result_137777 = 0;
Result_137777 = Semexprnotype_137739(C_137775, N_137776);
return Result_137777;
}
N_NIMCALL(TY50526*, Semblock_138181)(TY103012* C_138183, TY50526* N_138184) {
TY50526* Result_138185;
TY50548* Labl_138232;
Result_138185 = 0;
Result_138185 = N_138184;
(*(*C_138183).P).Nestedblockcounter += 1;
Checksonslen_103407(N_138184, 2);
Openscope_55141(&(*C_138183).Tab);
if (!!(((*(*N_138184).KindU.S6.Sons->data[0]).Kind == ((NU8) 1)))) goto LA2;
Labl_138232 = 0;
Labl_138232 = Newsyms_122059(((NU8) 19), (*N_138184).KindU.S6.Sons->data[0], C_138183);
Adddecl_104114(C_138183, Labl_138232);
asgnRefNoCycle((void**) &(*N_138184).KindU.S6.Sons->data[0], Newsymnode_50735(Labl_138232));
LA2: ;
asgnRefNoCycle((void**) &(*N_138184).KindU.S6.Sons->data[1], Semstmt_122143(C_138183, (*N_138184).KindU.S6.Sons->data[1]));
Closescope_104018(&(*C_138183).Tab);
(*(*C_138183).P).Nestedblockcounter -= 1;
return Result_138185;
}
N_NIMCALL(TY50526*, Semraise_140043)(TY103012* C_140045, TY50526* N_140046) {
TY50526* Result_140047;
TY50552* Typ_140105;
NIM_BOOL LOC5;
Result_140047 = 0;
Result_140047 = N_140046;
Checksonslen_103407(N_140046, 1);
if (!!(((*(*N_140046).KindU.S6.Sons->data[0]).Kind == ((NU8) 1)))) goto LA2;
asgnRefNoCycle((void**) &(*N_140046).KindU.S6.Sons->data[0], Semexprwithtype_122122(C_140045, (*N_140046).KindU.S6.Sons->data[0], 0));
Typ_140105 = 0;
Typ_140105 = (*(*N_140046).KindU.S6.Sons->data[0]).Typ;
LOC5 = !(((*Typ_140105).Kind == ((NU8) 22)));
if (LOC5) goto LA6;
LOC5 = !(((*(*Typ_140105).Sons->data[0]).Kind == ((NU8) 17)));
LA6: ;
if (!LOC5) goto LA7;
Localerror_43144((*N_140046).Info, ((NU8) 109), ((NimStringDesc*) &TMP191995));
LA7: ;
LA2: ;
return Result_140047;
}
N_NIMCALL(TY50526*, Semvar_139139)(TY103012* C_139141, TY50526* N_139142) {
TY50526* Result_139143;
TY50526* B_139144;
NI I_139153;
NI HEX3Atmp_142905;
NI LOC1;
NI Res_142907;
TY50526* A_139166;
NIM_BOOL LOC8;
NI Length_139194;
TY50552* Typ_139195;
TY50526* Def_139229;
NIM_BOOL LOC25;
NimStringDesc* LOC28;
TY50552* Tup_139286;
NI LOC36;
NI J_139339;
NI HEX3Atmp_142902;
NI Res_142904;
TY50548* V_139340;
TY50526* LOC49;
TY50526* LOC50;
Result_139143 = 0;
B_139144 = 0;
Result_139143 = Copynode_50849(N_139142);
I_139153 = 0;
HEX3Atmp_142905 = 0;
LOC1 = Sonslen_50804(N_139142);
HEX3Atmp_142905 = (NI32)(LOC1 - 1);
Res_142907 = 0;
Res_142907 = 0;
while (1) {
if (!(Res_142907 <= HEX3Atmp_142905)) goto LA2;
I_139153 = Res_142907;
A_139166 = 0;
A_139166 = (*N_139142).KindU.S6.Sons->data[I_139153];
if (!((*A_139166).Kind == ((NU8) 105))) goto LA5;
goto LA3;
LA5: ;
LOC8 = !(((*A_139166).Kind == ((NU8) 25)));
if (!(LOC8)) goto LA9;
LOC8 = !(((*A_139166).Kind == ((NU8) 26)));
LA9: ;
if (!LOC8) goto LA10;
Illformedast_103403(A_139166);
LA10: ;
Checkminsonslen_103413(A_139166, 3);
Length_139194 = 0;
Length_139194 = Sonslen_50804(A_139166);
Typ_139195 = 0;
if (!!(((*(*A_139166).KindU.S6.Sons->data[(NI32)(Length_139194 - 2)]).Kind == ((NU8) 1)))) goto LA13;
Typ_139195 = Semtypenode_122138(C_139141, (*A_139166).KindU.S6.Sons->data[(NI32)(Length_139194 - 2)], NIM_NIL);
goto LA12;
LA13: ;
Typ_139195 = NIM_NIL;
LA12: ;
Def_139229 = 0;
if (!!(((*(*A_139166).KindU.S6.Sons->data[(NI32)(Length_139194 - 1)]).Kind == ((NU8) 1)))) goto LA16;
Def_139229 = Semexprwithtype_122122(C_139141, (*A_139166).KindU.S6.Sons->data[(NI32)(Length_139194 - 1)], 0);
if (!!((Typ_139195 == NIM_NIL))) goto LA19;
Def_139229 = Fitnode_122129(C_139141, Typ_139195, Def_139229);
goto LA18;
LA19: ;
Typ_139195 = (*Def_139229).Typ;
LA18: ;
goto LA15;
LA16: ;
Def_139229 = Emptynode_50858;
LA15: ;
if (!(Typ_139195 == NIM_NIL)) goto LA22;
goto LA3;
LA22: ;
LOC25 = Typeallowed_93136(Typ_139195, ((NU8) 9));
if (!!(LOC25)) goto LA26;
LOC28 = 0;
LOC28 = Typetostring_93014(Typ_139195, ((NU8) 0));
Globalerror_43139((*A_139166).Info, ((NU8) 162), LOC28);
LA26: ;
Tup_139286 = 0;
Tup_139286 = Skiptypes_93087(Typ_139195, 2048);
if (!((*A_139166).Kind == ((NU8) 26))) goto LA30;
if (!!(((*Tup_139286).Kind == ((NU8) 18)))) goto LA33;
Globalerror_43139((*A_139166).Info, ((NU8) 183), ((NimStringDesc*) &TMP192153));
LA33: ;
LOC36 = Sonslen_50807(Tup_139286);
if (!!(((NI32)(Length_139194 - 2) == LOC36))) goto LA37;
Globalerror_43139((*A_139166).Info, ((NU8) 108), ((NimStringDesc*) &TMP191995));
LA37: ;
B_139144 = Newnodei_50738(((NU8) 26), (*A_139166).Info);
Newsons_50816(B_139144, Length_139194);
asgnRefNoCycle((void**) &(*B_139144).KindU.S6.Sons->data[(NI32)(Length_139194 - 2)], Emptynode_50858);
asgnRefNoCycle((void**) &(*B_139144).KindU.S6.Sons->data[(NI32)(Length_139194 - 1)], Def_139229);
Addson_50824(Result_139143, B_139144);
LA30: ;
J_139339 = 0;
HEX3Atmp_142902 = 0;
HEX3Atmp_142902 = (NI32)(Length_139194 - 3);
Res_142904 = 0;
Res_142904 = 0;
while (1) {
if (!(Res_142904 <= HEX3Atmp_142902)) goto LA39;
J_139339 = Res_142904;
V_139340 = 0;
if (!((*(*(*C_139141).P).Owner).Kind == ((NU8) 6))) goto LA41;
V_139340 = Semidentwithpragma_122098(C_139141, ((NU8) 9), (*A_139166).KindU.S6.Sons->data[J_139339], 6);
(*V_139340).Flags |=(1<<((NI32)(((NU8) 5))%(sizeof(NI32)*8)));
goto LA40;
LA41: ;
V_139340 = Semidentwithpragma_122098(C_139141, ((NU8) 9), (*A_139166).KindU.S6.Sons->data[J_139339], 0);
LA40: ;
if (!!((((*V_139340).Flags & 6) == 0))) goto LA44;
(*V_139340).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
LA44: ;
Addinterfacedecl_104236(C_139141, V_139340);
if (!!(((*A_139166).Kind == ((NU8) 26)))) goto LA47;
asgnRef((void**) &(*V_139340).Typ, Typ_139195);
B_139144 = Newnodei_50738(((NU8) 25), (*A_139166).Info);
LOC49 = 0;
LOC49 = Newsymnode_50735(V_139340);
Addson_50824(B_139144, LOC49);
Addson_50824(B_139144, Emptynode_50858);
LOC50 = 0;
LOC50 = Copytree_50852(Def_139229);
Addson_50824(B_139144, LOC50);
Addson_50824(Result_139143, B_139144);
goto LA46;
LA47: ;
asgnRef((void**) &(*V_139340).Typ, (*Tup_139286).Sons->data[J_139339]);
asgnRefNoCycle((void**) &(*B_139144).KindU.S6.Sons->data[J_139339], Newsymnode_50735(V_139340));
LA46: ;
Res_142904 += 1;
} LA39: ;
LA3: ;
Res_142907 += 1;
} LA2: ;
return Result_139143;
}
N_NIMCALL(TY50526*, Semandevalconstexpr_122198)(TY103012* C_122200, TY50526* N_122201) {
TY50526* Result_122202;
TY50526* E_122203;
NIM_BOOL LOC8;
Result_122202 = 0;
E_122203 = 0;
E_122203 = Semexprwithtype_122122(C_122200, N_122201, 0);
if (!(E_122203 == NIM_NIL)) goto LA2;
Globalerror_43139((*N_122201).Info, ((NU8) 101), ((NimStringDesc*) &TMP191995));
Result_122202 = NIM_NIL;
goto BeforeRet;
LA2: ;
Result_122202 = Getconstexpr_109010((*C_122200).Module, E_122203);
if (!(Result_122202 == NIM_NIL)) goto LA5;
Result_122202 = Evalconstexpr_111042((*C_122200).Module, E_122203);
LOC8 = (Result_122202 == NIM_NIL);
if (LOC8) goto LA9;
LOC8 = ((*Result_122202).Kind == ((NU8) 1));
LA9: ;
if (!LOC8) goto LA10;
Globalerror_43139((*N_122201).Info, ((NU8) 101), ((NimStringDesc*) &TMP191995));
LA10: ;
LA5: ;
BeforeRet: ;
return Result_122202;
}
N_NIMCALL(TY50526*, Fitremovehiddenconv_139097)(TY103012* C_139099, TY50552* Typ_139100, TY50526* N_139101) {
TY50526* Result_139102;
NIM_BOOL LOC4;
Result_139102 = 0;
Result_139102 = Fitnode_122129(C_139099, Typ_139100, N_139101);
if (!((*Result_139102).Kind == ((NU8) 47) || (*Result_139102).Kind == ((NU8) 48))) goto LA2;
Changetype_130902((*Result_139102).KindU.S6.Sons->data[1], Typ_139100);
Result_139102 = (*Result_139102).KindU.S6.Sons->data[1];
goto LA1;
LA2: ;
LOC4 = Sametype_93048((*Result_139102).Typ, Typ_139100);
if (!!(LOC4)) goto LA5;
Changetype_130902(Result_139102, Typ_139100);
goto LA1;
LA5: ;
LA1: ;
return Result_139102;
}
N_NIMCALL(TY50526*, Semconst_139446)(TY103012* C_139448, TY50526* N_139449) {
TY50526* Result_139450;
NI I_139459;
NI HEX3Atmp_142909;
NI LOC1;
NI Res_142911;
TY50526* A_139472;
TY50548* V_139491;
TY50552* Typ_139540;
TY50526* Def_139586;
NIM_BOOL LOC20;
NimStringDesc* LOC23;
TY50526* B_139634;
TY50526* LOC27;
TY50526* LOC28;
Result_139450 = 0;
Result_139450 = Copynode_50849(N_139449);
I_139459 = 0;
HEX3Atmp_142909 = 0;
LOC1 = Sonslen_50804(N_139449);
HEX3Atmp_142909 = (NI32)(LOC1 - 1);
Res_142911 = 0;
Res_142911 = 0;
while (1) {
if (!(Res_142911 <= HEX3Atmp_142909)) goto LA2;
I_139459 = Res_142911;
A_139472 = 0;
A_139472 = (*N_139449).KindU.S6.Sons->data[I_139459];
if (!((*A_139472).Kind == ((NU8) 105))) goto LA5;
goto LA3;
LA5: ;
if (!!(((*A_139472).Kind == ((NU8) 89)))) goto LA8;
Illformedast_103403(A_139472);
LA8: ;
Checksonslen_103407(A_139472, 3);
V_139491 = 0;
if (!((*(*(*C_139448).P).Owner).Kind == ((NU8) 6))) goto LA11;
V_139491 = Semidentwithpragma_122098(C_139448, ((NU8) 8), (*A_139472).KindU.S6.Sons->data[0], 6);
(*V_139491).Flags |=(1<<((NI32)(((NU8) 5))%(sizeof(NI32)*8)));
goto LA10;
LA11: ;
V_139491 = Semidentwithpragma_122098(C_139448, ((NU8) 8), (*A_139472).KindU.S6.Sons->data[0], 0);
LA10: ;
Typ_139540 = 0;
Typ_139540 = NIM_NIL;
if (!!(((*(*A_139472).KindU.S6.Sons->data[1]).Kind == ((NU8) 1)))) goto LA14;
Typ_139540 = Semtypenode_122138(C_139448, (*A_139472).KindU.S6.Sons->data[1], NIM_NIL);
LA14: ;
Def_139586 = 0;
Def_139586 = Semandevalconstexpr_122198(C_139448, (*A_139472).KindU.S6.Sons->data[2]);
if (!!((Typ_139540 == NIM_NIL))) goto LA17;
Def_139586 = Fitremovehiddenconv_139097(C_139448, Typ_139540, Def_139586);
goto LA16;
LA17: ;
Typ_139540 = (*Def_139586).Typ;
LA16: ;
LOC20 = Typeallowed_93136(Typ_139540, ((NU8) 8));
if (!!(LOC20)) goto LA21;
LOC23 = 0;
LOC23 = Typetostring_93014(Typ_139540, ((NU8) 0));
Globalerror_43139((*A_139472).Info, ((NU8) 162), LOC23);
LA21: ;
asgnRef((void**) &(*V_139491).Typ, Typ_139540);
asgnRefNoCycle((void**) &(*V_139491).Ast, Def_139586);
if (!!((((*V_139491).Flags & 6) == 0))) goto LA25;
(*V_139491).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
LA25: ;
Addinterfacedecl_104236(C_139448, V_139491);
B_139634 = 0;
B_139634 = Newnodei_50738(((NU8) 89), (*A_139472).Info);
LOC27 = 0;
LOC27 = Newsymnode_50735(V_139491);
Addson_50824(B_139634, LOC27);
Addson_50824(B_139634, Emptynode_50858);
LOC28 = 0;
LOC28 = Copytree_50852(Def_139586);
Addson_50824(B_139634, LOC28);
Addson_50824(Result_139450, B_139634);
LA3: ;
Res_142911 += 1;
} LA2: ;
return Result_139450;
}
N_NIMCALL(void, Setmagictype_129942)(TY50548* M_129944, NU8 Kind_129945, NI Size_129946) {
(*(*M_129944).Typ).Kind = Kind_129945;
(*(*M_129944).Typ).Align = Size_129946;
(*(*M_129944).Typ).Size = ((NI64) (Size_129946));
}
N_NIMCALL(void, Processmagictype_129947)(TY103012* C_129949, TY50548* M_129950) {
TY50552* LOC1;
TY50552* LOC2;
TY50552* LOC3;
switch ((*M_129950).Magic) {
case ((NU8) 169):
Setmagictype_129942(M_129950, ((NU8) 31), Intsize_46578);
break;
case ((NU8) 170):
Setmagictype_129942(M_129950, ((NU8) 32), 1);
break;
case ((NU8) 171):
Setmagictype_129942(M_129950, ((NU8) 33), 2);
break;
case ((NU8) 172):
Setmagictype_129942(M_129950, ((NU8) 34), 4);
break;
case ((NU8) 173):
Setmagictype_129942(M_129950, ((NU8) 35), 8);
break;
case ((NU8) 174):
Setmagictype_129942(M_129950, ((NU8) 36), Floatsize_46579);
break;
case ((NU8) 175):
Setmagictype_129942(M_129950, ((NU8) 37), 4);
break;
case ((NU8) 176):
Setmagictype_129942(M_129950, ((NU8) 38), 8);
break;
case ((NU8) 177):
Setmagictype_129942(M_129950, ((NU8) 1), 1);
break;
case ((NU8) 178):
Setmagictype_129942(M_129950, ((NU8) 2), 1);
break;
case ((NU8) 179):
Setmagictype_129942(M_129950, ((NU8) 28), Ptrsize_46580);
LOC1 = 0;
LOC1 = Getsystype_98008(((NU8) 2));
Addson_50828((*M_129950).Typ, LOC1);
break;
case ((NU8) 180):
Setmagictype_129942(M_129950, ((NU8) 29), Ptrsize_46580);
LOC2 = 0;
LOC2 = Getsystype_98008(((NU8) 2));
Addson_50828((*M_129950).Typ, LOC2);
break;
case ((NU8) 181):
Setmagictype_129942(M_129950, ((NU8) 26), Ptrsize_46580);
break;
case ((NU8) 182):
Setmagictype_129942(M_129950, ((NU8) 19), 1);
LOC3 = 0;
LOC3 = Newtypes_103077(((NU8) 3), C_129949);
Addson_50828((*M_129950).Typ, LOC3);
break;
case ((NU8) 183):
Setmagictype_129942(M_129950, ((NU8) 20), Intsize_46578);
goto BeforeRet;
break;
case ((NU8) 184):
Setmagictype_129942(M_129950, ((NU8) 5), Ptrsize_46580);
break;
case ((NU8) 185):
Setmagictype_129942(M_129950, ((NU8) 6), 0);
break;
case ((NU8) 186):
Setmagictype_129942(M_129950, ((NU8) 7), 0);
break;
case ((NU8) 187):
Setmagictype_129942(M_129950, ((NU8) 8), 0);
break;
case ((NU8) 163):
case ((NU8) 164):
case ((NU8) 165):
case ((NU8) 166):
case ((NU8) 167):
case ((NU8) 168):
goto BeforeRet;
break;
default:
Globalerror_43139((*M_129950).Info, ((NU8) 60), ((NimStringDesc*) &TMP191995));
break;
}
BeforeRet: ;
}
static N_INLINE(NI, Getid_50694)(void) {
NI Result_50943;
Result_50943 = 0;
Result_50943 = Gid_50693;
Gid_50693 += 1;
return Result_50943;
}
N_NIMCALL(TY50526*, Semgenericparamlist_140321)(TY103012* C_140323, TY50526* N_140324, TY50552* Father_140325) {
TY50526* Result_140326;
NI I_140344;
NI HEX3Atmp_142924;
NI LOC4;
NI Res_142926;
TY50526* A_140357;
NI L_140367;
TY50526* Def_140380;
TY50552* Typ_140381;
NI J_140432;
NI HEX3Atmp_142921;
NI Res_142923;
TY50548* S_140433;
NIM_BOOL LOC16;
TY50526* LOC26;
Result_140326 = 0;
Result_140326 = Copynode_50849(N_140324);
if (!!(((*N_140324).Kind == ((NU8) 65)))) goto LA2;
Internalerror_43159((*N_140324).Info, ((NimStringDesc*) &TMP192172));
LA2: ;
I_140344 = 0;
HEX3Atmp_142924 = 0;
LOC4 = Sonslen_50804(N_140324);
HEX3Atmp_142924 = (NI32)(LOC4 - 1);
Res_142926 = 0;
Res_142926 = 0;
while (1) {
if (!(Res_142926 <= HEX3Atmp_142924)) goto LA5;
I_140344 = Res_142926;
A_140357 = 0;
A_140357 = (*N_140324).KindU.S6.Sons->data[I_140344];
if (!!(((*A_140357).Kind == ((NU8) 25)))) goto LA7;
Illformedast_103403(N_140324);
LA7: ;
L_140367 = 0;
L_140367 = Sonslen_50804(A_140357);
Def_140380 = 0;
Def_140380 = (*A_140357).KindU.S6.Sons->data[(NI32)(L_140367 - 1)];
Typ_140381 = 0;
if (!!(((*(*A_140357).KindU.S6.Sons->data[(NI32)(L_140367 - 2)]).Kind == ((NU8) 1)))) goto LA10;
Typ_140381 = Semtypenode_122138(C_140323, (*A_140357).KindU.S6.Sons->data[(NI32)(L_140367 - 2)], NIM_NIL);
goto LA9;
LA10: ;
if (!!(((*Def_140380).Kind == ((NU8) 1)))) goto LA12;
Typ_140381 = Newtypes_103077(((NU8) 6), C_140323);
goto LA9;
LA12: ;
Typ_140381 = NIM_NIL;
LA9: ;
J_140432 = 0;
HEX3Atmp_142921 = 0;
HEX3Atmp_142921 = (NI32)(L_140367 - 3);
Res_142923 = 0;
Res_142923 = 0;
while (1) {
if (!(Res_142923 <= HEX3Atmp_142921)) goto LA14;
J_140432 = Res_142923;
S_140433 = 0;
LOC16 = (Typ_140381 == NIM_NIL);
if (LOC16) goto LA17;
LOC16 = ((*Typ_140381).Kind == ((NU8) 8));
LA17: ;
if (!LOC16) goto LA18;
S_140433 = Newsyms_122059(((NU8) 7), (*A_140357).KindU.S6.Sons->data[J_140432], C_140323);
asgnRef((void**) &(*S_140433).Typ, Newtypes_103077(((NU8) 12), C_140323));
goto LA15;
LA18: ;
S_140433 = Newsyms_122059(((NU8) 4), (*A_140357).KindU.S6.Sons->data[J_140432], C_140323);
asgnRef((void**) &(*S_140433).Typ, Typ_140381);
LA15: ;
if (!!(((*Def_140380).Kind == ((NU8) 1)))) goto LA21;
asgnRefNoCycle((void**) &(*S_140433).Ast, Def_140380);
LA21: ;
asgnRef((void**) &(*(*S_140433).Typ).Sym, S_140433);
if (!!((Father_140325 == NIM_NIL))) goto LA24;
Addson_50828(Father_140325, (*S_140433).Typ);
LA24: ;
(*S_140433).Position = I_140344;
LOC26 = 0;
LOC26 = Newsymnode_50735(S_140433);
Addson_50824(Result_140326, LOC26);
Adddecl_104114(C_140323, S_140433);
Res_142923 += 1;
} LA14: ;
Res_142926 += 1;
} LA5: ;
return Result_140326;
}
N_NIMCALL(TY50526*, Semtypesection_140554)(TY103012* C_140556, TY50526* N_140557) {
TY50526* Result_140558;
TY50548* S_140559;
TY50552* T_140560;
TY50552* Body_140561;
NI I_140570;
NI HEX3Atmp_142931;
NI LOC1;
NI Res_142933;
TY50526* A_140583;
NI I_140751;
NI HEX3Atmp_142935;
NI LOC19;
NI Res_142937;
TY50526* A_140764;
NIM_BOOL LOC32;
NI LOC48;
NIM_BOOL LOC52;
NI I_141000;
NI HEX3Atmp_142939;
NI LOC56;
NI Res_142941;
TY50526* A_141013;
Result_140558 = 0;
S_140559 = 0;
T_140560 = 0;
Body_140561 = 0;
Result_140558 = N_140557;
I_140570 = 0;
HEX3Atmp_142931 = 0;
LOC1 = Sonslen_50804(N_140557);
HEX3Atmp_142931 = (NI32)(LOC1 - 1);
Res_142933 = 0;
Res_142933 = 0;
while (1) {
if (!(Res_142933 <= HEX3Atmp_142931)) goto LA2;
I_140570 = Res_142933;
A_140583 = 0;
A_140583 = (*N_140557).KindU.S6.Sons->data[I_140570];
if (!((*A_140583).Kind == ((NU8) 105))) goto LA5;
goto LA3;
LA5: ;
if (!!(((*A_140583).Kind == ((NU8) 91)))) goto LA8;
Illformedast_103403(A_140583);
LA8: ;
Checksonslen_103407(A_140583, 3);
if (!((*(*(*C_140556).P).Owner).Kind == ((NU8) 6))) goto LA11;
S_140559 = Semidentwithpragma_122098(C_140556, ((NU8) 7), (*A_140583).KindU.S6.Sons->data[0], 6);
(*S_140559).Flags |=(1<<((NI32)(((NU8) 5))%(sizeof(NI32)*8)));
goto LA10;
LA11: ;
S_140559 = Semidentwithpragma_122098(C_140556, ((NU8) 7), (*A_140583).KindU.S6.Sons->data[0], 0);
LA10: ;
if (!!((((*S_140559).Flags & 6) == 0))) goto LA14;
(*S_140559).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
LA14: ;
asgnRef((void**) &(*S_140559).Typ, Newtypes_103077(((NU8) 30), C_140556));
asgnRef((void**) &(*(*S_140559).Typ).Sym, S_140559);
if (!((*(*A_140583).KindU.S6.Sons->data[0]).Kind == ((NU8) 34))) goto LA17;
Pragma_118028(C_140556, S_140559, (*(*A_140583).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[1], TMP192170);
LA17: ;
Addinterfacedecl_104236(C_140556, S_140559);
asgnRefNoCycle((void**) &(*A_140583).KindU.S6.Sons->data[0], Newsymnode_50735(S_140559));
LA3: ;
Res_142933 += 1;
} LA2: ;
I_140751 = 0;
HEX3Atmp_142935 = 0;
LOC19 = Sonslen_50804(N_140557);
HEX3Atmp_142935 = (NI32)(LOC19 - 1);
Res_142937 = 0;
Res_142937 = 0;
while (1) {
if (!(Res_142937 <= HEX3Atmp_142935)) goto LA20;
I_140751 = Res_142937;
A_140764 = 0;
A_140764 = (*N_140557).KindU.S6.Sons->data[I_140751];
if (!((*A_140764).Kind == ((NU8) 105))) goto LA23;
goto LA21;
LA23: ;
if (!!(((*A_140764).Kind == ((NU8) 91)))) goto LA26;
Illformedast_103403(A_140764);
LA26: ;
Checksonslen_103407(A_140764, 3);
if (!!(((*(*A_140764).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA29;
Illformedast_103403(A_140764);
LA29: ;
S_140559 = (*(*A_140764).KindU.S6.Sons->data[0]).KindU.S4.Sym;
LOC32 = ((*S_140559).Magic == ((NU8) 0));
if (!(LOC32)) goto LA33;
LOC32 = ((*(*A_140764).KindU.S6.Sons->data[2]).Kind == ((NU8) 1));
LA33: ;
if (!LOC32) goto LA34;
Globalerror_43139((*A_140764).Info, ((NU8) 134), (*(*S_140559).Name).S);
LA34: ;
if (!!(((*S_140559).Magic == ((NU8) 0)))) goto LA37;
Processmagictype_129947(C_140556, S_140559);
LA37: ;
if (!!(((*(*A_140764).KindU.S6.Sons->data[1]).Kind == ((NU8) 1)))) goto LA40;
Openscope_55141(&(*C_140556).Tab);
Pushowner_103094(S_140559);
(*(*S_140559).Typ).Kind = ((NU8) 10);
if (!!(((*(*S_140559).Typ).Containerid == 0))) goto LA43;
Internalerror_43159((*A_140764).Info, ((NimStringDesc*) &TMP192171));
LA43: ;
(*(*S_140559).Typ).Containerid = Getid_50694();
asgnRefNoCycle((void**) &(*A_140764).KindU.S6.Sons->data[1], Semgenericparamlist_140321(C_140556, (*A_140764).KindU.S6.Sons->data[1], (*S_140559).Typ));
Addson_50828((*S_140559).Typ, NIM_NIL);
asgnRefNoCycle((void**) &(*S_140559).Ast, A_140764);
Body_140561 = Semtypenode_122138(C_140556, (*A_140764).KindU.S6.Sons->data[2], NIM_NIL);
if (!!((Body_140561 == NIM_NIL))) goto LA46;
asgnRef((void**) &(*Body_140561).Sym, S_140559);
LA46: ;
LOC48 = Sonslen_50807((*S_140559).Typ);
asgnRef((void**) &(*(*S_140559).Typ).Sons->data[(NI32)(LOC48 - 1)], Body_140561);
Popowner_103097();
Closescope_104018(&(*C_140556).Tab);
goto LA39;
LA40: ;
if (!!(((*(*A_140764).KindU.S6.Sons->data[2]).Kind == ((NU8) 1)))) goto LA49;
Pushowner_103094(S_140559);
T_140560 = Semtypenode_122138(C_140556, (*A_140764).KindU.S6.Sons->data[2], (*S_140559).Typ);
LOC52 = !((T_140560 == (*S_140559).Typ));
if (!(LOC52)) goto LA53;
LOC52 = !(((*S_140559).Typ == NIM_NIL));
LA53: ;
if (!LOC52) goto LA54;
Internalerror_43159((*A_140764).Info, ((NimStringDesc*) &TMP192173));
LA54: ;
asgnRef((void**) &(*S_140559).Typ, T_140560);
asgnRefNoCycle((void**) &(*S_140559).Ast, A_140764);
Popowner_103097();
goto LA39;
LA49: ;
LA39: ;
LA21: ;
Res_142937 += 1;
} LA20: ;
I_141000 = 0;
HEX3Atmp_142939 = 0;
LOC56 = Sonslen_50804(N_140557);
HEX3Atmp_142939 = (NI32)(LOC56 - 1);
Res_142941 = 0;
Res_142941 = 0;
while (1) {
if (!(Res_142941 <= HEX3Atmp_142939)) goto LA57;
I_141000 = Res_142941;
A_141013 = 0;
A_141013 = (*N_140557).KindU.S6.Sons->data[I_141000];
if (!((*A_141013).Kind == ((NU8) 105))) goto LA60;
goto LA58;
LA60: ;
if (!!(((*(*A_141013).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA63;
Illformedast_103403(A_141013);
LA63: ;
S_140559 = (*(*A_141013).KindU.S6.Sons->data[0]).KindU.S4.Sym;
if (!((*(*A_141013).KindU.S6.Sons->data[1]).Kind == ((NU8) 1))) goto LA66;
if (!((*(*A_141013).KindU.S6.Sons->data[2]).Kind == ((NU8) 3) || (*(*A_141013).KindU.S6.Sons->data[2]).Kind == ((NU8) 2) || (*(*A_141013).KindU.S6.Sons->data[2]).Kind == ((NU8) 43))) goto LA69;
T_140560 = Semtypenode_122138(C_140556, (*A_141013).KindU.S6.Sons->data[2], NIM_NIL);
if (!((*T_140560).Kind == ((NU8) 17) || (*T_140560).Kind == ((NU8) 14))) goto LA72;
Assigntype_50780((*S_140559).Typ, T_140560);
(*(*S_140559).Typ).Sup.Id = (*T_140560).Sup.Id;
LA72: ;
LA69: ;
Checkconstructedtype_123608((*S_140559).Info, (*S_140559).Typ);
LA66: ;
LA58: ;
Res_142941 += 1;
} LA57: ;
return Result_140558;
}
N_NIMCALL(TY50526*, Semif_137898)(TY103012* C_137900, TY50526* N_137901) {
TY50526* Result_137902;
NI I_137911;
NI HEX3Atmp_142895;
NI LOC1;
NI Res_142897;
TY50526* It_137924;
NI LOC4;
Result_137902 = 0;
Result_137902 = N_137901;
I_137911 = 0;
HEX3Atmp_142895 = 0;
LOC1 = Sonslen_50804(N_137901);
HEX3Atmp_142895 = (NI32)(LOC1 - 1);
Res_142897 = 0;
Res_142897 = 0;
while (1) {
if (!(Res_142897 <= HEX3Atmp_142895)) goto LA2;
I_137911 = Res_142897;
It_137924 = 0;
It_137924 = (*N_137901).KindU.S6.Sons->data[I_137911];
switch ((*It_137924).Kind) {
case ((NU8) 76):
Checksonslen_103407(It_137924, 2);
Openscope_55141(&(*C_137900).Tab);
asgnRefNoCycle((void**) &(*It_137924).KindU.S6.Sons->data[0], Semexprwithtype_122122(C_137900, (*It_137924).KindU.S6.Sons->data[0], 0));
Checkbool_126826((*It_137924).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*It_137924).KindU.S6.Sons->data[1], Semstmt_122143(C_137900, (*It_137924).KindU.S6.Sons->data[1]));
Closescope_104018(&(*C_137900).Tab);
break;
case ((NU8) 78):
LOC4 = Sonslen_50804(It_137924);
if (!(LOC4 == 1)) goto LA5;
asgnRefNoCycle((void**) &(*It_137924).KindU.S6.Sons->data[0], Semstmtscope_122104(C_137900, (*It_137924).KindU.S6.Sons->data[0]));
goto LA3;
LA5: ;
Illformedast_103403(It_137924);
LA3: ;
break;
default:
Illformedast_103403(N_137901);
break;
}
Res_142897 += 1;
} LA2: ;
return Result_137902;
}
N_NIMCALL(TY50526*, Semwhen_137778)(TY103012* C_137780, TY50526* N_137781) {
TY50526* Result_137782;
NI I_137791;
NI HEX3Atmp_142892;
NI LOC1;
NI Res_142894;
TY50526* It_137804;
TY50526* E_137817;
NIM_BOOL LOC7;
Result_137782 = 0;
Result_137782 = NIM_NIL;
I_137791 = 0;
HEX3Atmp_142892 = 0;
LOC1 = Sonslen_50804(N_137781);
HEX3Atmp_142892 = (NI32)(LOC1 - 1);
Res_142894 = 0;
Res_142894 = 0;
while (1) {
if (!(Res_142894 <= HEX3Atmp_142892)) goto LA2;
I_137791 = Res_142894;
It_137804 = 0;
It_137804 = (*N_137781).KindU.S6.Sons->data[I_137791];
switch ((*It_137804).Kind) {
case ((NU8) 76):
Checksonslen_103407(It_137804, 2);
E_137817 = 0;
E_137817 = Semconstexpr_122171(C_137780, (*It_137804).KindU.S6.Sons->data[0]);
Checkbool_126826(E_137817);
if (!!(((*E_137817).Kind == ((NU8) 6)))) goto LA4;
Internalerror_43159((*N_137781).Info, ((NimStringDesc*) &TMP192174));
LA4: ;
LOC7 = !(((*E_137817).KindU.S1.Intval == 0));
if (!(LOC7)) goto LA8;
LOC7 = (Result_137782 == NIM_NIL);
LA8: ;
if (!LOC7) goto LA9;
Result_137782 = Semstmt_122143(C_137780, (*It_137804).KindU.S6.Sons->data[1]);
LA9: ;
break;
case ((NU8) 78):
Checksonslen_103407(It_137804, 1);
if (!(Result_137782 == NIM_NIL)) goto LA12;
Result_137782 = Semstmt_122143(C_137780, (*It_137804).KindU.S6.Sons->data[0]);
LA12: ;
break;
default:
Illformedast_103403(N_137781);
break;
}
Res_142894 += 1;
} LA2: ;
if (!(Result_137782 == NIM_NIL)) goto LA15;
Result_137782 = Newnodei_50738(((NU8) 18), (*N_137781).Info);
LA15: ;
Idsynchronizationpoint_50699(200);
return Result_137782;
}
N_NIMCALL(TY50526*, Semdiscard_138013)(TY103012* C_138015, TY50526* N_138016) {
TY50526* Result_138017;
Result_138017 = 0;
Result_138017 = N_138016;
Checksonslen_103407(N_138016, 1);
asgnRefNoCycle((void**) &(*N_138016).KindU.S6.Sons->data[0], Semexprwithtype_122122(C_138015, (*N_138016).KindU.S6.Sons->data[0], 0));
if (!((*(*N_138016).KindU.S6.Sons->data[0]).Typ == NIM_NIL)) goto LA2;
Localerror_43144((*N_138016).Info, ((NU8) 137), ((NimStringDesc*) &TMP191995));
LA2: ;
return Result_138017;
}
N_NIMCALL(TY50526*, Semwhile_138302)(TY103012* C_138304, TY50526* N_138305) {
TY50526* Result_138306;
Result_138306 = 0;
Result_138306 = N_138305;
Checksonslen_103407(N_138305, 2);
Openscope_55141(&(*C_138304).Tab);
asgnRefNoCycle((void**) &(*N_138305).KindU.S6.Sons->data[0], Semexprwithtype_122122(C_138304, (*N_138305).KindU.S6.Sons->data[0], 0));
Checkbool_126826((*N_138305).KindU.S6.Sons->data[0]);
(*(*C_138304).P).Nestedloopcounter += 1;
asgnRefNoCycle((void**) &(*N_138305).KindU.S6.Sons->data[1], Semstmt_122143(C_138304, (*N_138305).KindU.S6.Sons->data[1]));
(*(*C_138304).P).Nestedloopcounter -= 1;
Closescope_104018(&(*C_138304).Tab);
return Result_138306;
}
N_NIMCALL(TY50526*, Semtry_140124)(TY103012* C_140126, TY50526* N_140127) {
TY50526* Result_140128;
TY50895 Check_140129;
NI I_140163;
NI HEX3Atmp_142918;
NI LOC1;
NI Res_142920;
TY50526* A_140176;
NI Length_140177;
NI J_140195;
NI HEX3Atmp_142915;
NI Res_142917;
TY50552* Typ_140208;
NIM_BOOL LOC14;
Result_140128 = 0;
memset((void*)&Check_140129, 0, sizeof(Check_140129));
Result_140128 = N_140127;
Checkminsonslen_103413(N_140127, 2);
asgnRefNoCycle((void**) &(*N_140127).KindU.S6.Sons->data[0], Semstmtscope_122104(C_140126, (*N_140127).KindU.S6.Sons->data[0]));
Intsetinit_50919(&Check_140129);
I_140163 = 0;
HEX3Atmp_142918 = 0;
LOC1 = Sonslen_50804(N_140127);
HEX3Atmp_142918 = (NI32)(LOC1 - 1);
Res_142920 = 0;
Res_142920 = 1;
while (1) {
if (!(Res_142920 <= HEX3Atmp_142918)) goto LA2;
I_140163 = Res_142920;
A_140176 = 0;
A_140176 = (*N_140127).KindU.S6.Sons->data[I_140163];
Checkminsonslen_103413(A_140176, 1);
Length_140177 = 0;
Length_140177 = Sonslen_50804(A_140176);
if (!((*A_140176).Kind == ((NU8) 77))) goto LA4;
J_140195 = 0;
HEX3Atmp_142915 = 0;
HEX3Atmp_142915 = (NI32)(Length_140177 - 2);
Res_142917 = 0;
Res_142917 = 0;
while (1) {
if (!(Res_142917 <= HEX3Atmp_142915)) goto LA6;
J_140195 = Res_142917;
Typ_140208 = 0;
Typ_140208 = Semtypenode_122138(C_140126, (*A_140176).KindU.S6.Sons->data[J_140195], NIM_NIL);
if (!((*Typ_140208).Kind == ((NU8) 22))) goto LA8;
Typ_140208 = (*Typ_140208).Sons->data[0];
LA8: ;
if (!!(((*Typ_140208).Kind == ((NU8) 17)))) goto LA11;
Globalerror_43139((*(*A_140176).KindU.S6.Sons->data[J_140195]).Info, ((NU8) 109), ((NimStringDesc*) &TMP191995));
LA11: ;
asgnRefNoCycle((void**) &(*A_140176).KindU.S6.Sons->data[J_140195], Newnodei_50738(((NU8) 4), (*(*A_140176).KindU.S6.Sons->data[J_140195]).Info));
asgnRef((void**) &(*(*A_140176).KindU.S6.Sons->data[J_140195]).Typ, Typ_140208);
LOC14 = Intsetcontainsorincl_50923(&Check_140129, (*Typ_140208).Sup.Id);
if (!LOC14) goto LA15;
Localerror_43144((*(*A_140176).KindU.S6.Sons->data[J_140195]).Info, ((NU8) 33), ((NimStringDesc*) &TMP191995));
LA15: ;
Res_142917 += 1;
} LA6: ;
goto LA3;
LA4: ;
if (!!(((*A_140176).Kind == ((NU8) 94)))) goto LA17;
Illformedast_103403(N_140127);
goto LA3;
LA17: ;
LA3: ;
asgnRefNoCycle((void**) &(*A_140176).KindU.S6.Sons->data[(NI32)(Length_140177 - 1)], Semstmtscope_122104(C_140126, (*A_140176).KindU.S6.Sons->data[(NI32)(Length_140177 - 1)]));
Res_142920 += 1;
} LA2: ;
return Result_140128;
}
N_NIMCALL(TY50526*, Sembreakorcontinue_138065)(TY103012* C_138067, TY50526* N_138068) {
TY50526* Result_138069;
TY50548* S_138091;
NIM_BOOL LOC5;
TY50526* X_138151;
NIM_BOOL LOC9;
NimStringDesc* LOC13;
Result_138069 = 0;
Result_138069 = N_138068;
Checksonslen_103407(N_138068, 1);
if (!!(((*(*N_138068).KindU.S6.Sons->data[0]).Kind == ((NU8) 1)))) goto LA2;
S_138091 = 0;
switch ((*(*N_138068).KindU.S6.Sons->data[0]).Kind) {
case ((NU8) 2):
S_138091 = Lookup_104245(C_138067, (*N_138068).KindU.S6.Sons->data[0]);
break;
case ((NU8) 3):
S_138091 = (*(*N_138068).KindU.S6.Sons->data[0]).KindU.S4.Sym;
break;
default:
Illformedast_103403(N_138068);
break;
}
LOC5 = ((*S_138091).Kind == ((NU8) 19));
if (!(LOC5)) goto LA6;
LOC5 = ((*(*S_138091).Owner).Sup.Id == (*(*(*C_138067).P).Owner).Sup.Id);
LA6: ;
if (!LOC5) goto LA7;
X_138151 = 0;
X_138151 = Newsymnode_50735(S_138091);
(*X_138151).Info = (*N_138068).Info;
(*S_138091).Flags |=(1<<((NI32)(((NU8) 0))%(sizeof(NI32)*8)));
asgnRefNoCycle((void**) &(*N_138068).KindU.S6.Sons->data[0], X_138151);
goto LA4;
LA7: ;
Localerror_43144((*N_138068).Info, ((NU8) 160), (*(*S_138091).Name).S);
LA4: ;
goto LA1;
LA2: ;
LOC9 = ((*(*C_138067).P).Nestedloopcounter <= 0);
if (!(LOC9)) goto LA10;
LOC9 = ((*(*C_138067).P).Nestedblockcounter <= 0);
LA10: ;
if (!LOC9) goto LA11;
LOC13 = 0;
LOC13 = Rendertree_81042(N_138068, 4);
Localerror_43144((*N_138068).Info, ((NU8) 160), LOC13);
goto LA1;
LA11: ;
LA1: ;
return Result_138069;
}
N_NIMCALL(TY50526*, Semfor_139635)(TY103012* C_139637, TY50526* N_139638) {
TY50526* Result_139639;
TY50548* V_139640;
TY50548* Countup_139641;
TY50552* Iter_139642;
TY50526* Countupnode_139643;
TY50526* Call_139644;
NI Length_139645;
TY49011* LOC4;
NIM_BOOL LOC9;
NIM_BOOL LOC10;
NI LOC22;
NI I_139969;
NI HEX3Atmp_142912;
NI Res_142914;
Result_139639 = 0;
V_139640 = 0;
Countup_139641 = 0;
Iter_139642 = 0;
Countupnode_139643 = 0;
Call_139644 = 0;
Result_139639 = N_139638;
Checkminsonslen_103413(N_139638, 3);
Length_139645 = 0;
Length_139645 = Sonslen_50804(N_139638);
Openscope_55141(&(*C_139637).Tab);
if (!((*(*N_139638).KindU.S6.Sons->data[(NI32)(Length_139645 - 2)]).Kind == ((NU8) 35))) goto LA2;
Checksonslen_103407((*N_139638).KindU.S6.Sons->data[(NI32)(Length_139645 - 2)], 2);
Countupnode_139643 = Newnodei_50738(((NU8) 21), (*(*N_139638).KindU.S6.Sons->data[(NI32)(Length_139645 - 2)]).Info);
LOC4 = 0;
LOC4 = Getident_49016(((NimStringDesc*) &TMP192175));
Countup_139641 = Strtableget_55066(&(*Systemmodule_98004).Tab, LOC4);
if (!(Countup_139641 == NIM_NIL)) goto LA6;
Globalerror_43139((*Countupnode_139643).Info, ((NU8) 61), ((NimStringDesc*) &TMP192175));
LA6: ;
Newsons_50816(Countupnode_139643, 3);
asgnRefNoCycle((void**) &(*Countupnode_139643).KindU.S6.Sons->data[0], Newsymnode_50735(Countup_139641));
asgnRefNoCycle((void**) &(*Countupnode_139643).KindU.S6.Sons->data[1], (*(*N_139638).KindU.S6.Sons->data[(NI32)(Length_139645 - 2)]).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*Countupnode_139643).KindU.S6.Sons->data[2], (*(*N_139638).KindU.S6.Sons->data[(NI32)(Length_139645 - 2)]).KindU.S6.Sons->data[1]);
asgnRefNoCycle((void**) &(*N_139638).KindU.S6.Sons->data[(NI32)(Length_139645 - 2)], Countupnode_139643);
LA2: ;
asgnRefNoCycle((void**) &(*N_139638).KindU.S6.Sons->data[(NI32)(Length_139645 - 2)], Semexprwithtype_122122(C_139637, (*N_139638).KindU.S6.Sons->data[(NI32)(Length_139645 - 2)], 4));
Call_139644 = (*N_139638).KindU.S6.Sons->data[(NI32)(Length_139645 - 2)];
LOC10 = !(((*Call_139644).Kind == ((NU8) 21)));
if (LOC10) goto LA11;
LOC10 = !(((*(*Call_139644).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)));
LA11: ;
LOC9 = LOC10;
if (LOC9) goto LA12;
LOC9 = !(((*(*(*Call_139644).KindU.S6.Sons->data[0]).KindU.S4.Sym).Kind == ((NU8) 12)));
LA12: ;
if (!LOC9) goto LA13;
Globalerror_43139((*(*N_139638).KindU.S6.Sons->data[(NI32)(Length_139645 - 2)]).Info, ((NU8) 206), ((NimStringDesc*) &TMP191995));
LA13: ;
Iter_139642 = Skiptypes_93087((*(*N_139638).KindU.S6.Sons->data[(NI32)(Length_139645 - 2)]).Typ, 2048);
if (!!(((*Iter_139642).Kind == ((NU8) 18)))) goto LA16;
if (!!((Length_139645 == 3))) goto LA19;
Globalerror_43139((*N_139638).Info, ((NU8) 108), ((NimStringDesc*) &TMP191995));
LA19: ;
V_139640 = Newsyms_122059(((NU8) 18), (*N_139638).KindU.S6.Sons->data[0], C_139637);
asgnRef((void**) &(*V_139640).Typ, Iter_139642);
asgnRefNoCycle((void**) &(*N_139638).KindU.S6.Sons->data[0], Newsymnode_50735(V_139640));
Adddecl_104114(C_139637, V_139640);
goto LA15;
LA16: ;
LOC22 = Sonslen_50807(Iter_139642);
if (!!(((NI32)(Length_139645 - 2) == LOC22))) goto LA23;
Globalerror_43139((*N_139638).Info, ((NU8) 108), ((NimStringDesc*) &TMP191995));
LA23: ;
I_139969 = 0;
HEX3Atmp_142912 = 0;
HEX3Atmp_142912 = (NI32)(Length_139645 - 3);
Res_142914 = 0;
Res_142914 = 0;
while (1) {
if (!(Res_142914 <= HEX3Atmp_142912)) goto LA25;
I_139969 = Res_142914;
V_139640 = Newsyms_122059(((NU8) 18), (*N_139638).KindU.S6.Sons->data[I_139969], C_139637);
asgnRef((void**) &(*V_139640).Typ, (*Iter_139642).Sons->data[I_139969]);
asgnRefNoCycle((void**) &(*N_139638).KindU.S6.Sons->data[I_139969], Newsymnode_50735(V_139640));
Adddecl_104114(C_139637, V_139640);
Res_142914 += 1;
} LA25: ;
LA15: ;
(*(*C_139637).P).Nestedloopcounter += 1;
asgnRefNoCycle((void**) &(*N_139638).KindU.S6.Sons->data[(NI32)(Length_139645 - 1)], Semstmt_122143(C_139637, (*N_139638).KindU.S6.Sons->data[(NI32)(Length_139645 - 1)]));
Closescope_104018(&(*C_139637).Tab);
(*(*C_139637).P).Nestedloopcounter -= 1;
return Result_139639;
}
N_NIMCALL(NI64, Tocover_138393)(TY50552* T_138395) {
NI64 Result_138396;
TY50552* T2_138397;
NIM_BOOL LOC2;
NI LOC6;
TY50552* LOC7;
Result_138396 = 0;
T2_138397 = 0;
T2_138397 = Skiptypes_93087(T_138395, 9480192);
LOC2 = ((*T2_138397).Kind == ((NU8) 14));
if (!(LOC2)) goto LA3;
LOC2 = Enumhaswholes_93072(T2_138397);
LA3: ;
if (!LOC2) goto LA4;
LOC6 = Sonslen_50804((*T2_138397).N);
Result_138396 = ((NI64) (LOC6));
goto LA1;
LA4: ;
LOC7 = 0;
LOC7 = Skiptypes_93087(T_138395, 8431616);
Result_138396 = Lengthord_93007(LOC7);
LA1: ;
return Result_138396;
}
N_NIMCALL(TY50526*, Semcase_138407)(TY103012* C_138409, TY50526* N_138410) {
TY50526* Result_138411;
NIM_BOOL Chckcovered_138437;
NI64 Covered_138438;
TY50552* LOC1;
NI I_138459;
NI HEX3Atmp_142898;
NI LOC2;
NI Res_142900;
TY50526* X_138472;
NI Length_138474;
NIM_BOOL LOC5;
NI64 LOC7;
Result_138411 = 0;
Result_138411 = N_138410;
Checkminsonslen_103413(N_138410, 2);
Openscope_55141(&(*C_138409).Tab);
asgnRefNoCycle((void**) &(*N_138410).KindU.S6.Sons->data[0], Semexprwithtype_122122(C_138409, (*N_138410).KindU.S6.Sons->data[0], 0));
Chckcovered_138437 = 0;
Chckcovered_138437 = NIM_FALSE;
Covered_138438 = 0;
Covered_138438 = 0;
LOC1 = 0;
LOC1 = Skiptypes_93087((*(*N_138410).KindU.S6.Sons->data[0]).Typ, 9480192);
switch ((*LOC1).Kind) {
case ((NU8) 31) ... ((NU8) 35):
case ((NU8) 2):
case ((NU8) 14):
Chckcovered_138437 = NIM_TRUE;
break;
case ((NU8) 36) ... ((NU8) 39):
case ((NU8) 28):
break;
default:
Localerror_43144((*N_138410).Info, ((NU8) 104), ((NimStringDesc*) &TMP191995));
goto BeforeRet;
break;
}
I_138459 = 0;
HEX3Atmp_142898 = 0;
LOC2 = Sonslen_50804(N_138410);
HEX3Atmp_142898 = (NI32)(LOC2 - 1);
Res_142900 = 0;
Res_142900 = 1;
while (1) {
if (!(Res_142900 <= HEX3Atmp_142898)) goto LA3;
I_138459 = Res_142900;
X_138472 = 0;
X_138472 = (*N_138410).KindU.S6.Sons->data[I_138459];
switch ((*X_138472).Kind) {
case ((NU8) 75):
Checkminsonslen_103413(X_138472, 2);
Semcasebranch_128218(C_138409, N_138410, X_138472, I_138459, &Covered_138438);
Length_138474 = 0;
Length_138474 = Sonslen_50804(X_138472);
asgnRefNoCycle((void**) &(*X_138472).KindU.S6.Sons->data[(NI32)(Length_138474 - 1)], Semstmtscope_122104(C_138409, (*X_138472).KindU.S6.Sons->data[(NI32)(Length_138474 - 1)]));
break;
case ((NU8) 76):
Chckcovered_138437 = NIM_FALSE;
Checksonslen_103407(X_138472, 2);
asgnRefNoCycle((void**) &(*X_138472).KindU.S6.Sons->data[0], Semexprwithtype_122122(C_138409, (*X_138472).KindU.S6.Sons->data[0], 0));
Checkbool_126826((*X_138472).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*X_138472).KindU.S6.Sons->data[1], Semstmtscope_122104(C_138409, (*X_138472).KindU.S6.Sons->data[1]));
break;
case ((NU8) 78):
Chckcovered_138437 = NIM_FALSE;
Checksonslen_103407(X_138472, 1);
asgnRefNoCycle((void**) &(*X_138472).KindU.S6.Sons->data[0], Semstmtscope_122104(C_138409, (*X_138472).KindU.S6.Sons->data[0]));
break;
default:
Illformedast_103403(X_138472);
break;
}
Res_142900 += 1;
} LA3: ;
LOC5 = Chckcovered_138437;
if (!(LOC5)) goto LA6;
LOC7 = Tocover_138393((*(*N_138410).KindU.S6.Sons->data[0]).Typ);
LOC5 = !((Covered_138438 == LOC7));
LA6: ;
if (!LOC5) goto LA8;
Localerror_43144((*N_138410).Info, ((NU8) 147), ((NimStringDesc*) &TMP191995));
LA8: ;
Closescope_104018(&(*C_138409).Tab);
BeforeRet: ;
return Result_138411;
}
N_NIMCALL(TY50526*, Semreturn_138754)(TY103012* C_138756, TY50526* N_138757) {
TY50526* Result_138758;
TY50552* Restype_138759;
TY50526* A_138760;
NIM_BOOL LOC11;
TY50526* LOC18;
TY50526* LOC19;
Result_138758 = 0;
Restype_138759 = 0;
A_138760 = 0;
Result_138758 = N_138757;
Checksonslen_103407(N_138757, 1);
if (!!(((27648 &(1<<(((*(*(*C_138756).P).Owner).Kind)&31)))!=0))) goto LA2;
Globalerror_43139((*N_138757).Info, ((NU8) 159), ((NimStringDesc*) &TMP192176));
LA2: ;
if (!!(((*(*N_138757).KindU.S6.Sons->data[0]).Kind == ((NU8) 1)))) goto LA5;
asgnRefNoCycle((void**) &(*N_138757).KindU.S6.Sons->data[0], Semexprwithtype_122122(C_138756, (*N_138757).KindU.S6.Sons->data[0], 0));
Restype_138759 = (*(*(*(*C_138756).P).Owner).Typ).Sons->data[0];
if (!!((Restype_138759 == NIM_NIL))) goto LA8;
A_138760 = Newnodei_50738(((NU8) 63), (*(*N_138757).KindU.S6.Sons->data[0]).Info);
asgnRefNoCycle((void**) &(*N_138757).KindU.S6.Sons->data[0], Fitnode_122129(C_138756, Restype_138759, (*N_138757).KindU.S6.Sons->data[0]));
LOC11 = ((*(*N_138757).KindU.S6.Sons->data[0]).Kind == ((NU8) 3));
if (!(LOC11)) goto LA12;
LOC11 = (((*(*(*N_138757).KindU.S6.Sons->data[0]).KindU.S4.Sym).Flags &(1<<((((NU8) 12))&31)))!=0);
LA12: ;
if (!LOC11) goto LA13;
asgnRefNoCycle((void**) &(*N_138757).KindU.S6.Sons->data[0], Emptynode_50858);
goto LA10;
LA13: ;
if (!((*(*C_138756).P).Resultsym == NIM_NIL)) goto LA16;
Internalerror_43159((*N_138757).Info, ((NimStringDesc*) &TMP192177));
LA16: ;
LOC18 = 0;
LOC18 = Newsymnode_50735((*(*C_138756).P).Resultsym);
LOC19 = 0;
LOC19 = Semexprwithtype_122122(C_138756, LOC18, 0);
Addson_50824(A_138760, LOC19);
Addson_50824(A_138760, (*N_138757).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*N_138757).KindU.S6.Sons->data[0], A_138760);
LA10: ;
goto LA7;
LA8: ;
Localerror_43144((*N_138757).Info, ((NU8) 36), ((NimStringDesc*) &TMP191995));
LA7: ;
LA5: ;
return Result_138758;
}
N_NIMCALL(TY50526*, Semasm_138282)(TY103012* Con_138284, TY50526* N_138285) {
TY50526* Result_138286;
NIM_CHAR Marker_138299;
Result_138286 = 0;
Checksonslen_103407(N_138285, 2);
Marker_138299 = 0;
Marker_138299 = Pragmaasm_118034(Con_138284, (*N_138285).KindU.S6.Sons->data[0]);
if (!((NU8)(Marker_138299) == (NU8)(0))) goto LA2;
Marker_138299 = 96;
LA2: ;
Result_138286 = Semasmoremit_119596(Con_138284, N_138285, Marker_138299);
return Result_138286;
}
N_NIMCALL(TY50526*, Semyield_138968)(TY103012* C_138970, TY50526* N_138971) {
TY50526* Result_138972;
NIM_BOOL LOC2;
TY50552* Restype_139038;
Result_138972 = 0;
Result_138972 = N_138971;
Checksonslen_103407(N_138971, 1);
LOC2 = ((*(*C_138970).P).Owner == NIM_NIL);
if (LOC2) goto LA3;
LOC2 = !(((*(*(*C_138970).P).Owner).Kind == ((NU8) 12)));
LA3: ;
if (!LOC2) goto LA4;
Globalerror_43139((*N_138971).Info, ((NU8) 34), ((NimStringDesc*) &TMP191995));
LA4: ;
if (!!(((*(*N_138971).KindU.S6.Sons->data[0]).Kind == ((NU8) 1)))) goto LA7;
asgnRefNoCycle((void**) &(*N_138971).KindU.S6.Sons->data[0], Semexprwithtype_122122(C_138970, (*N_138971).KindU.S6.Sons->data[0], 0));
Restype_139038 = 0;
Restype_139038 = (*(*(*(*C_138970).P).Owner).Typ).Sons->data[0];
if (!!((Restype_139038 == NIM_NIL))) goto LA10;
asgnRefNoCycle((void**) &(*N_138971).KindU.S6.Sons->data[0], Fitnode_122129(C_138970, Restype_139038, (*N_138971).KindU.S6.Sons->data[0]));
if (!((*(*N_138971).KindU.S6.Sons->data[0]).Typ == NIM_NIL)) goto LA13;
Internalerror_43159((*N_138971).Info, ((NimStringDesc*) &TMP192178));
LA13: ;
goto LA9;
LA10: ;
Localerror_43144((*N_138971).Info, ((NU8) 36), ((NimStringDesc*) &TMP191995));
LA9: ;
LA7: ;
return Result_138972;
}
N_NIMCALL(void, Addgenericparamlisttoscope_140498)(TY103012* C_140500, TY50526* N_140501) {
NI I_140519;
NI HEX3Atmp_142927;
NI LOC4;
NI Res_142929;
TY50526* A_140532;
if (!!(((*N_140501).Kind == ((NU8) 65)))) goto LA2;
Internalerror_43159((*N_140501).Info, ((NimStringDesc*) &TMP192182));
LA2: ;
I_140519 = 0;
HEX3Atmp_142927 = 0;
LOC4 = Sonslen_50804(N_140501);
HEX3Atmp_142927 = (NI32)(LOC4 - 1);
Res_142929 = 0;
Res_142929 = 0;
while (1) {
if (!(Res_142929 <= HEX3Atmp_142927)) goto LA5;
I_140519 = Res_142929;
A_140532 = 0;
A_140532 = (*N_140501).KindU.S6.Sons->data[I_140519];
if (!!(((*A_140532).Kind == ((NU8) 3)))) goto LA7;
Internalerror_43159((*A_140532).Info, ((NimStringDesc*) &TMP192182));
LA7: ;
Adddecl_104114(C_140500, (*A_140532).KindU.S4.Sym);
Res_142929 += 1;
} LA5: ;
}
N_NIMCALL(TY50526*, Evaltemplateargs_122394)(TY103012* C_122396, TY50526* N_122397, TY50548* S_122398) {
TY50526* Result_122399;
NI F_122400;
NI A_122401;
TY50526* Arg_122402;
NI I_122415;
NI HEX3Atmp_123029;
NI Res_123031;
NIM_BOOL LOC9;
TY50526* LOC15;
Result_122399 = 0;
F_122400 = 0;
A_122401 = 0;
Arg_122402 = 0;
F_122400 = Sonslen_50807((*S_122398).Typ);
switch ((*N_122397).Kind) {
case ((NU8) 21):
case ((NU8) 27):
case ((NU8) 28):
case ((NU8) 29):
case ((NU8) 20):
case ((NU8) 22):
A_122401 = Sonslen_50804(N_122397);
break;
default:
A_122401 = 0;
break;
}
if (!(F_122400 < A_122401)) goto LA2;
Localerror_43144((*N_122397).Info, ((NU8) 129), ((NimStringDesc*) &TMP191995));
LA2: ;
Result_122399 = Copynode_50849(N_122397);
I_122415 = 0;
HEX3Atmp_123029 = 0;
HEX3Atmp_123029 = (NI32)(F_122400 - 1);
Res_123031 = 0;
Res_123031 = 1;
while (1) {
if (!(Res_123031 <= HEX3Atmp_123029)) goto LA4;
I_122415 = Res_123031;
if (!(I_122415 < A_122401)) goto LA6;
Arg_122402 = (*N_122397).KindU.S6.Sons->data[I_122415];
goto LA5;
LA6: ;
Arg_122402 = Copytree_50852((*(*(*(*(*S_122398).Typ).N).KindU.S6.Sons->data[I_122415]).KindU.S4.Sym).Ast);
LA5: ;
LOC9 = (Arg_122402 == NIM_NIL);
if (LOC9) goto LA10;
LOC9 = ((*Arg_122402).Kind == ((NU8) 1));
LA10: ;
if (!LOC9) goto LA11;
Localerror_43144((*N_122397).Info, ((NU8) 129), ((NimStringDesc*) &TMP191995));
goto LA8;
LA11: ;
if (!!(((*(*(*S_122398).Typ).Sons->data[I_122415]).Kind == ((NU8) 8) || (*(*(*S_122398).Typ).Sons->data[I_122415]).Kind == ((NU8) 7) || (*(*(*S_122398).Typ).Sons->data[I_122415]).Kind == ((NU8) 6)))) goto LA13;
LOC15 = 0;
LOC15 = Semexprwithtype_122122(C_122396, Arg_122402, 0);
Arg_122402 = Fitnode_122129(C_122396, (*(*S_122398).Typ).Sons->data[I_122415], LOC15);
goto LA8;
LA13: ;
LA8: ;
Addson_50824(Result_122399, Arg_122402);
Res_123031 += 1;
} LA4: ;
return Result_122399;
}
N_NIMCALL(TY50526*, Evaltemplateaux_122317)(TY103012* C_122319, TY50526* Templ_122320, TY50526* Actual_122321, TY50548* Sym_122322) {
TY50526* Result_122323;
TY50548* P_122336;
NIM_BOOL LOC2;
NI LOC6;
NI I_122368;
NI HEX3Atmp_123026;
NI LOC7;
NI Res_123028;
Result_122323 = 0;
switch ((*Templ_122320).Kind) {
case ((NU8) 3):
P_122336 = 0;
P_122336 = (*Templ_122320).KindU.S4.Sym;
LOC2 = ((*P_122336).Kind == ((NU8) 3));
if (!(LOC2)) goto LA3;
LOC2 = ((*(*P_122336).Owner).Sup.Id == (*Sym_122322).Sup.Id);
LA3: ;
if (!LOC2) goto LA4;
Result_122323 = Copytree_50852((*Actual_122321).KindU.S6.Sons->data[(*P_122336).Position]);
goto LA1;
LA4: ;
Result_122323 = Copynode_50849(Templ_122320);
LA1: ;
break;
case ((NU8) 0) ... ((NU8) 2):
case ((NU8) 4) ... ((NU8) 18):
Result_122323 = Copynode_50849(Templ_122320);
break;
default:
Result_122323 = Copynode_50849(Templ_122320);
LOC6 = Sonslen_50804(Templ_122320);
Newsons_50816(Result_122323, LOC6);
I_122368 = 0;
HEX3Atmp_123026 = 0;
LOC7 = Sonslen_50804(Templ_122320);
HEX3Atmp_123026 = (NI32)(LOC7 - 1);
Res_123028 = 0;
Res_123028 = 0;
while (1) {
if (!(Res_123028 <= HEX3Atmp_123026)) goto LA8;
I_122368 = Res_123028;
asgnRefNoCycle((void**) &(*Result_122323).KindU.S6.Sons->data[I_122368], Evaltemplateaux_122317(C_122319, (*Templ_122320).KindU.S6.Sons->data[I_122368], Actual_122321, Sym_122322));
Res_123028 += 1;
} LA8: ;
break;
}
return Result_122323;
}
N_NIMCALL(TY50526*, Evaltemplate_122488)(TY103012* C_122490, TY50526* N_122491, TY50548* Sym_122492) {
TY50526* Result_122493;
TY50526* Args_122494;
Result_122493 = 0;
Args_122494 = 0;
Evaltemplatecounter_122393 += 1;
if (!(Evaltemplatecounter_122393 <= 100)) goto LA2;
Args_122494 = Evaltemplateargs_122394(C_122490, N_122491, Sym_122492);
Result_122493 = Evaltemplateaux_122317(C_122490, (*(*Sym_122492).Ast).KindU.S6.Sons->data[4], Args_122494, Sym_122492);
Evaltemplatecounter_122393 -= 1;
goto LA1;
LA2: ;
Globalerror_43139((*N_122491).Info, ((NU8) 179), ((NimStringDesc*) &TMP191995));
Result_122493 = N_122491;
LA1: ;
return Result_122493;
}
N_NIMCALL(TY50526*, Semtemplateexpr_129953)(TY103012* C_129955, TY50526* N_129956, TY50548* S_129957, NIM_BOOL Semcheck_129958) {
TY50526* Result_129959;
Result_129959 = 0;
Markused_122065(N_129956, S_129957);
Pushinfocontext_42615((*N_129956).Info);
Result_129959 = Evaltemplate_122488(C_129955, N_129956, S_129957);
if (!Semcheck_129958) goto LA2;
Result_129959 = Semaftermacrocall_122246(C_129955, Result_129959, S_129957);
LA2: ;
Popinfocontext_42636();
return Result_129959;
}
N_NIMCALL(TY50526*, Semgenericstmtsymbol_136065)(TY103012* C_136067, TY50526* N_136068, TY50548* S_136069) {
TY50526* Result_136070;
NIM_BOOL LOC2;
Result_136070 = 0;
(*S_136069).Flags |=(1<<((NI32)(((NU8) 0))%(sizeof(NI32)*8)));
switch ((*S_136069).Kind) {
case ((NU8) 0):
Result_136070 = N_136068;
break;
case ((NU8) 10):
case ((NU8) 11):
case ((NU8) 12):
case ((NU8) 13):
Result_136070 = Symchoice_122533(C_136067, N_136068, S_136069);
break;
case ((NU8) 15):
Result_136070 = Semtemplateexpr_129953(C_136067, N_136068, S_136069, NIM_FALSE);
break;
case ((NU8) 14):
Result_136070 = Semmacroexpr_123038(C_136067, N_136068, S_136069, NIM_FALSE);
break;
case ((NU8) 4):
Result_136070 = Newsymnode_50735(S_136069);
break;
case ((NU8) 3):
Result_136070 = N_136068;
break;
case ((NU8) 7):
LOC2 = !(((*S_136069).Typ == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC2 = !(((*(*S_136069).Typ).Kind == ((NU8) 12)));
LA3: ;
if (!LOC2) goto LA4;
Result_136070 = Newsymnode_50735(S_136069);
goto LA1;
LA4: ;
Result_136070 = N_136068;
LA1: ;
break;
default:
Result_136070 = Newsymnode_50735(S_136069);
break;
}
return Result_136070;
}
N_NIMCALL(NIM_BOOL, Iscallexpr_135426)(TY50526* N_135428) {
NIM_BOOL Result_135429;
Result_135429 = 0;
Result_135429 = ((*N_135428).Kind == ((NU8) 21) || (*N_135428).Kind == ((NU8) 27) || (*N_135428).Kind == ((NU8) 28) || (*N_135428).Kind == ((NU8) 29) || (*N_135428).Kind == ((NU8) 20) || (*N_135428).Kind == ((NU8) 22));
return Result_135429;
}
N_NIMCALL(TY50526*, Semmacrostmt_135442)(TY103012* C_135444, TY50526* N_135445, NIM_BOOL Semcheck_135446) {
TY50526* Result_135447;
TY50526* A_135448;
NIM_BOOL LOC2;
TY50548* S_135498;
NIM_BOOL LOC9;
NI I_135542;
NI HEX3Atmp_142825;
NI LOC12;
NI Res_142827;
NI I_135575;
NI HEX3Atmp_142828;
NI LOC14;
NI Res_142830;
NimStringDesc* LOC16;
Result_135447 = 0;
Checkminsonslen_103413(N_135445, 2);
A_135448 = 0;
LOC2 = Iscallexpr_135426((*N_135445).KindU.S6.Sons->data[0]);
if (!LOC2) goto LA3;
A_135448 = (*(*N_135445).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[0];
goto LA1;
LA3: ;
A_135448 = (*N_135445).KindU.S6.Sons->data[0];
LA1: ;
S_135498 = 0;
S_135498 = Qualifiedlookup_104322(C_135444, A_135448, 2);
if (!!((S_135498 == NIM_NIL))) goto LA6;
switch ((*S_135498).Kind) {
case ((NU8) 14):
Result_135447 = Semmacroexpr_123038(C_135444, N_135445, S_135498, Semcheck_135446);
break;
case ((NU8) 15):
Result_135447 = Newnodei_50738(((NU8) 21), (*N_135445).Info);
Addson_50824(Result_135447, A_135448);
LOC9 = Iscallexpr_135426((*N_135445).KindU.S6.Sons->data[0]);
if (!LOC9) goto LA10;
I_135542 = 0;
HEX3Atmp_142825 = 0;
LOC12 = Sonslen_50804((*N_135445).KindU.S6.Sons->data[0]);
HEX3Atmp_142825 = (NI32)(LOC12 - 1);
Res_142827 = 0;
Res_142827 = 1;
while (1) {
if (!(Res_142827 <= HEX3Atmp_142825)) goto LA13;
I_135542 = Res_142827;
Addson_50824(Result_135447, (*(*N_135445).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[I_135542]);
Res_142827 += 1;
} LA13: ;
LA10: ;
I_135575 = 0;
HEX3Atmp_142828 = 0;
LOC14 = Sonslen_50804(N_135445);
HEX3Atmp_142828 = (NI32)(LOC14 - 1);
Res_142830 = 0;
Res_142830 = 1;
while (1) {
if (!(Res_142830 <= HEX3Atmp_142828)) goto LA15;
I_135575 = Res_142830;
Addson_50824(Result_135447, (*N_135445).KindU.S6.Sons->data[I_135575]);
Res_142830 += 1;
} LA15: ;
Result_135447 = Semtemplateexpr_129953(C_135444, Result_135447, S_135498, Semcheck_135446);
break;
default:
Globalerror_43139((*N_135445).Info, ((NU8) 204), (*(*S_135498).Name).S);
break;
}
goto LA5;
LA6: ;
LOC16 = 0;
LOC16 = Rendertree_81042(A_135448, 4);
Globalerror_43139((*N_135445).Info, ((NU8) 165), LOC16);
LA5: ;
return Result_135447;
}
N_NIMCALL(TY50526*, Getidentnode_136103)(TY50526* N_136105) {
TY50526* Result_136106;
Result_136106 = 0;
switch ((*N_136105).Kind) {
case ((NU8) 29):
Result_136106 = Getidentnode_136103((*N_136105).KindU.S6.Sons->data[1]);
break;
case ((NU8) 34):
case ((NU8) 43):
Result_136106 = Getidentnode_136103((*N_136105).KindU.S6.Sons->data[0]);
break;
case ((NU8) 2):
Result_136106 = N_136105;
break;
default:
Illformedast_103403(N_136105);
Result_136106 = N_136105;
break;
}
return Result_136106;
}
N_NIMCALL(TY50526*, Semgenericstmt_136048)(TY103012* C_136050, TY50526* N_136051, NU8 Flags_136054) {
TY50526* Result_136138;
NI L_136139;
TY50526* A_136140;
TY50548* S_136153;
TY50548* S_136201;
TY50548* S_136240;
NIM_BOOL LOC17;
NI I_136352;
NI HEX3Atmp_142831;
NI LOC21;
NI Res_142833;
NI I_136385;
NI HEX3Atmp_142834;
NI LOC23;
NI Res_142836;
NI I_136419;
NI HEX3Atmp_142837;
NI LOC25;
NI Res_142839;
NI I_136478;
NI HEX3Atmp_142843;
NI LOC27;
NI Res_142845;
NI J_136499;
NI HEX3Atmp_142840;
NI Res_142842;
NI I_136582;
NI HEX3Atmp_142846;
NI Res_142848;
TY50548* LOC31;
TY50548* LOC35;
NI I_136711;
NI HEX3Atmp_142852;
NI LOC36;
NI Res_142854;
NI J_136732;
NI HEX3Atmp_142849;
NI Res_142851;
NI I_136790;
NI HEX3Atmp_142859;
NI LOC39;
NI Res_142861;
NIM_BOOL LOC46;
NI J_136887;
NI HEX3Atmp_142856;
NI Res_142858;
TY50526* LOC51;
TY50548* LOC52;
NI I_136908;
NI HEX3Atmp_142865;
NI LOC53;
NI Res_142867;
NI J_136963;
NI HEX3Atmp_142862;
NI Res_142864;
TY50526* LOC59;
TY50548* LOC60;
NI I_136984;
NI HEX3Atmp_142869;
NI LOC61;
NI Res_142871;
TY50526* LOC70;
TY50548* LOC71;
NI I_137084;
NI HEX3Atmp_142873;
NI LOC72;
NI Res_142875;
TY50526* LOC81;
TY50548* LOC82;
NI I_137135;
NI HEX3Atmp_142877;
NI LOC83;
NI Res_142879;
NI I_137317;
NI HEX3Atmp_142880;
NI LOC98;
NI Res_142882;
TY50526* LOC100;
TY50548* LOC101;
NI I_137432;
NI HEX3Atmp_142886;
NI LOC105;
NI Res_142888;
NI J_137511;
NI HEX3Atmp_142883;
NI Res_142885;
TY50526* LOC111;
TY50548* LOC112;
TY50526* LOC113;
TY50548* LOC114;
TY49011* LOC121;
TY50548* LOC122;
NI I_137696;
NI HEX3Atmp_142889;
NI LOC123;
NI Res_142891;
Result_136138 = 0;
L_136139 = 0;
A_136140 = 0;
Result_136138 = N_136051;
switch ((*N_136051).Kind) {
case ((NU8) 2):
S_136153 = 0;
S_136153 = Symtabget_55111((*C_136050).Tab, (*N_136051).KindU.S5.Ident);
if (!(S_136153 == NIM_NIL)) goto LA2;
if (!((Flags_136054 &(1<<((((NU8) 0))&7)))!=0)) goto LA5;
Localerror_43144((*N_136051).Info, ((NU8) 58), (*(*N_136051).KindU.S5.Ident).S);
LA5: ;
goto LA1;
LA2: ;
if (!((Flags_136054 &(1<<((((NU8) 0))&7)))!=0)) goto LA8;
Result_136138 = Symchoice_122533(C_136050, N_136051, S_136153);
goto LA7;
LA8: ;
Result_136138 = Semgenericstmtsymbol_136065(C_136050, N_136051, S_136153);
LA7: ;
LA1: ;
break;
case ((NU8) 36):
S_136201 = 0;
S_136201 = Qualifiedlookup_104322(C_136050, N_136051, 0);
if (!!((S_136201 == NIM_NIL))) goto LA11;
Result_136138 = Semgenericstmtsymbol_136065(C_136050, N_136051, S_136201);
LA11: ;
break;
case ((NU8) 1):
case ((NU8) 3) ... ((NU8) 18):
break;
case ((NU8) 45):
Result_136138 = Semgenericstmt_136048(C_136050, (*N_136051).KindU.S6.Sons->data[0], 1);
break;
case ((NU8) 21):
case ((NU8) 49):
case ((NU8) 27):
case ((NU8) 28):
case ((NU8) 20):
case ((NU8) 22):
Checkminsonslen_103413(N_136051, 1);
S_136240 = 0;
S_136240 = Qualifiedlookup_104322(C_136050, (*N_136051).KindU.S6.Sons->data[0], 0);
if (!!((S_136240 == NIM_NIL))) goto LA14;
(*S_136240).Flags |=(1<<((NI32)(((NU8) 0))%(sizeof(NI32)*8)));
switch ((*S_136240).Kind) {
case ((NU8) 14):
Result_136138 = Semmacroexpr_123038(C_136050, N_136051, S_136240, NIM_FALSE);
goto BeforeRet;
break;
case ((NU8) 15):
Result_136138 = Semtemplateexpr_129953(C_136050, N_136051, S_136240, NIM_FALSE);
goto BeforeRet;
break;
case ((NU8) 0):
case ((NU8) 3):
break;
case ((NU8) 10):
case ((NU8) 11):
case ((NU8) 12):
case ((NU8) 13):
asgnRefNoCycle((void**) &(*N_136051).KindU.S6.Sons->data[0], Symchoice_122533(C_136050, (*N_136051).KindU.S6.Sons->data[0], S_136240));
break;
case ((NU8) 4):
asgnRefNoCycle((void**) &(*N_136051).KindU.S6.Sons->data[0], Newsymnode_50735(S_136240));
break;
case ((NU8) 7):
LOC17 = !(((*S_136240).Typ == NIM_NIL));
if (!(LOC17)) goto LA18;
LOC17 = !(((*(*S_136240).Typ).Kind == ((NU8) 12)));
LA18: ;
if (!LOC17) goto LA19;
asgnRefNoCycle((void**) &(*N_136051).KindU.S6.Sons->data[0], Newsymnode_50735(S_136240));
LA19: ;
break;
default:
asgnRefNoCycle((void**) &(*N_136051).KindU.S6.Sons->data[0], Newsymnode_50735(S_136240));
break;
}
LA14: ;
I_136352 = 0;
HEX3Atmp_142831 = 0;
LOC21 = Sonslen_50804(N_136051);
HEX3Atmp_142831 = (NI32)(LOC21 - 1);
Res_142833 = 0;
Res_142833 = 1;
while (1) {
if (!(Res_142833 <= HEX3Atmp_142831)) goto LA22;
I_136352 = Res_142833;
asgnRefNoCycle((void**) &(*N_136051).KindU.S6.Sons->data[I_136352], Semgenericstmt_136048(C_136050, (*N_136051).KindU.S6.Sons->data[I_136352], Flags_136054));
Res_142833 += 1;
} LA22: ;
break;
case ((NU8) 79):
Result_136138 = Semmacrostmt_135442(C_136050, N_136051, NIM_FALSE);
break;
case ((NU8) 82):
I_136385 = 0;
HEX3Atmp_142834 = 0;
LOC23 = Sonslen_50804(N_136051);
HEX3Atmp_142834 = (NI32)(LOC23 - 1);
Res_142836 = 0;
Res_142836 = 0;
while (1) {
if (!(Res_142836 <= HEX3Atmp_142834)) goto LA24;
I_136385 = Res_142836;
asgnRefNoCycle((void**) &(*N_136051).KindU.S6.Sons->data[I_136385], Semgenericstmtscope_136055(C_136050, (*N_136051).KindU.S6.Sons->data[I_136385], 0));
Res_142836 += 1;
} LA24: ;
break;
case ((NU8) 85):
Openscope_55141(&(*C_136050).Tab);
I_136419 = 0;
HEX3Atmp_142837 = 0;
LOC25 = Sonslen_50804(N_136051);
HEX3Atmp_142837 = (NI32)(LOC25 - 1);
Res_142839 = 0;
Res_142839 = 0;
while (1) {
if (!(Res_142839 <= HEX3Atmp_142837)) goto LA26;
I_136419 = Res_142839;
asgnRefNoCycle((void**) &(*N_136051).KindU.S6.Sons->data[I_136419], Semgenericstmt_136048(C_136050, (*N_136051).KindU.S6.Sons->data[I_136419], 0));
Res_142839 += 1;
} LA26: ;
Closescope_104018(&(*C_136050).Tab);
break;
case ((NU8) 86):
Openscope_55141(&(*C_136050).Tab);
asgnRefNoCycle((void**) &(*N_136051).KindU.S6.Sons->data[0], Semgenericstmt_136048(C_136050, (*N_136051).KindU.S6.Sons->data[0], 0));
I_136478 = 0;
HEX3Atmp_142843 = 0;
LOC27 = Sonslen_50804(N_136051);
HEX3Atmp_142843 = (NI32)(LOC27 - 1);
Res_142845 = 0;
Res_142845 = 1;
while (1) {
if (!(Res_142845 <= HEX3Atmp_142843)) goto LA28;
I_136478 = Res_142845;
A_136140 = (*N_136051).KindU.S6.Sons->data[I_136478];
Checkminsonslen_103413(A_136140, 1);
L_136139 = Sonslen_50804(A_136140);
J_136499 = 0;
HEX3Atmp_142840 = 0;
HEX3Atmp_142840 = (NI32)(L_136139 - 2);
Res_142842 = 0;
Res_142842 = 0;
while (1) {
if (!(Res_142842 <= HEX3Atmp_142840)) goto LA29;
J_136499 = Res_142842;
asgnRefNoCycle((void**) &(*A_136140).KindU.S6.Sons->data[J_136499], Semgenericstmt_136048(C_136050, (*A_136140).KindU.S6.Sons->data[J_136499], 0));
Res_142842 += 1;
} LA29: ;
asgnRefNoCycle((void**) &(*A_136140).KindU.S6.Sons->data[(NI32)(L_136139 - 1)], Semgenericstmtscope_136055(C_136050, (*A_136140).KindU.S6.Sons->data[(NI32)(L_136139 - 1)], 0));
Res_142845 += 1;
} LA28: ;
Closescope_104018(&(*C_136050).Tab);
break;
case ((NU8) 84):
L_136139 = Sonslen_50804(N_136051);
Openscope_55141(&(*C_136050).Tab);
asgnRefNoCycle((void**) &(*N_136051).KindU.S6.Sons->data[(NI32)(L_136139 - 2)], Semgenericstmt_136048(C_136050, (*N_136051).KindU.S6.Sons->data[(NI32)(L_136139 - 2)], 0));
I_136582 = 0;
HEX3Atmp_142846 = 0;
HEX3Atmp_142846 = (NI32)(L_136139 - 3);
Res_142848 = 0;
Res_142848 = 0;
while (1) {
if (!(Res_142848 <= HEX3Atmp_142846)) goto LA30;
I_136582 = Res_142848;
LOC31 = 0;
LOC31 = Newsyms_122059(((NU8) 0), (*N_136051).KindU.S6.Sons->data[I_136582], C_136050);
Adddecl_104114(C_136050, LOC31);
Res_142848 += 1;
} LA30: ;
asgnRefNoCycle((void**) &(*N_136051).KindU.S6.Sons->data[(NI32)(L_136139 - 1)], Semgenericstmt_136048(C_136050, (*N_136051).KindU.S6.Sons->data[(NI32)(L_136139 - 1)], 0));
Closescope_104018(&(*C_136050).Tab);
break;
case ((NU8) 99):
case ((NU8) 107):
case ((NU8) 109):
Checksonslen_103407(N_136051, 2);
Openscope_55141(&(*C_136050).Tab);
if (!!(((*(*N_136051).KindU.S6.Sons->data[0]).Kind == ((NU8) 1)))) goto LA33;
LOC35 = 0;
LOC35 = Newsyms_122059(((NU8) 0), (*N_136051).KindU.S6.Sons->data[0], C_136050);
Adddecl_104114(C_136050, LOC35);
LA33: ;
asgnRefNoCycle((void**) &(*N_136051).KindU.S6.Sons->data[1], Semgenericstmt_136048(C_136050, (*N_136051).KindU.S6.Sons->data[1], 0));
Closescope_104018(&(*C_136050).Tab);
break;
case ((NU8) 93):
Checkminsonslen_103413(N_136051, 2);
asgnRefNoCycle((void**) &(*N_136051).KindU.S6.Sons->data[0], Semgenericstmtscope_136055(C_136050, (*N_136051).KindU.S6.Sons->data[0], 0));
I_136711 = 0;
HEX3Atmp_142852 = 0;
LOC36 = Sonslen_50804(N_136051);
HEX3Atmp_142852 = (NI32)(LOC36 - 1);
Res_142854 = 0;
Res_142854 = 1;
while (1) {
if (!(Res_142854 <= HEX3Atmp_142852)) goto LA37;
I_136711 = Res_142854;
A_136140 = (*N_136051).KindU.S6.Sons->data[I_136711];
Checkminsonslen_103413(A_136140, 1);
L_136139 = Sonslen_50804(A_136140);
J_136732 = 0;
HEX3Atmp_142849 = 0;
HEX3Atmp_142849 = (NI32)(L_136139 - 2);
Res_142851 = 0;
Res_142851 = 0;
while (1) {
if (!(Res_142851 <= HEX3Atmp_142849)) goto LA38;
J_136732 = Res_142851;
asgnRefNoCycle((void**) &(*A_136140).KindU.S6.Sons->data[J_136732], Semgenericstmt_136048(C_136050, (*A_136140).KindU.S6.Sons->data[J_136732], 2));
Res_142851 += 1;
} LA38: ;
asgnRefNoCycle((void**) &(*A_136140).KindU.S6.Sons->data[(NI32)(L_136139 - 1)], Semgenericstmtscope_136055(C_136050, (*A_136140).KindU.S6.Sons->data[(NI32)(L_136139 - 1)], 0));
Res_142854 += 1;
} LA37: ;
break;
case ((NU8) 87):
I_136790 = 0;
HEX3Atmp_142859 = 0;
LOC39 = Sonslen_50804(N_136051);
HEX3Atmp_142859 = (NI32)(LOC39 - 1);
Res_142861 = 0;
Res_142861 = 0;
while (1) {
if (!(Res_142861 <= HEX3Atmp_142859)) goto LA40;
I_136790 = Res_142861;
A_136140 = (*N_136051).KindU.S6.Sons->data[I_136790];
if (!((*A_136140).Kind == ((NU8) 105))) goto LA43;
goto LA41;
LA43: ;
LOC46 = !(((*A_136140).Kind == ((NU8) 25)));
if (!(LOC46)) goto LA47;
LOC46 = !(((*A_136140).Kind == ((NU8) 26)));
LA47: ;
if (!LOC46) goto LA48;
Illformedast_103403(A_136140);
LA48: ;
Checkminsonslen_103413(A_136140, 3);
L_136139 = Sonslen_50804(A_136140);
asgnRefNoCycle((void**) &(*A_136140).KindU.S6.Sons->data[(NI32)(L_136139 - 2)], Semgenericstmt_136048(C_136050, (*A_136140).KindU.S6.Sons->data[(NI32)(L_136139 - 2)], 2));
asgnRefNoCycle((void**) &(*A_136140).KindU.S6.Sons->data[(NI32)(L_136139 - 1)], Semgenericstmt_136048(C_136050, (*A_136140).KindU.S6.Sons->data[(NI32)(L_136139 - 1)], 0));
J_136887 = 0;
HEX3Atmp_142856 = 0;
HEX3Atmp_142856 = (NI32)(L_136139 - 3);
Res_142858 = 0;
Res_142858 = 0;
while (1) {
if (!(Res_142858 <= HEX3Atmp_142856)) goto LA50;
J_136887 = Res_142858;
LOC51 = 0;
LOC51 = Getidentnode_136103((*A_136140).KindU.S6.Sons->data[J_136887]);
LOC52 = 0;
LOC52 = Newsyms_122059(((NU8) 0), LOC51, C_136050);
Adddecl_104114(C_136050, LOC52);
Res_142858 += 1;
} LA50: ;
LA41: ;
Res_142861 += 1;
} LA40: ;
break;
case ((NU8) 65):
I_136908 = 0;
HEX3Atmp_142865 = 0;
LOC53 = Sonslen_50804(N_136051);
HEX3Atmp_142865 = (NI32)(LOC53 - 1);
Res_142867 = 0;
Res_142867 = 0;
while (1) {
if (!(Res_142867 <= HEX3Atmp_142865)) goto LA54;
I_136908 = Res_142867;
A_136140 = (*N_136051).KindU.S6.Sons->data[I_136908];
if (!!(((*A_136140).Kind == ((NU8) 25)))) goto LA56;
Illformedast_103403(A_136140);
LA56: ;
Checkminsonslen_103413(A_136140, 3);
L_136139 = Sonslen_50804(A_136140);
asgnRefNoCycle((void**) &(*A_136140).KindU.S6.Sons->data[(NI32)(L_136139 - 2)], Semgenericstmt_136048(C_136050, (*A_136140).KindU.S6.Sons->data[(NI32)(L_136139 - 2)], 2));
J_136963 = 0;
HEX3Atmp_142862 = 0;
HEX3Atmp_142862 = (NI32)(L_136139 - 3);
Res_142864 = 0;
Res_142864 = 0;
while (1) {
if (!(Res_142864 <= HEX3Atmp_142862)) goto LA58;
J_136963 = Res_142864;
LOC59 = 0;
LOC59 = Getidentnode_136103((*A_136140).KindU.S6.Sons->data[J_136963]);
LOC60 = 0;
LOC60 = Newsyms_122059(((NU8) 0), LOC59, C_136050);
Adddecl_104114(C_136050, LOC60);
Res_142864 += 1;
} LA58: ;
Res_142867 += 1;
} LA54: ;
break;
case ((NU8) 88):
I_136984 = 0;
HEX3Atmp_142869 = 0;
LOC61 = Sonslen_50804(N_136051);
HEX3Atmp_142869 = (NI32)(LOC61 - 1);
Res_142871 = 0;
Res_142871 = 0;
while (1) {
if (!(Res_142871 <= HEX3Atmp_142869)) goto LA62;
I_136984 = Res_142871;
A_136140 = (*N_136051).KindU.S6.Sons->data[I_136984];
if (!((*A_136140).Kind == ((NU8) 105))) goto LA65;
goto LA63;
LA65: ;
if (!!(((*A_136140).Kind == ((NU8) 89)))) goto LA68;
Illformedast_103403(A_136140);
LA68: ;
Checksonslen_103407(A_136140, 3);
LOC70 = 0;
LOC70 = Getidentnode_136103((*A_136140).KindU.S6.Sons->data[0]);
LOC71 = 0;
LOC71 = Newsyms_122059(((NU8) 0), LOC70, C_136050);
Adddecl_104114(C_136050, LOC71);
asgnRefNoCycle((void**) &(*A_136140).KindU.S6.Sons->data[1], Semgenericstmt_136048(C_136050, (*A_136140).KindU.S6.Sons->data[1], 2));
asgnRefNoCycle((void**) &(*A_136140).KindU.S6.Sons->data[2], Semgenericstmt_136048(C_136050, (*A_136140).KindU.S6.Sons->data[2], 0));
LA63: ;
Res_142871 += 1;
} LA62: ;
break;
case ((NU8) 90):
I_137084 = 0;
HEX3Atmp_142873 = 0;
LOC72 = Sonslen_50804(N_136051);
HEX3Atmp_142873 = (NI32)(LOC72 - 1);
Res_142875 = 0;
Res_142875 = 0;
while (1) {
if (!(Res_142875 <= HEX3Atmp_142873)) goto LA73;
I_137084 = Res_142875;
A_136140 = (*N_136051).KindU.S6.Sons->data[I_137084];
if (!((*A_136140).Kind == ((NU8) 105))) goto LA76;
goto LA74;
LA76: ;
if (!!(((*A_136140).Kind == ((NU8) 91)))) goto LA79;
Illformedast_103403(A_136140);
LA79: ;
Checksonslen_103407(A_136140, 3);
LOC81 = 0;
LOC81 = Getidentnode_136103((*A_136140).KindU.S6.Sons->data[0]);
LOC82 = 0;
LOC82 = Newsyms_122059(((NU8) 0), LOC81, C_136050);
Adddecl_104114(C_136050, LOC82);
LA74: ;
Res_142875 += 1;
} LA73: ;
I_137135 = 0;
HEX3Atmp_142877 = 0;
LOC83 = Sonslen_50804(N_136051);
HEX3Atmp_142877 = (NI32)(LOC83 - 1);
Res_142879 = 0;
Res_142879 = 0;
while (1) {
if (!(Res_142879 <= HEX3Atmp_142877)) goto LA84;
I_137135 = Res_142879;
A_136140 = (*N_136051).KindU.S6.Sons->data[I_137135];
if (!((*A_136140).Kind == ((NU8) 105))) goto LA87;
goto LA85;
LA87: ;
if (!!(((*A_136140).Kind == ((NU8) 91)))) goto LA90;
Illformedast_103403(A_136140);
LA90: ;
Checksonslen_103407(A_136140, 3);
if (!!(((*(*A_136140).KindU.S6.Sons->data[1]).Kind == ((NU8) 1)))) goto LA93;
Openscope_55141(&(*C_136050).Tab);
asgnRefNoCycle((void**) &(*A_136140).KindU.S6.Sons->data[1], Semgenericstmt_136048(C_136050, (*A_136140).KindU.S6.Sons->data[1], 0));
asgnRefNoCycle((void**) &(*A_136140).KindU.S6.Sons->data[2], Semgenericstmt_136048(C_136050, (*A_136140).KindU.S6.Sons->data[2], 2));
Closescope_104018(&(*C_136050).Tab);
goto LA92;
LA93: ;
asgnRefNoCycle((void**) &(*A_136140).KindU.S6.Sons->data[2], Semgenericstmt_136048(C_136050, (*A_136140).KindU.S6.Sons->data[2], 2));
LA92: ;
LA85: ;
Res_142879 += 1;
} LA84: ;
break;
case ((NU8) 121):
Checkminsonslen_103413(N_136051, 1);
if (!!(((*(*N_136051).KindU.S6.Sons->data[0]).Kind == ((NU8) 1)))) goto LA96;
asgnRefNoCycle((void**) &(*N_136051).KindU.S6.Sons->data[0], Semgenericstmt_136048(C_136050, (*N_136051).KindU.S6.Sons->data[0], 2));
LA96: ;
I_137317 = 0;
HEX3Atmp_142880 = 0;
LOC98 = Sonslen_50804(N_136051);
HEX3Atmp_142880 = (NI32)(LOC98 - 1);
Res_142882 = 0;
Res_142882 = 1;
while (1) {
if (!(Res_142882 <= HEX3Atmp_142880)) goto LA99;
I_137317 = Res_142882;
switch ((*(*N_136051).KindU.S6.Sons->data[I_137317]).Kind) {
case ((NU8) 122):
A_136140 = (*(*N_136051).KindU.S6.Sons->data[I_137317]).KindU.S6.Sons->data[0];
break;
case ((NU8) 2):
A_136140 = (*N_136051).KindU.S6.Sons->data[I_137317];
break;
default:
Illformedast_103403(N_136051);
break;
}
LOC100 = 0;
LOC100 = Getidentnode_136103((*A_136140).KindU.S6.Sons->data[I_137317]);
LOC101 = 0;
LOC101 = Newsyms_122059(((NU8) 0), LOC100, C_136050);
Adddeclat_104128(C_136050, LOC101, ((NI) ((NI32)(((NI) ((*C_136050).Tab.Tos)) - 1))));
Res_142882 += 1;
} LA99: ;
break;
case ((NU8) 111):
case ((NU8) 112):
break;
case ((NU8) 66):
Checkminsonslen_103413(N_136051, 1);
if (!!(((*(*N_136051).KindU.S6.Sons->data[0]).Kind == ((NU8) 1)))) goto LA103;
asgnRefNoCycle((void**) &(*N_136051).KindU.S6.Sons->data[0], Semgenericstmt_136048(C_136050, (*N_136051).KindU.S6.Sons->data[0], 2));
LA103: ;
I_137432 = 0;
HEX3Atmp_142886 = 0;
LOC105 = Sonslen_50804(N_136051);
HEX3Atmp_142886 = (NI32)(LOC105 - 1);
Res_142888 = 0;
Res_142888 = 1;
while (1) {
if (!(Res_142888 <= HEX3Atmp_142886)) goto LA106;
I_137432 = Res_142888;
A_136140 = (*N_136051).KindU.S6.Sons->data[I_137432];
if (!!(((*A_136140).Kind == ((NU8) 25)))) goto LA108;
Illformedast_103403(A_136140);
LA108: ;
Checkminsonslen_103413(A_136140, 3);
L_136139 = Sonslen_50804(A_136140);
asgnRefNoCycle((void**) &(*A_136140).KindU.S6.Sons->data[(NI32)(L_136139 - 1)], Semgenericstmt_136048(C_136050, (*A_136140).KindU.S6.Sons->data[(NI32)(L_136139 - 2)], 2));
asgnRefNoCycle((void**) &(*A_136140).KindU.S6.Sons->data[(NI32)(L_136139 - 1)], Semgenericstmt_136048(C_136050, (*A_136140).KindU.S6.Sons->data[(NI32)(L_136139 - 1)], 0));
J_137511 = 0;
HEX3Atmp_142883 = 0;
HEX3Atmp_142883 = (NI32)(L_136139 - 3);
Res_142885 = 0;
Res_142885 = 0;
while (1) {
if (!(Res_142885 <= HEX3Atmp_142883)) goto LA110;
J_137511 = Res_142885;
LOC111 = 0;
LOC111 = Getidentnode_136103((*A_136140).KindU.S6.Sons->data[J_137511]);
LOC112 = 0;
LOC112 = Newsyms_122059(((NU8) 0), LOC111, C_136050);
Adddecl_104114(C_136050, LOC112);
Res_142885 += 1;
} LA110: ;
Res_142888 += 1;
} LA106: ;
break;
case ((NU8) 69):
case ((NU8) 70):
case ((NU8) 71):
case ((NU8) 72):
case ((NU8) 73):
case ((NU8) 74):
case ((NU8) 42):
Checksonslen_103407(N_136051, 5);
LOC113 = 0;
LOC113 = Getidentnode_136103((*N_136051).KindU.S6.Sons->data[0]);
LOC114 = 0;
LOC114 = Newsyms_122059(((NU8) 0), LOC113, C_136050);
Adddecl_104114(C_136050, LOC114);
Openscope_55141(&(*C_136050).Tab);
asgnRefNoCycle((void**) &(*N_136051).KindU.S6.Sons->data[1], Semgenericstmt_136048(C_136050, (*N_136051).KindU.S6.Sons->data[1], 0));
if (!!(((*(*N_136051).KindU.S6.Sons->data[2]).Kind == ((NU8) 1)))) goto LA116;
if (!!(((*(*(*N_136051).KindU.S6.Sons->data[2]).KindU.S6.Sons->data[0]).Kind == ((NU8) 1)))) goto LA119;
LOC121 = 0;
LOC121 = Getident_49016(((NimStringDesc*) &TMP192131));
LOC122 = 0;
LOC122 = Newsym_50702(((NU8) 0), LOC121, NIM_NIL);
Adddecl_104114(C_136050, LOC122);
LA119: ;
asgnRefNoCycle((void**) &(*N_136051).KindU.S6.Sons->data[2], Semgenericstmt_136048(C_136050, (*N_136051).KindU.S6.Sons->data[2], 0));
LA116: ;
asgnRefNoCycle((void**) &(*N_136051).KindU.S6.Sons->data[3], Semgenericstmt_136048(C_136050, (*N_136051).KindU.S6.Sons->data[3], 0));
asgnRefNoCycle((void**) &(*N_136051).KindU.S6.Sons->data[4], Semgenericstmtscope_136055(C_136050, (*N_136051).KindU.S6.Sons->data[4], 0));
Closescope_104018(&(*C_136050).Tab);
break;
default:
I_137696 = 0;
HEX3Atmp_142889 = 0;
LOC123 = Sonslen_50804(N_136051);
HEX3Atmp_142889 = (NI32)(LOC123 - 1);
Res_142891 = 0;
Res_142891 = 0;
while (1) {
if (!(Res_142891 <= HEX3Atmp_142889)) goto LA124;
I_137696 = Res_142891;
asgnRefNoCycle((void**) &(*Result_136138).KindU.S6.Sons->data[I_137696], Semgenericstmt_136048(C_136050, (*N_136051).KindU.S6.Sons->data[I_137696], Flags_136054));
Res_142891 += 1;
} LA124: ;
break;
}
BeforeRet: ;
return Result_136138;
}
N_NIMCALL(TY50526*, Semgenericstmtscope_136055)(TY103012* C_136057, TY50526* N_136058, NU8 Flags_136061) {
TY50526* Result_136062;
Result_136062 = 0;
Openscope_55141(&(*C_136057).Tab);
Result_136062 = Semgenericstmt_136048(C_136057, N_136058, Flags_136061);
Closescope_104018(&(*C_136057).Tab);
return Result_136062;
}
N_NIMCALL(void, Semborrow_141201)(TY103012* C_141203, TY50526* N_141204, TY50548* S_141205) {
TY50548* B_141206;
B_141206 = 0;
B_141206 = Searchforborrowproc_117009(C_141203, S_141205, (NI32)(((NI) ((*C_141203).Tab.Tos)) - 2));
if (!!((B_141206 == NIM_NIL))) goto LA2;
asgnRefNoCycle((void**) &(*N_141204).KindU.S6.Sons->data[4], Newsymnode_50735(B_141206));
goto LA1;
LA2: ;
Localerror_43144((*N_141204).Info, ((NU8) 135), ((NimStringDesc*) &TMP191995));
LA1: ;
}
N_NIMCALL(void, Sideeffectscheck_141230)(TY103012* C_141232, TY50548* S_141233) {
if (!((24576 & (*S_141233).Flags) == 24576)) goto LA2;
Localerror_43144((*S_141233).Info, ((NU8) 205), (*(*S_141233).Name).S);
LA2: ;
}
N_NIMCALL(TY50526*, Semprocaux_141487)(TY103012* C_141489, TY50526* N_141490, NU8 Kind_141491, TY118007 Validpragmas_141492) {
TY50526* Result_141493;
TY50548* S_141494;
TY50548* Proto_141495;
TY50526* Gp_141496;
TY103006* Oldp_141557;
NI LOC14;
TY103002* LOC26;
NIM_BOOL LOC55;
NIM_BOOL LOC63;
NIM_BOOL LOC68;
TY49011* LOC72;
TY50548* LOC73;
Result_141493 = 0;
S_141494 = 0;
Proto_141495 = 0;
Gp_141496 = 0;
Result_141493 = N_141490;
Checksonslen_103407(N_141490, 5);
if (!((*(*(*C_141489).P).Owner).Kind == ((NU8) 6))) goto LA2;
S_141494 = Semidentvis_122092(C_141489, Kind_141491, (*N_141490).KindU.S6.Sons->data[0], 2);
(*S_141494).Flags |=(1<<((NI32)(((NU8) 5))%(sizeof(NI32)*8)));
goto LA1;
LA2: ;
S_141494 = Semidentvis_122092(C_141489, Kind_141491, (*N_141490).KindU.S6.Sons->data[0], 0);
LA1: ;
asgnRefNoCycle((void**) &(*N_141490).KindU.S6.Sons->data[0], Newsymnode_50735(S_141494));
Oldp_141557 = 0;
Oldp_141557 = (*C_141489).P;
if (!(((*S_141494).Flags &(1<<((((NU8) 1))&31)))!=0)) goto LA5;
(*S_141494).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
LA5: ;
asgnRefNoCycle((void**) &(*S_141494).Ast, N_141490);
Pushowner_103094(S_141494);
Openscope_55141(&(*C_141489).Tab);
if (!!(((*(*N_141490).KindU.S6.Sons->data[1]).Kind == ((NU8) 1)))) goto LA8;
asgnRefNoCycle((void**) &(*N_141490).KindU.S6.Sons->data[1], Semgenericparamlist_140321(C_141489, (*N_141490).KindU.S6.Sons->data[1], NIM_NIL));
Gp_141496 = (*N_141490).KindU.S6.Sons->data[1];
goto LA7;
LA8: ;
Gp_141496 = Newnodei_50738(((NU8) 65), (*N_141490).Info);
LA7: ;
if (!!(((*(*N_141490).KindU.S6.Sons->data[2]).Kind == ((NU8) 1)))) goto LA11;
Semparamlist_122147(C_141489, (*N_141490).KindU.S6.Sons->data[2], Gp_141496, S_141494);
LOC14 = Sonslen_50804(Gp_141496);
if (!(0 < LOC14)) goto LA15;
if (!((*(*N_141490).KindU.S6.Sons->data[1]).Kind == ((NU8) 1))) goto LA18;
asgnRefNoCycle((void**) &(*N_141490).KindU.S6.Sons->data[1], Gp_141496);
Semparamlist_122147(C_141489, (*N_141490).KindU.S6.Sons->data[2], NIM_NIL, S_141494);
LA18: ;
LA15: ;
Addparams_122153(C_141489, (*(*S_141494).Typ).N);
goto LA10;
LA11: ;
asgnRef((void**) &(*S_141494).Typ, Newtypes_103077(((NU8) 25), C_141489));
Addson_50828((*S_141494).Typ, NIM_NIL);
LA10: ;
Proto_141495 = Searchforproc_117004(C_141489, S_141494, (NI32)(((NI) ((*C_141489).Tab.Tos)) - 2));
if (!(Proto_141495 == NIM_NIL)) goto LA21;
if (!!(((*(*Oldp_141557).Owner).Kind == ((NU8) 6)))) goto LA24;
(*(*S_141494).Typ).Callconv = ((NU8) 8);
goto LA23;
LA24: ;
LOC26 = 0;
LOC26 = Lastoptionentry_103053(C_141489);
(*(*S_141494).Typ).Callconv = (*LOC26).Defaultcc;
LA23: ;
if (!((15424 &(1<<((Kind_141491)&31)))!=0)) goto LA28;
Addinterfaceoverloadablesymat_104240(C_141489, S_141494, (NI32)(((NI) ((*C_141489).Tab.Tos)) - 2));
goto LA27;
LA28: ;
Addinterfacedeclat_104191(C_141489, S_141494, ((NI) ((NI32)(((NI) ((*C_141489).Tab.Tos)) - 2))));
LA27: ;
if (!!(((*(*N_141490).KindU.S6.Sons->data[3]).Kind == ((NU8) 1)))) goto LA31;
Pragma_118028(C_141489, S_141494, (*N_141490).KindU.S6.Sons->data[3], Validpragmas_141492);
LA31: ;
goto LA20;
LA21: ;
if (!!(((*(*N_141490).KindU.S6.Sons->data[3]).Kind == ((NU8) 1)))) goto LA34;
Localerror_43144((*(*N_141490).KindU.S6.Sons->data[3]).Info, ((NU8) 132), ((NimStringDesc*) &TMP191995));
LA34: ;
if (!!((((*Proto_141495).Flags &(1<<((((NU8) 6))&31)))!=0))) goto LA37;
Localerror_43144((*N_141490).Info, ((NU8) 37), (*(*Proto_141495).Name).S);
LA37: ;
(*Proto_141495).Flags &= ~(1 << ((NI32)(((NU8) 6)) % (sizeof(NI32)*8)));
Closescope_104018(&(*C_141489).Tab);
Openscope_55141(&(*C_141489).Tab);
if (!!(((*(*(*Proto_141495).Ast).KindU.S6.Sons->data[1]).Kind == ((NU8) 1)))) goto LA40;
Addgenericparamlisttoscope_140498(C_141489, (*(*Proto_141495).Ast).KindU.S6.Sons->data[1]);
LA40: ;
Addparams_122153(C_141489, (*(*Proto_141495).Typ).N);
(*Proto_141495).Info = (*S_141494).Info;
asgnRef((void**) &(*S_141494).Typ, (*Proto_141495).Typ);
S_141494 = Proto_141495;
asgnRefNoCycle((void**) &(*N_141490).KindU.S6.Sons->data[1], (*(*Proto_141495).Ast).KindU.S6.Sons->data[1]);
asgnRefNoCycle((void**) &(*N_141490).KindU.S6.Sons->data[2], (*(*Proto_141495).Ast).KindU.S6.Sons->data[2]);
if (!!(((*(*N_141490).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA43;
Internalerror_43159((*N_141490).Info, ((NimStringDesc*) &TMP192183));
LA43: ;
asgnRef((void**) &(*(*N_141490).KindU.S6.Sons->data[0]).KindU.S4.Sym, Proto_141495);
asgnRefNoCycle((void**) &(*Proto_141495).Ast, N_141490);
Popowner_103097();
Pushowner_103094(S_141494);
LA20: ;
(*S_141494).Options = Goptions_41077;
if (!!(((*(*N_141490).KindU.S6.Sons->data[4]).Kind == ((NU8) 1)))) goto LA46;
if (!(((*S_141494).Flags &(1<<((((NU8) 29))&31)))!=0)) goto LA49;
Localerror_43144((*(*N_141490).KindU.S6.Sons->data[4]).Info, ((NU8) 133), (*(*S_141494).Name).S);
LA49: ;
if (!((*(*N_141490).KindU.S6.Sons->data[1]).Kind == ((NU8) 1))) goto LA52;
asgnRefNoCycle((void**) &(*C_141489).P, Newproccon_103050(S_141494));
LOC55 = !(((*(*S_141494).Typ).Sons->data[0] == NIM_NIL));
if (!(LOC55)) goto LA56;
LOC55 = !((Kind_141491 == ((NU8) 12)));
LA56: ;
if (!LOC55) goto LA57;
Addresult_122157(C_141489, (*(*S_141494).Typ).Sons->data[0], (*N_141490).Info);
LA57: ;
if (!!((((*S_141494).Flags &(1<<((((NU8) 7))&31)))!=0))) goto LA60;
asgnRefNoCycle((void**) &(*N_141490).KindU.S6.Sons->data[4], Semstmtscope_122104(C_141489, (*N_141490).KindU.S6.Sons->data[4]));
LA60: ;
LOC63 = !(((*(*S_141494).Typ).Sons->data[0] == NIM_NIL));
if (!(LOC63)) goto LA64;
LOC63 = !((Kind_141491 == ((NU8) 12)));
LA64: ;
if (!LOC63) goto LA65;
Addresultnode_122162(C_141489, N_141490);
LA65: ;
goto LA51;
LA52: ;
LOC68 = !(((*(*S_141494).Typ).Sons->data[0] == NIM_NIL));
if (!(LOC68)) goto LA69;
LOC68 = !((Kind_141491 == ((NU8) 12)));
LA69: ;
if (!LOC68) goto LA70;
LOC72 = 0;
LOC72 = Getident_49016(((NimStringDesc*) &TMP192131));
LOC73 = 0;
LOC73 = Newsym_50702(((NU8) 0), LOC72, NIM_NIL);
Adddecl_104114(C_141489, LOC73);
LA70: ;
asgnRefNoCycle((void**) &(*N_141490).KindU.S6.Sons->data[4], Semgenericstmtscope_136055(C_141489, (*N_141490).KindU.S6.Sons->data[4], 0));
LA51: ;
if (!(((*S_141494).Flags &(1<<((((NU8) 7))&31)))!=0)) goto LA75;
asgnRefNoCycle((void**) &(*N_141490).KindU.S6.Sons->data[4], Emptynode_50858);
LA75: ;
goto LA45;
LA46: ;
if (!!((Proto_141495 == NIM_NIL))) goto LA78;
Localerror_43144((*N_141490).Info, ((NU8) 134), (*(*Proto_141495).Name).S);
LA78: ;
if (!((536871040 & (*S_141494).Flags) == 0)) goto LA81;
(*S_141494).Flags |=(1<<((NI32)(((NU8) 6))%(sizeof(NI32)*8)));
goto LA80;
LA81: ;
if (!(((*S_141494).Flags &(1<<((((NU8) 29))&31)))!=0)) goto LA83;
Semborrow_141201(C_141489, N_141490, S_141494);
goto LA80;
LA83: ;
LA80: ;
LA45: ;
Sideeffectscheck_141230(C_141489, S_141494);
Closescope_104018(&(*C_141489).Tab);
Popowner_103097();
asgnRefNoCycle((void**) &(*C_141489).P, Oldp_141557);
return Result_141493;
}
N_NIMCALL(TY50526*, Semiterator_142235)(TY103012* C_142237, TY50526* N_142238) {
TY50526* Result_142239;
TY50548* S_142264;
TY50552* T_142265;
Result_142239 = 0;
Result_142239 = Semprocaux_141487(C_142237, N_142238, ((NU8) 12), TMP192184);
S_142264 = 0;
S_142264 = (*(*Result_142239).KindU.S6.Sons->data[0]).KindU.S4.Sym;
T_142265 = 0;
T_142265 = (*S_142264).Typ;
if (!((*T_142265).Sons->data[0] == NIM_NIL)) goto LA2;
Localerror_43144((*N_142238).Info, ((NU8) 175), ((NimStringDesc*) &TMP192185));
LA2: ;
if (!((*(*N_142238).KindU.S6.Sons->data[4]).Kind == ((NU8) 1))) goto LA5;
Localerror_43144((*N_142238).Info, ((NU8) 134), (*(*S_142264).Name).S);
LA5: ;
return Result_142239;
}
N_NIMCALL(TY50526*, Semproc_142298)(TY103012* C_142300, TY50526* N_142301) {
TY50526* Result_142302;
Result_142302 = 0;
Result_142302 = Semprocaux_141487(C_142300, N_142301, ((NU8) 10), TMP192186);
return Result_142302;
}
N_NIMCALL(NIM_BOOL, Istoplevel_122053)(TY103012* C_122055) {
NIM_BOOL Result_122056;
Result_122056 = 0;
Result_122056 = (((NI) ((*C_122055).Tab.Tos)) <= 2);
return Result_122056;
}
N_NIMCALL(TY50526*, Semmethod_142303)(TY103012* C_142305, TY50526* N_142306) {
TY50526* Result_142307;
NIM_BOOL LOC2;
TY50548* S_142332;
TY50552* T_142333;
NIM_BOOL Hasobjparam_142334;
NI Col_142343;
NI HEX3Atmp_142945;
NI LOC5;
NI Res_142947;
TY50552* LOC8;
Result_142307 = 0;
LOC2 = Istoplevel_122053(C_142305);
if (!!(LOC2)) goto LA3;
Localerror_43144((*N_142306).Info, ((NU8) 177), ((NimStringDesc*) &TMP192187));
LA3: ;
Result_142307 = Semprocaux_141487(C_142305, N_142306, ((NU8) 11), TMP192186);
S_142332 = 0;
S_142332 = (*(*Result_142307).KindU.S6.Sons->data[0]).KindU.S4.Sym;
T_142333 = 0;
T_142333 = (*S_142332).Typ;
Hasobjparam_142334 = 0;
Hasobjparam_142334 = NIM_FALSE;
Col_142343 = 0;
HEX3Atmp_142945 = 0;
LOC5 = Sonslen_50807(T_142333);
HEX3Atmp_142945 = (NI32)(LOC5 - 1);
Res_142947 = 0;
Res_142947 = 1;
while (1) {
if (!(Res_142947 <= HEX3Atmp_142945)) goto LA6;
Col_142343 = Res_142947;
LOC8 = 0;
LOC8 = Skiptypes_93087((*T_142333).Sons->data[Col_142343], 14682112);
if (!((*LOC8).Kind == ((NU8) 17))) goto LA9;
Hasobjparam_142334 = NIM_TRUE;
goto LA6;
LA9: ;
Res_142947 += 1;
} LA6: ;
if (!!(Hasobjparam_142334)) goto LA12;
Localerror_43144((*N_142306).Info, ((NU8) 178), ((NimStringDesc*) &TMP192187));
LA12: ;
return Result_142307;
}
N_NIMCALL(TY50526*, Semconverterdef_142353)(TY103012* C_142355, TY50526* N_142356) {
TY50526* Result_142357;
NIM_BOOL LOC2;
TY50548* S_142403;
TY50552* T_142404;
NI LOC12;
Result_142357 = 0;
LOC2 = Istoplevel_122053(C_142355);
if (!!(LOC2)) goto LA3;
Localerror_43144((*N_142356).Info, ((NU8) 177), ((NimStringDesc*) &TMP192188));
LA3: ;
Checksonslen_103407(N_142356, 5);
if (!!(((*(*N_142356).KindU.S6.Sons->data[1]).Kind == ((NU8) 1)))) goto LA6;
Localerror_43144((*N_142356).Info, ((NU8) 152), ((NimStringDesc*) &TMP192188));
LA6: ;
Result_142357 = Semprocaux_141487(C_142355, N_142356, ((NU8) 13), TMP192186);
S_142403 = 0;
S_142403 = (*(*Result_142357).KindU.S6.Sons->data[0]).KindU.S4.Sym;
T_142404 = 0;
T_142404 = (*S_142403).Typ;
if (!((*T_142404).Sons->data[0] == NIM_NIL)) goto LA9;
Localerror_43144((*N_142356).Info, ((NU8) 175), ((NimStringDesc*) &TMP192188));
LA9: ;
LOC12 = Sonslen_50807(T_142404);
if (!!((LOC12 == 2))) goto LA13;
Localerror_43144((*N_142356).Info, ((NU8) 201), ((NimStringDesc*) &TMP192188));
LA13: ;
Addconverter_103058(C_142355, S_142403);
return Result_142357;
}
N_NIMCALL(TY50526*, Semmacrodef_142418)(TY103012* C_142420, TY50526* N_142421) {
TY50526* Result_142422;
TY50548* S_142468;
TY50552* T_142469;
NI LOC8;
Result_142422 = 0;
Checksonslen_103407(N_142421, 5);
if (!!(((*(*N_142421).KindU.S6.Sons->data[1]).Kind == ((NU8) 1)))) goto LA2;
Localerror_43144((*N_142421).Info, ((NU8) 152), ((NimStringDesc*) &TMP192189));
LA2: ;
Result_142422 = Semprocaux_141487(C_142420, N_142421, ((NU8) 14), TMP192190);
S_142468 = 0;
S_142468 = (*(*Result_142422).KindU.S6.Sons->data[0]).KindU.S4.Sym;
T_142469 = 0;
T_142469 = (*S_142468).Typ;
if (!((*T_142469).Sons->data[0] == NIM_NIL)) goto LA5;
Localerror_43144((*N_142421).Info, ((NU8) 175), ((NimStringDesc*) &TMP192189));
LA5: ;
LOC8 = Sonslen_50807(T_142469);
if (!!((LOC8 == 2))) goto LA9;
Localerror_43144((*N_142421).Info, ((NU8) 201), ((NimStringDesc*) &TMP192189));
LA9: ;
if (!((*(*N_142421).KindU.S6.Sons->data[4]).Kind == ((NU8) 1))) goto LA12;
Localerror_43144((*N_142421).Info, ((NU8) 134), (*(*S_142468).Name).S);
LA12: ;
return Result_142422;
}
N_NIMCALL(TY50526*, Resolvetemplateparams_122582)(TY103012* C_122584, TY50526* N_122585, NIM_BOOL Withinbind_122586, TY50895* Tobind_122588) {
TY50526* Result_122589;
TY50548* S_122590;
NIM_BOOL LOC2;
NIM_BOOL LOC4;
TY50548* LOC10;
NI I_122658;
NI HEX3Atmp_123032;
NI LOC11;
NI Res_123034;
Result_122589 = 0;
S_122590 = 0;
switch ((*N_122585).Kind) {
case ((NU8) 2):
LOC2 = !(Withinbind_122586);
if (!(LOC2)) goto LA3;
LOC4 = Intsetcontains_50905((*Tobind_122588), (*(*N_122585).KindU.S5.Ident).Sup.Id);
LOC2 = !(LOC4);
LA3: ;
if (!LOC2) goto LA5;
S_122590 = Symtablocalget_55115((*C_122584).Tab, (*N_122585).KindU.S5.Ident);
if (!!((S_122590 == NIM_NIL))) goto LA8;
Result_122589 = Newsymnode_50735(S_122590);
(*Result_122589).Info = (*N_122585).Info;
goto LA7;
LA8: ;
Result_122589 = N_122585;
LA7: ;
goto LA1;
LA5: ;
Intsetincl_50909(Tobind_122588, (*(*N_122585).KindU.S5.Ident).Sup.Id);
LOC10 = 0;
LOC10 = Lookup_104245(C_122584, N_122585);
Result_122589 = Symchoice_122533(C_122584, N_122585, LOC10);
LA1: ;
break;
case ((NU8) 1):
case ((NU8) 3) ... ((NU8) 18):
Result_122589 = N_122585;
break;
case ((NU8) 45):
Result_122589 = Resolvetemplateparams_122582(C_122584, (*N_122585).KindU.S6.Sons->data[0], NIM_TRUE, Tobind_122588);
break;
default:
Result_122589 = N_122585;
I_122658 = 0;
HEX3Atmp_123032 = 0;
LOC11 = Sonslen_50804(N_122585);
HEX3Atmp_123032 = (NI32)(LOC11 - 1);
Res_123034 = 0;
Res_123034 = 0;
while (1) {
if (!(Res_123034 <= HEX3Atmp_123032)) goto LA12;
I_122658 = Res_123034;
asgnRefNoCycle((void**) &(*Result_122589).KindU.S6.Sons->data[I_122658], Resolvetemplateparams_122582(C_122584, (*N_122585).KindU.S6.Sons->data[I_122658], Withinbind_122586, Tobind_122588));
Res_123034 += 1;
} LA12: ;
break;
}
return Result_122589;
}
N_NIMCALL(TY50526*, Transformtoexpr_122683)(TY50526* N_122685) {
TY50526* Result_122686;
NI Realstmt_122687;
NI I_122696;
NI HEX3Atmp_123035;
NI LOC1;
NI Res_123037;
Result_122686 = 0;
Realstmt_122687 = 0;
Result_122686 = N_122685;
switch ((*N_122685).Kind) {
case ((NU8) 101):
Realstmt_122687 = -1;
I_122696 = 0;
HEX3Atmp_123035 = 0;
LOC1 = Sonslen_50804(N_122685);
HEX3Atmp_123035 = (NI32)(LOC1 - 1);
Res_123037 = 0;
Res_123037 = 0;
while (1) {
if (!(Res_123037 <= HEX3Atmp_123035)) goto LA2;
I_122696 = Res_123037;
switch ((*(*N_122685).KindU.S6.Sons->data[I_122696]).Kind) {
case ((NU8) 105):
case ((NU8) 1):
case ((NU8) 18):
break;
default:
if (!(Realstmt_122687 == -1)) goto LA4;
Realstmt_122687 = I_122696;
goto LA3;
LA4: ;
Realstmt_122687 = -2;
LA3: ;
break;
}
Res_123037 += 1;
} LA2: ;
if (!(0 <= Realstmt_122687)) goto LA7;
Result_122686 = Transformtoexpr_122683((*N_122685).KindU.S6.Sons->data[Realstmt_122687]);
goto LA6;
LA7: ;
(*N_122685).Kind = ((NU8) 106);
LA6: ;
break;
case ((NU8) 99):
(*N_122685).Kind = ((NU8) 107);
break;
default:
break;
}
return Result_122686;
}
N_NIMCALL(TY50526*, Semtemplatedef_122725)(TY103012* C_122727, TY50526* N_122728) {
TY50526* Result_122729;
TY50548* S_122730;
TY50895 Tobind_122731;
TY50552* LOC16;
TY50526* LOC17;
Result_122729 = 0;
S_122730 = 0;
memset((void*)&Tobind_122731, 0, sizeof(Tobind_122731));
if (!((*(*(*C_122727).P).Owner).Kind == ((NU8) 6))) goto LA2;
S_122730 = Semidentvis_122092(C_122727, ((NU8) 15), (*N_122728).KindU.S6.Sons->data[0], 2);
(*S_122730).Flags |=(1<<((NI32)(((NU8) 5))%(sizeof(NI32)*8)));
goto LA1;
LA2: ;
S_122730 = Semidentvis_122092(C_122727, ((NU8) 15), (*N_122728).KindU.S6.Sons->data[0], 0);
LA1: ;
if (!(((*S_122730).Flags &(1<<((((NU8) 1))&31)))!=0)) goto LA5;
(*S_122730).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
LA5: ;
Pushowner_103094(S_122730);
Openscope_55141(&(*C_122727).Tab);
asgnRefNoCycle((void**) &(*N_122728).KindU.S6.Sons->data[0], Newsymnode_50735(S_122730));
if (!!(((*(*N_122728).KindU.S6.Sons->data[3]).Kind == ((NU8) 1)))) goto LA8;
Localerror_43144((*N_122728).Info, ((NU8) 151), ((NimStringDesc*) &TMP192191));
LA8: ;
if (!!(((*(*N_122728).KindU.S6.Sons->data[1]).Kind == ((NU8) 1)))) goto LA11;
Localerror_43144((*N_122728).Info, ((NU8) 152), ((NimStringDesc*) &TMP192191));
LA11: ;
if (!((*(*N_122728).KindU.S6.Sons->data[2]).Kind == ((NU8) 1))) goto LA14;
asgnRef((void**) &(*S_122730).Typ, Newtypes_103077(((NU8) 25), C_122727));
asgnRefNoCycle((void**) &(*(*S_122730).Typ).N, Newnodei_50738(((NU8) 66), (*N_122728).Info));
LOC16 = 0;
LOC16 = Newtypes_103077(((NU8) 7), C_122727);
Addson_50828((*S_122730).Typ, LOC16);
LOC17 = 0;
LOC17 = Newnodeit_50742(((NU8) 4), (*N_122728).Info, (*(*S_122730).Typ).Sons->data[0]);
Addson_50824((*(*S_122730).Typ).N, LOC17);
goto LA13;
LA14: ;
Semparamlist_122147(C_122727, (*N_122728).KindU.S6.Sons->data[2], NIM_NIL, S_122730);
if (!((*(*(*N_122728).KindU.S6.Sons->data[2]).KindU.S6.Sons->data[0]).Kind == ((NU8) 1))) goto LA19;
asgnRef((void**) &(*(*S_122730).Typ).Sons->data[0], Newtypes_103077(((NU8) 7), C_122727));
asgnRefNoCycle((void**) &(*(*(*S_122730).Typ).N).KindU.S6.Sons->data[0], Newnodeit_50742(((NU8) 4), (*N_122728).Info, (*(*S_122730).Typ).Sons->data[0]));
LA19: ;
LA13: ;
Addparams_122153(C_122727, (*(*S_122730).Typ).N);
Intsetinit_50919(&Tobind_122731);
asgnRefNoCycle((void**) &(*N_122728).KindU.S6.Sons->data[4], Resolvetemplateparams_122582(C_122727, (*N_122728).KindU.S6.Sons->data[4], NIM_FALSE, &Tobind_122731));
if (!!(((*(*(*S_122730).Typ).Sons->data[0]).Kind == ((NU8) 7) || (*(*(*S_122730).Typ).Sons->data[0]).Kind == ((NU8) 8)))) goto LA22;
asgnRefNoCycle((void**) &(*N_122728).KindU.S6.Sons->data[4], Transformtoexpr_122683((*N_122728).KindU.S6.Sons->data[4]));
LA22: ;
Closescope_104018(&(*C_122727).Tab);
Popowner_103097();
asgnRefNoCycle((void**) &(*S_122730).Ast, N_122728);
Result_122729 = N_122728;
if (!((*(*N_122728).KindU.S6.Sons->data[4]).Kind == ((NU8) 1))) goto LA25;
Localerror_43144((*N_122728).Info, ((NU8) 134), (*(*S_122730).Name).S);
LA25: ;
Addinterfacedecl_104236(C_122727, S_122730);
return Result_122729;
}
N_NIMCALL(TY50526*, Evalinclude_142504)(TY103012* C_142506, TY50526* N_142507) {
TY50526* Result_142508;
NI I_142517;
NI HEX3Atmp_142948;
NI LOC1;
NI Res_142950;
NimStringDesc* F_142530;
NI Fileindex_142531;
NIM_BOOL LOC4;
TY50526* LOC7;
TY50526* LOC8;
Result_142508 = 0;
Result_142508 = Newnodei_50738(((NU8) 101), (*N_142507).Info);
Addson_50824(Result_142508, N_142507);
I_142517 = 0;
HEX3Atmp_142948 = 0;
LOC1 = Sonslen_50804(N_142507);
HEX3Atmp_142948 = (NI32)(LOC1 - 1);
Res_142950 = 0;
Res_142950 = 0;
while (1) {
if (!(Res_142950 <= HEX3Atmp_142948)) goto LA2;
I_142517 = Res_142950;
F_142530 = 0;
F_142530 = Getmodulefile_106013((*N_142507).KindU.S6.Sons->data[I_142517]);
Fileindex_142531 = 0;
Fileindex_142531 = Includefilename_42660(F_142530);
LOC4 = Intsetcontainsorincl_50923(&(*C_142506).Includedfiles, Fileindex_142531);
if (!LOC4) goto LA5;
Globalerror_43139((*N_142507).Info, ((NU8) 23), F_142530);
LA5: ;
LOC7 = 0;
LOC7 = Gincludefile_101048(F_142530);
LOC8 = 0;
LOC8 = Semstmt_122143(C_142506, LOC7);
Addson_50824(Result_142508, LOC8);
Intsetexcl_50914(&(*C_142506).Includedfiles, Fileindex_142531);
Res_142950 += 1;
} LA2: ;
return Result_142508;
}
N_NIMCALL(TY50526*, Semstmt_122143)(TY103012* C_122145, TY50526* N_122146) {
TY50526* Result_142538;
NI Length_142561;
NI I_142570;
NI HEX3Atmp_142955;
NI Res_142957;
NI J_142626;
NI HEX3Atmp_142951;
NI HEX3Atmp_142952;
NI Res_142954;
NIM_BOOL LOC13;
NIM_BOOL LOC17;
NIM_BOOL LOC21;
TY50526* LOC27;
Result_142538 = 0;
Result_142538 = N_122146;
if (!(Gcmd_41084 == ((NU8) 14))) goto LA2;
Suggeststmt_121110(C_122145, N_122146);
LA2: ;
if (!(((*N_122146).Flags &(1<<((((NU8) 6))&7)))!=0)) goto LA5;
goto BeforeRet;
LA5: ;
switch ((*N_122146).Kind) {
case ((NU8) 63):
Result_142538 = Semasgn_138618(C_122145, N_122146);
break;
case ((NU8) 21):
case ((NU8) 27):
case ((NU8) 28):
case ((NU8) 29):
case ((NU8) 20):
case ((NU8) 79):
case ((NU8) 22):
Result_142538 = Semcommand_137773(C_122145, N_122146);
break;
case ((NU8) 1):
case ((NU8) 105):
case ((NU8) 18):
break;
case ((NU8) 99):
Result_142538 = Semblock_138181(C_122145, N_122146);
break;
case ((NU8) 101):
Length_142561 = 0;
Length_142561 = Sonslen_50804(N_122146);
I_142570 = 0;
HEX3Atmp_142955 = 0;
HEX3Atmp_142955 = (NI32)(Length_142561 - 1);
Res_142957 = 0;
Res_142957 = 0;
while (1) {
if (!(Res_142957 <= HEX3Atmp_142955)) goto LA7;
I_142570 = Res_142957;
asgnRefNoCycle((void**) &(*N_122146).KindU.S6.Sons->data[I_142570], Semstmt_122143(C_122145, (*N_122146).KindU.S6.Sons->data[I_142570]));
if (!((*(*N_122146).KindU.S6.Sons->data[I_142570]).Kind == ((NU8) 95) || (*(*N_122146).KindU.S6.Sons->data[I_142570]).Kind == ((NU8) 96) || (*(*N_122146).KindU.S6.Sons->data[I_142570]).Kind == ((NU8) 97) || (*(*N_122146).KindU.S6.Sons->data[I_142570]).Kind == ((NU8) 98))) goto LA9;
J_142626 = 0;
HEX3Atmp_142951 = 0;
HEX3Atmp_142952 = 0;
HEX3Atmp_142951 = (NI32)(I_142570 + 1);
HEX3Atmp_142952 = (NI32)(Length_142561 - 1);
Res_142954 = 0;
Res_142954 = HEX3Atmp_142951;
while (1) {
if (!(Res_142954 <= HEX3Atmp_142952)) goto LA11;
J_142626 = Res_142954;
switch ((*(*N_122146).KindU.S6.Sons->data[J_142626]).Kind) {
case ((NU8) 81):
case ((NU8) 105):
case ((NU8) 18):
case ((NU8) 1):
break;
default:
Localerror_43144((*(*N_122146).KindU.S6.Sons->data[J_142626]).Info, ((NU8) 38), ((NimStringDesc*) &TMP191995));
break;
}
Res_142954 += 1;
} LA11: ;
LA9: ;
Res_142957 += 1;
} LA7: ;
break;
case ((NU8) 95):
Result_142538 = Semraise_140043(C_122145, N_122146);
break;
case ((NU8) 87):
Result_142538 = Semvar_139139(C_122145, N_122146);
break;
case ((NU8) 88):
Result_142538 = Semconst_139446(C_122145, N_122146);
break;
case ((NU8) 90):
Result_142538 = Semtypesection_140554(C_122145, N_122146);
break;
case ((NU8) 82):
Result_142538 = Semif_137898(C_122145, N_122146);
break;
case ((NU8) 83):
Result_142538 = Semwhen_137778(C_122145, N_122146);
break;
case ((NU8) 100):
Result_142538 = Semdiscard_138013(C_122145, N_122146);
break;
case ((NU8) 85):
Result_142538 = Semwhile_138302(C_122145, N_122146);
break;
case ((NU8) 93):
Result_142538 = Semtry_140124(C_122145, N_122146);
break;
case ((NU8) 97):
case ((NU8) 98):
Result_142538 = Sembreakorcontinue_138065(C_122145, N_122146);
break;
case ((NU8) 84):
Result_142538 = Semfor_139635(C_122145, N_122146);
break;
case ((NU8) 86):
Result_142538 = Semcase_138407(C_122145, N_122146);
break;
case ((NU8) 96):
Result_142538 = Semreturn_138754(C_122145, N_122146);
break;
case ((NU8) 80):
Result_142538 = Semasm_138282(C_122145, N_122146);
break;
case ((NU8) 92):
Result_142538 = Semyield_138968(C_122145, N_122146);
break;
case ((NU8) 81):
Pragma_118028(C_122145, (*(*C_122145).P).Owner, N_122146, TMP192179);
break;
case ((NU8) 74):
Result_142538 = Semiterator_142235(C_122145, N_122146);
break;
case ((NU8) 69):
Result_142538 = Semproc_142298(C_122145, N_122146);
break;
case ((NU8) 70):
Result_142538 = Semmethod_142303(C_122145, N_122146);
break;
case ((NU8) 71):
Result_142538 = Semconverterdef_142353(C_122145, N_122146);
break;
case ((NU8) 72):
Result_142538 = Semmacrodef_142418(C_122145, N_122146);
break;
case ((NU8) 73):
Result_142538 = Semtemplatedef_122725(C_122145, N_122146);
break;
case ((NU8) 102):
LOC13 = Istoplevel_122053(C_122145);
if (!!(LOC13)) goto LA14;
Localerror_43144((*N_122146).Info, ((NU8) 177), ((NimStringDesc*) &TMP192192));
LA14: ;
Result_142538 = Evalimport_106001(C_122145, N_122146);
break;
case ((NU8) 103):
LOC17 = Istoplevel_122053(C_122145);
if (!!(LOC17)) goto LA18;
Localerror_43144((*N_122146).Info, ((NU8) 177), ((NimStringDesc*) &TMP192198));
LA18: ;
Result_142538 = Evalfrom_106005(C_122145, N_122146);
break;
case ((NU8) 104):
LOC21 = Istoplevel_122053(C_122145);
if (!!(LOC21)) goto LA22;
Localerror_43144((*N_122146).Info, ((NU8) 177), ((NimStringDesc*) &TMP192202));
LA22: ;
Result_142538 = Evalinclude_142504(C_122145, N_122146);
break;
default:
if (!(Gcmd_41084 == ((NU8) 17))) goto LA25;
LOC27 = 0;
LOC27 = Semexpr_122115(C_122145, N_122146, 0);
Result_142538 = Buildechostmt_137721(C_122145, LOC27);
goto LA24;
LA25: ;
Localerror_43144((*N_122146).Info, ((NU8) 39), ((NimStringDesc*) &TMP191995));
Result_142538 = Emptynode_50858;
LA24: ;
break;
}
if (!(Result_142538 == NIM_NIL)) goto LA29;
Internalerror_43159((*N_122146).Info, ((NimStringDesc*) &TMP192203));
LA29: ;
(*Result_142538).Flags |=(1<<((NI8)(((NU8) 6))%(sizeof(NI8)*8)));
BeforeRet: ;
return Result_142538;
}
N_NIMCALL(TY50526*, Semaftermacrocall_122246)(TY103012* C_122248, TY50526* N_122249, TY50548* S_122250) {
TY50526* Result_122251;
NimStringDesc* LOC1;
Result_122251 = 0;
Result_122251 = N_122249;
switch ((*(*(*S_122250).Typ).Sons->data[0]).Kind) {
case ((NU8) 6):
Result_122251 = Semexpr_122115(C_122248, Result_122251, 0);
break;
case ((NU8) 7):
Result_122251 = Semstmt_122143(C_122248, Result_122251);
break;
case ((NU8) 8):
asgnRef((void**) &(*Result_122251).Typ, Semtypenode_122138(C_122248, Result_122251, NIM_NIL));
break;
default:
LOC1 = 0;
LOC1 = Typetostring_93014((*(*S_122250).Typ).Sons->data[0], ((NU8) 0));
Globalerror_43139((*S_122250).Info, ((NU8) 153), LOC1);
break;
}
return Result_122251;
}
N_NIMCALL(TY50526*, Semmacroexpr_123038)(TY103012* C_123040, TY50526* N_123041, TY50548* Sym_123042, NIM_BOOL Semcheck_123043) {
TY50526* Result_123044;
TY111006* P_123061;
TY111004* S_123062;
TY50526* LOC4;
NIM_BOOL LOC6;
Result_123044 = 0;
Evaltemplatecounter_122393 += 1;
if (!(100 < Evaltemplatecounter_122393)) goto LA2;
Globalerror_43139((*N_123041).Info, ((NU8) 179), ((NimStringDesc*) &TMP191995));
LA2: ;
Markused_122065(N_123041, Sym_123042);
P_123061 = 0;
P_123061 = Newevalcontext_111033((*C_123040).Module, ((NimStringDesc*) &TMP191995), NIM_FALSE);
S_123062 = 0;
S_123062 = Newstackframe_111024();
asgnRefNoCycle((void**) &(*S_123062).Call, N_123041);
(*S_123062).Params = (TY50520*) setLengthSeq(&((*S_123062).Params)->Sup, sizeof(TY50526*), 2);
asgnRefNoCycle((void**) &(*S_123062).Params->data[0], Newnodeit_50742(((NU8) 18), (*N_123041).Info, (*(*Sym_123042).Typ).Sons->data[0]));
asgnRefNoCycle((void**) &(*S_123062).Params->data[1], N_123041);
Pushstackframe_111026(P_123061, S_123062);
LOC4 = 0;
LOC4 = Eval_111038(P_123061, (*(*Sym_123042).Ast).KindU.S6.Sons->data[4]);
Result_123044 = (*S_123062).Params->data[0];
Popstackframe_111030(P_123061);
LOC6 = Cyclictree_92043(Result_123044);
if (!LOC6) goto LA7;
Globalerror_43139((*N_123041).Info, ((NU8) 203), ((NimStringDesc*) &TMP191995));
LA7: ;
if (!Semcheck_123043) goto LA10;
Result_123044 = Semaftermacrocall_122246(C_123040, Result_123044, Sym_123042);
LA10: ;
Evaltemplatecounter_122393 -= 1;
return Result_123044;
}
N_NIMCALL(TY50526*, Semsym_130006)(TY103012* C_130008, TY50526* N_130009, TY50548* S_130010, NU8 Flags_130011) {
TY50526* Result_130012;
NIM_BOOL LOC2;
NIM_BOOL LOC7;
NIM_BOOL LOC8;
TY50548* LOC11;
Result_130012 = 0;
LOC2 = ((*S_130010).Kind == ((NU8) 7));
if (!(LOC2)) goto LA3;
LOC2 = !(((Flags_130011 &(1<<((((NU8) 0))&7)))!=0));
LA3: ;
if (!LOC2) goto LA4;
Globalerror_43139((*N_130009).Info, ((NU8) 161), ((NimStringDesc*) &TMP191995));
LA4: ;
switch ((*S_130010).Kind) {
case ((NU8) 10):
case ((NU8) 11):
case ((NU8) 12):
case ((NU8) 13):
LOC8 = !((((*S_130010).Flags &(1<<((((NU8) 20))&31)))!=0));
if (!(LOC8)) goto LA9;
LOC8 = ((*(*S_130010).Typ).Callconv == ((NU8) 0));
LA9: ;
LOC7 = LOC8;
if (!(LOC7)) goto LA10;
LOC11 = 0;
LOC11 = Getmodule_55198(S_130010);
LOC7 = !(((*LOC11).Sup.Id == (*(*C_130008).Module).Sup.Id));
LA10: ;
if (!LOC7) goto LA12;
Localerror_43144((*N_130009).Info, ((NU8) 130), (*(*S_130010).Name).S);
LA12: ;
Result_130012 = Symchoice_122533(C_130008, N_130009, S_130010);
break;
case ((NU8) 8):
Markused_122065(N_130009, S_130010);
if (!((*(*S_130010).Typ).Kind == ((NU8) 5) || (*(*S_130010).Typ).Kind == ((NU8) 2) || (*(*S_130010).Typ).Kind >= ((NU8) 31) && (*(*S_130010).Typ).Kind <= ((NU8) 35) || (*(*S_130010).Typ).Kind >= ((NU8) 36) && (*(*S_130010).Typ).Kind <= ((NU8) 39) || (*(*S_130010).Typ).Kind == ((NU8) 4) || (*(*S_130010).Typ).Kind == ((NU8) 18) || (*(*S_130010).Typ).Kind == ((NU8) 19))) goto LA15;
Result_130012 = Copytree_50852((*S_130010).Ast);
asgnRef((void**) &(*Result_130012).Typ, (*S_130010).Typ);
goto LA14;
LA15: ;
Result_130012 = Newsymnode_50735(S_130010);
LA14: ;
(*Result_130012).Info = (*N_130009).Info;
break;
case ((NU8) 14):
Result_130012 = Semmacroexpr_123038(C_130008, N_130009, S_130010, NIM_TRUE);
break;
case ((NU8) 15):
Result_130012 = Semtemplateexpr_129953(C_130008, N_130009, S_130010, NIM_TRUE);
break;
case ((NU8) 9):
Markused_122065(N_130009, S_130010);
if (!(((*S_130010).Flags &(1<<((((NU8) 5))&31)))!=0)) goto LA18;
(*(*(*C_130008).P).Owner).Flags |=(1<<((NI32)(((NU8) 14))%(sizeof(NI32)*8)));
LA18: ;
Result_130012 = Newsymnode_50735(S_130010);
(*Result_130012).Info = (*N_130009).Info;
break;
case ((NU8) 4):
if (!((*S_130010).Ast == NIM_NIL)) goto LA21;
Internalerror_43159((*N_130009).Info, ((NimStringDesc*) &TMP192204));
LA21: ;
Result_130012 = Semexpr_122115(C_130008, (*S_130010).Ast, 0);
break;
default:
Markused_122065(N_130009, S_130010);
Result_130012 = Newsymnode_50735(S_130010);
(*Result_130012).Info = (*N_130009).Info;
break;
}
return Result_130012;
}
N_NIMCALL(TY50526*, Semfieldaccess_129960)(TY103012* C_129962, TY50526* N_129963, NU8 Flags_129966) {
TY50526* Result_133666;
TY49011* I_133690;
TY50548* F_133691;
TY50526* LOC7;
TY50526* LOC8;
TY50526* LOC9;
Result_133666 = 0;
Result_133666 = Builtinfieldaccess_133293(C_129962, N_129963, Flags_129966);
if (!(Result_133666 == NIM_NIL)) goto LA2;
I_133690 = 0;
I_133690 = Consideracc_122003((*N_129963).KindU.S6.Sons->data[1]);
F_133691 = 0;
F_133691 = Symtabget_55111((*C_129962).Tab, I_133690);
if (!!((F_133691 == NIM_NIL))) goto LA5;
Result_133666 = Newnodei_50738(((NU8) 19), (*N_129963).Info);
LOC7 = 0;
LOC7 = Newidentnode_50731(I_133690, (*N_129963).Info);
Addson_50824(Result_133666, LOC7);
LOC8 = 0;
LOC8 = HEX5BHEX5D_52062(N_129963, 0);
LOC9 = 0;
LOC9 = Copytree_50852(LOC8);
Addson_50824(Result_133666, LOC9);
goto LA4;
LA5: ;
Globalerror_43139((*N_129963).Info, ((NU8) 77), (*I_133690).S);
LA4: ;
LA2: ;
return Result_133666;
}
N_NIMCALL(void, Checkconversionbetweenobjects_130100)(TY42538 Info_130102, TY50552* Castdest_130103, TY50552* Src_130104) {
NI Diff_130105;
NimStringDesc* LOC4;
TY111159 LOC5;
NimStringDesc* LOC6;
Diff_130105 = 0;
Diff_130105 = Inheritancediff_93121(Castdest_130103, Src_130104);
if (!(Diff_130105 == 2147483647)) goto LA2;
LOC4 = 0;
LOC4 = Msgkindtostring_42794(((NU8) 138));
memset((void*)&LOC5, 0, sizeof(LOC5));
LOC5[0] = Typetostring_93014(Src_130104, ((NU8) 0));
LOC5[1] = Typetostring_93014(Castdest_130103, ((NU8) 0));
LOC6 = 0;
LOC6 = nsuFormatOpenArray(LOC4, LOC5, 2);
Globalerror_43139(Info_130102, ((NU8) 4), LOC6);
LA2: ;
}
N_NIMCALL(void, Checkconvertible_130112)(TY42538 Info_130114, TY50552* Castdest_130115, TY50552* Src_130116) {
NIM_BOOL LOC2;
NimStringDesc* LOC8;
TY50552* D_130131;
TY50552* S_130132;
NIM_BOOL LOC10;
NIM_BOOL LOC11;
NimStringDesc* LOC17;
TY111159 LOC18;
NimStringDesc* LOC19;
NIM_BOOL LOC20;
NIM_BOOL LOC24;
TY50552* LOC25;
TY50552* LOC27;
NU8 LOC30;
NIM_BOOL LOC32;
NIM_BOOL LOC33;
NIM_BOOL LOC35;
NimStringDesc* LOC38;
TY111159 LOC39;
NimStringDesc* LOC40;
LOC2 = Sametype_93048(Castdest_130115, Src_130116);
if (!LOC2) goto LA3;
if (!!(((*Castdest_130115).Kind >= ((NU8) 31) && (*Castdest_130115).Kind <= ((NU8) 39) || (*Castdest_130115).Kind == ((NU8) 5)))) goto LA6;
LOC8 = 0;
LOC8 = Typetostring_93014(Castdest_130115, ((NU8) 0));
Message_43149(Info_130114, ((NU8) 228), LOC8);
LA6: ;
goto BeforeRet;
LA3: ;
D_130131 = 0;
D_130131 = Skiptypes_93087(Castdest_130115, 8431616);
S_130132 = 0;
S_130132 = Skiptypes_93087(Src_130116, 8431616);
while (1) {
LOC11 = !((D_130131 == NIM_NIL));
if (!(LOC11)) goto LA12;
LOC11 = ((*D_130131).Kind == ((NU8) 21) || (*D_130131).Kind == ((NU8) 22));
LA12: ;
LOC10 = LOC11;
if (!(LOC10)) goto LA13;
LOC10 = ((*D_130131).Kind == (*S_130132).Kind);
LA13: ;
if (!LOC10) goto LA9;
D_130131 = Base_93021(D_130131);
S_130132 = Base_93021(S_130132);
} LA9: ;
if (!(D_130131 == NIM_NIL)) goto LA15;
LOC17 = 0;
LOC17 = Msgkindtostring_42794(((NU8) 138));
memset((void*)&LOC18, 0, sizeof(LOC18));
LOC18[0] = Typetostring_93014(Src_130116, ((NU8) 0));
LOC18[1] = Typetostring_93014(Castdest_130115, ((NU8) 0));
LOC19 = 0;
LOC19 = nsuFormatOpenArray(LOC17, LOC18, 2);
Globalerror_43139(Info_130114, ((NU8) 4), LOC19);
goto LA14;
LA15: ;
LOC20 = ((*D_130131).Kind == ((NU8) 17));
if (!(LOC20)) goto LA21;
LOC20 = ((*S_130132).Kind == ((NU8) 17));
LA21: ;
if (!LOC20) goto LA22;
Checkconversionbetweenobjects_130100(Info_130114, D_130131, S_130132);
goto LA14;
LA22: ;
LOC25 = 0;
LOC25 = Skiptypes_93087(Castdest_130115, 9480192);
LOC24 = ((*LOC25).Kind == ((NU8) 1) || (*LOC25).Kind == ((NU8) 14) || (*LOC25).Kind == ((NU8) 2) || (*LOC25).Kind >= ((NU8) 31) && (*LOC25).Kind <= ((NU8) 39));
if (!(LOC24)) goto LA26;
LOC27 = 0;
LOC27 = Skiptypes_93087(Src_130116, 9480192);
LOC24 = ((*LOC27).Kind == ((NU8) 1) || (*LOC27).Kind == ((NU8) 14) || (*LOC27).Kind == ((NU8) 2) || (*LOC27).Kind >= ((NU8) 31) && (*LOC27).Kind <= ((NU8) 39));
LA26: ;
if (!LOC24) goto LA28;
goto LA14;
LA28: ;
LOC30 = Cmptypes_125367(D_130131, S_130132);
switch (LOC30) {
case ((NU8) 0):
case ((NU8) 4):
LOC33 = Equalordistinctof_93056(Castdest_130115, Src_130116);
LOC32 = !(LOC33);
if (!(LOC32)) goto LA34;
LOC35 = Equalordistinctof_93056(Src_130116, Castdest_130115);
LOC32 = !(LOC35);
LA34: ;
if (!LOC32) goto LA36;
LOC38 = 0;
LOC38 = Msgkindtostring_42794(((NU8) 138));
memset((void*)&LOC39, 0, sizeof(LOC39));
LOC39[0] = Typetostring_93014(Src_130116, ((NU8) 0));
LOC39[1] = Typetostring_93014(Castdest_130115, ((NU8) 0));
LOC40 = 0;
LOC40 = nsuFormatOpenArray(LOC38, LOC39, 2);
Globalerror_43139(Info_130114, ((NU8) 4), LOC40);
LA36: ;
break;
default:
break;
}
LA14: ;
BeforeRet: ;
}
N_NIMCALL(TY50526*, Semconv_130265)(TY103012* C_130267, TY50526* N_130268, TY50548* S_130269) {
TY50526* Result_130270;
NI LOC2;
TY50526* LOC5;
TY50526* LOC6;
TY50526* Op_130321;
NI I_130339;
NI HEX3Atmp_142747;
NI LOC10;
NI Res_142749;
NIM_BOOL LOC13;
Result_130270 = 0;
LOC2 = Sonslen_50804(N_130268);
if (!!((LOC2 == 2))) goto LA3;
Globalerror_43139((*N_130268).Info, ((NU8) 157), ((NimStringDesc*) &TMP191995));
LA3: ;
Result_130270 = Newnodei_50738(((NU8) 50), (*N_130268).Info);
asgnRef((void**) &(*Result_130270).Typ, Semtypenode_122138(C_130267, (*N_130268).KindU.S6.Sons->data[0], NIM_NIL));
LOC5 = 0;
LOC5 = Copytree_50852((*N_130268).KindU.S6.Sons->data[0]);
Addson_50824(Result_130270, LOC5);
LOC6 = 0;
LOC6 = Semexprwithtype_122122(C_130267, (*N_130268).KindU.S6.Sons->data[1], 0);
Addson_50824(Result_130270, LOC6);
Op_130321 = 0;
Op_130321 = (*Result_130270).KindU.S6.Sons->data[1];
if (!!(((*Op_130321).Kind == ((NU8) 46)))) goto LA8;
Checkconvertible_130112((*Result_130270).Info, (*Result_130270).Typ, (*Op_130321).Typ);
goto LA7;
LA8: ;
I_130339 = 0;
HEX3Atmp_142747 = 0;
LOC10 = Sonslen_50804(Op_130321);
HEX3Atmp_142747 = (NI32)(LOC10 - 1);
Res_142749 = 0;
Res_142749 = 0;
while (1) {
if (!(Res_142749 <= HEX3Atmp_142747)) goto LA11;
I_130339 = Res_142749;
LOC13 = Sametype_93048((*Result_130270).Typ, (*(*Op_130321).KindU.S6.Sons->data[I_130339]).Typ);
if (!LOC13) goto LA14;
Markused_122065(N_130268, (*(*Op_130321).KindU.S6.Sons->data[I_130339]).KindU.S4.Sym);
Result_130270 = (*Op_130321).KindU.S6.Sons->data[I_130339];
goto BeforeRet;
LA14: ;
Res_142749 += 1;
} LA11: ;
Localerror_43144((*N_130268).Info, ((NU8) 59), (*(*(*(*Op_130321).KindU.S6.Sons->data[0]).KindU.S4.Sym).Name).S);
LA7: ;
BeforeRet: ;
return Result_130270;
}
N_NIMCALL(void, Semopaux_130742)(TY103012* C_130744, TY50526* N_130745) {
NI I_130754;
NI HEX3Atmp_142750;
NI LOC1;
NI Res_142752;
TY50526* A_130767;
NIM_BOOL LOC4;
NI LOC6;
TY42538 Info_130791;
TY49011* LOC9;
I_130754 = 0;
HEX3Atmp_142750 = 0;
LOC1 = Sonslen_50804(N_130745);
HEX3Atmp_142750 = (NI32)(LOC1 - 1);
Res_142752 = 0;
Res_142752 = 1;
while (1) {
if (!(Res_142752 <= HEX3Atmp_142750)) goto LA2;
I_130754 = Res_142752;
A_130767 = 0;
A_130767 = (*N_130745).KindU.S6.Sons->data[I_130754];
LOC4 = ((*A_130767).Kind == ((NU8) 23));
if (!(LOC4)) goto LA5;
LOC6 = Sonslen_50804(A_130767);
LOC4 = (LOC6 == 2);
LA5: ;
if (!LOC4) goto LA7;
memset((void*)&Info_130791, 0, sizeof(Info_130791));
Info_130791 = (*(*A_130767).KindU.S6.Sons->data[0]).Info;
LOC9 = 0;
LOC9 = Consideracc_122003((*A_130767).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*A_130767).KindU.S6.Sons->data[0], Newidentnode_50731(LOC9, Info_130791));
asgnRefNoCycle((void**) &(*A_130767).KindU.S6.Sons->data[1], Semexprwithtype_122122(C_130744, (*A_130767).KindU.S6.Sons->data[1], 0));
asgnRef((void**) &(*A_130767).Typ, (*(*A_130767).KindU.S6.Sons->data[1]).Typ);
goto LA3;
LA7: ;
asgnRefNoCycle((void**) &(*N_130745).KindU.S6.Sons->data[I_130754], Semexprwithtype_122122(C_130744, A_130767, 0));
LA3: ;
Res_142752 += 1;
} LA2: ;
}
N_NIMCALL(TY50526*, Overloadedcallopr_130864)(TY103012* C_130866, TY50526* N_130867) {
TY50526* Result_130868;
TY49011* Par_130869;
TY50548* LOC2;
TY50526* LOC5;
NI I_130889;
NI HEX3Atmp_142753;
NI LOC6;
NI Res_142755;
Result_130868 = 0;
Par_130869 = 0;
Par_130869 = Getident_49016(((NimStringDesc*) &TMP192205));
LOC2 = 0;
LOC2 = Symtabget_55111((*C_130866).Tab, Par_130869);
if (!(LOC2 == NIM_NIL)) goto LA3;
Result_130868 = NIM_NIL;
goto LA1;
LA3: ;
Result_130868 = Newnodei_50738(((NU8) 21), (*N_130867).Info);
LOC5 = 0;
LOC5 = Newidentnode_50731(Par_130869, (*N_130867).Info);
Addson_50824(Result_130868, LOC5);
I_130889 = 0;
HEX3Atmp_142753 = 0;
LOC6 = Sonslen_50804(N_130867);
HEX3Atmp_142753 = (NI32)(LOC6 - 1);
Res_142755 = 0;
Res_142755 = 0;
while (1) {
if (!(Res_142755 <= HEX3Atmp_142753)) goto LA7;
I_130889 = Res_142755;
Addson_50824(Result_130868, (*N_130867).KindU.S6.Sons->data[I_130889]);
Res_142755 += 1;
} LA7: ;
Result_130868 = Semexpr_122115(C_130866, Result_130868, 0);
LA1: ;
return Result_130868;
}
N_NIMCALL(NimStringDesc*, Getnotfounderror_124119)(TY103012* C_124121, TY50526* N_124122) {
NimStringDesc* Result_124123;
NI I_124132;
NI HEX3Atmp_126796;
NI LOC1;
NI Res_126798;
NimStringDesc* LOC6;
NimStringDesc* LOC7;
NI LOC9;
NimStringDesc* Candidates_124192;
TY104004 O_124193;
TY50548* Sym_124207;
NimStringDesc* LOC16;
NimStringDesc* LOC20;
NimStringDesc* LOC21;
Result_124123 = 0;
Result_124123 = Msgkindtostring_42794(((NU8) 125));
I_124132 = 0;
HEX3Atmp_126796 = 0;
LOC1 = Sonslen_50804(N_124122);
HEX3Atmp_126796 = (NI32)(LOC1 - 1);
Res_126798 = 0;
Res_126798 = 1;
while (1) {
if (!(Res_126798 <= HEX3Atmp_126796)) goto LA2;
I_124132 = Res_126798;
if (!((*(*N_124122).KindU.S6.Sons->data[I_124132]).Kind == ((NU8) 23))) goto LA4;
LOC6 = 0;
LOC6 = Rendertree_81042((*(*N_124122).KindU.S6.Sons->data[I_124132]).KindU.S6.Sons->data[0], 0);
Result_124123 = resizeString(Result_124123, LOC6->Sup.len + 0);
appendString(Result_124123, LOC6);
Result_124123 = resizeString(Result_124123, 2);
appendString(Result_124123, ((NimStringDesc*) &TMP192206));
LA4: ;
LOC7 = 0;
LOC7 = Typetostring_93014((*(*N_124122).KindU.S6.Sons->data[I_124132]).Typ, ((NU8) 0));
Result_124123 = resizeString(Result_124123, LOC7->Sup.len + 0);
appendString(Result_124123, LOC7);
LOC9 = Sonslen_50804(N_124122);
if (!!((I_124132 == (NI32)(LOC9 - 1)))) goto LA10;
Result_124123 = resizeString(Result_124123, 2);
appendString(Result_124123, ((NimStringDesc*) &TMP192207));
LA10: ;
Res_126798 += 1;
} LA2: ;
Result_124123 = addChar(Result_124123, 41);
Candidates_124192 = 0;
Candidates_124192 = copyString(((NimStringDesc*) &TMP191995));
memset((void*)&O_124193, 0, sizeof(O_124193));
Sym_124207 = 0;
Sym_124207 = Initoverloaditer_104745(&O_124193, C_124121, (*N_124122).KindU.S6.Sons->data[0]);
while (1) {
if (!!((Sym_124207 == NIM_NIL))) goto LA12;
if (!((15360 &(1<<(((*Sym_124207).Kind)&31)))!=0)) goto LA14;
LOC16 = 0;
LOC16 = Getprocheader_93018(Sym_124207);
Candidates_124192 = resizeString(Candidates_124192, LOC16->Sup.len + 0);
appendString(Candidates_124192, LOC16);
Candidates_124192 = resizeString(Candidates_124192, 2);
appendString(Candidates_124192, ((NimStringDesc*) &TMP192208));
LA14: ;
Sym_124207 = Nextoverloaditer_105074(&O_124193, C_124121, (*N_124122).KindU.S6.Sons->data[0]);
} LA12: ;
if (!!(((Candidates_124192) && (Candidates_124192)->Sup.len == 0))) goto LA18;
LOC20 = 0;
LOC21 = 0;
LOC21 = Msgkindtostring_42794(((NU8) 126));
LOC20 = rawNewString(LOC21->Sup.len + Candidates_124192->Sup.len + 4);
appendString(LOC20, ((NimStringDesc*) &TMP192208));
appendString(LOC20, LOC21);
appendString(LOC20, ((NimStringDesc*) &TMP192208));
appendString(LOC20, Candidates_124192);
Result_124123 = resizeString(Result_124123, LOC20->Sup.len + 0);
appendString(Result_124123, LOC20);
LA18: ;
return Result_124123;
}
N_NIMCALL(TY50526*, Semdirectop_132625)(TY103012* C_132627, TY50526* N_132628, NU8 Flags_132629) {
TY50526* Result_132630;
NimStringDesc* LOC7;
Result_132630 = 0;
Semopaux_130742(C_132627, N_132628);
Result_132630 = Semdirectcallanalyseeffects_132162(C_132627, N_132628, Flags_132629);
if (!(Result_132630 == NIM_NIL)) goto LA2;
Result_132630 = Overloadedcallopr_130864(C_132627, N_132628);
if (!(Result_132630 == NIM_NIL)) goto LA5;
LOC7 = 0;
LOC7 = Getnotfounderror_124119(C_132627, N_132628);
Globalerror_43139((*N_132628).Info, ((NU8) 4), LOC7);
LA5: ;
LA2: ;
Fixabstracttype_131289(C_132627, Result_132630);
Analyseifaddresstakenincall_131986(C_132627, Result_132630);
return Result_132630;
}
N_NIMCALL(TY50548*, Lookupfordefined_132717)(TY103012* C_132719, TY50526* N_132720, NIM_BOOL Onlycurrentscope_132721) {
TY50548* Result_132722;
TY50548* M_132759;
NIM_BOOL LOC8;
TY49011* Ident_132825;
NimStringDesc* LOC18;
Result_132722 = 0;
switch ((*N_132720).Kind) {
case ((NU8) 2):
if (!Onlycurrentscope_132721) goto LA2;
Result_132722 = Symtablocalget_55115((*C_132719).Tab, (*N_132720).KindU.S5.Ident);
goto LA1;
LA2: ;
Result_132722 = Symtabget_55111((*C_132719).Tab, (*N_132720).KindU.S5.Ident);
LA1: ;
break;
case ((NU8) 36):
Result_132722 = NIM_NIL;
if (!Onlycurrentscope_132721) goto LA5;
goto BeforeRet;
LA5: ;
Checksonslen_103407(N_132720, 2);
M_132759 = 0;
M_132759 = Lookupfordefined_132717(C_132719, (*N_132720).KindU.S6.Sons->data[0], Onlycurrentscope_132721);
LOC8 = !((M_132759 == NIM_NIL));
if (!(LOC8)) goto LA9;
LOC8 = ((*M_132759).Kind == ((NU8) 6));
LA9: ;
if (!LOC8) goto LA10;
if (!((*(*N_132720).KindU.S6.Sons->data[1]).Kind == ((NU8) 2))) goto LA13;
Ident_132825 = 0;
Ident_132825 = (*(*N_132720).KindU.S6.Sons->data[1]).KindU.S5.Ident;
if (!(M_132759 == (*C_132719).Module)) goto LA16;
Result_132722 = Strtableget_55066(&(*C_132719).Tab.Stack->data[1], Ident_132825);
goto LA15;
LA16: ;
Result_132722 = Strtableget_55066(&(*M_132759).Tab, Ident_132825);
LA15: ;
goto LA12;
LA13: ;
Globalerror_43139((*(*N_132720).KindU.S6.Sons->data[1]).Info, ((NU8) 19), ((NimStringDesc*) &TMP191995));
LA12: ;
LA10: ;
break;
case ((NU8) 43):
Checksonslen_103407(N_132720, 1);
Result_132722 = Lookupfordefined_132717(C_132719, (*N_132720).KindU.S6.Sons->data[0], Onlycurrentscope_132721);
break;
default:
LOC18 = 0;
LOC18 = Rendertree_81042(N_132720, 0);
Globalerror_43139((*N_132720).Info, ((NU8) 19), LOC18);
Result_132722 = NIM_NIL;
break;
}
BeforeRet: ;
return Result_132722;
}
N_NIMCALL(TY50526*, Semdefined_132859)(TY103012* C_132861, TY50526* N_132862, NIM_BOOL Onlycurrentscope_132863) {
TY50526* Result_132864;
TY50548* LOC2;
NIM_BOOL LOC5;
NIM_BOOL LOC6;
Result_132864 = 0;
Checksonslen_103407(N_132862, 2);
Result_132864 = Newintnode_50714(((NU8) 6), 0);
LOC2 = 0;
LOC2 = Lookupfordefined_132717(C_132861, (*N_132862).KindU.S6.Sons->data[1], Onlycurrentscope_132863);
if (!!((LOC2 == NIM_NIL))) goto LA3;
(*Result_132864).KindU.S1.Intval = 1;
goto LA1;
LA3: ;
LOC6 = !(Onlycurrentscope_132863);
if (!(LOC6)) goto LA7;
LOC6 = ((*(*N_132862).KindU.S6.Sons->data[1]).Kind == ((NU8) 2));
LA7: ;
LOC5 = LOC6;
if (!(LOC5)) goto LA8;
LOC5 = Isdefined_59059((*(*N_132862).KindU.S6.Sons->data[1]).KindU.S5.Ident);
LA8: ;
if (!LOC5) goto LA9;
(*Result_132864).KindU.S1.Intval = 1;
goto LA1;
LA9: ;
LA1: ;
(*Result_132864).Info = (*N_132862).Info;
asgnRef((void**) &(*Result_132864).Typ, Getsystype_98008(((NU8) 1)));
return Result_132864;
}
N_NIMCALL(TY50526*, Setms_132957)(TY50526* N_132959, TY50548* S_132960) {
TY50526* Result_132961;
Result_132961 = 0;
Result_132961 = N_132959;
asgnRefNoCycle((void**) &(*N_132959).KindU.S6.Sons->data[0], Newsymnode_50735(S_132960));
(*(*N_132959).KindU.S6.Sons->data[0]).Info = (*N_132959).Info;
return Result_132961;
}
N_NIMCALL(TY50526*, Semlowhigh_130488)(TY103012* C_130490, TY50526* N_130491, NU8 M_130492) {
TY50526* Result_130493;
NI LOC2;
TY50552* Typ_130538;
Result_130493 = 0;
LOC2 = Sonslen_50804(N_130491);
if (!!((LOC2 == 2))) goto LA3;
Globalerror_43139((*N_130491).Info, ((NU8) 66), Optostr_130494[(M_130492)-3]);
goto LA1;
LA3: ;
asgnRefNoCycle((void**) &(*N_130491).KindU.S6.Sons->data[1], Semexprwithtype_122122(C_130490, (*N_130491).KindU.S6.Sons->data[1], 1));
Typ_130538 = 0;
Typ_130538 = Skiptypes_93087((*(*N_130491).KindU.S6.Sons->data[1]).Typ, 9480192);
switch ((*Typ_130538).Kind) {
case ((NU8) 24):
case ((NU8) 28):
case ((NU8) 27):
asgnRef((void**) &(*N_130491).Typ, Getsystype_98008(((NU8) 31)));
break;
case ((NU8) 4):
case ((NU8) 16):
asgnRef((void**) &(*N_130491).Typ, (*(*(*N_130491).KindU.S6.Sons->data[1]).Typ).Sons->data[0]);
break;
case ((NU8) 31) ... ((NU8) 35):
case ((NU8) 2):
case ((NU8) 1):
case ((NU8) 14):
asgnRef((void**) &(*N_130491).Typ, (*(*N_130491).KindU.S6.Sons->data[1]).Typ);
break;
default:
Globalerror_43139((*N_130491).Info, ((NU8) 64), Optostr_130494[(M_130492)-3]);
break;
}
LA1: ;
Result_130493 = N_130491;
return Result_130493;
}
N_NIMCALL(TY50526*, Semsizeof_130563)(TY103012* C_130565, TY50526* N_130566) {
TY50526* Result_130567;
NI LOC2;
Result_130567 = 0;
LOC2 = Sonslen_50804(N_130566);
if (!!((LOC2 == 2))) goto LA3;
Globalerror_43139((*N_130566).Info, ((NU8) 66), ((NimStringDesc*) &TMP192211));
goto LA1;
LA3: ;
asgnRefNoCycle((void**) &(*N_130566).KindU.S6.Sons->data[1], Semexprwithtype_122122(C_130565, (*N_130566).KindU.S6.Sons->data[1], 1));
LA1: ;
asgnRef((void**) &(*N_130566).Typ, Getsystype_98008(((NU8) 31)));
Result_130567 = N_130566;
return Result_130567;
}
N_NIMCALL(TY50526*, Semis_130595)(TY103012* C_130597, TY50526* N_130598) {
TY50526* Result_130599;
NI LOC2;
TY50552* A_130664;
TY50552* B_130677;
NIM_BOOL LOC6;
NIM_BOOL LOC11;
NIM_BOOL LOC16;
NimStringDesc* LOC21;
Result_130599 = 0;
LOC2 = Sonslen_50804(N_130598);
if (!(LOC2 == 3)) goto LA3;
asgnRefNoCycle((void**) &(*N_130598).KindU.S6.Sons->data[1], Semexprwithtype_122122(C_130597, (*N_130598).KindU.S6.Sons->data[1], 1));
asgnRefNoCycle((void**) &(*N_130598).KindU.S6.Sons->data[2], Semexprwithtype_122122(C_130597, (*N_130598).KindU.S6.Sons->data[2], 1));
A_130664 = 0;
A_130664 = (*(*N_130598).KindU.S6.Sons->data[1]).Typ;
B_130677 = 0;
B_130677 = (*(*N_130598).KindU.S6.Sons->data[2]).Typ;
LOC6 = !((A_130664 == NIM_NIL));
if (!(LOC6)) goto LA7;
LOC6 = !((B_130677 == NIM_NIL));
LA7: ;
if (!LOC6) goto LA8;
LOC11 = !(((*B_130677).Kind == ((NU8) 17)));
if (LOC11) goto LA12;
LOC11 = !(((*A_130664).Kind == ((NU8) 17)));
LA12: ;
if (!LOC11) goto LA13;
Globalerror_43139((*N_130598).Info, ((NU8) 193), ((NimStringDesc*) &TMP191995));
LA13: ;
while (1) {
LOC16 = !((B_130677 == NIM_NIL));
if (!(LOC16)) goto LA17;
LOC16 = !(((*B_130677).Sup.Id == (*A_130664).Sup.Id));
LA17: ;
if (!LOC16) goto LA15;
B_130677 = (*B_130677).Sons->data[0];
} LA15: ;
if (!(B_130677 == NIM_NIL)) goto LA19;
LOC21 = 0;
LOC21 = Typetostring_93014(A_130664, ((NU8) 0));
Globalerror_43139((*N_130598).Info, ((NU8) 194), LOC21);
LA19: ;
LA8: ;
asgnRef((void**) &(*N_130598).Typ, Getsystype_98008(((NU8) 1)));
goto LA1;
LA3: ;
Globalerror_43139((*N_130598).Info, ((NU8) 192), ((NimStringDesc*) &TMP191995));
LA1: ;
Result_130599 = N_130598;
return Result_130599;
}
N_NIMCALL(TY50526*, Semecho_132678)(TY103012* C_132680, TY50526* N_132681) {
TY50526* Result_132682;
NI I_132691;
NI HEX3Atmp_142783;
NI LOC1;
NI Res_142785;
TY50526* Arg_132704;
TY50526* LOC3;
Result_132682 = 0;
Checkminsonslen_103413(N_132681, 1);
I_132691 = 0;
HEX3Atmp_142783 = 0;
LOC1 = Sonslen_50804(N_132681);
HEX3Atmp_142783 = (NI32)(LOC1 - 1);
Res_142785 = 0;
Res_142785 = 1;
while (1) {
if (!(Res_142785 <= HEX3Atmp_142783)) goto LA2;
I_132691 = Res_142785;
Arg_132704 = 0;
Arg_132704 = Semexprwithtype_122122(C_132680, (*N_132681).KindU.S6.Sons->data[I_132691], 0);
LOC3 = 0;
LOC3 = Buildstringify_132653(C_132680, Arg_132704);
asgnRefNoCycle((void**) &(*N_132681).KindU.S6.Sons->data[I_132691], Semexpr_122115(C_132680, LOC3, 0));
Res_142785 += 1;
} LA2: ;
Result_132682 = N_132681;
return Result_132682;
}
N_NIMCALL(TY50526*, Semmagic_132986)(TY103012* C_132988, TY50526* N_132989, TY50548* S_132990, NU8 Flags_132991) {
TY50526* Result_132992;
TY50526* LOC1;
TY50526* LOC2;
TY50526* LOC3;
TY50526* LOC4;
TY50526* LOC5;
TY50526* LOC6;
TY50526* LOC7;
Result_132992 = 0;
Result_132992 = N_132989;
switch ((*S_132990).Magic) {
case ((NU8) 1):
LOC1 = 0;
LOC1 = Setms_132957(N_132989, S_132990);
Result_132992 = Semdefined_132859(C_132988, LOC1, NIM_FALSE);
break;
case ((NU8) 2):
LOC2 = 0;
LOC2 = Setms_132957(N_132989, S_132990);
Result_132992 = Semdefined_132859(C_132988, LOC2, NIM_TRUE);
break;
case ((NU8) 3):
LOC3 = 0;
LOC3 = Setms_132957(N_132989, S_132990);
Result_132992 = Semlowhigh_130488(C_132988, LOC3, ((NU8) 3));
break;
case ((NU8) 4):
LOC4 = 0;
LOC4 = Setms_132957(N_132989, S_132990);
Result_132992 = Semlowhigh_130488(C_132988, LOC4, ((NU8) 4));
break;
case ((NU8) 5):
LOC5 = 0;
LOC5 = Setms_132957(N_132989, S_132990);
Result_132992 = Semsizeof_130563(C_132988, LOC5);
break;
case ((NU8) 6):
LOC6 = 0;
LOC6 = Setms_132957(N_132989, S_132990);
Result_132992 = Semis_130595(C_132988, LOC6);
break;
case ((NU8) 7):
LOC7 = 0;
LOC7 = Setms_132957(N_132989, S_132990);
Result_132992 = Semecho_132678(C_132988, LOC7);
break;
default:
Result_132992 = Semdirectop_132625(C_132988, N_132989, Flags_132991);
break;
}
return Result_132992;
}
N_NIMCALL(TY50526*, Semindirectop_132307)(TY103012* C_132309, TY50526* N_132310, NU8 Flags_132311) {
TY50526* Result_132312;
TY50526* Prc_132325;
NI I_132424;
NI HEX3Atmp_142777;
NI LOC7;
NI Res_142779;
TY50552* T_132461;
NIM_BOOL LOC13;
TY123969 M_132517;
NimStringDesc* Msg_132529;
NI I_132538;
NI HEX3Atmp_142780;
NI LOC20;
NI Res_142782;
NimStringDesc* LOC25;
NimStringDesc* LOC26;
NimStringDesc* LOC27;
NimStringDesc* LOC28;
NimStringDesc* LOC38;
Result_132312 = 0;
Result_132312 = NIM_NIL;
Prc_132325 = 0;
Prc_132325 = (*N_132310).KindU.S6.Sons->data[0];
Checkminsonslen_103413(N_132310, 1);
if (!((*(*N_132310).KindU.S6.Sons->data[0]).Kind == ((NU8) 36))) goto LA2;
Checksonslen_103407((*N_132310).KindU.S6.Sons->data[0], 2);
asgnRefNoCycle((void**) &(*N_132310).KindU.S6.Sons->data[0], Semfieldaccess_129960(C_132309, (*N_132310).KindU.S6.Sons->data[0], 0));
if (!((*(*N_132310).KindU.S6.Sons->data[0]).Kind == ((NU8) 19))) goto LA5;
Result_132312 = (*N_132310).KindU.S6.Sons->data[0];
(*Result_132312).Kind = ((NU8) 21);
I_132424 = 0;
HEX3Atmp_142777 = 0;
LOC7 = Sonslen_50804(N_132310);
HEX3Atmp_142777 = (NI32)(LOC7 - 1);
Res_142779 = 0;
Res_142779 = 1;
while (1) {
if (!(Res_142779 <= HEX3Atmp_142777)) goto LA8;
I_132424 = Res_142779;
Addson_50824(Result_132312, (*N_132310).KindU.S6.Sons->data[I_132424]);
Res_142779 += 1;
} LA8: ;
Result_132312 = Semexpr_122115(C_132309, Result_132312, Flags_132311);
goto BeforeRet;
LA5: ;
goto LA1;
LA2: ;
asgnRefNoCycle((void**) &(*N_132310).KindU.S6.Sons->data[0], Semexpr_122115(C_132309, (*N_132310).KindU.S6.Sons->data[0], 0));
LA1: ;
Semopaux_130742(C_132309, N_132310);
T_132461 = 0;
T_132461 = NIM_NIL;
if (!!(((*(*N_132310).KindU.S6.Sons->data[0]).Typ == NIM_NIL))) goto LA10;
T_132461 = Skiptypes_93087((*(*N_132310).KindU.S6.Sons->data[0]).Typ, 43008);
LA10: ;
LOC13 = !((T_132461 == NIM_NIL));
if (!(LOC13)) goto LA14;
LOC13 = ((*T_132461).Kind == ((NU8) 25));
LA14: ;
if (!LOC13) goto LA15;
memset((void*)&M_132517, 0, sizeof(M_132517));
Initcandidate_123997(&M_132517, T_132461);
Matches_125874(C_132309, N_132310, &M_132517);
if (!!((M_132517.State == ((NU8) 1)))) goto LA18;
Msg_132529 = 0;
Msg_132529 = Msgkindtostring_42794(((NU8) 125));
I_132538 = 0;
HEX3Atmp_142780 = 0;
LOC20 = Sonslen_50804(N_132310);
HEX3Atmp_142780 = (NI32)(LOC20 - 1);
Res_142782 = 0;
Res_142782 = 1;
while (1) {
if (!(Res_142782 <= HEX3Atmp_142780)) goto LA21;
I_132538 = Res_142782;
if (!(1 < I_132538)) goto LA23;
Msg_132529 = resizeString(Msg_132529, 2);
appendString(Msg_132529, ((NimStringDesc*) &TMP192207));
LA23: ;
LOC25 = 0;
LOC25 = Typetostring_93014((*(*N_132310).KindU.S6.Sons->data[I_132538]).Typ, ((NU8) 0));
Msg_132529 = resizeString(Msg_132529, LOC25->Sup.len + 0);
appendString(Msg_132529, LOC25);
Res_142782 += 1;
} LA21: ;
LOC26 = 0;
LOC27 = 0;
LOC27 = Msgkindtostring_42794(((NU8) 126));
LOC28 = 0;
LOC28 = Typetostring_93014((*(*N_132310).KindU.S6.Sons->data[0]).Typ, ((NU8) 0));
LOC26 = rawNewString(LOC27->Sup.len + LOC28->Sup.len + 5);
appendString(LOC26, ((NimStringDesc*) &TMP192212));
appendString(LOC26, LOC27);
appendString(LOC26, ((NimStringDesc*) &TMP192208));
appendString(LOC26, LOC28);
Msg_132529 = resizeString(Msg_132529, LOC26->Sup.len + 0);
appendString(Msg_132529, LOC26);
Globalerror_43139((*N_132310).Info, ((NU8) 4), Msg_132529);
Result_132312 = NIM_NIL;
goto LA17;
LA18: ;
Result_132312 = M_132517.Call;
LA17: ;
if (!!((((*T_132461).Flags &(1<<((((NU8) 1))&7)))!=0))) goto LA30;
(*(*(*C_132309).P).Owner).Flags |=(1<<((NI32)(((NU8) 14))%(sizeof(NI32)*8)));
LA30: ;
goto LA12;
LA15: ;
Result_132312 = Overloadedcallopr_130864(C_132309, N_132310);
if (!(Result_132312 == NIM_NIL)) goto LA33;
asgnRefNoCycle((void**) &(*N_132310).KindU.S6.Sons->data[0], Prc_132325);
Result_132312 = Semdirectcallanalyseeffects_132162(C_132309, N_132310, Flags_132311);
LA33: ;
if (!(Result_132312 == NIM_NIL)) goto LA36;
LOC38 = 0;
LOC38 = Rendertree_81042(N_132310, 4);
Globalerror_43139((*N_132310).Info, ((NU8) 85), LOC38);
LA36: ;
LA12: ;
Fixabstracttype_131289(C_132309, Result_132312);
Analyseifaddresstakenincall_131986(C_132309, Result_132312);
BeforeRet: ;
return Result_132312;
}
N_NIMCALL(TY50526*, Explictgenericinstantiation_126696)(TY103012* C_126698, TY50526* N_126699, TY50548* S_126700) {
TY50526* Result_126701;
NI I_126719;
NI HEX3Atmp_126823;
NI LOC1;
NI Res_126825;
TY123969 X_126765;
TY50548* Newinst_126767;
Result_126701 = 0;
I_126719 = 0;
HEX3Atmp_126823 = 0;
LOC1 = Sonslen_50804(N_126699);
HEX3Atmp_126823 = (NI32)(LOC1 - 1);
Res_126825 = 0;
Res_126825 = 1;
while (1) {
if (!(Res_126825 <= HEX3Atmp_126823)) goto LA2;
I_126719 = Res_126825;
asgnRef((void**) &(*(*N_126699).KindU.S6.Sons->data[I_126719]).Typ, Semtypenode_122138(C_126698, (*N_126699).KindU.S6.Sons->data[I_126719], NIM_NIL));
Res_126825 += 1;
} LA2: ;
memset((void*)&X_126765, 0, sizeof(X_126765));
Initcandidate_124003(&X_126765, S_126700, N_126699);
Newinst_126767 = 0;
Newinst_126767 = Generateinstance_123099(C_126698, S_126700, X_126765.Bindings, (*N_126699).Info);
Markused_122065(N_126699, S_126700);
Result_126701 = Newsymnode_50735(Newinst_126767);
(*Result_126701).Info = (*N_126699).Info;
return Result_126701;
}
N_NIMCALL(TY50526*, Semarrayaccess_134118)(TY103012* C_134120, TY50526* N_134121, NU8 Flags_134122) {
TY50526* Result_134123;
TY50526* LOC4;
Result_134123 = 0;
Result_134123 = Semsubscript_133845(C_134120, N_134121, Flags_134122);
if (!(Result_134123 == NIM_NIL)) goto LA2;
LOC4 = 0;
LOC4 = Buildoverloadedsubscripts_133802(N_134121, NIM_FALSE);
Result_134123 = Semexpr_122115(C_134120, LOC4, 0);
LA2: ;
return Result_134123;
}
N_NIMCALL(NU8, Checkpar_134708)(TY50526* N_134710) {
NU8 Result_134711;
NI Length_134712;
NI I_134746;
NI HEX3Atmp_142813;
NI Res_142815;
NIM_BOOL LOC14;
Result_134711 = 0;
Length_134712 = 0;
Length_134712 = Sonslen_50804(N_134710);
if (!(Length_134712 == 0)) goto LA2;
Result_134711 = ((NU8) 3);
goto LA1;
LA2: ;
if (!(Length_134712 == 1)) goto LA4;
Result_134711 = ((NU8) 1);
goto LA1;
LA4: ;
if (!((*(*N_134710).KindU.S6.Sons->data[0]).Kind == ((NU8) 24))) goto LA7;
Result_134711 = ((NU8) 2);
goto LA6;
LA7: ;
Result_134711 = ((NU8) 3);
LA6: ;
I_134746 = 0;
HEX3Atmp_142813 = 0;
HEX3Atmp_142813 = (NI32)(Length_134712 - 1);
Res_142815 = 0;
Res_142815 = 0;
while (1) {
if (!(Res_142815 <= HEX3Atmp_142813)) goto LA9;
I_134746 = Res_142815;
if (!(Result_134711 == ((NU8) 2))) goto LA11;
LOC14 = !(((*(*N_134710).KindU.S6.Sons->data[I_134746]).Kind == ((NU8) 24)));
if (LOC14) goto LA15;
LOC14 = !(((*(*(*N_134710).KindU.S6.Sons->data[I_134746]).KindU.S6.Sons->data[0]).Kind == ((NU8) 3) || (*(*(*N_134710).KindU.S6.Sons->data[I_134746]).KindU.S6.Sons->data[0]).Kind == ((NU8) 2)));
LA15: ;
if (!LOC14) goto LA16;
Globalerror_43139((*(*N_134710).KindU.S6.Sons->data[I_134746]).Info, ((NU8) 167), ((NimStringDesc*) &TMP191995));
Result_134711 = ((NU8) 0);
goto BeforeRet;
LA16: ;
goto LA10;
LA11: ;
if (!((*(*N_134710).KindU.S6.Sons->data[I_134746]).Kind == ((NU8) 24))) goto LA19;
Globalerror_43139((*(*N_134710).KindU.S6.Sons->data[I_134746]).Info, ((NU8) 168), ((NimStringDesc*) &TMP191995));
Result_134711 = ((NU8) 0);
goto BeforeRet;
LA19: ;
LA10: ;
Res_142815 += 1;
} LA9: ;
LA1: ;
BeforeRet: ;
return Result_134711;
}
N_NIMCALL(TY50526*, Semtuplepositionsconstr_135196)(TY103012* C_135198, TY50526* N_135199) {
TY50526* Result_135200;
TY50552* Typ_135201;
NI I_135210;
NI HEX3Atmp_142819;
NI LOC1;
NI Res_142821;
Result_135200 = 0;
Result_135200 = N_135199;
Typ_135201 = 0;
Typ_135201 = Newtypes_103077(((NU8) 18), C_135198);
I_135210 = 0;
HEX3Atmp_142819 = 0;
LOC1 = Sonslen_50804(N_135199);
HEX3Atmp_142819 = (NI32)(LOC1 - 1);
Res_142821 = 0;
Res_142821 = 0;
while (1) {
if (!(Res_142821 <= HEX3Atmp_142819)) goto LA2;
I_135210 = Res_142821;
asgnRefNoCycle((void**) &(*N_135199).KindU.S6.Sons->data[I_135210], Semexprwithtype_122122(C_135198, (*N_135199).KindU.S6.Sons->data[I_135210], 0));
Addson_50828(Typ_135201, (*(*N_135199).KindU.S6.Sons->data[I_135210]).Typ);
Res_142821 += 1;
} LA2: ;
asgnRef((void**) &(*Result_135200).Typ, Typ_135201);
return Result_135200;
}
N_NIMCALL(TY50526*, Semtuplefieldsconstr_134858)(TY103012* C_134860, TY50526* N_134861) {
TY50526* Result_134862;
TY50895 Ids_134863;
TY50552* Typ_134864;
NI I_134874;
NI HEX3Atmp_142816;
NI LOC1;
NI Res_142818;
NIM_BOOL LOC4;
TY49011* Id_134944;
NIM_BOOL LOC12;
TY50548* F_135135;
TY50526* LOC15;
Result_134862 = 0;
memset((void*)&Ids_134863, 0, sizeof(Ids_134863));
Result_134862 = Newnodei_50738(((NU8) 30), (*N_134861).Info);
Typ_134864 = 0;
Typ_134864 = Newtypes_103077(((NU8) 18), C_134860);
asgnRefNoCycle((void**) &(*Typ_134864).N, Newnodei_50738(((NU8) 113), (*N_134861).Info));
Intsetinit_50919(&Ids_134863);
I_134874 = 0;
HEX3Atmp_142816 = 0;
LOC1 = Sonslen_50804(N_134861);
HEX3Atmp_142816 = (NI32)(LOC1 - 1);
Res_142818 = 0;
Res_142818 = 0;
while (1) {
if (!(Res_142818 <= HEX3Atmp_142816)) goto LA2;
I_134874 = Res_142818;
LOC4 = !(((*(*N_134861).KindU.S6.Sons->data[I_134874]).Kind == ((NU8) 24)));
if (LOC4) goto LA5;
LOC4 = !(((*(*(*N_134861).KindU.S6.Sons->data[I_134874]).KindU.S6.Sons->data[0]).Kind == ((NU8) 3) || (*(*(*N_134861).KindU.S6.Sons->data[I_134874]).KindU.S6.Sons->data[0]).Kind == ((NU8) 2)));
LA5: ;
if (!LOC4) goto LA6;
Illformedast_103403((*N_134861).KindU.S6.Sons->data[I_134874]);
LA6: ;
Id_134944 = 0;
if (!((*(*(*N_134861).KindU.S6.Sons->data[I_134874]).KindU.S6.Sons->data[0]).Kind == ((NU8) 2))) goto LA9;
Id_134944 = (*(*(*N_134861).KindU.S6.Sons->data[I_134874]).KindU.S6.Sons->data[0]).KindU.S5.Ident;
goto LA8;
LA9: ;
Id_134944 = (*(*(*(*N_134861).KindU.S6.Sons->data[I_134874]).KindU.S6.Sons->data[0]).KindU.S4.Sym).Name;
LA8: ;
LOC12 = Intsetcontainsorincl_50923(&Ids_134863, (*Id_134944).Sup.Id);
if (!LOC12) goto LA13;
Localerror_43144((*(*N_134861).KindU.S6.Sons->data[I_134874]).Info, ((NU8) 83), (*Id_134944).S);
LA13: ;
asgnRefNoCycle((void**) &(*(*N_134861).KindU.S6.Sons->data[I_134874]).KindU.S6.Sons->data[1], Semexprwithtype_122122(C_134860, (*(*N_134861).KindU.S6.Sons->data[I_134874]).KindU.S6.Sons->data[1], 0));
F_135135 = 0;
F_135135 = Newsyms_122059(((NU8) 16), (*(*N_134861).KindU.S6.Sons->data[I_134874]).KindU.S6.Sons->data[0], C_134860);
asgnRef((void**) &(*F_135135).Typ, (*(*(*N_134861).KindU.S6.Sons->data[I_134874]).KindU.S6.Sons->data[1]).Typ);
Addson_50828(Typ_134864, (*F_135135).Typ);
LOC15 = 0;
LOC15 = Newsymnode_50735(F_135135);
Addson_50824((*Typ_134864).N, LOC15);
asgnRefNoCycle((void**) &(*(*N_134861).KindU.S6.Sons->data[I_134874]).KindU.S6.Sons->data[0], Newsymnode_50735(F_135135));
Addson_50824(Result_134862, (*N_134861).KindU.S6.Sons->data[I_134874]);
Res_142818 += 1;
} LA2: ;
asgnRef((void**) &(*Result_134862).Typ, Typ_134864);
return Result_134862;
}
N_NIMCALL(TY50526*, Semsetconstr_134329)(TY103012* C_134331, TY50526* N_134332) {
TY50526* Result_134333;
NI LOC2;
TY50552* LOC5;
TY50552* Typ_134336;
NI I_134345;
NI HEX3Atmp_142807;
NI LOC6;
NI Res_142809;
NIM_BOOL LOC18;
NI64 LOC22;
NI I_134607;
NI HEX3Atmp_142810;
NI LOC25;
NI Res_142812;
TY50526* M_134608;
TY50526* LOC30;
TY50526* LOC31;
Result_134333 = 0;
Result_134333 = Newnodei_50738(((NU8) 31), (*N_134332).Info);
asgnRef((void**) &(*Result_134333).Typ, Newtypes_103077(((NU8) 19), C_134331));
LOC2 = Sonslen_50804(N_134332);
if (!(LOC2 == 0)) goto LA3;
LOC5 = 0;
LOC5 = Newtypes_103077(((NU8) 3), C_134331);
Addson_50828((*Result_134333).Typ, LOC5);
goto LA1;
LA3: ;
Typ_134336 = 0;
Typ_134336 = NIM_NIL;
I_134345 = 0;
HEX3Atmp_142807 = 0;
LOC6 = Sonslen_50804(N_134332);
HEX3Atmp_142807 = (NI32)(LOC6 - 1);
Res_142809 = 0;
Res_142809 = 0;
while (1) {
if (!(Res_142809 <= HEX3Atmp_142807)) goto LA7;
I_134345 = Res_142809;
if (!((*(*N_134332).KindU.S6.Sons->data[I_134345]).Kind == ((NU8) 35))) goto LA9;
Checksonslen_103407((*N_134332).KindU.S6.Sons->data[I_134345], 2);
asgnRefNoCycle((void**) &(*(*N_134332).KindU.S6.Sons->data[I_134345]).KindU.S6.Sons->data[0], Semexprwithtype_122122(C_134331, (*(*N_134332).KindU.S6.Sons->data[I_134345]).KindU.S6.Sons->data[0], 0));
asgnRefNoCycle((void**) &(*(*N_134332).KindU.S6.Sons->data[I_134345]).KindU.S6.Sons->data[1], Semexprwithtype_122122(C_134331, (*(*N_134332).KindU.S6.Sons->data[I_134345]).KindU.S6.Sons->data[1], 0));
if (!(Typ_134336 == NIM_NIL)) goto LA12;
Typ_134336 = Skiptypes_93087((*(*(*N_134332).KindU.S6.Sons->data[I_134345]).KindU.S6.Sons->data[0]).Typ, 8423424);
LA12: ;
asgnRef((void**) &(*(*N_134332).KindU.S6.Sons->data[I_134345]).Typ, (*(*(*N_134332).KindU.S6.Sons->data[I_134345]).KindU.S6.Sons->data[1]).Typ);
goto LA8;
LA9: ;
asgnRefNoCycle((void**) &(*N_134332).KindU.S6.Sons->data[I_134345], Semexprwithtype_122122(C_134331, (*N_134332).KindU.S6.Sons->data[I_134345], 0));
if (!(Typ_134336 == NIM_NIL)) goto LA15;
Typ_134336 = Skiptypes_93087((*(*N_134332).KindU.S6.Sons->data[I_134345]).Typ, 8423424);
LA15: ;
LA8: ;
Res_142809 += 1;
} LA7: ;
LOC18 = Isordinaltype_93069(Typ_134336);
if (!!(LOC18)) goto LA19;
Globalerror_43139((*N_134332).Info, ((NU8) 71), ((NimStringDesc*) &TMP191995));
goto BeforeRet;
LA19: ;
LOC22 = Lengthord_93007(Typ_134336);
if (!(65536 < LOC22)) goto LA23;
Typ_134336 = Makerangetype_103086(C_134331, 0, 65535, (*N_134332).Info);
LA23: ;
Addson_50828((*Result_134333).Typ, Typ_134336);
I_134607 = 0;
HEX3Atmp_142810 = 0;
LOC25 = Sonslen_50804(N_134332);
HEX3Atmp_142810 = (NI32)(LOC25 - 1);
Res_142812 = 0;
Res_142812 = 0;
while (1) {
if (!(Res_142812 <= HEX3Atmp_142810)) goto LA26;
I_134607 = Res_142812;
M_134608 = 0;
if (!((*(*N_134332).KindU.S6.Sons->data[I_134607]).Kind == ((NU8) 35))) goto LA28;
M_134608 = Newnodei_50738(((NU8) 35), (*(*N_134332).KindU.S6.Sons->data[I_134607]).Info);
LOC30 = 0;
LOC30 = Fitnode_122129(C_134331, Typ_134336, (*(*N_134332).KindU.S6.Sons->data[I_134607]).KindU.S6.Sons->data[0]);
Addson_50824(M_134608, LOC30);
LOC31 = 0;
LOC31 = Fitnode_122129(C_134331, Typ_134336, (*(*N_134332).KindU.S6.Sons->data[I_134607]).KindU.S6.Sons->data[1]);
Addson_50824(M_134608, LOC31);
goto LA27;
LA28: ;
M_134608 = Fitnode_122129(C_134331, Typ_134336, (*N_134332).KindU.S6.Sons->data[I_134607]);
LA27: ;
Addson_50824(Result_134333, M_134608);
Res_142812 += 1;
} LA26: ;
LA1: ;
BeforeRet: ;
return Result_134333;
}
N_NIMCALL(TY50526*, Semlambda_122134)(TY103012* C_122136, TY50526* N_122137) {
TY50526* Result_141315;
TY50548* S_141316;
TY49011* LOC1;
TY50548* LOC2;
TY103006* Oldp_141317;
Result_141315 = 0;
Result_141315 = N_122137;
Checksonslen_103407(N_122137, 5);
S_141316 = 0;
LOC1 = 0;
LOC1 = Getident_49016(((NimStringDesc*) &TMP192214));
LOC2 = 0;
LOC2 = Getcurrowner_103092();
S_141316 = Newsym_50702(((NU8) 10), LOC1, LOC2);
(*S_141316).Info = (*N_122137).Info;
Oldp_141317 = 0;
Oldp_141317 = (*C_122136).P;
asgnRefNoCycle((void**) &(*S_141316).Ast, N_122137);
asgnRefNoCycle((void**) &(*N_122137).KindU.S6.Sons->data[0], Newsymnode_50735(S_141316));
Pushowner_103094(S_141316);
Openscope_55141(&(*C_122136).Tab);
if (!!(((*(*N_122137).KindU.S6.Sons->data[1]).Kind == ((NU8) 1)))) goto LA4;
Illformedast_103403(N_122137);
LA4: ;
if (!!(((*(*N_122137).KindU.S6.Sons->data[2]).Kind == ((NU8) 1)))) goto LA7;
Semparamlist_122147(C_122136, (*N_122137).KindU.S6.Sons->data[2], NIM_NIL, S_141316);
Addparams_122153(C_122136, (*(*S_141316).Typ).N);
goto LA6;
LA7: ;
asgnRef((void**) &(*S_141316).Typ, Newtypes_103077(((NU8) 25), C_122136));
Addson_50828((*S_141316).Typ, NIM_NIL);
LA6: ;
(*(*S_141316).Typ).Callconv = ((NU8) 8);
if (!!(((*(*N_122137).KindU.S6.Sons->data[3]).Kind == ((NU8) 1)))) goto LA10;
Pragma_118028(C_122136, S_141316, (*N_122137).KindU.S6.Sons->data[3], TMP192215);
LA10: ;
(*S_141316).Options = Goptions_41077;
if (!!(((*(*N_122137).KindU.S6.Sons->data[4]).Kind == ((NU8) 1)))) goto LA13;
if (!(((*S_141316).Flags &(1<<((((NU8) 7))&31)))!=0)) goto LA16;
Localerror_43144((*(*N_122137).KindU.S6.Sons->data[4]).Info, ((NU8) 133), (*(*S_141316).Name).S);
LA16: ;
asgnRefNoCycle((void**) &(*C_122136).P, Newproccon_103050(S_141316));
Addresult_122157(C_122136, (*(*S_141316).Typ).Sons->data[0], (*N_122137).Info);
asgnRefNoCycle((void**) &(*N_122137).KindU.S6.Sons->data[4], Semstmtscope_122104(C_122136, (*N_122137).KindU.S6.Sons->data[4]));
Addresultnode_122162(C_122136, N_122137);
goto LA12;
LA13: ;
Localerror_43144((*N_122137).Info, ((NU8) 134), (*(*S_141316).Name).S);
LA12: ;
Closescope_104018(&(*C_122136).Tab);
Popowner_103097();
asgnRefNoCycle((void**) &(*C_122136).P, Oldp_141317);
asgnRef((void**) &(*Result_141315).Typ, (*S_141316).Typ);
return Result_141315;
}
N_NIMCALL(NIM_BOOL, Iscastable_130224)(TY50552* Dst_130226, TY50552* Src_130227) {
NIM_BOOL Result_130228;
NI64 Ds_130229;
NI64 Ss_130230;
NIM_BOOL LOC6;
NIM_BOOL LOC7;
TY50552* LOC9;
TY50552* LOC11;
Result_130228 = 0;
Ds_130229 = 0;
Ss_130230 = 0;
Ds_130229 = Computesize_93112(Dst_130226);
Ss_130230 = Computesize_93112(Src_130227);
if (!(Ds_130229 < 0)) goto LA2;
Result_130228 = NIM_FALSE;
goto LA1;
LA2: ;
if (!(Ss_130230 < 0)) goto LA4;
Result_130228 = NIM_FALSE;
goto LA1;
LA4: ;
LOC7 = (Ss_130230 <= Ds_130229);
if (LOC7) goto LA8;
LOC9 = 0;
LOC9 = Skiptypes_93087(Dst_130226, 43008);
LOC7 = ((*LOC9).Kind >= ((NU8) 31) && (*LOC9).Kind <= ((NU8) 39));
LA8: ;
LOC6 = LOC7;
if (LOC6) goto LA10;
LOC11 = 0;
LOC11 = Skiptypes_93087(Src_130227, 43008);
LOC6 = ((*LOC11).Kind >= ((NU8) 31) && (*LOC11).Kind <= ((NU8) 39));
LA10: ;
Result_130228 = LOC6;
LA1: ;
return Result_130228;
}
N_NIMCALL(TY50526*, Semcast_130412)(TY103012* C_130414, TY50526* N_130415) {
TY50526* Result_130416;
TY50526* LOC4;
TY50526* LOC5;
NIM_BOOL LOC7;
NimStringDesc* LOC10;
Result_130416 = 0;
if (!((Gglobaloptions_41079 &(1<<((((NU8) 8))&31)))!=0)) goto LA2;
Localerror_43144((*N_130415).Info, ((NU8) 88), ((NimStringDesc*) &TMP191995));
LA2: ;
(*(*(*C_130414).P).Owner).Flags |=(1<<((NI32)(((NU8) 14))%(sizeof(NI32)*8)));
Checksonslen_103407(N_130415, 2);
Result_130416 = Newnodei_50738(((NU8) 51), (*N_130415).Info);
asgnRef((void**) &(*Result_130416).Typ, Semtypenode_122138(C_130414, (*N_130415).KindU.S6.Sons->data[0], NIM_NIL));
LOC4 = 0;
LOC4 = Copytree_50852((*N_130415).KindU.S6.Sons->data[0]);
Addson_50824(Result_130416, LOC4);
LOC5 = 0;
LOC5 = Semexprwithtype_122122(C_130414, (*N_130415).KindU.S6.Sons->data[1], 0);
Addson_50824(Result_130416, LOC5);
LOC7 = Iscastable_130224((*Result_130416).Typ, (*(*Result_130416).KindU.S6.Sons->data[1]).Typ);
if (!!(LOC7)) goto LA8;
LOC10 = 0;
LOC10 = Typetostring_93014((*Result_130416).Typ, ((NU8) 0));
Globalerror_43139((*Result_130416).Info, ((NU8) 89), LOC10);
LA8: ;
return Result_130416;
}
N_NIMCALL(TY50526*, Semifexpr_134135)(TY103012* C_134137, TY50526* N_134138) {
TY50526* Result_134139;
TY50552* Typ_134140;
NI I_134149;
NI HEX3Atmp_142804;
NI LOC1;
NI Res_142806;
TY50526* It_134162;
Result_134139 = 0;
Result_134139 = N_134138;
Checkminsonslen_103413(N_134138, 2);
Typ_134140 = 0;
Typ_134140 = NIM_NIL;
I_134149 = 0;
HEX3Atmp_142804 = 0;
LOC1 = Sonslen_50804(N_134138);
HEX3Atmp_142804 = (NI32)(LOC1 - 1);
Res_142806 = 0;
Res_142806 = 0;
while (1) {
if (!(Res_142806 <= HEX3Atmp_142804)) goto LA2;
I_134149 = Res_142806;
It_134162 = 0;
It_134162 = (*N_134138).KindU.S6.Sons->data[I_134149];
switch ((*It_134162).Kind) {
case ((NU8) 40):
Checksonslen_103407(It_134162, 2);
asgnRefNoCycle((void**) &(*It_134162).KindU.S6.Sons->data[0], Semexprwithtype_122122(C_134137, (*It_134162).KindU.S6.Sons->data[0], 0));
Checkbool_126826((*It_134162).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*It_134162).KindU.S6.Sons->data[1], Semexprwithtype_122122(C_134137, (*It_134162).KindU.S6.Sons->data[1], 0));
if (!(Typ_134140 == NIM_NIL)) goto LA4;
Typ_134140 = (*(*It_134162).KindU.S6.Sons->data[1]).Typ;
goto LA3;
LA4: ;
asgnRefNoCycle((void**) &(*It_134162).KindU.S6.Sons->data[1], Fitnode_122129(C_134137, Typ_134140, (*It_134162).KindU.S6.Sons->data[1]));
LA3: ;
break;
case ((NU8) 41):
Checksonslen_103407(It_134162, 1);
asgnRefNoCycle((void**) &(*It_134162).KindU.S6.Sons->data[0], Semexprwithtype_122122(C_134137, (*It_134162).KindU.S6.Sons->data[0], 0));
if (!(Typ_134140 == NIM_NIL)) goto LA7;
Internalerror_43159((*It_134162).Info, ((NimStringDesc*) &TMP192217));
LA7: ;
asgnRefNoCycle((void**) &(*It_134162).KindU.S6.Sons->data[0], Fitnode_122129(C_134137, Typ_134140, (*It_134162).KindU.S6.Sons->data[0]));
break;
default:
Illformedast_103403(N_134138);
break;
}
Res_142806 += 1;
} LA2: ;
asgnRef((void**) &(*Result_134139).Typ, Typ_134140);
return Result_134139;
}
N_NIMCALL(TY50526*, Semstmtlistexpr_135247)(TY103012* C_135249, TY50526* N_135250) {
TY50526* Result_135251;
NI Length_135252;
NI I_135261;
NI HEX3Atmp_142822;
NI Res_142824;
Result_135251 = 0;
Result_135251 = N_135250;
Checkminsonslen_103413(N_135250, 1);
Length_135252 = 0;
Length_135252 = Sonslen_50804(N_135250);
I_135261 = 0;
HEX3Atmp_142822 = 0;
HEX3Atmp_142822 = (NI32)(Length_135252 - 2);
Res_142824 = 0;
Res_142824 = 0;
while (1) {
if (!(Res_142824 <= HEX3Atmp_142822)) goto LA1;
I_135261 = Res_142824;
asgnRefNoCycle((void**) &(*N_135250).KindU.S6.Sons->data[I_135261], Semstmt_122143(C_135249, (*N_135250).KindU.S6.Sons->data[I_135261]));
Res_142824 += 1;
} LA1: ;
if (!(0 < Length_135252)) goto LA3;
asgnRefNoCycle((void**) &(*N_135250).KindU.S6.Sons->data[(NI32)(Length_135252 - 1)], Semexprwithtype_122122(C_135249, (*N_135250).KindU.S6.Sons->data[(NI32)(Length_135252 - 1)], 0));
asgnRef((void**) &(*N_135250).Typ, (*(*N_135250).KindU.S6.Sons->data[(NI32)(Length_135252 - 1)]).Typ);
LA3: ;
return Result_135251;
}
N_NIMCALL(TY50526*, Semblockexpr_135326)(TY103012* C_135328, TY50526* N_135329) {
TY50526* Result_135330;
TY50548* LOC4;
Result_135330 = 0;
Result_135330 = N_135329;
(*(*C_135328).P).Nestedblockcounter += 1;
Checksonslen_103407(N_135329, 2);
Openscope_55141(&(*C_135328).Tab);
if (!!(((*(*N_135329).KindU.S6.Sons->data[0]).Kind == ((NU8) 1)))) goto LA2;
LOC4 = 0;
LOC4 = Newsyms_122059(((NU8) 19), (*N_135329).KindU.S6.Sons->data[0], C_135328);
Adddecl_104114(C_135328, LOC4);
LA2: ;
asgnRefNoCycle((void**) &(*N_135329).KindU.S6.Sons->data[1], Semstmtlistexpr_135247(C_135328, (*N_135329).KindU.S6.Sons->data[1]));
asgnRef((void**) &(*N_135329).Typ, (*(*N_135329).KindU.S6.Sons->data[1]).Typ);
Closescope_104018(&(*C_135328).Tab);
(*(*C_135328).P).Nestedblockcounter -= 1;
return Result_135330;
}
N_NIMCALL(TY50526*, Semexpr_122115)(TY103012* C_122117, TY50526* N_122118, NU8 Flags_122121) {
TY50526* Result_135596;
TY50548* S_135617;
TY50548* S_135785;
TY50548* S_135849;
NIM_BOOL LOC55;
NU8 LOC59;
TY50552* T_135922;
NU8 LOC61;
NimStringDesc* LOC64;
NimStringDesc* LOC65;
Result_135596 = 0;
Result_135596 = N_122118;
if (!(Gcmd_41084 == ((NU8) 14))) goto LA2;
Suggestexpr_121068(C_122117, N_122118);
LA2: ;
if (!(((*N_122118).Flags &(1<<((((NU8) 6))&7)))!=0)) goto LA5;
goto BeforeRet;
LA5: ;
switch ((*N_122118).Kind) {
case ((NU8) 2):
S_135617 = 0;
S_135617 = Lookup_104245(C_122117, N_122118);
Result_135596 = Semsym_130006(C_122117, N_122118, S_135617, Flags_122121);
break;
case ((NU8) 3):
Result_135596 = Semsym_130006(C_122117, N_122118, (*N_122118).KindU.S4.Sym, Flags_122121);
break;
case ((NU8) 1):
case ((NU8) 0):
break;
case ((NU8) 18):
asgnRef((void**) &(*Result_135596).Typ, Getsystype_98008(((NU8) 5)));
break;
case ((NU8) 4):
if (!!(((Flags_122121 &(1<<((((NU8) 0))&7)))!=0))) goto LA8;
Globalerror_43139((*N_122118).Info, ((NU8) 161), ((NimStringDesc*) &TMP191995));
LA8: ;
asgnRef((void**) &(*N_122118).Typ, Semtypenode_122138(C_122117, N_122118, NIM_NIL));
break;
case ((NU8) 6):
if (!((*Result_135596).Typ == NIM_NIL)) goto LA11;
asgnRef((void**) &(*Result_135596).Typ, Getsystype_98008(((NU8) 31)));
LA11: ;
break;
case ((NU8) 7):
if (!((*Result_135596).Typ == NIM_NIL)) goto LA14;
asgnRef((void**) &(*Result_135596).Typ, Getsystype_98008(((NU8) 32)));
LA14: ;
break;
case ((NU8) 8):
if (!((*Result_135596).Typ == NIM_NIL)) goto LA17;
asgnRef((void**) &(*Result_135596).Typ, Getsystype_98008(((NU8) 33)));
LA17: ;
break;
case ((NU8) 9):
if (!((*Result_135596).Typ == NIM_NIL)) goto LA20;
asgnRef((void**) &(*Result_135596).Typ, Getsystype_98008(((NU8) 34)));
LA20: ;
break;
case ((NU8) 10):
if (!((*Result_135596).Typ == NIM_NIL)) goto LA23;
asgnRef((void**) &(*Result_135596).Typ, Getsystype_98008(((NU8) 35)));
LA23: ;
break;
case ((NU8) 11):
if (!((*Result_135596).Typ == NIM_NIL)) goto LA26;
asgnRef((void**) &(*Result_135596).Typ, Getsystype_98008(((NU8) 36)));
LA26: ;
break;
case ((NU8) 12):
if (!((*Result_135596).Typ == NIM_NIL)) goto LA29;
asgnRef((void**) &(*Result_135596).Typ, Getsystype_98008(((NU8) 37)));
LA29: ;
break;
case ((NU8) 13):
if (!((*Result_135596).Typ == NIM_NIL)) goto LA32;
asgnRef((void**) &(*Result_135596).Typ, Getsystype_98008(((NU8) 38)));
LA32: ;
break;
case ((NU8) 14) ... ((NU8) 16):
if (!((*Result_135596).Typ == NIM_NIL)) goto LA35;
asgnRef((void**) &(*Result_135596).Typ, Getsystype_98008(((NU8) 28)));
LA35: ;
break;
case ((NU8) 5):
if (!((*Result_135596).Typ == NIM_NIL)) goto LA38;
asgnRef((void**) &(*Result_135596).Typ, Getsystype_98008(((NU8) 2)));
LA38: ;
break;
case ((NU8) 36):
Result_135596 = Semfieldaccess_129960(C_122117, N_122118, Flags_122121);
if (!((*Result_135596).Kind == ((NU8) 19))) goto LA41;
(*Result_135596).Kind = ((NU8) 21);
Result_135596 = Semexpr_122115(C_122117, Result_135596, Flags_122121);
LA41: ;
break;
case ((NU8) 45):
Result_135596 = Semexpr_122115(C_122117, (*N_122118).KindU.S6.Sons->data[0], Flags_122121);
break;
case ((NU8) 21):
case ((NU8) 27):
case ((NU8) 28):
case ((NU8) 29):
case ((NU8) 20):
case ((NU8) 22):
Checkminsonslen_103413(N_122118, 1);
S_135785 = 0;
S_135785 = Qualifiedlookup_104322(C_122117, (*N_122118).KindU.S6.Sons->data[0], 2);
if (!!((S_135785 == NIM_NIL))) goto LA44;
switch ((*S_135785).Kind) {
case ((NU8) 14):
Result_135596 = Semmacroexpr_123038(C_122117, N_122118, S_135785, NIM_TRUE);
break;
case ((NU8) 15):
Result_135596 = Semtemplateexpr_129953(C_122117, N_122118, S_135785, NIM_TRUE);
break;
case ((NU8) 7):
if (!!(((*N_122118).Kind == ((NU8) 21)))) goto LA47;
Globalerror_43139((*N_122118).Info, ((NU8) 150), (*(*S_135785).Name).S);
LA47: ;
Result_135596 = Semconv_130265(C_122117, N_122118, S_135785);
break;
case ((NU8) 10):
case ((NU8) 11):
case ((NU8) 13):
case ((NU8) 12):
if (!((*S_135785).Magic == ((NU8) 0))) goto LA50;
Result_135596 = Semdirectop_132625(C_122117, N_122118, Flags_122121);
goto LA49;
LA50: ;
Result_135596 = Semmagic_132986(C_122117, N_122118, S_135785, Flags_122121);
LA49: ;
break;
default:
Result_135596 = Semindirectop_132307(C_122117, N_122118, Flags_122121);
break;
}
goto LA43;
LA44: ;
if (!((*(*N_122118).KindU.S6.Sons->data[0]).Kind == ((NU8) 46))) goto LA52;
Result_135596 = Semdirectop_132625(C_122117, N_122118, Flags_122121);
goto LA43;
LA52: ;
Result_135596 = Semindirectop_132307(C_122117, N_122118, Flags_122121);
LA43: ;
break;
case ((NU8) 79):
Result_135596 = Semmacrostmt_135442(C_122117, N_122118, NIM_TRUE);
break;
case ((NU8) 33):
Checkminsonslen_103413(N_122118, 1);
S_135849 = 0;
S_135849 = Qualifiedlookup_104322(C_122117, (*N_122118).KindU.S6.Sons->data[0], 2);
LOC55 = !((S_135849 == NIM_NIL));
if (!(LOC55)) goto LA56;
LOC55 = ((15360 &(1<<(((*S_135849).Kind)&31)))!=0);
LA56: ;
if (!LOC55) goto LA57;
Result_135596 = Explictgenericinstantiation_126696(C_122117, N_122118, S_135849);
goto LA54;
LA57: ;
Result_135596 = Semarrayaccess_134118(C_122117, N_122118, Flags_122121);
LA54: ;
break;
case ((NU8) 34):
Internalerror_43159((*N_122118).Info, ((NimStringDesc*) &TMP192213));
break;
case ((NU8) 30):
LOC59 = Checkpar_134708(N_122118);
switch (LOC59) {
case ((NU8) 0):
Result_135596 = NIM_NIL;
break;
case ((NU8) 3):
Result_135596 = Semtuplepositionsconstr_135196(C_122117, N_122118);
break;
case ((NU8) 2):
Result_135596 = Semtuplefieldsconstr_134858(C_122117, N_122118);
break;
case ((NU8) 1):
Result_135596 = Semexpr_122115(C_122117, (*N_122118).KindU.S6.Sons->data[0], 0);
break;
}
break;
case ((NU8) 31):
Result_135596 = Semsetconstr_134329(C_122117, N_122118);
break;
case ((NU8) 32):
Result_135596 = Semarrayconstr_131122(C_122117, N_122118);
break;
case ((NU8) 42):
Result_135596 = Semlambda_122134(C_122117, N_122118);
break;
case ((NU8) 38):
Checksonslen_103407(N_122118, 1);
asgnRefNoCycle((void**) &(*N_122118).KindU.S6.Sons->data[0], Semexprwithtype_122122(C_122117, (*N_122118).KindU.S6.Sons->data[0], 0));
Result_135596 = N_122118;
T_135922 = 0;
T_135922 = Skiptypes_93087((*(*N_122118).KindU.S6.Sons->data[0]).Typ, 8390656);
switch ((*T_135922).Kind) {
case ((NU8) 22):
case ((NU8) 21):
asgnRef((void**) &(*N_122118).Typ, (*T_135922).Sons->data[0]);
break;
default:
Globalerror_43139((*(*N_122118).KindU.S6.Sons->data[0]).Info, ((NU8) 163), ((NimStringDesc*) &TMP191995));
break;
}
Result_135596 = N_122118;
break;
case ((NU8) 52):
Result_135596 = N_122118;
Checksonslen_103407(N_122118, 1);
asgnRefNoCycle((void**) &(*N_122118).KindU.S6.Sons->data[0], Semexprwithtype_122122(C_122117, (*N_122118).KindU.S6.Sons->data[0], 0));
LOC61 = Isassignable_131553((*N_122118).KindU.S6.Sons->data[0]);
if (!!((LOC61 == ((NU8) 1)))) goto LA62;
Globalerror_43139((*N_122118).Info, ((NU8) 122), ((NimStringDesc*) &TMP191995));
LA62: ;
asgnRef((void**) &(*N_122118).Typ, Makeptrtype_103069(C_122117, (*(*N_122118).KindU.S6.Sons->data[0]).Typ));
break;
case ((NU8) 53):
case ((NU8) 54):
Checksonslen_103407(N_122118, 1);
asgnRefNoCycle((void**) &(*N_122118).KindU.S6.Sons->data[0], Semexpr_122115(C_122117, (*N_122118).KindU.S6.Sons->data[0], Flags_122121));
break;
case ((NU8) 51):
Result_135596 = Semcast_130412(C_122117, N_122118);
break;
case ((NU8) 43):
Checksonslen_103407(N_122118, 1);
Result_135596 = Semexpr_122115(C_122117, (*N_122118).KindU.S6.Sons->data[0], 0);
break;
case ((NU8) 39):
Result_135596 = Semifexpr_134135(C_122117, N_122118);
break;
case ((NU8) 106):
Result_135596 = Semstmtlistexpr_135247(C_122117, N_122118);
break;
case ((NU8) 107):
Result_135596 = Semblockexpr_135326(C_122117, N_122118);
break;
case ((NU8) 47):
case ((NU8) 48):
case ((NU8) 50):
case ((NU8) 49):
Checksonslen_103407(N_122118, 2);
break;
case ((NU8) 60):
case ((NU8) 61):
case ((NU8) 62):
case ((NU8) 55):
case ((NU8) 56):
Checksonslen_103407(N_122118, 1);
break;
case ((NU8) 57):
case ((NU8) 58):
case ((NU8) 59):
Checksonslen_103407(N_122118, 3);
break;
case ((NU8) 37):
Checkminsonslen_103413(N_122118, 2);
break;
case ((NU8) 46):
LOC64 = 0;
LOC64 = Rendertree_81042(N_122118, 4);
Globalerror_43139((*N_122118).Info, ((NU8) 69), LOC64);
break;
default:
LOC65 = 0;
LOC65 = Rendertree_81042(N_122118, 4);
Globalerror_43139((*N_122118).Info, ((NU8) 165), LOC65);
break;
}
(*Result_135596).Flags |=(1<<((NI8)(((NU8) 6))%(sizeof(NI8)*8)));
BeforeRet: ;
return Result_135596;
}
N_NIMCALL(TY50526*, Semexprwithtype_122122)(TY103012* C_122124, TY50526* N_122125, NU8 Flags_122128) {
TY50526* Result_129974;
TY50526* D_130004;
NimStringDesc* LOC10;
Result_129974 = 0;
Result_129974 = Semexpr_122115(C_122124, N_122125, Flags_122128);
if (!((*Result_129974).Kind == ((NU8) 1))) goto LA2;
Raiserecoverableerror_42544();
LA2: ;
if (!!(((*Result_129974).Typ == NIM_NIL))) goto LA5;
if (!((*(*Result_129974).Typ).Kind == ((NU8) 23))) goto LA8;
D_130004 = 0;
D_130004 = Newnodeit_50742(((NU8) 54), (*Result_129974).Info, (*(*Result_129974).Typ).Sons->data[0]);
Addson_50824(D_130004, Result_129974);
Result_129974 = D_130004;
LA8: ;
goto LA4;
LA5: ;
LOC10 = 0;
LOC10 = Rendertree_81042(Result_129974, 4);
Globalerror_43139((*N_122125).Info, ((NU8) 87), LOC10);
LA4: ;
return Result_129974;
}
N_NIMCALL(TY50526*, Semconstexpr_122171)(TY103012* C_122173, TY50526* N_122174) {
TY50526* Result_122175;
Result_122175 = 0;
Result_122175 = Semexprwithtype_122122(C_122173, N_122174, 0);
if (!(Result_122175 == NIM_NIL)) goto LA2;
Globalerror_43139((*N_122174).Info, ((NU8) 101), ((NimStringDesc*) &TMP191995));
goto BeforeRet;
LA2: ;
Result_122175 = Getconstexpr_109010((*C_122173).Module, Result_122175);
if (!(Result_122175 == NIM_NIL)) goto LA5;
Globalerror_43139((*N_122174).Info, ((NU8) 101), ((NimStringDesc*) &TMP191995));
LA5: ;
BeforeRet: ;
return Result_122175;
}
N_NIMCALL(TY50526*, Semexprnoflags_143077)(TY103012* C_143079, TY50526* N_143080) {
TY50526* Result_143081;
Result_143081 = 0;
Result_143081 = Semexpr_122115(C_143079, N_143080, 0);
return Result_143081;
}
N_NIMCALL(TY101002*, Myopen_143084)(TY50548* Module_143086, NimStringDesc* Filename_143087) {
TY101002* Result_143088;
TY103012* C_143089;
Result_143088 = 0;
C_143089 = 0;
C_143089 = Newcontext_103046(Module_143086, Filename_143087);
if (!!(((*C_143089).P == NIM_NIL))) goto LA2;
Internalerror_43159((*Module_143086).Info, ((NimStringDesc*) &TMP191934));
LA2: ;
(*C_143089).Semconstexpr = Semconstexpr_122171;
(*C_143089).Semexpr = Semexprnoflags_143077;
asgnRefNoCycle((void**) &(*C_143089).P, Newproccon_103050(Module_143086));
Pushowner_103094((*C_143089).Module);
Openscope_55141(&(*C_143089).Tab);
Symtabadd_55119(&(*C_143089).Tab, Module_143086);
if (!(((*Module_143086).Flags &(1<<((((NU8) 16))&31)))!=0)) goto LA5;
asgnRef((void**) &Systemmodule_98004, Module_143086);
Initsystem_98017(&(*C_143089).Tab);
goto LA4;
LA5: ;
Symtabadd_55119(&(*C_143089).Tab, Systemmodule_98004);
Importallsymbols_106009(C_143089, Systemmodule_98004);
LA4: ;
Openscope_55141(&(*C_143089).Tab);
Result_143088 = &C_143089->Sup;
return Result_143088;
}
N_NIMCALL(TY101002*, Myopencached_143117)(TY50548* Module_143119, NimStringDesc* Filename_143120, TY89031* Rd_143121) {
TY101002* Result_143122;
TY103012* C_143123;
TY101002* LOC1;
Result_143122 = 0;
C_143123 = 0;
LOC1 = 0;
LOC1 = Myopen_143084(Module_143119, Filename_143120);
C_143123 = ((TY103012*) (LOC1));
(*C_143123).Fromcache = NIM_TRUE;
Result_143122 = &C_143123->Sup;
return Result_143122;
}
N_NIMCALL(void, Addcodeforgenerics_142958)(TY103012* C_142960, TY50526* N_142961) {
NI I_142970;
NI HEX3Atmp_143073;
NI HEX3Atmp_143074;
NI LOC1;
NI Res_143076;
TY50526* It_142995;
TY50548* Prc_143017;
NIM_BOOL LOC7;
NIM_BOOL LOC12;
NimStringDesc* LOC16;
I_142970 = 0;
HEX3Atmp_143073 = 0;
HEX3Atmp_143074 = 0;
HEX3Atmp_143073 = (*C_142960).Lastgenericidx;
LOC1 = Sonslen_50804((*C_142960).Generics);
HEX3Atmp_143074 = (NI32)(LOC1 - 1);
Res_143076 = 0;
Res_143076 = HEX3Atmp_143073;
while (1) {
if (!(Res_143076 <= HEX3Atmp_143074)) goto LA2;
I_142970 = Res_143076;
It_142995 = 0;
It_142995 = (*(*(*C_142960).Generics).KindU.S6.Sons->data[I_142970]).KindU.S6.Sons->data[1];
if (!!(((*It_142995).Kind == ((NU8) 3)))) goto LA4;
Internalerror_43163(((NimStringDesc*) &TMP192219));
LA4: ;
Prc_143017 = 0;
Prc_143017 = (*It_142995).KindU.S4.Sym;
LOC7 = ((11264 &(1<<(((*Prc_143017).Kind)&31)))!=0);
if (!(LOC7)) goto LA8;
LOC7 = ((*Prc_143017).Magic == ((NU8) 0));
LA8: ;
if (!LOC7) goto LA9;
LOC12 = ((*Prc_143017).Ast == NIM_NIL);
if (LOC12) goto LA13;
LOC12 = ((*(*Prc_143017).Ast).KindU.S6.Sons->data[4] == NIM_NIL);
LA13: ;
if (!LOC12) goto LA14;
LOC16 = 0;
LOC16 = rawNewString((*(*Prc_143017).Name).S->Sup.len + 12);
appendString(LOC16, ((NimStringDesc*) &TMP192220));
appendString(LOC16, (*(*Prc_143017).Name).S);
Internalerror_43159((*Prc_143017).Info, LOC16);
LA14: ;
Addson_50824(N_142961, (*Prc_143017).Ast);
LA9: ;
Res_143076 += 1;
} LA2: ;
(*C_142960).Lastgenericidx = Sonslen_50804((*C_142960).Generics);
}
N_NIMCALL(TY50526*, Myclose_143155)(TY101002* Context_143157, TY50526* N_143158) {
TY50526* Result_143159;
TY103012* C_143160;
Result_143159 = 0;
C_143160 = 0;
C_143160 = ((TY103012*) (Context_143157));
Closescope_104018(&(*C_143160).Tab);
Rawclosescope_55145(&(*C_143160).Tab);
if (!(N_143158 == NIM_NIL)) goto LA2;
Result_143159 = Newnode_50711(((NU8) 101));
goto LA1;
LA2: ;
Internalerror_43159((*N_143158).Info, ((NimStringDesc*) &TMP192218));
LA1: ;
Addcodeforgenerics_142958(C_143160, Result_143159);
Popowner_103097();
asgnRefNoCycle((void**) &(*C_143160).P, NIM_NIL);
return Result_143159;
}
N_NIMCALL(TY50526*, Semstmtandgenerategenerics_143124)(TY103012* C_143126, TY50526* N_143127) {
TY50526* Result_143128;
NI LOC2;
TY50526* A_143133;
NI LOC6;
Result_143128 = 0;
Result_143128 = Semstmt_122143(C_143126, N_143127);
LOC2 = Sonslen_50804((*C_143126).Generics);
if (!(0 < LOC2)) goto LA3;
A_143133 = 0;
A_143133 = Newnodei_50738(((NU8) 101), (*N_143127).Info);
Addcodeforgenerics_142958(C_143126, A_143133);
LOC6 = Sonslen_50804(A_143133);
if (!(0 < LOC6)) goto LA7;
if (!!(((*Result_143128).Kind == ((NU8) 1)))) goto LA10;
Addson_50824(A_143133, Result_143128);
LA10: ;
Result_143128 = A_143133;
LA7: ;
LA3: ;
return Result_143128;
}
static N_INLINE(void, pushSafePoint)(TSafePoint* S_5035) {
(*S_5035).prev = excHandler;
excHandler = S_5035;
}
static N_INLINE(void, popSafePoint)(void) {
excHandler = (*excHandler).prev;
}
static N_INLINE(E_Base*, getCurrentException)(void) {
E_Base* Result_20204;
Result_20204 = 0;
Result_20204 = Currexception_5032;
return Result_20204;
}
static N_INLINE(void, popCurrentException)(void) {
asgnRef((void**) &Currexception_5032, (*Currexception_5032).parent);
}
N_NIMCALL(TY50526*, Myprocess_143147)(TY101002* Context_143149, TY50526* N_143150) {
TY50526* Result_143151;
TY103012* C_143152;
TSafePoint TMP192221;
Result_143151 = 0;
C_143152 = 0;
C_143152 = ((TY103012*) (Context_143149));
if (!(Gerrormax_42568 <= 1)) goto LA2;
Result_143151 = Semstmtandgenerategenerics_143124(C_143152, N_143150);
goto LA1;
LA2: ;
pushSafePoint(&TMP192221);
TMP192221.status = setjmp(TMP192221.context);
if (TMP192221.status == 0) {
Result_143151 = Semstmtandgenerategenerics_143124(C_143152, N_143150);
popSafePoint();
} else {
popSafePoint();
if (getCurrentException()->Sup.m_type == NTI42540) {
Result_143151 = Emptynode_50858;
TMP192221.status = 0;popCurrentException();}
}
if (TMP192221.status != 0) reraiseException();
LA1: ;
return Result_143151;
}
N_NIMCALL(TY101006, Sempass_122001)(void) {
TY101006 Result_143176;
memset((void*)&Result_143176, 0, sizeof(Result_143176));
Initpass_101031(&Result_143176);
Result_143176.Open = Myopen_143084;
Result_143176.Opencached = Myopencached_143117;
Result_143176.Close = Myclose_143155;
Result_143176.Process = Myprocess_143147;
return Result_143176;
}
N_NOINLINE(void, semInit)(void) {
Evaltemplatecounter_122393 = 0;
}

