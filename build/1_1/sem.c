/* Generated by Nimrod Compiler v0.8.11 */
/*   (c) 2011 Andreas Rumpf */

typedef long int NI;
typedef unsigned long int NU;
#include "nimbase.h"

typedef struct TY102006 TY102006;
typedef struct TY102002 TY102002;
typedef struct TY51548 TY51548;
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct TY90031 TY90031;
typedef struct TY51526 TY51526;
typedef struct TY104012 TY104012;
typedef struct TNimObject TNimObject;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct TY104006 TY104006;
typedef struct TY56104 TY56104;
typedef struct TY56106 TY56106;
typedef struct TY51530 TY51530;
typedef struct TY51528 TY51528;
typedef struct TY51901 TY51901;
typedef struct TY51897 TY51897;
typedef struct TY51899 TY51899;
typedef struct TY39019 TY39019;
typedef struct TY39013 TY39013;
typedef struct TY43539 TY43539;
typedef struct TY50005 TY50005;
typedef struct TY51552 TY51552;
typedef struct TY50011 TY50011;
typedef struct TY51540 TY51540;
typedef struct TY48008 TY48008;
typedef struct TY51544 TY51544;
typedef struct TY51520 TY51520;
typedef struct TY51550 TY51550;
typedef struct TY105004 TY105004;
typedef struct TY56089 TY56089;
typedef struct TY10802 TY10802;
typedef struct TY10814 TY10814;
typedef struct TY11196 TY11196;
typedef struct TY10818 TY10818;
typedef struct TY10810 TY10810;
typedef struct TY11194 TY11194;
typedef struct TY112006 TY112006;
typedef struct TY112004 TY112004;
typedef struct TY51570 TY51570;
typedef struct TY51568 TY51568;
typedef struct TY51566 TY51566;
typedef struct TY124022 TY124022;
typedef struct TY51564 TY51564;
typedef struct TY51562 TY51562;
typedef struct TY51560 TY51560;
typedef struct TY123708 TY123708;
typedef struct TY104002 TY104002;
typedef struct TY35021 TY35021;
typedef struct TY90029 TY90029;
typedef struct TY56220 TY56220;
typedef struct TY56218 TY56218;
typedef struct TY56216 TY56216;
struct TGenericSeq {
NI len;
NI space;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
typedef N_NIMCALL_PTR(TY102002*, TY102007) (TY51548* Module_102008, NimStringDesc* Filename_102009);
typedef N_NIMCALL_PTR(TY102002*, TY102012) (TY51548* Module_102013, NimStringDesc* Filename_102014, TY90031* Rd_102015);
typedef N_NIMCALL_PTR(TY51526*, TY102018) (TY102002* P_102019, TY51526* N_102020);
typedef N_NIMCALL_PTR(TY51526*, TY102023) (TY102002* P_102024, TY51526* Toplevelstmt_102025);
struct TY102006 {
TY102007 Open;
TY102012 Opencached;
TY102018 Close;
TY102023 Process;
};
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TNimObject {
TNimType* m_type;
};
struct TY102002 {
  TNimObject Sup;
};
struct TY51530 {
TNimType* m_type;
NI Counter;
TY51528* Data;
};
struct TY56104 {
NI Tos;
TY56106* Stack;
};
struct TY51901 {
NI Counter;
NI Max;
TY51897* Head;
TY51899* Data;
};
struct TY39019 {
TNimType* m_type;
TY39013* Head;
TY39013* Tail;
NI Counter;
};
typedef N_NIMCALL_PTR(TY51526*, TY104032) (TY104012* C_104033, TY51526* N_104034);
typedef N_NIMCALL_PTR(TY51526*, TY104037) (TY104012* C_104038, TY51526* N_104039);
struct TY104012 {
  TY102002 Sup;
TY51548* Module;
TY104006* P;
NI Instcounter;
TY51526* Generics;
NI Lastgenericidx;
TY56104 Tab;
TY51901 Ambiguoussymbols;
TY51528* Converters;
TY39019 Optionstack;
TY39019 Libs;
NIM_BOOL Fromcache;
TY104032 Semconstexpr;
TY104037 Semexpr;
TY51901 Includedfiles;
NimStringDesc* Filename;
TY51530 Userpragmas;
};
struct TY43539 {
NI16 Line;
NI16 Col;
NI32 Fileindex;
};
struct TY50005 {
  TNimObject Sup;
NI Id;
};
struct TY51540 {
NU8 K;
NU8 S;
NU8 Flags;
TY51552* T;
TY48008* R;
NI A;
};
struct TY51548 {
  TY50005 Sup;
NU8 Kind;
NU8 Magic;
TY51552* Typ;
TY50011* Name;
TY43539 Info;
TY51548* Owner;
NU32 Flags;
TY51530 Tab;
TY51526* Ast;
NU32 Options;
NI Position;
NI Offset;
TY51540 Loc;
TY51544* Annex;
};
struct TY51526 {
TY51552* Typ;
NimStringDesc* Comment;
TY43539 Info;
NU8 Flags;
NU8 Kind;
union {
struct {NI64 Intval;
} S1;
struct {NF64 Floatval;
} S2;
struct {NimStringDesc* Strval;
} S3;
struct {TY51548* Sym;
} S4;
struct {TY50011* Ident;
} S5;
struct {TY51520* Sons;
} S6;
} KindU;
};
struct TY51552 {
  TY50005 Sup;
NU8 Kind;
TY51550* Sons;
TY51526* N;
NU8 Flags;
NU8 Callconv;
TY51548* Owner;
TY51548* Sym;
NI64 Size;
NI Align;
NI Containerid;
TY51540 Loc;
};
struct TY50011 {
  TY50005 Sup;
NimStringDesc* S;
TY50011* Next;
NI H;
};
struct TY56089 {
NI H;
TY50011* Name;
};
struct TY105004 {
NI Stackptr;
TY56089 It;
TY51548* M;
NU8 Mode;
};
struct TY10802 {
NI Refcount;
TNimType* Typ;
};
struct TY10818 {
NI Len;
NI Cap;
TY10802** D;
};
struct TY10814 {
NI Counter;
NI Max;
TY10810* Head;
TY10810** Data;
};
struct TY11194 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY11196 {
TY10818 Zct;
TY10818 Decstack;
TY10814 Cycleroots;
TY10818 Tempstack;
TY11194 Stat;
};
struct TY51566 {
TY50005* Key;
TY51526* Val;
};
struct TY51570 {
NI Counter;
TY51568* Data;
};
struct TY112004 {
TY51570 Mapping;
TY51548* Prc;
TY51526* Call;
TY112004* Next;
TY51520* Params;
};
typedef NU8 TY177060[16];
struct TY51560 {
TY50005* Key;
TNimObject* Val;
};
struct TY51564 {
NI Counter;
TY51562* Data;
};
struct TY124022 {
NI Exactmatches;
NI Subtypematches;
NI Intconvmatches;
NI Convmatches;
NI Genericmatches;
NU8 State;
TY51552* Callee;
TY51548* Calleesym;
TY51526* Call;
TY51564 Bindings;
NIM_BOOL Basetypematch;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
typedef N_NIMCALL_PTR(NIM_BOOL, TY94025) (TY51552* T_94030, TNimObject* Closure_94031);
struct TY123708 {
TY104012* C;
TY51564 Typemap;
TY51564 Symmap;
TY43539 Info;
};
typedef NimStringDesc* TY70026[3];
struct TY39013 {
  TNimObject Sup;
TY39013* Prev;
TY39013* Next;
};
struct TY104002 {
  TY39013 Sup;
NU32 Options;
NU8 Defaultcc;
TY51544* Dynlib;
NU32 Notes;
};
typedef NimStringDesc* TY43869[1];
typedef NU8 TY119007[29];
struct TY104006 {
TY51548* Owner;
TY51548* Resultsym;
NI Nestedloopcounter;
NI Nestedblockcounter;
};
typedef NU8 TY132048[30];
typedef N_NIMCALL_PTR(TY51526*, TY102048) (NimStringDesc* Filename_102049);
typedef NimStringDesc* TY112148[2];
typedef NimStringDesc* TY130581[2];
struct TY56216 {
NI Key;
NI Val;
};
struct TY56220 {
NI Counter;
TY56218* Data;
};
struct TY90029 {
NI Lastidxkey;
NI Lastidxval;
TY56220 Tab;
TY48008* R;
NI Offset;
};
struct TY90031 {
  TNimObject Sup;
NI Pos;
NimStringDesc* S;
NU32 Options;
NU8 Reason;
TY35021* Moddeps;
TY35021* Files;
NI Dataidx;
NI Convertersidx;
NI Initidx;
NI Interfidx;
NI Compilerprocsidx;
NI Cgenidx;
NimStringDesc* Filename;
TY90029 Index;
TY90029 Imports;
NI Readerindex;
NI Line;
NI Moduleid;
TY51564 Syms;
};
typedef NI TY8814[16];
struct TY51897 {
TY51897* Next;
NI Key;
TY8814 Bits;
};
struct TY48008 {
  TNimObject Sup;
TY48008* Left;
TY48008* Right;
NI Length;
NimStringDesc* Data;
};
struct TY51544 {
  TY39013 Sup;
NU8 Kind;
NIM_BOOL Generated;
TY48008* Name;
TY51526* Path;
};
struct TY10810 {
TY10810* Next;
NI Key;
TY8814 Bits;
};
struct TY112006 {
  TY102002 Sup;
TY51548* Module;
TY112004* Tos;
TY51526* Lastexception;
NIM_BOOL Opteval;
};
struct TY51528 {
  TGenericSeq Sup;
  TY51548* data[SEQ_DECL_SIZE];
};
struct TY56106 {
  TGenericSeq Sup;
  TY51530 data[SEQ_DECL_SIZE];
};
struct TY51899 {
  TGenericSeq Sup;
  TY51897* data[SEQ_DECL_SIZE];
};
struct TY51520 {
  TGenericSeq Sup;
  TY51526* data[SEQ_DECL_SIZE];
};
struct TY51550 {
  TGenericSeq Sup;
  TY51552* data[SEQ_DECL_SIZE];
};
struct TY51568 {
  TGenericSeq Sup;
  TY51566 data[SEQ_DECL_SIZE];
};
struct TY51562 {
  TGenericSeq Sup;
  TY51560 data[SEQ_DECL_SIZE];
};
struct TY35021 {
  TGenericSeq Sup;
  NimStringDesc* data[SEQ_DECL_SIZE];
};
struct TY56218 {
  TGenericSeq Sup;
  TY56216 data[SEQ_DECL_SIZE];
};
N_NIMCALL(void, Initpass_102031)(TY102006* P_102034);
N_NIMCALL(TY102002*, Myopen_143228)(TY51548* Module_143230, NimStringDesc* Filename_143231);
N_NIMCALL(TY104012*, Newcontext_104046)(TY51548* Module_104048, NimStringDesc* Nimfile_104049);
N_NIMCALL(void, Internalerror_43574)(TY43539 Info_43576, NimStringDesc* Errmsg_43577);
N_NIMCALL(TY51526*, Semconstexpr_122171)(TY104012* C_122173, TY51526* N_122174);
N_NIMCALL(TY51526*, Semexprwithtype_122122)(TY104012* C_122124, TY51526* N_122125, NU8 Flags_122128);
N_NIMCALL(TY51526*, Semexpr_122115)(TY104012* C_122117, TY51526* N_122118, NU8 Flags_122121);
N_NIMCALL(TY51548*, Lookup_105245)(TY104012* C_105247, TY51526* N_105248);
N_NIMCALL(TY51526*, Semsym_130092)(TY104012* C_130094, TY51526* N_130095, TY51548* S_130096, NU8 Flags_130097);
N_NIMCALL(void, Limessage_43569)(TY43539 Info_43571, NU8 Msg_43572, NimStringDesc* Arg_43573);
N_NIMCALL(TY51548*, Getmodule_56203)(TY51548* S_56205);
N_NIMCALL(TY51526*, Symchoice_122559)(TY104012* C_122561, TY51526* N_122562, TY51548* S_122563);
N_NIMCALL(TY51548*, Initoverloaditer_105734)(TY105004* O_105737, TY104012* C_105738, TY51526* N_105739);
N_NIMCALL(TY51548*, Nextoverloaditer_106063)(TY105004* O_106066, TY104012* C_106067, TY51526* N_106068);
N_NIMCALL(TY51526*, Newsymnode_51735)(TY51548* Sym_51737);
N_NIMCALL(void, Markused_122065)(TY51526* N_122067, TY51548* S_122068);
N_NIMCALL(TY51526*, Newnodeit_51742)(NU8 Kind_51744, TY43539 Info_51745, TY51552* Typ_51746);
N_NIMCALL(TY51552*, Newtypes_104077)(NU8 Kind_104079, TY104012* C_104080);
N_NIMCALL(void, Addson_51824)(TY51526* Father_51826, TY51526* Son_51827);
N_NIMCALL(TY51526*, Copytree_51859)(TY51526* Src_51861);
static N_INLINE(void, asgnRef)(void** Dest_13214, void* Src_13215);
static N_INLINE(void, Incref_13202)(TY10802* C_13204);
static N_INLINE(NI, Atomicinc_3401)(NI* Memloc_3404, NI X_3405);
static N_INLINE(NIM_BOOL, Canbecycleroot_11616)(TY10802* C_11618);
static N_INLINE(void, Rtladdcycleroot_12252)(TY10802* C_12254);
N_NOINLINE(void, Incl_11080)(TY10814* S_11083, TY10802* Cell_11084);
static N_INLINE(TY10802*, Usrtocell_11612)(void* Usr_11614);
static N_INLINE(void, Decref_13001)(TY10802* C_13003);
static N_INLINE(NI, Atomicdec_3406)(NI* Memloc_3409, NI X_3410);
static N_INLINE(void, Rtladdzct_12601)(TY10802* C_12603);
N_NOINLINE(void, Addzct_11601)(TY10818* S_11604, TY10802* C_11605);
N_NIMCALL(TY51526*, Semmacroexpr_123085)(TY104012* C_123087, TY51526* N_123088, TY51548* Sym_123089, NIM_BOOL Semcheck_123090);
N_NIMCALL(TY112006*, Newevalcontext_112033)(TY51548* Module_112035, NimStringDesc* Filename_112036, NIM_BOOL Opteval_112037);
N_NIMCALL(TY112004*, Newstackframe_112024)(void);
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13218, void* Src_13219);
N_NIMCALL(TGenericSeq*, setLengthSeq)(TGenericSeq* Seq_19003, NI Elemsize_19004, NI Newlen_19005);
N_NIMCALL(void, Pushstackframe_112026)(TY112006* C_112028, TY112004* T_112029);
N_NIMCALL(TY51526*, Eval_112038)(TY112006* C_112040, TY51526* N_112041);
N_NIMCALL(void, Popstackframe_112030)(TY112006* C_112032);
N_NIMCALL(NIM_BOOL, Cyclictree_93043)(TY51526* N_93045);
N_NIMCALL(TY51526*, Semaftermacrocall_122246)(TY104012* C_122248, TY51526* N_122249, TY51548* S_122250);
N_NIMCALL(TY51526*, Semstmt_122143)(TY104012* C_122145, TY51526* N_122146);
N_NIMCALL(TY51526*, Semasgn_138705)(TY104012* C_138707, TY51526* N_138708);
N_NIMCALL(void, Checksonslen_104099)(TY51526* N_104101, NI Length_104102);
N_NIMCALL(TY51526*, Builtinfieldaccess_133326)(TY104012* C_133328, TY51526* N_133329, NU8 Flags_133330);
N_NIMCALL(TY51548*, Qualifiedlookup_105322)(TY104012* C_105324, TY51526* N_105325, NU8 Flags_105327);
N_NIMCALL(TY50011*, Consideracc_122003)(TY51526* N_122005);
N_NIMCALL(NimStringDesc*, Rendertree_82042)(TY51526* N_82044, NU8 Renderflags_82047);
N_NIMCALL(TY51548*, Getsymfromlist_56194)(TY51526* List_56196, TY50011* Ident_56197, NI Start_56198);
N_NIMCALL(NIM_BOOL, Istypeexpr_133026)(TY51526* N_133028);
N_NIMCALL(TY51552*, Skiptypes_94087)(TY51552* T_94089, NU64 Kinds_94090);
N_NIMCALL(TY51548*, Lookupinrecordandbuildcheck_133051)(TY104012* C_133053, TY51526* N_133054, TY51526* R_133055, TY50011* Field_133056, TY51526** Check_133058);
static N_INLINE(NI, Sonslen_51804)(TY51526* N_51806);
N_NIMCALL(void, Checkminsonslen_104103)(TY51526* N_104105, NI Length_104106);
N_NIMCALL(void, Illformedast_104092)(TY51526* N_104094);
N_NIMCALL(TY51526*, Newnodei_51738)(NU8 Kind_51740, TY43539 Info_51741);
static N_INLINE(TY51526*, Lastson_51810)(TY51526* N_51812);
N_NIMCALL(void, unsureAsgnRef)(void** Dest_13226, void* Src_13227);
N_NIMCALL(TY51526*, Newidentnode_51731)(TY50011* Ident_51733, TY43539 Info_51734);
N_NIMCALL(TY50011*, Getident_50016)(NimStringDesc* Identifier_50018);
N_NIMCALL(TY51526*, Makederef_133297)(TY51526* N_133299);
N_NIMCALL(TY51526*, Propertywriteaccess_138685)(TY104012* C_138687, TY51526* N_138688, TY51526* A_138689);
static N_INLINE(TY51526*, HEX5BHEX5D_53057)(TY51526* N_53059, NI I_53060);
static N_INLINE(void, appendString)(NimStringDesc* Dest_18799, NimStringDesc* Src_18800);
static N_INLINE(void, appendChar)(NimStringDesc* Dest_18816, NIM_CHAR C_18817);
N_NIMCALL(NimStringDesc*, rawNewString)(NI Space_18689);
N_NIMCALL(TY51526*, Semdirectcallanalyseeffects_132219)(TY104012* C_132221, TY51526* N_132222, NU8 Flags_132223);
N_NIMCALL(TY51526*, Semdirectcall_126710)(TY104012* C_126712, TY51526* N_126713, NU32 Filter_126714);
N_NIMCALL(TY51526*, Semdirectcallwithbinding_126563)(TY104012* C_126565, TY51526* N_126566, TY51526* F_126567, NU32 Filter_126568, TY51526* Initialbinding_126569);
N_NIMCALL(void, Initcandidate_124056)(TY124022* C_124059, TY51548* Callee_124060, TY51526* Binding_124061);
static N_INLINE(void, Initcandidateaux_124045)(TY124022* C_124048, TY51552* Callee_124049);
N_NIMCALL(void, Initidtable_51755)(TY51564* X_51758);
N_NIMCALL(void, Idtableput_56171)(TY51564* T_56174, TY50005* Key_56175, TNimObject* Val_56176);
N_NIMCALL(void, Matches_125927)(TY104012* C_125929, TY51526* N_125930, TY124022* M_125932);
N_NIMCALL(TY51552*, Base_94021)(TY51552* T_94023);
N_NIMCALL(void, Intsetinit_51925)(TY51901* S_51928);
N_NIMCALL(NIM_BOOL, Intsetcontainsorincl_51929)(TY51901* S_51932, NI Key_51933);
N_NIMCALL(TY51526*, Paramtypesmatch_125685)(TY104012* C_125687, TY124022* M_125689, TY51552* F_125690, TY51552* A_125691, TY51526* Arg_125692);
N_NIMCALL(TY51526*, Paramtypesmatchaux_125539)(TY104012* C_125541, TY124022* M_125543, TY51552* F_125544, TY51552* A_125545, TY51526* Arg_125546);
N_NIMCALL(NU8, Typerel_124297)(TY51564* Mapping_124300, TY51552* F_124301, TY51552* A_124302);
static N_INLINE(TY51552*, Lastson_51813)(TY51552* N_51815);
static N_INLINE(NI, Sonslen_51807)(TY51552* N_51809);
N_NIMCALL(NU8, Handlerange_124328)(TY51552* F_124330, TY51552* A_124331, NU8 Min_124332, NU8 Max_124333);
N_NIMCALL(NU8, Handlefloatrange_124394)(TY51552* F_124396, TY51552* A_124397);
N_NIMCALL(NU8, Minrel_124467)(NU8 A_124469, NU8 B_124470);
N_NIMCALL(NI64, Lengthord_94007)(TY51552* T_94009);
N_NIMCALL(NIM_BOOL, Isordinaltype_94069)(TY51552* T_94071);
N_NIMCALL(void, Internalerror_43578)(NimStringDesc* Errmsg_43580);
N_NIMCALL(NU8, Tuplerel_124481)(TY51564* Mapping_124484, TY51552* F_124485, TY51552* A_124486);
N_NIMCALL(NIM_BOOL, Isobjectsubtype_124437)(TY51552* A_124439, TY51552* F_124440);
N_NIMCALL(NI64, Firstord_94001)(TY51552* T_94003);
N_NIMCALL(TNimObject*, Idtableget_56163)(TY51564 T_56165, TY50005* Key_56166);
N_NIMCALL(TY51552*, Concretetype_124303)(TY51564 Mapping_124305, TY51552* T_124306);
N_NIMCALL(TY51552*, Newtype_51707)(NU8 Kind_51709, TY51548* Owner_51710);
N_NIMCALL(void, Addson_51828)(TY51552* Father_51830, TY51552* Son_51831);
N_NIMCALL(NimStringDesc*, reprEnum)(NI E_19771, TNimType* Typ_19772);
N_NIMCALL(TY51526*, Implicitconv_125457)(NU8 Kind_125459, TY51552* F_125460, TY51526* Arg_125461, TY124022* M_125462, TY104012* C_125463);
N_NIMCALL(NIM_BOOL, Containsgenerictype_123221)(TY51552* T_123223);
N_NIMCALL(NIM_BOOL, Iterovertype_94038)(TY51552* T_94040, TY94025 Iter_94041, TNimObject* Closure_94042);
N_NIMCALL(NIM_BOOL, Containsgenerictypeiter_123205)(TY51552* T_123207, TNimObject* Closure_123208);
N_NIMCALL(TY51552*, Getinstantiatedtype_125428)(TY104012* C_125430, TY51526* Arg_125431, TY124022* M_125432, TY51552* F_125433);
N_NIMCALL(TY51552*, Generatetypeinstance_124008)(TY104012* P_124010, TY51564 Pt_124011, TY51526* Arg_124012, TY51552* T_124013);
N_NIMCALL(void, Copyidtable_51799)(TY51564* Dest_51802, TY51564 Src_51803);
N_NIMCALL(void, Pushinfocontext_43613)(TY43539 Info_43615);
N_NIMCALL(TY51552*, Replacetypevarst_123713)(TY123708* Cl_123716, TY51552* T_123717);
N_NIMCALL(TY51552*, Lookuptypevar_123861)(TY123708* Cl_123863, TY51552* T_123864);
N_NIMCALL(NimStringDesc*, Typetostring_94014)(TY51552* Typ_94016, NU8 Prefer_94017);
N_NIMCALL(TY51552*, Copytype_51771)(TY51552* T_51773, TY51548* Owner_51774, NIM_BOOL Keepid_51775);
N_NIMCALL(TY51552*, Searchinsttypes_123152)(TY51564 Tab_123154, TY51552* Key_123155);
N_NIMCALL(NIM_BOOL, Sametype_94048)(TY51552* X_94050, TY51552* Y_94051);
N_NIMCALL(TY51526*, Replacetypevarsn_123723)(TY123708* Cl_123726, TY51526* N_123727);
N_NIMCALL(TY51526*, Copynode_51856)(TY51526* Src_51858);
N_NIMCALL(TY51548*, Replacetypevarss_123718)(TY123708* Cl_123721, TY51548* S_123722);
N_NIMCALL(TY51548*, Copysym_51776)(TY51548* S_51778, NIM_BOOL Keepid_51779);
N_NIMCALL(void, Newsons_51816)(TY51526* Father_51818, NI Length_51819);
N_NIMCALL(void, Checkconstructedtype_123661)(TY43539 Info_123663, TY51552* T_123664);
N_NIMCALL(NI64, Computesize_94112)(TY51552* Typ_94114);
N_NIMCALL(void, Popinfocontext_43616)(void);
N_NIMCALL(TY51526*, Userconvmatch_125476)(TY104012* C_125478, TY124022* M_125480, TY51552* F_125481, TY51552* A_125482, TY51526* Arg_125483);
N_NIMCALL(void, Initcandidate_124050)(TY124022* C_124053, TY51552* Callee_124054);
N_NIMCALL(void, Copycandidate_124100)(TY124022* A_124103, TY124022* B_124104);
N_NIMCALL(void, genericAssign)(void* Dest_19575, void* Src_19576, TNimType* Mt_19577);
N_NIMCALL(NI, Cmpcandidates_124106)(TY124022* A_124108, TY124022* B_124109);
N_NIMCALL(void, Setson_125884)(TY51526* Father_125886, NI At_125887, TY51526* Son_125888);
N_NIMCALL(TY51552*, Getsystype_99008)(NU8 Kind_99010);
N_NIMCALL(NIM_BOOL, Samemethoddispatcher_126487)(TY51548* A_126489, TY51548* B_126490);
N_NIMCALL(NimStringDesc*, nsuFormatOpenArray)(NimStringDesc* Formatstr_24960, NimStringDesc** A_24962, NI A_24962Len0);
N_NIMCALL(NimStringDesc*, Msgkindtostring_43595)(NU8 Kind_43597);
N_NIMCALL(NimStringDesc*, Getprocheader_94018)(TY51548* Sym_94020);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* Src_18712);
N_NIMCALL(TY51548*, Generateinstance_123146)(TY104012* C_123148, TY51548* Fn_123149, TY51564 Pt_123150, TY43539 Info_123151);
N_NIMCALL(TY51548*, Getcurrowner_104107)(void);
N_NIMCALL(void, Pushowner_104109)(TY51548* Owner_104111);
N_NIMCALL(void, Openscope_56146)(TY56104* Tab_56149);
N_NIMCALL(void, Instantiategenericparamlist_123225)(TY104012* C_123227, TY51526* N_123228, TY51564 Pt_123229);
N_NIMCALL(TY51548*, Newsym_51702)(NU8 Symkind_51704, TY50011* Name_51705, TY51548* Owner_51706);
N_NIMCALL(void, Adddecl_105114)(TY104012* C_105116, TY51548* Sym_105117);
N_NIMCALL(void, Semparamlist_122147)(TY104012* C_122149, TY51526* N_122150, TY51526* Genericparams_122151, TY51548* S_122152);
N_NIMCALL(TY51552*, Semproctypenode_129448)(TY104012* C_129450, TY51526* N_129451, TY51526* Genericparams_129452, TY51552* Prev_129453);
N_NIMCALL(TY51552*, Neworprevtype_126931)(NU8 Kind_126933, TY51552* Prev_126934, TY104012* C_126935);
N_NIMCALL(TY104002*, Lastoptionentry_104053)(TY104012* C_104055);
N_NIMCALL(TY51552*, Paramtype_129427)(TY104012* C_129429, TY51526* N_129430, TY51526* Genericparams_129431, TY51901* Cl_129433);
N_NIMCALL(TY51552*, Semtypenode_122138)(TY104012* C_122140, TY51526* N_122141, TY51552* Prev_122142);
N_NIMCALL(TY51548*, Semtypeident_127713)(TY104012* C_127715, TY51526* N_127716);
N_NIMCALL(TY51552*, Semarray_127562)(TY104012* C_127564, TY51526* N_127565, TY51552* Prev_127566);
N_NIMCALL(TY51552*, Semrangeaux_127410)(TY104012* C_127412, TY51526* N_127413, TY51552* Prev_127414);
N_NIMCALL(NIM_BOOL, Enumhaswholes_94072)(TY51552* T_94074);
N_NIMCALL(NIM_BOOL, Levalue_51871)(TY51526* A_51873, TY51526* B_51874);
N_NIMCALL(TY51552*, Semcontainer_127314)(TY104012* C_127316, TY51526* N_127317, NU8 Kind_127318, NimStringDesc* Kindstr_127319, TY51552* Prev_127320);
N_NIMCALL(TY51552*, Semrange_127509)(TY104012* C_127511, TY51526* N_127512, TY51552* Prev_127513);
N_NIMCALL(TY51552*, Semset_127271)(TY104012* C_127273, TY51526* N_127274, TY51552* Prev_127275);
N_NIMCALL(TY51552*, Semordinal_127671)(TY104012* C_127673, TY51526* N_127674, TY51552* Prev_127675);
N_NIMCALL(TY51552*, Semgeneric_127898)(TY104012* C_127900, TY51526* N_127901, TY51548* S_127902, TY51552* Prev_127903);
N_NIMCALL(TY51552*, Instgenericcontainer_122166)(TY104012* C_122168, TY51526* N_122169, TY51552* Header_122170);
N_NIMCALL(void, Assigntype_51780)(TY51552* Dest_51782, TY51552* Src_51783);
N_NIMCALL(TY51552*, Semobjectnode_129213)(TY104012* C_129215, TY51526* N_129216, TY51552* Prev_129217);
N_NIMCALL(void, Addinheritedfields_129190)(TY104012* C_129192, TY51901* Check_129194, NI* Pos_129196, TY51552* Obj_129197);
N_NIMCALL(void, Addinheritedfieldsaux_129071)(TY104012* C_129073, TY51901* Check_129075, NI* Pos_129077, TY51526* N_129078);
N_NIMCALL(void, Intsetincl_51915)(TY51901* S_51918, NI Key_51919);
N_NIMCALL(void, Semrecordnodeaux_128433)(TY104012* C_128435, TY51526* N_128436, TY51901* Check_128438, NI* Pos_128440, TY51526* Father_128441, TY51548* Rectype_128442);
N_NIMCALL(void, Checkbool_126881)(TY51526* T_126883);
N_NIMCALL(void, Semrecordcase_128443)(TY104012* C_128445, TY51526* N_128446, TY51901* Check_128448, NI* Pos_128450, TY51526* Father_128451, TY51548* Rectype_128452);
N_NIMCALL(void, Semcasebranch_128283)(TY104012* C_128285, TY51526* T_128286, TY51526* Branch_128287, NI Branchindex_128288, NI64* Covered_128290);
N_NIMCALL(void, Sembranchexpr_128244)(TY104012* C_128246, TY51526* T_128247, TY51526** Ex_128249);
N_NIMCALL(NU8, Cmptypes_125420)(TY51552* F_125422, TY51552* A_125423);
N_NIMCALL(void, Typemismatch_126905)(TY51526* N_126907, TY51552* Formal_126908, TY51552* Actual_126909);
N_NIMCALL(NIM_BOOL, Emptyrange_101019)(TY51526* A_101021, TY51526* B_101022);
N_NIMCALL(NI64, Getordvalue_94109)(TY51526* N_94111);
N_NIMCALL(void, Checkforoverlap_128184)(TY104012* C_128186, TY51526* T_128187, TY51526* Ex_128188, NI Branchindex_128189);
N_NIMCALL(NIM_BOOL, Overlap_101006)(TY51526* A_101008, TY51526* B_101009);
N_NIMCALL(void, Delson_51836)(TY51526* Father_51838, NI Idx_51839);
N_NIMCALL(TY51548*, Semidentwithpragma_122098)(TY104012* C_122100, NU8 Kind_122101, TY51526* N_122102, NU32 Allowed_122103);
N_NIMCALL(TY51548*, Semidentvis_122092)(TY104012* C_122094, NU8 Kind_122095, TY51526* N_122096, NU32 Allowed_122097);
N_NIMCALL(TY51548*, Newsyms_122059)(NU8 Kind_122061, TY51526* N_122062, TY104012* C_122063);
N_NIMCALL(void, Pragma_119028)(TY104012* C_119030, TY51548* Sym_119031, TY51526* N_119032, TY119007 Validpragmas_119033);
N_NIMCALL(TY48008*, Torope_48046)(NimStringDesc* S_48048);
N_NIMCALL(TY51552*, Semtuple_127739)(TY104012* C_127741, TY51526* N_127742, TY51552* Prev_127743);
N_NIMCALL(TY51552*, Semanyref_127337)(TY104012* C_127339, TY51526* N_127340, NU8 Kind_127341, NimStringDesc* Kindstr_127342, TY51552* Prev_127343);
N_NIMCALL(TY51552*, Semvartype_127360)(TY104012* C_127362, TY51526* N_127363, TY51552* Prev_127364);
N_NIMCALL(TY51552*, Semdistinct_127390)(TY104012* C_127392, TY51526* N_127393, TY51552* Prev_127394);
N_NIMCALL(TY51552*, Semenum_126957)(TY104012* C_126959, TY51526* N_126960, TY51552* Prev_126961);
N_NIMCALL(NI64, Lastord_94004)(TY51552* T_94006);
N_NIMCALL(void, Strtableadd_56061)(TY51530* T_56064, TY51548* N_56065);
N_NIMCALL(void, Adddeclat_105128)(TY104012* C_105130, TY51548* Sym_105131, NI At_105132);
N_NIMCALL(TY51552*, Semstmtlisttype_129696)(TY104012* C_129698, TY51526* N_129699, TY51552* Prev_129700);
N_NIMCALL(TY51552*, Semblocktype_129764)(TY104012* C_129766, TY51526* N_129767, TY51552* Prev_129768);
N_NIMCALL(void, Closescope_105018)(TY56104* Tab_105021);
N_NIMCALL(TY51552*, Addtypevarsofgenericbody_129350)(TY104012* C_129352, TY51552* T_129353, TY51526* Genericparams_129354, TY51901* Cl_129356);
N_NIMCALL(TY51526*, Fitnode_122129)(TY104012* C_122131, TY51552* Formal_122132, TY51526* Arg_122133);
N_NIMCALL(TY51526*, Indextypesmatch_125874)(TY104012* C_125876, TY51552* F_125877, TY51552* A_125878, TY51526* Arg_125879);
N_NIMCALL(void, Addparams_122153)(TY104012* C_122155, TY51526* N_122156);
N_NIMCALL(TY51548*, Genericcacheget_123317)(TY104012* C_123319, TY51548* Genericsym_123320, TY51548* Instsym_123321);
N_NIMCALL(NU8, Equalparams_94065)(TY51526* A_94067, TY51526* B_94068);
N_NIMCALL(void, Genericcacheadd_123438)(TY104012* C_123440, TY51548* Genericsym_123441, TY51548* Instsym_123442);
N_NIMCALL(TY51526*, Newnode_51711)(NU8 Kind_51713);
N_NIMCALL(TY104006*, Newproccon_104050)(TY51548* Owner_104052);
N_NIMCALL(void, Addresult_122157)(TY104012* C_122159, TY51552* T_122160, TY43539 Info_122161);
N_NIMCALL(void, Addresultnode_122162)(TY104012* C_122164, TY51526* N_122165);
N_NIMCALL(TY51526*, Semstmtscope_122104)(TY104012* C_122106, TY51526* N_122107);
N_NIMCALL(void, Popowner_104112)(void);
N_NIMCALL(void, Fixabstracttype_131346)(TY104012* C_131348, TY51526* N_131349);
N_NIMCALL(TY51526*, Semarrayconstr_131183)(TY104012* C_131185, TY51526* N_131186);
N_NIMCALL(TY51552*, Makerangetype_104086)(TY104012* C_104088, NI64 First_104089, NI64 Last_104090, TY43539 Info_104091);
N_NIMCALL(TY51552*, Elemtype_94091)(TY51552* T_94093);
N_NIMCALL(void, Changetype_130964)(TY51526* N_130966, TY51552* Newtype_130967);
N_NIMCALL(void, Analyseifaddresstakenincall_132043)(TY104012* C_132045, TY51526* N_132046);
N_NIMCALL(NU8, Isassignable_131610)(TY51526* N_131612);
N_NIMCALL(TY51526*, Analyseifaddresstaken_131825)(TY104012* C_131827, TY51526* N_131828);
N_NIMCALL(TY51526*, Newhiddenaddrtaken_131790)(TY104012* C_131792, TY51526* N_131793);
N_NIMCALL(TY51552*, Makevartype_104073)(TY104012* C_104075, TY51552* Basetype_104076);
N_NIMCALL(TY51526*, Semsubscript_133890)(TY104012* C_133892, TY51526* N_133893, NU8 Flags_133894);
N_NIMCALL(TY51526*, Buildoverloadedsubscripts_133847)(TY51526* N_133849, NIM_BOOL Inasgn_133850);
N_NIMCALL(void, Add_52975)(TY51526* Father_52977, TY51526* Son_52978);
static N_INLINE(NI, Len_52929)(TY51526* N_52931);
N_NIMCALL(NimStringDesc*, resizeString)(NimStringDesc* Dest_18789, NI Addlen_18790);
N_NIMCALL(void, Addsliceopr_133809)(NimStringDesc** Result_133812, TY51526* N_133813);
N_NIMCALL(void, Addsonifnotnil_51832)(TY51526* Father_51834, TY51526* N_51835);
N_NIMCALL(TY51526*, Semexprnotype_137814)(TY104012* C_137816, TY51526* N_137817);
N_NIMCALL(TY51526*, Semcommand_142680)(TY104012* C_142682, TY51526* N_142683);
N_NIMCALL(TY51526*, Semblock_138266)(TY104012* C_138268, TY51526* N_138269);
N_NIMCALL(TY51526*, Semraise_140129)(TY104012* C_140131, TY51526* N_140132);
N_NIMCALL(TY51526*, Semvar_139230)(TY104012* C_139232, TY51526* N_139233);
N_NIMCALL(NIM_BOOL, Typeallowed_94136)(TY51552* T_94138, NU8 Kind_94139);
N_NIMCALL(void, Addinterfacedecl_105236)(TY104012* C_105238, TY51548* Sym_105239);
N_NIMCALL(TY51526*, Semconst_139530)(TY104012* C_139532, TY51526* N_139533);
N_NIMCALL(TY51526*, Semandevalconstexpr_122198)(TY104012* C_122200, TY51526* N_122201);
N_NIMCALL(TY51526*, Getconstexpr_110010)(TY51548* M_110012, TY51526* N_110013);
N_NIMCALL(TY51526*, Evalconstexpr_112042)(TY51548* Module_112044, TY51526* E_112045);
N_NIMCALL(TY51526*, Fitremovehiddenconv_139188)(TY104012* C_139190, TY51552* Typ_139191, TY51526* N_139192);
N_NIMCALL(TY51526*, Semtypesection_140637)(TY104012* C_140639, TY51526* N_140640);
N_NIMCALL(void, Processmagictype_130031)(TY104012* C_130033, TY51548* M_130034);
N_NIMCALL(void, Setmagictype_130026)(TY51548* M_130028, NU8 Kind_130029, NI Size_130030);
static N_INLINE(NI, Getid_51694)(void);
N_NIMCALL(TY51526*, Semgenericparamlist_140409)(TY104012* C_140411, TY51526* N_140412, TY51552* Father_140413);
N_NIMCALL(TY51526*, Semif_137970)(TY104012* C_137972, TY51526* N_137973);
N_NIMCALL(TY51526*, Semwhen_137839)(TY104012* C_137841, TY51526* N_137842);
N_NIMCALL(void, Idsynchronizationpoint_51699)(NI Idrange_51701);
N_NIMCALL(TY51526*, Semdiscard_138096)(TY104012* C_138098, TY51526* N_138099);
N_NIMCALL(TY51526*, Semwhile_138389)(TY104012* C_138391, TY51526* N_138392);
N_NIMCALL(TY51526*, Semtry_140212)(TY104012* C_140214, TY51526* N_140215);
N_NIMCALL(TY51526*, Sembreakorcontinue_138148)(TY104012* C_138150, TY51526* N_138151);
N_NIMCALL(TY51526*, Semfor_139721)(TY104012* C_139723, TY51526* N_139724);
N_NIMCALL(TY51548*, Strtableget_56066)(TY51530* T_56068, TY50011* Name_56069);
N_NIMCALL(TY51526*, Semcase_138494)(TY104012* C_138496, TY51526* N_138497);
N_NIMCALL(NI64, Tocover_138480)(TY51552* T_138482);
N_NIMCALL(TY51526*, Semreturn_138841)(TY104012* C_138843, TY51526* N_138844);
N_NIMCALL(TY51526*, Semasm_138369)(TY104012* Con_138371, TY51526* N_138372);
N_NIMCALL(NIM_CHAR, Pragmaasm_119034)(TY104012* C_119036, TY51526* N_119037);
N_NIMCALL(TY51526*, Semasmoremit_120596)(TY104012* Con_120598, TY51526* N_120599, NIM_CHAR Marker_120600);
N_NIMCALL(TY51526*, Semyield_139057)(TY104012* C_139059, TY51526* N_139060);
N_NIMCALL(TY51526*, Semiterator_142373)(TY104012* C_142375, TY51526* N_142376);
N_NIMCALL(TY51526*, Semprocaux_141609)(TY104012* C_141611, TY51526* N_141612, NU8 Kind_141613, TY119007 Validpragmas_141614);
N_NIMCALL(TY51548*, Searchforproc_118004)(TY104012* C_118006, TY51548* Fn_118007, NI Tos_118008);
N_NIMCALL(void, Addinterfaceoverloadablesymat_105240)(TY104012* C_105242, TY51548* Sym_105243, NI At_105244);
N_NIMCALL(void, Addinterfacedeclat_105191)(TY104012* C_105193, TY51548* Sym_105194, NI At_105195);
N_NIMCALL(void, Addgenericparamlisttoscope_140581)(TY104012* C_140583, TY51526* N_140584);
N_NIMCALL(TY51526*, Semgenericstmtscope_136125)(TY104012* C_136127, TY51526* N_136128, NU8 Flags_136131);
N_NIMCALL(TY51526*, Semgenericstmt_136118)(TY104012* C_136120, TY51526* N_136121, NU8 Flags_136124);
N_NIMCALL(TY51548*, Symtabget_56116)(TY56104 Tab_56118, TY50011* S_56119);
N_NIMCALL(TY51526*, Semgenericstmtsymbol_136135)(TY104012* C_136137, TY51526* N_136138, TY51548* S_136139);
N_NIMCALL(TY51526*, Semtemplateexpr_130037)(TY104012* C_130039, TY51526* N_130040, TY51548* S_130041, NIM_BOOL Semcheck_130042);
N_NIMCALL(TY51526*, Evaltemplate_122512)(TY104012* C_122514, TY51526* N_122515, TY51548* Sym_122516);
N_NIMCALL(TY51526*, Evaltemplateargs_122427)(TY104012* C_122429, TY51526* N_122430, TY51548* S_122431);
N_NIMCALL(TY51526*, Evaltemplateaux_122339)(TY104012* C_122341, TY51526* Templ_122342, TY51526* Actual_122343, TY51548* Sym_122344);
N_NIMCALL(TY51526*, Semmacrostmt_135510)(TY104012* C_135512, TY51526* N_135513, NIM_BOOL Semcheck_135514);
N_NIMCALL(NIM_BOOL, Iscallexpr_135494)(TY51526* N_135496);
N_NIMCALL(TY51526*, Getidentnode_136173)(TY51526* N_136175);
N_NIMCALL(void, Semborrow_141315)(TY104012* C_141317, TY51526* N_141318, TY51548* S_141319);
N_NIMCALL(TY51548*, Searchforborrowproc_118009)(TY104012* C_118011, TY51548* Fn_118012, NI Tos_118013);
N_NIMCALL(void, Sideeffectscheck_141344)(TY104012* C_141346, TY51548* S_141347);
N_NIMCALL(TY51526*, Semproc_142438)(TY104012* C_142440, TY51526* N_142441);
N_NIMCALL(TY51526*, Semmethod_142443)(TY104012* C_142445, TY51526* N_142446);
N_NIMCALL(NIM_BOOL, Istoplevel_122053)(TY104012* C_122055);
N_NIMCALL(TY51526*, Semconverterdef_142493)(TY104012* C_142495, TY51526* N_142496);
N_NIMCALL(void, Addconverter_104058)(TY104012* C_104060, TY51548* Conv_104061);
N_NIMCALL(TY51526*, Semmacrodef_142560)(TY104012* C_142562, TY51526* N_142563);
N_NIMCALL(TY51526*, Semtemplatedef_122762)(TY104012* C_122764, TY51526* N_122765);
N_NIMCALL(TY51526*, Resolvetemplateparams_122608)(TY104012* C_122610, TY51526* N_122611, NIM_BOOL Withinbind_122612, TY51901* Tobind_122614);
N_NIMCALL(NIM_BOOL, Intsetcontains_51911)(TY51901 S_51913, NI Key_51914);
N_NIMCALL(TY51548*, Symtablocalget_56120)(TY56104 Tab_56122, TY50011* S_56123);
N_NIMCALL(TY51526*, Transformtoexpr_122720)(TY51526* N_122722);
N_NIMCALL(TY51526*, Evalimport_107001)(TY104012* C_107003, TY51526* N_107004);
N_NIMCALL(TY51526*, Evalfrom_107005)(TY104012* C_107007, TY51526* N_107008);
N_NIMCALL(TY51526*, Evalinclude_142650)(TY104012* C_142652, TY51526* N_142653);
N_NIMCALL(NimStringDesc*, Getmodulefile_107013)(TY51526* N_107015);
N_NIMCALL(NI, Includefilename_43618)(NimStringDesc* F_43620);
N_NIMCALL(void, Intsetexcl_51920)(TY51901* S_51923, NI Key_51924);
N_NIMCALL(TY51526*, Semfieldaccess_130044)(TY104012* C_130046, TY51526* N_130047, NU8 Flags_130050);
N_NIMCALL(TY51526*, Semconv_130351)(TY104012* C_130353, TY51526* N_130354, TY51548* S_130355);
N_NIMCALL(void, Checkconvertible_130198)(TY43539 Info_130200, TY51552* Castdest_130201, TY51552* Src_130202);
N_NIMCALL(void, Checkconversionbetweenobjects_130186)(TY43539 Info_130188, TY51552* Castdest_130189, TY51552* Src_130190);
N_NIMCALL(NI, Inheritancediff_94121)(TY51552* A_94123, TY51552* B_94124);
N_NIMCALL(NIM_BOOL, Equalordistinctof_94056)(TY51552* X_94058, TY51552* Y_94059);
N_NIMCALL(TY51526*, Semdirectop_132682)(TY104012* C_132684, TY51526* N_132685, NU8 Flags_132686);
N_NIMCALL(void, Semopaux_130806)(TY104012* C_130808, TY51526* N_130809);
N_NIMCALL(TY51526*, Overloadedcallopr_130926)(TY104012* C_130928, TY51526* N_130929);
N_NIMCALL(NimStringDesc*, Getnotfounderror_124172)(TY104012* C_124174, TY51526* N_124175);
N_NIMCALL(NimStringDesc*, addChar)(NimStringDesc* S_1803, NIM_CHAR C_1804);
N_NIMCALL(TY51526*, Semmagic_133019)(TY104012* C_133021, TY51526* N_133022, TY51548* S_133023, NU8 Flags_133024);
N_NIMCALL(TY51526*, Semdefined_132892)(TY104012* C_132894, TY51526* N_132895, NIM_BOOL Onlycurrentscope_132896);
N_NIMCALL(TY51526*, Newintnode_51714)(NU8 Kind_51716, NI64 Intval_51717);
N_NIMCALL(TY51548*, Lookupfordefined_132750)(TY104012* C_132752, TY51526* N_132753, NIM_BOOL Onlycurrentscope_132754);
N_NIMCALL(NIM_BOOL, Isdefined_60059)(TY50011* Symbol_60061);
N_NIMCALL(TY51526*, Setms_132990)(TY51526* N_132992, TY51548* S_132993);
N_NIMCALL(TY51526*, Semlowhigh_130574)(TY104012* C_130576, TY51526* N_130577, NU8 M_130578);
N_NIMCALL(TY51526*, Semsizeof_130649)(TY104012* C_130651, TY51526* N_130652);
N_NIMCALL(TY51526*, Semis_130681)(TY104012* C_130683, TY51526* N_130684);
N_NIMCALL(TY51526*, Semecho_132710)(TY104012* C_132712, TY51526* N_132713);
N_NIMCALL(TY51526*, Semindirectop_132364)(TY104012* C_132366, TY51526* N_132367, NU8 Flags_132368);
N_NIMCALL(TY51526*, Explictgenericinstantiation_126751)(TY104012* C_126753, TY51526* N_126754, TY51548* S_126755);
N_NIMCALL(TY51526*, Semarrayaccess_134163)(TY104012* C_134165, TY51526* N_134166, NU8 Flags_134167);
N_NIMCALL(NU8, Checkpar_134774)(TY51526* N_134776);
N_NIMCALL(TY51526*, Semtuplepositionsconstr_135262)(TY104012* C_135264, TY51526* N_135265);
N_NIMCALL(TY51526*, Semtuplefieldsconstr_134924)(TY104012* C_134926, TY51526* N_134927);
N_NIMCALL(TY51526*, Semsetconstr_134395)(TY104012* C_134397, TY51526* N_134398);
N_NIMCALL(TY51526*, Semlambda_122134)(TY104012* C_122136, TY51526* N_122137);
N_NIMCALL(TY51552*, Makeptrtype_104069)(TY104012* C_104071, TY51552* Basetype_104072);
N_NIMCALL(TY51526*, Semcast_130498)(TY104012* C_130500, TY51526* N_130501);
N_NIMCALL(NIM_BOOL, Iscastable_130310)(TY51552* Dst_130312, TY51552* Src_130313);
N_NIMCALL(TY51526*, Semifexpr_134201)(TY104012* C_134203, TY51526* N_134204);
N_NIMCALL(TY51526*, Semstmtlistexpr_135313)(TY104012* C_135315, TY51526* N_135316);
N_NIMCALL(TY51526*, Semblockexpr_135392)(TY104012* C_135394, TY51526* N_135395);
N_NIMCALL(TY51526*, Semexprnoflags_143221)(TY104012* C_143223, TY51526* N_143224);
N_NIMCALL(void, Symtabadd_56124)(TY56104* Tab_56127, TY51548* E_56128);
N_NIMCALL(void, Initsystem_99017)(TY56104* Tab_99020);
N_NIMCALL(void, Importallsymbols_107009)(TY104012* C_107011, TY51548* Frommod_107012);
N_NIMCALL(TY102002*, Myopencached_143261)(TY51548* Module_143263, NimStringDesc* Filename_143264, TY90031* Rd_143265);
N_NIMCALL(TY51526*, Myclose_143283)(TY102002* Context_143285, TY51526* N_143286);
N_NIMCALL(void, Rawclosescope_56150)(TY56104* Tab_56153);
N_NIMCALL(void, Addcodeforgenerics_143102)(TY104012* C_143104, TY51526* N_143105);
N_NIMCALL(TY51526*, Myprocess_143268)(TY102002* Context_143270, TY51526* N_143271);
NIM_CONST NU64 Constabstracttypes_130035 = IL64(1097364930612);
STRING_LITERAL(TMP192931, "sem.myOpen", 10);
STRING_LITERAL(TMP192933, "", 0);
NIM_CONST TY177060 Lastblockstmts_142690 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x80, 0x07, 0x00, 0x00, 0x00}
;
STRING_LITERAL(TMP193064, "in", 2);
STRING_LITERAL(TMP193065, "not", 3);
STRING_LITERAL(TMP193066, "forward type in typeRel()", 25);
STRING_LITERAL(TMP193067, "tupleRel", 8);
STRING_LITERAL(TMP193068, "typeRel: tyGenericInvokation -> tyGenericInvokation", 51);
STRING_LITERAL(TMP193069, "wrong instantiated type!", 24);
STRING_LITERAL(TMP193070, "lookup failed", 13);
STRING_LITERAL(TMP193071, "has constraints: ", 17);
STRING_LITERAL(TMP193072, "typeRel(", 8);
STRING_LITERAL(TMP193073, "substitution with generic parameter", 35);
STRING_LITERAL(TMP193074, "no generic body", 15);
STRING_LITERAL(TMP193076, "acyclic", 7);
STRING_LITERAL(TMP193077, "ReplaceTypeVarsT: tyGenericBody", 31);
STRING_LITERAL(TMP193078, "getInstantiatedType", 19);
STRING_LITERAL(TMP193079, "implicitConv", 12);
STRING_LITERAL(TMP193084, "x.state is not csMatch", 22);
STRING_LITERAL(TMP193085, "matches", 7);
STRING_LITERAL(TMP193087, "calleeSym.ast is nil", 20);
STRING_LITERAL(TMP193088, "nesting too deep", 16);
STRING_LITERAL(TMP193089, "generateInstance", 16);
STRING_LITERAL(TMP193090, "instantiateGenericParamList; no generic params", 46);
STRING_LITERAL(TMP193091, "instantiateGenericParamList; no symbol", 38);
STRING_LITERAL(TMP193092, "instantiateGenericParamList: ", 29);
STRING_LITERAL(TMP193093, "semRangeAux", 11);
STRING_LITERAL(TMP193094, "openarray", 9);
STRING_LITERAL(TMP193095, "range", 5);
STRING_LITERAL(TMP193096, "set", 3);
STRING_LITERAL(TMP193097, "ordinal", 7);
STRING_LITERAL(TMP193098, "seq", 3);
STRING_LITERAL(TMP193099, "semtypes.semGeneric", 19);
STRING_LITERAL(TMP193100, "addInheritedFieldsAux", 21);
STRING_LITERAL(TMP193101, "addInheritedFieldsAux(record case branch)", 41);
STRING_LITERAL(TMP193102, "addInheritedFieldsAux()", 23);
STRING_LITERAL(TMP193103, "semObjectNode", 13);
STRING_LITERAL(TMP193104, "semRecordNodeAux", 16);
STRING_LITERAL(TMP193105, "semRecordCase: dicriminant is no symbol", 39);
STRING_LITERAL(TMP193106, ") ", 2);
static NIM_CONST TY119007 TMP193112 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x70, 0x00, 0x00, 0x00, 0x20, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00}
;static NIM_CONST TY119007 TMP193113 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x70, 0x2D, 0x0C, 0x00, 0x20, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x20, 0x00}
;static NIM_CONST TY119007 TMP193114 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x70, 0x21, 0x00, 0x00, 0x20, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP193115, "ref", 3);
STRING_LITERAL(TMP193116, "ptr", 3);
STRING_LITERAL(TMP193117, "var", 3);
STRING_LITERAL(TMP193118, "distinct", 8);
STRING_LITERAL(TMP193119, "dummy", 5);
static NIM_CONST TY119007 TMP193120 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x40, 0x00, 0x00, 0x40, 0xF8, 0x1F,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP193122, "addTypeVarsOfGenericBody", 24);
STRING_LITERAL(TMP193123, "addTypeVarsOfGenericBody 2", 26);
STRING_LITERAL(TMP193124, "addParams", 9);
STRING_LITERAL(TMP193125, "GenericCacheGet", 15);
STRING_LITERAL(TMP193127, "result", 6);
STRING_LITERAL(TMP193129, "semDirectCallAnalyseEffects", 27);
STRING_LITERAL(TMP193130, "changeType: no tuple type for constructor", 41);
STRING_LITERAL(TMP193131, "changeType: no tuple fields", 27);
STRING_LITERAL(TMP193132, "changeType(): invalid tuple constr", 34);
STRING_LITERAL(TMP193133, "changeType(): invalid identifier", 32);
STRING_LITERAL(TMP193134, "fixAbstractType: ", 17);
NIM_CONST TY132048 Fakevarparams_132047 = {
0x00, 0xD8, 0x61, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x38, 0x2C, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;
static NIM_CONST TY132048 TMP193135 = {
0x00, 0xD8, 0x61, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x38, 0x2C, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP193137, "analyseIfAddressTaken", 21);
STRING_LITERAL(TMP193138, "[", 1);
STRING_LITERAL(TMP193139, ",", 1);
STRING_LITERAL(TMP193140, "..", 2);
STRING_LITERAL(TMP193141, "..$", 3);
STRING_LITERAL(TMP193142, "$..", 3);
STRING_LITERAL(TMP193143, "$..$", 4);
STRING_LITERAL(TMP193144, "]=", 2);
STRING_LITERAL(TMP193145, "]", 1);
STRING_LITERAL(TMP193146, "tuple", 5);
static NIM_CONST TY119007 TMP193163 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x72, 0x23, 0x08, 0x00, 0x20, 0x00, 0x00,
0x00, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x40, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP193164, "semTypeSection: containerID", 27);
STRING_LITERAL(TMP193165, "semGenericParamList", 19);
STRING_LITERAL(TMP193166, "semTypeSection()", 16);
STRING_LITERAL(TMP193167, "semWhen", 7);
STRING_LITERAL(TMP193168, "countup", 7);
STRING_LITERAL(TMP193169, "\'return\'", 8);
STRING_LITERAL(TMP193170, "semReturn", 9);
STRING_LITERAL(TMP193171, "semYield", 8);
static NIM_CONST TY119007 TMP193172 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x08, 0x02, 0xE0, 0xFD, 0x3D, 0x02, 0x80,
0xFF, 0x0D, 0x00, 0x05, 0xA0, 0x00, 0x00, 0x04,
0x04, 0x00, 0x00, 0x40, 0x00}
;STRING_LITERAL(TMP193175, "addGenericParamListToScope", 26);
STRING_LITERAL(TMP193176, "semProcAux", 10);
static NIM_CONST TY119007 TMP193177 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x70, 0x51, 0x00, 0x00, 0x20, 0xF8, 0x1F,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x04, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP193178, "iterator", 8);
static NIM_CONST TY119007 TMP193179 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x70, 0xF3, 0x1D, 0x00, 0x60, 0xF8, 0x1F,
0x00, 0x00, 0x00, 0x08, 0x00, 0x00, 0x04, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP193180, "method", 6);
STRING_LITERAL(TMP193181, "converter", 9);
STRING_LITERAL(TMP193182, "macro", 5);
static NIM_CONST TY119007 TMP193183 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x71, 0x41, 0x08, 0x00, 0x20, 0xF8, 0x1F,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP193184, "template", 8);
STRING_LITERAL(TMP193185, "import", 6);
STRING_LITERAL(TMP193191, "from", 4);
STRING_LITERAL(TMP193195, "include", 7);
STRING_LITERAL(TMP193196, "SemStmt: result = nil", 21);
STRING_LITERAL(TMP193197, "no default for", 14);
NIM_CONST NU64 Integraltypes_130203 = IL64(1097364160518);
STRING_LITERAL(TMP193198, "()", 2);
STRING_LITERAL(TMP193199, ": ", 2);
STRING_LITERAL(TMP193200, ", ", 2);
STRING_LITERAL(TMP193201, "\015\012", 2);
STRING_LITERAL(TMP193202, "low", 3);
STRING_LITERAL(TMP193203, "high", 4);
NIM_CONST TY130581 Optostr_130580 = {((NimStringDesc*) &TMP193202),
((NimStringDesc*) &TMP193203)}
;
extern NIM_CONST TY130581 Optostr_130580;
STRING_LITERAL(TMP193204, "sizeof", 6);
STRING_LITERAL(TMP193205, "$", 1);
STRING_LITERAL(TMP193206, ")\015\012", 3);
STRING_LITERAL(TMP193207, "semExpr() to implement", 22);
STRING_LITERAL(TMP193208, ":anonymous", 10);
static NIM_CONST TY119007 TMP193209 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x70, 0xF3, 0x04, 0x00, 0x20, 0xF8, 0x1F,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP193211, "semIfExpr", 9);
STRING_LITERAL(TMP193212, "semExprWithType", 15);
STRING_LITERAL(TMP193213, "n is not nil", 12);
STRING_LITERAL(TMP193214, "addCodeForGenerics", 18);
STRING_LITERAL(TMP193215, "no code for ", 12);
NI Evaltemplatecounter_122426;
extern TY11196 Gch_11214;
extern TNimType* NTI51162; /* TTypeKind */
extern TY51564 Ginsttypes_104045;
extern TNimType* NTI124022; /* TCandidate */
extern NI Intsize_47570;
extern NI Floatsize_47571;
extern NI Ptrsize_47572;
extern NI Gid_51693;
extern TY51548* Systemmodule_99004;
extern NU32 Goptions_42077;
extern TY102048 Gincludefile_102051;
extern NU32 Gglobaloptions_42079;
N_NIMCALL(void, Markused_122065)(TY51526* N_122067, TY51548* S_122068) {
(*S_122068).Flags |=(1<<((NI32)(((NU8) 0))%(sizeof(NI32)*8)));
if (!(((*S_122068).Flags &(1<<((((NU8) 22))&31)))!=0)) goto LA2;
Limessage_43569((*N_122067).Info, ((NU8) 215), (*(*S_122068).Name).S);
LA2: ;
}
N_NIMCALL(TY51526*, Symchoice_122559)(TY104012* C_122561, TY51526* N_122562, TY51548* S_122563) {
TY51526* Result_122564;
TY51548* A_122565;
TY105004 O_122566;
NI I_122567;
TY51552* LOC5;
TY51526* LOC7;
Result_122564 = 0;
A_122565 = 0;
memset((void*)&O_122566, 0, sizeof(O_122566));
I_122567 = 0;
I_122567 = 0;
A_122565 = Initoverloaditer_105734(&O_122566, C_122561, N_122562);
while (1) {
if (!!((A_122565 == NIM_NIL))) goto LA1;
A_122565 = Nextoverloaditer_106063(&O_122566, C_122561, N_122562);
I_122567 += 1;
} LA1: ;
if (!(I_122567 <= 1)) goto LA3;
Result_122564 = Newsymnode_51735(S_122563);
(*Result_122564).Info = (*N_122562).Info;
Markused_122065(N_122562, S_122563);
goto LA2;
LA3: ;
LOC5 = 0;
LOC5 = Newtypes_104077(((NU8) 0), C_122561);
Result_122564 = Newnodeit_51742(((NU8) 46), (*N_122562).Info, LOC5);
A_122565 = Initoverloaditer_105734(&O_122566, C_122561, N_122562);
while (1) {
if (!!((A_122565 == NIM_NIL))) goto LA6;
LOC7 = 0;
LOC7 = Newsymnode_51735(A_122565);
Addson_51824(Result_122564, LOC7);
A_122565 = Nextoverloaditer_106063(&O_122566, C_122561, N_122562);
} LA6: ;
LA2: ;
return Result_122564;
}
static N_INLINE(NI, Atomicinc_3401)(NI* Memloc_3404, NI X_3405) {
NI Result_8007;
Result_8007 = 0;
(*Memloc_3404) += X_3405;
Result_8007 = (*Memloc_3404);
return Result_8007;
}
static N_INLINE(NIM_BOOL, Canbecycleroot_11616)(TY10802* C_11618) {
NIM_BOOL Result_11619;
Result_11619 = 0;
Result_11619 = !((((*(*C_11618).Typ).flags &(1<<((((NU8) 1))&7)))!=0));
return Result_11619;
}
static N_INLINE(void, Rtladdcycleroot_12252)(TY10802* C_12254) {
Incl_11080(&Gch_11214.Cycleroots, C_12254);
}
static N_INLINE(void, Incref_13202)(TY10802* C_13204) {
NI LOC1;
NIM_BOOL LOC3;
LOC1 = Atomicinc_3401(&(*C_13204).Refcount, 8);
LOC3 = Canbecycleroot_11616(C_13204);
if (!LOC3) goto LA4;
Rtladdcycleroot_12252(C_13204);
LA4: ;
}
static N_INLINE(TY10802*, Usrtocell_11612)(void* Usr_11614) {
TY10802* Result_11615;
Result_11615 = 0;
Result_11615 = ((TY10802*) ((NI32)((NU32)(((NI) (Usr_11614))) - (NU32)(((NI) (((NI)sizeof(TY10802))))))));
return Result_11615;
}
static N_INLINE(NI, Atomicdec_3406)(NI* Memloc_3409, NI X_3410) {
NI Result_8206;
Result_8206 = 0;
(*Memloc_3409) -= X_3410;
Result_8206 = (*Memloc_3409);
return Result_8206;
}
static N_INLINE(void, Rtladdzct_12601)(TY10802* C_12603) {
Addzct_11601(&Gch_11214.Zct, C_12603);
}
static N_INLINE(void, Decref_13001)(TY10802* C_13003) {
NI LOC2;
NIM_BOOL LOC5;
LOC2 = Atomicdec_3406(&(*C_13003).Refcount, 8);
if (!((NU32)(LOC2) < (NU32)(8))) goto LA3;
Rtladdzct_12601(C_13003);
goto LA1;
LA3: ;
LOC5 = Canbecycleroot_11616(C_13003);
if (!LOC5) goto LA6;
Rtladdcycleroot_12252(C_13003);
goto LA1;
LA6: ;
LA1: ;
}
static N_INLINE(void, asgnRef)(void** Dest_13214, void* Src_13215) {
TY10802* LOC4;
TY10802* LOC8;
if (!!((Src_13215 == NIM_NIL))) goto LA2;
LOC4 = Usrtocell_11612(Src_13215);
Incref_13202(LOC4);
LA2: ;
if (!!(((*Dest_13214) == NIM_NIL))) goto LA6;
LOC8 = Usrtocell_11612((*Dest_13214));
Decref_13001(LOC8);
LA6: ;
(*Dest_13214) = Src_13215;
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13218, void* Src_13219) {
TY10802* C_13220;
NI LOC4;
TY10802* C_13222;
NI LOC9;
if (!!((Src_13219 == NIM_NIL))) goto LA2;
C_13220 = 0;
C_13220 = Usrtocell_11612(Src_13219);
LOC4 = Atomicinc_3401(&(*C_13220).Refcount, 8);
LA2: ;
if (!!(((*Dest_13218) == NIM_NIL))) goto LA6;
C_13222 = 0;
C_13222 = Usrtocell_11612((*Dest_13218));
LOC9 = Atomicdec_3406(&(*C_13222).Refcount, 8);
if (!((NU32)(LOC9) < (NU32)(8))) goto LA10;
Rtladdzct_12601(C_13222);
LA10: ;
LA6: ;
(*Dest_13218) = Src_13219;
}
N_NIMCALL(TY50011*, Consideracc_122003)(TY51526* N_122005) {
TY50011* Result_122006;
TY51526* X_122007;
NimStringDesc* LOC4;
Result_122006 = 0;
X_122007 = 0;
X_122007 = N_122005;
if (!((*X_122007).Kind == ((NU8) 43))) goto LA2;
X_122007 = (*X_122007).KindU.S6.Sons->data[0];
LA2: ;
switch ((*X_122007).Kind) {
case ((NU8) 2):
Result_122006 = (*X_122007).KindU.S5.Ident;
break;
case ((NU8) 3):
Result_122006 = (*(*X_122007).KindU.S4.Sym).Name;
break;
default:
LOC4 = 0;
LOC4 = Rendertree_82042(N_122005, 0);
Limessage_43569((*N_122005).Info, ((NU8) 19), LOC4);
Result_122006 = NIM_NIL;
break;
}
return Result_122006;
}
N_NIMCALL(NIM_BOOL, Istypeexpr_133026)(TY51526* N_133028) {
NIM_BOOL Result_133029;
Result_133029 = 0;
switch ((*N_133028).Kind) {
case ((NU8) 4):
case ((NU8) 110):
Result_133029 = NIM_TRUE;
break;
case ((NU8) 3):
Result_133029 = ((*(*N_133028).KindU.S4.Sym).Kind == ((NU8) 7));
break;
default:
Result_133029 = NIM_FALSE;
break;
}
return Result_133029;
}
static N_INLINE(NI, Sonslen_51804)(TY51526* N_51806) {
NI Result_52886;
Result_52886 = 0;
if (!(*N_51806).KindU.S6.Sons == 0) goto LA2;
Result_52886 = 0;
goto LA1;
LA2: ;
Result_52886 = (*N_51806).KindU.S6.Sons->Sup.len;
LA1: ;
return Result_52886;
}
static N_INLINE(TY51526*, Lastson_51810)(TY51526* N_51812) {
TY51526* Result_53825;
NI LOC1;
Result_53825 = 0;
LOC1 = Sonslen_51804(N_51812);
Result_53825 = (*N_51812).KindU.S6.Sons->data[(NI32)(LOC1 - 1)];
return Result_53825;
}
N_NIMCALL(TY51548*, Lookupinrecordandbuildcheck_133051)(TY104012* C_133053, TY51526* N_133054, TY51526* R_133055, TY50011* Field_133056, TY51526** Check_133058) {
TY51548* Result_133059;
TY51526* S_133060;
TY51526* It_133061;
TY51526* Inexpr_133062;
TY51526* Notexpr_133063;
NI I_133072;
NI HEX3Atmp_142930;
NI LOC1;
NI Res_142932;
NI I_133148;
NI HEX3Atmp_142939;
NI LOC12;
NI Res_142941;
TY51526* LOC14;
NI J_133180;
NI HEX3Atmp_142933;
NI LOC18;
NI Res_142935;
TY51526* LOC20;
NI J_133212;
NI HEX3Atmp_142936;
NI LOC24;
NI Res_142938;
TY51526* LOC26;
TY50011* LOC27;
TY51526* LOC28;
TY51526* LOC29;
TY51526* LOC30;
TY51526* LOC31;
TY50011* LOC38;
TY51526* LOC39;
TY51526* LOC40;
TY50011* LOC41;
TY51526* LOC42;
TY51526* LOC43;
Result_133059 = 0;
S_133060 = 0;
It_133061 = 0;
Inexpr_133062 = 0;
Notexpr_133063 = 0;
Result_133059 = NIM_NIL;
switch ((*R_133055).Kind) {
case ((NU8) 113):
I_133072 = 0;
HEX3Atmp_142930 = 0;
LOC1 = Sonslen_51804(R_133055);
HEX3Atmp_142930 = (NI32)(LOC1 - 1);
Res_142932 = 0;
Res_142932 = 0;
while (1) {
if (!(Res_142932 <= HEX3Atmp_142930)) goto LA2;
I_133072 = Res_142932;
Result_133059 = Lookupinrecordandbuildcheck_133051(C_133053, N_133054, (*R_133055).KindU.S6.Sons->data[I_133072], Field_133056, Check_133058);
if (!!((Result_133059 == NIM_NIL))) goto LA4;
goto BeforeRet;
LA4: ;
Res_142932 += 1;
} LA2: ;
break;
case ((NU8) 114):
Checkminsonslen_104103(R_133055, 2);
if (!!(((*(*R_133055).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA7;
Illformedast_104092(R_133055);
LA7: ;
Result_133059 = Lookupinrecordandbuildcheck_133051(C_133053, N_133054, (*R_133055).KindU.S6.Sons->data[0], Field_133056, Check_133058);
if (!!((Result_133059 == NIM_NIL))) goto LA10;
goto BeforeRet;
LA10: ;
S_133060 = Newnodei_51738(((NU8) 31), (*R_133055).Info);
I_133148 = 0;
HEX3Atmp_142939 = 0;
LOC12 = Sonslen_51804(R_133055);
HEX3Atmp_142939 = (NI32)(LOC12 - 1);
Res_142941 = 0;
Res_142941 = 1;
while (1) {
if (!(Res_142941 <= HEX3Atmp_142939)) goto LA13;
I_133148 = Res_142941;
It_133061 = (*R_133055).KindU.S6.Sons->data[I_133148];
switch ((*It_133061).Kind) {
case ((NU8) 75):
LOC14 = 0;
LOC14 = Lastson_51810(It_133061);
Result_133059 = Lookupinrecordandbuildcheck_133051(C_133053, N_133054, LOC14, Field_133056, Check_133058);
if (!(Result_133059 == NIM_NIL)) goto LA16;
J_133180 = 0;
HEX3Atmp_142933 = 0;
LOC18 = Sonslen_51804(It_133061);
HEX3Atmp_142933 = (NI32)(LOC18 - 2);
Res_142935 = 0;
Res_142935 = 0;
while (1) {
if (!(Res_142935 <= HEX3Atmp_142933)) goto LA19;
J_133180 = Res_142935;
LOC20 = 0;
LOC20 = Copytree_51859((*It_133061).KindU.S6.Sons->data[J_133180]);
Addson_51824(S_133060, LOC20);
Res_142935 += 1;
} LA19: ;
goto LA15;
LA16: ;
if (!((*Check_133058) == NIM_NIL)) goto LA22;
unsureAsgnRef((void**) &(*Check_133058), Newnodei_51738(((NU8) 37), (*N_133054).Info));
Addson_51824((*Check_133058), NIM_NIL);
LA22: ;
S_133060 = Newnodei_51738(((NU8) 31), (*N_133054).Info);
J_133212 = 0;
HEX3Atmp_142936 = 0;
LOC24 = Sonslen_51804(It_133061);
HEX3Atmp_142936 = (NI32)(LOC24 - 2);
Res_142938 = 0;
Res_142938 = 0;
while (1) {
if (!(Res_142938 <= HEX3Atmp_142936)) goto LA25;
J_133212 = Res_142938;
LOC26 = 0;
LOC26 = Copytree_51859((*It_133061).KindU.S6.Sons->data[J_133212]);
Addson_51824(S_133060, LOC26);
Res_142938 += 1;
} LA25: ;
Inexpr_133062 = Newnodei_51738(((NU8) 21), (*N_133054).Info);
LOC27 = 0;
LOC27 = Getident_50016(((NimStringDesc*) &TMP193064));
LOC28 = 0;
LOC28 = Newidentnode_51731(LOC27, (*N_133054).Info);
Addson_51824(Inexpr_133062, LOC28);
LOC29 = 0;
LOC29 = Copytree_51859((*R_133055).KindU.S6.Sons->data[0]);
Addson_51824(Inexpr_133062, LOC29);
Addson_51824(Inexpr_133062, S_133060);
LOC30 = 0;
LOC30 = Semexpr_122115(C_133053, Inexpr_133062, 0);
Addson_51824((*Check_133058), LOC30);
goto BeforeRet;
LA15: ;
break;
case ((NU8) 78):
LOC31 = 0;
LOC31 = Lastson_51810(It_133061);
Result_133059 = Lookupinrecordandbuildcheck_133051(C_133053, N_133054, LOC31, Field_133056, Check_133058);
if (!!((Result_133059 == NIM_NIL))) goto LA33;
if (!((*Check_133058) == NIM_NIL)) goto LA36;
unsureAsgnRef((void**) &(*Check_133058), Newnodei_51738(((NU8) 37), (*N_133054).Info));
Addson_51824((*Check_133058), NIM_NIL);
LA36: ;
Inexpr_133062 = Newnodei_51738(((NU8) 21), (*N_133054).Info);
LOC38 = 0;
LOC38 = Getident_50016(((NimStringDesc*) &TMP193064));
LOC39 = 0;
LOC39 = Newidentnode_51731(LOC38, (*N_133054).Info);
Addson_51824(Inexpr_133062, LOC39);
LOC40 = 0;
LOC40 = Copytree_51859((*R_133055).KindU.S6.Sons->data[0]);
Addson_51824(Inexpr_133062, LOC40);
Addson_51824(Inexpr_133062, S_133060);
Notexpr_133063 = Newnodei_51738(((NU8) 21), (*N_133054).Info);
LOC41 = 0;
LOC41 = Getident_50016(((NimStringDesc*) &TMP193065));
LOC42 = 0;
LOC42 = Newidentnode_51731(LOC41, (*N_133054).Info);
Addson_51824(Notexpr_133063, LOC42);
Addson_51824(Notexpr_133063, Inexpr_133062);
LOC43 = 0;
LOC43 = Semexpr_122115(C_133053, Notexpr_133063, 0);
Addson_51824((*Check_133058), LOC43);
goto BeforeRet;
LA33: ;
break;
default:
Illformedast_104092(It_133061);
break;
}
Res_142941 += 1;
} LA13: ;
break;
case ((NU8) 3):
if (!((*(*(*R_133055).KindU.S4.Sym).Name).Sup.Id == (*Field_133056).Sup.Id)) goto LA45;
Result_133059 = (*R_133055).KindU.S4.Sym;
LA45: ;
break;
default:
Illformedast_104092(N_133054);
break;
}
BeforeRet: ;
return Result_133059;
}
N_NIMCALL(TY51526*, Makederef_133297)(TY51526* N_133299) {
TY51526* Result_133300;
TY51552* T_133302;
TY51526* A_133325;
Result_133300 = 0;
T_133302 = 0;
T_133302 = Skiptypes_94087((*N_133299).Typ, 2048);
Result_133300 = N_133299;
if (!((*T_133302).Kind == ((NU8) 23))) goto LA2;
Result_133300 = Newnodeit_51742(((NU8) 54), (*N_133299).Info, (*T_133302).Sons->data[0]);
Addson_51824(Result_133300, N_133299);
T_133302 = Skiptypes_94087((*T_133302).Sons->data[0], 2048);
LA2: ;
if (!((*T_133302).Kind == ((NU8) 21) || (*T_133302).Kind == ((NU8) 22))) goto LA5;
A_133325 = 0;
A_133325 = Result_133300;
Result_133300 = Newnodeit_51742(((NU8) 38), (*N_133299).Info, (*T_133302).Sons->data[0]);
Addson_51824(Result_133300, A_133325);
LA5: ;
return Result_133300;
}
N_NIMCALL(TY51526*, Builtinfieldaccess_133326)(TY104012* C_133328, TY51526* N_133329, NU8 Flags_133330) {
TY51526* Result_133331;
TY51548* S_133333;
TY50011* I_133392;
TY51552* Ty_133405;
TY51548* F_133406;
NIM_BOOL LOC14;
TY51526* Check_133497;
NIM_BOOL LOC32;
TY51548* LOC34;
NIM_BOOL LOC40;
Result_133331 = 0;
S_133333 = 0;
S_133333 = Qualifiedlookup_105322(C_133328, N_133329, 3);
if (!!((S_133333 == NIM_NIL))) goto LA2;
Result_133331 = Semsym_130092(C_133328, N_133329, S_133333, Flags_133330);
goto BeforeRet;
LA2: ;
Checksonslen_104099(N_133329, 2);
asgnRefNoCycle((void**) &(*N_133329).KindU.S6.Sons->data[0], Semexprwithtype_122122(C_133328, (*N_133329).KindU.S6.Sons->data[0], (1 | Flags_133330)));
I_133392 = 0;
I_133392 = Consideracc_122003((*N_133329).KindU.S6.Sons->data[1]);
Ty_133405 = 0;
Ty_133405 = (*(*N_133329).KindU.S6.Sons->data[0]).Typ;
F_133406 = 0;
F_133406 = NIM_NIL;
Result_133331 = NIM_NIL;
if (!((*Ty_133405).Kind == ((NU8) 14))) goto LA5;
while (1) {
if (!!((Ty_133405 == NIM_NIL))) goto LA7;
F_133406 = Getsymfromlist_56194((*Ty_133405).N, I_133392, 0);
if (!!((F_133406 == NIM_NIL))) goto LA9;
goto LA7;
LA9: ;
Ty_133405 = (*Ty_133405).Sons->data[0];
} LA7: ;
if (!!((F_133406 == NIM_NIL))) goto LA12;
Result_133331 = Newsymnode_51735(F_133406);
(*Result_133331).Info = (*N_133329).Info;
asgnRef((void**) &(*Result_133331).Typ, Ty_133405);
Markused_122065(N_133329, F_133406);
goto LA11;
LA12: ;
Limessage_43569((*(*N_133329).KindU.S6.Sons->data[1]).Info, ((NU8) 167), (*I_133392).S);
LA11: ;
goto BeforeRet;
goto LA4;
LA5: ;
LOC14 = !(((Flags_133330 &(1<<((((NU8) 0))&7)))!=0));
if (!(LOC14)) goto LA15;
LOC14 = Istypeexpr_133026((*N_133329).KindU.S6.Sons->data[0]);
LA15: ;
if (!LOC14) goto LA16;
Limessage_43569((*(*N_133329).KindU.S6.Sons->data[0]).Info, ((NU8) 162), ((NimStringDesc*) &TMP192933));
goto BeforeRet;
goto LA4;
LA16: ;
LA4: ;
Ty_133405 = Skiptypes_94087(Ty_133405, 14682112);
Check_133497 = 0;
Check_133497 = NIM_NIL;
if (!((*Ty_133405).Kind == ((NU8) 17))) goto LA19;
while (1) {
Check_133497 = NIM_NIL;
F_133406 = Lookupinrecordandbuildcheck_133051(C_133328, N_133329, (*Ty_133405).N, I_133392, &Check_133497);
if (!!((F_133406 == NIM_NIL))) goto LA23;
goto LA21;
LA23: ;
if (!((*Ty_133405).Sons->data[0] == NIM_NIL)) goto LA26;
goto LA21;
LA26: ;
Ty_133405 = Skiptypes_94087((*Ty_133405).Sons->data[0], 2048);
} LA21: ;
if (!!((F_133406 == NIM_NIL))) goto LA29;
LOC32 = !(((6 & (*F_133406).Flags) == 0));
if (LOC32) goto LA33;
LOC34 = 0;
LOC34 = Getmodule_56203(F_133406);
LOC32 = ((*LOC34).Sup.Id == (*(*C_133328).Module).Sup.Id);
LA33: ;
if (!LOC32) goto LA35;
asgnRefNoCycle((void**) &(*N_133329).KindU.S6.Sons->data[0], Makederef_133297((*N_133329).KindU.S6.Sons->data[0]));
asgnRefNoCycle((void**) &(*N_133329).KindU.S6.Sons->data[1], Newsymnode_51735(F_133406));
asgnRef((void**) &(*N_133329).Typ, (*F_133406).Typ);
Markused_122065(N_133329, F_133406);
if (!(Check_133497 == NIM_NIL)) goto LA38;
Result_133331 = N_133329;
goto LA37;
LA38: ;
asgnRefNoCycle((void**) &(*Check_133497).KindU.S6.Sons->data[0], N_133329);
asgnRef((void**) &(*Check_133497).Typ, (*N_133329).Typ);
Result_133331 = Check_133497;
LA37: ;
LA35: ;
LA29: ;
goto LA18;
LA19: ;
LOC40 = ((*Ty_133405).Kind == ((NU8) 18));
if (!(LOC40)) goto LA41;
LOC40 = !(((*Ty_133405).N == NIM_NIL));
LA41: ;
if (!LOC40) goto LA42;
F_133406 = Getsymfromlist_56194((*Ty_133405).N, I_133392, 0);
if (!!((F_133406 == NIM_NIL))) goto LA45;
asgnRefNoCycle((void**) &(*N_133329).KindU.S6.Sons->data[0], Makederef_133297((*N_133329).KindU.S6.Sons->data[0]));
asgnRefNoCycle((void**) &(*N_133329).KindU.S6.Sons->data[1], Newsymnode_51735(F_133406));
asgnRef((void**) &(*N_133329).Typ, (*F_133406).Typ);
Result_133331 = N_133329;
Markused_122065(N_133329, F_133406);
LA45: ;
goto LA18;
LA42: ;
LA18: ;
BeforeRet: ;
return Result_133331;
}
static N_INLINE(TY51526*, HEX5BHEX5D_53057)(TY51526* N_53059, NI I_53060) {
TY51526* Result_53061;
Result_53061 = 0;
Result_53061 = (*N_53059).KindU.S6.Sons->data[I_53060];
return Result_53061;
}
static N_INLINE(void, appendString)(NimStringDesc* Dest_18799, NimStringDesc* Src_18800) {
memcpy(((NCSTRING) (&(*Dest_18799).data[((*Dest_18799).Sup.len)-0])), ((NCSTRING) ((*Src_18800).data)), ((NI32) ((NI32)((NI32)((*Src_18800).Sup.len + 1) * 1))));
(*Dest_18799).Sup.len += (*Src_18800).Sup.len;
}
static N_INLINE(void, appendChar)(NimStringDesc* Dest_18816, NIM_CHAR C_18817) {
(*Dest_18816).data[((*Dest_18816).Sup.len)-0] = C_18817;
(*Dest_18816).data[((NI32)((*Dest_18816).Sup.len + 1))-0] = 0;
(*Dest_18816).Sup.len += 1;
}
static N_INLINE(void, Initcandidateaux_124045)(TY124022* C_124048, TY51552* Callee_124049) {
(*C_124048).Exactmatches = 0;
(*C_124048).Subtypematches = 0;
(*C_124048).Convmatches = 0;
(*C_124048).Intconvmatches = 0;
(*C_124048).Genericmatches = 0;
(*C_124048).State = ((NU8) 0);
unsureAsgnRef((void**) &(*C_124048).Callee, Callee_124049);
unsureAsgnRef((void**) &(*C_124048).Call, NIM_NIL);
(*C_124048).Basetypematch = NIM_FALSE;
}
N_NIMCALL(void, Initcandidate_124056)(TY124022* C_124059, TY51548* Callee_124060, TY51526* Binding_124061) {
TY51526* Typeparams_124074;
NI I_124085;
NI HEX3Atmp_126848;
NI LOC4;
NI LOC5;
NI Res_126850;
TY51552* Formaltypeparam_124098;
TY51526* LOC7;
Initcandidateaux_124045(C_124059, (*Callee_124060).Typ);
unsureAsgnRef((void**) &(*C_124059).Calleesym, Callee_124060);
Initidtable_51755(&(*C_124059).Bindings);
if (!!((Binding_124061 == NIM_NIL))) goto LA2;
Typeparams_124074 = 0;
Typeparams_124074 = HEX5BHEX5D_53057((*Callee_124060).Ast, 1);
I_124085 = 0;
HEX3Atmp_126848 = 0;
LOC4 = Sonslen_51804(Typeparams_124074);
LOC5 = Sonslen_51804(Binding_124061);
HEX3Atmp_126848 = ((LOC4 <= (NI32)(LOC5 - 1)) ? LOC4 : (NI32)(LOC5 - 1));
Res_126850 = 0;
Res_126850 = 1;
while (1) {
if (!(Res_126850 <= HEX3Atmp_126848)) goto LA6;
I_124085 = Res_126850;
Formaltypeparam_124098 = 0;
Formaltypeparam_124098 = (*(*Typeparams_124074).KindU.S6.Sons->data[(NI32)(I_124085 - 1)]).Typ;
LOC7 = 0;
LOC7 = HEX5BHEX5D_53057(Binding_124061, I_124085);
Idtableput_56171(&(*C_124059).Bindings, &Formaltypeparam_124098->Sup, &(*LOC7).Typ->Sup.Sup);
Res_126850 += 1;
} LA6: ;
LA2: ;
}
static N_INLINE(NI, Sonslen_51807)(TY51552* N_51809) {
NI Result_52750;
Result_52750 = 0;
if (!(*N_51809).Sons == 0) goto LA2;
Result_52750 = 0;
goto LA1;
LA2: ;
Result_52750 = (*N_51809).Sons->Sup.len;
LA1: ;
return Result_52750;
}
static N_INLINE(TY51552*, Lastson_51813)(TY51552* N_51815) {
TY51552* Result_53841;
NI LOC1;
Result_53841 = 0;
LOC1 = Sonslen_51807(N_51815);
Result_53841 = (*N_51815).Sons->data[(NI32)(LOC1 - 1)];
return Result_53841;
}
N_NIMCALL(NU8, Handlerange_124328)(TY51552* F_124330, TY51552* A_124331, NU8 Min_124332, NU8 Max_124333) {
NU8 Result_124334;
NU8 K_124345;
TY51552* LOC4;
NIM_BOOL LOC8;
NIM_BOOL LOC12;
Result_124334 = 0;
if (!((*A_124331).Kind == (*F_124330).Kind)) goto LA2;
Result_124334 = ((NU8) 5);
goto LA1;
LA2: ;
K_124345 = 0;
LOC4 = 0;
LOC4 = Skiptypes_94087(A_124331, 1048576);
K_124345 = (*LOC4).Kind;
if (!(K_124345 == (*F_124330).Kind)) goto LA6;
Result_124334 = ((NU8) 3);
goto LA5;
LA6: ;
LOC8 = ((*F_124330).Kind == ((NU8) 31));
if (!(LOC8)) goto LA9;
LOC8 = (K_124345 >= ((NU8) 31) && K_124345 <= ((NU8) 34));
LA9: ;
if (!LOC8) goto LA10;
Result_124334 = ((NU8) 2);
goto LA5;
LA10: ;
LOC12 = (Min_124332 <= K_124345);
if (!(LOC12)) goto LA13;
LOC12 = (K_124345 <= Max_124333);
LA13: ;
if (!LOC12) goto LA14;
Result_124334 = ((NU8) 1);
goto LA5;
LA14: ;
Result_124334 = ((NU8) 0);
LA5: ;
LA1: ;
return Result_124334;
}
N_NIMCALL(NU8, Handlefloatrange_124394)(TY51552* F_124396, TY51552* A_124397) {
NU8 Result_124398;
NU8 K_124409;
TY51552* LOC4;
NIM_BOOL LOC8;
Result_124398 = 0;
if (!((*A_124397).Kind == (*F_124396).Kind)) goto LA2;
Result_124398 = ((NU8) 5);
goto LA1;
LA2: ;
K_124409 = 0;
LOC4 = 0;
LOC4 = Skiptypes_94087(A_124397, 1048576);
K_124409 = (*LOC4).Kind;
if (!(K_124409 == (*F_124396).Kind)) goto LA6;
Result_124398 = ((NU8) 3);
goto LA5;
LA6: ;
LOC8 = (((NU8) 36) <= K_124409);
if (!(LOC8)) goto LA9;
LOC8 = (K_124409 <= ((NU8) 39));
LA9: ;
if (!LOC8) goto LA10;
Result_124398 = ((NU8) 1);
goto LA5;
LA10: ;
Result_124398 = ((NU8) 0);
LA5: ;
LA1: ;
return Result_124398;
}
N_NIMCALL(NU8, Minrel_124467)(NU8 A_124469, NU8 B_124470) {
NU8 Result_124471;
Result_124471 = 0;
if (!(A_124469 <= B_124470)) goto LA2;
Result_124471 = A_124469;
goto LA1;
LA2: ;
Result_124471 = B_124470;
LA1: ;
return Result_124471;
}
N_NIMCALL(NU8, Tuplerel_124481)(TY51564* Mapping_124484, TY51552* F_124485, TY51552* A_124486) {
NU8 Result_124487;
NI LOC2;
NI LOC3;
NI I_124498;
NI HEX3Atmp_126854;
NI LOC6;
NI Res_126856;
NU8 M_124499;
NIM_BOOL LOC12;
NI I_124541;
NI HEX3Atmp_126857;
NI LOC16;
NI Res_126859;
TY51548* X_124608;
TY51548* Y_124633;
Result_124487 = 0;
Result_124487 = ((NU8) 0);
LOC2 = Sonslen_51807(A_124486);
LOC3 = Sonslen_51807(F_124485);
if (!(LOC2 == LOC3)) goto LA4;
Result_124487 = ((NU8) 5);
I_124498 = 0;
HEX3Atmp_126854 = 0;
LOC6 = Sonslen_51807(F_124485);
HEX3Atmp_126854 = (NI32)(LOC6 - 1);
Res_126856 = 0;
Res_126856 = 0;
while (1) {
if (!(Res_126856 <= HEX3Atmp_126854)) goto LA7;
I_124498 = Res_126856;
M_124499 = 0;
M_124499 = Typerel_124297(Mapping_124484, (*F_124485).Sons->data[I_124498], (*A_124486).Sons->data[I_124498]);
if (!(M_124499 < ((NU8) 3))) goto LA9;
Result_124487 = ((NU8) 0);
goto BeforeRet;
LA9: ;
Result_124487 = Minrel_124467(Result_124487, M_124499);
Res_126856 += 1;
} LA7: ;
LOC12 = !(((*F_124485).N == NIM_NIL));
if (!(LOC12)) goto LA13;
LOC12 = !(((*A_124486).N == NIM_NIL));
LA13: ;
if (!LOC12) goto LA14;
I_124541 = 0;
HEX3Atmp_126857 = 0;
LOC16 = Sonslen_51804((*F_124485).N);
HEX3Atmp_126857 = (NI32)(LOC16 - 1);
Res_126859 = 0;
Res_126859 = 0;
while (1) {
if (!(Res_126859 <= HEX3Atmp_126857)) goto LA17;
I_124541 = Res_126859;
if (!!(((*(*(*F_124485).N).KindU.S6.Sons->data[I_124541]).Kind == ((NU8) 3)))) goto LA19;
Internalerror_43574((*(*F_124485).N).Info, ((NimStringDesc*) &TMP193067));
LA19: ;
if (!!(((*(*(*A_124486).N).KindU.S6.Sons->data[I_124541]).Kind == ((NU8) 3)))) goto LA22;
Internalerror_43574((*(*A_124486).N).Info, ((NimStringDesc*) &TMP193067));
LA22: ;
X_124608 = 0;
X_124608 = (*(*(*F_124485).N).KindU.S6.Sons->data[I_124541]).KindU.S4.Sym;
Y_124633 = 0;
Y_124633 = (*(*(*A_124486).N).KindU.S6.Sons->data[I_124541]).KindU.S4.Sym;
if (!!(((*(*X_124608).Name).Sup.Id == (*(*Y_124633).Name).Sup.Id))) goto LA25;
Result_124487 = ((NU8) 0);
goto BeforeRet;
LA25: ;
Res_126859 += 1;
} LA17: ;
LA14: ;
LA4: ;
BeforeRet: ;
return Result_124487;
}
N_NIMCALL(NIM_BOOL, Isobjectsubtype_124437)(TY51552* A_124439, TY51552* F_124440) {
NIM_BOOL Result_124441;
TY51552* T_124442;
NIM_BOOL LOC2;
Result_124441 = 0;
T_124442 = 0;
T_124442 = A_124439;
while (1) {
LOC2 = !((T_124442 == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC2 = !(((*T_124442).Sup.Id == (*F_124440).Sup.Id));
LA3: ;
if (!LOC2) goto LA1;
T_124442 = Base_94021(T_124442);
} LA1: ;
Result_124441 = !((T_124442 == NIM_NIL));
return Result_124441;
}
N_NIMCALL(TY51552*, Concretetype_124303)(TY51564 Mapping_124305, TY51552* T_124306) {
TY51552* Result_124307;
TNimObject* LOC2;
Result_124307 = 0;
switch ((*T_124306).Kind) {
case ((NU8) 4):
Result_124307 = Newtype_51707(((NU8) 16), (*T_124306).Owner);
Addson_51828(Result_124307, (*T_124306).Sons->data[0]);
Addson_51828(Result_124307, (*T_124306).Sons->data[1]);
break;
case ((NU8) 5):
Result_124307 = NIM_NIL;
break;
case ((NU8) 12):
Result_124307 = T_124306;
while (1) {
LOC2 = 0;
LOC2 = Idtableget_56163(Mapping_124305, &T_124306->Sup);
Result_124307 = ((TY51552*) (LOC2));
if (!(Result_124307 == NIM_NIL)) goto LA4;
Internalerror_43578(((NimStringDesc*) &TMP193070));
LA4: ;
if (!!(((*Result_124307).Kind == ((NU8) 12)))) goto LA7;
goto LA1;
LA7: ;
} LA1: ;
break;
default:
Result_124307 = T_124306;
break;
}
return Result_124307;
}
N_NIMCALL(NU8, Typerel_124297)(TY51564* Mapping_124300, TY51552* F_124301, TY51552* A_124302) {
NU8 Result_124642;
TY51552* X_124643;
TY51552* Concrete_124644;
NU8 M_124645;
NIM_BOOL LOC2;
TY51552* LOC4;
TY51552* LOC7;
NIM_BOOL LOC9;
NIM_BOOL LOC14;
TY51552* LOC18;
TY51552* LOC24;
TY51552* LOC30;
TY51552* LOC31;
TY51552* LOC35;
TY51552* LOC41;
TY51552* LOC42;
TY51552* LOC43;
NU8 LOC44;
NU8 LOC45;
NIM_BOOL LOC53;
NI64 LOC55;
NI64 LOC56;
NU8 LOC61;
TY51552* LOC62;
TY51552* LOC63;
NIM_BOOL LOC68;
TY51552* LOC72;
NU8 LOC73;
NIM_BOOL LOC77;
TY51552* LOC81;
NU8 LOC82;
NIM_BOOL LOC86;
TY51552* LOC90;
NU8 LOC91;
NIM_BOOL LOC95;
NIM_BOOL LOC103;
NIM_BOOL LOC124;
NIM_BOOL LOC128;
NIM_BOOL LOC136;
TY51552* LOC143;
TY51552* LOC144;
TY51552* LOC148;
TY51552* LOC149;
NIM_BOOL LOC154;
NI LOC155;
NI LOC156;
NI I_125078;
NI HEX3Atmp_126860;
NI LOC160;
NI Res_126862;
NIM_BOOL LOC163;
NU8 LOC165;
NIM_BOOL LOC184;
NIM_BOOL LOC192;
NIM_BOOL LOC193;
NI64 LOC194;
TY51552* LOC196;
TY51552* LOC203;
TY51552* LOC204;
NIM_BOOL LOC212;
NI LOC214;
NI LOC215;
NI I_125273;
NI HEX3Atmp_126863;
NI LOC218;
NI Res_126865;
NU8 LOC224;
NI I_125311;
NI HEX3Atmp_126866;
NI LOC230;
NI Res_126868;
TNimObject* LOC232;
NIM_BOOL LOC234;
TNimObject* LOC238;
NI LOC243;
NimStringDesc* LOC249;
NI I_125364;
NI HEX3Atmp_126869;
NI LOC250;
NI Res_126871;
NU8 LOC253;
NimStringDesc* LOC266;
Result_124642 = 0;
X_124643 = 0;
Concrete_124644 = 0;
M_124645 = 0;
Result_124642 = ((NU8) 0);
LOC2 = ((*A_124302).Kind == ((NU8) 11));
if (!(LOC2)) goto LA3;
LOC4 = 0;
LOC4 = Skiptypes_94087(F_124301, 8388608);
LOC2 = !(((*LOC4).Kind == ((NU8) 10) || (*LOC4).Kind == ((NU8) 9)));
LA3: ;
if (!LOC2) goto LA5;
LOC7 = 0;
LOC7 = Lastson_51813(A_124302);
Result_124642 = Typerel_124297(Mapping_124300, F_124301, LOC7);
goto BeforeRet;
LA5: ;
LOC9 = ((*A_124302).Kind == ((NU8) 23));
if (!(LOC9)) goto LA10;
LOC9 = !(((*F_124301).Kind == ((NU8) 23)));
LA10: ;
if (!LOC9) goto LA11;
Result_124642 = Typerel_124297(Mapping_124300, F_124301, (*A_124302).Sons->data[0]);
goto BeforeRet;
LA11: ;
switch ((*F_124301).Kind) {
case ((NU8) 14):
LOC14 = ((*A_124302).Kind == (*F_124301).Kind);
if (!(LOC14)) goto LA15;
LOC14 = ((*A_124302).Sup.Id == (*F_124301).Sup.Id);
LA15: ;
if (!LOC14) goto LA16;
Result_124642 = ((NU8) 5);
goto LA13;
LA16: ;
LOC18 = 0;
LOC18 = Skiptypes_94087(A_124302, 1048576);
if (!((*LOC18).Sup.Id == (*F_124301).Sup.Id)) goto LA19;
Result_124642 = ((NU8) 3);
goto LA13;
LA19: ;
LA13: ;
break;
case ((NU8) 1):
case ((NU8) 2):
if (!((*A_124302).Kind == (*F_124301).Kind)) goto LA22;
Result_124642 = ((NU8) 5);
goto LA21;
LA22: ;
LOC24 = 0;
LOC24 = Skiptypes_94087(A_124302, 1048576);
if (!((*LOC24).Kind == (*F_124301).Kind)) goto LA25;
Result_124642 = ((NU8) 3);
goto LA21;
LA25: ;
LA21: ;
break;
case ((NU8) 20):
if (!((*A_124302).Kind == (*F_124301).Kind)) goto LA28;
LOC30 = 0;
LOC30 = Base_94021(A_124302);
LOC31 = 0;
LOC31 = Base_94021(F_124301);
Result_124642 = Typerel_124297(Mapping_124300, LOC30, LOC31);
if (!(Result_124642 < ((NU8) 4))) goto LA33;
Result_124642 = ((NU8) 0);
LA33: ;
goto LA27;
LA28: ;
LOC35 = 0;
LOC35 = Skiptypes_94087(F_124301, 1048576);
if (!((*LOC35).Kind == (*A_124302).Kind)) goto LA36;
Result_124642 = ((NU8) 1);
goto LA27;
LA36: ;
LA27: ;
break;
case ((NU8) 31):
Result_124642 = Handlerange_124328(F_124301, A_124302, ((NU8) 32), ((NU8) 34));
break;
case ((NU8) 32):
Result_124642 = Handlerange_124328(F_124301, A_124302, ((NU8) 32), ((NU8) 32));
break;
case ((NU8) 33):
Result_124642 = Handlerange_124328(F_124301, A_124302, ((NU8) 32), ((NU8) 33));
break;
case ((NU8) 34):
Result_124642 = Handlerange_124328(F_124301, A_124302, ((NU8) 31), ((NU8) 34));
break;
case ((NU8) 35):
Result_124642 = Handlerange_124328(F_124301, A_124302, ((NU8) 31), ((NU8) 35));
break;
case ((NU8) 36):
Result_124642 = Handlefloatrange_124394(F_124301, A_124302);
break;
case ((NU8) 37):
Result_124642 = Handlefloatrange_124394(F_124301, A_124302);
break;
case ((NU8) 38):
Result_124642 = Handlefloatrange_124394(F_124301, A_124302);
break;
case ((NU8) 39):
Result_124642 = Handlefloatrange_124394(F_124301, A_124302);
break;
case ((NU8) 23):
if (!((*A_124302).Kind == (*F_124301).Kind)) goto LA39;
LOC41 = 0;
LOC41 = Base_94021(F_124301);
LOC42 = 0;
LOC42 = Base_94021(A_124302);
Result_124642 = Typerel_124297(Mapping_124300, LOC41, LOC42);
goto LA38;
LA39: ;
LOC43 = 0;
LOC43 = Base_94021(F_124301);
Result_124642 = Typerel_124297(Mapping_124300, LOC43, A_124302);
LA38: ;
break;
case ((NU8) 16):
case ((NU8) 4):
switch ((*A_124302).Kind) {
case ((NU8) 16):
LOC44 = Typerel_124297(Mapping_124300, (*F_124301).Sons->data[0], (*A_124302).Sons->data[0]);
LOC45 = Typerel_124297(Mapping_124300, (*F_124301).Sons->data[1], (*A_124302).Sons->data[1]);
Result_124642 = Minrel_124467(LOC44, LOC45);
if (!(Result_124642 < ((NU8) 4))) goto LA47;
Result_124642 = ((NU8) 0);
LA47: ;
break;
case ((NU8) 4):
Result_124642 = Typerel_124297(Mapping_124300, (*F_124301).Sons->data[1], (*A_124302).Sons->data[1]);
if (!(Result_124642 < ((NU8) 4))) goto LA50;
Result_124642 = ((NU8) 0);
goto LA49;
LA50: ;
LOC53 = !((Result_124642 == ((NU8) 4)));
if (!(LOC53)) goto LA54;
LOC55 = Lengthord_94007(F_124301);
LOC56 = Lengthord_94007(A_124302);
LOC53 = !((LOC55 == LOC56));
LA54: ;
if (!LOC53) goto LA57;
Result_124642 = ((NU8) 0);
goto LA52;
LA57: ;
if (!((*(*F_124301).Sons->data[0]).Kind == ((NU8) 9) || (*(*F_124301).Sons->data[0]).Kind == ((NU8) 10) || (*(*F_124301).Sons->data[0]).Kind == ((NU8) 12))) goto LA59;
LOC61 = Typerel_124297(Mapping_124300, (*F_124301).Sons->data[0], (*A_124302).Sons->data[0]);
Result_124642 = Minrel_124467(Result_124642, LOC61);
goto LA52;
LA59: ;
LA52: ;
LA49: ;
break;
default:
break;
}
break;
case ((NU8) 27):
switch ((*A_124302).Kind) {
case ((NU8) 27):
LOC62 = 0;
LOC62 = Base_94021(F_124301);
LOC63 = 0;
LOC63 = Base_94021(A_124302);
Result_124642 = Typerel_124297(Mapping_124300, LOC62, LOC63);
if (!(Result_124642 < ((NU8) 4))) goto LA65;
Result_124642 = ((NU8) 0);
LA65: ;
break;
case ((NU8) 4):
LOC68 = !(((*(*F_124301).Sons->data[0]).Kind == ((NU8) 12)));
if (!(LOC68)) goto LA69;
LOC68 = ((*(*A_124302).Sons->data[1]).Kind == ((NU8) 3));
LA69: ;
if (!LOC68) goto LA70;
Result_124642 = ((NU8) 3);
goto LA67;
LA70: ;
LOC72 = 0;
LOC72 = Base_94021(F_124301);
LOC73 = Typerel_124297(Mapping_124300, LOC72, (*A_124302).Sons->data[1]);
if (!(((NU8) 4) <= LOC73)) goto LA74;
Result_124642 = ((NU8) 3);
goto LA67;
LA74: ;
LA67: ;
break;
case ((NU8) 16):
LOC77 = !(((*(*F_124301).Sons->data[0]).Kind == ((NU8) 12)));
if (!(LOC77)) goto LA78;
LOC77 = ((*(*A_124302).Sons->data[1]).Kind == ((NU8) 3));
LA78: ;
if (!LOC77) goto LA79;
Result_124642 = ((NU8) 3);
goto LA76;
LA79: ;
LOC81 = 0;
LOC81 = Base_94021(F_124301);
LOC82 = Typerel_124297(Mapping_124300, LOC81, (*A_124302).Sons->data[1]);
if (!(((NU8) 4) <= LOC82)) goto LA83;
Result_124642 = ((NU8) 1);
goto LA76;
LA83: ;
LA76: ;
break;
case ((NU8) 24):
LOC86 = !(((*(*F_124301).Sons->data[0]).Kind == ((NU8) 12)));
if (!(LOC86)) goto LA87;
LOC86 = ((*(*A_124302).Sons->data[0]).Kind == ((NU8) 3));
LA87: ;
if (!LOC86) goto LA88;
Result_124642 = ((NU8) 1);
goto LA85;
LA88: ;
LOC90 = 0;
LOC90 = Base_94021(F_124301);
LOC91 = Typerel_124297(Mapping_124300, LOC90, (*A_124302).Sons->data[0]);
if (!(((NU8) 4) <= LOC91)) goto LA92;
Result_124642 = ((NU8) 1);
goto LA85;
LA92: ;
LA85: ;
break;
default:
break;
}
break;
case ((NU8) 24):
switch ((*A_124302).Kind) {
case ((NU8) 5):
Result_124642 = ((NU8) 3);
break;
case ((NU8) 24):
LOC95 = !(((*(*F_124301).Sons->data[0]).Kind == ((NU8) 12)));
if (!(LOC95)) goto LA96;
LOC95 = ((*(*A_124302).Sons->data[0]).Kind == ((NU8) 3));
LA96: ;
if (!LOC95) goto LA97;
Result_124642 = ((NU8) 3);
goto LA94;
LA97: ;
Result_124642 = Typerel_124297(Mapping_124300, (*F_124301).Sons->data[0], (*A_124302).Sons->data[0]);
if (!(Result_124642 < ((NU8) 4))) goto LA100;
Result_124642 = ((NU8) 0);
LA100: ;
LA94: ;
break;
default:
break;
}
break;
case ((NU8) 15):
LOC103 = Isordinaltype_94069(A_124302);
if (!LOC103) goto LA104;
if (!((*A_124302).Kind == ((NU8) 15))) goto LA107;
X_124643 = (*A_124302).Sons->data[0];
goto LA106;
LA107: ;
X_124643 = A_124302;
LA106: ;
Result_124642 = Typerel_124297(Mapping_124300, (*F_124301).Sons->data[0], X_124643);
if (!(Result_124642 < ((NU8) 4))) goto LA110;
Result_124642 = ((NU8) 0);
LA110: ;
LA104: ;
break;
case ((NU8) 30):
Internalerror_43578(((NimStringDesc*) &TMP193066));
break;
case ((NU8) 5):
if (!((*A_124302).Kind == (*F_124301).Kind)) goto LA113;
Result_124642 = ((NU8) 5);
LA113: ;
break;
case ((NU8) 18):
if (!((*A_124302).Kind == ((NU8) 18))) goto LA116;
Result_124642 = Tuplerel_124481(Mapping_124300, F_124301, A_124302);
LA116: ;
break;
case ((NU8) 17):
if (!((*A_124302).Kind == ((NU8) 17))) goto LA119;
if (!((*A_124302).Sup.Id == (*F_124301).Sup.Id)) goto LA122;
Result_124642 = ((NU8) 5);
goto LA121;
LA122: ;
LOC124 = Isobjectsubtype_124437(A_124302, F_124301);
if (!LOC124) goto LA125;
Result_124642 = ((NU8) 3);
goto LA121;
LA125: ;
LA121: ;
LA119: ;
break;
case ((NU8) 13):
LOC128 = ((*A_124302).Kind == ((NU8) 13));
if (!(LOC128)) goto LA129;
LOC128 = ((*A_124302).Sup.Id == (*F_124301).Sup.Id);
LA129: ;
if (!LOC128) goto LA130;
Result_124642 = ((NU8) 5);
LA130: ;
break;
case ((NU8) 19):
if (!((*A_124302).Kind == ((NU8) 19))) goto LA133;
LOC136 = !(((*(*F_124301).Sons->data[0]).Kind == ((NU8) 12)));
if (!(LOC136)) goto LA137;
LOC136 = ((*(*A_124302).Sons->data[0]).Kind == ((NU8) 3));
LA137: ;
if (!LOC136) goto LA138;
Result_124642 = ((NU8) 3);
goto LA135;
LA138: ;
Result_124642 = Typerel_124297(Mapping_124300, (*F_124301).Sons->data[0], (*A_124302).Sons->data[0]);
if (!(Result_124642 <= ((NU8) 1))) goto LA141;
Result_124642 = ((NU8) 0);
LA141: ;
LA135: ;
LA133: ;
break;
case ((NU8) 21):
switch ((*A_124302).Kind) {
case ((NU8) 21):
LOC143 = 0;
LOC143 = Base_94021(F_124301);
LOC144 = 0;
LOC144 = Base_94021(A_124302);
Result_124642 = Typerel_124297(Mapping_124300, LOC143, LOC144);
if (!(Result_124642 <= ((NU8) 1))) goto LA146;
Result_124642 = ((NU8) 0);
LA146: ;
break;
case ((NU8) 5):
Result_124642 = ((NU8) 3);
break;
default:
break;
}
break;
case ((NU8) 22):
switch ((*A_124302).Kind) {
case ((NU8) 22):
LOC148 = 0;
LOC148 = Base_94021(F_124301);
LOC149 = 0;
LOC149 = Base_94021(A_124302);
Result_124642 = Typerel_124297(Mapping_124300, LOC148, LOC149);
if (!(Result_124642 <= ((NU8) 1))) goto LA151;
Result_124642 = ((NU8) 0);
LA151: ;
break;
case ((NU8) 5):
Result_124642 = ((NU8) 3);
break;
default:
break;
}
break;
case ((NU8) 25):
switch ((*A_124302).Kind) {
case ((NU8) 5):
Result_124642 = ((NU8) 3);
break;
case ((NU8) 25):
LOC155 = Sonslen_51807(F_124301);
LOC156 = Sonslen_51807(A_124302);
LOC154 = (LOC155 == LOC156);
if (!(LOC154)) goto LA157;
LOC154 = ((*F_124301).Callconv == (*A_124302).Callconv);
LA157: ;
if (!LOC154) goto LA158;
Result_124642 = ((NU8) 5);
I_125078 = 0;
HEX3Atmp_126860 = 0;
LOC160 = Sonslen_51807(F_124301);
HEX3Atmp_126860 = (NI32)(LOC160 - 1);
Res_126862 = 0;
Res_126862 = 1;
while (1) {
if (!(Res_126862 <= HEX3Atmp_126860)) goto LA161;
I_125078 = Res_126862;
M_124645 = Typerel_124297(Mapping_124300, (*F_124301).Sons->data[I_125078], (*A_124302).Sons->data[I_125078]);
LOC163 = (M_124645 == ((NU8) 0));
if (!(LOC163)) goto LA164;
LOC165 = Typerel_124297(Mapping_124300, (*A_124302).Sons->data[I_125078], (*F_124301).Sons->data[I_125078]);
LOC163 = (LOC165 == ((NU8) 3));
LA164: ;
if (!LOC163) goto LA166;
Result_124642 = ((NU8) 1);
goto LA162;
LA166: ;
if (!(M_124645 < ((NU8) 3))) goto LA168;
Result_124642 = ((NU8) 0);
goto BeforeRet;
goto LA162;
LA168: ;
Result_124642 = Minrel_124467(M_124645, Result_124642);
LA162: ;
Res_126862 += 1;
} LA161: ;
if (!!(((*F_124301).Sons->data[0] == NIM_NIL))) goto LA171;
if (!!(((*A_124302).Sons->data[0] == NIM_NIL))) goto LA174;
M_124645 = Typerel_124297(Mapping_124300, (*F_124301).Sons->data[0], (*A_124302).Sons->data[0]);
if (!(M_124645 < ((NU8) 3))) goto LA177;
Result_124642 = ((NU8) 0);
goto LA176;
LA177: ;
if (!(M_124645 == ((NU8) 3))) goto LA179;
Result_124642 = ((NU8) 1);
goto LA176;
LA179: ;
Result_124642 = Minrel_124467(M_124645, Result_124642);
LA176: ;
goto LA173;
LA174: ;
Result_124642 = ((NU8) 0);
LA173: ;
goto LA170;
LA171: ;
if (!!(((*A_124302).Sons->data[0] == NIM_NIL))) goto LA181;
Result_124642 = ((NU8) 0);
goto LA170;
LA181: ;
LA170: ;
LOC184 = (((*F_124301).Flags &(1<<((((NU8) 1))&7)))!=0);
if (!(LOC184)) goto LA185;
LOC184 = !((((*A_124302).Flags &(1<<((((NU8) 1))&7)))!=0));
LA185: ;
if (!LOC184) goto LA186;
Result_124642 = ((NU8) 0);
LA186: ;
LA158: ;
break;
default:
break;
}
break;
case ((NU8) 26):
switch ((*A_124302).Kind) {
case ((NU8) 26):
Result_124642 = ((NU8) 5);
break;
case ((NU8) 5):
Result_124642 = ((NU8) 3);
break;
case ((NU8) 21):
case ((NU8) 25):
case ((NU8) 29):
Result_124642 = ((NU8) 1);
break;
default:
break;
}
break;
case ((NU8) 28):
switch ((*A_124302).Kind) {
case ((NU8) 28):
Result_124642 = ((NU8) 5);
break;
case ((NU8) 5):
Result_124642 = ((NU8) 3);
break;
default:
break;
}
break;
case ((NU8) 29):
switch ((*A_124302).Kind) {
case ((NU8) 29):
Result_124642 = ((NU8) 5);
break;
case ((NU8) 5):
Result_124642 = ((NU8) 3);
break;
case ((NU8) 28):
Result_124642 = ((NU8) 1);
break;
case ((NU8) 21):
if (!((*(*A_124302).Sons->data[0]).Kind == ((NU8) 2))) goto LA189;
Result_124642 = ((NU8) 1);
LA189: ;
break;
case ((NU8) 16):
LOC194 = Firstord_94001((*A_124302).Sons->data[0]);
LOC193 = (LOC194 == 0);
if (!(LOC193)) goto LA195;
LOC196 = 0;
LOC196 = Skiptypes_94087((*A_124302).Sons->data[0], 1048576);
LOC193 = ((*LOC196).Kind >= ((NU8) 31) && (*LOC196).Kind <= ((NU8) 35));
LA195: ;
LOC192 = LOC193;
if (!(LOC192)) goto LA197;
LOC192 = ((*(*A_124302).Sons->data[1]).Kind == ((NU8) 2));
LA197: ;
if (!LOC192) goto LA198;
Result_124642 = ((NU8) 1);
LA198: ;
break;
default:
break;
}
break;
case ((NU8) 3):
if (!((*A_124302).Kind == ((NU8) 3))) goto LA201;
Result_124642 = ((NU8) 5);
LA201: ;
break;
case ((NU8) 11):
LOC203 = 0;
LOC203 = Lastson_51813(F_124301);
Result_124642 = Typerel_124297(Mapping_124300, LOC203, A_124302);
break;
case ((NU8) 10):
LOC204 = 0;
LOC204 = Lastson_51813(F_124301);
Result_124642 = Typerel_124297(Mapping_124300, LOC204, A_124302);
break;
case ((NU8) 9):
if (!((*A_124302).Kind == ((NU8) 9))) goto LA206;
Internalerror_43578(((NimStringDesc*) &TMP193068));
LA206: ;
if (!((*A_124302).Kind == ((NU8) 11))) goto LA209;
LOC212 = ((*(*F_124301).Sons->data[0]).Containerid == (*(*A_124302).Sons->data[0]).Containerid);
if (!(LOC212)) goto LA213;
LOC214 = Sonslen_51807(A_124302);
LOC215 = Sonslen_51807(F_124301);
LOC212 = ((NI32)(LOC214 - 1) == LOC215);
LA213: ;
if (!LOC212) goto LA216;
I_125273 = 0;
HEX3Atmp_126863 = 0;
LOC218 = Sonslen_51807(F_124301);
HEX3Atmp_126863 = (NI32)(LOC218 - 1);
Res_126865 = 0;
Res_126865 = 1;
while (1) {
if (!(Res_126865 <= HEX3Atmp_126863)) goto LA219;
I_125273 = Res_126865;
if (!((*(*A_124302).Sons->data[I_125273]).Kind == ((NU8) 12))) goto LA221;
Internalerror_43578(((NimStringDesc*) &TMP193069));
LA221: ;
LOC224 = Typerel_124297(Mapping_124300, (*F_124301).Sons->data[I_125273], (*A_124302).Sons->data[I_125273]);
if (!(LOC224 < ((NU8) 4))) goto LA225;
goto BeforeRet;
LA225: ;
Res_126865 += 1;
} LA219: ;
Result_124642 = ((NU8) 4);
LA216: ;
goto LA208;
LA209: ;
Result_124642 = Typerel_124297(Mapping_124300, (*F_124301).Sons->data[0], A_124302);
if (!!((Result_124642 == ((NU8) 0)))) goto LA228;
I_125311 = 0;
HEX3Atmp_126866 = 0;
LOC230 = Sonslen_51807(F_124301);
HEX3Atmp_126866 = (NI32)(LOC230 - 1);
Res_126868 = 0;
Res_126868 = 1;
while (1) {
if (!(Res_126868 <= HEX3Atmp_126866)) goto LA231;
I_125311 = Res_126868;
LOC232 = 0;
LOC232 = Idtableget_56163((*Mapping_124300), &(*(*F_124301).Sons->data[0]).Sons->data[(NI32)(I_125311 - 1)]->Sup);
X_124643 = ((TY51552*) (LOC232));
LOC234 = (X_124643 == NIM_NIL);
if (LOC234) goto LA235;
LOC234 = ((*X_124643).Kind == ((NU8) 12));
LA235: ;
if (!LOC234) goto LA236;
Internalerror_43578(((NimStringDesc*) &TMP193069));
LA236: ;
Idtableput_56171(Mapping_124300, &(*F_124301).Sons->data[I_125311]->Sup, &X_124643->Sup.Sup);
Res_126868 += 1;
} LA231: ;
LA228: ;
LA208: ;
break;
case ((NU8) 12):
LOC238 = 0;
LOC238 = Idtableget_56163((*Mapping_124300), &F_124301->Sup);
X_124643 = ((TY51552*) (LOC238));
if (!(X_124643 == NIM_NIL)) goto LA240;
LOC243 = Sonslen_51807(F_124301);
if (!(LOC243 == 0)) goto LA244;
Concrete_124644 = Concretetype_124303((*Mapping_124300), A_124302);
if (!!((Concrete_124644 == NIM_NIL))) goto LA247;
Idtableput_56171(Mapping_124300, &F_124301->Sup, &Concrete_124644->Sup.Sup);
Result_124642 = ((NU8) 4);
LA247: ;
goto LA242;
LA244: ;
LOC249 = 0;
LOC249 = rawNewString((*(*(*F_124301).Sym).Name).S->Sup.len + 17);
appendString(LOC249, ((NimStringDesc*) &TMP193071));
appendString(LOC249, (*(*(*F_124301).Sym).Name).S);
Internalerror_43574((*(*F_124301).Sym).Info, LOC249);
I_125364 = 0;
HEX3Atmp_126869 = 0;
LOC250 = Sonslen_51807(F_124301);
HEX3Atmp_126869 = (NI32)(LOC250 - 1);
Res_126871 = 0;
Res_126871 = 0;
while (1) {
if (!(Res_126871 <= HEX3Atmp_126869)) goto LA251;
I_125364 = Res_126871;
LOC253 = Typerel_124297(Mapping_124300, (*F_124301).Sons->data[I_125364], A_124302);
if (!(((NU8) 3) <= LOC253)) goto LA254;
Concrete_124644 = Concretetype_124303((*Mapping_124300), A_124302);
if (!!((Concrete_124644 == NIM_NIL))) goto LA257;
Idtableput_56171(Mapping_124300, &F_124301->Sup, &Concrete_124644->Sup.Sup);
Result_124642 = ((NU8) 4);
LA257: ;
goto LA251;
LA254: ;
Res_126871 += 1;
} LA251: ;
LA242: ;
goto LA239;
LA240: ;
if (!((*A_124302).Kind == ((NU8) 3))) goto LA259;
Result_124642 = ((NU8) 4);
goto LA239;
LA259: ;
if (!((*X_124643).Kind == ((NU8) 12))) goto LA261;
Result_124642 = ((NU8) 4);
goto LA239;
LA261: ;
Result_124642 = Typerel_124297(Mapping_124300, X_124643, A_124302);
LA239: ;
break;
case ((NU8) 6):
case ((NU8) 7):
case ((NU8) 8):
if (!((*A_124302).Kind == (*F_124301).Kind)) goto LA264;
Result_124642 = ((NU8) 5);
goto LA263;
LA264: ;
switch ((*A_124302).Kind) {
case ((NU8) 6):
case ((NU8) 7):
case ((NU8) 8):
Result_124642 = ((NU8) 4);
break;
case ((NU8) 5):
Result_124642 = ((NU8) 3);
break;
default:
break;
}
LA263: ;
break;
default:
LOC266 = 0;
LOC266 = rawNewString(reprEnum((*F_124301).Kind, NTI51162)->Sup.len + 9);
appendString(LOC266, ((NimStringDesc*) &TMP193072));
appendString(LOC266, reprEnum((*F_124301).Kind, NTI51162));
appendChar(LOC266, 41);
Internalerror_43578(LOC266);
break;
}
BeforeRet: ;
return Result_124642;
}
N_NIMCALL(NIM_BOOL, Containsgenerictypeiter_123205)(TY51552* T_123207, TNimObject* Closure_123208) {
NIM_BOOL Result_123209;
Result_123209 = 0;
Result_123209 = ((*T_123207).Kind == ((NU8) 9) || (*T_123207).Kind == ((NU8) 10) || (*T_123207).Kind == ((NU8) 12));
return Result_123209;
}
N_NIMCALL(NIM_BOOL, Containsgenerictype_123221)(TY51552* T_123223) {
NIM_BOOL Result_123224;
Result_123224 = 0;
Result_123224 = Iterovertype_94038(T_123223, Containsgenerictypeiter_123205, NIM_NIL);
return Result_123224;
}
N_NIMCALL(TY51552*, Lookuptypevar_123861)(TY123708* Cl_123863, TY51552* T_123864) {
TY51552* Result_123865;
TNimObject* LOC1;
NimStringDesc* LOC5;
Result_123865 = 0;
LOC1 = 0;
LOC1 = Idtableget_56163((*Cl_123863).Typemap, &T_123864->Sup);
Result_123865 = ((TY51552*) (LOC1));
if (!(Result_123865 == NIM_NIL)) goto LA3;
LOC5 = 0;
LOC5 = Typetostring_94014(T_123864, ((NU8) 0));
Limessage_43569((*(*T_123864).Sym).Info, ((NU8) 122), LOC5);
goto LA2;
LA3: ;
if (!((*Result_123865).Kind == ((NU8) 12))) goto LA6;
Internalerror_43574((*Cl_123863).Info, ((NimStringDesc*) &TMP193073));
goto LA2;
LA6: ;
LA2: ;
return Result_123865;
}
N_NIMCALL(TY51552*, Searchinsttypes_123152)(TY51564 Tab_123154, TY51552* Key_123155) {
TY51552* Result_123156;
TNimObject* LOC1;
NIM_BOOL LOC3;
NI H_123180;
NI HEX3Atmp_126826;
NI Res_126828;
TY51552* T_123181;
NIM_BOOL Match_123195;
NI J_123204;
NI HEX3Atmp_126823;
NI LOC14;
NI Res_126825;
NIM_BOOL LOC17;
Result_123156 = 0;
LOC1 = 0;
LOC1 = Idtableget_56163(Tab_123154, &Key_123155->Sup);
Result_123156 = ((TY51552*) (LOC1));
LOC3 = (Result_123156 == NIM_NIL);
if (!(LOC3)) goto LA4;
LOC3 = (0 < Tab_123154.Counter);
LA4: ;
if (!LOC3) goto LA5;
H_123180 = 0;
HEX3Atmp_126826 = 0;
HEX3Atmp_126826 = (Tab_123154.Data->Sup.len-1);
Res_126828 = 0;
Res_126828 = 0;
while (1) {
if (!(Res_126828 <= HEX3Atmp_126826)) goto LA7;
H_123180 = Res_126828;
T_123181 = 0;
T_123181 = ((TY51552*) (Tab_123154.Data->data[H_123180].Key));
if (!!((T_123181 == NIM_NIL))) goto LA9;
if (!((*Key_123155).Containerid == (*T_123181).Containerid)) goto LA12;
Match_123195 = 0;
Match_123195 = NIM_TRUE;
J_123204 = 0;
HEX3Atmp_126823 = 0;
LOC14 = Sonslen_51807(T_123181);
HEX3Atmp_126823 = (NI32)(LOC14 - 1);
Res_126825 = 0;
Res_126825 = 0;
while (1) {
if (!(Res_126825 <= HEX3Atmp_126823)) goto LA15;
J_123204 = Res_126825;
LOC17 = Sametype_94048((*T_123181).Sons->data[J_123204], (*Key_123155).Sons->data[J_123204]);
if (!!(LOC17)) goto LA18;
Match_123195 = NIM_FALSE;
goto LA15;
LA18: ;
Res_126825 += 1;
} LA15: ;
if (!Match_123195) goto LA21;
Result_123156 = ((TY51552*) (Tab_123154.Data->data[H_123180].Val));
goto BeforeRet;
LA21: ;
LA12: ;
LA9: ;
Res_126828 += 1;
} LA7: ;
LA5: ;
BeforeRet: ;
return Result_123156;
}
N_NIMCALL(TY51548*, Replacetypevarss_123718)(TY123708* Cl_123721, TY51548* S_123722) {
TY51548* Result_123825;
TNimObject* LOC4;
Result_123825 = 0;
if (!(S_123722 == NIM_NIL)) goto LA2;
Result_123825 = NIM_NIL;
goto BeforeRet;
LA2: ;
LOC4 = 0;
LOC4 = Idtableget_56163((*Cl_123721).Symmap, &S_123722->Sup);
Result_123825 = ((TY51548*) (LOC4));
if (!(Result_123825 == NIM_NIL)) goto LA6;
Result_123825 = Copysym_51776(S_123722, NIM_FALSE);
(*Result_123825).Flags |=(1<<((NI32)(((NU8) 4))%(sizeof(NI32)*8)));
Idtableput_56171(&(*Cl_123721).Symmap, &S_123722->Sup, &Result_123825->Sup.Sup);
asgnRef((void**) &(*Result_123825).Typ, Replacetypevarst_123713(Cl_123721, (*S_123722).Typ));
asgnRef((void**) &(*Result_123825).Owner, (*S_123722).Owner);
asgnRefNoCycle((void**) &(*Result_123825).Ast, Replacetypevarsn_123723(Cl_123721, (*S_123722).Ast));
LA6: ;
BeforeRet: ;
return Result_123825;
}
N_NIMCALL(TY51526*, Replacetypevarsn_123723)(TY123708* Cl_123726, TY51526* N_123727) {
TY51526* Result_123728;
NI Length_123782;
NI I_123795;
NI HEX3Atmp_126836;
NI Res_126838;
Result_123728 = 0;
if (!!((N_123727 == NIM_NIL))) goto LA2;
Result_123728 = Copynode_51856(N_123727);
asgnRef((void**) &(*Result_123728).Typ, Replacetypevarst_123713(Cl_123726, (*N_123727).Typ));
switch ((*N_123727).Kind) {
case ((NU8) 0) ... ((NU8) 2):
case ((NU8) 4) ... ((NU8) 18):
break;
case ((NU8) 3):
asgnRef((void**) &(*Result_123728).KindU.S4.Sym, Replacetypevarss_123718(Cl_123726, (*N_123727).KindU.S4.Sym));
break;
default:
Length_123782 = 0;
Length_123782 = Sonslen_51804(N_123727);
if (!(0 < Length_123782)) goto LA5;
Newsons_51816(Result_123728, Length_123782);
I_123795 = 0;
HEX3Atmp_126836 = 0;
HEX3Atmp_126836 = (NI32)(Length_123782 - 1);
Res_126838 = 0;
Res_126838 = 0;
while (1) {
if (!(Res_126838 <= HEX3Atmp_126836)) goto LA7;
I_123795 = Res_126838;
asgnRefNoCycle((void**) &(*Result_123728).KindU.S6.Sons->data[I_123795], Replacetypevarsn_123723(Cl_123726, (*N_123727).KindU.S6.Sons->data[I_123795]));
Res_126838 += 1;
} LA7: ;
LA5: ;
break;
}
LA2: ;
return Result_123728;
}
N_NIMCALL(void, Checkconstructedtype_123661)(TY43539 Info_123663, TY51552* T_123664) {
NIM_BOOL LOC2;
TY51552* LOC4;
NI64 LOC8;
NimStringDesc* LOC11;
NIM_BOOL LOC13;
LOC2 = (((*T_123664).Flags &(1<<((((NU8) 3))&7)))!=0);
if (!(LOC2)) goto LA3;
LOC4 = 0;
LOC4 = Skiptypes_94087(T_123664, 43008);
LOC2 = !(((*LOC4).Kind == ((NU8) 17)));
LA3: ;
if (!LOC2) goto LA5;
Limessage_43569(Info_123663, ((NU8) 159), ((NimStringDesc*) &TMP193076));
LA5: ;
LOC8 = Computesize_94112(T_123664);
if (!(LOC8 < 0)) goto LA9;
LOC11 = 0;
LOC11 = Typetostring_94014(T_123664, ((NU8) 0));
Limessage_43569(Info_123663, ((NU8) 121), LOC11);
LA9: ;
LOC13 = ((*T_123664).Kind == ((NU8) 23));
if (!(LOC13)) goto LA14;
LOC13 = ((*(*T_123664).Sons->data[0]).Kind == ((NU8) 23));
LA14: ;
if (!LOC13) goto LA15;
Limessage_43569(Info_123663, ((NU8) 192), ((NimStringDesc*) &TMP192933));
LA15: ;
}
N_NIMCALL(TY51552*, Replacetypevarst_123713)(TY123708* Cl_123716, TY51552* T_123717) {
TY51552* Result_123891;
TY51552* Body_123892;
TY51552* Newbody_123893;
TY51552* X_123894;
TY51552* Header_123895;
NI I_123924;
NI HEX3Atmp_126839;
NI LOC7;
NI Res_126841;
NI I_123976;
NI HEX3Atmp_126842;
NI LOC21;
NI Res_126844;
TY51552* LOC23;
TY51552* LOC24;
TY51552* LOC25;
NIM_BOOL LOC27;
NI I_123986;
NI HEX3Atmp_126845;
NI LOC30;
NI Res_126847;
NimStringDesc* LOC35;
Result_123891 = 0;
Body_123892 = 0;
Newbody_123893 = 0;
X_123894 = 0;
Header_123895 = 0;
Result_123891 = T_123717;
if (!(T_123717 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*T_123717).Kind) {
case ((NU8) 12):
Result_123891 = Lookuptypevar_123861(&(*Cl_123716), T_123717);
break;
case ((NU8) 9):
Body_123892 = (*T_123717).Sons->data[0];
if (!!(((*Body_123892).Kind == ((NU8) 10)))) goto LA5;
Internalerror_43574((*Cl_123716).Info, ((NimStringDesc*) &TMP193074));
LA5: ;
Header_123895 = NIM_NIL;
I_123924 = 0;
HEX3Atmp_126839 = 0;
LOC7 = Sonslen_51807(T_123717);
HEX3Atmp_126839 = (NI32)(LOC7 - 1);
Res_126841 = 0;
Res_126841 = 1;
while (1) {
if (!(Res_126841 <= HEX3Atmp_126839)) goto LA8;
I_123924 = Res_126841;
if (!((*(*T_123717).Sons->data[I_123924]).Kind == ((NU8) 12))) goto LA10;
X_123894 = Lookuptypevar_123861(&(*Cl_123716), (*T_123717).Sons->data[I_123924]);
if (!(Header_123895 == NIM_NIL)) goto LA13;
Header_123895 = Copytype_51771(T_123717, (*T_123717).Owner, NIM_FALSE);
LA13: ;
asgnRef((void**) &(*Header_123895).Sons->data[I_123924], X_123894);
goto LA9;
LA10: ;
X_123894 = (*T_123717).Sons->data[I_123924];
LA9: ;
Idtableput_56171(&(*Cl_123716).Typemap, &(*Body_123892).Sons->data[(NI32)(I_123924 - 1)]->Sup, &X_123894->Sup.Sup);
Res_126841 += 1;
} LA8: ;
if (!(Header_123895 == NIM_NIL)) goto LA16;
Header_123895 = T_123717;
LA16: ;
Result_123891 = Searchinsttypes_123152(Ginsttypes_104045, Header_123895);
if (!!((Result_123891 == NIM_NIL))) goto LA19;
goto BeforeRet;
LA19: ;
Result_123891 = Newtype_51707(((NU8) 11), (*(*T_123717).Sons->data[0]).Owner);
I_123976 = 0;
HEX3Atmp_126842 = 0;
LOC21 = Sonslen_51807(T_123717);
HEX3Atmp_126842 = (NI32)(LOC21 - 1);
Res_126844 = 0;
Res_126844 = 0;
while (1) {
if (!(Res_126844 <= HEX3Atmp_126842)) goto LA22;
I_123976 = Res_126844;
Addson_51828(Result_123891, (*Header_123895).Sons->data[I_123976]);
Res_126844 += 1;
} LA22: ;
Idtableput_56171(&Ginsttypes_104045, &Header_123895->Sup, &Result_123891->Sup.Sup);
LOC23 = 0;
LOC23 = Lastson_51813(Body_123892);
Newbody_123893 = Replacetypevarst_123713(Cl_123716, LOC23);
LOC24 = 0;
LOC24 = Lastson_51813(Body_123892);
asgnRefNoCycle((void**) &(*Newbody_123893).N, Replacetypevarsn_123723(Cl_123716, (*LOC24).N));
Addson_51828(Result_123891, Newbody_123893);
Checkconstructedtype_123661((*Cl_123716).Info, Newbody_123893);
break;
case ((NU8) 10):
Internalerror_43574((*Cl_123716).Info, ((NimStringDesc*) &TMP193077));
LOC25 = 0;
LOC25 = Lastson_51813(T_123717);
Result_123891 = Replacetypevarst_123713(Cl_123716, LOC25);
break;
default:
LOC27 = Containsgenerictype_123221(T_123717);
if (!LOC27) goto LA28;
Result_123891 = Copytype_51771(T_123717, (*T_123717).Owner, NIM_FALSE);
I_123986 = 0;
HEX3Atmp_126845 = 0;
LOC30 = Sonslen_51807(Result_123891);
HEX3Atmp_126845 = (NI32)(LOC30 - 1);
Res_126847 = 0;
Res_126847 = 0;
while (1) {
if (!(Res_126847 <= HEX3Atmp_126845)) goto LA31;
I_123986 = Res_126847;
asgnRef((void**) &(*Result_123891).Sons->data[I_123986], Replacetypevarst_123713(Cl_123716, (*Result_123891).Sons->data[I_123986]));
Res_126847 += 1;
} LA31: ;
asgnRefNoCycle((void**) &(*Result_123891).N, Replacetypevarsn_123723(Cl_123716, (*Result_123891).N));
if (!((*Result_123891).Kind == ((NU8) 9) || (*Result_123891).Kind == ((NU8) 10) || (*Result_123891).Kind == ((NU8) 12))) goto LA33;
LOC35 = 0;
LOC35 = Typetostring_94014(T_123717, ((NU8) 0));
Limessage_43569((*Cl_123716).Info, ((NU8) 122), LOC35);
LA33: ;
LA28: ;
break;
}
BeforeRet: ;
return Result_123891;
}
N_NIMCALL(TY51552*, Generatetypeinstance_124008)(TY104012* P_124010, TY51564 Pt_124011, TY51526* Arg_124012, TY51552* T_124013) {
TY51552* Result_124014;
TY123708 Cl_124015;
Result_124014 = 0;
memset((void*)&Cl_124015, 0, sizeof(Cl_124015));
Initidtable_51755(&Cl_124015.Symmap);
Copyidtable_51799(&Cl_124015.Typemap, Pt_124011);
Cl_124015.Info = (*Arg_124012).Info;
Cl_124015.C = P_124010;
Pushinfocontext_43613((*Arg_124012).Info);
Result_124014 = Replacetypevarst_123713(&Cl_124015, T_124013);
Popinfocontext_43616();
return Result_124014;
}
N_NIMCALL(TY51552*, Getinstantiatedtype_125428)(TY104012* C_125430, TY51526* Arg_125431, TY124022* M_125432, TY51552* F_125433) {
TY51552* Result_125434;
TNimObject* LOC1;
Result_125434 = 0;
LOC1 = 0;
LOC1 = Idtableget_56163((*M_125432).Bindings, &F_125433->Sup);
Result_125434 = ((TY51552*) (LOC1));
if (!(Result_125434 == NIM_NIL)) goto LA3;
Result_125434 = Generatetypeinstance_124008(C_125430, (*M_125432).Bindings, Arg_125431, F_125433);
LA3: ;
if (!(Result_125434 == NIM_NIL)) goto LA6;
Internalerror_43574((*Arg_125431).Info, ((NimStringDesc*) &TMP193078));
LA6: ;
return Result_125434;
}
N_NIMCALL(TY51526*, Implicitconv_125457)(NU8 Kind_125459, TY51552* F_125460, TY51526* Arg_125461, TY124022* M_125462, TY104012* C_125463) {
TY51526* Result_125464;
NIM_BOOL LOC2;
Result_125464 = 0;
Result_125464 = Newnodei_51738(Kind_125459, (*Arg_125461).Info);
LOC2 = Containsgenerictype_123221(F_125460);
if (!LOC2) goto LA3;
asgnRef((void**) &(*Result_125464).Typ, Getinstantiatedtype_125428(C_125463, Arg_125461, M_125462, F_125460));
goto LA1;
LA3: ;
asgnRef((void**) &(*Result_125464).Typ, F_125460);
LA1: ;
if (!((*Result_125464).Typ == NIM_NIL)) goto LA6;
Internalerror_43574((*Arg_125461).Info, ((NimStringDesc*) &TMP193079));
LA6: ;
Addson_51824(Result_125464, NIM_NIL);
Addson_51824(Result_125464, Arg_125461);
return Result_125464;
}
N_NIMCALL(TY51526*, Userconvmatch_125476)(TY104012* C_125478, TY124022* M_125480, TY51552* F_125481, TY51552* A_125482, TY51526* Arg_125483) {
TY51526* Result_125484;
NI I_125503;
NI HEX3Atmp_126872;
NI Res_126874;
TY51552* Src_125504;
TY51552* Dest_125505;
NIM_BOOL LOC3;
NU8 LOC4;
NU8 LOC6;
TY51526* S_125526;
TY51526* LOC9;
Result_125484 = 0;
Result_125484 = NIM_NIL;
I_125503 = 0;
HEX3Atmp_126872 = 0;
HEX3Atmp_126872 = (NI32)((*C_125478).Converters->Sup.len - 1);
Res_126874 = 0;
Res_126874 = 0;
while (1) {
if (!(Res_126874 <= HEX3Atmp_126872)) goto LA1;
I_125503 = Res_126874;
Src_125504 = 0;
Src_125504 = (*(*(*C_125478).Converters->data[I_125503]).Typ).Sons->data[1];
Dest_125505 = 0;
Dest_125505 = (*(*(*C_125478).Converters->data[I_125503]).Typ).Sons->data[0];
LOC4 = Typerel_124297(&(*M_125480).Bindings, F_125481, Dest_125505);
LOC3 = (LOC4 == ((NU8) 5));
if (!(LOC3)) goto LA5;
LOC6 = Typerel_124297(&(*M_125480).Bindings, Src_125504, A_125482);
LOC3 = (LOC6 == ((NU8) 5));
LA5: ;
if (!LOC3) goto LA7;
S_125526 = 0;
S_125526 = Newsymnode_51735((*C_125478).Converters->data[I_125503]);
asgnRef((void**) &(*S_125526).Typ, (*(*C_125478).Converters->data[I_125503]).Typ);
(*S_125526).Info = (*Arg_125483).Info;
Result_125484 = Newnodeit_51742(((NU8) 49), (*Arg_125483).Info, (*(*S_125526).Typ).Sons->data[0]);
Addson_51824(Result_125484, S_125526);
LOC9 = 0;
LOC9 = Copytree_51859(Arg_125483);
Addson_51824(Result_125484, LOC9);
(*M_125480).Convmatches += 1;
goto BeforeRet;
LA7: ;
Res_126874 += 1;
} LA1: ;
BeforeRet: ;
return Result_125484;
}
N_NIMCALL(TY51526*, Paramtypesmatchaux_125539)(TY104012* C_125541, TY124022* M_125543, TY51552* F_125544, TY51552* A_125545, TY51526* Arg_125546) {
TY51526* Result_125547;
NU8 R_125549;
TY51526* LOC1;
TY51526* LOC2;
TY51526* LOC3;
TY51552* LOC5;
TY51526* LOC8;
TY51552* LOC10;
TY51526* LOC13;
NIM_BOOL LOC15;
TY51552* LOC19;
TY51552* LOC26;
TY51552* LOC27;
Result_125547 = 0;
R_125549 = 0;
R_125549 = Typerel_124297(&(*M_125543).Bindings, F_125544, A_125545);
switch (R_125549) {
case ((NU8) 1):
(*M_125543).Convmatches += 1;
LOC1 = 0;
LOC1 = Copytree_51859(Arg_125546);
Result_125547 = Implicitconv_125457(((NU8) 47), F_125544, LOC1, &(*M_125543), C_125541);
break;
case ((NU8) 2):
(*M_125543).Intconvmatches += 1;
LOC2 = 0;
LOC2 = Copytree_51859(Arg_125546);
Result_125547 = Implicitconv_125457(((NU8) 47), F_125544, LOC2, &(*M_125543), C_125541);
break;
case ((NU8) 3):
(*M_125543).Subtypematches += 1;
LOC3 = 0;
LOC3 = Copytree_51859(Arg_125546);
Result_125547 = Implicitconv_125457(((NU8) 48), F_125544, LOC3, &(*M_125543), C_125541);
break;
case ((NU8) 4):
(*M_125543).Genericmatches += 1;
Result_125547 = Copytree_51859(Arg_125546);
asgnRef((void**) &(*Result_125547).Typ, Getinstantiatedtype_125428(C_125541, Arg_125546, &(*M_125543), F_125544));
LOC5 = 0;
LOC5 = Skiptypes_94087((*Result_125547).Typ, 8431616);
if (!((*LOC5).Kind == ((NU8) 18) || (*LOC5).Kind == ((NU8) 27))) goto LA6;
LOC8 = 0;
LOC8 = Copytree_51859(Arg_125546);
Result_125547 = Implicitconv_125457(((NU8) 47), F_125544, LOC8, &(*M_125543), C_125541);
LA6: ;
break;
case ((NU8) 5):
(*M_125543).Exactmatches += 1;
Result_125547 = Copytree_51859(Arg_125546);
LOC10 = 0;
LOC10 = Skiptypes_94087(F_125544, 8431616);
if (!((*LOC10).Kind == ((NU8) 18) || (*LOC10).Kind == ((NU8) 27))) goto LA11;
LOC13 = 0;
LOC13 = Copytree_51859(Arg_125546);
Result_125547 = Implicitconv_125457(((NU8) 47), F_125544, LOC13, &(*M_125543), C_125541);
LA11: ;
break;
case ((NU8) 0):
Result_125547 = Userconvmatch_125476(C_125541, M_125543, F_125544, A_125545, Arg_125546);
LOC15 = (Result_125547 == NIM_NIL);
if (!(LOC15)) goto LA16;
LOC15 = ((*F_125544).Kind == ((NU8) 27));
LA16: ;
if (!LOC15) goto LA17;
LOC19 = 0;
LOC19 = Base_94021(F_125544);
R_125549 = Typerel_124297(&(*M_125543).Bindings, LOC19, A_125545);
if (!(((NU8) 4) <= R_125549)) goto LA21;
(*M_125543).Convmatches += 1;
Result_125547 = Copytree_51859(Arg_125546);
if (!(R_125549 == ((NU8) 4))) goto LA24;
LOC26 = 0;
LOC26 = Base_94021(F_125544);
asgnRef((void**) &(*Result_125547).Typ, Getinstantiatedtype_125428(C_125541, Arg_125546, &(*M_125543), LOC26));
LA24: ;
(*M_125543).Basetypematch = NIM_TRUE;
goto LA20;
LA21: ;
LOC27 = 0;
LOC27 = Base_94021(F_125544);
Result_125547 = Userconvmatch_125476(C_125541, M_125543, LOC27, A_125545, Arg_125546);
LA20: ;
LA17: ;
break;
}
return Result_125547;
}
N_NIMCALL(void, Initcandidate_124050)(TY124022* C_124053, TY51552* Callee_124054) {
Initcandidateaux_124045(C_124053, Callee_124054);
unsureAsgnRef((void**) &(*C_124053).Calleesym, NIM_NIL);
Initidtable_51755(&(*C_124053).Bindings);
}
N_NIMCALL(void, Copycandidate_124100)(TY124022* A_124103, TY124022* B_124104) {
(*A_124103).Exactmatches = (*B_124104).Exactmatches;
(*A_124103).Subtypematches = (*B_124104).Subtypematches;
(*A_124103).Convmatches = (*B_124104).Convmatches;
(*A_124103).Intconvmatches = (*B_124104).Intconvmatches;
(*A_124103).Genericmatches = (*B_124104).Genericmatches;
(*A_124103).State = (*B_124104).State;
unsureAsgnRef((void**) &(*A_124103).Callee, (*B_124104).Callee);
unsureAsgnRef((void**) &(*A_124103).Calleesym, (*B_124104).Calleesym);
unsureAsgnRef((void**) &(*A_124103).Call, Copytree_51859((*B_124104).Call));
(*A_124103).Basetypematch = (*B_124104).Basetypematch;
Copyidtable_51799(&(*A_124103).Bindings, (*B_124104).Bindings);
}
N_NIMCALL(NI, Cmpcandidates_124106)(TY124022* A_124108, TY124022* B_124109) {
NI Result_124110;
Result_124110 = 0;
Result_124110 = (NI32)((*A_124108).Exactmatches - (*B_124109).Exactmatches);
if (!!((Result_124110 == 0))) goto LA2;
goto BeforeRet;
LA2: ;
Result_124110 = (NI32)((*A_124108).Genericmatches - (*B_124109).Genericmatches);
if (!!((Result_124110 == 0))) goto LA5;
goto BeforeRet;
LA5: ;
Result_124110 = (NI32)((*A_124108).Subtypematches - (*B_124109).Subtypematches);
if (!!((Result_124110 == 0))) goto LA8;
goto BeforeRet;
LA8: ;
Result_124110 = (NI32)((*A_124108).Intconvmatches - (*B_124109).Intconvmatches);
if (!!((Result_124110 == 0))) goto LA11;
goto BeforeRet;
LA11: ;
Result_124110 = (NI32)((*A_124108).Convmatches - (*B_124109).Convmatches);
BeforeRet: ;
return Result_124110;
}
N_NIMCALL(TY51526*, Paramtypesmatch_125685)(TY104012* C_125687, TY124022* M_125689, TY51552* F_125690, TY51552* A_125691, TY51526* Arg_125692) {
TY51526* Result_125693;
NIM_BOOL LOC2;
TY124022 X_125714;
TY124022 Y_125715;
TY124022 Z_125716;
NI Best_125720;
NI I_125729;
NI HEX3Atmp_126875;
NI LOC6;
NI Res_126877;
NU8 R_125780;
NI Cmp_125790;
NIM_BOOL LOC22;
NI LOC24;
Result_125693 = 0;
LOC2 = (Arg_125692 == NIM_NIL);
if (LOC2) goto LA3;
LOC2 = !(((*Arg_125692).Kind == ((NU8) 46)));
LA3: ;
if (!LOC2) goto LA4;
Result_125693 = Paramtypesmatchaux_125539(C_125687, M_125689, F_125690, A_125691, Arg_125692);
goto LA1;
LA4: ;
memset((void*)&X_125714, 0, sizeof(X_125714));
memset((void*)&Y_125715, 0, sizeof(Y_125715));
memset((void*)&Z_125716, 0, sizeof(Z_125716));
Initcandidate_124050(&X_125714, (*M_125689).Callee);
Initcandidate_124050(&Y_125715, (*M_125689).Callee);
Initcandidate_124050(&Z_125716, (*M_125689).Callee);
X_125714.Calleesym = (*M_125689).Calleesym;
Y_125715.Calleesym = (*M_125689).Calleesym;
Z_125716.Calleesym = (*M_125689).Calleesym;
Best_125720 = 0;
Best_125720 = -1;
I_125729 = 0;
HEX3Atmp_126875 = 0;
LOC6 = Sonslen_51804(Arg_125692);
HEX3Atmp_126875 = (NI32)(LOC6 - 1);
Res_126877 = 0;
Res_126877 = 0;
while (1) {
if (!(Res_126877 <= HEX3Atmp_126875)) goto LA7;
I_125729 = Res_126877;
if (!((11264 &(1<<(((*(*(*Arg_125692).KindU.S6.Sons->data[I_125729]).KindU.S4.Sym).Kind)&31)))!=0)) goto LA9;
Copycandidate_124100(&Z_125716, &(*M_125689));
R_125780 = 0;
R_125780 = Typerel_124297(&Z_125716.Bindings, F_125690, (*(*Arg_125692).KindU.S6.Sons->data[I_125729]).Typ);
if (!!((R_125780 == ((NU8) 0)))) goto LA12;
switch (X_125714.State) {
case ((NU8) 0):
case ((NU8) 2):
genericAssign((void*)&X_125714, (void*)&Z_125716, NTI124022);
Best_125720 = I_125729;
X_125714.State = ((NU8) 1);
break;
case ((NU8) 1):
Cmp_125790 = 0;
Cmp_125790 = Cmpcandidates_124106(&X_125714, &Z_125716);
if (!(Cmp_125790 < 0)) goto LA15;
Best_125720 = I_125729;
genericAssign((void*)&X_125714, (void*)&Z_125716, NTI124022);
goto LA14;
LA15: ;
if (!(Cmp_125790 == 0)) goto LA17;
genericAssign((void*)&Y_125715, (void*)&Z_125716, NTI124022);
goto LA14;
LA17: ;
LA14: ;
break;
}
LA12: ;
LA9: ;
Res_126877 += 1;
} LA7: ;
if (!(X_125714.State == ((NU8) 0))) goto LA20;
Result_125693 = NIM_NIL;
goto LA19;
LA20: ;
LOC22 = (Y_125715.State == ((NU8) 1));
if (!(LOC22)) goto LA23;
LOC24 = Cmpcandidates_124106(&X_125714, &Y_125715);
LOC22 = (LOC24 == 0);
LA23: ;
if (!LOC22) goto LA25;
if (!!((X_125714.State == ((NU8) 1)))) goto LA28;
Internalerror_43574((*Arg_125692).Info, ((NimStringDesc*) &TMP193084));
LA28: ;
Result_125693 = NIM_NIL;
goto LA19;
LA25: ;
Markused_122065(Arg_125692, (*(*Arg_125692).KindU.S6.Sons->data[Best_125720]).KindU.S4.Sym);
Result_125693 = Paramtypesmatchaux_125539(C_125687, M_125689, F_125690, (*(*Arg_125692).KindU.S6.Sons->data[Best_125720]).Typ, (*Arg_125692).KindU.S6.Sons->data[Best_125720]);
LA19: ;
LA1: ;
return Result_125693;
}
N_NIMCALL(void, Setson_125884)(TY51526* Father_125886, NI At_125887, TY51526* Son_125888) {
NI LOC2;
LOC2 = Sonslen_51804(Father_125886);
if (!(LOC2 <= At_125887)) goto LA3;
(*Father_125886).KindU.S6.Sons = (TY51520*) setLengthSeq(&((*Father_125886).KindU.S6.Sons)->Sup, sizeof(TY51526*), (NI32)(At_125887 + 1));
LA3: ;
asgnRefNoCycle((void**) &(*Father_125886).KindU.S6.Sons->data[At_125887], Son_125888);
}
N_NIMCALL(void, Matches_125927)(TY104012* C_125929, TY51526* N_125930, TY124022* M_125932) {
NI F_125933;
NI A_125934;
NI Formallen_125935;
TY51526* LOC1;
TY51901 Marker_125948;
TY51526* Container_125950;
TY51548* Formal_125951;
NI LOC3;
NIM_BOOL LOC14;
TY51526* Arg_126118;
TY51552* LOC33;
TY51552* LOC36;
TY51526* LOC37;
TY51526* LOC38;
TY51526* LOC39;
TY51526* Arg_126248;
NIM_BOOL LOC43;
NIM_BOOL LOC44;
NIM_BOOL LOC53;
TY51526* Arg_126365;
TY51526* LOC62;
NI LOC67;
NIM_BOOL LOC69;
TY51526* LOC78;
TY51526* LOC79;
F_125933 = 0;
F_125933 = 1;
A_125934 = 0;
A_125934 = 1;
(*M_125932).State = ((NU8) 1);
unsureAsgnRef((void**) &(*M_125932).Call, Newnodei_51738(((NU8) 21), (*N_125930).Info));
asgnRef((void**) &(*(*M_125932).Call).Typ, Base_94021((*M_125932).Callee));
Formallen_125935 = 0;
Formallen_125935 = Sonslen_51804((*(*M_125932).Callee).N);
LOC1 = 0;
LOC1 = Copytree_51859((*N_125930).KindU.S6.Sons->data[0]);
Addson_51824((*M_125932).Call, LOC1);
memset((void*)&Marker_125948, 0, sizeof(Marker_125948));
Intsetinit_51925(&Marker_125948);
Container_125950 = 0;
Container_125950 = NIM_NIL;
Formal_125951 = 0;
Formal_125951 = NIM_NIL;
while (1) {
LOC3 = Sonslen_51804(N_125930);
if (!(A_125934 < LOC3)) goto LA2;
if (!((*(*N_125930).KindU.S6.Sons->data[A_125934]).Kind == ((NU8) 23))) goto LA5;
if (!!(((*(*(*N_125930).KindU.S6.Sons->data[A_125934]).KindU.S6.Sons->data[0]).Kind == ((NU8) 2)))) goto LA8;
Limessage_43569((*(*N_125930).KindU.S6.Sons->data[A_125934]).Info, ((NU8) 156), ((NimStringDesc*) &TMP192933));
(*M_125932).State = ((NU8) 2);
goto BeforeRet;
LA8: ;
Formal_125951 = Getsymfromlist_56194((*(*M_125932).Callee).N, (*(*(*N_125930).KindU.S6.Sons->data[A_125934]).KindU.S6.Sons->data[0]).KindU.S5.Ident, 1);
if (!(Formal_125951 == NIM_NIL)) goto LA11;
(*M_125932).State = ((NU8) 2);
goto BeforeRet;
LA11: ;
LOC14 = Intsetcontainsorincl_51929(&Marker_125948, (*Formal_125951).Position);
if (!LOC14) goto LA15;
Limessage_43569((*(*N_125930).KindU.S6.Sons->data[A_125934]).Info, ((NU8) 140), (*(*Formal_125951).Name).S);
(*M_125932).State = ((NU8) 2);
goto BeforeRet;
LA15: ;
(*M_125932).Basetypematch = NIM_FALSE;
Arg_126118 = 0;
Arg_126118 = Paramtypesmatch_125685(C_125929, M_125932, (*Formal_125951).Typ, (*(*N_125930).KindU.S6.Sons->data[A_125934]).Typ, (*(*N_125930).KindU.S6.Sons->data[A_125934]).KindU.S6.Sons->data[1]);
if (!(Arg_126118 == NIM_NIL)) goto LA18;
(*M_125932).State = ((NU8) 2);
goto BeforeRet;
LA18: ;
if (!(*M_125932).Basetypematch) goto LA21;
Container_125950 = Newnodei_51738(((NU8) 32), (*(*N_125930).KindU.S6.Sons->data[A_125934]).Info);
Addson_51824(Container_125950, Arg_126118);
Setson_125884((*M_125932).Call, (NI32)((*Formal_125951).Position + 1), Container_125950);
if (!!((F_125933 == (NI32)(Formallen_125935 - 1)))) goto LA24;
Container_125950 = NIM_NIL;
LA24: ;
goto LA20;
LA21: ;
Setson_125884((*M_125932).Call, (NI32)((*Formal_125951).Position + 1), Arg_126118);
LA20: ;
goto LA4;
LA5: ;
if (!(Formallen_125935 <= F_125933)) goto LA27;
if (!(((*(*M_125932).Callee).Flags &(1<<((((NU8) 0))&7)))!=0)) goto LA30;
LOC33 = 0;
LOC33 = Skiptypes_94087((*(*N_125930).KindU.S6.Sons->data[A_125934]).Typ, 8431616);
if (!((*LOC33).Kind == ((NU8) 28))) goto LA34;
LOC36 = 0;
LOC36 = Getsystype_99008(((NU8) 29));
LOC37 = 0;
LOC37 = Copytree_51859((*N_125930).KindU.S6.Sons->data[A_125934]);
LOC38 = 0;
LOC38 = Implicitconv_125457(((NU8) 47), LOC36, LOC37, &(*M_125932), C_125929);
Addson_51824((*M_125932).Call, LOC38);
goto LA32;
LA34: ;
LOC39 = 0;
LOC39 = Copytree_51859((*N_125930).KindU.S6.Sons->data[A_125934]);
Addson_51824((*M_125932).Call, LOC39);
LA32: ;
goto LA29;
LA30: ;
if (!!((Formal_125951 == NIM_NIL))) goto LA40;
(*M_125932).Basetypematch = NIM_FALSE;
Arg_126248 = 0;
Arg_126248 = Paramtypesmatch_125685(C_125929, M_125932, (*Formal_125951).Typ, (*(*N_125930).KindU.S6.Sons->data[A_125934]).Typ, (*N_125930).KindU.S6.Sons->data[A_125934]);
LOC44 = !((Arg_126248 == NIM_NIL));
if (!(LOC44)) goto LA45;
LOC44 = (*M_125932).Basetypematch;
LA45: ;
LOC43 = LOC44;
if (!(LOC43)) goto LA46;
LOC43 = !((Container_125950 == NIM_NIL));
LA46: ;
if (!LOC43) goto LA47;
Addson_51824(Container_125950, Arg_126248);
goto LA42;
LA47: ;
(*M_125932).State = ((NU8) 2);
goto BeforeRet;
LA42: ;
goto LA29;
LA40: ;
(*M_125932).State = ((NU8) 2);
goto BeforeRet;
LA29: ;
goto LA26;
LA27: ;
if (!!(((*(*(*(*M_125932).Callee).N).KindU.S6.Sons->data[F_125933]).Kind == ((NU8) 3)))) goto LA50;
Internalerror_43574((*(*N_125930).KindU.S6.Sons->data[A_125934]).Info, ((NimStringDesc*) &TMP193085));
LA50: ;
Formal_125951 = (*(*(*(*M_125932).Callee).N).KindU.S6.Sons->data[F_125933]).KindU.S4.Sym;
LOC53 = Intsetcontainsorincl_51929(&Marker_125948, (*Formal_125951).Position);
if (!LOC53) goto LA54;
Limessage_43569((*(*N_125930).KindU.S6.Sons->data[A_125934]).Info, ((NU8) 140), (*(*Formal_125951).Name).S);
(*M_125932).State = ((NU8) 2);
goto BeforeRet;
LA54: ;
(*M_125932).Basetypematch = NIM_FALSE;
Arg_126365 = 0;
Arg_126365 = Paramtypesmatch_125685(C_125929, M_125932, (*Formal_125951).Typ, (*(*N_125930).KindU.S6.Sons->data[A_125934]).Typ, (*N_125930).KindU.S6.Sons->data[A_125934]);
if (!(Arg_126365 == NIM_NIL)) goto LA57;
(*M_125932).State = ((NU8) 2);
goto BeforeRet;
LA57: ;
if (!(*M_125932).Basetypematch) goto LA60;
Container_125950 = Newnodei_51738(((NU8) 32), (*(*N_125930).KindU.S6.Sons->data[A_125934]).Info);
Addson_51824(Container_125950, Arg_126365);
LOC62 = 0;
LOC62 = Implicitconv_125457(((NU8) 47), (*Formal_125951).Typ, Container_125950, &(*M_125932), C_125929);
Setson_125884((*M_125932).Call, (NI32)((*Formal_125951).Position + 1), LOC62);
if (!!((F_125933 == (NI32)(Formallen_125935 - 1)))) goto LA64;
Container_125950 = NIM_NIL;
LA64: ;
goto LA59;
LA60: ;
Setson_125884((*M_125932).Call, (NI32)((*Formal_125951).Position + 1), Arg_126365);
LA59: ;
LA26: ;
LA4: ;
A_125934 += 1;
F_125933 += 1;
} LA2: ;
F_125933 = 1;
while (1) {
LOC67 = Sonslen_51804((*(*M_125932).Callee).N);
if (!(F_125933 < LOC67)) goto LA66;
Formal_125951 = (*(*(*(*M_125932).Callee).N).KindU.S6.Sons->data[F_125933]).KindU.S4.Sym;
LOC69 = Intsetcontainsorincl_51929(&Marker_125948, (*Formal_125951).Position);
if (!!(LOC69)) goto LA70;
if (!((*Formal_125951).Ast == NIM_NIL)) goto LA73;
if (!((*(*Formal_125951).Typ).Kind == ((NU8) 27))) goto LA76;
Container_125950 = Newnodei_51738(((NU8) 32), (*N_125930).Info);
LOC78 = 0;
LOC78 = Implicitconv_125457(((NU8) 47), (*Formal_125951).Typ, Container_125950, &(*M_125932), C_125929);
Addson_51824((*M_125932).Call, LOC78);
goto LA75;
LA76: ;
(*M_125932).State = ((NU8) 2);
goto LA66;
LA75: ;
goto LA72;
LA73: ;
LOC79 = 0;
LOC79 = Copytree_51859((*Formal_125951).Ast);
Setson_125884((*M_125932).Call, (NI32)((*Formal_125951).Position + 1), LOC79);
LA72: ;
LA70: ;
F_125933 += 1;
} LA66: ;
BeforeRet: ;
}
N_NIMCALL(NIM_BOOL, Samemethoddispatcher_126487)(TY51548* A_126489, TY51548* B_126490) {
NIM_BOOL Result_126491;
NIM_BOOL LOC2;
TY51526* Aa_126510;
TY51526* Bb_126511;
NIM_BOOL LOC7;
NIM_BOOL LOC8;
Result_126491 = 0;
Result_126491 = NIM_FALSE;
LOC2 = ((*A_126489).Kind == ((NU8) 11));
if (!(LOC2)) goto LA3;
LOC2 = ((*B_126490).Kind == ((NU8) 11));
LA3: ;
if (!LOC2) goto LA4;
Aa_126510 = 0;
Aa_126510 = Lastson_51810((*A_126489).Ast);
Bb_126511 = 0;
Bb_126511 = Lastson_51810((*B_126490).Ast);
LOC8 = ((*Aa_126510).Kind == ((NU8) 3));
if (!(LOC8)) goto LA9;
LOC8 = ((*Bb_126511).Kind == ((NU8) 3));
LA9: ;
LOC7 = LOC8;
if (!(LOC7)) goto LA10;
LOC7 = ((*Aa_126510).KindU.S4.Sym == (*Bb_126511).KindU.S4.Sym);
LA10: ;
if (!LOC7) goto LA11;
Result_126491 = NIM_TRUE;
LA11: ;
LA4: ;
return Result_126491;
}
N_NIMCALL(void, Instantiategenericparamlist_123225)(TY104012* C_123227, TY51526* N_123228, TY51564 Pt_123229) {
NI I_123247;
NI HEX3Atmp_126830;
NI LOC4;
NI Res_126832;
TY51526* A_123260;
TY51548* Q_123282;
TY51548* S_123295;
TY51548* LOC13;
TY51552* T_123296;
TNimObject* LOC14;
NimStringDesc* LOC21;
if (!!(((*N_123228).Kind == ((NU8) 65)))) goto LA2;
Internalerror_43574((*N_123228).Info, ((NimStringDesc*) &TMP193090));
LA2: ;
I_123247 = 0;
HEX3Atmp_126830 = 0;
LOC4 = Sonslen_51804(N_123228);
HEX3Atmp_126830 = (NI32)(LOC4 - 1);
Res_126832 = 0;
Res_126832 = 0;
while (1) {
if (!(Res_126832 <= HEX3Atmp_126830)) goto LA5;
I_123247 = Res_126832;
A_123260 = 0;
A_123260 = (*N_123228).KindU.S6.Sons->data[I_123247];
if (!!(((*A_123260).Kind == ((NU8) 3)))) goto LA8;
Internalerror_43574((*A_123260).Info, ((NimStringDesc*) &TMP193091));
LA8: ;
Q_123282 = 0;
Q_123282 = (*A_123260).KindU.S4.Sym;
if (!!(((*(*Q_123282).Typ).Kind == ((NU8) 8) || (*(*Q_123282).Typ).Kind == ((NU8) 12)))) goto LA11;
goto LA6;
LA11: ;
S_123295 = 0;
LOC13 = 0;
LOC13 = Getcurrowner_104107();
S_123295 = Newsym_51702(((NU8) 7), (*Q_123282).Name, LOC13);
T_123296 = 0;
LOC14 = 0;
LOC14 = Idtableget_56163(Pt_123229, &(*Q_123282).Typ->Sup);
T_123296 = ((TY51552*) (LOC14));
if (!(T_123296 == NIM_NIL)) goto LA16;
Limessage_43569((*A_123260).Info, ((NU8) 122), (*(*S_123295).Name).S);
LA16: ;
if (!((*T_123296).Kind == ((NU8) 12))) goto LA19;
LOC21 = 0;
LOC21 = rawNewString((*(*Q_123282).Name).S->Sup.len + 29);
appendString(LOC21, ((NimStringDesc*) &TMP193092));
appendString(LOC21, (*(*Q_123282).Name).S);
Internalerror_43574((*A_123260).Info, LOC21);
LA19: ;
asgnRef((void**) &(*S_123295).Typ, T_123296);
Adddecl_105114(C_123227, S_123295);
LA6: ;
Res_126832 += 1;
} LA5: ;
}
N_NIMCALL(TY51552*, Neworprevtype_126931)(NU8 Kind_126933, TY51552* Prev_126934, TY104012* C_126935) {
TY51552* Result_126936;
Result_126936 = 0;
if (!(Prev_126934 == NIM_NIL)) goto LA2;
Result_126936 = Newtypes_104077(Kind_126933, C_126935);
goto LA1;
LA2: ;
Result_126936 = Prev_126934;
if (!((*Result_126936).Kind == ((NU8) 30))) goto LA5;
(*Result_126936).Kind = Kind_126933;
LA5: ;
LA1: ;
return Result_126936;
}
N_NIMCALL(TY51548*, Semtypeident_127713)(TY104012* C_127715, TY51526* N_127716) {
TY51548* Result_127717;
Result_127717 = 0;
Result_127717 = Qualifiedlookup_105322(C_127715, N_127716, 3);
if (!!((Result_127717 == NIM_NIL))) goto LA2;
Markused_122065(N_127716, Result_127717);
if (!!(((*Result_127717).Kind == ((NU8) 7)))) goto LA5;
Limessage_43569((*N_127716).Info, ((NU8) 60), ((NimStringDesc*) &TMP192933));
LA5: ;
goto LA1;
LA2: ;
Limessage_43569((*N_127716).Info, ((NU8) 19), ((NimStringDesc*) &TMP192933));
LA1: ;
return Result_127717;
}
N_NIMCALL(TY51552*, Semrangeaux_127410)(TY104012* C_127412, TY51526* N_127413, TY51552* Prev_127414) {
TY51552* Result_127415;
NIM_BOOL LOC5;
TY51526* A_127483;
TY51526* B_127496;
NIM_BOOL LOC10;
NIM_BOOL LOC17;
NIM_BOOL LOC21;
Result_127415 = 0;
if (!!(((*N_127413).Kind == ((NU8) 35)))) goto LA2;
Internalerror_43574((*N_127413).Info, ((NimStringDesc*) &TMP193093));
LA2: ;
Checksonslen_104099(N_127413, 2);
Result_127415 = Neworprevtype_126931(((NU8) 20), Prev_127414, C_127412);
asgnRefNoCycle((void**) &(*Result_127415).N, Newnodei_51738(((NU8) 35), (*N_127413).Info));
LOC5 = ((*N_127413).KindU.S6.Sons->data[0] == NIM_NIL);
if (LOC5) goto LA6;
LOC5 = ((*N_127413).KindU.S6.Sons->data[1] == NIM_NIL);
LA6: ;
if (!LOC5) goto LA7;
Limessage_43569((*N_127413).Info, ((NU8) 104), ((NimStringDesc*) &TMP192933));
LA7: ;
A_127483 = 0;
A_127483 = Semconstexpr_122171(C_127412, (*N_127413).KindU.S6.Sons->data[0]);
B_127496 = 0;
B_127496 = Semconstexpr_122171(C_127412, (*N_127413).KindU.S6.Sons->data[1]);
LOC10 = Sametype_94048((*A_127483).Typ, (*B_127496).Typ);
if (!!(LOC10)) goto LA11;
Limessage_43569((*N_127413).Info, ((NU8) 125), ((NimStringDesc*) &TMP192933));
LA11: ;
if (!!(((*(*A_127483).Typ).Kind >= ((NU8) 31) && (*(*A_127483).Typ).Kind <= ((NU8) 35) || (*(*A_127483).Typ).Kind == ((NU8) 14) || (*(*A_127483).Typ).Kind == ((NU8) 1) || (*(*A_127483).Typ).Kind == ((NU8) 2) || (*(*A_127483).Typ).Kind >= ((NU8) 36) && (*(*A_127483).Typ).Kind <= ((NU8) 39)))) goto LA14;
Limessage_43569((*N_127413).Info, ((NU8) 71), ((NimStringDesc*) &TMP192933));
LA14: ;
LOC17 = Enumhaswholes_94072((*A_127483).Typ);
if (!LOC17) goto LA18;
Limessage_43569((*N_127413).Info, ((NU8) 143), (*(*(*(*A_127483).Typ).Sym).Name).S);
LA18: ;
LOC21 = Levalue_51871(A_127483, B_127496);
if (!!(LOC21)) goto LA22;
Limessage_43569((*N_127413).Info, ((NU8) 104), ((NimStringDesc*) &TMP192933));
LA22: ;
Addson_51824((*Result_127415).N, A_127483);
Addson_51824((*Result_127415).N, B_127496);
Addson_51828(Result_127415, (*B_127496).Typ);
return Result_127415;
}
N_NIMCALL(TY51552*, Semarray_127562)(TY104012* C_127564, TY51526* N_127565, TY51552* Prev_127566) {
TY51552* Result_127567;
TY51552* Indx_127568;
TY51552* Base_127569;
NI LOC2;
NIM_BOOL LOC15;
NIM_BOOL LOC19;
Result_127567 = 0;
Indx_127568 = 0;
Base_127569 = 0;
Result_127567 = Neworprevtype_126931(((NU8) 16), Prev_127566, C_127564);
LOC2 = Sonslen_51804(N_127565);
if (!(LOC2 == 3)) goto LA3;
if (!((*(*N_127565).KindU.S6.Sons->data[1]).Kind == ((NU8) 35))) goto LA6;
Indx_127568 = Semrangeaux_127410(C_127564, (*N_127565).KindU.S6.Sons->data[1], NIM_NIL);
goto LA5;
LA6: ;
Indx_127568 = Semtypenode_122138(C_127564, (*N_127565).KindU.S6.Sons->data[1], NIM_NIL);
LA5: ;
Addson_51828(Result_127567, Indx_127568);
if (!((*Indx_127568).Kind == ((NU8) 11))) goto LA9;
Indx_127568 = Lastson_51813(Indx_127568);
LA9: ;
if (!!(((*Indx_127568).Kind == ((NU8) 12)))) goto LA12;
LOC15 = Isordinaltype_94069(Indx_127568);
if (!!(LOC15)) goto LA16;
Limessage_43569((*(*N_127565).KindU.S6.Sons->data[1]).Info, ((NU8) 71), ((NimStringDesc*) &TMP192933));
LA16: ;
LOC19 = Enumhaswholes_94072(Indx_127568);
if (!LOC19) goto LA20;
Limessage_43569((*(*N_127565).KindU.S6.Sons->data[1]).Info, ((NU8) 143), (*(*(*Indx_127568).Sym).Name).S);
LA20: ;
LA12: ;
Base_127569 = Semtypenode_122138(C_127564, (*N_127565).KindU.S6.Sons->data[2], NIM_NIL);
Addson_51828(Result_127567, Base_127569);
goto LA1;
LA3: ;
Limessage_43569((*N_127565).Info, ((NU8) 171), ((NimStringDesc*) &TMP192933));
LA1: ;
return Result_127567;
}
N_NIMCALL(TY51552*, Semcontainer_127314)(TY104012* C_127316, TY51526* N_127317, NU8 Kind_127318, NimStringDesc* Kindstr_127319, TY51552* Prev_127320) {
TY51552* Result_127321;
NI LOC2;
TY51552* Base_127336;
Result_127321 = 0;
Result_127321 = Neworprevtype_126931(Kind_127318, Prev_127320, C_127316);
LOC2 = Sonslen_51804(N_127317);
if (!(LOC2 == 2)) goto LA3;
Base_127336 = 0;
Base_127336 = Semtypenode_122138(C_127316, (*N_127317).KindU.S6.Sons->data[1], NIM_NIL);
Addson_51828(Result_127321, Base_127336);
goto LA1;
LA3: ;
Limessage_43569((*N_127317).Info, ((NU8) 170), Kindstr_127319);
LA1: ;
return Result_127321;
}
N_NIMCALL(TY51552*, Semrange_127509)(TY104012* C_127511, TY51526* N_127512, TY51552* Prev_127513) {
TY51552* Result_127514;
NI LOC2;
Result_127514 = 0;
Result_127514 = NIM_NIL;
LOC2 = Sonslen_51804(N_127512);
if (!(LOC2 == 2)) goto LA3;
if (!((*(*N_127512).KindU.S6.Sons->data[1]).Kind == ((NU8) 35))) goto LA6;
Result_127514 = Semrangeaux_127410(C_127511, (*N_127512).KindU.S6.Sons->data[1], Prev_127513);
goto LA5;
LA6: ;
Limessage_43569((*(*N_127512).KindU.S6.Sons->data[0]).Info, ((NU8) 93), ((NimStringDesc*) &TMP192933));
LA5: ;
goto LA1;
LA3: ;
Limessage_43569((*N_127512).Info, ((NU8) 170), ((NimStringDesc*) &TMP193095));
LA1: ;
return Result_127514;
}
N_NIMCALL(TY51552*, Semset_127271)(TY104012* C_127273, TY51526* N_127274, TY51552* Prev_127275) {
TY51552* Result_127276;
NI LOC2;
TY51552* Base_127291;
NIM_BOOL LOC12;
NI64 LOC16;
Result_127276 = 0;
Result_127276 = Neworprevtype_126931(((NU8) 19), Prev_127275, C_127273);
LOC2 = Sonslen_51804(N_127274);
if (!(LOC2 == 2)) goto LA3;
Base_127291 = 0;
Base_127291 = Semtypenode_122138(C_127273, (*N_127274).KindU.S6.Sons->data[1], NIM_NIL);
Addson_51828(Result_127276, Base_127291);
if (!((*Base_127291).Kind == ((NU8) 11))) goto LA6;
Base_127291 = Lastson_51813(Base_127291);
LA6: ;
if (!!(((*Base_127291).Kind == ((NU8) 12)))) goto LA9;
LOC12 = Isordinaltype_94069(Base_127291);
if (!!(LOC12)) goto LA13;
Limessage_43569((*N_127274).Info, ((NU8) 71), ((NimStringDesc*) &TMP192933));
LA13: ;
LOC16 = Lengthord_94007(Base_127291);
if (!(65536 < LOC16)) goto LA17;
Limessage_43569((*N_127274).Info, ((NU8) 117), ((NimStringDesc*) &TMP192933));
LA17: ;
LA9: ;
goto LA1;
LA3: ;
Limessage_43569((*N_127274).Info, ((NU8) 170), ((NimStringDesc*) &TMP193096));
LA1: ;
return Result_127276;
}
N_NIMCALL(TY51552*, Semordinal_127671)(TY104012* C_127673, TY51526* N_127674, TY51552* Prev_127675) {
TY51552* Result_127676;
NI LOC2;
TY51552* Base_127691;
NIM_BOOL LOC9;
Result_127676 = 0;
Result_127676 = Neworprevtype_126931(((NU8) 15), Prev_127675, C_127673);
LOC2 = Sonslen_51804(N_127674);
if (!(LOC2 == 2)) goto LA3;
Base_127691 = 0;
Base_127691 = Semtypenode_122138(C_127673, (*N_127674).KindU.S6.Sons->data[1], NIM_NIL);
if (!!(((*Base_127691).Kind == ((NU8) 12)))) goto LA6;
LOC9 = Isordinaltype_94069(Base_127691);
if (!!(LOC9)) goto LA10;
Limessage_43569((*(*N_127674).KindU.S6.Sons->data[1]).Info, ((NU8) 71), ((NimStringDesc*) &TMP192933));
LA10: ;
LA6: ;
Addson_51828(Result_127676, Base_127691);
goto LA1;
LA3: ;
Limessage_43569((*N_127674).Info, ((NU8) 170), ((NimStringDesc*) &TMP193097));
LA1: ;
return Result_127676;
}
N_NIMCALL(TY51552*, Instgenericcontainer_122166)(TY104012* C_122168, TY51526* N_122169, TY51552* Header_122170) {
TY51552* Result_124003;
TY123708 Cl_124004;
Result_124003 = 0;
memset((void*)&Cl_124004, 0, sizeof(Cl_124004));
Initidtable_51755(&Cl_124004.Symmap);
Initidtable_51755(&Cl_124004.Typemap);
Cl_124004.Info = (*N_122169).Info;
Cl_124004.C = C_122168;
Result_124003 = Replacetypevarst_123713(&Cl_124004, Header_122170);
return Result_124003;
}
N_NIMCALL(TY51552*, Semgeneric_127898)(TY104012* C_127900, TY51526* N_127901, TY51548* S_127902, TY51552* Prev_127903) {
TY51552* Result_127904;
TY51552* Elem_127905;
NIM_BOOL Isconcrete_127906;
NIM_BOOL LOC2;
NI LOC10;
NI LOC11;
NI I_127939;
NI HEX3Atmp_142843;
NI LOC14;
NI Res_142845;
Result_127904 = 0;
Elem_127905 = 0;
Isconcrete_127906 = 0;
LOC2 = ((*S_127902).Typ == NIM_NIL);
if (LOC2) goto LA3;
LOC2 = !(((*(*S_127902).Typ).Kind == ((NU8) 10)));
LA3: ;
if (!LOC2) goto LA4;
Limessage_43569((*N_127901).Info, ((NU8) 122), (*(*S_127902).Name).S);
LA4: ;
Result_127904 = Neworprevtype_126931(((NU8) 9), Prev_127903, C_127900);
if (!((*(*S_127902).Typ).Containerid == 0)) goto LA7;
Internalerror_43574((*N_127901).Info, ((NimStringDesc*) &TMP193099));
LA7: ;
LOC10 = Sonslen_51804(N_127901);
LOC11 = Sonslen_51807((*S_127902).Typ);
if (!!((LOC10 == LOC11))) goto LA12;
Limessage_43569((*N_127901).Info, ((NU8) 130), ((NimStringDesc*) &TMP192933));
LA12: ;
Addson_51828(Result_127904, (*S_127902).Typ);
Isconcrete_127906 = NIM_TRUE;
I_127939 = 0;
HEX3Atmp_142843 = 0;
LOC14 = Sonslen_51804(N_127901);
HEX3Atmp_142843 = (NI32)(LOC14 - 1);
Res_142845 = 0;
Res_142845 = 1;
while (1) {
if (!(Res_142845 <= HEX3Atmp_142843)) goto LA15;
I_127939 = Res_142845;
Elem_127905 = Semtypenode_122138(C_127900, (*N_127901).KindU.S6.Sons->data[I_127939], NIM_NIL);
if (!((*Elem_127905).Kind == ((NU8) 12))) goto LA17;
Isconcrete_127906 = NIM_FALSE;
LA17: ;
Addson_51828(Result_127904, Elem_127905);
Res_142845 += 1;
} LA15: ;
if (!Isconcrete_127906) goto LA20;
if (!((*S_127902).Ast == NIM_NIL)) goto LA23;
Limessage_43569((*N_127901).Info, ((NU8) 122), (*(*S_127902).Name).S);
LA23: ;
Result_127904 = Instgenericcontainer_122166(C_127900, N_127901, Result_127904);
LA20: ;
return Result_127904;
}
N_NIMCALL(void, Addinheritedfieldsaux_129071)(TY104012* C_129073, TY51901* Check_129075, NI* Pos_129077, TY51526* N_129078) {
NI I_129120;
NI HEX3Atmp_142867;
NI LOC4;
NI Res_142869;
TY51526* LOC6;
NI I_129153;
NI HEX3Atmp_142870;
NI LOC7;
NI Res_142872;
switch ((*N_129078).Kind) {
case ((NU8) 114):
if (!!(((*(*N_129078).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA2;
Internalerror_43574((*N_129078).Info, ((NimStringDesc*) &TMP193100));
LA2: ;
Addinheritedfieldsaux_129071(C_129073, Check_129075, Pos_129077, (*N_129078).KindU.S6.Sons->data[0]);
I_129120 = 0;
HEX3Atmp_142867 = 0;
LOC4 = Sonslen_51804(N_129078);
HEX3Atmp_142867 = (NI32)(LOC4 - 1);
Res_142869 = 0;
Res_142869 = 1;
while (1) {
if (!(Res_142869 <= HEX3Atmp_142867)) goto LA5;
I_129120 = Res_142869;
switch ((*(*N_129078).KindU.S6.Sons->data[I_129120]).Kind) {
case ((NU8) 75):
case ((NU8) 78):
LOC6 = 0;
LOC6 = Lastson_51810((*N_129078).KindU.S6.Sons->data[I_129120]);
Addinheritedfieldsaux_129071(C_129073, Check_129075, Pos_129077, LOC6);
break;
default:
Internalerror_43574((*N_129078).Info, ((NimStringDesc*) &TMP193101));
break;
}
Res_142869 += 1;
} LA5: ;
break;
case ((NU8) 113):
I_129153 = 0;
HEX3Atmp_142870 = 0;
LOC7 = Sonslen_51804(N_129078);
HEX3Atmp_142870 = (NI32)(LOC7 - 1);
Res_142872 = 0;
Res_142872 = 0;
while (1) {
if (!(Res_142872 <= HEX3Atmp_142870)) goto LA8;
I_129153 = Res_142872;
Addinheritedfieldsaux_129071(C_129073, Check_129075, Pos_129077, (*N_129078).KindU.S6.Sons->data[I_129153]);
Res_142872 += 1;
} LA8: ;
break;
case ((NU8) 3):
Intsetincl_51915(Check_129075, (*(*(*N_129078).KindU.S4.Sym).Name).Sup.Id);
(*Pos_129077) += 1;
break;
default:
Internalerror_43574((*N_129078).Info, ((NimStringDesc*) &TMP193102));
break;
}
}
N_NIMCALL(void, Addinheritedfields_129190)(TY104012* C_129192, TY51901* Check_129194, NI* Pos_129196, TY51552* Obj_129197) {
NIM_BOOL LOC2;
NI LOC3;
LOC3 = Sonslen_51807(Obj_129197);
LOC2 = (0 < LOC3);
if (!(LOC2)) goto LA4;
LOC2 = !(((*Obj_129197).Sons->data[0] == NIM_NIL));
LA4: ;
if (!LOC2) goto LA5;
Addinheritedfields_129190(C_129192, Check_129194, Pos_129196, (*Obj_129197).Sons->data[0]);
LA5: ;
Addinheritedfieldsaux_129071(C_129192, Check_129194, Pos_129196, (*Obj_129197).N);
}
N_NIMCALL(void, Checkbool_126881)(TY51526* T_126883) {
NIM_BOOL LOC2;
TY51552* LOC4;
LOC2 = ((*T_126883).Typ == NIM_NIL);
if (LOC2) goto LA3;
LOC4 = 0;
LOC4 = Skiptypes_94087((*T_126883).Typ, 8423424);
LOC2 = !(((*LOC4).Kind == ((NU8) 1)));
LA3: ;
if (!LOC2) goto LA5;
Limessage_43569((*T_126883).Info, ((NU8) 101), ((NimStringDesc*) &TMP192933));
LA5: ;
}
N_NIMCALL(NU8, Cmptypes_125420)(TY51552* F_125422, TY51552* A_125423) {
NU8 Result_125424;
TY51564 Mapping_125425;
Result_125424 = 0;
memset((void*)&Mapping_125425, 0, sizeof(Mapping_125425));
Initidtable_51755(&Mapping_125425);
Result_125424 = Typerel_124297(&Mapping_125425, F_125422, A_125423);
return Result_125424;
}
N_NIMCALL(void, Typemismatch_126905)(TY51526* N_126907, TY51552* Formal_126908, TY51552* Actual_126909) {
NimStringDesc* LOC1;
NimStringDesc* LOC2;
NimStringDesc* LOC3;
NimStringDesc* LOC4;
TY43869 LOC5;
NimStringDesc* LOC6;
LOC1 = 0;
LOC2 = 0;
LOC2 = Msgkindtostring_43595(((NU8) 126));
LOC3 = 0;
LOC3 = Typetostring_94014(Actual_126909, ((NU8) 0));
LOC4 = 0;
LOC4 = Msgkindtostring_43595(((NU8) 128));
memset((void*)&LOC5, 0, sizeof(LOC5));
LOC5[0] = Typetostring_94014(Formal_126908, ((NU8) 0));
LOC6 = 0;
LOC6 = nsuFormatOpenArray(LOC4, LOC5, 1);
LOC1 = rawNewString(LOC2->Sup.len + LOC3->Sup.len + LOC6->Sup.len + 2);
appendString(LOC1, LOC2);
appendString(LOC1, LOC3);
appendString(LOC1, ((NimStringDesc*) &TMP193106));
appendString(LOC1, LOC6);
Limessage_43569((*N_126907).Info, ((NU8) 4), LOC1);
}
N_NIMCALL(void, Sembranchexpr_128244)(TY104012* C_128246, TY51526* T_128247, TY51526** Ex_128249) {
NU8 LOC2;
unsureAsgnRef((void**) &(*Ex_128249), Semconstexpr_122171(C_128246, (*Ex_128249)));
Checkminsonslen_104103(T_128247, 1);
LOC2 = Cmptypes_125420((*(*T_128247).KindU.S6.Sons->data[0]).Typ, (*(*Ex_128249)).Typ);
if (!(LOC2 <= ((NU8) 1))) goto LA3;
Typemismatch_126905((*Ex_128249), (*(*T_128247).KindU.S6.Sons->data[0]).Typ, (*(*Ex_128249)).Typ);
LA3: ;
}
N_NIMCALL(void, Checkforoverlap_128184)(TY104012* C_128186, TY51526* T_128187, TY51526* Ex_128188, NI Branchindex_128189) {
NI I_128198;
NI HEX3Atmp_142849;
NI Res_142851;
NI J_128219;
NI HEX3Atmp_142846;
NI LOC2;
NI Res_142848;
NIM_BOOL LOC5;
I_128198 = 0;
HEX3Atmp_142849 = 0;
HEX3Atmp_142849 = (NI32)(Branchindex_128189 - 1);
Res_142851 = 0;
Res_142851 = 1;
while (1) {
if (!(Res_142851 <= HEX3Atmp_142849)) goto LA1;
I_128198 = Res_142851;
J_128219 = 0;
HEX3Atmp_142846 = 0;
LOC2 = Sonslen_51804((*T_128187).KindU.S6.Sons->data[I_128198]);
HEX3Atmp_142846 = (NI32)(LOC2 - 2);
Res_142848 = 0;
Res_142848 = 0;
while (1) {
if (!(Res_142848 <= HEX3Atmp_142846)) goto LA3;
J_128219 = Res_142848;
LOC5 = Overlap_101006((*(*T_128187).KindU.S6.Sons->data[I_128198]).KindU.S6.Sons->data[J_128219], Ex_128188);
if (!LOC5) goto LA6;
Limessage_43569((*Ex_128188).Info, ((NU8) 103), ((NimStringDesc*) &TMP192933));
LA6: ;
Res_142848 += 1;
} LA3: ;
Res_142851 += 1;
} LA1: ;
}
N_NIMCALL(void, Semcasebranch_128283)(TY104012* C_128285, TY51526* T_128286, TY51526* Branch_128287, NI Branchindex_128288, NI64* Covered_128290) {
NI I_128299;
NI HEX3Atmp_142852;
NI LOC1;
NI Res_142854;
TY51526* B_128312;
NIM_BOOL LOC7;
NI64 LOC10;
NI64 LOC11;
I_128299 = 0;
HEX3Atmp_142852 = 0;
LOC1 = Sonslen_51804(Branch_128287);
HEX3Atmp_142852 = (NI32)(LOC1 - 2);
Res_142854 = 0;
Res_142854 = 0;
while (1) {
if (!(Res_142854 <= HEX3Atmp_142852)) goto LA2;
I_128299 = Res_142854;
B_128312 = 0;
B_128312 = (*Branch_128287).KindU.S6.Sons->data[I_128299];
if (!((*B_128312).Kind == ((NU8) 35))) goto LA4;
Checksonslen_104099(B_128312, 2);
Sembranchexpr_128244(C_128285, T_128286, &(*B_128312).KindU.S6.Sons->data[0]);
Sembranchexpr_128244(C_128285, T_128286, &(*B_128312).KindU.S6.Sons->data[1]);
LOC7 = Emptyrange_101019((*B_128312).KindU.S6.Sons->data[0], (*B_128312).KindU.S6.Sons->data[1]);
if (!LOC7) goto LA8;
Limessage_43569((*B_128312).Info, ((NU8) 104), ((NimStringDesc*) &TMP192933));
LA8: ;
LOC10 = Getordvalue_94109((*B_128312).KindU.S6.Sons->data[1]);
LOC11 = Getordvalue_94109((*B_128312).KindU.S6.Sons->data[0]);
(*Covered_128290) = (NI64)((NI64)((NI64)((*Covered_128290) + LOC10) - LOC11) + 1);
goto LA3;
LA4: ;
Sembranchexpr_128244(C_128285, T_128286, &(*Branch_128287).KindU.S6.Sons->data[I_128299]);
(*Covered_128290) += 1;
LA3: ;
Checkforoverlap_128184(C_128285, T_128286, (*Branch_128287).KindU.S6.Sons->data[I_128299], Branchindex_128288);
Res_142854 += 1;
} LA2: ;
}
N_NIMCALL(void, Semrecordcase_128443)(TY104012* C_128445, TY51526* N_128446, TY51901* Check_128448, NI* Pos_128450, TY51526* Father_128451, TY51548* Rectype_128452) {
NI64 Covered_128453;
NIM_BOOL Chckcovered_128454;
TY51526* A_128455;
TY51526* B_128456;
TY51552* Typ_128457;
NIM_BOOL LOC5;
NI64 LOC9;
NI64 LOC13;
NI I_128603;
NI HEX3Atmp_142855;
NI LOC16;
NI Res_142857;
NI LOC18;
TY51526* LOC19;
NIM_BOOL LOC21;
NI64 LOC23;
Covered_128453 = 0;
Chckcovered_128454 = 0;
A_128455 = 0;
B_128456 = 0;
Typ_128457 = 0;
A_128455 = Copynode_51856(N_128446);
Checkminsonslen_104103(N_128446, 2);
Semrecordnodeaux_128433(C_128445, (*N_128446).KindU.S6.Sons->data[0], Check_128448, Pos_128450, A_128455, Rectype_128452);
if (!!(((*(*A_128455).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA2;
Internalerror_43578(((NimStringDesc*) &TMP193105));
LA2: ;
(*(*(*A_128455).KindU.S6.Sons->data[0]).KindU.S4.Sym).Flags |=(1<<((NI32)(((NU8) 21))%(sizeof(NI32)*8)));
Covered_128453 = 0;
Typ_128457 = Skiptypes_94087((*(*A_128455).KindU.S6.Sons->data[0]).Typ, 8431616);
LOC5 = Isordinaltype_94069(Typ_128457);
if (!!(LOC5)) goto LA6;
Limessage_43569((*N_128446).Info, ((NU8) 106), ((NimStringDesc*) &TMP192933));
LA6: ;
LOC9 = Firstord_94001(Typ_128457);
if (!(LOC9 < 0)) goto LA10;
Limessage_43569((*N_128446).Info, ((NU8) 107), (*(*(*(*A_128455).KindU.S6.Sons->data[0]).KindU.S4.Sym).Name).S);
LA10: ;
LOC13 = Lengthord_94007(Typ_128457);
if (!(32767 < LOC13)) goto LA14;
Limessage_43569((*N_128446).Info, ((NU8) 108), (*(*(*(*A_128455).KindU.S6.Sons->data[0]).KindU.S4.Sym).Name).S);
LA14: ;
Chckcovered_128454 = NIM_TRUE;
I_128603 = 0;
HEX3Atmp_142855 = 0;
LOC16 = Sonslen_51804(N_128446);
HEX3Atmp_142855 = (NI32)(LOC16 - 1);
Res_142857 = 0;
Res_142857 = 1;
while (1) {
if (!(Res_142857 <= HEX3Atmp_142855)) goto LA17;
I_128603 = Res_142857;
B_128456 = Copytree_51859((*N_128446).KindU.S6.Sons->data[I_128603]);
switch ((*(*N_128446).KindU.S6.Sons->data[I_128603]).Kind) {
case ((NU8) 75):
Checkminsonslen_104103(B_128456, 2);
Semcasebranch_128283(C_128445, A_128455, B_128456, I_128603, &Covered_128453);
break;
case ((NU8) 78):
Chckcovered_128454 = NIM_FALSE;
Checksonslen_104099(B_128456, 1);
break;
default:
Illformedast_104092(N_128446);
break;
}
LOC18 = Sonslen_51804(B_128456);
Delson_51836(B_128456, (NI32)(LOC18 - 1));
LOC19 = 0;
LOC19 = Lastson_51810((*N_128446).KindU.S6.Sons->data[I_128603]);
Semrecordnodeaux_128433(C_128445, LOC19, Check_128448, Pos_128450, B_128456, Rectype_128452);
Addson_51824(A_128455, B_128456);
Res_142857 += 1;
} LA17: ;
LOC21 = Chckcovered_128454;
if (!(LOC21)) goto LA22;
LOC23 = Lengthord_94007((*(*A_128455).KindU.S6.Sons->data[0]).Typ);
LOC21 = !((Covered_128453 == LOC23));
LA22: ;
if (!LOC21) goto LA24;
Limessage_43569((*A_128455).Info, ((NU8) 148), ((NimStringDesc*) &TMP192933));
LA24: ;
Addson_51824(Father_128451, A_128455);
}
N_NIMCALL(TY51548*, Newsyms_122059)(NU8 Kind_122061, TY51526* N_122062, TY104012* C_122063) {
TY51548* Result_122064;
TY50011* LOC1;
TY51548* LOC2;
Result_122064 = 0;
LOC1 = 0;
LOC1 = Consideracc_122003(N_122062);
LOC2 = 0;
LOC2 = Getcurrowner_104107();
Result_122064 = Newsym_51702(Kind_122061, LOC1, LOC2);
(*Result_122064).Info = (*N_122062).Info;
return Result_122064;
}
N_NIMCALL(TY51548*, Semidentvis_122092)(TY104012* C_122094, NU8 Kind_122095, TY51526* N_122096, NU32 Allowed_122097) {
TY51548* Result_127978;
NIM_BOOL LOC5;
NI LOC6;
TY50011* V_128047;
NIM_BOOL LOC11;
NIM_BOOL LOC15;
Result_127978 = 0;
if (!((*N_122096).Kind == ((NU8) 29))) goto LA2;
LOC6 = Sonslen_51804(N_122096);
LOC5 = (LOC6 == 2);
if (!(LOC5)) goto LA7;
LOC5 = ((*(*N_122096).KindU.S6.Sons->data[0]).Kind == ((NU8) 2));
LA7: ;
if (!LOC5) goto LA8;
Result_127978 = Newsyms_122059(Kind_122095, (*N_122096).KindU.S6.Sons->data[1], C_122094);
V_128047 = 0;
V_128047 = (*(*N_122096).KindU.S6.Sons->data[0]).KindU.S5.Ident;
LOC11 = ((Allowed_122097 &(1<<((((NU8) 1))&31)))!=0);
if (!(LOC11)) goto LA12;
LOC11 = ((*V_128047).Sup.Id == 69);
LA12: ;
if (!LOC11) goto LA13;
(*Result_127978).Flags |=(1<<((NI32)(((NU8) 1))%(sizeof(NI32)*8)));
goto LA10;
LA13: ;
LOC15 = ((Allowed_122097 &(1<<((((NU8) 2))&31)))!=0);
if (!(LOC15)) goto LA16;
LOC15 = ((*V_128047).Sup.Id == 70);
LA16: ;
if (!LOC15) goto LA17;
(*Result_127978).Flags |=(1<<((NI32)(((NU8) 2))%(sizeof(NI32)*8)));
goto LA10;
LA17: ;
Limessage_43569((*(*N_122096).KindU.S6.Sons->data[0]).Info, ((NU8) 172), (*V_128047).S);
LA10: ;
goto LA4;
LA8: ;
Illformedast_104092(N_122096);
LA4: ;
goto LA1;
LA2: ;
Result_127978 = Newsyms_122059(Kind_122095, N_122096, C_122094);
LA1: ;
return Result_127978;
}
N_NIMCALL(TY51548*, Semidentwithpragma_122098)(TY104012* C_122100, NU8 Kind_122101, TY51526* N_122102, NU32 Allowed_122103) {
TY51548* Result_128126;
Result_128126 = 0;
if (!((*N_122102).Kind == ((NU8) 34))) goto LA2;
Checksonslen_104099(N_122102, 2);
Result_128126 = Semidentvis_122092(C_122100, Kind_122101, (*N_122102).KindU.S6.Sons->data[0], Allowed_122103);
switch (Kind_122101) {
case ((NU8) 7):
break;
case ((NU8) 16):
Pragma_119028(C_122100, Result_128126, (*N_122102).KindU.S6.Sons->data[1], TMP193112);
break;
case ((NU8) 9):
Pragma_119028(C_122100, Result_128126, (*N_122102).KindU.S6.Sons->data[1], TMP193113);
break;
case ((NU8) 8):
Pragma_119028(C_122100, Result_128126, (*N_122102).KindU.S6.Sons->data[1], TMP193114);
break;
default:
break;
}
goto LA1;
LA2: ;
Result_128126 = Semidentvis_122092(C_122100, Kind_122101, N_122102, Allowed_122103);
LA1: ;
return Result_128126;
}
N_NIMCALL(void, Semrecordnodeaux_128433)(TY104012* C_128435, TY51526* N_128436, TY51901* Check_128438, NI* Pos_128440, TY51526* Father_128441, TY51548* Rectype_128442) {
NI Length_128665;
TY51548* F_128666;
TY51526* A_128667;
TY51526* It_128668;
TY51526* E_128669;
TY51526* Branch_128670;
TY51552* Typ_128671;
NI I_128691;
NI HEX3Atmp_142858;
NI LOC4;
NI Res_142860;
NIM_BOOL LOC13;
TY51526* LOC26;
NI I_128833;
NI HEX3Atmp_142861;
NI LOC30;
NI Res_142863;
NIM_BOOL LOC36;
NI I_128944;
NI HEX3Atmp_142864;
NI LOC46;
NI Res_142866;
NIM_BOOL LOC49;
NIM_BOOL LOC50;
NIM_BOOL LOC56;
TY51526* LOC62;
TY51526* LOC63;
Length_128665 = 0;
F_128666 = 0;
A_128667 = 0;
It_128668 = 0;
E_128669 = 0;
Branch_128670 = 0;
Typ_128671 = 0;
if (!(N_128436 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*N_128436).Kind) {
case ((NU8) 115):
Branch_128670 = NIM_NIL;
I_128691 = 0;
HEX3Atmp_142858 = 0;
LOC4 = Sonslen_51804(N_128436);
HEX3Atmp_142858 = (NI32)(LOC4 - 1);
Res_142860 = 0;
Res_142860 = 0;
while (1) {
if (!(Res_142860 <= HEX3Atmp_142858)) goto LA5;
I_128691 = Res_142860;
It_128668 = (*N_128436).KindU.S6.Sons->data[I_128691];
if (!(It_128668 == NIM_NIL)) goto LA7;
Illformedast_104092(N_128436);
LA7: ;
switch ((*It_128668).Kind) {
case ((NU8) 76):
Checksonslen_104099(It_128668, 2);
E_128669 = Semconstexpr_122171(C_128435, (*It_128668).KindU.S6.Sons->data[0]);
Checkbool_126881(E_128669);
if (!!(((*E_128669).Kind == ((NU8) 6)))) goto LA10;
Internalerror_43574((*E_128669).Info, ((NimStringDesc*) &TMP193104));
LA10: ;
LOC13 = !(((*E_128669).KindU.S1.Intval == 0));
if (!(LOC13)) goto LA14;
LOC13 = (Branch_128670 == NIM_NIL);
LA14: ;
if (!LOC13) goto LA15;
Branch_128670 = (*It_128668).KindU.S6.Sons->data[1];
LA15: ;
break;
case ((NU8) 78):
Checksonslen_104099(It_128668, 1);
if (!(Branch_128670 == NIM_NIL)) goto LA18;
Branch_128670 = (*It_128668).KindU.S6.Sons->data[0];
LA18: ;
break;
default:
Illformedast_104092(N_128436);
break;
}
Res_142860 += 1;
} LA5: ;
if (!!((Branch_128670 == NIM_NIL))) goto LA21;
Semrecordnodeaux_128433(C_128435, Branch_128670, Check_128438, Pos_128440, Father_128441, Rectype_128442);
LA21: ;
break;
case ((NU8) 114):
Semrecordcase_128443(C_128435, N_128436, Check_128438, Pos_128440, Father_128441, Rectype_128442);
break;
case ((NU8) 18):
if (!!(((*Father_128441).Kind == ((NU8) 113)))) goto LA24;
LOC26 = 0;
LOC26 = Newnodei_51738(((NU8) 113), (*N_128436).Info);
Addson_51824(Father_128441, LOC26);
LA24: ;
break;
case ((NU8) 113):
if (!((*Father_128441).Kind == ((NU8) 113))) goto LA28;
A_128667 = Father_128441;
goto LA27;
LA28: ;
A_128667 = Copynode_51856(N_128436);
LA27: ;
I_128833 = 0;
HEX3Atmp_142861 = 0;
LOC30 = Sonslen_51804(N_128436);
HEX3Atmp_142861 = (NI32)(LOC30 - 1);
Res_142863 = 0;
Res_142863 = 0;
while (1) {
if (!(Res_142863 <= HEX3Atmp_142861)) goto LA31;
I_128833 = Res_142863;
Semrecordnodeaux_128433(C_128435, (*N_128436).KindU.S6.Sons->data[I_128833], Check_128438, Pos_128440, A_128667, Rectype_128442);
Res_142863 += 1;
} LA31: ;
if (!!((A_128667 == Father_128441))) goto LA33;
Addson_51824(Father_128441, A_128667);
LA33: ;
break;
case ((NU8) 25):
Checkminsonslen_104103(N_128436, 3);
Length_128665 = Sonslen_51804(N_128436);
LOC36 = !(((*Father_128441).Kind == ((NU8) 113)));
if (!(LOC36)) goto LA37;
LOC36 = (4 <= Length_128665);
LA37: ;
if (!LOC36) goto LA38;
A_128667 = Newnodei_51738(((NU8) 113), (*N_128436).Info);
goto LA35;
LA38: ;
A_128667 = NIM_NIL;
LA35: ;
if (!!(((*N_128436).KindU.S6.Sons->data[(NI32)(Length_128665 - 1)] == NIM_NIL))) goto LA41;
Limessage_43569((*(*N_128436).KindU.S6.Sons->data[(NI32)(Length_128665 - 1)]).Info, ((NU8) 173), ((NimStringDesc*) &TMP192933));
LA41: ;
if (!((*N_128436).KindU.S6.Sons->data[(NI32)(Length_128665 - 2)] == NIM_NIL)) goto LA44;
Limessage_43569((*N_128436).Info, ((NU8) 60), ((NimStringDesc*) &TMP192933));
LA44: ;
Typ_128671 = Semtypenode_122138(C_128435, (*N_128436).KindU.S6.Sons->data[(NI32)(Length_128665 - 2)], NIM_NIL);
I_128944 = 0;
HEX3Atmp_142864 = 0;
LOC46 = Sonslen_51804(N_128436);
HEX3Atmp_142864 = (NI32)(LOC46 - 3);
Res_142866 = 0;
Res_142866 = 0;
while (1) {
if (!(Res_142866 <= HEX3Atmp_142864)) goto LA47;
I_128944 = Res_142866;
F_128666 = Semidentwithpragma_122098(C_128435, ((NU8) 16), (*N_128436).KindU.S6.Sons->data[I_128944], 6);
asgnRef((void**) &(*F_128666).Typ, Typ_128671);
(*F_128666).Position = (*Pos_128440);
LOC50 = !((Rectype_128442 == NIM_NIL));
if (!(LOC50)) goto LA51;
LOC50 = !(((384 & (*Rectype_128442).Flags) == 0));
LA51: ;
LOC49 = LOC50;
if (!(LOC49)) goto LA52;
LOC49 = ((*F_128666).Loc.R == NIM_NIL);
LA52: ;
if (!LOC49) goto LA53;
asgnRefNoCycle((void**) &(*F_128666).Loc.R, Torope_48046((*(*F_128666).Name).S));
(*F_128666).Flags = ((*F_128666).Flags | (384 & (*Rectype_128442).Flags));
LA53: ;
(*Pos_128440) += 1;
LOC56 = Intsetcontainsorincl_51929(Check_128438, (*(*F_128666).Name).Sup.Id);
if (!LOC56) goto LA57;
Limessage_43569((*(*N_128436).KindU.S6.Sons->data[I_128944]).Info, ((NU8) 37), (*(*F_128666).Name).S);
LA57: ;
if (!(A_128667 == NIM_NIL)) goto LA60;
LOC62 = 0;
LOC62 = Newsymnode_51735(F_128666);
Addson_51824(Father_128441, LOC62);
goto LA59;
LA60: ;
LOC63 = 0;
LOC63 = Newsymnode_51735(F_128666);
Addson_51824(A_128667, LOC63);
LA59: ;
Res_142866 += 1;
} LA47: ;
if (!!((A_128667 == NIM_NIL))) goto LA65;
Addson_51824(Father_128441, A_128667);
LA65: ;
break;
default:
Illformedast_104092(N_128436);
break;
}
BeforeRet: ;
}
N_NIMCALL(TY51552*, Semobjectnode_129213)(TY104012* C_129215, TY51526* N_129216, TY51552* Prev_129217) {
TY51552* Result_129218;
TY51901 Check_129219;
TY51552* Base_129220;
NI Pos_129221;
NIM_BOOL LOC11;
Result_129218 = 0;
memset((void*)&Check_129219, 0, sizeof(Check_129219));
Base_129220 = 0;
Pos_129221 = 0;
Intsetinit_51925(&Check_129219);
Pos_129221 = 0;
Checksonslen_104099(N_129216, 3);
if (!!(((*N_129216).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA2;
Base_129220 = Semtypenode_122138(C_129215, (*(*N_129216).KindU.S6.Sons->data[1]).KindU.S6.Sons->data[0], NIM_NIL);
if (!((*Base_129220).Kind == ((NU8) 17))) goto LA5;
Addinheritedfields_129190(C_129215, &Check_129219, &Pos_129221, Base_129220);
goto LA4;
LA5: ;
Limessage_43569((*(*N_129216).KindU.S6.Sons->data[1]).Info, ((NU8) 119), ((NimStringDesc*) &TMP192933));
LA4: ;
goto LA1;
LA2: ;
Base_129220 = NIM_NIL;
LA1: ;
if (!!(((*N_129216).Kind == ((NU8) 111)))) goto LA8;
Internalerror_43574((*N_129216).Info, ((NimStringDesc*) &TMP193103));
LA8: ;
Result_129218 = Neworprevtype_126931(((NU8) 17), Prev_129217, C_129215);
Addson_51828(Result_129218, Base_129220);
asgnRefNoCycle((void**) &(*Result_129218).N, Newnodei_51738(((NU8) 113), (*N_129216).Info));
Semrecordnodeaux_128433(C_129215, (*N_129216).KindU.S6.Sons->data[2], &Check_129219, &Pos_129221, (*Result_129218).N, (*Result_129218).Sym);
LOC11 = !((Base_129220 == NIM_NIL));
if (!(LOC11)) goto LA12;
LOC11 = (((*Base_129220).Flags &(1<<((((NU8) 2))&7)))!=0);
LA12: ;
if (!LOC11) goto LA13;
Limessage_43569((*(*N_129216).KindU.S6.Sons->data[1]).Info, ((NU8) 119), ((NimStringDesc*) &TMP192933));
LA13: ;
return Result_129218;
}
N_NIMCALL(TY51552*, Semtuple_127739)(TY104012* C_127741, TY51526* N_127742, TY51552* Prev_127743) {
TY51552* Result_127744;
NI Length_127745;
NI Counter_127746;
TY51552* Typ_127747;
TY51901 Check_127748;
TY51526* A_127749;
TY51548* Field_127750;
NI I_127760;
NI HEX3Atmp_142840;
NI LOC1;
NI Res_142842;
NI J_127860;
NI HEX3Atmp_142837;
NI Res_142839;
NIM_BOOL LOC14;
TY51526* LOC17;
Result_127744 = 0;
Length_127745 = 0;
Counter_127746 = 0;
Typ_127747 = 0;
memset((void*)&Check_127748, 0, sizeof(Check_127748));
A_127749 = 0;
Field_127750 = 0;
Result_127744 = Neworprevtype_126931(((NU8) 18), Prev_127743, C_127741);
asgnRefNoCycle((void**) &(*Result_127744).N, Newnodei_51738(((NU8) 113), (*N_127742).Info));
Intsetinit_51925(&Check_127748);
Counter_127746 = 0;
I_127760 = 0;
HEX3Atmp_142840 = 0;
LOC1 = Sonslen_51804(N_127742);
HEX3Atmp_142840 = (NI32)(LOC1 - 1);
Res_142842 = 0;
Res_142842 = 0;
while (1) {
if (!(Res_142842 <= HEX3Atmp_142840)) goto LA2;
I_127760 = Res_142842;
A_127749 = (*N_127742).KindU.S6.Sons->data[I_127760];
if (!!(((*A_127749).Kind == ((NU8) 25)))) goto LA4;
Illformedast_104092(A_127749);
LA4: ;
Checkminsonslen_104103(A_127749, 3);
Length_127745 = Sonslen_51804(A_127749);
if (!!(((*A_127749).KindU.S6.Sons->data[(NI32)(Length_127745 - 2)] == NIM_NIL))) goto LA7;
Typ_127747 = Semtypenode_122138(C_127741, (*A_127749).KindU.S6.Sons->data[(NI32)(Length_127745 - 2)], NIM_NIL);
goto LA6;
LA7: ;
Limessage_43569((*A_127749).Info, ((NU8) 60), ((NimStringDesc*) &TMP192933));
LA6: ;
if (!!(((*A_127749).KindU.S6.Sons->data[(NI32)(Length_127745 - 1)] == NIM_NIL))) goto LA10;
Limessage_43569((*(*A_127749).KindU.S6.Sons->data[(NI32)(Length_127745 - 1)]).Info, ((NU8) 173), ((NimStringDesc*) &TMP192933));
LA10: ;
J_127860 = 0;
HEX3Atmp_142837 = 0;
HEX3Atmp_142837 = (NI32)(Length_127745 - 3);
Res_142839 = 0;
Res_142839 = 0;
while (1) {
if (!(Res_142839 <= HEX3Atmp_142837)) goto LA12;
J_127860 = Res_142839;
Field_127750 = Newsyms_122059(((NU8) 16), (*A_127749).KindU.S6.Sons->data[J_127860], C_127741);
asgnRef((void**) &(*Field_127750).Typ, Typ_127747);
(*Field_127750).Position = Counter_127746;
Counter_127746 += 1;
LOC14 = Intsetcontainsorincl_51929(&Check_127748, (*(*Field_127750).Name).Sup.Id);
if (!LOC14) goto LA15;
Limessage_43569((*(*A_127749).KindU.S6.Sons->data[J_127860]).Info, ((NU8) 37), (*(*Field_127750).Name).S);
LA15: ;
LOC17 = 0;
LOC17 = Newsymnode_51735(Field_127750);
Addson_51824((*Result_127744).N, LOC17);
Addson_51828(Result_127744, Typ_127747);
Res_142839 += 1;
} LA12: ;
Res_142842 += 1;
} LA2: ;
return Result_127744;
}
N_NIMCALL(TY51552*, Semanyref_127337)(TY104012* C_127339, TY51526* N_127340, NU8 Kind_127341, NimStringDesc* Kindstr_127342, TY51552* Prev_127343) {
TY51552* Result_127344;
NI LOC2;
TY51552* Base_127359;
Result_127344 = 0;
Result_127344 = Neworprevtype_126931(Kind_127341, Prev_127343, C_127339);
LOC2 = Sonslen_51804(N_127340);
if (!(LOC2 == 1)) goto LA3;
Base_127359 = 0;
Base_127359 = Semtypenode_122138(C_127339, (*N_127340).KindU.S6.Sons->data[0], NIM_NIL);
Addson_51828(Result_127344, Base_127359);
goto LA1;
LA3: ;
Limessage_43569((*N_127340).Info, ((NU8) 170), Kindstr_127342);
LA1: ;
return Result_127344;
}
N_NIMCALL(TY51552*, Semvartype_127360)(TY104012* C_127362, TY51526* N_127363, TY51552* Prev_127364) {
TY51552* Result_127365;
NI LOC2;
TY51552* Base_127380;
Result_127365 = 0;
Result_127365 = Neworprevtype_126931(((NU8) 23), Prev_127364, C_127362);
LOC2 = Sonslen_51804(N_127363);
if (!(LOC2 == 1)) goto LA3;
Base_127380 = 0;
Base_127380 = Semtypenode_122138(C_127362, (*N_127363).KindU.S6.Sons->data[0], NIM_NIL);
if (!((*Base_127380).Kind == ((NU8) 23))) goto LA6;
Limessage_43569((*N_127363).Info, ((NU8) 192), ((NimStringDesc*) &TMP192933));
LA6: ;
Addson_51828(Result_127365, Base_127380);
goto LA1;
LA3: ;
Limessage_43569((*N_127363).Info, ((NU8) 170), ((NimStringDesc*) &TMP193117));
LA1: ;
return Result_127365;
}
N_NIMCALL(TY51552*, Semdistinct_127390)(TY104012* C_127392, TY51526* N_127393, TY51552* Prev_127394) {
TY51552* Result_127395;
NI LOC2;
TY51552* LOC5;
Result_127395 = 0;
Result_127395 = Neworprevtype_126931(((NU8) 13), Prev_127394, C_127392);
LOC2 = Sonslen_51804(N_127393);
if (!(LOC2 == 1)) goto LA3;
LOC5 = 0;
LOC5 = Semtypenode_122138(C_127392, (*N_127393).KindU.S6.Sons->data[0], NIM_NIL);
Addson_51828(Result_127395, LOC5);
goto LA1;
LA3: ;
Limessage_43569((*N_127393).Info, ((NU8) 170), ((NimStringDesc*) &TMP193118));
LA1: ;
return Result_127395;
}
N_NIMCALL(TY51552*, Semenum_126957)(TY104012* C_126959, TY51526* N_126960, TY51552* Prev_126961) {
TY51552* Result_126962;
NI64 Counter_126963;
NI64 X_126964;
TY51548* E_126965;
TY51552* Base_126966;
NI64 LOC7;
NI I_127043;
NI HEX3Atmp_142834;
NI LOC8;
NI Res_142836;
TY51526* V_127104;
TY51526* Strval_127105;
TY51552* LOC10;
NI LOC12;
TY51552* LOC16;
NIM_BOOL LOC29;
TY51526* LOC33;
Result_126962 = 0;
Counter_126963 = 0;
X_126964 = 0;
E_126965 = 0;
Base_126966 = 0;
Counter_126963 = 0;
Base_126966 = NIM_NIL;
Result_126962 = Neworprevtype_126931(((NU8) 14), Prev_126961, C_126959);
asgnRefNoCycle((void**) &(*Result_126962).N, Newnodei_51738(((NU8) 121), (*N_126960).Info));
Checkminsonslen_104103(N_126960, 1);
if (!!(((*N_126960).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA2;
Base_126966 = Semtypenode_122138(C_126959, (*(*N_126960).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[0], NIM_NIL);
if (!!(((*Base_126966).Kind == ((NU8) 14)))) goto LA5;
Limessage_43569((*(*N_126960).KindU.S6.Sons->data[0]).Info, ((NU8) 120), ((NimStringDesc*) &TMP192933));
LA5: ;
LOC7 = Lastord_94004(Base_126966);
Counter_126963 = (NI64)(LOC7 + 1);
LA2: ;
Addson_51828(Result_126962, Base_126966);
I_127043 = 0;
HEX3Atmp_142834 = 0;
LOC8 = Sonslen_51804(N_126960);
HEX3Atmp_142834 = (NI32)(LOC8 - 1);
Res_142836 = 0;
Res_142836 = 1;
while (1) {
if (!(Res_142836 <= HEX3Atmp_142834)) goto LA9;
I_127043 = Res_142836;
switch ((*(*N_126960).KindU.S6.Sons->data[I_127043]).Kind) {
case ((NU8) 122):
E_126965 = Newsyms_122059(((NU8) 17), (*(*N_126960).KindU.S6.Sons->data[I_127043]).KindU.S6.Sons->data[0], C_126959);
V_127104 = 0;
V_127104 = Semconstexpr_122171(C_126959, (*(*N_126960).KindU.S6.Sons->data[I_127043]).KindU.S6.Sons->data[1]);
Strval_127105 = 0;
Strval_127105 = NIM_NIL;
LOC10 = 0;
LOC10 = Skiptypes_94087((*V_127104).Typ, 43008);
switch ((*LOC10).Kind) {
case ((NU8) 18):
LOC12 = Sonslen_51804(V_127104);
if (!!((LOC12 == 2))) goto LA13;
Limessage_43569((*V_127104).Info, ((NU8) 109), ((NimStringDesc*) &TMP192933));
LA13: ;
Strval_127105 = (*V_127104).KindU.S6.Sons->data[1];
LOC16 = 0;
LOC16 = Skiptypes_94087((*Strval_127105).Typ, 43008);
if (!!(((*LOC16).Kind == ((NU8) 28) || (*LOC16).Kind == ((NU8) 29)))) goto LA17;
Limessage_43569((*Strval_127105).Info, ((NU8) 6), ((NimStringDesc*) &TMP192933));
LA17: ;
X_126964 = Getordvalue_94109((*V_127104).KindU.S6.Sons->data[0]);
break;
case ((NU8) 28):
case ((NU8) 29):
Strval_127105 = V_127104;
X_126964 = Counter_126963;
break;
default:
X_126964 = Getordvalue_94109(V_127104);
break;
}
if (!!((I_127043 == 1))) goto LA20;
if (!!((X_126964 == Counter_126963))) goto LA23;
(*Result_126962).Flags |=(1<<((NI8)(((NU8) 4))%(sizeof(NI8)*8)));
LA23: ;
if (!(X_126964 < Counter_126963)) goto LA26;
Limessage_43569((*(*N_126960).KindU.S6.Sons->data[I_127043]).Info, ((NU8) 142), (*(*E_126965).Name).S);
LA26: ;
LA20: ;
asgnRefNoCycle((void**) &(*E_126965).Ast, Strval_127105);
Counter_126963 = X_126964;
break;
case ((NU8) 3):
E_126965 = (*(*N_126960).KindU.S6.Sons->data[I_127043]).KindU.S4.Sym;
break;
case ((NU8) 2):
E_126965 = Newsyms_122059(((NU8) 17), (*N_126960).KindU.S6.Sons->data[I_127043], C_126959);
break;
default:
Illformedast_104092(N_126960);
break;
}
asgnRef((void**) &(*E_126965).Typ, Result_126962);
(*E_126965).Position = ((NI) (Counter_126963));
LOC29 = !(((*Result_126962).Sym == NIM_NIL));
if (!(LOC29)) goto LA30;
LOC29 = (((*(*Result_126962).Sym).Flags &(1<<((((NU8) 3))&31)))!=0);
LA30: ;
if (!LOC29) goto LA31;
(*E_126965).Flags |=(1<<((NI32)(((NU8) 0))%(sizeof(NI32)*8)));
(*E_126965).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
Strtableadd_56061(&(*(*C_126959).Module).Tab, E_126965);
LA31: ;
LOC33 = 0;
LOC33 = Newsymnode_51735(E_126965);
Addson_51824((*Result_126962).N, LOC33);
Adddeclat_105128(C_126959, E_126965, ((NI) ((NI32)(((NI) ((*C_126959).Tab.Tos)) - 1))));
Counter_126963 += 1;
Res_142836 += 1;
} LA9: ;
return Result_126962;
}
N_NIMCALL(TY51552*, Semstmtlisttype_129696)(TY104012* C_129698, TY51526* N_129699, TY51552* Prev_129700) {
TY51552* Result_129701;
NI Length_129702;
NI I_129711;
NI HEX3Atmp_142888;
NI Res_142890;
Result_129701 = 0;
Checkminsonslen_104103(N_129699, 1);
Length_129702 = 0;
Length_129702 = Sonslen_51804(N_129699);
I_129711 = 0;
HEX3Atmp_142888 = 0;
HEX3Atmp_142888 = (NI32)(Length_129702 - 2);
Res_142890 = 0;
Res_142890 = 0;
while (1) {
if (!(Res_142890 <= HEX3Atmp_142888)) goto LA1;
I_129711 = Res_142890;
asgnRefNoCycle((void**) &(*N_129699).KindU.S6.Sons->data[I_129711], Semstmt_122143(C_129698, (*N_129699).KindU.S6.Sons->data[I_129711]));
Res_142890 += 1;
} LA1: ;
if (!(0 < Length_129702)) goto LA3;
Result_129701 = Semtypenode_122138(C_129698, (*N_129699).KindU.S6.Sons->data[(NI32)(Length_129702 - 1)], Prev_129700);
asgnRef((void**) &(*N_129699).Typ, Result_129701);
asgnRef((void**) &(*(*N_129699).KindU.S6.Sons->data[(NI32)(Length_129702 - 1)]).Typ, Result_129701);
goto LA2;
LA3: ;
Result_129701 = NIM_NIL;
LA2: ;
return Result_129701;
}
N_NIMCALL(TY51552*, Semblocktype_129764)(TY104012* C_129766, TY51526* N_129767, TY51552* Prev_129768) {
TY51552* Result_129769;
TY51548* LOC4;
Result_129769 = 0;
(*(*C_129766).P).Nestedblockcounter += 1;
Checksonslen_104099(N_129767, 2);
Openscope_56146(&(*C_129766).Tab);
if (!!(((*N_129767).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA2;
LOC4 = 0;
LOC4 = Newsyms_122059(((NU8) 19), (*N_129767).KindU.S6.Sons->data[0], C_129766);
Adddecl_105114(C_129766, LOC4);
LA2: ;
Result_129769 = Semstmtlisttype_129696(C_129766, (*N_129767).KindU.S6.Sons->data[1], Prev_129768);
asgnRef((void**) &(*(*N_129767).KindU.S6.Sons->data[1]).Typ, Result_129769);
asgnRef((void**) &(*N_129767).Typ, Result_129769);
Closescope_105018(&(*C_129766).Tab);
(*(*C_129766).P).Nestedblockcounter -= 1;
return Result_129769;
}
N_NIMCALL(TY51552*, Semtypenode_122138)(TY104012* C_122140, TY51526* N_122141, TY51552* Prev_122142) {
TY51552* Result_129860;
TY51548* S_129861;
TY51552* T_129862;
TY51526* LOC4;
NI LOC6;
NIM_BOOL LOC16;
TY50011* LOC23;
TY51526* LOC24;
Result_129860 = 0;
S_129861 = 0;
T_129862 = 0;
Result_129860 = NIM_NIL;
if (!(N_122141 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*N_122141).Kind) {
case ((NU8) 110):
LOC4 = 0;
LOC4 = Semexprwithtype_122122(C_122140, N_122141, 1);
Result_129860 = (*LOC4).Typ;
break;
case ((NU8) 30):
LOC6 = Sonslen_51804(N_122141);
if (!(LOC6 == 1)) goto LA7;
Result_129860 = Semtypenode_122138(C_122140, (*N_122141).KindU.S6.Sons->data[0], Prev_122142);
goto LA5;
LA7: ;
Limessage_43569((*N_122141).Info, ((NU8) 60), ((NimStringDesc*) &TMP192933));
LA5: ;
break;
case ((NU8) 33):
Checkminsonslen_104103(N_122141, 2);
S_129861 = Semtypeident_127713(C_122140, (*N_122141).KindU.S6.Sons->data[0]);
switch ((*S_129861).Magic) {
case ((NU8) 163):
Result_129860 = Semarray_127562(C_122140, N_122141, Prev_122142);
break;
case ((NU8) 164):
Result_129860 = Semcontainer_127314(C_122140, N_122141, ((NU8) 27), ((NimStringDesc*) &TMP193094), Prev_122142);
break;
case ((NU8) 165):
Result_129860 = Semrange_127509(C_122140, N_122141, Prev_122142);
break;
case ((NU8) 166):
Result_129860 = Semset_127271(C_122140, N_122141, Prev_122142);
break;
case ((NU8) 168):
Result_129860 = Semordinal_127671(C_122140, N_122141, Prev_122142);
break;
case ((NU8) 167):
Result_129860 = Semcontainer_127314(C_122140, N_122141, ((NU8) 24), ((NimStringDesc*) &TMP193098), Prev_122142);
break;
default:
Result_129860 = Semgeneric_127898(C_122140, N_122141, S_129861, Prev_122142);
break;
}
break;
case ((NU8) 2):
case ((NU8) 36):
case ((NU8) 43):
S_129861 = Semtypeident_127713(C_122140, N_122141);
if (!((*S_129861).Typ == NIM_NIL)) goto LA10;
Limessage_43569((*N_122141).Info, ((NU8) 60), ((NimStringDesc*) &TMP192933));
LA10: ;
if (!(Prev_122142 == NIM_NIL)) goto LA13;
Result_129860 = (*S_129861).Typ;
goto LA12;
LA13: ;
Assigntype_51780(Prev_122142, (*S_129861).Typ);
(*Prev_122142).Sup.Id = (*(*S_129861).Typ).Sup.Id;
Result_129860 = Prev_122142;
LA12: ;
break;
case ((NU8) 3):
LOC16 = ((*(*N_122141).KindU.S4.Sym).Kind == ((NU8) 7));
if (!(LOC16)) goto LA17;
LOC16 = !(((*(*N_122141).KindU.S4.Sym).Typ == NIM_NIL));
LA17: ;
if (!LOC16) goto LA18;
T_129862 = (*(*N_122141).KindU.S4.Sym).Typ;
if (!(Prev_122142 == NIM_NIL)) goto LA21;
Result_129860 = T_129862;
goto LA20;
LA21: ;
Assigntype_51780(Prev_122142, T_129862);
Result_129860 = Prev_122142;
LA20: ;
Markused_122065(N_122141, (*N_122141).KindU.S4.Sym);
goto LA15;
LA18: ;
Limessage_43569((*N_122141).Info, ((NU8) 60), ((NimStringDesc*) &TMP192933));
LA15: ;
break;
case ((NU8) 111):
Result_129860 = Semobjectnode_129213(C_122140, N_122141, Prev_122142);
break;
case ((NU8) 112):
Result_129860 = Semtuple_127739(C_122140, N_122141, Prev_122142);
break;
case ((NU8) 116):
Result_129860 = Semanyref_127337(C_122140, N_122141, ((NU8) 22), ((NimStringDesc*) &TMP193115), Prev_122142);
break;
case ((NU8) 117):
Result_129860 = Semanyref_127337(C_122140, N_122141, ((NU8) 21), ((NimStringDesc*) &TMP193116), Prev_122142);
break;
case ((NU8) 118):
Result_129860 = Semvartype_127360(C_122140, N_122141, Prev_122142);
break;
case ((NU8) 119):
Result_129860 = Semdistinct_127390(C_122140, N_122141, Prev_122142);
break;
case ((NU8) 120):
Checksonslen_104099(N_122141, 2);
Result_129860 = Semproctypenode_129448(C_122140, (*N_122141).KindU.S6.Sons->data[0], NIM_NIL, Prev_122142);
LOC23 = 0;
LOC23 = Getident_50016(((NimStringDesc*) &TMP193119));
LOC24 = 0;
LOC24 = Newidentnode_51731(LOC23, (*N_122141).Info);
S_129861 = Newsyms_122059(((NU8) 10), LOC24, C_122140);
asgnRef((void**) &(*S_129861).Typ, Result_129860);
Pragma_119028(C_122140, S_129861, (*N_122141).KindU.S6.Sons->data[1], TMP193120);
break;
case ((NU8) 121):
Result_129860 = Semenum_126957(C_122140, N_122141, Prev_122142);
break;
case ((NU8) 4):
Result_129860 = (*N_122141).Typ;
break;
case ((NU8) 108):
Result_129860 = Semstmtlisttype_129696(C_122140, N_122141, Prev_122142);
break;
case ((NU8) 109):
Result_129860 = Semblocktype_129764(C_122140, N_122141, Prev_122142);
break;
default:
Limessage_43569((*N_122141).Info, ((NU8) 60), ((NimStringDesc*) &TMP192933));
break;
}
BeforeRet: ;
return Result_129860;
}
N_NIMCALL(TY51552*, Addtypevarsofgenericbody_129350)(TY104012* C_129352, TY51552* T_129353, TY51526* Genericparams_129354, TY51901* Cl_129356) {
TY51552* Result_129357;
NIM_BOOL LOC5;
NI I_129377;
NI HEX3Atmp_142873;
NI LOC8;
NI Res_142875;
TY51548* S_129387;
NIM_BOOL LOC14;
TY51526* LOC18;
NI L_129408;
NI LOC19;
NI I_129417;
NI HEX3Atmp_142876;
NI LOC20;
NI Res_142878;
NI I_129426;
NI HEX3Atmp_142879;
NI LOC22;
NI Res_142881;
Result_129357 = 0;
Result_129357 = T_129353;
if (!(T_129353 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
LOC5 = Intsetcontainsorincl_51929(Cl_129356, (*T_129353).Sup.Id);
if (!LOC5) goto LA6;
goto BeforeRet;
LA6: ;
switch ((*T_129353).Kind) {
case ((NU8) 10):
Result_129357 = Newtypes_104077(((NU8) 9), C_129352);
Addson_51828(Result_129357, T_129353);
I_129377 = 0;
HEX3Atmp_142873 = 0;
LOC8 = Sonslen_51807(T_129353);
HEX3Atmp_142873 = (NI32)(LOC8 - 2);
Res_142875 = 0;
Res_142875 = 0;
while (1) {
if (!(Res_142875 <= HEX3Atmp_142873)) goto LA9;
I_129377 = Res_142875;
if (!!(((*(*T_129353).Sons->data[I_129377]).Kind == ((NU8) 12)))) goto LA11;
Internalerror_43578(((NimStringDesc*) &TMP193122));
LA11: ;
S_129387 = 0;
S_129387 = Copysym_51776((*(*T_129353).Sons->data[I_129377]).Sym, NIM_FALSE);
(*S_129387).Position = Sonslen_51804(Genericparams_129354);
LOC14 = ((*S_129387).Typ == NIM_NIL);
if (LOC14) goto LA15;
LOC14 = !(((*(*S_129387).Typ).Kind == ((NU8) 12)));
LA15: ;
if (!LOC14) goto LA16;
Internalerror_43578(((NimStringDesc*) &TMP193123));
LA16: ;
Adddecl_105114(C_129352, S_129387);
LOC18 = 0;
LOC18 = Newsymnode_51735(S_129387);
Addson_51824(Genericparams_129354, LOC18);
Addson_51828(Result_129357, (*T_129353).Sons->data[I_129377]);
Res_142875 += 1;
} LA9: ;
break;
case ((NU8) 11):
L_129408 = 0;
LOC19 = Sonslen_51807(T_129353);
L_129408 = (NI32)(LOC19 - 1);
asgnRef((void**) &(*T_129353).Sons->data[L_129408], Addtypevarsofgenericbody_129350(C_129352, (*T_129353).Sons->data[L_129408], Genericparams_129354, Cl_129356));
break;
case ((NU8) 9):
I_129417 = 0;
HEX3Atmp_142876 = 0;
LOC20 = Sonslen_51807(T_129353);
HEX3Atmp_142876 = (NI32)(LOC20 - 1);
Res_142878 = 0;
Res_142878 = 1;
while (1) {
if (!(Res_142878 <= HEX3Atmp_142876)) goto LA21;
I_129417 = Res_142878;
asgnRef((void**) &(*T_129353).Sons->data[I_129417], Addtypevarsofgenericbody_129350(C_129352, (*T_129353).Sons->data[I_129417], Genericparams_129354, Cl_129356));
Res_142878 += 1;
} LA21: ;
break;
default:
I_129426 = 0;
HEX3Atmp_142879 = 0;
LOC22 = Sonslen_51807(T_129353);
HEX3Atmp_142879 = (NI32)(LOC22 - 1);
Res_142881 = 0;
Res_142881 = 0;
while (1) {
if (!(Res_142881 <= HEX3Atmp_142879)) goto LA23;
I_129426 = Res_142881;
asgnRef((void**) &(*T_129353).Sons->data[I_129426], Addtypevarsofgenericbody_129350(C_129352, (*T_129353).Sons->data[I_129426], Genericparams_129354, Cl_129356));
Res_142881 += 1;
} LA23: ;
break;
}
BeforeRet: ;
return Result_129357;
}
N_NIMCALL(TY51552*, Paramtype_129427)(TY104012* C_129429, TY51526* N_129430, TY51526* Genericparams_129431, TY51901* Cl_129433) {
TY51552* Result_129434;
NIM_BOOL LOC2;
NI LOC4;
Result_129434 = 0;
Result_129434 = Semtypenode_122138(C_129429, N_129430, NIM_NIL);
LOC2 = !((Genericparams_129431 == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC4 = Sonslen_51804(Genericparams_129431);
LOC2 = (LOC4 == 0);
LA3: ;
if (!LOC2) goto LA5;
Result_129434 = Addtypevarsofgenericbody_129350(C_129429, Result_129434, Genericparams_129431, Cl_129433);
LA5: ;
return Result_129434;
}
N_NIMCALL(TY51526*, Indextypesmatch_125874)(TY104012* C_125876, TY51552* F_125877, TY51552* A_125878, TY51526* Arg_125879) {
TY51526* Result_125880;
TY124022 M_125881;
Result_125880 = 0;
memset((void*)&M_125881, 0, sizeof(M_125881));
Initcandidate_124050(&M_125881, F_125877);
Result_125880 = Paramtypesmatch_125685(C_125876, &M_125881, F_125877, A_125878, Arg_125879);
return Result_125880;
}
N_NIMCALL(TY51526*, Fitnode_122129)(TY104012* C_122131, TY51552* Formal_122132, TY51526* Arg_122133) {
TY51526* Result_126919;
Result_126919 = 0;
Result_126919 = Indextypesmatch_125874(C_122131, Formal_122132, (*Arg_122133).Typ, Arg_122133);
if (!(Result_126919 == NIM_NIL)) goto LA2;
Typemismatch_126905(Arg_122133, Formal_122132, (*Arg_122133).Typ);
LA2: ;
return Result_126919;
}
N_NIMCALL(TY51552*, Semproctypenode_129448)(TY104012* C_129450, TY51526* N_129451, TY51526* Genericparams_129452, TY51552* Prev_129453) {
TY51552* Result_129454;
TY51526* Def_129455;
TY51526* Res_129456;
TY51552* Typ_129457;
TY51901 Check_129458;
TY51901 Cl_129459;
TY104002* LOC1;
NIM_BOOL LOC3;
NI LOC5;
NI Counter_129475;
NI I_129484;
NI HEX3Atmp_142885;
NI LOC8;
NI Res_142887;
TY51526* A_129497;
NI Length_129507;
NU8 LOC23;
NI J_129621;
NI HEX3Atmp_142882;
NI Res_142884;
TY51548* Arg_129634;
NIM_BOOL LOC28;
TY51526* LOC31;
Result_129454 = 0;
Def_129455 = 0;
Res_129456 = 0;
Typ_129457 = 0;
memset((void*)&Check_129458, 0, sizeof(Check_129458));
memset((void*)&Cl_129459, 0, sizeof(Cl_129459));
Checkminsonslen_104103(N_129451, 1);
Result_129454 = Neworprevtype_126931(((NU8) 25), Prev_129453, C_129450);
LOC1 = 0;
LOC1 = Lastoptionentry_104053(C_129450);
(*Result_129454).Callconv = (*LOC1).Defaultcc;
asgnRefNoCycle((void**) &(*Result_129454).N, Newnodei_51738(((NU8) 66), (*N_129451).Info));
LOC3 = !((Genericparams_129452 == NIM_NIL));
if (!(LOC3)) goto LA4;
LOC5 = Sonslen_51804(Genericparams_129452);
LOC3 = (LOC5 == 0);
LA4: ;
if (!LOC3) goto LA6;
Intsetinit_51925(&Cl_129459);
LA6: ;
Addson_51828(Result_129454, NIM_NIL);
Res_129456 = Newnodei_51738(((NU8) 4), (*N_129451).Info);
Addson_51824((*Result_129454).N, Res_129456);
Intsetinit_51925(&Check_129458);
Counter_129475 = 0;
Counter_129475 = 0;
I_129484 = 0;
HEX3Atmp_142885 = 0;
LOC8 = Sonslen_51804(N_129451);
HEX3Atmp_142885 = (NI32)(LOC8 - 1);
Res_142887 = 0;
Res_142887 = 1;
while (1) {
if (!(Res_142887 <= HEX3Atmp_142885)) goto LA9;
I_129484 = Res_142887;
A_129497 = 0;
A_129497 = (*N_129451).KindU.S6.Sons->data[I_129484];
if (!!(((*A_129497).Kind == ((NU8) 25)))) goto LA11;
Illformedast_104092(A_129497);
LA11: ;
Checkminsonslen_104103(A_129497, 3);
Length_129507 = 0;
Length_129507 = Sonslen_51804(A_129497);
if (!!(((*A_129497).KindU.S6.Sons->data[(NI32)(Length_129507 - 2)] == NIM_NIL))) goto LA14;
Typ_129457 = Paramtype_129427(C_129450, (*A_129497).KindU.S6.Sons->data[(NI32)(Length_129507 - 2)], Genericparams_129452, &Cl_129459);
goto LA13;
LA14: ;
Typ_129457 = NIM_NIL;
LA13: ;
if (!!(((*A_129497).KindU.S6.Sons->data[(NI32)(Length_129507 - 1)] == NIM_NIL))) goto LA17;
Def_129455 = Semexprwithtype_122122(C_129450, (*A_129497).KindU.S6.Sons->data[(NI32)(Length_129507 - 1)], 0);
if (!!((Typ_129457 == NIM_NIL))) goto LA20;
LOC23 = Cmptypes_125420(Typ_129457, (*Def_129455).Typ);
if (!(LOC23 < ((NU8) 1))) goto LA24;
Typemismatch_126905((*A_129497).KindU.S6.Sons->data[(NI32)(Length_129507 - 1)], Typ_129457, (*Def_129455).Typ);
LA24: ;
Def_129455 = Fitnode_122129(C_129450, Typ_129457, Def_129455);
goto LA19;
LA20: ;
Typ_129457 = (*Def_129455).Typ;
LA19: ;
goto LA16;
LA17: ;
Def_129455 = NIM_NIL;
LA16: ;
J_129621 = 0;
HEX3Atmp_142882 = 0;
HEX3Atmp_142882 = (NI32)(Length_129507 - 3);
Res_142884 = 0;
Res_142884 = 0;
while (1) {
if (!(Res_142884 <= HEX3Atmp_142882)) goto LA26;
J_129621 = Res_142884;
Arg_129634 = 0;
Arg_129634 = Newsyms_122059(((NU8) 3), (*A_129497).KindU.S6.Sons->data[J_129621], C_129450);
asgnRef((void**) &(*Arg_129634).Typ, Typ_129457);
(*Arg_129634).Position = Counter_129475;
Counter_129475 += 1;
asgnRefNoCycle((void**) &(*Arg_129634).Ast, Copytree_51859(Def_129455));
LOC28 = Intsetcontainsorincl_51929(&Check_129458, (*(*Arg_129634).Name).Sup.Id);
if (!LOC28) goto LA29;
Limessage_43569((*(*A_129497).KindU.S6.Sons->data[J_129621]).Info, ((NU8) 37), (*(*Arg_129634).Name).S);
LA29: ;
LOC31 = 0;
LOC31 = Newsymnode_51735(Arg_129634);
Addson_51824((*Result_129454).N, LOC31);
Addson_51828(Result_129454, Typ_129457);
Res_142884 += 1;
} LA26: ;
Res_142887 += 1;
} LA9: ;
if (!!(((*N_129451).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA33;
asgnRef((void**) &(*Result_129454).Sons->data[0], Paramtype_129427(C_129450, (*N_129451).KindU.S6.Sons->data[0], Genericparams_129452, &Cl_129459));
asgnRef((void**) &(*Res_129456).Typ, (*Result_129454).Sons->data[0]);
LA33: ;
return Result_129454;
}
N_NIMCALL(void, Semparamlist_122147)(TY104012* C_122149, TY51526* N_122150, TY51526* Genericparams_122151, TY51548* S_122152) {
asgnRef((void**) &(*S_122152).Typ, Semproctypenode_129448(C_122149, N_122150, Genericparams_122151, NIM_NIL));
}
N_NIMCALL(void, Addparams_122153)(TY104012* C_122155, TY51526* N_122156) {
NI I_141269;
NI HEX3Atmp_143086;
NI LOC1;
NI Res_143088;
I_141269 = 0;
HEX3Atmp_143086 = 0;
LOC1 = Sonslen_51804(N_122156);
HEX3Atmp_143086 = (NI32)(LOC1 - 1);
Res_143088 = 0;
Res_143088 = 1;
while (1) {
if (!(Res_143088 <= HEX3Atmp_143086)) goto LA2;
I_141269 = Res_143088;
if (!!(((*(*N_122156).KindU.S6.Sons->data[I_141269]).Kind == ((NU8) 3)))) goto LA4;
Internalerror_43574((*N_122156).Info, ((NimStringDesc*) &TMP193124));
LA4: ;
Adddecl_105114(C_122155, (*(*N_122156).KindU.S6.Sons->data[I_141269]).KindU.S4.Sym);
Res_143088 += 1;
} LA2: ;
}
N_NIMCALL(TY51548*, Genericcacheget_123317)(TY104012* C_123319, TY51548* Genericsym_123320, TY51548* Instsym_123321) {
TY51548* Result_123322;
NI I_123331;
NI HEX3Atmp_126833;
NI LOC1;
NI Res_126835;
TY51548* A_123389;
TY51548* B_123428;
NU8 LOC10;
Result_123322 = 0;
Result_123322 = NIM_NIL;
I_123331 = 0;
HEX3Atmp_126833 = 0;
LOC1 = Sonslen_51804((*C_123319).Generics);
HEX3Atmp_126833 = (NI32)(LOC1 - 1);
Res_126835 = 0;
Res_126835 = 0;
while (1) {
if (!(Res_126835 <= HEX3Atmp_126833)) goto LA2;
I_123331 = Res_126835;
if (!!(((*(*(*C_123319).Generics).KindU.S6.Sons->data[I_123331]).Kind == ((NU8) 23)))) goto LA4;
Internalerror_43574((*Genericsym_123320).Info, ((NimStringDesc*) &TMP193125));
LA4: ;
A_123389 = 0;
A_123389 = (*(*(*(*C_123319).Generics).KindU.S6.Sons->data[I_123331]).KindU.S6.Sons->data[0]).KindU.S4.Sym;
if (!((*Genericsym_123320).Sup.Id == (*A_123389).Sup.Id)) goto LA7;
B_123428 = 0;
B_123428 = (*(*(*(*C_123319).Generics).KindU.S6.Sons->data[I_123331]).KindU.S6.Sons->data[1]).KindU.S4.Sym;
LOC10 = Equalparams_94065((*(*B_123428).Typ).N, (*(*Instsym_123321).Typ).N);
if (!(LOC10 == ((NU8) 1))) goto LA11;
Result_123322 = B_123428;
goto BeforeRet;
LA11: ;
LA7: ;
Res_126835 += 1;
} LA2: ;
BeforeRet: ;
return Result_123322;
}
N_NIMCALL(void, Genericcacheadd_123438)(TY104012* C_123440, TY51548* Genericsym_123441, TY51548* Instsym_123442) {
TY51526* N_123443;
TY51526* LOC1;
TY51526* LOC2;
N_123443 = 0;
N_123443 = Newnode_51711(((NU8) 23));
LOC1 = 0;
LOC1 = Newsymnode_51735(Genericsym_123441);
Addson_51824(N_123443, LOC1);
LOC2 = 0;
LOC2 = Newsymnode_51735(Instsym_123442);
Addson_51824(N_123443, LOC2);
Addson_51824((*C_123440).Generics, N_123443);
}
N_NIMCALL(void, Addresult_122157)(TY104012* C_122159, TY51552* T_122160, TY43539 Info_122161) {
TY51548* S_141385;
TY50011* LOC4;
TY51548* LOC5;
if (!!((T_122160 == NIM_NIL))) goto LA2;
S_141385 = 0;
LOC4 = 0;
LOC4 = Getident_50016(((NimStringDesc*) &TMP193127));
LOC5 = 0;
LOC5 = Getcurrowner_104107();
S_141385 = Newsym_51702(((NU8) 9), LOC4, LOC5);
(*S_141385).Info = Info_122161;
asgnRef((void**) &(*S_141385).Typ, T_122160);
(*S_141385).Flags |=(1<<((NI32)(((NU8) 12))%(sizeof(NI32)*8)));
(*S_141385).Flags |=(1<<((NI32)(((NU8) 0))%(sizeof(NI32)*8)));
Adddecl_105114(C_122159, S_141385);
asgnRef((void**) &(*(*C_122159).P).Resultsym, S_141385);
LA2: ;
}
N_NIMCALL(void, Addresultnode_122162)(TY104012* C_122164, TY51526* N_122165) {
TY51526* LOC4;
if (!!(((*(*C_122164).P).Resultsym == NIM_NIL))) goto LA2;
LOC4 = 0;
LOC4 = Newsymnode_51735((*(*C_122164).P).Resultsym);
Addson_51824(N_122165, LOC4);
LA2: ;
}
N_NIMCALL(TY51526*, Semstmtscope_122104)(TY104012* C_122106, TY51526* N_122107) {
TY51526* Result_142831;
Result_142831 = 0;
Openscope_56146(&(*C_122106).Tab);
Result_142831 = Semstmt_122143(C_122106, N_122107);
Closescope_105018(&(*C_122106).Tab);
return Result_142831;
}
N_NIMCALL(TY51548*, Generateinstance_123146)(TY104012* C_123148, TY51548* Fn_123149, TY51564 Pt_123150, TY43539 Info_123151) {
TY51548* Result_123450;
TY51548* Oldprc_123451;
TY51548* Oldmod_123452;
TY104006* Oldp_123453;
TY51526* N_123454;
TY51548* LOC4;
Result_123450 = 0;
Oldprc_123451 = 0;
Oldmod_123452 = 0;
Oldp_123453 = 0;
N_123454 = 0;
if (!(1000 < (*C_123148).Instcounter)) goto LA2;
Internalerror_43574((*(*Fn_123149).Ast).Info, ((NimStringDesc*) &TMP193088));
LA2: ;
(*C_123148).Instcounter += 1;
Oldp_123453 = (*C_123148).P;
Oldmod_123452 = (*C_123148).Module;
asgnRef((void**) &(*C_123148).Module, Getmodule_56203(Fn_123149));
Result_123450 = Copysym_51776(Fn_123149, NIM_FALSE);
(*Result_123450).Flags |=(1<<((NI32)(((NU8) 4))%(sizeof(NI32)*8)));
LOC4 = 0;
LOC4 = Getcurrowner_104107();
asgnRef((void**) &(*Result_123450).Owner, (*LOC4).Owner);
N_123454 = Copytree_51859((*Fn_123149).Ast);
asgnRefNoCycle((void**) &(*Result_123450).Ast, N_123454);
Pushowner_104109(Result_123450);
Openscope_56146(&(*C_123148).Tab);
if (!((*N_123454).KindU.S6.Sons->data[1] == NIM_NIL)) goto LA6;
Internalerror_43574((*N_123454).Info, ((NimStringDesc*) &TMP193089));
LA6: ;
asgnRefNoCycle((void**) &(*N_123454).KindU.S6.Sons->data[0], Newsymnode_51735(Result_123450));
Pushinfocontext_43613(Info_123151);
Instantiategenericparamlist_123225(C_123148, (*N_123454).KindU.S6.Sons->data[1], Pt_123150);
asgnRefNoCycle((void**) &(*N_123454).KindU.S6.Sons->data[1], NIM_NIL);
if (!!(((*N_123454).KindU.S6.Sons->data[2] == NIM_NIL))) goto LA9;
Semparamlist_122147(C_123148, (*N_123454).KindU.S6.Sons->data[2], NIM_NIL, Result_123450);
Addparams_122153(C_123148, (*(*Result_123450).Typ).N);
goto LA8;
LA9: ;
asgnRef((void**) &(*Result_123450).Typ, Newtypes_104077(((NU8) 25), C_123148));
Addson_51828((*Result_123450).Typ, NIM_NIL);
LA8: ;
(*(*Result_123450).Typ).Callconv = (*(*Fn_123149).Typ).Callconv;
Oldprc_123451 = Genericcacheget_123317(C_123148, Fn_123149, Result_123450);
if (!(Oldprc_123451 == NIM_NIL)) goto LA12;
Genericcacheadd_123438(C_123148, Fn_123149, Result_123450);
Adddecl_105114(C_123148, Result_123450);
if (!!(((*N_123454).KindU.S6.Sons->data[4] == NIM_NIL))) goto LA15;
asgnRefNoCycle((void**) &(*C_123148).P, Newproccon_104050(Result_123450));
if (!((11264 &(1<<(((*Result_123450).Kind)&31)))!=0)) goto LA18;
Addresult_122157(C_123148, (*(*Result_123450).Typ).Sons->data[0], (*N_123454).Info);
Addresultnode_122162(C_123148, N_123454);
LA18: ;
asgnRefNoCycle((void**) &(*N_123454).KindU.S6.Sons->data[4], Semstmtscope_122104(C_123148, (*N_123454).KindU.S6.Sons->data[4]));
LA15: ;
goto LA11;
LA12: ;
Result_123450 = Oldprc_123451;
LA11: ;
Popinfocontext_43616();
Closescope_105018(&(*C_123148).Tab);
Popowner_104112();
asgnRefNoCycle((void**) &(*C_123148).P, Oldp_123453);
asgnRef((void**) &(*C_123148).Module, Oldmod_123452);
(*C_123148).Instcounter -= 1;
return Result_123450;
}
N_NIMCALL(TY51526*, Semdirectcallwithbinding_126563)(TY104012* C_126565, TY51526* N_126566, TY51526* F_126567, NU32 Filter_126568, TY51526* Initialbinding_126569) {
TY51526* Result_126570;
TY105004 O_126571;
TY124022 X_126572;
TY124022 Y_126573;
TY124022 Z_126574;
TY51548* Sym_126576;
NI Cmp_126623;
NIM_BOOL LOC19;
NIM_BOOL LOC20;
NI LOC22;
NIM_BOOL LOC24;
NimStringDesc* LOC30;
TY70026 LOC31;
NimStringDesc* LOC32;
Result_126570 = 0;
memset((void*)&O_126571, 0, sizeof(O_126571));
memset((void*)&X_126572, 0, sizeof(X_126572));
memset((void*)&Y_126573, 0, sizeof(Y_126573));
memset((void*)&Z_126574, 0, sizeof(Z_126574));
Sym_126576 = 0;
Sym_126576 = Initoverloaditer_105734(&O_126571, C_126565, F_126567);
Result_126570 = NIM_NIL;
if (!(Sym_126576 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
Initcandidate_124056(&X_126572, Sym_126576, Initialbinding_126569);
Initcandidate_124056(&Y_126573, Sym_126576, Initialbinding_126569);
while (1) {
if (!!((Sym_126576 == NIM_NIL))) goto LA4;
if (!((Filter_126568 &(1<<(((*Sym_126576).Kind)&31)))!=0)) goto LA6;
Initcandidate_124056(&Z_126574, Sym_126576, Initialbinding_126569);
Z_126574.Calleesym = Sym_126576;
Matches_125927(C_126565, N_126566, &Z_126574);
if (!(Z_126574.State == ((NU8) 1))) goto LA9;
switch (X_126572.State) {
case ((NU8) 0):
case ((NU8) 2):
genericAssign((void*)&X_126572, (void*)&Z_126574, NTI124022);
break;
case ((NU8) 1):
Cmp_126623 = 0;
Cmp_126623 = Cmpcandidates_124106(&X_126572, &Z_126574);
if (!(Cmp_126623 < 0)) goto LA12;
genericAssign((void*)&X_126572, (void*)&Z_126574, NTI124022);
goto LA11;
LA12: ;
if (!(Cmp_126623 == 0)) goto LA14;
genericAssign((void*)&Y_126573, (void*)&Z_126574, NTI124022);
goto LA11;
LA14: ;
LA11: ;
break;
}
LA9: ;
LA6: ;
Sym_126576 = Nextoverloaditer_106063(&O_126571, C_126565, F_126567);
} LA4: ;
if (!(X_126572.State == ((NU8) 0))) goto LA17;
goto LA16;
LA17: ;
LOC20 = (Y_126573.State == ((NU8) 1));
if (!(LOC20)) goto LA21;
LOC22 = Cmpcandidates_124106(&X_126572, &Y_126573);
LOC20 = (LOC22 == 0);
LA21: ;
LOC19 = LOC20;
if (!(LOC19)) goto LA23;
LOC24 = Samemethoddispatcher_126487(X_126572.Calleesym, Y_126573.Calleesym);
LOC19 = !(LOC24);
LA23: ;
if (!LOC19) goto LA25;
if (!!((X_126572.State == ((NU8) 1)))) goto LA28;
Internalerror_43574((*N_126566).Info, ((NimStringDesc*) &TMP193084));
LA28: ;
LOC30 = 0;
LOC30 = Msgkindtostring_43595(((NU8) 129));
memset((void*)&LOC31, 0, sizeof(LOC31));
LOC31[0] = Getprocheader_94018(X_126572.Calleesym);
LOC31[1] = Getprocheader_94018(Y_126573.Calleesym);
LOC31[2] = copyString((*(*X_126572.Calleesym).Name).S);
LOC32 = 0;
LOC32 = nsuFormatOpenArray(LOC30, LOC31, 3);
Limessage_43569((*N_126566).Info, ((NU8) 4), LOC32);
goto LA16;
LA25: ;
Markused_122065(N_126566, X_126572.Calleesym);
if (!((*X_126572.Calleesym).Ast == NIM_NIL)) goto LA34;
Internalerror_43574((*N_126566).Info, ((NimStringDesc*) &TMP193087));
LA34: ;
if (!!(((*(*X_126572.Calleesym).Ast).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA37;
X_126572.Calleesym = Generateinstance_123146(C_126565, X_126572.Calleesym, X_126572.Bindings, (*N_126566).Info);
X_126572.Callee = (*X_126572.Calleesym).Typ;
LA37: ;
Result_126570 = X_126572.Call;
asgnRefNoCycle((void**) &(*Result_126570).KindU.S6.Sons->data[0], Newsymnode_51735(X_126572.Calleesym));
asgnRef((void**) &(*Result_126570).Typ, (*X_126572.Callee).Sons->data[0]);
LA16: ;
BeforeRet: ;
return Result_126570;
}
N_NIMCALL(TY51526*, Semdirectcall_126710)(TY104012* C_126712, TY51526* N_126713, NU32 Filter_126714) {
TY51526* Result_126715;
TY51526* Initialbinding_126716;
TY51526* F_126729;
Result_126715 = 0;
Initialbinding_126716 = 0;
F_126729 = 0;
F_126729 = (*N_126713).KindU.S6.Sons->data[0];
if (!((*F_126729).Kind == ((NU8) 33))) goto LA2;
Initialbinding_126716 = F_126729;
F_126729 = (*F_126729).KindU.S6.Sons->data[0];
goto LA1;
LA2: ;
Initialbinding_126716 = NIM_NIL;
LA1: ;
Result_126715 = Semdirectcallwithbinding_126563(C_126712, N_126713, F_126729, Filter_126714, Initialbinding_126716);
return Result_126715;
}
N_NIMCALL(TY51526*, Semdirectcallanalyseeffects_132219)(TY104012* C_132221, TY51526* N_132222, NU8 Flags_132223) {
TY51526* Result_132224;
TY51548* Callee_132294;
NIM_BOOL LOC11;
NIM_BOOL LOC19;
Result_132224 = 0;
if (!!(((Flags_132223 &(1<<((((NU8) 2))&7)))!=0))) goto LA2;
Result_132224 = Semdirectcall_126710(C_132221, N_132222, 11264);
goto LA1;
LA2: ;
Result_132224 = Semdirectcall_126710(C_132221, N_132222, 4096);
LA1: ;
if (!!((Result_132224 == NIM_NIL))) goto LA5;
if (!!(((*(*Result_132224).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA8;
Internalerror_43578(((NimStringDesc*) &TMP193129));
LA8: ;
Callee_132294 = 0;
Callee_132294 = (*(*Result_132224).KindU.S6.Sons->data[0]).KindU.S4.Sym;
LOC11 = ((*Callee_132294).Kind == ((NU8) 12));
if (!(LOC11)) goto LA12;
LOC11 = ((*Callee_132294).Sup.Id == (*(*(*C_132221).P).Owner).Sup.Id);
LA12: ;
if (!LOC11) goto LA13;
Limessage_43569((*N_132222).Info, ((NU8) 23), (*(*Callee_132294).Name).S);
LA13: ;
if (!!((((*Callee_132294).Flags &(1<<((((NU8) 13))&31)))!=0))) goto LA16;
LOC19 = (((*Callee_132294).Flags &(1<<((((NU8) 6))&31)))!=0);
if (LOC19) goto LA20;
LOC19 = !(((16512 & (*Callee_132294).Flags) == 0));
LA20: ;
if (!LOC19) goto LA21;
(*(*(*C_132221).P).Owner).Flags |=(1<<((NI32)(((NU8) 14))%(sizeof(NI32)*8)));
LA21: ;
LA16: ;
LA5: ;
return Result_132224;
}
N_NIMCALL(TY51526*, Semarrayconstr_131183)(TY104012* C_131185, TY51526* N_131186) {
TY51526* Result_131187;
NI LOC2;
TY51552* LOC5;
TY51526* X_131202;
NI64 Lastindex_131203;
TY51552* Indextype_131204;
TY51526* Idx_131226;
TY51526* LOC9;
TY51552* Typ_131252;
NI I_131261;
NI HEX3Atmp_142909;
NI LOC10;
NI Res_142911;
TY51526* Idx_131295;
NI64 LOC16;
TY51526* LOC19;
NI LOC20;
Result_131187 = 0;
Result_131187 = Newnodei_51738(((NU8) 32), (*N_131186).Info);
asgnRef((void**) &(*Result_131187).Typ, Newtypes_104077(((NU8) 4), C_131185));
Addson_51828((*Result_131187).Typ, NIM_NIL);
LOC2 = Sonslen_51804(N_131186);
if (!(LOC2 == 0)) goto LA3;
LOC5 = 0;
LOC5 = Newtypes_104077(((NU8) 3), C_131185);
Addson_51828((*Result_131187).Typ, LOC5);
goto LA1;
LA3: ;
X_131202 = 0;
X_131202 = (*N_131186).KindU.S6.Sons->data[0];
Lastindex_131203 = 0;
Lastindex_131203 = 0;
Indextype_131204 = 0;
Indextype_131204 = Getsystype_99008(((NU8) 31));
if (!((*X_131202).Kind == ((NU8) 24))) goto LA7;
Idx_131226 = 0;
Idx_131226 = Semconstexpr_122171(C_131185, (*X_131202).KindU.S6.Sons->data[0]);
Lastindex_131203 = Getordvalue_94109(Idx_131226);
Indextype_131204 = (*Idx_131226).Typ;
X_131202 = (*X_131202).KindU.S6.Sons->data[1];
LA7: ;
LOC9 = 0;
LOC9 = Semexprwithtype_122122(C_131185, X_131202, 0);
Addson_51824(Result_131187, LOC9);
Typ_131252 = 0;
Typ_131252 = Skiptypes_94087((*(*Result_131187).KindU.S6.Sons->data[0]).Typ, 8423424);
I_131261 = 0;
HEX3Atmp_142909 = 0;
LOC10 = Sonslen_51804(N_131186);
HEX3Atmp_142909 = (NI32)(LOC10 - 1);
Res_142911 = 0;
Res_142911 = 1;
while (1) {
if (!(Res_142911 <= HEX3Atmp_142909)) goto LA11;
I_131261 = Res_142911;
X_131202 = (*N_131186).KindU.S6.Sons->data[I_131261];
if (!((*X_131202).Kind == ((NU8) 24))) goto LA13;
Idx_131295 = 0;
Idx_131295 = Semconstexpr_122171(C_131185, (*X_131202).KindU.S6.Sons->data[0]);
Idx_131295 = Fitnode_122129(C_131185, Indextype_131204, Idx_131295);
LOC16 = Getordvalue_94109(Idx_131295);
if (!!(((NI64)(Lastindex_131203 + 1) == LOC16))) goto LA17;
Limessage_43569((*X_131202).Info, ((NU8) 141), ((NimStringDesc*) &TMP192933));
LA17: ;
X_131202 = (*X_131202).KindU.S6.Sons->data[1];
LA13: ;
asgnRefNoCycle((void**) &(*N_131186).KindU.S6.Sons->data[I_131261], Semexprwithtype_122122(C_131185, X_131202, 0));
LOC19 = 0;
LOC19 = Fitnode_122129(C_131185, Typ_131252, (*N_131186).KindU.S6.Sons->data[I_131261]);
Addson_51824(Result_131187, LOC19);
Lastindex_131203 += 1;
Res_142911 += 1;
} LA11: ;
Addson_51828((*Result_131187).Typ, Typ_131252);
LA1: ;
LOC20 = Sonslen_51804(Result_131187);
asgnRef((void**) &(*(*Result_131187).Typ).Sons->data[0], Makerangetype_104086(C_131185, 0, ((NI64) ((NI32)(LOC20 - 1))), (*N_131186).Info));
return Result_131187;
}
N_NIMCALL(void, Changetype_130964)(TY51526* N_130966, TY51552* Newtype_130967) {
TY51548* F_130968;
TY51526* A_130969;
TY51526* M_130970;
NI I_130979;
NI HEX3Atmp_142900;
NI LOC1;
NI Res_142902;
TY51552* LOC3;
NIM_BOOL LOC11;
NI LOC12;
NI I_131045;
NI HEX3Atmp_142903;
NI LOC16;
NI Res_142905;
NI I_131134;
NI HEX3Atmp_142906;
NI LOC24;
NI Res_142908;
TY51526* LOC26;
F_130968 = 0;
A_130969 = 0;
M_130970 = 0;
switch ((*N_130966).Kind) {
case ((NU8) 31):
case ((NU8) 32):
I_130979 = 0;
HEX3Atmp_142900 = 0;
LOC1 = Sonslen_51804(N_130966);
HEX3Atmp_142900 = (NI32)(LOC1 - 1);
Res_142902 = 0;
Res_142902 = 0;
while (1) {
if (!(Res_142902 <= HEX3Atmp_142900)) goto LA2;
I_130979 = Res_142902;
LOC3 = 0;
LOC3 = Elemtype_94091(Newtype_130967);
Changetype_130964((*N_130966).KindU.S6.Sons->data[I_130979], LOC3);
Res_142902 += 1;
} LA2: ;
break;
case ((NU8) 30):
if (!!(((*Newtype_130967).Kind == ((NU8) 18)))) goto LA5;
Internalerror_43574((*N_130966).Info, ((NimStringDesc*) &TMP193130));
LA5: ;
if (!((*Newtype_130967).N == NIM_NIL)) goto LA8;
Internalerror_43574((*N_130966).Info, ((NimStringDesc*) &TMP193131));
LA8: ;
LOC12 = Sonslen_51804(N_130966);
LOC11 = (0 < LOC12);
if (!(LOC11)) goto LA13;
LOC11 = ((*(*N_130966).KindU.S6.Sons->data[0]).Kind == ((NU8) 24));
LA13: ;
if (!LOC11) goto LA14;
I_131045 = 0;
HEX3Atmp_142903 = 0;
LOC16 = Sonslen_51804(N_130966);
HEX3Atmp_142903 = (NI32)(LOC16 - 1);
Res_142905 = 0;
Res_142905 = 0;
while (1) {
if (!(Res_142905 <= HEX3Atmp_142903)) goto LA17;
I_131045 = Res_142905;
M_130970 = (*(*N_130966).KindU.S6.Sons->data[I_131045]).KindU.S6.Sons->data[0];
if (!!(((*M_130970).Kind == ((NU8) 3)))) goto LA19;
Internalerror_43574((*M_130970).Info, ((NimStringDesc*) &TMP193132));
LA19: ;
F_130968 = Getsymfromlist_56194((*Newtype_130967).N, (*(*M_130970).KindU.S4.Sym).Name, 0);
if (!(F_130968 == NIM_NIL)) goto LA22;
Internalerror_43574((*M_130970).Info, ((NimStringDesc*) &TMP193133));
LA22: ;
Changetype_130964((*(*N_130966).KindU.S6.Sons->data[I_131045]).KindU.S6.Sons->data[1], (*F_130968).Typ);
Res_142905 += 1;
} LA17: ;
goto LA10;
LA14: ;
I_131134 = 0;
HEX3Atmp_142906 = 0;
LOC24 = Sonslen_51804(N_130966);
HEX3Atmp_142906 = (NI32)(LOC24 - 1);
Res_142908 = 0;
Res_142908 = 0;
while (1) {
if (!(Res_142908 <= HEX3Atmp_142906)) goto LA25;
I_131134 = Res_142908;
M_130970 = (*N_130966).KindU.S6.Sons->data[I_131134];
A_130969 = Newnodeit_51742(((NU8) 24), (*M_130970).Info, (*Newtype_130967).Sons->data[I_131134]);
LOC26 = 0;
LOC26 = Newsymnode_51735((*(*(*Newtype_130967).N).KindU.S6.Sons->data[I_131134]).KindU.S4.Sym);
Addson_51824(A_130969, LOC26);
Addson_51824(A_130969, M_130970);
Changetype_130964(M_130970, (*Newtype_130967).Sons->data[I_131134]);
asgnRefNoCycle((void**) &(*N_130966).KindU.S6.Sons->data[I_131134], A_130969);
Res_142908 += 1;
} LA25: ;
LA10: ;
break;
default:
break;
}
asgnRef((void**) &(*N_130966).Typ, Newtype_130967);
}
N_NIMCALL(void, Fixabstracttype_131346)(TY104012* C_131348, TY51526* N_131349) {
NI I_131358;
NI HEX3Atmp_142912;
NI LOC1;
NI Res_142914;
TY51526* It_131371;
TY51552* LOC7;
TY51552* S_131438;
NIM_BOOL LOC11;
TY51548* LOC15;
TY51552* LOC16;
TY51552* LOC17;
TY51552* LOC18;
TY51552* S_131493;
NimStringDesc* LOC24;
NimStringDesc* LOC25;
I_131358 = 0;
HEX3Atmp_142912 = 0;
LOC1 = Sonslen_51804(N_131349);
HEX3Atmp_142912 = (NI32)(LOC1 - 1);
Res_142914 = 0;
Res_142914 = 1;
while (1) {
if (!(Res_142914 <= HEX3Atmp_142912)) goto LA2;
I_131358 = Res_142914;
It_131371 = 0;
It_131371 = (*N_131349).KindU.S6.Sons->data[I_131358];
switch ((*It_131371).Kind) {
case ((NU8) 47):
case ((NU8) 48):
if (!((*(*It_131371).KindU.S6.Sons->data[1]).Kind == ((NU8) 32))) goto LA4;
asgnRefNoCycle((void**) &(*It_131371).KindU.S6.Sons->data[1], Semarrayconstr_131183(C_131348, (*It_131371).KindU.S6.Sons->data[1]));
LA4: ;
LOC7 = 0;
LOC7 = Skiptypes_94087((*It_131371).Typ, 8431616);
if (!((*LOC7).Kind == ((NU8) 27))) goto LA8;
S_131438 = 0;
S_131438 = Skiptypes_94087((*(*It_131371).KindU.S6.Sons->data[1]).Typ, 8431616);
LOC11 = ((*S_131438).Kind == ((NU8) 4));
if (!(LOC11)) goto LA12;
LOC11 = ((*(*S_131438).Sons->data[1]).Kind == ((NU8) 3));
LA12: ;
if (!LOC11) goto LA13;
LOC15 = 0;
LOC15 = Getcurrowner_104107();
S_131438 = Copytype_51771(S_131438, LOC15, NIM_FALSE);
LOC16 = 0;
LOC16 = Skiptypes_94087(S_131438, 8431616);
LOC17 = 0;
LOC17 = Skiptypes_94087((*It_131371).Typ, 8431616);
asgnRef((void**) &(*LOC16).Sons->data[1], Elemtype_94091(LOC17));
asgnRef((void**) &(*(*It_131371).KindU.S6.Sons->data[1]).Typ, S_131438);
LA13: ;
goto LA6;
LA8: ;
LOC18 = 0;
LOC18 = Skiptypes_94087((*(*It_131371).KindU.S6.Sons->data[1]).Typ, 8431616);
if (!((*LOC18).Kind == ((NU8) 5) || (*LOC18).Kind == ((NU8) 4) || (*LOC18).Kind == ((NU8) 18) || (*LOC18).Kind == ((NU8) 19))) goto LA19;
S_131493 = 0;
S_131493 = Skiptypes_94087((*It_131371).Typ, 8431616);
Changetype_130964((*It_131371).KindU.S6.Sons->data[1], S_131493);
asgnRefNoCycle((void**) &(*N_131349).KindU.S6.Sons->data[I_131358], (*It_131371).KindU.S6.Sons->data[1]);
goto LA6;
LA19: ;
LA6: ;
break;
case ((NU8) 32):
asgnRefNoCycle((void**) &(*N_131349).KindU.S6.Sons->data[I_131358], Semarrayconstr_131183(C_131348, It_131371));
break;
default:
if (!((*It_131371).Typ == NIM_NIL)) goto LA22;
LOC24 = 0;
LOC25 = 0;
LOC25 = Rendertree_82042(It_131371, 0);
LOC24 = rawNewString(LOC25->Sup.len + 17);
appendString(LOC24, ((NimStringDesc*) &TMP193134));
appendString(LOC24, LOC25);
Internalerror_43574((*It_131371).Info, LOC24);
LA22: ;
break;
}
Res_142914 += 1;
} LA2: ;
}
N_NIMCALL(NU8, Isassignable_131610)(TY51526* N_131612) {
NU8 Result_131613;
TY51552* LOC5;
NIM_BOOL LOC9;
TY51552* LOC14;
TY51552* LOC18;
Result_131613 = 0;
Result_131613 = ((NU8) 0);
switch ((*N_131612).Kind) {
case ((NU8) 3):
if (!((544 &(1<<(((*(*N_131612).KindU.S4.Sym).Kind)&31)))!=0)) goto LA2;
Result_131613 = ((NU8) 1);
LA2: ;
break;
case ((NU8) 36):
Checkminsonslen_104103(N_131612, 1);
LOC5 = 0;
LOC5 = Skiptypes_94087((*(*N_131612).KindU.S6.Sons->data[0]).Typ, 43008);
if (!((*LOC5).Kind == ((NU8) 23) || (*LOC5).Kind == ((NU8) 21) || (*LOC5).Kind == ((NU8) 22))) goto LA6;
Result_131613 = ((NU8) 1);
goto LA4;
LA6: ;
Result_131613 = Isassignable_131610((*N_131612).KindU.S6.Sons->data[0]);
LA4: ;
LOC9 = (Result_131613 == ((NU8) 1));
if (!(LOC9)) goto LA10;
LOC9 = (((*(*(*N_131612).KindU.S6.Sons->data[1]).KindU.S4.Sym).Flags &(1<<((((NU8) 21))&31)))!=0);
LA10: ;
if (!LOC9) goto LA11;
Result_131613 = ((NU8) 2);
LA11: ;
break;
case ((NU8) 33):
Checkminsonslen_104103(N_131612, 1);
LOC14 = 0;
LOC14 = Skiptypes_94087((*(*N_131612).KindU.S6.Sons->data[0]).Typ, 43008);
if (!((*LOC14).Kind == ((NU8) 23) || (*LOC14).Kind == ((NU8) 21) || (*LOC14).Kind == ((NU8) 22))) goto LA15;
Result_131613 = ((NU8) 1);
goto LA13;
LA15: ;
Result_131613 = Isassignable_131610((*N_131612).KindU.S6.Sons->data[0]);
LA13: ;
break;
case ((NU8) 47):
case ((NU8) 48):
case ((NU8) 50):
LOC18 = 0;
LOC18 = Skiptypes_94087((*N_131612).Typ, 14723072);
if (!((*LOC18).Kind == ((NU8) 27) || (*LOC18).Kind == ((NU8) 18) || (*LOC18).Kind == ((NU8) 17))) goto LA19;
Result_131613 = Isassignable_131610((*N_131612).KindU.S6.Sons->data[1]);
LA19: ;
break;
case ((NU8) 54):
case ((NU8) 38):
Result_131613 = ((NU8) 1);
break;
case ((NU8) 56):
case ((NU8) 55):
case ((NU8) 37):
Result_131613 = Isassignable_131610((*N_131612).KindU.S6.Sons->data[0]);
break;
default:
break;
}
return Result_131613;
}
N_NIMCALL(TY51526*, Newhiddenaddrtaken_131790)(TY104012* C_131792, TY51526* N_131793) {
TY51526* Result_131794;
TY51552* LOC4;
NU8 LOC6;
Result_131794 = 0;
if (!((*N_131793).Kind == ((NU8) 54))) goto LA2;
Checksonslen_104099(N_131793, 1);
Result_131794 = (*N_131793).KindU.S6.Sons->data[0];
goto LA1;
LA2: ;
LOC4 = 0;
LOC4 = Makevartype_104073(C_131792, (*N_131793).Typ);
Result_131794 = Newnodeit_51742(((NU8) 53), (*N_131793).Info, LOC4);
Addson_51824(Result_131794, N_131793);
LOC6 = Isassignable_131610(N_131793);
if (!!((LOC6 == ((NU8) 1)))) goto LA7;
Limessage_43569((*N_131793).Info, ((NU8) 124), ((NimStringDesc*) &TMP192933));
LA7: ;
LA1: ;
return Result_131794;
}
N_NIMCALL(TY51526*, Analyseifaddresstaken_131825)(TY104012* C_131827, TY51526* N_131828) {
TY51526* Result_131829;
TY51552* LOC2;
TY51552* LOC9;
TY51552* LOC13;
Result_131829 = 0;
Result_131829 = N_131828;
switch ((*N_131828).Kind) {
case ((NU8) 3):
LOC2 = 0;
LOC2 = Skiptypes_94087((*(*N_131828).KindU.S4.Sym).Typ, 43008);
if (!!(((*LOC2).Kind == ((NU8) 23)))) goto LA3;
(*(*N_131828).KindU.S4.Sym).Flags |=(1<<((NI32)(((NU8) 18))%(sizeof(NI32)*8)));
Result_131829 = Newhiddenaddrtaken_131790(C_131827, N_131828);
LA3: ;
break;
case ((NU8) 36):
Checksonslen_104099(N_131828, 2);
if (!!(((*(*N_131828).KindU.S6.Sons->data[1]).Kind == ((NU8) 3)))) goto LA6;
Internalerror_43574((*N_131828).Info, ((NimStringDesc*) &TMP193137));
LA6: ;
LOC9 = 0;
LOC9 = Skiptypes_94087((*(*(*N_131828).KindU.S6.Sons->data[1]).KindU.S4.Sym).Typ, 43008);
if (!!(((*LOC9).Kind == ((NU8) 23)))) goto LA10;
(*(*(*N_131828).KindU.S6.Sons->data[1]).KindU.S4.Sym).Flags |=(1<<((NI32)(((NU8) 18))%(sizeof(NI32)*8)));
Result_131829 = Newhiddenaddrtaken_131790(C_131827, N_131828);
LA10: ;
break;
case ((NU8) 33):
Checkminsonslen_104103(N_131828, 1);
LOC13 = 0;
LOC13 = Skiptypes_94087((*(*N_131828).KindU.S6.Sons->data[0]).Typ, 43008);
if (!!(((*LOC13).Kind == ((NU8) 23)))) goto LA14;
if (!((*(*N_131828).KindU.S6.Sons->data[0]).Kind == ((NU8) 3))) goto LA17;
(*(*(*N_131828).KindU.S6.Sons->data[0]).KindU.S4.Sym).Flags |=(1<<((NI32)(((NU8) 18))%(sizeof(NI32)*8)));
LA17: ;
Result_131829 = Newhiddenaddrtaken_131790(C_131827, N_131828);
LA14: ;
break;
default:
Result_131829 = Newhiddenaddrtaken_131790(C_131827, N_131828);
break;
}
return Result_131829;
}
N_NIMCALL(void, Analyseifaddresstakenincall_132043)(TY104012* C_132045, TY51526* N_132046) {
TY51552* T_132061;
NIM_BOOL LOC2;
NI I_132126;
NI HEX3Atmp_142915;
NI LOC6;
NI Res_142917;
NIM_BOOL LOC9;
NI LOC10;
TY51552* LOC12;
NU8 LOC16;
NI I_132181;
NI HEX3Atmp_142918;
NI LOC19;
NI Res_142920;
NIM_BOOL LOC22;
NI LOC23;
TY51552* LOC25;
Checkminsonslen_104103(N_132046, 1);
T_132061 = 0;
T_132061 = (*(*N_132046).KindU.S6.Sons->data[0]).Typ;
LOC2 = ((*(*N_132046).KindU.S6.Sons->data[0]).Kind == ((NU8) 3));
if (!(LOC2)) goto LA3;
LOC2 = ((TMP193135[(*(*(*N_132046).KindU.S6.Sons->data[0]).KindU.S4.Sym).Magic/8] &(1<<((*(*(*N_132046).KindU.S6.Sons->data[0]).KindU.S4.Sym).Magic%8)))!=0);
LA3: ;
if (!LOC2) goto LA4;
I_132126 = 0;
HEX3Atmp_142915 = 0;
LOC6 = Sonslen_51804(N_132046);
HEX3Atmp_142915 = (NI32)(LOC6 - 1);
Res_142917 = 0;
Res_142917 = 1;
while (1) {
if (!(Res_142917 <= HEX3Atmp_142915)) goto LA7;
I_132126 = Res_142917;
LOC10 = Sonslen_51807(T_132061);
LOC9 = (I_132126 < LOC10);
if (!(LOC9)) goto LA11;
LOC12 = 0;
LOC12 = Skiptypes_94087((*T_132061).Sons->data[I_132126], 43008);
LOC9 = ((*LOC12).Kind == ((NU8) 23));
LA11: ;
if (!LOC9) goto LA13;
LOC16 = Isassignable_131610((*N_132046).KindU.S6.Sons->data[I_132126]);
if (!!((LOC16 == ((NU8) 1)))) goto LA17;
Limessage_43569((*(*N_132046).KindU.S6.Sons->data[I_132126]).Info, ((NU8) 124), ((NimStringDesc*) &TMP192933));
LA17: ;
LA13: ;
Res_142917 += 1;
} LA7: ;
goto BeforeRet;
LA4: ;
I_132181 = 0;
HEX3Atmp_142918 = 0;
LOC19 = Sonslen_51804(N_132046);
HEX3Atmp_142918 = (NI32)(LOC19 - 1);
Res_142920 = 0;
Res_142920 = 1;
while (1) {
if (!(Res_142920 <= HEX3Atmp_142918)) goto LA20;
I_132181 = Res_142920;
LOC23 = Sonslen_51807(T_132061);
LOC22 = (I_132181 < LOC23);
if (!(LOC22)) goto LA24;
LOC25 = 0;
LOC25 = Skiptypes_94087((*T_132061).Sons->data[I_132181], 43008);
LOC22 = ((*LOC25).Kind == ((NU8) 23));
LA24: ;
if (!LOC22) goto LA26;
asgnRefNoCycle((void**) &(*N_132046).KindU.S6.Sons->data[I_132181], Analyseifaddresstaken_131825(C_132045, (*N_132046).KindU.S6.Sons->data[I_132181]));
LA26: ;
Res_142920 += 1;
} LA20: ;
BeforeRet: ;
}
N_NIMCALL(TY51526*, Propertywriteaccess_138685)(TY104012* C_138687, TY51526* N_138688, TY51526* A_138689) {
TY51526* Result_138690;
TY50011* Id_138691;
TY51526* LOC1;
NimStringDesc* LOC2;
TY50011* LOC3;
TY51526* LOC4;
TY51526* LOC5;
TY51526* LOC6;
TY51526* LOC7;
Result_138690 = 0;
Id_138691 = 0;
LOC1 = 0;
LOC1 = HEX5BHEX5D_53057(A_138689, 1);
Id_138691 = Consideracc_122003(LOC1);
Result_138690 = Newnodei_51738(((NU8) 21), (*N_138688).Info);
LOC2 = 0;
LOC2 = rawNewString((*Id_138691).S->Sup.len + 1);
appendString(LOC2, (*Id_138691).S);
appendChar(LOC2, 61);
LOC3 = 0;
LOC3 = Getident_50016(LOC2);
LOC4 = 0;
LOC4 = Newidentnode_51731(LOC3, (*N_138688).Info);
Addson_51824(Result_138690, LOC4);
LOC5 = 0;
LOC5 = HEX5BHEX5D_53057(A_138689, 0);
Addson_51824(Result_138690, LOC5);
LOC6 = 0;
LOC6 = HEX5BHEX5D_53057(N_138688, 1);
LOC7 = 0;
LOC7 = Semexpr_122115(C_138687, LOC6, 0);
Addson_51824(Result_138690, LOC7);
Result_138690 = Semdirectcallanalyseeffects_132219(C_138687, Result_138690, 0);
if (!!((Result_138690 == NIM_NIL))) goto LA9;
Fixabstracttype_131346(C_138687, Result_138690);
Analyseifaddresstakenincall_132043(C_138687, Result_138690);
goto LA8;
LA9: ;
Limessage_43569((*N_138688).Info, ((NU8) 77), (*Id_138691).S);
LA8: ;
return Result_138690;
}
N_NIMCALL(TY51526*, Semsubscript_133890)(TY104012* C_133892, TY51526* N_133893, NU8 Flags_133894) {
TY51526* Result_133895;
TY51552* Arr_133944;
NI I_133977;
NI HEX3Atmp_142945;
NI LOC1;
NI Res_142947;
TY51552* Indextype_134022;
TY51552* LOC3;
TY51526* Arg_134047;
TY51552* LOC10;
NI64 Idx_134156;
NIM_BOOL LOC14;
NI LOC16;
Result_133895 = 0;
Checkminsonslen_104103(N_133893, 2);
asgnRefNoCycle((void**) &(*N_133893).KindU.S6.Sons->data[0], Semexprwithtype_122122(C_133892, (*N_133893).KindU.S6.Sons->data[0], (Flags_133894 & ~ 1)));
Arr_133944 = 0;
Arr_133944 = Skiptypes_94087((*(*N_133893).KindU.S6.Sons->data[0]).Typ, 14682112);
switch ((*Arr_133944).Kind) {
case ((NU8) 16):
case ((NU8) 27):
case ((NU8) 4):
case ((NU8) 24):
case ((NU8) 28):
case ((NU8) 29):
Checksonslen_104099(N_133893, 2);
asgnRefNoCycle((void**) &(*N_133893).KindU.S6.Sons->data[0], Makederef_133297((*N_133893).KindU.S6.Sons->data[0]));
I_133977 = 0;
HEX3Atmp_142945 = 0;
LOC1 = Sonslen_51804(N_133893);
HEX3Atmp_142945 = (NI32)(LOC1 - 1);
Res_142947 = 0;
Res_142947 = 1;
while (1) {
if (!(Res_142947 <= HEX3Atmp_142945)) goto LA2;
I_133977 = Res_142947;
asgnRefNoCycle((void**) &(*N_133893).KindU.S6.Sons->data[I_133977], Semexprwithtype_122122(C_133892, (*N_133893).KindU.S6.Sons->data[I_133977], (Flags_133894 & ~ 1)));
Res_142947 += 1;
} LA2: ;
Indextype_134022 = 0;
LOC3 = 0;
if (!((*Arr_133944).Kind == ((NU8) 16))) goto LA5;
LOC3 = (*Arr_133944).Sons->data[0];
goto LA4;
LA5: ;
LOC3 = Getsystype_99008(((NU8) 31));
LA4: ;
Indextype_134022 = LOC3;
Arg_134047 = 0;
Arg_134047 = Indextypesmatch_125874(C_133892, Indextype_134022, (*(*N_133893).KindU.S6.Sons->data[1]).Typ, (*N_133893).KindU.S6.Sons->data[1]);
if (!!((Arg_134047 == NIM_NIL))) goto LA7;
asgnRefNoCycle((void**) &(*N_133893).KindU.S6.Sons->data[1], Arg_134047);
goto LA6;
LA7: ;
Limessage_43569((*N_133893).Info, ((NU8) 80), ((NimStringDesc*) &TMP192933));
LA6: ;
Result_133895 = N_133893;
asgnRef((void**) &(*Result_133895).Typ, Elemtype_94091(Arr_133944));
break;
case ((NU8) 18):
Checksonslen_104099(N_133893, 2);
asgnRefNoCycle((void**) &(*N_133893).KindU.S6.Sons->data[0], Makederef_133297((*N_133893).KindU.S6.Sons->data[0]));
asgnRefNoCycle((void**) &(*N_133893).KindU.S6.Sons->data[1], Semconstexpr_122171(C_133892, (*N_133893).KindU.S6.Sons->data[1]));
LOC10 = 0;
LOC10 = Skiptypes_94087((*(*N_133893).KindU.S6.Sons->data[1]).Typ, 1083392);
if (!((*LOC10).Kind >= ((NU8) 31) && (*LOC10).Kind <= ((NU8) 35))) goto LA11;
Idx_134156 = 0;
Idx_134156 = Getordvalue_94109((*N_133893).KindU.S6.Sons->data[1]);
LOC14 = (0 <= Idx_134156);
if (!(LOC14)) goto LA15;
LOC16 = Sonslen_51807(Arr_133944);
LOC14 = (Idx_134156 < ((NI64) (LOC16)));
LA15: ;
if (!LOC14) goto LA17;
asgnRef((void**) &(*N_133893).Typ, (*Arr_133944).Sons->data[Idx_134156]);
goto LA13;
LA17: ;
Limessage_43569((*N_133893).Info, ((NU8) 182), ((NimStringDesc*) &TMP192933));
LA13: ;
goto LA9;
LA11: ;
Limessage_43569((*N_133893).Info, ((NU8) 80), ((NimStringDesc*) &TMP192933));
LA9: ;
Result_133895 = N_133893;
break;
default:
break;
}
return Result_133895;
}
static N_INLINE(NI, Len_52929)(TY51526* N_52931) {
NI Result_52932;
Result_52932 = 0;
if (!(*N_52931).KindU.S6.Sons == 0) goto LA2;
Result_52932 = 0;
goto LA1;
LA2: ;
Result_52932 = (*N_52931).KindU.S6.Sons->Sup.len;
LA1: ;
return Result_52932;
}
N_NIMCALL(void, Addsliceopr_133809)(NimStringDesc** Result_133812, TY51526* N_133813) {
TY51526* LOC2;
TY51526* LOC6;
TY51526* LOC9;
LOC2 = 0;
LOC2 = HEX5BHEX5D_53057(N_133813, 0);
if (!(LOC2 == NIM_NIL)) goto LA3;
LOC6 = 0;
LOC6 = HEX5BHEX5D_53057(N_133813, 1);
if (!(LOC6 == NIM_NIL)) goto LA7;
(*Result_133812) = resizeString((*Result_133812), 2);
appendString((*Result_133812), ((NimStringDesc*) &TMP193140));
goto LA5;
LA7: ;
(*Result_133812) = resizeString((*Result_133812), 3);
appendString((*Result_133812), ((NimStringDesc*) &TMP193141));
LA5: ;
goto LA1;
LA3: ;
LOC9 = 0;
LOC9 = HEX5BHEX5D_53057(N_133813, 1);
if (!(LOC9 == NIM_NIL)) goto LA10;
(*Result_133812) = resizeString((*Result_133812), 3);
appendString((*Result_133812), ((NimStringDesc*) &TMP193142));
goto LA1;
LA10: ;
(*Result_133812) = resizeString((*Result_133812), 4);
appendString((*Result_133812), ((NimStringDesc*) &TMP193143));
LA1: ;
}
N_NIMCALL(TY51526*, Buildoverloadedsubscripts_133847)(TY51526* N_133849, NIM_BOOL Inasgn_133850) {
TY51526* Result_133851;
TY51526* LOC1;
NimStringDesc* Opr_133852;
NI I_133863;
NI HEX3Atmp_142942;
NI LOC2;
NI Res_142944;
TY51526* LOC8;
TY51526* LOC11;
TY51526* LOC12;
TY51526* LOC13;
TY51526* LOC14;
TY51526* LOC15;
TY51526* LOC16;
TY51526* LOC17;
TY50011* LOC21;
Result_133851 = 0;
Result_133851 = Newnodei_51738(((NU8) 21), (*N_133849).Info);
Add_52975(Result_133851, NIM_NIL);
LOC1 = 0;
LOC1 = HEX5BHEX5D_53057(N_133849, 0);
Add_52975(Result_133851, LOC1);
Opr_133852 = 0;
Opr_133852 = copyString(((NimStringDesc*) &TMP193138));
I_133863 = 0;
HEX3Atmp_142942 = 0;
LOC2 = Len_52929(N_133849);
HEX3Atmp_142942 = (NI32)(LOC2 - 1);
Res_142944 = 0;
Res_142944 = 1;
while (1) {
if (!(Res_142944 <= HEX3Atmp_142942)) goto LA3;
I_133863 = Res_142944;
if (!(1 < I_133863)) goto LA5;
Opr_133852 = resizeString(Opr_133852, 1);
appendString(Opr_133852, ((NimStringDesc*) &TMP193139));
LA5: ;
LOC8 = 0;
LOC8 = HEX5BHEX5D_53057(N_133849, I_133863);
if (!((*LOC8).Kind == ((NU8) 35))) goto LA9;
LOC11 = 0;
LOC11 = HEX5BHEX5D_53057(N_133849, I_133863);
Checksonslen_104099(LOC11, 2);
LOC12 = 0;
LOC12 = HEX5BHEX5D_53057(N_133849, I_133863);
Addsliceopr_133809(&Opr_133852, LOC12);
LOC13 = 0;
LOC13 = HEX5BHEX5D_53057(N_133849, I_133863);
LOC14 = 0;
LOC14 = HEX5BHEX5D_53057(LOC13, 0);
Addsonifnotnil_51832(Result_133851, LOC14);
LOC15 = 0;
LOC15 = HEX5BHEX5D_53057(N_133849, I_133863);
LOC16 = 0;
LOC16 = HEX5BHEX5D_53057(LOC15, 1);
Addsonifnotnil_51832(Result_133851, LOC16);
goto LA7;
LA9: ;
LOC17 = 0;
LOC17 = HEX5BHEX5D_53057(N_133849, I_133863);
Add_52975(Result_133851, LOC17);
LA7: ;
Res_142944 += 1;
} LA3: ;
if (!Inasgn_133850) goto LA19;
Opr_133852 = resizeString(Opr_133852, 2);
appendString(Opr_133852, ((NimStringDesc*) &TMP193144));
goto LA18;
LA19: ;
Opr_133852 = resizeString(Opr_133852, 1);
appendString(Opr_133852, ((NimStringDesc*) &TMP193145));
LA18: ;
LOC21 = 0;
LOC21 = Getident_50016(Opr_133852);
asgnRefNoCycle((void**) &(*Result_133851).KindU.S6.Sons->data[0], Newidentnode_51731(LOC21, (*N_133849).Info));
return Result_133851;
}
N_NIMCALL(TY51526*, Semexprnotype_137814)(TY104012* C_137816, TY51526* N_137817) {
TY51526* Result_137818;
NIM_BOOL LOC2;
Result_137818 = 0;
Result_137818 = Semexpr_122115(C_137816, N_137817, 0);
LOC2 = !(((*Result_137818).Typ == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC2 = !(((*(*Result_137818).Typ).Kind == ((NU8) 7)));
LA3: ;
if (!LOC2) goto LA4;
Limessage_43569((*N_137817).Info, ((NU8) 137), ((NimStringDesc*) &TMP192933));
LA4: ;
return Result_137818;
}
N_NIMCALL(TY51526*, Semasgn_138705)(TY104012* C_138707, TY51526* N_138708) {
TY51526* Result_138709;
TY51526* A_138722;
TY51526* LOC4;
TY51526* LOC8;
TY51552* Le_138796;
NIM_BOOL LOC10;
TY51552* LOC11;
NU8 LOC13;
NimStringDesc* LOC16;
Result_138709 = 0;
Checksonslen_104099(N_138708, 2);
A_138722 = 0;
A_138722 = (*N_138708).KindU.S6.Sons->data[0];
switch ((*A_138722).Kind) {
case ((NU8) 36):
A_138722 = Builtinfieldaccess_133326(C_138707, A_138722, 2);
if (!(A_138722 == NIM_NIL)) goto LA2;
LOC4 = 0;
LOC4 = HEX5BHEX5D_53057(N_138708, 0);
Result_138709 = Propertywriteaccess_138685(C_138707, N_138708, LOC4);
goto BeforeRet;
LA2: ;
break;
case ((NU8) 33):
A_138722 = Semsubscript_133890(C_138707, A_138722, 2);
if (!(A_138722 == NIM_NIL)) goto LA6;
Result_138709 = Buildoverloadedsubscripts_133847((*N_138708).KindU.S6.Sons->data[0], NIM_TRUE);
LOC8 = 0;
LOC8 = HEX5BHEX5D_53057(N_138708, 1);
Add_52975(Result_138709, LOC8);
Result_138709 = Semexprnotype_137814(C_138707, Result_138709);
goto BeforeRet;
LA6: ;
break;
default:
A_138722 = Semexprwithtype_122122(C_138707, A_138722, 2);
break;
}
asgnRefNoCycle((void**) &(*N_138708).KindU.S6.Sons->data[0], A_138722);
asgnRefNoCycle((void**) &(*N_138708).KindU.S6.Sons->data[1], Semexprwithtype_122122(C_138707, (*N_138708).KindU.S6.Sons->data[1], 0));
Le_138796 = 0;
Le_138796 = (*A_138722).Typ;
LOC11 = 0;
LOC11 = Skiptypes_94087(Le_138796, 2048);
LOC10 = !(((*LOC11).Kind == ((NU8) 23)));
if (!(LOC10)) goto LA12;
LOC13 = Isassignable_131610(A_138722);
LOC10 = (LOC13 == ((NU8) 0));
LA12: ;
if (!LOC10) goto LA14;
LOC16 = 0;
LOC16 = Rendertree_82042(A_138722, 4);
Limessage_43569((*A_138722).Info, ((NU8) 174), LOC16);
goto LA9;
LA14: ;
asgnRefNoCycle((void**) &(*N_138708).KindU.S6.Sons->data[1], Fitnode_122129(C_138707, Le_138796, (*N_138708).KindU.S6.Sons->data[1]));
Fixabstracttype_131346(C_138707, N_138708);
LA9: ;
Result_138709 = N_138708;
BeforeRet: ;
return Result_138709;
}
N_NIMCALL(TY51526*, Semcommand_142680)(TY104012* C_142682, TY51526* N_142683) {
TY51526* Result_142684;
Result_142684 = 0;
Result_142684 = Semexprnotype_137814(C_142682, N_142683);
return Result_142684;
}
N_NIMCALL(TY51526*, Semblock_138266)(TY104012* C_138268, TY51526* N_138269) {
TY51526* Result_138270;
TY51548* Labl_138319;
Result_138270 = 0;
Result_138270 = N_138269;
(*(*C_138268).P).Nestedblockcounter += 1;
Checksonslen_104099(N_138269, 2);
Openscope_56146(&(*C_138268).Tab);
if (!!(((*N_138269).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA2;
Labl_138319 = 0;
Labl_138319 = Newsyms_122059(((NU8) 19), (*N_138269).KindU.S6.Sons->data[0], C_138268);
Adddecl_105114(C_138268, Labl_138319);
asgnRefNoCycle((void**) &(*N_138269).KindU.S6.Sons->data[0], Newsymnode_51735(Labl_138319));
LA2: ;
asgnRefNoCycle((void**) &(*N_138269).KindU.S6.Sons->data[1], Semstmt_122143(C_138268, (*N_138269).KindU.S6.Sons->data[1]));
Closescope_105018(&(*C_138268).Tab);
(*(*C_138268).P).Nestedblockcounter -= 1;
return Result_138270;
}
N_NIMCALL(TY51526*, Semraise_140129)(TY104012* C_140131, TY51526* N_140132) {
TY51526* Result_140133;
TY51552* Typ_140193;
NIM_BOOL LOC5;
Result_140133 = 0;
Result_140133 = N_140132;
Checksonslen_104099(N_140132, 1);
if (!!(((*N_140132).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA2;
asgnRefNoCycle((void**) &(*N_140132).KindU.S6.Sons->data[0], Semexprwithtype_122122(C_140131, (*N_140132).KindU.S6.Sons->data[0], 0));
Typ_140193 = 0;
Typ_140193 = (*(*N_140132).KindU.S6.Sons->data[0]).Typ;
LOC5 = !(((*Typ_140193).Kind == ((NU8) 22)));
if (LOC5) goto LA6;
LOC5 = !(((*(*Typ_140193).Sons->data[0]).Kind == ((NU8) 17)));
LA6: ;
if (!LOC5) goto LA7;
Limessage_43569((*N_140132).Info, ((NU8) 110), ((NimStringDesc*) &TMP192933));
LA7: ;
LA2: ;
return Result_140133;
}
N_NIMCALL(TY51526*, Semvar_139230)(TY104012* C_139232, TY51526* N_139233) {
TY51526* Result_139234;
NI Length_139235;
TY51526* A_139236;
TY51526* B_139237;
TY51526* Def_139238;
TY51552* Typ_139239;
TY51552* Tup_139240;
TY51548* V_139241;
NI I_139250;
NI HEX3Atmp_143049;
NI LOC1;
NI Res_143051;
NIM_BOOL LOC8;
NIM_BOOL LOC22;
NimStringDesc* LOC25;
NI LOC33;
NI J_139424;
NI HEX3Atmp_143046;
NI Res_143048;
TY51526* LOC46;
TY51526* LOC47;
Result_139234 = 0;
Length_139235 = 0;
A_139236 = 0;
B_139237 = 0;
Def_139238 = 0;
Typ_139239 = 0;
Tup_139240 = 0;
V_139241 = 0;
Result_139234 = Copynode_51856(N_139233);
I_139250 = 0;
HEX3Atmp_143049 = 0;
LOC1 = Sonslen_51804(N_139233);
HEX3Atmp_143049 = (NI32)(LOC1 - 1);
Res_143051 = 0;
Res_143051 = 0;
while (1) {
if (!(Res_143051 <= HEX3Atmp_143049)) goto LA2;
I_139250 = Res_143051;
A_139236 = (*N_139233).KindU.S6.Sons->data[I_139250];
if (!((*A_139236).Kind == ((NU8) 105))) goto LA5;
goto LA3;
LA5: ;
LOC8 = !(((*A_139236).Kind == ((NU8) 25)));
if (!(LOC8)) goto LA9;
LOC8 = !(((*A_139236).Kind == ((NU8) 26)));
LA9: ;
if (!LOC8) goto LA10;
Illformedast_104092(A_139236);
LA10: ;
Checkminsonslen_104103(A_139236, 3);
Length_139235 = Sonslen_51804(A_139236);
if (!!(((*A_139236).KindU.S6.Sons->data[(NI32)(Length_139235 - 2)] == NIM_NIL))) goto LA13;
Typ_139239 = Semtypenode_122138(C_139232, (*A_139236).KindU.S6.Sons->data[(NI32)(Length_139235 - 2)], NIM_NIL);
goto LA12;
LA13: ;
Typ_139239 = NIM_NIL;
LA12: ;
if (!!(((*A_139236).KindU.S6.Sons->data[(NI32)(Length_139235 - 1)] == NIM_NIL))) goto LA16;
Def_139238 = Semexprwithtype_122122(C_139232, (*A_139236).KindU.S6.Sons->data[(NI32)(Length_139235 - 1)], 0);
if (!!((Typ_139239 == NIM_NIL))) goto LA19;
Def_139238 = Fitnode_122129(C_139232, Typ_139239, Def_139238);
goto LA18;
LA19: ;
Typ_139239 = (*Def_139238).Typ;
LA18: ;
goto LA15;
LA16: ;
Def_139238 = NIM_NIL;
LA15: ;
LOC22 = Typeallowed_94136(Typ_139239, ((NU8) 9));
if (!!(LOC22)) goto LA23;
LOC25 = 0;
LOC25 = Typetostring_94014(Typ_139239, ((NU8) 0));
Limessage_43569((*A_139236).Info, ((NU8) 163), LOC25);
LA23: ;
Tup_139240 = Skiptypes_94087(Typ_139239, 2048);
if (!((*A_139236).Kind == ((NU8) 26))) goto LA27;
if (!!(((*Tup_139240).Kind == ((NU8) 18)))) goto LA30;
Limessage_43569((*A_139236).Info, ((NU8) 184), ((NimStringDesc*) &TMP193146));
LA30: ;
LOC33 = Sonslen_51807(Tup_139240);
if (!!(((NI32)(Length_139235 - 2) == LOC33))) goto LA34;
Limessage_43569((*A_139236).Info, ((NU8) 109), ((NimStringDesc*) &TMP192933));
LA34: ;
B_139237 = Newnodei_51738(((NU8) 26), (*A_139236).Info);
Newsons_51816(B_139237, Length_139235);
asgnRefNoCycle((void**) &(*B_139237).KindU.S6.Sons->data[(NI32)(Length_139235 - 2)], NIM_NIL);
asgnRefNoCycle((void**) &(*B_139237).KindU.S6.Sons->data[(NI32)(Length_139235 - 1)], Def_139238);
Addson_51824(Result_139234, B_139237);
LA27: ;
J_139424 = 0;
HEX3Atmp_143046 = 0;
HEX3Atmp_143046 = (NI32)(Length_139235 - 3);
Res_143048 = 0;
Res_143048 = 0;
while (1) {
if (!(Res_143048 <= HEX3Atmp_143046)) goto LA36;
J_139424 = Res_143048;
if (!((*(*(*C_139232).P).Owner).Kind == ((NU8) 6))) goto LA38;
V_139241 = Semidentwithpragma_122098(C_139232, ((NU8) 9), (*A_139236).KindU.S6.Sons->data[J_139424], 6);
(*V_139241).Flags |=(1<<((NI32)(((NU8) 5))%(sizeof(NI32)*8)));
goto LA37;
LA38: ;
V_139241 = Semidentwithpragma_122098(C_139232, ((NU8) 9), (*A_139236).KindU.S6.Sons->data[J_139424], 0);
LA37: ;
if (!!((((*V_139241).Flags & 6) == 0))) goto LA41;
(*V_139241).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
LA41: ;
Addinterfacedecl_105236(C_139232, V_139241);
if (!!(((*A_139236).Kind == ((NU8) 26)))) goto LA44;
asgnRef((void**) &(*V_139241).Typ, Typ_139239);
B_139237 = Newnodei_51738(((NU8) 25), (*A_139236).Info);
LOC46 = 0;
LOC46 = Newsymnode_51735(V_139241);
Addson_51824(B_139237, LOC46);
Addson_51824(B_139237, NIM_NIL);
LOC47 = 0;
LOC47 = Copytree_51859(Def_139238);
Addson_51824(B_139237, LOC47);
Addson_51824(Result_139234, B_139237);
goto LA43;
LA44: ;
asgnRef((void**) &(*V_139241).Typ, (*Tup_139240).Sons->data[J_139424]);
asgnRefNoCycle((void**) &(*B_139237).KindU.S6.Sons->data[J_139424], Newsymnode_51735(V_139241));
LA43: ;
Res_143048 += 1;
} LA36: ;
LA3: ;
Res_143051 += 1;
} LA2: ;
return Result_139234;
}
N_NIMCALL(TY51526*, Semandevalconstexpr_122198)(TY104012* C_122200, TY51526* N_122201) {
TY51526* Result_122202;
TY51526* E_122203;
NIM_BOOL LOC8;
Result_122202 = 0;
E_122203 = 0;
E_122203 = Semexprwithtype_122122(C_122200, N_122201, 0);
if (!(E_122203 == NIM_NIL)) goto LA2;
Limessage_43569((*N_122201).Info, ((NU8) 102), ((NimStringDesc*) &TMP192933));
Result_122202 = NIM_NIL;
goto BeforeRet;
LA2: ;
Result_122202 = Getconstexpr_110010((*C_122200).Module, E_122203);
if (!(Result_122202 == NIM_NIL)) goto LA5;
Result_122202 = Evalconstexpr_112042((*C_122200).Module, E_122203);
LOC8 = (Result_122202 == NIM_NIL);
if (LOC8) goto LA9;
LOC8 = ((*Result_122202).Kind == ((NU8) 1));
LA9: ;
if (!LOC8) goto LA10;
Limessage_43569((*N_122201).Info, ((NU8) 102), ((NimStringDesc*) &TMP192933));
LA10: ;
LA5: ;
BeforeRet: ;
return Result_122202;
}
N_NIMCALL(TY51526*, Fitremovehiddenconv_139188)(TY104012* C_139190, TY51552* Typ_139191, TY51526* N_139192) {
TY51526* Result_139193;
NIM_BOOL LOC4;
Result_139193 = 0;
Result_139193 = Fitnode_122129(C_139190, Typ_139191, N_139192);
if (!((*Result_139193).Kind == ((NU8) 47) || (*Result_139193).Kind == ((NU8) 48))) goto LA2;
Changetype_130964((*Result_139193).KindU.S6.Sons->data[1], Typ_139191);
Result_139193 = (*Result_139193).KindU.S6.Sons->data[1];
goto LA1;
LA2: ;
LOC4 = Sametype_94048((*Result_139193).Typ, Typ_139191);
if (!!(LOC4)) goto LA5;
Changetype_130964(Result_139193, Typ_139191);
goto LA1;
LA5: ;
LA1: ;
return Result_139193;
}
N_NIMCALL(TY51526*, Semconst_139530)(TY104012* C_139532, TY51526* N_139533) {
TY51526* Result_139534;
TY51526* A_139535;
TY51526* Def_139536;
TY51526* B_139537;
TY51548* V_139538;
TY51552* Typ_139539;
NI I_139548;
NI HEX3Atmp_143053;
NI LOC1;
NI Res_143055;
NIM_BOOL LOC20;
NimStringDesc* LOC23;
TY51526* LOC27;
TY51526* LOC28;
Result_139534 = 0;
A_139535 = 0;
Def_139536 = 0;
B_139537 = 0;
V_139538 = 0;
Typ_139539 = 0;
Result_139534 = Copynode_51856(N_139533);
I_139548 = 0;
HEX3Atmp_143053 = 0;
LOC1 = Sonslen_51804(N_139533);
HEX3Atmp_143053 = (NI32)(LOC1 - 1);
Res_143055 = 0;
Res_143055 = 0;
while (1) {
if (!(Res_143055 <= HEX3Atmp_143053)) goto LA2;
I_139548 = Res_143055;
A_139535 = (*N_139533).KindU.S6.Sons->data[I_139548];
if (!((*A_139535).Kind == ((NU8) 105))) goto LA5;
goto LA3;
LA5: ;
if (!!(((*A_139535).Kind == ((NU8) 89)))) goto LA8;
Illformedast_104092(A_139535);
LA8: ;
Checksonslen_104099(A_139535, 3);
if (!((*(*(*C_139532).P).Owner).Kind == ((NU8) 6))) goto LA11;
V_139538 = Semidentwithpragma_122098(C_139532, ((NU8) 8), (*A_139535).KindU.S6.Sons->data[0], 6);
(*V_139538).Flags |=(1<<((NI32)(((NU8) 5))%(sizeof(NI32)*8)));
goto LA10;
LA11: ;
V_139538 = Semidentwithpragma_122098(C_139532, ((NU8) 8), (*A_139535).KindU.S6.Sons->data[0], 0);
LA10: ;
if (!!(((*A_139535).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA14;
Typ_139539 = Semtypenode_122138(C_139532, (*A_139535).KindU.S6.Sons->data[1], NIM_NIL);
goto LA13;
LA14: ;
Typ_139539 = NIM_NIL;
LA13: ;
Def_139536 = Semandevalconstexpr_122198(C_139532, (*A_139535).KindU.S6.Sons->data[2]);
if (!!((Typ_139539 == NIM_NIL))) goto LA17;
Def_139536 = Fitremovehiddenconv_139188(C_139532, Typ_139539, Def_139536);
goto LA16;
LA17: ;
Typ_139539 = (*Def_139536).Typ;
LA16: ;
LOC20 = Typeallowed_94136(Typ_139539, ((NU8) 8));
if (!!(LOC20)) goto LA21;
LOC23 = 0;
LOC23 = Typetostring_94014(Typ_139539, ((NU8) 0));
Limessage_43569((*A_139535).Info, ((NU8) 163), LOC23);
LA21: ;
asgnRef((void**) &(*V_139538).Typ, Typ_139539);
asgnRefNoCycle((void**) &(*V_139538).Ast, Def_139536);
if (!!((((*V_139538).Flags & 6) == 0))) goto LA25;
(*V_139538).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
LA25: ;
Addinterfacedecl_105236(C_139532, V_139538);
B_139537 = Newnodei_51738(((NU8) 89), (*A_139535).Info);
LOC27 = 0;
LOC27 = Newsymnode_51735(V_139538);
Addson_51824(B_139537, LOC27);
Addson_51824(B_139537, NIM_NIL);
LOC28 = 0;
LOC28 = Copytree_51859(Def_139536);
Addson_51824(B_139537, LOC28);
Addson_51824(Result_139534, B_139537);
LA3: ;
Res_143055 += 1;
} LA2: ;
return Result_139534;
}
N_NIMCALL(void, Setmagictype_130026)(TY51548* M_130028, NU8 Kind_130029, NI Size_130030) {
(*(*M_130028).Typ).Kind = Kind_130029;
(*(*M_130028).Typ).Align = Size_130030;
(*(*M_130028).Typ).Size = ((NI64) (Size_130030));
}
N_NIMCALL(void, Processmagictype_130031)(TY104012* C_130033, TY51548* M_130034) {
TY51552* LOC1;
TY51552* LOC2;
TY51552* LOC3;
switch ((*M_130034).Magic) {
case ((NU8) 169):
Setmagictype_130026(M_130034, ((NU8) 31), Intsize_47570);
break;
case ((NU8) 170):
Setmagictype_130026(M_130034, ((NU8) 32), 1);
break;
case ((NU8) 171):
Setmagictype_130026(M_130034, ((NU8) 33), 2);
break;
case ((NU8) 172):
Setmagictype_130026(M_130034, ((NU8) 34), 4);
break;
case ((NU8) 173):
Setmagictype_130026(M_130034, ((NU8) 35), 8);
break;
case ((NU8) 174):
Setmagictype_130026(M_130034, ((NU8) 36), Floatsize_47571);
break;
case ((NU8) 175):
Setmagictype_130026(M_130034, ((NU8) 37), 4);
break;
case ((NU8) 176):
Setmagictype_130026(M_130034, ((NU8) 38), 8);
break;
case ((NU8) 177):
Setmagictype_130026(M_130034, ((NU8) 1), 1);
break;
case ((NU8) 178):
Setmagictype_130026(M_130034, ((NU8) 2), 1);
break;
case ((NU8) 179):
Setmagictype_130026(M_130034, ((NU8) 28), Ptrsize_47572);
LOC1 = 0;
LOC1 = Getsystype_99008(((NU8) 2));
Addson_51828((*M_130034).Typ, LOC1);
break;
case ((NU8) 180):
Setmagictype_130026(M_130034, ((NU8) 29), Ptrsize_47572);
LOC2 = 0;
LOC2 = Getsystype_99008(((NU8) 2));
Addson_51828((*M_130034).Typ, LOC2);
break;
case ((NU8) 181):
Setmagictype_130026(M_130034, ((NU8) 26), Ptrsize_47572);
break;
case ((NU8) 182):
Setmagictype_130026(M_130034, ((NU8) 19), 1);
LOC3 = 0;
LOC3 = Newtypes_104077(((NU8) 3), C_130033);
Addson_51828((*M_130034).Typ, LOC3);
break;
case ((NU8) 183):
Setmagictype_130026(M_130034, ((NU8) 20), Intsize_47570);
goto BeforeRet;
break;
case ((NU8) 184):
Setmagictype_130026(M_130034, ((NU8) 5), Ptrsize_47572);
break;
case ((NU8) 185):
Setmagictype_130026(M_130034, ((NU8) 6), 0);
break;
case ((NU8) 186):
Setmagictype_130026(M_130034, ((NU8) 7), 0);
break;
case ((NU8) 187):
Setmagictype_130026(M_130034, ((NU8) 8), 0);
break;
case ((NU8) 163):
case ((NU8) 164):
case ((NU8) 165):
case ((NU8) 166):
case ((NU8) 167):
case ((NU8) 168):
goto BeforeRet;
break;
default:
Limessage_43569((*M_130034).Info, ((NU8) 60), ((NimStringDesc*) &TMP192933));
break;
}
BeforeRet: ;
}
static N_INLINE(NI, Getid_51694)(void) {
NI Result_51949;
Result_51949 = 0;
Result_51949 = Gid_51693;
Gid_51693 += 1;
return Result_51949;
}
N_NIMCALL(TY51526*, Semgenericparamlist_140409)(TY104012* C_140411, TY51526* N_140412, TY51552* Father_140413) {
TY51526* Result_140414;
NI I_140432;
NI HEX3Atmp_143068;
NI LOC4;
NI Res_143070;
TY51526* A_140445;
NI L_140455;
TY51526* Def_140468;
TY51552* Typ_140469;
NI J_140524;
NI HEX3Atmp_143065;
NI Res_143067;
TY51548* S_140525;
NIM_BOOL LOC16;
TY51526* LOC23;
Result_140414 = 0;
Result_140414 = Copynode_51856(N_140412);
if (!!(((*N_140412).Kind == ((NU8) 65)))) goto LA2;
Internalerror_43574((*N_140412).Info, ((NimStringDesc*) &TMP193165));
LA2: ;
I_140432 = 0;
HEX3Atmp_143068 = 0;
LOC4 = Sonslen_51804(N_140412);
HEX3Atmp_143068 = (NI32)(LOC4 - 1);
Res_143070 = 0;
Res_143070 = 0;
while (1) {
if (!(Res_143070 <= HEX3Atmp_143068)) goto LA5;
I_140432 = Res_143070;
A_140445 = 0;
A_140445 = (*N_140412).KindU.S6.Sons->data[I_140432];
if (!!(((*A_140445).Kind == ((NU8) 25)))) goto LA7;
Illformedast_104092(N_140412);
LA7: ;
L_140455 = 0;
L_140455 = Sonslen_51804(A_140445);
Def_140468 = 0;
Def_140468 = (*A_140445).KindU.S6.Sons->data[(NI32)(L_140455 - 1)];
Typ_140469 = 0;
if (!!(((*A_140445).KindU.S6.Sons->data[(NI32)(L_140455 - 2)] == NIM_NIL))) goto LA10;
Typ_140469 = Semtypenode_122138(C_140411, (*A_140445).KindU.S6.Sons->data[(NI32)(L_140455 - 2)], NIM_NIL);
goto LA9;
LA10: ;
if (!!((Def_140468 == NIM_NIL))) goto LA12;
Typ_140469 = Newtypes_104077(((NU8) 6), C_140411);
goto LA9;
LA12: ;
Typ_140469 = NIM_NIL;
LA9: ;
J_140524 = 0;
HEX3Atmp_143065 = 0;
HEX3Atmp_143065 = (NI32)(L_140455 - 3);
Res_143067 = 0;
Res_143067 = 0;
while (1) {
if (!(Res_143067 <= HEX3Atmp_143065)) goto LA14;
J_140524 = Res_143067;
S_140525 = 0;
LOC16 = (Typ_140469 == NIM_NIL);
if (LOC16) goto LA17;
LOC16 = ((*Typ_140469).Kind == ((NU8) 8));
LA17: ;
if (!LOC16) goto LA18;
S_140525 = Newsyms_122059(((NU8) 7), (*A_140445).KindU.S6.Sons->data[J_140524], C_140411);
asgnRef((void**) &(*S_140525).Typ, Newtypes_104077(((NU8) 12), C_140411));
goto LA15;
LA18: ;
S_140525 = Newsyms_122059(((NU8) 4), (*A_140445).KindU.S6.Sons->data[J_140524], C_140411);
asgnRef((void**) &(*S_140525).Typ, Typ_140469);
LA15: ;
asgnRefNoCycle((void**) &(*S_140525).Ast, Def_140468);
asgnRef((void**) &(*(*S_140525).Typ).Sym, S_140525);
if (!!((Father_140413 == NIM_NIL))) goto LA21;
Addson_51828(Father_140413, (*S_140525).Typ);
LA21: ;
(*S_140525).Position = I_140432;
LOC23 = 0;
LOC23 = Newsymnode_51735(S_140525);
Addson_51824(Result_140414, LOC23);
Adddecl_105114(C_140411, S_140525);
Res_143067 += 1;
} LA14: ;
Res_143070 += 1;
} LA5: ;
return Result_140414;
}
N_NIMCALL(TY51526*, Semtypesection_140637)(TY104012* C_140639, TY51526* N_140640) {
TY51526* Result_140641;
TY51548* S_140642;
TY51552* T_140643;
TY51552* Body_140644;
NI I_140653;
NI HEX3Atmp_143075;
NI LOC1;
NI Res_143077;
TY51526* A_140666;
NI I_140834;
NI HEX3Atmp_143079;
NI LOC19;
NI Res_143081;
TY51526* A_140847;
NIM_BOOL LOC32;
NI LOC48;
NIM_BOOL LOC52;
NI I_141089;
NI HEX3Atmp_143083;
NI LOC56;
NI Res_143085;
TY51526* A_141102;
NIM_BOOL LOC69;
Result_140641 = 0;
S_140642 = 0;
T_140643 = 0;
Body_140644 = 0;
Result_140641 = N_140640;
I_140653 = 0;
HEX3Atmp_143075 = 0;
LOC1 = Sonslen_51804(N_140640);
HEX3Atmp_143075 = (NI32)(LOC1 - 1);
Res_143077 = 0;
Res_143077 = 0;
while (1) {
if (!(Res_143077 <= HEX3Atmp_143075)) goto LA2;
I_140653 = Res_143077;
A_140666 = 0;
A_140666 = (*N_140640).KindU.S6.Sons->data[I_140653];
if (!((*A_140666).Kind == ((NU8) 105))) goto LA5;
goto LA3;
LA5: ;
if (!!(((*A_140666).Kind == ((NU8) 91)))) goto LA8;
Illformedast_104092(A_140666);
LA8: ;
Checksonslen_104099(A_140666, 3);
if (!((*(*(*C_140639).P).Owner).Kind == ((NU8) 6))) goto LA11;
S_140642 = Semidentwithpragma_122098(C_140639, ((NU8) 7), (*A_140666).KindU.S6.Sons->data[0], 6);
(*S_140642).Flags |=(1<<((NI32)(((NU8) 5))%(sizeof(NI32)*8)));
goto LA10;
LA11: ;
S_140642 = Semidentwithpragma_122098(C_140639, ((NU8) 7), (*A_140666).KindU.S6.Sons->data[0], 0);
LA10: ;
if (!!((((*S_140642).Flags & 6) == 0))) goto LA14;
(*S_140642).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
LA14: ;
asgnRef((void**) &(*S_140642).Typ, Newtypes_104077(((NU8) 30), C_140639));
asgnRef((void**) &(*(*S_140642).Typ).Sym, S_140642);
if (!((*(*A_140666).KindU.S6.Sons->data[0]).Kind == ((NU8) 34))) goto LA17;
Pragma_119028(C_140639, S_140642, (*(*A_140666).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[1], TMP193163);
LA17: ;
Addinterfacedecl_105236(C_140639, S_140642);
asgnRefNoCycle((void**) &(*A_140666).KindU.S6.Sons->data[0], Newsymnode_51735(S_140642));
LA3: ;
Res_143077 += 1;
} LA2: ;
I_140834 = 0;
HEX3Atmp_143079 = 0;
LOC19 = Sonslen_51804(N_140640);
HEX3Atmp_143079 = (NI32)(LOC19 - 1);
Res_143081 = 0;
Res_143081 = 0;
while (1) {
if (!(Res_143081 <= HEX3Atmp_143079)) goto LA20;
I_140834 = Res_143081;
A_140847 = 0;
A_140847 = (*N_140640).KindU.S6.Sons->data[I_140834];
if (!((*A_140847).Kind == ((NU8) 105))) goto LA23;
goto LA21;
LA23: ;
if (!!(((*A_140847).Kind == ((NU8) 91)))) goto LA26;
Illformedast_104092(A_140847);
LA26: ;
Checksonslen_104099(A_140847, 3);
if (!!(((*(*A_140847).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA29;
Illformedast_104092(A_140847);
LA29: ;
S_140642 = (*(*A_140847).KindU.S6.Sons->data[0]).KindU.S4.Sym;
LOC32 = ((*S_140642).Magic == ((NU8) 0));
if (!(LOC32)) goto LA33;
LOC32 = ((*A_140847).KindU.S6.Sons->data[2] == NIM_NIL);
LA33: ;
if (!LOC32) goto LA34;
Limessage_43569((*A_140847).Info, ((NU8) 135), (*(*S_140642).Name).S);
LA34: ;
if (!!(((*S_140642).Magic == ((NU8) 0)))) goto LA37;
Processmagictype_130031(C_140639, S_140642);
LA37: ;
if (!!(((*A_140847).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA40;
Openscope_56146(&(*C_140639).Tab);
Pushowner_104109(S_140642);
(*(*S_140642).Typ).Kind = ((NU8) 10);
if (!!(((*(*S_140642).Typ).Containerid == 0))) goto LA43;
Internalerror_43574((*A_140847).Info, ((NimStringDesc*) &TMP193164));
LA43: ;
(*(*S_140642).Typ).Containerid = Getid_51694();
asgnRefNoCycle((void**) &(*A_140847).KindU.S6.Sons->data[1], Semgenericparamlist_140409(C_140639, (*A_140847).KindU.S6.Sons->data[1], (*S_140642).Typ));
Addson_51828((*S_140642).Typ, NIM_NIL);
asgnRefNoCycle((void**) &(*S_140642).Ast, A_140847);
Body_140644 = Semtypenode_122138(C_140639, (*A_140847).KindU.S6.Sons->data[2], NIM_NIL);
if (!!((Body_140644 == NIM_NIL))) goto LA46;
asgnRef((void**) &(*Body_140644).Sym, S_140642);
LA46: ;
LOC48 = Sonslen_51807((*S_140642).Typ);
asgnRef((void**) &(*(*S_140642).Typ).Sons->data[(NI32)(LOC48 - 1)], Body_140644);
Popowner_104112();
Closescope_105018(&(*C_140639).Tab);
goto LA39;
LA40: ;
if (!!(((*A_140847).KindU.S6.Sons->data[2] == NIM_NIL))) goto LA49;
Pushowner_104109(S_140642);
T_140643 = Semtypenode_122138(C_140639, (*A_140847).KindU.S6.Sons->data[2], (*S_140642).Typ);
LOC52 = !((T_140643 == (*S_140642).Typ));
if (!(LOC52)) goto LA53;
LOC52 = !(((*S_140642).Typ == NIM_NIL));
LA53: ;
if (!LOC52) goto LA54;
Internalerror_43574((*A_140847).Info, ((NimStringDesc*) &TMP193166));
LA54: ;
asgnRef((void**) &(*S_140642).Typ, T_140643);
asgnRefNoCycle((void**) &(*S_140642).Ast, A_140847);
Popowner_104112();
goto LA39;
LA49: ;
LA39: ;
LA21: ;
Res_143081 += 1;
} LA20: ;
I_141089 = 0;
HEX3Atmp_143083 = 0;
LOC56 = Sonslen_51804(N_140640);
HEX3Atmp_143083 = (NI32)(LOC56 - 1);
Res_143085 = 0;
Res_143085 = 0;
while (1) {
if (!(Res_143085 <= HEX3Atmp_143083)) goto LA57;
I_141089 = Res_143085;
A_141102 = 0;
A_141102 = (*N_140640).KindU.S6.Sons->data[I_141089];
if (!((*A_141102).Kind == ((NU8) 105))) goto LA60;
goto LA58;
LA60: ;
if (!!(((*(*A_141102).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA63;
Illformedast_104092(A_141102);
LA63: ;
S_140642 = (*(*A_141102).KindU.S6.Sons->data[0]).KindU.S4.Sym;
if (!((*A_141102).KindU.S6.Sons->data[1] == NIM_NIL)) goto LA66;
LOC69 = !(((*A_141102).KindU.S6.Sons->data[2] == NIM_NIL));
if (!(LOC69)) goto LA70;
LOC69 = ((*(*A_141102).KindU.S6.Sons->data[2]).Kind == ((NU8) 3) || (*(*A_141102).KindU.S6.Sons->data[2]).Kind == ((NU8) 2) || (*(*A_141102).KindU.S6.Sons->data[2]).Kind == ((NU8) 43));
LA70: ;
if (!LOC69) goto LA71;
T_140643 = Semtypenode_122138(C_140639, (*A_141102).KindU.S6.Sons->data[2], NIM_NIL);
if (!((*T_140643).Kind == ((NU8) 17) || (*T_140643).Kind == ((NU8) 14))) goto LA74;
Assigntype_51780((*S_140642).Typ, T_140643);
(*(*S_140642).Typ).Sup.Id = (*T_140643).Sup.Id;
LA74: ;
LA71: ;
Checkconstructedtype_123661((*S_140642).Info, (*S_140642).Typ);
LA66: ;
LA58: ;
Res_143085 += 1;
} LA57: ;
return Result_140641;
}
N_NIMCALL(TY51526*, Semif_137970)(TY104012* C_137972, TY51526* N_137973) {
TY51526* Result_137974;
NI I_137983;
NI HEX3Atmp_143039;
NI LOC1;
NI Res_143041;
TY51526* It_137996;
NI LOC7;
Result_137974 = 0;
Result_137974 = N_137973;
I_137983 = 0;
HEX3Atmp_143039 = 0;
LOC1 = Sonslen_51804(N_137973);
HEX3Atmp_143039 = (NI32)(LOC1 - 1);
Res_143041 = 0;
Res_143041 = 0;
while (1) {
if (!(Res_143041 <= HEX3Atmp_143039)) goto LA2;
I_137983 = Res_143041;
It_137996 = 0;
It_137996 = (*N_137973).KindU.S6.Sons->data[I_137983];
if (!(It_137996 == NIM_NIL)) goto LA4;
Illformedast_104092(N_137973);
LA4: ;
switch ((*It_137996).Kind) {
case ((NU8) 76):
Checksonslen_104099(It_137996, 2);
Openscope_56146(&(*C_137972).Tab);
asgnRefNoCycle((void**) &(*It_137996).KindU.S6.Sons->data[0], Semexprwithtype_122122(C_137972, (*It_137996).KindU.S6.Sons->data[0], 0));
Checkbool_126881((*It_137996).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*It_137996).KindU.S6.Sons->data[1], Semstmt_122143(C_137972, (*It_137996).KindU.S6.Sons->data[1]));
Closescope_105018(&(*C_137972).Tab);
break;
case ((NU8) 78):
LOC7 = Sonslen_51804(It_137996);
if (!(LOC7 == 1)) goto LA8;
asgnRefNoCycle((void**) &(*It_137996).KindU.S6.Sons->data[0], Semstmtscope_122104(C_137972, (*It_137996).KindU.S6.Sons->data[0]));
goto LA6;
LA8: ;
Illformedast_104092(It_137996);
LA6: ;
break;
default:
Illformedast_104092(N_137973);
break;
}
Res_143041 += 1;
} LA2: ;
return Result_137974;
}
N_NIMCALL(TY51526*, Semwhen_137839)(TY104012* C_137841, TY51526* N_137842) {
TY51526* Result_137843;
NI I_137852;
NI HEX3Atmp_143036;
NI LOC1;
NI Res_143038;
TY51526* It_137865;
TY51526* E_137889;
NIM_BOOL LOC10;
Result_137843 = 0;
Result_137843 = NIM_NIL;
I_137852 = 0;
HEX3Atmp_143036 = 0;
LOC1 = Sonslen_51804(N_137842);
HEX3Atmp_143036 = (NI32)(LOC1 - 1);
Res_143038 = 0;
Res_143038 = 0;
while (1) {
if (!(Res_143038 <= HEX3Atmp_143036)) goto LA2;
I_137852 = Res_143038;
It_137865 = 0;
It_137865 = (*N_137842).KindU.S6.Sons->data[I_137852];
if (!(It_137865 == NIM_NIL)) goto LA4;
Illformedast_104092(N_137842);
LA4: ;
switch ((*It_137865).Kind) {
case ((NU8) 76):
Checksonslen_104099(It_137865, 2);
E_137889 = 0;
E_137889 = Semconstexpr_122171(C_137841, (*It_137865).KindU.S6.Sons->data[0]);
Checkbool_126881(E_137889);
if (!!(((*E_137889).Kind == ((NU8) 6)))) goto LA7;
Internalerror_43574((*N_137842).Info, ((NimStringDesc*) &TMP193167));
LA7: ;
LOC10 = !(((*E_137889).KindU.S1.Intval == 0));
if (!(LOC10)) goto LA11;
LOC10 = (Result_137843 == NIM_NIL);
LA11: ;
if (!LOC10) goto LA12;
Result_137843 = Semstmt_122143(C_137841, (*It_137865).KindU.S6.Sons->data[1]);
LA12: ;
break;
case ((NU8) 78):
Checksonslen_104099(It_137865, 1);
if (!(Result_137843 == NIM_NIL)) goto LA15;
Result_137843 = Semstmt_122143(C_137841, (*It_137865).KindU.S6.Sons->data[0]);
LA15: ;
break;
default:
Illformedast_104092(N_137842);
break;
}
Res_143038 += 1;
} LA2: ;
if (!(Result_137843 == NIM_NIL)) goto LA18;
Result_137843 = Newnodei_51738(((NU8) 18), (*N_137842).Info);
LA18: ;
Idsynchronizationpoint_51699(200);
return Result_137843;
}
N_NIMCALL(TY51526*, Semdiscard_138096)(TY104012* C_138098, TY51526* N_138099) {
TY51526* Result_138100;
Result_138100 = 0;
Result_138100 = N_138099;
Checksonslen_104099(N_138099, 1);
asgnRefNoCycle((void**) &(*N_138099).KindU.S6.Sons->data[0], Semexprwithtype_122122(C_138098, (*N_138099).KindU.S6.Sons->data[0], 0));
if (!((*(*N_138099).KindU.S6.Sons->data[0]).Typ == NIM_NIL)) goto LA2;
Limessage_43569((*N_138099).Info, ((NU8) 138), ((NimStringDesc*) &TMP192933));
LA2: ;
return Result_138100;
}
N_NIMCALL(TY51526*, Semwhile_138389)(TY104012* C_138391, TY51526* N_138392) {
TY51526* Result_138393;
Result_138393 = 0;
Result_138393 = N_138392;
Checksonslen_104099(N_138392, 2);
Openscope_56146(&(*C_138391).Tab);
asgnRefNoCycle((void**) &(*N_138392).KindU.S6.Sons->data[0], Semexprwithtype_122122(C_138391, (*N_138392).KindU.S6.Sons->data[0], 0));
Checkbool_126881((*N_138392).KindU.S6.Sons->data[0]);
(*(*C_138391).P).Nestedloopcounter += 1;
asgnRefNoCycle((void**) &(*N_138392).KindU.S6.Sons->data[1], Semstmt_122143(C_138391, (*N_138392).KindU.S6.Sons->data[1]));
(*(*C_138391).P).Nestedloopcounter -= 1;
Closescope_105018(&(*C_138391).Tab);
return Result_138393;
}
N_NIMCALL(TY51526*, Semtry_140212)(TY104012* C_140214, TY51526* N_140215) {
TY51526* Result_140216;
TY51901 Check_140217;
NI I_140251;
NI HEX3Atmp_143062;
NI LOC1;
NI Res_143064;
TY51526* A_140264;
NI Length_140265;
NI J_140283;
NI HEX3Atmp_143059;
NI Res_143061;
TY51552* Typ_140296;
NIM_BOOL LOC14;
Result_140216 = 0;
memset((void*)&Check_140217, 0, sizeof(Check_140217));
Result_140216 = N_140215;
Checkminsonslen_104103(N_140215, 2);
asgnRefNoCycle((void**) &(*N_140215).KindU.S6.Sons->data[0], Semstmtscope_122104(C_140214, (*N_140215).KindU.S6.Sons->data[0]));
Intsetinit_51925(&Check_140217);
I_140251 = 0;
HEX3Atmp_143062 = 0;
LOC1 = Sonslen_51804(N_140215);
HEX3Atmp_143062 = (NI32)(LOC1 - 1);
Res_143064 = 0;
Res_143064 = 1;
while (1) {
if (!(Res_143064 <= HEX3Atmp_143062)) goto LA2;
I_140251 = Res_143064;
A_140264 = 0;
A_140264 = (*N_140215).KindU.S6.Sons->data[I_140251];
Checkminsonslen_104103(A_140264, 1);
Length_140265 = 0;
Length_140265 = Sonslen_51804(A_140264);
if (!((*A_140264).Kind == ((NU8) 77))) goto LA4;
J_140283 = 0;
HEX3Atmp_143059 = 0;
HEX3Atmp_143059 = (NI32)(Length_140265 - 2);
Res_143061 = 0;
Res_143061 = 0;
while (1) {
if (!(Res_143061 <= HEX3Atmp_143059)) goto LA6;
J_140283 = Res_143061;
Typ_140296 = 0;
Typ_140296 = Semtypenode_122138(C_140214, (*A_140264).KindU.S6.Sons->data[J_140283], NIM_NIL);
if (!((*Typ_140296).Kind == ((NU8) 22))) goto LA8;
Typ_140296 = (*Typ_140296).Sons->data[0];
LA8: ;
if (!!(((*Typ_140296).Kind == ((NU8) 17)))) goto LA11;
Limessage_43569((*(*A_140264).KindU.S6.Sons->data[J_140283]).Info, ((NU8) 110), ((NimStringDesc*) &TMP192933));
LA11: ;
asgnRefNoCycle((void**) &(*A_140264).KindU.S6.Sons->data[J_140283], Newnodei_51738(((NU8) 4), (*(*A_140264).KindU.S6.Sons->data[J_140283]).Info));
asgnRef((void**) &(*(*A_140264).KindU.S6.Sons->data[J_140283]).Typ, Typ_140296);
LOC14 = Intsetcontainsorincl_51929(&Check_140217, (*Typ_140296).Sup.Id);
if (!LOC14) goto LA15;
Limessage_43569((*(*A_140264).KindU.S6.Sons->data[J_140283]).Info, ((NU8) 33), ((NimStringDesc*) &TMP192933));
LA15: ;
Res_143061 += 1;
} LA6: ;
goto LA3;
LA4: ;
if (!!(((*A_140264).Kind == ((NU8) 94)))) goto LA17;
Illformedast_104092(N_140215);
goto LA3;
LA17: ;
LA3: ;
asgnRefNoCycle((void**) &(*A_140264).KindU.S6.Sons->data[(NI32)(Length_140265 - 1)], Semstmtscope_122104(C_140214, (*A_140264).KindU.S6.Sons->data[(NI32)(Length_140265 - 1)]));
Res_143064 += 1;
} LA2: ;
return Result_140216;
}
N_NIMCALL(TY51526*, Sembreakorcontinue_138148)(TY104012* C_138150, TY51526* N_138151) {
TY51526* Result_138152;
TY51548* S_138176;
NIM_BOOL LOC5;
TY51526* X_138236;
NIM_BOOL LOC9;
NimStringDesc* LOC13;
Result_138152 = 0;
Result_138152 = N_138151;
Checksonslen_104099(N_138151, 1);
if (!!(((*N_138151).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA2;
S_138176 = 0;
switch ((*(*N_138151).KindU.S6.Sons->data[0]).Kind) {
case ((NU8) 2):
S_138176 = Lookup_105245(C_138150, (*N_138151).KindU.S6.Sons->data[0]);
break;
case ((NU8) 3):
S_138176 = (*(*N_138151).KindU.S6.Sons->data[0]).KindU.S4.Sym;
break;
default:
Illformedast_104092(N_138151);
break;
}
LOC5 = ((*S_138176).Kind == ((NU8) 19));
if (!(LOC5)) goto LA6;
LOC5 = ((*(*S_138176).Owner).Sup.Id == (*(*(*C_138150).P).Owner).Sup.Id);
LA6: ;
if (!LOC5) goto LA7;
X_138236 = 0;
X_138236 = Newsymnode_51735(S_138176);
(*X_138236).Info = (*N_138151).Info;
(*S_138176).Flags |=(1<<((NI32)(((NU8) 0))%(sizeof(NI32)*8)));
asgnRefNoCycle((void**) &(*N_138151).KindU.S6.Sons->data[0], X_138236);
goto LA4;
LA7: ;
Limessage_43569((*N_138151).Info, ((NU8) 161), (*(*S_138176).Name).S);
LA4: ;
goto LA1;
LA2: ;
LOC9 = ((*(*C_138150).P).Nestedloopcounter <= 0);
if (!(LOC9)) goto LA10;
LOC9 = ((*(*C_138150).P).Nestedblockcounter <= 0);
LA10: ;
if (!LOC9) goto LA11;
LOC13 = 0;
LOC13 = Rendertree_82042(N_138151, 4);
Limessage_43569((*N_138151).Info, ((NU8) 161), LOC13);
goto LA1;
LA11: ;
LA1: ;
return Result_138152;
}
N_NIMCALL(TY51526*, Semfor_139721)(TY104012* C_139723, TY51526* N_139724) {
TY51526* Result_139725;
NI Length_139726;
TY51548* V_139727;
TY51548* Countup_139728;
TY51552* Iter_139729;
TY51526* Countupnode_139730;
TY51526* Call_139731;
TY50011* LOC4;
NIM_BOOL LOC9;
NIM_BOOL LOC10;
NI LOC22;
NI I_140055;
NI HEX3Atmp_143056;
NI Res_143058;
Result_139725 = 0;
Length_139726 = 0;
V_139727 = 0;
Countup_139728 = 0;
Iter_139729 = 0;
Countupnode_139730 = 0;
Call_139731 = 0;
Result_139725 = N_139724;
Checkminsonslen_104103(N_139724, 3);
Length_139726 = Sonslen_51804(N_139724);
Openscope_56146(&(*C_139723).Tab);
if (!((*(*N_139724).KindU.S6.Sons->data[(NI32)(Length_139726 - 2)]).Kind == ((NU8) 35))) goto LA2;
Checksonslen_104099((*N_139724).KindU.S6.Sons->data[(NI32)(Length_139726 - 2)], 2);
Countupnode_139730 = Newnodei_51738(((NU8) 21), (*(*N_139724).KindU.S6.Sons->data[(NI32)(Length_139726 - 2)]).Info);
LOC4 = 0;
LOC4 = Getident_50016(((NimStringDesc*) &TMP193168));
Countup_139728 = Strtableget_56066(&(*Systemmodule_99004).Tab, LOC4);
if (!(Countup_139728 == NIM_NIL)) goto LA6;
Limessage_43569((*Countupnode_139730).Info, ((NU8) 61), ((NimStringDesc*) &TMP193168));
LA6: ;
Newsons_51816(Countupnode_139730, 3);
asgnRefNoCycle((void**) &(*Countupnode_139730).KindU.S6.Sons->data[0], Newsymnode_51735(Countup_139728));
asgnRefNoCycle((void**) &(*Countupnode_139730).KindU.S6.Sons->data[1], (*(*N_139724).KindU.S6.Sons->data[(NI32)(Length_139726 - 2)]).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*Countupnode_139730).KindU.S6.Sons->data[2], (*(*N_139724).KindU.S6.Sons->data[(NI32)(Length_139726 - 2)]).KindU.S6.Sons->data[1]);
asgnRefNoCycle((void**) &(*N_139724).KindU.S6.Sons->data[(NI32)(Length_139726 - 2)], Countupnode_139730);
LA2: ;
asgnRefNoCycle((void**) &(*N_139724).KindU.S6.Sons->data[(NI32)(Length_139726 - 2)], Semexprwithtype_122122(C_139723, (*N_139724).KindU.S6.Sons->data[(NI32)(Length_139726 - 2)], 4));
Call_139731 = (*N_139724).KindU.S6.Sons->data[(NI32)(Length_139726 - 2)];
LOC10 = !(((*Call_139731).Kind == ((NU8) 21)));
if (LOC10) goto LA11;
LOC10 = !(((*(*Call_139731).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)));
LA11: ;
LOC9 = LOC10;
if (LOC9) goto LA12;
LOC9 = !(((*(*(*Call_139731).KindU.S6.Sons->data[0]).KindU.S4.Sym).Kind == ((NU8) 12)));
LA12: ;
if (!LOC9) goto LA13;
Limessage_43569((*(*N_139724).KindU.S6.Sons->data[(NI32)(Length_139726 - 2)]).Info, ((NU8) 207), ((NimStringDesc*) &TMP192933));
LA13: ;
Iter_139729 = Skiptypes_94087((*(*N_139724).KindU.S6.Sons->data[(NI32)(Length_139726 - 2)]).Typ, 2048);
if (!!(((*Iter_139729).Kind == ((NU8) 18)))) goto LA16;
if (!!((Length_139726 == 3))) goto LA19;
Limessage_43569((*N_139724).Info, ((NU8) 109), ((NimStringDesc*) &TMP192933));
LA19: ;
V_139727 = Newsyms_122059(((NU8) 18), (*N_139724).KindU.S6.Sons->data[0], C_139723);
asgnRef((void**) &(*V_139727).Typ, Iter_139729);
asgnRefNoCycle((void**) &(*N_139724).KindU.S6.Sons->data[0], Newsymnode_51735(V_139727));
Adddecl_105114(C_139723, V_139727);
goto LA15;
LA16: ;
LOC22 = Sonslen_51807(Iter_139729);
if (!!(((NI32)(Length_139726 - 2) == LOC22))) goto LA23;
Limessage_43569((*N_139724).Info, ((NU8) 109), ((NimStringDesc*) &TMP192933));
LA23: ;
I_140055 = 0;
HEX3Atmp_143056 = 0;
HEX3Atmp_143056 = (NI32)(Length_139726 - 3);
Res_143058 = 0;
Res_143058 = 0;
while (1) {
if (!(Res_143058 <= HEX3Atmp_143056)) goto LA25;
I_140055 = Res_143058;
V_139727 = Newsyms_122059(((NU8) 18), (*N_139724).KindU.S6.Sons->data[I_140055], C_139723);
asgnRef((void**) &(*V_139727).Typ, (*Iter_139729).Sons->data[I_140055]);
asgnRefNoCycle((void**) &(*N_139724).KindU.S6.Sons->data[I_140055], Newsymnode_51735(V_139727));
Adddecl_105114(C_139723, V_139727);
Res_143058 += 1;
} LA25: ;
LA15: ;
(*(*C_139723).P).Nestedloopcounter += 1;
asgnRefNoCycle((void**) &(*N_139724).KindU.S6.Sons->data[(NI32)(Length_139726 - 1)], Semstmt_122143(C_139723, (*N_139724).KindU.S6.Sons->data[(NI32)(Length_139726 - 1)]));
Closescope_105018(&(*C_139723).Tab);
(*(*C_139723).P).Nestedloopcounter -= 1;
return Result_139725;
}
N_NIMCALL(NI64, Tocover_138480)(TY51552* T_138482) {
NI64 Result_138483;
TY51552* T2_138484;
NIM_BOOL LOC2;
NI LOC6;
TY51552* LOC7;
Result_138483 = 0;
T2_138484 = 0;
T2_138484 = Skiptypes_94087(T_138482, 9480192);
LOC2 = ((*T2_138484).Kind == ((NU8) 14));
if (!(LOC2)) goto LA3;
LOC2 = Enumhaswholes_94072(T2_138484);
LA3: ;
if (!LOC2) goto LA4;
LOC6 = Sonslen_51804((*T2_138484).N);
Result_138483 = ((NI64) (LOC6));
goto LA1;
LA4: ;
LOC7 = 0;
LOC7 = Skiptypes_94087(T_138482, 8431616);
Result_138483 = Lengthord_94007(LOC7);
LA1: ;
return Result_138483;
}
N_NIMCALL(TY51526*, Semcase_138494)(TY104012* C_138496, TY51526* N_138497) {
TY51526* Result_138498;
NIM_BOOL Chckcovered_138524;
NI64 Covered_138525;
TY51552* LOC1;
NI I_138546;
NI HEX3Atmp_143042;
NI LOC2;
NI Res_143044;
TY51526* X_138559;
NI Length_138561;
NIM_BOOL LOC5;
NI64 LOC7;
Result_138498 = 0;
Result_138498 = N_138497;
Checkminsonslen_104103(N_138497, 2);
Openscope_56146(&(*C_138496).Tab);
asgnRefNoCycle((void**) &(*N_138497).KindU.S6.Sons->data[0], Semexprwithtype_122122(C_138496, (*N_138497).KindU.S6.Sons->data[0], 0));
Chckcovered_138524 = 0;
Chckcovered_138524 = NIM_FALSE;
Covered_138525 = 0;
Covered_138525 = 0;
LOC1 = 0;
LOC1 = Skiptypes_94087((*(*N_138497).KindU.S6.Sons->data[0]).Typ, 9480192);
switch ((*LOC1).Kind) {
case ((NU8) 31) ... ((NU8) 35):
case ((NU8) 2):
case ((NU8) 14):
Chckcovered_138524 = NIM_TRUE;
break;
case ((NU8) 36) ... ((NU8) 39):
case ((NU8) 28):
break;
default:
Limessage_43569((*N_138497).Info, ((NU8) 105), ((NimStringDesc*) &TMP192933));
break;
}
I_138546 = 0;
HEX3Atmp_143042 = 0;
LOC2 = Sonslen_51804(N_138497);
HEX3Atmp_143042 = (NI32)(LOC2 - 1);
Res_143044 = 0;
Res_143044 = 1;
while (1) {
if (!(Res_143044 <= HEX3Atmp_143042)) goto LA3;
I_138546 = Res_143044;
X_138559 = 0;
X_138559 = (*N_138497).KindU.S6.Sons->data[I_138546];
switch ((*X_138559).Kind) {
case ((NU8) 75):
Checkminsonslen_104103(X_138559, 2);
Semcasebranch_128283(C_138496, N_138497, X_138559, I_138546, &Covered_138525);
Length_138561 = 0;
Length_138561 = Sonslen_51804(X_138559);
asgnRefNoCycle((void**) &(*X_138559).KindU.S6.Sons->data[(NI32)(Length_138561 - 1)], Semstmtscope_122104(C_138496, (*X_138559).KindU.S6.Sons->data[(NI32)(Length_138561 - 1)]));
break;
case ((NU8) 76):
Chckcovered_138524 = NIM_FALSE;
Checksonslen_104099(X_138559, 2);
asgnRefNoCycle((void**) &(*X_138559).KindU.S6.Sons->data[0], Semexprwithtype_122122(C_138496, (*X_138559).KindU.S6.Sons->data[0], 0));
Checkbool_126881((*X_138559).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*X_138559).KindU.S6.Sons->data[1], Semstmtscope_122104(C_138496, (*X_138559).KindU.S6.Sons->data[1]));
break;
case ((NU8) 78):
Chckcovered_138524 = NIM_FALSE;
Checksonslen_104099(X_138559, 1);
asgnRefNoCycle((void**) &(*X_138559).KindU.S6.Sons->data[0], Semstmtscope_122104(C_138496, (*X_138559).KindU.S6.Sons->data[0]));
break;
default:
Illformedast_104092(X_138559);
break;
}
Res_143044 += 1;
} LA3: ;
LOC5 = Chckcovered_138524;
if (!(LOC5)) goto LA6;
LOC7 = Tocover_138480((*(*N_138497).KindU.S6.Sons->data[0]).Typ);
LOC5 = !((Covered_138525 == LOC7));
LA6: ;
if (!LOC5) goto LA8;
Limessage_43569((*N_138497).Info, ((NU8) 148), ((NimStringDesc*) &TMP192933));
LA8: ;
Closescope_105018(&(*C_138496).Tab);
return Result_138498;
}
N_NIMCALL(TY51526*, Semreturn_138841)(TY104012* C_138843, TY51526* N_138844) {
TY51526* Result_138845;
TY51552* Restype_138846;
TY51526* A_138847;
NIM_BOOL LOC11;
TY51526* LOC18;
TY51526* LOC19;
Result_138845 = 0;
Restype_138846 = 0;
A_138847 = 0;
Result_138845 = N_138844;
Checksonslen_104099(N_138844, 1);
if (!!(((27648 &(1<<(((*(*(*C_138843).P).Owner).Kind)&31)))!=0))) goto LA2;
Limessage_43569((*N_138844).Info, ((NU8) 160), ((NimStringDesc*) &TMP193169));
LA2: ;
if (!!(((*N_138844).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA5;
asgnRefNoCycle((void**) &(*N_138844).KindU.S6.Sons->data[0], Semexprwithtype_122122(C_138843, (*N_138844).KindU.S6.Sons->data[0], 0));
Restype_138846 = (*(*(*(*C_138843).P).Owner).Typ).Sons->data[0];
if (!!((Restype_138846 == NIM_NIL))) goto LA8;
A_138847 = Newnodei_51738(((NU8) 63), (*(*N_138844).KindU.S6.Sons->data[0]).Info);
asgnRefNoCycle((void**) &(*N_138844).KindU.S6.Sons->data[0], Fitnode_122129(C_138843, Restype_138846, (*N_138844).KindU.S6.Sons->data[0]));
LOC11 = ((*(*N_138844).KindU.S6.Sons->data[0]).Kind == ((NU8) 3));
if (!(LOC11)) goto LA12;
LOC11 = (((*(*(*N_138844).KindU.S6.Sons->data[0]).KindU.S4.Sym).Flags &(1<<((((NU8) 12))&31)))!=0);
LA12: ;
if (!LOC11) goto LA13;
asgnRefNoCycle((void**) &(*N_138844).KindU.S6.Sons->data[0], NIM_NIL);
goto LA10;
LA13: ;
if (!((*(*C_138843).P).Resultsym == NIM_NIL)) goto LA16;
Internalerror_43574((*N_138844).Info, ((NimStringDesc*) &TMP193170));
LA16: ;
LOC18 = 0;
LOC18 = Newsymnode_51735((*(*C_138843).P).Resultsym);
LOC19 = 0;
LOC19 = Semexprwithtype_122122(C_138843, LOC18, 0);
Addson_51824(A_138847, LOC19);
Addson_51824(A_138847, (*N_138844).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*N_138844).KindU.S6.Sons->data[0], A_138847);
LA10: ;
goto LA7;
LA8: ;
Limessage_43569((*N_138844).Info, ((NU8) 36), ((NimStringDesc*) &TMP192933));
LA7: ;
LA5: ;
return Result_138845;
}
N_NIMCALL(TY51526*, Semasm_138369)(TY104012* Con_138371, TY51526* N_138372) {
TY51526* Result_138373;
NIM_CHAR Marker_138386;
Result_138373 = 0;
Checksonslen_104099(N_138372, 2);
Marker_138386 = 0;
Marker_138386 = Pragmaasm_119034(Con_138371, (*N_138372).KindU.S6.Sons->data[0]);
if (!((NU8)(Marker_138386) == (NU8)(0))) goto LA2;
Marker_138386 = 96;
LA2: ;
Result_138373 = Semasmoremit_120596(Con_138371, N_138372, Marker_138386);
return Result_138373;
}
N_NIMCALL(TY51526*, Semyield_139057)(TY104012* C_139059, TY51526* N_139060) {
TY51526* Result_139061;
NIM_BOOL LOC2;
TY51552* Restype_139129;
Result_139061 = 0;
Result_139061 = N_139060;
Checksonslen_104099(N_139060, 1);
LOC2 = ((*(*C_139059).P).Owner == NIM_NIL);
if (LOC2) goto LA3;
LOC2 = !(((*(*(*C_139059).P).Owner).Kind == ((NU8) 12)));
LA3: ;
if (!LOC2) goto LA4;
Limessage_43569((*N_139060).Info, ((NU8) 34), ((NimStringDesc*) &TMP192933));
LA4: ;
if (!!(((*N_139060).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA7;
asgnRefNoCycle((void**) &(*N_139060).KindU.S6.Sons->data[0], Semexprwithtype_122122(C_139059, (*N_139060).KindU.S6.Sons->data[0], 0));
Restype_139129 = 0;
Restype_139129 = (*(*(*(*C_139059).P).Owner).Typ).Sons->data[0];
if (!!((Restype_139129 == NIM_NIL))) goto LA10;
asgnRefNoCycle((void**) &(*N_139060).KindU.S6.Sons->data[0], Fitnode_122129(C_139059, Restype_139129, (*N_139060).KindU.S6.Sons->data[0]));
if (!((*(*N_139060).KindU.S6.Sons->data[0]).Typ == NIM_NIL)) goto LA13;
Internalerror_43574((*N_139060).Info, ((NimStringDesc*) &TMP193171));
LA13: ;
goto LA9;
LA10: ;
Limessage_43569((*N_139060).Info, ((NU8) 36), ((NimStringDesc*) &TMP192933));
LA9: ;
LA7: ;
return Result_139061;
}
N_NIMCALL(void, Addgenericparamlisttoscope_140581)(TY104012* C_140583, TY51526* N_140584) {
NI I_140602;
NI HEX3Atmp_143071;
NI LOC4;
NI Res_143073;
TY51526* A_140615;
if (!!(((*N_140584).Kind == ((NU8) 65)))) goto LA2;
Internalerror_43574((*N_140584).Info, ((NimStringDesc*) &TMP193175));
LA2: ;
I_140602 = 0;
HEX3Atmp_143071 = 0;
LOC4 = Sonslen_51804(N_140584);
HEX3Atmp_143071 = (NI32)(LOC4 - 1);
Res_143073 = 0;
Res_143073 = 0;
while (1) {
if (!(Res_143073 <= HEX3Atmp_143071)) goto LA5;
I_140602 = Res_143073;
A_140615 = 0;
A_140615 = (*N_140584).KindU.S6.Sons->data[I_140602];
if (!!(((*A_140615).Kind == ((NU8) 3)))) goto LA7;
Internalerror_43574((*A_140615).Info, ((NimStringDesc*) &TMP193175));
LA7: ;
Adddecl_105114(C_140583, (*A_140615).KindU.S4.Sym);
Res_143073 += 1;
} LA5: ;
}
N_NIMCALL(TY51526*, Evaltemplateargs_122427)(TY104012* C_122429, TY51526* N_122430, TY51548* S_122431) {
TY51526* Result_122432;
NI F_122433;
NI A_122434;
TY51526* Arg_122435;
NI I_122448;
NI HEX3Atmp_123076;
NI Res_123078;
TY51526* LOC14;
Result_122432 = 0;
F_122433 = 0;
A_122434 = 0;
Arg_122435 = 0;
F_122433 = Sonslen_51807((*S_122431).Typ);
switch ((*N_122430).Kind) {
case ((NU8) 21):
case ((NU8) 27):
case ((NU8) 28):
case ((NU8) 29):
case ((NU8) 20):
case ((NU8) 22):
A_122434 = Sonslen_51804(N_122430);
break;
default:
A_122434 = 0;
break;
}
if (!(F_122433 < A_122434)) goto LA2;
Limessage_43569((*N_122430).Info, ((NU8) 130), ((NimStringDesc*) &TMP192933));
LA2: ;
Result_122432 = Copynode_51856(N_122430);
I_122448 = 0;
HEX3Atmp_123076 = 0;
HEX3Atmp_123076 = (NI32)(F_122433 - 1);
Res_123078 = 0;
Res_123078 = 1;
while (1) {
if (!(Res_123078 <= HEX3Atmp_123076)) goto LA4;
I_122448 = Res_123078;
if (!(I_122448 < A_122434)) goto LA6;
Arg_122435 = (*N_122430).KindU.S6.Sons->data[I_122448];
goto LA5;
LA6: ;
Arg_122435 = Copytree_51859((*(*(*(*(*S_122431).Typ).N).KindU.S6.Sons->data[I_122448]).KindU.S4.Sym).Ast);
LA5: ;
if (!(Arg_122435 == NIM_NIL)) goto LA9;
Limessage_43569((*N_122430).Info, ((NU8) 130), ((NimStringDesc*) &TMP192933));
LA9: ;
if (!!(((*(*(*S_122431).Typ).Sons->data[I_122448]).Kind == ((NU8) 8) || (*(*(*S_122431).Typ).Sons->data[I_122448]).Kind == ((NU8) 7) || (*(*(*S_122431).Typ).Sons->data[I_122448]).Kind == ((NU8) 6)))) goto LA12;
LOC14 = 0;
LOC14 = Semexprwithtype_122122(C_122429, Arg_122435, 0);
Arg_122435 = Fitnode_122129(C_122429, (*(*S_122431).Typ).Sons->data[I_122448], LOC14);
LA12: ;
Addson_51824(Result_122432, Arg_122435);
Res_123078 += 1;
} LA4: ;
return Result_122432;
}
N_NIMCALL(TY51526*, Evaltemplateaux_122339)(TY104012* C_122341, TY51526* Templ_122342, TY51526* Actual_122343, TY51548* Sym_122344) {
TY51526* Result_122345;
TY51548* P_122346;
NIM_BOOL LOC5;
NI LOC9;
NI I_122401;
NI HEX3Atmp_123073;
NI LOC10;
NI Res_123075;
Result_122345 = 0;
P_122346 = 0;
if (!(Templ_122342 == NIM_NIL)) goto LA2;
Result_122345 = NIM_NIL;
goto BeforeRet;
LA2: ;
switch ((*Templ_122342).Kind) {
case ((NU8) 3):
P_122346 = (*Templ_122342).KindU.S4.Sym;
LOC5 = ((*P_122346).Kind == ((NU8) 3));
if (!(LOC5)) goto LA6;
LOC5 = ((*(*P_122346).Owner).Sup.Id == (*Sym_122344).Sup.Id);
LA6: ;
if (!LOC5) goto LA7;
Result_122345 = Copytree_51859((*Actual_122343).KindU.S6.Sons->data[(*P_122346).Position]);
goto LA4;
LA7: ;
Result_122345 = Copynode_51856(Templ_122342);
LA4: ;
break;
case ((NU8) 0) ... ((NU8) 2):
case ((NU8) 4) ... ((NU8) 18):
Result_122345 = Copynode_51856(Templ_122342);
break;
default:
Result_122345 = Copynode_51856(Templ_122342);
LOC9 = Sonslen_51804(Templ_122342);
Newsons_51816(Result_122345, LOC9);
I_122401 = 0;
HEX3Atmp_123073 = 0;
LOC10 = Sonslen_51804(Templ_122342);
HEX3Atmp_123073 = (NI32)(LOC10 - 1);
Res_123075 = 0;
Res_123075 = 0;
while (1) {
if (!(Res_123075 <= HEX3Atmp_123073)) goto LA11;
I_122401 = Res_123075;
asgnRefNoCycle((void**) &(*Result_122345).KindU.S6.Sons->data[I_122401], Evaltemplateaux_122339(C_122341, (*Templ_122342).KindU.S6.Sons->data[I_122401], Actual_122343, Sym_122344));
Res_123075 += 1;
} LA11: ;
break;
}
BeforeRet: ;
return Result_122345;
}
N_NIMCALL(TY51526*, Evaltemplate_122512)(TY104012* C_122514, TY51526* N_122515, TY51548* Sym_122516) {
TY51526* Result_122517;
TY51526* Args_122518;
Result_122517 = 0;
Args_122518 = 0;
Evaltemplatecounter_122426 += 1;
if (!(100 < Evaltemplatecounter_122426)) goto LA2;
Limessage_43569((*N_122515).Info, ((NU8) 180), ((NimStringDesc*) &TMP192933));
LA2: ;
Args_122518 = Evaltemplateargs_122427(C_122514, N_122515, Sym_122516);
Result_122517 = Evaltemplateaux_122339(C_122514, (*(*Sym_122516).Ast).KindU.S6.Sons->data[4], Args_122518, Sym_122516);
Evaltemplatecounter_122426 -= 1;
return Result_122517;
}
N_NIMCALL(TY51526*, Semtemplateexpr_130037)(TY104012* C_130039, TY51526* N_130040, TY51548* S_130041, NIM_BOOL Semcheck_130042) {
TY51526* Result_130043;
Result_130043 = 0;
Markused_122065(N_130040, S_130041);
Pushinfocontext_43613((*N_130040).Info);
Result_130043 = Evaltemplate_122512(C_130039, N_130040, S_130041);
if (!Semcheck_130042) goto LA2;
Result_130043 = Semaftermacrocall_122246(C_130039, Result_130043, S_130041);
LA2: ;
Popinfocontext_43616();
return Result_130043;
}
N_NIMCALL(TY51526*, Semgenericstmtsymbol_136135)(TY104012* C_136137, TY51526* N_136138, TY51548* S_136139) {
TY51526* Result_136140;
NIM_BOOL LOC2;
Result_136140 = 0;
(*S_136139).Flags |=(1<<((NI32)(((NU8) 0))%(sizeof(NI32)*8)));
switch ((*S_136139).Kind) {
case ((NU8) 0):
Result_136140 = N_136138;
break;
case ((NU8) 10):
case ((NU8) 11):
case ((NU8) 12):
case ((NU8) 13):
Result_136140 = Symchoice_122559(C_136137, N_136138, S_136139);
break;
case ((NU8) 15):
Result_136140 = Semtemplateexpr_130037(C_136137, N_136138, S_136139, NIM_FALSE);
break;
case ((NU8) 14):
Result_136140 = Semmacroexpr_123085(C_136137, N_136138, S_136139, NIM_FALSE);
break;
case ((NU8) 4):
Result_136140 = Newsymnode_51735(S_136139);
break;
case ((NU8) 3):
Result_136140 = N_136138;
break;
case ((NU8) 7):
LOC2 = !(((*S_136139).Typ == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC2 = !(((*(*S_136139).Typ).Kind == ((NU8) 12)));
LA3: ;
if (!LOC2) goto LA4;
Result_136140 = Newsymnode_51735(S_136139);
goto LA1;
LA4: ;
Result_136140 = N_136138;
LA1: ;
break;
default:
Result_136140 = Newsymnode_51735(S_136139);
break;
}
return Result_136140;
}
N_NIMCALL(NIM_BOOL, Iscallexpr_135494)(TY51526* N_135496) {
NIM_BOOL Result_135497;
Result_135497 = 0;
Result_135497 = ((*N_135496).Kind == ((NU8) 21) || (*N_135496).Kind == ((NU8) 27) || (*N_135496).Kind == ((NU8) 28) || (*N_135496).Kind == ((NU8) 29) || (*N_135496).Kind == ((NU8) 20) || (*N_135496).Kind == ((NU8) 22));
return Result_135497;
}
N_NIMCALL(TY51526*, Semmacrostmt_135510)(TY104012* C_135512, TY51526* N_135513, NIM_BOOL Semcheck_135514) {
TY51526* Result_135515;
TY51526* A_135516;
NIM_BOOL LOC2;
TY51548* S_135566;
NIM_BOOL LOC9;
NI I_135610;
NI HEX3Atmp_142969;
NI LOC12;
NI Res_142971;
NI I_135643;
NI HEX3Atmp_142972;
NI LOC14;
NI Res_142974;
NimStringDesc* LOC16;
Result_135515 = 0;
Checkminsonslen_104103(N_135513, 2);
A_135516 = 0;
LOC2 = Iscallexpr_135494((*N_135513).KindU.S6.Sons->data[0]);
if (!LOC2) goto LA3;
A_135516 = (*(*N_135513).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[0];
goto LA1;
LA3: ;
A_135516 = (*N_135513).KindU.S6.Sons->data[0];
LA1: ;
S_135566 = 0;
S_135566 = Qualifiedlookup_105322(C_135512, A_135516, 2);
if (!!((S_135566 == NIM_NIL))) goto LA6;
switch ((*S_135566).Kind) {
case ((NU8) 14):
Result_135515 = Semmacroexpr_123085(C_135512, N_135513, S_135566, Semcheck_135514);
break;
case ((NU8) 15):
Result_135515 = Newnodei_51738(((NU8) 21), (*N_135513).Info);
Addson_51824(Result_135515, A_135516);
LOC9 = Iscallexpr_135494((*N_135513).KindU.S6.Sons->data[0]);
if (!LOC9) goto LA10;
I_135610 = 0;
HEX3Atmp_142969 = 0;
LOC12 = Sonslen_51804((*N_135513).KindU.S6.Sons->data[0]);
HEX3Atmp_142969 = (NI32)(LOC12 - 1);
Res_142971 = 0;
Res_142971 = 1;
while (1) {
if (!(Res_142971 <= HEX3Atmp_142969)) goto LA13;
I_135610 = Res_142971;
Addson_51824(Result_135515, (*(*N_135513).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[I_135610]);
Res_142971 += 1;
} LA13: ;
LA10: ;
I_135643 = 0;
HEX3Atmp_142972 = 0;
LOC14 = Sonslen_51804(N_135513);
HEX3Atmp_142972 = (NI32)(LOC14 - 1);
Res_142974 = 0;
Res_142974 = 1;
while (1) {
if (!(Res_142974 <= HEX3Atmp_142972)) goto LA15;
I_135643 = Res_142974;
Addson_51824(Result_135515, (*N_135513).KindU.S6.Sons->data[I_135643]);
Res_142974 += 1;
} LA15: ;
Result_135515 = Semtemplateexpr_130037(C_135512, Result_135515, S_135566, Semcheck_135514);
break;
default:
Limessage_43569((*N_135513).Info, ((NU8) 205), (*(*S_135566).Name).S);
break;
}
goto LA5;
LA6: ;
LOC16 = 0;
LOC16 = Rendertree_82042(A_135516, 4);
Limessage_43569((*N_135513).Info, ((NU8) 166), LOC16);
LA5: ;
return Result_135515;
}
N_NIMCALL(TY51526*, Getidentnode_136173)(TY51526* N_136175) {
TY51526* Result_136176;
Result_136176 = 0;
switch ((*N_136175).Kind) {
case ((NU8) 29):
Result_136176 = Getidentnode_136173((*N_136175).KindU.S6.Sons->data[1]);
break;
case ((NU8) 34):
case ((NU8) 43):
Result_136176 = Getidentnode_136173((*N_136175).KindU.S6.Sons->data[0]);
break;
case ((NU8) 2):
Result_136176 = N_136175;
break;
default:
Illformedast_104092(N_136175);
Result_136176 = NIM_NIL;
break;
}
return Result_136176;
}
N_NIMCALL(TY51526*, Semgenericstmt_136118)(TY104012* C_136120, TY51526* N_136121, NU8 Flags_136124) {
TY51526* Result_136208;
NI L_136209;
TY51526* A_136210;
TY51548* S_136234;
TY51548* S_136282;
TY51548* S_136321;
NIM_BOOL LOC20;
NI I_136433;
NI HEX3Atmp_142975;
NI LOC24;
NI Res_142977;
NI I_136466;
NI HEX3Atmp_142978;
NI LOC26;
NI Res_142980;
NI I_136500;
NI HEX3Atmp_142981;
NI LOC28;
NI Res_142983;
NI I_136559;
NI HEX3Atmp_142987;
NI LOC30;
NI Res_142989;
NI J_136580;
NI HEX3Atmp_142984;
NI Res_142986;
NI I_136663;
NI HEX3Atmp_142990;
NI Res_142992;
TY51548* LOC34;
TY51548* LOC38;
NI I_136794;
NI HEX3Atmp_142996;
NI LOC39;
NI Res_142998;
NI J_136815;
NI HEX3Atmp_142993;
NI Res_142995;
NI I_136873;
NI HEX3Atmp_143003;
NI LOC42;
NI Res_143005;
NIM_BOOL LOC49;
NI J_136970;
NI HEX3Atmp_143000;
NI Res_143002;
TY51526* LOC54;
TY51548* LOC55;
NI I_136991;
NI HEX3Atmp_143009;
NI LOC56;
NI Res_143011;
NI J_137046;
NI HEX3Atmp_143006;
NI Res_143008;
TY51526* LOC62;
TY51548* LOC63;
NI I_137067;
NI HEX3Atmp_143013;
NI LOC64;
NI Res_143015;
TY51526* LOC73;
TY51548* LOC74;
NI I_137167;
NI HEX3Atmp_143017;
NI LOC75;
NI Res_143019;
TY51526* LOC84;
TY51548* LOC85;
NI I_137218;
NI HEX3Atmp_143021;
NI LOC86;
NI Res_143023;
NI I_137404;
NI HEX3Atmp_143024;
NI LOC101;
NI Res_143026;
TY51526* LOC103;
TY51548* LOC104;
NI I_137521;
NI HEX3Atmp_143030;
NI LOC108;
NI Res_143032;
NI J_137600;
NI HEX3Atmp_143027;
NI Res_143029;
TY51526* LOC114;
TY51548* LOC115;
TY51526* LOC116;
TY51548* LOC117;
TY50011* LOC124;
TY51548* LOC125;
NI I_137789;
NI HEX3Atmp_143033;
NI LOC126;
NI Res_143035;
Result_136208 = 0;
L_136209 = 0;
A_136210 = 0;
Result_136208 = N_136121;
if (!(N_136121 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*N_136121).Kind) {
case ((NU8) 2):
S_136234 = 0;
S_136234 = Symtabget_56116((*C_136120).Tab, (*N_136121).KindU.S5.Ident);
if (!(S_136234 == NIM_NIL)) goto LA5;
if (!((Flags_136124 &(1<<((((NU8) 0))&7)))!=0)) goto LA8;
Limessage_43569((*N_136121).Info, ((NU8) 58), (*(*N_136121).KindU.S5.Ident).S);
LA8: ;
goto LA4;
LA5: ;
if (!((Flags_136124 &(1<<((((NU8) 0))&7)))!=0)) goto LA11;
Result_136208 = Symchoice_122559(C_136120, N_136121, S_136234);
goto LA10;
LA11: ;
Result_136208 = Semgenericstmtsymbol_136135(C_136120, N_136121, S_136234);
LA10: ;
LA4: ;
break;
case ((NU8) 36):
S_136282 = 0;
S_136282 = Qualifiedlookup_105322(C_136120, N_136121, 0);
if (!!((S_136282 == NIM_NIL))) goto LA14;
Result_136208 = Semgenericstmtsymbol_136135(C_136120, N_136121, S_136282);
LA14: ;
break;
case ((NU8) 3) ... ((NU8) 18):
break;
case ((NU8) 45):
Result_136208 = Semgenericstmt_136118(C_136120, (*N_136121).KindU.S6.Sons->data[0], 1);
break;
case ((NU8) 21):
case ((NU8) 49):
case ((NU8) 27):
case ((NU8) 28):
case ((NU8) 20):
case ((NU8) 22):
Checkminsonslen_104103(N_136121, 1);
S_136321 = 0;
S_136321 = Qualifiedlookup_105322(C_136120, (*N_136121).KindU.S6.Sons->data[0], 0);
if (!!((S_136321 == NIM_NIL))) goto LA17;
(*S_136321).Flags |=(1<<((NI32)(((NU8) 0))%(sizeof(NI32)*8)));
switch ((*S_136321).Kind) {
case ((NU8) 14):
Result_136208 = Semmacroexpr_123085(C_136120, N_136121, S_136321, NIM_FALSE);
goto BeforeRet;
break;
case ((NU8) 15):
Result_136208 = Semtemplateexpr_130037(C_136120, N_136121, S_136321, NIM_FALSE);
goto BeforeRet;
break;
case ((NU8) 0):
case ((NU8) 3):
break;
case ((NU8) 10):
case ((NU8) 11):
case ((NU8) 12):
case ((NU8) 13):
asgnRefNoCycle((void**) &(*N_136121).KindU.S6.Sons->data[0], Symchoice_122559(C_136120, (*N_136121).KindU.S6.Sons->data[0], S_136321));
break;
case ((NU8) 4):
asgnRefNoCycle((void**) &(*N_136121).KindU.S6.Sons->data[0], Newsymnode_51735(S_136321));
break;
case ((NU8) 7):
LOC20 = !(((*S_136321).Typ == NIM_NIL));
if (!(LOC20)) goto LA21;
LOC20 = !(((*(*S_136321).Typ).Kind == ((NU8) 12)));
LA21: ;
if (!LOC20) goto LA22;
asgnRefNoCycle((void**) &(*N_136121).KindU.S6.Sons->data[0], Newsymnode_51735(S_136321));
LA22: ;
break;
default:
asgnRefNoCycle((void**) &(*N_136121).KindU.S6.Sons->data[0], Newsymnode_51735(S_136321));
break;
}
LA17: ;
I_136433 = 0;
HEX3Atmp_142975 = 0;
LOC24 = Sonslen_51804(N_136121);
HEX3Atmp_142975 = (NI32)(LOC24 - 1);
Res_142977 = 0;
Res_142977 = 1;
while (1) {
if (!(Res_142977 <= HEX3Atmp_142975)) goto LA25;
I_136433 = Res_142977;
asgnRefNoCycle((void**) &(*N_136121).KindU.S6.Sons->data[I_136433], Semgenericstmt_136118(C_136120, (*N_136121).KindU.S6.Sons->data[I_136433], Flags_136124));
Res_142977 += 1;
} LA25: ;
break;
case ((NU8) 79):
Result_136208 = Semmacrostmt_135510(C_136120, N_136121, NIM_FALSE);
break;
case ((NU8) 82):
I_136466 = 0;
HEX3Atmp_142978 = 0;
LOC26 = Sonslen_51804(N_136121);
HEX3Atmp_142978 = (NI32)(LOC26 - 1);
Res_142980 = 0;
Res_142980 = 0;
while (1) {
if (!(Res_142980 <= HEX3Atmp_142978)) goto LA27;
I_136466 = Res_142980;
asgnRefNoCycle((void**) &(*N_136121).KindU.S6.Sons->data[I_136466], Semgenericstmtscope_136125(C_136120, (*N_136121).KindU.S6.Sons->data[I_136466], 0));
Res_142980 += 1;
} LA27: ;
break;
case ((NU8) 85):
Openscope_56146(&(*C_136120).Tab);
I_136500 = 0;
HEX3Atmp_142981 = 0;
LOC28 = Sonslen_51804(N_136121);
HEX3Atmp_142981 = (NI32)(LOC28 - 1);
Res_142983 = 0;
Res_142983 = 0;
while (1) {
if (!(Res_142983 <= HEX3Atmp_142981)) goto LA29;
I_136500 = Res_142983;
asgnRefNoCycle((void**) &(*N_136121).KindU.S6.Sons->data[I_136500], Semgenericstmt_136118(C_136120, (*N_136121).KindU.S6.Sons->data[I_136500], 0));
Res_142983 += 1;
} LA29: ;
Closescope_105018(&(*C_136120).Tab);
break;
case ((NU8) 86):
Openscope_56146(&(*C_136120).Tab);
asgnRefNoCycle((void**) &(*N_136121).KindU.S6.Sons->data[0], Semgenericstmt_136118(C_136120, (*N_136121).KindU.S6.Sons->data[0], 0));
I_136559 = 0;
HEX3Atmp_142987 = 0;
LOC30 = Sonslen_51804(N_136121);
HEX3Atmp_142987 = (NI32)(LOC30 - 1);
Res_142989 = 0;
Res_142989 = 1;
while (1) {
if (!(Res_142989 <= HEX3Atmp_142987)) goto LA31;
I_136559 = Res_142989;
A_136210 = (*N_136121).KindU.S6.Sons->data[I_136559];
Checkminsonslen_104103(A_136210, 1);
L_136209 = Sonslen_51804(A_136210);
J_136580 = 0;
HEX3Atmp_142984 = 0;
HEX3Atmp_142984 = (NI32)(L_136209 - 2);
Res_142986 = 0;
Res_142986 = 0;
while (1) {
if (!(Res_142986 <= HEX3Atmp_142984)) goto LA32;
J_136580 = Res_142986;
asgnRefNoCycle((void**) &(*A_136210).KindU.S6.Sons->data[J_136580], Semgenericstmt_136118(C_136120, (*A_136210).KindU.S6.Sons->data[J_136580], 0));
Res_142986 += 1;
} LA32: ;
asgnRefNoCycle((void**) &(*A_136210).KindU.S6.Sons->data[(NI32)(L_136209 - 1)], Semgenericstmtscope_136125(C_136120, (*A_136210).KindU.S6.Sons->data[(NI32)(L_136209 - 1)], 0));
Res_142989 += 1;
} LA31: ;
Closescope_105018(&(*C_136120).Tab);
break;
case ((NU8) 84):
L_136209 = Sonslen_51804(N_136121);
Openscope_56146(&(*C_136120).Tab);
asgnRefNoCycle((void**) &(*N_136121).KindU.S6.Sons->data[(NI32)(L_136209 - 2)], Semgenericstmt_136118(C_136120, (*N_136121).KindU.S6.Sons->data[(NI32)(L_136209 - 2)], 0));
I_136663 = 0;
HEX3Atmp_142990 = 0;
HEX3Atmp_142990 = (NI32)(L_136209 - 3);
Res_142992 = 0;
Res_142992 = 0;
while (1) {
if (!(Res_142992 <= HEX3Atmp_142990)) goto LA33;
I_136663 = Res_142992;
LOC34 = 0;
LOC34 = Newsyms_122059(((NU8) 0), (*N_136121).KindU.S6.Sons->data[I_136663], C_136120);
Adddecl_105114(C_136120, LOC34);
Res_142992 += 1;
} LA33: ;
asgnRefNoCycle((void**) &(*N_136121).KindU.S6.Sons->data[(NI32)(L_136209 - 1)], Semgenericstmt_136118(C_136120, (*N_136121).KindU.S6.Sons->data[(NI32)(L_136209 - 1)], 0));
Closescope_105018(&(*C_136120).Tab);
break;
case ((NU8) 99):
case ((NU8) 107):
case ((NU8) 109):
Checksonslen_104099(N_136121, 2);
Openscope_56146(&(*C_136120).Tab);
if (!!(((*N_136121).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA36;
LOC38 = 0;
LOC38 = Newsyms_122059(((NU8) 0), (*N_136121).KindU.S6.Sons->data[0], C_136120);
Adddecl_105114(C_136120, LOC38);
LA36: ;
asgnRefNoCycle((void**) &(*N_136121).KindU.S6.Sons->data[1], Semgenericstmt_136118(C_136120, (*N_136121).KindU.S6.Sons->data[1], 0));
Closescope_105018(&(*C_136120).Tab);
break;
case ((NU8) 93):
Checkminsonslen_104103(N_136121, 2);
asgnRefNoCycle((void**) &(*N_136121).KindU.S6.Sons->data[0], Semgenericstmtscope_136125(C_136120, (*N_136121).KindU.S6.Sons->data[0], 0));
I_136794 = 0;
HEX3Atmp_142996 = 0;
LOC39 = Sonslen_51804(N_136121);
HEX3Atmp_142996 = (NI32)(LOC39 - 1);
Res_142998 = 0;
Res_142998 = 1;
while (1) {
if (!(Res_142998 <= HEX3Atmp_142996)) goto LA40;
I_136794 = Res_142998;
A_136210 = (*N_136121).KindU.S6.Sons->data[I_136794];
Checkminsonslen_104103(A_136210, 1);
L_136209 = Sonslen_51804(A_136210);
J_136815 = 0;
HEX3Atmp_142993 = 0;
HEX3Atmp_142993 = (NI32)(L_136209 - 2);
Res_142995 = 0;
Res_142995 = 0;
while (1) {
if (!(Res_142995 <= HEX3Atmp_142993)) goto LA41;
J_136815 = Res_142995;
asgnRefNoCycle((void**) &(*A_136210).KindU.S6.Sons->data[J_136815], Semgenericstmt_136118(C_136120, (*A_136210).KindU.S6.Sons->data[J_136815], 2));
Res_142995 += 1;
} LA41: ;
asgnRefNoCycle((void**) &(*A_136210).KindU.S6.Sons->data[(NI32)(L_136209 - 1)], Semgenericstmtscope_136125(C_136120, (*A_136210).KindU.S6.Sons->data[(NI32)(L_136209 - 1)], 0));
Res_142998 += 1;
} LA40: ;
break;
case ((NU8) 87):
I_136873 = 0;
HEX3Atmp_143003 = 0;
LOC42 = Sonslen_51804(N_136121);
HEX3Atmp_143003 = (NI32)(LOC42 - 1);
Res_143005 = 0;
Res_143005 = 0;
while (1) {
if (!(Res_143005 <= HEX3Atmp_143003)) goto LA43;
I_136873 = Res_143005;
A_136210 = (*N_136121).KindU.S6.Sons->data[I_136873];
if (!((*A_136210).Kind == ((NU8) 105))) goto LA46;
goto LA44;
LA46: ;
LOC49 = !(((*A_136210).Kind == ((NU8) 25)));
if (!(LOC49)) goto LA50;
LOC49 = !(((*A_136210).Kind == ((NU8) 26)));
LA50: ;
if (!LOC49) goto LA51;
Illformedast_104092(A_136210);
LA51: ;
Checkminsonslen_104103(A_136210, 3);
L_136209 = Sonslen_51804(A_136210);
asgnRefNoCycle((void**) &(*A_136210).KindU.S6.Sons->data[(NI32)(L_136209 - 2)], Semgenericstmt_136118(C_136120, (*A_136210).KindU.S6.Sons->data[(NI32)(L_136209 - 2)], 2));
asgnRefNoCycle((void**) &(*A_136210).KindU.S6.Sons->data[(NI32)(L_136209 - 1)], Semgenericstmt_136118(C_136120, (*A_136210).KindU.S6.Sons->data[(NI32)(L_136209 - 1)], 0));
J_136970 = 0;
HEX3Atmp_143000 = 0;
HEX3Atmp_143000 = (NI32)(L_136209 - 3);
Res_143002 = 0;
Res_143002 = 0;
while (1) {
if (!(Res_143002 <= HEX3Atmp_143000)) goto LA53;
J_136970 = Res_143002;
LOC54 = 0;
LOC54 = Getidentnode_136173((*A_136210).KindU.S6.Sons->data[J_136970]);
LOC55 = 0;
LOC55 = Newsyms_122059(((NU8) 0), LOC54, C_136120);
Adddecl_105114(C_136120, LOC55);
Res_143002 += 1;
} LA53: ;
LA44: ;
Res_143005 += 1;
} LA43: ;
break;
case ((NU8) 65):
I_136991 = 0;
HEX3Atmp_143009 = 0;
LOC56 = Sonslen_51804(N_136121);
HEX3Atmp_143009 = (NI32)(LOC56 - 1);
Res_143011 = 0;
Res_143011 = 0;
while (1) {
if (!(Res_143011 <= HEX3Atmp_143009)) goto LA57;
I_136991 = Res_143011;
A_136210 = (*N_136121).KindU.S6.Sons->data[I_136991];
if (!!(((*A_136210).Kind == ((NU8) 25)))) goto LA59;
Illformedast_104092(A_136210);
LA59: ;
Checkminsonslen_104103(A_136210, 3);
L_136209 = Sonslen_51804(A_136210);
asgnRefNoCycle((void**) &(*A_136210).KindU.S6.Sons->data[(NI32)(L_136209 - 2)], Semgenericstmt_136118(C_136120, (*A_136210).KindU.S6.Sons->data[(NI32)(L_136209 - 2)], 2));
J_137046 = 0;
HEX3Atmp_143006 = 0;
HEX3Atmp_143006 = (NI32)(L_136209 - 3);
Res_143008 = 0;
Res_143008 = 0;
while (1) {
if (!(Res_143008 <= HEX3Atmp_143006)) goto LA61;
J_137046 = Res_143008;
LOC62 = 0;
LOC62 = Getidentnode_136173((*A_136210).KindU.S6.Sons->data[J_137046]);
LOC63 = 0;
LOC63 = Newsyms_122059(((NU8) 0), LOC62, C_136120);
Adddecl_105114(C_136120, LOC63);
Res_143008 += 1;
} LA61: ;
Res_143011 += 1;
} LA57: ;
break;
case ((NU8) 88):
I_137067 = 0;
HEX3Atmp_143013 = 0;
LOC64 = Sonslen_51804(N_136121);
HEX3Atmp_143013 = (NI32)(LOC64 - 1);
Res_143015 = 0;
Res_143015 = 0;
while (1) {
if (!(Res_143015 <= HEX3Atmp_143013)) goto LA65;
I_137067 = Res_143015;
A_136210 = (*N_136121).KindU.S6.Sons->data[I_137067];
if (!((*A_136210).Kind == ((NU8) 105))) goto LA68;
goto LA66;
LA68: ;
if (!!(((*A_136210).Kind == ((NU8) 89)))) goto LA71;
Illformedast_104092(A_136210);
LA71: ;
Checksonslen_104099(A_136210, 3);
LOC73 = 0;
LOC73 = Getidentnode_136173((*A_136210).KindU.S6.Sons->data[0]);
LOC74 = 0;
LOC74 = Newsyms_122059(((NU8) 0), LOC73, C_136120);
Adddecl_105114(C_136120, LOC74);
asgnRefNoCycle((void**) &(*A_136210).KindU.S6.Sons->data[1], Semgenericstmt_136118(C_136120, (*A_136210).KindU.S6.Sons->data[1], 2));
asgnRefNoCycle((void**) &(*A_136210).KindU.S6.Sons->data[2], Semgenericstmt_136118(C_136120, (*A_136210).KindU.S6.Sons->data[2], 0));
LA66: ;
Res_143015 += 1;
} LA65: ;
break;
case ((NU8) 90):
I_137167 = 0;
HEX3Atmp_143017 = 0;
LOC75 = Sonslen_51804(N_136121);
HEX3Atmp_143017 = (NI32)(LOC75 - 1);
Res_143019 = 0;
Res_143019 = 0;
while (1) {
if (!(Res_143019 <= HEX3Atmp_143017)) goto LA76;
I_137167 = Res_143019;
A_136210 = (*N_136121).KindU.S6.Sons->data[I_137167];
if (!((*A_136210).Kind == ((NU8) 105))) goto LA79;
goto LA77;
LA79: ;
if (!!(((*A_136210).Kind == ((NU8) 91)))) goto LA82;
Illformedast_104092(A_136210);
LA82: ;
Checksonslen_104099(A_136210, 3);
LOC84 = 0;
LOC84 = Getidentnode_136173((*A_136210).KindU.S6.Sons->data[0]);
LOC85 = 0;
LOC85 = Newsyms_122059(((NU8) 0), LOC84, C_136120);
Adddecl_105114(C_136120, LOC85);
LA77: ;
Res_143019 += 1;
} LA76: ;
I_137218 = 0;
HEX3Atmp_143021 = 0;
LOC86 = Sonslen_51804(N_136121);
HEX3Atmp_143021 = (NI32)(LOC86 - 1);
Res_143023 = 0;
Res_143023 = 0;
while (1) {
if (!(Res_143023 <= HEX3Atmp_143021)) goto LA87;
I_137218 = Res_143023;
A_136210 = (*N_136121).KindU.S6.Sons->data[I_137218];
if (!((*A_136210).Kind == ((NU8) 105))) goto LA90;
goto LA88;
LA90: ;
if (!!(((*A_136210).Kind == ((NU8) 91)))) goto LA93;
Illformedast_104092(A_136210);
LA93: ;
Checksonslen_104099(A_136210, 3);
if (!!(((*A_136210).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA96;
Openscope_56146(&(*C_136120).Tab);
asgnRefNoCycle((void**) &(*A_136210).KindU.S6.Sons->data[1], Semgenericstmt_136118(C_136120, (*A_136210).KindU.S6.Sons->data[1], 0));
asgnRefNoCycle((void**) &(*A_136210).KindU.S6.Sons->data[2], Semgenericstmt_136118(C_136120, (*A_136210).KindU.S6.Sons->data[2], 2));
Closescope_105018(&(*C_136120).Tab);
goto LA95;
LA96: ;
asgnRefNoCycle((void**) &(*A_136210).KindU.S6.Sons->data[2], Semgenericstmt_136118(C_136120, (*A_136210).KindU.S6.Sons->data[2], 2));
LA95: ;
LA88: ;
Res_143023 += 1;
} LA87: ;
break;
case ((NU8) 121):
Checkminsonslen_104103(N_136121, 1);
if (!!(((*N_136121).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA99;
asgnRefNoCycle((void**) &(*N_136121).KindU.S6.Sons->data[0], Semgenericstmt_136118(C_136120, (*N_136121).KindU.S6.Sons->data[0], 2));
LA99: ;
I_137404 = 0;
HEX3Atmp_143024 = 0;
LOC101 = Sonslen_51804(N_136121);
HEX3Atmp_143024 = (NI32)(LOC101 - 1);
Res_143026 = 0;
Res_143026 = 1;
while (1) {
if (!(Res_143026 <= HEX3Atmp_143024)) goto LA102;
I_137404 = Res_143026;
switch ((*(*N_136121).KindU.S6.Sons->data[I_137404]).Kind) {
case ((NU8) 122):
A_136210 = (*(*N_136121).KindU.S6.Sons->data[I_137404]).KindU.S6.Sons->data[0];
break;
case ((NU8) 2):
A_136210 = (*N_136121).KindU.S6.Sons->data[I_137404];
break;
default:
Illformedast_104092(N_136121);
break;
}
LOC103 = 0;
LOC103 = Getidentnode_136173((*A_136210).KindU.S6.Sons->data[I_137404]);
LOC104 = 0;
LOC104 = Newsyms_122059(((NU8) 0), LOC103, C_136120);
Adddeclat_105128(C_136120, LOC104, ((NI) ((NI32)(((NI) ((*C_136120).Tab.Tos)) - 1))));
Res_143026 += 1;
} LA102: ;
break;
case ((NU8) 111):
case ((NU8) 112):
break;
case ((NU8) 66):
Checkminsonslen_104103(N_136121, 1);
if (!!(((*N_136121).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA106;
asgnRefNoCycle((void**) &(*N_136121).KindU.S6.Sons->data[0], Semgenericstmt_136118(C_136120, (*N_136121).KindU.S6.Sons->data[0], 2));
LA106: ;
I_137521 = 0;
HEX3Atmp_143030 = 0;
LOC108 = Sonslen_51804(N_136121);
HEX3Atmp_143030 = (NI32)(LOC108 - 1);
Res_143032 = 0;
Res_143032 = 1;
while (1) {
if (!(Res_143032 <= HEX3Atmp_143030)) goto LA109;
I_137521 = Res_143032;
A_136210 = (*N_136121).KindU.S6.Sons->data[I_137521];
if (!!(((*A_136210).Kind == ((NU8) 25)))) goto LA111;
Illformedast_104092(A_136210);
LA111: ;
Checkminsonslen_104103(A_136210, 3);
L_136209 = Sonslen_51804(A_136210);
asgnRefNoCycle((void**) &(*A_136210).KindU.S6.Sons->data[(NI32)(L_136209 - 1)], Semgenericstmt_136118(C_136120, (*A_136210).KindU.S6.Sons->data[(NI32)(L_136209 - 2)], 2));
asgnRefNoCycle((void**) &(*A_136210).KindU.S6.Sons->data[(NI32)(L_136209 - 1)], Semgenericstmt_136118(C_136120, (*A_136210).KindU.S6.Sons->data[(NI32)(L_136209 - 1)], 0));
J_137600 = 0;
HEX3Atmp_143027 = 0;
HEX3Atmp_143027 = (NI32)(L_136209 - 3);
Res_143029 = 0;
Res_143029 = 0;
while (1) {
if (!(Res_143029 <= HEX3Atmp_143027)) goto LA113;
J_137600 = Res_143029;
LOC114 = 0;
LOC114 = Getidentnode_136173((*A_136210).KindU.S6.Sons->data[J_137600]);
LOC115 = 0;
LOC115 = Newsyms_122059(((NU8) 0), LOC114, C_136120);
Adddecl_105114(C_136120, LOC115);
Res_143029 += 1;
} LA113: ;
Res_143032 += 1;
} LA109: ;
break;
case ((NU8) 69):
case ((NU8) 70):
case ((NU8) 71):
case ((NU8) 72):
case ((NU8) 73):
case ((NU8) 74):
case ((NU8) 42):
Checksonslen_104099(N_136121, 5);
LOC116 = 0;
LOC116 = Getidentnode_136173((*N_136121).KindU.S6.Sons->data[0]);
LOC117 = 0;
LOC117 = Newsyms_122059(((NU8) 0), LOC116, C_136120);
Adddecl_105114(C_136120, LOC117);
Openscope_56146(&(*C_136120).Tab);
asgnRefNoCycle((void**) &(*N_136121).KindU.S6.Sons->data[1], Semgenericstmt_136118(C_136120, (*N_136121).KindU.S6.Sons->data[1], 0));
if (!!(((*N_136121).KindU.S6.Sons->data[2] == NIM_NIL))) goto LA119;
if (!!(((*(*N_136121).KindU.S6.Sons->data[2]).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA122;
LOC124 = 0;
LOC124 = Getident_50016(((NimStringDesc*) &TMP193127));
LOC125 = 0;
LOC125 = Newsym_51702(((NU8) 0), LOC124, NIM_NIL);
Adddecl_105114(C_136120, LOC125);
LA122: ;
asgnRefNoCycle((void**) &(*N_136121).KindU.S6.Sons->data[2], Semgenericstmt_136118(C_136120, (*N_136121).KindU.S6.Sons->data[2], 0));
LA119: ;
asgnRefNoCycle((void**) &(*N_136121).KindU.S6.Sons->data[3], Semgenericstmt_136118(C_136120, (*N_136121).KindU.S6.Sons->data[3], 0));
asgnRefNoCycle((void**) &(*N_136121).KindU.S6.Sons->data[4], Semgenericstmtscope_136125(C_136120, (*N_136121).KindU.S6.Sons->data[4], 0));
Closescope_105018(&(*C_136120).Tab);
break;
default:
I_137789 = 0;
HEX3Atmp_143033 = 0;
LOC126 = Sonslen_51804(N_136121);
HEX3Atmp_143033 = (NI32)(LOC126 - 1);
Res_143035 = 0;
Res_143035 = 0;
while (1) {
if (!(Res_143035 <= HEX3Atmp_143033)) goto LA127;
I_137789 = Res_143035;
asgnRefNoCycle((void**) &(*Result_136208).KindU.S6.Sons->data[I_137789], Semgenericstmt_136118(C_136120, (*N_136121).KindU.S6.Sons->data[I_137789], Flags_136124));
Res_143035 += 1;
} LA127: ;
break;
}
BeforeRet: ;
return Result_136208;
}
N_NIMCALL(TY51526*, Semgenericstmtscope_136125)(TY104012* C_136127, TY51526* N_136128, NU8 Flags_136131) {
TY51526* Result_136132;
Result_136132 = 0;
Openscope_56146(&(*C_136127).Tab);
Result_136132 = Semgenericstmt_136118(C_136127, N_136128, Flags_136131);
Closescope_105018(&(*C_136127).Tab);
return Result_136132;
}
N_NIMCALL(void, Semborrow_141315)(TY104012* C_141317, TY51526* N_141318, TY51548* S_141319) {
TY51548* B_141320;
B_141320 = 0;
B_141320 = Searchforborrowproc_118009(C_141317, S_141319, (NI32)(((NI) ((*C_141317).Tab.Tos)) - 2));
if (!(B_141320 == NIM_NIL)) goto LA2;
Limessage_43569((*N_141318).Info, ((NU8) 136), ((NimStringDesc*) &TMP192933));
LA2: ;
asgnRefNoCycle((void**) &(*N_141318).KindU.S6.Sons->data[4], Newsymnode_51735(B_141320));
}
N_NIMCALL(void, Sideeffectscheck_141344)(TY104012* C_141346, TY51548* S_141347) {
if (!((24576 & (*S_141347).Flags) == 24576)) goto LA2;
Limessage_43569((*S_141347).Info, ((NU8) 206), (*(*S_141347).Name).S);
LA2: ;
}
N_NIMCALL(TY51526*, Semprocaux_141609)(TY104012* C_141611, TY51526* N_141612, NU8 Kind_141613, TY119007 Validpragmas_141614) {
TY51526* Result_141615;
TY51548* S_141616;
TY51548* Proto_141617;
TY51526* Gp_141618;
TY104006* Oldp_141679;
NI LOC14;
TY104002* LOC26;
NIM_BOOL LOC55;
NIM_BOOL LOC63;
NIM_BOOL LOC68;
TY50011* LOC72;
TY51548* LOC73;
Result_141615 = 0;
S_141616 = 0;
Proto_141617 = 0;
Gp_141618 = 0;
Result_141615 = N_141612;
Checksonslen_104099(N_141612, 5);
if (!((*(*(*C_141611).P).Owner).Kind == ((NU8) 6))) goto LA2;
S_141616 = Semidentvis_122092(C_141611, Kind_141613, (*N_141612).KindU.S6.Sons->data[0], 2);
(*S_141616).Flags |=(1<<((NI32)(((NU8) 5))%(sizeof(NI32)*8)));
goto LA1;
LA2: ;
S_141616 = Semidentvis_122092(C_141611, Kind_141613, (*N_141612).KindU.S6.Sons->data[0], 0);
LA1: ;
asgnRefNoCycle((void**) &(*N_141612).KindU.S6.Sons->data[0], Newsymnode_51735(S_141616));
Oldp_141679 = 0;
Oldp_141679 = (*C_141611).P;
if (!(((*S_141616).Flags &(1<<((((NU8) 1))&31)))!=0)) goto LA5;
(*S_141616).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
LA5: ;
asgnRefNoCycle((void**) &(*S_141616).Ast, N_141612);
Pushowner_104109(S_141616);
Openscope_56146(&(*C_141611).Tab);
if (!!(((*N_141612).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA8;
asgnRefNoCycle((void**) &(*N_141612).KindU.S6.Sons->data[1], Semgenericparamlist_140409(C_141611, (*N_141612).KindU.S6.Sons->data[1], NIM_NIL));
Gp_141618 = (*N_141612).KindU.S6.Sons->data[1];
goto LA7;
LA8: ;
Gp_141618 = Newnodei_51738(((NU8) 65), (*N_141612).Info);
LA7: ;
if (!!(((*N_141612).KindU.S6.Sons->data[2] == NIM_NIL))) goto LA11;
Semparamlist_122147(C_141611, (*N_141612).KindU.S6.Sons->data[2], Gp_141618, S_141616);
LOC14 = Sonslen_51804(Gp_141618);
if (!(0 < LOC14)) goto LA15;
if (!((*N_141612).KindU.S6.Sons->data[1] == NIM_NIL)) goto LA18;
asgnRefNoCycle((void**) &(*N_141612).KindU.S6.Sons->data[1], Gp_141618);
Semparamlist_122147(C_141611, (*N_141612).KindU.S6.Sons->data[2], NIM_NIL, S_141616);
LA18: ;
LA15: ;
Addparams_122153(C_141611, (*(*S_141616).Typ).N);
goto LA10;
LA11: ;
asgnRef((void**) &(*S_141616).Typ, Newtypes_104077(((NU8) 25), C_141611));
Addson_51828((*S_141616).Typ, NIM_NIL);
LA10: ;
Proto_141617 = Searchforproc_118004(C_141611, S_141616, (NI32)(((NI) ((*C_141611).Tab.Tos)) - 2));
if (!(Proto_141617 == NIM_NIL)) goto LA21;
if (!!(((*(*Oldp_141679).Owner).Kind == ((NU8) 6)))) goto LA24;
(*(*S_141616).Typ).Callconv = ((NU8) 8);
goto LA23;
LA24: ;
LOC26 = 0;
LOC26 = Lastoptionentry_104053(C_141611);
(*(*S_141616).Typ).Callconv = (*LOC26).Defaultcc;
LA23: ;
if (!((15424 &(1<<((Kind_141613)&31)))!=0)) goto LA28;
Addinterfaceoverloadablesymat_105240(C_141611, S_141616, (NI32)(((NI) ((*C_141611).Tab.Tos)) - 2));
goto LA27;
LA28: ;
Addinterfacedeclat_105191(C_141611, S_141616, ((NI) ((NI32)(((NI) ((*C_141611).Tab.Tos)) - 2))));
LA27: ;
if (!!(((*N_141612).KindU.S6.Sons->data[3] == NIM_NIL))) goto LA31;
Pragma_119028(C_141611, S_141616, (*N_141612).KindU.S6.Sons->data[3], Validpragmas_141614);
LA31: ;
goto LA20;
LA21: ;
if (!!(((*N_141612).KindU.S6.Sons->data[3] == NIM_NIL))) goto LA34;
Limessage_43569((*(*N_141612).KindU.S6.Sons->data[3]).Info, ((NU8) 133), ((NimStringDesc*) &TMP192933));
LA34: ;
if (!!((((*Proto_141617).Flags &(1<<((((NU8) 6))&31)))!=0))) goto LA37;
Limessage_43569((*N_141612).Info, ((NU8) 94), (*(*Proto_141617).Name).S);
LA37: ;
(*Proto_141617).Flags &= ~(1 << ((NI32)(((NU8) 6)) % (sizeof(NI32)*8)));
Closescope_105018(&(*C_141611).Tab);
Openscope_56146(&(*C_141611).Tab);
if (!!(((*(*Proto_141617).Ast).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA40;
Addgenericparamlisttoscope_140581(C_141611, (*(*Proto_141617).Ast).KindU.S6.Sons->data[1]);
LA40: ;
Addparams_122153(C_141611, (*(*Proto_141617).Typ).N);
(*Proto_141617).Info = (*S_141616).Info;
asgnRef((void**) &(*S_141616).Typ, (*Proto_141617).Typ);
S_141616 = Proto_141617;
asgnRefNoCycle((void**) &(*N_141612).KindU.S6.Sons->data[1], (*(*Proto_141617).Ast).KindU.S6.Sons->data[1]);
asgnRefNoCycle((void**) &(*N_141612).KindU.S6.Sons->data[2], (*(*Proto_141617).Ast).KindU.S6.Sons->data[2]);
if (!!(((*(*N_141612).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA43;
Internalerror_43574((*N_141612).Info, ((NimStringDesc*) &TMP193176));
LA43: ;
asgnRef((void**) &(*(*N_141612).KindU.S6.Sons->data[0]).KindU.S4.Sym, Proto_141617);
asgnRefNoCycle((void**) &(*Proto_141617).Ast, N_141612);
Popowner_104112();
Pushowner_104109(S_141616);
LA20: ;
(*S_141616).Options = Goptions_42077;
if (!!(((*N_141612).KindU.S6.Sons->data[4] == NIM_NIL))) goto LA46;
if (!(((*S_141616).Flags &(1<<((((NU8) 29))&31)))!=0)) goto LA49;
Limessage_43569((*(*N_141612).KindU.S6.Sons->data[4]).Info, ((NU8) 134), (*(*S_141616).Name).S);
LA49: ;
if (!((*N_141612).KindU.S6.Sons->data[1] == NIM_NIL)) goto LA52;
asgnRefNoCycle((void**) &(*C_141611).P, Newproccon_104050(S_141616));
LOC55 = !(((*(*S_141616).Typ).Sons->data[0] == NIM_NIL));
if (!(LOC55)) goto LA56;
LOC55 = !((Kind_141613 == ((NU8) 12)));
LA56: ;
if (!LOC55) goto LA57;
Addresult_122157(C_141611, (*(*S_141616).Typ).Sons->data[0], (*N_141612).Info);
LA57: ;
if (!!((((*S_141616).Flags &(1<<((((NU8) 7))&31)))!=0))) goto LA60;
asgnRefNoCycle((void**) &(*N_141612).KindU.S6.Sons->data[4], Semstmtscope_122104(C_141611, (*N_141612).KindU.S6.Sons->data[4]));
LA60: ;
LOC63 = !(((*(*S_141616).Typ).Sons->data[0] == NIM_NIL));
if (!(LOC63)) goto LA64;
LOC63 = !((Kind_141613 == ((NU8) 12)));
LA64: ;
if (!LOC63) goto LA65;
Addresultnode_122162(C_141611, N_141612);
LA65: ;
goto LA51;
LA52: ;
LOC68 = !(((*(*S_141616).Typ).Sons->data[0] == NIM_NIL));
if (!(LOC68)) goto LA69;
LOC68 = !((Kind_141613 == ((NU8) 12)));
LA69: ;
if (!LOC68) goto LA70;
LOC72 = 0;
LOC72 = Getident_50016(((NimStringDesc*) &TMP193127));
LOC73 = 0;
LOC73 = Newsym_51702(((NU8) 0), LOC72, NIM_NIL);
Adddecl_105114(C_141611, LOC73);
LA70: ;
asgnRefNoCycle((void**) &(*N_141612).KindU.S6.Sons->data[4], Semgenericstmtscope_136125(C_141611, (*N_141612).KindU.S6.Sons->data[4], 0));
LA51: ;
if (!(((*S_141616).Flags &(1<<((((NU8) 7))&31)))!=0)) goto LA75;
asgnRefNoCycle((void**) &(*N_141612).KindU.S6.Sons->data[4], NIM_NIL);
LA75: ;
goto LA45;
LA46: ;
if (!!((Proto_141617 == NIM_NIL))) goto LA78;
Limessage_43569((*N_141612).Info, ((NU8) 135), (*(*Proto_141617).Name).S);
LA78: ;
if (!((536871040 & (*S_141616).Flags) == 0)) goto LA81;
(*S_141616).Flags |=(1<<((NI32)(((NU8) 6))%(sizeof(NI32)*8)));
goto LA80;
LA81: ;
if (!(((*S_141616).Flags &(1<<((((NU8) 29))&31)))!=0)) goto LA83;
Semborrow_141315(C_141611, N_141612, S_141616);
goto LA80;
LA83: ;
LA80: ;
LA45: ;
Sideeffectscheck_141344(C_141611, S_141616);
Closescope_105018(&(*C_141611).Tab);
Popowner_104112();
asgnRefNoCycle((void**) &(*C_141611).P, Oldp_141679);
return Result_141615;
}
N_NIMCALL(TY51526*, Semiterator_142373)(TY104012* C_142375, TY51526* N_142376) {
TY51526* Result_142377;
TY51548* S_142402;
TY51552* T_142403;
Result_142377 = 0;
Result_142377 = Semprocaux_141609(C_142375, N_142376, ((NU8) 12), TMP193177);
S_142402 = 0;
S_142402 = (*(*Result_142377).KindU.S6.Sons->data[0]).KindU.S4.Sym;
T_142403 = 0;
T_142403 = (*S_142402).Typ;
if (!((*T_142403).Sons->data[0] == NIM_NIL)) goto LA2;
Limessage_43569((*N_142376).Info, ((NU8) 176), ((NimStringDesc*) &TMP193178));
LA2: ;
if (!((*N_142376).KindU.S6.Sons->data[4] == NIM_NIL)) goto LA5;
Limessage_43569((*N_142376).Info, ((NU8) 135), (*(*S_142402).Name).S);
LA5: ;
return Result_142377;
}
N_NIMCALL(TY51526*, Semproc_142438)(TY104012* C_142440, TY51526* N_142441) {
TY51526* Result_142442;
Result_142442 = 0;
Result_142442 = Semprocaux_141609(C_142440, N_142441, ((NU8) 10), TMP193179);
return Result_142442;
}
N_NIMCALL(NIM_BOOL, Istoplevel_122053)(TY104012* C_122055) {
NIM_BOOL Result_122056;
Result_122056 = 0;
Result_122056 = (((NI) ((*C_122055).Tab.Tos)) <= 2);
return Result_122056;
}
N_NIMCALL(TY51526*, Semmethod_142443)(TY104012* C_142445, TY51526* N_142446) {
TY51526* Result_142447;
NIM_BOOL LOC2;
TY51548* S_142472;
TY51552* T_142473;
NIM_BOOL Hasobjparam_142474;
NI Col_142483;
NI HEX3Atmp_143089;
NI LOC5;
NI Res_143091;
TY51552* LOC8;
Result_142447 = 0;
LOC2 = Istoplevel_122053(C_142445);
if (!!(LOC2)) goto LA3;
Limessage_43569((*N_142446).Info, ((NU8) 178), ((NimStringDesc*) &TMP193180));
LA3: ;
Result_142447 = Semprocaux_141609(C_142445, N_142446, ((NU8) 11), TMP193179);
S_142472 = 0;
S_142472 = (*(*Result_142447).KindU.S6.Sons->data[0]).KindU.S4.Sym;
T_142473 = 0;
T_142473 = (*S_142472).Typ;
Hasobjparam_142474 = 0;
Hasobjparam_142474 = NIM_FALSE;
Col_142483 = 0;
HEX3Atmp_143089 = 0;
LOC5 = Sonslen_51807(T_142473);
HEX3Atmp_143089 = (NI32)(LOC5 - 1);
Res_143091 = 0;
Res_143091 = 1;
while (1) {
if (!(Res_143091 <= HEX3Atmp_143089)) goto LA6;
Col_142483 = Res_143091;
LOC8 = 0;
LOC8 = Skiptypes_94087((*T_142473).Sons->data[Col_142483], 14682112);
if (!((*LOC8).Kind == ((NU8) 17))) goto LA9;
Hasobjparam_142474 = NIM_TRUE;
goto LA6;
LA9: ;
Res_143091 += 1;
} LA6: ;
if (!!(Hasobjparam_142474)) goto LA12;
Limessage_43569((*N_142446).Info, ((NU8) 179), ((NimStringDesc*) &TMP193180));
LA12: ;
return Result_142447;
}
N_NIMCALL(TY51526*, Semconverterdef_142493)(TY104012* C_142495, TY51526* N_142496) {
TY51526* Result_142497;
NIM_BOOL LOC2;
TY51548* S_142545;
TY51552* T_142546;
NI LOC12;
Result_142497 = 0;
LOC2 = Istoplevel_122053(C_142495);
if (!!(LOC2)) goto LA3;
Limessage_43569((*N_142496).Info, ((NU8) 178), ((NimStringDesc*) &TMP193181));
LA3: ;
Checksonslen_104099(N_142496, 5);
if (!!(((*N_142496).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA6;
Limessage_43569((*N_142496).Info, ((NU8) 153), ((NimStringDesc*) &TMP193181));
LA6: ;
Result_142497 = Semprocaux_141609(C_142495, N_142496, ((NU8) 13), TMP193179);
S_142545 = 0;
S_142545 = (*(*Result_142497).KindU.S6.Sons->data[0]).KindU.S4.Sym;
T_142546 = 0;
T_142546 = (*S_142545).Typ;
if (!((*T_142546).Sons->data[0] == NIM_NIL)) goto LA9;
Limessage_43569((*N_142496).Info, ((NU8) 176), ((NimStringDesc*) &TMP193181));
LA9: ;
LOC12 = Sonslen_51807(T_142546);
if (!!((LOC12 == 2))) goto LA13;
Limessage_43569((*N_142496).Info, ((NU8) 202), ((NimStringDesc*) &TMP193181));
LA13: ;
Addconverter_104058(C_142495, S_142545);
return Result_142497;
}
N_NIMCALL(TY51526*, Semmacrodef_142560)(TY104012* C_142562, TY51526* N_142563) {
TY51526* Result_142564;
TY51548* S_142612;
TY51552* T_142613;
NI LOC8;
Result_142564 = 0;
Checksonslen_104099(N_142563, 5);
if (!!(((*N_142563).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA2;
Limessage_43569((*N_142563).Info, ((NU8) 153), ((NimStringDesc*) &TMP193182));
LA2: ;
Result_142564 = Semprocaux_141609(C_142562, N_142563, ((NU8) 14), TMP193183);
S_142612 = 0;
S_142612 = (*(*Result_142564).KindU.S6.Sons->data[0]).KindU.S4.Sym;
T_142613 = 0;
T_142613 = (*S_142612).Typ;
if (!((*T_142613).Sons->data[0] == NIM_NIL)) goto LA5;
Limessage_43569((*N_142563).Info, ((NU8) 176), ((NimStringDesc*) &TMP193182));
LA5: ;
LOC8 = Sonslen_51807(T_142613);
if (!!((LOC8 == 2))) goto LA9;
Limessage_43569((*N_142563).Info, ((NU8) 202), ((NimStringDesc*) &TMP193182));
LA9: ;
if (!((*N_142563).KindU.S6.Sons->data[4] == NIM_NIL)) goto LA12;
Limessage_43569((*N_142563).Info, ((NU8) 135), (*(*S_142612).Name).S);
LA12: ;
return Result_142564;
}
N_NIMCALL(TY51526*, Resolvetemplateparams_122608)(TY104012* C_122610, TY51526* N_122611, NIM_BOOL Withinbind_122612, TY51901* Tobind_122614) {
TY51526* Result_122615;
TY51548* S_122616;
NIM_BOOL LOC5;
NIM_BOOL LOC7;
TY51548* LOC13;
NI I_122695;
NI HEX3Atmp_123079;
NI LOC14;
NI Res_123081;
Result_122615 = 0;
S_122616 = 0;
if (!(N_122611 == NIM_NIL)) goto LA2;
Result_122615 = NIM_NIL;
goto BeforeRet;
LA2: ;
switch ((*N_122611).Kind) {
case ((NU8) 2):
LOC5 = !(Withinbind_122612);
if (!(LOC5)) goto LA6;
LOC7 = Intsetcontains_51911((*Tobind_122614), (*(*N_122611).KindU.S5.Ident).Sup.Id);
LOC5 = !(LOC7);
LA6: ;
if (!LOC5) goto LA8;
S_122616 = Symtablocalget_56120((*C_122610).Tab, (*N_122611).KindU.S5.Ident);
if (!!((S_122616 == NIM_NIL))) goto LA11;
Result_122615 = Newsymnode_51735(S_122616);
(*Result_122615).Info = (*N_122611).Info;
goto LA10;
LA11: ;
Result_122615 = N_122611;
LA10: ;
goto LA4;
LA8: ;
Intsetincl_51915(Tobind_122614, (*(*N_122611).KindU.S5.Ident).Sup.Id);
LOC13 = 0;
LOC13 = Lookup_105245(C_122610, N_122611);
Result_122615 = Symchoice_122559(C_122610, N_122611, LOC13);
LA4: ;
break;
case ((NU8) 3) ... ((NU8) 18):
Result_122615 = N_122611;
break;
case ((NU8) 45):
Result_122615 = Resolvetemplateparams_122608(C_122610, (*N_122611).KindU.S6.Sons->data[0], NIM_TRUE, Tobind_122614);
break;
default:
Result_122615 = N_122611;
I_122695 = 0;
HEX3Atmp_123079 = 0;
LOC14 = Sonslen_51804(N_122611);
HEX3Atmp_123079 = (NI32)(LOC14 - 1);
Res_123081 = 0;
Res_123081 = 0;
while (1) {
if (!(Res_123081 <= HEX3Atmp_123079)) goto LA15;
I_122695 = Res_123081;
asgnRefNoCycle((void**) &(*Result_122615).KindU.S6.Sons->data[I_122695], Resolvetemplateparams_122608(C_122610, (*N_122611).KindU.S6.Sons->data[I_122695], Withinbind_122612, Tobind_122614));
Res_123081 += 1;
} LA15: ;
break;
}
BeforeRet: ;
return Result_122615;
}
N_NIMCALL(TY51526*, Transformtoexpr_122720)(TY51526* N_122722) {
TY51526* Result_122723;
NI Realstmt_122724;
NI I_122733;
NI HEX3Atmp_123082;
NI LOC1;
NI Res_123084;
Result_122723 = 0;
Realstmt_122724 = 0;
Result_122723 = N_122722;
switch ((*N_122722).Kind) {
case ((NU8) 101):
Realstmt_122724 = -1;
I_122733 = 0;
HEX3Atmp_123082 = 0;
LOC1 = Sonslen_51804(N_122722);
HEX3Atmp_123082 = (NI32)(LOC1 - 1);
Res_123084 = 0;
Res_123084 = 0;
while (1) {
if (!(Res_123084 <= HEX3Atmp_123082)) goto LA2;
I_122733 = Res_123084;
switch ((*(*N_122722).KindU.S6.Sons->data[I_122733]).Kind) {
case ((NU8) 105):
case ((NU8) 1):
case ((NU8) 18):
break;
default:
if (!(Realstmt_122724 == -1)) goto LA4;
Realstmt_122724 = I_122733;
goto LA3;
LA4: ;
Realstmt_122724 = -2;
LA3: ;
break;
}
Res_123084 += 1;
} LA2: ;
if (!(0 <= Realstmt_122724)) goto LA7;
Result_122723 = Transformtoexpr_122720((*N_122722).KindU.S6.Sons->data[Realstmt_122724]);
goto LA6;
LA7: ;
(*N_122722).Kind = ((NU8) 106);
LA6: ;
break;
case ((NU8) 99):
(*N_122722).Kind = ((NU8) 107);
break;
default:
break;
}
return Result_122723;
}
N_NIMCALL(TY51526*, Semtemplatedef_122762)(TY104012* C_122764, TY51526* N_122765) {
TY51526* Result_122766;
TY51548* S_122767;
TY51901 Tobind_122768;
TY51552* LOC16;
TY51526* LOC17;
Result_122766 = 0;
S_122767 = 0;
memset((void*)&Tobind_122768, 0, sizeof(Tobind_122768));
if (!((*(*(*C_122764).P).Owner).Kind == ((NU8) 6))) goto LA2;
S_122767 = Semidentvis_122092(C_122764, ((NU8) 15), (*N_122765).KindU.S6.Sons->data[0], 2);
(*S_122767).Flags |=(1<<((NI32)(((NU8) 5))%(sizeof(NI32)*8)));
goto LA1;
LA2: ;
S_122767 = Semidentvis_122092(C_122764, ((NU8) 15), (*N_122765).KindU.S6.Sons->data[0], 0);
LA1: ;
if (!(((*S_122767).Flags &(1<<((((NU8) 1))&31)))!=0)) goto LA5;
(*S_122767).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
LA5: ;
Pushowner_104109(S_122767);
Openscope_56146(&(*C_122764).Tab);
asgnRefNoCycle((void**) &(*N_122765).KindU.S6.Sons->data[0], Newsymnode_51735(S_122767));
if (!!(((*N_122765).KindU.S6.Sons->data[3] == NIM_NIL))) goto LA8;
Limessage_43569((*N_122765).Info, ((NU8) 152), ((NimStringDesc*) &TMP193184));
LA8: ;
if (!!(((*N_122765).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA11;
Limessage_43569((*N_122765).Info, ((NU8) 153), ((NimStringDesc*) &TMP193184));
LA11: ;
if (!((*N_122765).KindU.S6.Sons->data[2] == NIM_NIL)) goto LA14;
asgnRef((void**) &(*S_122767).Typ, Newtypes_104077(((NU8) 25), C_122764));
asgnRefNoCycle((void**) &(*(*S_122767).Typ).N, Newnodei_51738(((NU8) 66), (*N_122765).Info));
LOC16 = 0;
LOC16 = Newtypes_104077(((NU8) 7), C_122764);
Addson_51828((*S_122767).Typ, LOC16);
LOC17 = 0;
LOC17 = Newnodeit_51742(((NU8) 4), (*N_122765).Info, (*(*S_122767).Typ).Sons->data[0]);
Addson_51824((*(*S_122767).Typ).N, LOC17);
goto LA13;
LA14: ;
Semparamlist_122147(C_122764, (*N_122765).KindU.S6.Sons->data[2], NIM_NIL, S_122767);
if (!((*(*N_122765).KindU.S6.Sons->data[2]).KindU.S6.Sons->data[0] == NIM_NIL)) goto LA19;
asgnRef((void**) &(*(*S_122767).Typ).Sons->data[0], Newtypes_104077(((NU8) 7), C_122764));
asgnRefNoCycle((void**) &(*(*(*S_122767).Typ).N).KindU.S6.Sons->data[0], Newnodeit_51742(((NU8) 4), (*N_122765).Info, (*(*S_122767).Typ).Sons->data[0]));
LA19: ;
LA13: ;
Addparams_122153(C_122764, (*(*S_122767).Typ).N);
Intsetinit_51925(&Tobind_122768);
asgnRefNoCycle((void**) &(*N_122765).KindU.S6.Sons->data[4], Resolvetemplateparams_122608(C_122764, (*N_122765).KindU.S6.Sons->data[4], NIM_FALSE, &Tobind_122768));
if (!!(((*(*(*S_122767).Typ).Sons->data[0]).Kind == ((NU8) 7) || (*(*(*S_122767).Typ).Sons->data[0]).Kind == ((NU8) 8)))) goto LA22;
asgnRefNoCycle((void**) &(*N_122765).KindU.S6.Sons->data[4], Transformtoexpr_122720((*N_122765).KindU.S6.Sons->data[4]));
LA22: ;
Closescope_105018(&(*C_122764).Tab);
Popowner_104112();
asgnRefNoCycle((void**) &(*S_122767).Ast, N_122765);
Result_122766 = N_122765;
if (!((*N_122765).KindU.S6.Sons->data[4] == NIM_NIL)) goto LA25;
Limessage_43569((*N_122765).Info, ((NU8) 135), (*(*S_122767).Name).S);
LA25: ;
Addinterfacedecl_105236(C_122764, S_122767);
return Result_122766;
}
N_NIMCALL(TY51526*, Evalinclude_142650)(TY104012* C_142652, TY51526* N_142653) {
TY51526* Result_142654;
NI I_142663;
NI HEX3Atmp_143092;
NI LOC1;
NI Res_143094;
NimStringDesc* F_142676;
NI Fileindex_142677;
NIM_BOOL LOC4;
TY51526* LOC7;
TY51526* LOC8;
Result_142654 = 0;
Result_142654 = Newnodei_51738(((NU8) 101), (*N_142653).Info);
Addson_51824(Result_142654, N_142653);
I_142663 = 0;
HEX3Atmp_143092 = 0;
LOC1 = Sonslen_51804(N_142653);
HEX3Atmp_143092 = (NI32)(LOC1 - 1);
Res_143094 = 0;
Res_143094 = 0;
while (1) {
if (!(Res_143094 <= HEX3Atmp_143092)) goto LA2;
I_142663 = Res_143094;
F_142676 = 0;
F_142676 = Getmodulefile_107013((*N_142653).KindU.S6.Sons->data[I_142663]);
Fileindex_142677 = 0;
Fileindex_142677 = Includefilename_43618(F_142676);
LOC4 = Intsetcontainsorincl_51929(&(*C_142652).Includedfiles, Fileindex_142677);
if (!LOC4) goto LA5;
Limessage_43569((*N_142653).Info, ((NU8) 23), F_142676);
LA5: ;
LOC7 = 0;
LOC7 = Gincludefile_102051(F_142676);
LOC8 = 0;
LOC8 = Semstmt_122143(C_142652, LOC7);
Addson_51824(Result_142654, LOC8);
Intsetexcl_51920(&(*C_142652).Includedfiles, Fileindex_142677);
Res_143094 += 1;
} LA2: ;
return Result_142654;
}
N_NIMCALL(TY51526*, Semstmt_122143)(TY104012* C_122145, TY51526* N_122146) {
TY51526* Result_142689;
NI Length_142714;
NI I_142723;
NI HEX3Atmp_143099;
NI Res_143101;
NI J_142779;
NI HEX3Atmp_143095;
NI HEX3Atmp_143096;
NI Res_143098;
NIM_BOOL LOC13;
NIM_BOOL LOC17;
NIM_BOOL LOC21;
Result_142689 = 0;
Result_142689 = N_122146;
if (!(N_122146 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
if (!(((*N_122146).Flags &(1<<((((NU8) 6))&7)))!=0)) goto LA5;
goto BeforeRet;
LA5: ;
switch ((*N_122146).Kind) {
case ((NU8) 63):
Result_142689 = Semasgn_138705(C_122145, N_122146);
break;
case ((NU8) 21):
case ((NU8) 27):
case ((NU8) 28):
case ((NU8) 29):
case ((NU8) 20):
case ((NU8) 79):
case ((NU8) 22):
Result_142689 = Semcommand_142680(C_122145, N_122146);
break;
case ((NU8) 1):
case ((NU8) 105):
case ((NU8) 18):
break;
case ((NU8) 99):
Result_142689 = Semblock_138266(C_122145, N_122146);
break;
case ((NU8) 101):
Length_142714 = 0;
Length_142714 = Sonslen_51804(N_122146);
I_142723 = 0;
HEX3Atmp_143099 = 0;
HEX3Atmp_143099 = (NI32)(Length_142714 - 1);
Res_143101 = 0;
Res_143101 = 0;
while (1) {
if (!(Res_143101 <= HEX3Atmp_143099)) goto LA7;
I_142723 = Res_143101;
asgnRefNoCycle((void**) &(*N_122146).KindU.S6.Sons->data[I_142723], Semstmt_122143(C_122145, (*N_122146).KindU.S6.Sons->data[I_142723]));
if (!((*(*N_122146).KindU.S6.Sons->data[I_142723]).Kind == ((NU8) 95) || (*(*N_122146).KindU.S6.Sons->data[I_142723]).Kind == ((NU8) 96) || (*(*N_122146).KindU.S6.Sons->data[I_142723]).Kind == ((NU8) 97) || (*(*N_122146).KindU.S6.Sons->data[I_142723]).Kind == ((NU8) 98))) goto LA9;
J_142779 = 0;
HEX3Atmp_143095 = 0;
HEX3Atmp_143096 = 0;
HEX3Atmp_143095 = (NI32)(I_142723 + 1);
HEX3Atmp_143096 = (NI32)(Length_142714 - 1);
Res_143098 = 0;
Res_143098 = HEX3Atmp_143095;
while (1) {
if (!(Res_143098 <= HEX3Atmp_143096)) goto LA11;
J_142779 = Res_143098;
switch ((*(*N_122146).KindU.S6.Sons->data[J_142779]).Kind) {
case ((NU8) 81):
case ((NU8) 105):
case ((NU8) 18):
case ((NU8) 1):
break;
default:
Limessage_43569((*(*N_122146).KindU.S6.Sons->data[J_142779]).Info, ((NU8) 38), ((NimStringDesc*) &TMP192933));
break;
}
Res_143098 += 1;
} LA11: ;
LA9: ;
Res_143101 += 1;
} LA7: ;
break;
case ((NU8) 95):
Result_142689 = Semraise_140129(C_122145, N_122146);
break;
case ((NU8) 87):
Result_142689 = Semvar_139230(C_122145, N_122146);
break;
case ((NU8) 88):
Result_142689 = Semconst_139530(C_122145, N_122146);
break;
case ((NU8) 90):
Result_142689 = Semtypesection_140637(C_122145, N_122146);
break;
case ((NU8) 82):
Result_142689 = Semif_137970(C_122145, N_122146);
break;
case ((NU8) 83):
Result_142689 = Semwhen_137839(C_122145, N_122146);
break;
case ((NU8) 100):
Result_142689 = Semdiscard_138096(C_122145, N_122146);
break;
case ((NU8) 85):
Result_142689 = Semwhile_138389(C_122145, N_122146);
break;
case ((NU8) 93):
Result_142689 = Semtry_140212(C_122145, N_122146);
break;
case ((NU8) 97):
case ((NU8) 98):
Result_142689 = Sembreakorcontinue_138148(C_122145, N_122146);
break;
case ((NU8) 84):
Result_142689 = Semfor_139721(C_122145, N_122146);
break;
case ((NU8) 86):
Result_142689 = Semcase_138494(C_122145, N_122146);
break;
case ((NU8) 96):
Result_142689 = Semreturn_138841(C_122145, N_122146);
break;
case ((NU8) 80):
Result_142689 = Semasm_138369(C_122145, N_122146);
break;
case ((NU8) 92):
Result_142689 = Semyield_139057(C_122145, N_122146);
break;
case ((NU8) 81):
Pragma_119028(C_122145, (*(*C_122145).P).Owner, N_122146, TMP193172);
break;
case ((NU8) 74):
Result_142689 = Semiterator_142373(C_122145, N_122146);
break;
case ((NU8) 69):
Result_142689 = Semproc_142438(C_122145, N_122146);
break;
case ((NU8) 70):
Result_142689 = Semmethod_142443(C_122145, N_122146);
break;
case ((NU8) 71):
Result_142689 = Semconverterdef_142493(C_122145, N_122146);
break;
case ((NU8) 72):
Result_142689 = Semmacrodef_142560(C_122145, N_122146);
break;
case ((NU8) 73):
Result_142689 = Semtemplatedef_122762(C_122145, N_122146);
break;
case ((NU8) 102):
LOC13 = Istoplevel_122053(C_122145);
if (!!(LOC13)) goto LA14;
Limessage_43569((*N_122146).Info, ((NU8) 178), ((NimStringDesc*) &TMP193185));
LA14: ;
Result_142689 = Evalimport_107001(C_122145, N_122146);
break;
case ((NU8) 103):
LOC17 = Istoplevel_122053(C_122145);
if (!!(LOC17)) goto LA18;
Limessage_43569((*N_122146).Info, ((NU8) 178), ((NimStringDesc*) &TMP193191));
LA18: ;
Result_142689 = Evalfrom_107005(C_122145, N_122146);
break;
case ((NU8) 104):
LOC21 = Istoplevel_122053(C_122145);
if (!!(LOC21)) goto LA22;
Limessage_43569((*N_122146).Info, ((NU8) 178), ((NimStringDesc*) &TMP193195));
LA22: ;
Result_142689 = Evalinclude_142650(C_122145, N_122146);
break;
default:
Limessage_43569((*N_122146).Info, ((NU8) 39), ((NimStringDesc*) &TMP192933));
break;
}
if (!(Result_142689 == NIM_NIL)) goto LA25;
Internalerror_43574((*N_122146).Info, ((NimStringDesc*) &TMP193196));
LA25: ;
(*Result_142689).Flags |=(1<<((NI8)(((NU8) 6))%(sizeof(NI8)*8)));
BeforeRet: ;
return Result_142689;
}
N_NIMCALL(TY51526*, Semaftermacrocall_122246)(TY104012* C_122248, TY51526* N_122249, TY51548* S_122250) {
TY51526* Result_122251;
NimStringDesc* LOC1;
Result_122251 = 0;
Result_122251 = N_122249;
switch ((*(*(*S_122250).Typ).Sons->data[0]).Kind) {
case ((NU8) 6):
Result_122251 = Semexpr_122115(C_122248, Result_122251, 0);
break;
case ((NU8) 7):
Result_122251 = Semstmt_122143(C_122248, Result_122251);
break;
case ((NU8) 8):
asgnRef((void**) &(*Result_122251).Typ, Semtypenode_122138(C_122248, Result_122251, NIM_NIL));
break;
default:
LOC1 = 0;
LOC1 = Typetostring_94014((*(*S_122250).Typ).Sons->data[0], ((NU8) 0));
Limessage_43569((*S_122250).Info, ((NU8) 154), LOC1);
break;
}
return Result_122251;
}
N_NIMCALL(TY51526*, Semmacroexpr_123085)(TY104012* C_123087, TY51526* N_123088, TY51548* Sym_123089, NIM_BOOL Semcheck_123090) {
TY51526* Result_123091;
TY112006* P_123108;
TY112004* S_123109;
TY51526* LOC4;
NIM_BOOL LOC6;
Result_123091 = 0;
Evaltemplatecounter_122426 += 1;
if (!(100 < Evaltemplatecounter_122426)) goto LA2;
Limessage_43569((*N_123088).Info, ((NU8) 180), ((NimStringDesc*) &TMP192933));
LA2: ;
Markused_122065(N_123088, Sym_123089);
P_123108 = 0;
P_123108 = Newevalcontext_112033((*C_123087).Module, ((NimStringDesc*) &TMP192933), NIM_FALSE);
S_123109 = 0;
S_123109 = Newstackframe_112024();
asgnRefNoCycle((void**) &(*S_123109).Call, N_123088);
(*S_123109).Params = (TY51520*) setLengthSeq(&((*S_123109).Params)->Sup, sizeof(TY51526*), 2);
asgnRefNoCycle((void**) &(*S_123109).Params->data[0], Newnodeit_51742(((NU8) 18), (*N_123088).Info, (*(*Sym_123089).Typ).Sons->data[0]));
asgnRefNoCycle((void**) &(*S_123109).Params->data[1], N_123088);
Pushstackframe_112026(P_123108, S_123109);
LOC4 = 0;
LOC4 = Eval_112038(P_123108, (*(*Sym_123089).Ast).KindU.S6.Sons->data[4]);
Result_123091 = (*S_123109).Params->data[0];
Popstackframe_112030(P_123108);
LOC6 = Cyclictree_93043(Result_123091);
if (!LOC6) goto LA7;
Limessage_43569((*N_123088).Info, ((NU8) 204), ((NimStringDesc*) &TMP192933));
LA7: ;
if (!Semcheck_123090) goto LA10;
Result_123091 = Semaftermacrocall_122246(C_123087, Result_123091, Sym_123089);
LA10: ;
Evaltemplatecounter_122426 -= 1;
return Result_123091;
}
N_NIMCALL(TY51526*, Semsym_130092)(TY104012* C_130094, TY51526* N_130095, TY51548* S_130096, NU8 Flags_130097) {
TY51526* Result_130098;
NIM_BOOL LOC2;
NIM_BOOL LOC7;
NIM_BOOL LOC8;
TY51548* LOC11;
Result_130098 = 0;
LOC2 = ((*S_130096).Kind == ((NU8) 7));
if (!(LOC2)) goto LA3;
LOC2 = !(((Flags_130097 &(1<<((((NU8) 0))&7)))!=0));
LA3: ;
if (!LOC2) goto LA4;
Limessage_43569((*N_130095).Info, ((NU8) 162), ((NimStringDesc*) &TMP192933));
LA4: ;
switch ((*S_130096).Kind) {
case ((NU8) 10):
case ((NU8) 11):
case ((NU8) 12):
case ((NU8) 13):
LOC8 = !((((*S_130096).Flags &(1<<((((NU8) 20))&31)))!=0));
if (!(LOC8)) goto LA9;
LOC8 = ((*(*S_130096).Typ).Callconv == ((NU8) 0));
LA9: ;
LOC7 = LOC8;
if (!(LOC7)) goto LA10;
LOC11 = 0;
LOC11 = Getmodule_56203(S_130096);
LOC7 = !(((*LOC11).Sup.Id == (*(*C_130094).Module).Sup.Id));
LA10: ;
if (!LOC7) goto LA12;
Limessage_43569((*N_130095).Info, ((NU8) 131), (*(*S_130096).Name).S);
LA12: ;
Result_130098 = Symchoice_122559(C_130094, N_130095, S_130096);
break;
case ((NU8) 8):
Markused_122065(N_130095, S_130096);
if (!((*(*S_130096).Typ).Kind == ((NU8) 5) || (*(*S_130096).Typ).Kind == ((NU8) 2) || (*(*S_130096).Typ).Kind >= ((NU8) 31) && (*(*S_130096).Typ).Kind <= ((NU8) 35) || (*(*S_130096).Typ).Kind >= ((NU8) 36) && (*(*S_130096).Typ).Kind <= ((NU8) 39) || (*(*S_130096).Typ).Kind == ((NU8) 4) || (*(*S_130096).Typ).Kind == ((NU8) 18) || (*(*S_130096).Typ).Kind == ((NU8) 19))) goto LA15;
Result_130098 = Copytree_51859((*S_130096).Ast);
asgnRef((void**) &(*Result_130098).Typ, (*S_130096).Typ);
goto LA14;
LA15: ;
Result_130098 = Newsymnode_51735(S_130096);
LA14: ;
(*Result_130098).Info = (*N_130095).Info;
break;
case ((NU8) 14):
Result_130098 = Semmacroexpr_123085(C_130094, N_130095, S_130096, NIM_TRUE);
break;
case ((NU8) 15):
Result_130098 = Semtemplateexpr_130037(C_130094, N_130095, S_130096, NIM_TRUE);
break;
case ((NU8) 9):
Markused_122065(N_130095, S_130096);
if (!(((*S_130096).Flags &(1<<((((NU8) 5))&31)))!=0)) goto LA18;
(*(*(*C_130094).P).Owner).Flags |=(1<<((NI32)(((NU8) 14))%(sizeof(NI32)*8)));
LA18: ;
Result_130098 = Newsymnode_51735(S_130096);
(*Result_130098).Info = (*N_130095).Info;
break;
case ((NU8) 4):
if (!((*S_130096).Ast == NIM_NIL)) goto LA21;
Internalerror_43574((*N_130095).Info, ((NimStringDesc*) &TMP193197));
LA21: ;
Result_130098 = Semexpr_122115(C_130094, (*S_130096).Ast, 0);
break;
default:
Markused_122065(N_130095, S_130096);
Result_130098 = Newsymnode_51735(S_130096);
(*Result_130098).Info = (*N_130095).Info;
break;
}
return Result_130098;
}
N_NIMCALL(TY51526*, Semfieldaccess_130044)(TY104012* C_130046, TY51526* N_130047, NU8 Flags_130050) {
TY51526* Result_133699;
TY50011* I_133723;
TY51548* F_133724;
TY51526* LOC7;
TY51526* LOC8;
TY51526* LOC9;
Result_133699 = 0;
Result_133699 = Builtinfieldaccess_133326(C_130046, N_130047, Flags_130050);
if (!(Result_133699 == NIM_NIL)) goto LA2;
I_133723 = 0;
I_133723 = Consideracc_122003((*N_130047).KindU.S6.Sons->data[1]);
F_133724 = 0;
F_133724 = Symtabget_56116((*C_130046).Tab, I_133723);
if (!!((F_133724 == NIM_NIL))) goto LA5;
Result_133699 = Newnodei_51738(((NU8) 19), (*N_130047).Info);
LOC7 = 0;
LOC7 = Newidentnode_51731(I_133723, (*N_130047).Info);
Addson_51824(Result_133699, LOC7);
LOC8 = 0;
LOC8 = HEX5BHEX5D_53057(N_130047, 0);
LOC9 = 0;
LOC9 = Copytree_51859(LOC8);
Addson_51824(Result_133699, LOC9);
goto LA4;
LA5: ;
Limessage_43569((*N_130047).Info, ((NU8) 77), (*I_133723).S);
LA4: ;
LA2: ;
return Result_133699;
}
N_NIMCALL(void, Checkconversionbetweenobjects_130186)(TY43539 Info_130188, TY51552* Castdest_130189, TY51552* Src_130190) {
NI Diff_130191;
NimStringDesc* LOC4;
TY112148 LOC5;
NimStringDesc* LOC6;
Diff_130191 = 0;
Diff_130191 = Inheritancediff_94121(Castdest_130189, Src_130190);
if (!(Diff_130191 == 2147483647)) goto LA2;
LOC4 = 0;
LOC4 = Msgkindtostring_43595(((NU8) 139));
memset((void*)&LOC5, 0, sizeof(LOC5));
LOC5[0] = Typetostring_94014(Src_130190, ((NU8) 0));
LOC5[1] = Typetostring_94014(Castdest_130189, ((NU8) 0));
LOC6 = 0;
LOC6 = nsuFormatOpenArray(LOC4, LOC5, 2);
Limessage_43569(Info_130188, ((NU8) 4), LOC6);
LA2: ;
}
N_NIMCALL(void, Checkconvertible_130198)(TY43539 Info_130200, TY51552* Castdest_130201, TY51552* Src_130202) {
NIM_BOOL LOC2;
NimStringDesc* LOC8;
TY51552* D_130217;
TY51552* S_130218;
NIM_BOOL LOC10;
NIM_BOOL LOC11;
NimStringDesc* LOC17;
TY112148 LOC18;
NimStringDesc* LOC19;
NIM_BOOL LOC21;
NIM_BOOL LOC25;
TY51552* LOC26;
TY51552* LOC28;
NU8 LOC31;
NIM_BOOL LOC33;
NIM_BOOL LOC34;
NIM_BOOL LOC36;
NimStringDesc* LOC39;
TY112148 LOC40;
NimStringDesc* LOC41;
LOC2 = Sametype_94048(Castdest_130201, Src_130202);
if (!LOC2) goto LA3;
if (!!(((*Castdest_130201).Kind >= ((NU8) 31) && (*Castdest_130201).Kind <= ((NU8) 39) || (*Castdest_130201).Kind == ((NU8) 5)))) goto LA6;
LOC8 = 0;
LOC8 = Typetostring_94014(Castdest_130201, ((NU8) 0));
Limessage_43569(Info_130200, ((NU8) 229), LOC8);
LA6: ;
goto BeforeRet;
LA3: ;
D_130217 = 0;
D_130217 = Skiptypes_94087(Castdest_130201, 8431616);
S_130218 = 0;
S_130218 = Skiptypes_94087(Src_130202, 8431616);
while (1) {
LOC11 = !((D_130217 == NIM_NIL));
if (!(LOC11)) goto LA12;
LOC11 = ((*D_130217).Kind == ((NU8) 21) || (*D_130217).Kind == ((NU8) 22));
LA12: ;
LOC10 = LOC11;
if (!(LOC10)) goto LA13;
LOC10 = ((*D_130217).Kind == (*S_130218).Kind);
LA13: ;
if (!LOC10) goto LA9;
D_130217 = Base_94021(D_130217);
S_130218 = Base_94021(S_130218);
} LA9: ;
if (!(D_130217 == NIM_NIL)) goto LA15;
LOC17 = 0;
LOC17 = Msgkindtostring_43595(((NU8) 139));
memset((void*)&LOC18, 0, sizeof(LOC18));
LOC18[0] = Typetostring_94014(Src_130202, ((NU8) 0));
LOC18[1] = Typetostring_94014(Castdest_130201, ((NU8) 0));
LOC19 = 0;
LOC19 = nsuFormatOpenArray(LOC17, LOC18, 2);
Limessage_43569(Info_130200, ((NU8) 4), LOC19);
LA15: ;
LOC21 = ((*D_130217).Kind == ((NU8) 17));
if (!(LOC21)) goto LA22;
LOC21 = ((*S_130218).Kind == ((NU8) 17));
LA22: ;
if (!LOC21) goto LA23;
Checkconversionbetweenobjects_130186(Info_130200, D_130217, S_130218);
goto LA20;
LA23: ;
LOC26 = 0;
LOC26 = Skiptypes_94087(Castdest_130201, 9480192);
LOC25 = ((*LOC26).Kind == ((NU8) 1) || (*LOC26).Kind == ((NU8) 14) || (*LOC26).Kind == ((NU8) 2) || (*LOC26).Kind >= ((NU8) 31) && (*LOC26).Kind <= ((NU8) 39));
if (!(LOC25)) goto LA27;
LOC28 = 0;
LOC28 = Skiptypes_94087(Src_130202, 9480192);
LOC25 = ((*LOC28).Kind == ((NU8) 1) || (*LOC28).Kind == ((NU8) 14) || (*LOC28).Kind == ((NU8) 2) || (*LOC28).Kind >= ((NU8) 31) && (*LOC28).Kind <= ((NU8) 39));
LA27: ;
if (!LOC25) goto LA29;
goto LA20;
LA29: ;
LOC31 = Cmptypes_125420(D_130217, S_130218);
switch (LOC31) {
case ((NU8) 0):
case ((NU8) 4):
LOC34 = Equalordistinctof_94056(Castdest_130201, Src_130202);
LOC33 = !(LOC34);
if (!(LOC33)) goto LA35;
LOC36 = Equalordistinctof_94056(Src_130202, Castdest_130201);
LOC33 = !(LOC36);
LA35: ;
if (!LOC33) goto LA37;
LOC39 = 0;
LOC39 = Msgkindtostring_43595(((NU8) 139));
memset((void*)&LOC40, 0, sizeof(LOC40));
LOC40[0] = Typetostring_94014(Src_130202, ((NU8) 0));
LOC40[1] = Typetostring_94014(Castdest_130201, ((NU8) 0));
LOC41 = 0;
LOC41 = nsuFormatOpenArray(LOC39, LOC40, 2);
Limessage_43569(Info_130200, ((NU8) 4), LOC41);
LA37: ;
break;
default:
break;
}
LA20: ;
BeforeRet: ;
}
N_NIMCALL(TY51526*, Semconv_130351)(TY104012* C_130353, TY51526* N_130354, TY51548* S_130355) {
TY51526* Result_130356;
NI LOC2;
TY51526* LOC5;
TY51526* LOC6;
TY51526* Op_130407;
NI I_130425;
NI HEX3Atmp_142891;
NI LOC10;
NI Res_142893;
NIM_BOOL LOC13;
Result_130356 = 0;
LOC2 = Sonslen_51804(N_130354);
if (!!((LOC2 == 2))) goto LA3;
Limessage_43569((*N_130354).Info, ((NU8) 158), ((NimStringDesc*) &TMP192933));
LA3: ;
Result_130356 = Newnodei_51738(((NU8) 50), (*N_130354).Info);
asgnRef((void**) &(*Result_130356).Typ, Semtypenode_122138(C_130353, (*N_130354).KindU.S6.Sons->data[0], NIM_NIL));
LOC5 = 0;
LOC5 = Copytree_51859((*N_130354).KindU.S6.Sons->data[0]);
Addson_51824(Result_130356, LOC5);
LOC6 = 0;
LOC6 = Semexprwithtype_122122(C_130353, (*N_130354).KindU.S6.Sons->data[1], 0);
Addson_51824(Result_130356, LOC6);
Op_130407 = 0;
Op_130407 = (*Result_130356).KindU.S6.Sons->data[1];
if (!!(((*Op_130407).Kind == ((NU8) 46)))) goto LA8;
Checkconvertible_130198((*Result_130356).Info, (*Result_130356).Typ, (*Op_130407).Typ);
goto LA7;
LA8: ;
I_130425 = 0;
HEX3Atmp_142891 = 0;
LOC10 = Sonslen_51804(Op_130407);
HEX3Atmp_142891 = (NI32)(LOC10 - 1);
Res_142893 = 0;
Res_142893 = 0;
while (1) {
if (!(Res_142893 <= HEX3Atmp_142891)) goto LA11;
I_130425 = Res_142893;
LOC13 = Sametype_94048((*Result_130356).Typ, (*(*Op_130407).KindU.S6.Sons->data[I_130425]).Typ);
if (!LOC13) goto LA14;
Markused_122065(N_130354, (*(*Op_130407).KindU.S6.Sons->data[I_130425]).KindU.S4.Sym);
Result_130356 = (*Op_130407).KindU.S6.Sons->data[I_130425];
goto BeforeRet;
LA14: ;
Res_142893 += 1;
} LA11: ;
Limessage_43569((*N_130354).Info, ((NU8) 59), (*(*(*(*Op_130407).KindU.S6.Sons->data[0]).KindU.S4.Sym).Name).S);
LA7: ;
BeforeRet: ;
return Result_130356;
}
N_NIMCALL(void, Semopaux_130806)(TY104012* C_130808, TY51526* N_130809) {
NI I_130818;
NI HEX3Atmp_142894;
NI LOC1;
NI Res_142896;
TY51526* A_130831;
TY43539 Info_130853;
TY50011* LOC6;
I_130818 = 0;
HEX3Atmp_142894 = 0;
LOC1 = Sonslen_51804(N_130809);
HEX3Atmp_142894 = (NI32)(LOC1 - 1);
Res_142896 = 0;
Res_142896 = 1;
while (1) {
if (!(Res_142896 <= HEX3Atmp_142894)) goto LA2;
I_130818 = Res_142896;
A_130831 = 0;
A_130831 = (*N_130809).KindU.S6.Sons->data[I_130818];
if (!((*A_130831).Kind == ((NU8) 23))) goto LA4;
Checksonslen_104099(A_130831, 2);
memset((void*)&Info_130853, 0, sizeof(Info_130853));
Info_130853 = (*(*A_130831).KindU.S6.Sons->data[0]).Info;
LOC6 = 0;
LOC6 = Consideracc_122003((*A_130831).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*A_130831).KindU.S6.Sons->data[0], Newidentnode_51731(LOC6, Info_130853));
asgnRefNoCycle((void**) &(*A_130831).KindU.S6.Sons->data[1], Semexprwithtype_122122(C_130808, (*A_130831).KindU.S6.Sons->data[1], 0));
asgnRef((void**) &(*A_130831).Typ, (*(*A_130831).KindU.S6.Sons->data[1]).Typ);
goto LA3;
LA4: ;
asgnRefNoCycle((void**) &(*N_130809).KindU.S6.Sons->data[I_130818], Semexprwithtype_122122(C_130808, A_130831, 0));
LA3: ;
Res_142896 += 1;
} LA2: ;
}
N_NIMCALL(TY51526*, Overloadedcallopr_130926)(TY104012* C_130928, TY51526* N_130929) {
TY51526* Result_130930;
TY50011* Par_130931;
TY51548* LOC2;
TY51526* LOC5;
NI I_130951;
NI HEX3Atmp_142897;
NI LOC6;
NI Res_142899;
Result_130930 = 0;
Par_130931 = 0;
Par_130931 = Getident_50016(((NimStringDesc*) &TMP193198));
LOC2 = 0;
LOC2 = Symtabget_56116((*C_130928).Tab, Par_130931);
if (!(LOC2 == NIM_NIL)) goto LA3;
Result_130930 = NIM_NIL;
goto LA1;
LA3: ;
Result_130930 = Newnodei_51738(((NU8) 21), (*N_130929).Info);
LOC5 = 0;
LOC5 = Newidentnode_51731(Par_130931, (*N_130929).Info);
Addson_51824(Result_130930, LOC5);
I_130951 = 0;
HEX3Atmp_142897 = 0;
LOC6 = Sonslen_51804(N_130929);
HEX3Atmp_142897 = (NI32)(LOC6 - 1);
Res_142899 = 0;
Res_142899 = 0;
while (1) {
if (!(Res_142899 <= HEX3Atmp_142897)) goto LA7;
I_130951 = Res_142899;
Addson_51824(Result_130930, (*N_130929).KindU.S6.Sons->data[I_130951]);
Res_142899 += 1;
} LA7: ;
Result_130930 = Semexpr_122115(C_130928, Result_130930, 0);
LA1: ;
return Result_130930;
}
N_NIMCALL(NimStringDesc*, Getnotfounderror_124172)(TY104012* C_124174, TY51526* N_124175) {
NimStringDesc* Result_124176;
NI I_124185;
NI HEX3Atmp_126851;
NI LOC1;
NI Res_126853;
NimStringDesc* LOC6;
NimStringDesc* LOC7;
NI LOC9;
NimStringDesc* Candidates_124245;
TY105004 O_124246;
TY51548* Sym_124260;
NimStringDesc* LOC16;
NimStringDesc* LOC20;
NimStringDesc* LOC21;
Result_124176 = 0;
Result_124176 = Msgkindtostring_43595(((NU8) 126));
I_124185 = 0;
HEX3Atmp_126851 = 0;
LOC1 = Sonslen_51804(N_124175);
HEX3Atmp_126851 = (NI32)(LOC1 - 1);
Res_126853 = 0;
Res_126853 = 1;
while (1) {
if (!(Res_126853 <= HEX3Atmp_126851)) goto LA2;
I_124185 = Res_126853;
if (!((*(*N_124175).KindU.S6.Sons->data[I_124185]).Kind == ((NU8) 23))) goto LA4;
LOC6 = 0;
LOC6 = Rendertree_82042((*(*N_124175).KindU.S6.Sons->data[I_124185]).KindU.S6.Sons->data[0], 0);
Result_124176 = resizeString(Result_124176, LOC6->Sup.len + 0);
appendString(Result_124176, LOC6);
Result_124176 = resizeString(Result_124176, 2);
appendString(Result_124176, ((NimStringDesc*) &TMP193199));
LA4: ;
LOC7 = 0;
LOC7 = Typetostring_94014((*(*N_124175).KindU.S6.Sons->data[I_124185]).Typ, ((NU8) 0));
Result_124176 = resizeString(Result_124176, LOC7->Sup.len + 0);
appendString(Result_124176, LOC7);
LOC9 = Sonslen_51804(N_124175);
if (!!((I_124185 == (NI32)(LOC9 - 1)))) goto LA10;
Result_124176 = resizeString(Result_124176, 2);
appendString(Result_124176, ((NimStringDesc*) &TMP193200));
LA10: ;
Res_126853 += 1;
} LA2: ;
Result_124176 = addChar(Result_124176, 41);
Candidates_124245 = 0;
Candidates_124245 = copyString(((NimStringDesc*) &TMP192933));
memset((void*)&O_124246, 0, sizeof(O_124246));
Sym_124260 = 0;
Sym_124260 = Initoverloaditer_105734(&O_124246, C_124174, (*N_124175).KindU.S6.Sons->data[0]);
while (1) {
if (!!((Sym_124260 == NIM_NIL))) goto LA12;
if (!((15360 &(1<<(((*Sym_124260).Kind)&31)))!=0)) goto LA14;
LOC16 = 0;
LOC16 = Getprocheader_94018(Sym_124260);
Candidates_124245 = resizeString(Candidates_124245, LOC16->Sup.len + 0);
appendString(Candidates_124245, LOC16);
Candidates_124245 = resizeString(Candidates_124245, 2);
appendString(Candidates_124245, ((NimStringDesc*) &TMP193201));
LA14: ;
Sym_124260 = Nextoverloaditer_106063(&O_124246, C_124174, (*N_124175).KindU.S6.Sons->data[0]);
} LA12: ;
if (!!(((Candidates_124245) && (Candidates_124245)->Sup.len == 0))) goto LA18;
LOC20 = 0;
LOC21 = 0;
LOC21 = Msgkindtostring_43595(((NU8) 127));
LOC20 = rawNewString(LOC21->Sup.len + Candidates_124245->Sup.len + 4);
appendString(LOC20, ((NimStringDesc*) &TMP193201));
appendString(LOC20, LOC21);
appendString(LOC20, ((NimStringDesc*) &TMP193201));
appendString(LOC20, Candidates_124245);
Result_124176 = resizeString(Result_124176, LOC20->Sup.len + 0);
appendString(Result_124176, LOC20);
LA18: ;
return Result_124176;
}
N_NIMCALL(TY51526*, Semdirectop_132682)(TY104012* C_132684, TY51526* N_132685, NU8 Flags_132686) {
TY51526* Result_132687;
NimStringDesc* LOC7;
Result_132687 = 0;
Semopaux_130806(C_132684, N_132685);
Result_132687 = Semdirectcallanalyseeffects_132219(C_132684, N_132685, Flags_132686);
if (!(Result_132687 == NIM_NIL)) goto LA2;
Result_132687 = Overloadedcallopr_130926(C_132684, N_132685);
if (!(Result_132687 == NIM_NIL)) goto LA5;
LOC7 = 0;
LOC7 = Getnotfounderror_124172(C_132684, N_132685);
Limessage_43569((*N_132685).Info, ((NU8) 4), LOC7);
LA5: ;
LA2: ;
Fixabstracttype_131346(C_132684, Result_132687);
Analyseifaddresstakenincall_132043(C_132684, Result_132687);
return Result_132687;
}
N_NIMCALL(TY51548*, Lookupfordefined_132750)(TY104012* C_132752, TY51526* N_132753, NIM_BOOL Onlycurrentscope_132754) {
TY51548* Result_132755;
TY51548* M_132792;
NIM_BOOL LOC8;
TY50011* Ident_132858;
NimStringDesc* LOC18;
Result_132755 = 0;
switch ((*N_132753).Kind) {
case ((NU8) 2):
if (!Onlycurrentscope_132754) goto LA2;
Result_132755 = Symtablocalget_56120((*C_132752).Tab, (*N_132753).KindU.S5.Ident);
goto LA1;
LA2: ;
Result_132755 = Symtabget_56116((*C_132752).Tab, (*N_132753).KindU.S5.Ident);
LA1: ;
break;
case ((NU8) 36):
Result_132755 = NIM_NIL;
if (!Onlycurrentscope_132754) goto LA5;
goto BeforeRet;
LA5: ;
Checksonslen_104099(N_132753, 2);
M_132792 = 0;
M_132792 = Lookupfordefined_132750(C_132752, (*N_132753).KindU.S6.Sons->data[0], Onlycurrentscope_132754);
LOC8 = !((M_132792 == NIM_NIL));
if (!(LOC8)) goto LA9;
LOC8 = ((*M_132792).Kind == ((NU8) 6));
LA9: ;
if (!LOC8) goto LA10;
if (!((*(*N_132753).KindU.S6.Sons->data[1]).Kind == ((NU8) 2))) goto LA13;
Ident_132858 = 0;
Ident_132858 = (*(*N_132753).KindU.S6.Sons->data[1]).KindU.S5.Ident;
if (!(M_132792 == (*C_132752).Module)) goto LA16;
Result_132755 = Strtableget_56066(&(*C_132752).Tab.Stack->data[1], Ident_132858);
goto LA15;
LA16: ;
Result_132755 = Strtableget_56066(&(*M_132792).Tab, Ident_132858);
LA15: ;
goto LA12;
LA13: ;
Limessage_43569((*(*N_132753).KindU.S6.Sons->data[1]).Info, ((NU8) 19), ((NimStringDesc*) &TMP192933));
LA12: ;
LA10: ;
break;
case ((NU8) 43):
Checksonslen_104099(N_132753, 1);
Result_132755 = Lookupfordefined_132750(C_132752, (*N_132753).KindU.S6.Sons->data[0], Onlycurrentscope_132754);
break;
default:
LOC18 = 0;
LOC18 = Rendertree_82042(N_132753, 0);
Limessage_43569((*N_132753).Info, ((NU8) 19), LOC18);
Result_132755 = NIM_NIL;
break;
}
BeforeRet: ;
return Result_132755;
}
N_NIMCALL(TY51526*, Semdefined_132892)(TY104012* C_132894, TY51526* N_132895, NIM_BOOL Onlycurrentscope_132896) {
TY51526* Result_132897;
TY51548* LOC2;
NIM_BOOL LOC5;
NIM_BOOL LOC6;
Result_132897 = 0;
Checksonslen_104099(N_132895, 2);
Result_132897 = Newintnode_51714(((NU8) 6), 0);
LOC2 = 0;
LOC2 = Lookupfordefined_132750(C_132894, (*N_132895).KindU.S6.Sons->data[1], Onlycurrentscope_132896);
if (!!((LOC2 == NIM_NIL))) goto LA3;
(*Result_132897).KindU.S1.Intval = 1;
goto LA1;
LA3: ;
LOC6 = !(Onlycurrentscope_132896);
if (!(LOC6)) goto LA7;
LOC6 = ((*(*N_132895).KindU.S6.Sons->data[1]).Kind == ((NU8) 2));
LA7: ;
LOC5 = LOC6;
if (!(LOC5)) goto LA8;
LOC5 = Isdefined_60059((*(*N_132895).KindU.S6.Sons->data[1]).KindU.S5.Ident);
LA8: ;
if (!LOC5) goto LA9;
(*Result_132897).KindU.S1.Intval = 1;
goto LA1;
LA9: ;
LA1: ;
(*Result_132897).Info = (*N_132895).Info;
asgnRef((void**) &(*Result_132897).Typ, Getsystype_99008(((NU8) 1)));
return Result_132897;
}
N_NIMCALL(TY51526*, Setms_132990)(TY51526* N_132992, TY51548* S_132993) {
TY51526* Result_132994;
Result_132994 = 0;
Result_132994 = N_132992;
asgnRefNoCycle((void**) &(*N_132992).KindU.S6.Sons->data[0], Newsymnode_51735(S_132993));
(*(*N_132992).KindU.S6.Sons->data[0]).Info = (*N_132992).Info;
return Result_132994;
}
N_NIMCALL(TY51526*, Semlowhigh_130574)(TY104012* C_130576, TY51526* N_130577, NU8 M_130578) {
TY51526* Result_130579;
NI LOC2;
TY51552* Typ_130624;
Result_130579 = 0;
LOC2 = Sonslen_51804(N_130577);
if (!!((LOC2 == 2))) goto LA3;
Limessage_43569((*N_130577).Info, ((NU8) 66), Optostr_130580[(M_130578)-3]);
goto LA1;
LA3: ;
asgnRefNoCycle((void**) &(*N_130577).KindU.S6.Sons->data[1], Semexprwithtype_122122(C_130576, (*N_130577).KindU.S6.Sons->data[1], 1));
Typ_130624 = 0;
Typ_130624 = Skiptypes_94087((*(*N_130577).KindU.S6.Sons->data[1]).Typ, 9480192);
switch ((*Typ_130624).Kind) {
case ((NU8) 24):
case ((NU8) 28):
case ((NU8) 27):
asgnRef((void**) &(*N_130577).Typ, Getsystype_99008(((NU8) 31)));
break;
case ((NU8) 4):
case ((NU8) 16):
asgnRef((void**) &(*N_130577).Typ, (*(*(*N_130577).KindU.S6.Sons->data[1]).Typ).Sons->data[0]);
break;
case ((NU8) 31) ... ((NU8) 35):
case ((NU8) 2):
case ((NU8) 1):
case ((NU8) 14):
asgnRef((void**) &(*N_130577).Typ, (*(*N_130577).KindU.S6.Sons->data[1]).Typ);
break;
default:
Limessage_43569((*N_130577).Info, ((NU8) 64), Optostr_130580[(M_130578)-3]);
break;
}
LA1: ;
Result_130579 = N_130577;
return Result_130579;
}
N_NIMCALL(TY51526*, Semsizeof_130649)(TY104012* C_130651, TY51526* N_130652) {
TY51526* Result_130653;
NI LOC2;
Result_130653 = 0;
LOC2 = Sonslen_51804(N_130652);
if (!!((LOC2 == 2))) goto LA3;
Limessage_43569((*N_130652).Info, ((NU8) 66), ((NimStringDesc*) &TMP193204));
goto LA1;
LA3: ;
asgnRefNoCycle((void**) &(*N_130652).KindU.S6.Sons->data[1], Semexprwithtype_122122(C_130651, (*N_130652).KindU.S6.Sons->data[1], 1));
LA1: ;
asgnRef((void**) &(*N_130652).Typ, Getsystype_99008(((NU8) 31)));
Result_130653 = N_130652;
return Result_130653;
}
N_NIMCALL(TY51526*, Semis_130681)(TY104012* C_130683, TY51526* N_130684) {
TY51526* Result_130685;
NI LOC2;
TY51552* A_130750;
TY51552* B_130763;
NIM_BOOL LOC6;
NIM_BOOL LOC11;
NimStringDesc* LOC16;
Result_130685 = 0;
LOC2 = Sonslen_51804(N_130684);
if (!(LOC2 == 3)) goto LA3;
asgnRefNoCycle((void**) &(*N_130684).KindU.S6.Sons->data[1], Semexprwithtype_122122(C_130683, (*N_130684).KindU.S6.Sons->data[1], 1));
asgnRefNoCycle((void**) &(*N_130684).KindU.S6.Sons->data[2], Semexprwithtype_122122(C_130683, (*N_130684).KindU.S6.Sons->data[2], 1));
A_130750 = 0;
A_130750 = (*(*N_130684).KindU.S6.Sons->data[1]).Typ;
B_130763 = 0;
B_130763 = (*(*N_130684).KindU.S6.Sons->data[2]).Typ;
LOC6 = !(((*B_130763).Kind == ((NU8) 17)));
if (LOC6) goto LA7;
LOC6 = !(((*A_130750).Kind == ((NU8) 17)));
LA7: ;
if (!LOC6) goto LA8;
Limessage_43569((*N_130684).Info, ((NU8) 194), ((NimStringDesc*) &TMP192933));
LA8: ;
while (1) {
LOC11 = !((B_130763 == NIM_NIL));
if (!(LOC11)) goto LA12;
LOC11 = !(((*B_130763).Sup.Id == (*A_130750).Sup.Id));
LA12: ;
if (!LOC11) goto LA10;
B_130763 = (*B_130763).Sons->data[0];
} LA10: ;
if (!(B_130763 == NIM_NIL)) goto LA14;
LOC16 = 0;
LOC16 = Typetostring_94014(A_130750, ((NU8) 0));
Limessage_43569((*N_130684).Info, ((NU8) 195), LOC16);
LA14: ;
asgnRef((void**) &(*N_130684).Typ, Getsystype_99008(((NU8) 1)));
goto LA1;
LA3: ;
Limessage_43569((*N_130684).Info, ((NU8) 193), ((NimStringDesc*) &TMP192933));
LA1: ;
Result_130685 = N_130684;
return Result_130685;
}
N_NIMCALL(TY51526*, Semecho_132710)(TY104012* C_132712, TY51526* N_132713) {
TY51526* Result_132714;
NI I_132723;
NI HEX3Atmp_142927;
NI LOC1;
NI Res_142929;
TY51526* Arg_132736;
TY51526* Call_132737;
TY50011* LOC3;
TY51526* LOC4;
Result_132714 = 0;
Checkminsonslen_104103(N_132713, 1);
I_132723 = 0;
HEX3Atmp_142927 = 0;
LOC1 = Sonslen_51804(N_132713);
HEX3Atmp_142927 = (NI32)(LOC1 - 1);
Res_142929 = 0;
Res_142929 = 1;
while (1) {
if (!(Res_142929 <= HEX3Atmp_142927)) goto LA2;
I_132723 = Res_142929;
Arg_132736 = 0;
Arg_132736 = Semexprwithtype_122122(C_132712, (*N_132713).KindU.S6.Sons->data[I_132723], 0);
Call_132737 = 0;
Call_132737 = Newnodei_51738(((NU8) 21), (*Arg_132736).Info);
LOC3 = 0;
LOC3 = Getident_50016(((NimStringDesc*) &TMP193205));
LOC4 = 0;
LOC4 = Newidentnode_51731(LOC3, (*N_132713).Info);
Addson_51824(Call_132737, LOC4);
Addson_51824(Call_132737, Arg_132736);
asgnRefNoCycle((void**) &(*N_132713).KindU.S6.Sons->data[I_132723], Semexpr_122115(C_132712, Call_132737, 0));
Res_142929 += 1;
} LA2: ;
Result_132714 = N_132713;
return Result_132714;
}
N_NIMCALL(TY51526*, Semmagic_133019)(TY104012* C_133021, TY51526* N_133022, TY51548* S_133023, NU8 Flags_133024) {
TY51526* Result_133025;
TY51526* LOC1;
TY51526* LOC2;
TY51526* LOC3;
TY51526* LOC4;
TY51526* LOC5;
TY51526* LOC6;
TY51526* LOC7;
Result_133025 = 0;
Result_133025 = N_133022;
switch ((*S_133023).Magic) {
case ((NU8) 1):
LOC1 = 0;
LOC1 = Setms_132990(N_133022, S_133023);
Result_133025 = Semdefined_132892(C_133021, LOC1, NIM_FALSE);
break;
case ((NU8) 2):
LOC2 = 0;
LOC2 = Setms_132990(N_133022, S_133023);
Result_133025 = Semdefined_132892(C_133021, LOC2, NIM_TRUE);
break;
case ((NU8) 3):
LOC3 = 0;
LOC3 = Setms_132990(N_133022, S_133023);
Result_133025 = Semlowhigh_130574(C_133021, LOC3, ((NU8) 3));
break;
case ((NU8) 4):
LOC4 = 0;
LOC4 = Setms_132990(N_133022, S_133023);
Result_133025 = Semlowhigh_130574(C_133021, LOC4, ((NU8) 4));
break;
case ((NU8) 5):
LOC5 = 0;
LOC5 = Setms_132990(N_133022, S_133023);
Result_133025 = Semsizeof_130649(C_133021, LOC5);
break;
case ((NU8) 6):
LOC6 = 0;
LOC6 = Setms_132990(N_133022, S_133023);
Result_133025 = Semis_130681(C_133021, LOC6);
break;
case ((NU8) 7):
LOC7 = 0;
LOC7 = Setms_132990(N_133022, S_133023);
Result_133025 = Semecho_132710(C_133021, LOC7);
break;
default:
Result_133025 = Semdirectop_132682(C_133021, N_133022, Flags_133024);
break;
}
return Result_133025;
}
N_NIMCALL(TY51526*, Semindirectop_132364)(TY104012* C_132366, TY51526* N_132367, NU8 Flags_132368) {
TY51526* Result_132369;
TY51526* Prc_132382;
NI I_132481;
NI HEX3Atmp_142921;
NI LOC7;
NI Res_142923;
TY51552* T_132518;
NIM_BOOL LOC13;
TY124022 M_132574;
NimStringDesc* Msg_132586;
NI I_132595;
NI HEX3Atmp_142924;
NI LOC20;
NI Res_142926;
NimStringDesc* LOC25;
NimStringDesc* LOC26;
NimStringDesc* LOC27;
NimStringDesc* LOC28;
NimStringDesc* LOC38;
Result_132369 = 0;
Result_132369 = NIM_NIL;
Prc_132382 = 0;
Prc_132382 = (*N_132367).KindU.S6.Sons->data[0];
Checkminsonslen_104103(N_132367, 1);
if (!((*(*N_132367).KindU.S6.Sons->data[0]).Kind == ((NU8) 36))) goto LA2;
Checksonslen_104099((*N_132367).KindU.S6.Sons->data[0], 2);
asgnRefNoCycle((void**) &(*N_132367).KindU.S6.Sons->data[0], Semfieldaccess_130044(C_132366, (*N_132367).KindU.S6.Sons->data[0], 0));
if (!((*(*N_132367).KindU.S6.Sons->data[0]).Kind == ((NU8) 19))) goto LA5;
Result_132369 = (*N_132367).KindU.S6.Sons->data[0];
(*Result_132369).Kind = ((NU8) 21);
I_132481 = 0;
HEX3Atmp_142921 = 0;
LOC7 = Sonslen_51804(N_132367);
HEX3Atmp_142921 = (NI32)(LOC7 - 1);
Res_142923 = 0;
Res_142923 = 1;
while (1) {
if (!(Res_142923 <= HEX3Atmp_142921)) goto LA8;
I_132481 = Res_142923;
Addson_51824(Result_132369, (*N_132367).KindU.S6.Sons->data[I_132481]);
Res_142923 += 1;
} LA8: ;
Result_132369 = Semexpr_122115(C_132366, Result_132369, Flags_132368);
goto BeforeRet;
LA5: ;
goto LA1;
LA2: ;
asgnRefNoCycle((void**) &(*N_132367).KindU.S6.Sons->data[0], Semexpr_122115(C_132366, (*N_132367).KindU.S6.Sons->data[0], 0));
LA1: ;
Semopaux_130806(C_132366, N_132367);
T_132518 = 0;
T_132518 = NIM_NIL;
if (!!(((*(*N_132367).KindU.S6.Sons->data[0]).Typ == NIM_NIL))) goto LA10;
T_132518 = Skiptypes_94087((*(*N_132367).KindU.S6.Sons->data[0]).Typ, 43008);
LA10: ;
LOC13 = !((T_132518 == NIM_NIL));
if (!(LOC13)) goto LA14;
LOC13 = ((*T_132518).Kind == ((NU8) 25));
LA14: ;
if (!LOC13) goto LA15;
memset((void*)&M_132574, 0, sizeof(M_132574));
Initcandidate_124050(&M_132574, T_132518);
Matches_125927(C_132366, N_132367, &M_132574);
if (!!((M_132574.State == ((NU8) 1)))) goto LA18;
Msg_132586 = 0;
Msg_132586 = Msgkindtostring_43595(((NU8) 126));
I_132595 = 0;
HEX3Atmp_142924 = 0;
LOC20 = Sonslen_51804(N_132367);
HEX3Atmp_142924 = (NI32)(LOC20 - 1);
Res_142926 = 0;
Res_142926 = 1;
while (1) {
if (!(Res_142926 <= HEX3Atmp_142924)) goto LA21;
I_132595 = Res_142926;
if (!(1 < I_132595)) goto LA23;
Msg_132586 = resizeString(Msg_132586, 2);
appendString(Msg_132586, ((NimStringDesc*) &TMP193200));
LA23: ;
LOC25 = 0;
LOC25 = Typetostring_94014((*(*N_132367).KindU.S6.Sons->data[I_132595]).Typ, ((NU8) 0));
Msg_132586 = resizeString(Msg_132586, LOC25->Sup.len + 0);
appendString(Msg_132586, LOC25);
Res_142926 += 1;
} LA21: ;
LOC26 = 0;
LOC27 = 0;
LOC27 = Msgkindtostring_43595(((NU8) 127));
LOC28 = 0;
LOC28 = Typetostring_94014((*(*N_132367).KindU.S6.Sons->data[0]).Typ, ((NU8) 0));
LOC26 = rawNewString(LOC27->Sup.len + LOC28->Sup.len + 5);
appendString(LOC26, ((NimStringDesc*) &TMP193206));
appendString(LOC26, LOC27);
appendString(LOC26, ((NimStringDesc*) &TMP193201));
appendString(LOC26, LOC28);
Msg_132586 = resizeString(Msg_132586, LOC26->Sup.len + 0);
appendString(Msg_132586, LOC26);
Limessage_43569((*N_132367).Info, ((NU8) 4), Msg_132586);
Result_132369 = NIM_NIL;
goto LA17;
LA18: ;
Result_132369 = M_132574.Call;
LA17: ;
if (!!((((*T_132518).Flags &(1<<((((NU8) 1))&7)))!=0))) goto LA30;
(*(*(*C_132366).P).Owner).Flags |=(1<<((NI32)(((NU8) 14))%(sizeof(NI32)*8)));
LA30: ;
goto LA12;
LA15: ;
Result_132369 = Overloadedcallopr_130926(C_132366, N_132367);
if (!(Result_132369 == NIM_NIL)) goto LA33;
asgnRefNoCycle((void**) &(*N_132367).KindU.S6.Sons->data[0], Prc_132382);
Result_132369 = Semdirectcallanalyseeffects_132219(C_132366, N_132367, Flags_132368);
LA33: ;
if (!(Result_132369 == NIM_NIL)) goto LA36;
LOC38 = 0;
LOC38 = Rendertree_82042(N_132367, 4);
Limessage_43569((*N_132367).Info, ((NU8) 85), LOC38);
LA36: ;
LA12: ;
Fixabstracttype_131346(C_132366, Result_132369);
Analyseifaddresstakenincall_132043(C_132366, Result_132369);
BeforeRet: ;
return Result_132369;
}
N_NIMCALL(TY51526*, Explictgenericinstantiation_126751)(TY104012* C_126753, TY51526* N_126754, TY51548* S_126755) {
TY51526* Result_126756;
NI I_126774;
NI HEX3Atmp_126878;
NI LOC1;
NI Res_126880;
TY124022 X_126820;
TY51548* Newinst_126822;
Result_126756 = 0;
I_126774 = 0;
HEX3Atmp_126878 = 0;
LOC1 = Sonslen_51804(N_126754);
HEX3Atmp_126878 = (NI32)(LOC1 - 1);
Res_126880 = 0;
Res_126880 = 1;
while (1) {
if (!(Res_126880 <= HEX3Atmp_126878)) goto LA2;
I_126774 = Res_126880;
asgnRef((void**) &(*(*N_126754).KindU.S6.Sons->data[I_126774]).Typ, Semtypenode_122138(C_126753, (*N_126754).KindU.S6.Sons->data[I_126774], NIM_NIL));
Res_126880 += 1;
} LA2: ;
memset((void*)&X_126820, 0, sizeof(X_126820));
Initcandidate_124056(&X_126820, S_126755, N_126754);
Newinst_126822 = 0;
Newinst_126822 = Generateinstance_123146(C_126753, S_126755, X_126820.Bindings, (*N_126754).Info);
Markused_122065(N_126754, S_126755);
Result_126756 = Newsymnode_51735(Newinst_126822);
(*Result_126756).Info = (*N_126754).Info;
return Result_126756;
}
N_NIMCALL(TY51526*, Semarrayaccess_134163)(TY104012* C_134165, TY51526* N_134166, NU8 Flags_134167) {
TY51526* Result_134168;
TY51526* LOC4;
Result_134168 = 0;
Result_134168 = Semsubscript_133890(C_134165, N_134166, Flags_134167);
if (!(Result_134168 == NIM_NIL)) goto LA2;
LOC4 = 0;
LOC4 = Buildoverloadedsubscripts_133847(N_134166, NIM_FALSE);
Result_134168 = Semexpr_122115(C_134165, LOC4, 0);
LA2: ;
return Result_134168;
}
N_NIMCALL(NU8, Checkpar_134774)(TY51526* N_134776) {
NU8 Result_134777;
NI Length_134778;
NI I_134812;
NI HEX3Atmp_142957;
NI Res_142959;
NIM_BOOL LOC14;
Result_134777 = 0;
Length_134778 = 0;
Length_134778 = Sonslen_51804(N_134776);
if (!(Length_134778 == 0)) goto LA2;
Result_134777 = ((NU8) 3);
goto LA1;
LA2: ;
if (!(Length_134778 == 1)) goto LA4;
Result_134777 = ((NU8) 1);
goto LA1;
LA4: ;
if (!((*(*N_134776).KindU.S6.Sons->data[0]).Kind == ((NU8) 24))) goto LA7;
Result_134777 = ((NU8) 2);
goto LA6;
LA7: ;
Result_134777 = ((NU8) 3);
LA6: ;
I_134812 = 0;
HEX3Atmp_142957 = 0;
HEX3Atmp_142957 = (NI32)(Length_134778 - 1);
Res_142959 = 0;
Res_142959 = 0;
while (1) {
if (!(Res_142959 <= HEX3Atmp_142957)) goto LA9;
I_134812 = Res_142959;
if (!(Result_134777 == ((NU8) 2))) goto LA11;
LOC14 = !(((*(*N_134776).KindU.S6.Sons->data[I_134812]).Kind == ((NU8) 24)));
if (LOC14) goto LA15;
LOC14 = !(((*(*(*N_134776).KindU.S6.Sons->data[I_134812]).KindU.S6.Sons->data[0]).Kind == ((NU8) 3) || (*(*(*N_134776).KindU.S6.Sons->data[I_134812]).KindU.S6.Sons->data[0]).Kind == ((NU8) 2)));
LA15: ;
if (!LOC14) goto LA16;
Limessage_43569((*(*N_134776).KindU.S6.Sons->data[I_134812]).Info, ((NU8) 168), ((NimStringDesc*) &TMP192933));
Result_134777 = ((NU8) 0);
goto BeforeRet;
LA16: ;
goto LA10;
LA11: ;
if (!((*(*N_134776).KindU.S6.Sons->data[I_134812]).Kind == ((NU8) 24))) goto LA19;
Limessage_43569((*(*N_134776).KindU.S6.Sons->data[I_134812]).Info, ((NU8) 169), ((NimStringDesc*) &TMP192933));
Result_134777 = ((NU8) 0);
goto BeforeRet;
LA19: ;
LA10: ;
Res_142959 += 1;
} LA9: ;
LA1: ;
BeforeRet: ;
return Result_134777;
}
N_NIMCALL(TY51526*, Semtuplepositionsconstr_135262)(TY104012* C_135264, TY51526* N_135265) {
TY51526* Result_135266;
TY51552* Typ_135267;
NI I_135276;
NI HEX3Atmp_142963;
NI LOC1;
NI Res_142965;
Result_135266 = 0;
Result_135266 = N_135265;
Typ_135267 = 0;
Typ_135267 = Newtypes_104077(((NU8) 18), C_135264);
I_135276 = 0;
HEX3Atmp_142963 = 0;
LOC1 = Sonslen_51804(N_135265);
HEX3Atmp_142963 = (NI32)(LOC1 - 1);
Res_142965 = 0;
Res_142965 = 0;
while (1) {
if (!(Res_142965 <= HEX3Atmp_142963)) goto LA2;
I_135276 = Res_142965;
asgnRefNoCycle((void**) &(*N_135265).KindU.S6.Sons->data[I_135276], Semexprwithtype_122122(C_135264, (*N_135265).KindU.S6.Sons->data[I_135276], 0));
Addson_51828(Typ_135267, (*(*N_135265).KindU.S6.Sons->data[I_135276]).Typ);
Res_142965 += 1;
} LA2: ;
asgnRef((void**) &(*Result_135266).Typ, Typ_135267);
return Result_135266;
}
N_NIMCALL(TY51526*, Semtuplefieldsconstr_134924)(TY104012* C_134926, TY51526* N_134927) {
TY51526* Result_134928;
TY51901 Ids_134929;
TY51552* Typ_134930;
NI I_134940;
NI HEX3Atmp_142960;
NI LOC1;
NI Res_142962;
NIM_BOOL LOC4;
TY50011* Id_135010;
NIM_BOOL LOC12;
TY51548* F_135201;
TY51526* LOC15;
Result_134928 = 0;
memset((void*)&Ids_134929, 0, sizeof(Ids_134929));
Result_134928 = Newnodei_51738(((NU8) 30), (*N_134927).Info);
Typ_134930 = 0;
Typ_134930 = Newtypes_104077(((NU8) 18), C_134926);
asgnRefNoCycle((void**) &(*Typ_134930).N, Newnodei_51738(((NU8) 113), (*N_134927).Info));
Intsetinit_51925(&Ids_134929);
I_134940 = 0;
HEX3Atmp_142960 = 0;
LOC1 = Sonslen_51804(N_134927);
HEX3Atmp_142960 = (NI32)(LOC1 - 1);
Res_142962 = 0;
Res_142962 = 0;
while (1) {
if (!(Res_142962 <= HEX3Atmp_142960)) goto LA2;
I_134940 = Res_142962;
LOC4 = !(((*(*N_134927).KindU.S6.Sons->data[I_134940]).Kind == ((NU8) 24)));
if (LOC4) goto LA5;
LOC4 = !(((*(*(*N_134927).KindU.S6.Sons->data[I_134940]).KindU.S6.Sons->data[0]).Kind == ((NU8) 3) || (*(*(*N_134927).KindU.S6.Sons->data[I_134940]).KindU.S6.Sons->data[0]).Kind == ((NU8) 2)));
LA5: ;
if (!LOC4) goto LA6;
Illformedast_104092((*N_134927).KindU.S6.Sons->data[I_134940]);
LA6: ;
Id_135010 = 0;
if (!((*(*(*N_134927).KindU.S6.Sons->data[I_134940]).KindU.S6.Sons->data[0]).Kind == ((NU8) 2))) goto LA9;
Id_135010 = (*(*(*N_134927).KindU.S6.Sons->data[I_134940]).KindU.S6.Sons->data[0]).KindU.S5.Ident;
goto LA8;
LA9: ;
Id_135010 = (*(*(*(*N_134927).KindU.S6.Sons->data[I_134940]).KindU.S6.Sons->data[0]).KindU.S4.Sym).Name;
LA8: ;
LOC12 = Intsetcontainsorincl_51929(&Ids_134929, (*Id_135010).Sup.Id);
if (!LOC12) goto LA13;
Limessage_43569((*(*N_134927).KindU.S6.Sons->data[I_134940]).Info, ((NU8) 83), (*Id_135010).S);
LA13: ;
asgnRefNoCycle((void**) &(*(*N_134927).KindU.S6.Sons->data[I_134940]).KindU.S6.Sons->data[1], Semexprwithtype_122122(C_134926, (*(*N_134927).KindU.S6.Sons->data[I_134940]).KindU.S6.Sons->data[1], 0));
F_135201 = 0;
F_135201 = Newsyms_122059(((NU8) 16), (*(*N_134927).KindU.S6.Sons->data[I_134940]).KindU.S6.Sons->data[0], C_134926);
asgnRef((void**) &(*F_135201).Typ, (*(*(*N_134927).KindU.S6.Sons->data[I_134940]).KindU.S6.Sons->data[1]).Typ);
Addson_51828(Typ_134930, (*F_135201).Typ);
LOC15 = 0;
LOC15 = Newsymnode_51735(F_135201);
Addson_51824((*Typ_134930).N, LOC15);
asgnRefNoCycle((void**) &(*(*N_134927).KindU.S6.Sons->data[I_134940]).KindU.S6.Sons->data[0], Newsymnode_51735(F_135201));
Addson_51824(Result_134928, (*N_134927).KindU.S6.Sons->data[I_134940]);
Res_142962 += 1;
} LA2: ;
asgnRef((void**) &(*Result_134928).Typ, Typ_134930);
return Result_134928;
}
N_NIMCALL(TY51526*, Semsetconstr_134395)(TY104012* C_134397, TY51526* N_134398) {
TY51526* Result_134399;
NI LOC2;
TY51552* LOC5;
TY51552* Typ_134402;
NI I_134411;
NI HEX3Atmp_142951;
NI LOC6;
NI Res_142953;
NIM_BOOL LOC18;
NI64 LOC22;
NI I_134673;
NI HEX3Atmp_142954;
NI LOC25;
NI Res_142956;
TY51526* M_134674;
TY51526* LOC30;
TY51526* LOC31;
Result_134399 = 0;
Result_134399 = Newnodei_51738(((NU8) 31), (*N_134398).Info);
asgnRef((void**) &(*Result_134399).Typ, Newtypes_104077(((NU8) 19), C_134397));
LOC2 = Sonslen_51804(N_134398);
if (!(LOC2 == 0)) goto LA3;
LOC5 = 0;
LOC5 = Newtypes_104077(((NU8) 3), C_134397);
Addson_51828((*Result_134399).Typ, LOC5);
goto LA1;
LA3: ;
Typ_134402 = 0;
Typ_134402 = NIM_NIL;
I_134411 = 0;
HEX3Atmp_142951 = 0;
LOC6 = Sonslen_51804(N_134398);
HEX3Atmp_142951 = (NI32)(LOC6 - 1);
Res_142953 = 0;
Res_142953 = 0;
while (1) {
if (!(Res_142953 <= HEX3Atmp_142951)) goto LA7;
I_134411 = Res_142953;
if (!((*(*N_134398).KindU.S6.Sons->data[I_134411]).Kind == ((NU8) 35))) goto LA9;
Checksonslen_104099((*N_134398).KindU.S6.Sons->data[I_134411], 2);
asgnRefNoCycle((void**) &(*(*N_134398).KindU.S6.Sons->data[I_134411]).KindU.S6.Sons->data[0], Semexprwithtype_122122(C_134397, (*(*N_134398).KindU.S6.Sons->data[I_134411]).KindU.S6.Sons->data[0], 0));
asgnRefNoCycle((void**) &(*(*N_134398).KindU.S6.Sons->data[I_134411]).KindU.S6.Sons->data[1], Semexprwithtype_122122(C_134397, (*(*N_134398).KindU.S6.Sons->data[I_134411]).KindU.S6.Sons->data[1], 0));
if (!(Typ_134402 == NIM_NIL)) goto LA12;
Typ_134402 = Skiptypes_94087((*(*(*N_134398).KindU.S6.Sons->data[I_134411]).KindU.S6.Sons->data[0]).Typ, 8423424);
LA12: ;
asgnRef((void**) &(*(*N_134398).KindU.S6.Sons->data[I_134411]).Typ, (*(*(*N_134398).KindU.S6.Sons->data[I_134411]).KindU.S6.Sons->data[1]).Typ);
goto LA8;
LA9: ;
asgnRefNoCycle((void**) &(*N_134398).KindU.S6.Sons->data[I_134411], Semexprwithtype_122122(C_134397, (*N_134398).KindU.S6.Sons->data[I_134411], 0));
if (!(Typ_134402 == NIM_NIL)) goto LA15;
Typ_134402 = Skiptypes_94087((*(*N_134398).KindU.S6.Sons->data[I_134411]).Typ, 8423424);
LA15: ;
LA8: ;
Res_142953 += 1;
} LA7: ;
LOC18 = Isordinaltype_94069(Typ_134402);
if (!!(LOC18)) goto LA19;
Limessage_43569((*N_134398).Info, ((NU8) 71), ((NimStringDesc*) &TMP192933));
goto BeforeRet;
LA19: ;
LOC22 = Lengthord_94007(Typ_134402);
if (!(65536 < LOC22)) goto LA23;
Typ_134402 = Makerangetype_104086(C_134397, 0, 65535, (*N_134398).Info);
LA23: ;
Addson_51828((*Result_134399).Typ, Typ_134402);
I_134673 = 0;
HEX3Atmp_142954 = 0;
LOC25 = Sonslen_51804(N_134398);
HEX3Atmp_142954 = (NI32)(LOC25 - 1);
Res_142956 = 0;
Res_142956 = 0;
while (1) {
if (!(Res_142956 <= HEX3Atmp_142954)) goto LA26;
I_134673 = Res_142956;
M_134674 = 0;
if (!((*(*N_134398).KindU.S6.Sons->data[I_134673]).Kind == ((NU8) 35))) goto LA28;
M_134674 = Newnodei_51738(((NU8) 35), (*(*N_134398).KindU.S6.Sons->data[I_134673]).Info);
LOC30 = 0;
LOC30 = Fitnode_122129(C_134397, Typ_134402, (*(*N_134398).KindU.S6.Sons->data[I_134673]).KindU.S6.Sons->data[0]);
Addson_51824(M_134674, LOC30);
LOC31 = 0;
LOC31 = Fitnode_122129(C_134397, Typ_134402, (*(*N_134398).KindU.S6.Sons->data[I_134673]).KindU.S6.Sons->data[1]);
Addson_51824(M_134674, LOC31);
goto LA27;
LA28: ;
M_134674 = Fitnode_122129(C_134397, Typ_134402, (*N_134398).KindU.S6.Sons->data[I_134673]);
LA27: ;
Addson_51824(Result_134399, M_134674);
Res_142956 += 1;
} LA26: ;
LA1: ;
BeforeRet: ;
return Result_134399;
}
N_NIMCALL(TY51526*, Semlambda_122134)(TY104012* C_122136, TY51526* N_122137) {
TY51526* Result_141429;
TY51548* S_141430;
TY50011* LOC1;
TY51548* LOC2;
TY104006* Oldp_141431;
Result_141429 = 0;
Result_141429 = N_122137;
Checksonslen_104099(N_122137, 5);
S_141430 = 0;
LOC1 = 0;
LOC1 = Getident_50016(((NimStringDesc*) &TMP193208));
LOC2 = 0;
LOC2 = Getcurrowner_104107();
S_141430 = Newsym_51702(((NU8) 10), LOC1, LOC2);
(*S_141430).Info = (*N_122137).Info;
Oldp_141431 = 0;
Oldp_141431 = (*C_122136).P;
asgnRefNoCycle((void**) &(*S_141430).Ast, N_122137);
asgnRefNoCycle((void**) &(*N_122137).KindU.S6.Sons->data[0], Newsymnode_51735(S_141430));
Pushowner_104109(S_141430);
Openscope_56146(&(*C_122136).Tab);
if (!!(((*N_122137).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA4;
Illformedast_104092(N_122137);
LA4: ;
if (!!(((*N_122137).KindU.S6.Sons->data[2] == NIM_NIL))) goto LA7;
Semparamlist_122147(C_122136, (*N_122137).KindU.S6.Sons->data[2], NIM_NIL, S_141430);
Addparams_122153(C_122136, (*(*S_141430).Typ).N);
goto LA6;
LA7: ;
asgnRef((void**) &(*S_141430).Typ, Newtypes_104077(((NU8) 25), C_122136));
Addson_51828((*S_141430).Typ, NIM_NIL);
LA6: ;
(*(*S_141430).Typ).Callconv = ((NU8) 8);
if (!!(((*N_122137).KindU.S6.Sons->data[3] == NIM_NIL))) goto LA10;
Pragma_119028(C_122136, S_141430, (*N_122137).KindU.S6.Sons->data[3], TMP193209);
LA10: ;
(*S_141430).Options = Goptions_42077;
if (!!(((*N_122137).KindU.S6.Sons->data[4] == NIM_NIL))) goto LA13;
if (!(((*S_141430).Flags &(1<<((((NU8) 7))&31)))!=0)) goto LA16;
Limessage_43569((*(*N_122137).KindU.S6.Sons->data[4]).Info, ((NU8) 134), (*(*S_141430).Name).S);
LA16: ;
asgnRefNoCycle((void**) &(*C_122136).P, Newproccon_104050(S_141430));
Addresult_122157(C_122136, (*(*S_141430).Typ).Sons->data[0], (*N_122137).Info);
asgnRefNoCycle((void**) &(*N_122137).KindU.S6.Sons->data[4], Semstmtscope_122104(C_122136, (*N_122137).KindU.S6.Sons->data[4]));
Addresultnode_122162(C_122136, N_122137);
goto LA12;
LA13: ;
Limessage_43569((*N_122137).Info, ((NU8) 135), (*(*S_141430).Name).S);
LA12: ;
Closescope_105018(&(*C_122136).Tab);
Popowner_104112();
asgnRefNoCycle((void**) &(*C_122136).P, Oldp_141431);
asgnRef((void**) &(*Result_141429).Typ, (*S_141430).Typ);
return Result_141429;
}
N_NIMCALL(NIM_BOOL, Iscastable_130310)(TY51552* Dst_130312, TY51552* Src_130313) {
NIM_BOOL Result_130314;
NI64 Ds_130315;
NI64 Ss_130316;
NIM_BOOL LOC6;
NIM_BOOL LOC7;
TY51552* LOC9;
TY51552* LOC11;
Result_130314 = 0;
Ds_130315 = 0;
Ss_130316 = 0;
Ds_130315 = Computesize_94112(Dst_130312);
Ss_130316 = Computesize_94112(Src_130313);
if (!(Ds_130315 < 0)) goto LA2;
Result_130314 = NIM_FALSE;
goto LA1;
LA2: ;
if (!(Ss_130316 < 0)) goto LA4;
Result_130314 = NIM_FALSE;
goto LA1;
LA4: ;
LOC7 = (Ss_130316 <= Ds_130315);
if (LOC7) goto LA8;
LOC9 = 0;
LOC9 = Skiptypes_94087(Dst_130312, 43008);
LOC7 = ((*LOC9).Kind >= ((NU8) 31) && (*LOC9).Kind <= ((NU8) 39));
LA8: ;
LOC6 = LOC7;
if (LOC6) goto LA10;
LOC11 = 0;
LOC11 = Skiptypes_94087(Src_130313, 43008);
LOC6 = ((*LOC11).Kind >= ((NU8) 31) && (*LOC11).Kind <= ((NU8) 39));
LA10: ;
Result_130314 = LOC6;
LA1: ;
return Result_130314;
}
N_NIMCALL(TY51526*, Semcast_130498)(TY104012* C_130500, TY51526* N_130501) {
TY51526* Result_130502;
TY51526* LOC4;
TY51526* LOC5;
NIM_BOOL LOC7;
NimStringDesc* LOC10;
Result_130502 = 0;
if (!((Gglobaloptions_42079 &(1<<((((NU8) 8))&31)))!=0)) goto LA2;
Limessage_43569((*N_130501).Info, ((NU8) 88), ((NimStringDesc*) &TMP192933));
LA2: ;
(*(*(*C_130500).P).Owner).Flags |=(1<<((NI32)(((NU8) 14))%(sizeof(NI32)*8)));
Checksonslen_104099(N_130501, 2);
Result_130502 = Newnodei_51738(((NU8) 51), (*N_130501).Info);
asgnRef((void**) &(*Result_130502).Typ, Semtypenode_122138(C_130500, (*N_130501).KindU.S6.Sons->data[0], NIM_NIL));
LOC4 = 0;
LOC4 = Copytree_51859((*N_130501).KindU.S6.Sons->data[0]);
Addson_51824(Result_130502, LOC4);
LOC5 = 0;
LOC5 = Semexprwithtype_122122(C_130500, (*N_130501).KindU.S6.Sons->data[1], 0);
Addson_51824(Result_130502, LOC5);
LOC7 = Iscastable_130310((*Result_130502).Typ, (*(*Result_130502).KindU.S6.Sons->data[1]).Typ);
if (!!(LOC7)) goto LA8;
LOC10 = 0;
LOC10 = Typetostring_94014((*Result_130502).Typ, ((NU8) 0));
Limessage_43569((*Result_130502).Info, ((NU8) 89), LOC10);
LA8: ;
return Result_130502;
}
N_NIMCALL(TY51526*, Semifexpr_134201)(TY104012* C_134203, TY51526* N_134204) {
TY51526* Result_134205;
TY51552* Typ_134206;
NI I_134215;
NI HEX3Atmp_142948;
NI LOC1;
NI Res_142950;
TY51526* It_134228;
Result_134205 = 0;
Result_134205 = N_134204;
Checkminsonslen_104103(N_134204, 2);
Typ_134206 = 0;
Typ_134206 = NIM_NIL;
I_134215 = 0;
HEX3Atmp_142948 = 0;
LOC1 = Sonslen_51804(N_134204);
HEX3Atmp_142948 = (NI32)(LOC1 - 1);
Res_142950 = 0;
Res_142950 = 0;
while (1) {
if (!(Res_142950 <= HEX3Atmp_142948)) goto LA2;
I_134215 = Res_142950;
It_134228 = 0;
It_134228 = (*N_134204).KindU.S6.Sons->data[I_134215];
switch ((*It_134228).Kind) {
case ((NU8) 40):
Checksonslen_104099(It_134228, 2);
asgnRefNoCycle((void**) &(*It_134228).KindU.S6.Sons->data[0], Semexprwithtype_122122(C_134203, (*It_134228).KindU.S6.Sons->data[0], 0));
Checkbool_126881((*It_134228).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*It_134228).KindU.S6.Sons->data[1], Semexprwithtype_122122(C_134203, (*It_134228).KindU.S6.Sons->data[1], 0));
if (!(Typ_134206 == NIM_NIL)) goto LA4;
Typ_134206 = (*(*It_134228).KindU.S6.Sons->data[1]).Typ;
goto LA3;
LA4: ;
asgnRefNoCycle((void**) &(*It_134228).KindU.S6.Sons->data[1], Fitnode_122129(C_134203, Typ_134206, (*It_134228).KindU.S6.Sons->data[1]));
LA3: ;
break;
case ((NU8) 41):
Checksonslen_104099(It_134228, 1);
asgnRefNoCycle((void**) &(*It_134228).KindU.S6.Sons->data[0], Semexprwithtype_122122(C_134203, (*It_134228).KindU.S6.Sons->data[0], 0));
if (!(Typ_134206 == NIM_NIL)) goto LA7;
Internalerror_43574((*It_134228).Info, ((NimStringDesc*) &TMP193211));
LA7: ;
asgnRefNoCycle((void**) &(*It_134228).KindU.S6.Sons->data[0], Fitnode_122129(C_134203, Typ_134206, (*It_134228).KindU.S6.Sons->data[0]));
break;
default:
Illformedast_104092(N_134204);
break;
}
Res_142950 += 1;
} LA2: ;
asgnRef((void**) &(*Result_134205).Typ, Typ_134206);
return Result_134205;
}
N_NIMCALL(TY51526*, Semstmtlistexpr_135313)(TY104012* C_135315, TY51526* N_135316) {
TY51526* Result_135317;
NI Length_135318;
NI I_135327;
NI HEX3Atmp_142966;
NI Res_142968;
Result_135317 = 0;
Result_135317 = N_135316;
Checkminsonslen_104103(N_135316, 1);
Length_135318 = 0;
Length_135318 = Sonslen_51804(N_135316);
I_135327 = 0;
HEX3Atmp_142966 = 0;
HEX3Atmp_142966 = (NI32)(Length_135318 - 2);
Res_142968 = 0;
Res_142968 = 0;
while (1) {
if (!(Res_142968 <= HEX3Atmp_142966)) goto LA1;
I_135327 = Res_142968;
asgnRefNoCycle((void**) &(*N_135316).KindU.S6.Sons->data[I_135327], Semstmt_122143(C_135315, (*N_135316).KindU.S6.Sons->data[I_135327]));
Res_142968 += 1;
} LA1: ;
if (!(0 < Length_135318)) goto LA3;
asgnRefNoCycle((void**) &(*N_135316).KindU.S6.Sons->data[(NI32)(Length_135318 - 1)], Semexprwithtype_122122(C_135315, (*N_135316).KindU.S6.Sons->data[(NI32)(Length_135318 - 1)], 0));
asgnRef((void**) &(*N_135316).Typ, (*(*N_135316).KindU.S6.Sons->data[(NI32)(Length_135318 - 1)]).Typ);
LA3: ;
return Result_135317;
}
N_NIMCALL(TY51526*, Semblockexpr_135392)(TY104012* C_135394, TY51526* N_135395) {
TY51526* Result_135396;
TY51548* LOC4;
Result_135396 = 0;
Result_135396 = N_135395;
(*(*C_135394).P).Nestedblockcounter += 1;
Checksonslen_104099(N_135395, 2);
Openscope_56146(&(*C_135394).Tab);
if (!!(((*N_135395).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA2;
LOC4 = 0;
LOC4 = Newsyms_122059(((NU8) 19), (*N_135395).KindU.S6.Sons->data[0], C_135394);
Adddecl_105114(C_135394, LOC4);
LA2: ;
asgnRefNoCycle((void**) &(*N_135395).KindU.S6.Sons->data[1], Semstmtlistexpr_135313(C_135394, (*N_135395).KindU.S6.Sons->data[1]));
asgnRef((void**) &(*N_135395).Typ, (*(*N_135395).KindU.S6.Sons->data[1]).Typ);
Closescope_105018(&(*C_135394).Tab);
(*(*C_135394).P).Nestedblockcounter -= 1;
return Result_135396;
}
N_NIMCALL(TY51526*, Semexpr_122115)(TY104012* C_122117, TY51526* N_122118, NU8 Flags_122121) {
TY51526* Result_135664;
TY51548* S_135687;
TY51548* S_135855;
TY51548* S_135919;
NIM_BOOL LOC55;
NU8 LOC59;
TY51552* T_135992;
NU8 LOC61;
NimStringDesc* LOC64;
NimStringDesc* LOC65;
Result_135664 = 0;
Result_135664 = N_122118;
if (!(N_122118 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
if (!(((*N_122118).Flags &(1<<((((NU8) 6))&7)))!=0)) goto LA5;
goto BeforeRet;
LA5: ;
switch ((*N_122118).Kind) {
case ((NU8) 2):
S_135687 = 0;
S_135687 = Lookup_105245(C_122117, N_122118);
Result_135664 = Semsym_130092(C_122117, N_122118, S_135687, Flags_122121);
break;
case ((NU8) 3):
Result_135664 = Semsym_130092(C_122117, N_122118, (*N_122118).KindU.S4.Sym, Flags_122121);
break;
case ((NU8) 1):
case ((NU8) 0):
break;
case ((NU8) 18):
asgnRef((void**) &(*Result_135664).Typ, Getsystype_99008(((NU8) 5)));
break;
case ((NU8) 4):
if (!!(((Flags_122121 &(1<<((((NU8) 0))&7)))!=0))) goto LA8;
Limessage_43569((*N_122118).Info, ((NU8) 162), ((NimStringDesc*) &TMP192933));
LA8: ;
asgnRef((void**) &(*N_122118).Typ, Semtypenode_122138(C_122117, N_122118, NIM_NIL));
break;
case ((NU8) 6):
if (!((*Result_135664).Typ == NIM_NIL)) goto LA11;
asgnRef((void**) &(*Result_135664).Typ, Getsystype_99008(((NU8) 31)));
LA11: ;
break;
case ((NU8) 7):
if (!((*Result_135664).Typ == NIM_NIL)) goto LA14;
asgnRef((void**) &(*Result_135664).Typ, Getsystype_99008(((NU8) 32)));
LA14: ;
break;
case ((NU8) 8):
if (!((*Result_135664).Typ == NIM_NIL)) goto LA17;
asgnRef((void**) &(*Result_135664).Typ, Getsystype_99008(((NU8) 33)));
LA17: ;
break;
case ((NU8) 9):
if (!((*Result_135664).Typ == NIM_NIL)) goto LA20;
asgnRef((void**) &(*Result_135664).Typ, Getsystype_99008(((NU8) 34)));
LA20: ;
break;
case ((NU8) 10):
if (!((*Result_135664).Typ == NIM_NIL)) goto LA23;
asgnRef((void**) &(*Result_135664).Typ, Getsystype_99008(((NU8) 35)));
LA23: ;
break;
case ((NU8) 11):
if (!((*Result_135664).Typ == NIM_NIL)) goto LA26;
asgnRef((void**) &(*Result_135664).Typ, Getsystype_99008(((NU8) 36)));
LA26: ;
break;
case ((NU8) 12):
if (!((*Result_135664).Typ == NIM_NIL)) goto LA29;
asgnRef((void**) &(*Result_135664).Typ, Getsystype_99008(((NU8) 37)));
LA29: ;
break;
case ((NU8) 13):
if (!((*Result_135664).Typ == NIM_NIL)) goto LA32;
asgnRef((void**) &(*Result_135664).Typ, Getsystype_99008(((NU8) 38)));
LA32: ;
break;
case ((NU8) 14) ... ((NU8) 16):
if (!((*Result_135664).Typ == NIM_NIL)) goto LA35;
asgnRef((void**) &(*Result_135664).Typ, Getsystype_99008(((NU8) 28)));
LA35: ;
break;
case ((NU8) 5):
if (!((*Result_135664).Typ == NIM_NIL)) goto LA38;
asgnRef((void**) &(*Result_135664).Typ, Getsystype_99008(((NU8) 2)));
LA38: ;
break;
case ((NU8) 36):
Result_135664 = Semfieldaccess_130044(C_122117, N_122118, Flags_122121);
if (!((*Result_135664).Kind == ((NU8) 19))) goto LA41;
(*Result_135664).Kind = ((NU8) 21);
Result_135664 = Semexpr_122115(C_122117, Result_135664, Flags_122121);
LA41: ;
break;
case ((NU8) 45):
Result_135664 = Semexpr_122115(C_122117, (*N_122118).KindU.S6.Sons->data[0], Flags_122121);
break;
case ((NU8) 21):
case ((NU8) 27):
case ((NU8) 28):
case ((NU8) 29):
case ((NU8) 20):
case ((NU8) 22):
Checkminsonslen_104103(N_122118, 1);
S_135855 = 0;
S_135855 = Qualifiedlookup_105322(C_122117, (*N_122118).KindU.S6.Sons->data[0], 2);
if (!!((S_135855 == NIM_NIL))) goto LA44;
switch ((*S_135855).Kind) {
case ((NU8) 14):
Result_135664 = Semmacroexpr_123085(C_122117, N_122118, S_135855, NIM_TRUE);
break;
case ((NU8) 15):
Result_135664 = Semtemplateexpr_130037(C_122117, N_122118, S_135855, NIM_TRUE);
break;
case ((NU8) 7):
if (!!(((*N_122118).Kind == ((NU8) 21)))) goto LA47;
Limessage_43569((*N_122118).Info, ((NU8) 151), (*(*S_135855).Name).S);
LA47: ;
Result_135664 = Semconv_130351(C_122117, N_122118, S_135855);
break;
case ((NU8) 10):
case ((NU8) 11):
case ((NU8) 13):
case ((NU8) 12):
if (!((*S_135855).Magic == ((NU8) 0))) goto LA50;
Result_135664 = Semdirectop_132682(C_122117, N_122118, Flags_122121);
goto LA49;
LA50: ;
Result_135664 = Semmagic_133019(C_122117, N_122118, S_135855, Flags_122121);
LA49: ;
break;
default:
Result_135664 = Semindirectop_132364(C_122117, N_122118, Flags_122121);
break;
}
goto LA43;
LA44: ;
if (!((*(*N_122118).KindU.S6.Sons->data[0]).Kind == ((NU8) 46))) goto LA52;
Result_135664 = Semdirectop_132682(C_122117, N_122118, Flags_122121);
goto LA43;
LA52: ;
Result_135664 = Semindirectop_132364(C_122117, N_122118, Flags_122121);
LA43: ;
break;
case ((NU8) 79):
Result_135664 = Semmacrostmt_135510(C_122117, N_122118, NIM_TRUE);
break;
case ((NU8) 33):
Checkminsonslen_104103(N_122118, 1);
S_135919 = 0;
S_135919 = Qualifiedlookup_105322(C_122117, (*N_122118).KindU.S6.Sons->data[0], 2);
LOC55 = !((S_135919 == NIM_NIL));
if (!(LOC55)) goto LA56;
LOC55 = ((15360 &(1<<(((*S_135919).Kind)&31)))!=0);
LA56: ;
if (!LOC55) goto LA57;
Result_135664 = Explictgenericinstantiation_126751(C_122117, N_122118, S_135919);
goto LA54;
LA57: ;
Result_135664 = Semarrayaccess_134163(C_122117, N_122118, Flags_122121);
LA54: ;
break;
case ((NU8) 34):
Internalerror_43574((*N_122118).Info, ((NimStringDesc*) &TMP193207));
break;
case ((NU8) 30):
LOC59 = Checkpar_134774(N_122118);
switch (LOC59) {
case ((NU8) 0):
Result_135664 = NIM_NIL;
break;
case ((NU8) 3):
Result_135664 = Semtuplepositionsconstr_135262(C_122117, N_122118);
break;
case ((NU8) 2):
Result_135664 = Semtuplefieldsconstr_134924(C_122117, N_122118);
break;
case ((NU8) 1):
Result_135664 = Semexpr_122115(C_122117, (*N_122118).KindU.S6.Sons->data[0], 0);
break;
}
break;
case ((NU8) 31):
Result_135664 = Semsetconstr_134395(C_122117, N_122118);
break;
case ((NU8) 32):
Result_135664 = Semarrayconstr_131183(C_122117, N_122118);
break;
case ((NU8) 42):
Result_135664 = Semlambda_122134(C_122117, N_122118);
break;
case ((NU8) 38):
Checksonslen_104099(N_122118, 1);
asgnRefNoCycle((void**) &(*N_122118).KindU.S6.Sons->data[0], Semexprwithtype_122122(C_122117, (*N_122118).KindU.S6.Sons->data[0], 0));
Result_135664 = N_122118;
T_135992 = 0;
T_135992 = Skiptypes_94087((*(*N_122118).KindU.S6.Sons->data[0]).Typ, 8390656);
switch ((*T_135992).Kind) {
case ((NU8) 22):
case ((NU8) 21):
asgnRef((void**) &(*N_122118).Typ, (*T_135992).Sons->data[0]);
break;
default:
Limessage_43569((*(*N_122118).KindU.S6.Sons->data[0]).Info, ((NU8) 164), ((NimStringDesc*) &TMP192933));
break;
}
Result_135664 = N_122118;
break;
case ((NU8) 52):
Result_135664 = N_122118;
Checksonslen_104099(N_122118, 1);
asgnRefNoCycle((void**) &(*N_122118).KindU.S6.Sons->data[0], Semexprwithtype_122122(C_122117, (*N_122118).KindU.S6.Sons->data[0], 0));
LOC61 = Isassignable_131610((*N_122118).KindU.S6.Sons->data[0]);
if (!!((LOC61 == ((NU8) 1)))) goto LA62;
Limessage_43569((*N_122118).Info, ((NU8) 123), ((NimStringDesc*) &TMP192933));
LA62: ;
asgnRef((void**) &(*N_122118).Typ, Makeptrtype_104069(C_122117, (*(*N_122118).KindU.S6.Sons->data[0]).Typ));
break;
case ((NU8) 53):
case ((NU8) 54):
Checksonslen_104099(N_122118, 1);
asgnRefNoCycle((void**) &(*N_122118).KindU.S6.Sons->data[0], Semexpr_122115(C_122117, (*N_122118).KindU.S6.Sons->data[0], Flags_122121));
break;
case ((NU8) 51):
Result_135664 = Semcast_130498(C_122117, N_122118);
break;
case ((NU8) 43):
Checksonslen_104099(N_122118, 1);
Result_135664 = Semexpr_122115(C_122117, (*N_122118).KindU.S6.Sons->data[0], 0);
break;
case ((NU8) 39):
Result_135664 = Semifexpr_134201(C_122117, N_122118);
break;
case ((NU8) 106):
Result_135664 = Semstmtlistexpr_135313(C_122117, N_122118);
break;
case ((NU8) 107):
Result_135664 = Semblockexpr_135392(C_122117, N_122118);
break;
case ((NU8) 47):
case ((NU8) 48):
case ((NU8) 50):
case ((NU8) 49):
Checksonslen_104099(N_122118, 2);
break;
case ((NU8) 60):
case ((NU8) 61):
case ((NU8) 62):
case ((NU8) 55):
case ((NU8) 56):
Checksonslen_104099(N_122118, 1);
break;
case ((NU8) 57):
case ((NU8) 58):
case ((NU8) 59):
Checksonslen_104099(N_122118, 3);
break;
case ((NU8) 37):
Checkminsonslen_104103(N_122118, 2);
break;
case ((NU8) 46):
LOC64 = 0;
LOC64 = Rendertree_82042(N_122118, 4);
Limessage_43569((*N_122118).Info, ((NU8) 69), LOC64);
break;
default:
LOC65 = 0;
LOC65 = Rendertree_82042(N_122118, 4);
Limessage_43569((*N_122118).Info, ((NU8) 166), LOC65);
break;
}
(*Result_135664).Flags |=(1<<((NI8)(((NU8) 6))%(sizeof(NI8)*8)));
BeforeRet: ;
return Result_135664;
}
N_NIMCALL(TY51526*, Semexprwithtype_122122)(TY104012* C_122124, TY51526* N_122125, NU8 Flags_122128) {
TY51526* Result_130058;
NimStringDesc* LOC7;
TY51526* D_130091;
Result_130058 = 0;
Result_130058 = Semexpr_122115(C_122124, N_122125, Flags_122128);
if (!(Result_130058 == NIM_NIL)) goto LA2;
Internalerror_43578(((NimStringDesc*) &TMP193212));
LA2: ;
if (!((*Result_130058).Typ == NIM_NIL)) goto LA5;
LOC7 = 0;
LOC7 = Rendertree_82042(Result_130058, 4);
Limessage_43569((*N_122125).Info, ((NU8) 87), LOC7);
LA5: ;
if (!((*(*Result_130058).Typ).Kind == ((NU8) 23))) goto LA9;
D_130091 = 0;
D_130091 = Newnodeit_51742(((NU8) 54), (*Result_130058).Info, (*(*Result_130058).Typ).Sons->data[0]);
Addson_51824(D_130091, Result_130058);
Result_130058 = D_130091;
LA9: ;
return Result_130058;
}
N_NIMCALL(TY51526*, Semconstexpr_122171)(TY104012* C_122173, TY51526* N_122174) {
TY51526* Result_122175;
Result_122175 = 0;
Result_122175 = Semexprwithtype_122122(C_122173, N_122174, 0);
if (!(Result_122175 == NIM_NIL)) goto LA2;
Limessage_43569((*N_122174).Info, ((NU8) 102), ((NimStringDesc*) &TMP192933));
goto BeforeRet;
LA2: ;
Result_122175 = Getconstexpr_110010((*C_122173).Module, Result_122175);
if (!(Result_122175 == NIM_NIL)) goto LA5;
Limessage_43569((*N_122174).Info, ((NU8) 102), ((NimStringDesc*) &TMP192933));
LA5: ;
BeforeRet: ;
return Result_122175;
}
N_NIMCALL(TY51526*, Semexprnoflags_143221)(TY104012* C_143223, TY51526* N_143224) {
TY51526* Result_143225;
Result_143225 = 0;
Result_143225 = Semexpr_122115(C_143223, N_143224, 0);
return Result_143225;
}
N_NIMCALL(TY102002*, Myopen_143228)(TY51548* Module_143230, NimStringDesc* Filename_143231) {
TY102002* Result_143232;
TY104012* C_143233;
Result_143232 = 0;
C_143233 = 0;
C_143233 = Newcontext_104046(Module_143230, Filename_143231);
if (!!(((*C_143233).P == NIM_NIL))) goto LA2;
Internalerror_43574((*Module_143230).Info, ((NimStringDesc*) &TMP192931));
LA2: ;
(*C_143233).Semconstexpr = Semconstexpr_122171;
(*C_143233).Semexpr = Semexprnoflags_143221;
asgnRefNoCycle((void**) &(*C_143233).P, Newproccon_104050(Module_143230));
Pushowner_104109((*C_143233).Module);
Openscope_56146(&(*C_143233).Tab);
Symtabadd_56124(&(*C_143233).Tab, Module_143230);
if (!(((*Module_143230).Flags &(1<<((((NU8) 16))&31)))!=0)) goto LA5;
asgnRef((void**) &Systemmodule_99004, Module_143230);
Initsystem_99017(&(*C_143233).Tab);
goto LA4;
LA5: ;
Symtabadd_56124(&(*C_143233).Tab, Systemmodule_99004);
Importallsymbols_107009(C_143233, Systemmodule_99004);
LA4: ;
Openscope_56146(&(*C_143233).Tab);
Result_143232 = &C_143233->Sup;
return Result_143232;
}
N_NIMCALL(TY102002*, Myopencached_143261)(TY51548* Module_143263, NimStringDesc* Filename_143264, TY90031* Rd_143265) {
TY102002* Result_143266;
TY104012* C_143267;
TY102002* LOC1;
Result_143266 = 0;
C_143267 = 0;
LOC1 = 0;
LOC1 = Myopen_143228(Module_143263, Filename_143264);
C_143267 = ((TY104012*) (LOC1));
(*C_143267).Fromcache = NIM_TRUE;
Result_143266 = &C_143267->Sup;
return Result_143266;
}
N_NIMCALL(void, Addcodeforgenerics_143102)(TY104012* C_143104, TY51526* N_143105) {
NI I_143114;
NI HEX3Atmp_143217;
NI HEX3Atmp_143218;
NI LOC1;
NI Res_143220;
TY51526* It_143139;
TY51548* Prc_143161;
NIM_BOOL LOC7;
NIM_BOOL LOC12;
NimStringDesc* LOC16;
I_143114 = 0;
HEX3Atmp_143217 = 0;
HEX3Atmp_143218 = 0;
HEX3Atmp_143217 = (*C_143104).Lastgenericidx;
LOC1 = Sonslen_51804((*C_143104).Generics);
HEX3Atmp_143218 = (NI32)(LOC1 - 1);
Res_143220 = 0;
Res_143220 = HEX3Atmp_143217;
while (1) {
if (!(Res_143220 <= HEX3Atmp_143218)) goto LA2;
I_143114 = Res_143220;
It_143139 = 0;
It_143139 = (*(*(*C_143104).Generics).KindU.S6.Sons->data[I_143114]).KindU.S6.Sons->data[1];
if (!!(((*It_143139).Kind == ((NU8) 3)))) goto LA4;
Internalerror_43578(((NimStringDesc*) &TMP193214));
LA4: ;
Prc_143161 = 0;
Prc_143161 = (*It_143139).KindU.S4.Sym;
LOC7 = ((11264 &(1<<(((*Prc_143161).Kind)&31)))!=0);
if (!(LOC7)) goto LA8;
LOC7 = ((*Prc_143161).Magic == ((NU8) 0));
LA8: ;
if (!LOC7) goto LA9;
LOC12 = ((*Prc_143161).Ast == NIM_NIL);
if (LOC12) goto LA13;
LOC12 = ((*(*Prc_143161).Ast).KindU.S6.Sons->data[4] == NIM_NIL);
LA13: ;
if (!LOC12) goto LA14;
LOC16 = 0;
LOC16 = rawNewString((*(*Prc_143161).Name).S->Sup.len + 12);
appendString(LOC16, ((NimStringDesc*) &TMP193215));
appendString(LOC16, (*(*Prc_143161).Name).S);
Internalerror_43574((*Prc_143161).Info, LOC16);
LA14: ;
Addson_51824(N_143105, (*Prc_143161).Ast);
LA9: ;
Res_143220 += 1;
} LA2: ;
(*C_143104).Lastgenericidx = Sonslen_51804((*C_143104).Generics);
}
N_NIMCALL(TY51526*, Myclose_143283)(TY102002* Context_143285, TY51526* N_143286) {
TY51526* Result_143287;
TY104012* C_143288;
Result_143287 = 0;
C_143288 = 0;
C_143288 = ((TY104012*) (Context_143285));
Closescope_105018(&(*C_143288).Tab);
Rawclosescope_56150(&(*C_143288).Tab);
if (!(N_143286 == NIM_NIL)) goto LA2;
Result_143287 = Newnode_51711(((NU8) 101));
goto LA1;
LA2: ;
Internalerror_43574((*N_143286).Info, ((NimStringDesc*) &TMP193213));
LA1: ;
Addcodeforgenerics_143102(C_143288, Result_143287);
Popowner_104112();
asgnRefNoCycle((void**) &(*C_143288).P, NIM_NIL);
return Result_143287;
}
N_NIMCALL(TY51526*, Myprocess_143268)(TY102002* Context_143270, TY51526* N_143271) {
TY51526* Result_143272;
TY104012* C_143273;
NI LOC2;
TY51526* A_143278;
NI LOC6;
Result_143272 = 0;
Result_143272 = NIM_NIL;
C_143273 = 0;
C_143273 = ((TY104012*) (Context_143270));
Result_143272 = Semstmt_122143(C_143273, N_143271);
LOC2 = Sonslen_51804((*C_143273).Generics);
if (!(0 < LOC2)) goto LA3;
A_143278 = 0;
A_143278 = Newnodei_51738(((NU8) 101), (*N_143271).Info);
Addcodeforgenerics_143102(C_143273, A_143278);
LOC6 = Sonslen_51804(A_143278);
if (!(0 < LOC6)) goto LA7;
Addsonifnotnil_51832(A_143278, Result_143272);
Result_143272 = A_143278;
LA7: ;
LA3: ;
return Result_143272;
}
N_NIMCALL(TY102006, Sempass_122001)(void) {
TY102006 Result_143304;
memset((void*)&Result_143304, 0, sizeof(Result_143304));
Initpass_102031(&Result_143304);
Result_143304.Open = Myopen_143228;
Result_143304.Opencached = Myopencached_143261;
Result_143304.Close = Myclose_143283;
Result_143304.Process = Myprocess_143268;
return Result_143304;
}
N_NOINLINE(void, semInit)(void) {
Evaltemplatecounter_122426 = 0;
}

