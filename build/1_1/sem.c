/* Generated by Nimrod Compiler v0.8.11 */
/*   (c) 2011 Andreas Rumpf */

typedef long int NI;
typedef unsigned long int NU;
#include "nimbase.h"

typedef struct TY100006 TY100006;
typedef struct TY100002 TY100002;
typedef struct TY50547 TY50547;
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct TY88031 TY88031;
typedef struct TY50525 TY50525;
typedef struct TY102012 TY102012;
typedef struct TNimObject TNimObject;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct TY102006 TY102006;
typedef struct TY55104 TY55104;
typedef struct TY55106 TY55106;
typedef struct TY50529 TY50529;
typedef struct TY50527 TY50527;
typedef struct TY50900 TY50900;
typedef struct TY50896 TY50896;
typedef struct TY50898 TY50898;
typedef struct TY38019 TY38019;
typedef struct TY38013 TY38013;
typedef struct TY42536 TY42536;
typedef struct TY49005 TY49005;
typedef struct TY50551 TY50551;
typedef struct TY49011 TY49011;
typedef struct TY50539 TY50539;
typedef struct TY47008 TY47008;
typedef struct TY50543 TY50543;
typedef struct TY50519 TY50519;
typedef struct TY50549 TY50549;
typedef struct TY103004 TY103004;
typedef struct TY55089 TY55089;
typedef struct TY10202 TY10202;
typedef struct TY10214 TY10214;
typedef struct TY10590 TY10590;
typedef struct TY10218 TY10218;
typedef struct TY10210 TY10210;
typedef struct TY10588 TY10588;
typedef struct TY110006 TY110006;
typedef struct TY110004 TY110004;
typedef struct TY50569 TY50569;
typedef struct TY50567 TY50567;
typedef struct TY50565 TY50565;
typedef struct TY122030 TY122030;
typedef struct TY50563 TY50563;
typedef struct TY50561 TY50561;
typedef struct TY50559 TY50559;
typedef struct TY121684 TY121684;
typedef struct TY102002 TY102002;
typedef struct TY34021 TY34021;
typedef struct TY88029 TY88029;
typedef struct TY55220 TY55220;
typedef struct TY55218 TY55218;
typedef struct TY55216 TY55216;
struct TGenericSeq {
NI len;
NI space;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
typedef N_NIMCALL_PTR(TY100002*, TY100007) (TY50547* Module_100008, NimStringDesc* Filename_100009);
typedef N_NIMCALL_PTR(TY100002*, TY100012) (TY50547* Module_100013, NimStringDesc* Filename_100014, TY88031* Rd_100015);
typedef N_NIMCALL_PTR(TY50525*, TY100018) (TY100002* P_100019, TY50525* N_100020);
typedef N_NIMCALL_PTR(TY50525*, TY100023) (TY100002* P_100024, TY50525* Toplevelstmt_100025);
struct TY100006 {
TY100007 Open;
TY100012 Opencached;
TY100018 Close;
TY100023 Process;
};
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TNimObject {
TNimType* m_type;
};
struct TY100002 {
  TNimObject Sup;
};
struct TY50529 {
TNimType* m_type;
NI Counter;
TY50527* Data;
};
struct TY55104 {
NI Tos;
TY55106* Stack;
};
struct TY50900 {
NI Counter;
NI Max;
TY50896* Head;
TY50898* Data;
};
struct TY38019 {
TNimType* m_type;
TY38013* Head;
TY38013* Tail;
NI Counter;
};
typedef N_NIMCALL_PTR(TY50525*, TY102032) (TY102012* C_102033, TY50525* N_102034);
typedef N_NIMCALL_PTR(TY50525*, TY102037) (TY102012* C_102038, TY50525* N_102039);
struct TY102012 {
  TY100002 Sup;
TY50547* Module;
TY102006* P;
NI Instcounter;
TY50525* Generics;
NI Lastgenericidx;
TY55104 Tab;
TY50900 Ambiguoussymbols;
TY50527* Converters;
TY38019 Optionstack;
TY38019 Libs;
NIM_BOOL Fromcache;
TY102032 Semconstexpr;
TY102037 Semexpr;
TY50900 Includedfiles;
NimStringDesc* Filename;
TY50529 Userpragmas;
};
struct TY42536 {
NI16 Line;
NI16 Col;
NI32 Fileindex;
};
struct TY49005 {
  TNimObject Sup;
NI Id;
};
struct TY50539 {
NU8 K;
NU8 S;
NU8 Flags;
TY50551* T;
TY47008* R;
NI A;
};
struct TY50547 {
  TY49005 Sup;
NU8 Kind;
NU8 Magic;
TY50551* Typ;
TY49011* Name;
TY42536 Info;
TY50547* Owner;
NU32 Flags;
TY50529 Tab;
TY50525* Ast;
NU32 Options;
NI Position;
NI Offset;
TY50539 Loc;
TY50543* Annex;
};
struct TY50525 {
TY50551* Typ;
NimStringDesc* Comment;
TY42536 Info;
NU8 Flags;
NU8 Kind;
union {
struct {NI64 Intval;
} S1;
struct {NF64 Floatval;
} S2;
struct {NimStringDesc* Strval;
} S3;
struct {TY50547* Sym;
} S4;
struct {TY49011* Ident;
} S5;
struct {TY50519* Sons;
} S6;
} KindU;
};
struct TY50551 {
  TY49005 Sup;
NU8 Kind;
TY50549* Sons;
TY50525* N;
NU8 Flags;
NU8 Callconv;
TY50547* Owner;
TY50547* Sym;
NI64 Size;
NI Align;
NI Containerid;
TY50539 Loc;
};
struct TY49011 {
  TY49005 Sup;
NimStringDesc* S;
TY49011* Next;
NI H;
};
struct TY55089 {
NI H;
TY49011* Name;
};
struct TY103004 {
NI Stackptr;
TY55089 It;
TY50547* M;
NU8 Mode;
};
struct TY10202 {
NI Refcount;
TNimType* Typ;
};
struct TY10218 {
NI Len;
NI Cap;
TY10202** D;
};
struct TY10214 {
NI Counter;
NI Max;
TY10210* Head;
TY10210** Data;
};
struct TY10588 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY10590 {
TY10218 Zct;
TY10218 Decstack;
TY10214 Cycleroots;
TY10218 Tempstack;
TY10588 Stat;
};
struct TY50565 {
TY49005* Key;
TY50525* Val;
};
struct TY50569 {
NI Counter;
TY50567* Data;
};
struct TY110004 {
TY50569 Mapping;
TY50547* Prc;
TY50525* Call;
TY110004* Next;
TY50519* Params;
};
typedef NU8 TY175021[16];
struct TY50559 {
TY49005* Key;
TNimObject* Val;
};
struct TY50563 {
NI Counter;
TY50561* Data;
};
struct TY122030 {
NI Exactmatches;
NI Subtypematches;
NI Intconvmatches;
NI Convmatches;
NI Genericmatches;
NU8 State;
TY50551* Callee;
TY50547* Calleesym;
TY50525* Call;
TY50563 Bindings;
NIM_BOOL Basetypematch;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
typedef N_NIMCALL_PTR(NIM_BOOL, TY92025) (TY50551* T_92030, TNimObject* Closure_92031);
struct TY121684 {
TY102012* C;
TY50563 Typemap;
TY50563 Symmap;
TY42536 Info;
};
typedef NimStringDesc* TY68026[3];
struct TY38013 {
  TNimObject Sup;
TY38013* Prev;
TY38013* Next;
};
struct TY102002 {
  TY38013 Sup;
NU32 Options;
NU8 Defaultcc;
TY50543* Dynlib;
NU32 Notes;
};
typedef NimStringDesc* TY42866[1];
typedef NU8 TY117007[28];
struct TY102006 {
TY50547* Owner;
TY50547* Resultsym;
NI Nestedloopcounter;
NI Nestedblockcounter;
};
typedef NU8 TY129898[29];
typedef N_NIMCALL_PTR(TY50525*, TY100048) (NimStringDesc* Filename_100049);
typedef NimStringDesc* TY110148[2];
typedef NimStringDesc* TY128440[2];
struct TY55216 {
NI Key;
NI Val;
};
struct TY55220 {
NI Counter;
TY55218* Data;
};
struct TY88029 {
NI Lastidxkey;
NI Lastidxval;
TY55220 Tab;
TY47008* R;
NI Offset;
};
struct TY88031 {
  TNimObject Sup;
NI Pos;
NimStringDesc* S;
NU32 Options;
NU8 Reason;
TY34021* Moddeps;
TY34021* Files;
NI Dataidx;
NI Convertersidx;
NI Initidx;
NI Interfidx;
NI Compilerprocsidx;
NI Cgenidx;
NimStringDesc* Filename;
TY88029 Index;
TY88029 Imports;
NI Readerindex;
NI Line;
NI Moduleid;
TY50563 Syms;
};
typedef NI TY8214[16];
struct TY50896 {
TY50896* Next;
NI Key;
TY8214 Bits;
};
struct TY47008 {
  TNimObject Sup;
TY47008* Left;
TY47008* Right;
NI Length;
NimStringDesc* Data;
};
struct TY50543 {
  TY38013 Sup;
NU8 Kind;
NIM_BOOL Generated;
TY47008* Name;
TY50525* Path;
};
struct TY10210 {
TY10210* Next;
NI Key;
TY8214 Bits;
};
struct TY110006 {
  TY100002 Sup;
TY50547* Module;
TY110004* Tos;
TY50525* Lastexception;
NIM_BOOL Opteval;
};
struct TY50527 {
  TGenericSeq Sup;
  TY50547* data[SEQ_DECL_SIZE];
};
struct TY55106 {
  TGenericSeq Sup;
  TY50529 data[SEQ_DECL_SIZE];
};
struct TY50898 {
  TGenericSeq Sup;
  TY50896* data[SEQ_DECL_SIZE];
};
struct TY50519 {
  TGenericSeq Sup;
  TY50525* data[SEQ_DECL_SIZE];
};
struct TY50549 {
  TGenericSeq Sup;
  TY50551* data[SEQ_DECL_SIZE];
};
struct TY50567 {
  TGenericSeq Sup;
  TY50565 data[SEQ_DECL_SIZE];
};
struct TY50561 {
  TGenericSeq Sup;
  TY50559 data[SEQ_DECL_SIZE];
};
struct TY34021 {
  TGenericSeq Sup;
  NimStringDesc* data[SEQ_DECL_SIZE];
};
struct TY55218 {
  TGenericSeq Sup;
  TY55216 data[SEQ_DECL_SIZE];
};
N_NIMCALL(void, Initpass_100031)(TY100006* P_100034);
N_NIMCALL(TY100002*, Myopen_141274)(TY50547* Module_141276, NimStringDesc* Filename_141277);
N_NIMCALL(TY102012*, Newcontext_102046)(TY50547* Module_102048, NimStringDesc* Nimfile_102049);
N_NIMCALL(void, Internalerror_42571)(TY42536 Info_42573, NimStringDesc* Errmsg_42574);
N_NIMCALL(TY50525*, Semconstexpr_120171)(TY102012* C_120173, TY50525* N_120174);
N_NIMCALL(TY50525*, Semexprwithtype_120122)(TY102012* C_120124, TY50525* N_120125, NU8 Flags_120128);
N_NIMCALL(TY50525*, Semexpr_120115)(TY102012* C_120117, TY50525* N_120118, NU8 Flags_120121);
N_NIMCALL(TY50547*, Lookup_103049)(TY102012* C_103051, TY50525* N_103052);
N_NIMCALL(TY50525*, Semsym_127956)(TY102012* C_127958, TY50525* N_127959, TY50547* S_127960, NU8 Flags_127961);
N_NIMCALL(void, Limessage_42566)(TY42536 Info_42568, NU8 Msg_42569, NimStringDesc* Arg_42570);
N_NIMCALL(TY50547*, Getmodule_55203)(TY50547* S_55205);
N_NIMCALL(TY50525*, Symchoice_120549)(TY102012* C_120551, TY50525* N_120552, TY50547* S_120553);
N_NIMCALL(TY50547*, Initoverloaditer_103058)(TY103004* O_103061, TY102012* C_103062, TY50525* N_103063);
N_NIMCALL(TY50547*, Nextoverloaditer_103064)(TY103004* O_103067, TY102012* C_103068, TY50525* N_103069);
N_NIMCALL(TY50525*, Newsymnode_50734)(TY50547* Sym_50736);
N_NIMCALL(void, Markused_120065)(TY50525* N_120067, TY50547* S_120068);
N_NIMCALL(TY50525*, Newnodeit_50741)(NU8 Kind_50743, TY42536 Info_50744, TY50551* Typ_50745);
N_NIMCALL(TY50551*, Newtypes_102077)(NU8 Kind_102079, TY102012* C_102080);
N_NIMCALL(void, Addson_50823)(TY50525* Father_50825, TY50525* Son_50826);
N_NIMCALL(TY50525*, Copytree_50858)(TY50525* Src_50860);
static N_INLINE(void, asgnRef)(void** Dest_12614, void* Src_12615);
static N_INLINE(void, Incref_12602)(TY10202* C_12604);
static N_INLINE(NI, Atomicinc_3001)(NI* Memloc_3004, NI X_3005);
static N_INLINE(NIM_BOOL, Canbecycleroot_11016)(TY10202* C_11018);
static N_INLINE(void, Rtladdcycleroot_11652)(TY10202* C_11654);
N_NOINLINE(void, Incl_10474)(TY10214* S_10477, TY10202* Cell_10478);
static N_INLINE(TY10202*, Usrtocell_11012)(void* Usr_11014);
static N_INLINE(void, Decref_12401)(TY10202* C_12403);
static N_INLINE(NI, Atomicdec_3006)(NI* Memloc_3009, NI X_3010);
static N_INLINE(void, Rtladdzct_12001)(TY10202* C_12003);
N_NOINLINE(void, Addzct_11001)(TY10218* S_11004, TY10202* C_11005);
N_NIMCALL(TY50525*, Semmacroexpr_121073)(TY102012* C_121075, TY50525* N_121076, TY50547* Sym_121077, NIM_BOOL Semcheck_121078);
N_NIMCALL(TY110006*, Newevalcontext_110033)(TY50547* Module_110035, NimStringDesc* Filename_110036, NIM_BOOL Opteval_110037);
N_NIMCALL(TY110004*, Newstackframe_110024)(void);
static N_INLINE(void, asgnRefNoCycle)(void** Dest_12618, void* Src_12619);
N_NIMCALL(TGenericSeq*, setLengthSeq)(TGenericSeq* Seq_18403, NI Elemsize_18404, NI Newlen_18405);
N_NIMCALL(void, Pushstackframe_110026)(TY110006* C_110028, TY110004* T_110029);
N_NIMCALL(TY50525*, Eval_110038)(TY110006* C_110040, TY50525* N_110041);
N_NIMCALL(void, Popstackframe_110030)(TY110006* C_110032);
N_NIMCALL(NIM_BOOL, Cyclictree_91043)(TY50525* N_91045);
N_NIMCALL(TY50525*, Semaftermacrocall_120246)(TY102012* C_120248, TY50525* N_120249, TY50547* S_120250);
N_NIMCALL(TY50525*, Semstmt_120143)(TY102012* C_120145, TY50525* N_120146);
N_NIMCALL(TY50525*, Semasgn_136591)(TY102012* C_136593, TY50525* N_136594);
N_NIMCALL(void, Checksonslen_102099)(TY50525* N_102101, NI Length_102102);
N_NIMCALL(TY50525*, Builtinfieldaccess_131161)(TY102012* C_131163, TY50525* N_131164, NU8 Flags_131165);
N_NIMCALL(TY50547*, Qualifiedlookup_103053)(TY102012* C_103055, TY50525* N_103056, NIM_BOOL Ambiguouscheck_103057);
N_NIMCALL(TY49011*, Consideracc_120003)(TY50525* N_120005);
N_NIMCALL(NimStringDesc*, Rendertree_80042)(TY50525* N_80044, NU8 Renderflags_80047);
N_NIMCALL(TY50547*, Getsymfromlist_55194)(TY50525* List_55196, TY49011* Ident_55197, NI Start_55198);
N_NIMCALL(NIM_BOOL, Istypeexpr_130865)(TY50525* N_130867);
N_NIMCALL(TY50551*, Skiptypes_92087)(TY50551* T_92089, NU64 Kinds_92090);
N_NIMCALL(TY50547*, Lookupinrecordandbuildcheck_130890)(TY102012* C_130892, TY50525* N_130893, TY50525* R_130894, TY49011* Field_130895, TY50525** Check_130897);
static N_INLINE(NI, Sonslen_50803)(TY50525* N_50805);
N_NIMCALL(void, Checkminsonslen_102103)(TY50525* N_102105, NI Length_102106);
N_NIMCALL(void, Illformedast_102092)(TY50525* N_102094);
N_NIMCALL(TY50525*, Newnodei_50737)(NU8 Kind_50739, TY42536 Info_50740);
static N_INLINE(TY50525*, Lastson_50809)(TY50525* N_50811);
N_NIMCALL(void, unsureAsgnRef)(void** Dest_12626, void* Src_12627);
N_NIMCALL(TY50525*, Newidentnode_50730)(TY49011* Ident_50732, TY42536 Info_50733);
N_NIMCALL(TY49011*, Getident_49016)(NimStringDesc* Identifier_49018);
N_NIMCALL(TY50525*, Makederef_131132)(TY50525* N_131134);
N_NIMCALL(TY50525*, Propertywriteaccess_136571)(TY102012* C_136573, TY50525* N_136574, TY50525* A_136575);
static N_INLINE(TY50525*, HEX5BHEX5D_52051)(TY50525* N_52053, NI I_52054);
static N_INLINE(void, appendString)(NimStringDesc* Dest_18192, NimStringDesc* Src_18193);
static N_INLINE(void, appendChar)(NimStringDesc* Dest_18209, NIM_CHAR C_18210);
N_NIMCALL(NimStringDesc*, rawNewString)(NI Space_18087);
N_NIMCALL(TY50525*, Semdirectcallanalyseeffects_130063)(TY102012* C_130065, TY50525* N_130066, NU8 Flags_130067);
N_NIMCALL(TY50525*, Semdirectcall_124680)(TY102012* C_124682, TY50525* N_124683, NU32 Filter_124684);
N_NIMCALL(TY50525*, Semdirectcallwithbinding_124535)(TY102012* C_124537, TY50525* N_124538, TY50525* F_124539, NU32 Filter_124540, TY50525* Initialbinding_124541);
N_NIMCALL(void, Initcandidate_122064)(TY122030* C_122067, TY50547* Callee_122068, TY50525* Binding_122069);
static N_INLINE(void, Initcandidateaux_122053)(TY122030* C_122056, TY50551* Callee_122057);
N_NIMCALL(void, Initidtable_50754)(TY50563* X_50757);
N_NIMCALL(void, Idtableput_55171)(TY50563* T_55174, TY49005* Key_55175, TNimObject* Val_55176);
N_NIMCALL(void, Matches_123903)(TY102012* C_123905, TY50525* N_123906, TY122030* M_123908);
N_NIMCALL(TY50551*, Base_92021)(TY50551* T_92023);
N_NIMCALL(void, Intsetinit_50924)(TY50900* S_50927);
N_NIMCALL(NIM_BOOL, Intsetcontainsorincl_50928)(TY50900* S_50931, NI Key_50932);
N_NIMCALL(TY50525*, Paramtypesmatch_123664)(TY102012* C_123666, TY122030* M_123668, TY50551* F_123669, TY50551* A_123670, TY50525* Arg_123671);
N_NIMCALL(TY50525*, Paramtypesmatchaux_123518)(TY102012* C_123520, TY122030* M_123522, TY50551* F_123523, TY50551* A_123524, TY50525* Arg_123525);
N_NIMCALL(NU8, Typerel_122303)(TY50563* Mapping_122306, TY50551* F_122307, TY50551* A_122308);
static N_INLINE(TY50551*, Lastson_50812)(TY50551* N_50814);
static N_INLINE(NI, Sonslen_50806)(TY50551* N_50808);
N_NIMCALL(NU8, Handlerange_122334)(TY50551* F_122336, TY50551* A_122337, NU8 Min_122338, NU8 Max_122339);
N_NIMCALL(NU8, Handlefloatrange_122400)(TY50551* F_122402, TY50551* A_122403);
N_NIMCALL(NU8, Minrel_122473)(NU8 A_122475, NU8 B_122476);
N_NIMCALL(NI64, Lengthord_92007)(TY50551* T_92009);
N_NIMCALL(NIM_BOOL, Isordinaltype_92069)(TY50551* T_92071);
N_NIMCALL(void, Internalerror_42575)(NimStringDesc* Errmsg_42577);
N_NIMCALL(NU8, Tuplerel_122487)(TY50563* Mapping_122490, TY50551* F_122491, TY50551* A_122492);
N_NIMCALL(NIM_BOOL, Isobjectsubtype_122443)(TY50551* A_122445, TY50551* F_122446);
N_NIMCALL(NI64, Firstord_92001)(TY50551* T_92003);
N_NIMCALL(TNimObject*, Idtableget_55163)(TY50563 T_55165, TY49005* Key_55166);
N_NIMCALL(TY50551*, Concretetype_122309)(TY50563 Mapping_122311, TY50551* T_122312);
N_NIMCALL(TY50551*, Newtype_50706)(NU8 Kind_50708, TY50547* Owner_50709);
N_NIMCALL(void, Addson_50827)(TY50551* Father_50829, TY50551* Son_50830);
N_NIMCALL(NimStringDesc*, reprEnum)(NI E_19155, TNimType* Typ_19156);
N_NIMCALL(TY50525*, Implicitconv_123437)(NU8 Kind_123439, TY50551* F_123440, TY50525* Arg_123441, TY122030* M_123442, TY102012* C_123443);
N_NIMCALL(NIM_BOOL, Containsgenerictype_121203)(TY50551* T_121205);
N_NIMCALL(NIM_BOOL, Iterovertype_92038)(TY50551* T_92040, TY92025 Iter_92041, TNimObject* Closure_92042);
N_NIMCALL(NIM_BOOL, Containsgenerictypeiter_121187)(TY50551* T_121189, TNimObject* Closure_121190);
N_NIMCALL(TY50551*, Getinstantiatedtype_123408)(TY102012* C_123410, TY50525* Arg_123411, TY122030* M_123412, TY50551* F_123413);
N_NIMCALL(TY50551*, Generatetypeinstance_121978)(TY102012* P_121980, TY50563 Pt_121981, TY50525* Arg_121982, TY50551* T_121983);
N_NIMCALL(void, Copyidtable_50798)(TY50563* Dest_50801, TY50563 Src_50802);
N_NIMCALL(void, Pushinfocontext_42610)(TY42536 Info_42612);
N_NIMCALL(TY50551*, Replacetypevarst_121689)(TY121684* Cl_121692, TY50551* T_121693);
N_NIMCALL(TY50551*, Lookuptypevar_121834)(TY121684* Cl_121836, TY50551* T_121837);
N_NIMCALL(NimStringDesc*, Typetostring_92014)(TY50551* Typ_92016, NU8 Prefer_92017);
N_NIMCALL(TY50551*, Copytype_50770)(TY50551* T_50772, TY50547* Owner_50773, NIM_BOOL Keepid_50774);
N_NIMCALL(TY50551*, Searchinsttypes_121138)(TY50563 Tab_121140, TY50551* Key_121141);
N_NIMCALL(NIM_BOOL, Sametype_92048)(TY50551* X_92050, TY50551* Y_92051);
N_NIMCALL(TY50525*, Replacetypevarsn_121699)(TY121684* Cl_121702, TY50525* N_121703);
N_NIMCALL(TY50525*, Copynode_50855)(TY50525* Src_50857);
N_NIMCALL(TY50547*, Replacetypevarss_121694)(TY121684* Cl_121697, TY50547* S_121698);
N_NIMCALL(TY50547*, Copysym_50775)(TY50547* S_50777, NIM_BOOL Keepid_50778);
N_NIMCALL(void, Newsons_50815)(TY50525* Father_50817, NI Length_50818);
N_NIMCALL(void, Checkconstructedtype_121639)(TY42536 Info_121641, TY50551* T_121642);
N_NIMCALL(NI64, Computesize_92112)(TY50551* Typ_92114);
N_NIMCALL(void, Popinfocontext_42613)(void);
N_NIMCALL(TY50525*, Userconvmatch_123456)(TY102012* C_123458, TY122030* M_123460, TY50551* F_123461, TY50551* A_123462, TY50525* Arg_123463);
N_NIMCALL(void, Initcandidate_122058)(TY122030* C_122061, TY50551* Callee_122062);
N_NIMCALL(void, Copycandidate_122107)(TY122030* A_122110, TY122030* B_122111);
N_NIMCALL(void, genericAssign)(void* Dest_18965, void* Src_18966, TNimType* Mt_18967);
N_NIMCALL(NI, Cmpcandidates_122113)(TY122030* A_122115, TY122030* B_122116);
N_NIMCALL(void, Setson_123860)(TY50525* Father_123862, NI At_123863, TY50525* Son_123864);
N_NIMCALL(TY50551*, Getsystype_97008)(NU8 Kind_97010);
N_NIMCALL(NIM_BOOL, Samemethoddispatcher_124459)(TY50547* A_124461, TY50547* B_124462);
N_NIMCALL(NimStringDesc*, nsuFormatOpenArray)(NimStringDesc* Formatstr_23943, NimStringDesc** A_23945, NI A_23945Len0);
N_NIMCALL(NimStringDesc*, Msgkindtostring_42592)(NU8 Kind_42594);
N_NIMCALL(NimStringDesc*, Getprocheader_92018)(TY50547* Sym_92020);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* Src_18108);
N_NIMCALL(TY50547*, Generateinstance_121132)(TY102012* C_121134, TY50547* Fn_121135, TY50563 Pt_121136, TY42536 Info_121137);
N_NIMCALL(TY50547*, Getcurrowner_102107)(void);
N_NIMCALL(void, Pushowner_102109)(TY50547* Owner_102111);
N_NIMCALL(void, Openscope_55146)(TY55104* Tab_55149);
N_NIMCALL(void, Instantiategenericparamlist_121207)(TY102012* C_121209, TY50525* N_121210, TY50563 Pt_121211);
N_NIMCALL(TY50547*, Newsym_50701)(NU8 Symkind_50703, TY49011* Name_50704, TY50547* Owner_50705);
N_NIMCALL(void, Adddecl_103026)(TY102012* C_103028, TY50547* Sym_103029);
N_NIMCALL(void, Semparamlist_120147)(TY102012* C_120149, TY50525* N_120150, TY50525* Genericparams_120151, TY50547* S_120152);
N_NIMCALL(TY50551*, Semproctypenode_127319)(TY102012* C_127321, TY50525* N_127322, TY50525* Genericparams_127323, TY50551* Prev_127324);
N_NIMCALL(TY50551*, Neworprevtype_124829)(NU8 Kind_124831, TY50551* Prev_124832, TY102012* C_124833);
N_NIMCALL(TY102002*, Lastoptionentry_102053)(TY102012* C_102055);
N_NIMCALL(TY50551*, Paramtype_127298)(TY102012* C_127300, TY50525* N_127301, TY50525* Genericparams_127302, TY50900* Cl_127304);
N_NIMCALL(TY50551*, Semtypenode_120138)(TY102012* C_120140, TY50525* N_120141, TY50551* Prev_120142);
N_NIMCALL(TY50547*, Semtypeident_125606)(TY102012* C_125608, TY50525* N_125609);
N_NIMCALL(TY50551*, Semarray_125455)(TY102012* C_125457, TY50525* N_125458, TY50551* Prev_125459);
N_NIMCALL(TY50551*, Semrangeaux_125303)(TY102012* C_125305, TY50525* N_125306, TY50551* Prev_125307);
N_NIMCALL(NIM_BOOL, Enumhaswholes_92072)(TY50551* T_92074);
N_NIMCALL(NIM_BOOL, Levalue_50870)(TY50525* A_50872, TY50525* B_50873);
N_NIMCALL(TY50551*, Semcontainer_125207)(TY102012* C_125209, TY50525* N_125210, NU8 Kind_125211, NimStringDesc* Kindstr_125212, TY50551* Prev_125213);
N_NIMCALL(TY50551*, Semrange_125402)(TY102012* C_125404, TY50525* N_125405, TY50551* Prev_125406);
N_NIMCALL(TY50551*, Semset_125166)(TY102012* C_125168, TY50525* N_125169, TY50551* Prev_125170);
N_NIMCALL(TY50551*, Semordinal_125564)(TY102012* C_125566, TY50525* N_125567, TY50551* Prev_125568);
N_NIMCALL(TY50551*, Semgeneric_125788)(TY102012* C_125790, TY50525* N_125791, TY50547* S_125792, TY50551* Prev_125793);
N_NIMCALL(TY50551*, Instgenericcontainer_120166)(TY102012* C_120168, TY50525* N_120169, TY50551* Header_120170);
N_NIMCALL(void, Assigntype_50779)(TY50551* Dest_50781, TY50551* Src_50782);
N_NIMCALL(TY50551*, Semobjectnode_127087)(TY102012* C_127089, TY50525* N_127090, TY50551* Prev_127091);
N_NIMCALL(void, Addinheritedfields_127066)(TY102012* C_127068, TY50900* Check_127070, NI* Pos_127072, TY50551* Obj_127073);
N_NIMCALL(void, Addinheritedfieldsaux_126949)(TY102012* C_126951, TY50900* Check_126953, NI* Pos_126955, TY50525* N_126956);
N_NIMCALL(void, Intsetincl_50914)(TY50900* S_50917, NI Key_50918);
N_NIMCALL(void, Semrecordnodeaux_126319)(TY102012* C_126321, TY50525* N_126322, TY50900* Check_126324, NI* Pos_126326, TY50525* Father_126327, TY50547* Rectype_126328);
N_NIMCALL(void, Checkbool_124779)(TY50525* T_124781);
N_NIMCALL(void, Semrecordcase_126329)(TY102012* C_126331, TY50525* N_126332, TY50900* Check_126334, NI* Pos_126336, TY50525* Father_126337, TY50547* Rectype_126338);
N_NIMCALL(void, Semcasebranch_126170)(TY102012* C_126172, TY50525* T_126173, TY50525* Branch_126174, NI Branchindex_126175, NI64* Covered_126177);
N_NIMCALL(void, Sembranchexpr_126131)(TY102012* C_126133, TY50525* T_126134, TY50525** Ex_126136);
N_NIMCALL(NU8, Cmptypes_123400)(TY50551* F_123402, TY50551* A_123403);
N_NIMCALL(void, Typemismatch_124803)(TY50525* N_124805, TY50551* Formal_124806, TY50551* Actual_124807);
N_NIMCALL(NIM_BOOL, Emptyrange_99019)(TY50525* A_99021, TY50525* B_99022);
N_NIMCALL(NI64, Getordvalue_92109)(TY50525* N_92111);
N_NIMCALL(void, Checkforoverlap_126073)(TY102012* C_126075, TY50525* T_126076, TY50525* Ex_126077, NI Branchindex_126078);
N_NIMCALL(NIM_BOOL, Overlap_99006)(TY50525* A_99008, TY50525* B_99009);
N_NIMCALL(void, Delson_50835)(TY50525* Father_50837, NI Idx_50838);
N_NIMCALL(TY50547*, Semidentwithpragma_120098)(TY102012* C_120100, NU8 Kind_120101, TY50525* N_120102, NU32 Allowed_120103);
N_NIMCALL(TY50547*, Semidentvis_120092)(TY102012* C_120094, NU8 Kind_120095, TY50525* N_120096, NU32 Allowed_120097);
N_NIMCALL(TY50547*, Newsyms_120059)(NU8 Kind_120061, TY50525* N_120062, TY102012* C_120063);
N_NIMCALL(void, Pragma_117028)(TY102012* C_117030, TY50547* Sym_117031, TY50525* N_117032, TY117007 Validpragmas_117033);
N_NIMCALL(TY47008*, Torope_47046)(NimStringDesc* S_47048);
N_NIMCALL(TY50551*, Semtuple_125631)(TY102012* C_125633, TY50525* N_125634, TY50551* Prev_125635);
N_NIMCALL(TY50551*, Semanyref_125230)(TY102012* C_125232, TY50525* N_125233, NU8 Kind_125234, NimStringDesc* Kindstr_125235, TY50551* Prev_125236);
N_NIMCALL(TY50551*, Semvartype_125253)(TY102012* C_125255, TY50525* N_125256, TY50551* Prev_125257);
N_NIMCALL(TY50551*, Semdistinct_125283)(TY102012* C_125285, TY50525* N_125286, TY50551* Prev_125287);
N_NIMCALL(TY50551*, Semenum_124855)(TY102012* C_124857, TY50525* N_124858, TY50551* Prev_124859);
N_NIMCALL(NI64, Lastord_92004)(TY50551* T_92006);
N_NIMCALL(void, Strtableadd_55061)(TY50529* T_55064, TY50547* N_55065);
N_NIMCALL(void, Adddeclat_103030)(TY102012* C_103032, TY50547* Sym_103033, NI At_103034);
N_NIMCALL(TY50551*, Semstmtlisttype_127563)(TY102012* C_127565, TY50525* N_127566, TY50551* Prev_127567);
N_NIMCALL(TY50551*, Semblocktype_127628)(TY102012* C_127630, TY50525* N_127631, TY50551* Prev_127632);
N_NIMCALL(void, Closescope_103017)(TY55104* Tab_103020);
N_NIMCALL(TY50551*, Addtypevarsofgenericbody_127224)(TY102012* C_127226, TY50551* T_127227, TY50525* Genericparams_127228, TY50900* Cl_127230);
N_NIMCALL(TY50525*, Fitnode_120129)(TY102012* C_120131, TY50551* Formal_120132, TY50525* Arg_120133);
N_NIMCALL(TY50525*, Indextypesmatch_123850)(TY102012* C_123852, TY50551* F_123853, TY50551* A_123854, TY50525* Arg_123855);
N_NIMCALL(void, Addparams_120153)(TY102012* C_120155, TY50525* N_120156);
N_NIMCALL(TY50547*, Genericcacheget_121298)(TY102012* C_121300, TY50547* Genericsym_121301, TY50547* Instsym_121302);
N_NIMCALL(NU8, Equalparams_92065)(TY50525* A_92067, TY50525* B_92068);
N_NIMCALL(void, Genericcacheadd_121418)(TY102012* C_121420, TY50547* Genericsym_121421, TY50547* Instsym_121422);
N_NIMCALL(TY50525*, Newnode_50710)(NU8 Kind_50712);
N_NIMCALL(TY102006*, Newproccon_102050)(TY50547* Owner_102052);
N_NIMCALL(void, Addresult_120157)(TY102012* C_120159, TY50551* T_120160, TY42536 Info_120161);
N_NIMCALL(void, Addresultnode_120162)(TY102012* C_120164, TY50525* N_120165);
N_NIMCALL(TY50525*, Semstmtscope_120104)(TY102012* C_120106, TY50525* N_120107);
N_NIMCALL(void, Popowner_102112)(void);
N_NIMCALL(void, Fixabstracttype_129197)(TY102012* C_129199, TY50525* N_129200);
N_NIMCALL(TY50525*, Semarrayconstr_129035)(TY102012* C_129037, TY50525* N_129038);
N_NIMCALL(TY50551*, Makerangetype_102086)(TY102012* C_102088, NI64 First_102089, NI64 Last_102090, TY42536 Info_102091);
N_NIMCALL(TY50551*, Elemtype_92091)(TY50551* T_92093);
N_NIMCALL(void, Changetype_128821)(TY50525* N_128823, TY50551* Newtype_128824);
N_NIMCALL(void, Analyseifaddresstakenincall_129893)(TY102012* C_129895, TY50525* N_129896);
N_NIMCALL(NU8, Isassignable_129460)(TY50525* N_129462);
N_NIMCALL(TY50525*, Analyseifaddresstaken_129675)(TY102012* C_129677, TY50525* N_129678);
N_NIMCALL(TY50525*, Newhiddenaddrtaken_129640)(TY102012* C_129642, TY50525* N_129643);
N_NIMCALL(TY50551*, Makevartype_102073)(TY102012* C_102075, TY50551* Basetype_102076);
N_NIMCALL(TY50525*, Semsubscript_131721)(TY102012* C_131723, TY50525* N_131724, NU8 Flags_131725);
N_NIMCALL(TY50525*, Buildoverloadedsubscripts_131681)(TY50525* N_131683, NIM_BOOL Inasgn_131684);
N_NIMCALL(void, Add_51969)(TY50525* Father_51971, TY50525* Son_51972);
static N_INLINE(NI, Len_51923)(TY50525* N_51925);
N_NIMCALL(NimStringDesc*, resizeString)(NimStringDesc* Dest_18182, NI Addlen_18183);
N_NIMCALL(void, Addsliceopr_131643)(NimStringDesc** Result_131646, TY50525* N_131647);
N_NIMCALL(void, Addsonifnotnil_50831)(TY50525* Father_50833, TY50525* N_50834);
N_NIMCALL(TY50525*, Semexprnotype_135703)(TY102012* C_135705, TY50525* N_135706);
N_NIMCALL(TY50525*, Semcommand_140729)(TY102012* C_140731, TY50525* N_140732);
N_NIMCALL(TY50525*, Semblock_136153)(TY102012* C_136155, TY50525* N_136156);
N_NIMCALL(TY50525*, Semraise_138191)(TY102012* C_138193, TY50525* N_138194);
N_NIMCALL(TY50525*, Semvar_137296)(TY102012* C_137298, TY50525* N_137299);
N_NIMCALL(NIM_BOOL, Typeallowed_92136)(TY50551* T_92138, NU8 Kind_92139);
N_NIMCALL(void, Addinterfacedecl_103040)(TY102012* C_103042, TY50547* Sym_103043);
N_NIMCALL(TY50525*, Semconst_137594)(TY102012* C_137596, TY50525* N_137597);
N_NIMCALL(TY50525*, Semandevalconstexpr_120198)(TY102012* C_120200, TY50525* N_120201);
N_NIMCALL(TY50525*, Getconstexpr_108010)(TY50547* M_108012, TY50525* N_108013);
N_NIMCALL(TY50525*, Evalconstexpr_110042)(TY50547* Module_110044, TY50525* E_110045);
N_NIMCALL(TY50525*, Fitremovehiddenconv_137254)(TY102012* C_137256, TY50551* Typ_137257, TY50525* N_137258);
N_NIMCALL(TY50525*, Semtypesection_138694)(TY102012* C_138696, TY50525* N_138697);
N_NIMCALL(void, Processmagictype_127895)(TY102012* C_127897, TY50547* M_127898);
N_NIMCALL(void, Setmagictype_127890)(TY50547* M_127892, NU8 Kind_127893, NI Size_127894);
static N_INLINE(NI, Getid_50693)(void);
N_NIMCALL(TY50525*, Semgenericparamlist_138469)(TY102012* C_138471, TY50525* N_138472, TY50551* Father_138473);
N_NIMCALL(TY50525*, Semif_135858)(TY102012* C_135860, TY50525* N_135861);
N_NIMCALL(TY50525*, Semwhen_135728)(TY102012* C_135730, TY50525* N_135731);
N_NIMCALL(void, Idsynchronizationpoint_50698)(NI Idrange_50700);
N_NIMCALL(TY50525*, Semdiscard_135983)(TY102012* C_135985, TY50525* N_135986);
N_NIMCALL(TY50525*, Semwhile_136276)(TY102012* C_136278, TY50525* N_136279);
N_NIMCALL(TY50525*, Semtry_138274)(TY102012* C_138276, TY50525* N_138277);
N_NIMCALL(TY50525*, Sembreakorcontinue_136035)(TY102012* C_136037, TY50525* N_136038);
N_NIMCALL(TY50525*, Semfor_137784)(TY102012* C_137786, TY50525* N_137787);
N_NIMCALL(TY50547*, Strtableget_55066)(TY50529* T_55068, TY49011* Name_55069);
N_NIMCALL(TY50525*, Semcase_136381)(TY102012* C_136383, TY50525* N_136384);
N_NIMCALL(NI64, Tocover_136367)(TY50551* T_136369);
N_NIMCALL(TY50525*, Semreturn_136907)(TY102012* C_136909, TY50525* N_136910);
N_NIMCALL(TY50525*, Semasm_136256)(TY102012* Con_136258, TY50525* N_136259);
N_NIMCALL(NIM_CHAR, Pragmaasm_117034)(TY102012* C_117036, TY50525* N_117037);
N_NIMCALL(TY50525*, Semasmoremit_118593)(TY102012* Con_118595, TY50525* N_118596, NIM_CHAR Marker_118597);
N_NIMCALL(TY50525*, Semyield_137123)(TY102012* C_137125, TY50525* N_137126);
N_NIMCALL(TY50525*, Semiterator_140424)(TY102012* C_140426, TY50525* N_140427);
N_NIMCALL(TY50525*, Semprocaux_139662)(TY102012* C_139664, TY50525* N_139665, NU8 Kind_139666, TY117007 Validpragmas_139667);
N_NIMCALL(TY50547*, Searchforproc_116004)(TY102012* C_116006, TY50547* Fn_116007, NI Tos_116008);
N_NIMCALL(void, Addinterfaceoverloadablesymat_103044)(TY102012* C_103046, TY50547* Sym_103047, NI At_103048);
N_NIMCALL(void, Addinterfacedeclat_103245)(TY102012* C_103247, TY50547* Sym_103248, NI At_103249);
N_NIMCALL(void, Addgenericparamlisttoscope_138639)(TY102012* C_138641, TY50525* N_138642);
N_NIMCALL(TY50525*, Semgenericstmtscope_134109)(TY102012* C_134111, TY50525* N_134112, NU8 Flags_134115);
N_NIMCALL(TY50525*, Semgenericstmt_134102)(TY102012* C_134104, TY50525* N_134105, NU8 Flags_134108);
N_NIMCALL(TY50525*, Semgenericstmtsymbol_134119)(TY102012* C_134121, TY50525* N_134122, TY50547* S_134123);
N_NIMCALL(TY50525*, Semtemplateexpr_127901)(TY102012* C_127903, TY50525* N_127904, TY50547* S_127905, NIM_BOOL Semcheck_127906);
N_NIMCALL(TY50525*, Evaltemplate_120504)(TY102012* C_120506, TY50525* N_120507, TY50547* Sym_120508);
N_NIMCALL(TY50525*, Evaltemplateargs_120424)(TY102012* C_120426, TY50525* N_120427, TY50547* S_120428);
N_NIMCALL(TY50525*, Evaltemplateaux_120337)(TY102012* C_120339, TY50525* Templ_120340, TY50525* Actual_120341, TY50547* Sym_120342);
N_NIMCALL(TY50525*, Semmacrostmt_133499)(TY102012* C_133501, TY50525* N_133502, NIM_BOOL Semcheck_133503);
N_NIMCALL(NIM_BOOL, Iscallexpr_133483)(TY50525* N_133485);
N_NIMCALL(TY50525*, Getidentnode_134145)(TY50525* N_134147);
N_NIMCALL(void, Semborrow_139368)(TY102012* C_139370, TY50525* N_139371, TY50547* S_139372);
N_NIMCALL(TY50547*, Searchforborrowproc_116009)(TY102012* C_116011, TY50547* Fn_116012, NI Tos_116013);
N_NIMCALL(void, Sideeffectscheck_139397)(TY102012* C_139399, TY50547* S_139400);
N_NIMCALL(TY50525*, Semproc_140489)(TY102012* C_140491, TY50525* N_140492);
N_NIMCALL(TY50525*, Semmethod_140494)(TY102012* C_140496, TY50525* N_140497);
N_NIMCALL(NIM_BOOL, Istoplevel_120053)(TY102012* C_120055);
N_NIMCALL(TY50525*, Semconverterdef_140543)(TY102012* C_140545, TY50525* N_140546);
N_NIMCALL(void, Addconverter_102058)(TY102012* C_102060, TY50547* Conv_102061);
N_NIMCALL(TY50525*, Semmacrodef_140610)(TY102012* C_140612, TY50525* N_140613);
N_NIMCALL(TY50525*, Semtemplatedef_120750)(TY102012* C_120752, TY50525* N_120753);
N_NIMCALL(TY50525*, Resolvetemplateparams_120598)(TY102012* C_120600, TY50525* N_120601, NIM_BOOL Withinbind_120602, TY50900* Tobind_120604);
N_NIMCALL(NIM_BOOL, Intsetcontains_50910)(TY50900 S_50912, NI Key_50913);
N_NIMCALL(TY50547*, Symtablocalget_55120)(TY55104 Tab_55122, TY49011* S_55123);
N_NIMCALL(TY50525*, Transformtoexpr_120709)(TY50525* N_120711);
N_NIMCALL(TY50525*, Evalimport_105001)(TY102012* C_105003, TY50525* N_105004);
N_NIMCALL(TY50525*, Evalfrom_105005)(TY102012* C_105007, TY50525* N_105008);
N_NIMCALL(TY50525*, Evalinclude_140700)(TY102012* C_140702, TY50525* N_140703);
N_NIMCALL(NimStringDesc*, Getmodulefile_105013)(TY50525* N_105015);
N_NIMCALL(NI, Includefilename_42615)(NimStringDesc* F_42617);
N_NIMCALL(void, Intsetexcl_50919)(TY50900* S_50922, NI Key_50923);
N_NIMCALL(TY50525*, Semfieldaccess_127908)(TY102012* C_127910, TY50525* N_127911, NU8 Flags_127914);
N_NIMCALL(TY50547*, Symtabget_55116)(TY55104 Tab_55118, TY49011* S_55119);
N_NIMCALL(TY50525*, Semconv_128211)(TY102012* C_128213, TY50525* N_128214, TY50547* S_128215);
N_NIMCALL(void, Checkconvertible_128062)(TY42536 Info_128064, TY50551* Castdest_128065, TY50551* Src_128066);
N_NIMCALL(void, Checkconversionbetweenobjects_128050)(TY42536 Info_128052, TY50551* Castdest_128053, TY50551* Src_128054);
N_NIMCALL(NI, Inheritancediff_92121)(TY50551* A_92123, TY50551* B_92124);
N_NIMCALL(NIM_BOOL, Equalordistinctof_92056)(TY50551* X_92058, TY50551* Y_92059);
N_NIMCALL(TY50525*, Semdirectop_130522)(TY102012* C_130524, TY50525* N_130525, NU8 Flags_130526);
N_NIMCALL(void, Semopaux_128665)(TY102012* C_128667, TY50525* N_128668);
N_NIMCALL(TY50525*, Overloadedcallopr_128784)(TY102012* C_128786, TY50525* N_128787);
N_NIMCALL(NimStringDesc*, Getnotfounderror_122179)(TY102012* C_122181, TY50525* N_122182);
N_NIMCALL(NimStringDesc*, addChar)(NimStringDesc* S_1603, NIM_CHAR C_1604);
N_NIMCALL(TY50525*, Semmagic_130858)(TY102012* C_130860, TY50525* N_130861, TY50547* S_130862, NU8 Flags_130863);
N_NIMCALL(TY50525*, Semdefined_130731)(TY102012* C_130733, TY50525* N_130734, NIM_BOOL Onlycurrentscope_130735);
N_NIMCALL(TY50525*, Newintnode_50713)(NU8 Kind_50715, NI64 Intval_50716);
N_NIMCALL(TY50547*, Lookupfordefined_130589)(TY102012* C_130591, TY50525* N_130592, NIM_BOOL Onlycurrentscope_130593);
N_NIMCALL(NIM_BOOL, Isdefined_59059)(TY49011* Symbol_59061);
N_NIMCALL(TY50525*, Setms_130829)(TY50525* N_130831, TY50547* S_130832);
N_NIMCALL(TY50525*, Semlowhigh_128433)(TY102012* C_128435, TY50525* N_128436, NU8 M_128437);
N_NIMCALL(TY50525*, Semsizeof_128508)(TY102012* C_128510, TY50525* N_128511);
N_NIMCALL(TY50525*, Semis_128540)(TY102012* C_128542, TY50525* N_128543);
N_NIMCALL(TY50525*, Semecho_130550)(TY102012* C_130552, TY50525* N_130553);
N_NIMCALL(TY50525*, Semindirectop_130208)(TY102012* C_130210, TY50525* N_130211, NU8 Flags_130212);
N_NIMCALL(TY50525*, Partialspecialization_121989)(TY102012* C_121991, TY50525* N_121992, TY50547* S_121993);
N_NIMCALL(TY50525*, Semarrayaccess_131991)(TY102012* C_131993, TY50525* N_131994, NU8 Flags_131995);
N_NIMCALL(NU8, Checkpar_132769)(TY50525* N_132771);
N_NIMCALL(TY50525*, Semtuplepositionsconstr_133255)(TY102012* C_133257, TY50525* N_133258);
N_NIMCALL(TY50525*, Semtuplefieldsconstr_132918)(TY102012* C_132920, TY50525* N_132921);
N_NIMCALL(TY50525*, Semsetconstr_132394)(TY102012* C_132396, TY50525* N_132397);
N_NIMCALL(TY50525*, Semlambda_120134)(TY102012* C_120136, TY50525* N_120137);
N_NIMCALL(TY50551*, Makeptrtype_102069)(TY102012* C_102071, TY50551* Basetype_102072);
N_NIMCALL(TY50525*, Semcast_128357)(TY102012* C_128359, TY50525* N_128360);
N_NIMCALL(NIM_BOOL, Iscastable_128174)(TY50551* Dst_128176, TY50551* Src_128177);
N_NIMCALL(TY50525*, Semifexpr_132201)(TY102012* C_132203, TY50525* N_132204);
N_NIMCALL(TY50525*, Semstmtlistexpr_133305)(TY102012* C_133307, TY50525* N_133308);
N_NIMCALL(TY50525*, Semblockexpr_133381)(TY102012* C_133383, TY50525* N_133384);
N_NIMCALL(TY50525*, Semexprnoflags_141267)(TY102012* C_141269, TY50525* N_141270);
N_NIMCALL(void, Symtabadd_55124)(TY55104* Tab_55127, TY50547* E_55128);
N_NIMCALL(void, Initsystem_97017)(TY55104* Tab_97020);
N_NIMCALL(void, Importallsymbols_105009)(TY102012* C_105011, TY50547* Frommod_105012);
N_NIMCALL(TY100002*, Myopencached_141307)(TY50547* Module_141309, NimStringDesc* Filename_141310, TY88031* Rd_141311);
N_NIMCALL(TY50525*, Myclose_141325)(TY100002* Context_141327, TY50525* N_141328);
N_NIMCALL(void, Rawclosescope_55150)(TY55104* Tab_55153);
N_NIMCALL(void, Addcodeforgenerics_141149)(TY102012* C_141151, TY50525* N_141152);
N_NIMCALL(TY50525*, Myprocess_141314)(TY100002* Context_141316, TY50525* N_141317);
NIM_CONST NU64 Constabstracttypes_127899 = IL64(1097364930612);
STRING_LITERAL(TMP189928, "sem.myOpen", 10);
STRING_LITERAL(TMP189930, "", 0);
NIM_CONST TY175021 Lastblockstmts_140739 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x80, 0x07, 0x00, 0x00, 0x00}
;
STRING_LITERAL(TMP190061, "in", 2);
STRING_LITERAL(TMP190062, "not", 3);
STRING_LITERAL(TMP190063, "forward type in typeRel()", 25);
STRING_LITERAL(TMP190064, "tupleRel", 8);
STRING_LITERAL(TMP190065, "typeRel: tyGenericInvokation -> tyGenericInvokation", 51);
STRING_LITERAL(TMP190066, "wrong instantiated type!", 24);
STRING_LITERAL(TMP190067, "lookup failed", 13);
STRING_LITERAL(TMP190068, "has constraints: ", 17);
STRING_LITERAL(TMP190069, "typeRel(", 8);
STRING_LITERAL(TMP190070, "substitution with generic parameter", 35);
STRING_LITERAL(TMP190071, "no generic body", 15);
STRING_LITERAL(TMP190073, "acyclic", 7);
STRING_LITERAL(TMP190074, "ReplaceTypeVarsT: tyGenericBody", 31);
STRING_LITERAL(TMP190075, "getInstantiatedType", 19);
STRING_LITERAL(TMP190076, "implicitConv", 12);
STRING_LITERAL(TMP190081, "x.state is not csMatch", 22);
STRING_LITERAL(TMP190082, "matches", 7);
STRING_LITERAL(TMP190084, "calleeSym.ast is nil", 20);
STRING_LITERAL(TMP190085, "nesting too deep", 16);
STRING_LITERAL(TMP190086, "generateInstance", 16);
STRING_LITERAL(TMP190087, "instantiateGenericParamList; no generic params", 46);
STRING_LITERAL(TMP190088, "instantiateGenericParamList; no symbol", 38);
STRING_LITERAL(TMP190089, "instantiateGenericParamList: ", 29);
STRING_LITERAL(TMP190090, "semRangeAux", 11);
STRING_LITERAL(TMP190091, "openarray", 9);
STRING_LITERAL(TMP190092, "range", 5);
STRING_LITERAL(TMP190093, "set", 3);
STRING_LITERAL(TMP190094, "ordinal", 7);
STRING_LITERAL(TMP190095, "seq", 3);
STRING_LITERAL(TMP190096, "semtypes.semGeneric", 19);
STRING_LITERAL(TMP190097, "addInheritedFieldsAux", 21);
STRING_LITERAL(TMP190098, "addInheritedFieldsAux(record case branch)", 41);
STRING_LITERAL(TMP190099, "addInheritedFieldsAux()", 23);
STRING_LITERAL(TMP190100, "semObjectNode", 13);
STRING_LITERAL(TMP190101, "semRecordNodeAux", 16);
STRING_LITERAL(TMP190102, "semRecordCase: dicriminant is no symbol", 39);
STRING_LITERAL(TMP190103, ") ", 2);
static NIM_CONST TY117007 TMP190109 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x70, 0x00, 0x00, 0x00, 0x20, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00}
;static NIM_CONST TY117007 TMP190110 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x70, 0x2D, 0x0C, 0x00, 0x20, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x20}
;static NIM_CONST TY117007 TMP190111 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x70, 0x21, 0x00, 0x00, 0x20, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP190112, "ref", 3);
STRING_LITERAL(TMP190113, "ptr", 3);
STRING_LITERAL(TMP190114, "var", 3);
STRING_LITERAL(TMP190115, "distinct", 8);
STRING_LITERAL(TMP190116, "dummy", 5);
static NIM_CONST TY117007 TMP190117 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x40, 0x00, 0x00, 0x40, 0xF8, 0x1F,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP190119, "addTypeVarsOfGenericBody", 24);
STRING_LITERAL(TMP190120, "addTypeVarsOfGenericBody 2", 26);
STRING_LITERAL(TMP190121, "addParams", 9);
STRING_LITERAL(TMP190122, "GenericCacheGet", 15);
STRING_LITERAL(TMP190124, "result", 6);
STRING_LITERAL(TMP190126, "semDirectCallAnalyseEffects", 27);
STRING_LITERAL(TMP190127, "changeType: no tuple type for constructor", 41);
STRING_LITERAL(TMP190128, "changeType: no tuple fields", 27);
STRING_LITERAL(TMP190129, "changeType(): invalid tuple constr", 34);
STRING_LITERAL(TMP190130, "changeType(): invalid identifier", 32);
STRING_LITERAL(TMP190131, "fixAbstractType: ", 17);
NIM_CONST TY129898 Fakevarparams_129897 = {
0x00, 0xEC, 0x30, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x1C, 0x16, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00}
;
static NIM_CONST TY129898 TMP190132 = {
0x00, 0xEC, 0x30, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x1C, 0x16, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP190134, "analyseIfAddressTaken", 21);
STRING_LITERAL(TMP190135, "[", 1);
STRING_LITERAL(TMP190136, ",", 1);
STRING_LITERAL(TMP190137, "..", 2);
STRING_LITERAL(TMP190138, "..$", 3);
STRING_LITERAL(TMP190139, "$..", 3);
STRING_LITERAL(TMP190140, "$..$", 4);
STRING_LITERAL(TMP190141, "]=", 2);
STRING_LITERAL(TMP190142, "]", 1);
STRING_LITERAL(TMP190148, "tuple", 5);
static NIM_CONST TY117007 TMP190165 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x72, 0x23, 0x08, 0x00, 0x20, 0x00, 0x00,
0x00, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x40, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP190166, "semTypeSection: containerID", 27);
STRING_LITERAL(TMP190167, "semGenericParamList", 19);
STRING_LITERAL(TMP190168, "semTypeSection()", 16);
STRING_LITERAL(TMP190169, "semWhen", 7);
STRING_LITERAL(TMP190170, "countup", 7);
STRING_LITERAL(TMP190171, "\'return\'", 8);
STRING_LITERAL(TMP190172, "semReturn", 9);
STRING_LITERAL(TMP190173, "semYield", 8);
static NIM_CONST TY117007 TMP190174 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x08, 0x02, 0xE0, 0xFD, 0x3D, 0x02, 0x80,
0xFF, 0x0D, 0x00, 0x05, 0xA0, 0x00, 0x00, 0x04,
0x04, 0x00, 0x00, 0x40}
;STRING_LITERAL(TMP190177, "addGenericParamListToScope", 26);
STRING_LITERAL(TMP190178, "semProcAux", 10);
static NIM_CONST TY117007 TMP190179 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x70, 0x51, 0x00, 0x00, 0x20, 0xF8, 0x1F,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x04, 0x00,
0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP190180, "iterator", 8);
static NIM_CONST TY117007 TMP190181 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x70, 0xF3, 0x1D, 0x00, 0x60, 0xF8, 0x1F,
0x00, 0x00, 0x00, 0x08, 0x00, 0x00, 0x04, 0x00,
0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP190182, "method", 6);
STRING_LITERAL(TMP190183, "converter", 9);
STRING_LITERAL(TMP190184, "macro", 5);
static NIM_CONST TY117007 TMP190185 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x71, 0x41, 0x08, 0x00, 0x20, 0xF8, 0x1F,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP190186, "template", 8);
STRING_LITERAL(TMP190187, "import", 6);
STRING_LITERAL(TMP190193, "from", 4);
STRING_LITERAL(TMP190197, "include", 7);
STRING_LITERAL(TMP190198, "SemStmt: result = nil", 21);
STRING_LITERAL(TMP190199, "no default for", 14);
NIM_CONST NU64 Integraltypes_128067 = IL64(1097364160518);
STRING_LITERAL(TMP190200, "()", 2);
STRING_LITERAL(TMP190201, ": ", 2);
STRING_LITERAL(TMP190202, ", ", 2);
STRING_LITERAL(TMP190203, "\015\012", 2);
STRING_LITERAL(TMP190204, "low", 3);
STRING_LITERAL(TMP190205, "high", 4);
NIM_CONST TY128440 Optostr_128439 = {((NimStringDesc*) &TMP190204),
((NimStringDesc*) &TMP190205)}
;
extern NIM_CONST TY128440 Optostr_128439;
STRING_LITERAL(TMP190206, "sizeof", 6);
STRING_LITERAL(TMP190207, "$", 1);
STRING_LITERAL(TMP190208, ")\015\012", 3);
STRING_LITERAL(TMP190209, "semExpr() to implement", 22);
STRING_LITERAL(TMP190210, ":anonymous", 10);
static NIM_CONST TY117007 TMP190211 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x70, 0xF3, 0x04, 0x00, 0x20, 0xF8, 0x1F,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP190213, "semIfExpr", 9);
STRING_LITERAL(TMP190214, "semExprWithType", 15);
STRING_LITERAL(TMP190215, "n is not nil", 12);
STRING_LITERAL(TMP190216, "addCodeForGenerics", 18);
STRING_LITERAL(TMP190217, "no code for ", 12);
NI Evaltemplatecounter_120423;
extern TY10590 Gch_10608;
extern TNimType* NTI50162; /* TTypeKind */
extern TY50563 Ginsttypes_102045;
extern TNimType* NTI122030; /* TCandidate */
extern NI Intsize_46570;
extern NI Floatsize_46571;
extern NI Ptrsize_46572;
extern NI Gid_50692;
extern TY50547* Systemmodule_97004;
extern NU32 Goptions_41076;
extern TY100048 Gincludefile_100051;
extern NU32 Gglobaloptions_41078;
N_NIMCALL(void, Markused_120065)(TY50525* N_120067, TY50547* S_120068) {
(*S_120068).Flags |=(1<<((NI32)(((NU8) 0))%(sizeof(NI32)*8)));
if (!(((*S_120068).Flags &(1<<((((NU8) 22))&31)))!=0)) goto LA2;
Limessage_42566((*N_120067).Info, ((NU8) 215), (*(*S_120068).Name).S);
LA2: ;
}
N_NIMCALL(TY50525*, Symchoice_120549)(TY102012* C_120551, TY50525* N_120552, TY50547* S_120553) {
TY50525* Result_120554;
TY50547* A_120555;
TY103004 O_120556;
NI I_120557;
TY50551* LOC5;
TY50525* LOC7;
Result_120554 = 0;
A_120555 = 0;
memset((void*)&O_120556, 0, sizeof(O_120556));
I_120557 = 0;
I_120557 = 0;
A_120555 = Initoverloaditer_103058(&O_120556, C_120551, N_120552);
while (1) {
if (!!((A_120555 == NIM_NIL))) goto LA1;
A_120555 = Nextoverloaditer_103064(&O_120556, C_120551, N_120552);
I_120557 += 1;
} LA1: ;
if (!(I_120557 <= 1)) goto LA3;
Result_120554 = Newsymnode_50734(S_120553);
(*Result_120554).Info = (*N_120552).Info;
Markused_120065(N_120552, S_120553);
goto LA2;
LA3: ;
LOC5 = 0;
LOC5 = Newtypes_102077(((NU8) 0), C_120551);
Result_120554 = Newnodeit_50741(((NU8) 46), (*N_120552).Info, LOC5);
A_120555 = Initoverloaditer_103058(&O_120556, C_120551, N_120552);
while (1) {
if (!!((A_120555 == NIM_NIL))) goto LA6;
LOC7 = 0;
LOC7 = Newsymnode_50734(A_120555);
Addson_50823(Result_120554, LOC7);
A_120555 = Nextoverloaditer_103064(&O_120556, C_120551, N_120552);
} LA6: ;
LA2: ;
return Result_120554;
}
static N_INLINE(NI, Atomicinc_3001)(NI* Memloc_3004, NI X_3005) {
NI Result_7407;
Result_7407 = 0;
(*Memloc_3004) += X_3005;
Result_7407 = (*Memloc_3004);
return Result_7407;
}
static N_INLINE(NIM_BOOL, Canbecycleroot_11016)(TY10202* C_11018) {
NIM_BOOL Result_11019;
Result_11019 = 0;
Result_11019 = !((((*(*C_11018).Typ).flags &(1<<((((NU8) 1))&7)))!=0));
return Result_11019;
}
static N_INLINE(void, Rtladdcycleroot_11652)(TY10202* C_11654) {
Incl_10474(&Gch_10608.Cycleroots, C_11654);
}
static N_INLINE(void, Incref_12602)(TY10202* C_12604) {
NI LOC1;
NIM_BOOL LOC3;
LOC1 = Atomicinc_3001(&(*C_12604).Refcount, 8);
LOC3 = Canbecycleroot_11016(C_12604);
if (!LOC3) goto LA4;
Rtladdcycleroot_11652(C_12604);
LA4: ;
}
static N_INLINE(TY10202*, Usrtocell_11012)(void* Usr_11014) {
TY10202* Result_11015;
Result_11015 = 0;
Result_11015 = ((TY10202*) ((NI32)((NU32)(((NI) (Usr_11014))) - (NU32)(((NI) (((NI)sizeof(TY10202))))))));
return Result_11015;
}
static N_INLINE(NI, Atomicdec_3006)(NI* Memloc_3009, NI X_3010) {
NI Result_7606;
Result_7606 = 0;
(*Memloc_3009) -= X_3010;
Result_7606 = (*Memloc_3009);
return Result_7606;
}
static N_INLINE(void, Rtladdzct_12001)(TY10202* C_12003) {
Addzct_11001(&Gch_10608.Zct, C_12003);
}
static N_INLINE(void, Decref_12401)(TY10202* C_12403) {
NI LOC2;
NIM_BOOL LOC5;
LOC2 = Atomicdec_3006(&(*C_12403).Refcount, 8);
if (!((NU32)(LOC2) < (NU32)(8))) goto LA3;
Rtladdzct_12001(C_12403);
goto LA1;
LA3: ;
LOC5 = Canbecycleroot_11016(C_12403);
if (!LOC5) goto LA6;
Rtladdcycleroot_11652(C_12403);
goto LA1;
LA6: ;
LA1: ;
}
static N_INLINE(void, asgnRef)(void** Dest_12614, void* Src_12615) {
TY10202* LOC4;
TY10202* LOC8;
if (!!((Src_12615 == NIM_NIL))) goto LA2;
LOC4 = Usrtocell_11012(Src_12615);
Incref_12602(LOC4);
LA2: ;
if (!!(((*Dest_12614) == NIM_NIL))) goto LA6;
LOC8 = Usrtocell_11012((*Dest_12614));
Decref_12401(LOC8);
LA6: ;
(*Dest_12614) = Src_12615;
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_12618, void* Src_12619) {
TY10202* C_12620;
NI LOC4;
TY10202* C_12622;
NI LOC9;
if (!!((Src_12619 == NIM_NIL))) goto LA2;
C_12620 = 0;
C_12620 = Usrtocell_11012(Src_12619);
LOC4 = Atomicinc_3001(&(*C_12620).Refcount, 8);
LA2: ;
if (!!(((*Dest_12618) == NIM_NIL))) goto LA6;
C_12622 = 0;
C_12622 = Usrtocell_11012((*Dest_12618));
LOC9 = Atomicdec_3006(&(*C_12622).Refcount, 8);
if (!((NU32)(LOC9) < (NU32)(8))) goto LA10;
Rtladdzct_12001(C_12622);
LA10: ;
LA6: ;
(*Dest_12618) = Src_12619;
}
N_NIMCALL(TY49011*, Consideracc_120003)(TY50525* N_120005) {
TY49011* Result_120006;
TY50525* X_120007;
NimStringDesc* LOC4;
Result_120006 = 0;
X_120007 = 0;
X_120007 = N_120005;
if (!((*X_120007).Kind == ((NU8) 43))) goto LA2;
X_120007 = (*X_120007).KindU.S6.Sons->data[0];
LA2: ;
switch ((*X_120007).Kind) {
case ((NU8) 2):
Result_120006 = (*X_120007).KindU.S5.Ident;
break;
case ((NU8) 3):
Result_120006 = (*(*X_120007).KindU.S4.Sym).Name;
break;
default:
LOC4 = 0;
LOC4 = Rendertree_80042(N_120005, 0);
Limessage_42566((*N_120005).Info, ((NU8) 19), LOC4);
Result_120006 = NIM_NIL;
break;
}
return Result_120006;
}
N_NIMCALL(NIM_BOOL, Istypeexpr_130865)(TY50525* N_130867) {
NIM_BOOL Result_130868;
Result_130868 = 0;
switch ((*N_130867).Kind) {
case ((NU8) 4):
case ((NU8) 110):
Result_130868 = NIM_TRUE;
break;
case ((NU8) 3):
Result_130868 = ((*(*N_130867).KindU.S4.Sym).Kind == ((NU8) 7));
break;
default:
Result_130868 = NIM_FALSE;
break;
}
return Result_130868;
}
static N_INLINE(NI, Sonslen_50803)(TY50525* N_50805) {
NI Result_51880;
Result_51880 = 0;
if (!(*N_50805).KindU.S6.Sons == 0) goto LA2;
Result_51880 = 0;
goto LA1;
LA2: ;
Result_51880 = (*N_50805).KindU.S6.Sons->Sup.len;
LA1: ;
return Result_51880;
}
static N_INLINE(TY50525*, Lastson_50809)(TY50525* N_50811) {
TY50525* Result_52817;
NI LOC1;
Result_52817 = 0;
LOC1 = Sonslen_50803(N_50811);
Result_52817 = (*N_50811).KindU.S6.Sons->data[(NI32)(LOC1 - 1)];
return Result_52817;
}
N_NIMCALL(TY50547*, Lookupinrecordandbuildcheck_130890)(TY102012* C_130892, TY50525* N_130893, TY50525* R_130894, TY49011* Field_130895, TY50525** Check_130897) {
TY50547* Result_130898;
TY50525* S_130899;
TY50525* It_130900;
TY50525* Inexpr_130901;
TY50525* Notexpr_130902;
NI I_130910;
NI HEX3Atmp_140977;
NI LOC1;
NI Res_140979;
NI I_130985;
NI HEX3Atmp_140986;
NI LOC12;
NI Res_140988;
TY50525* LOC14;
NI J_131016;
NI HEX3Atmp_140980;
NI LOC18;
NI Res_140982;
TY50525* LOC20;
NI J_131047;
NI HEX3Atmp_140983;
NI LOC24;
NI Res_140985;
TY50525* LOC26;
TY49011* LOC27;
TY50525* LOC28;
TY50525* LOC29;
TY50525* LOC30;
TY50525* LOC31;
TY49011* LOC38;
TY50525* LOC39;
TY50525* LOC40;
TY49011* LOC41;
TY50525* LOC42;
TY50525* LOC43;
Result_130898 = 0;
S_130899 = 0;
It_130900 = 0;
Inexpr_130901 = 0;
Notexpr_130902 = 0;
Result_130898 = NIM_NIL;
switch ((*R_130894).Kind) {
case ((NU8) 113):
I_130910 = 0;
HEX3Atmp_140977 = 0;
LOC1 = Sonslen_50803(R_130894);
HEX3Atmp_140977 = (NI32)(LOC1 - 1);
Res_140979 = 0;
Res_140979 = 0;
while (1) {
if (!(Res_140979 <= HEX3Atmp_140977)) goto LA2;
I_130910 = Res_140979;
Result_130898 = Lookupinrecordandbuildcheck_130890(C_130892, N_130893, (*R_130894).KindU.S6.Sons->data[I_130910], Field_130895, Check_130897);
if (!!((Result_130898 == NIM_NIL))) goto LA4;
goto BeforeRet;
LA4: ;
Res_140979 += 1;
} LA2: ;
break;
case ((NU8) 114):
Checkminsonslen_102103(R_130894, 2);
if (!!(((*(*R_130894).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA7;
Illformedast_102092(R_130894);
LA7: ;
Result_130898 = Lookupinrecordandbuildcheck_130890(C_130892, N_130893, (*R_130894).KindU.S6.Sons->data[0], Field_130895, Check_130897);
if (!!((Result_130898 == NIM_NIL))) goto LA10;
goto BeforeRet;
LA10: ;
S_130899 = Newnodei_50737(((NU8) 31), (*R_130894).Info);
I_130985 = 0;
HEX3Atmp_140986 = 0;
LOC12 = Sonslen_50803(R_130894);
HEX3Atmp_140986 = (NI32)(LOC12 - 1);
Res_140988 = 0;
Res_140988 = 1;
while (1) {
if (!(Res_140988 <= HEX3Atmp_140986)) goto LA13;
I_130985 = Res_140988;
It_130900 = (*R_130894).KindU.S6.Sons->data[I_130985];
switch ((*It_130900).Kind) {
case ((NU8) 75):
LOC14 = 0;
LOC14 = Lastson_50809(It_130900);
Result_130898 = Lookupinrecordandbuildcheck_130890(C_130892, N_130893, LOC14, Field_130895, Check_130897);
if (!(Result_130898 == NIM_NIL)) goto LA16;
J_131016 = 0;
HEX3Atmp_140980 = 0;
LOC18 = Sonslen_50803(It_130900);
HEX3Atmp_140980 = (NI32)(LOC18 - 2);
Res_140982 = 0;
Res_140982 = 0;
while (1) {
if (!(Res_140982 <= HEX3Atmp_140980)) goto LA19;
J_131016 = Res_140982;
LOC20 = 0;
LOC20 = Copytree_50858((*It_130900).KindU.S6.Sons->data[J_131016]);
Addson_50823(S_130899, LOC20);
Res_140982 += 1;
} LA19: ;
goto LA15;
LA16: ;
if (!((*Check_130897) == NIM_NIL)) goto LA22;
unsureAsgnRef((void**) &(*Check_130897), Newnodei_50737(((NU8) 37), (*N_130893).Info));
Addson_50823((*Check_130897), NIM_NIL);
LA22: ;
S_130899 = Newnodei_50737(((NU8) 31), (*N_130893).Info);
J_131047 = 0;
HEX3Atmp_140983 = 0;
LOC24 = Sonslen_50803(It_130900);
HEX3Atmp_140983 = (NI32)(LOC24 - 2);
Res_140985 = 0;
Res_140985 = 0;
while (1) {
if (!(Res_140985 <= HEX3Atmp_140983)) goto LA25;
J_131047 = Res_140985;
LOC26 = 0;
LOC26 = Copytree_50858((*It_130900).KindU.S6.Sons->data[J_131047]);
Addson_50823(S_130899, LOC26);
Res_140985 += 1;
} LA25: ;
Inexpr_130901 = Newnodei_50737(((NU8) 21), (*N_130893).Info);
LOC27 = 0;
LOC27 = Getident_49016(((NimStringDesc*) &TMP190061));
LOC28 = 0;
LOC28 = Newidentnode_50730(LOC27, (*N_130893).Info);
Addson_50823(Inexpr_130901, LOC28);
LOC29 = 0;
LOC29 = Copytree_50858((*R_130894).KindU.S6.Sons->data[0]);
Addson_50823(Inexpr_130901, LOC29);
Addson_50823(Inexpr_130901, S_130899);
LOC30 = 0;
LOC30 = Semexpr_120115(C_130892, Inexpr_130901, 0);
Addson_50823((*Check_130897), LOC30);
goto BeforeRet;
LA15: ;
break;
case ((NU8) 78):
LOC31 = 0;
LOC31 = Lastson_50809(It_130900);
Result_130898 = Lookupinrecordandbuildcheck_130890(C_130892, N_130893, LOC31, Field_130895, Check_130897);
if (!!((Result_130898 == NIM_NIL))) goto LA33;
if (!((*Check_130897) == NIM_NIL)) goto LA36;
unsureAsgnRef((void**) &(*Check_130897), Newnodei_50737(((NU8) 37), (*N_130893).Info));
Addson_50823((*Check_130897), NIM_NIL);
LA36: ;
Inexpr_130901 = Newnodei_50737(((NU8) 21), (*N_130893).Info);
LOC38 = 0;
LOC38 = Getident_49016(((NimStringDesc*) &TMP190061));
LOC39 = 0;
LOC39 = Newidentnode_50730(LOC38, (*N_130893).Info);
Addson_50823(Inexpr_130901, LOC39);
LOC40 = 0;
LOC40 = Copytree_50858((*R_130894).KindU.S6.Sons->data[0]);
Addson_50823(Inexpr_130901, LOC40);
Addson_50823(Inexpr_130901, S_130899);
Notexpr_130902 = Newnodei_50737(((NU8) 21), (*N_130893).Info);
LOC41 = 0;
LOC41 = Getident_49016(((NimStringDesc*) &TMP190062));
LOC42 = 0;
LOC42 = Newidentnode_50730(LOC41, (*N_130893).Info);
Addson_50823(Notexpr_130902, LOC42);
Addson_50823(Notexpr_130902, Inexpr_130901);
LOC43 = 0;
LOC43 = Semexpr_120115(C_130892, Notexpr_130902, 0);
Addson_50823((*Check_130897), LOC43);
goto BeforeRet;
LA33: ;
break;
default:
Illformedast_102092(It_130900);
break;
}
Res_140988 += 1;
} LA13: ;
break;
case ((NU8) 3):
if (!((*(*(*R_130894).KindU.S4.Sym).Name).Sup.Id == (*Field_130895).Sup.Id)) goto LA45;
Result_130898 = (*R_130894).KindU.S4.Sym;
LA45: ;
break;
default:
Illformedast_102092(N_130893);
break;
}
BeforeRet: ;
return Result_130898;
}
N_NIMCALL(TY50525*, Makederef_131132)(TY50525* N_131134) {
TY50525* Result_131135;
TY50551* T_131137;
TY50525* A_131160;
Result_131135 = 0;
T_131137 = 0;
T_131137 = Skiptypes_92087((*N_131134).Typ, 2048);
Result_131135 = N_131134;
if (!((*T_131137).Kind == ((NU8) 23))) goto LA2;
Result_131135 = Newnodeit_50741(((NU8) 54), (*N_131134).Info, (*T_131137).Sons->data[0]);
Addson_50823(Result_131135, N_131134);
T_131137 = Skiptypes_92087((*T_131137).Sons->data[0], 2048);
LA2: ;
if (!((*T_131137).Kind == ((NU8) 21) || (*T_131137).Kind == ((NU8) 22))) goto LA5;
A_131160 = 0;
A_131160 = Result_131135;
Result_131135 = Newnodeit_50741(((NU8) 38), (*N_131134).Info, (*T_131137).Sons->data[0]);
Addson_50823(Result_131135, A_131160);
LA5: ;
return Result_131135;
}
N_NIMCALL(TY50525*, Builtinfieldaccess_131161)(TY102012* C_131163, TY50525* N_131164, NU8 Flags_131165) {
TY50525* Result_131166;
TY50547* S_131167;
TY49011* I_131226;
TY50551* Ty_131239;
TY50547* F_131240;
NIM_BOOL LOC14;
TY50525* Check_131331;
NIM_BOOL LOC32;
TY50547* LOC34;
NIM_BOOL LOC40;
Result_131166 = 0;
S_131167 = 0;
S_131167 = Qualifiedlookup_103053(C_131163, N_131164, NIM_TRUE);
if (!!((S_131167 == NIM_NIL))) goto LA2;
Result_131166 = Semsym_127956(C_131163, N_131164, S_131167, Flags_131165);
goto BeforeRet;
LA2: ;
Checksonslen_102099(N_131164, 2);
asgnRefNoCycle((void**) &(*N_131164).KindU.S6.Sons->data[0], Semexprwithtype_120122(C_131163, (*N_131164).KindU.S6.Sons->data[0], (1 | Flags_131165)));
I_131226 = 0;
I_131226 = Consideracc_120003((*N_131164).KindU.S6.Sons->data[1]);
Ty_131239 = 0;
Ty_131239 = (*(*N_131164).KindU.S6.Sons->data[0]).Typ;
F_131240 = 0;
F_131240 = NIM_NIL;
Result_131166 = NIM_NIL;
if (!((*Ty_131239).Kind == ((NU8) 14))) goto LA5;
while (1) {
if (!!((Ty_131239 == NIM_NIL))) goto LA7;
F_131240 = Getsymfromlist_55194((*Ty_131239).N, I_131226, 0);
if (!!((F_131240 == NIM_NIL))) goto LA9;
goto LA7;
LA9: ;
Ty_131239 = (*Ty_131239).Sons->data[0];
} LA7: ;
if (!!((F_131240 == NIM_NIL))) goto LA12;
Result_131166 = Newsymnode_50734(F_131240);
(*Result_131166).Info = (*N_131164).Info;
asgnRef((void**) &(*Result_131166).Typ, Ty_131239);
Markused_120065(N_131164, F_131240);
goto LA11;
LA12: ;
Limessage_42566((*(*N_131164).KindU.S6.Sons->data[1]).Info, ((NU8) 167), (*I_131226).S);
LA11: ;
goto BeforeRet;
goto LA4;
LA5: ;
LOC14 = !(((Flags_131165 &(1<<((((NU8) 0))&7)))!=0));
if (!(LOC14)) goto LA15;
LOC14 = Istypeexpr_130865((*N_131164).KindU.S6.Sons->data[0]);
LA15: ;
if (!LOC14) goto LA16;
Limessage_42566((*(*N_131164).KindU.S6.Sons->data[0]).Info, ((NU8) 162), ((NimStringDesc*) &TMP189930));
goto BeforeRet;
goto LA4;
LA16: ;
LA4: ;
Ty_131239 = Skiptypes_92087(Ty_131239, 14682112);
Check_131331 = 0;
Check_131331 = NIM_NIL;
if (!((*Ty_131239).Kind == ((NU8) 17))) goto LA19;
while (1) {
Check_131331 = NIM_NIL;
F_131240 = Lookupinrecordandbuildcheck_130890(C_131163, N_131164, (*Ty_131239).N, I_131226, &Check_131331);
if (!!((F_131240 == NIM_NIL))) goto LA23;
goto LA21;
LA23: ;
if (!((*Ty_131239).Sons->data[0] == NIM_NIL)) goto LA26;
goto LA21;
LA26: ;
Ty_131239 = Skiptypes_92087((*Ty_131239).Sons->data[0], 2048);
} LA21: ;
if (!!((F_131240 == NIM_NIL))) goto LA29;
LOC32 = !(((6 & (*F_131240).Flags) == 0));
if (LOC32) goto LA33;
LOC34 = 0;
LOC34 = Getmodule_55203(F_131240);
LOC32 = ((*LOC34).Sup.Id == (*(*C_131163).Module).Sup.Id);
LA33: ;
if (!LOC32) goto LA35;
asgnRefNoCycle((void**) &(*N_131164).KindU.S6.Sons->data[0], Makederef_131132((*N_131164).KindU.S6.Sons->data[0]));
asgnRefNoCycle((void**) &(*N_131164).KindU.S6.Sons->data[1], Newsymnode_50734(F_131240));
asgnRef((void**) &(*N_131164).Typ, (*F_131240).Typ);
Markused_120065(N_131164, F_131240);
if (!(Check_131331 == NIM_NIL)) goto LA38;
Result_131166 = N_131164;
goto LA37;
LA38: ;
asgnRefNoCycle((void**) &(*Check_131331).KindU.S6.Sons->data[0], N_131164);
asgnRef((void**) &(*Check_131331).Typ, (*N_131164).Typ);
Result_131166 = Check_131331;
LA37: ;
LA35: ;
LA29: ;
goto LA18;
LA19: ;
LOC40 = ((*Ty_131239).Kind == ((NU8) 18));
if (!(LOC40)) goto LA41;
LOC40 = !(((*Ty_131239).N == NIM_NIL));
LA41: ;
if (!LOC40) goto LA42;
F_131240 = Getsymfromlist_55194((*Ty_131239).N, I_131226, 0);
if (!!((F_131240 == NIM_NIL))) goto LA45;
asgnRefNoCycle((void**) &(*N_131164).KindU.S6.Sons->data[0], Makederef_131132((*N_131164).KindU.S6.Sons->data[0]));
asgnRefNoCycle((void**) &(*N_131164).KindU.S6.Sons->data[1], Newsymnode_50734(F_131240));
asgnRef((void**) &(*N_131164).Typ, (*F_131240).Typ);
Result_131166 = N_131164;
Markused_120065(N_131164, F_131240);
LA45: ;
goto LA18;
LA42: ;
LA18: ;
BeforeRet: ;
return Result_131166;
}
static N_INLINE(TY50525*, HEX5BHEX5D_52051)(TY50525* N_52053, NI I_52054) {
TY50525* Result_52055;
Result_52055 = 0;
Result_52055 = (*N_52053).KindU.S6.Sons->data[I_52054];
return Result_52055;
}
static N_INLINE(void, appendString)(NimStringDesc* Dest_18192, NimStringDesc* Src_18193) {
memcpy(((NCSTRING) (&(*Dest_18192).data[((*Dest_18192).Sup.len)-0])), ((NCSTRING) ((*Src_18193).data)), ((NI32) ((NI32)((NI32)((*Src_18193).Sup.len + 1) * 1))));
(*Dest_18192).Sup.len += (*Src_18193).Sup.len;
}
static N_INLINE(void, appendChar)(NimStringDesc* Dest_18209, NIM_CHAR C_18210) {
(*Dest_18209).data[((*Dest_18209).Sup.len)-0] = C_18210;
(*Dest_18209).data[((NI32)((*Dest_18209).Sup.len + 1))-0] = 0;
(*Dest_18209).Sup.len += 1;
}
static N_INLINE(void, Initcandidateaux_122053)(TY122030* C_122056, TY50551* Callee_122057) {
(*C_122056).Exactmatches = 0;
(*C_122056).Subtypematches = 0;
(*C_122056).Convmatches = 0;
(*C_122056).Intconvmatches = 0;
(*C_122056).Genericmatches = 0;
(*C_122056).State = ((NU8) 0);
unsureAsgnRef((void**) &(*C_122056).Callee, Callee_122057);
unsureAsgnRef((void**) &(*C_122056).Call, NIM_NIL);
(*C_122056).Basetypematch = NIM_FALSE;
}
N_NIMCALL(void, Initcandidate_122064)(TY122030* C_122067, TY50547* Callee_122068, TY50525* Binding_122069) {
TY50525* Typeparams_122082;
NI I_122092;
NI HEX3Atmp_124749;
NI LOC4;
NI LOC5;
NI Res_124751;
TY50551* Formaltypeparam_122105;
TY50525* LOC7;
Initcandidateaux_122053(C_122067, (*Callee_122068).Typ);
unsureAsgnRef((void**) &(*C_122067).Calleesym, Callee_122068);
Initidtable_50754(&(*C_122067).Bindings);
if (!!((Binding_122069 == NIM_NIL))) goto LA2;
Typeparams_122082 = 0;
Typeparams_122082 = HEX5BHEX5D_52051((*Callee_122068).Ast, 1);
I_122092 = 0;
HEX3Atmp_124749 = 0;
LOC4 = Sonslen_50803(Typeparams_122082);
LOC5 = Sonslen_50803(Binding_122069);
HEX3Atmp_124749 = ((LOC4 <= (NI32)(LOC5 - 1)) ? LOC4 : (NI32)(LOC5 - 1));
Res_124751 = 0;
Res_124751 = 1;
while (1) {
if (!(Res_124751 <= HEX3Atmp_124749)) goto LA6;
I_122092 = Res_124751;
Formaltypeparam_122105 = 0;
Formaltypeparam_122105 = (*(*Typeparams_122082).KindU.S6.Sons->data[(NI32)(I_122092 - 1)]).Typ;
LOC7 = 0;
LOC7 = HEX5BHEX5D_52051(Binding_122069, I_122092);
Idtableput_55171(&(*C_122067).Bindings, &Formaltypeparam_122105->Sup, &(*LOC7).Typ->Sup.Sup);
Res_124751 += 1;
} LA6: ;
LA2: ;
}
static N_INLINE(NI, Sonslen_50806)(TY50551* N_50808) {
NI Result_51744;
Result_51744 = 0;
if (!(*N_50808).Sons == 0) goto LA2;
Result_51744 = 0;
goto LA1;
LA2: ;
Result_51744 = (*N_50808).Sons->Sup.len;
LA1: ;
return Result_51744;
}
static N_INLINE(TY50551*, Lastson_50812)(TY50551* N_50814) {
TY50551* Result_52833;
NI LOC1;
Result_52833 = 0;
LOC1 = Sonslen_50806(N_50814);
Result_52833 = (*N_50814).Sons->data[(NI32)(LOC1 - 1)];
return Result_52833;
}
N_NIMCALL(NU8, Handlerange_122334)(TY50551* F_122336, TY50551* A_122337, NU8 Min_122338, NU8 Max_122339) {
NU8 Result_122340;
NU8 K_122351;
TY50551* LOC4;
NIM_BOOL LOC8;
NIM_BOOL LOC12;
Result_122340 = 0;
if (!((*A_122337).Kind == (*F_122336).Kind)) goto LA2;
Result_122340 = ((NU8) 5);
goto LA1;
LA2: ;
K_122351 = 0;
LOC4 = 0;
LOC4 = Skiptypes_92087(A_122337, 1048576);
K_122351 = (*LOC4).Kind;
if (!(K_122351 == (*F_122336).Kind)) goto LA6;
Result_122340 = ((NU8) 3);
goto LA5;
LA6: ;
LOC8 = ((*F_122336).Kind == ((NU8) 31));
if (!(LOC8)) goto LA9;
LOC8 = (K_122351 >= ((NU8) 31) && K_122351 <= ((NU8) 34));
LA9: ;
if (!LOC8) goto LA10;
Result_122340 = ((NU8) 2);
goto LA5;
LA10: ;
LOC12 = (Min_122338 <= K_122351);
if (!(LOC12)) goto LA13;
LOC12 = (K_122351 <= Max_122339);
LA13: ;
if (!LOC12) goto LA14;
Result_122340 = ((NU8) 1);
goto LA5;
LA14: ;
Result_122340 = ((NU8) 0);
LA5: ;
LA1: ;
return Result_122340;
}
N_NIMCALL(NU8, Handlefloatrange_122400)(TY50551* F_122402, TY50551* A_122403) {
NU8 Result_122404;
NU8 K_122415;
TY50551* LOC4;
NIM_BOOL LOC8;
Result_122404 = 0;
if (!((*A_122403).Kind == (*F_122402).Kind)) goto LA2;
Result_122404 = ((NU8) 5);
goto LA1;
LA2: ;
K_122415 = 0;
LOC4 = 0;
LOC4 = Skiptypes_92087(A_122403, 1048576);
K_122415 = (*LOC4).Kind;
if (!(K_122415 == (*F_122402).Kind)) goto LA6;
Result_122404 = ((NU8) 3);
goto LA5;
LA6: ;
LOC8 = (((NU8) 36) <= K_122415);
if (!(LOC8)) goto LA9;
LOC8 = (K_122415 <= ((NU8) 39));
LA9: ;
if (!LOC8) goto LA10;
Result_122404 = ((NU8) 1);
goto LA5;
LA10: ;
Result_122404 = ((NU8) 0);
LA5: ;
LA1: ;
return Result_122404;
}
N_NIMCALL(NU8, Minrel_122473)(NU8 A_122475, NU8 B_122476) {
NU8 Result_122477;
Result_122477 = 0;
if (!(A_122475 <= B_122476)) goto LA2;
Result_122477 = A_122475;
goto LA1;
LA2: ;
Result_122477 = B_122476;
LA1: ;
return Result_122477;
}
N_NIMCALL(NU8, Tuplerel_122487)(TY50563* Mapping_122490, TY50551* F_122491, TY50551* A_122492) {
NU8 Result_122493;
NI LOC2;
NI LOC3;
NI I_122503;
NI HEX3Atmp_124755;
NI LOC6;
NI Res_124757;
NU8 M_122504;
NIM_BOOL LOC12;
NI I_122543;
NI HEX3Atmp_124758;
NI LOC16;
NI Res_124760;
TY50547* X_122610;
TY50547* Y_122635;
Result_122493 = 0;
Result_122493 = ((NU8) 0);
LOC2 = Sonslen_50806(A_122492);
LOC3 = Sonslen_50806(F_122491);
if (!(LOC2 == LOC3)) goto LA4;
Result_122493 = ((NU8) 5);
I_122503 = 0;
HEX3Atmp_124755 = 0;
LOC6 = Sonslen_50806(F_122491);
HEX3Atmp_124755 = (NI32)(LOC6 - 1);
Res_124757 = 0;
Res_124757 = 0;
while (1) {
if (!(Res_124757 <= HEX3Atmp_124755)) goto LA7;
I_122503 = Res_124757;
M_122504 = 0;
M_122504 = Typerel_122303(Mapping_122490, (*F_122491).Sons->data[I_122503], (*A_122492).Sons->data[I_122503]);
if (!(M_122504 < ((NU8) 3))) goto LA9;
Result_122493 = ((NU8) 0);
goto BeforeRet;
LA9: ;
Result_122493 = Minrel_122473(Result_122493, M_122504);
Res_124757 += 1;
} LA7: ;
LOC12 = !(((*F_122491).N == NIM_NIL));
if (!(LOC12)) goto LA13;
LOC12 = !(((*A_122492).N == NIM_NIL));
LA13: ;
if (!LOC12) goto LA14;
I_122543 = 0;
HEX3Atmp_124758 = 0;
LOC16 = Sonslen_50803((*F_122491).N);
HEX3Atmp_124758 = (NI32)(LOC16 - 1);
Res_124760 = 0;
Res_124760 = 0;
while (1) {
if (!(Res_124760 <= HEX3Atmp_124758)) goto LA17;
I_122543 = Res_124760;
if (!!(((*(*(*F_122491).N).KindU.S6.Sons->data[I_122543]).Kind == ((NU8) 3)))) goto LA19;
Internalerror_42571((*(*F_122491).N).Info, ((NimStringDesc*) &TMP190064));
LA19: ;
if (!!(((*(*(*A_122492).N).KindU.S6.Sons->data[I_122543]).Kind == ((NU8) 3)))) goto LA22;
Internalerror_42571((*(*A_122492).N).Info, ((NimStringDesc*) &TMP190064));
LA22: ;
X_122610 = 0;
X_122610 = (*(*(*F_122491).N).KindU.S6.Sons->data[I_122543]).KindU.S4.Sym;
Y_122635 = 0;
Y_122635 = (*(*(*A_122492).N).KindU.S6.Sons->data[I_122543]).KindU.S4.Sym;
if (!!(((*(*X_122610).Name).Sup.Id == (*(*Y_122635).Name).Sup.Id))) goto LA25;
Result_122493 = ((NU8) 0);
goto BeforeRet;
LA25: ;
Res_124760 += 1;
} LA17: ;
LA14: ;
LA4: ;
BeforeRet: ;
return Result_122493;
}
N_NIMCALL(NIM_BOOL, Isobjectsubtype_122443)(TY50551* A_122445, TY50551* F_122446) {
NIM_BOOL Result_122447;
TY50551* T_122448;
NIM_BOOL LOC2;
Result_122447 = 0;
T_122448 = 0;
T_122448 = A_122445;
while (1) {
LOC2 = !((T_122448 == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC2 = !(((*T_122448).Sup.Id == (*F_122446).Sup.Id));
LA3: ;
if (!LOC2) goto LA1;
T_122448 = Base_92021(T_122448);
} LA1: ;
Result_122447 = !((T_122448 == NIM_NIL));
return Result_122447;
}
N_NIMCALL(TY50551*, Concretetype_122309)(TY50563 Mapping_122311, TY50551* T_122312) {
TY50551* Result_122313;
TNimObject* LOC2;
Result_122313 = 0;
switch ((*T_122312).Kind) {
case ((NU8) 4):
Result_122313 = Newtype_50706(((NU8) 16), (*T_122312).Owner);
Addson_50827(Result_122313, (*T_122312).Sons->data[0]);
Addson_50827(Result_122313, (*T_122312).Sons->data[1]);
break;
case ((NU8) 5):
Result_122313 = NIM_NIL;
break;
case ((NU8) 12):
Result_122313 = T_122312;
while (1) {
LOC2 = 0;
LOC2 = Idtableget_55163(Mapping_122311, &T_122312->Sup);
Result_122313 = ((TY50551*) (LOC2));
if (!(Result_122313 == NIM_NIL)) goto LA4;
Internalerror_42575(((NimStringDesc*) &TMP190067));
LA4: ;
if (!!(((*Result_122313).Kind == ((NU8) 12)))) goto LA7;
goto LA1;
LA7: ;
} LA1: ;
break;
default:
Result_122313 = T_122312;
break;
}
return Result_122313;
}
N_NIMCALL(NU8, Typerel_122303)(TY50563* Mapping_122306, TY50551* F_122307, TY50551* A_122308) {
NU8 Result_122644;
TY50551* X_122645;
TY50551* Concrete_122646;
NU8 M_122647;
NIM_BOOL LOC2;
TY50551* LOC4;
TY50551* LOC7;
NIM_BOOL LOC9;
NIM_BOOL LOC14;
TY50551* LOC18;
TY50551* LOC24;
TY50551* LOC30;
TY50551* LOC31;
TY50551* LOC35;
TY50551* LOC41;
TY50551* LOC42;
TY50551* LOC43;
NU8 LOC44;
NU8 LOC45;
NIM_BOOL LOC53;
NI64 LOC55;
NI64 LOC56;
NU8 LOC61;
TY50551* LOC62;
TY50551* LOC63;
NIM_BOOL LOC68;
TY50551* LOC72;
NU8 LOC73;
NIM_BOOL LOC77;
TY50551* LOC81;
NU8 LOC82;
NIM_BOOL LOC86;
TY50551* LOC90;
NU8 LOC91;
NIM_BOOL LOC95;
NIM_BOOL LOC103;
NIM_BOOL LOC124;
NIM_BOOL LOC128;
NIM_BOOL LOC136;
TY50551* LOC143;
TY50551* LOC144;
TY50551* LOC148;
TY50551* LOC149;
NIM_BOOL LOC154;
NI LOC155;
NI LOC156;
NI I_123067;
NI HEX3Atmp_124761;
NI LOC160;
NI Res_124763;
NIM_BOOL LOC163;
NU8 LOC165;
NIM_BOOL LOC184;
NIM_BOOL LOC192;
NIM_BOOL LOC193;
NI64 LOC194;
TY50551* LOC196;
TY50551* LOC203;
TY50551* LOC204;
NIM_BOOL LOC212;
NI LOC214;
NI LOC215;
NI I_123257;
NI HEX3Atmp_124764;
NI LOC218;
NI Res_124766;
NU8 LOC224;
NI I_123292;
NI HEX3Atmp_124767;
NI LOC230;
NI Res_124769;
TNimObject* LOC232;
NIM_BOOL LOC234;
TNimObject* LOC238;
NI LOC243;
NimStringDesc* LOC249;
NI I_123344;
NI HEX3Atmp_124770;
NI LOC250;
NI Res_124772;
NU8 LOC253;
NimStringDesc* LOC266;
Result_122644 = 0;
X_122645 = 0;
Concrete_122646 = 0;
M_122647 = 0;
Result_122644 = ((NU8) 0);
LOC2 = ((*A_122308).Kind == ((NU8) 11));
if (!(LOC2)) goto LA3;
LOC4 = 0;
LOC4 = Skiptypes_92087(F_122307, 8388608);
LOC2 = !(((*LOC4).Kind == ((NU8) 10) || (*LOC4).Kind == ((NU8) 9)));
LA3: ;
if (!LOC2) goto LA5;
LOC7 = 0;
LOC7 = Lastson_50812(A_122308);
Result_122644 = Typerel_122303(Mapping_122306, F_122307, LOC7);
goto BeforeRet;
LA5: ;
LOC9 = ((*A_122308).Kind == ((NU8) 23));
if (!(LOC9)) goto LA10;
LOC9 = !(((*F_122307).Kind == ((NU8) 23)));
LA10: ;
if (!LOC9) goto LA11;
Result_122644 = Typerel_122303(Mapping_122306, F_122307, (*A_122308).Sons->data[0]);
goto BeforeRet;
LA11: ;
switch ((*F_122307).Kind) {
case ((NU8) 14):
LOC14 = ((*A_122308).Kind == (*F_122307).Kind);
if (!(LOC14)) goto LA15;
LOC14 = ((*A_122308).Sup.Id == (*F_122307).Sup.Id);
LA15: ;
if (!LOC14) goto LA16;
Result_122644 = ((NU8) 5);
goto LA13;
LA16: ;
LOC18 = 0;
LOC18 = Skiptypes_92087(A_122308, 1048576);
if (!((*LOC18).Sup.Id == (*F_122307).Sup.Id)) goto LA19;
Result_122644 = ((NU8) 3);
goto LA13;
LA19: ;
LA13: ;
break;
case ((NU8) 1):
case ((NU8) 2):
if (!((*A_122308).Kind == (*F_122307).Kind)) goto LA22;
Result_122644 = ((NU8) 5);
goto LA21;
LA22: ;
LOC24 = 0;
LOC24 = Skiptypes_92087(A_122308, 1048576);
if (!((*LOC24).Kind == (*F_122307).Kind)) goto LA25;
Result_122644 = ((NU8) 3);
goto LA21;
LA25: ;
LA21: ;
break;
case ((NU8) 20):
if (!((*A_122308).Kind == (*F_122307).Kind)) goto LA28;
LOC30 = 0;
LOC30 = Base_92021(A_122308);
LOC31 = 0;
LOC31 = Base_92021(F_122307);
Result_122644 = Typerel_122303(Mapping_122306, LOC30, LOC31);
if (!(Result_122644 < ((NU8) 4))) goto LA33;
Result_122644 = ((NU8) 0);
LA33: ;
goto LA27;
LA28: ;
LOC35 = 0;
LOC35 = Skiptypes_92087(F_122307, 1048576);
if (!((*LOC35).Kind == (*A_122308).Kind)) goto LA36;
Result_122644 = ((NU8) 1);
goto LA27;
LA36: ;
LA27: ;
break;
case ((NU8) 31):
Result_122644 = Handlerange_122334(F_122307, A_122308, ((NU8) 32), ((NU8) 34));
break;
case ((NU8) 32):
Result_122644 = Handlerange_122334(F_122307, A_122308, ((NU8) 32), ((NU8) 32));
break;
case ((NU8) 33):
Result_122644 = Handlerange_122334(F_122307, A_122308, ((NU8) 32), ((NU8) 33));
break;
case ((NU8) 34):
Result_122644 = Handlerange_122334(F_122307, A_122308, ((NU8) 31), ((NU8) 34));
break;
case ((NU8) 35):
Result_122644 = Handlerange_122334(F_122307, A_122308, ((NU8) 31), ((NU8) 35));
break;
case ((NU8) 36):
Result_122644 = Handlefloatrange_122400(F_122307, A_122308);
break;
case ((NU8) 37):
Result_122644 = Handlefloatrange_122400(F_122307, A_122308);
break;
case ((NU8) 38):
Result_122644 = Handlefloatrange_122400(F_122307, A_122308);
break;
case ((NU8) 39):
Result_122644 = Handlefloatrange_122400(F_122307, A_122308);
break;
case ((NU8) 23):
if (!((*A_122308).Kind == (*F_122307).Kind)) goto LA39;
LOC41 = 0;
LOC41 = Base_92021(F_122307);
LOC42 = 0;
LOC42 = Base_92021(A_122308);
Result_122644 = Typerel_122303(Mapping_122306, LOC41, LOC42);
goto LA38;
LA39: ;
LOC43 = 0;
LOC43 = Base_92021(F_122307);
Result_122644 = Typerel_122303(Mapping_122306, LOC43, A_122308);
LA38: ;
break;
case ((NU8) 16):
case ((NU8) 4):
switch ((*A_122308).Kind) {
case ((NU8) 16):
LOC44 = Typerel_122303(Mapping_122306, (*F_122307).Sons->data[0], (*A_122308).Sons->data[0]);
LOC45 = Typerel_122303(Mapping_122306, (*F_122307).Sons->data[1], (*A_122308).Sons->data[1]);
Result_122644 = Minrel_122473(LOC44, LOC45);
if (!(Result_122644 < ((NU8) 4))) goto LA47;
Result_122644 = ((NU8) 0);
LA47: ;
break;
case ((NU8) 4):
Result_122644 = Typerel_122303(Mapping_122306, (*F_122307).Sons->data[1], (*A_122308).Sons->data[1]);
if (!(Result_122644 < ((NU8) 4))) goto LA50;
Result_122644 = ((NU8) 0);
goto LA49;
LA50: ;
LOC53 = !((Result_122644 == ((NU8) 4)));
if (!(LOC53)) goto LA54;
LOC55 = Lengthord_92007(F_122307);
LOC56 = Lengthord_92007(A_122308);
LOC53 = !((LOC55 == LOC56));
LA54: ;
if (!LOC53) goto LA57;
Result_122644 = ((NU8) 0);
goto LA52;
LA57: ;
if (!((*(*F_122307).Sons->data[0]).Kind == ((NU8) 9) || (*(*F_122307).Sons->data[0]).Kind == ((NU8) 10) || (*(*F_122307).Sons->data[0]).Kind == ((NU8) 12))) goto LA59;
LOC61 = Typerel_122303(Mapping_122306, (*F_122307).Sons->data[0], (*A_122308).Sons->data[0]);
Result_122644 = Minrel_122473(Result_122644, LOC61);
goto LA52;
LA59: ;
LA52: ;
LA49: ;
break;
default:
break;
}
break;
case ((NU8) 27):
switch ((*A_122308).Kind) {
case ((NU8) 27):
LOC62 = 0;
LOC62 = Base_92021(F_122307);
LOC63 = 0;
LOC63 = Base_92021(A_122308);
Result_122644 = Typerel_122303(Mapping_122306, LOC62, LOC63);
if (!(Result_122644 < ((NU8) 4))) goto LA65;
Result_122644 = ((NU8) 0);
LA65: ;
break;
case ((NU8) 4):
LOC68 = !(((*(*F_122307).Sons->data[0]).Kind == ((NU8) 12)));
if (!(LOC68)) goto LA69;
LOC68 = ((*(*A_122308).Sons->data[1]).Kind == ((NU8) 3));
LA69: ;
if (!LOC68) goto LA70;
Result_122644 = ((NU8) 3);
goto LA67;
LA70: ;
LOC72 = 0;
LOC72 = Base_92021(F_122307);
LOC73 = Typerel_122303(Mapping_122306, LOC72, (*A_122308).Sons->data[1]);
if (!(((NU8) 4) <= LOC73)) goto LA74;
Result_122644 = ((NU8) 3);
goto LA67;
LA74: ;
LA67: ;
break;
case ((NU8) 16):
LOC77 = !(((*(*F_122307).Sons->data[0]).Kind == ((NU8) 12)));
if (!(LOC77)) goto LA78;
LOC77 = ((*(*A_122308).Sons->data[1]).Kind == ((NU8) 3));
LA78: ;
if (!LOC77) goto LA79;
Result_122644 = ((NU8) 3);
goto LA76;
LA79: ;
LOC81 = 0;
LOC81 = Base_92021(F_122307);
LOC82 = Typerel_122303(Mapping_122306, LOC81, (*A_122308).Sons->data[1]);
if (!(((NU8) 4) <= LOC82)) goto LA83;
Result_122644 = ((NU8) 1);
goto LA76;
LA83: ;
LA76: ;
break;
case ((NU8) 24):
LOC86 = !(((*(*F_122307).Sons->data[0]).Kind == ((NU8) 12)));
if (!(LOC86)) goto LA87;
LOC86 = ((*(*A_122308).Sons->data[0]).Kind == ((NU8) 3));
LA87: ;
if (!LOC86) goto LA88;
Result_122644 = ((NU8) 1);
goto LA85;
LA88: ;
LOC90 = 0;
LOC90 = Base_92021(F_122307);
LOC91 = Typerel_122303(Mapping_122306, LOC90, (*A_122308).Sons->data[0]);
if (!(((NU8) 4) <= LOC91)) goto LA92;
Result_122644 = ((NU8) 1);
goto LA85;
LA92: ;
LA85: ;
break;
default:
break;
}
break;
case ((NU8) 24):
switch ((*A_122308).Kind) {
case ((NU8) 5):
Result_122644 = ((NU8) 3);
break;
case ((NU8) 24):
LOC95 = !(((*(*F_122307).Sons->data[0]).Kind == ((NU8) 12)));
if (!(LOC95)) goto LA96;
LOC95 = ((*(*A_122308).Sons->data[0]).Kind == ((NU8) 3));
LA96: ;
if (!LOC95) goto LA97;
Result_122644 = ((NU8) 3);
goto LA94;
LA97: ;
Result_122644 = Typerel_122303(Mapping_122306, (*F_122307).Sons->data[0], (*A_122308).Sons->data[0]);
if (!(Result_122644 < ((NU8) 4))) goto LA100;
Result_122644 = ((NU8) 0);
LA100: ;
LA94: ;
break;
default:
break;
}
break;
case ((NU8) 15):
LOC103 = Isordinaltype_92069(A_122308);
if (!LOC103) goto LA104;
if (!((*A_122308).Kind == ((NU8) 15))) goto LA107;
X_122645 = (*A_122308).Sons->data[0];
goto LA106;
LA107: ;
X_122645 = A_122308;
LA106: ;
Result_122644 = Typerel_122303(Mapping_122306, (*F_122307).Sons->data[0], X_122645);
if (!(Result_122644 < ((NU8) 4))) goto LA110;
Result_122644 = ((NU8) 0);
LA110: ;
LA104: ;
break;
case ((NU8) 30):
Internalerror_42575(((NimStringDesc*) &TMP190063));
break;
case ((NU8) 5):
if (!((*A_122308).Kind == (*F_122307).Kind)) goto LA113;
Result_122644 = ((NU8) 5);
LA113: ;
break;
case ((NU8) 18):
if (!((*A_122308).Kind == ((NU8) 18))) goto LA116;
Result_122644 = Tuplerel_122487(Mapping_122306, F_122307, A_122308);
LA116: ;
break;
case ((NU8) 17):
if (!((*A_122308).Kind == ((NU8) 17))) goto LA119;
if (!((*A_122308).Sup.Id == (*F_122307).Sup.Id)) goto LA122;
Result_122644 = ((NU8) 5);
goto LA121;
LA122: ;
LOC124 = Isobjectsubtype_122443(A_122308, F_122307);
if (!LOC124) goto LA125;
Result_122644 = ((NU8) 3);
goto LA121;
LA125: ;
LA121: ;
LA119: ;
break;
case ((NU8) 13):
LOC128 = ((*A_122308).Kind == ((NU8) 13));
if (!(LOC128)) goto LA129;
LOC128 = ((*A_122308).Sup.Id == (*F_122307).Sup.Id);
LA129: ;
if (!LOC128) goto LA130;
Result_122644 = ((NU8) 5);
LA130: ;
break;
case ((NU8) 19):
if (!((*A_122308).Kind == ((NU8) 19))) goto LA133;
LOC136 = !(((*(*F_122307).Sons->data[0]).Kind == ((NU8) 12)));
if (!(LOC136)) goto LA137;
LOC136 = ((*(*A_122308).Sons->data[0]).Kind == ((NU8) 3));
LA137: ;
if (!LOC136) goto LA138;
Result_122644 = ((NU8) 3);
goto LA135;
LA138: ;
Result_122644 = Typerel_122303(Mapping_122306, (*F_122307).Sons->data[0], (*A_122308).Sons->data[0]);
if (!(Result_122644 <= ((NU8) 1))) goto LA141;
Result_122644 = ((NU8) 0);
LA141: ;
LA135: ;
LA133: ;
break;
case ((NU8) 21):
switch ((*A_122308).Kind) {
case ((NU8) 21):
LOC143 = 0;
LOC143 = Base_92021(F_122307);
LOC144 = 0;
LOC144 = Base_92021(A_122308);
Result_122644 = Typerel_122303(Mapping_122306, LOC143, LOC144);
if (!(Result_122644 <= ((NU8) 1))) goto LA146;
Result_122644 = ((NU8) 0);
LA146: ;
break;
case ((NU8) 5):
Result_122644 = ((NU8) 3);
break;
default:
break;
}
break;
case ((NU8) 22):
switch ((*A_122308).Kind) {
case ((NU8) 22):
LOC148 = 0;
LOC148 = Base_92021(F_122307);
LOC149 = 0;
LOC149 = Base_92021(A_122308);
Result_122644 = Typerel_122303(Mapping_122306, LOC148, LOC149);
if (!(Result_122644 <= ((NU8) 1))) goto LA151;
Result_122644 = ((NU8) 0);
LA151: ;
break;
case ((NU8) 5):
Result_122644 = ((NU8) 3);
break;
default:
break;
}
break;
case ((NU8) 25):
switch ((*A_122308).Kind) {
case ((NU8) 5):
Result_122644 = ((NU8) 3);
break;
case ((NU8) 25):
LOC155 = Sonslen_50806(F_122307);
LOC156 = Sonslen_50806(A_122308);
LOC154 = (LOC155 == LOC156);
if (!(LOC154)) goto LA157;
LOC154 = ((*F_122307).Callconv == (*A_122308).Callconv);
LA157: ;
if (!LOC154) goto LA158;
Result_122644 = ((NU8) 5);
I_123067 = 0;
HEX3Atmp_124761 = 0;
LOC160 = Sonslen_50806(F_122307);
HEX3Atmp_124761 = (NI32)(LOC160 - 1);
Res_124763 = 0;
Res_124763 = 1;
while (1) {
if (!(Res_124763 <= HEX3Atmp_124761)) goto LA161;
I_123067 = Res_124763;
M_122647 = Typerel_122303(Mapping_122306, (*F_122307).Sons->data[I_123067], (*A_122308).Sons->data[I_123067]);
LOC163 = (M_122647 == ((NU8) 0));
if (!(LOC163)) goto LA164;
LOC165 = Typerel_122303(Mapping_122306, (*A_122308).Sons->data[I_123067], (*F_122307).Sons->data[I_123067]);
LOC163 = (LOC165 == ((NU8) 3));
LA164: ;
if (!LOC163) goto LA166;
Result_122644 = ((NU8) 1);
goto LA162;
LA166: ;
if (!(M_122647 < ((NU8) 3))) goto LA168;
Result_122644 = ((NU8) 0);
goto BeforeRet;
goto LA162;
LA168: ;
Result_122644 = Minrel_122473(M_122647, Result_122644);
LA162: ;
Res_124763 += 1;
} LA161: ;
if (!!(((*F_122307).Sons->data[0] == NIM_NIL))) goto LA171;
if (!!(((*A_122308).Sons->data[0] == NIM_NIL))) goto LA174;
M_122647 = Typerel_122303(Mapping_122306, (*F_122307).Sons->data[0], (*A_122308).Sons->data[0]);
if (!(M_122647 < ((NU8) 3))) goto LA177;
Result_122644 = ((NU8) 0);
goto LA176;
LA177: ;
if (!(M_122647 == ((NU8) 3))) goto LA179;
Result_122644 = ((NU8) 1);
goto LA176;
LA179: ;
Result_122644 = Minrel_122473(M_122647, Result_122644);
LA176: ;
goto LA173;
LA174: ;
Result_122644 = ((NU8) 0);
LA173: ;
goto LA170;
LA171: ;
if (!!(((*A_122308).Sons->data[0] == NIM_NIL))) goto LA181;
Result_122644 = ((NU8) 0);
goto LA170;
LA181: ;
LA170: ;
LOC184 = (((*F_122307).Flags &(1<<((((NU8) 1))&7)))!=0);
if (!(LOC184)) goto LA185;
LOC184 = !((((*A_122308).Flags &(1<<((((NU8) 1))&7)))!=0));
LA185: ;
if (!LOC184) goto LA186;
Result_122644 = ((NU8) 0);
LA186: ;
LA158: ;
break;
default:
break;
}
break;
case ((NU8) 26):
switch ((*A_122308).Kind) {
case ((NU8) 26):
Result_122644 = ((NU8) 5);
break;
case ((NU8) 5):
Result_122644 = ((NU8) 3);
break;
case ((NU8) 21):
case ((NU8) 25):
case ((NU8) 29):
Result_122644 = ((NU8) 1);
break;
default:
break;
}
break;
case ((NU8) 28):
switch ((*A_122308).Kind) {
case ((NU8) 28):
Result_122644 = ((NU8) 5);
break;
case ((NU8) 5):
Result_122644 = ((NU8) 3);
break;
default:
break;
}
break;
case ((NU8) 29):
switch ((*A_122308).Kind) {
case ((NU8) 29):
Result_122644 = ((NU8) 5);
break;
case ((NU8) 5):
Result_122644 = ((NU8) 3);
break;
case ((NU8) 28):
Result_122644 = ((NU8) 1);
break;
case ((NU8) 21):
if (!((*(*A_122308).Sons->data[0]).Kind == ((NU8) 2))) goto LA189;
Result_122644 = ((NU8) 1);
LA189: ;
break;
case ((NU8) 16):
LOC194 = Firstord_92001((*A_122308).Sons->data[0]);
LOC193 = (LOC194 == 0);
if (!(LOC193)) goto LA195;
LOC196 = 0;
LOC196 = Skiptypes_92087((*A_122308).Sons->data[0], 1048576);
LOC193 = ((*LOC196).Kind >= ((NU8) 31) && (*LOC196).Kind <= ((NU8) 35));
LA195: ;
LOC192 = LOC193;
if (!(LOC192)) goto LA197;
LOC192 = ((*(*A_122308).Sons->data[1]).Kind == ((NU8) 2));
LA197: ;
if (!LOC192) goto LA198;
Result_122644 = ((NU8) 1);
LA198: ;
break;
default:
break;
}
break;
case ((NU8) 3):
if (!((*A_122308).Kind == ((NU8) 3))) goto LA201;
Result_122644 = ((NU8) 5);
LA201: ;
break;
case ((NU8) 11):
LOC203 = 0;
LOC203 = Lastson_50812(F_122307);
Result_122644 = Typerel_122303(Mapping_122306, LOC203, A_122308);
break;
case ((NU8) 10):
LOC204 = 0;
LOC204 = Lastson_50812(F_122307);
Result_122644 = Typerel_122303(Mapping_122306, LOC204, A_122308);
break;
case ((NU8) 9):
if (!((*A_122308).Kind == ((NU8) 9))) goto LA206;
Internalerror_42575(((NimStringDesc*) &TMP190065));
LA206: ;
if (!((*A_122308).Kind == ((NU8) 11))) goto LA209;
LOC212 = ((*(*F_122307).Sons->data[0]).Containerid == (*(*A_122308).Sons->data[0]).Containerid);
if (!(LOC212)) goto LA213;
LOC214 = Sonslen_50806(A_122308);
LOC215 = Sonslen_50806(F_122307);
LOC212 = ((NI32)(LOC214 - 1) == LOC215);
LA213: ;
if (!LOC212) goto LA216;
I_123257 = 0;
HEX3Atmp_124764 = 0;
LOC218 = Sonslen_50806(F_122307);
HEX3Atmp_124764 = (NI32)(LOC218 - 1);
Res_124766 = 0;
Res_124766 = 1;
while (1) {
if (!(Res_124766 <= HEX3Atmp_124764)) goto LA219;
I_123257 = Res_124766;
if (!((*(*A_122308).Sons->data[I_123257]).Kind == ((NU8) 12))) goto LA221;
Internalerror_42575(((NimStringDesc*) &TMP190066));
LA221: ;
LOC224 = Typerel_122303(Mapping_122306, (*F_122307).Sons->data[I_123257], (*A_122308).Sons->data[I_123257]);
if (!(LOC224 < ((NU8) 4))) goto LA225;
goto BeforeRet;
LA225: ;
Res_124766 += 1;
} LA219: ;
Result_122644 = ((NU8) 4);
LA216: ;
goto LA208;
LA209: ;
Result_122644 = Typerel_122303(Mapping_122306, (*F_122307).Sons->data[0], A_122308);
if (!!((Result_122644 == ((NU8) 0)))) goto LA228;
I_123292 = 0;
HEX3Atmp_124767 = 0;
LOC230 = Sonslen_50806(F_122307);
HEX3Atmp_124767 = (NI32)(LOC230 - 1);
Res_124769 = 0;
Res_124769 = 1;
while (1) {
if (!(Res_124769 <= HEX3Atmp_124767)) goto LA231;
I_123292 = Res_124769;
LOC232 = 0;
LOC232 = Idtableget_55163((*Mapping_122306), &(*(*F_122307).Sons->data[0]).Sons->data[(NI32)(I_123292 - 1)]->Sup);
X_122645 = ((TY50551*) (LOC232));
LOC234 = (X_122645 == NIM_NIL);
if (LOC234) goto LA235;
LOC234 = ((*X_122645).Kind == ((NU8) 12));
LA235: ;
if (!LOC234) goto LA236;
Internalerror_42575(((NimStringDesc*) &TMP190066));
LA236: ;
Idtableput_55171(Mapping_122306, &(*F_122307).Sons->data[I_123292]->Sup, &X_122645->Sup.Sup);
Res_124769 += 1;
} LA231: ;
LA228: ;
LA208: ;
break;
case ((NU8) 12):
LOC238 = 0;
LOC238 = Idtableget_55163((*Mapping_122306), &F_122307->Sup);
X_122645 = ((TY50551*) (LOC238));
if (!(X_122645 == NIM_NIL)) goto LA240;
LOC243 = Sonslen_50806(F_122307);
if (!(LOC243 == 0)) goto LA244;
Concrete_122646 = Concretetype_122309((*Mapping_122306), A_122308);
if (!!((Concrete_122646 == NIM_NIL))) goto LA247;
Idtableput_55171(Mapping_122306, &F_122307->Sup, &Concrete_122646->Sup.Sup);
Result_122644 = ((NU8) 4);
LA247: ;
goto LA242;
LA244: ;
LOC249 = 0;
LOC249 = rawNewString((*(*(*F_122307).Sym).Name).S->Sup.len + 17);
appendString(LOC249, ((NimStringDesc*) &TMP190068));
appendString(LOC249, (*(*(*F_122307).Sym).Name).S);
Internalerror_42571((*(*F_122307).Sym).Info, LOC249);
I_123344 = 0;
HEX3Atmp_124770 = 0;
LOC250 = Sonslen_50806(F_122307);
HEX3Atmp_124770 = (NI32)(LOC250 - 1);
Res_124772 = 0;
Res_124772 = 0;
while (1) {
if (!(Res_124772 <= HEX3Atmp_124770)) goto LA251;
I_123344 = Res_124772;
LOC253 = Typerel_122303(Mapping_122306, (*F_122307).Sons->data[I_123344], A_122308);
if (!(((NU8) 3) <= LOC253)) goto LA254;
Concrete_122646 = Concretetype_122309((*Mapping_122306), A_122308);
if (!!((Concrete_122646 == NIM_NIL))) goto LA257;
Idtableput_55171(Mapping_122306, &F_122307->Sup, &Concrete_122646->Sup.Sup);
Result_122644 = ((NU8) 4);
LA257: ;
goto LA251;
LA254: ;
Res_124772 += 1;
} LA251: ;
LA242: ;
goto LA239;
LA240: ;
if (!((*A_122308).Kind == ((NU8) 3))) goto LA259;
Result_122644 = ((NU8) 4);
goto LA239;
LA259: ;
if (!((*X_122645).Kind == ((NU8) 12))) goto LA261;
Result_122644 = ((NU8) 4);
goto LA239;
LA261: ;
Result_122644 = Typerel_122303(Mapping_122306, X_122645, A_122308);
LA239: ;
break;
case ((NU8) 6):
case ((NU8) 7):
case ((NU8) 8):
if (!((*A_122308).Kind == (*F_122307).Kind)) goto LA264;
Result_122644 = ((NU8) 5);
goto LA263;
LA264: ;
switch ((*A_122308).Kind) {
case ((NU8) 6):
case ((NU8) 7):
case ((NU8) 8):
Result_122644 = ((NU8) 4);
break;
case ((NU8) 5):
Result_122644 = ((NU8) 3);
break;
default:
break;
}
LA263: ;
break;
default:
LOC266 = 0;
LOC266 = rawNewString(reprEnum((*F_122307).Kind, NTI50162)->Sup.len + 9);
appendString(LOC266, ((NimStringDesc*) &TMP190069));
appendString(LOC266, reprEnum((*F_122307).Kind, NTI50162));
appendChar(LOC266, 41);
Internalerror_42575(LOC266);
break;
}
BeforeRet: ;
return Result_122644;
}
N_NIMCALL(NIM_BOOL, Containsgenerictypeiter_121187)(TY50551* T_121189, TNimObject* Closure_121190) {
NIM_BOOL Result_121191;
Result_121191 = 0;
Result_121191 = ((*T_121189).Kind == ((NU8) 9) || (*T_121189).Kind == ((NU8) 10) || (*T_121189).Kind == ((NU8) 12));
return Result_121191;
}
N_NIMCALL(NIM_BOOL, Containsgenerictype_121203)(TY50551* T_121205) {
NIM_BOOL Result_121206;
Result_121206 = 0;
Result_121206 = Iterovertype_92038(T_121205, Containsgenerictypeiter_121187, NIM_NIL);
return Result_121206;
}
N_NIMCALL(TY50551*, Lookuptypevar_121834)(TY121684* Cl_121836, TY50551* T_121837) {
TY50551* Result_121838;
TNimObject* LOC1;
NimStringDesc* LOC5;
Result_121838 = 0;
LOC1 = 0;
LOC1 = Idtableget_55163((*Cl_121836).Typemap, &T_121837->Sup);
Result_121838 = ((TY50551*) (LOC1));
if (!(Result_121838 == NIM_NIL)) goto LA3;
LOC5 = 0;
LOC5 = Typetostring_92014(T_121837, ((NU8) 0));
Limessage_42566((*(*T_121837).Sym).Info, ((NU8) 122), LOC5);
goto LA2;
LA3: ;
if (!((*Result_121838).Kind == ((NU8) 12))) goto LA6;
Internalerror_42571((*Cl_121836).Info, ((NimStringDesc*) &TMP190070));
goto LA2;
LA6: ;
LA2: ;
return Result_121838;
}
N_NIMCALL(TY50551*, Searchinsttypes_121138)(TY50563 Tab_121140, TY50551* Key_121141) {
TY50551* Result_121142;
TNimObject* LOC1;
NIM_BOOL LOC3;
NI H_121163;
NI HEX3Atmp_124724;
NI Res_124726;
TY50551* T_121164;
NIM_BOOL Match_121178;
NI J_121186;
NI HEX3Atmp_124721;
NI LOC14;
NI Res_124723;
NIM_BOOL LOC17;
Result_121142 = 0;
LOC1 = 0;
LOC1 = Idtableget_55163(Tab_121140, &Key_121141->Sup);
Result_121142 = ((TY50551*) (LOC1));
LOC3 = (Result_121142 == NIM_NIL);
if (!(LOC3)) goto LA4;
LOC3 = (0 < Tab_121140.Counter);
LA4: ;
if (!LOC3) goto LA5;
H_121163 = 0;
HEX3Atmp_124724 = 0;
HEX3Atmp_124724 = (Tab_121140.Data->Sup.len-1);
Res_124726 = 0;
Res_124726 = 0;
while (1) {
if (!(Res_124726 <= HEX3Atmp_124724)) goto LA7;
H_121163 = Res_124726;
T_121164 = 0;
T_121164 = ((TY50551*) (Tab_121140.Data->data[H_121163].Key));
if (!!((T_121164 == NIM_NIL))) goto LA9;
if (!((*Key_121141).Containerid == (*T_121164).Containerid)) goto LA12;
Match_121178 = 0;
Match_121178 = NIM_TRUE;
J_121186 = 0;
HEX3Atmp_124721 = 0;
LOC14 = Sonslen_50806(T_121164);
HEX3Atmp_124721 = (NI32)(LOC14 - 1);
Res_124723 = 0;
Res_124723 = 0;
while (1) {
if (!(Res_124723 <= HEX3Atmp_124721)) goto LA15;
J_121186 = Res_124723;
LOC17 = Sametype_92048((*T_121164).Sons->data[J_121186], (*Key_121141).Sons->data[J_121186]);
if (!!(LOC17)) goto LA18;
Match_121178 = NIM_FALSE;
goto LA15;
LA18: ;
Res_124723 += 1;
} LA15: ;
if (!Match_121178) goto LA21;
Result_121142 = ((TY50551*) (Tab_121140.Data->data[H_121163].Val));
goto BeforeRet;
LA21: ;
LA12: ;
LA9: ;
Res_124726 += 1;
} LA7: ;
LA5: ;
BeforeRet: ;
return Result_121142;
}
N_NIMCALL(TY50547*, Replacetypevarss_121694)(TY121684* Cl_121697, TY50547* S_121698) {
TY50547* Result_121798;
TNimObject* LOC4;
Result_121798 = 0;
if (!(S_121698 == NIM_NIL)) goto LA2;
Result_121798 = NIM_NIL;
goto BeforeRet;
LA2: ;
LOC4 = 0;
LOC4 = Idtableget_55163((*Cl_121697).Symmap, &S_121698->Sup);
Result_121798 = ((TY50547*) (LOC4));
if (!(Result_121798 == NIM_NIL)) goto LA6;
Result_121798 = Copysym_50775(S_121698, NIM_FALSE);
(*Result_121798).Flags |=(1<<((NI32)(((NU8) 4))%(sizeof(NI32)*8)));
Idtableput_55171(&(*Cl_121697).Symmap, &S_121698->Sup, &Result_121798->Sup.Sup);
asgnRef((void**) &(*Result_121798).Typ, Replacetypevarst_121689(Cl_121697, (*S_121698).Typ));
asgnRef((void**) &(*Result_121798).Owner, (*S_121698).Owner);
asgnRefNoCycle((void**) &(*Result_121798).Ast, Replacetypevarsn_121699(Cl_121697, (*S_121698).Ast));
LA6: ;
BeforeRet: ;
return Result_121798;
}
N_NIMCALL(TY50525*, Replacetypevarsn_121699)(TY121684* Cl_121702, TY50525* N_121703) {
TY50525* Result_121704;
NI Length_121758;
NI I_121768;
NI HEX3Atmp_124734;
NI Res_124736;
Result_121704 = 0;
if (!!((N_121703 == NIM_NIL))) goto LA2;
Result_121704 = Copynode_50855(N_121703);
asgnRef((void**) &(*Result_121704).Typ, Replacetypevarst_121689(Cl_121702, (*N_121703).Typ));
switch ((*N_121703).Kind) {
case ((NU8) 0) ... ((NU8) 2):
case ((NU8) 4) ... ((NU8) 18):
break;
case ((NU8) 3):
asgnRef((void**) &(*Result_121704).KindU.S4.Sym, Replacetypevarss_121694(Cl_121702, (*N_121703).KindU.S4.Sym));
break;
default:
Length_121758 = 0;
Length_121758 = Sonslen_50803(N_121703);
if (!(0 < Length_121758)) goto LA5;
Newsons_50815(Result_121704, Length_121758);
I_121768 = 0;
HEX3Atmp_124734 = 0;
HEX3Atmp_124734 = (NI32)(Length_121758 - 1);
Res_124736 = 0;
Res_124736 = 0;
while (1) {
if (!(Res_124736 <= HEX3Atmp_124734)) goto LA7;
I_121768 = Res_124736;
asgnRefNoCycle((void**) &(*Result_121704).KindU.S6.Sons->data[I_121768], Replacetypevarsn_121699(Cl_121702, (*N_121703).KindU.S6.Sons->data[I_121768]));
Res_124736 += 1;
} LA7: ;
LA5: ;
break;
}
LA2: ;
return Result_121704;
}
N_NIMCALL(void, Checkconstructedtype_121639)(TY42536 Info_121641, TY50551* T_121642) {
NIM_BOOL LOC2;
TY50551* LOC4;
NI64 LOC8;
NimStringDesc* LOC11;
NIM_BOOL LOC13;
LOC2 = (((*T_121642).Flags &(1<<((((NU8) 3))&7)))!=0);
if (!(LOC2)) goto LA3;
LOC4 = 0;
LOC4 = Skiptypes_92087(T_121642, 43008);
LOC2 = !(((*LOC4).Kind == ((NU8) 17)));
LA3: ;
if (!LOC2) goto LA5;
Limessage_42566(Info_121641, ((NU8) 159), ((NimStringDesc*) &TMP190073));
LA5: ;
LOC8 = Computesize_92112(T_121642);
if (!(LOC8 < 0)) goto LA9;
LOC11 = 0;
LOC11 = Typetostring_92014(T_121642, ((NU8) 0));
Limessage_42566(Info_121641, ((NU8) 121), LOC11);
LA9: ;
LOC13 = ((*T_121642).Kind == ((NU8) 23));
if (!(LOC13)) goto LA14;
LOC13 = ((*(*T_121642).Sons->data[0]).Kind == ((NU8) 23));
LA14: ;
if (!LOC13) goto LA15;
Limessage_42566(Info_121641, ((NU8) 192), ((NimStringDesc*) &TMP189930));
LA15: ;
}
N_NIMCALL(TY50551*, Replacetypevarst_121689)(TY121684* Cl_121692, TY50551* T_121693) {
TY50551* Result_121864;
TY50551* Body_121865;
TY50551* Newbody_121866;
TY50551* X_121867;
TY50551* Header_121868;
NI I_121896;
NI HEX3Atmp_124737;
NI LOC7;
NI Res_124739;
NI I_121947;
NI HEX3Atmp_124740;
NI LOC21;
NI Res_124742;
TY50551* LOC23;
TY50551* LOC24;
TY50551* LOC25;
NIM_BOOL LOC27;
NI I_121956;
NI HEX3Atmp_124743;
NI LOC30;
NI Res_124745;
NimStringDesc* LOC35;
Result_121864 = 0;
Body_121865 = 0;
Newbody_121866 = 0;
X_121867 = 0;
Header_121868 = 0;
Result_121864 = T_121693;
if (!(T_121693 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*T_121693).Kind) {
case ((NU8) 12):
Result_121864 = Lookuptypevar_121834(&(*Cl_121692), T_121693);
break;
case ((NU8) 9):
Body_121865 = (*T_121693).Sons->data[0];
if (!!(((*Body_121865).Kind == ((NU8) 10)))) goto LA5;
Internalerror_42571((*Cl_121692).Info, ((NimStringDesc*) &TMP190071));
LA5: ;
Header_121868 = NIM_NIL;
I_121896 = 0;
HEX3Atmp_124737 = 0;
LOC7 = Sonslen_50806(T_121693);
HEX3Atmp_124737 = (NI32)(LOC7 - 1);
Res_124739 = 0;
Res_124739 = 1;
while (1) {
if (!(Res_124739 <= HEX3Atmp_124737)) goto LA8;
I_121896 = Res_124739;
if (!((*(*T_121693).Sons->data[I_121896]).Kind == ((NU8) 12))) goto LA10;
X_121867 = Lookuptypevar_121834(&(*Cl_121692), (*T_121693).Sons->data[I_121896]);
if (!(Header_121868 == NIM_NIL)) goto LA13;
Header_121868 = Copytype_50770(T_121693, (*T_121693).Owner, NIM_FALSE);
LA13: ;
asgnRef((void**) &(*Header_121868).Sons->data[I_121896], X_121867);
goto LA9;
LA10: ;
X_121867 = (*T_121693).Sons->data[I_121896];
LA9: ;
Idtableput_55171(&(*Cl_121692).Typemap, &(*Body_121865).Sons->data[(NI32)(I_121896 - 1)]->Sup, &X_121867->Sup.Sup);
Res_124739 += 1;
} LA8: ;
if (!(Header_121868 == NIM_NIL)) goto LA16;
Header_121868 = T_121693;
LA16: ;
Result_121864 = Searchinsttypes_121138(Ginsttypes_102045, Header_121868);
if (!!((Result_121864 == NIM_NIL))) goto LA19;
goto BeforeRet;
LA19: ;
Result_121864 = Newtype_50706(((NU8) 11), (*(*T_121693).Sons->data[0]).Owner);
I_121947 = 0;
HEX3Atmp_124740 = 0;
LOC21 = Sonslen_50806(T_121693);
HEX3Atmp_124740 = (NI32)(LOC21 - 1);
Res_124742 = 0;
Res_124742 = 0;
while (1) {
if (!(Res_124742 <= HEX3Atmp_124740)) goto LA22;
I_121947 = Res_124742;
Addson_50827(Result_121864, (*Header_121868).Sons->data[I_121947]);
Res_124742 += 1;
} LA22: ;
Idtableput_55171(&Ginsttypes_102045, &Header_121868->Sup, &Result_121864->Sup.Sup);
LOC23 = 0;
LOC23 = Lastson_50812(Body_121865);
Newbody_121866 = Replacetypevarst_121689(Cl_121692, LOC23);
LOC24 = 0;
LOC24 = Lastson_50812(Body_121865);
asgnRefNoCycle((void**) &(*Newbody_121866).N, Replacetypevarsn_121699(Cl_121692, (*LOC24).N));
Addson_50827(Result_121864, Newbody_121866);
Checkconstructedtype_121639((*Cl_121692).Info, Newbody_121866);
break;
case ((NU8) 10):
Internalerror_42571((*Cl_121692).Info, ((NimStringDesc*) &TMP190074));
LOC25 = 0;
LOC25 = Lastson_50812(T_121693);
Result_121864 = Replacetypevarst_121689(Cl_121692, LOC25);
break;
default:
LOC27 = Containsgenerictype_121203(T_121693);
if (!LOC27) goto LA28;
Result_121864 = Copytype_50770(T_121693, (*T_121693).Owner, NIM_FALSE);
I_121956 = 0;
HEX3Atmp_124743 = 0;
LOC30 = Sonslen_50806(Result_121864);
HEX3Atmp_124743 = (NI32)(LOC30 - 1);
Res_124745 = 0;
Res_124745 = 0;
while (1) {
if (!(Res_124745 <= HEX3Atmp_124743)) goto LA31;
I_121956 = Res_124745;
asgnRef((void**) &(*Result_121864).Sons->data[I_121956], Replacetypevarst_121689(Cl_121692, (*Result_121864).Sons->data[I_121956]));
Res_124745 += 1;
} LA31: ;
asgnRefNoCycle((void**) &(*Result_121864).N, Replacetypevarsn_121699(Cl_121692, (*Result_121864).N));
if (!((*Result_121864).Kind == ((NU8) 9) || (*Result_121864).Kind == ((NU8) 10) || (*Result_121864).Kind == ((NU8) 12))) goto LA33;
LOC35 = 0;
LOC35 = Typetostring_92014(T_121693, ((NU8) 0));
Limessage_42566((*Cl_121692).Info, ((NU8) 122), LOC35);
LA33: ;
LA28: ;
break;
}
BeforeRet: ;
return Result_121864;
}
N_NIMCALL(TY50551*, Generatetypeinstance_121978)(TY102012* P_121980, TY50563 Pt_121981, TY50525* Arg_121982, TY50551* T_121983) {
TY50551* Result_121984;
TY121684 Cl_121985;
Result_121984 = 0;
memset((void*)&Cl_121985, 0, sizeof(Cl_121985));
Initidtable_50754(&Cl_121985.Symmap);
Copyidtable_50798(&Cl_121985.Typemap, Pt_121981);
Cl_121985.Info = (*Arg_121982).Info;
Cl_121985.C = P_121980;
Pushinfocontext_42610((*Arg_121982).Info);
Result_121984 = Replacetypevarst_121689(&Cl_121985, T_121983);
Popinfocontext_42613();
return Result_121984;
}
N_NIMCALL(TY50551*, Getinstantiatedtype_123408)(TY102012* C_123410, TY50525* Arg_123411, TY122030* M_123412, TY50551* F_123413) {
TY50551* Result_123414;
TNimObject* LOC1;
Result_123414 = 0;
LOC1 = 0;
LOC1 = Idtableget_55163((*M_123412).Bindings, &F_123413->Sup);
Result_123414 = ((TY50551*) (LOC1));
if (!(Result_123414 == NIM_NIL)) goto LA3;
Result_123414 = Generatetypeinstance_121978(C_123410, (*M_123412).Bindings, Arg_123411, F_123413);
LA3: ;
if (!(Result_123414 == NIM_NIL)) goto LA6;
Internalerror_42571((*Arg_123411).Info, ((NimStringDesc*) &TMP190075));
LA6: ;
return Result_123414;
}
N_NIMCALL(TY50525*, Implicitconv_123437)(NU8 Kind_123439, TY50551* F_123440, TY50525* Arg_123441, TY122030* M_123442, TY102012* C_123443) {
TY50525* Result_123444;
NIM_BOOL LOC2;
Result_123444 = 0;
Result_123444 = Newnodei_50737(Kind_123439, (*Arg_123441).Info);
LOC2 = Containsgenerictype_121203(F_123440);
if (!LOC2) goto LA3;
asgnRef((void**) &(*Result_123444).Typ, Getinstantiatedtype_123408(C_123443, Arg_123441, M_123442, F_123440));
goto LA1;
LA3: ;
asgnRef((void**) &(*Result_123444).Typ, F_123440);
LA1: ;
if (!((*Result_123444).Typ == NIM_NIL)) goto LA6;
Internalerror_42571((*Arg_123441).Info, ((NimStringDesc*) &TMP190076));
LA6: ;
Addson_50823(Result_123444, NIM_NIL);
Addson_50823(Result_123444, Arg_123441);
return Result_123444;
}
N_NIMCALL(TY50525*, Userconvmatch_123456)(TY102012* C_123458, TY122030* M_123460, TY50551* F_123461, TY50551* A_123462, TY50525* Arg_123463) {
TY50525* Result_123464;
NI I_123482;
NI HEX3Atmp_124773;
NI Res_124775;
TY50551* Src_123483;
TY50551* Dest_123484;
NIM_BOOL LOC3;
NU8 LOC4;
NU8 LOC6;
TY50525* S_123505;
TY50525* LOC9;
Result_123464 = 0;
Result_123464 = NIM_NIL;
I_123482 = 0;
HEX3Atmp_124773 = 0;
HEX3Atmp_124773 = (NI32)((*C_123458).Converters->Sup.len - 1);
Res_124775 = 0;
Res_124775 = 0;
while (1) {
if (!(Res_124775 <= HEX3Atmp_124773)) goto LA1;
I_123482 = Res_124775;
Src_123483 = 0;
Src_123483 = (*(*(*C_123458).Converters->data[I_123482]).Typ).Sons->data[1];
Dest_123484 = 0;
Dest_123484 = (*(*(*C_123458).Converters->data[I_123482]).Typ).Sons->data[0];
LOC4 = Typerel_122303(&(*M_123460).Bindings, F_123461, Dest_123484);
LOC3 = (LOC4 == ((NU8) 5));
if (!(LOC3)) goto LA5;
LOC6 = Typerel_122303(&(*M_123460).Bindings, Src_123483, A_123462);
LOC3 = (LOC6 == ((NU8) 5));
LA5: ;
if (!LOC3) goto LA7;
S_123505 = 0;
S_123505 = Newsymnode_50734((*C_123458).Converters->data[I_123482]);
asgnRef((void**) &(*S_123505).Typ, (*(*C_123458).Converters->data[I_123482]).Typ);
(*S_123505).Info = (*Arg_123463).Info;
Result_123464 = Newnodeit_50741(((NU8) 49), (*Arg_123463).Info, (*(*S_123505).Typ).Sons->data[0]);
Addson_50823(Result_123464, S_123505);
LOC9 = 0;
LOC9 = Copytree_50858(Arg_123463);
Addson_50823(Result_123464, LOC9);
(*M_123460).Convmatches += 1;
goto BeforeRet;
LA7: ;
Res_124775 += 1;
} LA1: ;
BeforeRet: ;
return Result_123464;
}
N_NIMCALL(TY50525*, Paramtypesmatchaux_123518)(TY102012* C_123520, TY122030* M_123522, TY50551* F_123523, TY50551* A_123524, TY50525* Arg_123525) {
TY50525* Result_123526;
NU8 R_123528;
TY50525* LOC1;
TY50525* LOC2;
TY50525* LOC3;
TY50551* LOC5;
TY50525* LOC8;
TY50551* LOC10;
TY50525* LOC13;
NIM_BOOL LOC15;
TY50551* LOC19;
TY50551* LOC26;
TY50551* LOC27;
Result_123526 = 0;
R_123528 = 0;
R_123528 = Typerel_122303(&(*M_123522).Bindings, F_123523, A_123524);
switch (R_123528) {
case ((NU8) 1):
(*M_123522).Convmatches += 1;
LOC1 = 0;
LOC1 = Copytree_50858(Arg_123525);
Result_123526 = Implicitconv_123437(((NU8) 47), F_123523, LOC1, &(*M_123522), C_123520);
break;
case ((NU8) 2):
(*M_123522).Intconvmatches += 1;
LOC2 = 0;
LOC2 = Copytree_50858(Arg_123525);
Result_123526 = Implicitconv_123437(((NU8) 47), F_123523, LOC2, &(*M_123522), C_123520);
break;
case ((NU8) 3):
(*M_123522).Subtypematches += 1;
LOC3 = 0;
LOC3 = Copytree_50858(Arg_123525);
Result_123526 = Implicitconv_123437(((NU8) 48), F_123523, LOC3, &(*M_123522), C_123520);
break;
case ((NU8) 4):
(*M_123522).Genericmatches += 1;
Result_123526 = Copytree_50858(Arg_123525);
asgnRef((void**) &(*Result_123526).Typ, Getinstantiatedtype_123408(C_123520, Arg_123525, &(*M_123522), F_123523));
LOC5 = 0;
LOC5 = Skiptypes_92087((*Result_123526).Typ, 8431616);
if (!((*LOC5).Kind == ((NU8) 18) || (*LOC5).Kind == ((NU8) 27))) goto LA6;
LOC8 = 0;
LOC8 = Copytree_50858(Arg_123525);
Result_123526 = Implicitconv_123437(((NU8) 47), F_123523, LOC8, &(*M_123522), C_123520);
LA6: ;
break;
case ((NU8) 5):
(*M_123522).Exactmatches += 1;
Result_123526 = Copytree_50858(Arg_123525);
LOC10 = 0;
LOC10 = Skiptypes_92087(F_123523, 8431616);
if (!((*LOC10).Kind == ((NU8) 18) || (*LOC10).Kind == ((NU8) 27))) goto LA11;
LOC13 = 0;
LOC13 = Copytree_50858(Arg_123525);
Result_123526 = Implicitconv_123437(((NU8) 47), F_123523, LOC13, &(*M_123522), C_123520);
LA11: ;
break;
case ((NU8) 0):
Result_123526 = Userconvmatch_123456(C_123520, M_123522, F_123523, A_123524, Arg_123525);
LOC15 = (Result_123526 == NIM_NIL);
if (!(LOC15)) goto LA16;
LOC15 = ((*F_123523).Kind == ((NU8) 27));
LA16: ;
if (!LOC15) goto LA17;
LOC19 = 0;
LOC19 = Base_92021(F_123523);
R_123528 = Typerel_122303(&(*M_123522).Bindings, LOC19, A_123524);
if (!(((NU8) 4) <= R_123528)) goto LA21;
(*M_123522).Convmatches += 1;
Result_123526 = Copytree_50858(Arg_123525);
if (!(R_123528 == ((NU8) 4))) goto LA24;
LOC26 = 0;
LOC26 = Base_92021(F_123523);
asgnRef((void**) &(*Result_123526).Typ, Getinstantiatedtype_123408(C_123520, Arg_123525, &(*M_123522), LOC26));
LA24: ;
(*M_123522).Basetypematch = NIM_TRUE;
goto LA20;
LA21: ;
LOC27 = 0;
LOC27 = Base_92021(F_123523);
Result_123526 = Userconvmatch_123456(C_123520, M_123522, LOC27, A_123524, Arg_123525);
LA20: ;
LA17: ;
break;
}
return Result_123526;
}
N_NIMCALL(void, Initcandidate_122058)(TY122030* C_122061, TY50551* Callee_122062) {
Initcandidateaux_122053(C_122061, Callee_122062);
unsureAsgnRef((void**) &(*C_122061).Calleesym, NIM_NIL);
Initidtable_50754(&(*C_122061).Bindings);
}
N_NIMCALL(void, Copycandidate_122107)(TY122030* A_122110, TY122030* B_122111) {
(*A_122110).Exactmatches = (*B_122111).Exactmatches;
(*A_122110).Subtypematches = (*B_122111).Subtypematches;
(*A_122110).Convmatches = (*B_122111).Convmatches;
(*A_122110).Intconvmatches = (*B_122111).Intconvmatches;
(*A_122110).Genericmatches = (*B_122111).Genericmatches;
(*A_122110).State = (*B_122111).State;
unsureAsgnRef((void**) &(*A_122110).Callee, (*B_122111).Callee);
unsureAsgnRef((void**) &(*A_122110).Calleesym, (*B_122111).Calleesym);
unsureAsgnRef((void**) &(*A_122110).Call, Copytree_50858((*B_122111).Call));
(*A_122110).Basetypematch = (*B_122111).Basetypematch;
Copyidtable_50798(&(*A_122110).Bindings, (*B_122111).Bindings);
}
N_NIMCALL(NI, Cmpcandidates_122113)(TY122030* A_122115, TY122030* B_122116) {
NI Result_122117;
Result_122117 = 0;
Result_122117 = (NI32)((*A_122115).Exactmatches - (*B_122116).Exactmatches);
if (!!((Result_122117 == 0))) goto LA2;
goto BeforeRet;
LA2: ;
Result_122117 = (NI32)((*A_122115).Genericmatches - (*B_122116).Genericmatches);
if (!!((Result_122117 == 0))) goto LA5;
goto BeforeRet;
LA5: ;
Result_122117 = (NI32)((*A_122115).Subtypematches - (*B_122116).Subtypematches);
if (!!((Result_122117 == 0))) goto LA8;
goto BeforeRet;
LA8: ;
Result_122117 = (NI32)((*A_122115).Intconvmatches - (*B_122116).Intconvmatches);
if (!!((Result_122117 == 0))) goto LA11;
goto BeforeRet;
LA11: ;
Result_122117 = (NI32)((*A_122115).Convmatches - (*B_122116).Convmatches);
BeforeRet: ;
return Result_122117;
}
N_NIMCALL(TY50525*, Paramtypesmatch_123664)(TY102012* C_123666, TY122030* M_123668, TY50551* F_123669, TY50551* A_123670, TY50525* Arg_123671) {
TY50525* Result_123672;
NIM_BOOL LOC2;
TY122030 X_123693;
TY122030 Y_123694;
TY122030 Z_123695;
NI Best_123699;
NI I_123707;
NI HEX3Atmp_124776;
NI LOC6;
NI Res_124778;
NU8 R_123758;
NI Cmp_123768;
NIM_BOOL LOC22;
NI LOC24;
Result_123672 = 0;
LOC2 = (Arg_123671 == NIM_NIL);
if (LOC2) goto LA3;
LOC2 = !(((*Arg_123671).Kind == ((NU8) 46)));
LA3: ;
if (!LOC2) goto LA4;
Result_123672 = Paramtypesmatchaux_123518(C_123666, M_123668, F_123669, A_123670, Arg_123671);
goto LA1;
LA4: ;
memset((void*)&X_123693, 0, sizeof(X_123693));
memset((void*)&Y_123694, 0, sizeof(Y_123694));
memset((void*)&Z_123695, 0, sizeof(Z_123695));
Initcandidate_122058(&X_123693, (*M_123668).Callee);
Initcandidate_122058(&Y_123694, (*M_123668).Callee);
Initcandidate_122058(&Z_123695, (*M_123668).Callee);
X_123693.Calleesym = (*M_123668).Calleesym;
Y_123694.Calleesym = (*M_123668).Calleesym;
Z_123695.Calleesym = (*M_123668).Calleesym;
Best_123699 = 0;
Best_123699 = -1;
I_123707 = 0;
HEX3Atmp_124776 = 0;
LOC6 = Sonslen_50803(Arg_123671);
HEX3Atmp_124776 = (NI32)(LOC6 - 1);
Res_124778 = 0;
Res_124778 = 0;
while (1) {
if (!(Res_124778 <= HEX3Atmp_124776)) goto LA7;
I_123707 = Res_124778;
if (!((11264 &(1<<(((*(*(*Arg_123671).KindU.S6.Sons->data[I_123707]).KindU.S4.Sym).Kind)&31)))!=0)) goto LA9;
Copycandidate_122107(&Z_123695, &(*M_123668));
R_123758 = 0;
R_123758 = Typerel_122303(&Z_123695.Bindings, F_123669, (*(*Arg_123671).KindU.S6.Sons->data[I_123707]).Typ);
if (!!((R_123758 == ((NU8) 0)))) goto LA12;
switch (X_123693.State) {
case ((NU8) 0):
case ((NU8) 2):
genericAssign((void*)&X_123693, (void*)&Z_123695, NTI122030);
Best_123699 = I_123707;
X_123693.State = ((NU8) 1);
break;
case ((NU8) 1):
Cmp_123768 = 0;
Cmp_123768 = Cmpcandidates_122113(&X_123693, &Z_123695);
if (!(Cmp_123768 < 0)) goto LA15;
Best_123699 = I_123707;
genericAssign((void*)&X_123693, (void*)&Z_123695, NTI122030);
goto LA14;
LA15: ;
if (!(Cmp_123768 == 0)) goto LA17;
genericAssign((void*)&Y_123694, (void*)&Z_123695, NTI122030);
goto LA14;
LA17: ;
LA14: ;
break;
}
LA12: ;
LA9: ;
Res_124778 += 1;
} LA7: ;
if (!(X_123693.State == ((NU8) 0))) goto LA20;
Result_123672 = NIM_NIL;
goto LA19;
LA20: ;
LOC22 = (Y_123694.State == ((NU8) 1));
if (!(LOC22)) goto LA23;
LOC24 = Cmpcandidates_122113(&X_123693, &Y_123694);
LOC22 = (LOC24 == 0);
LA23: ;
if (!LOC22) goto LA25;
if (!!((X_123693.State == ((NU8) 1)))) goto LA28;
Internalerror_42571((*Arg_123671).Info, ((NimStringDesc*) &TMP190081));
LA28: ;
Result_123672 = NIM_NIL;
goto LA19;
LA25: ;
Markused_120065(Arg_123671, (*(*Arg_123671).KindU.S6.Sons->data[Best_123699]).KindU.S4.Sym);
Result_123672 = Paramtypesmatchaux_123518(C_123666, M_123668, F_123669, (*(*Arg_123671).KindU.S6.Sons->data[Best_123699]).Typ, (*Arg_123671).KindU.S6.Sons->data[Best_123699]);
LA19: ;
LA1: ;
return Result_123672;
}
N_NIMCALL(void, Setson_123860)(TY50525* Father_123862, NI At_123863, TY50525* Son_123864) {
NI LOC2;
LOC2 = Sonslen_50803(Father_123862);
if (!(LOC2 <= At_123863)) goto LA3;
(*Father_123862).KindU.S6.Sons = (TY50519*) setLengthSeq(&((*Father_123862).KindU.S6.Sons)->Sup, sizeof(TY50525*), (NI32)(At_123863 + 1));
LA3: ;
asgnRefNoCycle((void**) &(*Father_123862).KindU.S6.Sons->data[At_123863], Son_123864);
}
N_NIMCALL(void, Matches_123903)(TY102012* C_123905, TY50525* N_123906, TY122030* M_123908) {
NI F_123909;
NI A_123910;
NI Formallen_123911;
TY50525* LOC1;
TY50900 Marker_123924;
TY50525* Container_123926;
TY50547* Formal_123927;
NI LOC3;
NIM_BOOL LOC14;
TY50525* Arg_124092;
TY50551* LOC33;
TY50551* LOC36;
TY50525* LOC37;
TY50525* LOC38;
TY50525* LOC39;
TY50525* Arg_124222;
NIM_BOOL LOC43;
NIM_BOOL LOC44;
NIM_BOOL LOC53;
TY50525* Arg_124339;
TY50525* LOC62;
NI LOC67;
NIM_BOOL LOC69;
TY50525* LOC78;
TY50525* LOC79;
F_123909 = 0;
F_123909 = 1;
A_123910 = 0;
A_123910 = 1;
(*M_123908).State = ((NU8) 1);
unsureAsgnRef((void**) &(*M_123908).Call, Newnodei_50737(((NU8) 21), (*N_123906).Info));
asgnRef((void**) &(*(*M_123908).Call).Typ, Base_92021((*M_123908).Callee));
Formallen_123911 = 0;
Formallen_123911 = Sonslen_50803((*(*M_123908).Callee).N);
LOC1 = 0;
LOC1 = Copytree_50858((*N_123906).KindU.S6.Sons->data[0]);
Addson_50823((*M_123908).Call, LOC1);
memset((void*)&Marker_123924, 0, sizeof(Marker_123924));
Intsetinit_50924(&Marker_123924);
Container_123926 = 0;
Container_123926 = NIM_NIL;
Formal_123927 = 0;
Formal_123927 = NIM_NIL;
while (1) {
LOC3 = Sonslen_50803(N_123906);
if (!(A_123910 < LOC3)) goto LA2;
if (!((*(*N_123906).KindU.S6.Sons->data[A_123910]).Kind == ((NU8) 23))) goto LA5;
if (!!(((*(*(*N_123906).KindU.S6.Sons->data[A_123910]).KindU.S6.Sons->data[0]).Kind == ((NU8) 2)))) goto LA8;
Limessage_42566((*(*N_123906).KindU.S6.Sons->data[A_123910]).Info, ((NU8) 156), ((NimStringDesc*) &TMP189930));
(*M_123908).State = ((NU8) 2);
goto BeforeRet;
LA8: ;
Formal_123927 = Getsymfromlist_55194((*(*M_123908).Callee).N, (*(*(*N_123906).KindU.S6.Sons->data[A_123910]).KindU.S6.Sons->data[0]).KindU.S5.Ident, 1);
if (!(Formal_123927 == NIM_NIL)) goto LA11;
(*M_123908).State = ((NU8) 2);
goto BeforeRet;
LA11: ;
LOC14 = Intsetcontainsorincl_50928(&Marker_123924, (*Formal_123927).Position);
if (!LOC14) goto LA15;
Limessage_42566((*(*N_123906).KindU.S6.Sons->data[A_123910]).Info, ((NU8) 140), (*(*Formal_123927).Name).S);
(*M_123908).State = ((NU8) 2);
goto BeforeRet;
LA15: ;
(*M_123908).Basetypematch = NIM_FALSE;
Arg_124092 = 0;
Arg_124092 = Paramtypesmatch_123664(C_123905, M_123908, (*Formal_123927).Typ, (*(*N_123906).KindU.S6.Sons->data[A_123910]).Typ, (*(*N_123906).KindU.S6.Sons->data[A_123910]).KindU.S6.Sons->data[1]);
if (!(Arg_124092 == NIM_NIL)) goto LA18;
(*M_123908).State = ((NU8) 2);
goto BeforeRet;
LA18: ;
if (!(*M_123908).Basetypematch) goto LA21;
Container_123926 = Newnodei_50737(((NU8) 32), (*(*N_123906).KindU.S6.Sons->data[A_123910]).Info);
Addson_50823(Container_123926, Arg_124092);
Setson_123860((*M_123908).Call, (NI32)((*Formal_123927).Position + 1), Container_123926);
if (!!((F_123909 == (NI32)(Formallen_123911 - 1)))) goto LA24;
Container_123926 = NIM_NIL;
LA24: ;
goto LA20;
LA21: ;
Setson_123860((*M_123908).Call, (NI32)((*Formal_123927).Position + 1), Arg_124092);
LA20: ;
goto LA4;
LA5: ;
if (!(Formallen_123911 <= F_123909)) goto LA27;
if (!(((*(*M_123908).Callee).Flags &(1<<((((NU8) 0))&7)))!=0)) goto LA30;
LOC33 = 0;
LOC33 = Skiptypes_92087((*(*N_123906).KindU.S6.Sons->data[A_123910]).Typ, 8431616);
if (!((*LOC33).Kind == ((NU8) 28))) goto LA34;
LOC36 = 0;
LOC36 = Getsystype_97008(((NU8) 29));
LOC37 = 0;
LOC37 = Copytree_50858((*N_123906).KindU.S6.Sons->data[A_123910]);
LOC38 = 0;
LOC38 = Implicitconv_123437(((NU8) 47), LOC36, LOC37, &(*M_123908), C_123905);
Addson_50823((*M_123908).Call, LOC38);
goto LA32;
LA34: ;
LOC39 = 0;
LOC39 = Copytree_50858((*N_123906).KindU.S6.Sons->data[A_123910]);
Addson_50823((*M_123908).Call, LOC39);
LA32: ;
goto LA29;
LA30: ;
if (!!((Formal_123927 == NIM_NIL))) goto LA40;
(*M_123908).Basetypematch = NIM_FALSE;
Arg_124222 = 0;
Arg_124222 = Paramtypesmatch_123664(C_123905, M_123908, (*Formal_123927).Typ, (*(*N_123906).KindU.S6.Sons->data[A_123910]).Typ, (*N_123906).KindU.S6.Sons->data[A_123910]);
LOC44 = !((Arg_124222 == NIM_NIL));
if (!(LOC44)) goto LA45;
LOC44 = (*M_123908).Basetypematch;
LA45: ;
LOC43 = LOC44;
if (!(LOC43)) goto LA46;
LOC43 = !((Container_123926 == NIM_NIL));
LA46: ;
if (!LOC43) goto LA47;
Addson_50823(Container_123926, Arg_124222);
goto LA42;
LA47: ;
(*M_123908).State = ((NU8) 2);
goto BeforeRet;
LA42: ;
goto LA29;
LA40: ;
(*M_123908).State = ((NU8) 2);
goto BeforeRet;
LA29: ;
goto LA26;
LA27: ;
if (!!(((*(*(*(*M_123908).Callee).N).KindU.S6.Sons->data[F_123909]).Kind == ((NU8) 3)))) goto LA50;
Internalerror_42571((*(*N_123906).KindU.S6.Sons->data[A_123910]).Info, ((NimStringDesc*) &TMP190082));
LA50: ;
Formal_123927 = (*(*(*(*M_123908).Callee).N).KindU.S6.Sons->data[F_123909]).KindU.S4.Sym;
LOC53 = Intsetcontainsorincl_50928(&Marker_123924, (*Formal_123927).Position);
if (!LOC53) goto LA54;
Limessage_42566((*(*N_123906).KindU.S6.Sons->data[A_123910]).Info, ((NU8) 140), (*(*Formal_123927).Name).S);
(*M_123908).State = ((NU8) 2);
goto BeforeRet;
LA54: ;
(*M_123908).Basetypematch = NIM_FALSE;
Arg_124339 = 0;
Arg_124339 = Paramtypesmatch_123664(C_123905, M_123908, (*Formal_123927).Typ, (*(*N_123906).KindU.S6.Sons->data[A_123910]).Typ, (*N_123906).KindU.S6.Sons->data[A_123910]);
if (!(Arg_124339 == NIM_NIL)) goto LA57;
(*M_123908).State = ((NU8) 2);
goto BeforeRet;
LA57: ;
if (!(*M_123908).Basetypematch) goto LA60;
Container_123926 = Newnodei_50737(((NU8) 32), (*(*N_123906).KindU.S6.Sons->data[A_123910]).Info);
Addson_50823(Container_123926, Arg_124339);
LOC62 = 0;
LOC62 = Implicitconv_123437(((NU8) 47), (*Formal_123927).Typ, Container_123926, &(*M_123908), C_123905);
Setson_123860((*M_123908).Call, (NI32)((*Formal_123927).Position + 1), LOC62);
if (!!((F_123909 == (NI32)(Formallen_123911 - 1)))) goto LA64;
Container_123926 = NIM_NIL;
LA64: ;
goto LA59;
LA60: ;
Setson_123860((*M_123908).Call, (NI32)((*Formal_123927).Position + 1), Arg_124339);
LA59: ;
LA26: ;
LA4: ;
A_123910 += 1;
F_123909 += 1;
} LA2: ;
F_123909 = 1;
while (1) {
LOC67 = Sonslen_50803((*(*M_123908).Callee).N);
if (!(F_123909 < LOC67)) goto LA66;
Formal_123927 = (*(*(*(*M_123908).Callee).N).KindU.S6.Sons->data[F_123909]).KindU.S4.Sym;
LOC69 = Intsetcontainsorincl_50928(&Marker_123924, (*Formal_123927).Position);
if (!!(LOC69)) goto LA70;
if (!((*Formal_123927).Ast == NIM_NIL)) goto LA73;
if (!((*(*Formal_123927).Typ).Kind == ((NU8) 27))) goto LA76;
Container_123926 = Newnodei_50737(((NU8) 32), (*N_123906).Info);
LOC78 = 0;
LOC78 = Implicitconv_123437(((NU8) 47), (*Formal_123927).Typ, Container_123926, &(*M_123908), C_123905);
Addson_50823((*M_123908).Call, LOC78);
goto LA75;
LA76: ;
(*M_123908).State = ((NU8) 2);
goto LA66;
LA75: ;
goto LA72;
LA73: ;
LOC79 = 0;
LOC79 = Copytree_50858((*Formal_123927).Ast);
Setson_123860((*M_123908).Call, (NI32)((*Formal_123927).Position + 1), LOC79);
LA72: ;
LA70: ;
F_123909 += 1;
} LA66: ;
BeforeRet: ;
}
N_NIMCALL(NIM_BOOL, Samemethoddispatcher_124459)(TY50547* A_124461, TY50547* B_124462) {
NIM_BOOL Result_124463;
NIM_BOOL LOC2;
TY50525* Aa_124482;
TY50525* Bb_124483;
NIM_BOOL LOC7;
NIM_BOOL LOC8;
Result_124463 = 0;
Result_124463 = NIM_FALSE;
LOC2 = ((*A_124461).Kind == ((NU8) 11));
if (!(LOC2)) goto LA3;
LOC2 = ((*B_124462).Kind == ((NU8) 11));
LA3: ;
if (!LOC2) goto LA4;
Aa_124482 = 0;
Aa_124482 = Lastson_50809((*A_124461).Ast);
Bb_124483 = 0;
Bb_124483 = Lastson_50809((*B_124462).Ast);
LOC8 = ((*Aa_124482).Kind == ((NU8) 3));
if (!(LOC8)) goto LA9;
LOC8 = ((*Bb_124483).Kind == ((NU8) 3));
LA9: ;
LOC7 = LOC8;
if (!(LOC7)) goto LA10;
LOC7 = ((*Aa_124482).KindU.S4.Sym == (*Bb_124483).KindU.S4.Sym);
LA10: ;
if (!LOC7) goto LA11;
Result_124463 = NIM_TRUE;
LA11: ;
LA4: ;
return Result_124463;
}
N_NIMCALL(void, Instantiategenericparamlist_121207)(TY102012* C_121209, TY50525* N_121210, TY50563 Pt_121211) {
NI I_121228;
NI HEX3Atmp_124728;
NI LOC4;
NI Res_124730;
TY50525* A_121241;
TY50547* Q_121263;
TY50547* S_121276;
TY50547* LOC13;
TY50551* T_121277;
TNimObject* LOC14;
NimStringDesc* LOC21;
if (!!(((*N_121210).Kind == ((NU8) 65)))) goto LA2;
Internalerror_42571((*N_121210).Info, ((NimStringDesc*) &TMP190087));
LA2: ;
I_121228 = 0;
HEX3Atmp_124728 = 0;
LOC4 = Sonslen_50803(N_121210);
HEX3Atmp_124728 = (NI32)(LOC4 - 1);
Res_124730 = 0;
Res_124730 = 0;
while (1) {
if (!(Res_124730 <= HEX3Atmp_124728)) goto LA5;
I_121228 = Res_124730;
A_121241 = 0;
A_121241 = (*N_121210).KindU.S6.Sons->data[I_121228];
if (!!(((*A_121241).Kind == ((NU8) 3)))) goto LA8;
Internalerror_42571((*A_121241).Info, ((NimStringDesc*) &TMP190088));
LA8: ;
Q_121263 = 0;
Q_121263 = (*A_121241).KindU.S4.Sym;
if (!!(((*(*Q_121263).Typ).Kind == ((NU8) 8) || (*(*Q_121263).Typ).Kind == ((NU8) 12)))) goto LA11;
goto LA6;
LA11: ;
S_121276 = 0;
LOC13 = 0;
LOC13 = Getcurrowner_102107();
S_121276 = Newsym_50701(((NU8) 7), (*Q_121263).Name, LOC13);
T_121277 = 0;
LOC14 = 0;
LOC14 = Idtableget_55163(Pt_121211, &(*Q_121263).Typ->Sup);
T_121277 = ((TY50551*) (LOC14));
if (!(T_121277 == NIM_NIL)) goto LA16;
Limessage_42566((*A_121241).Info, ((NU8) 122), (*(*S_121276).Name).S);
LA16: ;
if (!((*T_121277).Kind == ((NU8) 12))) goto LA19;
LOC21 = 0;
LOC21 = rawNewString((*(*Q_121263).Name).S->Sup.len + 29);
appendString(LOC21, ((NimStringDesc*) &TMP190089));
appendString(LOC21, (*(*Q_121263).Name).S);
Internalerror_42571((*A_121241).Info, LOC21);
LA19: ;
asgnRef((void**) &(*S_121276).Typ, T_121277);
Adddecl_103026(C_121209, S_121276);
LA6: ;
Res_124730 += 1;
} LA5: ;
}
N_NIMCALL(TY50551*, Neworprevtype_124829)(NU8 Kind_124831, TY50551* Prev_124832, TY102012* C_124833) {
TY50551* Result_124834;
Result_124834 = 0;
if (!(Prev_124832 == NIM_NIL)) goto LA2;
Result_124834 = Newtypes_102077(Kind_124831, C_124833);
goto LA1;
LA2: ;
Result_124834 = Prev_124832;
if (!((*Result_124834).Kind == ((NU8) 30))) goto LA5;
(*Result_124834).Kind = Kind_124831;
LA5: ;
LA1: ;
return Result_124834;
}
N_NIMCALL(TY50547*, Semtypeident_125606)(TY102012* C_125608, TY50525* N_125609) {
TY50547* Result_125610;
Result_125610 = 0;
Result_125610 = Qualifiedlookup_103053(C_125608, N_125609, NIM_TRUE);
if (!!((Result_125610 == NIM_NIL))) goto LA2;
Markused_120065(N_125609, Result_125610);
if (!!(((*Result_125610).Kind == ((NU8) 7)))) goto LA5;
Limessage_42566((*N_125609).Info, ((NU8) 60), ((NimStringDesc*) &TMP189930));
LA5: ;
goto LA1;
LA2: ;
Limessage_42566((*N_125609).Info, ((NU8) 19), ((NimStringDesc*) &TMP189930));
LA1: ;
return Result_125610;
}
N_NIMCALL(TY50551*, Semrangeaux_125303)(TY102012* C_125305, TY50525* N_125306, TY50551* Prev_125307) {
TY50551* Result_125308;
NIM_BOOL LOC5;
TY50525* A_125376;
TY50525* B_125389;
NIM_BOOL LOC10;
NIM_BOOL LOC17;
NIM_BOOL LOC21;
Result_125308 = 0;
if (!!(((*N_125306).Kind == ((NU8) 35)))) goto LA2;
Internalerror_42571((*N_125306).Info, ((NimStringDesc*) &TMP190090));
LA2: ;
Checksonslen_102099(N_125306, 2);
Result_125308 = Neworprevtype_124829(((NU8) 20), Prev_125307, C_125305);
asgnRefNoCycle((void**) &(*Result_125308).N, Newnodei_50737(((NU8) 35), (*N_125306).Info));
LOC5 = ((*N_125306).KindU.S6.Sons->data[0] == NIM_NIL);
if (LOC5) goto LA6;
LOC5 = ((*N_125306).KindU.S6.Sons->data[1] == NIM_NIL);
LA6: ;
if (!LOC5) goto LA7;
Limessage_42566((*N_125306).Info, ((NU8) 104), ((NimStringDesc*) &TMP189930));
LA7: ;
A_125376 = 0;
A_125376 = Semconstexpr_120171(C_125305, (*N_125306).KindU.S6.Sons->data[0]);
B_125389 = 0;
B_125389 = Semconstexpr_120171(C_125305, (*N_125306).KindU.S6.Sons->data[1]);
LOC10 = Sametype_92048((*A_125376).Typ, (*B_125389).Typ);
if (!!(LOC10)) goto LA11;
Limessage_42566((*N_125306).Info, ((NU8) 125), ((NimStringDesc*) &TMP189930));
LA11: ;
if (!!(((*(*A_125376).Typ).Kind >= ((NU8) 31) && (*(*A_125376).Typ).Kind <= ((NU8) 35) || (*(*A_125376).Typ).Kind == ((NU8) 14) || (*(*A_125376).Typ).Kind == ((NU8) 1) || (*(*A_125376).Typ).Kind == ((NU8) 2) || (*(*A_125376).Typ).Kind >= ((NU8) 36) && (*(*A_125376).Typ).Kind <= ((NU8) 39)))) goto LA14;
Limessage_42566((*N_125306).Info, ((NU8) 71), ((NimStringDesc*) &TMP189930));
LA14: ;
LOC17 = Enumhaswholes_92072((*A_125376).Typ);
if (!LOC17) goto LA18;
Limessage_42566((*N_125306).Info, ((NU8) 143), (*(*(*(*A_125376).Typ).Sym).Name).S);
LA18: ;
LOC21 = Levalue_50870(A_125376, B_125389);
if (!!(LOC21)) goto LA22;
Limessage_42566((*N_125306).Info, ((NU8) 104), ((NimStringDesc*) &TMP189930));
LA22: ;
Addson_50823((*Result_125308).N, A_125376);
Addson_50823((*Result_125308).N, B_125389);
Addson_50827(Result_125308, (*B_125389).Typ);
return Result_125308;
}
N_NIMCALL(TY50551*, Semarray_125455)(TY102012* C_125457, TY50525* N_125458, TY50551* Prev_125459) {
TY50551* Result_125460;
TY50551* Indx_125461;
TY50551* Base_125462;
NI LOC2;
NIM_BOOL LOC15;
NIM_BOOL LOC19;
Result_125460 = 0;
Indx_125461 = 0;
Base_125462 = 0;
Result_125460 = Neworprevtype_124829(((NU8) 16), Prev_125459, C_125457);
LOC2 = Sonslen_50803(N_125458);
if (!(LOC2 == 3)) goto LA3;
if (!((*(*N_125458).KindU.S6.Sons->data[1]).Kind == ((NU8) 35))) goto LA6;
Indx_125461 = Semrangeaux_125303(C_125457, (*N_125458).KindU.S6.Sons->data[1], NIM_NIL);
goto LA5;
LA6: ;
Indx_125461 = Semtypenode_120138(C_125457, (*N_125458).KindU.S6.Sons->data[1], NIM_NIL);
LA5: ;
Addson_50827(Result_125460, Indx_125461);
if (!((*Indx_125461).Kind == ((NU8) 11))) goto LA9;
Indx_125461 = Lastson_50812(Indx_125461);
LA9: ;
if (!!(((*Indx_125461).Kind == ((NU8) 12)))) goto LA12;
LOC15 = Isordinaltype_92069(Indx_125461);
if (!!(LOC15)) goto LA16;
Limessage_42566((*(*N_125458).KindU.S6.Sons->data[1]).Info, ((NU8) 71), ((NimStringDesc*) &TMP189930));
LA16: ;
LOC19 = Enumhaswholes_92072(Indx_125461);
if (!LOC19) goto LA20;
Limessage_42566((*(*N_125458).KindU.S6.Sons->data[1]).Info, ((NU8) 143), (*(*(*Indx_125461).Sym).Name).S);
LA20: ;
LA12: ;
Base_125462 = Semtypenode_120138(C_125457, (*N_125458).KindU.S6.Sons->data[2], NIM_NIL);
Addson_50827(Result_125460, Base_125462);
goto LA1;
LA3: ;
Limessage_42566((*N_125458).Info, ((NU8) 171), ((NimStringDesc*) &TMP189930));
LA1: ;
return Result_125460;
}
N_NIMCALL(TY50551*, Semcontainer_125207)(TY102012* C_125209, TY50525* N_125210, NU8 Kind_125211, NimStringDesc* Kindstr_125212, TY50551* Prev_125213) {
TY50551* Result_125214;
NI LOC2;
TY50551* Base_125229;
Result_125214 = 0;
Result_125214 = Neworprevtype_124829(Kind_125211, Prev_125213, C_125209);
LOC2 = Sonslen_50803(N_125210);
if (!(LOC2 == 2)) goto LA3;
Base_125229 = 0;
Base_125229 = Semtypenode_120138(C_125209, (*N_125210).KindU.S6.Sons->data[1], NIM_NIL);
Addson_50827(Result_125214, Base_125229);
goto LA1;
LA3: ;
Limessage_42566((*N_125210).Info, ((NU8) 170), Kindstr_125212);
LA1: ;
return Result_125214;
}
N_NIMCALL(TY50551*, Semrange_125402)(TY102012* C_125404, TY50525* N_125405, TY50551* Prev_125406) {
TY50551* Result_125407;
NI LOC2;
Result_125407 = 0;
Result_125407 = NIM_NIL;
LOC2 = Sonslen_50803(N_125405);
if (!(LOC2 == 2)) goto LA3;
if (!((*(*N_125405).KindU.S6.Sons->data[1]).Kind == ((NU8) 35))) goto LA6;
Result_125407 = Semrangeaux_125303(C_125404, (*N_125405).KindU.S6.Sons->data[1], Prev_125406);
goto LA5;
LA6: ;
Limessage_42566((*(*N_125405).KindU.S6.Sons->data[0]).Info, ((NU8) 93), ((NimStringDesc*) &TMP189930));
LA5: ;
goto LA1;
LA3: ;
Limessage_42566((*N_125405).Info, ((NU8) 170), ((NimStringDesc*) &TMP190092));
LA1: ;
return Result_125407;
}
N_NIMCALL(TY50551*, Semset_125166)(TY102012* C_125168, TY50525* N_125169, TY50551* Prev_125170) {
TY50551* Result_125171;
NI LOC2;
TY50551* Base_125186;
NIM_BOOL LOC12;
NI64 LOC16;
Result_125171 = 0;
Result_125171 = Neworprevtype_124829(((NU8) 19), Prev_125170, C_125168);
LOC2 = Sonslen_50803(N_125169);
if (!(LOC2 == 2)) goto LA3;
Base_125186 = 0;
Base_125186 = Semtypenode_120138(C_125168, (*N_125169).KindU.S6.Sons->data[1], NIM_NIL);
Addson_50827(Result_125171, Base_125186);
if (!((*Base_125186).Kind == ((NU8) 11))) goto LA6;
Base_125186 = Lastson_50812(Base_125186);
LA6: ;
if (!!(((*Base_125186).Kind == ((NU8) 12)))) goto LA9;
LOC12 = Isordinaltype_92069(Base_125186);
if (!!(LOC12)) goto LA13;
Limessage_42566((*N_125169).Info, ((NU8) 71), ((NimStringDesc*) &TMP189930));
LA13: ;
LOC16 = Lengthord_92007(Base_125186);
if (!(65536 < LOC16)) goto LA17;
Limessage_42566((*N_125169).Info, ((NU8) 117), ((NimStringDesc*) &TMP189930));
LA17: ;
LA9: ;
goto LA1;
LA3: ;
Limessage_42566((*N_125169).Info, ((NU8) 170), ((NimStringDesc*) &TMP190093));
LA1: ;
return Result_125171;
}
N_NIMCALL(TY50551*, Semordinal_125564)(TY102012* C_125566, TY50525* N_125567, TY50551* Prev_125568) {
TY50551* Result_125569;
NI LOC2;
TY50551* Base_125584;
NIM_BOOL LOC9;
Result_125569 = 0;
Result_125569 = Neworprevtype_124829(((NU8) 15), Prev_125568, C_125566);
LOC2 = Sonslen_50803(N_125567);
if (!(LOC2 == 2)) goto LA3;
Base_125584 = 0;
Base_125584 = Semtypenode_120138(C_125566, (*N_125567).KindU.S6.Sons->data[1], NIM_NIL);
if (!!(((*Base_125584).Kind == ((NU8) 12)))) goto LA6;
LOC9 = Isordinaltype_92069(Base_125584);
if (!!(LOC9)) goto LA10;
Limessage_42566((*(*N_125567).KindU.S6.Sons->data[1]).Info, ((NU8) 71), ((NimStringDesc*) &TMP189930));
LA10: ;
LA6: ;
Addson_50827(Result_125569, Base_125584);
goto LA1;
LA3: ;
Limessage_42566((*N_125567).Info, ((NU8) 170), ((NimStringDesc*) &TMP190094));
LA1: ;
return Result_125569;
}
N_NIMCALL(TY50551*, Instgenericcontainer_120166)(TY102012* C_120168, TY50525* N_120169, TY50551* Header_120170) {
TY50551* Result_121973;
TY121684 Cl_121974;
Result_121973 = 0;
memset((void*)&Cl_121974, 0, sizeof(Cl_121974));
Initidtable_50754(&Cl_121974.Symmap);
Initidtable_50754(&Cl_121974.Typemap);
Cl_121974.Info = (*N_120169).Info;
Cl_121974.C = C_120168;
Result_121973 = Replacetypevarst_121689(&Cl_121974, Header_120170);
return Result_121973;
}
N_NIMCALL(TY50551*, Semgeneric_125788)(TY102012* C_125790, TY50525* N_125791, TY50547* S_125792, TY50551* Prev_125793) {
TY50551* Result_125794;
TY50551* Elem_125795;
NIM_BOOL Isconcrete_125796;
NIM_BOOL LOC2;
NI LOC10;
NI LOC11;
NI I_125828;
NI HEX3Atmp_140890;
NI LOC14;
NI Res_140892;
Result_125794 = 0;
Elem_125795 = 0;
Isconcrete_125796 = 0;
LOC2 = ((*S_125792).Typ == NIM_NIL);
if (LOC2) goto LA3;
LOC2 = !(((*(*S_125792).Typ).Kind == ((NU8) 10)));
LA3: ;
if (!LOC2) goto LA4;
Limessage_42566((*N_125791).Info, ((NU8) 122), (*(*S_125792).Name).S);
LA4: ;
Result_125794 = Neworprevtype_124829(((NU8) 9), Prev_125793, C_125790);
if (!((*(*S_125792).Typ).Containerid == 0)) goto LA7;
Internalerror_42571((*N_125791).Info, ((NimStringDesc*) &TMP190096));
LA7: ;
LOC10 = Sonslen_50803(N_125791);
LOC11 = Sonslen_50806((*S_125792).Typ);
if (!!((LOC10 == LOC11))) goto LA12;
Limessage_42566((*N_125791).Info, ((NU8) 130), ((NimStringDesc*) &TMP189930));
LA12: ;
Addson_50827(Result_125794, (*S_125792).Typ);
Isconcrete_125796 = NIM_TRUE;
I_125828 = 0;
HEX3Atmp_140890 = 0;
LOC14 = Sonslen_50803(N_125791);
HEX3Atmp_140890 = (NI32)(LOC14 - 1);
Res_140892 = 0;
Res_140892 = 1;
while (1) {
if (!(Res_140892 <= HEX3Atmp_140890)) goto LA15;
I_125828 = Res_140892;
Elem_125795 = Semtypenode_120138(C_125790, (*N_125791).KindU.S6.Sons->data[I_125828], NIM_NIL);
if (!((*Elem_125795).Kind == ((NU8) 12))) goto LA17;
Isconcrete_125796 = NIM_FALSE;
LA17: ;
Addson_50827(Result_125794, Elem_125795);
Res_140892 += 1;
} LA15: ;
if (!Isconcrete_125796) goto LA20;
if (!((*S_125792).Ast == NIM_NIL)) goto LA23;
Limessage_42566((*N_125791).Info, ((NU8) 122), (*(*S_125792).Name).S);
LA23: ;
Result_125794 = Instgenericcontainer_120166(C_125790, N_125791, Result_125794);
LA20: ;
return Result_125794;
}
N_NIMCALL(void, Addinheritedfieldsaux_126949)(TY102012* C_126951, TY50900* Check_126953, NI* Pos_126955, TY50525* N_126956) {
NI I_126997;
NI HEX3Atmp_140914;
NI LOC4;
NI Res_140916;
TY50525* LOC6;
NI I_127029;
NI HEX3Atmp_140917;
NI LOC7;
NI Res_140919;
switch ((*N_126956).Kind) {
case ((NU8) 114):
if (!!(((*(*N_126956).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA2;
Internalerror_42571((*N_126956).Info, ((NimStringDesc*) &TMP190097));
LA2: ;
Addinheritedfieldsaux_126949(C_126951, Check_126953, Pos_126955, (*N_126956).KindU.S6.Sons->data[0]);
I_126997 = 0;
HEX3Atmp_140914 = 0;
LOC4 = Sonslen_50803(N_126956);
HEX3Atmp_140914 = (NI32)(LOC4 - 1);
Res_140916 = 0;
Res_140916 = 1;
while (1) {
if (!(Res_140916 <= HEX3Atmp_140914)) goto LA5;
I_126997 = Res_140916;
switch ((*(*N_126956).KindU.S6.Sons->data[I_126997]).Kind) {
case ((NU8) 75):
case ((NU8) 78):
LOC6 = 0;
LOC6 = Lastson_50809((*N_126956).KindU.S6.Sons->data[I_126997]);
Addinheritedfieldsaux_126949(C_126951, Check_126953, Pos_126955, LOC6);
break;
default:
Internalerror_42571((*N_126956).Info, ((NimStringDesc*) &TMP190098));
break;
}
Res_140916 += 1;
} LA5: ;
break;
case ((NU8) 113):
I_127029 = 0;
HEX3Atmp_140917 = 0;
LOC7 = Sonslen_50803(N_126956);
HEX3Atmp_140917 = (NI32)(LOC7 - 1);
Res_140919 = 0;
Res_140919 = 0;
while (1) {
if (!(Res_140919 <= HEX3Atmp_140917)) goto LA8;
I_127029 = Res_140919;
Addinheritedfieldsaux_126949(C_126951, Check_126953, Pos_126955, (*N_126956).KindU.S6.Sons->data[I_127029]);
Res_140919 += 1;
} LA8: ;
break;
case ((NU8) 3):
Intsetincl_50914(Check_126953, (*(*(*N_126956).KindU.S4.Sym).Name).Sup.Id);
(*Pos_126955) += 1;
break;
default:
Internalerror_42571((*N_126956).Info, ((NimStringDesc*) &TMP190099));
break;
}
}
N_NIMCALL(void, Addinheritedfields_127066)(TY102012* C_127068, TY50900* Check_127070, NI* Pos_127072, TY50551* Obj_127073) {
NIM_BOOL LOC2;
NI LOC3;
LOC3 = Sonslen_50806(Obj_127073);
LOC2 = (0 < LOC3);
if (!(LOC2)) goto LA4;
LOC2 = !(((*Obj_127073).Sons->data[0] == NIM_NIL));
LA4: ;
if (!LOC2) goto LA5;
Addinheritedfields_127066(C_127068, Check_127070, Pos_127072, (*Obj_127073).Sons->data[0]);
LA5: ;
Addinheritedfieldsaux_126949(C_127068, Check_127070, Pos_127072, (*Obj_127073).N);
}
N_NIMCALL(void, Checkbool_124779)(TY50525* T_124781) {
NIM_BOOL LOC2;
TY50551* LOC4;
LOC2 = ((*T_124781).Typ == NIM_NIL);
if (LOC2) goto LA3;
LOC4 = 0;
LOC4 = Skiptypes_92087((*T_124781).Typ, 8423424);
LOC2 = !(((*LOC4).Kind == ((NU8) 1)));
LA3: ;
if (!LOC2) goto LA5;
Limessage_42566((*T_124781).Info, ((NU8) 101), ((NimStringDesc*) &TMP189930));
LA5: ;
}
N_NIMCALL(NU8, Cmptypes_123400)(TY50551* F_123402, TY50551* A_123403) {
NU8 Result_123404;
TY50563 Mapping_123405;
Result_123404 = 0;
memset((void*)&Mapping_123405, 0, sizeof(Mapping_123405));
Initidtable_50754(&Mapping_123405);
Result_123404 = Typerel_122303(&Mapping_123405, F_123402, A_123403);
return Result_123404;
}
N_NIMCALL(void, Typemismatch_124803)(TY50525* N_124805, TY50551* Formal_124806, TY50551* Actual_124807) {
NimStringDesc* LOC1;
NimStringDesc* LOC2;
NimStringDesc* LOC3;
NimStringDesc* LOC4;
TY42866 LOC5;
NimStringDesc* LOC6;
LOC1 = 0;
LOC2 = 0;
LOC2 = Msgkindtostring_42592(((NU8) 126));
LOC3 = 0;
LOC3 = Typetostring_92014(Actual_124807, ((NU8) 0));
LOC4 = 0;
LOC4 = Msgkindtostring_42592(((NU8) 128));
memset((void*)&LOC5, 0, sizeof(LOC5));
LOC5[0] = Typetostring_92014(Formal_124806, ((NU8) 0));
LOC6 = 0;
LOC6 = nsuFormatOpenArray(LOC4, LOC5, 1);
LOC1 = rawNewString(LOC2->Sup.len + LOC3->Sup.len + LOC6->Sup.len + 2);
appendString(LOC1, LOC2);
appendString(LOC1, LOC3);
appendString(LOC1, ((NimStringDesc*) &TMP190103));
appendString(LOC1, LOC6);
Limessage_42566((*N_124805).Info, ((NU8) 4), LOC1);
}
N_NIMCALL(void, Sembranchexpr_126131)(TY102012* C_126133, TY50525* T_126134, TY50525** Ex_126136) {
NU8 LOC2;
unsureAsgnRef((void**) &(*Ex_126136), Semconstexpr_120171(C_126133, (*Ex_126136)));
Checkminsonslen_102103(T_126134, 1);
LOC2 = Cmptypes_123400((*(*T_126134).KindU.S6.Sons->data[0]).Typ, (*(*Ex_126136)).Typ);
if (!(LOC2 <= ((NU8) 1))) goto LA3;
Typemismatch_124803((*Ex_126136), (*(*T_126134).KindU.S6.Sons->data[0]).Typ, (*(*Ex_126136)).Typ);
LA3: ;
}
N_NIMCALL(void, Checkforoverlap_126073)(TY102012* C_126075, TY50525* T_126076, TY50525* Ex_126077, NI Branchindex_126078) {
NI I_126086;
NI HEX3Atmp_140896;
NI Res_140898;
NI J_126106;
NI HEX3Atmp_140893;
NI LOC2;
NI Res_140895;
NIM_BOOL LOC5;
I_126086 = 0;
HEX3Atmp_140896 = 0;
HEX3Atmp_140896 = (NI32)(Branchindex_126078 - 1);
Res_140898 = 0;
Res_140898 = 1;
while (1) {
if (!(Res_140898 <= HEX3Atmp_140896)) goto LA1;
I_126086 = Res_140898;
J_126106 = 0;
HEX3Atmp_140893 = 0;
LOC2 = Sonslen_50803((*T_126076).KindU.S6.Sons->data[I_126086]);
HEX3Atmp_140893 = (NI32)(LOC2 - 2);
Res_140895 = 0;
Res_140895 = 0;
while (1) {
if (!(Res_140895 <= HEX3Atmp_140893)) goto LA3;
J_126106 = Res_140895;
LOC5 = Overlap_99006((*(*T_126076).KindU.S6.Sons->data[I_126086]).KindU.S6.Sons->data[J_126106], Ex_126077);
if (!LOC5) goto LA6;
Limessage_42566((*Ex_126077).Info, ((NU8) 103), ((NimStringDesc*) &TMP189930));
LA6: ;
Res_140895 += 1;
} LA3: ;
Res_140898 += 1;
} LA1: ;
}
N_NIMCALL(void, Semcasebranch_126170)(TY102012* C_126172, TY50525* T_126173, TY50525* Branch_126174, NI Branchindex_126175, NI64* Covered_126177) {
NI I_126185;
NI HEX3Atmp_140899;
NI LOC1;
NI Res_140901;
TY50525* B_126198;
NIM_BOOL LOC7;
NI64 LOC10;
NI64 LOC11;
I_126185 = 0;
HEX3Atmp_140899 = 0;
LOC1 = Sonslen_50803(Branch_126174);
HEX3Atmp_140899 = (NI32)(LOC1 - 2);
Res_140901 = 0;
Res_140901 = 0;
while (1) {
if (!(Res_140901 <= HEX3Atmp_140899)) goto LA2;
I_126185 = Res_140901;
B_126198 = 0;
B_126198 = (*Branch_126174).KindU.S6.Sons->data[I_126185];
if (!((*B_126198).Kind == ((NU8) 35))) goto LA4;
Checksonslen_102099(B_126198, 2);
Sembranchexpr_126131(C_126172, T_126173, &(*B_126198).KindU.S6.Sons->data[0]);
Sembranchexpr_126131(C_126172, T_126173, &(*B_126198).KindU.S6.Sons->data[1]);
LOC7 = Emptyrange_99019((*B_126198).KindU.S6.Sons->data[0], (*B_126198).KindU.S6.Sons->data[1]);
if (!LOC7) goto LA8;
Limessage_42566((*B_126198).Info, ((NU8) 104), ((NimStringDesc*) &TMP189930));
LA8: ;
LOC10 = Getordvalue_92109((*B_126198).KindU.S6.Sons->data[1]);
LOC11 = Getordvalue_92109((*B_126198).KindU.S6.Sons->data[0]);
(*Covered_126177) = (NI64)((NI64)((NI64)((*Covered_126177) + LOC10) - LOC11) + 1);
goto LA3;
LA4: ;
Sembranchexpr_126131(C_126172, T_126173, &(*Branch_126174).KindU.S6.Sons->data[I_126185]);
(*Covered_126177) += 1;
LA3: ;
Checkforoverlap_126073(C_126172, T_126173, (*Branch_126174).KindU.S6.Sons->data[I_126185], Branchindex_126175);
Res_140901 += 1;
} LA2: ;
}
N_NIMCALL(void, Semrecordcase_126329)(TY102012* C_126331, TY50525* N_126332, TY50900* Check_126334, NI* Pos_126336, TY50525* Father_126337, TY50547* Rectype_126338) {
NI64 Covered_126339;
NIM_BOOL Chckcovered_126340;
TY50525* A_126341;
TY50525* B_126342;
TY50551* Typ_126343;
NIM_BOOL LOC5;
NI64 LOC9;
NI64 LOC13;
NI I_126484;
NI HEX3Atmp_140902;
NI LOC16;
NI Res_140904;
NI LOC18;
TY50525* LOC19;
NIM_BOOL LOC21;
NI64 LOC23;
Covered_126339 = 0;
Chckcovered_126340 = 0;
A_126341 = 0;
B_126342 = 0;
Typ_126343 = 0;
A_126341 = Copynode_50855(N_126332);
Checkminsonslen_102103(N_126332, 2);
Semrecordnodeaux_126319(C_126331, (*N_126332).KindU.S6.Sons->data[0], Check_126334, Pos_126336, A_126341, Rectype_126338);
if (!!(((*(*A_126341).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA2;
Internalerror_42575(((NimStringDesc*) &TMP190102));
LA2: ;
(*(*(*A_126341).KindU.S6.Sons->data[0]).KindU.S4.Sym).Flags |=(1<<((NI32)(((NU8) 21))%(sizeof(NI32)*8)));
Covered_126339 = 0;
Typ_126343 = Skiptypes_92087((*(*A_126341).KindU.S6.Sons->data[0]).Typ, 8431616);
LOC5 = Isordinaltype_92069(Typ_126343);
if (!!(LOC5)) goto LA6;
Limessage_42566((*N_126332).Info, ((NU8) 106), ((NimStringDesc*) &TMP189930));
LA6: ;
LOC9 = Firstord_92001(Typ_126343);
if (!(LOC9 < 0)) goto LA10;
Limessage_42566((*N_126332).Info, ((NU8) 107), (*(*(*(*A_126341).KindU.S6.Sons->data[0]).KindU.S4.Sym).Name).S);
LA10: ;
LOC13 = Lengthord_92007(Typ_126343);
if (!(32767 < LOC13)) goto LA14;
Limessage_42566((*N_126332).Info, ((NU8) 108), (*(*(*(*A_126341).KindU.S6.Sons->data[0]).KindU.S4.Sym).Name).S);
LA14: ;
Chckcovered_126340 = NIM_TRUE;
I_126484 = 0;
HEX3Atmp_140902 = 0;
LOC16 = Sonslen_50803(N_126332);
HEX3Atmp_140902 = (NI32)(LOC16 - 1);
Res_140904 = 0;
Res_140904 = 1;
while (1) {
if (!(Res_140904 <= HEX3Atmp_140902)) goto LA17;
I_126484 = Res_140904;
B_126342 = Copytree_50858((*N_126332).KindU.S6.Sons->data[I_126484]);
switch ((*(*N_126332).KindU.S6.Sons->data[I_126484]).Kind) {
case ((NU8) 75):
Checkminsonslen_102103(B_126342, 2);
Semcasebranch_126170(C_126331, A_126341, B_126342, I_126484, &Covered_126339);
break;
case ((NU8) 78):
Chckcovered_126340 = NIM_FALSE;
Checksonslen_102099(B_126342, 1);
break;
default:
Illformedast_102092(N_126332);
break;
}
LOC18 = Sonslen_50803(B_126342);
Delson_50835(B_126342, (NI32)(LOC18 - 1));
LOC19 = 0;
LOC19 = Lastson_50809((*N_126332).KindU.S6.Sons->data[I_126484]);
Semrecordnodeaux_126319(C_126331, LOC19, Check_126334, Pos_126336, B_126342, Rectype_126338);
Addson_50823(A_126341, B_126342);
Res_140904 += 1;
} LA17: ;
LOC21 = Chckcovered_126340;
if (!(LOC21)) goto LA22;
LOC23 = Lengthord_92007((*(*A_126341).KindU.S6.Sons->data[0]).Typ);
LOC21 = !((Covered_126339 == LOC23));
LA22: ;
if (!LOC21) goto LA24;
Limessage_42566((*A_126341).Info, ((NU8) 148), ((NimStringDesc*) &TMP189930));
LA24: ;
Addson_50823(Father_126337, A_126341);
}
N_NIMCALL(TY50547*, Newsyms_120059)(NU8 Kind_120061, TY50525* N_120062, TY102012* C_120063) {
TY50547* Result_120064;
TY49011* LOC1;
TY50547* LOC2;
Result_120064 = 0;
LOC1 = 0;
LOC1 = Consideracc_120003(N_120062);
LOC2 = 0;
LOC2 = Getcurrowner_102107();
Result_120064 = Newsym_50701(Kind_120061, LOC1, LOC2);
(*Result_120064).Info = (*N_120062).Info;
return Result_120064;
}
N_NIMCALL(TY50547*, Semidentvis_120092)(TY102012* C_120094, NU8 Kind_120095, TY50525* N_120096, NU32 Allowed_120097) {
TY50547* Result_125867;
NIM_BOOL LOC5;
NI LOC6;
TY49011* V_125936;
NIM_BOOL LOC11;
NIM_BOOL LOC15;
Result_125867 = 0;
if (!((*N_120096).Kind == ((NU8) 29))) goto LA2;
LOC6 = Sonslen_50803(N_120096);
LOC5 = (LOC6 == 2);
if (!(LOC5)) goto LA7;
LOC5 = ((*(*N_120096).KindU.S6.Sons->data[0]).Kind == ((NU8) 2));
LA7: ;
if (!LOC5) goto LA8;
Result_125867 = Newsyms_120059(Kind_120095, (*N_120096).KindU.S6.Sons->data[1], C_120094);
V_125936 = 0;
V_125936 = (*(*N_120096).KindU.S6.Sons->data[0]).KindU.S5.Ident;
LOC11 = ((Allowed_120097 &(1<<((((NU8) 1))&31)))!=0);
if (!(LOC11)) goto LA12;
LOC11 = ((*V_125936).Sup.Id == 69);
LA12: ;
if (!LOC11) goto LA13;
(*Result_125867).Flags |=(1<<((NI32)(((NU8) 1))%(sizeof(NI32)*8)));
goto LA10;
LA13: ;
LOC15 = ((Allowed_120097 &(1<<((((NU8) 2))&31)))!=0);
if (!(LOC15)) goto LA16;
LOC15 = ((*V_125936).Sup.Id == 70);
LA16: ;
if (!LOC15) goto LA17;
(*Result_125867).Flags |=(1<<((NI32)(((NU8) 2))%(sizeof(NI32)*8)));
goto LA10;
LA17: ;
Limessage_42566((*(*N_120096).KindU.S6.Sons->data[0]).Info, ((NU8) 172), (*V_125936).S);
LA10: ;
goto LA4;
LA8: ;
Illformedast_102092(N_120096);
LA4: ;
goto LA1;
LA2: ;
Result_125867 = Newsyms_120059(Kind_120095, N_120096, C_120094);
LA1: ;
return Result_125867;
}
N_NIMCALL(TY50547*, Semidentwithpragma_120098)(TY102012* C_120100, NU8 Kind_120101, TY50525* N_120102, NU32 Allowed_120103) {
TY50547* Result_126015;
Result_126015 = 0;
if (!((*N_120102).Kind == ((NU8) 34))) goto LA2;
Checksonslen_102099(N_120102, 2);
Result_126015 = Semidentvis_120092(C_120100, Kind_120101, (*N_120102).KindU.S6.Sons->data[0], Allowed_120103);
switch (Kind_120101) {
case ((NU8) 7):
break;
case ((NU8) 16):
Pragma_117028(C_120100, Result_126015, (*N_120102).KindU.S6.Sons->data[1], TMP190109);
break;
case ((NU8) 9):
Pragma_117028(C_120100, Result_126015, (*N_120102).KindU.S6.Sons->data[1], TMP190110);
break;
case ((NU8) 8):
Pragma_117028(C_120100, Result_126015, (*N_120102).KindU.S6.Sons->data[1], TMP190111);
break;
default:
break;
}
goto LA1;
LA2: ;
Result_126015 = Semidentvis_120092(C_120100, Kind_120101, N_120102, Allowed_120103);
LA1: ;
return Result_126015;
}
N_NIMCALL(void, Semrecordnodeaux_126319)(TY102012* C_126321, TY50525* N_126322, TY50900* Check_126324, NI* Pos_126326, TY50525* Father_126327, TY50547* Rectype_126328) {
NI Length_126546;
TY50547* F_126547;
TY50525* A_126548;
TY50525* It_126549;
TY50525* E_126550;
TY50525* Branch_126551;
TY50551* Typ_126552;
NI I_126571;
NI HEX3Atmp_140905;
NI LOC4;
NI Res_140907;
NIM_BOOL LOC13;
TY50525* LOC26;
NI I_126712;
NI HEX3Atmp_140908;
NI LOC30;
NI Res_140910;
NIM_BOOL LOC36;
NI I_126822;
NI HEX3Atmp_140911;
NI LOC46;
NI Res_140913;
NIM_BOOL LOC49;
NIM_BOOL LOC50;
NIM_BOOL LOC56;
TY50525* LOC62;
TY50525* LOC63;
Length_126546 = 0;
F_126547 = 0;
A_126548 = 0;
It_126549 = 0;
E_126550 = 0;
Branch_126551 = 0;
Typ_126552 = 0;
if (!(N_126322 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*N_126322).Kind) {
case ((NU8) 115):
Branch_126551 = NIM_NIL;
I_126571 = 0;
HEX3Atmp_140905 = 0;
LOC4 = Sonslen_50803(N_126322);
HEX3Atmp_140905 = (NI32)(LOC4 - 1);
Res_140907 = 0;
Res_140907 = 0;
while (1) {
if (!(Res_140907 <= HEX3Atmp_140905)) goto LA5;
I_126571 = Res_140907;
It_126549 = (*N_126322).KindU.S6.Sons->data[I_126571];
if (!(It_126549 == NIM_NIL)) goto LA7;
Illformedast_102092(N_126322);
LA7: ;
switch ((*It_126549).Kind) {
case ((NU8) 76):
Checksonslen_102099(It_126549, 2);
E_126550 = Semconstexpr_120171(C_126321, (*It_126549).KindU.S6.Sons->data[0]);
Checkbool_124779(E_126550);
if (!!(((*E_126550).Kind == ((NU8) 6)))) goto LA10;
Internalerror_42571((*E_126550).Info, ((NimStringDesc*) &TMP190101));
LA10: ;
LOC13 = !(((*E_126550).KindU.S1.Intval == 0));
if (!(LOC13)) goto LA14;
LOC13 = (Branch_126551 == NIM_NIL);
LA14: ;
if (!LOC13) goto LA15;
Branch_126551 = (*It_126549).KindU.S6.Sons->data[1];
LA15: ;
break;
case ((NU8) 78):
Checksonslen_102099(It_126549, 1);
if (!(Branch_126551 == NIM_NIL)) goto LA18;
Branch_126551 = (*It_126549).KindU.S6.Sons->data[0];
LA18: ;
break;
default:
Illformedast_102092(N_126322);
break;
}
Res_140907 += 1;
} LA5: ;
if (!!((Branch_126551 == NIM_NIL))) goto LA21;
Semrecordnodeaux_126319(C_126321, Branch_126551, Check_126324, Pos_126326, Father_126327, Rectype_126328);
LA21: ;
break;
case ((NU8) 114):
Semrecordcase_126329(C_126321, N_126322, Check_126324, Pos_126326, Father_126327, Rectype_126328);
break;
case ((NU8) 18):
if (!!(((*Father_126327).Kind == ((NU8) 113)))) goto LA24;
LOC26 = 0;
LOC26 = Newnodei_50737(((NU8) 113), (*N_126322).Info);
Addson_50823(Father_126327, LOC26);
LA24: ;
break;
case ((NU8) 113):
if (!((*Father_126327).Kind == ((NU8) 113))) goto LA28;
A_126548 = Father_126327;
goto LA27;
LA28: ;
A_126548 = Copynode_50855(N_126322);
LA27: ;
I_126712 = 0;
HEX3Atmp_140908 = 0;
LOC30 = Sonslen_50803(N_126322);
HEX3Atmp_140908 = (NI32)(LOC30 - 1);
Res_140910 = 0;
Res_140910 = 0;
while (1) {
if (!(Res_140910 <= HEX3Atmp_140908)) goto LA31;
I_126712 = Res_140910;
Semrecordnodeaux_126319(C_126321, (*N_126322).KindU.S6.Sons->data[I_126712], Check_126324, Pos_126326, A_126548, Rectype_126328);
Res_140910 += 1;
} LA31: ;
if (!!((A_126548 == Father_126327))) goto LA33;
Addson_50823(Father_126327, A_126548);
LA33: ;
break;
case ((NU8) 25):
Checkminsonslen_102103(N_126322, 3);
Length_126546 = Sonslen_50803(N_126322);
LOC36 = !(((*Father_126327).Kind == ((NU8) 113)));
if (!(LOC36)) goto LA37;
LOC36 = (4 <= Length_126546);
LA37: ;
if (!LOC36) goto LA38;
A_126548 = Newnodei_50737(((NU8) 113), (*N_126322).Info);
goto LA35;
LA38: ;
A_126548 = NIM_NIL;
LA35: ;
if (!!(((*N_126322).KindU.S6.Sons->data[(NI32)(Length_126546 - 1)] == NIM_NIL))) goto LA41;
Limessage_42566((*(*N_126322).KindU.S6.Sons->data[(NI32)(Length_126546 - 1)]).Info, ((NU8) 173), ((NimStringDesc*) &TMP189930));
LA41: ;
if (!((*N_126322).KindU.S6.Sons->data[(NI32)(Length_126546 - 2)] == NIM_NIL)) goto LA44;
Limessage_42566((*N_126322).Info, ((NU8) 60), ((NimStringDesc*) &TMP189930));
LA44: ;
Typ_126552 = Semtypenode_120138(C_126321, (*N_126322).KindU.S6.Sons->data[(NI32)(Length_126546 - 2)], NIM_NIL);
I_126822 = 0;
HEX3Atmp_140911 = 0;
LOC46 = Sonslen_50803(N_126322);
HEX3Atmp_140911 = (NI32)(LOC46 - 3);
Res_140913 = 0;
Res_140913 = 0;
while (1) {
if (!(Res_140913 <= HEX3Atmp_140911)) goto LA47;
I_126822 = Res_140913;
F_126547 = Semidentwithpragma_120098(C_126321, ((NU8) 16), (*N_126322).KindU.S6.Sons->data[I_126822], 6);
asgnRef((void**) &(*F_126547).Typ, Typ_126552);
(*F_126547).Position = (*Pos_126326);
LOC50 = !((Rectype_126328 == NIM_NIL));
if (!(LOC50)) goto LA51;
LOC50 = !(((384 & (*Rectype_126328).Flags) == 0));
LA51: ;
LOC49 = LOC50;
if (!(LOC49)) goto LA52;
LOC49 = ((*F_126547).Loc.R == NIM_NIL);
LA52: ;
if (!LOC49) goto LA53;
asgnRefNoCycle((void**) &(*F_126547).Loc.R, Torope_47046((*(*F_126547).Name).S));
(*F_126547).Flags = ((*F_126547).Flags | (384 & (*Rectype_126328).Flags));
LA53: ;
(*Pos_126326) += 1;
LOC56 = Intsetcontainsorincl_50928(Check_126324, (*(*F_126547).Name).Sup.Id);
if (!LOC56) goto LA57;
Limessage_42566((*(*N_126322).KindU.S6.Sons->data[I_126822]).Info, ((NU8) 37), (*(*F_126547).Name).S);
LA57: ;
if (!(A_126548 == NIM_NIL)) goto LA60;
LOC62 = 0;
LOC62 = Newsymnode_50734(F_126547);
Addson_50823(Father_126327, LOC62);
goto LA59;
LA60: ;
LOC63 = 0;
LOC63 = Newsymnode_50734(F_126547);
Addson_50823(A_126548, LOC63);
LA59: ;
Res_140913 += 1;
} LA47: ;
if (!!((A_126548 == NIM_NIL))) goto LA65;
Addson_50823(Father_126327, A_126548);
LA65: ;
break;
default:
Illformedast_102092(N_126322);
break;
}
BeforeRet: ;
}
N_NIMCALL(TY50551*, Semobjectnode_127087)(TY102012* C_127089, TY50525* N_127090, TY50551* Prev_127091) {
TY50551* Result_127092;
TY50900 Check_127093;
TY50551* Base_127094;
NI Pos_127095;
NIM_BOOL LOC11;
Result_127092 = 0;
memset((void*)&Check_127093, 0, sizeof(Check_127093));
Base_127094 = 0;
Pos_127095 = 0;
Intsetinit_50924(&Check_127093);
Pos_127095 = 0;
Checksonslen_102099(N_127090, 3);
if (!!(((*N_127090).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA2;
Base_127094 = Semtypenode_120138(C_127089, (*(*N_127090).KindU.S6.Sons->data[1]).KindU.S6.Sons->data[0], NIM_NIL);
if (!((*Base_127094).Kind == ((NU8) 17))) goto LA5;
Addinheritedfields_127066(C_127089, &Check_127093, &Pos_127095, Base_127094);
goto LA4;
LA5: ;
Limessage_42566((*(*N_127090).KindU.S6.Sons->data[1]).Info, ((NU8) 119), ((NimStringDesc*) &TMP189930));
LA4: ;
goto LA1;
LA2: ;
Base_127094 = NIM_NIL;
LA1: ;
if (!!(((*N_127090).Kind == ((NU8) 111)))) goto LA8;
Internalerror_42571((*N_127090).Info, ((NimStringDesc*) &TMP190100));
LA8: ;
Result_127092 = Neworprevtype_124829(((NU8) 17), Prev_127091, C_127089);
Addson_50827(Result_127092, Base_127094);
asgnRefNoCycle((void**) &(*Result_127092).N, Newnodei_50737(((NU8) 113), (*N_127090).Info));
Semrecordnodeaux_126319(C_127089, (*N_127090).KindU.S6.Sons->data[2], &Check_127093, &Pos_127095, (*Result_127092).N, (*Result_127092).Sym);
LOC11 = !((Base_127094 == NIM_NIL));
if (!(LOC11)) goto LA12;
LOC11 = (((*Base_127094).Flags &(1<<((((NU8) 2))&7)))!=0);
LA12: ;
if (!LOC11) goto LA13;
Limessage_42566((*(*N_127090).KindU.S6.Sons->data[1]).Info, ((NU8) 119), ((NimStringDesc*) &TMP189930));
LA13: ;
return Result_127092;
}
N_NIMCALL(TY50551*, Semtuple_125631)(TY102012* C_125633, TY50525* N_125634, TY50551* Prev_125635) {
TY50551* Result_125636;
NI Length_125637;
NI Counter_125638;
TY50551* Typ_125639;
TY50900 Check_125640;
TY50525* A_125641;
TY50547* Field_125642;
NI I_125651;
NI HEX3Atmp_140887;
NI LOC1;
NI Res_140889;
NI J_125750;
NI HEX3Atmp_140884;
NI Res_140886;
NIM_BOOL LOC14;
TY50525* LOC17;
Result_125636 = 0;
Length_125637 = 0;
Counter_125638 = 0;
Typ_125639 = 0;
memset((void*)&Check_125640, 0, sizeof(Check_125640));
A_125641 = 0;
Field_125642 = 0;
Result_125636 = Neworprevtype_124829(((NU8) 18), Prev_125635, C_125633);
asgnRefNoCycle((void**) &(*Result_125636).N, Newnodei_50737(((NU8) 113), (*N_125634).Info));
Intsetinit_50924(&Check_125640);
Counter_125638 = 0;
I_125651 = 0;
HEX3Atmp_140887 = 0;
LOC1 = Sonslen_50803(N_125634);
HEX3Atmp_140887 = (NI32)(LOC1 - 1);
Res_140889 = 0;
Res_140889 = 0;
while (1) {
if (!(Res_140889 <= HEX3Atmp_140887)) goto LA2;
I_125651 = Res_140889;
A_125641 = (*N_125634).KindU.S6.Sons->data[I_125651];
if (!!(((*A_125641).Kind == ((NU8) 25)))) goto LA4;
Illformedast_102092(A_125641);
LA4: ;
Checkminsonslen_102103(A_125641, 3);
Length_125637 = Sonslen_50803(A_125641);
if (!!(((*A_125641).KindU.S6.Sons->data[(NI32)(Length_125637 - 2)] == NIM_NIL))) goto LA7;
Typ_125639 = Semtypenode_120138(C_125633, (*A_125641).KindU.S6.Sons->data[(NI32)(Length_125637 - 2)], NIM_NIL);
goto LA6;
LA7: ;
Limessage_42566((*A_125641).Info, ((NU8) 60), ((NimStringDesc*) &TMP189930));
LA6: ;
if (!!(((*A_125641).KindU.S6.Sons->data[(NI32)(Length_125637 - 1)] == NIM_NIL))) goto LA10;
Limessage_42566((*(*A_125641).KindU.S6.Sons->data[(NI32)(Length_125637 - 1)]).Info, ((NU8) 173), ((NimStringDesc*) &TMP189930));
LA10: ;
J_125750 = 0;
HEX3Atmp_140884 = 0;
HEX3Atmp_140884 = (NI32)(Length_125637 - 3);
Res_140886 = 0;
Res_140886 = 0;
while (1) {
if (!(Res_140886 <= HEX3Atmp_140884)) goto LA12;
J_125750 = Res_140886;
Field_125642 = Newsyms_120059(((NU8) 16), (*A_125641).KindU.S6.Sons->data[J_125750], C_125633);
asgnRef((void**) &(*Field_125642).Typ, Typ_125639);
(*Field_125642).Position = Counter_125638;
Counter_125638 += 1;
LOC14 = Intsetcontainsorincl_50928(&Check_125640, (*(*Field_125642).Name).Sup.Id);
if (!LOC14) goto LA15;
Limessage_42566((*(*A_125641).KindU.S6.Sons->data[J_125750]).Info, ((NU8) 37), (*(*Field_125642).Name).S);
LA15: ;
LOC17 = 0;
LOC17 = Newsymnode_50734(Field_125642);
Addson_50823((*Result_125636).N, LOC17);
Addson_50827(Result_125636, Typ_125639);
Res_140886 += 1;
} LA12: ;
Res_140889 += 1;
} LA2: ;
return Result_125636;
}
N_NIMCALL(TY50551*, Semanyref_125230)(TY102012* C_125232, TY50525* N_125233, NU8 Kind_125234, NimStringDesc* Kindstr_125235, TY50551* Prev_125236) {
TY50551* Result_125237;
NI LOC2;
TY50551* Base_125252;
Result_125237 = 0;
Result_125237 = Neworprevtype_124829(Kind_125234, Prev_125236, C_125232);
LOC2 = Sonslen_50803(N_125233);
if (!(LOC2 == 1)) goto LA3;
Base_125252 = 0;
Base_125252 = Semtypenode_120138(C_125232, (*N_125233).KindU.S6.Sons->data[0], NIM_NIL);
Addson_50827(Result_125237, Base_125252);
goto LA1;
LA3: ;
Limessage_42566((*N_125233).Info, ((NU8) 170), Kindstr_125235);
LA1: ;
return Result_125237;
}
N_NIMCALL(TY50551*, Semvartype_125253)(TY102012* C_125255, TY50525* N_125256, TY50551* Prev_125257) {
TY50551* Result_125258;
NI LOC2;
TY50551* Base_125273;
Result_125258 = 0;
Result_125258 = Neworprevtype_124829(((NU8) 23), Prev_125257, C_125255);
LOC2 = Sonslen_50803(N_125256);
if (!(LOC2 == 1)) goto LA3;
Base_125273 = 0;
Base_125273 = Semtypenode_120138(C_125255, (*N_125256).KindU.S6.Sons->data[0], NIM_NIL);
if (!((*Base_125273).Kind == ((NU8) 23))) goto LA6;
Limessage_42566((*N_125256).Info, ((NU8) 192), ((NimStringDesc*) &TMP189930));
LA6: ;
Addson_50827(Result_125258, Base_125273);
goto LA1;
LA3: ;
Limessage_42566((*N_125256).Info, ((NU8) 170), ((NimStringDesc*) &TMP190114));
LA1: ;
return Result_125258;
}
N_NIMCALL(TY50551*, Semdistinct_125283)(TY102012* C_125285, TY50525* N_125286, TY50551* Prev_125287) {
TY50551* Result_125288;
NI LOC2;
TY50551* LOC5;
Result_125288 = 0;
Result_125288 = Neworprevtype_124829(((NU8) 13), Prev_125287, C_125285);
LOC2 = Sonslen_50803(N_125286);
if (!(LOC2 == 1)) goto LA3;
LOC5 = 0;
LOC5 = Semtypenode_120138(C_125285, (*N_125286).KindU.S6.Sons->data[0], NIM_NIL);
Addson_50827(Result_125288, LOC5);
goto LA1;
LA3: ;
Limessage_42566((*N_125286).Info, ((NU8) 170), ((NimStringDesc*) &TMP190115));
LA1: ;
return Result_125288;
}
N_NIMCALL(TY50551*, Semenum_124855)(TY102012* C_124857, TY50525* N_124858, TY50551* Prev_124859) {
TY50551* Result_124860;
NI64 Counter_124861;
NI64 X_124862;
TY50547* E_124863;
TY50551* Base_124864;
NI64 LOC7;
NI I_124940;
NI HEX3Atmp_140881;
NI LOC8;
NI Res_140883;
TY50525* V_125001;
TY50525* Strval_125002;
TY50551* LOC10;
NI LOC12;
TY50551* LOC16;
NIM_BOOL LOC29;
TY50525* LOC33;
Result_124860 = 0;
Counter_124861 = 0;
X_124862 = 0;
E_124863 = 0;
Base_124864 = 0;
Counter_124861 = 0;
Base_124864 = NIM_NIL;
Result_124860 = Neworprevtype_124829(((NU8) 14), Prev_124859, C_124857);
asgnRefNoCycle((void**) &(*Result_124860).N, Newnodei_50737(((NU8) 121), (*N_124858).Info));
Checkminsonslen_102103(N_124858, 1);
if (!!(((*N_124858).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA2;
Base_124864 = Semtypenode_120138(C_124857, (*(*N_124858).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[0], NIM_NIL);
if (!!(((*Base_124864).Kind == ((NU8) 14)))) goto LA5;
Limessage_42566((*(*N_124858).KindU.S6.Sons->data[0]).Info, ((NU8) 120), ((NimStringDesc*) &TMP189930));
LA5: ;
LOC7 = Lastord_92004(Base_124864);
Counter_124861 = (NI64)(LOC7 + 1);
LA2: ;
Addson_50827(Result_124860, Base_124864);
I_124940 = 0;
HEX3Atmp_140881 = 0;
LOC8 = Sonslen_50803(N_124858);
HEX3Atmp_140881 = (NI32)(LOC8 - 1);
Res_140883 = 0;
Res_140883 = 1;
while (1) {
if (!(Res_140883 <= HEX3Atmp_140881)) goto LA9;
I_124940 = Res_140883;
switch ((*(*N_124858).KindU.S6.Sons->data[I_124940]).Kind) {
case ((NU8) 122):
E_124863 = Newsyms_120059(((NU8) 17), (*(*N_124858).KindU.S6.Sons->data[I_124940]).KindU.S6.Sons->data[0], C_124857);
V_125001 = 0;
V_125001 = Semconstexpr_120171(C_124857, (*(*N_124858).KindU.S6.Sons->data[I_124940]).KindU.S6.Sons->data[1]);
Strval_125002 = 0;
Strval_125002 = NIM_NIL;
LOC10 = 0;
LOC10 = Skiptypes_92087((*V_125001).Typ, 43008);
switch ((*LOC10).Kind) {
case ((NU8) 18):
LOC12 = Sonslen_50803(V_125001);
if (!!((LOC12 == 2))) goto LA13;
Limessage_42566((*V_125001).Info, ((NU8) 109), ((NimStringDesc*) &TMP189930));
LA13: ;
Strval_125002 = (*V_125001).KindU.S6.Sons->data[1];
LOC16 = 0;
LOC16 = Skiptypes_92087((*Strval_125002).Typ, 43008);
if (!!(((*LOC16).Kind == ((NU8) 28) || (*LOC16).Kind == ((NU8) 29)))) goto LA17;
Limessage_42566((*Strval_125002).Info, ((NU8) 6), ((NimStringDesc*) &TMP189930));
LA17: ;
X_124862 = Getordvalue_92109((*V_125001).KindU.S6.Sons->data[0]);
break;
case ((NU8) 28):
case ((NU8) 29):
Strval_125002 = V_125001;
X_124862 = Counter_124861;
break;
default:
X_124862 = Getordvalue_92109(V_125001);
break;
}
if (!!((I_124940 == 1))) goto LA20;
if (!!((X_124862 == Counter_124861))) goto LA23;
(*Result_124860).Flags |=(1<<((NI8)(((NU8) 4))%(sizeof(NI8)*8)));
LA23: ;
if (!(X_124862 < Counter_124861)) goto LA26;
Limessage_42566((*(*N_124858).KindU.S6.Sons->data[I_124940]).Info, ((NU8) 142), (*(*E_124863).Name).S);
LA26: ;
LA20: ;
asgnRefNoCycle((void**) &(*E_124863).Ast, Strval_125002);
Counter_124861 = X_124862;
break;
case ((NU8) 3):
E_124863 = (*(*N_124858).KindU.S6.Sons->data[I_124940]).KindU.S4.Sym;
break;
case ((NU8) 2):
E_124863 = Newsyms_120059(((NU8) 17), (*N_124858).KindU.S6.Sons->data[I_124940], C_124857);
break;
default:
Illformedast_102092(N_124858);
break;
}
asgnRef((void**) &(*E_124863).Typ, Result_124860);
(*E_124863).Position = ((NI) (Counter_124861));
LOC29 = !(((*Result_124860).Sym == NIM_NIL));
if (!(LOC29)) goto LA30;
LOC29 = (((*(*Result_124860).Sym).Flags &(1<<((((NU8) 3))&31)))!=0);
LA30: ;
if (!LOC29) goto LA31;
(*E_124863).Flags |=(1<<((NI32)(((NU8) 0))%(sizeof(NI32)*8)));
(*E_124863).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
Strtableadd_55061(&(*(*C_124857).Module).Tab, E_124863);
LA31: ;
LOC33 = 0;
LOC33 = Newsymnode_50734(E_124863);
Addson_50823((*Result_124860).N, LOC33);
Adddeclat_103030(C_124857, E_124863, ((NI) ((NI32)(((NI) ((*C_124857).Tab.Tos)) - 1))));
Counter_124861 += 1;
Res_140883 += 1;
} LA9: ;
return Result_124860;
}
N_NIMCALL(TY50551*, Semstmtlisttype_127563)(TY102012* C_127565, TY50525* N_127566, TY50551* Prev_127567) {
TY50551* Result_127568;
NI Length_127569;
NI I_127577;
NI HEX3Atmp_140935;
NI Res_140937;
Result_127568 = 0;
Checkminsonslen_102103(N_127566, 1);
Length_127569 = 0;
Length_127569 = Sonslen_50803(N_127566);
I_127577 = 0;
HEX3Atmp_140935 = 0;
HEX3Atmp_140935 = (NI32)(Length_127569 - 2);
Res_140937 = 0;
Res_140937 = 0;
while (1) {
if (!(Res_140937 <= HEX3Atmp_140935)) goto LA1;
I_127577 = Res_140937;
asgnRefNoCycle((void**) &(*N_127566).KindU.S6.Sons->data[I_127577], Semstmt_120143(C_127565, (*N_127566).KindU.S6.Sons->data[I_127577]));
Res_140937 += 1;
} LA1: ;
if (!(0 < Length_127569)) goto LA3;
Result_127568 = Semtypenode_120138(C_127565, (*N_127566).KindU.S6.Sons->data[(NI32)(Length_127569 - 1)], Prev_127567);
asgnRef((void**) &(*N_127566).Typ, Result_127568);
asgnRef((void**) &(*(*N_127566).KindU.S6.Sons->data[(NI32)(Length_127569 - 1)]).Typ, Result_127568);
goto LA2;
LA3: ;
Result_127568 = NIM_NIL;
LA2: ;
return Result_127568;
}
N_NIMCALL(TY50551*, Semblocktype_127628)(TY102012* C_127630, TY50525* N_127631, TY50551* Prev_127632) {
TY50551* Result_127633;
TY50547* LOC4;
Result_127633 = 0;
(*(*C_127630).P).Nestedblockcounter += 1;
Checksonslen_102099(N_127631, 2);
Openscope_55146(&(*C_127630).Tab);
if (!!(((*N_127631).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA2;
LOC4 = 0;
LOC4 = Newsyms_120059(((NU8) 19), (*N_127631).KindU.S6.Sons->data[0], C_127630);
Adddecl_103026(C_127630, LOC4);
LA2: ;
Result_127633 = Semstmtlisttype_127563(C_127630, (*N_127631).KindU.S6.Sons->data[1], Prev_127632);
asgnRef((void**) &(*(*N_127631).KindU.S6.Sons->data[1]).Typ, Result_127633);
asgnRef((void**) &(*N_127631).Typ, Result_127633);
Closescope_103017(&(*C_127630).Tab);
(*(*C_127630).P).Nestedblockcounter -= 1;
return Result_127633;
}
N_NIMCALL(TY50551*, Semtypenode_120138)(TY102012* C_120140, TY50525* N_120141, TY50551* Prev_120142) {
TY50551* Result_127724;
TY50547* S_127725;
TY50551* T_127726;
TY50525* LOC4;
NI LOC6;
NIM_BOOL LOC16;
TY49011* LOC23;
TY50525* LOC24;
Result_127724 = 0;
S_127725 = 0;
T_127726 = 0;
Result_127724 = NIM_NIL;
if (!(N_120141 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*N_120141).Kind) {
case ((NU8) 110):
LOC4 = 0;
LOC4 = Semexprwithtype_120122(C_120140, N_120141, 1);
Result_127724 = (*LOC4).Typ;
break;
case ((NU8) 30):
LOC6 = Sonslen_50803(N_120141);
if (!(LOC6 == 1)) goto LA7;
Result_127724 = Semtypenode_120138(C_120140, (*N_120141).KindU.S6.Sons->data[0], Prev_120142);
goto LA5;
LA7: ;
Limessage_42566((*N_120141).Info, ((NU8) 60), ((NimStringDesc*) &TMP189930));
LA5: ;
break;
case ((NU8) 33):
Checkminsonslen_102103(N_120141, 2);
S_127725 = Semtypeident_125606(C_120140, (*N_120141).KindU.S6.Sons->data[0]);
switch ((*S_127725).Magic) {
case ((NU8) 162):
Result_127724 = Semarray_125455(C_120140, N_120141, Prev_120142);
break;
case ((NU8) 163):
Result_127724 = Semcontainer_125207(C_120140, N_120141, ((NU8) 27), ((NimStringDesc*) &TMP190091), Prev_120142);
break;
case ((NU8) 164):
Result_127724 = Semrange_125402(C_120140, N_120141, Prev_120142);
break;
case ((NU8) 165):
Result_127724 = Semset_125166(C_120140, N_120141, Prev_120142);
break;
case ((NU8) 167):
Result_127724 = Semordinal_125564(C_120140, N_120141, Prev_120142);
break;
case ((NU8) 166):
Result_127724 = Semcontainer_125207(C_120140, N_120141, ((NU8) 24), ((NimStringDesc*) &TMP190095), Prev_120142);
break;
default:
Result_127724 = Semgeneric_125788(C_120140, N_120141, S_127725, Prev_120142);
break;
}
break;
case ((NU8) 2):
case ((NU8) 36):
case ((NU8) 43):
S_127725 = Semtypeident_125606(C_120140, N_120141);
if (!((*S_127725).Typ == NIM_NIL)) goto LA10;
Limessage_42566((*N_120141).Info, ((NU8) 60), ((NimStringDesc*) &TMP189930));
LA10: ;
if (!(Prev_120142 == NIM_NIL)) goto LA13;
Result_127724 = (*S_127725).Typ;
goto LA12;
LA13: ;
Assigntype_50779(Prev_120142, (*S_127725).Typ);
(*Prev_120142).Sup.Id = (*(*S_127725).Typ).Sup.Id;
Result_127724 = Prev_120142;
LA12: ;
break;
case ((NU8) 3):
LOC16 = ((*(*N_120141).KindU.S4.Sym).Kind == ((NU8) 7));
if (!(LOC16)) goto LA17;
LOC16 = !(((*(*N_120141).KindU.S4.Sym).Typ == NIM_NIL));
LA17: ;
if (!LOC16) goto LA18;
T_127726 = (*(*N_120141).KindU.S4.Sym).Typ;
if (!(Prev_120142 == NIM_NIL)) goto LA21;
Result_127724 = T_127726;
goto LA20;
LA21: ;
Assigntype_50779(Prev_120142, T_127726);
Result_127724 = Prev_120142;
LA20: ;
Markused_120065(N_120141, (*N_120141).KindU.S4.Sym);
goto LA15;
LA18: ;
Limessage_42566((*N_120141).Info, ((NU8) 60), ((NimStringDesc*) &TMP189930));
LA15: ;
break;
case ((NU8) 111):
Result_127724 = Semobjectnode_127087(C_120140, N_120141, Prev_120142);
break;
case ((NU8) 112):
Result_127724 = Semtuple_125631(C_120140, N_120141, Prev_120142);
break;
case ((NU8) 116):
Result_127724 = Semanyref_125230(C_120140, N_120141, ((NU8) 22), ((NimStringDesc*) &TMP190112), Prev_120142);
break;
case ((NU8) 117):
Result_127724 = Semanyref_125230(C_120140, N_120141, ((NU8) 21), ((NimStringDesc*) &TMP190113), Prev_120142);
break;
case ((NU8) 118):
Result_127724 = Semvartype_125253(C_120140, N_120141, Prev_120142);
break;
case ((NU8) 119):
Result_127724 = Semdistinct_125283(C_120140, N_120141, Prev_120142);
break;
case ((NU8) 120):
Checksonslen_102099(N_120141, 2);
Result_127724 = Semproctypenode_127319(C_120140, (*N_120141).KindU.S6.Sons->data[0], NIM_NIL, Prev_120142);
LOC23 = 0;
LOC23 = Getident_49016(((NimStringDesc*) &TMP190116));
LOC24 = 0;
LOC24 = Newidentnode_50730(LOC23, (*N_120141).Info);
S_127725 = Newsyms_120059(((NU8) 10), LOC24, C_120140);
asgnRef((void**) &(*S_127725).Typ, Result_127724);
Pragma_117028(C_120140, S_127725, (*N_120141).KindU.S6.Sons->data[1], TMP190117);
break;
case ((NU8) 121):
Result_127724 = Semenum_124855(C_120140, N_120141, Prev_120142);
break;
case ((NU8) 4):
Result_127724 = (*N_120141).Typ;
break;
case ((NU8) 108):
Result_127724 = Semstmtlisttype_127563(C_120140, N_120141, Prev_120142);
break;
case ((NU8) 109):
Result_127724 = Semblocktype_127628(C_120140, N_120141, Prev_120142);
break;
default:
Limessage_42566((*N_120141).Info, ((NU8) 60), ((NimStringDesc*) &TMP189930));
break;
}
BeforeRet: ;
return Result_127724;
}
N_NIMCALL(TY50551*, Addtypevarsofgenericbody_127224)(TY102012* C_127226, TY50551* T_127227, TY50525* Genericparams_127228, TY50900* Cl_127230) {
TY50551* Result_127231;
NIM_BOOL LOC5;
NI I_127250;
NI HEX3Atmp_140920;
NI LOC8;
NI Res_140922;
TY50547* S_127260;
NIM_BOOL LOC14;
TY50525* LOC18;
NI L_127281;
NI LOC19;
NI I_127289;
NI HEX3Atmp_140923;
NI LOC20;
NI Res_140925;
NI I_127297;
NI HEX3Atmp_140926;
NI LOC22;
NI Res_140928;
Result_127231 = 0;
Result_127231 = T_127227;
if (!(T_127227 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
LOC5 = Intsetcontainsorincl_50928(Cl_127230, (*T_127227).Sup.Id);
if (!LOC5) goto LA6;
goto BeforeRet;
LA6: ;
switch ((*T_127227).Kind) {
case ((NU8) 10):
Result_127231 = Newtypes_102077(((NU8) 9), C_127226);
Addson_50827(Result_127231, T_127227);
I_127250 = 0;
HEX3Atmp_140920 = 0;
LOC8 = Sonslen_50806(T_127227);
HEX3Atmp_140920 = (NI32)(LOC8 - 2);
Res_140922 = 0;
Res_140922 = 0;
while (1) {
if (!(Res_140922 <= HEX3Atmp_140920)) goto LA9;
I_127250 = Res_140922;
if (!!(((*(*T_127227).Sons->data[I_127250]).Kind == ((NU8) 12)))) goto LA11;
Internalerror_42575(((NimStringDesc*) &TMP190119));
LA11: ;
S_127260 = 0;
S_127260 = Copysym_50775((*(*T_127227).Sons->data[I_127250]).Sym, NIM_FALSE);
(*S_127260).Position = Sonslen_50803(Genericparams_127228);
LOC14 = ((*S_127260).Typ == NIM_NIL);
if (LOC14) goto LA15;
LOC14 = !(((*(*S_127260).Typ).Kind == ((NU8) 12)));
LA15: ;
if (!LOC14) goto LA16;
Internalerror_42575(((NimStringDesc*) &TMP190120));
LA16: ;
Adddecl_103026(C_127226, S_127260);
LOC18 = 0;
LOC18 = Newsymnode_50734(S_127260);
Addson_50823(Genericparams_127228, LOC18);
Addson_50827(Result_127231, (*T_127227).Sons->data[I_127250]);
Res_140922 += 1;
} LA9: ;
break;
case ((NU8) 11):
L_127281 = 0;
LOC19 = Sonslen_50806(T_127227);
L_127281 = (NI32)(LOC19 - 1);
asgnRef((void**) &(*T_127227).Sons->data[L_127281], Addtypevarsofgenericbody_127224(C_127226, (*T_127227).Sons->data[L_127281], Genericparams_127228, Cl_127230));
break;
case ((NU8) 9):
I_127289 = 0;
HEX3Atmp_140923 = 0;
LOC20 = Sonslen_50806(T_127227);
HEX3Atmp_140923 = (NI32)(LOC20 - 1);
Res_140925 = 0;
Res_140925 = 1;
while (1) {
if (!(Res_140925 <= HEX3Atmp_140923)) goto LA21;
I_127289 = Res_140925;
asgnRef((void**) &(*T_127227).Sons->data[I_127289], Addtypevarsofgenericbody_127224(C_127226, (*T_127227).Sons->data[I_127289], Genericparams_127228, Cl_127230));
Res_140925 += 1;
} LA21: ;
break;
default:
I_127297 = 0;
HEX3Atmp_140926 = 0;
LOC22 = Sonslen_50806(T_127227);
HEX3Atmp_140926 = (NI32)(LOC22 - 1);
Res_140928 = 0;
Res_140928 = 0;
while (1) {
if (!(Res_140928 <= HEX3Atmp_140926)) goto LA23;
I_127297 = Res_140928;
asgnRef((void**) &(*T_127227).Sons->data[I_127297], Addtypevarsofgenericbody_127224(C_127226, (*T_127227).Sons->data[I_127297], Genericparams_127228, Cl_127230));
Res_140928 += 1;
} LA23: ;
break;
}
BeforeRet: ;
return Result_127231;
}
N_NIMCALL(TY50551*, Paramtype_127298)(TY102012* C_127300, TY50525* N_127301, TY50525* Genericparams_127302, TY50900* Cl_127304) {
TY50551* Result_127305;
NIM_BOOL LOC2;
NI LOC4;
Result_127305 = 0;
Result_127305 = Semtypenode_120138(C_127300, N_127301, NIM_NIL);
LOC2 = !((Genericparams_127302 == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC4 = Sonslen_50803(Genericparams_127302);
LOC2 = (LOC4 == 0);
LA3: ;
if (!LOC2) goto LA5;
Result_127305 = Addtypevarsofgenericbody_127224(C_127300, Result_127305, Genericparams_127302, Cl_127304);
LA5: ;
return Result_127305;
}
N_NIMCALL(TY50525*, Indextypesmatch_123850)(TY102012* C_123852, TY50551* F_123853, TY50551* A_123854, TY50525* Arg_123855) {
TY50525* Result_123856;
TY122030 M_123857;
Result_123856 = 0;
memset((void*)&M_123857, 0, sizeof(M_123857));
Initcandidate_122058(&M_123857, F_123853);
Result_123856 = Paramtypesmatch_123664(C_123852, &M_123857, F_123853, A_123854, Arg_123855);
return Result_123856;
}
N_NIMCALL(TY50525*, Fitnode_120129)(TY102012* C_120131, TY50551* Formal_120132, TY50525* Arg_120133) {
TY50525* Result_124817;
Result_124817 = 0;
Result_124817 = Indextypesmatch_123850(C_120131, Formal_120132, (*Arg_120133).Typ, Arg_120133);
if (!(Result_124817 == NIM_NIL)) goto LA2;
Typemismatch_124803(Arg_120133, Formal_120132, (*Arg_120133).Typ);
LA2: ;
return Result_124817;
}
N_NIMCALL(TY50551*, Semproctypenode_127319)(TY102012* C_127321, TY50525* N_127322, TY50525* Genericparams_127323, TY50551* Prev_127324) {
TY50551* Result_127325;
TY50525* Def_127326;
TY50525* Res_127327;
TY50551* Typ_127328;
TY50900 Check_127329;
TY50900 Cl_127330;
TY102002* LOC1;
NIM_BOOL LOC3;
NI LOC5;
NI Counter_127346;
NI I_127354;
NI HEX3Atmp_140932;
NI LOC8;
NI Res_140934;
TY50525* A_127367;
NI Length_127377;
NU8 LOC23;
NI J_127488;
NI HEX3Atmp_140929;
NI Res_140931;
TY50547* Arg_127501;
NIM_BOOL LOC28;
TY50525* LOC31;
Result_127325 = 0;
Def_127326 = 0;
Res_127327 = 0;
Typ_127328 = 0;
memset((void*)&Check_127329, 0, sizeof(Check_127329));
memset((void*)&Cl_127330, 0, sizeof(Cl_127330));
Checkminsonslen_102103(N_127322, 1);
Result_127325 = Neworprevtype_124829(((NU8) 25), Prev_127324, C_127321);
LOC1 = 0;
LOC1 = Lastoptionentry_102053(C_127321);
(*Result_127325).Callconv = (*LOC1).Defaultcc;
asgnRefNoCycle((void**) &(*Result_127325).N, Newnodei_50737(((NU8) 66), (*N_127322).Info));
LOC3 = !((Genericparams_127323 == NIM_NIL));
if (!(LOC3)) goto LA4;
LOC5 = Sonslen_50803(Genericparams_127323);
LOC3 = (LOC5 == 0);
LA4: ;
if (!LOC3) goto LA6;
Intsetinit_50924(&Cl_127330);
LA6: ;
Addson_50827(Result_127325, NIM_NIL);
Res_127327 = Newnodei_50737(((NU8) 4), (*N_127322).Info);
Addson_50823((*Result_127325).N, Res_127327);
Intsetinit_50924(&Check_127329);
Counter_127346 = 0;
Counter_127346 = 0;
I_127354 = 0;
HEX3Atmp_140932 = 0;
LOC8 = Sonslen_50803(N_127322);
HEX3Atmp_140932 = (NI32)(LOC8 - 1);
Res_140934 = 0;
Res_140934 = 1;
while (1) {
if (!(Res_140934 <= HEX3Atmp_140932)) goto LA9;
I_127354 = Res_140934;
A_127367 = 0;
A_127367 = (*N_127322).KindU.S6.Sons->data[I_127354];
if (!!(((*A_127367).Kind == ((NU8) 25)))) goto LA11;
Illformedast_102092(A_127367);
LA11: ;
Checkminsonslen_102103(A_127367, 3);
Length_127377 = 0;
Length_127377 = Sonslen_50803(A_127367);
if (!!(((*A_127367).KindU.S6.Sons->data[(NI32)(Length_127377 - 2)] == NIM_NIL))) goto LA14;
Typ_127328 = Paramtype_127298(C_127321, (*A_127367).KindU.S6.Sons->data[(NI32)(Length_127377 - 2)], Genericparams_127323, &Cl_127330);
goto LA13;
LA14: ;
Typ_127328 = NIM_NIL;
LA13: ;
if (!!(((*A_127367).KindU.S6.Sons->data[(NI32)(Length_127377 - 1)] == NIM_NIL))) goto LA17;
Def_127326 = Semexprwithtype_120122(C_127321, (*A_127367).KindU.S6.Sons->data[(NI32)(Length_127377 - 1)], 0);
if (!!((Typ_127328 == NIM_NIL))) goto LA20;
LOC23 = Cmptypes_123400(Typ_127328, (*Def_127326).Typ);
if (!(LOC23 < ((NU8) 1))) goto LA24;
Typemismatch_124803((*A_127367).KindU.S6.Sons->data[(NI32)(Length_127377 - 1)], Typ_127328, (*Def_127326).Typ);
LA24: ;
Def_127326 = Fitnode_120129(C_127321, Typ_127328, Def_127326);
goto LA19;
LA20: ;
Typ_127328 = (*Def_127326).Typ;
LA19: ;
goto LA16;
LA17: ;
Def_127326 = NIM_NIL;
LA16: ;
J_127488 = 0;
HEX3Atmp_140929 = 0;
HEX3Atmp_140929 = (NI32)(Length_127377 - 3);
Res_140931 = 0;
Res_140931 = 0;
while (1) {
if (!(Res_140931 <= HEX3Atmp_140929)) goto LA26;
J_127488 = Res_140931;
Arg_127501 = 0;
Arg_127501 = Newsyms_120059(((NU8) 3), (*A_127367).KindU.S6.Sons->data[J_127488], C_127321);
asgnRef((void**) &(*Arg_127501).Typ, Typ_127328);
(*Arg_127501).Position = Counter_127346;
Counter_127346 += 1;
asgnRefNoCycle((void**) &(*Arg_127501).Ast, Copytree_50858(Def_127326));
LOC28 = Intsetcontainsorincl_50928(&Check_127329, (*(*Arg_127501).Name).Sup.Id);
if (!LOC28) goto LA29;
Limessage_42566((*(*A_127367).KindU.S6.Sons->data[J_127488]).Info, ((NU8) 37), (*(*Arg_127501).Name).S);
LA29: ;
LOC31 = 0;
LOC31 = Newsymnode_50734(Arg_127501);
Addson_50823((*Result_127325).N, LOC31);
Addson_50827(Result_127325, Typ_127328);
Res_140931 += 1;
} LA26: ;
Res_140934 += 1;
} LA9: ;
if (!!(((*N_127322).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA33;
asgnRef((void**) &(*Result_127325).Sons->data[0], Paramtype_127298(C_127321, (*N_127322).KindU.S6.Sons->data[0], Genericparams_127323, &Cl_127330));
asgnRef((void**) &(*Res_127327).Typ, (*Result_127325).Sons->data[0]);
LA33: ;
return Result_127325;
}
N_NIMCALL(void, Semparamlist_120147)(TY102012* C_120149, TY50525* N_120150, TY50525* Genericparams_120151, TY50547* S_120152) {
asgnRef((void**) &(*S_120152).Typ, Semproctypenode_127319(C_120149, N_120150, Genericparams_120151, NIM_NIL));
}
N_NIMCALL(void, Addparams_120153)(TY102012* C_120155, TY50525* N_120156) {
NI I_139322;
NI HEX3Atmp_141133;
NI LOC1;
NI Res_141135;
I_139322 = 0;
HEX3Atmp_141133 = 0;
LOC1 = Sonslen_50803(N_120156);
HEX3Atmp_141133 = (NI32)(LOC1 - 1);
Res_141135 = 0;
Res_141135 = 1;
while (1) {
if (!(Res_141135 <= HEX3Atmp_141133)) goto LA2;
I_139322 = Res_141135;
if (!!(((*(*N_120156).KindU.S6.Sons->data[I_139322]).Kind == ((NU8) 3)))) goto LA4;
Internalerror_42571((*N_120156).Info, ((NimStringDesc*) &TMP190121));
LA4: ;
Adddecl_103026(C_120155, (*(*N_120156).KindU.S6.Sons->data[I_139322]).KindU.S4.Sym);
Res_141135 += 1;
} LA2: ;
}
N_NIMCALL(TY50547*, Genericcacheget_121298)(TY102012* C_121300, TY50547* Genericsym_121301, TY50547* Instsym_121302) {
TY50547* Result_121303;
NI I_121311;
NI HEX3Atmp_124731;
NI LOC1;
NI Res_124733;
TY50547* A_121369;
TY50547* B_121408;
NU8 LOC10;
Result_121303 = 0;
Result_121303 = NIM_NIL;
I_121311 = 0;
HEX3Atmp_124731 = 0;
LOC1 = Sonslen_50803((*C_121300).Generics);
HEX3Atmp_124731 = (NI32)(LOC1 - 1);
Res_124733 = 0;
Res_124733 = 0;
while (1) {
if (!(Res_124733 <= HEX3Atmp_124731)) goto LA2;
I_121311 = Res_124733;
if (!!(((*(*(*C_121300).Generics).KindU.S6.Sons->data[I_121311]).Kind == ((NU8) 23)))) goto LA4;
Internalerror_42571((*Genericsym_121301).Info, ((NimStringDesc*) &TMP190122));
LA4: ;
A_121369 = 0;
A_121369 = (*(*(*(*C_121300).Generics).KindU.S6.Sons->data[I_121311]).KindU.S6.Sons->data[0]).KindU.S4.Sym;
if (!((*Genericsym_121301).Sup.Id == (*A_121369).Sup.Id)) goto LA7;
B_121408 = 0;
B_121408 = (*(*(*(*C_121300).Generics).KindU.S6.Sons->data[I_121311]).KindU.S6.Sons->data[1]).KindU.S4.Sym;
LOC10 = Equalparams_92065((*(*B_121408).Typ).N, (*(*Instsym_121302).Typ).N);
if (!(LOC10 == ((NU8) 1))) goto LA11;
Result_121303 = B_121408;
goto BeforeRet;
LA11: ;
LA7: ;
Res_124733 += 1;
} LA2: ;
BeforeRet: ;
return Result_121303;
}
N_NIMCALL(void, Genericcacheadd_121418)(TY102012* C_121420, TY50547* Genericsym_121421, TY50547* Instsym_121422) {
TY50525* N_121423;
TY50525* LOC1;
TY50525* LOC2;
N_121423 = 0;
N_121423 = Newnode_50710(((NU8) 23));
LOC1 = 0;
LOC1 = Newsymnode_50734(Genericsym_121421);
Addson_50823(N_121423, LOC1);
LOC2 = 0;
LOC2 = Newsymnode_50734(Instsym_121422);
Addson_50823(N_121423, LOC2);
Addson_50823((*C_121420).Generics, N_121423);
}
N_NIMCALL(void, Addresult_120157)(TY102012* C_120159, TY50551* T_120160, TY42536 Info_120161) {
TY50547* S_139438;
TY49011* LOC4;
TY50547* LOC5;
if (!!((T_120160 == NIM_NIL))) goto LA2;
S_139438 = 0;
LOC4 = 0;
LOC4 = Getident_49016(((NimStringDesc*) &TMP190124));
LOC5 = 0;
LOC5 = Getcurrowner_102107();
S_139438 = Newsym_50701(((NU8) 9), LOC4, LOC5);
(*S_139438).Info = Info_120161;
asgnRef((void**) &(*S_139438).Typ, T_120160);
(*S_139438).Flags |=(1<<((NI32)(((NU8) 12))%(sizeof(NI32)*8)));
(*S_139438).Flags |=(1<<((NI32)(((NU8) 0))%(sizeof(NI32)*8)));
Adddecl_103026(C_120159, S_139438);
asgnRef((void**) &(*(*C_120159).P).Resultsym, S_139438);
LA2: ;
}
N_NIMCALL(void, Addresultnode_120162)(TY102012* C_120164, TY50525* N_120165) {
TY50525* LOC4;
if (!!(((*(*C_120164).P).Resultsym == NIM_NIL))) goto LA2;
LOC4 = 0;
LOC4 = Newsymnode_50734((*(*C_120164).P).Resultsym);
Addson_50823(N_120165, LOC4);
LA2: ;
}
N_NIMCALL(TY50525*, Semstmtscope_120104)(TY102012* C_120106, TY50525* N_120107) {
TY50525* Result_140878;
Result_140878 = 0;
Openscope_55146(&(*C_120106).Tab);
Result_140878 = Semstmt_120143(C_120106, N_120107);
Closescope_103017(&(*C_120106).Tab);
return Result_140878;
}
N_NIMCALL(TY50547*, Generateinstance_121132)(TY102012* C_121134, TY50547* Fn_121135, TY50563 Pt_121136, TY42536 Info_121137) {
TY50547* Result_121430;
TY50547* Oldprc_121431;
TY50547* Oldmod_121432;
TY102006* Oldp_121433;
TY50525* N_121434;
TY50547* LOC4;
Result_121430 = 0;
Oldprc_121431 = 0;
Oldmod_121432 = 0;
Oldp_121433 = 0;
N_121434 = 0;
if (!(1000 < (*C_121134).Instcounter)) goto LA2;
Internalerror_42571((*(*Fn_121135).Ast).Info, ((NimStringDesc*) &TMP190085));
LA2: ;
(*C_121134).Instcounter += 1;
Oldp_121433 = (*C_121134).P;
Oldmod_121432 = (*C_121134).Module;
asgnRef((void**) &(*C_121134).Module, Getmodule_55203(Fn_121135));
Result_121430 = Copysym_50775(Fn_121135, NIM_FALSE);
(*Result_121430).Flags |=(1<<((NI32)(((NU8) 4))%(sizeof(NI32)*8)));
LOC4 = 0;
LOC4 = Getcurrowner_102107();
asgnRef((void**) &(*Result_121430).Owner, (*LOC4).Owner);
N_121434 = Copytree_50858((*Fn_121135).Ast);
asgnRefNoCycle((void**) &(*Result_121430).Ast, N_121434);
Pushowner_102109(Result_121430);
Openscope_55146(&(*C_121134).Tab);
if (!((*N_121434).KindU.S6.Sons->data[1] == NIM_NIL)) goto LA6;
Internalerror_42571((*N_121434).Info, ((NimStringDesc*) &TMP190086));
LA6: ;
asgnRefNoCycle((void**) &(*N_121434).KindU.S6.Sons->data[0], Newsymnode_50734(Result_121430));
Pushinfocontext_42610(Info_121137);
Instantiategenericparamlist_121207(C_121134, (*N_121434).KindU.S6.Sons->data[1], Pt_121136);
asgnRefNoCycle((void**) &(*N_121434).KindU.S6.Sons->data[1], NIM_NIL);
if (!!(((*N_121434).KindU.S6.Sons->data[2] == NIM_NIL))) goto LA9;
Semparamlist_120147(C_121134, (*N_121434).KindU.S6.Sons->data[2], NIM_NIL, Result_121430);
Addparams_120153(C_121134, (*(*Result_121430).Typ).N);
goto LA8;
LA9: ;
asgnRef((void**) &(*Result_121430).Typ, Newtypes_102077(((NU8) 25), C_121134));
Addson_50827((*Result_121430).Typ, NIM_NIL);
LA8: ;
Oldprc_121431 = Genericcacheget_121298(C_121134, Fn_121135, Result_121430);
if (!(Oldprc_121431 == NIM_NIL)) goto LA12;
Genericcacheadd_121418(C_121134, Fn_121135, Result_121430);
Adddecl_103026(C_121134, Result_121430);
if (!!(((*N_121434).KindU.S6.Sons->data[4] == NIM_NIL))) goto LA15;
asgnRefNoCycle((void**) &(*C_121134).P, Newproccon_102050(Result_121430));
if (!((11264 &(1<<(((*Result_121430).Kind)&31)))!=0)) goto LA18;
Addresult_120157(C_121134, (*(*Result_121430).Typ).Sons->data[0], (*N_121434).Info);
Addresultnode_120162(C_121134, N_121434);
LA18: ;
asgnRefNoCycle((void**) &(*N_121434).KindU.S6.Sons->data[4], Semstmtscope_120104(C_121134, (*N_121434).KindU.S6.Sons->data[4]));
LA15: ;
goto LA11;
LA12: ;
Result_121430 = Oldprc_121431;
LA11: ;
Popinfocontext_42613();
Closescope_103017(&(*C_121134).Tab);
Popowner_102112();
asgnRefNoCycle((void**) &(*C_121134).P, Oldp_121433);
asgnRef((void**) &(*C_121134).Module, Oldmod_121432);
(*C_121134).Instcounter -= 1;
return Result_121430;
}
N_NIMCALL(TY50525*, Semdirectcallwithbinding_124535)(TY102012* C_124537, TY50525* N_124538, TY50525* F_124539, NU32 Filter_124540, TY50525* Initialbinding_124541) {
TY50525* Result_124542;
TY103004 O_124543;
TY122030 X_124544;
TY122030 Y_124545;
TY122030 Z_124546;
TY50547* Sym_124548;
NI Cmp_124595;
NIM_BOOL LOC19;
NIM_BOOL LOC20;
NI LOC22;
NIM_BOOL LOC24;
NimStringDesc* LOC30;
TY68026 LOC31;
NimStringDesc* LOC32;
Result_124542 = 0;
memset((void*)&O_124543, 0, sizeof(O_124543));
memset((void*)&X_124544, 0, sizeof(X_124544));
memset((void*)&Y_124545, 0, sizeof(Y_124545));
memset((void*)&Z_124546, 0, sizeof(Z_124546));
Sym_124548 = 0;
Sym_124548 = Initoverloaditer_103058(&O_124543, C_124537, F_124539);
Result_124542 = NIM_NIL;
if (!(Sym_124548 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
Initcandidate_122064(&X_124544, Sym_124548, Initialbinding_124541);
Initcandidate_122064(&Y_124545, Sym_124548, Initialbinding_124541);
while (1) {
if (!!((Sym_124548 == NIM_NIL))) goto LA4;
if (!((Filter_124540 &(1<<(((*Sym_124548).Kind)&31)))!=0)) goto LA6;
Initcandidate_122064(&Z_124546, Sym_124548, Initialbinding_124541);
Z_124546.Calleesym = Sym_124548;
Matches_123903(C_124537, N_124538, &Z_124546);
if (!(Z_124546.State == ((NU8) 1))) goto LA9;
switch (X_124544.State) {
case ((NU8) 0):
case ((NU8) 2):
genericAssign((void*)&X_124544, (void*)&Z_124546, NTI122030);
break;
case ((NU8) 1):
Cmp_124595 = 0;
Cmp_124595 = Cmpcandidates_122113(&X_124544, &Z_124546);
if (!(Cmp_124595 < 0)) goto LA12;
genericAssign((void*)&X_124544, (void*)&Z_124546, NTI122030);
goto LA11;
LA12: ;
if (!(Cmp_124595 == 0)) goto LA14;
genericAssign((void*)&Y_124545, (void*)&Z_124546, NTI122030);
goto LA11;
LA14: ;
LA11: ;
break;
}
LA9: ;
LA6: ;
Sym_124548 = Nextoverloaditer_103064(&O_124543, C_124537, F_124539);
} LA4: ;
if (!(X_124544.State == ((NU8) 0))) goto LA17;
goto LA16;
LA17: ;
LOC20 = (Y_124545.State == ((NU8) 1));
if (!(LOC20)) goto LA21;
LOC22 = Cmpcandidates_122113(&X_124544, &Y_124545);
LOC20 = (LOC22 == 0);
LA21: ;
LOC19 = LOC20;
if (!(LOC19)) goto LA23;
LOC24 = Samemethoddispatcher_124459(X_124544.Calleesym, Y_124545.Calleesym);
LOC19 = !(LOC24);
LA23: ;
if (!LOC19) goto LA25;
if (!!((X_124544.State == ((NU8) 1)))) goto LA28;
Internalerror_42571((*N_124538).Info, ((NimStringDesc*) &TMP190081));
LA28: ;
LOC30 = 0;
LOC30 = Msgkindtostring_42592(((NU8) 129));
memset((void*)&LOC31, 0, sizeof(LOC31));
LOC31[0] = Getprocheader_92018(X_124544.Calleesym);
LOC31[1] = Getprocheader_92018(Y_124545.Calleesym);
LOC31[2] = copyString((*(*X_124544.Calleesym).Name).S);
LOC32 = 0;
LOC32 = nsuFormatOpenArray(LOC30, LOC31, 3);
Limessage_42566((*N_124538).Info, ((NU8) 4), LOC32);
goto LA16;
LA25: ;
Markused_120065(N_124538, X_124544.Calleesym);
if (!((*X_124544.Calleesym).Ast == NIM_NIL)) goto LA34;
Internalerror_42571((*N_124538).Info, ((NimStringDesc*) &TMP190084));
LA34: ;
if (!!(((*(*X_124544.Calleesym).Ast).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA37;
X_124544.Calleesym = Generateinstance_121132(C_124537, X_124544.Calleesym, X_124544.Bindings, (*N_124538).Info);
X_124544.Callee = (*X_124544.Calleesym).Typ;
LA37: ;
Result_124542 = X_124544.Call;
asgnRefNoCycle((void**) &(*Result_124542).KindU.S6.Sons->data[0], Newsymnode_50734(X_124544.Calleesym));
asgnRef((void**) &(*Result_124542).Typ, (*X_124544.Callee).Sons->data[0]);
LA16: ;
BeforeRet: ;
return Result_124542;
}
N_NIMCALL(TY50525*, Semdirectcall_124680)(TY102012* C_124682, TY50525* N_124683, NU32 Filter_124684) {
TY50525* Result_124685;
TY50525* Initialbinding_124686;
TY50525* F_124699;
Result_124685 = 0;
Initialbinding_124686 = 0;
F_124699 = 0;
F_124699 = (*N_124683).KindU.S6.Sons->data[0];
if (!((*F_124699).Kind == ((NU8) 33))) goto LA2;
Initialbinding_124686 = F_124699;
F_124699 = (*F_124699).KindU.S6.Sons->data[0];
goto LA1;
LA2: ;
Initialbinding_124686 = NIM_NIL;
LA1: ;
Result_124685 = Semdirectcallwithbinding_124535(C_124682, N_124683, F_124699, Filter_124684, Initialbinding_124686);
return Result_124685;
}
N_NIMCALL(TY50525*, Semdirectcallanalyseeffects_130063)(TY102012* C_130065, TY50525* N_130066, NU8 Flags_130067) {
TY50525* Result_130068;
TY50547* Callee_130138;
NIM_BOOL LOC11;
NIM_BOOL LOC19;
Result_130068 = 0;
if (!!(((Flags_130067 &(1<<((((NU8) 2))&7)))!=0))) goto LA2;
Result_130068 = Semdirectcall_124680(C_130065, N_130066, 11264);
goto LA1;
LA2: ;
Result_130068 = Semdirectcall_124680(C_130065, N_130066, 4096);
LA1: ;
if (!!((Result_130068 == NIM_NIL))) goto LA5;
if (!!(((*(*Result_130068).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA8;
Internalerror_42575(((NimStringDesc*) &TMP190126));
LA8: ;
Callee_130138 = 0;
Callee_130138 = (*(*Result_130068).KindU.S6.Sons->data[0]).KindU.S4.Sym;
LOC11 = ((*Callee_130138).Kind == ((NU8) 12));
if (!(LOC11)) goto LA12;
LOC11 = ((*Callee_130138).Sup.Id == (*(*(*C_130065).P).Owner).Sup.Id);
LA12: ;
if (!LOC11) goto LA13;
Limessage_42566((*N_130066).Info, ((NU8) 23), (*(*Callee_130138).Name).S);
LA13: ;
if (!!((((*Callee_130138).Flags &(1<<((((NU8) 13))&31)))!=0))) goto LA16;
LOC19 = (((*Callee_130138).Flags &(1<<((((NU8) 6))&31)))!=0);
if (LOC19) goto LA20;
LOC19 = !(((16512 & (*Callee_130138).Flags) == 0));
LA20: ;
if (!LOC19) goto LA21;
(*(*(*C_130065).P).Owner).Flags |=(1<<((NI32)(((NU8) 14))%(sizeof(NI32)*8)));
LA21: ;
LA16: ;
LA5: ;
return Result_130068;
}
N_NIMCALL(TY50525*, Semarrayconstr_129035)(TY102012* C_129037, TY50525* N_129038) {
TY50525* Result_129039;
NI LOC2;
TY50551* LOC5;
TY50525* X_129054;
NI64 Lastindex_129055;
TY50551* Indextype_129056;
TY50525* Idx_129078;
TY50525* LOC9;
TY50551* Typ_129104;
NI I_129112;
NI HEX3Atmp_140956;
NI LOC10;
NI Res_140958;
TY50525* Idx_129146;
NI64 LOC16;
TY50525* LOC19;
NI LOC20;
Result_129039 = 0;
Result_129039 = Newnodei_50737(((NU8) 32), (*N_129038).Info);
asgnRef((void**) &(*Result_129039).Typ, Newtypes_102077(((NU8) 4), C_129037));
Addson_50827((*Result_129039).Typ, NIM_NIL);
LOC2 = Sonslen_50803(N_129038);
if (!(LOC2 == 0)) goto LA3;
LOC5 = 0;
LOC5 = Newtypes_102077(((NU8) 3), C_129037);
Addson_50827((*Result_129039).Typ, LOC5);
goto LA1;
LA3: ;
X_129054 = 0;
X_129054 = (*N_129038).KindU.S6.Sons->data[0];
Lastindex_129055 = 0;
Lastindex_129055 = 0;
Indextype_129056 = 0;
Indextype_129056 = Getsystype_97008(((NU8) 31));
if (!((*X_129054).Kind == ((NU8) 24))) goto LA7;
Idx_129078 = 0;
Idx_129078 = Semconstexpr_120171(C_129037, (*X_129054).KindU.S6.Sons->data[0]);
Lastindex_129055 = Getordvalue_92109(Idx_129078);
Indextype_129056 = (*Idx_129078).Typ;
X_129054 = (*X_129054).KindU.S6.Sons->data[1];
LA7: ;
LOC9 = 0;
LOC9 = Semexprwithtype_120122(C_129037, X_129054, 0);
Addson_50823(Result_129039, LOC9);
Typ_129104 = 0;
Typ_129104 = Skiptypes_92087((*(*Result_129039).KindU.S6.Sons->data[0]).Typ, 8423424);
I_129112 = 0;
HEX3Atmp_140956 = 0;
LOC10 = Sonslen_50803(N_129038);
HEX3Atmp_140956 = (NI32)(LOC10 - 1);
Res_140958 = 0;
Res_140958 = 1;
while (1) {
if (!(Res_140958 <= HEX3Atmp_140956)) goto LA11;
I_129112 = Res_140958;
X_129054 = (*N_129038).KindU.S6.Sons->data[I_129112];
if (!((*X_129054).Kind == ((NU8) 24))) goto LA13;
Idx_129146 = 0;
Idx_129146 = Semconstexpr_120171(C_129037, (*X_129054).KindU.S6.Sons->data[0]);
Idx_129146 = Fitnode_120129(C_129037, Indextype_129056, Idx_129146);
LOC16 = Getordvalue_92109(Idx_129146);
if (!!(((NI64)(Lastindex_129055 + 1) == LOC16))) goto LA17;
Limessage_42566((*X_129054).Info, ((NU8) 141), ((NimStringDesc*) &TMP189930));
LA17: ;
X_129054 = (*X_129054).KindU.S6.Sons->data[1];
LA13: ;
asgnRefNoCycle((void**) &(*N_129038).KindU.S6.Sons->data[I_129112], Semexprwithtype_120122(C_129037, X_129054, 0));
LOC19 = 0;
LOC19 = Fitnode_120129(C_129037, Typ_129104, (*N_129038).KindU.S6.Sons->data[I_129112]);
Addson_50823(Result_129039, LOC19);
Lastindex_129055 += 1;
Res_140958 += 1;
} LA11: ;
Addson_50827((*Result_129039).Typ, Typ_129104);
LA1: ;
LOC20 = Sonslen_50803(Result_129039);
asgnRef((void**) &(*(*Result_129039).Typ).Sons->data[0], Makerangetype_102086(C_129037, 0, ((NI64) ((NI32)(LOC20 - 1))), (*N_129038).Info));
return Result_129039;
}
N_NIMCALL(void, Changetype_128821)(TY50525* N_128823, TY50551* Newtype_128824) {
TY50547* F_128825;
TY50525* A_128826;
TY50525* M_128827;
NI I_128835;
NI HEX3Atmp_140947;
NI LOC1;
NI Res_140949;
TY50551* LOC3;
NIM_BOOL LOC11;
NI LOC12;
NI I_128898;
NI HEX3Atmp_140950;
NI LOC16;
NI Res_140952;
NI I_128986;
NI HEX3Atmp_140953;
NI LOC24;
NI Res_140955;
TY50525* LOC26;
F_128825 = 0;
A_128826 = 0;
M_128827 = 0;
switch ((*N_128823).Kind) {
case ((NU8) 31):
case ((NU8) 32):
I_128835 = 0;
HEX3Atmp_140947 = 0;
LOC1 = Sonslen_50803(N_128823);
HEX3Atmp_140947 = (NI32)(LOC1 - 1);
Res_140949 = 0;
Res_140949 = 0;
while (1) {
if (!(Res_140949 <= HEX3Atmp_140947)) goto LA2;
I_128835 = Res_140949;
LOC3 = 0;
LOC3 = Elemtype_92091(Newtype_128824);
Changetype_128821((*N_128823).KindU.S6.Sons->data[I_128835], LOC3);
Res_140949 += 1;
} LA2: ;
break;
case ((NU8) 30):
if (!!(((*Newtype_128824).Kind == ((NU8) 18)))) goto LA5;
Internalerror_42571((*N_128823).Info, ((NimStringDesc*) &TMP190127));
LA5: ;
if (!((*Newtype_128824).N == NIM_NIL)) goto LA8;
Internalerror_42571((*N_128823).Info, ((NimStringDesc*) &TMP190128));
LA8: ;
LOC12 = Sonslen_50803(N_128823);
LOC11 = (0 < LOC12);
if (!(LOC11)) goto LA13;
LOC11 = ((*(*N_128823).KindU.S6.Sons->data[0]).Kind == ((NU8) 24));
LA13: ;
if (!LOC11) goto LA14;
I_128898 = 0;
HEX3Atmp_140950 = 0;
LOC16 = Sonslen_50803(N_128823);
HEX3Atmp_140950 = (NI32)(LOC16 - 1);
Res_140952 = 0;
Res_140952 = 0;
while (1) {
if (!(Res_140952 <= HEX3Atmp_140950)) goto LA17;
I_128898 = Res_140952;
M_128827 = (*(*N_128823).KindU.S6.Sons->data[I_128898]).KindU.S6.Sons->data[0];
if (!!(((*M_128827).Kind == ((NU8) 3)))) goto LA19;
Internalerror_42571((*M_128827).Info, ((NimStringDesc*) &TMP190129));
LA19: ;
F_128825 = Getsymfromlist_55194((*Newtype_128824).N, (*(*M_128827).KindU.S4.Sym).Name, 0);
if (!(F_128825 == NIM_NIL)) goto LA22;
Internalerror_42571((*M_128827).Info, ((NimStringDesc*) &TMP190130));
LA22: ;
Changetype_128821((*(*N_128823).KindU.S6.Sons->data[I_128898]).KindU.S6.Sons->data[1], (*F_128825).Typ);
Res_140952 += 1;
} LA17: ;
goto LA10;
LA14: ;
I_128986 = 0;
HEX3Atmp_140953 = 0;
LOC24 = Sonslen_50803(N_128823);
HEX3Atmp_140953 = (NI32)(LOC24 - 1);
Res_140955 = 0;
Res_140955 = 0;
while (1) {
if (!(Res_140955 <= HEX3Atmp_140953)) goto LA25;
I_128986 = Res_140955;
M_128827 = (*N_128823).KindU.S6.Sons->data[I_128986];
A_128826 = Newnodeit_50741(((NU8) 24), (*M_128827).Info, (*Newtype_128824).Sons->data[I_128986]);
LOC26 = 0;
LOC26 = Newsymnode_50734((*(*(*Newtype_128824).N).KindU.S6.Sons->data[I_128986]).KindU.S4.Sym);
Addson_50823(A_128826, LOC26);
Addson_50823(A_128826, M_128827);
Changetype_128821(M_128827, (*Newtype_128824).Sons->data[I_128986]);
asgnRefNoCycle((void**) &(*N_128823).KindU.S6.Sons->data[I_128986], A_128826);
Res_140955 += 1;
} LA25: ;
LA10: ;
break;
default:
break;
}
asgnRef((void**) &(*N_128823).Typ, Newtype_128824);
}
N_NIMCALL(void, Fixabstracttype_129197)(TY102012* C_129199, TY50525* N_129200) {
NI I_129208;
NI HEX3Atmp_140959;
NI LOC1;
NI Res_140961;
TY50525* It_129221;
TY50551* LOC7;
TY50551* S_129288;
NIM_BOOL LOC11;
TY50547* LOC15;
TY50551* LOC16;
TY50551* LOC17;
TY50551* LOC18;
TY50551* S_129343;
NimStringDesc* LOC24;
NimStringDesc* LOC25;
I_129208 = 0;
HEX3Atmp_140959 = 0;
LOC1 = Sonslen_50803(N_129200);
HEX3Atmp_140959 = (NI32)(LOC1 - 1);
Res_140961 = 0;
Res_140961 = 1;
while (1) {
if (!(Res_140961 <= HEX3Atmp_140959)) goto LA2;
I_129208 = Res_140961;
It_129221 = 0;
It_129221 = (*N_129200).KindU.S6.Sons->data[I_129208];
switch ((*It_129221).Kind) {
case ((NU8) 47):
case ((NU8) 48):
if (!((*(*It_129221).KindU.S6.Sons->data[1]).Kind == ((NU8) 32))) goto LA4;
asgnRefNoCycle((void**) &(*It_129221).KindU.S6.Sons->data[1], Semarrayconstr_129035(C_129199, (*It_129221).KindU.S6.Sons->data[1]));
LA4: ;
LOC7 = 0;
LOC7 = Skiptypes_92087((*It_129221).Typ, 8431616);
if (!((*LOC7).Kind == ((NU8) 27))) goto LA8;
S_129288 = 0;
S_129288 = Skiptypes_92087((*(*It_129221).KindU.S6.Sons->data[1]).Typ, 8431616);
LOC11 = ((*S_129288).Kind == ((NU8) 4));
if (!(LOC11)) goto LA12;
LOC11 = ((*(*S_129288).Sons->data[1]).Kind == ((NU8) 3));
LA12: ;
if (!LOC11) goto LA13;
LOC15 = 0;
LOC15 = Getcurrowner_102107();
S_129288 = Copytype_50770(S_129288, LOC15, NIM_FALSE);
LOC16 = 0;
LOC16 = Skiptypes_92087(S_129288, 8431616);
LOC17 = 0;
LOC17 = Skiptypes_92087((*It_129221).Typ, 8431616);
asgnRef((void**) &(*LOC16).Sons->data[1], Elemtype_92091(LOC17));
asgnRef((void**) &(*(*It_129221).KindU.S6.Sons->data[1]).Typ, S_129288);
LA13: ;
goto LA6;
LA8: ;
LOC18 = 0;
LOC18 = Skiptypes_92087((*(*It_129221).KindU.S6.Sons->data[1]).Typ, 8431616);
if (!((*LOC18).Kind == ((NU8) 5) || (*LOC18).Kind == ((NU8) 4) || (*LOC18).Kind == ((NU8) 18) || (*LOC18).Kind == ((NU8) 19))) goto LA19;
S_129343 = 0;
S_129343 = Skiptypes_92087((*It_129221).Typ, 8431616);
Changetype_128821((*It_129221).KindU.S6.Sons->data[1], S_129343);
asgnRefNoCycle((void**) &(*N_129200).KindU.S6.Sons->data[I_129208], (*It_129221).KindU.S6.Sons->data[1]);
goto LA6;
LA19: ;
LA6: ;
break;
case ((NU8) 32):
asgnRefNoCycle((void**) &(*N_129200).KindU.S6.Sons->data[I_129208], Semarrayconstr_129035(C_129199, It_129221));
break;
default:
if (!((*It_129221).Typ == NIM_NIL)) goto LA22;
LOC24 = 0;
LOC25 = 0;
LOC25 = Rendertree_80042(It_129221, 0);
LOC24 = rawNewString(LOC25->Sup.len + 17);
appendString(LOC24, ((NimStringDesc*) &TMP190131));
appendString(LOC24, LOC25);
Internalerror_42571((*It_129221).Info, LOC24);
LA22: ;
break;
}
Res_140961 += 1;
} LA2: ;
}
N_NIMCALL(NU8, Isassignable_129460)(TY50525* N_129462) {
NU8 Result_129463;
TY50551* LOC5;
NIM_BOOL LOC9;
TY50551* LOC14;
TY50551* LOC18;
Result_129463 = 0;
Result_129463 = ((NU8) 0);
switch ((*N_129462).Kind) {
case ((NU8) 3):
if (!((544 &(1<<(((*(*N_129462).KindU.S4.Sym).Kind)&31)))!=0)) goto LA2;
Result_129463 = ((NU8) 1);
LA2: ;
break;
case ((NU8) 36):
Checkminsonslen_102103(N_129462, 1);
LOC5 = 0;
LOC5 = Skiptypes_92087((*(*N_129462).KindU.S6.Sons->data[0]).Typ, 43008);
if (!((*LOC5).Kind == ((NU8) 23) || (*LOC5).Kind == ((NU8) 21) || (*LOC5).Kind == ((NU8) 22))) goto LA6;
Result_129463 = ((NU8) 1);
goto LA4;
LA6: ;
Result_129463 = Isassignable_129460((*N_129462).KindU.S6.Sons->data[0]);
LA4: ;
LOC9 = (Result_129463 == ((NU8) 1));
if (!(LOC9)) goto LA10;
LOC9 = (((*(*(*N_129462).KindU.S6.Sons->data[1]).KindU.S4.Sym).Flags &(1<<((((NU8) 21))&31)))!=0);
LA10: ;
if (!LOC9) goto LA11;
Result_129463 = ((NU8) 2);
LA11: ;
break;
case ((NU8) 33):
Checkminsonslen_102103(N_129462, 1);
LOC14 = 0;
LOC14 = Skiptypes_92087((*(*N_129462).KindU.S6.Sons->data[0]).Typ, 43008);
if (!((*LOC14).Kind == ((NU8) 23) || (*LOC14).Kind == ((NU8) 21) || (*LOC14).Kind == ((NU8) 22))) goto LA15;
Result_129463 = ((NU8) 1);
goto LA13;
LA15: ;
Result_129463 = Isassignable_129460((*N_129462).KindU.S6.Sons->data[0]);
LA13: ;
break;
case ((NU8) 47):
case ((NU8) 48):
case ((NU8) 50):
LOC18 = 0;
LOC18 = Skiptypes_92087((*N_129462).Typ, 14723072);
if (!((*LOC18).Kind == ((NU8) 27) || (*LOC18).Kind == ((NU8) 18) || (*LOC18).Kind == ((NU8) 17))) goto LA19;
Result_129463 = Isassignable_129460((*N_129462).KindU.S6.Sons->data[1]);
LA19: ;
break;
case ((NU8) 54):
case ((NU8) 38):
Result_129463 = ((NU8) 1);
break;
case ((NU8) 56):
case ((NU8) 55):
case ((NU8) 37):
Result_129463 = Isassignable_129460((*N_129462).KindU.S6.Sons->data[0]);
break;
default:
break;
}
return Result_129463;
}
N_NIMCALL(TY50525*, Newhiddenaddrtaken_129640)(TY102012* C_129642, TY50525* N_129643) {
TY50525* Result_129644;
TY50551* LOC4;
NU8 LOC6;
Result_129644 = 0;
if (!((*N_129643).Kind == ((NU8) 54))) goto LA2;
Checksonslen_102099(N_129643, 1);
Result_129644 = (*N_129643).KindU.S6.Sons->data[0];
goto LA1;
LA2: ;
LOC4 = 0;
LOC4 = Makevartype_102073(C_129642, (*N_129643).Typ);
Result_129644 = Newnodeit_50741(((NU8) 53), (*N_129643).Info, LOC4);
Addson_50823(Result_129644, N_129643);
LOC6 = Isassignable_129460(N_129643);
if (!!((LOC6 == ((NU8) 1)))) goto LA7;
Limessage_42566((*N_129643).Info, ((NU8) 124), ((NimStringDesc*) &TMP189930));
LA7: ;
LA1: ;
return Result_129644;
}
N_NIMCALL(TY50525*, Analyseifaddresstaken_129675)(TY102012* C_129677, TY50525* N_129678) {
TY50525* Result_129679;
TY50551* LOC2;
TY50551* LOC9;
TY50551* LOC13;
Result_129679 = 0;
Result_129679 = N_129678;
switch ((*N_129678).Kind) {
case ((NU8) 3):
LOC2 = 0;
LOC2 = Skiptypes_92087((*(*N_129678).KindU.S4.Sym).Typ, 43008);
if (!!(((*LOC2).Kind == ((NU8) 23)))) goto LA3;
(*(*N_129678).KindU.S4.Sym).Flags |=(1<<((NI32)(((NU8) 18))%(sizeof(NI32)*8)));
Result_129679 = Newhiddenaddrtaken_129640(C_129677, N_129678);
LA3: ;
break;
case ((NU8) 36):
Checksonslen_102099(N_129678, 2);
if (!!(((*(*N_129678).KindU.S6.Sons->data[1]).Kind == ((NU8) 3)))) goto LA6;
Internalerror_42571((*N_129678).Info, ((NimStringDesc*) &TMP190134));
LA6: ;
LOC9 = 0;
LOC9 = Skiptypes_92087((*(*(*N_129678).KindU.S6.Sons->data[1]).KindU.S4.Sym).Typ, 43008);
if (!!(((*LOC9).Kind == ((NU8) 23)))) goto LA10;
(*(*(*N_129678).KindU.S6.Sons->data[1]).KindU.S4.Sym).Flags |=(1<<((NI32)(((NU8) 18))%(sizeof(NI32)*8)));
Result_129679 = Newhiddenaddrtaken_129640(C_129677, N_129678);
LA10: ;
break;
case ((NU8) 33):
Checkminsonslen_102103(N_129678, 1);
LOC13 = 0;
LOC13 = Skiptypes_92087((*(*N_129678).KindU.S6.Sons->data[0]).Typ, 43008);
if (!!(((*LOC13).Kind == ((NU8) 23)))) goto LA14;
if (!((*(*N_129678).KindU.S6.Sons->data[0]).Kind == ((NU8) 3))) goto LA17;
(*(*(*N_129678).KindU.S6.Sons->data[0]).KindU.S4.Sym).Flags |=(1<<((NI32)(((NU8) 18))%(sizeof(NI32)*8)));
LA17: ;
Result_129679 = Newhiddenaddrtaken_129640(C_129677, N_129678);
LA14: ;
break;
default:
Result_129679 = Newhiddenaddrtaken_129640(C_129677, N_129678);
break;
}
return Result_129679;
}
N_NIMCALL(void, Analyseifaddresstakenincall_129893)(TY102012* C_129895, TY50525* N_129896) {
TY50551* T_129911;
NIM_BOOL LOC2;
NI I_129975;
NI HEX3Atmp_140962;
NI LOC6;
NI Res_140964;
NIM_BOOL LOC9;
NI LOC10;
TY50551* LOC12;
NU8 LOC16;
NI I_130027;
NI HEX3Atmp_140965;
NI LOC19;
NI Res_140967;
NIM_BOOL LOC22;
NI LOC23;
TY50551* LOC25;
Checkminsonslen_102103(N_129896, 1);
T_129911 = 0;
T_129911 = (*(*N_129896).KindU.S6.Sons->data[0]).Typ;
LOC2 = ((*(*N_129896).KindU.S6.Sons->data[0]).Kind == ((NU8) 3));
if (!(LOC2)) goto LA3;
LOC2 = ((TMP190132[(*(*(*N_129896).KindU.S6.Sons->data[0]).KindU.S4.Sym).Magic/8] &(1<<((*(*(*N_129896).KindU.S6.Sons->data[0]).KindU.S4.Sym).Magic%8)))!=0);
LA3: ;
if (!LOC2) goto LA4;
I_129975 = 0;
HEX3Atmp_140962 = 0;
LOC6 = Sonslen_50803(N_129896);
HEX3Atmp_140962 = (NI32)(LOC6 - 1);
Res_140964 = 0;
Res_140964 = 1;
while (1) {
if (!(Res_140964 <= HEX3Atmp_140962)) goto LA7;
I_129975 = Res_140964;
LOC10 = Sonslen_50806(T_129911);
LOC9 = (I_129975 < LOC10);
if (!(LOC9)) goto LA11;
LOC12 = 0;
LOC12 = Skiptypes_92087((*T_129911).Sons->data[I_129975], 43008);
LOC9 = ((*LOC12).Kind == ((NU8) 23));
LA11: ;
if (!LOC9) goto LA13;
LOC16 = Isassignable_129460((*N_129896).KindU.S6.Sons->data[I_129975]);
if (!!((LOC16 == ((NU8) 1)))) goto LA17;
Limessage_42566((*(*N_129896).KindU.S6.Sons->data[I_129975]).Info, ((NU8) 124), ((NimStringDesc*) &TMP189930));
LA17: ;
LA13: ;
Res_140964 += 1;
} LA7: ;
goto BeforeRet;
LA4: ;
I_130027 = 0;
HEX3Atmp_140965 = 0;
LOC19 = Sonslen_50803(N_129896);
HEX3Atmp_140965 = (NI32)(LOC19 - 1);
Res_140967 = 0;
Res_140967 = 1;
while (1) {
if (!(Res_140967 <= HEX3Atmp_140965)) goto LA20;
I_130027 = Res_140967;
LOC23 = Sonslen_50806(T_129911);
LOC22 = (I_130027 < LOC23);
if (!(LOC22)) goto LA24;
LOC25 = 0;
LOC25 = Skiptypes_92087((*T_129911).Sons->data[I_130027], 43008);
LOC22 = ((*LOC25).Kind == ((NU8) 23));
LA24: ;
if (!LOC22) goto LA26;
asgnRefNoCycle((void**) &(*N_129896).KindU.S6.Sons->data[I_130027], Analyseifaddresstaken_129675(C_129895, (*N_129896).KindU.S6.Sons->data[I_130027]));
LA26: ;
Res_140967 += 1;
} LA20: ;
BeforeRet: ;
}
N_NIMCALL(TY50525*, Propertywriteaccess_136571)(TY102012* C_136573, TY50525* N_136574, TY50525* A_136575) {
TY50525* Result_136576;
TY49011* Id_136577;
TY50525* LOC1;
NimStringDesc* LOC2;
TY49011* LOC3;
TY50525* LOC4;
TY50525* LOC5;
TY50525* LOC6;
TY50525* LOC7;
Result_136576 = 0;
Id_136577 = 0;
LOC1 = 0;
LOC1 = HEX5BHEX5D_52051(A_136575, 1);
Id_136577 = Consideracc_120003(LOC1);
Result_136576 = Newnodei_50737(((NU8) 21), (*N_136574).Info);
LOC2 = 0;
LOC2 = rawNewString((*Id_136577).S->Sup.len + 1);
appendString(LOC2, (*Id_136577).S);
appendChar(LOC2, 61);
LOC3 = 0;
LOC3 = Getident_49016(LOC2);
LOC4 = 0;
LOC4 = Newidentnode_50730(LOC3, (*N_136574).Info);
Addson_50823(Result_136576, LOC4);
LOC5 = 0;
LOC5 = HEX5BHEX5D_52051(A_136575, 0);
Addson_50823(Result_136576, LOC5);
LOC6 = 0;
LOC6 = HEX5BHEX5D_52051(N_136574, 1);
LOC7 = 0;
LOC7 = Semexpr_120115(C_136573, LOC6, 0);
Addson_50823(Result_136576, LOC7);
Result_136576 = Semdirectcallanalyseeffects_130063(C_136573, Result_136576, 0);
if (!!((Result_136576 == NIM_NIL))) goto LA9;
Fixabstracttype_129197(C_136573, Result_136576);
Analyseifaddresstakenincall_129893(C_136573, Result_136576);
goto LA8;
LA9: ;
Limessage_42566((*N_136574).Info, ((NU8) 77), (*Id_136577).S);
LA8: ;
return Result_136576;
}
N_NIMCALL(TY50525*, Semsubscript_131721)(TY102012* C_131723, TY50525* N_131724, NU8 Flags_131725) {
TY50525* Result_131726;
TY50551* Arr_131775;
NI I_131807;
NI HEX3Atmp_140992;
NI LOC1;
NI Res_140994;
TY50551* Indextype_131852;
TY50551* LOC3;
TY50525* Arg_131877;
TY50551* LOC10;
NI64 Idx_131986;
NIM_BOOL LOC14;
NI LOC16;
Result_131726 = 0;
Checkminsonslen_102103(N_131724, 2);
asgnRefNoCycle((void**) &(*N_131724).KindU.S6.Sons->data[0], Semexprwithtype_120122(C_131723, (*N_131724).KindU.S6.Sons->data[0], (Flags_131725 & ~ 1)));
Arr_131775 = 0;
Arr_131775 = Skiptypes_92087((*(*N_131724).KindU.S6.Sons->data[0]).Typ, 14682112);
switch ((*Arr_131775).Kind) {
case ((NU8) 16):
case ((NU8) 27):
case ((NU8) 4):
case ((NU8) 24):
case ((NU8) 28):
case ((NU8) 29):
Checksonslen_102099(N_131724, 2);
asgnRefNoCycle((void**) &(*N_131724).KindU.S6.Sons->data[0], Makederef_131132((*N_131724).KindU.S6.Sons->data[0]));
I_131807 = 0;
HEX3Atmp_140992 = 0;
LOC1 = Sonslen_50803(N_131724);
HEX3Atmp_140992 = (NI32)(LOC1 - 1);
Res_140994 = 0;
Res_140994 = 1;
while (1) {
if (!(Res_140994 <= HEX3Atmp_140992)) goto LA2;
I_131807 = Res_140994;
asgnRefNoCycle((void**) &(*N_131724).KindU.S6.Sons->data[I_131807], Semexprwithtype_120122(C_131723, (*N_131724).KindU.S6.Sons->data[I_131807], (Flags_131725 & ~ 1)));
Res_140994 += 1;
} LA2: ;
Indextype_131852 = 0;
LOC3 = 0;
if (!((*Arr_131775).Kind == ((NU8) 16))) goto LA5;
LOC3 = (*Arr_131775).Sons->data[0];
goto LA4;
LA5: ;
LOC3 = Getsystype_97008(((NU8) 31));
LA4: ;
Indextype_131852 = LOC3;
Arg_131877 = 0;
Arg_131877 = Indextypesmatch_123850(C_131723, Indextype_131852, (*(*N_131724).KindU.S6.Sons->data[1]).Typ, (*N_131724).KindU.S6.Sons->data[1]);
if (!!((Arg_131877 == NIM_NIL))) goto LA7;
asgnRefNoCycle((void**) &(*N_131724).KindU.S6.Sons->data[1], Arg_131877);
goto LA6;
LA7: ;
Limessage_42566((*N_131724).Info, ((NU8) 80), ((NimStringDesc*) &TMP189930));
LA6: ;
Result_131726 = N_131724;
asgnRef((void**) &(*Result_131726).Typ, Elemtype_92091(Arr_131775));
break;
case ((NU8) 18):
Checksonslen_102099(N_131724, 2);
asgnRefNoCycle((void**) &(*N_131724).KindU.S6.Sons->data[0], Makederef_131132((*N_131724).KindU.S6.Sons->data[0]));
asgnRefNoCycle((void**) &(*N_131724).KindU.S6.Sons->data[1], Semconstexpr_120171(C_131723, (*N_131724).KindU.S6.Sons->data[1]));
LOC10 = 0;
LOC10 = Skiptypes_92087((*(*N_131724).KindU.S6.Sons->data[1]).Typ, 1083392);
if (!((*LOC10).Kind >= ((NU8) 31) && (*LOC10).Kind <= ((NU8) 35))) goto LA11;
Idx_131986 = 0;
Idx_131986 = Getordvalue_92109((*N_131724).KindU.S6.Sons->data[1]);
LOC14 = (0 <= Idx_131986);
if (!(LOC14)) goto LA15;
LOC16 = Sonslen_50806(Arr_131775);
LOC14 = (Idx_131986 < ((NI64) (LOC16)));
LA15: ;
if (!LOC14) goto LA17;
asgnRef((void**) &(*N_131724).Typ, (*Arr_131775).Sons->data[Idx_131986]);
goto LA13;
LA17: ;
Limessage_42566((*N_131724).Info, ((NU8) 182), ((NimStringDesc*) &TMP189930));
LA13: ;
goto LA9;
LA11: ;
Limessage_42566((*N_131724).Info, ((NU8) 80), ((NimStringDesc*) &TMP189930));
LA9: ;
Result_131726 = N_131724;
break;
default:
break;
}
return Result_131726;
}
static N_INLINE(NI, Len_51923)(TY50525* N_51925) {
NI Result_51926;
Result_51926 = 0;
if (!(*N_51925).KindU.S6.Sons == 0) goto LA2;
Result_51926 = 0;
goto LA1;
LA2: ;
Result_51926 = (*N_51925).KindU.S6.Sons->Sup.len;
LA1: ;
return Result_51926;
}
N_NIMCALL(void, Addsliceopr_131643)(NimStringDesc** Result_131646, TY50525* N_131647) {
TY50525* LOC2;
TY50525* LOC6;
TY50525* LOC9;
LOC2 = 0;
LOC2 = HEX5BHEX5D_52051(N_131647, 0);
if (!(LOC2 == NIM_NIL)) goto LA3;
LOC6 = 0;
LOC6 = HEX5BHEX5D_52051(N_131647, 1);
if (!(LOC6 == NIM_NIL)) goto LA7;
(*Result_131646) = resizeString((*Result_131646), 2);
appendString((*Result_131646), ((NimStringDesc*) &TMP190137));
goto LA5;
LA7: ;
(*Result_131646) = resizeString((*Result_131646), 3);
appendString((*Result_131646), ((NimStringDesc*) &TMP190138));
LA5: ;
goto LA1;
LA3: ;
LOC9 = 0;
LOC9 = HEX5BHEX5D_52051(N_131647, 1);
if (!(LOC9 == NIM_NIL)) goto LA10;
(*Result_131646) = resizeString((*Result_131646), 3);
appendString((*Result_131646), ((NimStringDesc*) &TMP190139));
goto LA1;
LA10: ;
(*Result_131646) = resizeString((*Result_131646), 4);
appendString((*Result_131646), ((NimStringDesc*) &TMP190140));
LA1: ;
}
N_NIMCALL(TY50525*, Buildoverloadedsubscripts_131681)(TY50525* N_131683, NIM_BOOL Inasgn_131684) {
TY50525* Result_131685;
TY50525* LOC1;
NimStringDesc* Opr_131686;
NI I_131696;
NI HEX3Atmp_140989;
NI LOC2;
NI Res_140991;
TY50525* LOC8;
TY50525* LOC11;
TY50525* LOC12;
TY50525* LOC13;
TY50525* LOC14;
TY50525* LOC15;
TY50525* LOC16;
TY50525* LOC17;
TY49011* LOC21;
Result_131685 = 0;
Result_131685 = Newnodei_50737(((NU8) 21), (*N_131683).Info);
Add_51969(Result_131685, NIM_NIL);
LOC1 = 0;
LOC1 = HEX5BHEX5D_52051(N_131683, 0);
Add_51969(Result_131685, LOC1);
Opr_131686 = 0;
Opr_131686 = copyString(((NimStringDesc*) &TMP190135));
I_131696 = 0;
HEX3Atmp_140989 = 0;
LOC2 = Len_51923(N_131683);
HEX3Atmp_140989 = (NI32)(LOC2 - 1);
Res_140991 = 0;
Res_140991 = 1;
while (1) {
if (!(Res_140991 <= HEX3Atmp_140989)) goto LA3;
I_131696 = Res_140991;
if (!(1 < I_131696)) goto LA5;
Opr_131686 = resizeString(Opr_131686, 1);
appendString(Opr_131686, ((NimStringDesc*) &TMP190136));
LA5: ;
LOC8 = 0;
LOC8 = HEX5BHEX5D_52051(N_131683, I_131696);
if (!((*LOC8).Kind == ((NU8) 35))) goto LA9;
LOC11 = 0;
LOC11 = HEX5BHEX5D_52051(N_131683, I_131696);
Checksonslen_102099(LOC11, 2);
LOC12 = 0;
LOC12 = HEX5BHEX5D_52051(N_131683, I_131696);
Addsliceopr_131643(&Opr_131686, LOC12);
LOC13 = 0;
LOC13 = HEX5BHEX5D_52051(N_131683, I_131696);
LOC14 = 0;
LOC14 = HEX5BHEX5D_52051(LOC13, 0);
Addsonifnotnil_50831(Result_131685, LOC14);
LOC15 = 0;
LOC15 = HEX5BHEX5D_52051(N_131683, I_131696);
LOC16 = 0;
LOC16 = HEX5BHEX5D_52051(LOC15, 1);
Addsonifnotnil_50831(Result_131685, LOC16);
goto LA7;
LA9: ;
LOC17 = 0;
LOC17 = HEX5BHEX5D_52051(N_131683, I_131696);
Add_51969(Result_131685, LOC17);
LA7: ;
Res_140991 += 1;
} LA3: ;
if (!Inasgn_131684) goto LA19;
Opr_131686 = resizeString(Opr_131686, 2);
appendString(Opr_131686, ((NimStringDesc*) &TMP190141));
goto LA18;
LA19: ;
Opr_131686 = resizeString(Opr_131686, 1);
appendString(Opr_131686, ((NimStringDesc*) &TMP190142));
LA18: ;
LOC21 = 0;
LOC21 = Getident_49016(Opr_131686);
asgnRefNoCycle((void**) &(*Result_131685).KindU.S6.Sons->data[0], Newidentnode_50730(LOC21, (*N_131683).Info));
return Result_131685;
}
N_NIMCALL(TY50525*, Semexprnotype_135703)(TY102012* C_135705, TY50525* N_135706) {
TY50525* Result_135707;
NIM_BOOL LOC2;
Result_135707 = 0;
Result_135707 = Semexpr_120115(C_135705, N_135706, 0);
LOC2 = !(((*Result_135707).Typ == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC2 = !(((*(*Result_135707).Typ).Kind == ((NU8) 7)));
LA3: ;
if (!LOC2) goto LA4;
Limessage_42566((*N_135706).Info, ((NU8) 137), ((NimStringDesc*) &TMP189930));
LA4: ;
return Result_135707;
}
N_NIMCALL(TY50525*, Semasgn_136591)(TY102012* C_136593, TY50525* N_136594) {
TY50525* Result_136595;
TY50525* A_136608;
TY50525* LOC4;
TY50525* LOC8;
TY50551* Le_136862;
NIM_BOOL LOC10;
TY50551* LOC11;
NU8 LOC13;
NimStringDesc* LOC16;
Result_136595 = 0;
Checksonslen_102099(N_136594, 2);
A_136608 = 0;
A_136608 = (*N_136594).KindU.S6.Sons->data[0];
switch ((*A_136608).Kind) {
case ((NU8) 36):
A_136608 = Builtinfieldaccess_131161(C_136593, A_136608, 2);
if (!(A_136608 == NIM_NIL)) goto LA2;
LOC4 = 0;
LOC4 = HEX5BHEX5D_52051(N_136594, 0);
Result_136595 = Propertywriteaccess_136571(C_136593, N_136594, LOC4);
goto BeforeRet;
LA2: ;
break;
case ((NU8) 33):
A_136608 = Semsubscript_131721(C_136593, A_136608, 2);
if (!(A_136608 == NIM_NIL)) goto LA6;
Result_136595 = Buildoverloadedsubscripts_131681((*N_136594).KindU.S6.Sons->data[0], NIM_TRUE);
LOC8 = 0;
LOC8 = HEX5BHEX5D_52051(N_136594, 1);
Add_51969(Result_136595, LOC8);
Result_136595 = Semexprnotype_135703(C_136593, Result_136595);
goto BeforeRet;
LA6: ;
break;
default:
A_136608 = Semexprwithtype_120122(C_136593, A_136608, 2);
break;
}
asgnRefNoCycle((void**) &(*N_136594).KindU.S6.Sons->data[0], A_136608);
asgnRefNoCycle((void**) &(*N_136594).KindU.S6.Sons->data[1], Semexprwithtype_120122(C_136593, (*N_136594).KindU.S6.Sons->data[1], 0));
Le_136862 = 0;
Le_136862 = (*A_136608).Typ;
LOC11 = 0;
LOC11 = Skiptypes_92087(Le_136862, 2048);
LOC10 = !(((*LOC11).Kind == ((NU8) 23)));
if (!(LOC10)) goto LA12;
LOC13 = Isassignable_129460(A_136608);
LOC10 = (LOC13 == ((NU8) 0));
LA12: ;
if (!LOC10) goto LA14;
LOC16 = 0;
LOC16 = Rendertree_80042(A_136608, 4);
Limessage_42566((*A_136608).Info, ((NU8) 174), LOC16);
goto LA9;
LA14: ;
asgnRefNoCycle((void**) &(*N_136594).KindU.S6.Sons->data[1], Fitnode_120129(C_136593, Le_136862, (*N_136594).KindU.S6.Sons->data[1]));
Fixabstracttype_129197(C_136593, N_136594);
LA9: ;
Result_136595 = N_136594;
BeforeRet: ;
return Result_136595;
}
N_NIMCALL(TY50525*, Semcommand_140729)(TY102012* C_140731, TY50525* N_140732) {
TY50525* Result_140733;
Result_140733 = 0;
Result_140733 = Semexprnotype_135703(C_140731, N_140732);
return Result_140733;
}
N_NIMCALL(TY50525*, Semblock_136153)(TY102012* C_136155, TY50525* N_136156) {
TY50525* Result_136157;
TY50547* Labl_136206;
Result_136157 = 0;
Result_136157 = N_136156;
(*(*C_136155).P).Nestedblockcounter += 1;
Checksonslen_102099(N_136156, 2);
Openscope_55146(&(*C_136155).Tab);
if (!!(((*N_136156).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA2;
Labl_136206 = 0;
Labl_136206 = Newsyms_120059(((NU8) 19), (*N_136156).KindU.S6.Sons->data[0], C_136155);
Adddecl_103026(C_136155, Labl_136206);
asgnRefNoCycle((void**) &(*N_136156).KindU.S6.Sons->data[0], Newsymnode_50734(Labl_136206));
LA2: ;
asgnRefNoCycle((void**) &(*N_136156).KindU.S6.Sons->data[1], Semstmt_120143(C_136155, (*N_136156).KindU.S6.Sons->data[1]));
Closescope_103017(&(*C_136155).Tab);
(*(*C_136155).P).Nestedblockcounter -= 1;
return Result_136157;
}
N_NIMCALL(TY50525*, Semraise_138191)(TY102012* C_138193, TY50525* N_138194) {
TY50525* Result_138195;
TY50551* Typ_138255;
NIM_BOOL LOC5;
Result_138195 = 0;
Result_138195 = N_138194;
Checksonslen_102099(N_138194, 1);
if (!!(((*N_138194).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA2;
asgnRefNoCycle((void**) &(*N_138194).KindU.S6.Sons->data[0], Semexprwithtype_120122(C_138193, (*N_138194).KindU.S6.Sons->data[0], 0));
Typ_138255 = 0;
Typ_138255 = (*(*N_138194).KindU.S6.Sons->data[0]).Typ;
LOC5 = !(((*Typ_138255).Kind == ((NU8) 22)));
if (LOC5) goto LA6;
LOC5 = !(((*(*Typ_138255).Sons->data[0]).Kind == ((NU8) 17)));
LA6: ;
if (!LOC5) goto LA7;
Limessage_42566((*N_138194).Info, ((NU8) 110), ((NimStringDesc*) &TMP189930));
LA7: ;
LA2: ;
return Result_138195;
}
N_NIMCALL(TY50525*, Semvar_137296)(TY102012* C_137298, TY50525* N_137299) {
TY50525* Result_137300;
NI Length_137301;
TY50525* A_137302;
TY50525* B_137303;
TY50525* Def_137304;
TY50551* Typ_137305;
TY50551* Tup_137306;
TY50547* V_137307;
NI I_137315;
NI HEX3Atmp_141096;
NI LOC1;
NI Res_141098;
NIM_BOOL LOC8;
NIM_BOOL LOC22;
NimStringDesc* LOC25;
NI LOC33;
NI J_137488;
NI HEX3Atmp_141093;
NI Res_141095;
TY50525* LOC46;
TY50525* LOC47;
Result_137300 = 0;
Length_137301 = 0;
A_137302 = 0;
B_137303 = 0;
Def_137304 = 0;
Typ_137305 = 0;
Tup_137306 = 0;
V_137307 = 0;
Result_137300 = Copynode_50855(N_137299);
I_137315 = 0;
HEX3Atmp_141096 = 0;
LOC1 = Sonslen_50803(N_137299);
HEX3Atmp_141096 = (NI32)(LOC1 - 1);
Res_141098 = 0;
Res_141098 = 0;
while (1) {
if (!(Res_141098 <= HEX3Atmp_141096)) goto LA2;
I_137315 = Res_141098;
A_137302 = (*N_137299).KindU.S6.Sons->data[I_137315];
if (!((*A_137302).Kind == ((NU8) 105))) goto LA5;
goto LA3;
LA5: ;
LOC8 = !(((*A_137302).Kind == ((NU8) 25)));
if (!(LOC8)) goto LA9;
LOC8 = !(((*A_137302).Kind == ((NU8) 26)));
LA9: ;
if (!LOC8) goto LA10;
Illformedast_102092(A_137302);
LA10: ;
Checkminsonslen_102103(A_137302, 3);
Length_137301 = Sonslen_50803(A_137302);
if (!!(((*A_137302).KindU.S6.Sons->data[(NI32)(Length_137301 - 2)] == NIM_NIL))) goto LA13;
Typ_137305 = Semtypenode_120138(C_137298, (*A_137302).KindU.S6.Sons->data[(NI32)(Length_137301 - 2)], NIM_NIL);
goto LA12;
LA13: ;
Typ_137305 = NIM_NIL;
LA12: ;
if (!!(((*A_137302).KindU.S6.Sons->data[(NI32)(Length_137301 - 1)] == NIM_NIL))) goto LA16;
Def_137304 = Semexprwithtype_120122(C_137298, (*A_137302).KindU.S6.Sons->data[(NI32)(Length_137301 - 1)], 0);
if (!!((Typ_137305 == NIM_NIL))) goto LA19;
Def_137304 = Fitnode_120129(C_137298, Typ_137305, Def_137304);
goto LA18;
LA19: ;
Typ_137305 = (*Def_137304).Typ;
LA18: ;
goto LA15;
LA16: ;
Def_137304 = NIM_NIL;
LA15: ;
LOC22 = Typeallowed_92136(Typ_137305, ((NU8) 9));
if (!!(LOC22)) goto LA23;
LOC25 = 0;
LOC25 = Typetostring_92014(Typ_137305, ((NU8) 0));
Limessage_42566((*A_137302).Info, ((NU8) 163), LOC25);
LA23: ;
Tup_137306 = Skiptypes_92087(Typ_137305, 2048);
if (!((*A_137302).Kind == ((NU8) 26))) goto LA27;
if (!!(((*Tup_137306).Kind == ((NU8) 18)))) goto LA30;
Limessage_42566((*A_137302).Info, ((NU8) 184), ((NimStringDesc*) &TMP190148));
LA30: ;
LOC33 = Sonslen_50806(Tup_137306);
if (!!(((NI32)(Length_137301 - 2) == LOC33))) goto LA34;
Limessage_42566((*A_137302).Info, ((NU8) 109), ((NimStringDesc*) &TMP189930));
LA34: ;
B_137303 = Newnodei_50737(((NU8) 26), (*A_137302).Info);
Newsons_50815(B_137303, Length_137301);
asgnRefNoCycle((void**) &(*B_137303).KindU.S6.Sons->data[(NI32)(Length_137301 - 2)], NIM_NIL);
asgnRefNoCycle((void**) &(*B_137303).KindU.S6.Sons->data[(NI32)(Length_137301 - 1)], Def_137304);
Addson_50823(Result_137300, B_137303);
LA27: ;
J_137488 = 0;
HEX3Atmp_141093 = 0;
HEX3Atmp_141093 = (NI32)(Length_137301 - 3);
Res_141095 = 0;
Res_141095 = 0;
while (1) {
if (!(Res_141095 <= HEX3Atmp_141093)) goto LA36;
J_137488 = Res_141095;
if (!((*(*(*C_137298).P).Owner).Kind == ((NU8) 6))) goto LA38;
V_137307 = Semidentwithpragma_120098(C_137298, ((NU8) 9), (*A_137302).KindU.S6.Sons->data[J_137488], 6);
(*V_137307).Flags |=(1<<((NI32)(((NU8) 5))%(sizeof(NI32)*8)));
goto LA37;
LA38: ;
V_137307 = Semidentwithpragma_120098(C_137298, ((NU8) 9), (*A_137302).KindU.S6.Sons->data[J_137488], 0);
LA37: ;
if (!!((((*V_137307).Flags & 6) == 0))) goto LA41;
(*V_137307).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
LA41: ;
Addinterfacedecl_103040(C_137298, V_137307);
if (!!(((*A_137302).Kind == ((NU8) 26)))) goto LA44;
asgnRef((void**) &(*V_137307).Typ, Typ_137305);
B_137303 = Newnodei_50737(((NU8) 25), (*A_137302).Info);
LOC46 = 0;
LOC46 = Newsymnode_50734(V_137307);
Addson_50823(B_137303, LOC46);
Addson_50823(B_137303, NIM_NIL);
LOC47 = 0;
LOC47 = Copytree_50858(Def_137304);
Addson_50823(B_137303, LOC47);
Addson_50823(Result_137300, B_137303);
goto LA43;
LA44: ;
asgnRef((void**) &(*V_137307).Typ, (*Tup_137306).Sons->data[J_137488]);
asgnRefNoCycle((void**) &(*B_137303).KindU.S6.Sons->data[J_137488], Newsymnode_50734(V_137307));
LA43: ;
Res_141095 += 1;
} LA36: ;
LA3: ;
Res_141098 += 1;
} LA2: ;
return Result_137300;
}
N_NIMCALL(TY50525*, Semandevalconstexpr_120198)(TY102012* C_120200, TY50525* N_120201) {
TY50525* Result_120202;
TY50525* E_120203;
NIM_BOOL LOC8;
Result_120202 = 0;
E_120203 = 0;
E_120203 = Semexprwithtype_120122(C_120200, N_120201, 0);
if (!(E_120203 == NIM_NIL)) goto LA2;
Limessage_42566((*N_120201).Info, ((NU8) 102), ((NimStringDesc*) &TMP189930));
Result_120202 = NIM_NIL;
goto BeforeRet;
LA2: ;
Result_120202 = Getconstexpr_108010((*C_120200).Module, E_120203);
if (!(Result_120202 == NIM_NIL)) goto LA5;
Result_120202 = Evalconstexpr_110042((*C_120200).Module, E_120203);
LOC8 = (Result_120202 == NIM_NIL);
if (LOC8) goto LA9;
LOC8 = ((*Result_120202).Kind == ((NU8) 1));
LA9: ;
if (!LOC8) goto LA10;
Limessage_42566((*N_120201).Info, ((NU8) 102), ((NimStringDesc*) &TMP189930));
LA10: ;
LA5: ;
BeforeRet: ;
return Result_120202;
}
N_NIMCALL(TY50525*, Fitremovehiddenconv_137254)(TY102012* C_137256, TY50551* Typ_137257, TY50525* N_137258) {
TY50525* Result_137259;
NIM_BOOL LOC4;
Result_137259 = 0;
Result_137259 = Fitnode_120129(C_137256, Typ_137257, N_137258);
if (!((*Result_137259).Kind == ((NU8) 47) || (*Result_137259).Kind == ((NU8) 48))) goto LA2;
Changetype_128821((*Result_137259).KindU.S6.Sons->data[1], Typ_137257);
Result_137259 = (*Result_137259).KindU.S6.Sons->data[1];
goto LA1;
LA2: ;
LOC4 = Sametype_92048((*Result_137259).Typ, Typ_137257);
if (!!(LOC4)) goto LA5;
Changetype_128821(Result_137259, Typ_137257);
goto LA1;
LA5: ;
LA1: ;
return Result_137259;
}
N_NIMCALL(TY50525*, Semconst_137594)(TY102012* C_137596, TY50525* N_137597) {
TY50525* Result_137598;
TY50525* A_137599;
TY50525* Def_137600;
TY50525* B_137601;
TY50547* V_137602;
TY50551* Typ_137603;
NI I_137611;
NI HEX3Atmp_141100;
NI LOC1;
NI Res_141102;
NIM_BOOL LOC20;
NimStringDesc* LOC23;
TY50525* LOC27;
TY50525* LOC28;
Result_137598 = 0;
A_137599 = 0;
Def_137600 = 0;
B_137601 = 0;
V_137602 = 0;
Typ_137603 = 0;
Result_137598 = Copynode_50855(N_137597);
I_137611 = 0;
HEX3Atmp_141100 = 0;
LOC1 = Sonslen_50803(N_137597);
HEX3Atmp_141100 = (NI32)(LOC1 - 1);
Res_141102 = 0;
Res_141102 = 0;
while (1) {
if (!(Res_141102 <= HEX3Atmp_141100)) goto LA2;
I_137611 = Res_141102;
A_137599 = (*N_137597).KindU.S6.Sons->data[I_137611];
if (!((*A_137599).Kind == ((NU8) 105))) goto LA5;
goto LA3;
LA5: ;
if (!!(((*A_137599).Kind == ((NU8) 89)))) goto LA8;
Illformedast_102092(A_137599);
LA8: ;
Checksonslen_102099(A_137599, 3);
if (!((*(*(*C_137596).P).Owner).Kind == ((NU8) 6))) goto LA11;
V_137602 = Semidentwithpragma_120098(C_137596, ((NU8) 8), (*A_137599).KindU.S6.Sons->data[0], 6);
(*V_137602).Flags |=(1<<((NI32)(((NU8) 5))%(sizeof(NI32)*8)));
goto LA10;
LA11: ;
V_137602 = Semidentwithpragma_120098(C_137596, ((NU8) 8), (*A_137599).KindU.S6.Sons->data[0], 0);
LA10: ;
if (!!(((*A_137599).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA14;
Typ_137603 = Semtypenode_120138(C_137596, (*A_137599).KindU.S6.Sons->data[1], NIM_NIL);
goto LA13;
LA14: ;
Typ_137603 = NIM_NIL;
LA13: ;
Def_137600 = Semandevalconstexpr_120198(C_137596, (*A_137599).KindU.S6.Sons->data[2]);
if (!!((Typ_137603 == NIM_NIL))) goto LA17;
Def_137600 = Fitremovehiddenconv_137254(C_137596, Typ_137603, Def_137600);
goto LA16;
LA17: ;
Typ_137603 = (*Def_137600).Typ;
LA16: ;
LOC20 = Typeallowed_92136(Typ_137603, ((NU8) 8));
if (!!(LOC20)) goto LA21;
LOC23 = 0;
LOC23 = Typetostring_92014(Typ_137603, ((NU8) 0));
Limessage_42566((*A_137599).Info, ((NU8) 163), LOC23);
LA21: ;
asgnRef((void**) &(*V_137602).Typ, Typ_137603);
asgnRefNoCycle((void**) &(*V_137602).Ast, Def_137600);
if (!!((((*V_137602).Flags & 6) == 0))) goto LA25;
(*V_137602).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
LA25: ;
Addinterfacedecl_103040(C_137596, V_137602);
B_137601 = Newnodei_50737(((NU8) 89), (*A_137599).Info);
LOC27 = 0;
LOC27 = Newsymnode_50734(V_137602);
Addson_50823(B_137601, LOC27);
Addson_50823(B_137601, NIM_NIL);
LOC28 = 0;
LOC28 = Copytree_50858(Def_137600);
Addson_50823(B_137601, LOC28);
Addson_50823(Result_137598, B_137601);
LA3: ;
Res_141102 += 1;
} LA2: ;
return Result_137598;
}
N_NIMCALL(void, Setmagictype_127890)(TY50547* M_127892, NU8 Kind_127893, NI Size_127894) {
(*(*M_127892).Typ).Kind = Kind_127893;
(*(*M_127892).Typ).Align = Size_127894;
(*(*M_127892).Typ).Size = ((NI64) (Size_127894));
}
N_NIMCALL(void, Processmagictype_127895)(TY102012* C_127897, TY50547* M_127898) {
TY50551* LOC1;
TY50551* LOC2;
TY50551* LOC3;
switch ((*M_127898).Magic) {
case ((NU8) 168):
Setmagictype_127890(M_127898, ((NU8) 31), Intsize_46570);
break;
case ((NU8) 169):
Setmagictype_127890(M_127898, ((NU8) 32), 1);
break;
case ((NU8) 170):
Setmagictype_127890(M_127898, ((NU8) 33), 2);
break;
case ((NU8) 171):
Setmagictype_127890(M_127898, ((NU8) 34), 4);
break;
case ((NU8) 172):
Setmagictype_127890(M_127898, ((NU8) 35), 8);
break;
case ((NU8) 173):
Setmagictype_127890(M_127898, ((NU8) 36), Floatsize_46571);
break;
case ((NU8) 174):
Setmagictype_127890(M_127898, ((NU8) 37), 4);
break;
case ((NU8) 175):
Setmagictype_127890(M_127898, ((NU8) 38), 8);
break;
case ((NU8) 176):
Setmagictype_127890(M_127898, ((NU8) 1), 1);
break;
case ((NU8) 177):
Setmagictype_127890(M_127898, ((NU8) 2), 1);
break;
case ((NU8) 178):
Setmagictype_127890(M_127898, ((NU8) 28), Ptrsize_46572);
LOC1 = 0;
LOC1 = Getsystype_97008(((NU8) 2));
Addson_50827((*M_127898).Typ, LOC1);
break;
case ((NU8) 179):
Setmagictype_127890(M_127898, ((NU8) 29), Ptrsize_46572);
LOC2 = 0;
LOC2 = Getsystype_97008(((NU8) 2));
Addson_50827((*M_127898).Typ, LOC2);
break;
case ((NU8) 180):
Setmagictype_127890(M_127898, ((NU8) 26), Ptrsize_46572);
break;
case ((NU8) 181):
Setmagictype_127890(M_127898, ((NU8) 19), 1);
LOC3 = 0;
LOC3 = Newtypes_102077(((NU8) 3), C_127897);
Addson_50827((*M_127898).Typ, LOC3);
break;
case ((NU8) 182):
Setmagictype_127890(M_127898, ((NU8) 20), Intsize_46570);
goto BeforeRet;
break;
case ((NU8) 183):
Setmagictype_127890(M_127898, ((NU8) 5), Ptrsize_46572);
break;
case ((NU8) 184):
Setmagictype_127890(M_127898, ((NU8) 6), 0);
break;
case ((NU8) 185):
Setmagictype_127890(M_127898, ((NU8) 7), 0);
break;
case ((NU8) 186):
Setmagictype_127890(M_127898, ((NU8) 8), 0);
break;
case ((NU8) 162):
case ((NU8) 163):
case ((NU8) 164):
case ((NU8) 165):
case ((NU8) 166):
case ((NU8) 167):
goto BeforeRet;
break;
default:
Limessage_42566((*M_127898).Info, ((NU8) 60), ((NimStringDesc*) &TMP189930));
break;
}
BeforeRet: ;
}
static N_INLINE(NI, Getid_50693)(void) {
NI Result_50948;
Result_50948 = 0;
Result_50948 = Gid_50692;
Gid_50692 += 1;
return Result_50948;
}
N_NIMCALL(TY50525*, Semgenericparamlist_138469)(TY102012* C_138471, TY50525* N_138472, TY50551* Father_138473) {
TY50525* Result_138474;
NI I_138491;
NI HEX3Atmp_141115;
NI LOC4;
NI Res_141117;
TY50525* A_138504;
NI L_138514;
TY50525* Def_138527;
TY50551* Typ_138528;
NI J_138582;
NI HEX3Atmp_141112;
NI Res_141114;
TY50547* S_138583;
NIM_BOOL LOC16;
TY50525* LOC23;
Result_138474 = 0;
Result_138474 = Copynode_50855(N_138472);
if (!!(((*N_138472).Kind == ((NU8) 65)))) goto LA2;
Internalerror_42571((*N_138472).Info, ((NimStringDesc*) &TMP190167));
LA2: ;
I_138491 = 0;
HEX3Atmp_141115 = 0;
LOC4 = Sonslen_50803(N_138472);
HEX3Atmp_141115 = (NI32)(LOC4 - 1);
Res_141117 = 0;
Res_141117 = 0;
while (1) {
if (!(Res_141117 <= HEX3Atmp_141115)) goto LA5;
I_138491 = Res_141117;
A_138504 = 0;
A_138504 = (*N_138472).KindU.S6.Sons->data[I_138491];
if (!!(((*A_138504).Kind == ((NU8) 25)))) goto LA7;
Illformedast_102092(N_138472);
LA7: ;
L_138514 = 0;
L_138514 = Sonslen_50803(A_138504);
Def_138527 = 0;
Def_138527 = (*A_138504).KindU.S6.Sons->data[(NI32)(L_138514 - 1)];
Typ_138528 = 0;
if (!!(((*A_138504).KindU.S6.Sons->data[(NI32)(L_138514 - 2)] == NIM_NIL))) goto LA10;
Typ_138528 = Semtypenode_120138(C_138471, (*A_138504).KindU.S6.Sons->data[(NI32)(L_138514 - 2)], NIM_NIL);
goto LA9;
LA10: ;
if (!!((Def_138527 == NIM_NIL))) goto LA12;
Typ_138528 = Newtypes_102077(((NU8) 6), C_138471);
goto LA9;
LA12: ;
Typ_138528 = NIM_NIL;
LA9: ;
J_138582 = 0;
HEX3Atmp_141112 = 0;
HEX3Atmp_141112 = (NI32)(L_138514 - 3);
Res_141114 = 0;
Res_141114 = 0;
while (1) {
if (!(Res_141114 <= HEX3Atmp_141112)) goto LA14;
J_138582 = Res_141114;
S_138583 = 0;
LOC16 = (Typ_138528 == NIM_NIL);
if (LOC16) goto LA17;
LOC16 = ((*Typ_138528).Kind == ((NU8) 8));
LA17: ;
if (!LOC16) goto LA18;
S_138583 = Newsyms_120059(((NU8) 7), (*A_138504).KindU.S6.Sons->data[J_138582], C_138471);
asgnRef((void**) &(*S_138583).Typ, Newtypes_102077(((NU8) 12), C_138471));
goto LA15;
LA18: ;
S_138583 = Newsyms_120059(((NU8) 4), (*A_138504).KindU.S6.Sons->data[J_138582], C_138471);
asgnRef((void**) &(*S_138583).Typ, Typ_138528);
LA15: ;
asgnRefNoCycle((void**) &(*S_138583).Ast, Def_138527);
asgnRef((void**) &(*(*S_138583).Typ).Sym, S_138583);
if (!!((Father_138473 == NIM_NIL))) goto LA21;
Addson_50827(Father_138473, (*S_138583).Typ);
LA21: ;
(*S_138583).Position = I_138491;
LOC23 = 0;
LOC23 = Newsymnode_50734(S_138583);
Addson_50823(Result_138474, LOC23);
Adddecl_103026(C_138471, S_138583);
Res_141114 += 1;
} LA14: ;
Res_141117 += 1;
} LA5: ;
return Result_138474;
}
N_NIMCALL(TY50525*, Semtypesection_138694)(TY102012* C_138696, TY50525* N_138697) {
TY50525* Result_138698;
TY50547* S_138699;
TY50551* T_138700;
TY50551* Body_138701;
NI I_138709;
NI HEX3Atmp_141122;
NI LOC1;
NI Res_141124;
TY50525* A_138722;
NI I_138889;
NI HEX3Atmp_141126;
NI LOC19;
NI Res_141128;
TY50525* A_138902;
NIM_BOOL LOC32;
NI LOC48;
NIM_BOOL LOC52;
NI I_139143;
NI HEX3Atmp_141130;
NI LOC56;
NI Res_141132;
TY50525* A_139156;
NIM_BOOL LOC69;
Result_138698 = 0;
S_138699 = 0;
T_138700 = 0;
Body_138701 = 0;
Result_138698 = N_138697;
I_138709 = 0;
HEX3Atmp_141122 = 0;
LOC1 = Sonslen_50803(N_138697);
HEX3Atmp_141122 = (NI32)(LOC1 - 1);
Res_141124 = 0;
Res_141124 = 0;
while (1) {
if (!(Res_141124 <= HEX3Atmp_141122)) goto LA2;
I_138709 = Res_141124;
A_138722 = 0;
A_138722 = (*N_138697).KindU.S6.Sons->data[I_138709];
if (!((*A_138722).Kind == ((NU8) 105))) goto LA5;
goto LA3;
LA5: ;
if (!!(((*A_138722).Kind == ((NU8) 91)))) goto LA8;
Illformedast_102092(A_138722);
LA8: ;
Checksonslen_102099(A_138722, 3);
if (!((*(*(*C_138696).P).Owner).Kind == ((NU8) 6))) goto LA11;
S_138699 = Semidentwithpragma_120098(C_138696, ((NU8) 7), (*A_138722).KindU.S6.Sons->data[0], 6);
(*S_138699).Flags |=(1<<((NI32)(((NU8) 5))%(sizeof(NI32)*8)));
goto LA10;
LA11: ;
S_138699 = Semidentwithpragma_120098(C_138696, ((NU8) 7), (*A_138722).KindU.S6.Sons->data[0], 0);
LA10: ;
if (!!((((*S_138699).Flags & 6) == 0))) goto LA14;
(*S_138699).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
LA14: ;
asgnRef((void**) &(*S_138699).Typ, Newtypes_102077(((NU8) 30), C_138696));
asgnRef((void**) &(*(*S_138699).Typ).Sym, S_138699);
if (!((*(*A_138722).KindU.S6.Sons->data[0]).Kind == ((NU8) 34))) goto LA17;
Pragma_117028(C_138696, S_138699, (*(*A_138722).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[1], TMP190165);
LA17: ;
Addinterfacedecl_103040(C_138696, S_138699);
asgnRefNoCycle((void**) &(*A_138722).KindU.S6.Sons->data[0], Newsymnode_50734(S_138699));
LA3: ;
Res_141124 += 1;
} LA2: ;
I_138889 = 0;
HEX3Atmp_141126 = 0;
LOC19 = Sonslen_50803(N_138697);
HEX3Atmp_141126 = (NI32)(LOC19 - 1);
Res_141128 = 0;
Res_141128 = 0;
while (1) {
if (!(Res_141128 <= HEX3Atmp_141126)) goto LA20;
I_138889 = Res_141128;
A_138902 = 0;
A_138902 = (*N_138697).KindU.S6.Sons->data[I_138889];
if (!((*A_138902).Kind == ((NU8) 105))) goto LA23;
goto LA21;
LA23: ;
if (!!(((*A_138902).Kind == ((NU8) 91)))) goto LA26;
Illformedast_102092(A_138902);
LA26: ;
Checksonslen_102099(A_138902, 3);
if (!!(((*(*A_138902).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA29;
Illformedast_102092(A_138902);
LA29: ;
S_138699 = (*(*A_138902).KindU.S6.Sons->data[0]).KindU.S4.Sym;
LOC32 = ((*S_138699).Magic == ((NU8) 0));
if (!(LOC32)) goto LA33;
LOC32 = ((*A_138902).KindU.S6.Sons->data[2] == NIM_NIL);
LA33: ;
if (!LOC32) goto LA34;
Limessage_42566((*A_138902).Info, ((NU8) 135), (*(*S_138699).Name).S);
LA34: ;
if (!!(((*S_138699).Magic == ((NU8) 0)))) goto LA37;
Processmagictype_127895(C_138696, S_138699);
LA37: ;
if (!!(((*A_138902).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA40;
Openscope_55146(&(*C_138696).Tab);
Pushowner_102109(S_138699);
(*(*S_138699).Typ).Kind = ((NU8) 10);
if (!!(((*(*S_138699).Typ).Containerid == 0))) goto LA43;
Internalerror_42571((*A_138902).Info, ((NimStringDesc*) &TMP190166));
LA43: ;
(*(*S_138699).Typ).Containerid = Getid_50693();
asgnRefNoCycle((void**) &(*A_138902).KindU.S6.Sons->data[1], Semgenericparamlist_138469(C_138696, (*A_138902).KindU.S6.Sons->data[1], (*S_138699).Typ));
Addson_50827((*S_138699).Typ, NIM_NIL);
asgnRefNoCycle((void**) &(*S_138699).Ast, A_138902);
Body_138701 = Semtypenode_120138(C_138696, (*A_138902).KindU.S6.Sons->data[2], NIM_NIL);
if (!!((Body_138701 == NIM_NIL))) goto LA46;
asgnRef((void**) &(*Body_138701).Sym, S_138699);
LA46: ;
LOC48 = Sonslen_50806((*S_138699).Typ);
asgnRef((void**) &(*(*S_138699).Typ).Sons->data[(NI32)(LOC48 - 1)], Body_138701);
Popowner_102112();
Closescope_103017(&(*C_138696).Tab);
goto LA39;
LA40: ;
if (!!(((*A_138902).KindU.S6.Sons->data[2] == NIM_NIL))) goto LA49;
Pushowner_102109(S_138699);
T_138700 = Semtypenode_120138(C_138696, (*A_138902).KindU.S6.Sons->data[2], (*S_138699).Typ);
LOC52 = !((T_138700 == (*S_138699).Typ));
if (!(LOC52)) goto LA53;
LOC52 = !(((*S_138699).Typ == NIM_NIL));
LA53: ;
if (!LOC52) goto LA54;
Internalerror_42571((*A_138902).Info, ((NimStringDesc*) &TMP190168));
LA54: ;
asgnRef((void**) &(*S_138699).Typ, T_138700);
asgnRefNoCycle((void**) &(*S_138699).Ast, A_138902);
Popowner_102112();
goto LA39;
LA49: ;
LA39: ;
LA21: ;
Res_141128 += 1;
} LA20: ;
I_139143 = 0;
HEX3Atmp_141130 = 0;
LOC56 = Sonslen_50803(N_138697);
HEX3Atmp_141130 = (NI32)(LOC56 - 1);
Res_141132 = 0;
Res_141132 = 0;
while (1) {
if (!(Res_141132 <= HEX3Atmp_141130)) goto LA57;
I_139143 = Res_141132;
A_139156 = 0;
A_139156 = (*N_138697).KindU.S6.Sons->data[I_139143];
if (!((*A_139156).Kind == ((NU8) 105))) goto LA60;
goto LA58;
LA60: ;
if (!!(((*(*A_139156).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA63;
Illformedast_102092(A_139156);
LA63: ;
S_138699 = (*(*A_139156).KindU.S6.Sons->data[0]).KindU.S4.Sym;
if (!((*A_139156).KindU.S6.Sons->data[1] == NIM_NIL)) goto LA66;
LOC69 = !(((*A_139156).KindU.S6.Sons->data[2] == NIM_NIL));
if (!(LOC69)) goto LA70;
LOC69 = ((*(*A_139156).KindU.S6.Sons->data[2]).Kind == ((NU8) 3) || (*(*A_139156).KindU.S6.Sons->data[2]).Kind == ((NU8) 2) || (*(*A_139156).KindU.S6.Sons->data[2]).Kind == ((NU8) 43));
LA70: ;
if (!LOC69) goto LA71;
T_138700 = Semtypenode_120138(C_138696, (*A_139156).KindU.S6.Sons->data[2], NIM_NIL);
if (!((*T_138700).Kind == ((NU8) 17) || (*T_138700).Kind == ((NU8) 14))) goto LA74;
Assigntype_50779((*S_138699).Typ, T_138700);
(*(*S_138699).Typ).Sup.Id = (*T_138700).Sup.Id;
LA74: ;
LA71: ;
Checkconstructedtype_121639((*S_138699).Info, (*S_138699).Typ);
LA66: ;
LA58: ;
Res_141132 += 1;
} LA57: ;
return Result_138698;
}
N_NIMCALL(TY50525*, Semif_135858)(TY102012* C_135860, TY50525* N_135861) {
TY50525* Result_135862;
NI I_135870;
NI HEX3Atmp_141086;
NI LOC1;
NI Res_141088;
TY50525* It_135883;
NI LOC7;
Result_135862 = 0;
Result_135862 = N_135861;
I_135870 = 0;
HEX3Atmp_141086 = 0;
LOC1 = Sonslen_50803(N_135861);
HEX3Atmp_141086 = (NI32)(LOC1 - 1);
Res_141088 = 0;
Res_141088 = 0;
while (1) {
if (!(Res_141088 <= HEX3Atmp_141086)) goto LA2;
I_135870 = Res_141088;
It_135883 = 0;
It_135883 = (*N_135861).KindU.S6.Sons->data[I_135870];
if (!(It_135883 == NIM_NIL)) goto LA4;
Illformedast_102092(N_135861);
LA4: ;
switch ((*It_135883).Kind) {
case ((NU8) 76):
Checksonslen_102099(It_135883, 2);
Openscope_55146(&(*C_135860).Tab);
asgnRefNoCycle((void**) &(*It_135883).KindU.S6.Sons->data[0], Semexprwithtype_120122(C_135860, (*It_135883).KindU.S6.Sons->data[0], 0));
Checkbool_124779((*It_135883).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*It_135883).KindU.S6.Sons->data[1], Semstmt_120143(C_135860, (*It_135883).KindU.S6.Sons->data[1]));
Closescope_103017(&(*C_135860).Tab);
break;
case ((NU8) 78):
LOC7 = Sonslen_50803(It_135883);
if (!(LOC7 == 1)) goto LA8;
asgnRefNoCycle((void**) &(*It_135883).KindU.S6.Sons->data[0], Semstmtscope_120104(C_135860, (*It_135883).KindU.S6.Sons->data[0]));
goto LA6;
LA8: ;
Illformedast_102092(It_135883);
LA6: ;
break;
default:
Illformedast_102092(N_135861);
break;
}
Res_141088 += 1;
} LA2: ;
return Result_135862;
}
N_NIMCALL(TY50525*, Semwhen_135728)(TY102012* C_135730, TY50525* N_135731) {
TY50525* Result_135732;
NI I_135740;
NI HEX3Atmp_141083;
NI LOC1;
NI Res_141085;
TY50525* It_135753;
TY50525* E_135777;
NIM_BOOL LOC10;
Result_135732 = 0;
Result_135732 = NIM_NIL;
I_135740 = 0;
HEX3Atmp_141083 = 0;
LOC1 = Sonslen_50803(N_135731);
HEX3Atmp_141083 = (NI32)(LOC1 - 1);
Res_141085 = 0;
Res_141085 = 0;
while (1) {
if (!(Res_141085 <= HEX3Atmp_141083)) goto LA2;
I_135740 = Res_141085;
It_135753 = 0;
It_135753 = (*N_135731).KindU.S6.Sons->data[I_135740];
if (!(It_135753 == NIM_NIL)) goto LA4;
Illformedast_102092(N_135731);
LA4: ;
switch ((*It_135753).Kind) {
case ((NU8) 76):
Checksonslen_102099(It_135753, 2);
E_135777 = 0;
E_135777 = Semconstexpr_120171(C_135730, (*It_135753).KindU.S6.Sons->data[0]);
Checkbool_124779(E_135777);
if (!!(((*E_135777).Kind == ((NU8) 6)))) goto LA7;
Internalerror_42571((*N_135731).Info, ((NimStringDesc*) &TMP190169));
LA7: ;
LOC10 = !(((*E_135777).KindU.S1.Intval == 0));
if (!(LOC10)) goto LA11;
LOC10 = (Result_135732 == NIM_NIL);
LA11: ;
if (!LOC10) goto LA12;
Result_135732 = Semstmt_120143(C_135730, (*It_135753).KindU.S6.Sons->data[1]);
LA12: ;
break;
case ((NU8) 78):
Checksonslen_102099(It_135753, 1);
if (!(Result_135732 == NIM_NIL)) goto LA15;
Result_135732 = Semstmt_120143(C_135730, (*It_135753).KindU.S6.Sons->data[0]);
LA15: ;
break;
default:
Illformedast_102092(N_135731);
break;
}
Res_141085 += 1;
} LA2: ;
if (!(Result_135732 == NIM_NIL)) goto LA18;
Result_135732 = Newnodei_50737(((NU8) 18), (*N_135731).Info);
LA18: ;
Idsynchronizationpoint_50698(200);
return Result_135732;
}
N_NIMCALL(TY50525*, Semdiscard_135983)(TY102012* C_135985, TY50525* N_135986) {
TY50525* Result_135987;
Result_135987 = 0;
Result_135987 = N_135986;
Checksonslen_102099(N_135986, 1);
asgnRefNoCycle((void**) &(*N_135986).KindU.S6.Sons->data[0], Semexprwithtype_120122(C_135985, (*N_135986).KindU.S6.Sons->data[0], 0));
if (!((*(*N_135986).KindU.S6.Sons->data[0]).Typ == NIM_NIL)) goto LA2;
Limessage_42566((*N_135986).Info, ((NU8) 138), ((NimStringDesc*) &TMP189930));
LA2: ;
return Result_135987;
}
N_NIMCALL(TY50525*, Semwhile_136276)(TY102012* C_136278, TY50525* N_136279) {
TY50525* Result_136280;
Result_136280 = 0;
Result_136280 = N_136279;
Checksonslen_102099(N_136279, 2);
Openscope_55146(&(*C_136278).Tab);
asgnRefNoCycle((void**) &(*N_136279).KindU.S6.Sons->data[0], Semexprwithtype_120122(C_136278, (*N_136279).KindU.S6.Sons->data[0], 0));
Checkbool_124779((*N_136279).KindU.S6.Sons->data[0]);
(*(*C_136278).P).Nestedloopcounter += 1;
asgnRefNoCycle((void**) &(*N_136279).KindU.S6.Sons->data[1], Semstmt_120143(C_136278, (*N_136279).KindU.S6.Sons->data[1]));
(*(*C_136278).P).Nestedloopcounter -= 1;
Closescope_103017(&(*C_136278).Tab);
return Result_136280;
}
N_NIMCALL(TY50525*, Semtry_138274)(TY102012* C_138276, TY50525* N_138277) {
TY50525* Result_138278;
TY50900 Check_138279;
NI I_138312;
NI HEX3Atmp_141109;
NI LOC1;
NI Res_141111;
TY50525* A_138325;
NI Length_138326;
NI J_138343;
NI HEX3Atmp_141106;
NI Res_141108;
TY50551* Typ_138356;
NIM_BOOL LOC14;
Result_138278 = 0;
memset((void*)&Check_138279, 0, sizeof(Check_138279));
Result_138278 = N_138277;
Checkminsonslen_102103(N_138277, 2);
asgnRefNoCycle((void**) &(*N_138277).KindU.S6.Sons->data[0], Semstmtscope_120104(C_138276, (*N_138277).KindU.S6.Sons->data[0]));
Intsetinit_50924(&Check_138279);
I_138312 = 0;
HEX3Atmp_141109 = 0;
LOC1 = Sonslen_50803(N_138277);
HEX3Atmp_141109 = (NI32)(LOC1 - 1);
Res_141111 = 0;
Res_141111 = 1;
while (1) {
if (!(Res_141111 <= HEX3Atmp_141109)) goto LA2;
I_138312 = Res_141111;
A_138325 = 0;
A_138325 = (*N_138277).KindU.S6.Sons->data[I_138312];
Checkminsonslen_102103(A_138325, 1);
Length_138326 = 0;
Length_138326 = Sonslen_50803(A_138325);
if (!((*A_138325).Kind == ((NU8) 77))) goto LA4;
J_138343 = 0;
HEX3Atmp_141106 = 0;
HEX3Atmp_141106 = (NI32)(Length_138326 - 2);
Res_141108 = 0;
Res_141108 = 0;
while (1) {
if (!(Res_141108 <= HEX3Atmp_141106)) goto LA6;
J_138343 = Res_141108;
Typ_138356 = 0;
Typ_138356 = Semtypenode_120138(C_138276, (*A_138325).KindU.S6.Sons->data[J_138343], NIM_NIL);
if (!((*Typ_138356).Kind == ((NU8) 22))) goto LA8;
Typ_138356 = (*Typ_138356).Sons->data[0];
LA8: ;
if (!!(((*Typ_138356).Kind == ((NU8) 17)))) goto LA11;
Limessage_42566((*(*A_138325).KindU.S6.Sons->data[J_138343]).Info, ((NU8) 110), ((NimStringDesc*) &TMP189930));
LA11: ;
asgnRefNoCycle((void**) &(*A_138325).KindU.S6.Sons->data[J_138343], Newnodei_50737(((NU8) 4), (*(*A_138325).KindU.S6.Sons->data[J_138343]).Info));
asgnRef((void**) &(*(*A_138325).KindU.S6.Sons->data[J_138343]).Typ, Typ_138356);
LOC14 = Intsetcontainsorincl_50928(&Check_138279, (*Typ_138356).Sup.Id);
if (!LOC14) goto LA15;
Limessage_42566((*(*A_138325).KindU.S6.Sons->data[J_138343]).Info, ((NU8) 33), ((NimStringDesc*) &TMP189930));
LA15: ;
Res_141108 += 1;
} LA6: ;
goto LA3;
LA4: ;
if (!!(((*A_138325).Kind == ((NU8) 94)))) goto LA17;
Illformedast_102092(N_138277);
goto LA3;
LA17: ;
LA3: ;
asgnRefNoCycle((void**) &(*A_138325).KindU.S6.Sons->data[(NI32)(Length_138326 - 1)], Semstmtscope_120104(C_138276, (*A_138325).KindU.S6.Sons->data[(NI32)(Length_138326 - 1)]));
Res_141111 += 1;
} LA2: ;
return Result_138278;
}
N_NIMCALL(TY50525*, Sembreakorcontinue_136035)(TY102012* C_136037, TY50525* N_136038) {
TY50525* Result_136039;
TY50547* S_136063;
NIM_BOOL LOC5;
TY50525* X_136123;
NIM_BOOL LOC9;
NimStringDesc* LOC13;
Result_136039 = 0;
Result_136039 = N_136038;
Checksonslen_102099(N_136038, 1);
if (!!(((*N_136038).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA2;
S_136063 = 0;
switch ((*(*N_136038).KindU.S6.Sons->data[0]).Kind) {
case ((NU8) 2):
S_136063 = Lookup_103049(C_136037, (*N_136038).KindU.S6.Sons->data[0]);
break;
case ((NU8) 3):
S_136063 = (*(*N_136038).KindU.S6.Sons->data[0]).KindU.S4.Sym;
break;
default:
Illformedast_102092(N_136038);
break;
}
LOC5 = ((*S_136063).Kind == ((NU8) 19));
if (!(LOC5)) goto LA6;
LOC5 = ((*(*S_136063).Owner).Sup.Id == (*(*(*C_136037).P).Owner).Sup.Id);
LA6: ;
if (!LOC5) goto LA7;
X_136123 = 0;
X_136123 = Newsymnode_50734(S_136063);
(*X_136123).Info = (*N_136038).Info;
(*S_136063).Flags |=(1<<((NI32)(((NU8) 0))%(sizeof(NI32)*8)));
asgnRefNoCycle((void**) &(*N_136038).KindU.S6.Sons->data[0], X_136123);
goto LA4;
LA7: ;
Limessage_42566((*N_136038).Info, ((NU8) 161), (*(*S_136063).Name).S);
LA4: ;
goto LA1;
LA2: ;
LOC9 = ((*(*C_136037).P).Nestedloopcounter <= 0);
if (!(LOC9)) goto LA10;
LOC9 = ((*(*C_136037).P).Nestedblockcounter <= 0);
LA10: ;
if (!LOC9) goto LA11;
LOC13 = 0;
LOC13 = Rendertree_80042(N_136038, 4);
Limessage_42566((*N_136038).Info, ((NU8) 161), LOC13);
goto LA1;
LA11: ;
LA1: ;
return Result_136039;
}
N_NIMCALL(TY50525*, Semfor_137784)(TY102012* C_137786, TY50525* N_137787) {
TY50525* Result_137788;
NI Length_137789;
TY50547* V_137790;
TY50547* Countup_137791;
TY50551* Iter_137792;
TY50525* Countupnode_137793;
TY50525* Call_137794;
TY49011* LOC4;
NIM_BOOL LOC9;
NIM_BOOL LOC10;
NI LOC22;
NI I_138117;
NI HEX3Atmp_141103;
NI Res_141105;
Result_137788 = 0;
Length_137789 = 0;
V_137790 = 0;
Countup_137791 = 0;
Iter_137792 = 0;
Countupnode_137793 = 0;
Call_137794 = 0;
Result_137788 = N_137787;
Checkminsonslen_102103(N_137787, 3);
Length_137789 = Sonslen_50803(N_137787);
Openscope_55146(&(*C_137786).Tab);
if (!((*(*N_137787).KindU.S6.Sons->data[(NI32)(Length_137789 - 2)]).Kind == ((NU8) 35))) goto LA2;
Checksonslen_102099((*N_137787).KindU.S6.Sons->data[(NI32)(Length_137789 - 2)], 2);
Countupnode_137793 = Newnodei_50737(((NU8) 21), (*(*N_137787).KindU.S6.Sons->data[(NI32)(Length_137789 - 2)]).Info);
LOC4 = 0;
LOC4 = Getident_49016(((NimStringDesc*) &TMP190170));
Countup_137791 = Strtableget_55066(&(*Systemmodule_97004).Tab, LOC4);
if (!(Countup_137791 == NIM_NIL)) goto LA6;
Limessage_42566((*Countupnode_137793).Info, ((NU8) 61), ((NimStringDesc*) &TMP190170));
LA6: ;
Newsons_50815(Countupnode_137793, 3);
asgnRefNoCycle((void**) &(*Countupnode_137793).KindU.S6.Sons->data[0], Newsymnode_50734(Countup_137791));
asgnRefNoCycle((void**) &(*Countupnode_137793).KindU.S6.Sons->data[1], (*(*N_137787).KindU.S6.Sons->data[(NI32)(Length_137789 - 2)]).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*Countupnode_137793).KindU.S6.Sons->data[2], (*(*N_137787).KindU.S6.Sons->data[(NI32)(Length_137789 - 2)]).KindU.S6.Sons->data[1]);
asgnRefNoCycle((void**) &(*N_137787).KindU.S6.Sons->data[(NI32)(Length_137789 - 2)], Countupnode_137793);
LA2: ;
asgnRefNoCycle((void**) &(*N_137787).KindU.S6.Sons->data[(NI32)(Length_137789 - 2)], Semexprwithtype_120122(C_137786, (*N_137787).KindU.S6.Sons->data[(NI32)(Length_137789 - 2)], 4));
Call_137794 = (*N_137787).KindU.S6.Sons->data[(NI32)(Length_137789 - 2)];
LOC10 = !(((*Call_137794).Kind == ((NU8) 21)));
if (LOC10) goto LA11;
LOC10 = !(((*(*Call_137794).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)));
LA11: ;
LOC9 = LOC10;
if (LOC9) goto LA12;
LOC9 = !(((*(*(*Call_137794).KindU.S6.Sons->data[0]).KindU.S4.Sym).Kind == ((NU8) 12)));
LA12: ;
if (!LOC9) goto LA13;
Limessage_42566((*(*N_137787).KindU.S6.Sons->data[(NI32)(Length_137789 - 2)]).Info, ((NU8) 207), ((NimStringDesc*) &TMP189930));
LA13: ;
Iter_137792 = Skiptypes_92087((*(*N_137787).KindU.S6.Sons->data[(NI32)(Length_137789 - 2)]).Typ, 2048);
if (!!(((*Iter_137792).Kind == ((NU8) 18)))) goto LA16;
if (!!((Length_137789 == 3))) goto LA19;
Limessage_42566((*N_137787).Info, ((NU8) 109), ((NimStringDesc*) &TMP189930));
LA19: ;
V_137790 = Newsyms_120059(((NU8) 18), (*N_137787).KindU.S6.Sons->data[0], C_137786);
asgnRef((void**) &(*V_137790).Typ, Iter_137792);
asgnRefNoCycle((void**) &(*N_137787).KindU.S6.Sons->data[0], Newsymnode_50734(V_137790));
Adddecl_103026(C_137786, V_137790);
goto LA15;
LA16: ;
LOC22 = Sonslen_50806(Iter_137792);
if (!!(((NI32)(Length_137789 - 2) == LOC22))) goto LA23;
Limessage_42566((*N_137787).Info, ((NU8) 109), ((NimStringDesc*) &TMP189930));
LA23: ;
I_138117 = 0;
HEX3Atmp_141103 = 0;
HEX3Atmp_141103 = (NI32)(Length_137789 - 3);
Res_141105 = 0;
Res_141105 = 0;
while (1) {
if (!(Res_141105 <= HEX3Atmp_141103)) goto LA25;
I_138117 = Res_141105;
V_137790 = Newsyms_120059(((NU8) 18), (*N_137787).KindU.S6.Sons->data[I_138117], C_137786);
asgnRef((void**) &(*V_137790).Typ, (*Iter_137792).Sons->data[I_138117]);
asgnRefNoCycle((void**) &(*N_137787).KindU.S6.Sons->data[I_138117], Newsymnode_50734(V_137790));
Adddecl_103026(C_137786, V_137790);
Res_141105 += 1;
} LA25: ;
LA15: ;
(*(*C_137786).P).Nestedloopcounter += 1;
asgnRefNoCycle((void**) &(*N_137787).KindU.S6.Sons->data[(NI32)(Length_137789 - 1)], Semstmt_120143(C_137786, (*N_137787).KindU.S6.Sons->data[(NI32)(Length_137789 - 1)]));
Closescope_103017(&(*C_137786).Tab);
(*(*C_137786).P).Nestedloopcounter -= 1;
return Result_137788;
}
N_NIMCALL(NI64, Tocover_136367)(TY50551* T_136369) {
NI64 Result_136370;
TY50551* T2_136371;
NIM_BOOL LOC2;
NI LOC6;
TY50551* LOC7;
Result_136370 = 0;
T2_136371 = 0;
T2_136371 = Skiptypes_92087(T_136369, 9480192);
LOC2 = ((*T2_136371).Kind == ((NU8) 14));
if (!(LOC2)) goto LA3;
LOC2 = Enumhaswholes_92072(T2_136371);
LA3: ;
if (!LOC2) goto LA4;
LOC6 = Sonslen_50803((*T2_136371).N);
Result_136370 = ((NI64) (LOC6));
goto LA1;
LA4: ;
LOC7 = 0;
LOC7 = Skiptypes_92087(T_136369, 8431616);
Result_136370 = Lengthord_92007(LOC7);
LA1: ;
return Result_136370;
}
N_NIMCALL(TY50525*, Semcase_136381)(TY102012* C_136383, TY50525* N_136384) {
TY50525* Result_136385;
NIM_BOOL Chckcovered_136411;
NI64 Covered_136412;
TY50551* LOC1;
NI I_136432;
NI HEX3Atmp_141089;
NI LOC2;
NI Res_141091;
TY50525* X_136445;
NI Length_136447;
NIM_BOOL LOC5;
NI64 LOC7;
Result_136385 = 0;
Result_136385 = N_136384;
Checkminsonslen_102103(N_136384, 2);
Openscope_55146(&(*C_136383).Tab);
asgnRefNoCycle((void**) &(*N_136384).KindU.S6.Sons->data[0], Semexprwithtype_120122(C_136383, (*N_136384).KindU.S6.Sons->data[0], 0));
Chckcovered_136411 = 0;
Chckcovered_136411 = NIM_FALSE;
Covered_136412 = 0;
Covered_136412 = 0;
LOC1 = 0;
LOC1 = Skiptypes_92087((*(*N_136384).KindU.S6.Sons->data[0]).Typ, 9480192);
switch ((*LOC1).Kind) {
case ((NU8) 31) ... ((NU8) 35):
case ((NU8) 2):
case ((NU8) 14):
Chckcovered_136411 = NIM_TRUE;
break;
case ((NU8) 36) ... ((NU8) 39):
case ((NU8) 28):
break;
default:
Limessage_42566((*N_136384).Info, ((NU8) 105), ((NimStringDesc*) &TMP189930));
break;
}
I_136432 = 0;
HEX3Atmp_141089 = 0;
LOC2 = Sonslen_50803(N_136384);
HEX3Atmp_141089 = (NI32)(LOC2 - 1);
Res_141091 = 0;
Res_141091 = 1;
while (1) {
if (!(Res_141091 <= HEX3Atmp_141089)) goto LA3;
I_136432 = Res_141091;
X_136445 = 0;
X_136445 = (*N_136384).KindU.S6.Sons->data[I_136432];
switch ((*X_136445).Kind) {
case ((NU8) 75):
Checkminsonslen_102103(X_136445, 2);
Semcasebranch_126170(C_136383, N_136384, X_136445, I_136432, &Covered_136412);
Length_136447 = 0;
Length_136447 = Sonslen_50803(X_136445);
asgnRefNoCycle((void**) &(*X_136445).KindU.S6.Sons->data[(NI32)(Length_136447 - 1)], Semstmtscope_120104(C_136383, (*X_136445).KindU.S6.Sons->data[(NI32)(Length_136447 - 1)]));
break;
case ((NU8) 76):
Chckcovered_136411 = NIM_FALSE;
Checksonslen_102099(X_136445, 2);
asgnRefNoCycle((void**) &(*X_136445).KindU.S6.Sons->data[0], Semexprwithtype_120122(C_136383, (*X_136445).KindU.S6.Sons->data[0], 0));
Checkbool_124779((*X_136445).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*X_136445).KindU.S6.Sons->data[1], Semstmtscope_120104(C_136383, (*X_136445).KindU.S6.Sons->data[1]));
break;
case ((NU8) 78):
Chckcovered_136411 = NIM_FALSE;
Checksonslen_102099(X_136445, 1);
asgnRefNoCycle((void**) &(*X_136445).KindU.S6.Sons->data[0], Semstmtscope_120104(C_136383, (*X_136445).KindU.S6.Sons->data[0]));
break;
default:
Illformedast_102092(X_136445);
break;
}
Res_141091 += 1;
} LA3: ;
LOC5 = Chckcovered_136411;
if (!(LOC5)) goto LA6;
LOC7 = Tocover_136367((*(*N_136384).KindU.S6.Sons->data[0]).Typ);
LOC5 = !((Covered_136412 == LOC7));
LA6: ;
if (!LOC5) goto LA8;
Limessage_42566((*N_136384).Info, ((NU8) 148), ((NimStringDesc*) &TMP189930));
LA8: ;
Closescope_103017(&(*C_136383).Tab);
return Result_136385;
}
N_NIMCALL(TY50525*, Semreturn_136907)(TY102012* C_136909, TY50525* N_136910) {
TY50525* Result_136911;
TY50551* Restype_136912;
TY50525* A_136913;
NIM_BOOL LOC11;
TY50525* LOC18;
TY50525* LOC19;
Result_136911 = 0;
Restype_136912 = 0;
A_136913 = 0;
Result_136911 = N_136910;
Checksonslen_102099(N_136910, 1);
if (!!(((27648 &(1<<(((*(*(*C_136909).P).Owner).Kind)&31)))!=0))) goto LA2;
Limessage_42566((*N_136910).Info, ((NU8) 160), ((NimStringDesc*) &TMP190171));
LA2: ;
if (!!(((*N_136910).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA5;
asgnRefNoCycle((void**) &(*N_136910).KindU.S6.Sons->data[0], Semexprwithtype_120122(C_136909, (*N_136910).KindU.S6.Sons->data[0], 0));
Restype_136912 = (*(*(*(*C_136909).P).Owner).Typ).Sons->data[0];
if (!!((Restype_136912 == NIM_NIL))) goto LA8;
A_136913 = Newnodei_50737(((NU8) 63), (*(*N_136910).KindU.S6.Sons->data[0]).Info);
asgnRefNoCycle((void**) &(*N_136910).KindU.S6.Sons->data[0], Fitnode_120129(C_136909, Restype_136912, (*N_136910).KindU.S6.Sons->data[0]));
LOC11 = ((*(*N_136910).KindU.S6.Sons->data[0]).Kind == ((NU8) 3));
if (!(LOC11)) goto LA12;
LOC11 = (((*(*(*N_136910).KindU.S6.Sons->data[0]).KindU.S4.Sym).Flags &(1<<((((NU8) 12))&31)))!=0);
LA12: ;
if (!LOC11) goto LA13;
asgnRefNoCycle((void**) &(*N_136910).KindU.S6.Sons->data[0], NIM_NIL);
goto LA10;
LA13: ;
if (!((*(*C_136909).P).Resultsym == NIM_NIL)) goto LA16;
Internalerror_42571((*N_136910).Info, ((NimStringDesc*) &TMP190172));
LA16: ;
LOC18 = 0;
LOC18 = Newsymnode_50734((*(*C_136909).P).Resultsym);
LOC19 = 0;
LOC19 = Semexprwithtype_120122(C_136909, LOC18, 0);
Addson_50823(A_136913, LOC19);
Addson_50823(A_136913, (*N_136910).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*N_136910).KindU.S6.Sons->data[0], A_136913);
LA10: ;
goto LA7;
LA8: ;
Limessage_42566((*N_136910).Info, ((NU8) 36), ((NimStringDesc*) &TMP189930));
LA7: ;
LA5: ;
return Result_136911;
}
N_NIMCALL(TY50525*, Semasm_136256)(TY102012* Con_136258, TY50525* N_136259) {
TY50525* Result_136260;
NIM_CHAR Marker_136273;
Result_136260 = 0;
Checksonslen_102099(N_136259, 2);
Marker_136273 = 0;
Marker_136273 = Pragmaasm_117034(Con_136258, (*N_136259).KindU.S6.Sons->data[0]);
if (!((NU8)(Marker_136273) == (NU8)(0))) goto LA2;
Marker_136273 = 96;
LA2: ;
Result_136260 = Semasmoremit_118593(Con_136258, N_136259, Marker_136273);
return Result_136260;
}
N_NIMCALL(TY50525*, Semyield_137123)(TY102012* C_137125, TY50525* N_137126) {
TY50525* Result_137127;
NIM_BOOL LOC2;
TY50551* Restype_137195;
Result_137127 = 0;
Result_137127 = N_137126;
Checksonslen_102099(N_137126, 1);
LOC2 = ((*(*C_137125).P).Owner == NIM_NIL);
if (LOC2) goto LA3;
LOC2 = !(((*(*(*C_137125).P).Owner).Kind == ((NU8) 12)));
LA3: ;
if (!LOC2) goto LA4;
Limessage_42566((*N_137126).Info, ((NU8) 34), ((NimStringDesc*) &TMP189930));
LA4: ;
if (!!(((*N_137126).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA7;
asgnRefNoCycle((void**) &(*N_137126).KindU.S6.Sons->data[0], Semexprwithtype_120122(C_137125, (*N_137126).KindU.S6.Sons->data[0], 0));
Restype_137195 = 0;
Restype_137195 = (*(*(*(*C_137125).P).Owner).Typ).Sons->data[0];
if (!!((Restype_137195 == NIM_NIL))) goto LA10;
asgnRefNoCycle((void**) &(*N_137126).KindU.S6.Sons->data[0], Fitnode_120129(C_137125, Restype_137195, (*N_137126).KindU.S6.Sons->data[0]));
if (!((*(*N_137126).KindU.S6.Sons->data[0]).Typ == NIM_NIL)) goto LA13;
Internalerror_42571((*N_137126).Info, ((NimStringDesc*) &TMP190173));
LA13: ;
goto LA9;
LA10: ;
Limessage_42566((*N_137126).Info, ((NU8) 36), ((NimStringDesc*) &TMP189930));
LA9: ;
LA7: ;
return Result_137127;
}
N_NIMCALL(void, Addgenericparamlisttoscope_138639)(TY102012* C_138641, TY50525* N_138642) {
NI I_138659;
NI HEX3Atmp_141118;
NI LOC4;
NI Res_141120;
TY50525* A_138672;
if (!!(((*N_138642).Kind == ((NU8) 65)))) goto LA2;
Internalerror_42571((*N_138642).Info, ((NimStringDesc*) &TMP190177));
LA2: ;
I_138659 = 0;
HEX3Atmp_141118 = 0;
LOC4 = Sonslen_50803(N_138642);
HEX3Atmp_141118 = (NI32)(LOC4 - 1);
Res_141120 = 0;
Res_141120 = 0;
while (1) {
if (!(Res_141120 <= HEX3Atmp_141118)) goto LA5;
I_138659 = Res_141120;
A_138672 = 0;
A_138672 = (*N_138642).KindU.S6.Sons->data[I_138659];
if (!!(((*A_138672).Kind == ((NU8) 3)))) goto LA7;
Internalerror_42571((*A_138672).Info, ((NimStringDesc*) &TMP190177));
LA7: ;
Adddecl_103026(C_138641, (*A_138672).KindU.S4.Sym);
Res_141120 += 1;
} LA5: ;
}
N_NIMCALL(TY50525*, Evaltemplateargs_120424)(TY102012* C_120426, TY50525* N_120427, TY50547* S_120428) {
TY50525* Result_120429;
NI F_120430;
NI A_120431;
TY50525* Arg_120432;
NI I_120442;
NI HEX3Atmp_121064;
NI Res_121066;
TY50525* LOC14;
Result_120429 = 0;
F_120430 = 0;
A_120431 = 0;
Arg_120432 = 0;
F_120430 = Sonslen_50806((*S_120428).Typ);
switch ((*N_120427).Kind) {
case ((NU8) 21):
case ((NU8) 27):
case ((NU8) 28):
case ((NU8) 29):
case ((NU8) 20):
case ((NU8) 22):
A_120431 = Sonslen_50803(N_120427);
break;
default:
A_120431 = 0;
break;
}
if (!(F_120430 < A_120431)) goto LA2;
Limessage_42566((*N_120427).Info, ((NU8) 130), ((NimStringDesc*) &TMP189930));
LA2: ;
Result_120429 = Copynode_50855(N_120427);
I_120442 = 0;
HEX3Atmp_121064 = 0;
HEX3Atmp_121064 = (NI32)(F_120430 - 1);
Res_121066 = 0;
Res_121066 = 1;
while (1) {
if (!(Res_121066 <= HEX3Atmp_121064)) goto LA4;
I_120442 = Res_121066;
if (!(I_120442 < A_120431)) goto LA6;
Arg_120432 = (*N_120427).KindU.S6.Sons->data[I_120442];
goto LA5;
LA6: ;
Arg_120432 = Copytree_50858((*(*(*(*(*S_120428).Typ).N).KindU.S6.Sons->data[I_120442]).KindU.S4.Sym).Ast);
LA5: ;
if (!(Arg_120432 == NIM_NIL)) goto LA9;
Limessage_42566((*N_120427).Info, ((NU8) 130), ((NimStringDesc*) &TMP189930));
LA9: ;
if (!!(((*(*(*S_120428).Typ).Sons->data[I_120442]).Kind == ((NU8) 8) || (*(*(*S_120428).Typ).Sons->data[I_120442]).Kind == ((NU8) 7) || (*(*(*S_120428).Typ).Sons->data[I_120442]).Kind == ((NU8) 6)))) goto LA12;
LOC14 = 0;
LOC14 = Semexprwithtype_120122(C_120426, Arg_120432, 0);
Arg_120432 = Fitnode_120129(C_120426, (*(*S_120428).Typ).Sons->data[I_120442], LOC14);
LA12: ;
Addson_50823(Result_120429, Arg_120432);
Res_121066 += 1;
} LA4: ;
return Result_120429;
}
N_NIMCALL(TY50525*, Evaltemplateaux_120337)(TY102012* C_120339, TY50525* Templ_120340, TY50525* Actual_120341, TY50547* Sym_120342) {
TY50525* Result_120343;
TY50547* P_120344;
NIM_BOOL LOC5;
NI LOC9;
NI I_120398;
NI HEX3Atmp_121061;
NI LOC10;
NI Res_121063;
Result_120343 = 0;
P_120344 = 0;
if (!(Templ_120340 == NIM_NIL)) goto LA2;
Result_120343 = NIM_NIL;
goto BeforeRet;
LA2: ;
switch ((*Templ_120340).Kind) {
case ((NU8) 3):
P_120344 = (*Templ_120340).KindU.S4.Sym;
LOC5 = ((*P_120344).Kind == ((NU8) 3));
if (!(LOC5)) goto LA6;
LOC5 = ((*(*P_120344).Owner).Sup.Id == (*Sym_120342).Sup.Id);
LA6: ;
if (!LOC5) goto LA7;
Result_120343 = Copytree_50858((*Actual_120341).KindU.S6.Sons->data[(*P_120344).Position]);
goto LA4;
LA7: ;
Result_120343 = Copynode_50855(Templ_120340);
LA4: ;
break;
case ((NU8) 0) ... ((NU8) 2):
case ((NU8) 4) ... ((NU8) 18):
Result_120343 = Copynode_50855(Templ_120340);
break;
default:
Result_120343 = Copynode_50855(Templ_120340);
LOC9 = Sonslen_50803(Templ_120340);
Newsons_50815(Result_120343, LOC9);
I_120398 = 0;
HEX3Atmp_121061 = 0;
LOC10 = Sonslen_50803(Templ_120340);
HEX3Atmp_121061 = (NI32)(LOC10 - 1);
Res_121063 = 0;
Res_121063 = 0;
while (1) {
if (!(Res_121063 <= HEX3Atmp_121061)) goto LA11;
I_120398 = Res_121063;
asgnRefNoCycle((void**) &(*Result_120343).KindU.S6.Sons->data[I_120398], Evaltemplateaux_120337(C_120339, (*Templ_120340).KindU.S6.Sons->data[I_120398], Actual_120341, Sym_120342));
Res_121063 += 1;
} LA11: ;
break;
}
BeforeRet: ;
return Result_120343;
}
N_NIMCALL(TY50525*, Evaltemplate_120504)(TY102012* C_120506, TY50525* N_120507, TY50547* Sym_120508) {
TY50525* Result_120509;
TY50525* Args_120510;
Result_120509 = 0;
Args_120510 = 0;
Evaltemplatecounter_120423 += 1;
if (!(100 < Evaltemplatecounter_120423)) goto LA2;
Limessage_42566((*N_120507).Info, ((NU8) 180), ((NimStringDesc*) &TMP189930));
LA2: ;
Args_120510 = Evaltemplateargs_120424(C_120506, N_120507, Sym_120508);
Result_120509 = Evaltemplateaux_120337(C_120506, (*(*Sym_120508).Ast).KindU.S6.Sons->data[4], Args_120510, Sym_120508);
Evaltemplatecounter_120423 -= 1;
return Result_120509;
}
N_NIMCALL(TY50525*, Semtemplateexpr_127901)(TY102012* C_127903, TY50525* N_127904, TY50547* S_127905, NIM_BOOL Semcheck_127906) {
TY50525* Result_127907;
Result_127907 = 0;
Markused_120065(N_127904, S_127905);
Pushinfocontext_42610((*N_127904).Info);
Result_127907 = Evaltemplate_120504(C_127903, N_127904, S_127905);
if (!Semcheck_127906) goto LA2;
Result_127907 = Semaftermacrocall_120246(C_127903, Result_127907, S_127905);
LA2: ;
Popinfocontext_42613();
return Result_127907;
}
N_NIMCALL(TY50525*, Semgenericstmtsymbol_134119)(TY102012* C_134121, TY50525* N_134122, TY50547* S_134123) {
TY50525* Result_134124;
NIM_BOOL LOC2;
Result_134124 = 0;
switch ((*S_134123).Kind) {
case ((NU8) 0):
Result_134124 = N_134122;
break;
case ((NU8) 10):
case ((NU8) 11):
case ((NU8) 12):
case ((NU8) 13):
Result_134124 = Symchoice_120549(C_134121, N_134122, S_134123);
break;
case ((NU8) 15):
Result_134124 = Semtemplateexpr_127901(C_134121, N_134122, S_134123, NIM_FALSE);
break;
case ((NU8) 14):
Result_134124 = Semmacroexpr_121073(C_134121, N_134122, S_134123, NIM_FALSE);
break;
case ((NU8) 4):
Result_134124 = Newsymnode_50734(S_134123);
break;
case ((NU8) 3):
Result_134124 = N_134122;
break;
case ((NU8) 7):
LOC2 = !(((*S_134123).Typ == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC2 = !(((*(*S_134123).Typ).Kind == ((NU8) 12)));
LA3: ;
if (!LOC2) goto LA4;
Result_134124 = Newsymnode_50734(S_134123);
goto LA1;
LA4: ;
Result_134124 = N_134122;
LA1: ;
break;
default:
Result_134124 = Newsymnode_50734(S_134123);
break;
}
return Result_134124;
}
N_NIMCALL(NIM_BOOL, Iscallexpr_133483)(TY50525* N_133485) {
NIM_BOOL Result_133486;
Result_133486 = 0;
Result_133486 = ((*N_133485).Kind == ((NU8) 21) || (*N_133485).Kind == ((NU8) 27) || (*N_133485).Kind == ((NU8) 28) || (*N_133485).Kind == ((NU8) 29) || (*N_133485).Kind == ((NU8) 20) || (*N_133485).Kind == ((NU8) 22));
return Result_133486;
}
N_NIMCALL(TY50525*, Semmacrostmt_133499)(TY102012* C_133501, TY50525* N_133502, NIM_BOOL Semcheck_133503) {
TY50525* Result_133504;
TY50525* A_133505;
NIM_BOOL LOC2;
TY50547* S_133554;
NIM_BOOL LOC9;
NI I_133597;
NI HEX3Atmp_141016;
NI LOC12;
NI Res_141018;
NI I_133629;
NI HEX3Atmp_141019;
NI LOC14;
NI Res_141021;
NimStringDesc* LOC16;
Result_133504 = 0;
Checkminsonslen_102103(N_133502, 2);
A_133505 = 0;
LOC2 = Iscallexpr_133483((*N_133502).KindU.S6.Sons->data[0]);
if (!LOC2) goto LA3;
A_133505 = (*(*N_133502).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[0];
goto LA1;
LA3: ;
A_133505 = (*N_133502).KindU.S6.Sons->data[0];
LA1: ;
S_133554 = 0;
S_133554 = Qualifiedlookup_103053(C_133501, A_133505, NIM_FALSE);
if (!!((S_133554 == NIM_NIL))) goto LA6;
switch ((*S_133554).Kind) {
case ((NU8) 14):
Result_133504 = Semmacroexpr_121073(C_133501, N_133502, S_133554, Semcheck_133503);
break;
case ((NU8) 15):
Result_133504 = Newnodei_50737(((NU8) 21), (*N_133502).Info);
Addson_50823(Result_133504, A_133505);
LOC9 = Iscallexpr_133483((*N_133502).KindU.S6.Sons->data[0]);
if (!LOC9) goto LA10;
I_133597 = 0;
HEX3Atmp_141016 = 0;
LOC12 = Sonslen_50803((*N_133502).KindU.S6.Sons->data[0]);
HEX3Atmp_141016 = (NI32)(LOC12 - 1);
Res_141018 = 0;
Res_141018 = 1;
while (1) {
if (!(Res_141018 <= HEX3Atmp_141016)) goto LA13;
I_133597 = Res_141018;
Addson_50823(Result_133504, (*(*N_133502).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[I_133597]);
Res_141018 += 1;
} LA13: ;
LA10: ;
I_133629 = 0;
HEX3Atmp_141019 = 0;
LOC14 = Sonslen_50803(N_133502);
HEX3Atmp_141019 = (NI32)(LOC14 - 1);
Res_141021 = 0;
Res_141021 = 1;
while (1) {
if (!(Res_141021 <= HEX3Atmp_141019)) goto LA15;
I_133629 = Res_141021;
Addson_50823(Result_133504, (*N_133502).KindU.S6.Sons->data[I_133629]);
Res_141021 += 1;
} LA15: ;
Result_133504 = Semtemplateexpr_127901(C_133501, Result_133504, S_133554, Semcheck_133503);
break;
default:
Limessage_42566((*N_133502).Info, ((NU8) 205), (*(*S_133554).Name).S);
break;
}
goto LA5;
LA6: ;
LOC16 = 0;
LOC16 = Rendertree_80042(A_133505, 4);
Limessage_42566((*N_133502).Info, ((NU8) 166), LOC16);
LA5: ;
return Result_133504;
}
N_NIMCALL(TY50525*, Getidentnode_134145)(TY50525* N_134147) {
TY50525* Result_134148;
Result_134148 = 0;
switch ((*N_134147).Kind) {
case ((NU8) 29):
Result_134148 = Getidentnode_134145((*N_134147).KindU.S6.Sons->data[1]);
break;
case ((NU8) 34):
case ((NU8) 43):
Result_134148 = Getidentnode_134145((*N_134147).KindU.S6.Sons->data[0]);
break;
case ((NU8) 2):
Result_134148 = N_134147;
break;
default:
Illformedast_102092(N_134147);
Result_134148 = NIM_NIL;
break;
}
return Result_134148;
}
N_NIMCALL(TY50525*, Semgenericstmt_134102)(TY102012* C_134104, TY50525* N_134105, NU8 Flags_134108) {
TY50525* Result_134180;
NI L_134181;
TY50525* A_134182;
TY50547* S_134183;
NIM_BOOL LOC14;
NI I_134340;
NI HEX3Atmp_141022;
NI LOC18;
NI Res_141024;
NI I_134372;
NI HEX3Atmp_141025;
NI LOC20;
NI Res_141027;
NI I_134405;
NI HEX3Atmp_141028;
NI LOC22;
NI Res_141030;
NI I_134463;
NI HEX3Atmp_141034;
NI LOC24;
NI Res_141036;
NI J_134483;
NI HEX3Atmp_141031;
NI Res_141033;
NI I_134565;
NI HEX3Atmp_141037;
NI Res_141039;
TY50547* LOC28;
TY50547* LOC32;
NI I_134695;
NI HEX3Atmp_141043;
NI LOC33;
NI Res_141045;
NI J_134715;
NI HEX3Atmp_141040;
NI Res_141042;
NI I_134772;
NI HEX3Atmp_141050;
NI LOC36;
NI Res_141052;
NIM_BOOL LOC43;
NI J_134868;
NI HEX3Atmp_141047;
NI Res_141049;
TY50525* LOC48;
TY50547* LOC49;
NI I_134888;
NI HEX3Atmp_141056;
NI LOC50;
NI Res_141058;
NI J_134942;
NI HEX3Atmp_141053;
NI Res_141055;
TY50525* LOC56;
TY50547* LOC57;
NI I_134962;
NI HEX3Atmp_141060;
NI LOC58;
NI Res_141062;
TY50525* LOC67;
TY50547* LOC68;
NI I_135061;
NI HEX3Atmp_141064;
NI LOC69;
NI Res_141066;
TY50525* LOC78;
TY50547* LOC79;
NI I_135111;
NI HEX3Atmp_141068;
NI LOC80;
NI Res_141070;
NI I_135296;
NI HEX3Atmp_141071;
NI LOC95;
NI Res_141073;
TY50525* LOC97;
TY50547* LOC98;
NI I_135412;
NI HEX3Atmp_141077;
NI LOC102;
NI Res_141079;
NI J_135490;
NI HEX3Atmp_141074;
NI Res_141076;
TY50525* LOC108;
TY50547* LOC109;
TY50525* LOC110;
TY50547* LOC111;
TY49011* LOC118;
TY50547* LOC119;
NI I_135678;
NI HEX3Atmp_141080;
NI LOC120;
NI Res_141082;
Result_134180 = 0;
L_134181 = 0;
A_134182 = 0;
S_134183 = 0;
Result_134180 = N_134105;
if (!(N_134105 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*N_134105).Kind) {
case ((NU8) 2):
case ((NU8) 43):
S_134183 = Lookup_103049(C_134104, N_134105);
if (!((Flags_134108 &(1<<((((NU8) 0))&7)))!=0)) goto LA5;
Result_134180 = Symchoice_120549(C_134104, N_134105, S_134183);
goto LA4;
LA5: ;
Result_134180 = Semgenericstmtsymbol_134119(C_134104, N_134105, S_134183);
LA4: ;
break;
case ((NU8) 36):
S_134183 = Qualifiedlookup_103053(C_134104, N_134105, NIM_TRUE);
if (!!((S_134183 == NIM_NIL))) goto LA8;
Result_134180 = Semgenericstmtsymbol_134119(C_134104, N_134105, S_134183);
LA8: ;
break;
case ((NU8) 3) ... ((NU8) 18):
break;
case ((NU8) 45):
Result_134180 = Semgenericstmt_134102(C_134104, (*N_134105).KindU.S6.Sons->data[0], 1);
break;
case ((NU8) 21):
case ((NU8) 49):
case ((NU8) 27):
case ((NU8) 28):
case ((NU8) 20):
case ((NU8) 22):
Checkminsonslen_102103(N_134105, 1);
S_134183 = Qualifiedlookup_103053(C_134104, (*N_134105).KindU.S6.Sons->data[0], NIM_FALSE);
if (!!((S_134183 == NIM_NIL))) goto LA11;
switch ((*S_134183).Kind) {
case ((NU8) 14):
Result_134180 = Semmacroexpr_121073(C_134104, N_134105, S_134183, NIM_FALSE);
goto BeforeRet;
break;
case ((NU8) 15):
Result_134180 = Semtemplateexpr_127901(C_134104, N_134105, S_134183, NIM_FALSE);
goto BeforeRet;
break;
case ((NU8) 0):
case ((NU8) 3):
break;
case ((NU8) 10):
case ((NU8) 11):
case ((NU8) 12):
case ((NU8) 13):
asgnRefNoCycle((void**) &(*N_134105).KindU.S6.Sons->data[0], Symchoice_120549(C_134104, (*N_134105).KindU.S6.Sons->data[0], S_134183));
break;
case ((NU8) 4):
asgnRefNoCycle((void**) &(*N_134105).KindU.S6.Sons->data[0], Newsymnode_50734(S_134183));
break;
case ((NU8) 7):
LOC14 = !(((*S_134183).Typ == NIM_NIL));
if (!(LOC14)) goto LA15;
LOC14 = !(((*(*S_134183).Typ).Kind == ((NU8) 12)));
LA15: ;
if (!LOC14) goto LA16;
asgnRefNoCycle((void**) &(*N_134105).KindU.S6.Sons->data[0], Newsymnode_50734(S_134183));
LA16: ;
break;
default:
asgnRefNoCycle((void**) &(*N_134105).KindU.S6.Sons->data[0], Newsymnode_50734(S_134183));
break;
}
LA11: ;
I_134340 = 0;
HEX3Atmp_141022 = 0;
LOC18 = Sonslen_50803(N_134105);
HEX3Atmp_141022 = (NI32)(LOC18 - 1);
Res_141024 = 0;
Res_141024 = 1;
while (1) {
if (!(Res_141024 <= HEX3Atmp_141022)) goto LA19;
I_134340 = Res_141024;
asgnRefNoCycle((void**) &(*N_134105).KindU.S6.Sons->data[I_134340], Semgenericstmt_134102(C_134104, (*N_134105).KindU.S6.Sons->data[I_134340], Flags_134108));
Res_141024 += 1;
} LA19: ;
break;
case ((NU8) 79):
Result_134180 = Semmacrostmt_133499(C_134104, N_134105, NIM_FALSE);
break;
case ((NU8) 82):
I_134372 = 0;
HEX3Atmp_141025 = 0;
LOC20 = Sonslen_50803(N_134105);
HEX3Atmp_141025 = (NI32)(LOC20 - 1);
Res_141027 = 0;
Res_141027 = 0;
while (1) {
if (!(Res_141027 <= HEX3Atmp_141025)) goto LA21;
I_134372 = Res_141027;
asgnRefNoCycle((void**) &(*N_134105).KindU.S6.Sons->data[I_134372], Semgenericstmtscope_134109(C_134104, (*N_134105).KindU.S6.Sons->data[I_134372], 0));
Res_141027 += 1;
} LA21: ;
break;
case ((NU8) 85):
Openscope_55146(&(*C_134104).Tab);
I_134405 = 0;
HEX3Atmp_141028 = 0;
LOC22 = Sonslen_50803(N_134105);
HEX3Atmp_141028 = (NI32)(LOC22 - 1);
Res_141030 = 0;
Res_141030 = 0;
while (1) {
if (!(Res_141030 <= HEX3Atmp_141028)) goto LA23;
I_134405 = Res_141030;
asgnRefNoCycle((void**) &(*N_134105).KindU.S6.Sons->data[I_134405], Semgenericstmt_134102(C_134104, (*N_134105).KindU.S6.Sons->data[I_134405], 0));
Res_141030 += 1;
} LA23: ;
Closescope_103017(&(*C_134104).Tab);
break;
case ((NU8) 86):
Openscope_55146(&(*C_134104).Tab);
asgnRefNoCycle((void**) &(*N_134105).KindU.S6.Sons->data[0], Semgenericstmt_134102(C_134104, (*N_134105).KindU.S6.Sons->data[0], 0));
I_134463 = 0;
HEX3Atmp_141034 = 0;
LOC24 = Sonslen_50803(N_134105);
HEX3Atmp_141034 = (NI32)(LOC24 - 1);
Res_141036 = 0;
Res_141036 = 1;
while (1) {
if (!(Res_141036 <= HEX3Atmp_141034)) goto LA25;
I_134463 = Res_141036;
A_134182 = (*N_134105).KindU.S6.Sons->data[I_134463];
Checkminsonslen_102103(A_134182, 1);
L_134181 = Sonslen_50803(A_134182);
J_134483 = 0;
HEX3Atmp_141031 = 0;
HEX3Atmp_141031 = (NI32)(L_134181 - 2);
Res_141033 = 0;
Res_141033 = 0;
while (1) {
if (!(Res_141033 <= HEX3Atmp_141031)) goto LA26;
J_134483 = Res_141033;
asgnRefNoCycle((void**) &(*A_134182).KindU.S6.Sons->data[J_134483], Semgenericstmt_134102(C_134104, (*A_134182).KindU.S6.Sons->data[J_134483], 0));
Res_141033 += 1;
} LA26: ;
asgnRefNoCycle((void**) &(*A_134182).KindU.S6.Sons->data[(NI32)(L_134181 - 1)], Semgenericstmtscope_134109(C_134104, (*A_134182).KindU.S6.Sons->data[(NI32)(L_134181 - 1)], 0));
Res_141036 += 1;
} LA25: ;
Closescope_103017(&(*C_134104).Tab);
break;
case ((NU8) 84):
L_134181 = Sonslen_50803(N_134105);
Openscope_55146(&(*C_134104).Tab);
asgnRefNoCycle((void**) &(*N_134105).KindU.S6.Sons->data[(NI32)(L_134181 - 2)], Semgenericstmt_134102(C_134104, (*N_134105).KindU.S6.Sons->data[(NI32)(L_134181 - 2)], 0));
I_134565 = 0;
HEX3Atmp_141037 = 0;
HEX3Atmp_141037 = (NI32)(L_134181 - 3);
Res_141039 = 0;
Res_141039 = 0;
while (1) {
if (!(Res_141039 <= HEX3Atmp_141037)) goto LA27;
I_134565 = Res_141039;
LOC28 = 0;
LOC28 = Newsyms_120059(((NU8) 0), (*N_134105).KindU.S6.Sons->data[I_134565], C_134104);
Adddecl_103026(C_134104, LOC28);
Res_141039 += 1;
} LA27: ;
asgnRefNoCycle((void**) &(*N_134105).KindU.S6.Sons->data[(NI32)(L_134181 - 1)], Semgenericstmt_134102(C_134104, (*N_134105).KindU.S6.Sons->data[(NI32)(L_134181 - 1)], 0));
Closescope_103017(&(*C_134104).Tab);
break;
case ((NU8) 99):
case ((NU8) 107):
case ((NU8) 109):
Checksonslen_102099(N_134105, 2);
Openscope_55146(&(*C_134104).Tab);
if (!!(((*N_134105).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA30;
LOC32 = 0;
LOC32 = Newsyms_120059(((NU8) 0), (*N_134105).KindU.S6.Sons->data[0], C_134104);
Adddecl_103026(C_134104, LOC32);
LA30: ;
asgnRefNoCycle((void**) &(*N_134105).KindU.S6.Sons->data[1], Semgenericstmt_134102(C_134104, (*N_134105).KindU.S6.Sons->data[1], 0));
Closescope_103017(&(*C_134104).Tab);
break;
case ((NU8) 93):
Checkminsonslen_102103(N_134105, 2);
asgnRefNoCycle((void**) &(*N_134105).KindU.S6.Sons->data[0], Semgenericstmtscope_134109(C_134104, (*N_134105).KindU.S6.Sons->data[0], 0));
I_134695 = 0;
HEX3Atmp_141043 = 0;
LOC33 = Sonslen_50803(N_134105);
HEX3Atmp_141043 = (NI32)(LOC33 - 1);
Res_141045 = 0;
Res_141045 = 1;
while (1) {
if (!(Res_141045 <= HEX3Atmp_141043)) goto LA34;
I_134695 = Res_141045;
A_134182 = (*N_134105).KindU.S6.Sons->data[I_134695];
Checkminsonslen_102103(A_134182, 1);
L_134181 = Sonslen_50803(A_134182);
J_134715 = 0;
HEX3Atmp_141040 = 0;
HEX3Atmp_141040 = (NI32)(L_134181 - 2);
Res_141042 = 0;
Res_141042 = 0;
while (1) {
if (!(Res_141042 <= HEX3Atmp_141040)) goto LA35;
J_134715 = Res_141042;
asgnRefNoCycle((void**) &(*A_134182).KindU.S6.Sons->data[J_134715], Semgenericstmt_134102(C_134104, (*A_134182).KindU.S6.Sons->data[J_134715], 2));
Res_141042 += 1;
} LA35: ;
asgnRefNoCycle((void**) &(*A_134182).KindU.S6.Sons->data[(NI32)(L_134181 - 1)], Semgenericstmtscope_134109(C_134104, (*A_134182).KindU.S6.Sons->data[(NI32)(L_134181 - 1)], 0));
Res_141045 += 1;
} LA34: ;
break;
case ((NU8) 87):
I_134772 = 0;
HEX3Atmp_141050 = 0;
LOC36 = Sonslen_50803(N_134105);
HEX3Atmp_141050 = (NI32)(LOC36 - 1);
Res_141052 = 0;
Res_141052 = 0;
while (1) {
if (!(Res_141052 <= HEX3Atmp_141050)) goto LA37;
I_134772 = Res_141052;
A_134182 = (*N_134105).KindU.S6.Sons->data[I_134772];
if (!((*A_134182).Kind == ((NU8) 105))) goto LA40;
goto LA38;
LA40: ;
LOC43 = !(((*A_134182).Kind == ((NU8) 25)));
if (!(LOC43)) goto LA44;
LOC43 = !(((*A_134182).Kind == ((NU8) 26)));
LA44: ;
if (!LOC43) goto LA45;
Illformedast_102092(A_134182);
LA45: ;
Checkminsonslen_102103(A_134182, 3);
L_134181 = Sonslen_50803(A_134182);
asgnRefNoCycle((void**) &(*A_134182).KindU.S6.Sons->data[(NI32)(L_134181 - 2)], Semgenericstmt_134102(C_134104, (*A_134182).KindU.S6.Sons->data[(NI32)(L_134181 - 2)], 2));
asgnRefNoCycle((void**) &(*A_134182).KindU.S6.Sons->data[(NI32)(L_134181 - 1)], Semgenericstmt_134102(C_134104, (*A_134182).KindU.S6.Sons->data[(NI32)(L_134181 - 1)], 0));
J_134868 = 0;
HEX3Atmp_141047 = 0;
HEX3Atmp_141047 = (NI32)(L_134181 - 3);
Res_141049 = 0;
Res_141049 = 0;
while (1) {
if (!(Res_141049 <= HEX3Atmp_141047)) goto LA47;
J_134868 = Res_141049;
LOC48 = 0;
LOC48 = Getidentnode_134145((*A_134182).KindU.S6.Sons->data[J_134868]);
LOC49 = 0;
LOC49 = Newsyms_120059(((NU8) 0), LOC48, C_134104);
Adddecl_103026(C_134104, LOC49);
Res_141049 += 1;
} LA47: ;
LA38: ;
Res_141052 += 1;
} LA37: ;
break;
case ((NU8) 65):
I_134888 = 0;
HEX3Atmp_141056 = 0;
LOC50 = Sonslen_50803(N_134105);
HEX3Atmp_141056 = (NI32)(LOC50 - 1);
Res_141058 = 0;
Res_141058 = 0;
while (1) {
if (!(Res_141058 <= HEX3Atmp_141056)) goto LA51;
I_134888 = Res_141058;
A_134182 = (*N_134105).KindU.S6.Sons->data[I_134888];
if (!!(((*A_134182).Kind == ((NU8) 25)))) goto LA53;
Illformedast_102092(A_134182);
LA53: ;
Checkminsonslen_102103(A_134182, 3);
L_134181 = Sonslen_50803(A_134182);
asgnRefNoCycle((void**) &(*A_134182).KindU.S6.Sons->data[(NI32)(L_134181 - 2)], Semgenericstmt_134102(C_134104, (*A_134182).KindU.S6.Sons->data[(NI32)(L_134181 - 2)], 2));
J_134942 = 0;
HEX3Atmp_141053 = 0;
HEX3Atmp_141053 = (NI32)(L_134181 - 3);
Res_141055 = 0;
Res_141055 = 0;
while (1) {
if (!(Res_141055 <= HEX3Atmp_141053)) goto LA55;
J_134942 = Res_141055;
LOC56 = 0;
LOC56 = Getidentnode_134145((*A_134182).KindU.S6.Sons->data[J_134942]);
LOC57 = 0;
LOC57 = Newsyms_120059(((NU8) 0), LOC56, C_134104);
Adddecl_103026(C_134104, LOC57);
Res_141055 += 1;
} LA55: ;
Res_141058 += 1;
} LA51: ;
break;
case ((NU8) 88):
I_134962 = 0;
HEX3Atmp_141060 = 0;
LOC58 = Sonslen_50803(N_134105);
HEX3Atmp_141060 = (NI32)(LOC58 - 1);
Res_141062 = 0;
Res_141062 = 0;
while (1) {
if (!(Res_141062 <= HEX3Atmp_141060)) goto LA59;
I_134962 = Res_141062;
A_134182 = (*N_134105).KindU.S6.Sons->data[I_134962];
if (!((*A_134182).Kind == ((NU8) 105))) goto LA62;
goto LA60;
LA62: ;
if (!!(((*A_134182).Kind == ((NU8) 89)))) goto LA65;
Illformedast_102092(A_134182);
LA65: ;
Checksonslen_102099(A_134182, 3);
LOC67 = 0;
LOC67 = Getidentnode_134145((*A_134182).KindU.S6.Sons->data[0]);
LOC68 = 0;
LOC68 = Newsyms_120059(((NU8) 0), LOC67, C_134104);
Adddecl_103026(C_134104, LOC68);
asgnRefNoCycle((void**) &(*A_134182).KindU.S6.Sons->data[1], Semgenericstmt_134102(C_134104, (*A_134182).KindU.S6.Sons->data[1], 2));
asgnRefNoCycle((void**) &(*A_134182).KindU.S6.Sons->data[2], Semgenericstmt_134102(C_134104, (*A_134182).KindU.S6.Sons->data[2], 0));
LA60: ;
Res_141062 += 1;
} LA59: ;
break;
case ((NU8) 90):
I_135061 = 0;
HEX3Atmp_141064 = 0;
LOC69 = Sonslen_50803(N_134105);
HEX3Atmp_141064 = (NI32)(LOC69 - 1);
Res_141066 = 0;
Res_141066 = 0;
while (1) {
if (!(Res_141066 <= HEX3Atmp_141064)) goto LA70;
I_135061 = Res_141066;
A_134182 = (*N_134105).KindU.S6.Sons->data[I_135061];
if (!((*A_134182).Kind == ((NU8) 105))) goto LA73;
goto LA71;
LA73: ;
if (!!(((*A_134182).Kind == ((NU8) 91)))) goto LA76;
Illformedast_102092(A_134182);
LA76: ;
Checksonslen_102099(A_134182, 3);
LOC78 = 0;
LOC78 = Getidentnode_134145((*A_134182).KindU.S6.Sons->data[0]);
LOC79 = 0;
LOC79 = Newsyms_120059(((NU8) 0), LOC78, C_134104);
Adddecl_103026(C_134104, LOC79);
LA71: ;
Res_141066 += 1;
} LA70: ;
I_135111 = 0;
HEX3Atmp_141068 = 0;
LOC80 = Sonslen_50803(N_134105);
HEX3Atmp_141068 = (NI32)(LOC80 - 1);
Res_141070 = 0;
Res_141070 = 0;
while (1) {
if (!(Res_141070 <= HEX3Atmp_141068)) goto LA81;
I_135111 = Res_141070;
A_134182 = (*N_134105).KindU.S6.Sons->data[I_135111];
if (!((*A_134182).Kind == ((NU8) 105))) goto LA84;
goto LA82;
LA84: ;
if (!!(((*A_134182).Kind == ((NU8) 91)))) goto LA87;
Illformedast_102092(A_134182);
LA87: ;
Checksonslen_102099(A_134182, 3);
if (!!(((*A_134182).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA90;
Openscope_55146(&(*C_134104).Tab);
asgnRefNoCycle((void**) &(*A_134182).KindU.S6.Sons->data[1], Semgenericstmt_134102(C_134104, (*A_134182).KindU.S6.Sons->data[1], 0));
asgnRefNoCycle((void**) &(*A_134182).KindU.S6.Sons->data[2], Semgenericstmt_134102(C_134104, (*A_134182).KindU.S6.Sons->data[2], 2));
Closescope_103017(&(*C_134104).Tab);
goto LA89;
LA90: ;
asgnRefNoCycle((void**) &(*A_134182).KindU.S6.Sons->data[2], Semgenericstmt_134102(C_134104, (*A_134182).KindU.S6.Sons->data[2], 2));
LA89: ;
LA82: ;
Res_141070 += 1;
} LA81: ;
break;
case ((NU8) 121):
Checkminsonslen_102103(N_134105, 1);
if (!!(((*N_134105).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA93;
asgnRefNoCycle((void**) &(*N_134105).KindU.S6.Sons->data[0], Semgenericstmt_134102(C_134104, (*N_134105).KindU.S6.Sons->data[0], 2));
LA93: ;
I_135296 = 0;
HEX3Atmp_141071 = 0;
LOC95 = Sonslen_50803(N_134105);
HEX3Atmp_141071 = (NI32)(LOC95 - 1);
Res_141073 = 0;
Res_141073 = 1;
while (1) {
if (!(Res_141073 <= HEX3Atmp_141071)) goto LA96;
I_135296 = Res_141073;
switch ((*(*N_134105).KindU.S6.Sons->data[I_135296]).Kind) {
case ((NU8) 122):
A_134182 = (*(*N_134105).KindU.S6.Sons->data[I_135296]).KindU.S6.Sons->data[0];
break;
case ((NU8) 2):
A_134182 = (*N_134105).KindU.S6.Sons->data[I_135296];
break;
default:
Illformedast_102092(N_134105);
break;
}
LOC97 = 0;
LOC97 = Getidentnode_134145((*A_134182).KindU.S6.Sons->data[I_135296]);
LOC98 = 0;
LOC98 = Newsyms_120059(((NU8) 0), LOC97, C_134104);
Adddeclat_103030(C_134104, LOC98, ((NI) ((NI32)(((NI) ((*C_134104).Tab.Tos)) - 1))));
Res_141073 += 1;
} LA96: ;
break;
case ((NU8) 111):
case ((NU8) 112):
break;
case ((NU8) 66):
Checkminsonslen_102103(N_134105, 1);
if (!!(((*N_134105).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA100;
asgnRefNoCycle((void**) &(*N_134105).KindU.S6.Sons->data[0], Semgenericstmt_134102(C_134104, (*N_134105).KindU.S6.Sons->data[0], 2));
LA100: ;
I_135412 = 0;
HEX3Atmp_141077 = 0;
LOC102 = Sonslen_50803(N_134105);
HEX3Atmp_141077 = (NI32)(LOC102 - 1);
Res_141079 = 0;
Res_141079 = 1;
while (1) {
if (!(Res_141079 <= HEX3Atmp_141077)) goto LA103;
I_135412 = Res_141079;
A_134182 = (*N_134105).KindU.S6.Sons->data[I_135412];
if (!!(((*A_134182).Kind == ((NU8) 25)))) goto LA105;
Illformedast_102092(A_134182);
LA105: ;
Checkminsonslen_102103(A_134182, 3);
L_134181 = Sonslen_50803(A_134182);
asgnRefNoCycle((void**) &(*A_134182).KindU.S6.Sons->data[(NI32)(L_134181 - 1)], Semgenericstmt_134102(C_134104, (*A_134182).KindU.S6.Sons->data[(NI32)(L_134181 - 2)], 2));
asgnRefNoCycle((void**) &(*A_134182).KindU.S6.Sons->data[(NI32)(L_134181 - 1)], Semgenericstmt_134102(C_134104, (*A_134182).KindU.S6.Sons->data[(NI32)(L_134181 - 1)], 0));
J_135490 = 0;
HEX3Atmp_141074 = 0;
HEX3Atmp_141074 = (NI32)(L_134181 - 3);
Res_141076 = 0;
Res_141076 = 0;
while (1) {
if (!(Res_141076 <= HEX3Atmp_141074)) goto LA107;
J_135490 = Res_141076;
LOC108 = 0;
LOC108 = Getidentnode_134145((*A_134182).KindU.S6.Sons->data[J_135490]);
LOC109 = 0;
LOC109 = Newsyms_120059(((NU8) 0), LOC108, C_134104);
Adddecl_103026(C_134104, LOC109);
Res_141076 += 1;
} LA107: ;
Res_141079 += 1;
} LA103: ;
break;
case ((NU8) 69):
case ((NU8) 70):
case ((NU8) 71):
case ((NU8) 72):
case ((NU8) 73):
case ((NU8) 74):
case ((NU8) 42):
Checksonslen_102099(N_134105, 5);
LOC110 = 0;
LOC110 = Getidentnode_134145((*N_134105).KindU.S6.Sons->data[0]);
LOC111 = 0;
LOC111 = Newsyms_120059(((NU8) 0), LOC110, C_134104);
Adddecl_103026(C_134104, LOC111);
Openscope_55146(&(*C_134104).Tab);
asgnRefNoCycle((void**) &(*N_134105).KindU.S6.Sons->data[1], Semgenericstmt_134102(C_134104, (*N_134105).KindU.S6.Sons->data[1], 0));
if (!!(((*N_134105).KindU.S6.Sons->data[2] == NIM_NIL))) goto LA113;
if (!!(((*(*N_134105).KindU.S6.Sons->data[2]).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA116;
LOC118 = 0;
LOC118 = Getident_49016(((NimStringDesc*) &TMP190124));
LOC119 = 0;
LOC119 = Newsym_50701(((NU8) 0), LOC118, NIM_NIL);
Adddecl_103026(C_134104, LOC119);
LA116: ;
asgnRefNoCycle((void**) &(*N_134105).KindU.S6.Sons->data[2], Semgenericstmt_134102(C_134104, (*N_134105).KindU.S6.Sons->data[2], 0));
LA113: ;
asgnRefNoCycle((void**) &(*N_134105).KindU.S6.Sons->data[3], Semgenericstmt_134102(C_134104, (*N_134105).KindU.S6.Sons->data[3], 0));
asgnRefNoCycle((void**) &(*N_134105).KindU.S6.Sons->data[4], Semgenericstmtscope_134109(C_134104, (*N_134105).KindU.S6.Sons->data[4], 0));
Closescope_103017(&(*C_134104).Tab);
break;
default:
I_135678 = 0;
HEX3Atmp_141080 = 0;
LOC120 = Sonslen_50803(N_134105);
HEX3Atmp_141080 = (NI32)(LOC120 - 1);
Res_141082 = 0;
Res_141082 = 0;
while (1) {
if (!(Res_141082 <= HEX3Atmp_141080)) goto LA121;
I_135678 = Res_141082;
asgnRefNoCycle((void**) &(*Result_134180).KindU.S6.Sons->data[I_135678], Semgenericstmt_134102(C_134104, (*N_134105).KindU.S6.Sons->data[I_135678], Flags_134108));
Res_141082 += 1;
} LA121: ;
break;
}
BeforeRet: ;
return Result_134180;
}
N_NIMCALL(TY50525*, Semgenericstmtscope_134109)(TY102012* C_134111, TY50525* N_134112, NU8 Flags_134115) {
TY50525* Result_134116;
Result_134116 = 0;
Openscope_55146(&(*C_134111).Tab);
Result_134116 = Semgenericstmt_134102(C_134111, N_134112, Flags_134115);
Closescope_103017(&(*C_134111).Tab);
return Result_134116;
}
N_NIMCALL(void, Semborrow_139368)(TY102012* C_139370, TY50525* N_139371, TY50547* S_139372) {
TY50547* B_139373;
B_139373 = 0;
B_139373 = Searchforborrowproc_116009(C_139370, S_139372, (NI32)(((NI) ((*C_139370).Tab.Tos)) - 2));
if (!(B_139373 == NIM_NIL)) goto LA2;
Limessage_42566((*N_139371).Info, ((NU8) 136), ((NimStringDesc*) &TMP189930));
LA2: ;
asgnRefNoCycle((void**) &(*N_139371).KindU.S6.Sons->data[4], Newsymnode_50734(B_139373));
}
N_NIMCALL(void, Sideeffectscheck_139397)(TY102012* C_139399, TY50547* S_139400) {
if (!((24576 & (*S_139400).Flags) == 24576)) goto LA2;
Limessage_42566((*S_139400).Info, ((NU8) 206), (*(*S_139400).Name).S);
LA2: ;
}
N_NIMCALL(TY50525*, Semprocaux_139662)(TY102012* C_139664, TY50525* N_139665, NU8 Kind_139666, TY117007 Validpragmas_139667) {
TY50525* Result_139668;
TY50547* S_139669;
TY50547* Proto_139670;
TY50525* Gp_139671;
TY102006* Oldp_139732;
NI LOC14;
TY102002* LOC26;
NIM_BOOL LOC55;
NIM_BOOL LOC63;
NIM_BOOL LOC68;
TY49011* LOC72;
TY50547* LOC73;
Result_139668 = 0;
S_139669 = 0;
Proto_139670 = 0;
Gp_139671 = 0;
Result_139668 = N_139665;
Checksonslen_102099(N_139665, 5);
if (!((*(*(*C_139664).P).Owner).Kind == ((NU8) 6))) goto LA2;
S_139669 = Semidentvis_120092(C_139664, Kind_139666, (*N_139665).KindU.S6.Sons->data[0], 2);
(*S_139669).Flags |=(1<<((NI32)(((NU8) 5))%(sizeof(NI32)*8)));
goto LA1;
LA2: ;
S_139669 = Semidentvis_120092(C_139664, Kind_139666, (*N_139665).KindU.S6.Sons->data[0], 0);
LA1: ;
asgnRefNoCycle((void**) &(*N_139665).KindU.S6.Sons->data[0], Newsymnode_50734(S_139669));
Oldp_139732 = 0;
Oldp_139732 = (*C_139664).P;
if (!(((*S_139669).Flags &(1<<((((NU8) 1))&31)))!=0)) goto LA5;
(*S_139669).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
LA5: ;
asgnRefNoCycle((void**) &(*S_139669).Ast, N_139665);
Pushowner_102109(S_139669);
Openscope_55146(&(*C_139664).Tab);
if (!!(((*N_139665).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA8;
asgnRefNoCycle((void**) &(*N_139665).KindU.S6.Sons->data[1], Semgenericparamlist_138469(C_139664, (*N_139665).KindU.S6.Sons->data[1], NIM_NIL));
Gp_139671 = (*N_139665).KindU.S6.Sons->data[1];
goto LA7;
LA8: ;
Gp_139671 = Newnodei_50737(((NU8) 65), (*N_139665).Info);
LA7: ;
if (!!(((*N_139665).KindU.S6.Sons->data[2] == NIM_NIL))) goto LA11;
Semparamlist_120147(C_139664, (*N_139665).KindU.S6.Sons->data[2], Gp_139671, S_139669);
LOC14 = Sonslen_50803(Gp_139671);
if (!(0 < LOC14)) goto LA15;
if (!((*N_139665).KindU.S6.Sons->data[1] == NIM_NIL)) goto LA18;
asgnRefNoCycle((void**) &(*N_139665).KindU.S6.Sons->data[1], Gp_139671);
Semparamlist_120147(C_139664, (*N_139665).KindU.S6.Sons->data[2], NIM_NIL, S_139669);
LA18: ;
LA15: ;
Addparams_120153(C_139664, (*(*S_139669).Typ).N);
goto LA10;
LA11: ;
asgnRef((void**) &(*S_139669).Typ, Newtypes_102077(((NU8) 25), C_139664));
Addson_50827((*S_139669).Typ, NIM_NIL);
LA10: ;
Proto_139670 = Searchforproc_116004(C_139664, S_139669, (NI32)(((NI) ((*C_139664).Tab.Tos)) - 2));
if (!(Proto_139670 == NIM_NIL)) goto LA21;
if (!!(((*(*Oldp_139732).Owner).Kind == ((NU8) 6)))) goto LA24;
(*(*S_139669).Typ).Callconv = ((NU8) 8);
goto LA23;
LA24: ;
LOC26 = 0;
LOC26 = Lastoptionentry_102053(C_139664);
(*(*S_139669).Typ).Callconv = (*LOC26).Defaultcc;
LA23: ;
if (!((15424 &(1<<((Kind_139666)&31)))!=0)) goto LA28;
Addinterfaceoverloadablesymat_103044(C_139664, S_139669, (NI32)(((NI) ((*C_139664).Tab.Tos)) - 2));
goto LA27;
LA28: ;
Addinterfacedeclat_103245(C_139664, S_139669, ((NI) ((NI32)(((NI) ((*C_139664).Tab.Tos)) - 2))));
LA27: ;
if (!!(((*N_139665).KindU.S6.Sons->data[3] == NIM_NIL))) goto LA31;
Pragma_117028(C_139664, S_139669, (*N_139665).KindU.S6.Sons->data[3], Validpragmas_139667);
LA31: ;
goto LA20;
LA21: ;
if (!!(((*N_139665).KindU.S6.Sons->data[3] == NIM_NIL))) goto LA34;
Limessage_42566((*(*N_139665).KindU.S6.Sons->data[3]).Info, ((NU8) 133), ((NimStringDesc*) &TMP189930));
LA34: ;
if (!!((((*Proto_139670).Flags &(1<<((((NU8) 6))&31)))!=0))) goto LA37;
Limessage_42566((*N_139665).Info, ((NU8) 94), (*(*Proto_139670).Name).S);
LA37: ;
(*Proto_139670).Flags &= ~(1 << ((NI32)(((NU8) 6)) % (sizeof(NI32)*8)));
Closescope_103017(&(*C_139664).Tab);
Openscope_55146(&(*C_139664).Tab);
if (!!(((*(*Proto_139670).Ast).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA40;
Addgenericparamlisttoscope_138639(C_139664, (*(*Proto_139670).Ast).KindU.S6.Sons->data[1]);
LA40: ;
Addparams_120153(C_139664, (*(*Proto_139670).Typ).N);
(*Proto_139670).Info = (*S_139669).Info;
asgnRef((void**) &(*S_139669).Typ, (*Proto_139670).Typ);
S_139669 = Proto_139670;
asgnRefNoCycle((void**) &(*N_139665).KindU.S6.Sons->data[1], (*(*Proto_139670).Ast).KindU.S6.Sons->data[1]);
asgnRefNoCycle((void**) &(*N_139665).KindU.S6.Sons->data[2], (*(*Proto_139670).Ast).KindU.S6.Sons->data[2]);
if (!!(((*(*N_139665).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA43;
Internalerror_42571((*N_139665).Info, ((NimStringDesc*) &TMP190178));
LA43: ;
asgnRef((void**) &(*(*N_139665).KindU.S6.Sons->data[0]).KindU.S4.Sym, Proto_139670);
asgnRefNoCycle((void**) &(*Proto_139670).Ast, N_139665);
Popowner_102112();
Pushowner_102109(S_139669);
LA20: ;
(*S_139669).Options = Goptions_41076;
if (!!(((*N_139665).KindU.S6.Sons->data[4] == NIM_NIL))) goto LA46;
if (!(((*S_139669).Flags &(1<<((((NU8) 29))&31)))!=0)) goto LA49;
Limessage_42566((*(*N_139665).KindU.S6.Sons->data[4]).Info, ((NU8) 134), (*(*S_139669).Name).S);
LA49: ;
if (!((*N_139665).KindU.S6.Sons->data[1] == NIM_NIL)) goto LA52;
asgnRefNoCycle((void**) &(*C_139664).P, Newproccon_102050(S_139669));
LOC55 = !(((*(*S_139669).Typ).Sons->data[0] == NIM_NIL));
if (!(LOC55)) goto LA56;
LOC55 = !((Kind_139666 == ((NU8) 12)));
LA56: ;
if (!LOC55) goto LA57;
Addresult_120157(C_139664, (*(*S_139669).Typ).Sons->data[0], (*N_139665).Info);
LA57: ;
if (!!((((*S_139669).Flags &(1<<((((NU8) 7))&31)))!=0))) goto LA60;
asgnRefNoCycle((void**) &(*N_139665).KindU.S6.Sons->data[4], Semstmtscope_120104(C_139664, (*N_139665).KindU.S6.Sons->data[4]));
LA60: ;
LOC63 = !(((*(*S_139669).Typ).Sons->data[0] == NIM_NIL));
if (!(LOC63)) goto LA64;
LOC63 = !((Kind_139666 == ((NU8) 12)));
LA64: ;
if (!LOC63) goto LA65;
Addresultnode_120162(C_139664, N_139665);
LA65: ;
goto LA51;
LA52: ;
LOC68 = !(((*(*S_139669).Typ).Sons->data[0] == NIM_NIL));
if (!(LOC68)) goto LA69;
LOC68 = !((Kind_139666 == ((NU8) 12)));
LA69: ;
if (!LOC68) goto LA70;
LOC72 = 0;
LOC72 = Getident_49016(((NimStringDesc*) &TMP190124));
LOC73 = 0;
LOC73 = Newsym_50701(((NU8) 0), LOC72, NIM_NIL);
Adddecl_103026(C_139664, LOC73);
LA70: ;
asgnRefNoCycle((void**) &(*N_139665).KindU.S6.Sons->data[4], Semgenericstmtscope_134109(C_139664, (*N_139665).KindU.S6.Sons->data[4], 0));
LA51: ;
if (!(((*S_139669).Flags &(1<<((((NU8) 7))&31)))!=0)) goto LA75;
asgnRefNoCycle((void**) &(*N_139665).KindU.S6.Sons->data[4], NIM_NIL);
LA75: ;
goto LA45;
LA46: ;
if (!!((Proto_139670 == NIM_NIL))) goto LA78;
Limessage_42566((*N_139665).Info, ((NU8) 135), (*(*Proto_139670).Name).S);
LA78: ;
if (!((536871040 & (*S_139669).Flags) == 0)) goto LA81;
(*S_139669).Flags |=(1<<((NI32)(((NU8) 6))%(sizeof(NI32)*8)));
goto LA80;
LA81: ;
if (!(((*S_139669).Flags &(1<<((((NU8) 29))&31)))!=0)) goto LA83;
Semborrow_139368(C_139664, N_139665, S_139669);
goto LA80;
LA83: ;
LA80: ;
LA45: ;
Sideeffectscheck_139397(C_139664, S_139669);
Closescope_103017(&(*C_139664).Tab);
Popowner_102112();
asgnRefNoCycle((void**) &(*C_139664).P, Oldp_139732);
return Result_139668;
}
N_NIMCALL(TY50525*, Semiterator_140424)(TY102012* C_140426, TY50525* N_140427) {
TY50525* Result_140428;
TY50547* S_140453;
TY50551* T_140454;
Result_140428 = 0;
Result_140428 = Semprocaux_139662(C_140426, N_140427, ((NU8) 12), TMP190179);
S_140453 = 0;
S_140453 = (*(*Result_140428).KindU.S6.Sons->data[0]).KindU.S4.Sym;
T_140454 = 0;
T_140454 = (*S_140453).Typ;
if (!((*T_140454).Sons->data[0] == NIM_NIL)) goto LA2;
Limessage_42566((*N_140427).Info, ((NU8) 176), ((NimStringDesc*) &TMP190180));
LA2: ;
if (!((*N_140427).KindU.S6.Sons->data[4] == NIM_NIL)) goto LA5;
Limessage_42566((*N_140427).Info, ((NU8) 135), (*(*S_140453).Name).S);
LA5: ;
return Result_140428;
}
N_NIMCALL(TY50525*, Semproc_140489)(TY102012* C_140491, TY50525* N_140492) {
TY50525* Result_140493;
Result_140493 = 0;
Result_140493 = Semprocaux_139662(C_140491, N_140492, ((NU8) 10), TMP190181);
return Result_140493;
}
N_NIMCALL(NIM_BOOL, Istoplevel_120053)(TY102012* C_120055) {
NIM_BOOL Result_120056;
Result_120056 = 0;
Result_120056 = (((NI) ((*C_120055).Tab.Tos)) <= 2);
return Result_120056;
}
N_NIMCALL(TY50525*, Semmethod_140494)(TY102012* C_140496, TY50525* N_140497) {
TY50525* Result_140498;
NIM_BOOL LOC2;
TY50547* S_140523;
TY50551* T_140524;
NIM_BOOL Hasobjparam_140525;
NI Col_140533;
NI HEX3Atmp_141136;
NI LOC5;
NI Res_141138;
TY50551* LOC8;
Result_140498 = 0;
LOC2 = Istoplevel_120053(C_140496);
if (!!(LOC2)) goto LA3;
Limessage_42566((*N_140497).Info, ((NU8) 178), ((NimStringDesc*) &TMP190182));
LA3: ;
Result_140498 = Semprocaux_139662(C_140496, N_140497, ((NU8) 11), TMP190181);
S_140523 = 0;
S_140523 = (*(*Result_140498).KindU.S6.Sons->data[0]).KindU.S4.Sym;
T_140524 = 0;
T_140524 = (*S_140523).Typ;
Hasobjparam_140525 = 0;
Hasobjparam_140525 = NIM_FALSE;
Col_140533 = 0;
HEX3Atmp_141136 = 0;
LOC5 = Sonslen_50806(T_140524);
HEX3Atmp_141136 = (NI32)(LOC5 - 1);
Res_141138 = 0;
Res_141138 = 1;
while (1) {
if (!(Res_141138 <= HEX3Atmp_141136)) goto LA6;
Col_140533 = Res_141138;
LOC8 = 0;
LOC8 = Skiptypes_92087((*T_140524).Sons->data[Col_140533], 14682112);
if (!((*LOC8).Kind == ((NU8) 17))) goto LA9;
Hasobjparam_140525 = NIM_TRUE;
goto LA6;
LA9: ;
Res_141138 += 1;
} LA6: ;
if (!!(Hasobjparam_140525)) goto LA12;
Limessage_42566((*N_140497).Info, ((NU8) 179), ((NimStringDesc*) &TMP190182));
LA12: ;
return Result_140498;
}
N_NIMCALL(TY50525*, Semconverterdef_140543)(TY102012* C_140545, TY50525* N_140546) {
TY50525* Result_140547;
NIM_BOOL LOC2;
TY50547* S_140595;
TY50551* T_140596;
NI LOC12;
Result_140547 = 0;
LOC2 = Istoplevel_120053(C_140545);
if (!!(LOC2)) goto LA3;
Limessage_42566((*N_140546).Info, ((NU8) 178), ((NimStringDesc*) &TMP190183));
LA3: ;
Checksonslen_102099(N_140546, 5);
if (!!(((*N_140546).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA6;
Limessage_42566((*N_140546).Info, ((NU8) 153), ((NimStringDesc*) &TMP190183));
LA6: ;
Result_140547 = Semprocaux_139662(C_140545, N_140546, ((NU8) 13), TMP190181);
S_140595 = 0;
S_140595 = (*(*Result_140547).KindU.S6.Sons->data[0]).KindU.S4.Sym;
T_140596 = 0;
T_140596 = (*S_140595).Typ;
if (!((*T_140596).Sons->data[0] == NIM_NIL)) goto LA9;
Limessage_42566((*N_140546).Info, ((NU8) 176), ((NimStringDesc*) &TMP190183));
LA9: ;
LOC12 = Sonslen_50806(T_140596);
if (!!((LOC12 == 2))) goto LA13;
Limessage_42566((*N_140546).Info, ((NU8) 202), ((NimStringDesc*) &TMP190183));
LA13: ;
Addconverter_102058(C_140545, S_140595);
return Result_140547;
}
N_NIMCALL(TY50525*, Semmacrodef_140610)(TY102012* C_140612, TY50525* N_140613) {
TY50525* Result_140614;
TY50547* S_140662;
TY50551* T_140663;
NI LOC8;
Result_140614 = 0;
Checksonslen_102099(N_140613, 5);
if (!!(((*N_140613).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA2;
Limessage_42566((*N_140613).Info, ((NU8) 153), ((NimStringDesc*) &TMP190184));
LA2: ;
Result_140614 = Semprocaux_139662(C_140612, N_140613, ((NU8) 14), TMP190185);
S_140662 = 0;
S_140662 = (*(*Result_140614).KindU.S6.Sons->data[0]).KindU.S4.Sym;
T_140663 = 0;
T_140663 = (*S_140662).Typ;
if (!((*T_140663).Sons->data[0] == NIM_NIL)) goto LA5;
Limessage_42566((*N_140613).Info, ((NU8) 176), ((NimStringDesc*) &TMP190184));
LA5: ;
LOC8 = Sonslen_50806(T_140663);
if (!!((LOC8 == 2))) goto LA9;
Limessage_42566((*N_140613).Info, ((NU8) 202), ((NimStringDesc*) &TMP190184));
LA9: ;
if (!((*N_140613).KindU.S6.Sons->data[4] == NIM_NIL)) goto LA12;
Limessage_42566((*N_140613).Info, ((NU8) 135), (*(*S_140662).Name).S);
LA12: ;
return Result_140614;
}
N_NIMCALL(TY50525*, Resolvetemplateparams_120598)(TY102012* C_120600, TY50525* N_120601, NIM_BOOL Withinbind_120602, TY50900* Tobind_120604) {
TY50525* Result_120605;
TY50547* S_120606;
NIM_BOOL LOC5;
NIM_BOOL LOC7;
TY50547* LOC13;
NI I_120684;
NI HEX3Atmp_121067;
NI LOC14;
NI Res_121069;
Result_120605 = 0;
S_120606 = 0;
if (!(N_120601 == NIM_NIL)) goto LA2;
Result_120605 = NIM_NIL;
goto BeforeRet;
LA2: ;
switch ((*N_120601).Kind) {
case ((NU8) 2):
LOC5 = !(Withinbind_120602);
if (!(LOC5)) goto LA6;
LOC7 = Intsetcontains_50910((*Tobind_120604), (*(*N_120601).KindU.S5.Ident).Sup.Id);
LOC5 = !(LOC7);
LA6: ;
if (!LOC5) goto LA8;
S_120606 = Symtablocalget_55120((*C_120600).Tab, (*N_120601).KindU.S5.Ident);
if (!!((S_120606 == NIM_NIL))) goto LA11;
Result_120605 = Newsymnode_50734(S_120606);
(*Result_120605).Info = (*N_120601).Info;
goto LA10;
LA11: ;
Result_120605 = N_120601;
LA10: ;
goto LA4;
LA8: ;
Intsetincl_50914(Tobind_120604, (*(*N_120601).KindU.S5.Ident).Sup.Id);
LOC13 = 0;
LOC13 = Lookup_103049(C_120600, N_120601);
Result_120605 = Symchoice_120549(C_120600, N_120601, LOC13);
LA4: ;
break;
case ((NU8) 3) ... ((NU8) 18):
Result_120605 = N_120601;
break;
case ((NU8) 45):
Result_120605 = Resolvetemplateparams_120598(C_120600, (*N_120601).KindU.S6.Sons->data[0], NIM_TRUE, Tobind_120604);
break;
default:
Result_120605 = N_120601;
I_120684 = 0;
HEX3Atmp_121067 = 0;
LOC14 = Sonslen_50803(N_120601);
HEX3Atmp_121067 = (NI32)(LOC14 - 1);
Res_121069 = 0;
Res_121069 = 0;
while (1) {
if (!(Res_121069 <= HEX3Atmp_121067)) goto LA15;
I_120684 = Res_121069;
asgnRefNoCycle((void**) &(*Result_120605).KindU.S6.Sons->data[I_120684], Resolvetemplateparams_120598(C_120600, (*N_120601).KindU.S6.Sons->data[I_120684], Withinbind_120602, Tobind_120604));
Res_121069 += 1;
} LA15: ;
break;
}
BeforeRet: ;
return Result_120605;
}
N_NIMCALL(TY50525*, Transformtoexpr_120709)(TY50525* N_120711) {
TY50525* Result_120712;
NI Realstmt_120713;
NI I_120721;
NI HEX3Atmp_121070;
NI LOC1;
NI Res_121072;
Result_120712 = 0;
Realstmt_120713 = 0;
Result_120712 = N_120711;
switch ((*N_120711).Kind) {
case ((NU8) 101):
Realstmt_120713 = -1;
I_120721 = 0;
HEX3Atmp_121070 = 0;
LOC1 = Sonslen_50803(N_120711);
HEX3Atmp_121070 = (NI32)(LOC1 - 1);
Res_121072 = 0;
Res_121072 = 0;
while (1) {
if (!(Res_121072 <= HEX3Atmp_121070)) goto LA2;
I_120721 = Res_121072;
switch ((*(*N_120711).KindU.S6.Sons->data[I_120721]).Kind) {
case ((NU8) 105):
case ((NU8) 1):
case ((NU8) 18):
break;
default:
if (!(Realstmt_120713 == -1)) goto LA4;
Realstmt_120713 = I_120721;
goto LA3;
LA4: ;
Realstmt_120713 = -2;
LA3: ;
break;
}
Res_121072 += 1;
} LA2: ;
if (!(0 <= Realstmt_120713)) goto LA7;
Result_120712 = Transformtoexpr_120709((*N_120711).KindU.S6.Sons->data[Realstmt_120713]);
goto LA6;
LA7: ;
(*N_120711).Kind = ((NU8) 106);
LA6: ;
break;
case ((NU8) 99):
(*N_120711).Kind = ((NU8) 107);
break;
default:
break;
}
return Result_120712;
}
N_NIMCALL(TY50525*, Semtemplatedef_120750)(TY102012* C_120752, TY50525* N_120753) {
TY50525* Result_120754;
TY50547* S_120755;
TY50900 Tobind_120756;
TY50551* LOC16;
TY50525* LOC17;
Result_120754 = 0;
S_120755 = 0;
memset((void*)&Tobind_120756, 0, sizeof(Tobind_120756));
if (!((*(*(*C_120752).P).Owner).Kind == ((NU8) 6))) goto LA2;
S_120755 = Semidentvis_120092(C_120752, ((NU8) 15), (*N_120753).KindU.S6.Sons->data[0], 2);
(*S_120755).Flags |=(1<<((NI32)(((NU8) 5))%(sizeof(NI32)*8)));
goto LA1;
LA2: ;
S_120755 = Semidentvis_120092(C_120752, ((NU8) 15), (*N_120753).KindU.S6.Sons->data[0], 0);
LA1: ;
if (!(((*S_120755).Flags &(1<<((((NU8) 1))&31)))!=0)) goto LA5;
(*S_120755).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
LA5: ;
Pushowner_102109(S_120755);
Openscope_55146(&(*C_120752).Tab);
asgnRefNoCycle((void**) &(*N_120753).KindU.S6.Sons->data[0], Newsymnode_50734(S_120755));
if (!!(((*N_120753).KindU.S6.Sons->data[3] == NIM_NIL))) goto LA8;
Limessage_42566((*N_120753).Info, ((NU8) 152), ((NimStringDesc*) &TMP190186));
LA8: ;
if (!!(((*N_120753).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA11;
Limessage_42566((*N_120753).Info, ((NU8) 153), ((NimStringDesc*) &TMP190186));
LA11: ;
if (!((*N_120753).KindU.S6.Sons->data[2] == NIM_NIL)) goto LA14;
asgnRef((void**) &(*S_120755).Typ, Newtypes_102077(((NU8) 25), C_120752));
asgnRefNoCycle((void**) &(*(*S_120755).Typ).N, Newnodei_50737(((NU8) 66), (*N_120753).Info));
LOC16 = 0;
LOC16 = Newtypes_102077(((NU8) 7), C_120752);
Addson_50827((*S_120755).Typ, LOC16);
LOC17 = 0;
LOC17 = Newnodeit_50741(((NU8) 4), (*N_120753).Info, (*(*S_120755).Typ).Sons->data[0]);
Addson_50823((*(*S_120755).Typ).N, LOC17);
goto LA13;
LA14: ;
Semparamlist_120147(C_120752, (*N_120753).KindU.S6.Sons->data[2], NIM_NIL, S_120755);
if (!((*(*N_120753).KindU.S6.Sons->data[2]).KindU.S6.Sons->data[0] == NIM_NIL)) goto LA19;
asgnRef((void**) &(*(*S_120755).Typ).Sons->data[0], Newtypes_102077(((NU8) 7), C_120752));
asgnRefNoCycle((void**) &(*(*(*S_120755).Typ).N).KindU.S6.Sons->data[0], Newnodeit_50741(((NU8) 4), (*N_120753).Info, (*(*S_120755).Typ).Sons->data[0]));
LA19: ;
LA13: ;
Addparams_120153(C_120752, (*(*S_120755).Typ).N);
Intsetinit_50924(&Tobind_120756);
asgnRefNoCycle((void**) &(*N_120753).KindU.S6.Sons->data[4], Resolvetemplateparams_120598(C_120752, (*N_120753).KindU.S6.Sons->data[4], NIM_FALSE, &Tobind_120756));
if (!!(((*(*(*S_120755).Typ).Sons->data[0]).Kind == ((NU8) 7) || (*(*(*S_120755).Typ).Sons->data[0]).Kind == ((NU8) 8)))) goto LA22;
asgnRefNoCycle((void**) &(*N_120753).KindU.S6.Sons->data[4], Transformtoexpr_120709((*N_120753).KindU.S6.Sons->data[4]));
LA22: ;
Closescope_103017(&(*C_120752).Tab);
Popowner_102112();
asgnRefNoCycle((void**) &(*S_120755).Ast, N_120753);
Result_120754 = N_120753;
if (!((*N_120753).KindU.S6.Sons->data[4] == NIM_NIL)) goto LA25;
Limessage_42566((*N_120753).Info, ((NU8) 135), (*(*S_120755).Name).S);
LA25: ;
Addinterfacedecl_103040(C_120752, S_120755);
return Result_120754;
}
N_NIMCALL(TY50525*, Evalinclude_140700)(TY102012* C_140702, TY50525* N_140703) {
TY50525* Result_140704;
NI I_140712;
NI HEX3Atmp_141139;
NI LOC1;
NI Res_141141;
NimStringDesc* F_140725;
NI Fileindex_140726;
NIM_BOOL LOC4;
TY50525* LOC7;
TY50525* LOC8;
Result_140704 = 0;
Result_140704 = Newnodei_50737(((NU8) 101), (*N_140703).Info);
Addson_50823(Result_140704, N_140703);
I_140712 = 0;
HEX3Atmp_141139 = 0;
LOC1 = Sonslen_50803(N_140703);
HEX3Atmp_141139 = (NI32)(LOC1 - 1);
Res_141141 = 0;
Res_141141 = 0;
while (1) {
if (!(Res_141141 <= HEX3Atmp_141139)) goto LA2;
I_140712 = Res_141141;
F_140725 = 0;
F_140725 = Getmodulefile_105013((*N_140703).KindU.S6.Sons->data[I_140712]);
Fileindex_140726 = 0;
Fileindex_140726 = Includefilename_42615(F_140725);
LOC4 = Intsetcontainsorincl_50928(&(*C_140702).Includedfiles, Fileindex_140726);
if (!LOC4) goto LA5;
Limessage_42566((*N_140703).Info, ((NU8) 23), F_140725);
LA5: ;
LOC7 = 0;
LOC7 = Gincludefile_100051(F_140725);
LOC8 = 0;
LOC8 = Semstmt_120143(C_140702, LOC7);
Addson_50823(Result_140704, LOC8);
Intsetexcl_50919(&(*C_140702).Includedfiles, Fileindex_140726);
Res_141141 += 1;
} LA2: ;
return Result_140704;
}
N_NIMCALL(TY50525*, Semstmt_120143)(TY102012* C_120145, TY50525* N_120146) {
TY50525* Result_140738;
NI Length_140763;
NI I_140771;
NI HEX3Atmp_141146;
NI Res_141148;
NI J_140826;
NI HEX3Atmp_141142;
NI HEX3Atmp_141143;
NI Res_141145;
NIM_BOOL LOC13;
NIM_BOOL LOC17;
NIM_BOOL LOC21;
Result_140738 = 0;
Result_140738 = N_120146;
if (!(N_120146 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
if (!(((*N_120146).Flags &(1<<((((NU8) 6))&7)))!=0)) goto LA5;
goto BeforeRet;
LA5: ;
switch ((*N_120146).Kind) {
case ((NU8) 63):
Result_140738 = Semasgn_136591(C_120145, N_120146);
break;
case ((NU8) 21):
case ((NU8) 27):
case ((NU8) 28):
case ((NU8) 29):
case ((NU8) 20):
case ((NU8) 79):
case ((NU8) 22):
Result_140738 = Semcommand_140729(C_120145, N_120146);
break;
case ((NU8) 1):
case ((NU8) 105):
case ((NU8) 18):
break;
case ((NU8) 99):
Result_140738 = Semblock_136153(C_120145, N_120146);
break;
case ((NU8) 101):
Length_140763 = 0;
Length_140763 = Sonslen_50803(N_120146);
I_140771 = 0;
HEX3Atmp_141146 = 0;
HEX3Atmp_141146 = (NI32)(Length_140763 - 1);
Res_141148 = 0;
Res_141148 = 0;
while (1) {
if (!(Res_141148 <= HEX3Atmp_141146)) goto LA7;
I_140771 = Res_141148;
asgnRefNoCycle((void**) &(*N_120146).KindU.S6.Sons->data[I_140771], Semstmt_120143(C_120145, (*N_120146).KindU.S6.Sons->data[I_140771]));
if (!((*(*N_120146).KindU.S6.Sons->data[I_140771]).Kind == ((NU8) 95) || (*(*N_120146).KindU.S6.Sons->data[I_140771]).Kind == ((NU8) 96) || (*(*N_120146).KindU.S6.Sons->data[I_140771]).Kind == ((NU8) 97) || (*(*N_120146).KindU.S6.Sons->data[I_140771]).Kind == ((NU8) 98))) goto LA9;
J_140826 = 0;
HEX3Atmp_141142 = 0;
HEX3Atmp_141143 = 0;
HEX3Atmp_141142 = (NI32)(I_140771 + 1);
HEX3Atmp_141143 = (NI32)(Length_140763 - 1);
Res_141145 = 0;
Res_141145 = HEX3Atmp_141142;
while (1) {
if (!(Res_141145 <= HEX3Atmp_141143)) goto LA11;
J_140826 = Res_141145;
switch ((*(*N_120146).KindU.S6.Sons->data[J_140826]).Kind) {
case ((NU8) 81):
case ((NU8) 105):
case ((NU8) 18):
case ((NU8) 1):
break;
default:
Limessage_42566((*(*N_120146).KindU.S6.Sons->data[J_140826]).Info, ((NU8) 38), ((NimStringDesc*) &TMP189930));
break;
}
Res_141145 += 1;
} LA11: ;
LA9: ;
Res_141148 += 1;
} LA7: ;
break;
case ((NU8) 95):
Result_140738 = Semraise_138191(C_120145, N_120146);
break;
case ((NU8) 87):
Result_140738 = Semvar_137296(C_120145, N_120146);
break;
case ((NU8) 88):
Result_140738 = Semconst_137594(C_120145, N_120146);
break;
case ((NU8) 90):
Result_140738 = Semtypesection_138694(C_120145, N_120146);
break;
case ((NU8) 82):
Result_140738 = Semif_135858(C_120145, N_120146);
break;
case ((NU8) 83):
Result_140738 = Semwhen_135728(C_120145, N_120146);
break;
case ((NU8) 100):
Result_140738 = Semdiscard_135983(C_120145, N_120146);
break;
case ((NU8) 85):
Result_140738 = Semwhile_136276(C_120145, N_120146);
break;
case ((NU8) 93):
Result_140738 = Semtry_138274(C_120145, N_120146);
break;
case ((NU8) 97):
case ((NU8) 98):
Result_140738 = Sembreakorcontinue_136035(C_120145, N_120146);
break;
case ((NU8) 84):
Result_140738 = Semfor_137784(C_120145, N_120146);
break;
case ((NU8) 86):
Result_140738 = Semcase_136381(C_120145, N_120146);
break;
case ((NU8) 96):
Result_140738 = Semreturn_136907(C_120145, N_120146);
break;
case ((NU8) 80):
Result_140738 = Semasm_136256(C_120145, N_120146);
break;
case ((NU8) 92):
Result_140738 = Semyield_137123(C_120145, N_120146);
break;
case ((NU8) 81):
Pragma_117028(C_120145, (*(*C_120145).P).Owner, N_120146, TMP190174);
break;
case ((NU8) 74):
Result_140738 = Semiterator_140424(C_120145, N_120146);
break;
case ((NU8) 69):
Result_140738 = Semproc_140489(C_120145, N_120146);
break;
case ((NU8) 70):
Result_140738 = Semmethod_140494(C_120145, N_120146);
break;
case ((NU8) 71):
Result_140738 = Semconverterdef_140543(C_120145, N_120146);
break;
case ((NU8) 72):
Result_140738 = Semmacrodef_140610(C_120145, N_120146);
break;
case ((NU8) 73):
Result_140738 = Semtemplatedef_120750(C_120145, N_120146);
break;
case ((NU8) 102):
LOC13 = Istoplevel_120053(C_120145);
if (!!(LOC13)) goto LA14;
Limessage_42566((*N_120146).Info, ((NU8) 178), ((NimStringDesc*) &TMP190187));
LA14: ;
Result_140738 = Evalimport_105001(C_120145, N_120146);
break;
case ((NU8) 103):
LOC17 = Istoplevel_120053(C_120145);
if (!!(LOC17)) goto LA18;
Limessage_42566((*N_120146).Info, ((NU8) 178), ((NimStringDesc*) &TMP190193));
LA18: ;
Result_140738 = Evalfrom_105005(C_120145, N_120146);
break;
case ((NU8) 104):
LOC21 = Istoplevel_120053(C_120145);
if (!!(LOC21)) goto LA22;
Limessage_42566((*N_120146).Info, ((NU8) 178), ((NimStringDesc*) &TMP190197));
LA22: ;
Result_140738 = Evalinclude_140700(C_120145, N_120146);
break;
default:
Limessage_42566((*N_120146).Info, ((NU8) 39), ((NimStringDesc*) &TMP189930));
break;
}
if (!(Result_140738 == NIM_NIL)) goto LA25;
Internalerror_42571((*N_120146).Info, ((NimStringDesc*) &TMP190198));
LA25: ;
(*Result_140738).Flags |=(1<<((NI8)(((NU8) 6))%(sizeof(NI8)*8)));
BeforeRet: ;
return Result_140738;
}
N_NIMCALL(TY50525*, Semaftermacrocall_120246)(TY102012* C_120248, TY50525* N_120249, TY50547* S_120250) {
TY50525* Result_120251;
NimStringDesc* LOC1;
Result_120251 = 0;
Result_120251 = N_120249;
switch ((*(*(*S_120250).Typ).Sons->data[0]).Kind) {
case ((NU8) 6):
Result_120251 = Semexpr_120115(C_120248, Result_120251, 0);
break;
case ((NU8) 7):
Result_120251 = Semstmt_120143(C_120248, Result_120251);
break;
case ((NU8) 8):
asgnRef((void**) &(*Result_120251).Typ, Semtypenode_120138(C_120248, Result_120251, NIM_NIL));
break;
default:
LOC1 = 0;
LOC1 = Typetostring_92014((*(*S_120250).Typ).Sons->data[0], ((NU8) 0));
Limessage_42566((*S_120250).Info, ((NU8) 154), LOC1);
break;
}
return Result_120251;
}
N_NIMCALL(TY50525*, Semmacroexpr_121073)(TY102012* C_121075, TY50525* N_121076, TY50547* Sym_121077, NIM_BOOL Semcheck_121078) {
TY50525* Result_121079;
TY110006* P_121094;
TY110004* S_121095;
TY50525* LOC4;
NIM_BOOL LOC6;
Result_121079 = 0;
Evaltemplatecounter_120423 += 1;
if (!(100 < Evaltemplatecounter_120423)) goto LA2;
Limessage_42566((*N_121076).Info, ((NU8) 180), ((NimStringDesc*) &TMP189930));
LA2: ;
Markused_120065(N_121076, Sym_121077);
P_121094 = 0;
P_121094 = Newevalcontext_110033((*C_121075).Module, ((NimStringDesc*) &TMP189930), NIM_FALSE);
S_121095 = 0;
S_121095 = Newstackframe_110024();
asgnRefNoCycle((void**) &(*S_121095).Call, N_121076);
(*S_121095).Params = (TY50519*) setLengthSeq(&((*S_121095).Params)->Sup, sizeof(TY50525*), 2);
asgnRefNoCycle((void**) &(*S_121095).Params->data[0], Newnodeit_50741(((NU8) 18), (*N_121076).Info, (*(*Sym_121077).Typ).Sons->data[0]));
asgnRefNoCycle((void**) &(*S_121095).Params->data[1], N_121076);
Pushstackframe_110026(P_121094, S_121095);
LOC4 = 0;
LOC4 = Eval_110038(P_121094, (*(*Sym_121077).Ast).KindU.S6.Sons->data[4]);
Result_121079 = (*S_121095).Params->data[0];
Popstackframe_110030(P_121094);
LOC6 = Cyclictree_91043(Result_121079);
if (!LOC6) goto LA7;
Limessage_42566((*N_121076).Info, ((NU8) 204), ((NimStringDesc*) &TMP189930));
LA7: ;
if (!Semcheck_121078) goto LA10;
Result_121079 = Semaftermacrocall_120246(C_121075, Result_121079, Sym_121077);
LA10: ;
Evaltemplatecounter_120423 -= 1;
return Result_121079;
}
N_NIMCALL(TY50525*, Semsym_127956)(TY102012* C_127958, TY50525* N_127959, TY50547* S_127960, NU8 Flags_127961) {
TY50525* Result_127962;
NIM_BOOL LOC2;
NIM_BOOL LOC7;
NIM_BOOL LOC8;
TY50547* LOC11;
Result_127962 = 0;
LOC2 = ((*S_127960).Kind == ((NU8) 7));
if (!(LOC2)) goto LA3;
LOC2 = !(((Flags_127961 &(1<<((((NU8) 0))&7)))!=0));
LA3: ;
if (!LOC2) goto LA4;
Limessage_42566((*N_127959).Info, ((NU8) 162), ((NimStringDesc*) &TMP189930));
LA4: ;
switch ((*S_127960).Kind) {
case ((NU8) 10):
case ((NU8) 11):
case ((NU8) 12):
case ((NU8) 13):
LOC8 = !((((*S_127960).Flags &(1<<((((NU8) 20))&31)))!=0));
if (!(LOC8)) goto LA9;
LOC8 = ((*(*S_127960).Typ).Callconv == ((NU8) 0));
LA9: ;
LOC7 = LOC8;
if (!(LOC7)) goto LA10;
LOC11 = 0;
LOC11 = Getmodule_55203(S_127960);
LOC7 = !(((*LOC11).Sup.Id == (*(*C_127958).Module).Sup.Id));
LA10: ;
if (!LOC7) goto LA12;
Limessage_42566((*N_127959).Info, ((NU8) 131), (*(*S_127960).Name).S);
LA12: ;
Result_127962 = Symchoice_120549(C_127958, N_127959, S_127960);
break;
case ((NU8) 8):
Markused_120065(N_127959, S_127960);
if (!((*(*S_127960).Typ).Kind == ((NU8) 5) || (*(*S_127960).Typ).Kind == ((NU8) 2) || (*(*S_127960).Typ).Kind >= ((NU8) 31) && (*(*S_127960).Typ).Kind <= ((NU8) 35) || (*(*S_127960).Typ).Kind >= ((NU8) 36) && (*(*S_127960).Typ).Kind <= ((NU8) 39) || (*(*S_127960).Typ).Kind == ((NU8) 4) || (*(*S_127960).Typ).Kind == ((NU8) 18) || (*(*S_127960).Typ).Kind == ((NU8) 19))) goto LA15;
Result_127962 = Copytree_50858((*S_127960).Ast);
asgnRef((void**) &(*Result_127962).Typ, (*S_127960).Typ);
goto LA14;
LA15: ;
Result_127962 = Newsymnode_50734(S_127960);
LA14: ;
(*Result_127962).Info = (*N_127959).Info;
break;
case ((NU8) 14):
Result_127962 = Semmacroexpr_121073(C_127958, N_127959, S_127960, NIM_TRUE);
break;
case ((NU8) 15):
Result_127962 = Semtemplateexpr_127901(C_127958, N_127959, S_127960, NIM_TRUE);
break;
case ((NU8) 9):
Markused_120065(N_127959, S_127960);
if (!(((*S_127960).Flags &(1<<((((NU8) 5))&31)))!=0)) goto LA18;
(*(*(*C_127958).P).Owner).Flags |=(1<<((NI32)(((NU8) 14))%(sizeof(NI32)*8)));
LA18: ;
Result_127962 = Newsymnode_50734(S_127960);
(*Result_127962).Info = (*N_127959).Info;
break;
case ((NU8) 4):
if (!((*S_127960).Ast == NIM_NIL)) goto LA21;
Internalerror_42571((*N_127959).Info, ((NimStringDesc*) &TMP190199));
LA21: ;
Result_127962 = Semexpr_120115(C_127958, (*S_127960).Ast, 0);
break;
default:
Markused_120065(N_127959, S_127960);
Result_127962 = Newsymnode_50734(S_127960);
(*Result_127962).Info = (*N_127959).Info;
break;
}
return Result_127962;
}
N_NIMCALL(TY50525*, Semfieldaccess_127908)(TY102012* C_127910, TY50525* N_127911, NU8 Flags_127914) {
TY50525* Result_131533;
TY49011* I_131557;
TY50547* F_131558;
TY50525* LOC7;
TY50525* LOC8;
TY50525* LOC9;
Result_131533 = 0;
Result_131533 = Builtinfieldaccess_131161(C_127910, N_127911, Flags_127914);
if (!(Result_131533 == NIM_NIL)) goto LA2;
I_131557 = 0;
I_131557 = Consideracc_120003((*N_127911).KindU.S6.Sons->data[1]);
F_131558 = 0;
F_131558 = Symtabget_55116((*C_127910).Tab, I_131557);
if (!!((F_131558 == NIM_NIL))) goto LA5;
Result_131533 = Newnodei_50737(((NU8) 19), (*N_127911).Info);
LOC7 = 0;
LOC7 = Newidentnode_50730(I_131557, (*N_127911).Info);
Addson_50823(Result_131533, LOC7);
LOC8 = 0;
LOC8 = HEX5BHEX5D_52051(N_127911, 0);
LOC9 = 0;
LOC9 = Copytree_50858(LOC8);
Addson_50823(Result_131533, LOC9);
goto LA4;
LA5: ;
Limessage_42566((*N_127911).Info, ((NU8) 77), (*I_131557).S);
LA4: ;
LA2: ;
return Result_131533;
}
N_NIMCALL(void, Checkconversionbetweenobjects_128050)(TY42536 Info_128052, TY50551* Castdest_128053, TY50551* Src_128054) {
NI Diff_128055;
NimStringDesc* LOC4;
TY110148 LOC5;
NimStringDesc* LOC6;
Diff_128055 = 0;
Diff_128055 = Inheritancediff_92121(Castdest_128053, Src_128054);
if (!(Diff_128055 == 2147483647)) goto LA2;
LOC4 = 0;
LOC4 = Msgkindtostring_42592(((NU8) 139));
memset((void*)&LOC5, 0, sizeof(LOC5));
LOC5[0] = Typetostring_92014(Src_128054, ((NU8) 0));
LOC5[1] = Typetostring_92014(Castdest_128053, ((NU8) 0));
LOC6 = 0;
LOC6 = nsuFormatOpenArray(LOC4, LOC5, 2);
Limessage_42566(Info_128052, ((NU8) 4), LOC6);
LA2: ;
}
N_NIMCALL(void, Checkconvertible_128062)(TY42536 Info_128064, TY50551* Castdest_128065, TY50551* Src_128066) {
NIM_BOOL LOC2;
NimStringDesc* LOC8;
TY50551* D_128081;
TY50551* S_128082;
NIM_BOOL LOC10;
NIM_BOOL LOC11;
NimStringDesc* LOC17;
TY110148 LOC18;
NimStringDesc* LOC19;
NIM_BOOL LOC21;
NIM_BOOL LOC25;
TY50551* LOC26;
TY50551* LOC28;
NU8 LOC31;
NIM_BOOL LOC33;
NIM_BOOL LOC34;
NIM_BOOL LOC36;
NimStringDesc* LOC39;
TY110148 LOC40;
NimStringDesc* LOC41;
LOC2 = Sametype_92048(Castdest_128065, Src_128066);
if (!LOC2) goto LA3;
if (!!(((*Castdest_128065).Kind >= ((NU8) 31) && (*Castdest_128065).Kind <= ((NU8) 39) || (*Castdest_128065).Kind == ((NU8) 5)))) goto LA6;
LOC8 = 0;
LOC8 = Typetostring_92014(Castdest_128065, ((NU8) 0));
Limessage_42566(Info_128064, ((NU8) 229), LOC8);
LA6: ;
goto BeforeRet;
LA3: ;
D_128081 = 0;
D_128081 = Skiptypes_92087(Castdest_128065, 8431616);
S_128082 = 0;
S_128082 = Skiptypes_92087(Src_128066, 8431616);
while (1) {
LOC11 = !((D_128081 == NIM_NIL));
if (!(LOC11)) goto LA12;
LOC11 = ((*D_128081).Kind == ((NU8) 21) || (*D_128081).Kind == ((NU8) 22));
LA12: ;
LOC10 = LOC11;
if (!(LOC10)) goto LA13;
LOC10 = ((*D_128081).Kind == (*S_128082).Kind);
LA13: ;
if (!LOC10) goto LA9;
D_128081 = Base_92021(D_128081);
S_128082 = Base_92021(S_128082);
} LA9: ;
if (!(D_128081 == NIM_NIL)) goto LA15;
LOC17 = 0;
LOC17 = Msgkindtostring_42592(((NU8) 139));
memset((void*)&LOC18, 0, sizeof(LOC18));
LOC18[0] = Typetostring_92014(Src_128066, ((NU8) 0));
LOC18[1] = Typetostring_92014(Castdest_128065, ((NU8) 0));
LOC19 = 0;
LOC19 = nsuFormatOpenArray(LOC17, LOC18, 2);
Limessage_42566(Info_128064, ((NU8) 4), LOC19);
LA15: ;
LOC21 = ((*D_128081).Kind == ((NU8) 17));
if (!(LOC21)) goto LA22;
LOC21 = ((*S_128082).Kind == ((NU8) 17));
LA22: ;
if (!LOC21) goto LA23;
Checkconversionbetweenobjects_128050(Info_128064, D_128081, S_128082);
goto LA20;
LA23: ;
LOC26 = 0;
LOC26 = Skiptypes_92087(Castdest_128065, 9480192);
LOC25 = ((*LOC26).Kind == ((NU8) 1) || (*LOC26).Kind == ((NU8) 14) || (*LOC26).Kind == ((NU8) 2) || (*LOC26).Kind >= ((NU8) 31) && (*LOC26).Kind <= ((NU8) 39));
if (!(LOC25)) goto LA27;
LOC28 = 0;
LOC28 = Skiptypes_92087(Src_128066, 9480192);
LOC25 = ((*LOC28).Kind == ((NU8) 1) || (*LOC28).Kind == ((NU8) 14) || (*LOC28).Kind == ((NU8) 2) || (*LOC28).Kind >= ((NU8) 31) && (*LOC28).Kind <= ((NU8) 39));
LA27: ;
if (!LOC25) goto LA29;
goto LA20;
LA29: ;
LOC31 = Cmptypes_123400(D_128081, S_128082);
switch (LOC31) {
case ((NU8) 0):
case ((NU8) 4):
LOC34 = Equalordistinctof_92056(Castdest_128065, Src_128066);
LOC33 = !(LOC34);
if (!(LOC33)) goto LA35;
LOC36 = Equalordistinctof_92056(Src_128066, Castdest_128065);
LOC33 = !(LOC36);
LA35: ;
if (!LOC33) goto LA37;
LOC39 = 0;
LOC39 = Msgkindtostring_42592(((NU8) 139));
memset((void*)&LOC40, 0, sizeof(LOC40));
LOC40[0] = Typetostring_92014(Src_128066, ((NU8) 0));
LOC40[1] = Typetostring_92014(Castdest_128065, ((NU8) 0));
LOC41 = 0;
LOC41 = nsuFormatOpenArray(LOC39, LOC40, 2);
Limessage_42566(Info_128064, ((NU8) 4), LOC41);
LA37: ;
break;
default:
break;
}
LA20: ;
BeforeRet: ;
}
N_NIMCALL(TY50525*, Semconv_128211)(TY102012* C_128213, TY50525* N_128214, TY50547* S_128215) {
TY50525* Result_128216;
NI LOC2;
TY50525* LOC5;
TY50525* LOC6;
TY50525* Op_128267;
NI I_128284;
NI HEX3Atmp_140938;
NI LOC10;
NI Res_140940;
NIM_BOOL LOC13;
Result_128216 = 0;
LOC2 = Sonslen_50803(N_128214);
if (!!((LOC2 == 2))) goto LA3;
Limessage_42566((*N_128214).Info, ((NU8) 158), ((NimStringDesc*) &TMP189930));
LA3: ;
Result_128216 = Newnodei_50737(((NU8) 50), (*N_128214).Info);
asgnRef((void**) &(*Result_128216).Typ, Semtypenode_120138(C_128213, (*N_128214).KindU.S6.Sons->data[0], NIM_NIL));
LOC5 = 0;
LOC5 = Copytree_50858((*N_128214).KindU.S6.Sons->data[0]);
Addson_50823(Result_128216, LOC5);
LOC6 = 0;
LOC6 = Semexprwithtype_120122(C_128213, (*N_128214).KindU.S6.Sons->data[1], 0);
Addson_50823(Result_128216, LOC6);
Op_128267 = 0;
Op_128267 = (*Result_128216).KindU.S6.Sons->data[1];
if (!!(((*Op_128267).Kind == ((NU8) 46)))) goto LA8;
Checkconvertible_128062((*Result_128216).Info, (*Result_128216).Typ, (*Op_128267).Typ);
goto LA7;
LA8: ;
I_128284 = 0;
HEX3Atmp_140938 = 0;
LOC10 = Sonslen_50803(Op_128267);
HEX3Atmp_140938 = (NI32)(LOC10 - 1);
Res_140940 = 0;
Res_140940 = 0;
while (1) {
if (!(Res_140940 <= HEX3Atmp_140938)) goto LA11;
I_128284 = Res_140940;
LOC13 = Sametype_92048((*Result_128216).Typ, (*(*Op_128267).KindU.S6.Sons->data[I_128284]).Typ);
if (!LOC13) goto LA14;
Markused_120065(N_128214, (*(*Op_128267).KindU.S6.Sons->data[I_128284]).KindU.S4.Sym);
Result_128216 = (*Op_128267).KindU.S6.Sons->data[I_128284];
goto BeforeRet;
LA14: ;
Res_140940 += 1;
} LA11: ;
Limessage_42566((*N_128214).Info, ((NU8) 59), (*(*(*(*Op_128267).KindU.S6.Sons->data[0]).KindU.S4.Sym).Name).S);
LA7: ;
BeforeRet: ;
return Result_128216;
}
N_NIMCALL(void, Semopaux_128665)(TY102012* C_128667, TY50525* N_128668) {
NI I_128676;
NI HEX3Atmp_140941;
NI LOC1;
NI Res_140943;
TY50525* A_128689;
TY42536 Info_128711;
TY49011* LOC6;
I_128676 = 0;
HEX3Atmp_140941 = 0;
LOC1 = Sonslen_50803(N_128668);
HEX3Atmp_140941 = (NI32)(LOC1 - 1);
Res_140943 = 0;
Res_140943 = 1;
while (1) {
if (!(Res_140943 <= HEX3Atmp_140941)) goto LA2;
I_128676 = Res_140943;
A_128689 = 0;
A_128689 = (*N_128668).KindU.S6.Sons->data[I_128676];
if (!((*A_128689).Kind == ((NU8) 23))) goto LA4;
Checksonslen_102099(A_128689, 2);
memset((void*)&Info_128711, 0, sizeof(Info_128711));
Info_128711 = (*(*A_128689).KindU.S6.Sons->data[0]).Info;
LOC6 = 0;
LOC6 = Consideracc_120003((*A_128689).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*A_128689).KindU.S6.Sons->data[0], Newidentnode_50730(LOC6, Info_128711));
asgnRefNoCycle((void**) &(*A_128689).KindU.S6.Sons->data[1], Semexprwithtype_120122(C_128667, (*A_128689).KindU.S6.Sons->data[1], 0));
asgnRef((void**) &(*A_128689).Typ, (*(*A_128689).KindU.S6.Sons->data[1]).Typ);
goto LA3;
LA4: ;
asgnRefNoCycle((void**) &(*N_128668).KindU.S6.Sons->data[I_128676], Semexprwithtype_120122(C_128667, A_128689, 0));
LA3: ;
Res_140943 += 1;
} LA2: ;
}
N_NIMCALL(TY50525*, Overloadedcallopr_128784)(TY102012* C_128786, TY50525* N_128787) {
TY50525* Result_128788;
TY49011* Par_128789;
TY50547* LOC2;
TY50525* LOC5;
NI I_128808;
NI HEX3Atmp_140944;
NI LOC6;
NI Res_140946;
Result_128788 = 0;
Par_128789 = 0;
Par_128789 = Getident_49016(((NimStringDesc*) &TMP190200));
LOC2 = 0;
LOC2 = Symtabget_55116((*C_128786).Tab, Par_128789);
if (!(LOC2 == NIM_NIL)) goto LA3;
Result_128788 = NIM_NIL;
goto LA1;
LA3: ;
Result_128788 = Newnodei_50737(((NU8) 21), (*N_128787).Info);
LOC5 = 0;
LOC5 = Newidentnode_50730(Par_128789, (*N_128787).Info);
Addson_50823(Result_128788, LOC5);
I_128808 = 0;
HEX3Atmp_140944 = 0;
LOC6 = Sonslen_50803(N_128787);
HEX3Atmp_140944 = (NI32)(LOC6 - 1);
Res_140946 = 0;
Res_140946 = 0;
while (1) {
if (!(Res_140946 <= HEX3Atmp_140944)) goto LA7;
I_128808 = Res_140946;
Addson_50823(Result_128788, (*N_128787).KindU.S6.Sons->data[I_128808]);
Res_140946 += 1;
} LA7: ;
Result_128788 = Semexpr_120115(C_128786, Result_128788, 0);
LA1: ;
return Result_128788;
}
N_NIMCALL(NimStringDesc*, Getnotfounderror_122179)(TY102012* C_122181, TY50525* N_122182) {
NimStringDesc* Result_122183;
NI I_122191;
NI HEX3Atmp_124752;
NI LOC1;
NI Res_124754;
NimStringDesc* LOC6;
NimStringDesc* LOC7;
NI LOC9;
NimStringDesc* Candidates_122251;
TY103004 O_122252;
TY50547* Sym_122266;
NimStringDesc* LOC16;
NimStringDesc* LOC20;
NimStringDesc* LOC21;
Result_122183 = 0;
Result_122183 = Msgkindtostring_42592(((NU8) 126));
I_122191 = 0;
HEX3Atmp_124752 = 0;
LOC1 = Sonslen_50803(N_122182);
HEX3Atmp_124752 = (NI32)(LOC1 - 1);
Res_124754 = 0;
Res_124754 = 1;
while (1) {
if (!(Res_124754 <= HEX3Atmp_124752)) goto LA2;
I_122191 = Res_124754;
if (!((*(*N_122182).KindU.S6.Sons->data[I_122191]).Kind == ((NU8) 23))) goto LA4;
LOC6 = 0;
LOC6 = Rendertree_80042((*(*N_122182).KindU.S6.Sons->data[I_122191]).KindU.S6.Sons->data[0], 0);
Result_122183 = resizeString(Result_122183, LOC6->Sup.len + 0);
appendString(Result_122183, LOC6);
Result_122183 = resizeString(Result_122183, 2);
appendString(Result_122183, ((NimStringDesc*) &TMP190201));
LA4: ;
LOC7 = 0;
LOC7 = Typetostring_92014((*(*N_122182).KindU.S6.Sons->data[I_122191]).Typ, ((NU8) 0));
Result_122183 = resizeString(Result_122183, LOC7->Sup.len + 0);
appendString(Result_122183, LOC7);
LOC9 = Sonslen_50803(N_122182);
if (!!((I_122191 == (NI32)(LOC9 - 1)))) goto LA10;
Result_122183 = resizeString(Result_122183, 2);
appendString(Result_122183, ((NimStringDesc*) &TMP190202));
LA10: ;
Res_124754 += 1;
} LA2: ;
Result_122183 = addChar(Result_122183, 41);
Candidates_122251 = 0;
Candidates_122251 = copyString(((NimStringDesc*) &TMP189930));
memset((void*)&O_122252, 0, sizeof(O_122252));
Sym_122266 = 0;
Sym_122266 = Initoverloaditer_103058(&O_122252, C_122181, (*N_122182).KindU.S6.Sons->data[0]);
while (1) {
if (!!((Sym_122266 == NIM_NIL))) goto LA12;
if (!((15360 &(1<<(((*Sym_122266).Kind)&31)))!=0)) goto LA14;
LOC16 = 0;
LOC16 = Getprocheader_92018(Sym_122266);
Candidates_122251 = resizeString(Candidates_122251, LOC16->Sup.len + 0);
appendString(Candidates_122251, LOC16);
Candidates_122251 = resizeString(Candidates_122251, 2);
appendString(Candidates_122251, ((NimStringDesc*) &TMP190203));
LA14: ;
Sym_122266 = Nextoverloaditer_103064(&O_122252, C_122181, (*N_122182).KindU.S6.Sons->data[0]);
} LA12: ;
if (!!(((Candidates_122251) && (Candidates_122251)->Sup.len == 0))) goto LA18;
LOC20 = 0;
LOC21 = 0;
LOC21 = Msgkindtostring_42592(((NU8) 127));
LOC20 = rawNewString(LOC21->Sup.len + Candidates_122251->Sup.len + 4);
appendString(LOC20, ((NimStringDesc*) &TMP190203));
appendString(LOC20, LOC21);
appendString(LOC20, ((NimStringDesc*) &TMP190203));
appendString(LOC20, Candidates_122251);
Result_122183 = resizeString(Result_122183, LOC20->Sup.len + 0);
appendString(Result_122183, LOC20);
LA18: ;
return Result_122183;
}
N_NIMCALL(TY50525*, Semdirectop_130522)(TY102012* C_130524, TY50525* N_130525, NU8 Flags_130526) {
TY50525* Result_130527;
NimStringDesc* LOC7;
Result_130527 = 0;
Semopaux_128665(C_130524, N_130525);
Result_130527 = Semdirectcallanalyseeffects_130063(C_130524, N_130525, Flags_130526);
if (!(Result_130527 == NIM_NIL)) goto LA2;
Result_130527 = Overloadedcallopr_128784(C_130524, N_130525);
if (!(Result_130527 == NIM_NIL)) goto LA5;
LOC7 = 0;
LOC7 = Getnotfounderror_122179(C_130524, N_130525);
Limessage_42566((*N_130525).Info, ((NU8) 4), LOC7);
LA5: ;
LA2: ;
Fixabstracttype_129197(C_130524, Result_130527);
Analyseifaddresstakenincall_129893(C_130524, Result_130527);
return Result_130527;
}
N_NIMCALL(TY50547*, Lookupfordefined_130589)(TY102012* C_130591, TY50525* N_130592, NIM_BOOL Onlycurrentscope_130593) {
TY50547* Result_130594;
TY50547* M_130631;
NIM_BOOL LOC8;
TY49011* Ident_130697;
NimStringDesc* LOC18;
Result_130594 = 0;
switch ((*N_130592).Kind) {
case ((NU8) 2):
if (!Onlycurrentscope_130593) goto LA2;
Result_130594 = Symtablocalget_55120((*C_130591).Tab, (*N_130592).KindU.S5.Ident);
goto LA1;
LA2: ;
Result_130594 = Symtabget_55116((*C_130591).Tab, (*N_130592).KindU.S5.Ident);
LA1: ;
break;
case ((NU8) 36):
Result_130594 = NIM_NIL;
if (!Onlycurrentscope_130593) goto LA5;
goto BeforeRet;
LA5: ;
Checksonslen_102099(N_130592, 2);
M_130631 = 0;
M_130631 = Lookupfordefined_130589(C_130591, (*N_130592).KindU.S6.Sons->data[0], Onlycurrentscope_130593);
LOC8 = !((M_130631 == NIM_NIL));
if (!(LOC8)) goto LA9;
LOC8 = ((*M_130631).Kind == ((NU8) 6));
LA9: ;
if (!LOC8) goto LA10;
if (!((*(*N_130592).KindU.S6.Sons->data[1]).Kind == ((NU8) 2))) goto LA13;
Ident_130697 = 0;
Ident_130697 = (*(*N_130592).KindU.S6.Sons->data[1]).KindU.S5.Ident;
if (!(M_130631 == (*C_130591).Module)) goto LA16;
Result_130594 = Strtableget_55066(&(*C_130591).Tab.Stack->data[1], Ident_130697);
goto LA15;
LA16: ;
Result_130594 = Strtableget_55066(&(*M_130631).Tab, Ident_130697);
LA15: ;
goto LA12;
LA13: ;
Limessage_42566((*(*N_130592).KindU.S6.Sons->data[1]).Info, ((NU8) 19), ((NimStringDesc*) &TMP189930));
LA12: ;
LA10: ;
break;
case ((NU8) 43):
Checksonslen_102099(N_130592, 1);
Result_130594 = Lookupfordefined_130589(C_130591, (*N_130592).KindU.S6.Sons->data[0], Onlycurrentscope_130593);
break;
default:
LOC18 = 0;
LOC18 = Rendertree_80042(N_130592, 0);
Limessage_42566((*N_130592).Info, ((NU8) 19), LOC18);
Result_130594 = NIM_NIL;
break;
}
BeforeRet: ;
return Result_130594;
}
N_NIMCALL(TY50525*, Semdefined_130731)(TY102012* C_130733, TY50525* N_130734, NIM_BOOL Onlycurrentscope_130735) {
TY50525* Result_130736;
TY50547* LOC2;
NIM_BOOL LOC5;
NIM_BOOL LOC6;
Result_130736 = 0;
Checksonslen_102099(N_130734, 2);
Result_130736 = Newintnode_50713(((NU8) 6), 0);
LOC2 = 0;
LOC2 = Lookupfordefined_130589(C_130733, (*N_130734).KindU.S6.Sons->data[1], Onlycurrentscope_130735);
if (!!((LOC2 == NIM_NIL))) goto LA3;
(*Result_130736).KindU.S1.Intval = 1;
goto LA1;
LA3: ;
LOC6 = !(Onlycurrentscope_130735);
if (!(LOC6)) goto LA7;
LOC6 = ((*(*N_130734).KindU.S6.Sons->data[1]).Kind == ((NU8) 2));
LA7: ;
LOC5 = LOC6;
if (!(LOC5)) goto LA8;
LOC5 = Isdefined_59059((*(*N_130734).KindU.S6.Sons->data[1]).KindU.S5.Ident);
LA8: ;
if (!LOC5) goto LA9;
(*Result_130736).KindU.S1.Intval = 1;
goto LA1;
LA9: ;
LA1: ;
(*Result_130736).Info = (*N_130734).Info;
asgnRef((void**) &(*Result_130736).Typ, Getsystype_97008(((NU8) 1)));
return Result_130736;
}
N_NIMCALL(TY50525*, Setms_130829)(TY50525* N_130831, TY50547* S_130832) {
TY50525* Result_130833;
Result_130833 = 0;
Result_130833 = N_130831;
asgnRefNoCycle((void**) &(*N_130831).KindU.S6.Sons->data[0], Newsymnode_50734(S_130832));
(*(*N_130831).KindU.S6.Sons->data[0]).Info = (*N_130831).Info;
return Result_130833;
}
N_NIMCALL(TY50525*, Semlowhigh_128433)(TY102012* C_128435, TY50525* N_128436, NU8 M_128437) {
TY50525* Result_128438;
NI LOC2;
TY50551* Typ_128483;
Result_128438 = 0;
LOC2 = Sonslen_50803(N_128436);
if (!!((LOC2 == 2))) goto LA3;
Limessage_42566((*N_128436).Info, ((NU8) 66), Optostr_128439[(M_128437)-3]);
goto LA1;
LA3: ;
asgnRefNoCycle((void**) &(*N_128436).KindU.S6.Sons->data[1], Semexprwithtype_120122(C_128435, (*N_128436).KindU.S6.Sons->data[1], 1));
Typ_128483 = 0;
Typ_128483 = Skiptypes_92087((*(*N_128436).KindU.S6.Sons->data[1]).Typ, 9480192);
switch ((*Typ_128483).Kind) {
case ((NU8) 24):
case ((NU8) 28):
case ((NU8) 27):
asgnRef((void**) &(*N_128436).Typ, Getsystype_97008(((NU8) 31)));
break;
case ((NU8) 4):
case ((NU8) 16):
asgnRef((void**) &(*N_128436).Typ, (*(*(*N_128436).KindU.S6.Sons->data[1]).Typ).Sons->data[0]);
break;
case ((NU8) 31) ... ((NU8) 35):
case ((NU8) 2):
case ((NU8) 1):
case ((NU8) 14):
asgnRef((void**) &(*N_128436).Typ, (*(*N_128436).KindU.S6.Sons->data[1]).Typ);
break;
default:
Limessage_42566((*N_128436).Info, ((NU8) 64), Optostr_128439[(M_128437)-3]);
break;
}
LA1: ;
Result_128438 = N_128436;
return Result_128438;
}
N_NIMCALL(TY50525*, Semsizeof_128508)(TY102012* C_128510, TY50525* N_128511) {
TY50525* Result_128512;
NI LOC2;
Result_128512 = 0;
LOC2 = Sonslen_50803(N_128511);
if (!!((LOC2 == 2))) goto LA3;
Limessage_42566((*N_128511).Info, ((NU8) 66), ((NimStringDesc*) &TMP190206));
goto LA1;
LA3: ;
asgnRefNoCycle((void**) &(*N_128511).KindU.S6.Sons->data[1], Semexprwithtype_120122(C_128510, (*N_128511).KindU.S6.Sons->data[1], 1));
LA1: ;
asgnRef((void**) &(*N_128511).Typ, Getsystype_97008(((NU8) 31)));
Result_128512 = N_128511;
return Result_128512;
}
N_NIMCALL(TY50525*, Semis_128540)(TY102012* C_128542, TY50525* N_128543) {
TY50525* Result_128544;
NI LOC2;
TY50551* A_128609;
TY50551* B_128622;
NIM_BOOL LOC6;
NIM_BOOL LOC11;
NimStringDesc* LOC16;
Result_128544 = 0;
LOC2 = Sonslen_50803(N_128543);
if (!(LOC2 == 3)) goto LA3;
asgnRefNoCycle((void**) &(*N_128543).KindU.S6.Sons->data[1], Semexprwithtype_120122(C_128542, (*N_128543).KindU.S6.Sons->data[1], 1));
asgnRefNoCycle((void**) &(*N_128543).KindU.S6.Sons->data[2], Semexprwithtype_120122(C_128542, (*N_128543).KindU.S6.Sons->data[2], 1));
A_128609 = 0;
A_128609 = (*(*N_128543).KindU.S6.Sons->data[1]).Typ;
B_128622 = 0;
B_128622 = (*(*N_128543).KindU.S6.Sons->data[2]).Typ;
LOC6 = !(((*B_128622).Kind == ((NU8) 17)));
if (LOC6) goto LA7;
LOC6 = !(((*A_128609).Kind == ((NU8) 17)));
LA7: ;
if (!LOC6) goto LA8;
Limessage_42566((*N_128543).Info, ((NU8) 194), ((NimStringDesc*) &TMP189930));
LA8: ;
while (1) {
LOC11 = !((B_128622 == NIM_NIL));
if (!(LOC11)) goto LA12;
LOC11 = !(((*B_128622).Sup.Id == (*A_128609).Sup.Id));
LA12: ;
if (!LOC11) goto LA10;
B_128622 = (*B_128622).Sons->data[0];
} LA10: ;
if (!(B_128622 == NIM_NIL)) goto LA14;
LOC16 = 0;
LOC16 = Typetostring_92014(A_128609, ((NU8) 0));
Limessage_42566((*N_128543).Info, ((NU8) 195), LOC16);
LA14: ;
asgnRef((void**) &(*N_128543).Typ, Getsystype_97008(((NU8) 1)));
goto LA1;
LA3: ;
Limessage_42566((*N_128543).Info, ((NU8) 193), ((NimStringDesc*) &TMP189930));
LA1: ;
Result_128544 = N_128543;
return Result_128544;
}
N_NIMCALL(TY50525*, Semecho_130550)(TY102012* C_130552, TY50525* N_130553) {
TY50525* Result_130554;
NI I_130562;
NI HEX3Atmp_140974;
NI LOC1;
NI Res_140976;
TY50525* Arg_130575;
TY50525* Call_130576;
TY49011* LOC3;
TY50525* LOC4;
Result_130554 = 0;
Checkminsonslen_102103(N_130553, 1);
I_130562 = 0;
HEX3Atmp_140974 = 0;
LOC1 = Sonslen_50803(N_130553);
HEX3Atmp_140974 = (NI32)(LOC1 - 1);
Res_140976 = 0;
Res_140976 = 1;
while (1) {
if (!(Res_140976 <= HEX3Atmp_140974)) goto LA2;
I_130562 = Res_140976;
Arg_130575 = 0;
Arg_130575 = Semexprwithtype_120122(C_130552, (*N_130553).KindU.S6.Sons->data[I_130562], 0);
Call_130576 = 0;
Call_130576 = Newnodei_50737(((NU8) 21), (*Arg_130575).Info);
LOC3 = 0;
LOC3 = Getident_49016(((NimStringDesc*) &TMP190207));
LOC4 = 0;
LOC4 = Newidentnode_50730(LOC3, (*N_130553).Info);
Addson_50823(Call_130576, LOC4);
Addson_50823(Call_130576, Arg_130575);
asgnRefNoCycle((void**) &(*N_130553).KindU.S6.Sons->data[I_130562], Semexpr_120115(C_130552, Call_130576, 0));
Res_140976 += 1;
} LA2: ;
Result_130554 = N_130553;
return Result_130554;
}
N_NIMCALL(TY50525*, Semmagic_130858)(TY102012* C_130860, TY50525* N_130861, TY50547* S_130862, NU8 Flags_130863) {
TY50525* Result_130864;
TY50525* LOC1;
TY50525* LOC2;
TY50525* LOC3;
TY50525* LOC4;
TY50525* LOC5;
TY50525* LOC6;
TY50525* LOC7;
Result_130864 = 0;
Result_130864 = N_130861;
switch ((*S_130862).Magic) {
case ((NU8) 1):
LOC1 = 0;
LOC1 = Setms_130829(N_130861, S_130862);
Result_130864 = Semdefined_130731(C_130860, LOC1, NIM_FALSE);
break;
case ((NU8) 2):
LOC2 = 0;
LOC2 = Setms_130829(N_130861, S_130862);
Result_130864 = Semdefined_130731(C_130860, LOC2, NIM_TRUE);
break;
case ((NU8) 3):
LOC3 = 0;
LOC3 = Setms_130829(N_130861, S_130862);
Result_130864 = Semlowhigh_128433(C_130860, LOC3, ((NU8) 3));
break;
case ((NU8) 4):
LOC4 = 0;
LOC4 = Setms_130829(N_130861, S_130862);
Result_130864 = Semlowhigh_128433(C_130860, LOC4, ((NU8) 4));
break;
case ((NU8) 5):
LOC5 = 0;
LOC5 = Setms_130829(N_130861, S_130862);
Result_130864 = Semsizeof_128508(C_130860, LOC5);
break;
case ((NU8) 6):
LOC6 = 0;
LOC6 = Setms_130829(N_130861, S_130862);
Result_130864 = Semis_128540(C_130860, LOC6);
break;
case ((NU8) 7):
LOC7 = 0;
LOC7 = Setms_130829(N_130861, S_130862);
Result_130864 = Semecho_130550(C_130860, LOC7);
break;
default:
Result_130864 = Semdirectop_130522(C_130860, N_130861, Flags_130863);
break;
}
return Result_130864;
}
N_NIMCALL(TY50525*, Semindirectop_130208)(TY102012* C_130210, TY50525* N_130211, NU8 Flags_130212) {
TY50525* Result_130213;
TY50525* Prc_130226;
NI I_130324;
NI HEX3Atmp_140968;
NI LOC7;
NI Res_140970;
TY50551* T_130361;
NIM_BOOL LOC13;
TY122030 M_130417;
NimStringDesc* Msg_130429;
NI I_130437;
NI HEX3Atmp_140971;
NI LOC20;
NI Res_140973;
NimStringDesc* LOC25;
NimStringDesc* LOC26;
NimStringDesc* LOC27;
NimStringDesc* LOC28;
NimStringDesc* LOC38;
Result_130213 = 0;
Result_130213 = NIM_NIL;
Prc_130226 = 0;
Prc_130226 = (*N_130211).KindU.S6.Sons->data[0];
Checkminsonslen_102103(N_130211, 1);
if (!((*(*N_130211).KindU.S6.Sons->data[0]).Kind == ((NU8) 36))) goto LA2;
Checksonslen_102099((*N_130211).KindU.S6.Sons->data[0], 2);
asgnRefNoCycle((void**) &(*N_130211).KindU.S6.Sons->data[0], Semfieldaccess_127908(C_130210, (*N_130211).KindU.S6.Sons->data[0], 0));
if (!((*(*N_130211).KindU.S6.Sons->data[0]).Kind == ((NU8) 19))) goto LA5;
Result_130213 = (*N_130211).KindU.S6.Sons->data[0];
(*Result_130213).Kind = ((NU8) 21);
I_130324 = 0;
HEX3Atmp_140968 = 0;
LOC7 = Sonslen_50803(N_130211);
HEX3Atmp_140968 = (NI32)(LOC7 - 1);
Res_140970 = 0;
Res_140970 = 1;
while (1) {
if (!(Res_140970 <= HEX3Atmp_140968)) goto LA8;
I_130324 = Res_140970;
Addson_50823(Result_130213, (*N_130211).KindU.S6.Sons->data[I_130324]);
Res_140970 += 1;
} LA8: ;
Result_130213 = Semexpr_120115(C_130210, Result_130213, Flags_130212);
goto BeforeRet;
LA5: ;
goto LA1;
LA2: ;
asgnRefNoCycle((void**) &(*N_130211).KindU.S6.Sons->data[0], Semexpr_120115(C_130210, (*N_130211).KindU.S6.Sons->data[0], 0));
LA1: ;
Semopaux_128665(C_130210, N_130211);
T_130361 = 0;
T_130361 = NIM_NIL;
if (!!(((*(*N_130211).KindU.S6.Sons->data[0]).Typ == NIM_NIL))) goto LA10;
T_130361 = Skiptypes_92087((*(*N_130211).KindU.S6.Sons->data[0]).Typ, 43008);
LA10: ;
LOC13 = !((T_130361 == NIM_NIL));
if (!(LOC13)) goto LA14;
LOC13 = ((*T_130361).Kind == ((NU8) 25));
LA14: ;
if (!LOC13) goto LA15;
memset((void*)&M_130417, 0, sizeof(M_130417));
Initcandidate_122058(&M_130417, T_130361);
Matches_123903(C_130210, N_130211, &M_130417);
if (!!((M_130417.State == ((NU8) 1)))) goto LA18;
Msg_130429 = 0;
Msg_130429 = Msgkindtostring_42592(((NU8) 126));
I_130437 = 0;
HEX3Atmp_140971 = 0;
LOC20 = Sonslen_50803(N_130211);
HEX3Atmp_140971 = (NI32)(LOC20 - 1);
Res_140973 = 0;
Res_140973 = 1;
while (1) {
if (!(Res_140973 <= HEX3Atmp_140971)) goto LA21;
I_130437 = Res_140973;
if (!(1 < I_130437)) goto LA23;
Msg_130429 = resizeString(Msg_130429, 2);
appendString(Msg_130429, ((NimStringDesc*) &TMP190202));
LA23: ;
LOC25 = 0;
LOC25 = Typetostring_92014((*(*N_130211).KindU.S6.Sons->data[I_130437]).Typ, ((NU8) 0));
Msg_130429 = resizeString(Msg_130429, LOC25->Sup.len + 0);
appendString(Msg_130429, LOC25);
Res_140973 += 1;
} LA21: ;
LOC26 = 0;
LOC27 = 0;
LOC27 = Msgkindtostring_42592(((NU8) 127));
LOC28 = 0;
LOC28 = Typetostring_92014((*(*N_130211).KindU.S6.Sons->data[0]).Typ, ((NU8) 0));
LOC26 = rawNewString(LOC27->Sup.len + LOC28->Sup.len + 5);
appendString(LOC26, ((NimStringDesc*) &TMP190208));
appendString(LOC26, LOC27);
appendString(LOC26, ((NimStringDesc*) &TMP190203));
appendString(LOC26, LOC28);
Msg_130429 = resizeString(Msg_130429, LOC26->Sup.len + 0);
appendString(Msg_130429, LOC26);
Limessage_42566((*N_130211).Info, ((NU8) 4), Msg_130429);
Result_130213 = NIM_NIL;
goto LA17;
LA18: ;
Result_130213 = M_130417.Call;
LA17: ;
if (!!((((*T_130361).Flags &(1<<((((NU8) 1))&7)))!=0))) goto LA30;
(*(*(*C_130210).P).Owner).Flags |=(1<<((NI32)(((NU8) 14))%(sizeof(NI32)*8)));
LA30: ;
goto LA12;
LA15: ;
Result_130213 = Overloadedcallopr_128784(C_130210, N_130211);
if (!(Result_130213 == NIM_NIL)) goto LA33;
asgnRefNoCycle((void**) &(*N_130211).KindU.S6.Sons->data[0], Prc_130226);
Result_130213 = Semdirectcallanalyseeffects_130063(C_130210, N_130211, Flags_130212);
LA33: ;
if (!(Result_130213 == NIM_NIL)) goto LA36;
LOC38 = 0;
LOC38 = Rendertree_80042(N_130211, 4);
Limessage_42566((*N_130211).Info, ((NU8) 85), LOC38);
LA36: ;
LA12: ;
Fixabstracttype_129197(C_130210, Result_130213);
Analyseifaddresstakenincall_129893(C_130210, Result_130213);
BeforeRet: ;
return Result_130213;
}
N_NIMCALL(TY50525*, Partialspecialization_121989)(TY102012* C_121991, TY50525* N_121992, TY50547* S_121993) {
TY50525* Result_121994;
NI I_122002;
NI HEX3Atmp_124746;
NI LOC1;
NI Res_124748;
Result_121994 = 0;
I_122002 = 0;
HEX3Atmp_124746 = 0;
LOC1 = Sonslen_50803(N_121992);
HEX3Atmp_124746 = (NI32)(LOC1 - 1);
Res_124748 = 0;
Res_124748 = 1;
while (1) {
if (!(Res_124748 <= HEX3Atmp_124746)) goto LA2;
I_122002 = Res_124748;
asgnRef((void**) &(*(*N_121992).KindU.S6.Sons->data[I_122002]).Typ, Semtypenode_120138(C_121991, (*N_121992).KindU.S6.Sons->data[I_122002], NIM_NIL));
Res_124748 += 1;
} LA2: ;
Result_121994 = N_121992;
return Result_121994;
}
N_NIMCALL(TY50525*, Semarrayaccess_131991)(TY102012* C_131993, TY50525* N_131994, NU8 Flags_131995) {
TY50525* Result_131996;
TY50525* LOC4;
Result_131996 = 0;
Result_131996 = Semsubscript_131721(C_131993, N_131994, Flags_131995);
if (!(Result_131996 == NIM_NIL)) goto LA2;
LOC4 = 0;
LOC4 = Buildoverloadedsubscripts_131681(N_131994, NIM_FALSE);
Result_131996 = Semexpr_120115(C_131993, LOC4, 0);
LA2: ;
return Result_131996;
}
N_NIMCALL(NU8, Checkpar_132769)(TY50525* N_132771) {
NU8 Result_132772;
NI Length_132773;
NI I_132806;
NI HEX3Atmp_141004;
NI Res_141006;
NIM_BOOL LOC14;
Result_132772 = 0;
Length_132773 = 0;
Length_132773 = Sonslen_50803(N_132771);
if (!(Length_132773 == 0)) goto LA2;
Result_132772 = ((NU8) 3);
goto LA1;
LA2: ;
if (!(Length_132773 == 1)) goto LA4;
Result_132772 = ((NU8) 1);
goto LA1;
LA4: ;
if (!((*(*N_132771).KindU.S6.Sons->data[0]).Kind == ((NU8) 24))) goto LA7;
Result_132772 = ((NU8) 2);
goto LA6;
LA7: ;
Result_132772 = ((NU8) 3);
LA6: ;
I_132806 = 0;
HEX3Atmp_141004 = 0;
HEX3Atmp_141004 = (NI32)(Length_132773 - 1);
Res_141006 = 0;
Res_141006 = 0;
while (1) {
if (!(Res_141006 <= HEX3Atmp_141004)) goto LA9;
I_132806 = Res_141006;
if (!(Result_132772 == ((NU8) 2))) goto LA11;
LOC14 = !(((*(*N_132771).KindU.S6.Sons->data[I_132806]).Kind == ((NU8) 24)));
if (LOC14) goto LA15;
LOC14 = !(((*(*(*N_132771).KindU.S6.Sons->data[I_132806]).KindU.S6.Sons->data[0]).Kind == ((NU8) 3) || (*(*(*N_132771).KindU.S6.Sons->data[I_132806]).KindU.S6.Sons->data[0]).Kind == ((NU8) 2)));
LA15: ;
if (!LOC14) goto LA16;
Limessage_42566((*(*N_132771).KindU.S6.Sons->data[I_132806]).Info, ((NU8) 168), ((NimStringDesc*) &TMP189930));
Result_132772 = ((NU8) 0);
goto BeforeRet;
LA16: ;
goto LA10;
LA11: ;
if (!((*(*N_132771).KindU.S6.Sons->data[I_132806]).Kind == ((NU8) 24))) goto LA19;
Limessage_42566((*(*N_132771).KindU.S6.Sons->data[I_132806]).Info, ((NU8) 169), ((NimStringDesc*) &TMP189930));
Result_132772 = ((NU8) 0);
goto BeforeRet;
LA19: ;
LA10: ;
Res_141006 += 1;
} LA9: ;
LA1: ;
BeforeRet: ;
return Result_132772;
}
N_NIMCALL(TY50525*, Semtuplepositionsconstr_133255)(TY102012* C_133257, TY50525* N_133258) {
TY50525* Result_133259;
TY50551* Typ_133260;
NI I_133268;
NI HEX3Atmp_141010;
NI LOC1;
NI Res_141012;
Result_133259 = 0;
Result_133259 = N_133258;
Typ_133260 = 0;
Typ_133260 = Newtypes_102077(((NU8) 18), C_133257);
I_133268 = 0;
HEX3Atmp_141010 = 0;
LOC1 = Sonslen_50803(N_133258);
HEX3Atmp_141010 = (NI32)(LOC1 - 1);
Res_141012 = 0;
Res_141012 = 0;
while (1) {
if (!(Res_141012 <= HEX3Atmp_141010)) goto LA2;
I_133268 = Res_141012;
asgnRefNoCycle((void**) &(*N_133258).KindU.S6.Sons->data[I_133268], Semexprwithtype_120122(C_133257, (*N_133258).KindU.S6.Sons->data[I_133268], 0));
Addson_50827(Typ_133260, (*(*N_133258).KindU.S6.Sons->data[I_133268]).Typ);
Res_141012 += 1;
} LA2: ;
asgnRef((void**) &(*Result_133259).Typ, Typ_133260);
return Result_133259;
}
N_NIMCALL(TY50525*, Semtuplefieldsconstr_132918)(TY102012* C_132920, TY50525* N_132921) {
TY50525* Result_132922;
TY50900 Ids_132923;
TY50551* Typ_132924;
NI I_132933;
NI HEX3Atmp_141007;
NI LOC1;
NI Res_141009;
NIM_BOOL LOC4;
TY49011* Id_133003;
NIM_BOOL LOC12;
TY50547* F_133194;
TY50525* LOC15;
Result_132922 = 0;
memset((void*)&Ids_132923, 0, sizeof(Ids_132923));
Result_132922 = Newnodei_50737(((NU8) 30), (*N_132921).Info);
Typ_132924 = 0;
Typ_132924 = Newtypes_102077(((NU8) 18), C_132920);
asgnRefNoCycle((void**) &(*Typ_132924).N, Newnodei_50737(((NU8) 113), (*N_132921).Info));
Intsetinit_50924(&Ids_132923);
I_132933 = 0;
HEX3Atmp_141007 = 0;
LOC1 = Sonslen_50803(N_132921);
HEX3Atmp_141007 = (NI32)(LOC1 - 1);
Res_141009 = 0;
Res_141009 = 0;
while (1) {
if (!(Res_141009 <= HEX3Atmp_141007)) goto LA2;
I_132933 = Res_141009;
LOC4 = !(((*(*N_132921).KindU.S6.Sons->data[I_132933]).Kind == ((NU8) 24)));
if (LOC4) goto LA5;
LOC4 = !(((*(*(*N_132921).KindU.S6.Sons->data[I_132933]).KindU.S6.Sons->data[0]).Kind == ((NU8) 3) || (*(*(*N_132921).KindU.S6.Sons->data[I_132933]).KindU.S6.Sons->data[0]).Kind == ((NU8) 2)));
LA5: ;
if (!LOC4) goto LA6;
Illformedast_102092((*N_132921).KindU.S6.Sons->data[I_132933]);
LA6: ;
Id_133003 = 0;
if (!((*(*(*N_132921).KindU.S6.Sons->data[I_132933]).KindU.S6.Sons->data[0]).Kind == ((NU8) 2))) goto LA9;
Id_133003 = (*(*(*N_132921).KindU.S6.Sons->data[I_132933]).KindU.S6.Sons->data[0]).KindU.S5.Ident;
goto LA8;
LA9: ;
Id_133003 = (*(*(*(*N_132921).KindU.S6.Sons->data[I_132933]).KindU.S6.Sons->data[0]).KindU.S4.Sym).Name;
LA8: ;
LOC12 = Intsetcontainsorincl_50928(&Ids_132923, (*Id_133003).Sup.Id);
if (!LOC12) goto LA13;
Limessage_42566((*(*N_132921).KindU.S6.Sons->data[I_132933]).Info, ((NU8) 83), (*Id_133003).S);
LA13: ;
asgnRefNoCycle((void**) &(*(*N_132921).KindU.S6.Sons->data[I_132933]).KindU.S6.Sons->data[1], Semexprwithtype_120122(C_132920, (*(*N_132921).KindU.S6.Sons->data[I_132933]).KindU.S6.Sons->data[1], 0));
F_133194 = 0;
F_133194 = Newsyms_120059(((NU8) 16), (*(*N_132921).KindU.S6.Sons->data[I_132933]).KindU.S6.Sons->data[0], C_132920);
asgnRef((void**) &(*F_133194).Typ, (*(*(*N_132921).KindU.S6.Sons->data[I_132933]).KindU.S6.Sons->data[1]).Typ);
Addson_50827(Typ_132924, (*F_133194).Typ);
LOC15 = 0;
LOC15 = Newsymnode_50734(F_133194);
Addson_50823((*Typ_132924).N, LOC15);
asgnRefNoCycle((void**) &(*(*N_132921).KindU.S6.Sons->data[I_132933]).KindU.S6.Sons->data[0], Newsymnode_50734(F_133194));
Addson_50823(Result_132922, (*N_132921).KindU.S6.Sons->data[I_132933]);
Res_141009 += 1;
} LA2: ;
asgnRef((void**) &(*Result_132922).Typ, Typ_132924);
return Result_132922;
}
N_NIMCALL(TY50525*, Semsetconstr_132394)(TY102012* C_132396, TY50525* N_132397) {
TY50525* Result_132398;
NI LOC2;
TY50551* LOC5;
TY50551* Typ_132401;
NI I_132409;
NI HEX3Atmp_140998;
NI LOC6;
NI Res_141000;
NIM_BOOL LOC18;
NI64 LOC22;
NI I_132668;
NI HEX3Atmp_141001;
NI LOC25;
NI Res_141003;
TY50525* M_132669;
TY50525* LOC30;
TY50525* LOC31;
Result_132398 = 0;
Result_132398 = Newnodei_50737(((NU8) 31), (*N_132397).Info);
asgnRef((void**) &(*Result_132398).Typ, Newtypes_102077(((NU8) 19), C_132396));
LOC2 = Sonslen_50803(N_132397);
if (!(LOC2 == 0)) goto LA3;
LOC5 = 0;
LOC5 = Newtypes_102077(((NU8) 3), C_132396);
Addson_50827((*Result_132398).Typ, LOC5);
goto LA1;
LA3: ;
Typ_132401 = 0;
Typ_132401 = NIM_NIL;
I_132409 = 0;
HEX3Atmp_140998 = 0;
LOC6 = Sonslen_50803(N_132397);
HEX3Atmp_140998 = (NI32)(LOC6 - 1);
Res_141000 = 0;
Res_141000 = 0;
while (1) {
if (!(Res_141000 <= HEX3Atmp_140998)) goto LA7;
I_132409 = Res_141000;
if (!((*(*N_132397).KindU.S6.Sons->data[I_132409]).Kind == ((NU8) 35))) goto LA9;
Checksonslen_102099((*N_132397).KindU.S6.Sons->data[I_132409], 2);
asgnRefNoCycle((void**) &(*(*N_132397).KindU.S6.Sons->data[I_132409]).KindU.S6.Sons->data[0], Semexprwithtype_120122(C_132396, (*(*N_132397).KindU.S6.Sons->data[I_132409]).KindU.S6.Sons->data[0], 0));
asgnRefNoCycle((void**) &(*(*N_132397).KindU.S6.Sons->data[I_132409]).KindU.S6.Sons->data[1], Semexprwithtype_120122(C_132396, (*(*N_132397).KindU.S6.Sons->data[I_132409]).KindU.S6.Sons->data[1], 0));
if (!(Typ_132401 == NIM_NIL)) goto LA12;
Typ_132401 = Skiptypes_92087((*(*(*N_132397).KindU.S6.Sons->data[I_132409]).KindU.S6.Sons->data[0]).Typ, 8423424);
LA12: ;
asgnRef((void**) &(*(*N_132397).KindU.S6.Sons->data[I_132409]).Typ, (*(*(*N_132397).KindU.S6.Sons->data[I_132409]).KindU.S6.Sons->data[1]).Typ);
goto LA8;
LA9: ;
asgnRefNoCycle((void**) &(*N_132397).KindU.S6.Sons->data[I_132409], Semexprwithtype_120122(C_132396, (*N_132397).KindU.S6.Sons->data[I_132409], 0));
if (!(Typ_132401 == NIM_NIL)) goto LA15;
Typ_132401 = Skiptypes_92087((*(*N_132397).KindU.S6.Sons->data[I_132409]).Typ, 8423424);
LA15: ;
LA8: ;
Res_141000 += 1;
} LA7: ;
LOC18 = Isordinaltype_92069(Typ_132401);
if (!!(LOC18)) goto LA19;
Limessage_42566((*N_132397).Info, ((NU8) 71), ((NimStringDesc*) &TMP189930));
goto BeforeRet;
LA19: ;
LOC22 = Lengthord_92007(Typ_132401);
if (!(65536 < LOC22)) goto LA23;
Typ_132401 = Makerangetype_102086(C_132396, 0, 65535, (*N_132397).Info);
LA23: ;
Addson_50827((*Result_132398).Typ, Typ_132401);
I_132668 = 0;
HEX3Atmp_141001 = 0;
LOC25 = Sonslen_50803(N_132397);
HEX3Atmp_141001 = (NI32)(LOC25 - 1);
Res_141003 = 0;
Res_141003 = 0;
while (1) {
if (!(Res_141003 <= HEX3Atmp_141001)) goto LA26;
I_132668 = Res_141003;
M_132669 = 0;
if (!((*(*N_132397).KindU.S6.Sons->data[I_132668]).Kind == ((NU8) 35))) goto LA28;
M_132669 = Newnodei_50737(((NU8) 35), (*(*N_132397).KindU.S6.Sons->data[I_132668]).Info);
LOC30 = 0;
LOC30 = Fitnode_120129(C_132396, Typ_132401, (*(*N_132397).KindU.S6.Sons->data[I_132668]).KindU.S6.Sons->data[0]);
Addson_50823(M_132669, LOC30);
LOC31 = 0;
LOC31 = Fitnode_120129(C_132396, Typ_132401, (*(*N_132397).KindU.S6.Sons->data[I_132668]).KindU.S6.Sons->data[1]);
Addson_50823(M_132669, LOC31);
goto LA27;
LA28: ;
M_132669 = Fitnode_120129(C_132396, Typ_132401, (*N_132397).KindU.S6.Sons->data[I_132668]);
LA27: ;
Addson_50823(Result_132398, M_132669);
Res_141003 += 1;
} LA26: ;
LA1: ;
BeforeRet: ;
return Result_132398;
}
N_NIMCALL(TY50525*, Semlambda_120134)(TY102012* C_120136, TY50525* N_120137) {
TY50525* Result_139482;
TY50547* S_139483;
TY49011* LOC1;
TY50547* LOC2;
TY102006* Oldp_139484;
Result_139482 = 0;
Result_139482 = N_120137;
Checksonslen_102099(N_120137, 5);
S_139483 = 0;
LOC1 = 0;
LOC1 = Getident_49016(((NimStringDesc*) &TMP190210));
LOC2 = 0;
LOC2 = Getcurrowner_102107();
S_139483 = Newsym_50701(((NU8) 10), LOC1, LOC2);
(*S_139483).Info = (*N_120137).Info;
Oldp_139484 = 0;
Oldp_139484 = (*C_120136).P;
asgnRefNoCycle((void**) &(*S_139483).Ast, N_120137);
asgnRefNoCycle((void**) &(*N_120137).KindU.S6.Sons->data[0], Newsymnode_50734(S_139483));
Pushowner_102109(S_139483);
Openscope_55146(&(*C_120136).Tab);
if (!!(((*N_120137).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA4;
Illformedast_102092(N_120137);
LA4: ;
if (!!(((*N_120137).KindU.S6.Sons->data[2] == NIM_NIL))) goto LA7;
Semparamlist_120147(C_120136, (*N_120137).KindU.S6.Sons->data[2], NIM_NIL, S_139483);
Addparams_120153(C_120136, (*(*S_139483).Typ).N);
goto LA6;
LA7: ;
asgnRef((void**) &(*S_139483).Typ, Newtypes_102077(((NU8) 25), C_120136));
Addson_50827((*S_139483).Typ, NIM_NIL);
LA6: ;
(*(*S_139483).Typ).Callconv = ((NU8) 8);
if (!!(((*N_120137).KindU.S6.Sons->data[3] == NIM_NIL))) goto LA10;
Pragma_117028(C_120136, S_139483, (*N_120137).KindU.S6.Sons->data[3], TMP190211);
LA10: ;
(*S_139483).Options = Goptions_41076;
if (!!(((*N_120137).KindU.S6.Sons->data[4] == NIM_NIL))) goto LA13;
if (!(((*S_139483).Flags &(1<<((((NU8) 7))&31)))!=0)) goto LA16;
Limessage_42566((*(*N_120137).KindU.S6.Sons->data[4]).Info, ((NU8) 134), (*(*S_139483).Name).S);
LA16: ;
asgnRefNoCycle((void**) &(*C_120136).P, Newproccon_102050(S_139483));
Addresult_120157(C_120136, (*(*S_139483).Typ).Sons->data[0], (*N_120137).Info);
asgnRefNoCycle((void**) &(*N_120137).KindU.S6.Sons->data[4], Semstmtscope_120104(C_120136, (*N_120137).KindU.S6.Sons->data[4]));
Addresultnode_120162(C_120136, N_120137);
goto LA12;
LA13: ;
Limessage_42566((*N_120137).Info, ((NU8) 135), (*(*S_139483).Name).S);
LA12: ;
Closescope_103017(&(*C_120136).Tab);
Popowner_102112();
asgnRefNoCycle((void**) &(*C_120136).P, Oldp_139484);
asgnRef((void**) &(*Result_139482).Typ, (*S_139483).Typ);
return Result_139482;
}
N_NIMCALL(NIM_BOOL, Iscastable_128174)(TY50551* Dst_128176, TY50551* Src_128177) {
NIM_BOOL Result_128178;
NI64 Ds_128179;
NI64 Ss_128180;
NIM_BOOL LOC6;
NIM_BOOL LOC7;
TY50551* LOC9;
TY50551* LOC11;
Result_128178 = 0;
Ds_128179 = 0;
Ss_128180 = 0;
Ds_128179 = Computesize_92112(Dst_128176);
Ss_128180 = Computesize_92112(Src_128177);
if (!(Ds_128179 < 0)) goto LA2;
Result_128178 = NIM_FALSE;
goto LA1;
LA2: ;
if (!(Ss_128180 < 0)) goto LA4;
Result_128178 = NIM_FALSE;
goto LA1;
LA4: ;
LOC7 = (Ss_128180 <= Ds_128179);
if (LOC7) goto LA8;
LOC9 = 0;
LOC9 = Skiptypes_92087(Dst_128176, 43008);
LOC7 = ((*LOC9).Kind >= ((NU8) 31) && (*LOC9).Kind <= ((NU8) 39));
LA8: ;
LOC6 = LOC7;
if (LOC6) goto LA10;
LOC11 = 0;
LOC11 = Skiptypes_92087(Src_128177, 43008);
LOC6 = ((*LOC11).Kind >= ((NU8) 31) && (*LOC11).Kind <= ((NU8) 39));
LA10: ;
Result_128178 = LOC6;
LA1: ;
return Result_128178;
}
N_NIMCALL(TY50525*, Semcast_128357)(TY102012* C_128359, TY50525* N_128360) {
TY50525* Result_128361;
TY50525* LOC4;
TY50525* LOC5;
NIM_BOOL LOC7;
NimStringDesc* LOC10;
Result_128361 = 0;
if (!((Gglobaloptions_41078 &(1<<((((NU8) 8))&31)))!=0)) goto LA2;
Limessage_42566((*N_128360).Info, ((NU8) 88), ((NimStringDesc*) &TMP189930));
LA2: ;
(*(*(*C_128359).P).Owner).Flags |=(1<<((NI32)(((NU8) 14))%(sizeof(NI32)*8)));
Checksonslen_102099(N_128360, 2);
Result_128361 = Newnodei_50737(((NU8) 51), (*N_128360).Info);
asgnRef((void**) &(*Result_128361).Typ, Semtypenode_120138(C_128359, (*N_128360).KindU.S6.Sons->data[0], NIM_NIL));
LOC4 = 0;
LOC4 = Copytree_50858((*N_128360).KindU.S6.Sons->data[0]);
Addson_50823(Result_128361, LOC4);
LOC5 = 0;
LOC5 = Semexprwithtype_120122(C_128359, (*N_128360).KindU.S6.Sons->data[1], 0);
Addson_50823(Result_128361, LOC5);
LOC7 = Iscastable_128174((*Result_128361).Typ, (*(*Result_128361).KindU.S6.Sons->data[1]).Typ);
if (!!(LOC7)) goto LA8;
LOC10 = 0;
LOC10 = Typetostring_92014((*Result_128361).Typ, ((NU8) 0));
Limessage_42566((*Result_128361).Info, ((NU8) 89), LOC10);
LA8: ;
return Result_128361;
}
N_NIMCALL(TY50525*, Semifexpr_132201)(TY102012* C_132203, TY50525* N_132204) {
TY50525* Result_132205;
TY50551* Typ_132206;
NI I_132214;
NI HEX3Atmp_140995;
NI LOC1;
NI Res_140997;
TY50525* It_132227;
Result_132205 = 0;
Result_132205 = N_132204;
Checkminsonslen_102103(N_132204, 2);
Typ_132206 = 0;
Typ_132206 = NIM_NIL;
I_132214 = 0;
HEX3Atmp_140995 = 0;
LOC1 = Sonslen_50803(N_132204);
HEX3Atmp_140995 = (NI32)(LOC1 - 1);
Res_140997 = 0;
Res_140997 = 0;
while (1) {
if (!(Res_140997 <= HEX3Atmp_140995)) goto LA2;
I_132214 = Res_140997;
It_132227 = 0;
It_132227 = (*N_132204).KindU.S6.Sons->data[I_132214];
switch ((*It_132227).Kind) {
case ((NU8) 40):
Checksonslen_102099(It_132227, 2);
asgnRefNoCycle((void**) &(*It_132227).KindU.S6.Sons->data[0], Semexprwithtype_120122(C_132203, (*It_132227).KindU.S6.Sons->data[0], 0));
Checkbool_124779((*It_132227).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*It_132227).KindU.S6.Sons->data[1], Semexprwithtype_120122(C_132203, (*It_132227).KindU.S6.Sons->data[1], 0));
if (!(Typ_132206 == NIM_NIL)) goto LA4;
Typ_132206 = (*(*It_132227).KindU.S6.Sons->data[1]).Typ;
goto LA3;
LA4: ;
asgnRefNoCycle((void**) &(*It_132227).KindU.S6.Sons->data[1], Fitnode_120129(C_132203, Typ_132206, (*It_132227).KindU.S6.Sons->data[1]));
LA3: ;
break;
case ((NU8) 41):
Checksonslen_102099(It_132227, 1);
asgnRefNoCycle((void**) &(*It_132227).KindU.S6.Sons->data[0], Semexprwithtype_120122(C_132203, (*It_132227).KindU.S6.Sons->data[0], 0));
if (!(Typ_132206 == NIM_NIL)) goto LA7;
Internalerror_42571((*It_132227).Info, ((NimStringDesc*) &TMP190213));
LA7: ;
asgnRefNoCycle((void**) &(*It_132227).KindU.S6.Sons->data[0], Fitnode_120129(C_132203, Typ_132206, (*It_132227).KindU.S6.Sons->data[0]));
break;
default:
Illformedast_102092(N_132204);
break;
}
Res_140997 += 1;
} LA2: ;
asgnRef((void**) &(*Result_132205).Typ, Typ_132206);
return Result_132205;
}
N_NIMCALL(TY50525*, Semstmtlistexpr_133305)(TY102012* C_133307, TY50525* N_133308) {
TY50525* Result_133309;
NI Length_133310;
NI I_133318;
NI HEX3Atmp_141013;
NI Res_141015;
Result_133309 = 0;
Result_133309 = N_133308;
Checkminsonslen_102103(N_133308, 1);
Length_133310 = 0;
Length_133310 = Sonslen_50803(N_133308);
I_133318 = 0;
HEX3Atmp_141013 = 0;
HEX3Atmp_141013 = (NI32)(Length_133310 - 2);
Res_141015 = 0;
Res_141015 = 0;
while (1) {
if (!(Res_141015 <= HEX3Atmp_141013)) goto LA1;
I_133318 = Res_141015;
asgnRefNoCycle((void**) &(*N_133308).KindU.S6.Sons->data[I_133318], Semstmt_120143(C_133307, (*N_133308).KindU.S6.Sons->data[I_133318]));
Res_141015 += 1;
} LA1: ;
if (!(0 < Length_133310)) goto LA3;
asgnRefNoCycle((void**) &(*N_133308).KindU.S6.Sons->data[(NI32)(Length_133310 - 1)], Semexprwithtype_120122(C_133307, (*N_133308).KindU.S6.Sons->data[(NI32)(Length_133310 - 1)], 0));
asgnRef((void**) &(*N_133308).Typ, (*(*N_133308).KindU.S6.Sons->data[(NI32)(Length_133310 - 1)]).Typ);
LA3: ;
return Result_133309;
}
N_NIMCALL(TY50525*, Semblockexpr_133381)(TY102012* C_133383, TY50525* N_133384) {
TY50525* Result_133385;
TY50547* LOC4;
Result_133385 = 0;
Result_133385 = N_133384;
(*(*C_133383).P).Nestedblockcounter += 1;
Checksonslen_102099(N_133384, 2);
Openscope_55146(&(*C_133383).Tab);
if (!!(((*N_133384).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA2;
LOC4 = 0;
LOC4 = Newsyms_120059(((NU8) 19), (*N_133384).KindU.S6.Sons->data[0], C_133383);
Adddecl_103026(C_133383, LOC4);
LA2: ;
asgnRefNoCycle((void**) &(*N_133384).KindU.S6.Sons->data[1], Semstmtlistexpr_133305(C_133383, (*N_133384).KindU.S6.Sons->data[1]));
asgnRef((void**) &(*N_133384).Typ, (*(*N_133384).KindU.S6.Sons->data[1]).Typ);
Closescope_103017(&(*C_133383).Tab);
(*(*C_133383).P).Nestedblockcounter -= 1;
return Result_133385;
}
N_NIMCALL(TY50525*, Semexpr_120115)(TY102012* C_120117, TY50525* N_120118, NU8 Flags_120121) {
TY50525* Result_133650;
TY50547* S_133673;
TY50547* S_133840;
TY50547* S_133903;
NIM_BOOL LOC55;
NU8 LOC59;
TY50551* T_133976;
NU8 LOC61;
NimStringDesc* LOC64;
NimStringDesc* LOC65;
Result_133650 = 0;
Result_133650 = N_120118;
if (!(N_120118 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
if (!(((*N_120118).Flags &(1<<((((NU8) 6))&7)))!=0)) goto LA5;
goto BeforeRet;
LA5: ;
switch ((*N_120118).Kind) {
case ((NU8) 2):
S_133673 = 0;
S_133673 = Lookup_103049(C_120117, N_120118);
Result_133650 = Semsym_127956(C_120117, N_120118, S_133673, Flags_120121);
break;
case ((NU8) 3):
Result_133650 = Semsym_127956(C_120117, N_120118, (*N_120118).KindU.S4.Sym, Flags_120121);
break;
case ((NU8) 1):
case ((NU8) 0):
break;
case ((NU8) 18):
asgnRef((void**) &(*Result_133650).Typ, Getsystype_97008(((NU8) 5)));
break;
case ((NU8) 4):
if (!!(((Flags_120121 &(1<<((((NU8) 0))&7)))!=0))) goto LA8;
Limessage_42566((*N_120118).Info, ((NU8) 162), ((NimStringDesc*) &TMP189930));
LA8: ;
asgnRef((void**) &(*N_120118).Typ, Semtypenode_120138(C_120117, N_120118, NIM_NIL));
break;
case ((NU8) 6):
if (!((*Result_133650).Typ == NIM_NIL)) goto LA11;
asgnRef((void**) &(*Result_133650).Typ, Getsystype_97008(((NU8) 31)));
LA11: ;
break;
case ((NU8) 7):
if (!((*Result_133650).Typ == NIM_NIL)) goto LA14;
asgnRef((void**) &(*Result_133650).Typ, Getsystype_97008(((NU8) 32)));
LA14: ;
break;
case ((NU8) 8):
if (!((*Result_133650).Typ == NIM_NIL)) goto LA17;
asgnRef((void**) &(*Result_133650).Typ, Getsystype_97008(((NU8) 33)));
LA17: ;
break;
case ((NU8) 9):
if (!((*Result_133650).Typ == NIM_NIL)) goto LA20;
asgnRef((void**) &(*Result_133650).Typ, Getsystype_97008(((NU8) 34)));
LA20: ;
break;
case ((NU8) 10):
if (!((*Result_133650).Typ == NIM_NIL)) goto LA23;
asgnRef((void**) &(*Result_133650).Typ, Getsystype_97008(((NU8) 35)));
LA23: ;
break;
case ((NU8) 11):
if (!((*Result_133650).Typ == NIM_NIL)) goto LA26;
asgnRef((void**) &(*Result_133650).Typ, Getsystype_97008(((NU8) 36)));
LA26: ;
break;
case ((NU8) 12):
if (!((*Result_133650).Typ == NIM_NIL)) goto LA29;
asgnRef((void**) &(*Result_133650).Typ, Getsystype_97008(((NU8) 37)));
LA29: ;
break;
case ((NU8) 13):
if (!((*Result_133650).Typ == NIM_NIL)) goto LA32;
asgnRef((void**) &(*Result_133650).Typ, Getsystype_97008(((NU8) 38)));
LA32: ;
break;
case ((NU8) 14) ... ((NU8) 16):
if (!((*Result_133650).Typ == NIM_NIL)) goto LA35;
asgnRef((void**) &(*Result_133650).Typ, Getsystype_97008(((NU8) 28)));
LA35: ;
break;
case ((NU8) 5):
if (!((*Result_133650).Typ == NIM_NIL)) goto LA38;
asgnRef((void**) &(*Result_133650).Typ, Getsystype_97008(((NU8) 2)));
LA38: ;
break;
case ((NU8) 36):
Result_133650 = Semfieldaccess_127908(C_120117, N_120118, Flags_120121);
if (!((*Result_133650).Kind == ((NU8) 19))) goto LA41;
(*Result_133650).Kind = ((NU8) 21);
Result_133650 = Semexpr_120115(C_120117, Result_133650, Flags_120121);
LA41: ;
break;
case ((NU8) 45):
Result_133650 = Semexpr_120115(C_120117, (*N_120118).KindU.S6.Sons->data[0], Flags_120121);
break;
case ((NU8) 21):
case ((NU8) 27):
case ((NU8) 28):
case ((NU8) 29):
case ((NU8) 20):
case ((NU8) 22):
Checkminsonslen_102103(N_120118, 1);
S_133840 = 0;
S_133840 = Qualifiedlookup_103053(C_120117, (*N_120118).KindU.S6.Sons->data[0], NIM_FALSE);
if (!!((S_133840 == NIM_NIL))) goto LA44;
switch ((*S_133840).Kind) {
case ((NU8) 14):
Result_133650 = Semmacroexpr_121073(C_120117, N_120118, S_133840, NIM_TRUE);
break;
case ((NU8) 15):
Result_133650 = Semtemplateexpr_127901(C_120117, N_120118, S_133840, NIM_TRUE);
break;
case ((NU8) 7):
if (!!(((*N_120118).Kind == ((NU8) 21)))) goto LA47;
Limessage_42566((*N_120118).Info, ((NU8) 151), (*(*S_133840).Name).S);
LA47: ;
Result_133650 = Semconv_128211(C_120117, N_120118, S_133840);
break;
case ((NU8) 10):
case ((NU8) 11):
case ((NU8) 13):
case ((NU8) 12):
if (!((*S_133840).Magic == ((NU8) 0))) goto LA50;
Result_133650 = Semdirectop_130522(C_120117, N_120118, Flags_120121);
goto LA49;
LA50: ;
Result_133650 = Semmagic_130858(C_120117, N_120118, S_133840, Flags_120121);
LA49: ;
break;
default:
Result_133650 = Semindirectop_130208(C_120117, N_120118, Flags_120121);
break;
}
goto LA43;
LA44: ;
if (!((*(*N_120118).KindU.S6.Sons->data[0]).Kind == ((NU8) 46))) goto LA52;
Result_133650 = Semdirectop_130522(C_120117, N_120118, Flags_120121);
goto LA43;
LA52: ;
Result_133650 = Semindirectop_130208(C_120117, N_120118, Flags_120121);
LA43: ;
break;
case ((NU8) 79):
Result_133650 = Semmacrostmt_133499(C_120117, N_120118, NIM_TRUE);
break;
case ((NU8) 33):
Checkminsonslen_102103(N_120118, 1);
S_133903 = 0;
S_133903 = Qualifiedlookup_103053(C_120117, (*N_120118).KindU.S6.Sons->data[0], NIM_FALSE);
LOC55 = !((S_133903 == NIM_NIL));
if (!(LOC55)) goto LA56;
LOC55 = ((15360 &(1<<(((*S_133903).Kind)&31)))!=0);
LA56: ;
if (!LOC55) goto LA57;
Result_133650 = Partialspecialization_121989(C_120117, N_120118, S_133903);
goto LA54;
LA57: ;
Result_133650 = Semarrayaccess_131991(C_120117, N_120118, Flags_120121);
LA54: ;
break;
case ((NU8) 34):
Internalerror_42571((*N_120118).Info, ((NimStringDesc*) &TMP190209));
break;
case ((NU8) 30):
LOC59 = Checkpar_132769(N_120118);
switch (LOC59) {
case ((NU8) 0):
Result_133650 = NIM_NIL;
break;
case ((NU8) 3):
Result_133650 = Semtuplepositionsconstr_133255(C_120117, N_120118);
break;
case ((NU8) 2):
Result_133650 = Semtuplefieldsconstr_132918(C_120117, N_120118);
break;
case ((NU8) 1):
Result_133650 = Semexpr_120115(C_120117, (*N_120118).KindU.S6.Sons->data[0], 0);
break;
}
break;
case ((NU8) 31):
Result_133650 = Semsetconstr_132394(C_120117, N_120118);
break;
case ((NU8) 32):
Result_133650 = Semarrayconstr_129035(C_120117, N_120118);
break;
case ((NU8) 42):
Result_133650 = Semlambda_120134(C_120117, N_120118);
break;
case ((NU8) 38):
Checksonslen_102099(N_120118, 1);
asgnRefNoCycle((void**) &(*N_120118).KindU.S6.Sons->data[0], Semexprwithtype_120122(C_120117, (*N_120118).KindU.S6.Sons->data[0], 0));
Result_133650 = N_120118;
T_133976 = 0;
T_133976 = Skiptypes_92087((*(*N_120118).KindU.S6.Sons->data[0]).Typ, 8390656);
switch ((*T_133976).Kind) {
case ((NU8) 22):
case ((NU8) 21):
asgnRef((void**) &(*N_120118).Typ, (*T_133976).Sons->data[0]);
break;
default:
Limessage_42566((*(*N_120118).KindU.S6.Sons->data[0]).Info, ((NU8) 164), ((NimStringDesc*) &TMP189930));
break;
}
Result_133650 = N_120118;
break;
case ((NU8) 52):
Result_133650 = N_120118;
Checksonslen_102099(N_120118, 1);
asgnRefNoCycle((void**) &(*N_120118).KindU.S6.Sons->data[0], Semexprwithtype_120122(C_120117, (*N_120118).KindU.S6.Sons->data[0], 0));
LOC61 = Isassignable_129460((*N_120118).KindU.S6.Sons->data[0]);
if (!!((LOC61 == ((NU8) 1)))) goto LA62;
Limessage_42566((*N_120118).Info, ((NU8) 123), ((NimStringDesc*) &TMP189930));
LA62: ;
asgnRef((void**) &(*N_120118).Typ, Makeptrtype_102069(C_120117, (*(*N_120118).KindU.S6.Sons->data[0]).Typ));
break;
case ((NU8) 53):
case ((NU8) 54):
Checksonslen_102099(N_120118, 1);
asgnRefNoCycle((void**) &(*N_120118).KindU.S6.Sons->data[0], Semexpr_120115(C_120117, (*N_120118).KindU.S6.Sons->data[0], Flags_120121));
break;
case ((NU8) 51):
Result_133650 = Semcast_128357(C_120117, N_120118);
break;
case ((NU8) 43):
Checksonslen_102099(N_120118, 1);
Result_133650 = Semexpr_120115(C_120117, (*N_120118).KindU.S6.Sons->data[0], 0);
break;
case ((NU8) 39):
Result_133650 = Semifexpr_132201(C_120117, N_120118);
break;
case ((NU8) 106):
Result_133650 = Semstmtlistexpr_133305(C_120117, N_120118);
break;
case ((NU8) 107):
Result_133650 = Semblockexpr_133381(C_120117, N_120118);
break;
case ((NU8) 47):
case ((NU8) 48):
case ((NU8) 50):
case ((NU8) 49):
Checksonslen_102099(N_120118, 2);
break;
case ((NU8) 60):
case ((NU8) 61):
case ((NU8) 62):
case ((NU8) 55):
case ((NU8) 56):
Checksonslen_102099(N_120118, 1);
break;
case ((NU8) 57):
case ((NU8) 58):
case ((NU8) 59):
Checksonslen_102099(N_120118, 3);
break;
case ((NU8) 37):
Checkminsonslen_102103(N_120118, 2);
break;
case ((NU8) 46):
LOC64 = 0;
LOC64 = Rendertree_80042(N_120118, 4);
Limessage_42566((*N_120118).Info, ((NU8) 69), LOC64);
break;
default:
LOC65 = 0;
LOC65 = Rendertree_80042(N_120118, 4);
Limessage_42566((*N_120118).Info, ((NU8) 166), LOC65);
break;
}
(*Result_133650).Flags |=(1<<((NI8)(((NU8) 6))%(sizeof(NI8)*8)));
BeforeRet: ;
return Result_133650;
}
N_NIMCALL(TY50525*, Semexprwithtype_120122)(TY102012* C_120124, TY50525* N_120125, NU8 Flags_120128) {
TY50525* Result_127922;
NimStringDesc* LOC7;
TY50525* D_127955;
Result_127922 = 0;
Result_127922 = Semexpr_120115(C_120124, N_120125, Flags_120128);
if (!(Result_127922 == NIM_NIL)) goto LA2;
Internalerror_42575(((NimStringDesc*) &TMP190214));
LA2: ;
if (!((*Result_127922).Typ == NIM_NIL)) goto LA5;
LOC7 = 0;
LOC7 = Rendertree_80042(Result_127922, 4);
Limessage_42566((*N_120125).Info, ((NU8) 87), LOC7);
LA5: ;
if (!((*(*Result_127922).Typ).Kind == ((NU8) 23))) goto LA9;
D_127955 = 0;
D_127955 = Newnodeit_50741(((NU8) 54), (*Result_127922).Info, (*(*Result_127922).Typ).Sons->data[0]);
Addson_50823(D_127955, Result_127922);
Result_127922 = D_127955;
LA9: ;
return Result_127922;
}
N_NIMCALL(TY50525*, Semconstexpr_120171)(TY102012* C_120173, TY50525* N_120174) {
TY50525* Result_120175;
Result_120175 = 0;
Result_120175 = Semexprwithtype_120122(C_120173, N_120174, 0);
if (!(Result_120175 == NIM_NIL)) goto LA2;
Limessage_42566((*N_120174).Info, ((NU8) 102), ((NimStringDesc*) &TMP189930));
goto BeforeRet;
LA2: ;
Result_120175 = Getconstexpr_108010((*C_120173).Module, Result_120175);
if (!(Result_120175 == NIM_NIL)) goto LA5;
Limessage_42566((*N_120174).Info, ((NU8) 102), ((NimStringDesc*) &TMP189930));
LA5: ;
BeforeRet: ;
return Result_120175;
}
N_NIMCALL(TY50525*, Semexprnoflags_141267)(TY102012* C_141269, TY50525* N_141270) {
TY50525* Result_141271;
Result_141271 = 0;
Result_141271 = Semexpr_120115(C_141269, N_141270, 0);
return Result_141271;
}
N_NIMCALL(TY100002*, Myopen_141274)(TY50547* Module_141276, NimStringDesc* Filename_141277) {
TY100002* Result_141278;
TY102012* C_141279;
Result_141278 = 0;
C_141279 = 0;
C_141279 = Newcontext_102046(Module_141276, Filename_141277);
if (!!(((*C_141279).P == NIM_NIL))) goto LA2;
Internalerror_42571((*Module_141276).Info, ((NimStringDesc*) &TMP189928));
LA2: ;
(*C_141279).Semconstexpr = Semconstexpr_120171;
(*C_141279).Semexpr = Semexprnoflags_141267;
asgnRefNoCycle((void**) &(*C_141279).P, Newproccon_102050(Module_141276));
Pushowner_102109((*C_141279).Module);
Openscope_55146(&(*C_141279).Tab);
Symtabadd_55124(&(*C_141279).Tab, Module_141276);
if (!(((*Module_141276).Flags &(1<<((((NU8) 16))&31)))!=0)) goto LA5;
asgnRef((void**) &Systemmodule_97004, Module_141276);
Initsystem_97017(&(*C_141279).Tab);
goto LA4;
LA5: ;
Symtabadd_55124(&(*C_141279).Tab, Systemmodule_97004);
Importallsymbols_105009(C_141279, Systemmodule_97004);
LA4: ;
Openscope_55146(&(*C_141279).Tab);
Result_141278 = &C_141279->Sup;
return Result_141278;
}
N_NIMCALL(TY100002*, Myopencached_141307)(TY50547* Module_141309, NimStringDesc* Filename_141310, TY88031* Rd_141311) {
TY100002* Result_141312;
TY102012* C_141313;
TY100002* LOC1;
Result_141312 = 0;
C_141313 = 0;
LOC1 = 0;
LOC1 = Myopen_141274(Module_141309, Filename_141310);
C_141313 = ((TY102012*) (LOC1));
(*C_141313).Fromcache = NIM_TRUE;
Result_141312 = &C_141313->Sup;
return Result_141312;
}
N_NIMCALL(void, Addcodeforgenerics_141149)(TY102012* C_141151, TY50525* N_141152) {
NI I_141160;
NI HEX3Atmp_141263;
NI HEX3Atmp_141264;
NI LOC1;
NI Res_141266;
TY50525* It_141185;
TY50547* Prc_141207;
NIM_BOOL LOC7;
NIM_BOOL LOC12;
NimStringDesc* LOC16;
I_141160 = 0;
HEX3Atmp_141263 = 0;
HEX3Atmp_141264 = 0;
HEX3Atmp_141263 = (*C_141151).Lastgenericidx;
LOC1 = Sonslen_50803((*C_141151).Generics);
HEX3Atmp_141264 = (NI32)(LOC1 - 1);
Res_141266 = 0;
Res_141266 = HEX3Atmp_141263;
while (1) {
if (!(Res_141266 <= HEX3Atmp_141264)) goto LA2;
I_141160 = Res_141266;
It_141185 = 0;
It_141185 = (*(*(*C_141151).Generics).KindU.S6.Sons->data[I_141160]).KindU.S6.Sons->data[1];
if (!!(((*It_141185).Kind == ((NU8) 3)))) goto LA4;
Internalerror_42575(((NimStringDesc*) &TMP190216));
LA4: ;
Prc_141207 = 0;
Prc_141207 = (*It_141185).KindU.S4.Sym;
LOC7 = ((11264 &(1<<(((*Prc_141207).Kind)&31)))!=0);
if (!(LOC7)) goto LA8;
LOC7 = ((*Prc_141207).Magic == ((NU8) 0));
LA8: ;
if (!LOC7) goto LA9;
LOC12 = ((*Prc_141207).Ast == NIM_NIL);
if (LOC12) goto LA13;
LOC12 = ((*(*Prc_141207).Ast).KindU.S6.Sons->data[4] == NIM_NIL);
LA13: ;
if (!LOC12) goto LA14;
LOC16 = 0;
LOC16 = rawNewString((*(*Prc_141207).Name).S->Sup.len + 12);
appendString(LOC16, ((NimStringDesc*) &TMP190217));
appendString(LOC16, (*(*Prc_141207).Name).S);
Internalerror_42571((*Prc_141207).Info, LOC16);
LA14: ;
Addson_50823(N_141152, (*Prc_141207).Ast);
LA9: ;
Res_141266 += 1;
} LA2: ;
(*C_141151).Lastgenericidx = Sonslen_50803((*C_141151).Generics);
}
N_NIMCALL(TY50525*, Myclose_141325)(TY100002* Context_141327, TY50525* N_141328) {
TY50525* Result_141329;
TY102012* C_141330;
Result_141329 = 0;
C_141330 = 0;
C_141330 = ((TY102012*) (Context_141327));
Closescope_103017(&(*C_141330).Tab);
Rawclosescope_55150(&(*C_141330).Tab);
if (!(N_141328 == NIM_NIL)) goto LA2;
Result_141329 = Newnode_50710(((NU8) 101));
goto LA1;
LA2: ;
Internalerror_42571((*N_141328).Info, ((NimStringDesc*) &TMP190215));
LA1: ;
Addcodeforgenerics_141149(C_141330, Result_141329);
Popowner_102112();
asgnRefNoCycle((void**) &(*C_141330).P, NIM_NIL);
return Result_141329;
}
N_NIMCALL(TY50525*, Myprocess_141314)(TY100002* Context_141316, TY50525* N_141317) {
TY50525* Result_141318;
TY102012* C_141319;
NI LOC2;
TY50525* A_141322;
NI LOC6;
Result_141318 = 0;
Result_141318 = NIM_NIL;
C_141319 = 0;
C_141319 = ((TY102012*) (Context_141316));
Result_141318 = Semstmt_120143(C_141319, N_141317);
LOC2 = Sonslen_50803((*C_141319).Generics);
if (!(0 < LOC2)) goto LA3;
A_141322 = 0;
A_141322 = Newnodei_50737(((NU8) 101), (*N_141317).Info);
Addcodeforgenerics_141149(C_141319, A_141322);
LOC6 = Sonslen_50803(A_141322);
if (!(0 < LOC6)) goto LA7;
Addsonifnotnil_50831(A_141322, Result_141318);
Result_141318 = A_141322;
LA7: ;
LA3: ;
return Result_141318;
}
N_NIMCALL(TY100006, Sempass_120001)(void) {
TY100006 Result_141346;
memset((void*)&Result_141346, 0, sizeof(Result_141346));
Initpass_100031(&Result_141346);
Result_141346.Open = Myopen_141274;
Result_141346.Opencached = Myopencached_141307;
Result_141346.Close = Myclose_141325;
Result_141346.Process = Myprocess_141314;
return Result_141346;
}
N_NOINLINE(void, semInit)(void) {
Evaltemplatecounter_120423 = 0;
}

