/* Generated by Nimrod Compiler v0.8.11 */
/*   (c) 2011 Andreas Rumpf */

typedef long int NI;
typedef unsigned long int NU;
#include "nimbase.h"

typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
struct TGenericSeq {
NI len;
NI space;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
N_NIMCALL(NI, Gethashstr_40031)(NimStringDesc* S_40033) {
NI Result_40130;
NI H_40131;
NI I_40157;
NI HEX3Atmp_40163;
NI Res_40165;
Result_40130 = 0;
H_40131 = 0;
H_40131 = 0;
I_40157 = 0;
HEX3Atmp_40163 = 0;
HEX3Atmp_40163 = S_40033->Sup.len;
Res_40165 = 0;
Res_40165 = 1;
while (1) {
if (!(Res_40165 <= HEX3Atmp_40163)) goto LA1;
I_40157 = Res_40165;
H_40131 = (NI32)((NU32)(H_40131) + (NU32)(((NU8)(S_40033->data[I_40157]))));
H_40131 = (NI32)((NU32)(H_40131) + (NU32)((NI32)((NU32)(H_40131) << (NU32)(10))));
H_40131 = (NI32)(H_40131 ^ (NI32)((NU32)(H_40131) >> (NU32)(6)));
Res_40165 += 1;
} LA1: ;
H_40131 = (NI32)((NU32)(H_40131) + (NU32)((NI32)((NU32)(H_40131) << (NU32)(3))));
H_40131 = (NI32)(H_40131 ^ (NI32)((NU32)(H_40131) >> (NU32)(11)));
H_40131 = (NI32)((NU32)(H_40131) + (NU32)((NI32)((NU32)(H_40131) << (NU32)(15))));
Result_40130 = ((NI) (H_40131));
return Result_40130;
}
N_NIMCALL(NI, Gethashstrci_40034)(NimStringDesc* S_40036) {
NI Result_40224;
NI H_40225;
NIM_CHAR C_40226;
NI I_40237;
NI HEX3Atmp_40270;
NI Res_40272;
Result_40224 = 0;
H_40225 = 0;
C_40226 = 0;
H_40225 = 0;
I_40237 = 0;
HEX3Atmp_40270 = 0;
HEX3Atmp_40270 = (NI32)((NI32)(S_40036->Sup.len + 0) - 1);
Res_40272 = 0;
Res_40272 = 0;
while (1) {
if (!(Res_40272 <= HEX3Atmp_40270)) goto LA1;
I_40237 = Res_40272;
C_40226 = S_40036->data[I_40237];
if (!(((NU8)(C_40226)) >= ((NU8)(65)) && ((NU8)(C_40226)) <= ((NU8)(90)))) goto LA3;
C_40226 = ((NIM_CHAR) (((NI) ((NI32)(((NU8)(C_40226)) + 32)))));
LA3: ;
H_40225 = (NI32)((NU32)(H_40225) + (NU32)(((NU8)(C_40226))));
H_40225 = (NI32)((NU32)(H_40225) + (NU32)((NI32)((NU32)(H_40225) << (NU32)(10))));
H_40225 = (NI32)(H_40225 ^ (NI32)((NU32)(H_40225) >> (NU32)(6)));
Res_40272 += 1;
} LA1: ;
H_40225 = (NI32)((NU32)(H_40225) + (NU32)((NI32)((NU32)(H_40225) << (NU32)(3))));
H_40225 = (NI32)(H_40225 ^ (NI32)((NU32)(H_40225) >> (NU32)(11)));
H_40225 = (NI32)((NU32)(H_40225) + (NU32)((NI32)((NU32)(H_40225) << (NU32)(15))));
Result_40224 = ((NI) (H_40225));
return Result_40224;
}
N_NIMCALL(NI, Getnormalizedhash_40037)(NimStringDesc* S_40039) {
NI Result_40169;
NI H_40170;
NIM_CHAR C_40171;
NI I_40182;
NI HEX3Atmp_40218;
NI Res_40220;
Result_40169 = 0;
H_40170 = 0;
C_40171 = 0;
H_40170 = 0;
I_40182 = 0;
HEX3Atmp_40218 = 0;
HEX3Atmp_40218 = (NI32)((NI32)(S_40039->Sup.len + 0) - 1);
Res_40220 = 0;
Res_40220 = 0;
while (1) {
if (!(Res_40220 <= HEX3Atmp_40218)) goto LA1;
I_40182 = Res_40220;
C_40171 = S_40039->data[I_40182];
if (!((NU8)(C_40171) == (NU8)(95))) goto LA4;
goto LA2;
LA4: ;
if (!(((NU8)(C_40171)) >= ((NU8)(65)) && ((NU8)(C_40171)) <= ((NU8)(90)))) goto LA7;
C_40171 = ((NIM_CHAR) (((NI) ((NI32)(((NU8)(C_40171)) + 32)))));
LA7: ;
H_40170 = (NI32)((NU32)(H_40170) + (NU32)(((NU8)(C_40171))));
H_40170 = (NI32)((NU32)(H_40170) + (NU32)((NI32)((NU32)(H_40170) << (NU32)(10))));
H_40170 = (NI32)(H_40170 ^ (NI32)((NU32)(H_40170) >> (NU32)(6)));
LA2: ;
Res_40220 += 1;
} LA1: ;
H_40170 = (NI32)((NU32)(H_40170) + (NU32)((NI32)((NU32)(H_40170) << (NU32)(3))));
H_40170 = (NI32)(H_40170 ^ (NI32)((NU32)(H_40170) >> (NU32)(11)));
H_40170 = (NI32)((NU32)(H_40170) + (NU32)((NI32)((NU32)(H_40170) << (NU32)(15))));
Result_40169 = ((NI) (H_40170));
return Result_40169;
}
N_NIMCALL(NI, Conchash_40040)(NI H_40042, NI Val_40043) {
NI Result_40051;
Result_40051 = 0;
Result_40051 = (NI32)((NU32)(H_40042) + (NU32)(Val_40043));
Result_40051 = (NI32)((NU32)(Result_40051) + (NU32)((NI32)((NU32)(Result_40051) << (NU32)(10))));
Result_40051 = (NI32)(Result_40051 ^ (NI32)((NU32)(Result_40051) >> (NU32)(6)));
return Result_40051;
}
N_NOINLINE(void, nhashesInit)(void) {
}

