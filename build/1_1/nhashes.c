/* Generated by Nimrod Compiler v0.8.9 */
/*   (c) 2010 Andreas Rumpf */

typedef long int NI;
typedef unsigned long int NU;
#include "nimbase.h"

typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
struct TGenericSeq {
NI len;
NI space;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
N_NIMCALL(NI, Gethashstr_38031)(NimStringDesc* S_38033) {
NI Result_38130;
NI H_38131;
NI I_38156;
NI HEX3Atmp_38163;
NI Res_38165;
Result_38130 = 0;
H_38131 = 0;
H_38131 = 0;
I_38156 = 0;
HEX3Atmp_38163 = 0;
HEX3Atmp_38163 = S_38033->Sup.len;
Res_38165 = 0;
Res_38165 = 1;
while (1) {
if (!(Res_38165 <= HEX3Atmp_38163)) goto LA1;
I_38156 = Res_38165;
H_38131 = (NI32)((NU32)(H_38131) + (NU32)(((NU8)(S_38033->data[I_38156]))));
H_38131 = (NI32)((NU32)(H_38131) + (NU32)((NI32)((NU32)(H_38131) << (NU32)(10))));
H_38131 = (NI32)(H_38131 ^ (NI32)((NU32)(H_38131) >> (NU32)(6)));
Res_38165 += 1;
} LA1: ;
H_38131 = (NI32)((NU32)(H_38131) + (NU32)((NI32)((NU32)(H_38131) << (NU32)(3))));
H_38131 = (NI32)(H_38131 ^ (NI32)((NU32)(H_38131) >> (NU32)(11)));
H_38131 = (NI32)((NU32)(H_38131) + (NU32)((NI32)((NU32)(H_38131) << (NU32)(15))));
Result_38130 = ((NI) (H_38131));
return Result_38130;
}
N_NIMCALL(NI, Gethashstrci_38034)(NimStringDesc* S_38036) {
NI Result_38227;
NI H_38228;
NIM_CHAR C_38229;
NI I_38239;
NI HEX3Atmp_38273;
NI Res_38275;
Result_38227 = 0;
H_38228 = 0;
C_38229 = 0;
H_38228 = 0;
I_38239 = 0;
HEX3Atmp_38273 = 0;
HEX3Atmp_38273 = (NI32)((NI32)(S_38036->Sup.len + 0) - 1);
Res_38275 = 0;
Res_38275 = 0;
while (1) {
if (!(Res_38275 <= HEX3Atmp_38273)) goto LA1;
I_38239 = Res_38275;
C_38229 = S_38036->data[I_38239];
if (!(((NU8)(C_38229)) >= ((NU8)(65)) && ((NU8)(C_38229)) <= ((NU8)(90)))) goto LA3;
C_38229 = ((NIM_CHAR) (((NI) ((NI32)(((NU8)(C_38229)) + 32)))));
LA3: ;
H_38228 = (NI32)((NU32)(H_38228) + (NU32)(((NU8)(C_38229))));
H_38228 = (NI32)((NU32)(H_38228) + (NU32)((NI32)((NU32)(H_38228) << (NU32)(10))));
H_38228 = (NI32)(H_38228 ^ (NI32)((NU32)(H_38228) >> (NU32)(6)));
Res_38275 += 1;
} LA1: ;
H_38228 = (NI32)((NU32)(H_38228) + (NU32)((NI32)((NU32)(H_38228) << (NU32)(3))));
H_38228 = (NI32)(H_38228 ^ (NI32)((NU32)(H_38228) >> (NU32)(11)));
H_38228 = (NI32)((NU32)(H_38228) + (NU32)((NI32)((NU32)(H_38228) << (NU32)(15))));
Result_38227 = ((NI) (H_38228));
return Result_38227;
}
N_NIMCALL(NI, Getnormalizedhash_38037)(NimStringDesc* S_38039) {
NI Result_38171;
NI H_38172;
NIM_CHAR C_38173;
NI I_38183;
NI HEX3Atmp_38219;
NI Res_38221;
Result_38171 = 0;
H_38172 = 0;
C_38173 = 0;
H_38172 = 0;
I_38183 = 0;
HEX3Atmp_38219 = 0;
HEX3Atmp_38219 = (NI32)((NI32)(S_38039->Sup.len + 0) - 1);
Res_38221 = 0;
Res_38221 = 0;
while (1) {
if (!(Res_38221 <= HEX3Atmp_38219)) goto LA1;
I_38183 = Res_38221;
C_38173 = S_38039->data[I_38183];
if (!((NU8)(C_38173) == (NU8)(95))) goto LA4;
goto LA2;
LA4: ;
if (!(((NU8)(C_38173)) >= ((NU8)(65)) && ((NU8)(C_38173)) <= ((NU8)(90)))) goto LA7;
C_38173 = ((NIM_CHAR) (((NI) ((NI32)(((NU8)(C_38173)) + 32)))));
LA7: ;
H_38172 = (NI32)((NU32)(H_38172) + (NU32)(((NU8)(C_38173))));
H_38172 = (NI32)((NU32)(H_38172) + (NU32)((NI32)((NU32)(H_38172) << (NU32)(10))));
H_38172 = (NI32)(H_38172 ^ (NI32)((NU32)(H_38172) >> (NU32)(6)));
LA2: ;
Res_38221 += 1;
} LA1: ;
H_38172 = (NI32)((NU32)(H_38172) + (NU32)((NI32)((NU32)(H_38172) << (NU32)(3))));
H_38172 = (NI32)(H_38172 ^ (NI32)((NU32)(H_38172) >> (NU32)(11)));
H_38172 = (NI32)((NU32)(H_38172) + (NU32)((NI32)((NU32)(H_38172) << (NU32)(15))));
Result_38171 = ((NI) (H_38172));
return Result_38171;
}
N_NIMCALL(NI, Conchash_38040)(NI H_38042, NI Val_38043) {
NI Result_38051;
Result_38051 = 0;
Result_38051 = (NI32)((NU32)(H_38042) + (NU32)(Val_38043));
Result_38051 = (NI32)((NU32)(Result_38051) + (NU32)((NI32)((NU32)(Result_38051) << (NU32)(10))));
Result_38051 = (NI32)(Result_38051 ^ (NI32)((NU32)(Result_38051) >> (NU32)(6)));
return Result_38051;
}
N_NOINLINE(void, nhashesInit)(void) {
}

