/* Generated by Nimrod Compiler v0.8.9 */
/*   (c) 2010 Andreas Rumpf */

typedef long int NI;
typedef unsigned long int NU;
#include "nimbase.h"

typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct TY26434 TY26434;
typedef struct TY26436 TY26436;
typedef struct TY26432 TY26432;
typedef struct TY61697 TY61697;
typedef struct TY61202 TY61202;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct TY33221 TY33221;
typedef struct TY10202 TY10202;
typedef struct TY10218 TY10218;
typedef struct TY10590 TY10590;
typedef struct TY10214 TY10214;
typedef struct TY10210 TY10210;
typedef struct TY10588 TY10588;
typedef struct TY59408 TY59408;
typedef struct TNimObject TNimObject;
typedef struct TY39006 TY39006;
typedef struct TY39004 TY39004;
struct TGenericSeq {
NI len;
NI space;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
struct TY26434 {
NI32 Cb;
NCSTRING Lpreserved;
NCSTRING Lpdesktop;
NCSTRING Lptitle;
NI32 Dwx;
NI32 Dwy;
NI32 Dwxsize;
NI32 Dwysize;
NI32 Dwxcountchars;
NI32 Dwycountchars;
NI32 Dwfillattribute;
NI32 Dwflags;
NI16 Wshowwindow;
NI16 Cbreserved2;
void* Lpreserved2;
NI Hstdinput;
NI Hstdoutput;
NI Hstderror;
};
struct TY26436 {
NI Hprocess;
NI Hthread;
NI32 Dwprocessid;
NI32 Dwthreadid;
};
typedef N_STDCALL_PTR(NI, TY26538) (NI32 Nstdhandle_26539);
typedef N_STDCALL_PTR(NI32, TY26503) (NCSTRING Lpapplicationname_26504, NCSTRING Lpcommandline_26505, TY26432* Lpprocessattributes_26507, TY26432* Lpthreadattributes_26509, NI32 Binherithandles_26510, NI32 Dwcreationflags_26511, void* Lpenvironment_26512, NCSTRING Lpcurrentdirectory_26513, TY26434* Lpstartupinfo_26515, TY26436* Lpprocessinformation_26517);
typedef N_STDCALL_PTR(NI32, TY26476) (NI Hobject_26477);
typedef N_STDCALL_PTR(NI32, TY26525) (NI Hhandle_26526, NI32 Dwmilliseconds_26527);
typedef N_STDCALL_PTR(NI32, TY26533) (NI Hprocess_26534, NI32* Lpexitcode_26536);
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct TY10202 {
NI Refcount;
TNimType* Typ;
};
struct TY10218 {
NI Len;
NI Cap;
TY10202** D;
};
struct TY10214 {
NI Counter;
NI Max;
TY10210* Head;
TY10210** Data;
};
struct TY10588 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY10590 {
TY10218 Zct;
TY10218 Decstack;
TY10214 Cycleroots;
TY10218 Tempstack;
TY10588 Stat;
};
struct TNimObject {
TNimType* m_type;
};
struct TY61202 {
  TNimObject Sup;
NI Fprocesshandle;
NI32 Inputhandle;
NI32 Outputhandle;
NI32 Errorhandle;
NI32 Id;
NI32 Exitcode;
};
struct TY26432 {
NI32 Nlength;
void* Lpsecuritydescriptor;
NI32 Binherithandle;
};
typedef N_STDCALL_PTR(NI32, TY26495) (NI* Hreadpipe_26497, NI* Hwritepipe_26498, TY26432* Lppipeattributes_26500, NI32 Nsize_26501);
typedef NimStringDesc* TY108148[2];
struct TY39004 {
NimStringDesc* Key;
NimStringDesc* Val;
};
struct TY59408 {
  TNimObject Sup;
NI Counter;
TY39006* Data;
NU8 Mode;
};
typedef NI TY8214[16];
struct TY10210 {
TY10210* Next;
NI Key;
TY8214 Bits;
};
struct TY61697 {
  TGenericSeq Sup;
  TY61202* data[SEQ_DECL_SIZE];
};
struct TY33221 {
  TGenericSeq Sup;
  NimStringDesc* data[SEQ_DECL_SIZE];
};
struct TY39006 {
  TGenericSeq Sup;
  TY39004 data[SEQ_DECL_SIZE];
};
N_NIMCALL(NimStringDesc*, Getenv_33425)(NimStringDesc* Key_33427);
N_NIMCALL(NI, nsuParseInt)(NimStringDesc* S_23504);
N_NOINLINE(void, nosOSError)(NimStringDesc* Msg_30004);
N_NIMCALL(void*, newSeq)(TNimType* Typ_12403, NI Len_12404);
N_NIMCALL(TY61202*, Startprocessaux_61603)(NimStringDesc* Cmd_61605, NU8 Options_61607);
N_NIMCALL(TY33221*, nosparseCmdLine)(NimStringDesc* C_34434);
N_NIMCALL(TGenericSeq*, incrSeq)(TGenericSeq* Seq_17035, NI Elemsize_17036);
static N_INLINE(void, asgnRefNoCycle)(void** Dest_11416, void* Src_11417);
static N_INLINE(TY10202*, Usrtocell_10622)(void* Usr_10624);
static N_INLINE(void, Rtladdzct_11256)(TY10202* C_11258);
N_NOINLINE(void, Addzct_10611)(TY10218* S_10614, TY10202* C_10615);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* Src_16908);
N_NIMCALL(TY61202*, nospstartProcess)(NimStringDesc* Command_61239, NimStringDesc* Workingdir_61240, NimStringDesc** Args_61245, NI Args_61245Len0, TY59408* Env_61246, NU8 Options_61249);
N_NIMCALL(void*, newObj)(TNimType* Typ_11907, NI Size_11908);
N_NIMCALL(void, Createpipehandles_62336)(NI* Rdhandle_62339, NI* Wrhandle_62340);
N_NIMCALL(NCSTRING, Buildcommandline_62258)(NimStringDesc* A_62260, NimStringDesc** Args_62262, NI Args_62262Len0);
N_NIMCALL(NimStringDesc*, Quoteifcontainswhite_24283)(NimStringDesc* S_24285);
N_NIMCALL(NimStringDesc*, addChar)(NimStringDesc* S_1603, NIM_CHAR C_1604);
static N_INLINE(void, appendString)(NimStringDesc* Dest_16992, NimStringDesc* Src_16993);
N_NIMCALL(NimStringDesc*, resizeString)(NimStringDesc* Dest_16982, NI Addlen_16983);
N_NOCONV(void*, Alloc0_1777)(NI Size_1779);
N_NIMCALL(NCSTRING, Buildenv_62277)(TY59408* Env_62279);
N_NIMCALL(NimStringDesc*, rawNewString)(NI Space_16887);
N_NIMCALL(NimStringDesc*, cstrToNimstr)(NCSTRING Str_16904);
static N_INLINE(void, rawEcho)(NimStringDesc* X_4094);
N_NIMCALL(void, Write_3658)(FILE* F_3660, NimStringDesc* S_3661);
static N_INLINE(void, rawEchoNL)(void);
static N_INLINE(void, Fileclose_62345)(NI H_62347);
N_NOCONV(void, Dealloc_1784)(void* P_1786);
N_NIMCALL(void, nossleep)(NI Milsecs_36206);
N_NIMCALL(NIM_BOOL, nosprunning)(TY61202* P_61261);
N_NIMCALL(NI, nospwaitForExit)(TY61202* P_61268);
N_NIMCALL(TY33221*, HEX26_62435)(NimStringDesc** X_62439, NI X_62439Len0, NimStringDesc** Y_62440, NI Y_62440Len0);
STRING_LITERAL(TMP191868, "NUMBER_OF_PROCESSORS", 20);
STRING_LITERAL(TMP191869, "", 0);
STRING_LITERAL(TMP191871, "COMSPEC", 7);
STRING_LITERAL(TMP191872, "/c", 2);
STRING_LITERAL(TMP191873, "=", 1);
STRING_LITERAL(TMP191874, "\015\012", 2);
extern TY26538 Dl_26537;
extern TY26503 Dl_26502;
extern TY26476 Dl_26475;
extern TY26525 Dl_26524;
extern TY26533 Dl_26532;
extern TNimType* NTI61697; /* seq[PProcess] */
extern TNimType* NTI33221; /* seq[string] */
extern TY10590 Gch_10608;
extern TNimType* NTI61204; /* PProcess */
extern TNimType* NTI61202; /* TProcess */
extern TY26495 Dl_26494;
N_NIMCALL(NI, nospcountProcessors)(void) {
NI Result_61403;
NimStringDesc* X_61404;
Result_61403 = 0;
X_61404 = 0;
X_61404 = Getenv_33425(((NimStringDesc*) &TMP191868));
if (!(0 < X_61404->Sup.len)) goto LA2;
Result_61403 = nsuParseInt(X_61404);
LA2: ;
if (!(Result_61403 <= 0)) goto LA5;
Result_61403 = 1;
LA5: ;
return Result_61403;
}
N_NIMCALL(NI, nospexecCmd)(NimStringDesc* Command_61232) {
NI Result_62612;
TY26434 Si_62613;
TY26436 Procinfo_62614;
NI Process_62615;
NI32 L_62616;
NI32 LOC2;
NI32 LOC5;
NI32 LOC7;
NI32 LOC10;
NI32 LOC11;
Result_62612 = 0;
memset((void*)&Si_62613, 0, sizeof(Si_62613));
memset((void*)&Procinfo_62614, 0, sizeof(Procinfo_62614));
Process_62615 = 0;
L_62616 = 0;
Si_62613.Cb = ((NI32) (((NI)sizeof(TY26434))));
Si_62613.Hstderror = Dl_26537(((NI32) -12));
Si_62613.Hstdinput = Dl_26537(((NI32) -10));
Si_62613.Hstdoutput = Dl_26537(((NI32) -11));
LOC2 = Dl_26502(NIM_NIL, Command_61232->data, NIM_NIL, NIM_NIL, ((NI32) 0), ((NI32) 32), NIM_NIL, NIM_NIL, &Si_62613, &Procinfo_62614);
if (!(((NI) (LOC2)) == 0)) goto LA3;
nosOSError(((NimStringDesc*) &TMP191869));
goto LA1;
LA3: ;
Process_62615 = Procinfo_62614.Hprocess;
LOC5 = Dl_26475(Procinfo_62614.Hthread);
LOC7 = Dl_26524(Process_62615, ((NI32) -1));
if (!!((((NI) (LOC7)) == -1))) goto LA8;
LOC10 = Dl_26532(Process_62615, &L_62616);
Result_62612 = ((NI) (L_62616));
goto LA6;
LA8: ;
Result_62612 = -1;
LA6: ;
LOC11 = Dl_26475(Process_62615);
LA1: ;
return Result_62612;
}
static N_INLINE(TY10202*, Usrtocell_10622)(void* Usr_10624) {
TY10202* Result_10625;
Result_10625 = 0;
Result_10625 = ((TY10202*) ((NI32)((NU32)(((NI) (Usr_10624))) - (NU32)(((NI) (((NI)sizeof(TY10202))))))));
return Result_10625;
}
static N_INLINE(void, Rtladdzct_11256)(TY10202* C_11258) {
Addzct_10611(&Gch_10608.Zct, C_11258);
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_11416, void* Src_11417) {
TY10202* C_11418;
TY10202* C_11419;
if (!!((Src_11417 == NIM_NIL))) goto LA2;
C_11418 = 0;
C_11418 = Usrtocell_10622(Src_11417);
(*C_11418).Refcount = (NI32)((NU32)((*C_11418).Refcount) + (NU32)(8));
LA2: ;
if (!!(((*Dest_11416) == NIM_NIL))) goto LA5;
C_11419 = 0;
C_11419 = Usrtocell_10622((*Dest_11416));
(*C_11419).Refcount = (NI32)((NU32)((*C_11419).Refcount) - (NU32)(8));
if (!((NU32)((*C_11419).Refcount) < (NU32)(8))) goto LA8;
Rtladdzct_11256(C_11419);
LA8: ;
LA5: ;
(*Dest_11416) = Src_11417;
}
N_NIMCALL(void, Createpipehandles_62336)(NI* Rdhandle_62339, NI* Wrhandle_62340) {
TY26432 Piinheritablepipe_62341;
NI32 LOC2;
memset((void*)&Piinheritablepipe_62341, 0, sizeof(Piinheritablepipe_62341));
Piinheritablepipe_62341.Nlength = ((NI32) (((NI)sizeof(TY26432))));
Piinheritablepipe_62341.Lpsecuritydescriptor = NIM_NIL;
Piinheritablepipe_62341.Binherithandle = ((NI32) 1);
LOC2 = Dl_26494(Rdhandle_62339, Wrhandle_62340, &Piinheritablepipe_62341, ((NI32) 1024));
if (!(LOC2 == ((NI32) 0))) goto LA3;
nosOSError(((NimStringDesc*) &TMP191869));
LA3: ;
}
static N_INLINE(void, appendString)(NimStringDesc* Dest_16992, NimStringDesc* Src_16993) {
memcpy(((NCSTRING) (&(*Dest_16992).data[((*Dest_16992).Sup.len)-0])), ((NCSTRING) ((*Src_16993).data)), ((NI32) ((NI32)((NI32)((*Src_16993).Sup.len + 1) * 1))));
(*Dest_16992).Sup.len += (*Src_16993).Sup.len;
}
N_NIMCALL(NCSTRING, Buildcommandline_62258)(NimStringDesc* A_62260, NimStringDesc** Args_62262, NI Args_62262Len0) {
NCSTRING Result_62263;
NimStringDesc* Res_62264;
NI I_62272;
NI HEX3Atmp_62814;
NI Res_62816;
NimStringDesc* LOC2;
void* LOC3;
Result_62263 = 0;
Res_62264 = 0;
Res_62264 = Quoteifcontainswhite_24283(A_62260);
I_62272 = 0;
HEX3Atmp_62814 = 0;
HEX3Atmp_62814 = (Args_62262Len0-1);
Res_62816 = 0;
Res_62816 = 0;
while (1) {
if (!(Res_62816 <= HEX3Atmp_62814)) goto LA1;
I_62272 = Res_62816;
Res_62264 = addChar(Res_62264, 32);
LOC2 = Quoteifcontainswhite_24283(Args_62262[I_62272]);
Res_62264 = resizeString(Res_62264, LOC2->Sup.len + 0);
appendString(Res_62264, LOC2);
Res_62816 += 1;
} LA1: ;
LOC3 = Alloc0_1777((NI32)(Res_62264->Sup.len + 1));
Result_62263 = ((NCSTRING) (LOC3));
memcpy(((void*) (Result_62263)), ((void*) (Res_62264->data)), Res_62264->Sup.len);
return Result_62263;
}
N_NIMCALL(NCSTRING, Buildenv_62277)(TY59408* Env_62279) {
NCSTRING Result_62280;
NI L_62281;
NimStringDesc* Key_62282;
NimStringDesc* Val_62283;
NI H_62821;
NI HEX3Atmp_62823;
NI Res_62825;
void* LOC5;
NimStringDesc* Key_62300;
NimStringDesc* Val_62301;
NI H_62832;
NI HEX3Atmp_62834;
NI Res_62836;
NimStringDesc* X_62318;
NimStringDesc* LOC10;
Result_62280 = 0;
L_62281 = 0;
L_62281 = 0;
Key_62282 = 0;
Val_62283 = 0;
H_62821 = 0;
HEX3Atmp_62823 = 0;
HEX3Atmp_62823 = ((*Env_62279).Data->Sup.len-1);
Res_62825 = 0;
Res_62825 = 0;
while (1) {
if (!(Res_62825 <= HEX3Atmp_62823)) goto LA1;
H_62821 = Res_62825;
if (!!((*Env_62279).Data->data[H_62821].Key == 0)) goto LA3;
Key_62282 = (*Env_62279).Data->data[H_62821].Key;
Val_62283 = (*Env_62279).Data->data[H_62821].Val;
L_62281 += (NI32)((NI32)(Key_62282->Sup.len + Val_62283->Sup.len) + 2);
LA3: ;
Res_62825 += 1;
} LA1: ;
LOC5 = Alloc0_1777((NI32)(L_62281 + 2));
Result_62280 = ((NCSTRING) (LOC5));
L_62281 = 0;
Key_62300 = 0;
Val_62301 = 0;
H_62832 = 0;
HEX3Atmp_62834 = 0;
HEX3Atmp_62834 = ((*Env_62279).Data->Sup.len-1);
Res_62836 = 0;
Res_62836 = 0;
while (1) {
if (!(Res_62836 <= HEX3Atmp_62834)) goto LA6;
H_62832 = Res_62836;
if (!!((*Env_62279).Data->data[H_62832].Key == 0)) goto LA8;
Key_62300 = (*Env_62279).Data->data[H_62832].Key;
Val_62301 = (*Env_62279).Data->data[H_62832].Val;
X_62318 = 0;
LOC10 = rawNewString(Key_62300->Sup.len + Val_62301->Sup.len + 1);
appendString(LOC10, Key_62300);
appendString(LOC10, ((NimStringDesc*) &TMP191873));
appendString(LOC10, Val_62301);
X_62318 = LOC10;
memcpy(((void*) (&Result_62280[L_62281])), ((void*) (X_62318->data)), (NI32)(X_62318->Sup.len + 1));
L_62281 += (NI32)(X_62318->Sup.len + 1);
LA8: ;
Res_62836 += 1;
} LA6: ;
return Result_62280;
}
static N_INLINE(void, rawEcho)(NimStringDesc* X_4094) {
Write_3658(stdout, X_4094);
}
static N_INLINE(void, rawEchoNL)(void) {
Write_3658(stdout, ((NimStringDesc*) &TMP191874));
}
static N_INLINE(void, Fileclose_62345)(NI H_62347) {
NI32 LOC4;
if (!(4 < H_62347)) goto LA2;
LOC4 = Dl_26475(H_62347);
LA2: ;
}
N_NIMCALL(TY61202*, nospstartProcess)(NimStringDesc* Command_61239, NimStringDesc* Workingdir_61240, NimStringDesc** Args_61245, NI Args_61245Len0, TY59408* Env_61246, NU8 Options_61249) {
TY61202* Result_62363;
TY26434 Si_62364;
TY26436 Procinfo_62365;
NI Success_62366;
NI Hi_62367;
NI Ho_62368;
NI He_62369;
NCSTRING Cmdl_62413;
NimStringDesc* LOC10;
TY33221* LOC11;
TY108148 LOC12;
TY33221* LOC13;
NCSTRING Wd_62521;
NCSTRING E_62522;
NimStringDesc* LOC23;
NI32 LOC24;
NI32 LOC37;
Result_62363 = 0;
memset((void*)&Si_62364, 0, sizeof(Si_62364));
memset((void*)&Procinfo_62365, 0, sizeof(Procinfo_62365));
Success_62366 = 0;
Hi_62367 = 0;
Ho_62368 = 0;
He_62369 = 0;
Result_62363 = (TY61202*) newObj(NTI61204, sizeof(TY61202));
(*Result_62363).Sup.m_type = NTI61202;
Si_62364.Cb = ((NI32) (((NI)sizeof(TY26434))));
if (!!(((Options_61249 &(1<<((((NU8) 3))&7)))!=0))) goto LA2;
Si_62364.Dwflags = ((NI32) 256);
Createpipehandles_62336(&Si_62364.Hstdinput, &Hi_62367);
Createpipehandles_62336(&Ho_62368, &Si_62364.Hstdoutput);
if (!((Options_61249 &(1<<((((NU8) 2))&7)))!=0)) goto LA5;
Si_62364.Hstderror = Si_62364.Hstdoutput;
He_62369 = Ho_62368;
goto LA4;
LA5: ;
Createpipehandles_62336(&He_62369, &Si_62364.Hstderror);
LA4: ;
(*Result_62363).Inputhandle = ((NI32) (Hi_62367));
(*Result_62363).Outputhandle = ((NI32) (Ho_62368));
(*Result_62363).Errorhandle = ((NI32) (He_62369));
goto LA1;
LA2: ;
Si_62364.Hstderror = Dl_26537(((NI32) -12));
Si_62364.Hstdinput = Dl_26537(((NI32) -10));
Si_62364.Hstdoutput = Dl_26537(((NI32) -11));
(*Result_62363).Inputhandle = ((NI32) (Si_62364.Hstdinput));
(*Result_62363).Outputhandle = ((NI32) (Si_62364.Hstdoutput));
(*Result_62363).Errorhandle = ((NI32) (Si_62364.Hstderror));
LA1: ;
Cmdl_62413 = 0;
if (!NIM_FALSE) goto LA8;
LOC10 = Getenv_33425(((NimStringDesc*) &TMP191871));
LOC11 = (TY33221*) newSeq(NTI33221, 2);
LOC12[0] = copyString(((NimStringDesc*) &TMP191872));
LOC12[1] = copyString(Command_61239);
asgnRefNoCycle((void**) &LOC11->data[0], copyString(LOC12[0]));
asgnRefNoCycle((void**) &LOC11->data[1], copyString(LOC12[1]));
LOC13 = HEX26_62435(LOC11->data, LOC11->Sup.len, Args_61245, Args_61245Len0);
Cmdl_62413 = Buildcommandline_62258(LOC10, LOC13->data, LOC13->Sup.len);
goto LA7;
LA8: ;
Cmdl_62413 = Buildcommandline_62258(Command_61239, Args_61245, Args_61245Len0);
LA7: ;
Wd_62521 = 0;
Wd_62521 = NIM_NIL;
E_62522 = 0;
E_62522 = NIM_NIL;
if (!(0 < Workingdir_61240->Sup.len)) goto LA15;
Wd_62521 = Workingdir_61240->data;
LA15: ;
if (!!((Env_61246 == NIM_NIL))) goto LA18;
E_62522 = Buildenv_62277(Env_61246);
LA18: ;
if (!((Options_61249 &(1<<((((NU8) 0))&7)))!=0)) goto LA21;
LOC23 = cstrToNimstr(Cmdl_62413);
rawEcho(LOC23);
rawEchoNL();
LA21: ;
LOC24 = Dl_26502(NIM_NIL, Cmdl_62413, NIM_NIL, NIM_NIL, ((NI32) 1), ((NI32) 32), ((void*) (E_62522)), Wd_62521, &Si_62364, &Procinfo_62365);
Success_62366 = ((NI) (LOC24));
if (!!(((Options_61249 &(1<<((((NU8) 3))&7)))!=0))) goto LA26;
Fileclose_62345(Si_62364.Hstdinput);
Fileclose_62345(Si_62364.Hstdoutput);
if (!!(((Options_61249 &(1<<((((NU8) 2))&7)))!=0))) goto LA29;
Fileclose_62345(Si_62364.Hstderror);
LA29: ;
LA26: ;
if (!!((E_62522 == NIM_NIL))) goto LA32;
Dealloc_1784(((void*) (E_62522)));
LA32: ;
Dealloc_1784(((void*) (Cmdl_62413)));
if (!(Success_62366 == 0)) goto LA35;
nosOSError(((NimStringDesc*) &TMP191869));
LA35: ;
LOC37 = Dl_26475(Procinfo_62365.Hthread);
(*Result_62363).Fprocesshandle = Procinfo_62365.Hprocess;
(*Result_62363).Id = Procinfo_62365.Dwprocessid;
return Result_62363;
}
N_NIMCALL(TY61202*, Startprocessaux_61603)(NimStringDesc* Cmd_61605, NU8 Options_61607) {
TY61202* Result_61608;
TY33221* C_61609;
TY33221* A_61627;
NI I_61660;
NI HEX3Atmp_61680;
NI Res_61682;
Result_61608 = 0;
C_61609 = 0;
C_61609 = nosparseCmdLine(Cmd_61605);
A_61627 = 0;
A_61627 = (TY33221*) newSeq(NTI33221, 0);
I_61660 = 0;
HEX3Atmp_61680 = 0;
HEX3Atmp_61680 = (NI32)(C_61609->Sup.len - 1);
Res_61682 = 0;
Res_61682 = 1;
while (1) {
if (!(Res_61682 <= HEX3Atmp_61680)) goto LA1;
I_61660 = Res_61682;
A_61627 = (TY33221*) incrSeq(&(A_61627)->Sup, sizeof(NimStringDesc*));
asgnRefNoCycle((void**) &A_61627->data[A_61627->Sup.len-1], copyString(C_61609->data[I_61660]));
Res_61682 += 1;
} LA1: ;
Result_61608 = nospstartProcess(C_61609->data[0], ((NimStringDesc*) &TMP191869), A_61627->data, A_61627->Sup.len, NIM_NIL, Options_61607);
return Result_61608;
}
N_NIMCALL(NIM_BOOL, nosprunning)(TY61202* P_61261) {
NIM_BOOL Result_62584;
NI32 X_62585;
Result_62584 = 0;
X_62585 = 0;
X_62585 = Dl_26524((*P_61261).Fprocesshandle, ((NI32) 50));
Result_62584 = (X_62585 == ((NI32) 258));
goto BeforeRet;
BeforeRet: ;
return Result_62584;
}
N_NIMCALL(NI, nospwaitForExit)(TY61202* P_61268) {
NI Result_62594;
NI32 LOC1;
NI32 Res_62595;
NI32 LOC2;
NI32 LOC3;
Result_62594 = 0;
LOC1 = Dl_26524((*P_61268).Fprocesshandle, ((NI32) -1));
Res_62595 = 0;
LOC2 = Dl_26532((*P_61268).Fprocesshandle, &Res_62595);
Result_62594 = ((NI) (Res_62595));
LOC3 = Dl_26475((*P_61268).Fprocesshandle);
return Result_62594;
}
N_NIMCALL(NI, nospexecProcesses)(NimStringDesc** Cmds_61688, NI Cmds_61688Len0, NU8 Options_61690, NI N_61691) {
NI Result_61692;
TY61697* Q_61698;
NI M_61723;
NI I_61731;
NI HEX3Atmp_61823;
NI Res_61825;
NI I_61732;
NI R_61742;
NI HEX3Atmp_61829;
NI Res_61831;
NIM_BOOL LOC8;
NI LOC11;
NI I_61808;
NI HEX3Atmp_61836;
NI Res_61838;
NI LOC16;
NI I_61818;
NI HEX3Atmp_61842;
NI Res_61844;
TY61202* P_61819;
NI LOC18;
Result_61692 = 0;
if (!(1 < N_61691)) goto LA2;
Q_61698 = 0;
Q_61698 = (TY61697*) newSeq(NTI61697, N_61691);
M_61723 = 0;
M_61723 = ((N_61691 <= Cmds_61688Len0) ? N_61691 : Cmds_61688Len0);
I_61731 = 0;
HEX3Atmp_61823 = 0;
HEX3Atmp_61823 = (NI32)(M_61723 - 1);
Res_61825 = 0;
Res_61825 = 0;
while (1) {
if (!(Res_61825 <= HEX3Atmp_61823)) goto LA4;
I_61731 = Res_61825;
asgnRefNoCycle((void**) &Q_61698->data[I_61731], Startprocessaux_61603(Cmds_61688[I_61731], Options_61690));
Res_61825 += 1;
} LA4: ;
I_61732 = 0;
I_61732 = M_61723;
while (1) {
if (!(I_61732 <= (Cmds_61688Len0-1))) goto LA5;
nossleep(50);
R_61742 = 0;
HEX3Atmp_61829 = 0;
HEX3Atmp_61829 = (NI32)(N_61691 - 1);
Res_61831 = 0;
Res_61831 = 0;
while (1) {
if (!(Res_61831 <= HEX3Atmp_61829)) goto LA6;
R_61742 = Res_61831;
LOC8 = nosprunning(Q_61698->data[R_61742]);
if (!!(LOC8)) goto LA9;
LOC11 = nospwaitForExit(Q_61698->data[R_61742]);
Result_61692 = ((LOC11 >= Result_61692) ? LOC11 : Result_61692);
asgnRefNoCycle((void**) &Q_61698->data[R_61742], Startprocessaux_61603(Cmds_61688[I_61732], Options_61690));
I_61732 += 1;
if (!((Cmds_61688Len0-1) < I_61732)) goto LA13;
goto LA6;
LA13: ;
LA9: ;
Res_61831 += 1;
} LA6: ;
} LA5: ;
I_61808 = 0;
HEX3Atmp_61836 = 0;
HEX3Atmp_61836 = (NI32)(M_61723 - 1);
Res_61838 = 0;
Res_61838 = 0;
while (1) {
if (!(Res_61838 <= HEX3Atmp_61836)) goto LA15;
I_61808 = Res_61838;
LOC16 = nospwaitForExit(Q_61698->data[I_61808]);
Result_61692 = ((LOC16 >= Result_61692) ? LOC16 : Result_61692);
Res_61838 += 1;
} LA15: ;
goto LA1;
LA2: ;
I_61818 = 0;
HEX3Atmp_61842 = 0;
HEX3Atmp_61842 = (Cmds_61688Len0-1);
Res_61844 = 0;
Res_61844 = 0;
while (1) {
if (!(Res_61844 <= HEX3Atmp_61842)) goto LA17;
I_61818 = Res_61844;
P_61819 = 0;
P_61819 = Startprocessaux_61603(Cmds_61688[I_61818], Options_61690);
LOC18 = nospwaitForExit(P_61819);
Result_61692 = ((LOC18 >= Result_61692) ? LOC18 : Result_61692);
Res_61844 += 1;
} LA17: ;
LA1: ;
return Result_61692;
}
N_NIMCALL(TY33221*, HEX26_62435)(NimStringDesc** X_62439, NI X_62439Len0, NimStringDesc** Y_62440, NI Y_62440Len0) {
TY33221* Result_62442;
NI I_62492;
NI HEX3Atmp_62802;
NI Res_62804;
NI I_62510;
NI HEX3Atmp_62808;
NI Res_62810;
Result_62442 = 0;
Result_62442 = (TY33221*) newSeq(NTI33221, (NI32)(X_62439Len0 + Y_62440Len0));
I_62492 = 0;
HEX3Atmp_62802 = 0;
HEX3Atmp_62802 = (NI32)(X_62439Len0 - 1);
Res_62804 = 0;
Res_62804 = 0;
while (1) {
if (!(Res_62804 <= HEX3Atmp_62802)) goto LA1;
I_62492 = Res_62804;
asgnRefNoCycle((void**) &Result_62442->data[I_62492], copyString(X_62439[I_62492]));
Res_62804 += 1;
} LA1: ;
I_62510 = 0;
HEX3Atmp_62808 = 0;
HEX3Atmp_62808 = (NI32)(Y_62440Len0 - 1);
Res_62810 = 0;
Res_62810 = 0;
while (1) {
if (!(Res_62810 <= HEX3Atmp_62808)) goto LA2;
I_62510 = Res_62810;
asgnRefNoCycle((void**) &Result_62442->data[(NI32)(I_62510 + X_62439Len0)], copyString(Y_62440[I_62510]));
Res_62810 += 1;
} LA2: ;
return Result_62442;
}
N_NOINLINE(void, osprocInit)(void) {
}

