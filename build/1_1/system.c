/* Generated by Nimrod Compiler v0.8.9 */
/*   (c) 2010 Andreas Rumpf */

typedef long int NI;
typedef unsigned long int NU;
#include "nimbase.h"

#include <windows.h>
#include <errno.h>
#include <io.h>
#include <fcntl.h>
#include <stdio.h>
#include <signal.h>
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct TY10790 TY10790;
typedef struct TY10418 TY10418;
typedef struct TY10402 TY10402;
typedef struct TY10414 TY10414;
typedef struct TY10410 TY10410;
typedef struct TY7804 TY7804;
typedef struct TY10788 TY10788;
typedef struct TY8474 TY8474;
typedef struct TY8432 TY8432;
typedef struct TY8430 TY8430;
typedef struct TY8422 TY8422;
typedef struct TY8472 TY8472;
typedef struct TY8434 TY8434;
typedef struct TY8411 TY8411;
typedef struct TY8407 TY8407;
typedef struct TY420 TY420;
typedef struct TY418 TY418;
typedef struct TY416 TY416;
typedef struct E_Base E_Base;
typedef struct TNimObject TNimObject;
typedef struct TSafePoint TSafePoint;
typedef struct TY442 TY442;
typedef struct TY452 TY452;
typedef struct TY4177 TY4177;
typedef struct EOverflow EOverflow;
typedef struct TY428 TY428;
typedef struct EAssertionFailed EAssertionFailed;
typedef struct TY448 TY448;
typedef struct TY444 TY444;
typedef struct TY446 TY446;
typedef struct TY456 TY456;
typedef struct TY454 TY454;
typedef struct EDivByZero EDivByZero;
typedef struct EFloatInvalidOp EFloatInvalidOp;
typedef struct TY458 TY458;
typedef struct EFloatOverflow EFloatOverflow;
typedef struct EFloatUnderflow EFloatUnderflow;
typedef struct TY8002 TY8002;
typedef struct TY18272 TY18272;
typedef N_NIMCALL_PTR(void, TY2518) (void);
struct TGenericSeq {
NI len;
NI space;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TY10418 {
NI Len;
NI Cap;
TY10402** D;
};
struct TY10414 {
NI Counter;
NI Max;
TY10410* Head;
TY10410** Data;
};
struct TY7804 {
void* Debuginfo;
NI32 Lockcount;
NI32 Recursioncount;
NI Owningthread;
NI Locksemaphore;
NI32 Reserved;
};
struct TY10788 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY10790 {
TY10418 Zct;
TY10418 Decstack;
TY10414 Cycleroots;
TY10418 Tempstack;
TY7804 Cyclerootslock;
TY7804 Zctlock;
TY10788 Stat;
};
struct TY8430 {
NI Prevsize;
NI Size;
NIM_BOOL Used;
};
struct TY8432 {
  TY8430 Sup;
TY8432* Next;
TY8432* Prev;
TY8422* Freelist;
NI Free;
NI Acc;
NF64 Data;
};
typedef TY8432* TY8481[512];
typedef TY8407* TY8409[1024];
struct TY8411 {
TY8409 Data;
};
struct TY8474 {
TY8472* Llmem;
NI Currmem;
NI Maxmem;
NI Freemem;
TY8481 Freesmallchunks;
TY8434* Freechunkslist;
TY8411 Chunkstarts;
};
struct TY8434 {
  TY8430 Sup;
TY8434* Next;
TY8434* Prev;
NI Align;
NF64 Data;
};
typedef NI TY8414[16];
struct TY8407 {
TY8407* Next;
NI Key;
TY8414 Bits;
};
struct TY8472 {
NI Size;
NI Acc;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct TNimObject {
TNimType* m_type;
};
struct E_Base {
  TNimObject Sup;
E_Base* parent;
NCSTRING name;
NimStringDesc* message;
};
struct TY416 {
  E_Base Sup;
};
struct TY418 {
  TY416 Sup;
};
struct TY420 {
  TY418 Sup;
};
typedef N_STDCALL_PTR(void, TY7816) (TY7804* L_7818);
struct TY10402 {
NI Refcount;
TNimType* Typ;
};
struct TY8422 {
TY8422* Next;
NI Zerofield;
};
struct TY10410 {
TY10410* Next;
NI Key;
TY8414 Bits;
};
typedef N_NIMCALL_PTR(void, TFinalizer) (void* Self_10794);
typedef N_STDCALL_PTR(void, TY7820) (TY7804* L_7822);
struct TSafePoint {
TSafePoint* prev;
NI status;
E_Base* exc;
jmp_buf context;
};
struct TY442 {
  TY418 Sup;
};
typedef N_STDCALL_PTR(void, TY7812) (TY7804* L_7814);
struct TY452 {
  TY416 Sup;
};
typedef NimStringDesc* TY3902[5];
struct TY428 {
  TY416 Sup;
};
struct EOverflow {
  TY428 Sup;
};
typedef TFrame* TY4456[128];
struct EAssertionFailed {
  TY416 Sup;
};
struct TY448 {
  TY416 Sup;
};
struct TY444 {
  TY416 Sup;
};
struct TY446 {
  TY416 Sup;
};
typedef NIM_CHAR TY17862[60];
struct TY456 {
  TY416 Sup;
};
struct TY454 {
  TY416 Sup;
};
struct EDivByZero {
  TY428 Sup;
};
struct TY458 {
  TY416 Sup;
};
struct EFloatInvalidOp {
  TY458 Sup;
};
struct EFloatOverflow {
  TY458 Sup;
};
struct EFloatUnderflow {
  TY458 Sup;
};
typedef NI8 TY7002[8192];
typedef N_STDCALL_PTR(NI, TY7824) (void* Lpthreadattributes_7825, NI32 Dwstacksize_7826, void* Lpstartaddress_7827, void* Lpparameter_7828, NI32 Dwcreationflags_7829, NI32* Lpthreadid_7831);
typedef N_CDECL_PTR(void, TY8004) (void* Closure_8008);
struct TY18272 {
TY10414 Marked;
NI Recdepth;
NI Indent;
};
struct TY8002 {
NI Id;
TY8002* Next;
};
struct TY4177 {
  TGenericSeq Sup;
  NimStringDesc* data[SEQ_DECL_SIZE];
};
N_NIMCALL(void, Add_2522)(NimStringDesc** X_2525, NCSTRING Y_2526);
static N_INLINE(NF, HEX2F_2602)(NI X_2604, NI Y_2605);
static N_INLINE(void, Initstackbottom_2813)(void);
N_NOINLINE(void, setStackBottom)(void* Thestackbottom_1624);
N_NIMCALL(void, Initgc_2811)(void);
N_NIMCALL(void, Init_10478)(TY10418* S_10481, NI Cap_10482);
N_NOCONV(void*, Alloc0_1777)(NI Size_1779);
N_NOCONV(void*, Alloc_1774)(NI Size_1776);
N_NIMCALL(void*, Rawalloc_9395)(TY8474* A_9398, NI Requestedsize_9399);
static N_INLINE(NI, Roundup_8456)(NI X_8458, NI V_8459);
N_NIMCALL(TY8432*, Getsmallchunk_9362)(TY8474* A_9365);
N_NIMCALL(TY8434*, Getbigchunk_9292)(TY8474* A_9295, NI Size_9296);
N_NIMCALL(void, Splitchunk_9266)(TY8474* A_9269, TY8434* C_9270, NI Size_9271);
static N_INLINE(void, Updateprevsize_8811)(TY8474* A_8814, TY8434* C_8815, NI Prevsize_8816);
static N_INLINE(NIM_BOOL, Isaccessible_8752)(void* P_8754);
N_NIMCALL(NIM_BOOL, Contains_8611)(TY8411* S_8613, NI Key_8614);
N_NIMCALL(TY8407*, Intsetget_8574)(TY8411* T_8576, NI Key_8577);
static N_INLINE(NI, Pageindex_8681)(void* P_8683);
N_NIMCALL(void, Incl_8631)(TY8411* S_8634, NI Key_8635);
N_NIMCALL(TY8407*, Intsetput_8593)(TY8411* T_8596, NI Key_8597);
N_NIMCALL(void*, Llalloc_8530)(TY8474* A_8533, NI Size_8534);
static N_INLINE(void*, Osallocpages_8089)(NI Size_8091);
N_NIMCALL(void, Raiseoutofmem_8059)(void);
N_NIMCALL(void, Quit_2622)(NimStringDesc* Errormsg_2624);
static N_INLINE(void, rawEcho)(NimStringDesc* X_3894);
N_NIMCALL(void, Write_3458)(FILE* F_3460, NimStringDesc* S_3461);
N_NIMCALL(NI, Writebuffer_3533)(FILE* F_3535, void* Buffer_3536, NI Len_3537);
N_NIMCALL(void*, newObj)(TNimType* Typ_12107, NI Size_12108);
static N_INLINE(void, Lock_10813)(TY10790* Gch_10816);
N_NIMCALL(void*, nimLoadLibrary)(NimStringDesc* Path_1611);
N_NOINLINE(void, nimLoadLibraryError)(NimStringDesc* Path_1621);
N_NIMCALL(void, Rawwrite_6864)(FILE* F_6866, NimStringDesc* S_6867);
N_NIMCALL(void*, nimGetProcAddr)(void* Lib_1617, NCSTRING Name_1618);
N_NOINLINE(void, Procaddrerror_6873)(NCSTRING Name_6875);
N_NIMCALL(void, Write_3470)(FILE* F_3472, NCSTRING C_3473);
static N_INLINE(void, Checkcollection_12100)(void);
N_NIMCALL(void, Collectct_11405)(TY10790* Gch_11408);
N_NIMCALL(NI, Getoccupiedmem_1841)(void);
N_NIMCALL(NI, Gettotalmem_1845)(void);
N_NIMCALL(NI, Getfreemem_1843)(void);
N_NOINLINE(NI, Stacksize_15201)(void);
N_CDECL(void, Markstackandregisters_15215)(TY10790* Gch_15218);
static N_INLINE(void, Gcmark_14403)(void* P_14405);
static N_INLINE(TY10402*, Usrtocell_10836)(void* Usr_10838);
N_NIMCALL(NIM_BOOL, Isallocatedptr_10001)(TY8474* A_10003, void* P_10004);
static N_INLINE(TY8430*, Pageaddr_8685)(void* P_8687);
static N_INLINE(NIM_BOOL, Chunkunused_8807)(TY8430* C_8809);
static N_INLINE(NIM_BOOL, Issmallchunk_8801)(TY8430* C_8803);
static N_INLINE(void, Add_10458)(TY10418* S_10461, TY10402* C_10462);
N_NOCONV(void, Dealloc_1784)(void* P_1786);
N_NIMCALL(void, Rawdealloc_9664)(TY8474* A_9667, void* P_9668);
N_NIMCALL(void, Freebigchunk_8820)(TY8474* A_8823, TY8434* C_8824);
N_NIMCALL(void, Excl_8638)(TY8411* S_8641, NI Key_8642);
static N_INLINE(NI, Pageindex_8677)(TY8430* C_8679);
N_NIMCALL(void, Freeoschunks_8726)(TY8474* A_8729, void* P_8730, NI Size_8731);
static N_INLINE(void, Osdeallocpages_8093)(void* P_8095, NI Size_8096);
static N_INLINE(void, Deccurrmem_8503)(TY8474* A_8506, NI Bytes_8507);
N_NIMCALL(void, Markthreadstacks_14411)(TY10790* Gch_14414);
N_NIMCALL(void, Collectzct_15401)(TY10790* Gch_15404);
static N_INLINE(NIM_BOOL, Canbecycleroot_10840)(TY10402* C_10842);
N_NIMCALL(void, Excl_10681)(TY10414* S_10684, TY10402* Cell_10685);
N_NIMCALL(TY10410*, Cellsetget_10514)(TY10414 T_10516, NI Key_10517);
static N_INLINE(NI, Nexttry_10509)(NI H_10511, NI Maxhash_10512);
N_NIMCALL(void, Preparedealloc_11425)(TY10402* Cell_11427);
static N_INLINE(void*, Celltousr_10832)(TY10402* Cell_10834);
N_NIMCALL(void, Forallchildren_11412)(TY10402* Cell_11414, NU8 Op_11415);
N_NIMCALL(void, Forallchildrenaux_11420)(void* Dest_11422, TNimType* Mt_11423, NU8 Op_11424);
N_NIMCALL(void, Dooperation_11416)(void* P_11418, NU8 Op_11419);
N_NOINLINE(void, Addzct_10825)(TY10418* S_10828, TY10402* C_10829);
N_NIMCALL(void, Forallslotsaux_12001)(void* Dest_12003, TNimNode* N_12005, NU8 Op_12006);
N_NIMCALL(TNimNode*, Selectbranch_7063)(void* Aa_7065, TNimNode* N_7067);
N_NIMCALL(NI, Getdiscriminant_7043)(void* Aa_7045, TNimNode* N_7047);
N_NIMCALL(void, Collectcycles_13603)(TY10790* Gch_13606);
N_NIMCALL(void, Init_10488)(TY10414* S_10491);
N_NIMCALL(NIM_BOOL, Containsorincl_10699)(TY10414* S_10702, TY10402* Cell_10703);
N_NOINLINE(void, Incl_10674)(TY10414* S_10677, TY10402* Cell_10678);
N_NIMCALL(TY10410*, Cellsetput_10595)(TY10414* T_10598, NI Key_10599);
N_NIMCALL(void, Cellsetenlarge_10570)(TY10414* T_10573);
N_NIMCALL(void, Cellsetrawinsert_10533)(TY10414 T_10535, TY10410** Data_10536, TY10410* Desc_10537);
N_NIMCALL(NIM_BOOL, Contains_10654)(TY10414 S_10656, TY10402* Cell_10657);
N_NIMCALL(void, Deinit_10492)(TY10414* S_10495);
N_NIMCALL(void, Unmarkstackandregisters_16001)(TY10790* Gch_16004);
static N_INLINE(void, Decref_11464)(TY10402* C_11466);
static N_INLINE(NI, Atomicdec_2806)(NI* Memloc_2809, NI X_2810);
static N_INLINE(void, Rtladdzct_11458)(TY10402* C_11460);
static N_INLINE(void, Rtladdcycleroot_11452)(TY10402* C_11454);
static N_INLINE(void, Unlock_10819)(TY10790* Gch_10822);
static N_INLINE(void, asgnRefNoCycle)(void** Dest_11618, void* Src_11619);
static N_INLINE(NI, Atomicinc_2801)(NI* Memloc_2804, NI X_2805);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* Src_17108);
N_NIMCALL(NimStringDesc*, rawNewString)(NI Space_17087);
N_NIMCALL(void, raiseException)(E_Base* E_5004, NCSTRING Ename_5005);
N_NIMCALL(void, Gcdisable_2463)(void);
static N_INLINE(void, pushCurrentException)(E_Base* E_4441);
static N_INLINE(void, asgnRef)(void** Dest_11614, void* Src_11615);
static N_INLINE(void, Incref_11602)(TY10402* C_11604);
N_NIMCALL(NimStringDesc*, setLengthStr)(NimStringDesc* S_17225, NI Newlen_17226);
N_NIMCALL(NimStringDesc*, resizeString)(NimStringDesc* Dest_17182, NI Addlen_17183);
static N_INLINE(NI, Resize_17001)(NI Old_17003);
N_NIMCALL(void*, Growobj_12607)(void* Old_12609, NI Newsize_12610);
N_NIMCALL(void, Rawwritestacktrace_4643)(NimStringDesc** S_4646);
static N_INLINE(void, appendString)(NimStringDesc* Dest_17192, NimStringDesc* Src_17193);
N_NIMCALL(void, Auxwritestacktrace_4460)(TFrame* F_4462, NimStringDesc** S_4464);
N_NIMCALL(NimStringDesc*, nimIntToStr)(NI X_17803);
N_NIMCALL(NimStringDesc*, mnewString)(NI Len_1349);
N_NIMCALL(NimStringDesc*, addChar)(NimStringDesc* S_1603, NIM_CHAR C_1604);
N_NIMCALL(NimStringDesc*, cstrToNimstr)(NCSTRING Str_17104);
N_NIMCALL(NimStringDesc*, toNimStr)(NCSTRING Str_17099, NI Len_17100);
N_NIMCALL(void, Writetostderr_4232)(NCSTRING Msg_4234);
static N_INLINE(void, Quitordebug_4801)(void);
N_NIMCALL(void, Gcenable_2465)(void);
static N_INLINE(void, rawEchoNL)(void);
static N_INLINE(void, Inccurrmem_8486)(TY8474* A_8489, NI Bytes_8490);
N_NIMCALL(TY8434*, Requestoschunks_8692)(TY8474* A_8695, NI Size_8696);
N_NIMCALL(NI, Cmp_1321)(NimStringDesc* X_1323, NimStringDesc* Y_1324);
N_NIMCALL(void, Rawreadline_3589)(FILE* F_3591, NimStringDesc** Result_3593);
N_NIMCALL(NimStringDesc*, Readline_3479)(FILE* F_3481);
N_NIMCALL(void, Write_3454)(FILE* F_3456, NI I_3457);
N_NIMCALL(void, Write_3462)(FILE* F_3464, NIM_BOOL B_3465);
N_NIMCALL(void, Write_3450)(FILE* F_3452, NF R_3453);
N_NIMCALL(void, Write_3466)(FILE* F_3468, NIM_CHAR C_3469);
N_NIMCALL(void, Write_3474)(FILE* F_3476, NimStringDesc** A_3478, NI A_3478Len0);
N_NIMCALL(NimStringDesc*, Readfile_3447)(NimStringDesc* Filename_3449);
static N_INLINE(void, pushSafePoint)(TSafePoint* S_4435);
N_NIMCALL(NIM_BOOL, Open_3417)(FILE** F_3420, NimStringDesc* Filename_3421, NU8 Mode_3422, NI Bufsize_3423);
N_NIMCALL(NI64, Getfilesize_3495)(FILE* F_3497);
N_NIMCALL(NI64, Getfilepos_3542)(FILE* F_3544);
N_NIMCALL(void, Setfilepos_3538)(FILE* F_3540, NI64 Pos_3541);
N_NIMCALL(NI, Readbuffer_3514)(FILE* F_3516, void* Buffer_3517, NI Len_3518);
static N_INLINE(void, popSafePoint)(void);
static N_INLINE(E_Base*, getCurrentException)(void);
static N_INLINE(void, popCurrentException)(void);
N_NIMCALL(void, reraiseException)(void);
N_NIMCALL(NIM_BOOL, Endoffile_3438)(FILE* F_3440);
N_NIMCALL(NIM_BOOL, Reopen_3430)(FILE* F_3432, NimStringDesc* Filename_3433, NU8 Mode_3434);
N_NIMCALL(NIM_BOOL, Open_3424)(FILE** F_3427, NI32 Filehandle_3428, NU8 Mode_3429);
N_NIMCALL(NI, Readbytes_3498)(FILE* F_3500, NI8* A_3503, NI A_3503Len0, NI Start_3504, NI Len_3505);
N_NIMCALL(NI, Readchars_3506)(FILE* F_3508, NIM_CHAR* A_3511, NI A_3511Len0, NI Start_3512, NI Len_3513);
N_NIMCALL(NI, Writebytes_3519)(FILE* F_3521, NI8* A_3523, NI A_3523Len0, NI Start_3524, NI Len_3525);
N_NIMCALL(NI, Writechars_3526)(FILE* F_3528, NIM_CHAR* A_3530, NI A_3530Len0, NI Start_3531, NI Len_3532);
N_NIMCALL(TY4177*, Cstringarraytoseq_4173)(NCSTRING* A_4175, NI Len_4176);
N_NIMCALL(void*, newSeq)(TNimType* Typ_12604, NI Len_12605);
static N_INLINE(NI, addInt)(NI A_5603, NI B_5604);
N_NOINLINE(void, raiseOverflow)(void);
N_NIMCALL(NI, mulInt)(NI A_6603, NI B_6604);
N_NIMCALL(TY4177*, Cstringarraytoseq_4214)(NCSTRING* A_4216);
N_NIMCALL(void, internalAssert)(NCSTRING File_5054, NI Line_5055, NIM_BOOL Cond_5056);
N_NIMCALL(void, Writestacktrace_5071)(void);
N_NOCONV(void, signalHandler)(NI32 Sig_5078);
N_NIMCALL(void, registerSignalHandler)(void);
N_NOINLINE(void, raiseRangeError)(NI64 Val_5218);
N_NIMCALL(NimStringDesc*, nimInt64ToStr)(NI64 X_17867);
N_NOINLINE(void, raiseIndexError)(void);
N_NOINLINE(void, raiseFieldError)(NimStringDesc* F_5275);
static N_INLINE(NI, chckIndx)(NI I_4405, NI A_4406, NI B_4407);
static N_INLINE(NI, chckRange)(NI I_4410, NI A_4411, NI B_4412);
N_NIMCALL(NI64, chckRange64)(NI64 I_5323, NI64 A_5324, NI64 B_5325);
static N_INLINE(NF, chckRangeF)(NF X_4415, NF A_4416, NF B_4417);
N_NIMCALL(NimStringDesc*, nimFloatToStr)(NF X_17860);
static N_INLINE(void, chckNil)(void* P_4420);
N_NIMCALL(void, chckObj)(TNimType* Obj_5375, TNimType* Subclass_5376);
static N_INLINE(void, chckObjAsgn)(TNimType* A_5426, TNimType* B_5427);
N_NIMCALL(NIM_BOOL, isObj)(TNimType* Obj_5456, TNimType* Subclass_5457);
N_NOINLINE(void, raiseDivByZero)(void);
static N_INLINE(NI64, addInt64)(NI64 A_5529, NI64 B_5530);
static N_INLINE(NI64, subInt64)(NI64 A_5538, NI64 B_5539);
static N_INLINE(NI64, negInt64)(NI64 A_5547);
static N_INLINE(NI64, absInt64)(NI64 A_5553);
static N_INLINE(NI64, divInt64)(NI64 A_5561, NI64 B_5562);
static N_INLINE(NI64, modInt64)(NI64 A_5572, NI64 B_5573);
N_NIMCALL(NI64, mulInt64)(NI64 A_5579, NI64 B_5580);
static N_INLINE(NI, absInt)(NI A_5586);
static N_INLINE(NI, subInt)(NI A_5803, NI B_5804);
static N_INLINE(NI, negInt)(NI A_6003);
static N_INLINE(NI, divInt)(NI A_6203, NI B_6204);
static N_INLINE(NI, modInt)(NI A_6403, NI B_6404);
N_NOINLINE(void, Raisefloatinvalidop_6801)(void);
static N_INLINE(void, nanCheck)(NF64 X_6822);
N_NOINLINE(void, Raisefloatoverflow_6823)(NF64 X_6825);
static N_INLINE(void, infCheck)(NF64 X_6862);
N_NIMCALL(void, nimUnloadLibrary)(void* Lib_1614);
N_NIMCALL(NI, countBits32)(NI32 N_7006);
N_NIMCALL(NI, countBits64)(NI64 N_7011);
N_NIMCALL(NI, cardSet)(TY7002 S_7015, NI Len_7016);
N_NIMCALL(void, Createthread_8010)(TY8002* T_8013, TY8004 Fn_8014);
N_NIMCALL(void, Destroythread_8015)(TY8002* T_8018);
N_NIMCALL(NI, Getmaxmem_8522)(TY8474* A_8525);
N_NIMCALL(NIM_BOOL, Containsorincl_8656)(TY8411* S_8659, NI Key_8660);
N_NIMCALL(void, Writefreelist_8767)(TY8474* A_8769);
static N_INLINE(NI, Getcellsize_9390)(void* P_9392);
N_NIMCALL(NI, Ptrsize_10033)(void* P_10035);
N_NOCONV(void*, Realloc_1780)(void* P_1782, NI Newsize_1783);
N_NIMCALL(NI, Countfreemem_10045)(void);
static N_INLINE(NIM_BOOL, Contains_10436)(TY10418 S_10438, TY10402* C_10439);
N_NIMCALL(void, Deinit_10483)(TY10418* S_10486);
N_NIMCALL(TNimType*, extGetCellType)(void* C_10857);
N_NIMCALL(NI, getRefcount)(void* P_10861);
static N_INLINE(void, nimGCref)(void* P_11608);
static N_INLINE(void, nimGCunref)(void* P_11611);
N_NIMCALL(void, unsureAsgnRef)(void** Dest_11626, void* Src_11627);
N_NOINLINE(NIM_BOOL, Isonstack_11409)(void* P_11411);
N_NIMCALL(void, Gcsetstrategy_2475)(NU8 Strategy_2477);
N_NIMCALL(void, Gcenablemarkandsweep_2478)(void);
N_NIMCALL(void, Gcdisablemarkandsweep_2480)(void);
N_NIMCALL(void, Gcfullcollect_2467)(void);
N_NIMCALL(NimStringDesc*, Gcgetstatistics_2482)(void);
static N_INLINE(NI, cmpStrings)(NimStringDesc* A_17011, NimStringDesc* B_17012);
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* A_17047, NimStringDesc* B_17048);
N_NIMCALL(NimStringDesc*, mnewString)(NI Len_17095);
N_NIMCALL(NI, hashString)(NimStringDesc* S_17123);
N_NIMCALL(NimStringDesc*, copyStrLast)(NimStringDesc* S_17143, NI Start_17144, NI Last_17145);
N_NIMCALL(NimStringDesc*, copyStr)(NimStringDesc* S_17158, NI Start_17159);
static N_INLINE(void, appendChar)(NimStringDesc* Dest_17209, NIM_CHAR C_17210);
N_NIMCALL(TGenericSeq*, incrSeq)(TGenericSeq* Seq_17235, NI Elemsize_17236);
N_NIMCALL(TGenericSeq*, setLengthSeq)(TGenericSeq* Seq_17403, NI Elemsize_17404, NI Newlen_17405);
N_NIMCALL(NimStringDesc*, nimBoolToStr)(NIM_BOOL X_17924);
N_NIMCALL(NimStringDesc*, nimCharToStr)(NIM_CHAR X_17928);
N_NIMCALL(NI, binaryStrSearch)(NimStringDesc** X_17933, NI X_17933Len0, NimStringDesc* Y_17934);
N_NIMCALL(void, Genericassignaux_17968)(void* Dest_17970, void* Src_17971, TNimNode* N_17973);
N_NIMCALL(void, genericAssign)(void* Dest_17965, void* Src_17966, TNimType* Mt_17967);
N_NIMCALL(void, genericSeqAssign)(void* Dest_18039, void* Src_18040, TNimType* Mt_18041);
N_NIMCALL(void, genericAssignOpenArray)(void* Dest_18046, void* Src_18047, NI Len_18048, TNimType* Mt_18049);
N_NIMCALL(void, Objectinitaux_18064)(void* Dest_18066, TNimNode* N_18068);
N_NIMCALL(void, objectInit)(void* Dest_18062, TNimType* Typ_18063);
N_NIMCALL(NimStringDesc*, reprInt)(NI64 X_18107);
N_NIMCALL(NimStringDesc*, reprFloat)(NF X_18113);
N_NIMCALL(NimStringDesc*, reprPointer)(void* X_18117);
N_NIMCALL(void, Reprstraux_18122)(NimStringDesc** Result_18125, NimStringDesc* S_18126);
N_NIMCALL(NimStringDesc*, reprStr)(NimStringDesc* S_18153);
N_NIMCALL(NimStringDesc*, reprBool)(NIM_BOOL X_18158);
N_NIMCALL(NimStringDesc*, reprChar)(NIM_CHAR X_18162);
N_NIMCALL(NimStringDesc*, reprEnum)(NI E_18179, TNimType* Typ_18180);
N_NIMCALL(void, Addsetelem_18196)(NimStringDesc** Result_18199, NI Elem_18200, TNimType* Typ_18201);
N_NIMCALL(void, Reprsetaux_18202)(NimStringDesc** Result_18205, void* P_18206, TNimType* Typ_18207);
N_NIMCALL(NimStringDesc*, reprSet)(void* P_18267, TNimType* Typ_18268);
N_NIMCALL(void, Initreprclosure_18276)(TY18272* Cl_18279);
N_NIMCALL(void, Deinitreprclosure_18281)(TY18272* Cl_18284);
N_NIMCALL(void, Reprbreak_18286)(NimStringDesc** Result_18289, TY18272* Cl_18290);
N_NIMCALL(void, Reprarray_18307)(NimStringDesc** Result_18310, void* P_18311, TNimType* Typ_18312, TY18272* Cl_18314);
N_NIMCALL(void, Repraux_18299)(NimStringDesc** Result_18302, void* P_18303, TNimType* Typ_18304, TY18272* Cl_18306);
N_NIMCALL(void, Reprrecord_18384)(NimStringDesc** Result_18387, void* P_18388, TNimType* Typ_18389, TY18272* Cl_18391);
N_NIMCALL(void, Reprrecordaux_18353)(NimStringDesc** Result_18356, void* P_18357, TNimNode* N_18359, TY18272* Cl_18361);
N_NIMCALL(void, Reprref_18392)(NimStringDesc** Result_18395, void* P_18396, TNimType* Typ_18397, TY18272* Cl_18399);
N_NIMCALL(void, Reprsequence_18326)(NimStringDesc** Result_18329, void* P_18330, TNimType* Typ_18331, TY18272* Cl_18333);
N_NIMCALL(NimStringDesc*, reprOpenArray)(void* P_18803, NI Length_18804, TNimType* Elemtyp_18805);
N_NIMCALL(NimStringDesc*, reprAny)(void* P_7041, TNimType* Typ_7042);
static N_INLINE(NimStringDesc*, Getcurrentexceptionmsg_19005)(void);
N_NIMCALL(void, Listremove_8846)(TY8434** Head_8850, TY8434* C_8851);
N_NIMCALL(NIM_BOOL, Contains_8855)(TY8434* List_8858, TY8434* X_8859);
N_NIMCALL(void, Listadd_9207)(TY8434** Head_9211, TY8434* C_9212);
N_NIMCALL(void, Listadd_9426)(TY8432** Head_9430, TY8432* C_9431);
N_NIMCALL(NIM_BOOL, Contains_9435)(TY8432* List_9438, TY8432* X_9439);
N_NIMCALL(void, Listremove_9568)(TY8432** Head_9572, TY8432* C_9573);
STRING_LITERAL(TMP19909, "kernel32", 8);
STRING_LITERAL(TMP19910, "kernel32", 8);
STRING_LITERAL(TMP19911, "could not load: ", 16);
STRING_LITERAL(TMP19912, "\015\012", 2);
STRING_LITERAL(TMP19913, "could not import: ", 18);
STRING_LITERAL(TMP19914, "cannot write string to file", 27);
STRING_LITERAL(TMP19915, "No stack traceback available", 28);
STRING_LITERAL(TMP19916, "Traceback (most recent call last)", 33);
STRING_LITERAL(TMP19917, "(", 1);
STRING_LITERAL(TMP19918, " calls omitted) ...", 19);
STRING_LITERAL(TMP19919, "Error: unhandled exception: ", 28);
STRING_LITERAL(TMP19920, "Error: unhandled exception", 26);
STRING_LITERAL(TMP19921, " [", 2);
STRING_LITERAL(TMP19922, "]\015\012", 3);
STRING_LITERAL(TMP19923, "out of memory; cannot even throw an exception", 45);
STRING_LITERAL(TMP19924, "out of memory", 13);
STRING_LITERAL(TMP19925, "", 0);
STRING_LITERAL(TMP19926, "true", 4);
STRING_LITERAL(TMP19927, "false", 5);
STRING_LITERAL(TMP19929, "cannot retrieve file position", 29);
STRING_LITERAL(TMP19930, "cannot set file position", 24);
STRING_LITERAL(TMP19931, "no exception to reraise", 23);
STRING_LITERAL(TMP19932, "rb", 2);
STRING_LITERAL(TMP19933, "wb", 2);
STRING_LITERAL(TMP19934, "w+b", 3);
STRING_LITERAL(TMP19935, "r+b", 3);
STRING_LITERAL(TMP19936, "ab", 2);
NIM_CONST TY3902 Formatopen_3901 = {((NimStringDesc*) &TMP19932),
((NimStringDesc*) &TMP19933),
((NimStringDesc*) &TMP19934),
((NimStringDesc*) &TMP19935),
((NimStringDesc*) &TMP19936)}
;
STRING_LITERAL(TMP19937, "over- or underflow", 18);
STRING_LITERAL(TMP19938, "[Assertion failure] file: ", 26);
STRING_LITERAL(TMP19939, " line: ", 7);
STRING_LITERAL(TMP19940, "SIGINT: Interrupted by Ctrl-C.\015\012", 32);
STRING_LITERAL(TMP19941, "SIGSEGV: Illegal storage access. (Attempt to read from nil?)\015\012", 62);
STRING_LITERAL(TMP19942, "SIGABRT: Abnormal termination.\015\012", 32);
STRING_LITERAL(TMP19943, "SIGFPE: Arithmetic error.\015\012", 27);
STRING_LITERAL(TMP19944, "SIGILL: Illegal operation.\015\012", 28);
STRING_LITERAL(TMP19945, "SIGBUS: Illegal storage access. (Attempt to read from nil?)\015\012", 61);
STRING_LITERAL(TMP19946, "unknown signal\015\012", 16);
STRING_LITERAL(TMP19947, "value ", 6);
STRING_LITERAL(TMP19948, " out of range", 13);
STRING_LITERAL(TMP19949, "index out of bounds", 19);
STRING_LITERAL(TMP19950, " is not accessible", 18);
STRING_LITERAL(TMP19951, "invalid object conversion", 25);
STRING_LITERAL(TMP19952, "invalid object assignment", 25);
STRING_LITERAL(TMP19953, "divison by zero", 15);
STRING_LITERAL(TMP19954, "FPU operation caused a NaN result", 33);
STRING_LITERAL(TMP19955, "FPU operation caused an overflow", 32);
STRING_LITERAL(TMP19956, "FPU operations caused an underflow", 34);
STRING_LITERAL(TMP19957, "[GC] total memory: ", 19);
STRING_LITERAL(TMP19958, "\015\012[GC] occupied memory: ", 24);
STRING_LITERAL(TMP19959, "\015\012[GC] stack scans: ", 20);
STRING_LITERAL(TMP19960, "\015\012[GC] stack cells: ", 20);
STRING_LITERAL(TMP19961, "\015\012[GC] cycle collections: ", 26);
STRING_LITERAL(TMP19962, "\015\012[GC] max threshold: ", 22);
STRING_LITERAL(TMP19963, "\015\012[GC] zct capacity: ", 21);
STRING_LITERAL(TMP19964, "\015\012[GC] max cycle table size: ", 29);
STRING_LITERAL(TMP19965, "\015\012[GC] max stack size: ", 23);
STRING_LITERAL(TMP19966, "nil", 3);
STRING_LITERAL(TMP19967, "\"", 1);
STRING_LITERAL(TMP19968, "\\\"", 2);
STRING_LITERAL(TMP19969, "\\\\", 2);
STRING_LITERAL(TMP19970, "\\10\"\015\012\"", 7);
STRING_LITERAL(TMP19971, "\\", 1);
STRING_LITERAL(TMP19972, "\'", 1);
STRING_LITERAL(TMP19973, " (invalid data!)", 16);
STRING_LITERAL(TMP19974, "{", 1);
STRING_LITERAL(TMP19975, ", ", 2);
STRING_LITERAL(TMP19976, "}", 1);
STRING_LITERAL(TMP19977, "[", 1);
STRING_LITERAL(TMP19978, "...", 3);
STRING_LITERAL(TMP19979, " = ", 3);
STRING_LITERAL(TMP19980, ",\015\012", 3);
STRING_LITERAL(TMP19981, "]", 1);
STRING_LITERAL(TMP19982, "ref ", 4);
STRING_LITERAL(TMP19983, " --> ", 5);
STRING_LITERAL(TMP19984, "(invalid data!)", 15);
TY2518 Dbglinehook_2521;
TNimType Strdesc_2817;
extern TNimType* NTI4062; /* ref EIO */
static void* TMP19908;
TY7816 Dl_7815;
TY7820 Dl_7819;
extern TNimType* NTI420; /* EIO */
TY7812 Dl_7811;
extern TNimType* NTI8062; /* ref EOutOfMemory */
extern TNimType* NTI442; /* EOutOfMemory */
extern TNimType* NTI5033; /* ref ENoExceptionToReraise */
extern TNimType* NTI452; /* ENoExceptionToReraise */
extern TNimType* NTI4177; /* seq[string] */
extern TNimType* NTI5491; /* ref EOverflow */
extern TNimType* NTI432; /* EOverflow */
TSafePoint* excHandler;
E_Base* Currexception_4432;
NimStringDesc* Buf_4453;
NimStringDesc* Assertbuf_4454;
TFrame* framePtr;
TY4456 Tempframes_4458;
NimStringDesc* Stacktracenewline_4459;
EAssertionFailed* Gassertionfailed_5051;
NIM_BOOL Dbgaborting_5075;
extern TNimType* NTI5050; /* ref EAssertionFailed */
extern TNimType* NTI436; /* EAssertionFailed */
extern TNimType* NTI5219; /* ref EOutOfRange */
extern TNimType* NTI448; /* EOutOfRange */
extern TNimType* NTI5256; /* ref EInvalidIndex */
extern TNimType* NTI444; /* EInvalidIndex */
extern TNimType* NTI5276; /* ref EInvalidField */
extern TNimType* NTI446; /* EInvalidField */
extern TNimType* NTI5407; /* ref EInvalidObjectConversion */
extern TNimType* NTI456; /* EInvalidObjectConversion */
extern TNimType* NTI5437; /* ref EInvalidObjectAssignment */
extern TNimType* NTI454; /* EInvalidObjectAssignment */
extern TNimType* NTI5510; /* ref EDivByZero */
extern TNimType* NTI430; /* EDivByZero */
extern TNimType* NTI6803; /* ref EFloatInvalidOp */
extern TNimType* NTI460; /* EFloatInvalidOp */
extern TNimType* NTI6826; /* ref EFloatOverflow */
extern TNimType* NTI464; /* EFloatOverflow */
extern TNimType* NTI6843; /* ref EFloatUnderflow */
extern TNimType* NTI466; /* EFloatUnderflow */
TY7824 Dl_7823;
TY442* Goutofmem_8058;
TY8474 Allocator_8529;
NI Lastsize_8691;
void* Stackbottom_10809;
TY10790 Gch_10810;
NI Cyclethreshold_10811;
NI Recgclock_10812;
N_NIMCALL(void, Add_2522)(NimStringDesc** X_2525, NCSTRING Y_2526) {
NI I_2527;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "add";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
I_2527 = 0;
F.line = 1248;F.filename = "system.nim";
I_2527 = 0;
F.line = 1249;F.filename = "system.nim";
while (1) {
if (!!(((NU8)(Y_2526[I_2527]) == (NU8)(0)))) goto LA1;
F.line = 1250;F.filename = "system.nim";
(*X_2525) = addChar((*X_2525), Y_2526[I_2527]);
F.line = 1251;F.filename = "system.nim";
I_2527 += 1;
} LA1: ;
framePtr = framePtr->prev;
}
static N_INLINE(NF, HEX2F_2602)(NI X_2604, NI Y_2605) {
NF Result_2606;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "/";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_2606 = 0;
F.line = 1266;F.filename = "system.nim";
Result_2606 = (((double) (X_2604)) / ((double) (Y_2605)));
framePtr = framePtr->prev;
return Result_2606;
}
N_NOINLINE(void, setStackBottom)(void* Thestackbottom_1624) {
NI A_14804;
NI B_14805;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "setStackBottom";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 501;F.filename = "gc.nim";
if (!(Stackbottom_10809 == NIM_NIL)) goto LA2;
F.line = 501;F.filename = "gc.nim";
Stackbottom_10809 = Thestackbottom_1624;
goto LA1;
LA2: ;
A_14804 = 0;
F.line = 503;F.filename = "gc.nim";
A_14804 = ((NI) (Thestackbottom_1624));
B_14805 = 0;
F.line = 504;F.filename = "gc.nim";
B_14805 = ((NI) (Stackbottom_10809));
F.line = 508;F.filename = "gc.nim";
Stackbottom_10809 = ((void*) (((A_14804 >= B_14805) ? A_14804 : B_14805)));
LA1: ;
framePtr = framePtr->prev;
}
static N_INLINE(void, Initstackbottom_2813)(void) {
void* volatile Locals_2815;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "initStackBottom";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Locals_2815 = 0;
F.line = 1319;F.filename = "system.nim";
setStackBottom(((void*) (&Locals_2815)));
framePtr = framePtr->prev;
}
static N_INLINE(NI, Roundup_8456)(NI X_8458, NI V_8459) {
NI Result_8460;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "roundup";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/alloc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_8460 = 0;
F.line = 130;F.filename = "alloc.nim";
Result_8460 = (NI32)((NI32)(X_8458 + (NI32)(V_8459 - 1)) & (NI32)((NU32) ~((NI32)(V_8459 - 1))));
F.line = 131;F.filename = "alloc.nim";
framePtr = framePtr->prev;
return Result_8460;
}
N_NIMCALL(TY8407*, Intsetget_8574)(TY8411* T_8576, NI Key_8577) {
TY8407* Result_8578;
TY8407* It_8579;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "IntSetGet";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/alloc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_8578 = 0;
It_8579 = 0;
F.line = 189;F.filename = "alloc.nim";
It_8579 = (*T_8576).Data[((NI32)(Key_8577 & 1023))-0];
F.line = 190;F.filename = "alloc.nim";
while (1) {
if (!!((It_8579 == NIM_NIL))) goto LA1;
F.line = 191;F.filename = "alloc.nim";
if (!((*It_8579).Key == Key_8577)) goto LA3;
F.line = 191;F.filename = "alloc.nim";
F.line = 191;F.filename = "alloc.nim";
Result_8578 = It_8579;
goto BeforeRet;
LA3: ;
F.line = 192;F.filename = "alloc.nim";
It_8579 = (*It_8579).Next;
} LA1: ;
F.line = 193;F.filename = "alloc.nim";
Result_8578 = NIM_NIL;
BeforeRet: ;
framePtr = framePtr->prev;
return Result_8578;
}
N_NIMCALL(NIM_BOOL, Contains_8611)(TY8411* S_8613, NI Key_8614) {
NIM_BOOL Result_8615;
TY8407* T_8616;
NI U_8628;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "Contains";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/alloc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_8615 = 0;
T_8616 = 0;
F.line = 204;F.filename = "alloc.nim";
T_8616 = Intsetget_8574(S_8613, (NI32)((NU32)(Key_8614) >> (NU32)(9)));
F.line = 205;F.filename = "alloc.nim";
if (!!((T_8616 == NIM_NIL))) goto LA2;
U_8628 = 0;
F.line = 206;F.filename = "alloc.nim";
U_8628 = (NI32)(Key_8614 & 511);
F.line = 207;F.filename = "alloc.nim";
Result_8615 = !(((NI32)((*T_8616).Bits[((NI32)((NU32)(U_8628) >> (NU32)(5)))-0] & (NI32)((NU32)(1) << (NU32)((NI32)(U_8628 & 31)))) == 0));
goto LA1;
LA2: ;
F.line = 209;F.filename = "alloc.nim";
Result_8615 = NIM_FALSE;
LA1: ;
framePtr = framePtr->prev;
return Result_8615;
}
static N_INLINE(NI, Pageindex_8681)(void* P_8683) {
NI Result_8684;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "pageIndex";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/alloc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_8684 = 0;
F.line = 240;F.filename = "alloc.nim";
Result_8684 = (NI32)((NU32)(((NI) (P_8683))) >> (NU32)(12));
framePtr = framePtr->prev;
return Result_8684;
}
static N_INLINE(NIM_BOOL, Isaccessible_8752)(void* P_8754) {
NIM_BOOL Result_8755;
NI LOC1;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "isAccessible";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/alloc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_8755 = 0;
F.line = 291;F.filename = "alloc.nim";
LOC1 = Pageindex_8681(P_8754);
Result_8755 = Contains_8611(&Allocator_8529.Chunkstarts, LOC1);
framePtr = framePtr->prev;
return Result_8755;
}
static N_INLINE(void, Updateprevsize_8811)(TY8474* A_8814, TY8434* C_8815, NI Prevsize_8816) {
TY8430* Ri_8817;
NIM_BOOL LOC2;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "updatePrevSize";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/alloc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Ri_8817 = 0;
F.line = 339;F.filename = "alloc.nim";
Ri_8817 = ((TY8430*) ((NI32)((NU32)(((NI) (C_8815))) + (NU32)((*C_8815).Sup.Size))));
F.line = 340;F.filename = "alloc.nim";
F.line = 341;F.filename = "alloc.nim";
LOC2 = Isaccessible_8752(((void*) (Ri_8817)));
if (!LOC2) goto LA3;
F.line = 342;F.filename = "alloc.nim";
(*Ri_8817).Prevsize = Prevsize_8816;
LA3: ;
framePtr = framePtr->prev;
}
N_NIMCALL(NI, Writebuffer_3533)(FILE* F_3535, void* Buffer_3536, NI Len_3537) {
NI Result_4051;
Result_4051 = 0;
Result_4051 = fwrite(Buffer_3536, 1, Len_3537, F_3535);
return Result_4051;
}
N_NIMCALL(void*, nimLoadLibrary)(NimStringDesc* Path_1611) {
void* Result_6894;
void* LOC1;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "nimLoadLibrary";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/dyncalls.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_6894 = 0;
F.line = 96;F.filename = "dyncalls.nim";
LOC1 = LoadLibraryA(Path_1611->data);
Result_6894 = ((void*) (LOC1));
framePtr = framePtr->prev;
return Result_6894;
}
N_NIMCALL(void, Rawwrite_6864)(FILE* F_6866, NimStringDesc* S_6867) {
NI LOC1;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "rawWrite";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/dyncalls.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 20;F.filename = "dyncalls.nim";
LOC1 = Writebuffer_3533(F_6866, ((void*) (S_6867->data)), S_6867->Sup.len);
framePtr = framePtr->prev;
}
N_NOINLINE(void, nimLoadLibraryError)(NimStringDesc* Path_1621) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "nimLoadLibraryError";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/dyncalls.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 26;F.filename = "dyncalls.nim";
Rawwrite_6864(stdout, ((NimStringDesc*) &TMP19911));
F.line = 27;F.filename = "dyncalls.nim";
Rawwrite_6864(stdout, Path_1621);
F.line = 28;F.filename = "dyncalls.nim";
Rawwrite_6864(stdout, ((NimStringDesc*) &TMP19912));
F.line = 29;F.filename = "dyncalls.nim";
exit(1);
framePtr = framePtr->prev;
}
N_NIMCALL(void, Write_3470)(FILE* F_3472, NCSTRING C_3473) {
fputs(C_3473, F_3472);
}
N_NOINLINE(void, Procaddrerror_6873)(NCSTRING Name_6875) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "ProcAddrError";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/dyncalls.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 33;F.filename = "dyncalls.nim";
Rawwrite_6864(stdout, ((NimStringDesc*) &TMP19913));
F.line = 34;F.filename = "dyncalls.nim";
Write_3470(stdout, Name_6875);
F.line = 35;F.filename = "dyncalls.nim";
Rawwrite_6864(stdout, ((NimStringDesc*) &TMP19912));
F.line = 36;F.filename = "dyncalls.nim";
exit(1);
framePtr = framePtr->prev;
}
N_NIMCALL(void*, nimGetProcAddr)(void* Lib_1617, NCSTRING Name_1618) {
void* Result_6899;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "nimGetProcAddr";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/dyncalls.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_6899 = 0;
F.line = 99;F.filename = "dyncalls.nim";
Result_6899 = GetProcAddress(((void*) (Lib_1617)), Name_1618);
F.line = 100;F.filename = "dyncalls.nim";
if (!(Result_6899 == NIM_NIL)) goto LA2;
F.line = 100;F.filename = "dyncalls.nim";
Procaddrerror_6873(Name_1618);
LA2: ;
framePtr = framePtr->prev;
return Result_6899;
}
static N_INLINE(void, Lock_10813)(TY10790* Gch_10816) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "lock";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 80;F.filename = "gc.nim";
if (!NIM_TRUE) goto LA2;
F.line = 81;F.filename = "gc.nim";
Dl_7815(&(*Gch_10816).Zctlock);
F.line = 82;F.filename = "gc.nim";
Dl_7815(&(*Gch_10816).Cyclerootslock);
LA2: ;
framePtr = framePtr->prev;
}
N_NIMCALL(NI, Gettotalmem_1845)(void) {
NI Result_10077;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "getTotalMem";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/alloc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_10077 = 0;
F.line = 575;F.filename = "alloc.nim";
F.line = 575;F.filename = "alloc.nim";
Result_10077 = Allocator_8529.Currmem;
goto BeforeRet;
BeforeRet: ;
framePtr = framePtr->prev;
return Result_10077;
}
N_NIMCALL(NI, Getfreemem_1843)(void) {
NI Result_10074;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "getFreeMem";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/alloc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_10074 = 0;
F.line = 572;F.filename = "alloc.nim";
Result_10074 = Allocator_8529.Freemem;
framePtr = framePtr->prev;
return Result_10074;
}
N_NIMCALL(NI, Getoccupiedmem_1841)(void) {
NI Result_10080;
NI LOC1;
NI LOC2;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "getOccupiedMem";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/alloc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_10080 = 0;
F.line = 576;F.filename = "alloc.nim";
F.line = 576;F.filename = "alloc.nim";
LOC1 = Gettotalmem_1845();
LOC2 = Getfreemem_1843();
Result_10080 = (NI32)(LOC1 - LOC2);
goto BeforeRet;
BeforeRet: ;
framePtr = framePtr->prev;
return Result_10080;
}
N_NOINLINE(NI, Stacksize_15201)(void) {
NI Result_15203;
void* volatile Stacktop_15204;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "stackSize";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_15203 = 0;
Stacktop_15204 = 0;
F.line = 512;F.filename = "gc.nim";
Result_15203 = (NI32)abs((NI32)(((NI) (&Stacktop_15204)) - ((NI) (Stackbottom_10809))));
framePtr = framePtr->prev;
return Result_15203;
}
static N_INLINE(TY10402*, Usrtocell_10836)(void* Usr_10838) {
TY10402* Result_10839;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "usrToCell";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_10839 = 0;
F.line = 100;F.filename = "gc.nim";
Result_10839 = ((TY10402*) ((NI32)((NU32)(((NI) (Usr_10838))) - (NU32)(((NI) (((NI)sizeof(TY10402))))))));
framePtr = framePtr->prev;
return Result_10839;
}
static N_INLINE(TY8430*, Pageaddr_8685)(void* P_8687) {
TY8430* Result_8688;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "pageAddr";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/alloc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_8688 = 0;
F.line = 243;F.filename = "alloc.nim";
Result_8688 = ((TY8430*) ((NI32)(((NI) (P_8687)) & -4096)));
F.line = 244;F.filename = "alloc.nim";
framePtr = framePtr->prev;
return Result_8688;
}
static N_INLINE(NIM_BOOL, Chunkunused_8807)(TY8430* C_8809) {
NIM_BOOL Result_8810;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "chunkUnused";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/alloc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_8810 = 0;
F.line = 335;F.filename = "alloc.nim";
Result_8810 = !((*C_8809).Used);
framePtr = framePtr->prev;
return Result_8810;
}
static N_INLINE(NIM_BOOL, Issmallchunk_8801)(TY8430* C_8803) {
NIM_BOOL Result_8804;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "isSmallChunk";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/alloc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_8804 = 0;
F.line = 331;F.filename = "alloc.nim";
F.line = 331;F.filename = "alloc.nim";
Result_8804 = ((*C_8803).Size <= (NI32)(4096 - (NI32)(((NI)sizeof(TY8432)) - 8)));
goto BeforeRet;
BeforeRet: ;
framePtr = framePtr->prev;
return Result_8804;
}
N_NIMCALL(NIM_BOOL, Isallocatedptr_10001)(TY8474* A_10003, void* P_10004) {
NIM_BOOL Result_10005;
NIM_BOOL LOC2;
TY8430* C_10006;
NIM_BOOL LOC6;
NIM_BOOL LOC10;
TY8432* C_10007;
NI Offset_10008;
NIM_BOOL LOC13;
NIM_BOOL LOC14;
TY8434* C_10012;
NIM_BOOL LOC17;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "isAllocatedPtr";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/alloc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_10005 = 0;
F.line = 519;F.filename = "alloc.nim";
LOC2 = Isaccessible_8752(P_10004);
if (!LOC2) goto LA3;
C_10006 = 0;
F.line = 520;F.filename = "alloc.nim";
C_10006 = Pageaddr_8685(P_10004);
F.line = 521;F.filename = "alloc.nim";
LOC6 = Chunkunused_8807(C_10006);
if (!!(LOC6)) goto LA7;
F.line = 522;F.filename = "alloc.nim";
LOC10 = Issmallchunk_8801(C_10006);
if (!LOC10) goto LA11;
C_10007 = 0;
F.line = 523;F.filename = "alloc.nim";
C_10007 = ((TY8432*) (C_10006));
Offset_10008 = 0;
F.line = 524;F.filename = "alloc.nim";
Offset_10008 = (NI32)((NU32)((NI32)(((NI) (P_10004)) & 4095)) - (NU32)((NI32)(((NI)sizeof(TY8432)) - 8)));
F.line = 526;F.filename = "alloc.nim";
LOC14 = ((NU32)(Offset_10008) < (NU32)((*C_10007).Acc));
if (!(LOC14)) goto LA15;
LOC14 = ((NI32)((NU32)(Offset_10008) % (NU32)((*C_10007).Sup.Size)) == 0);
LA15: ;
LOC13 = LOC14;
if (!(LOC13)) goto LA16;
LOC13 = ((NU32)(1) < (NU32)((*((TY8422*) (P_10004))).Zerofield));
LA16: ;
Result_10005 = LOC13;
goto LA9;
LA11: ;
C_10012 = 0;
F.line = 529;F.filename = "alloc.nim";
C_10012 = ((TY8434*) (C_10006));
F.line = 530;F.filename = "alloc.nim";
LOC17 = (P_10004 == ((void*) (&(*C_10012).Data)));
if (!(LOC17)) goto LA18;
LOC17 = ((NU32)(1) < (NU32)((*((TY8422*) (P_10004))).Zerofield));
LA18: ;
Result_10005 = LOC17;
LA9: ;
LA7: ;
LA3: ;
framePtr = framePtr->prev;
return Result_10005;
}
N_NIMCALL(void, Excl_8638)(TY8411* S_8641, NI Key_8642) {
TY8407* T_8643;
NI U_8655;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "Excl";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/alloc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
T_8643 = 0;
F.line = 217;F.filename = "alloc.nim";
T_8643 = Intsetget_8574(&(*S_8641), (NI32)((NU32)(Key_8642) >> (NU32)(9)));
F.line = 218;F.filename = "alloc.nim";
if (!!((T_8643 == NIM_NIL))) goto LA2;
U_8655 = 0;
F.line = 219;F.filename = "alloc.nim";
U_8655 = (NI32)(Key_8642 & 511);
F.line = 220;F.filename = "alloc.nim";
(*T_8643).Bits[((NI32)((NU32)(U_8655) >> (NU32)(5)))-0] = (NI32)((*T_8643).Bits[((NI32)((NU32)(U_8655) >> (NU32)(5)))-0] & (NI32)((NU32) ~((NI32)((NU32)(1) << (NU32)((NI32)(U_8655 & 31))))));
LA2: ;
framePtr = framePtr->prev;
}
static N_INLINE(NI, Pageindex_8677)(TY8430* C_8679) {
NI Result_8680;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "pageIndex";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/alloc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_8680 = 0;
F.line = 237;F.filename = "alloc.nim";
Result_8680 = (NI32)((NU32)(((NI) (C_8679))) >> (NU32)(12));
framePtr = framePtr->prev;
return Result_8680;
}
static N_INLINE(void, Osdeallocpages_8093)(void* P_8095, NI Size_8096) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "osDeallocPages";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/alloc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 70;F.filename = "alloc.nim";
VirtualFree(P_8095, 0, ((NI32) 32768));
framePtr = framePtr->prev;
}
static N_INLINE(void, Deccurrmem_8503)(TY8474* A_8506, NI Bytes_8507) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "decCurrMem";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/alloc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 162;F.filename = "alloc.nim";
(*A_8506).Maxmem = (((*A_8506).Maxmem >= (*A_8506).Currmem) ? (*A_8506).Maxmem : (*A_8506).Currmem);
F.line = 163;F.filename = "alloc.nim";
(*A_8506).Currmem -= Bytes_8507;
framePtr = framePtr->prev;
}
N_NIMCALL(void, Freeoschunks_8726)(TY8474* A_8729, void* P_8730, NI Size_8731) {
TY8430* C_8732;
NI Nxt_8733;
TY8430* Next_8736;
NI LOC2;
NIM_BOOL LOC3;
NI LOC6;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "freeOsChunks";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/alloc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
C_8732 = 0;
F.line = 278;F.filename = "alloc.nim";
C_8732 = ((TY8430*) (P_8730));
Nxt_8733 = 0;
F.line = 279;F.filename = "alloc.nim";
Nxt_8733 = (NI32)((NU32)(((NI) (P_8730))) + (NU32)((*C_8732).Size));
F.line = 280;F.filename = "alloc.nim";
Next_8736 = 0;
F.line = 281;F.filename = "alloc.nim";
Next_8736 = ((TY8430*) (Nxt_8733));
F.line = 282;F.filename = "alloc.nim";
LOC2 = Pageindex_8677(Next_8736);
LOC3 = Contains_8611(&(*A_8729).Chunkstarts, LOC2);
if (!LOC3) goto LA4;
F.line = 283;F.filename = "alloc.nim";
(*Next_8736).Prevsize = 0;
LA4: ;
F.line = 284;F.filename = "alloc.nim";
LOC6 = Pageindex_8681(P_8730);
Excl_8638(&(*A_8729).Chunkstarts, LOC6);
F.line = 285;F.filename = "alloc.nim";
Osdeallocpages_8093(P_8730, Size_8731);
F.line = 286;F.filename = "alloc.nim";
Deccurrmem_8503(A_8729, Size_8731);
F.line = 287;F.filename = "alloc.nim";
(*A_8729).Freemem -= Size_8731;
framePtr = framePtr->prev;
}
N_NIMCALL(void, Freebigchunk_8820)(TY8474* A_8823, TY8434* C_8824) {
TY8434* C_8825;
TY8430* Ri_8840;
NIM_BOOL LOC2;
NIM_BOOL LOC7;
NI LOC10;
TY8430* Le_9003;
NIM_BOOL LOC15;
NIM_BOOL LOC20;
NI LOC23;
NI LOC27;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "freeBigChunk";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/alloc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
C_8825 = 0;
F.line = 345;F.filename = "alloc.nim";
C_8825 = C_8824;
F.line = 346;F.filename = "alloc.nim";
F.line = 347;F.filename = "alloc.nim";
(*A_8823).Freemem += (*C_8825).Sup.Size;
Ri_8840 = 0;
F.line = 349;F.filename = "alloc.nim";
Ri_8840 = ((TY8430*) ((NI32)((NU32)(((NI) (C_8825))) + (NU32)((*C_8825).Sup.Size))));
F.line = 350;F.filename = "alloc.nim";
F.line = 351;F.filename = "alloc.nim";
LOC2 = Isaccessible_8752(((void*) (Ri_8840)));
if (!(LOC2)) goto LA3;
LOC2 = Chunkunused_8807(Ri_8840);
LA3: ;
if (!LOC2) goto LA4;
F.line = 352;F.filename = "alloc.nim";
F.line = 353;F.filename = "alloc.nim";
LOC7 = Issmallchunk_8801(Ri_8840);
if (!!(LOC7)) goto LA8;
F.line = 354;F.filename = "alloc.nim";
Listremove_8846(&(*A_8823).Freechunkslist, ((TY8434*) (Ri_8840)));
F.line = 355;F.filename = "alloc.nim";
(*C_8825).Sup.Size += (*Ri_8840).Size;
F.line = 356;F.filename = "alloc.nim";
LOC10 = Pageindex_8677(Ri_8840);
Excl_8638(&(*A_8823).Chunkstarts, LOC10);
LA8: ;
LA4: ;
F.line = 358;F.filename = "alloc.nim";
if (!!(((*C_8825).Sup.Prevsize == 0))) goto LA12;
Le_9003 = 0;
F.line = 359;F.filename = "alloc.nim";
Le_9003 = ((TY8430*) ((NI32)((NU32)(((NI) (C_8825))) - (NU32)((*C_8825).Sup.Prevsize))));
F.line = 360;F.filename = "alloc.nim";
F.line = 361;F.filename = "alloc.nim";
LOC15 = Isaccessible_8752(((void*) (Le_9003)));
if (!(LOC15)) goto LA16;
LOC15 = Chunkunused_8807(Le_9003);
LA16: ;
if (!LOC15) goto LA17;
F.line = 362;F.filename = "alloc.nim";
F.line = 363;F.filename = "alloc.nim";
LOC20 = Issmallchunk_8801(Le_9003);
if (!!(LOC20)) goto LA21;
F.line = 364;F.filename = "alloc.nim";
Listremove_8846(&(*A_8823).Freechunkslist, ((TY8434*) (Le_9003)));
F.line = 365;F.filename = "alloc.nim";
(*Le_9003).Size += (*C_8825).Sup.Size;
F.line = 366;F.filename = "alloc.nim";
LOC23 = Pageindex_8677(&C_8825->Sup);
Excl_8638(&(*A_8823).Chunkstarts, LOC23);
F.line = 367;F.filename = "alloc.nim";
C_8825 = ((TY8434*) (Le_9003));
LA21: ;
LA17: ;
LA12: ;
F.line = 369;F.filename = "alloc.nim";
if (!((*C_8825).Sup.Size < 1048576)) goto LA25;
F.line = 370;F.filename = "alloc.nim";
LOC27 = Pageindex_8677(&C_8825->Sup);
Incl_8631(&(*A_8823).Chunkstarts, LOC27);
F.line = 371;F.filename = "alloc.nim";
Updateprevsize_8811(A_8823, C_8825, (*C_8825).Sup.Size);
F.line = 372;F.filename = "alloc.nim";
Listadd_9207(&(*A_8823).Freechunkslist, C_8825);
F.line = 373;F.filename = "alloc.nim";
(*C_8825).Sup.Used = NIM_FALSE;
goto LA24;
LA25: ;
F.line = 375;F.filename = "alloc.nim";
Freeoschunks_8726(A_8823, ((void*) (C_8825)), (*C_8825).Sup.Size);
LA24: ;
framePtr = framePtr->prev;
}
N_NIMCALL(void, Rawdealloc_9664)(TY8474* A_9667, void* P_9668) {
TY8430* C_9669;
NIM_BOOL LOC2;
TY8432* C_9670;
NI S_9671;
TY8422* F_9673;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "rawDealloc";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/alloc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
C_9669 = 0;
F.line = 485;F.filename = "alloc.nim";
C_9669 = Pageaddr_8685(P_9668);
F.line = 486;F.filename = "alloc.nim";
LOC2 = Issmallchunk_8801(C_9669);
if (!LOC2) goto LA3;
C_9670 = 0;
F.line = 488;F.filename = "alloc.nim";
C_9670 = ((TY8432*) (C_9669));
S_9671 = 0;
F.line = 489;F.filename = "alloc.nim";
S_9671 = (*C_9670).Sup.Size;
F_9673 = 0;
F.line = 490;F.filename = "alloc.nim";
F_9673 = ((TY8422*) (P_9668));
F.line = 492;F.filename = "alloc.nim";
F.line = 493;F.filename = "alloc.nim";
(*F_9673).Zerofield = 0;
F.line = 494;F.filename = "alloc.nim";
(*F_9673).Next = (*C_9670).Freelist;
F.line = 495;F.filename = "alloc.nim";
(*C_9670).Freelist = F_9673;
F.line = 501;F.filename = "alloc.nim";
if (!((*C_9670).Free < S_9671)) goto LA6;
F.line = 502;F.filename = "alloc.nim";
F.line = 504;F.filename = "alloc.nim";
Listadd_9426(&(*A_9667).Freesmallchunks[((NI32)(S_9671 / 8))-0], C_9670);
F.line = 505;F.filename = "alloc.nim";
(*C_9670).Free += S_9671;
goto LA5;
LA6: ;
F.line = 507;F.filename = "alloc.nim";
(*C_9670).Free += S_9671;
F.line = 508;F.filename = "alloc.nim";
if (!((*C_9670).Free == (NI32)(4096 - (NI32)(((NI)sizeof(TY8432)) - 8)))) goto LA9;
F.line = 509;F.filename = "alloc.nim";
Listremove_9568(&(*A_9667).Freesmallchunks[((NI32)(S_9671 / 8))-0], C_9670);
F.line = 510;F.filename = "alloc.nim";
(*C_9670).Sup.Size = 4096;
F.line = 511;F.filename = "alloc.nim";
Freebigchunk_8820(A_9667, ((TY8434*) (C_9670)));
LA9: ;
LA5: ;
goto LA1;
LA3: ;
F.line = 516;F.filename = "alloc.nim";
Freebigchunk_8820(A_9667, ((TY8434*) (C_9669)));
LA1: ;
framePtr = framePtr->prev;
}
N_NOCONV(void, Dealloc_1784)(void* P_1786) {
void* X_10028;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "dealloc";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/alloc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
X_10028 = 0;
F.line = 546;F.filename = "alloc.nim";
X_10028 = ((void*) ((NI32)((NU32)(((NI) (P_1786))) - (NU32)(((NI)sizeof(TY8422))))));
F.line = 547;F.filename = "alloc.nim";
F.line = 548;F.filename = "alloc.nim";
Rawdealloc_9664(&Allocator_8529, X_10028);
F.line = 549;F.filename = "alloc.nim";
framePtr = framePtr->prev;
}
static N_INLINE(void, Add_10458)(TY10418* S_10461, TY10402* C_10462) {
TY10402** D_10465;
void* LOC4;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "add";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/cellsets.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 48;F.filename = "cellsets.nim";
if (!((*S_10461).Cap <= (*S_10461).Len)) goto LA2;
F.line = 49;F.filename = "cellsets.nim";
(*S_10461).Cap = (NI32)((NI32)((*S_10461).Cap * 3) / 2);
D_10465 = 0;
F.line = 50;F.filename = "cellsets.nim";
LOC4 = Alloc_1774((NI32)((*S_10461).Cap * 4));
D_10465 = ((TY10402**) (LOC4));
F.line = 51;F.filename = "cellsets.nim";
memcpy(((void*) (D_10465)), ((void*) ((*S_10461).D)), (NI32)((*S_10461).Len * 4));
F.line = 52;F.filename = "cellsets.nim";
Dealloc_1784(((void*) ((*S_10461).D)));
F.line = 53;F.filename = "cellsets.nim";
(*S_10461).D = D_10465;
LA2: ;
F.line = 55;F.filename = "cellsets.nim";
(*S_10461).D[((*S_10461).Len)-0] = C_10462;
F.line = 56;F.filename = "cellsets.nim";
(*S_10461).Len += 1;
framePtr = framePtr->prev;
}
static N_INLINE(void, Gcmark_14403)(void* P_14405) {
TY10402* Cell_14406;
NI C_14407;
NIM_BOOL LOC2;
NIM_BOOL LOC7;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "gcMark";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Cell_14406 = 0;
F.line = 473;F.filename = "gc.nim";
Cell_14406 = Usrtocell_10836(P_14405);
C_14407 = 0;
F.line = 474;F.filename = "gc.nim";
C_14407 = ((NI) (Cell_14406));
F.line = 475;F.filename = "gc.nim";
LOC2 = ((NU32)(4096) < (NU32)(C_14407));
if (!(LOC2)) goto LA3;
LOC2 = ((NI32)(C_14407 & 7) == 0);
LA3: ;
if (!LOC2) goto LA4;
F.line = 477;F.filename = "gc.nim";
LOC7 = Isallocatedptr_10001(&Allocator_8529, ((void*) (Cell_14406)));
if (!LOC7) goto LA8;
F.line = 479;F.filename = "gc.nim";
(*Cell_14406).Refcount = (NI32)((NU32)((*Cell_14406).Refcount) + (NU32)(8));
F.line = 480;F.filename = "gc.nim";
Add_10458(&Gch_10810.Decstack, Cell_14406);
LA8: ;
LA4: ;
framePtr = framePtr->prev;
}
N_CDECL(void, Markstackandregisters_15215)(TY10790* Gch_15218) {
jmp_buf Registers_15219;
NI32 LOC2;
NI Max_15223;
NI Sp_15225;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "markStackAndRegisters";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
memset((void*)&Registers_15219, 0, sizeof(Registers_15219));
F.line = 584;F.filename = "gc.nim";
LOC2 = setjmp(Registers_15219);
if (!(LOC2 == ((NI32) 0))) goto LA3;
Max_15223 = 0;
F.line = 585;F.filename = "gc.nim";
Max_15223 = ((NI) (Stackbottom_10809));
Sp_15225 = 0;
F.line = 586;F.filename = "gc.nim";
Sp_15225 = ((NI) (Registers_15219));
F.line = 587;F.filename = "gc.nim";
while (1) {
if (!((NU32)(Sp_15225) <= (NU32)(Max_15223))) goto LA5;
F.line = 588;F.filename = "gc.nim";
Gcmark_14403((*((void**) (Sp_15225))));
F.line = 589;F.filename = "gc.nim";
Sp_15225 = (NI32)((NU32)(Sp_15225) + (NU32)(4));
} LA5: ;
LA3: ;
framePtr = framePtr->prev;
}
N_NIMCALL(void, Markthreadstacks_14411)(TY10790* Gch_14414) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "markThreadStacks";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
framePtr = framePtr->prev;
}
static N_INLINE(NIM_BOOL, Canbecycleroot_10840)(TY10402* C_10842) {
NIM_BOOL Result_10843;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "canbeCycleRoot";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_10843 = 0;
F.line = 103;F.filename = "gc.nim";
Result_10843 = !((((*(*C_10842).Typ).flags &(1<<((((NU8) 1))&7)))!=0));
framePtr = framePtr->prev;
return Result_10843;
}
static N_INLINE(NI, Nexttry_10509)(NI H_10511, NI Maxhash_10512) {
NI Result_10513;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "nextTry";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/cellsets.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_10513 = 0;
F.line = 90;F.filename = "cellsets.nim";
Result_10513 = (NI32)((NI32)((NI32)(5 * H_10511) + 1) & Maxhash_10512);
framePtr = framePtr->prev;
return Result_10513;
}
N_NIMCALL(TY10410*, Cellsetget_10514)(TY10414 T_10516, NI Key_10517) {
TY10410* Result_10518;
NI H_10519;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "CellSetGet";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/cellsets.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_10518 = 0;
H_10519 = 0;
F.line = 96;F.filename = "cellsets.nim";
H_10519 = (NI32)(((NI) (Key_10517)) & T_10516.Max);
F.line = 97;F.filename = "cellsets.nim";
while (1) {
if (!!((T_10516.Data[(H_10519)-0] == NIM_NIL))) goto LA1;
F.line = 98;F.filename = "cellsets.nim";
if (!((*T_10516.Data[(H_10519)-0]).Key == Key_10517)) goto LA3;
F.line = 98;F.filename = "cellsets.nim";
F.line = 98;F.filename = "cellsets.nim";
Result_10518 = T_10516.Data[(H_10519)-0];
goto BeforeRet;
LA3: ;
F.line = 99;F.filename = "cellsets.nim";
H_10519 = Nexttry_10509(H_10519, T_10516.Max);
} LA1: ;
F.line = 100;F.filename = "cellsets.nim";
F.line = 100;F.filename = "cellsets.nim";
Result_10518 = NIM_NIL;
goto BeforeRet;
BeforeRet: ;
framePtr = framePtr->prev;
return Result_10518;
}
N_NIMCALL(void, Excl_10681)(TY10414* S_10684, TY10402* Cell_10685) {
NI U_10686;
TY10410* T_10687;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "excl";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/cellsets.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
U_10686 = 0;
F.line = 159;F.filename = "cellsets.nim";
U_10686 = ((NI) (Cell_10685));
T_10687 = 0;
F.line = 160;F.filename = "cellsets.nim";
T_10687 = Cellsetget_10514((*S_10684), (NI32)((NU32)(U_10686) >> (NU32)(12)));
F.line = 161;F.filename = "cellsets.nim";
if (!!((T_10687 == NIM_NIL))) goto LA2;
F.line = 162;F.filename = "cellsets.nim";
U_10686 = (NI32)((NU32)((NI32)((NU32)(U_10686) % (NU32)(4096))) / (NU32)(8));
F.line = 163;F.filename = "cellsets.nim";
(*T_10687).Bits[((NI32)((NU32)(U_10686) >> (NU32)(5)))-0] = (NI32)((*T_10687).Bits[((NI32)((NU32)(U_10686) >> (NU32)(5)))-0] & (NI32)((NU32) ~((NI32)((NU32)(1) << (NU32)((NI32)(U_10686 & 31))))));
LA2: ;
framePtr = framePtr->prev;
}
static N_INLINE(void*, Celltousr_10832)(TY10402* Cell_10834) {
void* Result_10835;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "cellToUsr";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_10835 = 0;
F.line = 96;F.filename = "gc.nim";
Result_10835 = ((void*) ((NI32)((NU32)(((NI) (Cell_10834))) + (NU32)(((NI) (((NI)sizeof(TY10402))))))));
framePtr = framePtr->prev;
return Result_10835;
}
N_NIMCALL(void, Preparedealloc_11425)(TY10402* Cell_11427) {
void* LOC4;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "prepareDealloc";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 193;F.filename = "gc.nim";
if (!!(((*(*Cell_11427).Typ).finalizer == NIM_NIL))) goto LA2;
F.line = 199;F.filename = "gc.nim";
Recgclock_10812 += 1;
F.line = 200;F.filename = "gc.nim";
LOC4 = Celltousr_10832(Cell_11427);
((TFinalizer) ((*(*Cell_11427).Typ).finalizer))(LOC4);
F.line = 201;F.filename = "gc.nim";
Recgclock_10812 -= 1;
LA2: ;
framePtr = framePtr->prev;
}
N_NOINLINE(void, Addzct_10825)(TY10418* S_10828, TY10402* C_10829) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "addZCT";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 90;F.filename = "gc.nim";
if (!((NI32)((*C_10829).Refcount & 4) == 0)) goto LA2;
F.line = 91;F.filename = "gc.nim";
(*C_10829).Refcount = (NI32)((NI32)((*C_10829).Refcount & -8) | 4);
F.line = 92;F.filename = "gc.nim";
Add_10458(S_10828, C_10829);
LA2: ;
framePtr = framePtr->prev;
}
N_NIMCALL(void, Dooperation_11416)(void* P_11418, NU8 Op_11419) {
TY10402* C_13406;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "doOperation";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 412;F.filename = "gc.nim";
if (!(P_11418 == NIM_NIL)) goto LA2;
F.line = 412;F.filename = "gc.nim";
goto BeforeRet;
LA2: ;
C_13406 = 0;
F.line = 413;F.filename = "gc.nim";
C_13406 = Usrtocell_10836(P_11418);
F.line = 414;F.filename = "gc.nim";
F.line = 415;F.filename = "gc.nim";
switch (Op_11419) {
case ((NU8) 0):
F.line = 417;F.filename = "gc.nim";
F.line = 418;F.filename = "gc.nim";
(*C_13406).Refcount = (NI32)((NU32)((*C_13406).Refcount) - (NU32)(8));
F.line = 420;F.filename = "gc.nim";
if (!((NU32)((*C_13406).Refcount) < (NU32)(8))) goto LA5;
F.line = 420;F.filename = "gc.nim";
Addzct_10825(&Gch_10810.Zct, C_13406);
LA5: ;
break;
case ((NU8) 1):
F.line = 422;F.filename = "gc.nim";
Add_10458(&Gch_10810.Tempstack, C_13406);
break;
case ((NU8) 2):
F.line = 424;F.filename = "gc.nim";
F.line = 425;F.filename = "gc.nim";
(*C_13406).Refcount = (NI32)((NU32)((*C_13406).Refcount) - (NU32)(8));
break;
}
BeforeRet: ;
framePtr = framePtr->prev;
}
N_NIMCALL(NI, Getdiscriminant_7043)(void* Aa_7045, TNimNode* N_7047) {
NI Result_7048;
NI D_7058;
NI A_7059;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "getDiscriminant";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_7048 = 0;
F.line = 1555;F.filename = "system.nim";
D_7058 = 0;
A_7059 = 0;
F.line = 1557;F.filename = "system.nim";
A_7059 = ((NI) (Aa_7045));
F.line = 1558;F.filename = "system.nim";
switch ((*(*N_7047).typ).size) {
case 1:
F.line = 1559;F.filename = "system.nim";
D_7058 = ((NI)(NU)(NU8)((*((NI8*) ((NI32)((NU32)(A_7059) + (NU32)((*N_7047).offset)))))));
break;
case 2:
F.line = 1560;F.filename = "system.nim";
D_7058 = ((NI)(NU)(NU16)((*((NI16*) ((NI32)((NU32)(A_7059) + (NU32)((*N_7047).offset)))))));
break;
case 4:
F.line = 1561;F.filename = "system.nim";
D_7058 = ((NI) ((*((NI32*) ((NI32)((NU32)(A_7059) + (NU32)((*N_7047).offset)))))));
break;
default:
F.line = 1562;F.filename = "system.nim";
break;
}
F.line = 1563;F.filename = "system.nim";
F.line = 1563;F.filename = "system.nim";
Result_7048 = D_7058;
goto BeforeRet;
BeforeRet: ;
framePtr = framePtr->prev;
return Result_7048;
}
N_NIMCALL(TNimNode*, Selectbranch_7063)(void* Aa_7065, TNimNode* N_7067) {
TNimNode* Result_7069;
NI Discr_7070;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "selectBranch";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_7069 = 0;
Discr_7070 = 0;
F.line = 1566;F.filename = "system.nim";
Discr_7070 = Getdiscriminant_7043(Aa_7065, N_7067);
F.line = 1567;F.filename = "system.nim";
if (!((NU32)(Discr_7070) < (NU32)((*N_7067).len))) goto LA2;
F.line = 1568;F.filename = "system.nim";
Result_7069 = (*N_7067).sons[(Discr_7070)-0];
F.line = 1569;F.filename = "system.nim";
if (!(Result_7069 == NIM_NIL)) goto LA5;
F.line = 1569;F.filename = "system.nim";
Result_7069 = (*N_7067).sons[((*N_7067).len)-0];
LA5: ;
goto LA1;
LA2: ;
F.line = 1572;F.filename = "system.nim";
Result_7069 = (*N_7067).sons[((*N_7067).len)-0];
LA1: ;
framePtr = framePtr->prev;
return Result_7069;
}
N_NIMCALL(void, Forallslotsaux_12001)(void* Dest_12003, TNimNode* N_12005, NU8 Op_12006) {
NI D_12007;
NI I_12015;
NI HEX3Atmp_19675;
NI Res_19677;
TNimNode* M_12016;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "forAllSlotsAux";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
D_12007 = 0;
F.line = 282;F.filename = "gc.nim";
D_12007 = ((NI) (Dest_12003));
F.line = 283;F.filename = "gc.nim";
switch ((*N_12005).kind) {
case ((NU8) 0):
F.line = 284;F.filename = "gc.nim";
break;
case ((NU8) 1):
F.line = 285;F.filename = "gc.nim";
Forallchildrenaux_11420(((void*) ((NI32)((NU32)(D_12007) + (NU32)((*N_12005).offset)))), (*N_12005).typ, Op_12006);
break;
case ((NU8) 2):
I_12015 = 0;
HEX3Atmp_19675 = 0;
F.line = 287;F.filename = "gc.nim";
HEX3Atmp_19675 = (NI32)((*N_12005).len - 1);
Res_19677 = 0;
F.line = 1019;F.filename = "system.nim";
Res_19677 = 0;
F.line = 1020;F.filename = "system.nim";
while (1) {
if (!(Res_19677 <= HEX3Atmp_19675)) goto LA1;
F.line = 1019;F.filename = "system.nim";
I_12015 = Res_19677;
F.line = 287;F.filename = "gc.nim";
Forallslotsaux_12001(Dest_12003, (*N_12005).sons[(I_12015)-0], Op_12006);
F.line = 1022;F.filename = "system.nim";
Res_19677 += 1;
} LA1: ;
break;
case ((NU8) 3):
M_12016 = 0;
F.line = 289;F.filename = "gc.nim";
M_12016 = Selectbranch_7063(Dest_12003, N_12005);
F.line = 290;F.filename = "gc.nim";
if (!!((M_12016 == NIM_NIL))) goto LA3;
F.line = 290;F.filename = "gc.nim";
Forallslotsaux_12001(Dest_12003, M_12016, Op_12006);
LA3: ;
break;
}
framePtr = framePtr->prev;
}
N_NIMCALL(void, Forallchildrenaux_11420)(void* Dest_11422, TNimType* Mt_11423, NU8 Op_11424) {
NI D_12033;
NI I_12052;
NI HEX3Atmp_19681;
NI Res_19683;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "forAllChildrenAux";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
D_12033 = 0;
F.line = 293;F.filename = "gc.nim";
D_12033 = ((NI) (Dest_11422));
F.line = 294;F.filename = "gc.nim";
if (!(Dest_11422 == NIM_NIL)) goto LA2;
F.line = 294;F.filename = "gc.nim";
goto BeforeRet;
LA2: ;
F.line = 295;F.filename = "gc.nim";
if (!!((((*Mt_11423).flags &(1<<((((NU8) 0))&7)))!=0))) goto LA5;
F.line = 296;F.filename = "gc.nim";
switch ((*Mt_11423).kind) {
case ((NU8) 16):
case ((NU8) 4):
case ((NU8) 27):
I_12052 = 0;
HEX3Atmp_19681 = 0;
F.line = 298;F.filename = "gc.nim";
HEX3Atmp_19681 = (NI32)((NI32)((*Mt_11423).size / (*(*Mt_11423).base).size) - 1);
Res_19683 = 0;
F.line = 1019;F.filename = "system.nim";
Res_19683 = 0;
F.line = 1020;F.filename = "system.nim";
while (1) {
if (!(Res_19683 <= HEX3Atmp_19681)) goto LA7;
F.line = 1019;F.filename = "system.nim";
I_12052 = Res_19683;
F.line = 299;F.filename = "gc.nim";
Forallchildrenaux_11420(((void*) ((NI32)((NU32)(D_12033) + (NU32)((NI32)((NU32)(I_12052) * (NU32)((*(*Mt_11423).base).size)))))), (*Mt_11423).base, Op_11424);
F.line = 1022;F.filename = "system.nim";
Res_19683 += 1;
} LA7: ;
break;
case ((NU8) 22):
case ((NU8) 28):
case ((NU8) 24):
F.line = 301;F.filename = "gc.nim";
Dooperation_11416((*((void**) (D_12033))), Op_11424);
break;
case ((NU8) 17):
case ((NU8) 18):
case ((NU8) 40):
F.line = 303;F.filename = "gc.nim";
Forallslotsaux_12001(Dest_11422, (*Mt_11423).node, Op_11424);
break;
default:
break;
}
LA5: ;
BeforeRet: ;
framePtr = framePtr->prev;
}
N_NIMCALL(void, Forallchildren_11412)(TY10402* Cell_11414, NU8 Op_11415) {
void* LOC1;
NI D_12079;
void* LOC2;
TGenericSeq* S_12080;
NI I_12099;
NI HEX3Atmp_19687;
NI Res_19689;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "forAllChildren";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 307;F.filename = "gc.nim";
F.line = 308;F.filename = "gc.nim";
F.line = 309;F.filename = "gc.nim";
switch ((*(*Cell_11414).Typ).kind) {
case ((NU8) 22):
F.line = 311;F.filename = "gc.nim";
LOC1 = Celltousr_10832(Cell_11414);
Forallchildrenaux_11420(LOC1, (*(*Cell_11414).Typ).base, Op_11415);
break;
case ((NU8) 24):
D_12079 = 0;
F.line = 313;F.filename = "gc.nim";
LOC2 = Celltousr_10832(Cell_11414);
D_12079 = ((NI) (LOC2));
S_12080 = 0;
F.line = 314;F.filename = "gc.nim";
S_12080 = ((TGenericSeq*) (D_12079));
F.line = 315;F.filename = "gc.nim";
if (!!((S_12080 == NIM_NIL))) goto LA4;
I_12099 = 0;
HEX3Atmp_19687 = 0;
F.line = 316;F.filename = "gc.nim";
HEX3Atmp_19687 = (NI32)((*S_12080).len - 1);
Res_19689 = 0;
F.line = 1019;F.filename = "system.nim";
Res_19689 = 0;
F.line = 1020;F.filename = "system.nim";
while (1) {
if (!(Res_19689 <= HEX3Atmp_19687)) goto LA6;
F.line = 1019;F.filename = "system.nim";
I_12099 = Res_19689;
F.line = 317;F.filename = "gc.nim";
Forallchildrenaux_11420(((void*) ((NI32)((NU32)((NI32)((NU32)(D_12079) + (NU32)((NI32)((NU32)(I_12099) * (NU32)((*(*(*Cell_11414).Typ).base).size))))) + (NU32)(8)))), (*(*Cell_11414).Typ).base, Op_11415);
F.line = 1022;F.filename = "system.nim";
Res_19689 += 1;
} LA6: ;
LA4: ;
break;
case ((NU8) 28):
break;
default:
F.line = 320;F.filename = "gc.nim";
break;
}
framePtr = framePtr->prev;
}
N_NIMCALL(void, Collectzct_15401)(TY10790* Gch_15404) {
NI* L_15406;
TY10402* C_15409;
NIM_BOOL LOC6;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "CollectZCT";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
L_15406 = 0;
F.line = 600;F.filename = "gc.nim";
L_15406 = &(*Gch_15404).Zct.Len;
F.line = 601;F.filename = "gc.nim";
while (1) {
if (!(0 < (*L_15406))) goto LA1;
C_15409 = 0;
F.line = 602;F.filename = "gc.nim";
C_15409 = (*Gch_15404).Zct.D[(0)-0];
F.line = 604;F.filename = "gc.nim";
F.line = 605;F.filename = "gc.nim";
(*C_15409).Refcount = (NI32)((*C_15409).Refcount & -8);
F.line = 606;F.filename = "gc.nim";
(*Gch_15404).Zct.D[(0)-0] = (*Gch_15404).Zct.D[((NI32)((*L_15406) - 1))-0];
F.line = 607;F.filename = "gc.nim";
(*L_15406) -= 1;
F.line = 608;F.filename = "gc.nim";
if (!((NU32)((*C_15409).Refcount) < (NU32)(8))) goto LA3;
F.line = 615;F.filename = "gc.nim";
LOC6 = Canbecycleroot_10840(C_15409);
if (!LOC6) goto LA7;
F.line = 615;F.filename = "gc.nim";
Excl_10681(&(*Gch_15404).Cycleroots, C_15409);
LA7: ;
F.line = 621;F.filename = "gc.nim";
Preparedealloc_11425(C_15409);
F.line = 622;F.filename = "gc.nim";
Forallchildren_11412(C_15409, ((NU8) 0));
F.line = 623;F.filename = "gc.nim";
Rawdealloc_9664(&Allocator_8529, ((void*) (C_15409)));
LA3: ;
} LA1: ;
framePtr = framePtr->prev;
}
N_NIMCALL(void, Init_10488)(TY10414* S_10491) {
void* LOC1;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "Init";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/cellsets.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 73;F.filename = "cellsets.nim";
LOC1 = Alloc0_1777(4096);
(*S_10491).Data = ((TY10410**) (LOC1));
F.line = 74;F.filename = "cellsets.nim";
(*S_10491).Max = 1023;
F.line = 75;F.filename = "cellsets.nim";
(*S_10491).Counter = 0;
F.line = 76;F.filename = "cellsets.nim";
(*S_10491).Head = NIM_NIL;
framePtr = framePtr->prev;
}
N_NIMCALL(void, Cellsetrawinsert_10533)(TY10414 T_10535, TY10410** Data_10536, TY10410* Desc_10537) {
NI H_10538;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "CellSetRawInsert";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/cellsets.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
H_10538 = 0;
F.line = 103;F.filename = "cellsets.nim";
H_10538 = (NI32)(((NI) ((*Desc_10537).Key)) & T_10535.Max);
F.line = 104;F.filename = "cellsets.nim";
while (1) {
if (!!((Data_10536[(H_10538)-0] == NIM_NIL))) goto LA1;
F.line = 105;F.filename = "cellsets.nim";
F.line = 106;F.filename = "cellsets.nim";
H_10538 = Nexttry_10509(H_10538, T_10535.Max);
} LA1: ;
F.line = 107;F.filename = "cellsets.nim";
F.line = 108;F.filename = "cellsets.nim";
Data_10536[(H_10538)-0] = Desc_10537;
framePtr = framePtr->prev;
}
N_NIMCALL(void, Cellsetenlarge_10570)(TY10414* T_10573) {
NI Oldmax_10574;
TY10410** N_10575;
void* LOC1;
NI I_10583;
NI Res_19666;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "CellSetEnlarge";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/cellsets.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Oldmax_10574 = 0;
F.line = 111;F.filename = "cellsets.nim";
Oldmax_10574 = (*T_10573).Max;
F.line = 112;F.filename = "cellsets.nim";
(*T_10573).Max = (NI32)((NI32)((NI32)((*T_10573).Max + 1) * 2) - 1);
N_10575 = 0;
F.line = 113;F.filename = "cellsets.nim";
LOC1 = Alloc0_1777((NI32)((NI32)((*T_10573).Max + 1) * 4));
N_10575 = ((TY10410**) (LOC1));
I_10583 = 0;
Res_19666 = 0;
F.line = 1019;F.filename = "system.nim";
Res_19666 = 0;
F.line = 1020;F.filename = "system.nim";
while (1) {
if (!(Res_19666 <= Oldmax_10574)) goto LA2;
F.line = 1019;F.filename = "system.nim";
I_10583 = Res_19666;
F.line = 115;F.filename = "cellsets.nim";
if (!!(((*T_10573).Data[(I_10583)-0] == NIM_NIL))) goto LA4;
F.line = 116;F.filename = "cellsets.nim";
Cellsetrawinsert_10533((*T_10573), N_10575, (*T_10573).Data[(I_10583)-0]);
LA4: ;
F.line = 1022;F.filename = "system.nim";
Res_19666 += 1;
} LA2: ;
F.line = 117;F.filename = "cellsets.nim";
Dealloc_1784(((void*) ((*T_10573).Data)));
F.line = 118;F.filename = "cellsets.nim";
(*T_10573).Data = N_10575;
framePtr = framePtr->prev;
}
N_NIMCALL(TY10410*, Cellsetput_10595)(TY10414* T_10598, NI Key_10599) {
TY10410* Result_10600;
NI H_10601;
TY10410* X_10602;
NIM_BOOL LOC9;
void* LOC14;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "CellSetPut";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/cellsets.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_10600 = 0;
H_10601 = 0;
F.line = 121;F.filename = "cellsets.nim";
H_10601 = (NI32)(((NI) (Key_10599)) & (*T_10598).Max);
F.line = 122;F.filename = "cellsets.nim";
while (1) {
X_10602 = 0;
F.line = 123;F.filename = "cellsets.nim";
X_10602 = (*T_10598).Data[(H_10601)-0];
F.line = 124;F.filename = "cellsets.nim";
if (!(X_10602 == NIM_NIL)) goto LA3;
F.line = 124;F.filename = "cellsets.nim";
goto LA1;
LA3: ;
F.line = 125;F.filename = "cellsets.nim";
if (!((*X_10602).Key == Key_10599)) goto LA6;
F.line = 125;F.filename = "cellsets.nim";
F.line = 125;F.filename = "cellsets.nim";
Result_10600 = X_10602;
goto BeforeRet;
LA6: ;
F.line = 126;F.filename = "cellsets.nim";
H_10601 = Nexttry_10509(H_10601, (*T_10598).Max);
} LA1: ;
F.line = 128;F.filename = "cellsets.nim";
LOC9 = ((NI32)((NI32)((*T_10598).Max + 1) * 2) < (NI32)((*T_10598).Counter * 3));
if (LOC9) goto LA10;
LOC9 = ((NI32)((NI32)((*T_10598).Max + 1) - (*T_10598).Counter) < 4);
LA10: ;
if (!LOC9) goto LA11;
F.line = 129;F.filename = "cellsets.nim";
Cellsetenlarge_10570(T_10598);
LA11: ;
F.line = 130;F.filename = "cellsets.nim";
(*T_10598).Counter += 1;
F.line = 131;F.filename = "cellsets.nim";
H_10601 = (NI32)(((NI) (Key_10599)) & (*T_10598).Max);
F.line = 132;F.filename = "cellsets.nim";
while (1) {
if (!!(((*T_10598).Data[(H_10601)-0] == NIM_NIL))) goto LA13;
F.line = 132;F.filename = "cellsets.nim";
H_10601 = Nexttry_10509(H_10601, (*T_10598).Max);
} LA13: ;
F.line = 133;F.filename = "cellsets.nim";
F.line = 135;F.filename = "cellsets.nim";
LOC14 = Alloc0_1777(((NI)sizeof(TY10410)));
Result_10600 = ((TY10410*) (LOC14));
F.line = 136;F.filename = "cellsets.nim";
(*Result_10600).Next = (*T_10598).Head;
F.line = 137;F.filename = "cellsets.nim";
(*Result_10600).Key = Key_10599;
F.line = 138;F.filename = "cellsets.nim";
(*T_10598).Head = Result_10600;
F.line = 139;F.filename = "cellsets.nim";
(*T_10598).Data[(H_10601)-0] = Result_10600;
BeforeRet: ;
framePtr = framePtr->prev;
return Result_10600;
}
N_NOINLINE(void, Incl_10674)(TY10414* S_10677, TY10402* Cell_10678) {
NI U_10679;
TY10410* T_10680;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "incl";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/cellsets.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
U_10679 = 0;
F.line = 153;F.filename = "cellsets.nim";
U_10679 = ((NI) (Cell_10678));
T_10680 = 0;
F.line = 154;F.filename = "cellsets.nim";
T_10680 = Cellsetput_10595(S_10677, (NI32)((NU32)(U_10679) >> (NU32)(12)));
F.line = 155;F.filename = "cellsets.nim";
U_10679 = (NI32)((NU32)((NI32)((NU32)(U_10679) % (NU32)(4096))) / (NU32)(8));
F.line = 156;F.filename = "cellsets.nim";
(*T_10680).Bits[((NI32)((NU32)(U_10679) >> (NU32)(5)))-0] = (NI32)((*T_10680).Bits[((NI32)((NU32)(U_10679) >> (NU32)(5)))-0] | (NI32)((NU32)(1) << (NU32)((NI32)(U_10679 & 31))));
framePtr = framePtr->prev;
}
N_NIMCALL(NIM_BOOL, Containsorincl_10699)(TY10414* S_10702, TY10402* Cell_10703) {
NIM_BOOL Result_10704;
NI U_10705;
TY10410* T_10706;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "containsOrIncl";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/cellsets.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_10704 = 0;
U_10705 = 0;
F.line = 167;F.filename = "cellsets.nim";
U_10705 = ((NI) (Cell_10703));
T_10706 = 0;
F.line = 168;F.filename = "cellsets.nim";
T_10706 = Cellsetget_10514((*S_10702), (NI32)((NU32)(U_10705) >> (NU32)(12)));
F.line = 169;F.filename = "cellsets.nim";
if (!!((T_10706 == NIM_NIL))) goto LA2;
F.line = 170;F.filename = "cellsets.nim";
U_10705 = (NI32)((NU32)((NI32)((NU32)(U_10705) % (NU32)(4096))) / (NU32)(8));
F.line = 171;F.filename = "cellsets.nim";
Result_10704 = !(((NI32)((*T_10706).Bits[((NI32)((NU32)(U_10705) >> (NU32)(5)))-0] & (NI32)((NU32)(1) << (NU32)((NI32)(U_10705 & 31)))) == 0));
F.line = 172;F.filename = "cellsets.nim";
if (!!(Result_10704)) goto LA5;
F.line = 173;F.filename = "cellsets.nim";
(*T_10706).Bits[((NI32)((NU32)(U_10705) >> (NU32)(5)))-0] = (NI32)((*T_10706).Bits[((NI32)((NU32)(U_10705) >> (NU32)(5)))-0] | (NI32)((NU32)(1) << (NU32)((NI32)(U_10705 & 31))));
LA5: ;
goto LA1;
LA2: ;
F.line = 176;F.filename = "cellsets.nim";
Incl_10674(S_10702, Cell_10703);
F.line = 177;F.filename = "cellsets.nim";
Result_10704 = NIM_FALSE;
LA1: ;
framePtr = framePtr->prev;
return Result_10704;
}
N_NIMCALL(NIM_BOOL, Contains_10654)(TY10414 S_10656, TY10402* Cell_10657) {
NIM_BOOL Result_10658;
NI U_10659;
TY10410* T_10660;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "contains";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/cellsets.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_10658 = 0;
U_10659 = 0;
F.line = 144;F.filename = "cellsets.nim";
U_10659 = ((NI) (Cell_10657));
T_10660 = 0;
F.line = 145;F.filename = "cellsets.nim";
T_10660 = Cellsetget_10514(S_10656, (NI32)((NU32)(U_10659) >> (NU32)(12)));
F.line = 146;F.filename = "cellsets.nim";
if (!!((T_10660 == NIM_NIL))) goto LA2;
F.line = 147;F.filename = "cellsets.nim";
U_10659 = (NI32)((NU32)((NI32)((NU32)(U_10659) % (NU32)(4096))) / (NU32)(8));
F.line = 148;F.filename = "cellsets.nim";
Result_10658 = !(((NI32)((*T_10660).Bits[((NI32)((NU32)(U_10659) >> (NU32)(5)))-0] & (NI32)((NU32)(1) << (NU32)((NI32)(U_10659 & 31)))) == 0));
goto LA1;
LA2: ;
F.line = 150;F.filename = "cellsets.nim";
Result_10658 = NIM_FALSE;
LA1: ;
framePtr = framePtr->prev;
return Result_10658;
}
N_NIMCALL(void, Deinit_10492)(TY10414* S_10495) {
TY10410* It_10496;
TY10410* N_10508;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "Deinit";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/cellsets.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
It_10496 = 0;
F.line = 79;F.filename = "cellsets.nim";
It_10496 = (*S_10495).Head;
F.line = 80;F.filename = "cellsets.nim";
while (1) {
if (!!((It_10496 == NIM_NIL))) goto LA1;
N_10508 = 0;
F.line = 81;F.filename = "cellsets.nim";
N_10508 = (*It_10496).Next;
F.line = 82;F.filename = "cellsets.nim";
Dealloc_1784(((void*) (It_10496)));
F.line = 83;F.filename = "cellsets.nim";
It_10496 = N_10508;
} LA1: ;
F.line = 84;F.filename = "cellsets.nim";
(*S_10495).Head = NIM_NIL;
F.line = 85;F.filename = "cellsets.nim";
Dealloc_1784(((void*) ((*S_10495).Data)));
F.line = 86;F.filename = "cellsets.nim";
(*S_10495).Data = NIM_NIL;
F.line = 87;F.filename = "cellsets.nim";
(*S_10495).Counter = 0;
framePtr = framePtr->prev;
}
N_NIMCALL(void, Collectcycles_13603)(TY10790* Gch_13606) {
NI Tabsize_13607;
TY10402* C_13608;
TY10414 HEX3Atmp_19701;
TY10410* R_19703;
NI I_19705;
NI W_19707;
NI J_19709;
TY10414 Marker_13623;
TY10402* C_13625;
TY10414 HEX3Atmp_19724;
TY10410* R_19726;
NI I_19728;
NI W_19730;
NI J_19732;
NIM_BOOL LOC17;
TY10402* D_13641;
NIM_BOOL LOC22;
NIM_BOOL LOC24;
TY10402* C_13645;
TY10414 HEX3Atmp_19758;
TY10410* R_19760;
NI I_19762;
NI W_19764;
NI J_19766;
TY10402* D_13660;
NIM_BOOL LOC41;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "collectCycles";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Tabsize_13607 = 0;
F.line = 429;F.filename = "gc.nim";
Tabsize_13607 = 0;
C_13608 = 0;
memset((void*)&HEX3Atmp_19701, 0, sizeof(HEX3Atmp_19701));
F.line = 430;F.filename = "gc.nim";
HEX3Atmp_19701 = (*Gch_13606).Cycleroots;
R_19703 = 0;
F.line = 181;F.filename = "cellsets.nim";
R_19703 = HEX3Atmp_19701.Head;
F.line = 182;F.filename = "cellsets.nim";
while (1) {
if (!!((R_19703 == NIM_NIL))) goto LA1;
I_19705 = 0;
F.line = 183;F.filename = "cellsets.nim";
I_19705 = 0;
F.line = 184;F.filename = "cellsets.nim";
while (1) {
if (!(I_19705 <= 15)) goto LA2;
W_19707 = 0;
F.line = 185;F.filename = "cellsets.nim";
W_19707 = (*R_19703).Bits[(I_19705)-0];
J_19709 = 0;
F.line = 187;F.filename = "cellsets.nim";
J_19709 = 0;
F.line = 188;F.filename = "cellsets.nim";
while (1) {
if (!!((W_19707 == 0))) goto LA3;
F.line = 189;F.filename = "cellsets.nim";
if (!!(((NI32)(W_19707 & 1) == 0))) goto LA5;
F.line = 190;F.filename = "cellsets.nim";
C_13608 = ((TY10402*) ((NI32)((NI32)((NU32)((*R_19703).Key) << (NU32)(12)) | (NI32)((NU32)((NI32)((NU32)((NI32)((NU32)(I_19705) << (NU32)(5))) + (NU32)(J_19709))) * (NU32)(8)))));
F.line = 431;F.filename = "gc.nim";
Tabsize_13607 += 1;
F.line = 432;F.filename = "gc.nim";
Forallchildren_11412(C_13608, ((NU8) 2));
LA5: ;
F.line = 192;F.filename = "cellsets.nim";
J_19709 += 1;
F.line = 193;F.filename = "cellsets.nim";
W_19707 = (NI32)((NU32)(W_19707) >> (NU32)(1));
} LA3: ;
F.line = 194;F.filename = "cellsets.nim";
I_19705 += 1;
} LA2: ;
F.line = 195;F.filename = "cellsets.nim";
R_19703 = (*R_19703).Next;
} LA1: ;
F.line = 433;F.filename = "gc.nim";
(*Gch_13606).Stat.Cycletablesize = (((*Gch_13606).Stat.Cycletablesize >= Tabsize_13607) ? (*Gch_13606).Stat.Cycletablesize : Tabsize_13607);
memset((void*)&Marker_13623, 0, sizeof(Marker_13623));
F.line = 437;F.filename = "gc.nim";
Init_10488(&Marker_13623);
C_13625 = 0;
memset((void*)&HEX3Atmp_19724, 0, sizeof(HEX3Atmp_19724));
F.line = 438;F.filename = "gc.nim";
HEX3Atmp_19724 = (*Gch_13606).Cycleroots;
R_19726 = 0;
F.line = 181;F.filename = "cellsets.nim";
R_19726 = HEX3Atmp_19724.Head;
F.line = 182;F.filename = "cellsets.nim";
while (1) {
if (!!((R_19726 == NIM_NIL))) goto LA7;
I_19728 = 0;
F.line = 183;F.filename = "cellsets.nim";
I_19728 = 0;
F.line = 184;F.filename = "cellsets.nim";
while (1) {
if (!(I_19728 <= 15)) goto LA8;
W_19730 = 0;
F.line = 185;F.filename = "cellsets.nim";
W_19730 = (*R_19726).Bits[(I_19728)-0];
J_19732 = 0;
F.line = 187;F.filename = "cellsets.nim";
J_19732 = 0;
F.line = 188;F.filename = "cellsets.nim";
while (1) {
if (!!((W_19730 == 0))) goto LA9;
F.line = 189;F.filename = "cellsets.nim";
if (!!(((NI32)(W_19730 & 1) == 0))) goto LA11;
F.line = 190;F.filename = "cellsets.nim";
C_13625 = ((TY10402*) ((NI32)((NI32)((NU32)((*R_19726).Key) << (NU32)(12)) | (NI32)((NU32)((NI32)((NU32)((NI32)((NU32)(I_19728) << (NU32)(5))) + (NU32)(J_19732))) * (NU32)(8)))));
F.line = 439;F.filename = "gc.nim";
if (!((NU32)(8) <= (NU32)((*C_13625).Refcount))) goto LA14;
F.line = 440;F.filename = "gc.nim";
LOC17 = Containsorincl_10699(&Marker_13623, C_13625);
if (!!(LOC17)) goto LA18;
F.line = 441;F.filename = "gc.nim";
(*Gch_13606).Tempstack.Len = 0;
F.line = 442;F.filename = "gc.nim";
Forallchildren_11412(C_13625, ((NU8) 1));
F.line = 443;F.filename = "gc.nim";
while (1) {
if (!(0 < (*Gch_13606).Tempstack.Len)) goto LA20;
F.line = 444;F.filename = "gc.nim";
(*Gch_13606).Tempstack.Len -= 1;
D_13641 = 0;
F.line = 445;F.filename = "gc.nim";
D_13641 = (*Gch_13606).Tempstack.D[((*Gch_13606).Tempstack.Len)-0];
F.line = 446;F.filename = "gc.nim";
(*D_13641).Refcount = (NI32)((NU32)((*D_13641).Refcount) + (NU32)(8));
F.line = 447;F.filename = "gc.nim";
LOC22 = Contains_10654((*Gch_13606).Cycleroots, D_13641);
if (!(LOC22)) goto LA23;
LOC24 = Containsorincl_10699(&Marker_13623, D_13641);
LOC22 = !(LOC24);
LA23: ;
if (!LOC22) goto LA25;
F.line = 448;F.filename = "gc.nim";
Forallchildren_11412(D_13641, ((NU8) 1));
LA25: ;
} LA20: ;
LA18: ;
LA14: ;
LA11: ;
F.line = 192;F.filename = "cellsets.nim";
J_19732 += 1;
F.line = 193;F.filename = "cellsets.nim";
W_19730 = (NI32)((NU32)(W_19730) >> (NU32)(1));
} LA9: ;
F.line = 194;F.filename = "cellsets.nim";
I_19728 += 1;
} LA8: ;
F.line = 195;F.filename = "cellsets.nim";
R_19726 = (*R_19726).Next;
} LA7: ;
C_13645 = 0;
memset((void*)&HEX3Atmp_19758, 0, sizeof(HEX3Atmp_19758));
F.line = 450;F.filename = "gc.nim";
HEX3Atmp_19758 = (*Gch_13606).Cycleroots;
R_19760 = 0;
F.line = 181;F.filename = "cellsets.nim";
R_19760 = HEX3Atmp_19758.Head;
F.line = 182;F.filename = "cellsets.nim";
while (1) {
if (!!((R_19760 == NIM_NIL))) goto LA27;
I_19762 = 0;
F.line = 183;F.filename = "cellsets.nim";
I_19762 = 0;
F.line = 184;F.filename = "cellsets.nim";
while (1) {
if (!(I_19762 <= 15)) goto LA28;
W_19764 = 0;
F.line = 185;F.filename = "cellsets.nim";
W_19764 = (*R_19760).Bits[(I_19762)-0];
J_19766 = 0;
F.line = 187;F.filename = "cellsets.nim";
J_19766 = 0;
F.line = 188;F.filename = "cellsets.nim";
while (1) {
if (!!((W_19764 == 0))) goto LA29;
F.line = 189;F.filename = "cellsets.nim";
if (!!(((NI32)(W_19764 & 1) == 0))) goto LA31;
F.line = 190;F.filename = "cellsets.nim";
C_13645 = ((TY10402*) ((NI32)((NI32)((NU32)((*R_19760).Key) << (NU32)(12)) | (NI32)((NU32)((NI32)((NU32)((NI32)((NU32)(I_19762) << (NU32)(5))) + (NU32)(J_19766))) * (NU32)(8)))));
F.line = 451;F.filename = "gc.nim";
if (!((NU32)((*C_13645).Refcount) < (NU32)(8))) goto LA34;
F.line = 452;F.filename = "gc.nim";
(*Gch_13606).Tempstack.Len = 0;
F.line = 453;F.filename = "gc.nim";
Forallchildren_11412(C_13645, ((NU8) 1));
F.line = 454;F.filename = "gc.nim";
while (1) {
if (!(0 < (*Gch_13606).Tempstack.Len)) goto LA36;
F.line = 455;F.filename = "gc.nim";
(*Gch_13606).Tempstack.Len -= 1;
D_13660 = 0;
F.line = 456;F.filename = "gc.nim";
D_13660 = (*Gch_13606).Tempstack.D[((*Gch_13606).Tempstack.Len)-0];
F.line = 457;F.filename = "gc.nim";
if (!((NU32)((*D_13660).Refcount) < (NU32)(8))) goto LA38;
F.line = 458;F.filename = "gc.nim";
LOC41 = Contains_10654((*Gch_13606).Cycleroots, D_13660);
if (!!(LOC41)) goto LA42;
F.line = 459;F.filename = "gc.nim";
Addzct_10825(&(*Gch_13606).Zct, D_13660);
LA42: ;
LA38: ;
} LA36: ;
F.line = 461;F.filename = "gc.nim";
Preparedealloc_11425(C_13645);
F.line = 464;F.filename = "gc.nim";
Rawdealloc_9664(&Allocator_8529, ((void*) (C_13645)));
LA34: ;
LA31: ;
F.line = 192;F.filename = "cellsets.nim";
J_19766 += 1;
F.line = 193;F.filename = "cellsets.nim";
W_19764 = (NI32)((NU32)(W_19764) >> (NU32)(1));
} LA29: ;
F.line = 194;F.filename = "cellsets.nim";
I_19762 += 1;
} LA28: ;
F.line = 195;F.filename = "cellsets.nim";
R_19760 = (*R_19760).Next;
} LA27: ;
F.line = 468;F.filename = "gc.nim";
Deinit_10492(&(*Gch_13606).Cycleroots);
F.line = 469;F.filename = "gc.nim";
Init_10488(&(*Gch_13606).Cycleroots);
framePtr = framePtr->prev;
}
static N_INLINE(NI, Atomicdec_2806)(NI* Memloc_2809, NI X_2810) {
NI Result_7406;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "atomicDec";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/systhread.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_7406 = 0;
F.line = 37;F.filename = "systhread.nim";
Result_7406 = __sync_sub_and_fetch(Memloc_2809, X_2810);
framePtr = framePtr->prev;
return Result_7406;
}
static N_INLINE(void, Rtladdzct_11458)(TY10402* C_11460) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "rtlAddZCT";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 211;F.filename = "gc.nim";
if (!NIM_TRUE) goto LA2;
F.line = 211;F.filename = "gc.nim";
Dl_7815(&Gch_10810.Zctlock);
LA2: ;
F.line = 212;F.filename = "gc.nim";
Addzct_10825(&Gch_10810.Zct, C_11460);
F.line = 213;F.filename = "gc.nim";
if (!NIM_TRUE) goto LA5;
F.line = 213;F.filename = "gc.nim";
Dl_7819(&Gch_10810.Zctlock);
LA5: ;
framePtr = framePtr->prev;
}
static N_INLINE(void, Rtladdcycleroot_11452)(TY10402* C_11454) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "rtlAddCycleRoot";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 205;F.filename = "gc.nim";
if (!NIM_TRUE) goto LA2;
F.line = 205;F.filename = "gc.nim";
Dl_7815(&Gch_10810.Cyclerootslock);
LA2: ;
F.line = 206;F.filename = "gc.nim";
Incl_10674(&Gch_10810.Cycleroots, C_11454);
F.line = 207;F.filename = "gc.nim";
if (!NIM_TRUE) goto LA5;
F.line = 207;F.filename = "gc.nim";
Dl_7819(&Gch_10810.Cyclerootslock);
LA5: ;
framePtr = framePtr->prev;
}
static N_INLINE(void, Decref_11464)(TY10402* C_11466) {
NI LOC2;
NIM_BOOL LOC5;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "decRef";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 219;F.filename = "gc.nim";
F.line = 220;F.filename = "gc.nim";
LOC2 = Atomicdec_2806(&(*C_11466).Refcount, 8);
if (!((NU32)(LOC2) < (NU32)(8))) goto LA3;
F.line = 221;F.filename = "gc.nim";
Rtladdzct_11458(C_11466);
goto LA1;
LA3: ;
LOC5 = Canbecycleroot_10840(C_11466);
if (!LOC5) goto LA6;
F.line = 223;F.filename = "gc.nim";
Rtladdcycleroot_11452(C_11466);
goto LA1;
LA6: ;
LA1: ;
framePtr = framePtr->prev;
}
N_NIMCALL(void, Unmarkstackandregisters_16001)(TY10790* Gch_16004) {
TY10402** D_16005;
NI I_16013;
NI HEX3Atmp_19793;
NI Res_19795;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "unmarkStackAndRegisters";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
D_16005 = 0;
F.line = 629;F.filename = "gc.nim";
D_16005 = (*Gch_16004).Decstack.D;
I_16013 = 0;
HEX3Atmp_19793 = 0;
F.line = 630;F.filename = "gc.nim";
HEX3Atmp_19793 = (NI32)((*Gch_16004).Decstack.Len - 1);
Res_19795 = 0;
F.line = 1019;F.filename = "system.nim";
Res_19795 = 0;
F.line = 1020;F.filename = "system.nim";
while (1) {
if (!(Res_19795 <= HEX3Atmp_19793)) goto LA1;
F.line = 1019;F.filename = "system.nim";
I_16013 = Res_19795;
F.line = 631;F.filename = "gc.nim";
F.line = 632;F.filename = "gc.nim";
Decref_11464(D_16005[(I_16013)-0]);
F.line = 1022;F.filename = "system.nim";
Res_19795 += 1;
} LA1: ;
F.line = 633;F.filename = "gc.nim";
(*Gch_16004).Decstack.Len = 0;
framePtr = framePtr->prev;
}
N_NIMCALL(void, Collectct_11405)(TY10790* Gch_11408) {
NIM_BOOL LOC2;
NIM_BOOL LOC3;
NIM_BOOL LOC5;
NI LOC7;
NI LOC11;
NIM_BOOL LOC13;
NI LOC14;
NI LOC18;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "collectCT";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 636;F.filename = "gc.nim";
LOC3 = (256 <= (*Gch_11408).Zct.Len);
if (LOC3) goto LA4;
LOC5 = NIM_TRUE;
if (!(LOC5)) goto LA6;
LOC7 = Getoccupiedmem_1841();
LOC5 = (Cyclethreshold_10811 <= LOC7);
LA6: ;
LOC3 = LOC5;
LA4: ;
LOC2 = LOC3;
if (LOC2) goto LA8;
LOC2 = NIM_FALSE;
LA8: ;
if (!LOC2) goto LA9;
F.line = 638;F.filename = "gc.nim";
LOC11 = Stacksize_15201();
(*Gch_11408).Stat.Maxstacksize = (((*Gch_11408).Stat.Maxstacksize >= LOC11) ? (*Gch_11408).Stat.Maxstacksize : LOC11);
F.line = 639;F.filename = "gc.nim";
F.line = 640;F.filename = "gc.nim";
Markstackandregisters_15215(Gch_11408);
F.line = 641;F.filename = "gc.nim";
Markthreadstacks_14411(Gch_11408);
F.line = 642;F.filename = "gc.nim";
(*Gch_11408).Stat.Maxstackcells = (((*Gch_11408).Stat.Maxstackcells >= (*Gch_11408).Decstack.Len) ? (*Gch_11408).Stat.Maxstackcells : (*Gch_11408).Decstack.Len);
F.line = 643;F.filename = "gc.nim";
(*Gch_11408).Stat.Stackscans += 1;
F.line = 644;F.filename = "gc.nim";
Collectzct_15401(Gch_11408);
F.line = 646;F.filename = "gc.nim";
LOC14 = Getoccupiedmem_1841();
LOC13 = (Cyclethreshold_10811 <= LOC14);
if (LOC13) goto LA15;
LOC13 = NIM_FALSE;
LA15: ;
if (!LOC13) goto LA16;
F.line = 647;F.filename = "gc.nim";
Collectcycles_13603(Gch_11408);
F.line = 648;F.filename = "gc.nim";
Collectzct_15401(Gch_11408);
F.line = 649;F.filename = "gc.nim";
(*Gch_11408).Stat.Cyclecollections += 1;
F.line = 650;F.filename = "gc.nim";
LOC18 = Getoccupiedmem_1841();
Cyclethreshold_10811 = ((4194304 >= (NI32)(LOC18 * 2)) ? 4194304 : (NI32)(LOC18 * 2));
F.line = 652;F.filename = "gc.nim";
(*Gch_11408).Stat.Maxthreshold = (((*Gch_11408).Stat.Maxthreshold >= Cyclethreshold_10811) ? (*Gch_11408).Stat.Maxthreshold : Cyclethreshold_10811);
LA16: ;
F.line = 653;F.filename = "gc.nim";
Unmarkstackandregisters_16001(Gch_11408);
LA9: ;
framePtr = framePtr->prev;
}
static N_INLINE(void, Checkcollection_12100)(void) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "checkCollection";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 324;F.filename = "gc.nim";
if (!(Recgclock_10812 == 0)) goto LA2;
F.line = 325;F.filename = "gc.nim";
Collectct_11405(&Gch_10810);
LA2: ;
framePtr = framePtr->prev;
}
static N_INLINE(void, Unlock_10819)(TY10790* Gch_10822) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "unlock";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 85;F.filename = "gc.nim";
if (!NIM_TRUE) goto LA2;
F.line = 86;F.filename = "gc.nim";
Dl_7819(&(*Gch_10822).Zctlock);
F.line = 87;F.filename = "gc.nim";
Dl_7819(&(*Gch_10822).Cyclerootslock);
LA2: ;
framePtr = framePtr->prev;
}
N_NIMCALL(void*, newObj)(TNimType* Typ_12107, NI Size_12108) {
void* Result_12109;
TY10402* Res_12124;
void* LOC1;
NI L_12202;
TY10402** D_12203;
NI I_12213;
NI HEX3Atmp_19693;
NI HEX3Atmp_19694;
NI Res_19696;
TY10402* C_12214;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "newObj";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_12109 = 0;
F.line = 329;F.filename = "gc.nim";
Lock_10813(&Gch_10810);
F.line = 330;F.filename = "gc.nim";
F.line = 331;F.filename = "gc.nim";
Checkcollection_12100();
Res_12124 = 0;
F.line = 332;F.filename = "gc.nim";
LOC1 = Rawalloc_9395(&Allocator_8529, (NI32)(Size_12108 + ((NI)sizeof(TY10402))));
Res_12124 = ((TY10402*) (LOC1));
F.line = 333;F.filename = "gc.nim";
zeroMem(((void*) (Res_12124)), (NI32)(Size_12108 + ((NI)sizeof(TY10402))));
F.line = 334;F.filename = "gc.nim";
F.line = 336;F.filename = "gc.nim";
(*Res_12124).Typ = Typ_12107;
F.line = 341;F.filename = "gc.nim";
(*Res_12124).Refcount = 4;
F.line = 342;F.filename = "gc.nim";
L_12202 = 0;
F.line = 347;F.filename = "gc.nim";
L_12202 = Gch_10810.Zct.Len;
D_12203 = 0;
F.line = 348;F.filename = "gc.nim";
D_12203 = Gch_10810.Zct.D;
I_12213 = 0;
HEX3Atmp_19693 = 0;
HEX3Atmp_19694 = 0;
F.line = 349;F.filename = "gc.nim";
HEX3Atmp_19693 = (NI32)(L_12202 - 1);
F.line = 349;F.filename = "gc.nim";
HEX3Atmp_19694 = ((0 >= (NI32)(L_12202 - 8)) ? 0 : (NI32)(L_12202 - 8));
Res_19696 = 0;
F.line = 1010;F.filename = "system.nim";
Res_19696 = HEX3Atmp_19693;
F.line = 1011;F.filename = "system.nim";
while (1) {
if (!(HEX3Atmp_19694 <= Res_19696)) goto LA3;
F.line = 1010;F.filename = "system.nim";
I_12213 = Res_19696;
C_12214 = 0;
F.line = 350;F.filename = "gc.nim";
C_12214 = D_12203[(I_12213)-0];
F.line = 351;F.filename = "gc.nim";
if (!((NU32)(8) <= (NU32)((*C_12214).Refcount))) goto LA5;
F.line = 352;F.filename = "gc.nim";
(*C_12214).Refcount = (NI32)((*C_12214).Refcount & -8);
F.line = 353;F.filename = "gc.nim";
D_12203[(I_12213)-0] = Res_12124;
F.line = 354;F.filename = "gc.nim";
goto LA2;
LA5: ;
F.line = 1013;F.filename = "system.nim";
Res_19696 -= 1;
} LA3: ;
F.line = 355;F.filename = "gc.nim";
Add_10458(&Gch_10810.Zct, Res_12124);
LA2: ;
F.line = 358;F.filename = "gc.nim";
Unlock_10819(&Gch_10810);
F.line = 359;F.filename = "gc.nim";
Result_12109 = Celltousr_10832(Res_12124);
framePtr = framePtr->prev;
return Result_12109;
}
static N_INLINE(NI, Atomicinc_2801)(NI* Memloc_2804, NI X_2805) {
NI Result_7208;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "atomicInc";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/systhread.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_7208 = 0;
F.line = 29;F.filename = "systhread.nim";
Result_7208 = __sync_add_and_fetch(Memloc_2804, X_2805);
framePtr = framePtr->prev;
return Result_7208;
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_11618, void* Src_11619) {
TY10402* C_11620;
NI LOC4;
TY10402* C_11622;
NI LOC9;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "asgnRefNoCycle";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 244;F.filename = "gc.nim";
if (!!((Src_11619 == NIM_NIL))) goto LA2;
C_11620 = 0;
F.line = 245;F.filename = "gc.nim";
C_11620 = Usrtocell_10836(Src_11619);
F.line = 246;F.filename = "gc.nim";
LOC4 = Atomicinc_2801(&(*C_11620).Refcount, 8);
LA2: ;
F.line = 247;F.filename = "gc.nim";
if (!!(((*Dest_11618) == NIM_NIL))) goto LA6;
C_11622 = 0;
F.line = 248;F.filename = "gc.nim";
C_11622 = Usrtocell_10836((*Dest_11618));
F.line = 249;F.filename = "gc.nim";
LOC9 = Atomicdec_2806(&(*C_11622).Refcount, 8);
if (!((NU32)(LOC9) < (NU32)(8))) goto LA10;
F.line = 250;F.filename = "gc.nim";
Rtladdzct_11458(C_11622);
LA10: ;
LA6: ;
F.line = 251;F.filename = "gc.nim";
(*Dest_11618) = Src_11619;
framePtr = framePtr->prev;
}
N_NIMCALL(NimStringDesc*, rawNewString)(NI Space_17087) {
NimStringDesc* Result_17088;
NI S_17089;
void* LOC4;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "rawNewString";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/sysstr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_17088 = 0;
S_17089 = 0;
F.line = 38;F.filename = "sysstr.nim";
S_17089 = Space_17087;
F.line = 39;F.filename = "sysstr.nim";
if (!(S_17089 < 8)) goto LA2;
F.line = 39;F.filename = "sysstr.nim";
S_17089 = 7;
LA2: ;
F.line = 40;F.filename = "sysstr.nim";
LOC4 = newObj(&Strdesc_2817, (NI32)(((NI)sizeof(TGenericSeq)) + (NI32)((NI32)(S_17089 + 1) * 1)));
Result_17088 = ((NimStringDesc*) (LOC4));
F.line = 42;F.filename = "sysstr.nim";
(*Result_17088).Sup.space = S_17089;
framePtr = framePtr->prev;
return Result_17088;
}
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* Src_17108) {
NimStringDesc* Result_17109;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "copyString";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/sysstr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_17109 = 0;
F.line = 59;F.filename = "sysstr.nim";
if (!(Src_17108 == NIM_NIL)) goto LA2;
F.line = 59;F.filename = "sysstr.nim";
F.line = 59;F.filename = "sysstr.nim";
Result_17109 = NIM_NIL;
goto BeforeRet;
LA2: ;
F.line = 60;F.filename = "sysstr.nim";
Result_17109 = rawNewString((*Src_17108).Sup.space);
F.line = 61;F.filename = "sysstr.nim";
(*Result_17109).Sup.len = (*Src_17108).Sup.len;
F.line = 62;F.filename = "sysstr.nim";
memcpy(((NCSTRING) ((*Result_17109).data)), ((NCSTRING) ((*Src_17108).data)), ((NI32) ((NI32)((NI32)((*Src_17108).Sup.len + 1) * 1))));
BeforeRet: ;
framePtr = framePtr->prev;
return Result_17109;
}
N_NIMCALL(void, Gcdisable_2463)(void) {
NI LOC1;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "GC_disable";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 656;F.filename = "gc.nim";
LOC1 = Atomicinc_2801(&Recgclock_10812, 1);
framePtr = framePtr->prev;
}
static N_INLINE(void, Incref_11602)(TY10402* C_11604) {
NI LOC1;
NIM_BOOL LOC3;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "incRef";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 226;F.filename = "gc.nim";
LOC1 = Atomicinc_2801(&(*C_11604).Refcount, 8);
F.line = 227;F.filename = "gc.nim";
LOC3 = Canbecycleroot_10840(C_11604);
if (!LOC3) goto LA4;
F.line = 228;F.filename = "gc.nim";
Rtladdcycleroot_11452(C_11604);
LA4: ;
framePtr = framePtr->prev;
}
static N_INLINE(void, asgnRef)(void** Dest_11614, void* Src_11615) {
TY10402* LOC4;
TY10402* LOC8;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "asgnRef";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 235;F.filename = "gc.nim";
F.line = 237;F.filename = "gc.nim";
if (!!((Src_11615 == NIM_NIL))) goto LA2;
F.line = 237;F.filename = "gc.nim";
LOC4 = Usrtocell_10836(Src_11615);
Incref_11602(LOC4);
LA2: ;
F.line = 238;F.filename = "gc.nim";
if (!!(((*Dest_11614) == NIM_NIL))) goto LA6;
F.line = 238;F.filename = "gc.nim";
LOC8 = Usrtocell_10836((*Dest_11614));
Decref_11464(LOC8);
LA6: ;
F.line = 239;F.filename = "gc.nim";
(*Dest_11614) = Src_11615;
framePtr = framePtr->prev;
}
static N_INLINE(void, pushCurrentException)(E_Base* E_4441) {
asgnRef((void**) &(*E_4441).parent, Currexception_4432);
asgnRef((void**) &Currexception_4432, E_4441);
}
static N_INLINE(NI, Resize_17001)(NI Old_17003) {
NI Result_17004;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "resize";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/sysstr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_17004 = 0;
F.line = 21;F.filename = "sysstr.nim";
if (!(Old_17003 <= 0)) goto LA2;
F.line = 21;F.filename = "sysstr.nim";
F.line = 21;F.filename = "sysstr.nim";
Result_17004 = 4;
goto BeforeRet;
goto LA1;
LA2: ;
if (!(Old_17003 < 65536)) goto LA4;
F.line = 22;F.filename = "sysstr.nim";
F.line = 22;F.filename = "sysstr.nim";
Result_17004 = (NI32)(Old_17003 * 2);
goto BeforeRet;
goto LA1;
LA4: ;
F.line = 23;F.filename = "sysstr.nim";
F.line = 23;F.filename = "sysstr.nim";
Result_17004 = (NI32)((NI32)(Old_17003 * 3) / 2);
goto BeforeRet;
LA1: ;
BeforeRet: ;
framePtr = framePtr->prev;
return Result_17004;
}
N_NIMCALL(void*, Growobj_12607)(void* Old_12609, NI Newsize_12610) {
void* Result_12611;
TY10402* Ol_12613;
TY10402* Res_12638;
void* LOC1;
NI Elemsize_12639;
NI Oldsize_12649;
NI J_12654;
TY10402** D_12655;
NIM_BOOL LOC13;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "growObj";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_12611 = 0;
F.line = 368;F.filename = "gc.nim";
Lock_10813(&Gch_10810);
F.line = 369;F.filename = "gc.nim";
Checkcollection_12100();
Ol_12613 = 0;
F.line = 370;F.filename = "gc.nim";
Ol_12613 = Usrtocell_10836(Old_12609);
F.line = 371;F.filename = "gc.nim";
F.line = 372;F.filename = "gc.nim";
Res_12638 = 0;
F.line = 373;F.filename = "gc.nim";
LOC1 = Rawalloc_9395(&Allocator_8529, (NI32)(Newsize_12610 + ((NI)sizeof(TY10402))));
Res_12638 = ((TY10402*) (LOC1));
Elemsize_12639 = 0;
F.line = 374;F.filename = "gc.nim";
Elemsize_12639 = 1;
F.line = 375;F.filename = "gc.nim";
if (!!(((*(*Ol_12613).Typ).kind == ((NU8) 28)))) goto LA3;
F.line = 376;F.filename = "gc.nim";
Elemsize_12639 = (*(*(*Ol_12613).Typ).base).size;
LA3: ;
Oldsize_12649 = 0;
F.line = 378;F.filename = "gc.nim";
Oldsize_12649 = (NI32)((NI32)((*((TGenericSeq*) (Old_12609))).len * Elemsize_12639) + 8);
F.line = 379;F.filename = "gc.nim";
memcpy(((void*) (Res_12638)), ((void*) (Ol_12613)), (NI32)(Oldsize_12649 + ((NI)sizeof(TY10402))));
F.line = 380;F.filename = "gc.nim";
zeroMem(((void*) ((NI32)((NU32)((NI32)((NU32)(((NI) (Res_12638))) + (NU32)(Oldsize_12649))) + (NU32)(((NI)sizeof(TY10402)))))), (NI32)(Newsize_12610 - Oldsize_12649));
F.line = 382;F.filename = "gc.nim";
F.line = 383;F.filename = "gc.nim";
F.line = 388;F.filename = "gc.nim";
if (!((NI32)((*Ol_12613).Refcount & 7) == 4)) goto LA6;
J_12654 = 0;
F.line = 389;F.filename = "gc.nim";
J_12654 = (NI32)(Gch_10810.Zct.Len - 1);
D_12655 = 0;
F.line = 390;F.filename = "gc.nim";
D_12655 = Gch_10810.Zct.D;
F.line = 391;F.filename = "gc.nim";
while (1) {
if (!(0 <= J_12654)) goto LA8;
F.line = 392;F.filename = "gc.nim";
if (!(D_12655[(J_12654)-0] == Ol_12613)) goto LA10;
F.line = 393;F.filename = "gc.nim";
D_12655[(J_12654)-0] = Res_12638;
F.line = 394;F.filename = "gc.nim";
goto LA8;
LA10: ;
F.line = 395;F.filename = "gc.nim";
J_12654 -= 1;
} LA8: ;
LA6: ;
F.line = 396;F.filename = "gc.nim";
LOC13 = Canbecycleroot_10840(Ol_12613);
if (!LOC13) goto LA14;
F.line = 396;F.filename = "gc.nim";
Excl_10681(&Gch_10810.Cycleroots, Ol_12613);
LA14: ;
F.line = 402;F.filename = "gc.nim";
Rawdealloc_9664(&Allocator_8529, ((void*) (Ol_12613)));
F.line = 406;F.filename = "gc.nim";
Unlock_10819(&Gch_10810);
F.line = 407;F.filename = "gc.nim";
Result_12611 = Celltousr_10832(Res_12638);
framePtr = framePtr->prev;
return Result_12611;
}
N_NIMCALL(NimStringDesc*, resizeString)(NimStringDesc* Dest_17182, NI Addlen_17183) {
NimStringDesc* Result_17184;
NI Sp_17189;
NI LOC4;
void* LOC5;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "resizeString";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/sysstr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_17184 = 0;
F.line = 138;F.filename = "sysstr.nim";
if (!((NI32)((NI32)((*Dest_17182).Sup.len + Addlen_17183) + 1) <= (*Dest_17182).Sup.space)) goto LA2;
F.line = 139;F.filename = "sysstr.nim";
Result_17184 = Dest_17182;
goto LA1;
LA2: ;
Sp_17189 = 0;
F.line = 141;F.filename = "sysstr.nim";
LOC4 = Resize_17001((*Dest_17182).Sup.space);
Sp_17189 = ((LOC4 >= (NI32)((NI32)((*Dest_17182).Sup.len + Addlen_17183) + 1)) ? LOC4 : (NI32)((NI32)((*Dest_17182).Sup.len + Addlen_17183) + 1));
F.line = 142;F.filename = "sysstr.nim";
LOC5 = Growobj_12607(((void*) (Dest_17182)), (NI32)(((NI)sizeof(TGenericSeq)) + (NI32)((NI32)(Sp_17189 + 1) * 1)));
Result_17184 = ((NimStringDesc*) (LOC5));
F.line = 144;F.filename = "sysstr.nim";
(*Result_17184).Sup.space = Sp_17189;
LA1: ;
framePtr = framePtr->prev;
return Result_17184;
}
N_NIMCALL(NimStringDesc*, setLengthStr)(NimStringDesc* S_17225, NI Newlen_17226) {
NimStringDesc* Result_17227;
NI N_17230;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "setLengthStr";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/sysstr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_17227 = 0;
N_17230 = 0;
F.line = 159;F.filename = "sysstr.nim";
N_17230 = ((Newlen_17226 >= 0) ? Newlen_17226 : 0);
F.line = 160;F.filename = "sysstr.nim";
if (!(N_17230 <= (*S_17225).Sup.space)) goto LA2;
F.line = 161;F.filename = "sysstr.nim";
Result_17227 = S_17225;
goto LA1;
LA2: ;
F.line = 163;F.filename = "sysstr.nim";
Result_17227 = resizeString(S_17225, N_17230);
LA1: ;
F.line = 164;F.filename = "sysstr.nim";
(*Result_17227).Sup.len = N_17230;
F.line = 165;F.filename = "sysstr.nim";
(*Result_17227).data[(N_17230)-0] = 0;
framePtr = framePtr->prev;
return Result_17227;
}
static N_INLINE(void, appendString)(NimStringDesc* Dest_17192, NimStringDesc* Src_17193) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "appendString";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/sysstr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 150;F.filename = "sysstr.nim";
memcpy(((NCSTRING) (&(*Dest_17192).data[((*Dest_17192).Sup.len)-0])), ((NCSTRING) ((*Src_17193).data)), ((NI32) ((NI32)((NI32)((*Src_17193).Sup.len + 1) * 1))));
F.line = 151;F.filename = "sysstr.nim";
(*Dest_17192).Sup.len += (*Src_17193).Sup.len;
framePtr = framePtr->prev;
}
N_NIMCALL(NimStringDesc*, nimIntToStr)(NI X_17803) {
NimStringDesc* Result_17804;
NI I_17805;
NI Y_17806;
NI D_17807;
NI J_17848;
NI HEX3Atmp_19812;
NI Res_19814;
NIM_CHAR LOC9;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "nimIntToStr";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/sysstr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_17804 = 0;
F.line = 228;F.filename = "sysstr.nim";
Result_17804 = mnewString(16);
I_17805 = 0;
F.line = 229;F.filename = "sysstr.nim";
I_17805 = 0;
Y_17806 = 0;
F.line = 230;F.filename = "sysstr.nim";
Y_17806 = X_17803;
F.line = 231;F.filename = "sysstr.nim";
while (1) {
D_17807 = 0;
F.line = 232;F.filename = "sysstr.nim";
D_17807 = (NI32)(Y_17806 / 10);
F.line = 233;F.filename = "sysstr.nim";
Result_17804->data[I_17805] = ((NIM_CHAR) (((NI) ((NI32)((NI32)abs(((NI) ((NI32)(Y_17806 - (NI32)(D_17807 * 10))))) + 48)))));
F.line = 234;F.filename = "sysstr.nim";
I_17805 += 1;
F.line = 235;F.filename = "sysstr.nim";
Y_17806 = D_17807;
F.line = 236;F.filename = "sysstr.nim";
if (!(Y_17806 == 0)) goto LA3;
F.line = 236;F.filename = "sysstr.nim";
goto LA1;
LA3: ;
} LA1: ;
F.line = 237;F.filename = "sysstr.nim";
if (!(X_17803 < 0)) goto LA6;
F.line = 238;F.filename = "sysstr.nim";
Result_17804->data[I_17805] = 45;
F.line = 239;F.filename = "sysstr.nim";
I_17805 += 1;
LA6: ;
F.line = 240;F.filename = "sysstr.nim";
Result_17804 = setLengthStr(Result_17804, I_17805);
J_17848 = 0;
HEX3Atmp_19812 = 0;
F.line = 242;F.filename = "sysstr.nim";
HEX3Atmp_19812 = (NI32)((NI32)(I_17805 / 2) - 1);
Res_19814 = 0;
F.line = 1019;F.filename = "system.nim";
Res_19814 = 0;
F.line = 1020;F.filename = "system.nim";
while (1) {
if (!(Res_19814 <= HEX3Atmp_19812)) goto LA8;
F.line = 1019;F.filename = "system.nim";
J_17848 = Res_19814;
F.line = 243;F.filename = "sysstr.nim";
LOC9 = Result_17804->data[J_17848];
Result_17804->data[J_17848] = Result_17804->data[(NI32)((NI32)(I_17805 - J_17848) - 1)];
Result_17804->data[(NI32)((NI32)(I_17805 - J_17848) - 1)] = LOC9;
F.line = 1022;F.filename = "system.nim";
Res_19814 += 1;
} LA8: ;
framePtr = framePtr->prev;
return Result_17804;
}
N_NIMCALL(NimStringDesc*, addChar)(NimStringDesc* S_1603, NIM_CHAR C_1604) {
NimStringDesc* Result_17165;
void* LOC4;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "addChar";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/sysstr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_17165 = 0;
F.line = 93;F.filename = "sysstr.nim";
Result_17165 = S_1603;
F.line = 94;F.filename = "sysstr.nim";
if (!((*Result_17165).Sup.space <= (*Result_17165).Sup.len)) goto LA2;
F.line = 95;F.filename = "sysstr.nim";
(*Result_17165).Sup.space = Resize_17001((*Result_17165).Sup.space);
F.line = 96;F.filename = "sysstr.nim";
LOC4 = Growobj_12607(((void*) (Result_17165)), (NI32)(((NI)sizeof(TGenericSeq)) + (NI32)((NI32)((*Result_17165).Sup.space + 1) * 1)));
Result_17165 = ((NimStringDesc*) (LOC4));
LA2: ;
F.line = 102;F.filename = "sysstr.nim";
(*Result_17165).data[((*Result_17165).Sup.len)-0] = C_1604;
F.line = 103;F.filename = "sysstr.nim";
(*Result_17165).data[((NI32)((*Result_17165).Sup.len + 1))-0] = 0;
F.line = 104;F.filename = "sysstr.nim";
(*Result_17165).Sup.len += 1;
framePtr = framePtr->prev;
return Result_17165;
}
N_NIMCALL(void, Auxwritestacktrace_4460)(TFrame* F_4462, NimStringDesc** S_4464) {
TFrame* It_4466;
NI I_4467;
NI Total_4468;
NIM_BOOL LOC2;
TFrame* B_4506;
NI J_4537;
NI HEX3Atmp_19621;
NI Res_19623;
NIM_BOOL LOC13;
NI J_4610;
NI HEX3Atmp_19634;
NI Res_19636;
NimStringDesc* LOC19;
NI Oldlen_4626;
NimStringDesc* LOC23;
NI K_4642;
NI HEX3Atmp_19628;
NI Res_19630;
It_4466 = 0;
It_4466 = F_4462;
I_4467 = 0;
I_4467 = 0;
Total_4468 = 0;
Total_4468 = 0;
while (1) {
LOC2 = !((It_4466 == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC2 = (I_4467 <= 96);
LA3: ;
if (!LOC2) goto LA1;
Tempframes_4458[(I_4467)-0] = It_4466;
I_4467 += 1;
Total_4468 += 1;
It_4466 = (*It_4466).prev;
} LA1: ;
B_4506 = 0;
B_4506 = It_4466;
while (1) {
if (!!((It_4466 == NIM_NIL))) goto LA4;
Total_4468 += 1;
It_4466 = (*It_4466).prev;
} LA4: ;
J_4537 = 0;
HEX3Atmp_19621 = 0;
HEX3Atmp_19621 = (NI32)((NI32)(Total_4468 - I_4467) - 31);
Res_19623 = 0;
Res_19623 = 1;
while (1) {
if (!(Res_19623 <= HEX3Atmp_19621)) goto LA5;
J_4537 = Res_19623;
if (!!((B_4506 == NIM_NIL))) goto LA7;
B_4506 = (*B_4506).prev;
LA7: ;
Res_19623 += 1;
} LA5: ;
if (!!((Total_4468 == I_4467))) goto LA10;
Tempframes_4458[(I_4467)-0] = NIM_NIL;
I_4467 += 1;
LA10: ;
while (1) {
LOC13 = !((B_4506 == NIM_NIL));
if (!(LOC13)) goto LA14;
LOC13 = (I_4467 <= 127);
LA14: ;
if (!LOC13) goto LA12;
Tempframes_4458[(I_4467)-0] = B_4506;
I_4467 += 1;
B_4506 = (*B_4506).prev;
} LA12: ;
J_4610 = 0;
HEX3Atmp_19634 = 0;
HEX3Atmp_19634 = (NI32)(I_4467 - 1);
Res_19636 = 0;
Res_19636 = HEX3Atmp_19634;
while (1) {
if (!(0 <= Res_19636)) goto LA15;
J_4610 = Res_19636;
if (!(Tempframes_4458[(J_4610)-0] == NIM_NIL)) goto LA17;
(*S_4464) = resizeString((*S_4464), 1);
appendString((*S_4464), ((NimStringDesc*) &TMP19917));
LOC19 = 0;
LOC19 = nimIntToStr((NI32)((NI32)(Total_4468 - I_4467) - 1));
(*S_4464) = resizeString((*S_4464), LOC19->Sup.len + 0);
appendString((*S_4464), LOC19);
(*S_4464) = resizeString((*S_4464), 19);
appendString((*S_4464), ((NimStringDesc*) &TMP19918));
goto LA16;
LA17: ;
Oldlen_4626 = 0;
Oldlen_4626 = (*S_4464)->Sup.len;
Add_2522(S_4464, (*Tempframes_4458[(J_4610)-0]).filename);
if (!(0 < (*Tempframes_4458[(J_4610)-0]).line)) goto LA21;
(*S_4464) = addChar((*S_4464), 40);
LOC23 = 0;
LOC23 = nimIntToStr((*Tempframes_4458[(J_4610)-0]).line);
(*S_4464) = resizeString((*S_4464), LOC23->Sup.len + 0);
appendString((*S_4464), LOC23);
(*S_4464) = addChar((*S_4464), 41);
LA21: ;
K_4642 = 0;
HEX3Atmp_19628 = 0;
HEX3Atmp_19628 = ((1 >= (NI32)(25 - (NI32)((*S_4464)->Sup.len - Oldlen_4626))) ? 1 : (NI32)(25 - (NI32)((*S_4464)->Sup.len - Oldlen_4626)));
Res_19630 = 0;
Res_19630 = 1;
while (1) {
if (!(Res_19630 <= HEX3Atmp_19628)) goto LA24;
K_4642 = Res_19630;
(*S_4464) = addChar((*S_4464), 32);
Res_19630 += 1;
} LA24: ;
Add_2522(S_4464, (*Tempframes_4458[(J_4610)-0]).procname);
LA16: ;
(*S_4464) = resizeString((*S_4464), Stacktracenewline_4459->Sup.len + 0);
appendString((*S_4464), Stacktracenewline_4459);
Res_19636 -= 1;
} LA15: ;
}
N_NIMCALL(void, Rawwritestacktrace_4643)(NimStringDesc** S_4646) {
if (!(framePtr == NIM_NIL)) goto LA2;
(*S_4646) = resizeString((*S_4646), 28);
appendString((*S_4646), ((NimStringDesc*) &TMP19915));
(*S_4646) = resizeString((*S_4646), Stacktracenewline_4459->Sup.len + 0);
appendString((*S_4646), Stacktracenewline_4459);
goto LA1;
LA2: ;
(*S_4646) = resizeString((*S_4646), 33);
appendString((*S_4646), ((NimStringDesc*) &TMP19916));
(*S_4646) = resizeString((*S_4646), Stacktracenewline_4459->Sup.len + 0);
appendString((*S_4646), Stacktracenewline_4459);
Auxwritestacktrace_4460(framePtr, S_4646);
LA1: ;
}
N_NIMCALL(NimStringDesc*, toNimStr)(NCSTRING Str_17099, NI Len_17100) {
NimStringDesc* Result_17101;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "toNimStr";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/sysstr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_17101 = 0;
F.line = 50;F.filename = "sysstr.nim";
Result_17101 = rawNewString(Len_17100);
F.line = 51;F.filename = "sysstr.nim";
(*Result_17101).Sup.len = Len_17100;
F.line = 52;F.filename = "sysstr.nim";
memcpy(((NCSTRING) ((*Result_17101).data)), Str_17099, ((NI32) ((NI32)((NI32)(Len_17100 + 1) * 1))));
F.line = 53;F.filename = "sysstr.nim";
(*Result_17101).data[(Len_17100)-0] = 0;
framePtr = framePtr->prev;
return Result_17101;
}
N_NIMCALL(NimStringDesc*, cstrToNimstr)(NCSTRING Str_17104) {
NimStringDesc* Result_17105;
NI LOC1;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "cstrToNimstr";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/sysstr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_17105 = 0;
F.line = 56;F.filename = "sysstr.nim";
F.line = 56;F.filename = "sysstr.nim";
LOC1 = strlen(Str_17104);
Result_17105 = toNimStr(Str_17104, LOC1);
goto BeforeRet;
BeforeRet: ;
framePtr = framePtr->prev;
return Result_17105;
}
N_NIMCALL(void, Writetostderr_4232)(NCSTRING Msg_4234) {
Write_3470(stdout, Msg_4234);
}
static N_INLINE(void, Quitordebug_4801)(void) {
exit(1);
}
N_NIMCALL(void, Gcenable_2465)(void) {
NI LOC4;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "GC_enable";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 658;F.filename = "gc.nim";
if (!(0 < Recgclock_10812)) goto LA2;
F.line = 658;F.filename = "gc.nim";
LOC4 = Atomicdec_2806(&Recgclock_10812, 1);
LA2: ;
framePtr = framePtr->prev;
}
N_NIMCALL(void, raiseException)(E_Base* E_5004, NCSTRING Ename_5005) {
NIM_BOOL LOC8;
NimStringDesc* LOC12;
Gcdisable_2463();
(*E_5004).name = Ename_5005;
if (!!((excHandler == NIM_NIL))) goto LA2;
pushCurrentException(E_5004);
longjmp((*excHandler).context, ((NI32) 1));
goto LA1;
LA2: ;
if (!!(Buf_4453 == 0)) goto LA5;
Buf_4453 = setLengthStr(Buf_4453, 0);
Rawwritestacktrace_4643(&Buf_4453);
LOC8 = !(((*E_5004).message == NIM_NIL));
if (!(LOC8)) goto LA9;
LOC8 = !(((NU8)((*E_5004).message->data[0]) == (NU8)(0)));
LA9: ;
if (!LOC8) goto LA10;
Buf_4453 = resizeString(Buf_4453, 28);
appendString(Buf_4453, ((NimStringDesc*) &TMP19919));
Buf_4453 = resizeString(Buf_4453, (*E_5004).message->Sup.len + 0);
appendString(Buf_4453, (*E_5004).message);
goto LA7;
LA10: ;
Buf_4453 = resizeString(Buf_4453, 26);
appendString(Buf_4453, ((NimStringDesc*) &TMP19920));
LA7: ;
Buf_4453 = resizeString(Buf_4453, 2);
appendString(Buf_4453, ((NimStringDesc*) &TMP19921));
LOC12 = 0;
LOC12 = cstrToNimstr(Ename_5005);
Buf_4453 = resizeString(Buf_4453, LOC12->Sup.len + 0);
appendString(Buf_4453, LOC12);
Buf_4453 = resizeString(Buf_4453, 3);
appendString(Buf_4453, ((NimStringDesc*) &TMP19922));
Writetostderr_4232(Buf_4453->data);
goto LA4;
LA5: ;
Writetostderr_4232(Ename_5005);
LA4: ;
Quitordebug_4801();
LA1: ;
Gcenable_2465();
}
N_NIMCALL(void, Write_3458)(FILE* F_3460, NimStringDesc* S_3461) {
NI LOC2;
TY420* E_4063;
LOC2 = Writebuffer_3533(F_3460, ((void*) (S_3461->data)), S_3461->Sup.len);
if (!!((LOC2 == S_3461->Sup.len))) goto LA3;
E_4063 = 0;
E_4063 = (TY420*) newObj(NTI4062, sizeof(TY420));
(*E_4063).Sup.Sup.Sup.Sup.m_type = NTI420;
asgnRefNoCycle((void**) &(*E_4063).Sup.Sup.Sup.message, copyString(((NimStringDesc*) &TMP19914)));
raiseException((E_Base*)E_4063, "EIO");
LA3: ;
}
static N_INLINE(void, rawEcho)(NimStringDesc* X_3894) {
Write_3458(stdout, X_3894);
}
static N_INLINE(void, rawEchoNL)(void) {
Write_3458(stdout, ((NimStringDesc*) &TMP19912));
}
N_NIMCALL(void, Quit_2622)(NimStringDesc* Errormsg_2624) {
rawEcho(Errormsg_2624);
rawEchoNL();
exit(1);
}
N_NIMCALL(void, Raiseoutofmem_8059)(void) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "raiseOutOfMem";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/mmdisp.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 59;F.filename = "mmdisp.nim";
if (!(Goutofmem_8058 == NIM_NIL)) goto LA2;
F.line = 59;F.filename = "mmdisp.nim";
Quit_2622(((NimStringDesc*) &TMP19923));
LA2: ;
F.line = 60;F.filename = "mmdisp.nim";
asgnRefNoCycle((void**) &(*Goutofmem_8058).Sup.Sup.Sup.message, copyString(((NimStringDesc*) &TMP19924)));
F.line = 61;F.filename = "mmdisp.nim";
raiseException((E_Base*)Goutofmem_8058, "EOutOfMemory");
framePtr = framePtr->prev;
}
static N_INLINE(void*, Osallocpages_8089)(NI Size_8091) {
void* Result_8092;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "osAllocPages";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/alloc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_8092 = 0;
F.line = 64;F.filename = "alloc.nim";
Result_8092 = VirtualAlloc(NIM_NIL, Size_8091, ((NI32) 12288), ((NI32) 4));
F.line = 66;F.filename = "alloc.nim";
if (!(Result_8092 == NIM_NIL)) goto LA2;
F.line = 66;F.filename = "alloc.nim";
Raiseoutofmem_8059();
LA2: ;
framePtr = framePtr->prev;
return Result_8092;
}
static N_INLINE(void, Inccurrmem_8486)(TY8474* A_8489, NI Bytes_8490) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "incCurrMem";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/alloc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 159;F.filename = "alloc.nim";
(*A_8489).Currmem += Bytes_8490;
framePtr = framePtr->prev;
}
N_NIMCALL(void*, Llalloc_8530)(TY8474* A_8533, NI Size_8534) {
void* Result_8535;
NIM_BOOL LOC2;
NI Request_8549;
void* LOC6;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "llAlloc";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/alloc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_8535 = 0;
F.line = 177;F.filename = "alloc.nim";
LOC2 = ((*A_8533).Llmem == NIM_NIL);
if (LOC2) goto LA3;
LOC2 = ((*(*A_8533).Llmem).Size < Size_8534);
LA3: ;
if (!LOC2) goto LA4;
Request_8549 = 0;
F.line = 178;F.filename = "alloc.nim";
Request_8549 = Roundup_8456((NI32)(Size_8534 + ((NI)sizeof(TY8472))), 4096);
F.line = 179;F.filename = "alloc.nim";
LOC6 = Osallocpages_8089(Request_8549);
(*A_8533).Llmem = ((TY8472*) (LOC6));
F.line = 180;F.filename = "alloc.nim";
Inccurrmem_8486(A_8533, Request_8549);
F.line = 181;F.filename = "alloc.nim";
(*(*A_8533).Llmem).Size = (NI32)(Request_8549 - ((NI)sizeof(TY8472)));
F.line = 182;F.filename = "alloc.nim";
(*(*A_8533).Llmem).Acc = ((NI)sizeof(TY8472));
LA4: ;
F.line = 183;F.filename = "alloc.nim";
Result_8535 = ((void*) ((NI32)(((NI) ((*A_8533).Llmem)) + (*(*A_8533).Llmem).Acc)));
F.line = 184;F.filename = "alloc.nim";
(*(*A_8533).Llmem).Size -= Size_8534;
F.line = 185;F.filename = "alloc.nim";
(*(*A_8533).Llmem).Acc += Size_8534;
F.line = 186;F.filename = "alloc.nim";
zeroMem(Result_8535, Size_8534);
framePtr = framePtr->prev;
return Result_8535;
}
N_NIMCALL(TY8407*, Intsetput_8593)(TY8411* T_8596, NI Key_8597) {
TY8407* Result_8598;
void* LOC4;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "IntSetPut";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/alloc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_8598 = 0;
F.line = 196;F.filename = "alloc.nim";
Result_8598 = Intsetget_8574(&(*T_8596), Key_8597);
F.line = 197;F.filename = "alloc.nim";
if (!(Result_8598 == NIM_NIL)) goto LA2;
F.line = 198;F.filename = "alloc.nim";
LOC4 = Llalloc_8530(&Allocator_8529, ((NI)sizeof(TY8407)));
Result_8598 = ((TY8407*) (LOC4));
F.line = 199;F.filename = "alloc.nim";
(*Result_8598).Next = (*T_8596).Data[((NI32)(Key_8597 & 1023))-0];
F.line = 200;F.filename = "alloc.nim";
(*T_8596).Data[((NI32)(Key_8597 & 1023))-0] = Result_8598;
F.line = 201;F.filename = "alloc.nim";
(*Result_8598).Key = Key_8597;
LA2: ;
framePtr = framePtr->prev;
return Result_8598;
}
N_NIMCALL(void, Incl_8631)(TY8411* S_8634, NI Key_8635) {
TY8407* T_8636;
NI U_8637;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "Incl";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/alloc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
T_8636 = 0;
F.line = 212;F.filename = "alloc.nim";
T_8636 = Intsetput_8593(S_8634, (NI32)((NU32)(Key_8635) >> (NU32)(9)));
U_8637 = 0;
F.line = 213;F.filename = "alloc.nim";
U_8637 = (NI32)(Key_8635 & 511);
F.line = 214;F.filename = "alloc.nim";
(*T_8636).Bits[((NI32)((NU32)(U_8637) >> (NU32)(5)))-0] = (NI32)((*T_8636).Bits[((NI32)((NU32)(U_8637) >> (NU32)(5)))-0] | (NI32)((NU32)(1) << (NU32)((NI32)(U_8637 & 31))));
framePtr = framePtr->prev;
}
N_NIMCALL(void, Splitchunk_9266)(TY8474* A_9269, TY8434* C_9270, NI Size_9271) {
TY8434* Rest_9272;
NI LOC1;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "splitChunk";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/alloc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Rest_9272 = 0;
F.line = 378;F.filename = "alloc.nim";
Rest_9272 = ((TY8434*) ((NI32)((NU32)(((NI) (C_9270))) + (NU32)(Size_9271))));
F.line = 379;F.filename = "alloc.nim";
F.line = 383;F.filename = "alloc.nim";
(*Rest_9272).Sup.Size = (NI32)((*C_9270).Sup.Size - Size_9271);
F.line = 384;F.filename = "alloc.nim";
(*Rest_9272).Sup.Used = NIM_FALSE;
F.line = 385;F.filename = "alloc.nim";
(*Rest_9272).Next = NIM_NIL;
F.line = 386;F.filename = "alloc.nim";
(*Rest_9272).Prev = NIM_NIL;
F.line = 387;F.filename = "alloc.nim";
(*Rest_9272).Sup.Prevsize = Size_9271;
F.line = 388;F.filename = "alloc.nim";
Updateprevsize_8811(A_9269, C_9270, (*Rest_9272).Sup.Size);
F.line = 389;F.filename = "alloc.nim";
(*C_9270).Sup.Size = Size_9271;
F.line = 390;F.filename = "alloc.nim";
LOC1 = Pageindex_8677(&Rest_9272->Sup);
Incl_8631(&(*A_9269).Chunkstarts, LOC1);
F.line = 391;F.filename = "alloc.nim";
Listadd_9207(&(*A_9269).Freechunkslist, Rest_9272);
framePtr = framePtr->prev;
}
N_NIMCALL(TY8434*, Requestoschunks_8692)(TY8474* A_8695, NI Size_8696) {
TY8434* Result_8697;
void* LOC1;
NI Nxt_8712;
TY8430* Next_8715;
NI LOC3;
NIM_BOOL LOC4;
NI Prv_8718;
TY8430* Prev_8721;
NIM_BOOL LOC8;
NI LOC9;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "requestOsChunks";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/alloc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_8697 = 0;
F.line = 249;F.filename = "alloc.nim";
Inccurrmem_8486(A_8695, Size_8696);
F.line = 250;F.filename = "alloc.nim";
(*A_8695).Freemem += Size_8696;
F.line = 251;F.filename = "alloc.nim";
LOC1 = Osallocpages_8089(Size_8696);
Result_8697 = ((TY8434*) (LOC1));
F.line = 252;F.filename = "alloc.nim";
F.line = 254;F.filename = "alloc.nim";
(*Result_8697).Next = NIM_NIL;
F.line = 255;F.filename = "alloc.nim";
(*Result_8697).Prev = NIM_NIL;
F.line = 256;F.filename = "alloc.nim";
(*Result_8697).Sup.Used = NIM_FALSE;
F.line = 257;F.filename = "alloc.nim";
(*Result_8697).Sup.Size = Size_8696;
Nxt_8712 = 0;
F.line = 259;F.filename = "alloc.nim";
Nxt_8712 = (NI32)((NU32)(((NI) (Result_8697))) + (NU32)(Size_8696));
F.line = 260;F.filename = "alloc.nim";
Next_8715 = 0;
F.line = 261;F.filename = "alloc.nim";
Next_8715 = ((TY8430*) (Nxt_8712));
F.line = 262;F.filename = "alloc.nim";
LOC3 = Pageindex_8677(Next_8715);
LOC4 = Contains_8611(&(*A_8695).Chunkstarts, LOC3);
if (!LOC4) goto LA5;
F.line = 264;F.filename = "alloc.nim";
(*Next_8715).Prevsize = Size_8696;
LA5: ;
Prv_8718 = 0;
F.line = 266;F.filename = "alloc.nim";
Prv_8718 = (NI32)((NU32)(((NI) (Result_8697))) - (NU32)(Lastsize_8691));
F.line = 267;F.filename = "alloc.nim";
Prev_8721 = 0;
F.line = 268;F.filename = "alloc.nim";
Prev_8721 = ((TY8430*) (Prv_8718));
F.line = 269;F.filename = "alloc.nim";
LOC9 = Pageindex_8677(Prev_8721);
LOC8 = Contains_8611(&(*A_8695).Chunkstarts, LOC9);
if (!(LOC8)) goto LA10;
LOC8 = ((*Prev_8721).Size == Lastsize_8691);
LA10: ;
if (!LOC8) goto LA11;
F.line = 271;F.filename = "alloc.nim";
(*Result_8697).Sup.Prevsize = Lastsize_8691;
goto LA7;
LA11: ;
F.line = 273;F.filename = "alloc.nim";
(*Result_8697).Sup.Prevsize = 0;
LA7: ;
F.line = 274;F.filename = "alloc.nim";
Lastsize_8691 = Size_8696;
framePtr = framePtr->prev;
return Result_8697;
}
N_NIMCALL(TY8434*, Getbigchunk_9292)(TY8474* A_9295, NI Size_9296) {
TY8434* Result_9297;
NI LOC11;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "getBigChunk";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/alloc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_9297 = 0;
F.line = 395;F.filename = "alloc.nim";
F.line = 396;F.filename = "alloc.nim";
F.line = 397;F.filename = "alloc.nim";
Result_9297 = (*A_9295).Freechunkslist;
F.line = 399;F.filename = "alloc.nim";
while (1) {
if (!!((Result_9297 == NIM_NIL))) goto LA2;
F.line = 402;F.filename = "alloc.nim";
F.line = 403;F.filename = "alloc.nim";
if (!((*Result_9297).Sup.Size == Size_9296)) goto LA4;
F.line = 404;F.filename = "alloc.nim";
Listremove_8846(&(*A_9295).Freechunkslist, Result_9297);
F.line = 405;F.filename = "alloc.nim";
goto LA1;
goto LA3;
LA4: ;
if (!(Size_9296 < (*Result_9297).Sup.Size)) goto LA6;
F.line = 408;F.filename = "alloc.nim";
Listremove_8846(&(*A_9295).Freechunkslist, Result_9297);
F.line = 409;F.filename = "alloc.nim";
Splitchunk_9266(A_9295, Result_9297, Size_9296);
F.line = 410;F.filename = "alloc.nim";
goto LA1;
goto LA3;
LA6: ;
LA3: ;
F.line = 411;F.filename = "alloc.nim";
Result_9297 = (*Result_9297).Next;
F.line = 412;F.filename = "alloc.nim";
} LA2: ;
F.line = 413;F.filename = "alloc.nim";
if (!(Size_9296 < 524288)) goto LA9;
F.line = 414;F.filename = "alloc.nim";
Result_9297 = Requestoschunks_8692(A_9295, 524288);
F.line = 415;F.filename = "alloc.nim";
Splitchunk_9266(A_9295, Result_9297, Size_9296);
goto LA8;
LA9: ;
F.line = 417;F.filename = "alloc.nim";
Result_9297 = Requestoschunks_8692(A_9295, Size_9296);
LA8: ;
LA1: ;
F.line = 418;F.filename = "alloc.nim";
(*Result_9297).Sup.Prevsize = 0;
F.line = 419;F.filename = "alloc.nim";
(*Result_9297).Sup.Used = NIM_TRUE;
F.line = 420;F.filename = "alloc.nim";
LOC11 = Pageindex_8677(&Result_9297->Sup);
Incl_8631(&(*A_9295).Chunkstarts, LOC11);
F.line = 421;F.filename = "alloc.nim";
(*A_9295).Freemem -= Size_9296;
framePtr = framePtr->prev;
return Result_9297;
}
N_NIMCALL(TY8432*, Getsmallchunk_9362)(TY8474* A_9365) {
TY8432* Result_9366;
TY8434* Res_9367;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "getSmallChunk";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/alloc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_9366 = 0;
Res_9367 = 0;
F.line = 424;F.filename = "alloc.nim";
Res_9367 = Getbigchunk_9292(A_9365, 4096);
F.line = 425;F.filename = "alloc.nim";
F.line = 426;F.filename = "alloc.nim";
F.line = 427;F.filename = "alloc.nim";
Result_9366 = ((TY8432*) (Res_9367));
framePtr = framePtr->prev;
return Result_9366;
}
N_NIMCALL(void*, Rawalloc_9395)(TY8474* A_9398, NI Requestedsize_9399) {
void* Result_9400;
NI Size_9405;
NI S_9408;
TY8432* C_9409;
TY8434* C_9636;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "rawAlloc";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/alloc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_9400 = 0;
F.line = 436;F.filename = "alloc.nim";
F.line = 437;F.filename = "alloc.nim";
Size_9405 = 0;
F.line = 438;F.filename = "alloc.nim";
Size_9405 = Roundup_8456(Requestedsize_9399, 8);
F.line = 440;F.filename = "alloc.nim";
if (!(Size_9405 <= (NI32)(4096 - (NI32)(((NI)sizeof(TY8432)) - 8)))) goto LA2;
S_9408 = 0;
F.line = 442;F.filename = "alloc.nim";
S_9408 = (NI32)(Size_9405 / 8);
C_9409 = 0;
F.line = 443;F.filename = "alloc.nim";
C_9409 = (*A_9398).Freesmallchunks[(S_9408)-0];
F.line = 444;F.filename = "alloc.nim";
if (!(C_9409 == NIM_NIL)) goto LA5;
F.line = 445;F.filename = "alloc.nim";
C_9409 = Getsmallchunk_9362(A_9398);
F.line = 446;F.filename = "alloc.nim";
(*C_9409).Freelist = NIM_NIL;
F.line = 447;F.filename = "alloc.nim";
F.line = 448;F.filename = "alloc.nim";
(*C_9409).Sup.Size = Size_9405;
F.line = 449;F.filename = "alloc.nim";
(*C_9409).Acc = Size_9405;
F.line = 450;F.filename = "alloc.nim";
(*C_9409).Free = (NI32)((NI32)(4096 - (NI32)(((NI)sizeof(TY8432)) - 8)) - Size_9405);
F.line = 451;F.filename = "alloc.nim";
(*C_9409).Next = NIM_NIL;
F.line = 452;F.filename = "alloc.nim";
(*C_9409).Prev = NIM_NIL;
F.line = 453;F.filename = "alloc.nim";
Listadd_9426(&(*A_9398).Freesmallchunks[(S_9408)-0], C_9409);
F.line = 454;F.filename = "alloc.nim";
Result_9400 = ((void*) (&(*C_9409).Data));
F.line = 455;F.filename = "alloc.nim";
goto LA4;
LA5: ;
F.line = 457;F.filename = "alloc.nim";
F.line = 460;F.filename = "alloc.nim";
F.line = 461;F.filename = "alloc.nim";
if (!((*C_9409).Freelist == NIM_NIL)) goto LA8;
F.line = 462;F.filename = "alloc.nim";
F.line = 463;F.filename = "alloc.nim";
Result_9400 = ((void*) ((NI32)((NU32)(((NI) (&(*C_9409).Data))) + (NU32)((*C_9409).Acc))));
F.line = 464;F.filename = "alloc.nim";
(*C_9409).Acc += Size_9405;
goto LA7;
LA8: ;
F.line = 466;F.filename = "alloc.nim";
Result_9400 = ((void*) ((*C_9409).Freelist));
F.line = 467;F.filename = "alloc.nim";
F.line = 468;F.filename = "alloc.nim";
(*C_9409).Freelist = (*(*C_9409).Freelist).Next;
LA7: ;
F.line = 469;F.filename = "alloc.nim";
(*C_9409).Free -= Size_9405;
F.line = 470;F.filename = "alloc.nim";
LA4: ;
F.line = 471;F.filename = "alloc.nim";
if (!((*C_9409).Free < Size_9405)) goto LA11;
F.line = 472;F.filename = "alloc.nim";
Listremove_9568(&(*A_9398).Freesmallchunks[(S_9408)-0], C_9409);
LA11: ;
goto LA1;
LA2: ;
F.line = 474;F.filename = "alloc.nim";
Size_9405 = Roundup_8456((NI32)(Requestedsize_9399 + (NI32)(((NI)sizeof(TY8434)) - 8)), 4096);
C_9636 = 0;
F.line = 476;F.filename = "alloc.nim";
C_9636 = Getbigchunk_9292(A_9398, Size_9405);
F.line = 477;F.filename = "alloc.nim";
F.line = 478;F.filename = "alloc.nim";
F.line = 479;F.filename = "alloc.nim";
F.line = 480;F.filename = "alloc.nim";
Result_9400 = ((void*) (&(*C_9636).Data));
F.line = 481;F.filename = "alloc.nim";
LA1: ;
F.line = 482;F.filename = "alloc.nim";
framePtr = framePtr->prev;
return Result_9400;
}
N_NOCONV(void*, Alloc_1774)(NI Size_1776) {
void* Result_10018;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "alloc";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/alloc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_10018 = 0;
F.line = 536;F.filename = "alloc.nim";
Result_10018 = Rawalloc_9395(&Allocator_8529, (NI32)(Size_1776 + ((NI)sizeof(TY8422))));
F.line = 537;F.filename = "alloc.nim";
(*((TY8422*) (Result_10018))).Zerofield = 1;
F.line = 538;F.filename = "alloc.nim";
F.line = 539;F.filename = "alloc.nim";
Result_10018 = ((void*) ((NI32)((NU32)(((NI) (Result_10018))) + (NU32)(((NI)sizeof(TY8422))))));
framePtr = framePtr->prev;
return Result_10018;
}
N_NOCONV(void*, Alloc0_1777)(NI Size_1779) {
void* Result_10024;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "alloc0";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/alloc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_10024 = 0;
F.line = 542;F.filename = "alloc.nim";
Result_10024 = Alloc_1774(Size_1779);
F.line = 543;F.filename = "alloc.nim";
zeroMem(Result_10024, Size_1779);
framePtr = framePtr->prev;
return Result_10024;
}
N_NIMCALL(void, Init_10478)(TY10418* S_10481, NI Cap_10482) {
void* LOC1;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "init";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/cellsets.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 59;F.filename = "cellsets.nim";
(*S_10481).Len = 0;
F.line = 60;F.filename = "cellsets.nim";
(*S_10481).Cap = Cap_10482;
F.line = 61;F.filename = "cellsets.nim";
LOC1 = Alloc0_1777((NI32)(Cap_10482 * 4));
(*S_10481).D = ((TY10402**) (LOC1));
framePtr = framePtr->prev;
}
N_NIMCALL(void, Initgc_2811)(void) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "initGC";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 266;F.filename = "gc.nim";
Gch_10810.Stat.Stackscans = 0;
F.line = 267;F.filename = "gc.nim";
Gch_10810.Stat.Cyclecollections = 0;
F.line = 268;F.filename = "gc.nim";
Gch_10810.Stat.Maxthreshold = 0;
F.line = 269;F.filename = "gc.nim";
Gch_10810.Stat.Maxstacksize = 0;
F.line = 270;F.filename = "gc.nim";
Gch_10810.Stat.Maxstackcells = 0;
F.line = 271;F.filename = "gc.nim";
Gch_10810.Stat.Cycletablesize = 0;
F.line = 273;F.filename = "gc.nim";
Init_10478(&Gch_10810.Zct, 1024);
F.line = 274;F.filename = "gc.nim";
Init_10478(&Gch_10810.Tempstack, 1024);
F.line = 275;F.filename = "gc.nim";
Init_10488(&Gch_10810.Cycleroots);
F.line = 276;F.filename = "gc.nim";
Init_10478(&Gch_10810.Decstack, 1024);
F.line = 277;F.filename = "gc.nim";
Dl_7811(&Gch_10810.Cyclerootslock);
F.line = 278;F.filename = "gc.nim";
Dl_7811(&Gch_10810.Zctlock);
F.line = 279;F.filename = "gc.nim";
asgnRefNoCycle((void**) &Goutofmem_8058, (TY442*) newObj(NTI8062, sizeof(TY442)));
(*Goutofmem_8058).Sup.Sup.Sup.Sup.m_type = NTI442;
framePtr = framePtr->prev;
}
N_NIMCALL(NI, Cmp_1321)(NimStringDesc* X_1323, NimStringDesc* Y_1324) {
NI Result_3119;
NI32 LOC1;
Result_3119 = 0;
LOC1 = strcmp(X_1323->data, Y_1324->data);
Result_3119 = ((NI) (LOC1));
goto BeforeRet;
BeforeRet: ;
return Result_3119;
}
N_NIMCALL(void, Rawreadline_3589)(FILE* F_3591, NimStringDesc** Result_3593) {
NI32 C_3594;
(*Result_3593) = setLengthStr((*Result_3593), 0);
while (1) {
C_3594 = 0;
C_3594 = fgetc(F_3591);
if (!(C_3594 < ((NI32) 0))) goto LA3;
goto LA1;
LA3: ;
if (!(C_3594 == ((NI32) 10))) goto LA6;
goto LA1;
LA6: ;
if (!(C_3594 == ((NI32) 13))) goto LA9;
C_3594 = fgetc(F_3591);
if (!!((C_3594 == ((NI32) 10)))) goto LA12;
ungetc(C_3594, F_3591);
LA12: ;
goto LA1;
LA9: ;
(*Result_3593) = addChar((*Result_3593), ((NIM_CHAR) (((NI) (((NI) (C_3594)))))));
} LA1: ;
}
N_NIMCALL(NimStringDesc*, Readline_3479)(FILE* F_3481) {
NimStringDesc* Result_3606;
Result_3606 = 0;
Result_3606 = copyString(((NimStringDesc*) &TMP19925));
Rawreadline_3589(F_3481, &Result_3606);
return Result_3606;
}
N_NIMCALL(void, Write_3454)(FILE* F_3456, NI I_3457) {
fprintf(F_3456, "%ld", I_3457);
}
N_NIMCALL(void, Write_3462)(FILE* F_3464, NIM_BOOL B_3465) {
if (!B_3465) goto LA2;
Write_3458(F_3464, ((NimStringDesc*) &TMP19926));
goto LA1;
LA2: ;
Write_3458(F_3464, ((NimStringDesc*) &TMP19927));
LA1: ;
}
N_NIMCALL(void, Write_3450)(FILE* F_3452, NF R_3453) {
fprintf(F_3452, "%g", R_3453);
}
N_NIMCALL(void, Write_3466)(FILE* F_3468, NIM_CHAR C_3469) {
putc(C_3469, F_3468);
}
N_NIMCALL(void, Write_3474)(FILE* F_3476, NimStringDesc** A_3478, NI A_3478Len0) {
NimStringDesc* X_3853;
NI I_19606;
X_3853 = 0;
I_19606 = 0;
I_19606 = 0;
while (1) {
if (!(I_19606 < A_3478Len0)) goto LA1;
X_3853 = A_3478[I_19606];
Write_3458(F_3476, X_3853);
I_19606 += 1;
} LA1: ;
}
static N_INLINE(void, pushSafePoint)(TSafePoint* S_4435) {
(*S_4435).prev = excHandler;
excHandler = S_4435;
}
N_NIMCALL(NIM_BOOL, Open_3417)(FILE** F_3420, NimStringDesc* Filename_3421, NU8 Mode_3422, NI Bufsize_3423) {
NIM_BOOL Result_3912;
void* P_3913;
NI32 LOC5;
TY442* E_3919;
NI32 LOC11;
Result_3912 = 0;
P_3913 = 0;
P_3913 = fopen(Filename_3421->data, Formatopen_3901[(Mode_3422)-0]->data);
Result_3912 = !((P_3913 == NIM_NIL));
(*F_3420) = ((FILE*) (P_3913));
if (!(0 < Bufsize_3423)) goto LA2;
LOC5 = setvbuf((*F_3420), NIM_NIL, _IOFBF, ((NI32) (Bufsize_3423)));
if (!!((LOC5 == ((NI32) 0)))) goto LA6;
E_3919 = 0;
E_3919 = (TY442*) newObj(NTI8062, sizeof(TY442));
(*E_3919).Sup.Sup.Sup.Sup.m_type = NTI442;
asgnRefNoCycle((void**) &(*E_3919).Sup.Sup.Sup.message, copyString(((NimStringDesc*) &TMP19924)));
raiseException((E_Base*)E_3919, "EOutOfMemory");
LA6: ;
goto LA1;
LA2: ;
if (!(Bufsize_3423 == 0)) goto LA9;
LOC11 = setvbuf((*F_3420), NIM_NIL, _IONBF, ((NI32) 0));
goto LA1;
LA9: ;
LA1: ;
return Result_3912;
}
N_NIMCALL(NI64, Getfilepos_3542)(FILE* F_3544) {
NI64 Result_4105;
NI LOC1;
TY420* E_4109;
Result_4105 = 0;
LOC1 = ftell(F_3544);
Result_4105 = ((NI64) (LOC1));
if (!(Result_4105 < 0)) goto LA3;
E_4109 = 0;
E_4109 = (TY420*) newObj(NTI4062, sizeof(TY420));
(*E_4109).Sup.Sup.Sup.Sup.m_type = NTI420;
asgnRefNoCycle((void**) &(*E_4109).Sup.Sup.Sup.message, copyString(((NimStringDesc*) &TMP19929)));
raiseException((E_Base*)E_4109, "EIO");
LA3: ;
return Result_4105;
}
N_NIMCALL(void, Setfilepos_3538)(FILE* F_3540, NI64 Pos_3541) {
NI LOC2;
TY420* E_4086;
LOC2 = fseek(F_3540, ((NI) (Pos_3541)), 0);
if (!!((LOC2 == 0))) goto LA3;
E_4086 = 0;
E_4086 = (TY420*) newObj(NTI4062, sizeof(TY420));
(*E_4086).Sup.Sup.Sup.Sup.m_type = NTI420;
asgnRefNoCycle((void**) &(*E_4086).Sup.Sup.Sup.message, copyString(((NimStringDesc*) &TMP19930)));
raiseException((E_Base*)E_4086, "EIO");
LA3: ;
}
N_NIMCALL(NI64, Getfilesize_3495)(FILE* F_3497) {
NI64 Result_4128;
NI64 Oldpos_4129;
NI LOC1;
Result_4128 = 0;
Oldpos_4129 = 0;
Oldpos_4129 = Getfilepos_3542(F_3497);
LOC1 = fseek(F_3497, 0, 2);
Result_4128 = Getfilepos_3542(F_3497);
Setfilepos_3538(F_3497, Oldpos_4129);
return Result_4128;
}
N_NIMCALL(NI, Readbuffer_3514)(FILE* F_3516, void* Buffer_3517, NI Len_3518) {
NI Result_3999;
Result_3999 = 0;
Result_3999 = fread(Buffer_3517, 1, Len_3518, F_3516);
return Result_3999;
}
static N_INLINE(void, popSafePoint)(void) {
excHandler = (*excHandler).prev;
}
static N_INLINE(E_Base*, getCurrentException)(void) {
E_Base* Result_19004;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "getCurrentException";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_19004 = 0;
F.line = 1582;F.filename = "system.nim";
Result_19004 = Currexception_4432;
framePtr = framePtr->prev;
return Result_19004;
}
static N_INLINE(void, popCurrentException)(void) {
asgnRef((void**) &Currexception_4432, (*Currexception_4432).parent);
}
N_NIMCALL(void, reraiseException)(void) {
TY452* E_5034;
if (!(Currexception_4432 == NIM_NIL)) goto LA2;
E_5034 = 0;
E_5034 = (TY452*) newObj(NTI5033, sizeof(TY452));
(*E_5034).Sup.Sup.Sup.m_type = NTI452;
asgnRefNoCycle((void**) &(*E_5034).Sup.Sup.message, copyString(((NimStringDesc*) &TMP19931)));
raiseException((E_Base*)E_5034, "ENoExceptionToReraise");
goto LA1;
LA2: ;
raiseException(Currexception_4432, (*Currexception_4432).name);
LA1: ;
}
N_NIMCALL(NimStringDesc*, Readfile_3447)(NimStringDesc* Filename_3449) {
NimStringDesc* Result_3857;
FILE* F_3858;
TSafePoint TMP19928;
NIM_BOOL LOC2;
NI64 volatile Len_3860;
NI LOC9;
Result_3857 = 0;
F_3858 = 0;
pushSafePoint(&TMP19928);
TMP19928.status = setjmp(TMP19928.context);
if (TMP19928.status == 0) {
LOC2 = Open_3417(&F_3858, Filename_3449, ((NU8) 0), -1);
if (!LOC2) goto LA3;
Len_3860 = 0;
Len_3860 = Getfilesize_3495(F_3858);
if (!(Len_3860 < 2147483647)) goto LA6;
Result_3857 = mnewString(((NI) (Len_3860)));
LOC9 = Readbuffer_3514(F_3858, ((void*) (&Result_3857->data[0])), ((NI) (Len_3860)));
if (!!((((NI64) (LOC9)) == Len_3860))) goto LA10;
Result_3857 = copyString(NIM_NIL);
LA10: ;
LA6: ;
fclose(F_3858);
goto LA1;
LA3: ;
Result_3857 = copyString(NIM_NIL);
LA1: ;
popSafePoint();
} else {
popSafePoint();
if (getCurrentException()->Sup.m_type == NTI420) {
Result_3857 = copyString(NIM_NIL);
TMP19928.status = 0;popCurrentException();}
}
if (TMP19928.status != 0) reraiseException();
return Result_3857;
}
N_NIMCALL(NIM_BOOL, Endoffile_3438)(FILE* F_3440) {
NIM_BOOL Result_3869;
NI32 C_3870;
Result_3869 = 0;
C_3870 = 0;
C_3870 = fgetc(F_3440);
ungetc(C_3870, F_3440);
Result_3869 = (C_3870 == ((NI32) -1));
goto BeforeRet;
BeforeRet: ;
return Result_3869;
}
N_NIMCALL(NIM_BOOL, Reopen_3430)(FILE* F_3432, NimStringDesc* Filename_3433, NU8 Mode_3434) {
NIM_BOOL Result_3942;
void* P_3943;
FILE* LOC1;
Result_3942 = 0;
P_3943 = 0;
LOC1 = freopen(Filename_3433->data, Formatopen_3901[(Mode_3434)-0]->data, F_3432);
P_3943 = ((void*) (LOC1));
Result_3942 = !((P_3943 == NIM_NIL));
return Result_3942;
}
N_NIMCALL(NIM_BOOL, Open_3424)(FILE** F_3427, NI32 Filehandle_3428, NU8 Mode_3429) {
NIM_BOOL Result_3962;
Result_3962 = 0;
(*F_3427) = fdopen(Filehandle_3428, Formatopen_3901[(Mode_3429)-0]->data);
Result_3962 = !(((*F_3427) == NIM_NIL));
return Result_3962;
}
N_NIMCALL(NI, Readbytes_3498)(FILE* F_3500, NI8* A_3503, NI A_3503Len0, NI Start_3504, NI Len_3505) {
NI Result_4008;
Result_4008 = 0;
Result_4008 = Readbuffer_3514(F_3500, ((void*) (&A_3503[Start_3504])), Len_3505);
return Result_4008;
}
N_NIMCALL(NI, Readchars_3506)(FILE* F_3508, NIM_CHAR* A_3511, NI A_3511Len0, NI Start_3512, NI Len_3513) {
NI Result_4018;
Result_4018 = 0;
Result_4018 = Readbuffer_3514(F_3508, ((void*) (&A_3511[Start_3512])), Len_3513);
return Result_4018;
}
N_NIMCALL(NI, Writebytes_3519)(FILE* F_3521, NI8* A_3523, NI A_3523Len0, NI Start_3524, NI Len_3525) {
NI Result_4027;
NI8* X_4031;
Result_4027 = 0;
X_4031 = 0;
X_4031 = ((NI8*) (A_3523));
Result_4027 = Writebuffer_3533(F_3521, ((void*) (&X_4031[(Start_3524)-0])), Len_3525);
return Result_4027;
}
N_NIMCALL(NI, Writechars_3526)(FILE* F_3528, NIM_CHAR* A_3530, NI A_3530Len0, NI Start_3531, NI Len_3532) {
NI Result_4040;
NI8* X_4044;
Result_4040 = 0;
X_4044 = 0;
X_4044 = ((NI8*) (A_3530));
Result_4040 = Writebuffer_3533(F_3528, ((void*) (&X_4044[(Start_3531)-0])), Len_3532);
return Result_4040;
}
N_NOINLINE(void, raiseOverflow)(void) {
EOverflow* E_5492;
E_5492 = 0;
E_5492 = (EOverflow*) newObj(NTI5491, sizeof(EOverflow));
(*E_5492).Sup.Sup.Sup.Sup.m_type = NTI432;
asgnRefNoCycle((void**) &(*E_5492).Sup.Sup.Sup.message, copyString(((NimStringDesc*) &TMP19937)));
raiseException((E_Base*)E_5492, "EOverflow");
}
static N_INLINE(NI, addInt)(NI A_5603, NI B_5604) {
NI Result_5605;
NIM_BOOL LOC2;
Result_5605 = 0;
Result_5605 = (NI32)((NU32)(A_5603) + (NU32)(B_5604));
LOC2 = (0 <= (NI32)(Result_5605 ^ A_5603));
if (LOC2) goto LA3;
LOC2 = (0 <= (NI32)(Result_5605 ^ B_5604));
LA3: ;
if (!LOC2) goto LA4;
goto BeforeRet;
LA4: ;
raiseOverflow();
BeforeRet: ;
return Result_5605;
}
N_NIMCALL(NI, mulInt)(NI A_6603, NI B_6604) {
NI Result_6605;
NF Resasfloat_6606;
NF Floatprod_6607;
Result_6605 = 0;
Resasfloat_6606 = 0;
Floatprod_6607 = 0;
Result_6605 = (NI32)((NU32)(A_6603) * (NU32)(B_6604));
Floatprod_6607 = (((double) (A_6603)) * ((double) (B_6604)));
Resasfloat_6606 = ((double) (Result_6605));
if (!(Resasfloat_6606 == Floatprod_6607)) goto LA2;
goto BeforeRet;
LA2: ;
if (!((32.0000 * ((Resasfloat_6606 - Floatprod_6607) > 0? ((Resasfloat_6606 - Floatprod_6607)) : -((Resasfloat_6606 - Floatprod_6607)))) <= (Floatprod_6607 > 0? (Floatprod_6607) : -(Floatprod_6607)))) goto LA5;
goto BeforeRet;
LA5: ;
raiseOverflow();
BeforeRet: ;
return Result_6605;
}
N_NIMCALL(void*, newSeq)(TNimType* Typ_12604, NI Len_12605) {
void* Result_12606;
NI LOC1;
NI LOC2;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "newSeq";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_12606 = 0;
F.line = 363;F.filename = "gc.nim";
LOC1 = mulInt(Len_12605, (*(*Typ_12604).base).size);
LOC2 = addInt(LOC1, 8);
Result_12606 = newObj(Typ_12604, LOC2);
F.line = 364;F.filename = "gc.nim";
(*((TGenericSeq*) (Result_12606))).len = Len_12605;
F.line = 365;F.filename = "gc.nim";
(*((TGenericSeq*) (Result_12606))).space = Len_12605;
framePtr = framePtr->prev;
return Result_12606;
}
N_NIMCALL(TY4177*, Cstringarraytoseq_4173)(NCSTRING* A_4175, NI Len_4176) {
TY4177* Result_4178;
NI I_4213;
NI HEX3Atmp_19612;
NI Res_19614;
Result_4178 = 0;
Result_4178 = (TY4177*) newSeq(NTI4177, Len_4176);
I_4213 = 0;
HEX3Atmp_19612 = 0;
HEX3Atmp_19612 = (NI32)(Len_4176 - 1);
Res_19614 = 0;
Res_19614 = 0;
while (1) {
if (!(Res_19614 <= HEX3Atmp_19612)) goto LA1;
I_4213 = Res_19614;
asgnRefNoCycle((void**) &Result_4178->data[I_4213], cstrToNimstr(A_4175[(I_4213)-0]));
Res_19614 += 1;
} LA1: ;
return Result_4178;
}
N_NIMCALL(TY4177*, Cstringarraytoseq_4214)(NCSTRING* A_4216) {
TY4177* Result_4218;
NI L_4219;
Result_4218 = 0;
L_4219 = 0;
L_4219 = 0;
while (1) {
if (!!((A_4216[(L_4219)-0] == NIM_NIL))) goto LA1;
L_4219 += 1;
} LA1: ;
Result_4218 = Cstringarraytoseq_4173(A_4216, L_4219);
return Result_4218;
}
N_NIMCALL(void, internalAssert)(NCSTRING File_5054, NI Line_5055, NIM_BOOL Cond_5056) {
NimStringDesc* LOC7;
if (!!(Cond_5056)) goto LA2;
Gcdisable_2463();
if (!!(Assertbuf_4454 == 0)) goto LA5;
Assertbuf_4454 = setLengthStr(Assertbuf_4454, 0);
Assertbuf_4454 = resizeString(Assertbuf_4454, 26);
appendString(Assertbuf_4454, ((NimStringDesc*) &TMP19938));
Add_2522(&Assertbuf_4454, File_5054);
Assertbuf_4454 = resizeString(Assertbuf_4454, 7);
appendString(Assertbuf_4454, ((NimStringDesc*) &TMP19939));
LOC7 = 0;
LOC7 = nimIntToStr(Line_5055);
Assertbuf_4454 = resizeString(Assertbuf_4454, LOC7->Sup.len + 0);
appendString(Assertbuf_4454, LOC7);
Assertbuf_4454 = resizeString(Assertbuf_4454, 2);
appendString(Assertbuf_4454, ((NimStringDesc*) &TMP19912));
asgnRefNoCycle((void**) &(*Gassertionfailed_5051).Sup.Sup.message, copyString(Assertbuf_4454));
LA5: ;
Gcenable_2465();
if (!!((Gassertionfailed_5051 == NIM_NIL))) goto LA9;
raiseException((E_Base*)Gassertionfailed_5051, "EAssertionFailed");
goto LA8;
LA9: ;
fprintf(stdout, "Assertion failure: file %s line %ld\015\012", File_5054, Line_5055);
exit(1);
LA8: ;
LA2: ;
}
N_NIMCALL(void, Writestacktrace_5071)(void) {
NimStringDesc* S_5073;
S_5073 = 0;
S_5073 = copyString(((NimStringDesc*) &TMP19925));
Rawwritestacktrace_4643(&S_5073);
Writetostderr_4232(S_5073->data);
}
N_NOCONV(void, signalHandler)(NI32 Sig_5078) {
NI32 S_5079;
S_5079 = 0;
S_5079 = Sig_5078;
Gcdisable_2463();
Buf_4453 = setLengthStr(Buf_4453, 0);
Rawwritestacktrace_4643(&Buf_4453);
if (!(S_5079 == SIGINT)) goto LA2;
Buf_4453 = resizeString(Buf_4453, 32);
appendString(Buf_4453, ((NimStringDesc*) &TMP19940));
goto LA1;
LA2: ;
if (!(S_5079 == SIGSEGV)) goto LA4;
Buf_4453 = resizeString(Buf_4453, 62);
appendString(Buf_4453, ((NimStringDesc*) &TMP19941));
goto LA1;
LA4: ;
if (!(S_5079 == SIGABRT)) goto LA6;
if (!Dbgaborting_5075) goto LA9;
goto BeforeRet;
LA9: ;
Buf_4453 = resizeString(Buf_4453, 32);
appendString(Buf_4453, ((NimStringDesc*) &TMP19942));
goto LA1;
LA6: ;
if (!(S_5079 == SIGFPE)) goto LA11;
Buf_4453 = resizeString(Buf_4453, 27);
appendString(Buf_4453, ((NimStringDesc*) &TMP19943));
goto LA1;
LA11: ;
if (!(S_5079 == SIGILL)) goto LA13;
Buf_4453 = resizeString(Buf_4453, 28);
appendString(Buf_4453, ((NimStringDesc*) &TMP19944));
goto LA1;
LA13: ;
if (!(S_5079 == SIGSEGV)) goto LA15;
Buf_4453 = resizeString(Buf_4453, 61);
appendString(Buf_4453, ((NimStringDesc*) &TMP19945));
goto LA1;
LA15: ;
Buf_4453 = resizeString(Buf_4453, 16);
appendString(Buf_4453, ((NimStringDesc*) &TMP19946));
LA1: ;
Writetostderr_4232(Buf_4453->data);
Dbgaborting_5075 = NIM_TRUE;
Gcenable_2465();
exit(1);
BeforeRet: ;
}
N_NIMCALL(void, registerSignalHandler)(void) {
signal(SIGINT, signalHandler);
signal(SIGSEGV, signalHandler);
signal(SIGABRT, signalHandler);
signal(SIGFPE, signalHandler);
signal(SIGILL, signalHandler);
signal(SIGSEGV, signalHandler);
}
N_NIMCALL(NimStringDesc*, nimInt64ToStr)(NI64 X_17867) {
NimStringDesc* Result_17868;
NI I_17869;
NI64 Y_17870;
NI64 D_17871;
NI J_17912;
NI HEX3Atmp_19819;
NI Res_19821;
NIM_CHAR LOC9;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "nimInt64ToStr";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/sysstr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_17868 = 0;
F.line = 253;F.filename = "sysstr.nim";
Result_17868 = mnewString(32);
I_17869 = 0;
F.line = 254;F.filename = "sysstr.nim";
I_17869 = 0;
Y_17870 = 0;
F.line = 255;F.filename = "sysstr.nim";
Y_17870 = X_17867;
F.line = 256;F.filename = "sysstr.nim";
while (1) {
D_17871 = 0;
F.line = 257;F.filename = "sysstr.nim";
D_17871 = (NI64)(Y_17870 / 10);
F.line = 258;F.filename = "sysstr.nim";
Result_17868->data[I_17869] = ((NIM_CHAR) (((NI) ((NI32)((NI32)abs(((NI) ((NI64)(Y_17870 - (NI64)(D_17871 * 10))))) + 48)))));
F.line = 259;F.filename = "sysstr.nim";
I_17869 += 1;
F.line = 260;F.filename = "sysstr.nim";
Y_17870 = D_17871;
F.line = 261;F.filename = "sysstr.nim";
if (!(Y_17870 == 0)) goto LA3;
F.line = 261;F.filename = "sysstr.nim";
goto LA1;
LA3: ;
} LA1: ;
F.line = 262;F.filename = "sysstr.nim";
if (!(X_17867 < 0)) goto LA6;
F.line = 263;F.filename = "sysstr.nim";
Result_17868->data[I_17869] = 45;
F.line = 264;F.filename = "sysstr.nim";
I_17869 += 1;
LA6: ;
F.line = 265;F.filename = "sysstr.nim";
Result_17868 = setLengthStr(Result_17868, I_17869);
J_17912 = 0;
HEX3Atmp_19819 = 0;
F.line = 267;F.filename = "sysstr.nim";
HEX3Atmp_19819 = (NI32)((NI32)(I_17869 / 2) - 1);
Res_19821 = 0;
F.line = 1019;F.filename = "system.nim";
Res_19821 = 0;
F.line = 1020;F.filename = "system.nim";
while (1) {
if (!(Res_19821 <= HEX3Atmp_19819)) goto LA8;
F.line = 1019;F.filename = "system.nim";
J_17912 = Res_19821;
F.line = 268;F.filename = "sysstr.nim";
LOC9 = Result_17868->data[J_17912];
Result_17868->data[J_17912] = Result_17868->data[(NI32)((NI32)(I_17869 - J_17912) - 1)];
Result_17868->data[(NI32)((NI32)(I_17869 - J_17912) - 1)] = LOC9;
F.line = 1022;F.filename = "system.nim";
Res_19821 += 1;
} LA8: ;
framePtr = framePtr->prev;
return Result_17868;
}
N_NOINLINE(void, raiseRangeError)(NI64 Val_5218) {
TY448* E_5220;
NimStringDesc* LOC2;
NimStringDesc* LOC3;
E_5220 = 0;
E_5220 = (TY448*) newObj(NTI5219, sizeof(TY448));
(*E_5220).Sup.Sup.Sup.m_type = NTI448;
LOC2 = 0;
LOC3 = 0;
LOC3 = nimInt64ToStr(Val_5218);
LOC2 = rawNewString(LOC3->Sup.len + 19);
appendString(LOC2, ((NimStringDesc*) &TMP19947));
appendString(LOC2, LOC3);
appendString(LOC2, ((NimStringDesc*) &TMP19948));
asgnRefNoCycle((void**) &(*E_5220).Sup.Sup.message, LOC2);
raiseException((E_Base*)E_5220, "EOutOfRange");
}
N_NOINLINE(void, raiseIndexError)(void) {
TY444* E_5257;
E_5257 = 0;
E_5257 = (TY444*) newObj(NTI5256, sizeof(TY444));
(*E_5257).Sup.Sup.Sup.m_type = NTI444;
asgnRefNoCycle((void**) &(*E_5257).Sup.Sup.message, copyString(((NimStringDesc*) &TMP19949)));
raiseException((E_Base*)E_5257, "EInvalidIndex");
}
N_NOINLINE(void, raiseFieldError)(NimStringDesc* F_5275) {
TY446* E_5277;
NimStringDesc* LOC2;
E_5277 = 0;
E_5277 = (TY446*) newObj(NTI5276, sizeof(TY446));
(*E_5277).Sup.Sup.Sup.m_type = NTI446;
LOC2 = 0;
LOC2 = rawNewString(F_5275->Sup.len + 18);
appendString(LOC2, F_5275);
appendString(LOC2, ((NimStringDesc*) &TMP19950));
asgnRefNoCycle((void**) &(*E_5277).Sup.Sup.message, LOC2);
raiseException((E_Base*)E_5277, "EInvalidField");
}
static N_INLINE(NI, chckIndx)(NI I_4405, NI A_4406, NI B_4407) {
NI Result_5306;
NIM_BOOL LOC2;
Result_5306 = 0;
LOC2 = (A_4406 <= I_4405);
if (!(LOC2)) goto LA3;
LOC2 = (I_4405 <= B_4407);
LA3: ;
if (!LOC2) goto LA4;
Result_5306 = I_4405;
goto BeforeRet;
goto LA1;
LA4: ;
raiseIndexError();
LA1: ;
BeforeRet: ;
return Result_5306;
}
static N_INLINE(NI, chckRange)(NI I_4410, NI A_4411, NI B_4412) {
NI Result_5316;
NIM_BOOL LOC2;
Result_5316 = 0;
LOC2 = (A_4411 <= I_4410);
if (!(LOC2)) goto LA3;
LOC2 = (I_4410 <= B_4412);
LA3: ;
if (!LOC2) goto LA4;
Result_5316 = I_4410;
goto BeforeRet;
goto LA1;
LA4: ;
raiseRangeError(((NI64) (I_4410)));
LA1: ;
BeforeRet: ;
return Result_5316;
}
N_NIMCALL(NI64, chckRange64)(NI64 I_5323, NI64 A_5324, NI64 B_5325) {
NI64 Result_5326;
NIM_BOOL LOC2;
Result_5326 = 0;
LOC2 = (A_5324 <= I_5323);
if (!(LOC2)) goto LA3;
LOC2 = (I_5323 <= B_5325);
LA3: ;
if (!LOC2) goto LA4;
Result_5326 = I_5323;
goto BeforeRet;
goto LA1;
LA4: ;
raiseRangeError(I_5323);
LA1: ;
BeforeRet: ;
return Result_5326;
}
N_NIMCALL(NimStringDesc*, nimFloatToStr)(NF X_17860) {
NimStringDesc* Result_17861;
TY17862 Buf_17864;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "nimFloatToStr";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/sysstr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_17861 = 0;
memset((void*)&Buf_17864, 0, sizeof(Buf_17864));
F.line = 247;F.filename = "sysstr.nim";
sprintf(((NCSTRING) (Buf_17864)), "%#g", X_17860);
F.line = 248;F.filename = "sysstr.nim";
F.line = 248;F.filename = "sysstr.nim";
Result_17861 = cstrToNimstr(((NCSTRING) (Buf_17864)));
goto BeforeRet;
BeforeRet: ;
framePtr = framePtr->prev;
return Result_17861;
}
static N_INLINE(NF, chckRangeF)(NF X_4415, NF A_4416, NF B_4417) {
NF Result_5336;
NIM_BOOL LOC2;
TY448* E_5338;
NimStringDesc* LOC7;
NimStringDesc* LOC8;
Result_5336 = 0;
LOC2 = (A_4416 <= X_4415);
if (!(LOC2)) goto LA3;
LOC2 = (X_4415 <= B_4417);
LA3: ;
if (!LOC2) goto LA4;
Result_5336 = X_4415;
goto BeforeRet;
goto LA1;
LA4: ;
E_5338 = 0;
E_5338 = (TY448*) newObj(NTI5219, sizeof(TY448));
(*E_5338).Sup.Sup.Sup.m_type = NTI448;
LOC7 = 0;
LOC8 = 0;
LOC8 = nimFloatToStr(X_4415);
LOC7 = rawNewString(LOC8->Sup.len + 19);
appendString(LOC7, ((NimStringDesc*) &TMP19947));
appendString(LOC7, LOC8);
appendString(LOC7, ((NimStringDesc*) &TMP19948));
asgnRefNoCycle((void**) &(*E_5338).Sup.Sup.message, LOC7);
raiseException((E_Base*)E_5338, "EOutOfRange");
LA1: ;
BeforeRet: ;
return Result_5336;
}
static N_INLINE(void, chckNil)(void* P_4420) {
if (!(P_4420 == NIM_NIL)) goto LA2;
raise(SIGSEGV);
LA2: ;
}
N_NIMCALL(void, chckObj)(TNimType* Obj_5375, TNimType* Subclass_5376) {
TNimType* X_5377;
TY456* E_5408;
X_5377 = 0;
X_5377 = Obj_5375;
if (!(X_5377 == Subclass_5376)) goto LA2;
goto BeforeRet;
LA2: ;
while (1) {
if (!!((X_5377 == Subclass_5376))) goto LA4;
if (!(X_5377 == NIM_NIL)) goto LA6;
E_5408 = 0;
E_5408 = (TY456*) newObj(NTI5407, sizeof(TY456));
(*E_5408).Sup.Sup.Sup.m_type = NTI456;
asgnRefNoCycle((void**) &(*E_5408).Sup.Sup.message, copyString(((NimStringDesc*) &TMP19951)));
raiseException((E_Base*)E_5408, "EInvalidObjectConversion");
LA6: ;
X_5377 = (*X_5377).base;
} LA4: ;
BeforeRet: ;
}
static N_INLINE(void, chckObjAsgn)(TNimType* A_5426, TNimType* B_5427) {
TY454* E_5438;
if (!!((A_5426 == B_5427))) goto LA2;
E_5438 = 0;
E_5438 = (TY454*) newObj(NTI5437, sizeof(TY454));
(*E_5438).Sup.Sup.Sup.m_type = NTI454;
asgnRefNoCycle((void**) &(*E_5438).Sup.Sup.message, copyString(((NimStringDesc*) &TMP19952)));
raiseException((E_Base*)E_5438, "EInvalidObjectAssignment");
LA2: ;
}
N_NIMCALL(NIM_BOOL, isObj)(TNimType* Obj_5456, TNimType* Subclass_5457) {
NIM_BOOL Result_5458;
TNimType* X_5459;
Result_5458 = 0;
X_5459 = 0;
X_5459 = Obj_5456;
if (!(X_5459 == Subclass_5457)) goto LA2;
Result_5458 = NIM_TRUE;
goto BeforeRet;
LA2: ;
while (1) {
if (!!((X_5459 == Subclass_5457))) goto LA4;
if (!(X_5459 == NIM_NIL)) goto LA6;
Result_5458 = NIM_FALSE;
goto BeforeRet;
LA6: ;
X_5459 = (*X_5459).base;
} LA4: ;
Result_5458 = NIM_TRUE;
goto BeforeRet;
BeforeRet: ;
return Result_5458;
}
N_NOINLINE(void, raiseDivByZero)(void) {
EDivByZero* E_5511;
E_5511 = 0;
E_5511 = (EDivByZero*) newObj(NTI5510, sizeof(EDivByZero));
(*E_5511).Sup.Sup.Sup.Sup.m_type = NTI430;
asgnRefNoCycle((void**) &(*E_5511).Sup.Sup.Sup.message, copyString(((NimStringDesc*) &TMP19953)));
raiseException((E_Base*)E_5511, "EDivByZero");
}
static N_INLINE(NI64, addInt64)(NI64 A_5529, NI64 B_5530) {
NI64 Result_5531;
NIM_BOOL LOC2;
Result_5531 = 0;
Result_5531 = (NI64)((NU64)(A_5529) + (NU64)(B_5530));
LOC2 = (0 <= (Result_5531 ^ A_5529));
if (LOC2) goto LA3;
LOC2 = (0 <= (Result_5531 ^ B_5530));
LA3: ;
if (!LOC2) goto LA4;
goto BeforeRet;
LA4: ;
raiseOverflow();
BeforeRet: ;
return Result_5531;
}
static N_INLINE(NI64, subInt64)(NI64 A_5538, NI64 B_5539) {
NI64 Result_5540;
NIM_BOOL LOC2;
Result_5540 = 0;
Result_5540 = (NI64)((NU64)(A_5538) - (NU64)(B_5539));
LOC2 = (0 <= (Result_5540 ^ A_5538));
if (LOC2) goto LA3;
LOC2 = (0 <= (Result_5540 ^ ~(B_5539)));
LA3: ;
if (!LOC2) goto LA4;
goto BeforeRet;
LA4: ;
raiseOverflow();
BeforeRet: ;
return Result_5540;
}
static N_INLINE(NI64, negInt64)(NI64 A_5547) {
NI64 Result_5548;
Result_5548 = 0;
if (!!((A_5547 == (IL64(-9223372036854775807) - IL64(1))))) goto LA2;
Result_5548 = -(A_5547);
goto BeforeRet;
LA2: ;
raiseOverflow();
BeforeRet: ;
return Result_5548;
}
static N_INLINE(NI64, absInt64)(NI64 A_5553) {
NI64 Result_5554;
Result_5554 = 0;
if (!!((A_5553 == (IL64(-9223372036854775807) - IL64(1))))) goto LA2;
if (!(0 <= A_5553)) goto LA5;
Result_5554 = A_5553;
goto BeforeRet;
goto LA4;
LA5: ;
Result_5554 = -(A_5553);
goto BeforeRet;
LA4: ;
LA2: ;
raiseOverflow();
BeforeRet: ;
return Result_5554;
}
static N_INLINE(NI64, divInt64)(NI64 A_5561, NI64 B_5562) {
NI64 Result_5563;
NIM_BOOL LOC5;
Result_5563 = 0;
if (!(B_5562 == 0)) goto LA2;
raiseDivByZero();
LA2: ;
LOC5 = (A_5561 == (IL64(-9223372036854775807) - IL64(1)));
if (!(LOC5)) goto LA6;
LOC5 = (B_5562 == -1);
LA6: ;
if (!LOC5) goto LA7;
raiseOverflow();
LA7: ;
Result_5563 = (NI64)(A_5561 / B_5562);
goto BeforeRet;
BeforeRet: ;
return Result_5563;
}
static N_INLINE(NI64, modInt64)(NI64 A_5572, NI64 B_5573) {
NI64 Result_5574;
Result_5574 = 0;
if (!(B_5573 == 0)) goto LA2;
raiseDivByZero();
LA2: ;
Result_5574 = (NI64)(A_5572 % B_5573);
goto BeforeRet;
BeforeRet: ;
return Result_5574;
}
N_NIMCALL(NI64, mulInt64)(NI64 A_5579, NI64 B_5580) {
NI64 Result_5581;
NF64 Resasfloat_5582;
NF64 Floatprod_5583;
Result_5581 = 0;
Resasfloat_5582 = 0;
Floatprod_5583 = 0;
Result_5581 = (NI64)((NU64)(A_5579) * (NU64)(B_5580));
Floatprod_5583 = ((double) (A_5579));
Floatprod_5583 = ((NF64) ((((NF) (Floatprod_5583)) * ((NF) (((double) (B_5580)))))));
Resasfloat_5582 = ((double) (Result_5581));
if (!(((NF) (Resasfloat_5582)) == ((NF) (Floatprod_5583)))) goto LA2;
goto BeforeRet;
LA2: ;
if (!((32.0000 * ((((NF) (Resasfloat_5582)) - ((NF) (Floatprod_5583))) > 0? ((((NF) (Resasfloat_5582)) - ((NF) (Floatprod_5583)))) : -((((NF) (Resasfloat_5582)) - ((NF) (Floatprod_5583)))))) <= (((NF) (Floatprod_5583)) > 0? (((NF) (Floatprod_5583))) : -(((NF) (Floatprod_5583)))))) goto LA5;
goto BeforeRet;
LA5: ;
raiseOverflow();
BeforeRet: ;
return Result_5581;
}
static N_INLINE(NI, absInt)(NI A_5586) {
NI Result_5587;
Result_5587 = 0;
if (!!((A_5586 == (-2147483647 -1)))) goto LA2;
if (!(0 <= A_5586)) goto LA5;
Result_5587 = A_5586;
goto BeforeRet;
goto LA4;
LA5: ;
Result_5587 = ((NI32)-(A_5586));
goto BeforeRet;
LA4: ;
LA2: ;
raiseOverflow();
BeforeRet: ;
return Result_5587;
}
static N_INLINE(NI, subInt)(NI A_5803, NI B_5804) {
NI Result_5805;
NIM_BOOL LOC2;
Result_5805 = 0;
Result_5805 = (NI32)((NU32)(A_5803) - (NU32)(B_5804));
LOC2 = (0 <= (NI32)(Result_5805 ^ A_5803));
if (LOC2) goto LA3;
LOC2 = (0 <= (NI32)(Result_5805 ^ (NI32)((NU32) ~(B_5804))));
LA3: ;
if (!LOC2) goto LA4;
goto BeforeRet;
LA4: ;
raiseOverflow();
BeforeRet: ;
return Result_5805;
}
static N_INLINE(NI, negInt)(NI A_6003) {
NI Result_6004;
Result_6004 = 0;
if (!!((A_6003 == (-2147483647 -1)))) goto LA2;
Result_6004 = ((NI32)-(A_6003));
goto BeforeRet;
LA2: ;
raiseOverflow();
BeforeRet: ;
return Result_6004;
}
static N_INLINE(NI, divInt)(NI A_6203, NI B_6204) {
NI Result_6205;
NIM_BOOL LOC5;
Result_6205 = 0;
if (!(B_6204 == 0)) goto LA2;
raiseDivByZero();
LA2: ;
LOC5 = (A_6203 == (-2147483647 -1));
if (!(LOC5)) goto LA6;
LOC5 = (B_6204 == -1);
LA6: ;
if (!LOC5) goto LA7;
raiseOverflow();
LA7: ;
Result_6205 = (NI32)(A_6203 / B_6204);
goto BeforeRet;
BeforeRet: ;
return Result_6205;
}
static N_INLINE(NI, modInt)(NI A_6403, NI B_6404) {
NI Result_6405;
Result_6405 = 0;
if (!(B_6404 == 0)) goto LA2;
raiseDivByZero();
LA2: ;
Result_6405 = (NI32)(A_6403 % B_6404);
goto BeforeRet;
BeforeRet: ;
return Result_6405;
}
N_NOINLINE(void, Raisefloatinvalidop_6801)(void) {
EFloatInvalidOp* E_6804;
E_6804 = 0;
E_6804 = (EFloatInvalidOp*) newObj(NTI6803, sizeof(EFloatInvalidOp));
(*E_6804).Sup.Sup.Sup.Sup.m_type = NTI460;
asgnRefNoCycle((void**) &(*E_6804).Sup.Sup.Sup.message, copyString(((NimStringDesc*) &TMP19954)));
raiseException((E_Base*)E_6804, "EFloatInvalidOp");
}
static N_INLINE(void, nanCheck)(NF64 X_6822) {
if (!!((((NF) (X_6822)) == ((NF) (X_6822))))) goto LA2;
Raisefloatinvalidop_6801();
LA2: ;
}
N_NOINLINE(void, Raisefloatoverflow_6823)(NF64 X_6825) {
EFloatOverflow* E_6827;
EFloatUnderflow* E_6844;
if (!(0.00000 < ((NF) (X_6825)))) goto LA2;
E_6827 = 0;
E_6827 = (EFloatOverflow*) newObj(NTI6826, sizeof(EFloatOverflow));
(*E_6827).Sup.Sup.Sup.Sup.m_type = NTI464;
asgnRefNoCycle((void**) &(*E_6827).Sup.Sup.Sup.message, copyString(((NimStringDesc*) &TMP19955)));
raiseException((E_Base*)E_6827, "EFloatOverflow");
goto LA1;
LA2: ;
E_6844 = 0;
E_6844 = (EFloatUnderflow*) newObj(NTI6843, sizeof(EFloatUnderflow));
(*E_6844).Sup.Sup.Sup.Sup.m_type = NTI466;
asgnRefNoCycle((void**) &(*E_6844).Sup.Sup.Sup.message, copyString(((NimStringDesc*) &TMP19956)));
raiseException((E_Base*)E_6844, "EFloatUnderflow");
LA1: ;
}
static N_INLINE(void, infCheck)(NF64 X_6862) {
NIM_BOOL LOC2;
LOC2 = !((((NF) (X_6862)) == 0.00000));
if (!(LOC2)) goto LA3;
LOC2 = ((((NF) (X_6862)) * 0.500000) == ((NF) (X_6862)));
LA3: ;
if (!LOC2) goto LA4;
Raisefloatoverflow_6823(X_6862);
LA4: ;
}
N_NIMCALL(void, nimUnloadLibrary)(void* Lib_1614) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "nimUnloadLibrary";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/dyncalls.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 93;F.filename = "dyncalls.nim";
FreeLibrary(((void*) (Lib_1614)));
framePtr = framePtr->prev;
}
N_NIMCALL(NI, countBits32)(NI32 N_7006) {
NI Result_7007;
NI32 V_7008;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "countBits32";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/sets.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_7007 = 0;
V_7008 = 0;
F.line = 16;F.filename = "sets.nim";
V_7008 = N_7006;
F.line = 17;F.filename = "sets.nim";
V_7008 = (NI32)((NU32)(V_7008) - (NU32)((NI32)((NI32)((NU32)(V_7008) >> (NU32)(((NI32) 1))) & ((NI32) 1431655765))));
F.line = 18;F.filename = "sets.nim";
V_7008 = (NI32)((NU32)((NI32)(V_7008 & ((NI32) 858993459))) + (NU32)((NI32)((NI32)((NU32)(V_7008) >> (NU32)(((NI32) 2))) & ((NI32) 858993459))));
F.line = 19;F.filename = "sets.nim";
Result_7007 = ((NI) ((NI32)((NU32)((NI32)((NU32)((NI32)((NI32)((NU32)(V_7008) + (NU32)((NI32)((NU32)(V_7008) >> (NU32)(((NI32) 4))))) & ((NI32) 252645135))) * (NU32)(((NI32) 16843009)))) >> (NU32)(((NI32) 24)))));
framePtr = framePtr->prev;
return Result_7007;
}
N_NIMCALL(NI, countBits64)(NI64 N_7011) {
NI Result_7012;
NI LOC1;
NI LOC2;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "countBits64";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/sets.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_7012 = 0;
F.line = 22;F.filename = "sets.nim";
LOC1 = countBits32(((NI32)(NU32)(NU64)((N_7011 & 65535))));
LOC2 = countBits32(((NI32)(NU32)(NU64)((NI64)((NU64)(N_7011) >> (NU64)(16)))));
Result_7012 = (NI32)(LOC1 + LOC2);
framePtr = framePtr->prev;
return Result_7012;
}
N_NIMCALL(NI, cardSet)(TY7002 S_7015, NI Len_7016) {
NI Result_7017;
NI I_7025;
NI HEX3Atmp_19646;
NI Res_19648;
NI LOC2;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "cardSet";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/sets.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_7017 = 0;
F.line = 26;F.filename = "sets.nim";
Result_7017 = 0;
I_7025 = 0;
HEX3Atmp_19646 = 0;
F.line = 27;F.filename = "sets.nim";
HEX3Atmp_19646 = (NI32)(Len_7016 - 1);
Res_19648 = 0;
F.line = 1019;F.filename = "system.nim";
Res_19648 = 0;
F.line = 1020;F.filename = "system.nim";
while (1) {
if (!(Res_19648 <= HEX3Atmp_19646)) goto LA1;
F.line = 1019;F.filename = "system.nim";
I_7025 = Res_19648;
F.line = 28;F.filename = "sets.nim";
LOC2 = countBits32(((NI32) (((NI)(NU)(NU8)(S_7015[(I_7025)-0])))));
Result_7017 += LOC2;
F.line = 1022;F.filename = "system.nim";
Res_19648 += 1;
} LA1: ;
framePtr = framePtr->prev;
return Result_7017;
}
N_NIMCALL(void, Createthread_8010)(TY8002* T_8013, TY8004 Fn_8014) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "createThread";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/systhread.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
framePtr = framePtr->prev;
}
N_NIMCALL(void, Destroythread_8015)(TY8002* T_8018) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "destroyThread";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/systhread.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
framePtr = framePtr->prev;
}
N_NIMCALL(NI, Getmaxmem_8522)(TY8474* A_8525) {
NI Result_8526;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "getMaxMem";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/alloc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_8526 = 0;
F.line = 169;F.filename = "alloc.nim";
F.line = 169;F.filename = "alloc.nim";
Result_8526 = (((*A_8525).Currmem >= (*A_8525).Maxmem) ? (*A_8525).Currmem : (*A_8525).Maxmem);
goto BeforeRet;
BeforeRet: ;
framePtr = framePtr->prev;
return Result_8526;
}
N_NIMCALL(NIM_BOOL, Containsorincl_8656)(TY8411* S_8659, NI Key_8660) {
NIM_BOOL Result_8661;
TY8407* T_8662;
NI U_8674;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "ContainsOrIncl";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/alloc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_8661 = 0;
T_8662 = 0;
F.line = 224;F.filename = "alloc.nim";
T_8662 = Intsetget_8574(&(*S_8659), (NI32)((NU32)(Key_8660) >> (NU32)(9)));
F.line = 225;F.filename = "alloc.nim";
if (!!((T_8662 == NIM_NIL))) goto LA2;
U_8674 = 0;
F.line = 226;F.filename = "alloc.nim";
U_8674 = (NI32)(Key_8660 & 511);
F.line = 227;F.filename = "alloc.nim";
Result_8661 = !(((NI32)((*T_8662).Bits[((NI32)((NU32)(U_8674) >> (NU32)(5)))-0] & (NI32)((NU32)(1) << (NU32)((NI32)(U_8674 & 31)))) == 0));
F.line = 228;F.filename = "alloc.nim";
if (!!(Result_8661)) goto LA5;
F.line = 229;F.filename = "alloc.nim";
(*T_8662).Bits[((NI32)((NU32)(U_8674) >> (NU32)(5)))-0] = (NI32)((*T_8662).Bits[((NI32)((NU32)(U_8674) >> (NU32)(5)))-0] | (NI32)((NU32)(1) << (NU32)((NI32)(U_8674 & 31))));
LA5: ;
goto LA1;
LA2: ;
F.line = 232;F.filename = "alloc.nim";
Incl_8631(S_8659, Key_8660);
F.line = 233;F.filename = "alloc.nim";
Result_8661 = NIM_FALSE;
LA1: ;
framePtr = framePtr->prev;
return Result_8661;
}
N_NIMCALL(void, Writefreelist_8767)(TY8474* A_8769) {
TY8434* It_8770;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "writeFreeList";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/alloc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
It_8770 = 0;
F.line = 300;F.filename = "alloc.nim";
It_8770 = (*A_8769).Freechunkslist;
F.line = 301;F.filename = "alloc.nim";
fprintf(stdout, "freeChunksList: %p\015\012", It_8770);
F.line = 302;F.filename = "alloc.nim";
while (1) {
if (!!((It_8770 == NIM_NIL))) goto LA1;
F.line = 303;F.filename = "alloc.nim";
fprintf(stdout, "it: %p, next: %p, prev: %p\015\012", It_8770, (*It_8770).Next, (*It_8770).Prev);
F.line = 305;F.filename = "alloc.nim";
It_8770 = (*It_8770).Next;
} LA1: ;
framePtr = framePtr->prev;
}
static N_INLINE(NI, Getcellsize_9390)(void* P_9392) {
NI Result_9393;
TY8430* C_9394;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "getCellSize";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/alloc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_9393 = 0;
C_9394 = 0;
F.line = 432;F.filename = "alloc.nim";
C_9394 = Pageaddr_8685(P_9392);
F.line = 433;F.filename = "alloc.nim";
Result_9393 = (*C_9394).Size;
framePtr = framePtr->prev;
return Result_9393;
}
N_NIMCALL(NI, Ptrsize_10033)(void* P_10035) {
NI Result_10036;
void* X_10037;
TY8430* LOC1;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "ptrSize";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/alloc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_10036 = 0;
X_10037 = 0;
F.line = 552;F.filename = "alloc.nim";
X_10037 = ((void*) ((NI32)((NU32)(((NI) (P_10035))) - (NU32)(((NI)sizeof(TY8422))))));
F.line = 553;F.filename = "alloc.nim";
LOC1 = Pageaddr_8685(X_10037);
Result_10036 = (NI32)((*LOC1).Size - ((NI)sizeof(TY8422)));
framePtr = framePtr->prev;
return Result_10036;
}
N_NOCONV(void*, Realloc_1780)(void* P_1782, NI Newsize_1783) {
void* Result_10042;
NI LOC7;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "realloc";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/alloc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_10042 = 0;
F.line = 556;F.filename = "alloc.nim";
if (!(0 < Newsize_1783)) goto LA2;
F.line = 557;F.filename = "alloc.nim";
Result_10042 = Alloc_1774(Newsize_1783);
F.line = 558;F.filename = "alloc.nim";
if (!!((P_1782 == NIM_NIL))) goto LA5;
F.line = 559;F.filename = "alloc.nim";
LOC7 = Ptrsize_10033(P_1782);
memcpy(Result_10042, P_1782, LOC7);
F.line = 560;F.filename = "alloc.nim";
Dealloc_1784(P_1782);
LA5: ;
goto LA1;
LA2: ;
if (!!((P_1782 == NIM_NIL))) goto LA8;
F.line = 562;F.filename = "alloc.nim";
Dealloc_1784(P_1782);
goto LA1;
LA8: ;
LA1: ;
framePtr = framePtr->prev;
return Result_10042;
}
N_NIMCALL(NI, Countfreemem_10045)(void) {
NI Result_10047;
TY8434* It_10048;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "countFreeMem";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/alloc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_10047 = 0;
It_10048 = 0;
F.line = 566;F.filename = "alloc.nim";
It_10048 = Allocator_8529.Freechunkslist;
F.line = 567;F.filename = "alloc.nim";
while (1) {
if (!!((It_10048 == NIM_NIL))) goto LA1;
F.line = 568;F.filename = "alloc.nim";
Result_10047 += (*It_10048).Sup.Size;
F.line = 569;F.filename = "alloc.nim";
It_10048 = (*It_10048).Next;
} LA1: ;
framePtr = framePtr->prev;
return Result_10047;
}
static N_INLINE(NIM_BOOL, Contains_10436)(TY10418 S_10438, TY10402* C_10439) {
NIM_BOOL Result_10440;
NI I_10448;
NI HEX3Atmp_19656;
NI Res_19658;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "contains";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/cellsets.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_10440 = 0;
I_10448 = 0;
HEX3Atmp_19656 = 0;
F.line = 43;F.filename = "cellsets.nim";
HEX3Atmp_19656 = (NI32)(S_10438.Len - 1);
Res_19658 = 0;
F.line = 1019;F.filename = "system.nim";
Res_19658 = 0;
F.line = 1020;F.filename = "system.nim";
while (1) {
if (!(Res_19658 <= HEX3Atmp_19656)) goto LA1;
F.line = 1019;F.filename = "system.nim";
I_10448 = Res_19658;
F.line = 44;F.filename = "cellsets.nim";
if (!(S_10438.D[(I_10448)-0] == C_10439)) goto LA3;
F.line = 44;F.filename = "cellsets.nim";
F.line = 44;F.filename = "cellsets.nim";
Result_10440 = NIM_TRUE;
goto BeforeRet;
LA3: ;
F.line = 1022;F.filename = "system.nim";
Res_19658 += 1;
} LA1: ;
F.line = 45;F.filename = "cellsets.nim";
F.line = 45;F.filename = "cellsets.nim";
Result_10440 = NIM_FALSE;
goto BeforeRet;
BeforeRet: ;
framePtr = framePtr->prev;
return Result_10440;
}
N_NIMCALL(void, Deinit_10483)(TY10418* S_10486) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "deinit";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/cellsets.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 64;F.filename = "cellsets.nim";
Dealloc_1784(((void*) ((*S_10486).D)));
F.line = 65;F.filename = "cellsets.nim";
(*S_10486).D = NIM_NIL;
F.line = 66;F.filename = "cellsets.nim";
(*S_10486).Len = 0;
F.line = 67;F.filename = "cellsets.nim";
(*S_10486).Cap = 0;
framePtr = framePtr->prev;
}
N_NIMCALL(TNimType*, extGetCellType)(void* C_10857) {
TNimType* Result_10858;
TY10402* LOC1;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "extGetCellType";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_10858 = 0;
F.line = 107;F.filename = "gc.nim";
LOC1 = Usrtocell_10836(C_10857);
Result_10858 = (*LOC1).Typ;
framePtr = framePtr->prev;
return Result_10858;
}
N_NIMCALL(NI, getRefcount)(void* P_10861) {
NI Result_10862;
TY10402* LOC1;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "internRefcount";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_10862 = 0;
F.line = 110;F.filename = "gc.nim";
LOC1 = Usrtocell_10836(P_10861);
Result_10862 = (NI32)((NU32)(((NI) ((*LOC1).Refcount))) >> (NU32)(3));
framePtr = framePtr->prev;
return Result_10862;
}
static N_INLINE(void, nimGCref)(void* P_11608) {
TY10402* LOC1;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "nimGCref";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 230;F.filename = "gc.nim";
LOC1 = Usrtocell_10836(P_11608);
Incref_11602(LOC1);
framePtr = framePtr->prev;
}
static N_INLINE(void, nimGCunref)(void* P_11611) {
TY10402* LOC1;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "nimGCunref";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 231;F.filename = "gc.nim";
LOC1 = Usrtocell_10836(P_11611);
Decref_11464(LOC1);
framePtr = framePtr->prev;
}
N_NOINLINE(NIM_BOOL, Isonstack_11409)(void* P_11411) {
NIM_BOOL Result_15209;
void* volatile Stacktop_15210;
NI B_15211;
NI A_15213;
NI X_15214;
NIM_BOOL LOC1;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "IsOnStack";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_15209 = 0;
Stacktop_15210 = 0;
B_15211 = 0;
F.line = 574;F.filename = "gc.nim";
B_15211 = ((NI) (Stackbottom_10809));
A_15213 = 0;
F.line = 575;F.filename = "gc.nim";
A_15213 = ((NI) (&Stacktop_15210));
X_15214 = 0;
F.line = 576;F.filename = "gc.nim";
X_15214 = ((NI) (P_11411));
F.line = 577;F.filename = "gc.nim";
LOC1 = ((NU32)(A_15213) <= (NU32)(X_15214));
if (!(LOC1)) goto LA2;
LOC1 = ((NU32)(X_15214) <= (NU32)(B_15211));
LA2: ;
Result_15209 = LOC1;
framePtr = framePtr->prev;
return Result_15209;
}
N_NIMCALL(void, unsureAsgnRef)(void** Dest_11626, void* Src_11627) {
NIM_BOOL LOC2;
TY10402* LOC8;
TY10402* LOC12;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "unsureAsgnRef";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 257;F.filename = "gc.nim";
LOC2 = Isonstack_11409(((void*) (Dest_11626)));
if (!!(LOC2)) goto LA3;
F.line = 258;F.filename = "gc.nim";
if (!!((Src_11627 == NIM_NIL))) goto LA6;
F.line = 258;F.filename = "gc.nim";
LOC8 = Usrtocell_10836(Src_11627);
Incref_11602(LOC8);
LA6: ;
F.line = 259;F.filename = "gc.nim";
if (!!(((*Dest_11626) == NIM_NIL))) goto LA10;
F.line = 259;F.filename = "gc.nim";
LOC12 = Usrtocell_10836((*Dest_11626));
Decref_11464(LOC12);
LA10: ;
LA3: ;
F.line = 260;F.filename = "gc.nim";
(*Dest_11626) = Src_11627;
framePtr = framePtr->prev;
}
N_NIMCALL(void, Gcsetstrategy_2475)(NU8 Strategy_2477) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "GC_setStrategy";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 661;F.filename = "gc.nim";
switch (Strategy_2477) {
case ((NU8) 0):
break;
case ((NU8) 1):
break;
case ((NU8) 3):
break;
case ((NU8) 2):
break;
}
framePtr = framePtr->prev;
}
N_NIMCALL(void, Gcenablemarkandsweep_2478)(void) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "GC_enableMarkAndSweep";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 668;F.filename = "gc.nim";
Cyclethreshold_10811 = 4194304;
framePtr = framePtr->prev;
}
N_NIMCALL(void, Gcdisablemarkandsweep_2480)(void) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "GC_disableMarkAndSweep";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 671;F.filename = "gc.nim";
Cyclethreshold_10811 = 2147483646;
framePtr = framePtr->prev;
}
N_NIMCALL(void, Gcfullcollect_2467)(void) {
NI Oldthreshold_16219;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "GC_fullCollect";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 675;F.filename = "gc.nim";
Lock_10813(&Gch_10810);
Oldthreshold_16219 = 0;
F.line = 676;F.filename = "gc.nim";
Oldthreshold_16219 = Cyclethreshold_10811;
F.line = 677;F.filename = "gc.nim";
Cyclethreshold_10811 = 0;
F.line = 678;F.filename = "gc.nim";
Collectct_11405(&Gch_10810);
F.line = 679;F.filename = "gc.nim";
Cyclethreshold_10811 = Oldthreshold_16219;
F.line = 680;F.filename = "gc.nim";
Unlock_10819(&Gch_10810);
framePtr = framePtr->prev;
}
N_NIMCALL(NimStringDesc*, Gcgetstatistics_2482)(void) {
NimStringDesc* Result_16224;
NimStringDesc* LOC1;
NI LOC2;
NimStringDesc* LOC3;
NI LOC4;
NimStringDesc* LOC5;
NimStringDesc* LOC6;
NimStringDesc* LOC7;
NimStringDesc* LOC8;
NimStringDesc* LOC9;
NimStringDesc* LOC10;
NimStringDesc* LOC11;
NimStringDesc* LOC12;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "GC_getStatistics";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_16224 = 0;
F.line = 683;F.filename = "gc.nim";
Gcdisable_2463();
F.line = 684;F.filename = "gc.nim";
LOC1 = 0;
LOC2 = Gettotalmem_1845();
LOC3 = 0;
LOC3 = nimIntToStr(LOC2);
LOC4 = Getoccupiedmem_1841();
LOC5 = 0;
LOC5 = nimIntToStr(LOC4);
LOC6 = 0;
LOC6 = nimIntToStr(Gch_10810.Stat.Stackscans);
LOC7 = 0;
LOC7 = nimIntToStr(Gch_10810.Stat.Maxstackcells);
LOC8 = 0;
LOC8 = nimIntToStr(Gch_10810.Stat.Cyclecollections);
LOC9 = 0;
LOC9 = nimIntToStr(Gch_10810.Stat.Maxthreshold);
LOC10 = 0;
LOC10 = nimIntToStr(Gch_10810.Zct.Cap);
LOC11 = 0;
LOC11 = nimIntToStr(Gch_10810.Stat.Cycletablesize);
LOC12 = 0;
LOC12 = nimIntToStr(Gch_10810.Stat.Maxstacksize);
LOC1 = rawNewString(LOC3->Sup.len + LOC5->Sup.len + LOC6->Sup.len + LOC7->Sup.len + LOC8->Sup.len + LOC9->Sup.len + LOC10->Sup.len + LOC11->Sup.len + LOC12->Sup.len + 204);
appendString(LOC1, ((NimStringDesc*) &TMP19957));
appendString(LOC1, LOC3);
appendString(LOC1, ((NimStringDesc*) &TMP19958));
appendString(LOC1, LOC5);
appendString(LOC1, ((NimStringDesc*) &TMP19959));
appendString(LOC1, LOC6);
appendString(LOC1, ((NimStringDesc*) &TMP19960));
appendString(LOC1, LOC7);
appendString(LOC1, ((NimStringDesc*) &TMP19961));
appendString(LOC1, LOC8);
appendString(LOC1, ((NimStringDesc*) &TMP19962));
appendString(LOC1, LOC9);
appendString(LOC1, ((NimStringDesc*) &TMP19963));
appendString(LOC1, LOC10);
appendString(LOC1, ((NimStringDesc*) &TMP19964));
appendString(LOC1, LOC11);
appendString(LOC1, ((NimStringDesc*) &TMP19965));
appendString(LOC1, LOC12);
Result_16224 = LOC1;
F.line = 694;F.filename = "gc.nim";
Gcenable_2465();
framePtr = framePtr->prev;
return Result_16224;
}
static N_INLINE(NI, cmpStrings)(NimStringDesc* A_17011, NimStringDesc* B_17012) {
NI Result_17013;
NI32 LOC10;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "cmpStrings";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/sysstr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_17013 = 0;
F.line = 26;F.filename = "sysstr.nim";
if (!(A_17011 == B_17012)) goto LA2;
F.line = 26;F.filename = "sysstr.nim";
F.line = 26;F.filename = "sysstr.nim";
Result_17013 = 0;
goto BeforeRet;
LA2: ;
F.line = 27;F.filename = "sysstr.nim";
if (!(A_17011 == NIM_NIL)) goto LA5;
F.line = 27;F.filename = "sysstr.nim";
F.line = 27;F.filename = "sysstr.nim";
Result_17013 = -1;
goto BeforeRet;
LA5: ;
F.line = 28;F.filename = "sysstr.nim";
if (!(B_17012 == NIM_NIL)) goto LA8;
F.line = 28;F.filename = "sysstr.nim";
F.line = 28;F.filename = "sysstr.nim";
Result_17013 = 1;
goto BeforeRet;
LA8: ;
F.line = 29;F.filename = "sysstr.nim";
F.line = 29;F.filename = "sysstr.nim";
LOC10 = strcmp(((NCSTRING) ((*A_17011).data)), ((NCSTRING) ((*B_17012).data)));
Result_17013 = ((NI) (LOC10));
goto BeforeRet;
BeforeRet: ;
framePtr = framePtr->prev;
return Result_17013;
}
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* A_17047, NimStringDesc* B_17048) {
NIM_BOOL Result_17049;
NIM_BOOL LOC5;
NIM_BOOL LOC9;
NI32 LOC11;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "eqStrings";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/sysstr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_17049 = 0;
F.line = 32;F.filename = "sysstr.nim";
if (!(A_17047 == B_17048)) goto LA2;
F.line = 32;F.filename = "sysstr.nim";
F.line = 32;F.filename = "sysstr.nim";
Result_17049 = NIM_TRUE;
goto BeforeRet;
LA2: ;
F.line = 33;F.filename = "sysstr.nim";
LOC5 = (A_17047 == NIM_NIL);
if (LOC5) goto LA6;
LOC5 = (B_17048 == NIM_NIL);
LA6: ;
if (!LOC5) goto LA7;
F.line = 33;F.filename = "sysstr.nim";
F.line = 33;F.filename = "sysstr.nim";
Result_17049 = NIM_FALSE;
goto BeforeRet;
LA7: ;
F.line = 34;F.filename = "sysstr.nim";
F.line = 34;F.filename = "sysstr.nim";
LOC9 = ((*A_17047).Sup.len == (*B_17048).Sup.len);
if (!(LOC9)) goto LA10;
LOC11 = memcmp(((NCSTRING) ((*A_17047).data)), ((NCSTRING) ((*B_17048).data)), ((NI32) ((NI32)((*A_17047).Sup.len * 1))));
LOC9 = (LOC11 == ((NI32) 0));
LA10: ;
Result_17049 = LOC9;
goto BeforeRet;
BeforeRet: ;
framePtr = framePtr->prev;
return Result_17049;
}
N_NIMCALL(NimStringDesc*, mnewString)(NI Len_17095) {
NimStringDesc* Result_17096;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "mnewString";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/sysstr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_17096 = 0;
F.line = 46;F.filename = "sysstr.nim";
Result_17096 = rawNewString(Len_17095);
F.line = 47;F.filename = "sysstr.nim";
(*Result_17096).Sup.len = Len_17095;
framePtr = framePtr->prev;
return Result_17096;
}
N_NIMCALL(NI, hashString)(NimStringDesc* S_17123) {
NI Result_17124;
NI H_17125;
NI I_17135;
NI HEX3Atmp_19799;
NI Res_19801;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "hashString";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/sysstr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_17124 = 0;
H_17125 = 0;
F.line = 67;F.filename = "sysstr.nim";
H_17125 = 0;
I_17135 = 0;
HEX3Atmp_19799 = 0;
F.line = 68;F.filename = "sysstr.nim";
HEX3Atmp_19799 = (NI32)(S_17123->Sup.len - 1);
Res_19801 = 0;
F.line = 1019;F.filename = "system.nim";
Res_19801 = 0;
F.line = 1020;F.filename = "system.nim";
while (1) {
if (!(Res_19801 <= HEX3Atmp_19799)) goto LA1;
F.line = 1019;F.filename = "system.nim";
I_17135 = Res_19801;
F.line = 69;F.filename = "sysstr.nim";
H_17125 = (NI32)((NU32)(H_17125) + (NU32)(((NU8)(S_17123->data[I_17135]))));
F.line = 70;F.filename = "sysstr.nim";
H_17125 = (NI32)((NU32)(H_17125) + (NU32)((NI32)((NU32)(H_17125) << (NU32)(10))));
F.line = 71;F.filename = "sysstr.nim";
H_17125 = (NI32)(H_17125 ^ (NI32)((NU32)(H_17125) >> (NU32)(6)));
F.line = 1022;F.filename = "system.nim";
Res_19801 += 1;
} LA1: ;
F.line = 72;F.filename = "sysstr.nim";
H_17125 = (NI32)((NU32)(H_17125) + (NU32)((NI32)((NU32)(H_17125) << (NU32)(3))));
F.line = 73;F.filename = "sysstr.nim";
H_17125 = (NI32)(H_17125 ^ (NI32)((NU32)(H_17125) >> (NU32)(11)));
F.line = 74;F.filename = "sysstr.nim";
H_17125 = (NI32)((NU32)(H_17125) + (NU32)((NI32)((NU32)(H_17125) << (NU32)(15))));
F.line = 75;F.filename = "sysstr.nim";
Result_17124 = H_17125;
framePtr = framePtr->prev;
return Result_17124;
}
N_NIMCALL(NimStringDesc*, copyStrLast)(NimStringDesc* S_17143, NI Start_17144, NI Last_17145) {
NimStringDesc* Result_17146;
NI Start_17149;
NI Len_17152;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "copyStrLast";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/sysstr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_17146 = 0;
Start_17149 = 0;
F.line = 78;F.filename = "sysstr.nim";
Start_17149 = ((Start_17144 >= 0) ? Start_17144 : 0);
Len_17152 = 0;
F.line = 79;F.filename = "sysstr.nim";
Len_17152 = (NI32)((NI32)(((Last_17145 <= (NI32)((*S_17143).Sup.len - 1)) ? Last_17145 : (NI32)((*S_17143).Sup.len - 1)) - Start_17149) + 1);
F.line = 80;F.filename = "sysstr.nim";
if (!(0 < Len_17152)) goto LA2;
F.line = 81;F.filename = "sysstr.nim";
Result_17146 = rawNewString(Len_17152);
F.line = 82;F.filename = "sysstr.nim";
(*Result_17146).Sup.len = Len_17152;
F.line = 83;F.filename = "sysstr.nim";
memcpy(((NCSTRING) ((*Result_17146).data)), ((NCSTRING) (&(*S_17143).data[(Start_17149)-0])), ((NI32) ((NI32)(Len_17152 * 1))));
F.line = 84;F.filename = "sysstr.nim";
(*Result_17146).data[(Len_17152)-0] = 0;
goto LA1;
LA2: ;
F.line = 86;F.filename = "sysstr.nim";
Result_17146 = mnewString(0);
LA1: ;
framePtr = framePtr->prev;
return Result_17146;
}
N_NIMCALL(NimStringDesc*, copyStr)(NimStringDesc* S_17158, NI Start_17159) {
NimStringDesc* Result_17160;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "copyStr";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/sysstr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_17160 = 0;
F.line = 89;F.filename = "sysstr.nim";
F.line = 89;F.filename = "sysstr.nim";
Result_17160 = copyStrLast(S_17158, Start_17159, (NI32)((*S_17158).Sup.len - 1));
goto BeforeRet;
BeforeRet: ;
framePtr = framePtr->prev;
return Result_17160;
}
static N_INLINE(void, appendChar)(NimStringDesc* Dest_17209, NIM_CHAR C_17210) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "appendChar";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/sysstr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 154;F.filename = "sysstr.nim";
(*Dest_17209).data[((*Dest_17209).Sup.len)-0] = C_17210;
F.line = 155;F.filename = "sysstr.nim";
(*Dest_17209).data[((NI32)((*Dest_17209).Sup.len + 1))-0] = 0;
F.line = 156;F.filename = "sysstr.nim";
(*Dest_17209).Sup.len += 1;
framePtr = framePtr->prev;
}
N_NIMCALL(TGenericSeq*, incrSeq)(TGenericSeq* Seq_17235, NI Elemsize_17236) {
TGenericSeq* Result_17237;
void* LOC4;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "incrSeq";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/sysstr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_17237 = 0;
F.line = 186;F.filename = "sysstr.nim";
Result_17237 = Seq_17235;
F.line = 187;F.filename = "sysstr.nim";
if (!((*Result_17237).space <= (*Result_17237).len)) goto LA2;
F.line = 188;F.filename = "sysstr.nim";
(*Result_17237).space = Resize_17001((*Result_17237).space);
F.line = 189;F.filename = "sysstr.nim";
LOC4 = Growobj_12607(((void*) (Result_17237)), (NI32)((NI32)(Elemsize_17236 * (*Result_17237).space) + 8));
Result_17237 = ((TGenericSeq*) (LOC4));
LA2: ;
F.line = 197;F.filename = "sysstr.nim";
(*Result_17237).len += 1;
framePtr = framePtr->prev;
return Result_17237;
}
N_NIMCALL(TGenericSeq*, setLengthSeq)(TGenericSeq* Seq_17403, NI Elemsize_17404, NI Newlen_17405) {
TGenericSeq* Result_17406;
NI LOC4;
void* LOC5;
NI I_17420;
NI HEX3Atmp_19805;
NI Res_19807;
TNimType* LOC9;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "setLengthSeq";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/sysstr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_17406 = 0;
F.line = 209;F.filename = "sysstr.nim";
Result_17406 = Seq_17403;
F.line = 210;F.filename = "sysstr.nim";
if (!((*Result_17406).space < Newlen_17405)) goto LA2;
F.line = 211;F.filename = "sysstr.nim";
LOC4 = Resize_17001((*Result_17406).space);
(*Result_17406).space = ((LOC4 >= Newlen_17405) ? LOC4 : Newlen_17405);
F.line = 212;F.filename = "sysstr.nim";
LOC5 = Growobj_12607(((void*) (Result_17406)), (NI32)((NI32)(Elemsize_17404 * (*Result_17406).space) + 8));
Result_17406 = ((TGenericSeq*) (LOC5));
goto LA1;
LA2: ;
if (!(Newlen_17405 < (*Result_17406).len)) goto LA6;
I_17420 = 0;
HEX3Atmp_19805 = 0;
F.line = 217;F.filename = "sysstr.nim";
HEX3Atmp_19805 = (NI32)((*Result_17406).len - 1);
Res_19807 = 0;
F.line = 1019;F.filename = "system.nim";
Res_19807 = Newlen_17405;
F.line = 1020;F.filename = "system.nim";
while (1) {
if (!(Res_19807 <= HEX3Atmp_19805)) goto LA8;
F.line = 1019;F.filename = "system.nim";
I_17420 = Res_19807;
F.line = 218;F.filename = "sysstr.nim";
LOC9 = extGetCellType(((void*) (Result_17406)));
Forallchildrenaux_11420(((void*) ((NI32)((NU32)((NI32)((NU32)(((NI) (Result_17406))) + (NU32)(8))) + (NU32)((NI32)((NU32)(I_17420) * (NU32)(Elemsize_17404)))))), (*LOC9).base, ((NU8) 0));
F.line = 1022;F.filename = "system.nim";
Res_19807 += 1;
} LA8: ;
F.line = 222;F.filename = "sysstr.nim";
zeroMem(((void*) ((NI32)((NU32)((NI32)((NU32)(((NI) (Result_17406))) + (NU32)(8))) + (NU32)((NI32)((NU32)(Newlen_17405) * (NU32)(Elemsize_17404)))))), (NI32)((NU32)((NI32)((NU32)((*Result_17406).len) - (NU32)(Newlen_17405))) * (NU32)(Elemsize_17404)));
goto LA1;
LA6: ;
LA1: ;
F.line = 224;F.filename = "sysstr.nim";
(*Result_17406).len = Newlen_17405;
framePtr = framePtr->prev;
return Result_17406;
}
N_NIMCALL(NimStringDesc*, nimBoolToStr)(NIM_BOOL X_17924) {
NimStringDesc* Result_17925;
NimStringDesc* LOC1;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "nimBoolToStr";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/sysstr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_17925 = 0;
F.line = 271;F.filename = "sysstr.nim";
F.line = 271;F.filename = "sysstr.nim";
LOC1 = 0;
if (!X_17924) goto LA3;
LOC1 = copyString(((NimStringDesc*) &TMP19926));
goto LA2;
LA3: ;
LOC1 = copyString(((NimStringDesc*) &TMP19927));
LA2: ;
Result_17925 = LOC1;
goto BeforeRet;
BeforeRet: ;
framePtr = framePtr->prev;
return Result_17925;
}
N_NIMCALL(NimStringDesc*, nimCharToStr)(NIM_CHAR X_17928) {
NimStringDesc* Result_17929;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "nimCharToStr";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/sysstr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_17929 = 0;
F.line = 274;F.filename = "sysstr.nim";
Result_17929 = mnewString(1);
F.line = 275;F.filename = "sysstr.nim";
Result_17929->data[0] = X_17928;
framePtr = framePtr->prev;
return Result_17929;
}
N_NIMCALL(NI, binaryStrSearch)(NimStringDesc** X_17933, NI X_17933Len0, NimStringDesc* Y_17934) {
NI Result_17935;
NI A_17936;
NI B_17947;
NI Mid_17950;
NIM_BOOL LOC6;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "binaryStrSearch";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/sysstr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_17935 = 0;
A_17936 = 0;
F.line = 279;F.filename = "sysstr.nim";
A_17936 = 0;
B_17947 = 0;
F.line = 280;F.filename = "sysstr.nim";
B_17947 = X_17933Len0;
F.line = 281;F.filename = "sysstr.nim";
while (1) {
if (!(A_17936 < B_17947)) goto LA1;
Mid_17950 = 0;
F.line = 282;F.filename = "sysstr.nim";
Mid_17950 = (NI32)((NI32)(A_17936 + B_17947) / 2);
F.line = 283;F.filename = "sysstr.nim";
if (!(cmpStrings(X_17933[Mid_17950], Y_17934) < 0)) goto LA3;
F.line = 284;F.filename = "sysstr.nim";
A_17936 = (NI32)(Mid_17950 + 1);
goto LA2;
LA3: ;
F.line = 286;F.filename = "sysstr.nim";
B_17947 = Mid_17950;
LA2: ;
} LA1: ;
F.line = 287;F.filename = "sysstr.nim";
LOC6 = (A_17936 < X_17933Len0);
if (!(LOC6)) goto LA7;
LOC6 = eqStrings(X_17933[A_17936], Y_17934);
LA7: ;
if (!LOC6) goto LA8;
F.line = 288;F.filename = "sysstr.nim";
F.line = 288;F.filename = "sysstr.nim";
Result_17935 = A_17936;
goto BeforeRet;
goto LA5;
LA8: ;
F.line = 290;F.filename = "sysstr.nim";
F.line = 290;F.filename = "sysstr.nim";
Result_17935 = -1;
goto BeforeRet;
LA5: ;
BeforeRet: ;
framePtr = framePtr->prev;
return Result_17935;
}
N_NIMCALL(void, genericAssign)(void* Dest_17965, void* Src_17966, TNimType* Mt_17967) {
NI D_18001;
NI S_18002;
void* S2_18014;
TGenericSeq* Seq_18015;
void** X_18016;
void* LOC4;
NI Dst_18017;
NI I_18025;
NI HEX3Atmp_19832;
NI Res_19834;
TGenericSeq* Dstseq_18026;
NI I_18034;
NI HEX3Atmp_19838;
NI Res_19840;
void* S2_18035;
NimStringDesc* LOC10;
void** X_18036;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "genericAssign";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/assign.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
D_18001 = 0;
F.line = 33;F.filename = "assign.nim";
D_18001 = ((NI) (Dest_17965));
S_18002 = 0;
F.line = 34;F.filename = "assign.nim";
S_18002 = ((NI) (Src_17966));
F.line = 36;F.filename = "assign.nim";
F.line = 37;F.filename = "assign.nim";
switch ((*Mt_17967).kind) {
case ((NU8) 24):
S2_18014 = 0;
F.line = 39;F.filename = "assign.nim";
S2_18014 = (*((void**) (Src_17966)));
Seq_18015 = 0;
F.line = 40;F.filename = "assign.nim";
Seq_18015 = ((TGenericSeq*) (S2_18014));
F.line = 41;F.filename = "assign.nim";
if (!(S2_18014 == NIM_NIL)) goto LA2;
X_18016 = 0;
F.line = 42;F.filename = "assign.nim";
X_18016 = ((void**) (Dest_17965));
F.line = 43;F.filename = "assign.nim";
(*X_18016) = NIM_NIL;
F.line = 44;F.filename = "assign.nim";
goto BeforeRet;
LA2: ;
F.line = 45;F.filename = "assign.nim";
F.line = 46;F.filename = "assign.nim";
LOC4 = newObj(Mt_17967, (NI32)((NI32)((*Seq_18015).len * (*(*Mt_17967).base).size) + 8));
unsureAsgnRef(((void**) (Dest_17965)), LOC4);
Dst_18017 = 0;
F.line = 48;F.filename = "assign.nim";
Dst_18017 = ((NI) ((*((void**) (Dest_17965)))));
I_18025 = 0;
HEX3Atmp_19832 = 0;
F.line = 49;F.filename = "assign.nim";
HEX3Atmp_19832 = (NI32)((*Seq_18015).len - 1);
Res_19834 = 0;
F.line = 1019;F.filename = "system.nim";
Res_19834 = 0;
F.line = 1020;F.filename = "system.nim";
while (1) {
if (!(Res_19834 <= HEX3Atmp_19832)) goto LA5;
F.line = 1019;F.filename = "system.nim";
I_18025 = Res_19834;
F.line = 50;F.filename = "assign.nim";
genericAssign(((void*) ((NI32)((NU32)((NI32)((NU32)(Dst_18017) + (NU32)((NI32)((NU32)(I_18025) * (NU32)((*(*Mt_17967).base).size))))) + (NU32)(8)))), ((void*) ((NI32)((NU32)((NI32)((NU32)(((NI) (S2_18014))) + (NU32)((NI32)((NU32)(I_18025) * (NU32)((*(*Mt_17967).base).size))))) + (NU32)(8)))), (*Mt_17967).base);
F.line = 1022;F.filename = "system.nim";
Res_19834 += 1;
} LA5: ;
Dstseq_18026 = 0;
F.line = 55;F.filename = "assign.nim";
Dstseq_18026 = ((TGenericSeq*) (Dst_18017));
F.line = 56;F.filename = "assign.nim";
(*Dstseq_18026).len = (*Seq_18015).len;
F.line = 57;F.filename = "assign.nim";
(*Dstseq_18026).space = (*Seq_18015).len;
break;
case ((NU8) 17):
case ((NU8) 18):
case ((NU8) 40):
F.line = 60;F.filename = "assign.nim";
Genericassignaux_17968(Dest_17965, Src_17966, (*Mt_17967).node);
break;
case ((NU8) 16):
case ((NU8) 4):
I_18034 = 0;
HEX3Atmp_19838 = 0;
F.line = 62;F.filename = "assign.nim";
HEX3Atmp_19838 = (NI32)((NI32)((*Mt_17967).size / (*(*Mt_17967).base).size) - 1);
Res_19840 = 0;
F.line = 1019;F.filename = "system.nim";
Res_19840 = 0;
F.line = 1020;F.filename = "system.nim";
while (1) {
if (!(Res_19840 <= HEX3Atmp_19838)) goto LA6;
F.line = 1019;F.filename = "system.nim";
I_18034 = Res_19840;
F.line = 63;F.filename = "assign.nim";
genericAssign(((void*) ((NI32)((NU32)(D_18001) + (NU32)((NI32)((NU32)(I_18034) * (NU32)((*(*Mt_17967).base).size)))))), ((void*) ((NI32)((NU32)(S_18002) + (NU32)((NI32)((NU32)(I_18034) * (NU32)((*(*Mt_17967).base).size)))))), (*Mt_17967).base);
F.line = 1022;F.filename = "system.nim";
Res_19840 += 1;
} LA6: ;
break;
case ((NU8) 28):
S2_18035 = 0;
F.line = 66;F.filename = "assign.nim";
S2_18035 = (*((void**) (S_18002)));
F.line = 67;F.filename = "assign.nim";
if (!!((S2_18035 == NIM_NIL))) goto LA8;
F.line = 68;F.filename = "assign.nim";
LOC10 = copyString(((NimStringDesc*) (S2_18035)));
unsureAsgnRef(((void**) (Dest_17965)), ((void*) (LOC10)));
goto LA7;
LA8: ;
X_18036 = 0;
F.line = 70;F.filename = "assign.nim";
X_18036 = ((void**) (Dest_17965));
F.line = 71;F.filename = "assign.nim";
(*X_18036) = NIM_NIL;
F.line = 72;F.filename = "assign.nim";
goto BeforeRet;
LA7: ;
break;
case ((NU8) 22):
F.line = 74;F.filename = "assign.nim";
unsureAsgnRef(((void**) (Dest_17965)), (*((void**) (S_18002))));
break;
default:
F.line = 76;F.filename = "assign.nim";
memcpy(Dest_17965, Src_17966, (*Mt_17967).size);
break;
}
BeforeRet: ;
framePtr = framePtr->prev;
}
N_NIMCALL(void, Genericassignaux_17968)(void* Dest_17970, void* Src_17971, TNimNode* N_17973) {
NI D_17974;
NI S_17975;
NI I_17983;
NI HEX3Atmp_19826;
NI Res_19828;
TNimNode* M_17984;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "genericAssignAux";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/assign.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
D_17974 = 0;
F.line = 15;F.filename = "assign.nim";
D_17974 = ((NI) (Dest_17970));
S_17975 = 0;
F.line = 16;F.filename = "assign.nim";
S_17975 = ((NI) (Src_17971));
F.line = 17;F.filename = "assign.nim";
switch ((*N_17973).kind) {
case ((NU8) 0):
F.line = 18;F.filename = "assign.nim";
break;
case ((NU8) 1):
F.line = 20;F.filename = "assign.nim";
genericAssign(((void*) ((NI32)((NU32)(D_17974) + (NU32)((*N_17973).offset)))), ((void*) ((NI32)((NU32)(S_17975) + (NU32)((*N_17973).offset)))), (*N_17973).typ);
break;
case ((NU8) 2):
I_17983 = 0;
HEX3Atmp_19826 = 0;
F.line = 23;F.filename = "assign.nim";
HEX3Atmp_19826 = (NI32)((*N_17973).len - 1);
Res_19828 = 0;
F.line = 1019;F.filename = "system.nim";
Res_19828 = 0;
F.line = 1020;F.filename = "system.nim";
while (1) {
if (!(Res_19828 <= HEX3Atmp_19826)) goto LA1;
F.line = 1019;F.filename = "system.nim";
I_17983 = Res_19828;
F.line = 24;F.filename = "assign.nim";
Genericassignaux_17968(Dest_17970, Src_17971, (*N_17973).sons[(I_17983)-0]);
F.line = 1022;F.filename = "system.nim";
Res_19828 += 1;
} LA1: ;
break;
case ((NU8) 3):
F.line = 26;F.filename = "assign.nim";
memcpy(((void*) ((NI32)((NU32)(D_17974) + (NU32)((*N_17973).offset)))), ((void*) ((NI32)((NU32)(S_17975) + (NU32)((*N_17973).offset)))), (*(*N_17973).typ).size);
M_17984 = 0;
F.line = 28;F.filename = "assign.nim";
M_17984 = Selectbranch_7063(Src_17971, N_17973);
F.line = 29;F.filename = "assign.nim";
if (!!((M_17984 == NIM_NIL))) goto LA3;
F.line = 29;F.filename = "assign.nim";
Genericassignaux_17968(Dest_17970, Src_17971, M_17984);
LA3: ;
break;
}
framePtr = framePtr->prev;
}
N_NIMCALL(void, genericSeqAssign)(void* Dest_18039, void* Src_18040, TNimType* Mt_18041) {
void* Src_18042;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "genericSeqAssign";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/assign.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Src_18042 = 0;
F.line = 79;F.filename = "assign.nim";
Src_18042 = Src_18040;
F.line = 80;F.filename = "assign.nim";
genericAssign(Dest_18039, ((void*) (&Src_18042)), Mt_18041);
framePtr = framePtr->prev;
}
N_NIMCALL(void, genericAssignOpenArray)(void* Dest_18046, void* Src_18047, NI Len_18048, TNimType* Mt_18049) {
NI D_18050;
NI S_18051;
NI I_18059;
NI HEX3Atmp_19844;
NI Res_19846;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "genericAssignOpenArray";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/assign.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
D_18050 = 0;
F.line = 85;F.filename = "assign.nim";
D_18050 = ((NI) (Dest_18046));
S_18051 = 0;
F.line = 86;F.filename = "assign.nim";
S_18051 = ((NI) (Src_18047));
I_18059 = 0;
HEX3Atmp_19844 = 0;
F.line = 87;F.filename = "assign.nim";
HEX3Atmp_19844 = (NI32)(Len_18048 - 1);
Res_19846 = 0;
F.line = 1019;F.filename = "system.nim";
Res_19846 = 0;
F.line = 1020;F.filename = "system.nim";
while (1) {
if (!(Res_19846 <= HEX3Atmp_19844)) goto LA1;
F.line = 1019;F.filename = "system.nim";
I_18059 = Res_19846;
F.line = 88;F.filename = "assign.nim";
genericAssign(((void*) ((NI32)((NU32)(D_18050) + (NU32)((NI32)((NU32)(I_18059) * (NU32)((*(*Mt_18049).base).size)))))), ((void*) ((NI32)((NU32)(S_18051) + (NU32)((NI32)((NU32)(I_18059) * (NU32)((*(*Mt_18049).base).size)))))), (*Mt_18049).base);
F.line = 1022;F.filename = "system.nim";
Res_19846 += 1;
} LA1: ;
framePtr = framePtr->prev;
}
N_NIMCALL(void, objectInit)(void* Dest_18062, TNimType* Typ_18063) {
NI D_18094;
TNimType** Pint_18096;
NI I_18104;
NI HEX3Atmp_19856;
NI Res_19858;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "objectInit";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/assign.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
D_18094 = 0;
F.line = 107;F.filename = "assign.nim";
D_18094 = ((NI) (Dest_18062));
F.line = 108;F.filename = "assign.nim";
switch ((*Typ_18063).kind) {
case ((NU8) 17):
Pint_18096 = 0;
F.line = 112;F.filename = "assign.nim";
Pint_18096 = ((TNimType**) (Dest_18062));
F.line = 113;F.filename = "assign.nim";
(*Pint_18096) = Typ_18063;
F.line = 114;F.filename = "assign.nim";
Objectinitaux_18064(Dest_18062, (*Typ_18063).node);
break;
case ((NU8) 18):
case ((NU8) 40):
F.line = 116;F.filename = "assign.nim";
Objectinitaux_18064(Dest_18062, (*Typ_18063).node);
break;
case ((NU8) 16):
case ((NU8) 4):
I_18104 = 0;
HEX3Atmp_19856 = 0;
F.line = 118;F.filename = "assign.nim";
HEX3Atmp_19856 = (NI32)((NI32)((*Typ_18063).size / (*(*Typ_18063).base).size) - 1);
Res_19858 = 0;
F.line = 1019;F.filename = "system.nim";
Res_19858 = 0;
F.line = 1020;F.filename = "system.nim";
while (1) {
if (!(Res_19858 <= HEX3Atmp_19856)) goto LA1;
F.line = 1019;F.filename = "system.nim";
I_18104 = Res_19858;
F.line = 119;F.filename = "assign.nim";
objectInit(((void*) ((NI32)((NU32)(D_18094) + (NU32)((NI32)(I_18104 * (*(*Typ_18063).base).size))))), (*Typ_18063).base);
F.line = 1022;F.filename = "system.nim";
Res_19858 += 1;
} LA1: ;
break;
default:
break;
}
framePtr = framePtr->prev;
}
N_NIMCALL(void, Objectinitaux_18064)(void* Dest_18066, TNimNode* N_18068) {
NI D_18069;
NI I_18077;
NI HEX3Atmp_19850;
NI Res_19852;
TNimNode* M_18078;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "objectInitAux";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/assign.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
D_18069 = 0;
F.line = 93;F.filename = "assign.nim";
D_18069 = ((NI) (Dest_18066));
F.line = 94;F.filename = "assign.nim";
switch ((*N_18068).kind) {
case ((NU8) 0):
F.line = 95;F.filename = "assign.nim";
break;
case ((NU8) 1):
F.line = 96;F.filename = "assign.nim";
objectInit(((void*) ((NI32)((NU32)(D_18069) + (NU32)((*N_18068).offset)))), (*N_18068).typ);
break;
case ((NU8) 2):
I_18077 = 0;
HEX3Atmp_19850 = 0;
F.line = 98;F.filename = "assign.nim";
HEX3Atmp_19850 = (NI32)((*N_18068).len - 1);
Res_19852 = 0;
F.line = 1019;F.filename = "system.nim";
Res_19852 = 0;
F.line = 1020;F.filename = "system.nim";
while (1) {
if (!(Res_19852 <= HEX3Atmp_19850)) goto LA1;
F.line = 1019;F.filename = "system.nim";
I_18077 = Res_19852;
F.line = 99;F.filename = "assign.nim";
Objectinitaux_18064(Dest_18066, (*N_18068).sons[(I_18077)-0]);
F.line = 1022;F.filename = "system.nim";
Res_19852 += 1;
} LA1: ;
break;
case ((NU8) 3):
M_18078 = 0;
F.line = 101;F.filename = "assign.nim";
M_18078 = Selectbranch_7063(Dest_18066, N_18068);
F.line = 102;F.filename = "assign.nim";
if (!!((M_18078 == NIM_NIL))) goto LA3;
F.line = 102;F.filename = "assign.nim";
Objectinitaux_18064(Dest_18066, M_18078);
LA3: ;
break;
}
framePtr = framePtr->prev;
}
N_NIMCALL(NimStringDesc*, reprInt)(NI64 X_18107) {
NimStringDesc* Result_18108;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "reprInt";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/repr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_18108 = 0;
F.line = 15;F.filename = "repr.nim";
F.line = 15;F.filename = "repr.nim";
Result_18108 = nimInt64ToStr(X_18107);
goto BeforeRet;
BeforeRet: ;
framePtr = framePtr->prev;
return Result_18108;
}
N_NIMCALL(NimStringDesc*, reprFloat)(NF X_18113) {
NimStringDesc* Result_18114;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "reprFloat";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/repr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_18114 = 0;
F.line = 16;F.filename = "repr.nim";
F.line = 16;F.filename = "repr.nim";
Result_18114 = nimFloatToStr(X_18113);
goto BeforeRet;
BeforeRet: ;
framePtr = framePtr->prev;
return Result_18114;
}
N_NIMCALL(NimStringDesc*, reprPointer)(void* X_18117) {
NimStringDesc* Result_18118;
TY17862 Buf_18121;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "reprPointer";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/repr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_18118 = 0;
memset((void*)&Buf_18121, 0, sizeof(Buf_18121));
F.line = 20;F.filename = "repr.nim";
sprintf(((NCSTRING) (Buf_18121)), "%p", X_18117);
F.line = 21;F.filename = "repr.nim";
F.line = 21;F.filename = "repr.nim";
Result_18118 = cstrToNimstr(((NCSTRING) (Buf_18121)));
goto BeforeRet;
BeforeRet: ;
framePtr = framePtr->prev;
return Result_18118;
}
N_NIMCALL(void, Reprstraux_18122)(NimStringDesc** Result_18125, NimStringDesc* S_18126) {
NimStringDesc* LOC4;
NimStringDesc* LOC5;
NIM_CHAR C_18137;
NI I_19863;
NimStringDesc* LOC7;
NimStringDesc* LOC8;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "reprStrAux";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/repr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 24;F.filename = "repr.nim";
if (!(((void*) (S_18126)) == NIM_NIL)) goto LA2;
F.line = 25;F.filename = "repr.nim";
(*Result_18125) = resizeString((*Result_18125), 3);
appendString((*Result_18125), ((NimStringDesc*) &TMP19966));
F.line = 26;F.filename = "repr.nim";
goto BeforeRet;
LA2: ;
F.line = 27;F.filename = "repr.nim";
LOC4 = 0;
LOC5 = 0;
LOC5 = reprPointer(((void*) (S_18126)));
LOC4 = rawNewString(LOC5->Sup.len + 1);
appendString(LOC4, LOC5);
appendString(LOC4, ((NimStringDesc*) &TMP19967));
(*Result_18125) = resizeString((*Result_18125), LOC4->Sup.len + 0);
appendString((*Result_18125), LOC4);
C_18137 = 0;
I_19863 = 0;
F.line = 1077;F.filename = "system.nim";
I_19863 = 0;
F.line = 1078;F.filename = "system.nim";
while (1) {
if (!(I_19863 < S_18126->Sup.len)) goto LA6;
F.line = 1079;F.filename = "system.nim";
C_18137 = S_18126->data[I_19863];
F.line = 29;F.filename = "repr.nim";
switch (((NU8)(C_18137))) {
case 34:
F.line = 30;F.filename = "repr.nim";
(*Result_18125) = resizeString((*Result_18125), 2);
appendString((*Result_18125), ((NimStringDesc*) &TMP19968));
break;
case 92:
F.line = 31;F.filename = "repr.nim";
(*Result_18125) = resizeString((*Result_18125), 2);
appendString((*Result_18125), ((NimStringDesc*) &TMP19969));
break;
case 10:
F.line = 32;F.filename = "repr.nim";
(*Result_18125) = resizeString((*Result_18125), 7);
appendString((*Result_18125), ((NimStringDesc*) &TMP19970));
break;
case 128 ... 255:
case 0 ... 9:
case 11 ... 31:
F.line = 34;F.filename = "repr.nim";
LOC7 = 0;
LOC8 = 0;
LOC8 = reprInt(((NI64) (((NU8)(C_18137)))));
LOC7 = rawNewString(LOC8->Sup.len + 1);
appendString(LOC7, ((NimStringDesc*) &TMP19971));
appendString(LOC7, LOC8);
(*Result_18125) = resizeString((*Result_18125), LOC7->Sup.len + 0);
appendString((*Result_18125), LOC7);
break;
default:
F.line = 35;F.filename = "repr.nim";
(*Result_18125) = addChar((*Result_18125), C_18137);
break;
}
F.line = 1080;F.filename = "system.nim";
I_19863 += 1;
} LA6: ;
F.line = 36;F.filename = "repr.nim";
(*Result_18125) = resizeString((*Result_18125), 1);
appendString((*Result_18125), ((NimStringDesc*) &TMP19967));
BeforeRet: ;
framePtr = framePtr->prev;
}
N_NIMCALL(NimStringDesc*, reprStr)(NimStringDesc* S_18153) {
NimStringDesc* Result_18154;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "reprStr";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/repr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_18154 = 0;
F.line = 39;F.filename = "repr.nim";
Result_18154 = copyString(((NimStringDesc*) &TMP19925));
F.line = 40;F.filename = "repr.nim";
Reprstraux_18122(&Result_18154, S_18153);
framePtr = framePtr->prev;
return Result_18154;
}
N_NIMCALL(NimStringDesc*, reprBool)(NIM_BOOL X_18158) {
NimStringDesc* Result_18159;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "reprBool";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/repr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_18159 = 0;
F.line = 43;F.filename = "repr.nim";
if (!X_18158) goto LA2;
F.line = 43;F.filename = "repr.nim";
Result_18159 = copyString(((NimStringDesc*) &TMP19926));
goto LA1;
LA2: ;
F.line = 44;F.filename = "repr.nim";
Result_18159 = copyString(((NimStringDesc*) &TMP19927));
LA1: ;
framePtr = framePtr->prev;
return Result_18159;
}
N_NIMCALL(NimStringDesc*, reprChar)(NIM_CHAR X_18162) {
NimStringDesc* Result_18163;
NimStringDesc* LOC1;
NimStringDesc* LOC2;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "reprChar";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/repr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_18163 = 0;
F.line = 47;F.filename = "repr.nim";
Result_18163 = copyString(((NimStringDesc*) &TMP19972));
F.line = 48;F.filename = "repr.nim";
switch (((NU8)(X_18162))) {
case 34:
F.line = 49;F.filename = "repr.nim";
Result_18163 = resizeString(Result_18163, 2);
appendString(Result_18163, ((NimStringDesc*) &TMP19968));
break;
case 92:
F.line = 50;F.filename = "repr.nim";
Result_18163 = resizeString(Result_18163, 2);
appendString(Result_18163, ((NimStringDesc*) &TMP19969));
break;
case 128 ... 255:
case 0 ... 31:
F.line = 51;F.filename = "repr.nim";
LOC1 = 0;
LOC2 = 0;
LOC2 = reprInt(((NI64) (((NU8)(X_18162)))));
LOC1 = rawNewString(LOC2->Sup.len + 1);
appendString(LOC1, ((NimStringDesc*) &TMP19971));
appendString(LOC1, LOC2);
Result_18163 = resizeString(Result_18163, LOC1->Sup.len + 0);
appendString(Result_18163, LOC1);
break;
default:
F.line = 52;F.filename = "repr.nim";
Result_18163 = addChar(Result_18163, X_18162);
break;
}
F.line = 53;F.filename = "repr.nim";
Result_18163 = resizeString(Result_18163, 1);
appendString(Result_18163, ((NimStringDesc*) &TMP19972));
framePtr = framePtr->prev;
return Result_18163;
}
N_NIMCALL(NimStringDesc*, reprEnum)(NI E_18179, TNimType* Typ_18180) {
NimStringDesc* Result_18181;
NimStringDesc* LOC4;
NimStringDesc* LOC5;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "reprEnum";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/repr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_18181 = 0;
F.line = 56;F.filename = "repr.nim";
if (!((NU32)(E_18179) < (NU32)((*(*Typ_18180).node).len))) goto LA2;
F.line = 57;F.filename = "repr.nim";
Result_18181 = cstrToNimstr((*(*(*Typ_18180).node).sons[(E_18179)-0]).name);
goto LA1;
LA2: ;
F.line = 59;F.filename = "repr.nim";
LOC4 = 0;
LOC5 = 0;
LOC5 = nimIntToStr(E_18179);
LOC4 = rawNewString(LOC5->Sup.len + 16);
appendString(LOC4, LOC5);
appendString(LOC4, ((NimStringDesc*) &TMP19973));
Result_18181 = LOC4;
LA1: ;
framePtr = framePtr->prev;
return Result_18181;
}
N_NIMCALL(void, Addsetelem_18196)(NimStringDesc** Result_18199, NI Elem_18200, TNimType* Typ_18201) {
NimStringDesc* LOC1;
NimStringDesc* LOC2;
NimStringDesc* LOC3;
NimStringDesc* LOC4;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "addSetElem";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/repr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 65;F.filename = "repr.nim";
switch ((*Typ_18201).kind) {
case ((NU8) 14):
F.line = 66;F.filename = "repr.nim";
LOC1 = 0;
LOC1 = reprEnum(Elem_18200, Typ_18201);
(*Result_18199) = resizeString((*Result_18199), LOC1->Sup.len + 0);
appendString((*Result_18199), LOC1);
break;
case ((NU8) 1):
F.line = 67;F.filename = "repr.nim";
LOC2 = 0;
LOC2 = reprBool(((NIM_BOOL) (Elem_18200)));
(*Result_18199) = resizeString((*Result_18199), LOC2->Sup.len + 0);
appendString((*Result_18199), LOC2);
break;
case ((NU8) 2):
F.line = 68;F.filename = "repr.nim";
LOC3 = 0;
LOC3 = reprChar(((NIM_CHAR) (((NI) (Elem_18200)))));
(*Result_18199) = resizeString((*Result_18199), LOC3->Sup.len + 0);
appendString((*Result_18199), LOC3);
break;
case ((NU8) 20):
F.line = 69;F.filename = "repr.nim";
Addsetelem_18196(Result_18199, Elem_18200, (*Typ_18201).base);
break;
case ((NU8) 31) ... ((NU8) 35):
F.line = 70;F.filename = "repr.nim";
LOC4 = 0;
LOC4 = reprInt(((NI64) (Elem_18200)));
(*Result_18199) = resizeString((*Result_18199), LOC4->Sup.len + 0);
appendString((*Result_18199), LOC4);
break;
default:
F.line = 72;F.filename = "repr.nim";
(*Result_18199) = resizeString((*Result_18199), 16);
appendString((*Result_18199), ((NimStringDesc*) &TMP19973));
break;
}
framePtr = framePtr->prev;
}
N_NIMCALL(void, Reprsetaux_18202)(NimStringDesc** Result_18205, void* P_18206, TNimType* Typ_18207) {
NI Elemcounter_18208;
NI64 U_18209;
NI8* A_18214;
NI I_18222;
NI HEX3Atmp_19867;
NI Res_19869;
NI I_18248;
NI Res_19874;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "reprSetAux";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/repr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Elemcounter_18208 = 0;
F.line = 76;F.filename = "repr.nim";
Elemcounter_18208 = 0;
F.line = 78;F.filename = "repr.nim";
(*Result_18205) = resizeString((*Result_18205), 1);
appendString((*Result_18205), ((NimStringDesc*) &TMP19974));
U_18209 = 0;
F.line = 80;F.filename = "repr.nim";
switch ((*Typ_18207).size) {
case 1:
F.line = 81;F.filename = "repr.nim";
U_18209 = ((NI64)(NU64)(NU8)((*((NI8*) (P_18206)))));
break;
case 2:
F.line = 82;F.filename = "repr.nim";
U_18209 = ((NI64)(NU64)(NU16)((*((NI16*) (P_18206)))));
break;
case 4:
F.line = 83;F.filename = "repr.nim";
U_18209 = ((NI64)(NU64)(NU32)((*((NI32*) (P_18206)))));
break;
case 8:
F.line = 84;F.filename = "repr.nim";
U_18209 = (*((NI64*) (P_18206)));
break;
default:
A_18214 = 0;
F.line = 86;F.filename = "repr.nim";
A_18214 = ((NI8*) (P_18206));
I_18222 = 0;
HEX3Atmp_19867 = 0;
F.line = 87;F.filename = "repr.nim";
HEX3Atmp_19867 = (NI32)((NI32)((*Typ_18207).size * 8) - 1);
Res_19869 = 0;
F.line = 1019;F.filename = "system.nim";
Res_19869 = 0;
F.line = 1020;F.filename = "system.nim";
while (1) {
if (!(Res_19869 <= HEX3Atmp_19867)) goto LA1;
F.line = 1019;F.filename = "system.nim";
I_18222 = Res_19869;
F.line = 88;F.filename = "repr.nim";
if (!!(((NI32)(((NI)(NU)(NU8)(A_18214[((NI32)(I_18222 / 8))-0])) & (NI32)((NU32)(1) << (NU32)((NI32)(I_18222 % 8)))) == 0))) goto LA3;
F.line = 89;F.filename = "repr.nim";
if (!(0 < Elemcounter_18208)) goto LA6;
F.line = 89;F.filename = "repr.nim";
(*Result_18205) = resizeString((*Result_18205), 2);
appendString((*Result_18205), ((NimStringDesc*) &TMP19975));
LA6: ;
F.line = 90;F.filename = "repr.nim";
Addsetelem_18196(Result_18205, (NI32)(I_18222 + (*(*Typ_18207).node).len), (*Typ_18207).base);
F.line = 91;F.filename = "repr.nim";
Elemcounter_18208 += 1;
LA3: ;
F.line = 1022;F.filename = "system.nim";
Res_19869 += 1;
} LA1: ;
break;
}
F.line = 92;F.filename = "repr.nim";
if (!((*Typ_18207).size <= 8)) goto LA9;
I_18248 = 0;
Res_19874 = 0;
F.line = 1019;F.filename = "system.nim";
Res_19874 = 0;
F.line = 1020;F.filename = "system.nim";
while (1) {
if (!(Res_19874 <= 63)) goto LA11;
F.line = 1019;F.filename = "system.nim";
I_18248 = Res_19874;
F.line = 94;F.filename = "repr.nim";
if (!!(((U_18209 & ((NI64) ((NI32)((NU32)(1) << (NU32)(I_18248))))) == 0))) goto LA13;
F.line = 95;F.filename = "repr.nim";
if (!(0 < Elemcounter_18208)) goto LA16;
F.line = 95;F.filename = "repr.nim";
(*Result_18205) = resizeString((*Result_18205), 2);
appendString((*Result_18205), ((NimStringDesc*) &TMP19975));
LA16: ;
F.line = 96;F.filename = "repr.nim";
Addsetelem_18196(Result_18205, (NI32)(I_18248 + (*(*Typ_18207).node).len), (*Typ_18207).base);
F.line = 97;F.filename = "repr.nim";
Elemcounter_18208 += 1;
LA13: ;
F.line = 1022;F.filename = "system.nim";
Res_19874 += 1;
} LA11: ;
LA9: ;
F.line = 98;F.filename = "repr.nim";
(*Result_18205) = resizeString((*Result_18205), 1);
appendString((*Result_18205), ((NimStringDesc*) &TMP19976));
framePtr = framePtr->prev;
}
N_NIMCALL(NimStringDesc*, reprSet)(void* P_18267, TNimType* Typ_18268) {
NimStringDesc* Result_18269;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "reprSet";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/repr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_18269 = 0;
F.line = 101;F.filename = "repr.nim";
Result_18269 = copyString(((NimStringDesc*) &TMP19925));
F.line = 102;F.filename = "repr.nim";
Reprsetaux_18202(&Result_18269, P_18267, Typ_18268);
framePtr = framePtr->prev;
return Result_18269;
}
N_NIMCALL(void, Initreprclosure_18276)(TY18272* Cl_18279) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "initReprClosure";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/repr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 113;F.filename = "repr.nim";
Init_10488(&(*Cl_18279).Marked);
F.line = 114;F.filename = "repr.nim";
(*Cl_18279).Recdepth = -1;
F.line = 115;F.filename = "repr.nim";
(*Cl_18279).Indent = 0;
framePtr = framePtr->prev;
}
N_NIMCALL(void, Deinitreprclosure_18281)(TY18272* Cl_18284) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "deinitReprClosure";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/repr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 118;F.filename = "repr.nim";
Deinit_10492(&(*Cl_18284).Marked);
framePtr = framePtr->prev;
}
N_NIMCALL(void, Reprbreak_18286)(NimStringDesc** Result_18289, TY18272* Cl_18290) {
NI I_18298;
NI HEX3Atmp_19878;
NI Res_19880;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "reprBreak";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/repr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 121;F.filename = "repr.nim";
(*Result_18289) = resizeString((*Result_18289), 2);
appendString((*Result_18289), ((NimStringDesc*) &TMP19912));
I_18298 = 0;
HEX3Atmp_19878 = 0;
F.line = 122;F.filename = "repr.nim";
HEX3Atmp_19878 = (NI32)((*Cl_18290).Indent - 1);
Res_19880 = 0;
F.line = 1019;F.filename = "system.nim";
Res_19880 = 0;
F.line = 1020;F.filename = "system.nim";
while (1) {
if (!(Res_19880 <= HEX3Atmp_19878)) goto LA1;
F.line = 1019;F.filename = "system.nim";
I_18298 = Res_19880;
F.line = 122;F.filename = "repr.nim";
(*Result_18289) = addChar((*Result_18289), 32);
F.line = 1022;F.filename = "system.nim";
Res_19880 += 1;
} LA1: ;
framePtr = framePtr->prev;
}
N_NIMCALL(void, Reprrecordaux_18353)(NimStringDesc** Result_18356, void* P_18357, TNimNode* N_18359, TY18272* Cl_18361) {
NimStringDesc* LOC1;
NI I_18369;
NI HEX3Atmp_19896;
NI Res_19898;
TNimNode* M_18372;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "reprRecordAux";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/repr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 151;F.filename = "repr.nim";
switch ((*N_18359).kind) {
case ((NU8) 0):
F.line = 152;F.filename = "repr.nim";
break;
case ((NU8) 1):
F.line = 154;F.filename = "repr.nim";
LOC1 = 0;
LOC1 = cstrToNimstr((*N_18359).name);
(*Result_18356) = resizeString((*Result_18356), LOC1->Sup.len + 0);
appendString((*Result_18356), LOC1);
F.line = 155;F.filename = "repr.nim";
(*Result_18356) = resizeString((*Result_18356), 3);
appendString((*Result_18356), ((NimStringDesc*) &TMP19979));
F.line = 156;F.filename = "repr.nim";
Repraux_18299(Result_18356, ((void*) ((NI32)(((NI) (P_18357)) + (*N_18359).offset))), (*N_18359).typ, Cl_18361);
break;
case ((NU8) 2):
I_18369 = 0;
HEX3Atmp_19896 = 0;
F.line = 158;F.filename = "repr.nim";
HEX3Atmp_19896 = (NI32)((*N_18359).len - 1);
Res_19898 = 0;
F.line = 1019;F.filename = "system.nim";
Res_19898 = 0;
F.line = 1020;F.filename = "system.nim";
while (1) {
if (!(Res_19898 <= HEX3Atmp_19896)) goto LA2;
F.line = 1019;F.filename = "system.nim";
I_18369 = Res_19898;
F.line = 159;F.filename = "repr.nim";
if (!(0 < I_18369)) goto LA4;
F.line = 159;F.filename = "repr.nim";
(*Result_18356) = resizeString((*Result_18356), 3);
appendString((*Result_18356), ((NimStringDesc*) &TMP19980));
LA4: ;
F.line = 160;F.filename = "repr.nim";
Reprrecordaux_18353(Result_18356, P_18357, (*N_18359).sons[(I_18369)-0], Cl_18361);
F.line = 1022;F.filename = "system.nim";
Res_19898 += 1;
} LA2: ;
break;
case ((NU8) 3):
M_18372 = 0;
F.line = 162;F.filename = "repr.nim";
M_18372 = Selectbranch_7063(P_18357, N_18359);
F.line = 163;F.filename = "repr.nim";
Repraux_18299(Result_18356, ((void*) ((NI32)(((NI) (P_18357)) + (*N_18359).offset))), (*N_18359).typ, Cl_18361);
F.line = 164;F.filename = "repr.nim";
if (!!((M_18372 == NIM_NIL))) goto LA7;
F.line = 164;F.filename = "repr.nim";
Reprrecordaux_18353(Result_18356, P_18357, M_18372, Cl_18361);
LA7: ;
break;
}
framePtr = framePtr->prev;
}
N_NIMCALL(void, Reprrecord_18384)(NimStringDesc** Result_18387, void* P_18388, TNimType* Typ_18389, TY18272* Cl_18391) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "reprRecord";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/repr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 168;F.filename = "repr.nim";
(*Result_18387) = resizeString((*Result_18387), 1);
appendString((*Result_18387), ((NimStringDesc*) &TMP19977));
F.line = 169;F.filename = "repr.nim";
Reprrecordaux_18353(Result_18387, P_18388, (*Typ_18389).node, Cl_18391);
F.line = 170;F.filename = "repr.nim";
(*Result_18387) = resizeString((*Result_18387), 1);
appendString((*Result_18387), ((NimStringDesc*) &TMP19981));
framePtr = framePtr->prev;
}
N_NIMCALL(void, Reprref_18392)(NimStringDesc** Result_18395, void* P_18396, TNimType* Typ_18397, TY18272* Cl_18399) {
TY10402* Cell_18400;
NimStringDesc* LOC1;
NimStringDesc* LOC2;
NIM_BOOL LOC4;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "reprRef";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/repr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Cell_18400 = 0;
F.line = 178;F.filename = "repr.nim";
Cell_18400 = Usrtocell_10836(P_18396);
F.line = 179;F.filename = "repr.nim";
LOC1 = 0;
LOC2 = 0;
LOC2 = reprPointer(P_18396);
LOC1 = rawNewString(LOC2->Sup.len + 4);
appendString(LOC1, ((NimStringDesc*) &TMP19982));
appendString(LOC1, LOC2);
(*Result_18395) = resizeString((*Result_18395), LOC1->Sup.len + 0);
appendString((*Result_18395), LOC1);
F.line = 180;F.filename = "repr.nim";
LOC4 = Contains_10654((*Cl_18399).Marked, Cell_18400);
if (!!(LOC4)) goto LA5;
F.line = 182;F.filename = "repr.nim";
Incl_10674(&(*Cl_18399).Marked, Cell_18400);
F.line = 183;F.filename = "repr.nim";
(*Result_18395) = resizeString((*Result_18395), 5);
appendString((*Result_18395), ((NimStringDesc*) &TMP19983));
F.line = 184;F.filename = "repr.nim";
Repraux_18299(Result_18395, P_18396, (*Typ_18397).base, Cl_18399);
LA5: ;
framePtr = framePtr->prev;
}
N_NIMCALL(void, Reprsequence_18326)(NimStringDesc** Result_18329, void* P_18330, TNimType* Typ_18331, TY18272* Cl_18333) {
NimStringDesc* LOC4;
NimStringDesc* LOC5;
NI Bs_18342;
NI I_18350;
NI HEX3Atmp_19890;
NI Res_19892;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "reprSequence";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/repr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 138;F.filename = "repr.nim";
if (!(P_18330 == NIM_NIL)) goto LA2;
F.line = 139;F.filename = "repr.nim";
(*Result_18329) = resizeString((*Result_18329), 3);
appendString((*Result_18329), ((NimStringDesc*) &TMP19966));
F.line = 140;F.filename = "repr.nim";
goto BeforeRet;
LA2: ;
F.line = 141;F.filename = "repr.nim";
LOC4 = 0;
LOC5 = 0;
LOC5 = reprPointer(P_18330);
LOC4 = rawNewString(LOC5->Sup.len + 1);
appendString(LOC4, LOC5);
appendString(LOC4, ((NimStringDesc*) &TMP19977));
(*Result_18329) = resizeString((*Result_18329), LOC4->Sup.len + 0);
appendString((*Result_18329), LOC4);
Bs_18342 = 0;
F.line = 142;F.filename = "repr.nim";
Bs_18342 = (*(*Typ_18331).base).size;
I_18350 = 0;
HEX3Atmp_19890 = 0;
F.line = 143;F.filename = "repr.nim";
HEX3Atmp_19890 = (NI32)((*((TGenericSeq*) (P_18330))).len - 1);
Res_19892 = 0;
F.line = 1019;F.filename = "system.nim";
Res_19892 = 0;
F.line = 1020;F.filename = "system.nim";
while (1) {
if (!(Res_19892 <= HEX3Atmp_19890)) goto LA6;
F.line = 1019;F.filename = "system.nim";
I_18350 = Res_19892;
F.line = 144;F.filename = "repr.nim";
if (!(0 < I_18350)) goto LA8;
F.line = 144;F.filename = "repr.nim";
(*Result_18329) = resizeString((*Result_18329), 2);
appendString((*Result_18329), ((NimStringDesc*) &TMP19975));
LA8: ;
F.line = 145;F.filename = "repr.nim";
Repraux_18299(Result_18329, ((void*) ((NI32)((NI32)(((NI) (P_18330)) + 8) + (NI32)(I_18350 * Bs_18342)))), (*Typ_18331).base, Cl_18333);
F.line = 1022;F.filename = "system.nim";
Res_19892 += 1;
} LA6: ;
F.line = 147;F.filename = "repr.nim";
(*Result_18329) = resizeString((*Result_18329), 1);
appendString((*Result_18329), ((NimStringDesc*) &TMP19981));
BeforeRet: ;
framePtr = framePtr->prev;
}
N_NIMCALL(void, Repraux_18299)(NimStringDesc** Result_18302, void* P_18303, TNimType* Typ_18304, TY18272* Cl_18306) {
TNimType* T_18635;
NimStringDesc* LOC7;
NimStringDesc* LOC8;
NimStringDesc* LOC9;
NimStringDesc* LOC10;
NimStringDesc* LOC11;
NimStringDesc* LOC12;
NimStringDesc* LOC13;
NimStringDesc* LOC14;
NimStringDesc* LOC15;
NimStringDesc* LOC16;
NimStringDesc* LOC17;
NimStringDesc* LOC18;
NimStringDesc* LOC22;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "reprAux";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/repr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 188;F.filename = "repr.nim";
if (!((*Cl_18306).Recdepth == 0)) goto LA2;
F.line = 189;F.filename = "repr.nim";
(*Result_18302) = resizeString((*Result_18302), 3);
appendString((*Result_18302), ((NimStringDesc*) &TMP19978));
F.line = 190;F.filename = "repr.nim";
goto BeforeRet;
LA2: ;
F.line = 191;F.filename = "repr.nim";
(*Cl_18306).Recdepth -= 1;
F.line = 192;F.filename = "repr.nim";
switch ((*Typ_18304).kind) {
case ((NU8) 19):
F.line = 193;F.filename = "repr.nim";
Reprsetaux_18202(Result_18302, P_18303, Typ_18304);
break;
case ((NU8) 16):
F.line = 194;F.filename = "repr.nim";
Reprarray_18307(Result_18302, P_18303, Typ_18304, Cl_18306);
break;
case ((NU8) 18):
case ((NU8) 40):
F.line = 195;F.filename = "repr.nim";
Reprrecord_18384(Result_18302, P_18303, Typ_18304, Cl_18306);
break;
case ((NU8) 17):
T_18635 = 0;
F.line = 197;F.filename = "repr.nim";
T_18635 = (*((TNimType**) (P_18303)));
F.line = 198;F.filename = "repr.nim";
Reprrecord_18384(Result_18302, P_18303, T_18635, Cl_18306);
break;
case ((NU8) 22):
case ((NU8) 21):
F.line = 200;F.filename = "repr.nim";
F.line = 201;F.filename = "repr.nim";
if (!((*((void**) (P_18303))) == NIM_NIL)) goto LA5;
F.line = 201;F.filename = "repr.nim";
(*Result_18302) = resizeString((*Result_18302), 3);
appendString((*Result_18302), ((NimStringDesc*) &TMP19966));
goto LA4;
LA5: ;
F.line = 202;F.filename = "repr.nim";
Reprref_18392(Result_18302, (*((void**) (P_18303))), Typ_18304, Cl_18306);
LA4: ;
break;
case ((NU8) 24):
F.line = 204;F.filename = "repr.nim";
Reprsequence_18326(Result_18302, (*((void**) (P_18303))), Typ_18304, Cl_18306);
break;
case ((NU8) 31):
F.line = 205;F.filename = "repr.nim";
LOC7 = 0;
LOC7 = nimIntToStr((*((NI*) (P_18303))));
(*Result_18302) = resizeString((*Result_18302), LOC7->Sup.len + 0);
appendString((*Result_18302), LOC7);
break;
case ((NU8) 32):
F.line = 206;F.filename = "repr.nim";
LOC8 = 0;
LOC8 = nimIntToStr(((NI) ((*((NI8*) (P_18303))))));
(*Result_18302) = resizeString((*Result_18302), LOC8->Sup.len + 0);
appendString((*Result_18302), LOC8);
break;
case ((NU8) 33):
F.line = 207;F.filename = "repr.nim";
LOC9 = 0;
LOC9 = nimIntToStr(((NI) ((*((NI16*) (P_18303))))));
(*Result_18302) = resizeString((*Result_18302), LOC9->Sup.len + 0);
appendString((*Result_18302), LOC9);
break;
case ((NU8) 34):
F.line = 208;F.filename = "repr.nim";
LOC10 = 0;
LOC10 = nimIntToStr(((NI) ((*((NI32*) (P_18303))))));
(*Result_18302) = resizeString((*Result_18302), LOC10->Sup.len + 0);
appendString((*Result_18302), LOC10);
break;
case ((NU8) 35):
F.line = 209;F.filename = "repr.nim";
LOC11 = 0;
LOC11 = nimInt64ToStr((*((NI64*) (P_18303))));
(*Result_18302) = resizeString((*Result_18302), LOC11->Sup.len + 0);
appendString((*Result_18302), LOC11);
break;
case ((NU8) 36):
F.line = 210;F.filename = "repr.nim";
LOC12 = 0;
LOC12 = nimFloatToStr((*((NF*) (P_18303))));
(*Result_18302) = resizeString((*Result_18302), LOC12->Sup.len + 0);
appendString((*Result_18302), LOC12);
break;
case ((NU8) 37):
F.line = 211;F.filename = "repr.nim";
LOC13 = 0;
LOC13 = nimFloatToStr(((NF) ((*((NF32*) (P_18303))))));
(*Result_18302) = resizeString((*Result_18302), LOC13->Sup.len + 0);
appendString((*Result_18302), LOC13);
break;
case ((NU8) 38):
F.line = 212;F.filename = "repr.nim";
LOC14 = 0;
LOC14 = nimFloatToStr(((NF) ((*((NF64*) (P_18303))))));
(*Result_18302) = resizeString((*Result_18302), LOC14->Sup.len + 0);
appendString((*Result_18302), LOC14);
break;
case ((NU8) 14):
F.line = 213;F.filename = "repr.nim";
LOC15 = 0;
LOC15 = reprEnum((*((NI*) (P_18303))), Typ_18304);
(*Result_18302) = resizeString((*Result_18302), LOC15->Sup.len + 0);
appendString((*Result_18302), LOC15);
break;
case ((NU8) 1):
F.line = 214;F.filename = "repr.nim";
LOC16 = 0;
LOC16 = reprBool((*((NIM_BOOL*) (P_18303))));
(*Result_18302) = resizeString((*Result_18302), LOC16->Sup.len + 0);
appendString((*Result_18302), LOC16);
break;
case ((NU8) 2):
F.line = 215;F.filename = "repr.nim";
LOC17 = 0;
LOC17 = reprChar((*((NIM_CHAR*) (P_18303))));
(*Result_18302) = resizeString((*Result_18302), LOC17->Sup.len + 0);
appendString((*Result_18302), LOC17);
break;
case ((NU8) 28):
F.line = 216;F.filename = "repr.nim";
Reprstraux_18122(Result_18302, (*((NimStringDesc**) (P_18303))));
break;
case ((NU8) 29):
F.line = 217;F.filename = "repr.nim";
LOC18 = 0;
LOC18 = cstrToNimstr((*((NCSTRING*) (P_18303))));
Reprstraux_18122(Result_18302, LOC18);
break;
case ((NU8) 20):
F.line = 218;F.filename = "repr.nim";
Repraux_18299(Result_18302, P_18303, (*Typ_18304).base, Cl_18306);
break;
case ((NU8) 25):
case ((NU8) 26):
F.line = 220;F.filename = "repr.nim";
if (!((*((void**) (P_18303))) == NIM_NIL)) goto LA20;
F.line = 220;F.filename = "repr.nim";
(*Result_18302) = resizeString((*Result_18302), 3);
appendString((*Result_18302), ((NimStringDesc*) &TMP19966));
goto LA19;
LA20: ;
F.line = 221;F.filename = "repr.nim";
LOC22 = 0;
LOC22 = reprPointer((*((void**) (P_18303))));
(*Result_18302) = resizeString((*Result_18302), LOC22->Sup.len + 0);
appendString((*Result_18302), LOC22);
LA19: ;
break;
default:
F.line = 223;F.filename = "repr.nim";
(*Result_18302) = resizeString((*Result_18302), 15);
appendString((*Result_18302), ((NimStringDesc*) &TMP19984));
break;
}
F.line = 224;F.filename = "repr.nim";
(*Cl_18306).Recdepth += 1;
BeforeRet: ;
framePtr = framePtr->prev;
}
N_NIMCALL(void, Reprarray_18307)(NimStringDesc** Result_18310, void* P_18311, TNimType* Typ_18312, TY18272* Cl_18314) {
NI Bs_18315;
NI I_18323;
NI HEX3Atmp_19884;
NI Res_19886;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "reprArray";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/repr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 129;F.filename = "repr.nim";
(*Result_18310) = resizeString((*Result_18310), 1);
appendString((*Result_18310), ((NimStringDesc*) &TMP19977));
Bs_18315 = 0;
F.line = 130;F.filename = "repr.nim";
Bs_18315 = (*(*Typ_18312).base).size;
I_18323 = 0;
HEX3Atmp_19884 = 0;
F.line = 131;F.filename = "repr.nim";
HEX3Atmp_19884 = (NI32)((NI32)((*Typ_18312).size / Bs_18315) - 1);
Res_19886 = 0;
F.line = 1019;F.filename = "system.nim";
Res_19886 = 0;
F.line = 1020;F.filename = "system.nim";
while (1) {
if (!(Res_19886 <= HEX3Atmp_19884)) goto LA1;
F.line = 1019;F.filename = "system.nim";
I_18323 = Res_19886;
F.line = 132;F.filename = "repr.nim";
if (!(0 < I_18323)) goto LA3;
F.line = 132;F.filename = "repr.nim";
(*Result_18310) = resizeString((*Result_18310), 2);
appendString((*Result_18310), ((NimStringDesc*) &TMP19975));
LA3: ;
F.line = 133;F.filename = "repr.nim";
Repraux_18299(Result_18310, ((void*) ((NI32)(((NI) (P_18311)) + (NI32)(I_18323 * Bs_18315)))), (*Typ_18312).base, Cl_18314);
F.line = 1022;F.filename = "system.nim";
Res_19886 += 1;
} LA1: ;
F.line = 134;F.filename = "repr.nim";
(*Result_18310) = resizeString((*Result_18310), 1);
appendString((*Result_18310), ((NimStringDesc*) &TMP19981));
framePtr = framePtr->prev;
}
N_NIMCALL(NimStringDesc*, reprOpenArray)(void* P_18803, NI Length_18804, TNimType* Elemtyp_18805) {
NimStringDesc* Result_18806;
TY18272 Cl_18807;
NI Bs_18809;
NI I_18817;
NI HEX3Atmp_19902;
NI Res_19904;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "reprOpenArray";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/repr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_18806 = 0;
memset((void*)&Cl_18807, 0, sizeof(Cl_18807));
F.line = 230;F.filename = "repr.nim";
Initreprclosure_18276(&Cl_18807);
F.line = 231;F.filename = "repr.nim";
Result_18806 = copyString(((NimStringDesc*) &TMP19977));
Bs_18809 = 0;
F.line = 232;F.filename = "repr.nim";
Bs_18809 = (*Elemtyp_18805).size;
I_18817 = 0;
HEX3Atmp_19902 = 0;
F.line = 233;F.filename = "repr.nim";
HEX3Atmp_19902 = (NI32)(Length_18804 - 1);
Res_19904 = 0;
F.line = 1019;F.filename = "system.nim";
Res_19904 = 0;
F.line = 1020;F.filename = "system.nim";
while (1) {
if (!(Res_19904 <= HEX3Atmp_19902)) goto LA1;
F.line = 1019;F.filename = "system.nim";
I_18817 = Res_19904;
F.line = 234;F.filename = "repr.nim";
if (!(0 < I_18817)) goto LA3;
F.line = 234;F.filename = "repr.nim";
Result_18806 = resizeString(Result_18806, 2);
appendString(Result_18806, ((NimStringDesc*) &TMP19975));
LA3: ;
F.line = 235;F.filename = "repr.nim";
Repraux_18299(&Result_18806, ((void*) ((NI32)(((NI) (P_18803)) + (NI32)(I_18817 * Bs_18809)))), Elemtyp_18805, &Cl_18807);
F.line = 1022;F.filename = "system.nim";
Res_19904 += 1;
} LA1: ;
F.line = 236;F.filename = "repr.nim";
Result_18806 = resizeString(Result_18806, 1);
appendString(Result_18806, ((NimStringDesc*) &TMP19981));
F.line = 237;F.filename = "repr.nim";
Deinitreprclosure_18281(&Cl_18807);
framePtr = framePtr->prev;
return Result_18806;
}
N_NIMCALL(NimStringDesc*, reprAny)(void* P_7041, TNimType* Typ_7042) {
NimStringDesc* Result_18827;
TY18272 Cl_18828;
void* P_18844;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "reprAny";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/repr.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_18827 = 0;
memset((void*)&Cl_18828, 0, sizeof(Cl_18828));
F.line = 243;F.filename = "repr.nim";
Initreprclosure_18276(&Cl_18828);
F.line = 244;F.filename = "repr.nim";
Result_18827 = copyString(((NimStringDesc*) &TMP19925));
F.line = 245;F.filename = "repr.nim";
if (!((*Typ_7042).kind == ((NU8) 17) || (*Typ_7042).kind == ((NU8) 40) || (*Typ_7042).kind == ((NU8) 18) || (*Typ_7042).kind == ((NU8) 16) || (*Typ_7042).kind == ((NU8) 19))) goto LA2;
F.line = 246;F.filename = "repr.nim";
Repraux_18299(&Result_18827, P_7041, Typ_7042, &Cl_18828);
goto LA1;
LA2: ;
P_18844 = 0;
F.line = 248;F.filename = "repr.nim";
P_18844 = P_7041;
F.line = 249;F.filename = "repr.nim";
Repraux_18299(&Result_18827, ((void*) (&P_18844)), Typ_7042, &Cl_18828);
LA1: ;
F.line = 250;F.filename = "repr.nim";
Result_18827 = resizeString(Result_18827, 2);
appendString(Result_18827, ((NimStringDesc*) &TMP19912));
F.line = 251;F.filename = "repr.nim";
Deinitreprclosure_18281(&Cl_18828);
framePtr = framePtr->prev;
return Result_18827;
}
static N_INLINE(NimStringDesc*, Getcurrentexceptionmsg_19005)(void) {
NimStringDesc* Result_19007;
E_Base* E_19008;
NimStringDesc* LOC1;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "getCurrentExceptionMsg";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_19007 = 0;
E_19008 = 0;
F.line = 1587;F.filename = "system.nim";
E_19008 = getCurrentException();
F.line = 1588;F.filename = "system.nim";
F.line = 1588;F.filename = "system.nim";
LOC1 = 0;
if (!(E_19008 == NIM_NIL)) goto LA3;
LOC1 = copyString(((NimStringDesc*) &TMP19925));
goto LA2;
LA3: ;
LOC1 = copyString((*E_19008).message);
LA2: ;
Result_19007 = LOC1;
goto BeforeRet;
BeforeRet: ;
framePtr = framePtr->prev;
return Result_19007;
}
N_NIMCALL(void, Listremove_8846)(TY8434** Head_8850, TY8434* C_8851) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "ListRemove";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/alloc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 318;F.filename = "alloc.nim";
F.line = 319;F.filename = "alloc.nim";
if (!(C_8851 == (*Head_8850))) goto LA2;
F.line = 320;F.filename = "alloc.nim";
(*Head_8850) = (*C_8851).Next;
F.line = 321;F.filename = "alloc.nim";
F.line = 322;F.filename = "alloc.nim";
if (!!(((*Head_8850) == NIM_NIL))) goto LA5;
F.line = 322;F.filename = "alloc.nim";
(*(*Head_8850)).Prev = NIM_NIL;
LA5: ;
goto LA1;
LA2: ;
F.line = 324;F.filename = "alloc.nim";
F.line = 325;F.filename = "alloc.nim";
(*(*C_8851).Prev).Next = (*C_8851).Next;
F.line = 326;F.filename = "alloc.nim";
if (!!(((*C_8851).Next == NIM_NIL))) goto LA8;
F.line = 326;F.filename = "alloc.nim";
(*(*C_8851).Next).Prev = (*C_8851).Prev;
LA8: ;
LA1: ;
F.line = 327;F.filename = "alloc.nim";
(*C_8851).Next = NIM_NIL;
F.line = 328;F.filename = "alloc.nim";
(*C_8851).Prev = NIM_NIL;
framePtr = framePtr->prev;
}
N_NIMCALL(NIM_BOOL, Contains_8855)(TY8434* List_8858, TY8434* X_8859) {
NIM_BOOL Result_8860;
TY8434* It_8861;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "contains";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/alloc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_8860 = 0;
It_8861 = 0;
F.line = 294;F.filename = "alloc.nim";
It_8861 = List_8858;
F.line = 295;F.filename = "alloc.nim";
while (1) {
if (!!((It_8861 == NIM_NIL))) goto LA1;
F.line = 296;F.filename = "alloc.nim";
if (!(It_8861 == X_8859)) goto LA3;
F.line = 296;F.filename = "alloc.nim";
F.line = 31;F.filename = "system.nim";
Result_8860 = NIM_TRUE;
goto BeforeRet;
LA3: ;
F.line = 297;F.filename = "alloc.nim";
It_8861 = (*It_8861).Next;
} LA1: ;
BeforeRet: ;
framePtr = framePtr->prev;
return Result_8860;
}
N_NIMCALL(void, Listadd_9207)(TY8434** Head_9211, TY8434* C_9212) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "ListAdd";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/alloc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 308;F.filename = "alloc.nim";
F.line = 309;F.filename = "alloc.nim";
F.line = 310;F.filename = "alloc.nim";
F.line = 311;F.filename = "alloc.nim";
(*C_9212).Next = (*Head_9211);
F.line = 312;F.filename = "alloc.nim";
if (!!(((*Head_9211) == NIM_NIL))) goto LA2;
F.line = 313;F.filename = "alloc.nim";
F.line = 314;F.filename = "alloc.nim";
(*(*Head_9211)).Prev = C_9212;
LA2: ;
F.line = 315;F.filename = "alloc.nim";
(*Head_9211) = C_9212;
framePtr = framePtr->prev;
}
N_NIMCALL(void, Listadd_9426)(TY8432** Head_9430, TY8432* C_9431) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "ListAdd";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/alloc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 308;F.filename = "alloc.nim";
F.line = 309;F.filename = "alloc.nim";
F.line = 310;F.filename = "alloc.nim";
F.line = 311;F.filename = "alloc.nim";
(*C_9431).Next = (*Head_9430);
F.line = 312;F.filename = "alloc.nim";
if (!!(((*Head_9430) == NIM_NIL))) goto LA2;
F.line = 313;F.filename = "alloc.nim";
F.line = 314;F.filename = "alloc.nim";
(*(*Head_9430)).Prev = C_9431;
LA2: ;
F.line = 315;F.filename = "alloc.nim";
(*Head_9430) = C_9431;
framePtr = framePtr->prev;
}
N_NIMCALL(NIM_BOOL, Contains_9435)(TY8432* List_9438, TY8432* X_9439) {
NIM_BOOL Result_9440;
TY8432* It_9441;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "contains";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/alloc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_9440 = 0;
It_9441 = 0;
F.line = 294;F.filename = "alloc.nim";
It_9441 = List_9438;
F.line = 295;F.filename = "alloc.nim";
while (1) {
if (!!((It_9441 == NIM_NIL))) goto LA1;
F.line = 296;F.filename = "alloc.nim";
if (!(It_9441 == X_9439)) goto LA3;
F.line = 296;F.filename = "alloc.nim";
F.line = 31;F.filename = "system.nim";
Result_9440 = NIM_TRUE;
goto BeforeRet;
LA3: ;
F.line = 297;F.filename = "alloc.nim";
It_9441 = (*It_9441).Next;
} LA1: ;
BeforeRet: ;
framePtr = framePtr->prev;
return Result_9440;
}
N_NIMCALL(void, Listremove_9568)(TY8432** Head_9572, TY8432* C_9573) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "ListRemove";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system/alloc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 318;F.filename = "alloc.nim";
F.line = 319;F.filename = "alloc.nim";
if (!(C_9573 == (*Head_9572))) goto LA2;
F.line = 320;F.filename = "alloc.nim";
(*Head_9572) = (*C_9573).Next;
F.line = 321;F.filename = "alloc.nim";
F.line = 322;F.filename = "alloc.nim";
if (!!(((*Head_9572) == NIM_NIL))) goto LA5;
F.line = 322;F.filename = "alloc.nim";
(*(*Head_9572)).Prev = NIM_NIL;
LA5: ;
goto LA1;
LA2: ;
F.line = 324;F.filename = "alloc.nim";
F.line = 325;F.filename = "alloc.nim";
(*(*C_9573).Prev).Next = (*C_9573).Next;
F.line = 326;F.filename = "alloc.nim";
if (!!(((*C_9573).Next == NIM_NIL))) goto LA8;
F.line = 326;F.filename = "alloc.nim";
(*(*C_9573).Next).Prev = (*C_9573).Prev;
LA8: ;
LA1: ;
F.line = 327;F.filename = "alloc.nim";
(*C_9573).Next = NIM_NIL;
F.line = 328;F.filename = "alloc.nim";
(*C_9573).Prev = NIM_NIL;
framePtr = framePtr->prev;
}
N_NOINLINE(void, systemInit)(void) {
NI LOC1;
NI LOC2;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "system";
F.prev = framePtr;
F.filename = "/home/andreas/projects/nimrod/lib/system.nim";
F.line = 0;
framePtr = (TFrame*)&F;
if (!((TMP19908 = nimLoadLibrary((NimStringDesc*) &TMP19909))
)) nimLoadLibraryError((NimStringDesc*) &TMP19910);
Dl_7815 = (TY7816) nimGetProcAddr(TMP19908, "EnterCriticalSection");
Dl_7819 = (TY7820) nimGetProcAddr(TMP19908, "LeaveCriticalSection");
Dl_7811 = (TY7812) nimGetProcAddr(TMP19908, "InitializeCriticalSection");
Dl_7823 = (TY7824) nimGetProcAddr(TMP19908, "CreateThread");
F.len = 0;
F.line = 1240;F.filename = "system.nim";
Dbglinehook_2521 = ((TY2518) (NIM_NIL));
F.line = 1324;F.filename = "system.nim";
Strdesc_2817.size = 4;
F.line = 1325;F.filename = "system.nim";
Strdesc_2817.kind = ((NU8) 28);
F.line = 1326;F.filename = "system.nim";
Strdesc_2817.flags = 2;
F.line = 1327;F.filename = "system.nim";
Initstackbottom_2813();
F.line = 1328;F.filename = "system.nim";
Initgc_2811();
F.line = 1349;F.filename = "system.nim";
LOC1 = fileno(stdin);
setmode(LOC1, O_BINARY);
F.line = 1350;F.filename = "system.nim";
LOC2 = fileno(stdout);
setmode(LOC2, O_BINARY);
F.line = 39;F.filename = "excpt.nim";
excHandler = NIM_NIL;
F.line = 77;F.filename = "excpt.nim";
asgnRefNoCycle((void**) &Stacktracenewline_4459, copyString(((NimStringDesc*) &TMP19912)));
F.line = 240;F.filename = "excpt.nim";
registerSignalHandler();
F.line = 243;F.filename = "excpt.nim";
asgnRefNoCycle((void**) &Gassertionfailed_5051, (EAssertionFailed*) newObj(NTI5050, sizeof(EAssertionFailed)));
(*Gassertionfailed_5051).Sup.Sup.Sup.m_type = NTI436;
F.line = 244;F.filename = "excpt.nim";
asgnRefNoCycle((void**) &Buf_4453, mnewString(2048));
F.line = 245;F.filename = "excpt.nim";
asgnRefNoCycle((void**) &Assertbuf_4454, mnewString(2048));
F.line = 246;F.filename = "excpt.nim";
Buf_4453 = setLengthStr(Buf_4453, 0);
F.line = 247;F.filename = "excpt.nim";
Assertbuf_4454 = setLengthStr(Assertbuf_4454, 0);
F.line = 134;F.filename = "alloc.nim";
F.line = 135;F.filename = "alloc.nim";
F.line = 136;F.filename = "alloc.nim";
F.line = 246;F.filename = "alloc.nim";
Lastsize_8691 = 4096;
F.line = 194;F.filename = "mmdisp.nim";
F.line = 71;F.filename = "gc.nim";
Cyclethreshold_10811 = 4194304;
F.line = 72;F.filename = "gc.nim";
Recgclock_10812 = 0;
framePtr = framePtr->prev;
}

