/* Generated by Nimrod Compiler v0.8.11 */
/*   (c) 2011 Andreas Rumpf */

typedef long int NI;
typedef unsigned long int NU;
#include "nimbase.h"

typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct TY440 TY440;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct TY416 TY416;
typedef struct E_Base E_Base;
typedef struct TNimObject TNimObject;
typedef struct TY10602 TY10602;
typedef struct TY10618 TY10618;
typedef struct TY10996 TY10996;
typedef struct TY10614 TY10614;
typedef struct TY10610 TY10610;
typedef struct TY10994 TY10994;
typedef struct TY34021 TY34021;
typedef NU8 TY21602[32];
struct TGenericSeq {
NI len;
NI space;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct TNimObject {
TNimType* m_type;
};
struct E_Base {
  TNimObject Sup;
E_Base* parent;
NCSTRING name;
NimStringDesc* message;
};
struct TY416 {
  E_Base Sup;
};
struct TY440 {
  TY416 Sup;
};
struct TY10602 {
NI Refcount;
TNimType* Typ;
};
struct TY10618 {
NI Len;
NI Cap;
TY10602** D;
};
struct TY10614 {
NI Counter;
NI Max;
TY10610* Head;
TY10610** Data;
};
struct TY10994 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY10996 {
TY10618 Zct;
TY10618 Decstack;
TY10614 Cycleroots;
TY10618 Tempstack;
TY10994 Stat;
};
typedef NI TY25131[256];
typedef NimStringDesc* TY42805[1];
typedef NI TY8614[16];
struct TY10610 {
TY10610* Next;
NI Key;
TY8614 Bits;
};
struct TY34021 {
  TGenericSeq Sup;
  NimStringDesc* data[SEQ_DECL_SIZE];
};
N_NIMCALL(NIM_CHAR, nsuToLowerChar)(NIM_CHAR C_23419);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* Src_18512);
N_NIMCALL(void, nsuAddf)(NimStringDesc** S_23734, NimStringDesc* Formatstr_23735, NimStringDesc** A_23737, NI A_23737Len0);
static N_INLINE(void, appendString)(NimStringDesc* Dest_18599, NimStringDesc* Src_18600);
N_NIMCALL(NimStringDesc*, resizeString)(NimStringDesc* Dest_18589, NI Addlen_18590);
N_NIMCALL(NimStringDesc*, addChar)(NimStringDesc* S_1803, NIM_CHAR C_1804);
N_NIMCALL(NI, Findnormalized_23706)(NimStringDesc* X_23708, NimStringDesc** Inarray_23710, NI Inarray_23710Len0);
N_NIMCALL(NI, nsuCmpIgnoreStyle)(NimStringDesc* A_23633, NimStringDesc* B_23634);
N_NIMCALL(NimStringDesc*, copyStrLast)(NimStringDesc* S_2328, NI First_2329, NI Last_2330);
N_NIMCALL(void*, newObj)(TNimType* Typ_13710, NI Size_13711);
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13018, void* Src_13019);
static N_INLINE(TY10602*, Usrtocell_11412)(void* Usr_11414);
static N_INLINE(NI, Atomicinc_3221)(NI* Memloc_3224, NI X_3225);
static N_INLINE(NI, Atomicdec_3226)(NI* Memloc_3229, NI X_3230);
static N_INLINE(void, Rtladdzct_12401)(TY10602* C_12403);
N_NOINLINE(void, Addzct_11401)(TY10618* S_11404, TY10602* C_11405);
N_NIMCALL(void, raiseException)(E_Base* E_5604, NCSTRING Ename_5605);
N_NIMCALL(NI, nsuFindCharSet)(NimStringDesc* S_25238, TY21602 Chars_25240, NI Start_25241);
static N_INLINE(void, appendChar)(NimStringDesc* Dest_18616, NIM_CHAR C_18617);
N_NIMCALL(NimStringDesc*, rawNewString)(NI Space_18489);
N_NIMCALL(NimStringDesc*, mnewString)(NI Len_1355);
N_NIMCALL(NI, npuParseInt)(NimStringDesc* S_22051, NI* Number_22053, NI Start_22054);
N_NIMCALL(void, Preprocesssub_25132)(NimStringDesc* Sub_25134, NI* A_25136);
N_NIMCALL(NI, Findaux_25163)(NimStringDesc* S_25165, NimStringDesc* Sub_25166, NI Start_25167, TY25131 A_25168);
N_NIMCALL(NimStringDesc*, nsuFormatOpenArray)(NimStringDesc* Formatstr_23960, NimStringDesc** A_23962, NI A_23962Len0);
N_NIMCALL(void*, newSeq)(TNimType* Typ_14204, NI Len_14205);
N_NIMCALL(TGenericSeq*, incrSeq)(TGenericSeq* Seq_18642, NI Elemsize_18643);
N_NIMCALL(NI, nsuFindStr)(NimStringDesc* S_25208, NimStringDesc* Sub_25209, NI Start_25210);
N_NIMCALL(NI, npuParseFloat)(NimStringDesc* S_22425, NF* Number_22427, NI Start_22428);
N_NIMCALL(NI, npuParseBiggestInt)(NimStringDesc* S_22044, NI64* Number_22046, NI Start_22047);
N_NIMCALL(NimStringDesc*, copyStr)(NimStringDesc* S_2324, NI First_2325);
N_NIMCALL(NimStringDesc*, nimIntToStr)(NI X_19203);
NIM_CONST TY21602 Whitespace_23403 = {
0x00, 0x3E, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;
NIM_CONST TY21602 Letters_23405 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0xFE, 0xFF, 0xFF, 0x07, 0xFE, 0xFF, 0xFF, 0x07,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;
NIM_CONST TY21602 Digits_23407 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0x03,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;
NIM_CONST TY21602 Hexdigits_23409 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0x03,
0x7E, 0x00, 0x00, 0x00, 0x7E, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;
NIM_CONST TY21602 Identchars_23411 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0x03,
0xFE, 0xFF, 0xFF, 0x87, 0xFE, 0xFF, 0xFF, 0x07,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;
NIM_CONST TY21602 Identstartchars_23413 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0xFE, 0xFF, 0xFF, 0x87, 0xFE, 0xFF, 0xFF, 0x07,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;
NIM_CONST TY21602 Newlines_23415 = {
0x00, 0x24, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;
STRING_LITERAL(TMP191602, "", 0);
NIM_CONST TY21602 Patternchars_23738 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0x03,
0xFE, 0xFF, 0xFF, 0x87, 0xFE, 0xFF, 0xFF, 0x07,
0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF}
;
STRING_LITERAL(TMP191603, "invalid format string", 21);
static NIM_CONST TY21602 TMP191637 = {
0x00, 0x02, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP191661, "invalid integer: ", 17);
NIM_CONST TY21602 Chars_23980 = {
0x00, 0x3E, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;
STRING_LITERAL(TMP191711, "invalid float: ", 15);
STRING_LITERAL(TMP191752, "0123456789ABCDEF", 16);
extern TNimType* NTI23864; /* ref EInvalidValue */
extern TNimType* NTI440; /* EInvalidValue */
extern TY10996 Gch_11014;
extern TNimType* NTI34021; /* seq[string] */
N_NIMCALL(NIM_CHAR, nsuToLowerChar)(NIM_CHAR C_23419) {
NIM_CHAR Result_23420;
Result_23420 = 0;
if (!(((NU8)(C_23419)) >= ((NU8)(65)) && ((NU8)(C_23419)) <= ((NU8)(90)))) goto LA2;
Result_23420 = ((NIM_CHAR) (((NI) ((NI32)(((NU8)(C_23419)) + 32)))));
goto LA1;
LA2: ;
Result_23420 = C_23419;
LA1: ;
return Result_23420;
}
N_NIMCALL(NI, nsuCmpIgnoreCase)(NimStringDesc* A_23587, NimStringDesc* B_23588) {
NI Result_23589;
NI I_23590;
NIM_BOOL LOC2;
NIM_CHAR LOC4;
NIM_CHAR LOC5;
Result_23589 = 0;
I_23590 = 0;
I_23590 = 0;
while (1) {
LOC2 = (I_23590 < A_23587->Sup.len);
if (!(LOC2)) goto LA3;
LOC2 = (I_23590 < B_23588->Sup.len);
LA3: ;
if (!LOC2) goto LA1;
LOC4 = nsuToLowerChar(A_23587->data[I_23590]);
LOC5 = nsuToLowerChar(B_23588->data[I_23590]);
Result_23589 = (NI32)(((NU8)(LOC4)) - ((NU8)(LOC5)));
if (!!((Result_23589 == 0))) goto LA7;
goto BeforeRet;
LA7: ;
I_23590 += 1;
} LA1: ;
Result_23589 = (NI32)(A_23587->Sup.len - B_23588->Sup.len);
BeforeRet: ;
return Result_23589;
}
N_NIMCALL(NI, nsuCmpIgnoreStyle)(NimStringDesc* A_23633, NimStringDesc* B_23634) {
NI Result_23635;
NI I_23636;
NI J_23637;
NIM_CHAR Aa_23666;
NIM_CHAR Bb_23667;
NIM_BOOL LOC5;
Result_23635 = 0;
I_23636 = 0;
I_23636 = 0;
J_23637 = 0;
J_23637 = 0;
while (1) {
while (1) {
if (!((NU8)(A_23633->data[I_23636]) == (NU8)(95))) goto LA2;
I_23636 += 1;
} LA2: ;
while (1) {
if (!((NU8)(B_23634->data[J_23637]) == (NU8)(95))) goto LA3;
J_23637 += 1;
} LA3: ;
Aa_23666 = 0;
Aa_23666 = nsuToLowerChar(A_23633->data[I_23636]);
Bb_23667 = 0;
Bb_23667 = nsuToLowerChar(B_23634->data[J_23637]);
Result_23635 = (NI32)(((NU8)(Aa_23666)) - ((NU8)(Bb_23667)));
LOC5 = !((Result_23635 == 0));
if (LOC5) goto LA6;
LOC5 = ((NU8)(Aa_23666) == (NU8)(0));
LA6: ;
if (!LOC5) goto LA7;
goto LA1;
LA7: ;
I_23636 += 1;
J_23637 += 1;
} LA1: ;
return Result_23635;
}
static N_INLINE(void, appendString)(NimStringDesc* Dest_18599, NimStringDesc* Src_18600) {
memcpy(((NCSTRING) (&(*Dest_18599).data[((*Dest_18599).Sup.len)-0])), ((NCSTRING) ((*Src_18600).data)), ((NI32) ((NI32)((NI32)((*Src_18600).Sup.len + 1) * 1))));
(*Dest_18599).Sup.len += (*Src_18600).Sup.len;
}
N_NIMCALL(NI, Findnormalized_23706)(NimStringDesc* X_23708, NimStringDesc** Inarray_23710, NI Inarray_23710Len0) {
NI Result_23711;
NI I_23712;
NI LOC3;
Result_23711 = 0;
I_23712 = 0;
I_23712 = 0;
while (1) {
if (!(I_23712 < (Inarray_23710Len0-1))) goto LA1;
LOC3 = nsuCmpIgnoreStyle(X_23708, Inarray_23710[I_23712]);
if (!(LOC3 == 0)) goto LA4;
Result_23711 = I_23712;
goto BeforeRet;
LA4: ;
I_23712 += 2;
} LA1: ;
Result_23711 = -1;
goto BeforeRet;
BeforeRet: ;
return Result_23711;
}
static N_INLINE(TY10602*, Usrtocell_11412)(void* Usr_11414) {
TY10602* Result_11415;
Result_11415 = 0;
Result_11415 = ((TY10602*) ((NI32)((NU32)(((NI) (Usr_11414))) - (NU32)(((NI) (((NI)sizeof(TY10602))))))));
return Result_11415;
}
static N_INLINE(NI, Atomicinc_3221)(NI* Memloc_3224, NI X_3225) {
NI Result_7807;
Result_7807 = 0;
(*Memloc_3224) += X_3225;
Result_7807 = (*Memloc_3224);
return Result_7807;
}
static N_INLINE(NI, Atomicdec_3226)(NI* Memloc_3229, NI X_3230) {
NI Result_8006;
Result_8006 = 0;
(*Memloc_3229) -= X_3230;
Result_8006 = (*Memloc_3229);
return Result_8006;
}
static N_INLINE(void, Rtladdzct_12401)(TY10602* C_12403) {
Addzct_11401(&Gch_11014.Zct, C_12403);
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13018, void* Src_13019) {
TY10602* C_13020;
NI LOC4;
TY10602* C_13022;
NI LOC9;
if (!!((Src_13019 == NIM_NIL))) goto LA2;
C_13020 = 0;
C_13020 = Usrtocell_11412(Src_13019);
LOC4 = Atomicinc_3221(&(*C_13020).Refcount, 8);
LA2: ;
if (!!(((*Dest_13018) == NIM_NIL))) goto LA6;
C_13022 = 0;
C_13022 = Usrtocell_11412((*Dest_13018));
LOC9 = Atomicdec_3226(&(*C_13022).Refcount, 8);
if (!((NU32)(LOC9) < (NU32)(8))) goto LA10;
Rtladdzct_12401(C_13022);
LA10: ;
LA6: ;
(*Dest_13018) = Src_13019;
}
N_NIMCALL(void, nsuAddf)(NimStringDesc** S_23734, NimStringDesc* Formatstr_23735, NimStringDesc** A_23737, NI A_23737Len0) {
NI I_23740;
NI Num_23741;
NI J_23786;
NI J_23832;
NI X_23857;
NimStringDesc* LOC7;
NIM_BOOL LOC9;
TY440* E_23865;
NI J_23881;
NI X_23905;
NimStringDesc* LOC15;
NIM_BOOL LOC17;
TY440* E_23913;
TY440* E_23930;
I_23740 = 0;
I_23740 = 0;
Num_23741 = 0;
Num_23741 = 0;
while (1) {
if (!(I_23740 < Formatstr_23735->Sup.len)) goto LA1;
if (!((NU8)(Formatstr_23735->data[I_23740]) == (NU8)(36))) goto LA3;
switch (((NU8)(Formatstr_23735->data[(NI32)(I_23740 + 1)]))) {
case 35:
(*S_23734) = resizeString((*S_23734), A_23737[Num_23741]->Sup.len + 0);
appendString((*S_23734), A_23737[Num_23741]);
I_23740 += 2;
Num_23741 += 1;
break;
case 36:
(*S_23734) = addChar((*S_23734), 36);
I_23740 += 2;
break;
case 49 ... 57:
J_23786 = 0;
J_23786 = 0;
I_23740 += 1;
while (1) {
if (!(((NU8)(Formatstr_23735->data[I_23740])) >= ((NU8)(48)) && ((NU8)(Formatstr_23735->data[I_23740])) <= ((NU8)(57)))) goto LA5;
J_23786 = (NI32)((NI32)((NI32)(J_23786 * 10) + ((NU8)(Formatstr_23735->data[I_23740]))) - 48);
I_23740 += 1;
} LA5: ;
(*S_23734) = resizeString((*S_23734), A_23737[(NI32)(J_23786 - 1)]->Sup.len + 0);
appendString((*S_23734), A_23737[(NI32)(J_23786 - 1)]);
break;
case 123:
J_23832 = 0;
J_23832 = (NI32)(I_23740 + 1);
while (1) {
if (!!((((NU8)(Formatstr_23735->data[J_23832])) == ((NU8)(0)) || ((NU8)(Formatstr_23735->data[J_23832])) == ((NU8)(125))))) goto LA6;
J_23832 += 1;
} LA6: ;
X_23857 = 0;
LOC7 = 0;
LOC7 = copyStrLast(Formatstr_23735, (NI32)(I_23740 + 2), (NI32)(J_23832 - 1));
X_23857 = Findnormalized_23706(LOC7, A_23737, A_23737Len0);
LOC9 = (0 <= X_23857);
if (!(LOC9)) goto LA10;
LOC9 = (X_23857 < (A_23737Len0-1));
LA10: ;
if (!LOC9) goto LA11;
(*S_23734) = resizeString((*S_23734), A_23737[(NI32)(X_23857 + 1)]->Sup.len + 0);
appendString((*S_23734), A_23737[(NI32)(X_23857 + 1)]);
goto LA8;
LA11: ;
E_23865 = 0;
E_23865 = (TY440*) newObj(NTI23864, sizeof(TY440));
(*E_23865).Sup.Sup.Sup.m_type = NTI440;
asgnRefNoCycle((void**) &(*E_23865).Sup.Sup.message, copyString(((NimStringDesc*) &TMP191603)));
raiseException((E_Base*)E_23865, "EInvalidValue");
LA8: ;
I_23740 = (NI32)(J_23832 + 1);
break;
case 97 ... 122:
case 65 ... 90:
case 128 ... 255:
case 95:
J_23881 = 0;
J_23881 = (NI32)(I_23740 + 1);
while (1) {
if (!(((NU8)(Formatstr_23735->data[J_23881])) >= ((NU8)(97)) && ((NU8)(Formatstr_23735->data[J_23881])) <= ((NU8)(122)) || ((NU8)(Formatstr_23735->data[J_23881])) >= ((NU8)(65)) && ((NU8)(Formatstr_23735->data[J_23881])) <= ((NU8)(90)) || ((NU8)(Formatstr_23735->data[J_23881])) >= ((NU8)(48)) && ((NU8)(Formatstr_23735->data[J_23881])) <= ((NU8)(57)) || ((NU8)(Formatstr_23735->data[J_23881])) >= ((NU8)(128)) && ((NU8)(Formatstr_23735->data[J_23881])) <= ((NU8)(255)) || ((NU8)(Formatstr_23735->data[J_23881])) == ((NU8)(95)))) goto LA14;
J_23881 += 1;
} LA14: ;
X_23905 = 0;
LOC15 = 0;
LOC15 = copyStrLast(Formatstr_23735, (NI32)(I_23740 + 1), (NI32)(J_23881 - 1));
X_23905 = Findnormalized_23706(LOC15, A_23737, A_23737Len0);
LOC17 = (0 <= X_23905);
if (!(LOC17)) goto LA18;
LOC17 = (X_23905 < (A_23737Len0-1));
LA18: ;
if (!LOC17) goto LA19;
(*S_23734) = resizeString((*S_23734), A_23737[(NI32)(X_23905 + 1)]->Sup.len + 0);
appendString((*S_23734), A_23737[(NI32)(X_23905 + 1)]);
goto LA16;
LA19: ;
E_23913 = 0;
E_23913 = (TY440*) newObj(NTI23864, sizeof(TY440));
(*E_23913).Sup.Sup.Sup.m_type = NTI440;
asgnRefNoCycle((void**) &(*E_23913).Sup.Sup.message, copyString(((NimStringDesc*) &TMP191603)));
raiseException((E_Base*)E_23913, "EInvalidValue");
LA16: ;
I_23740 = J_23881;
break;
default:
E_23930 = 0;
E_23930 = (TY440*) newObj(NTI23864, sizeof(TY440));
(*E_23930).Sup.Sup.Sup.m_type = NTI440;
asgnRefNoCycle((void**) &(*E_23930).Sup.Sup.message, copyString(((NimStringDesc*) &TMP191603)));
raiseException((E_Base*)E_23930, "EInvalidValue");
break;
}
goto LA2;
LA3: ;
(*S_23734) = addChar((*S_23734), Formatstr_23735->data[I_23740]);
I_23740 += 1;
LA2: ;
} LA1: ;
}
N_NIMCALL(NimStringDesc*, nsuFormatOpenArray)(NimStringDesc* Formatstr_23960, NimStringDesc** A_23962, NI A_23962Len0) {
NimStringDesc* Result_23963;
Result_23963 = 0;
Result_23963 = copyString(((NimStringDesc*) &TMP191602));
nsuAddf(&Result_23963, Formatstr_23960, A_23962, A_23962Len0);
return Result_23963;
}
N_NIMCALL(NimStringDesc*, nsuNormalize)(NimStringDesc* S_23540) {
NimStringDesc* Result_23541;
NI I_23552;
NI HEX3Atmp_23582;
NI Res_23584;
Result_23541 = 0;
Result_23541 = copyString(((NimStringDesc*) &TMP191602));
I_23552 = 0;
HEX3Atmp_23582 = 0;
HEX3Atmp_23582 = (NI32)(S_23540->Sup.len - 1);
Res_23584 = 0;
Res_23584 = 0;
while (1) {
if (!(Res_23584 <= HEX3Atmp_23582)) goto LA1;
I_23552 = Res_23584;
if (!(((NU8)(S_23540->data[I_23552])) >= ((NU8)(65)) && ((NU8)(S_23540->data[I_23552])) <= ((NU8)(90)))) goto LA3;
Result_23541 = addChar(Result_23541, ((NIM_CHAR) (((NI) ((NI32)(((NU8)(S_23540->data[I_23552])) + 32))))));
goto LA2;
LA3: ;
if (!!(((NU8)(S_23540->data[I_23552]) == (NU8)(95)))) goto LA5;
Result_23541 = addChar(Result_23541, S_23540->data[I_23552]);
goto LA2;
LA5: ;
LA2: ;
Res_23584 += 1;
} LA1: ;
return Result_23541;
}
N_NIMCALL(NI, nsuFindCharSet)(NimStringDesc* S_25238, TY21602 Chars_25240, NI Start_25241) {
NI Result_25242;
NI I_25253;
NI HEX3Atmp_25265;
NI Res_25267;
Result_25242 = 0;
I_25253 = 0;
HEX3Atmp_25265 = 0;
HEX3Atmp_25265 = (NI32)(S_25238->Sup.len - 1);
Res_25267 = 0;
Res_25267 = Start_25241;
while (1) {
if (!(Res_25267 <= HEX3Atmp_25265)) goto LA1;
I_25253 = Res_25267;
if (!((Chars_25240[((NU8)(S_25238->data[I_25253]))/8] &(1<<(((NU8)(S_25238->data[I_25253]))%8)))!=0)) goto LA3;
Result_25242 = I_25253;
goto BeforeRet;
LA3: ;
Res_25267 += 1;
} LA1: ;
Result_25242 = -1;
goto BeforeRet;
BeforeRet: ;
return Result_25242;
}
static N_INLINE(void, appendChar)(NimStringDesc* Dest_18616, NIM_CHAR C_18617) {
(*Dest_18616).data[((*Dest_18616).Sup.len)-0] = C_18617;
(*Dest_18616).data[((NI32)((*Dest_18616).Sup.len + 1))-0] = 0;
(*Dest_18616).Sup.len += 1;
}
N_NIMCALL(NimStringDesc*, Quoteifcontainswhite_25268)(NimStringDesc* S_25270) {
NimStringDesc* Result_25271;
NIM_BOOL LOC2;
NI LOC3;
NimStringDesc* LOC7;
Result_25271 = 0;
LOC3 = nsuFindCharSet(S_25270, TMP191637, 0);
LOC2 = (0 <= LOC3);
if (!(LOC2)) goto LA4;
LOC2 = !(((NU8)(S_25270->data[0]) == (NU8)(34)));
LA4: ;
if (!LOC2) goto LA5;
LOC7 = 0;
LOC7 = rawNewString(S_25270->Sup.len + 2);
appendChar(LOC7, 34);
appendString(LOC7, S_25270);
appendChar(LOC7, 34);
Result_25271 = LOC7;
goto LA1;
LA5: ;
Result_25271 = copyString(S_25270);
LA1: ;
return Result_25271;
}
N_NIMCALL(NI, nsuFindChar)(NimStringDesc* S_25216, NIM_CHAR Sub_25217, NI Start_25218) {
NI Result_25219;
NI I_25230;
NI HEX3Atmp_25233;
NI Res_25235;
Result_25219 = 0;
I_25230 = 0;
HEX3Atmp_25233 = 0;
HEX3Atmp_25233 = (NI32)(S_25216->Sup.len - 1);
Res_25235 = 0;
Res_25235 = Start_25218;
while (1) {
if (!(Res_25235 <= HEX3Atmp_25233)) goto LA1;
I_25230 = Res_25235;
if (!((NU8)(Sub_25217) == (NU8)(S_25216->data[I_25230]))) goto LA3;
Result_25219 = I_25230;
goto BeforeRet;
LA3: ;
Res_25235 += 1;
} LA1: ;
Result_25219 = -1;
goto BeforeRet;
BeforeRet: ;
return Result_25219;
}
N_NIMCALL(NIM_BOOL, nsuStartsWith)(NimStringDesc* S_24848, NimStringDesc* Prefix_24849) {
NIM_BOOL Result_24850;
NI I_24851;
Result_24850 = 0;
I_24851 = 0;
I_24851 = 0;
while (1) {
if (!((NU8)(Prefix_24849->data[I_24851]) == (NU8)(0))) goto LA3;
Result_24850 = NIM_TRUE;
goto BeforeRet;
LA3: ;
if (!!(((NU8)(S_24848->data[I_24851]) == (NU8)(Prefix_24849->data[I_24851])))) goto LA6;
Result_24850 = NIM_FALSE;
goto BeforeRet;
LA6: ;
I_24851 += 1;
}
BeforeRet: ;
return Result_24850;
}
N_NIMCALL(NimStringDesc*, nsuToLowerStr)(NimStringDesc* S_23450) {
NimStringDesc* Result_23451;
NI I_23479;
NI HEX3Atmp_23480;
NI Res_23482;
Result_23451 = 0;
Result_23451 = mnewString(S_23450->Sup.len);
I_23479 = 0;
HEX3Atmp_23480 = 0;
HEX3Atmp_23480 = (NI32)(S_23450->Sup.len - 1);
Res_23482 = 0;
Res_23482 = 0;
while (1) {
if (!(Res_23482 <= HEX3Atmp_23480)) goto LA1;
I_23479 = Res_23482;
Result_23451->data[I_23479] = nsuToLowerChar(S_23450->data[I_23479]);
Res_23482 += 1;
} LA1: ;
return Result_23451;
}
N_NIMCALL(NI, nsuParseInt)(NimStringDesc* S_24453) {
NI Result_24454;
NI L_24456;
TY440* E_24462;
NimStringDesc* LOC5;
Result_24454 = 0;
L_24456 = 0;
L_24456 = npuParseInt(S_24453, &Result_24454, 0);
if (!!((L_24456 == S_24453->Sup.len))) goto LA2;
E_24462 = 0;
E_24462 = (TY440*) newObj(NTI23864, sizeof(TY440));
(*E_24462).Sup.Sup.Sup.m_type = NTI440;
LOC5 = 0;
LOC5 = rawNewString(S_24453->Sup.len + 17);
appendString(LOC5, ((NimStringDesc*) &TMP191661));
appendString(LOC5, S_24453);
asgnRefNoCycle((void**) &(*E_24462).Sup.Sup.message, LOC5);
raiseException((E_Base*)E_24462, "EInvalidValue");
LA2: ;
return Result_24454;
}
N_NIMCALL(void, Preprocesssub_25132)(NimStringDesc* Sub_25134, NI* A_25136) {
NI M_25139;
NI I_25148;
NI Res_25159;
NI I_25157;
NI HEX3Atmp_25160;
NI Res_25162;
M_25139 = 0;
M_25139 = Sub_25134->Sup.len;
I_25148 = 0;
Res_25159 = 0;
Res_25159 = 0;
while (1) {
if (!(Res_25159 <= 255)) goto LA1;
I_25148 = Res_25159;
A_25136[(((NU8)(((NIM_CHAR) (((NI) (I_25148)))))))-0] = (NI32)(M_25139 + 1);
Res_25159 += 1;
} LA1: ;
I_25157 = 0;
HEX3Atmp_25160 = 0;
HEX3Atmp_25160 = (NI32)(M_25139 - 1);
Res_25162 = 0;
Res_25162 = 0;
while (1) {
if (!(Res_25162 <= HEX3Atmp_25160)) goto LA2;
I_25157 = Res_25162;
A_25136[(((NU8)(Sub_25134->data[I_25157])))-0] = (NI32)(M_25139 - I_25157);
Res_25162 += 1;
} LA2: ;
}
N_NIMCALL(NI, Findaux_25163)(NimStringDesc* S_25165, NimStringDesc* Sub_25166, NI Start_25167, TY25131 A_25168) {
NI Result_25169;
NI M_25172;
NI N_25175;
NI J_25176;
NI K_25188;
NI HEX3Atmp_25203;
NI Res_25205;
Result_25169 = 0;
M_25172 = 0;
M_25172 = Sub_25166->Sup.len;
N_25175 = 0;
N_25175 = S_25165->Sup.len;
J_25176 = 0;
J_25176 = Start_25167;
while (1) {
if (!(J_25176 <= (NI32)(N_25175 - M_25172))) goto LA1;
K_25188 = 0;
HEX3Atmp_25203 = 0;
HEX3Atmp_25203 = (NI32)(M_25172 - 1);
Res_25205 = 0;
Res_25205 = 0;
while (1) {
if (!(Res_25205 <= HEX3Atmp_25203)) goto LA3;
K_25188 = Res_25205;
if (!!(((NU8)(Sub_25166->data[K_25188]) == (NU8)(S_25165->data[(NI32)(K_25188 + J_25176)])))) goto LA5;
goto LA2;
LA5: ;
Res_25205 += 1;
} LA3: ;
Result_25169 = J_25176;
goto BeforeRet;
LA2: ;
J_25176 += A_25168[(((NU8)(S_25165->data[(NI32)(J_25176 + M_25172)])))-0];
} LA1: ;
Result_25169 = -1;
goto BeforeRet;
BeforeRet: ;
return Result_25169;
}
N_NIMCALL(NI, nsuFindStr)(NimStringDesc* S_25208, NimStringDesc* Sub_25209, NI Start_25210) {
NI Result_25211;
TY25131 A_25212;
Result_25211 = 0;
memset((void*)&A_25212, 0, sizeof(A_25212));
Preprocesssub_25132(Sub_25209, A_25212);
Result_25211 = Findaux_25163(S_25208, Sub_25209, Start_25210, A_25212);
return Result_25211;
}
N_NIMCALL(NimStringDesc*, nsuFormatSingleElem)(NimStringDesc* Formatstr_23967, NimStringDesc* A_23968) {
NimStringDesc* Result_23969;
TY42805 LOC1;
Result_23969 = 0;
memset((void*)&LOC1, 0, sizeof(LOC1));
LOC1[0] = copyString(A_23968);
Result_23969 = nsuFormatOpenArray(Formatstr_23967, LOC1, 1);
goto BeforeRet;
BeforeRet: ;
return Result_23969;
}
N_NIMCALL(TY34021*, nsuSplitChar)(NimStringDesc* S_24365, NIM_CHAR Sep_24366) {
TY34021* Result_24368;
NimStringDesc* X_24385;
NI Last_24405;
NI First_24407;
NIM_BOOL LOC6;
Result_24368 = 0;
Result_24368 = (TY34021*) newSeq(NTI34021, 0);
X_24385 = 0;
Last_24405 = 0;
Last_24405 = 0;
if (!(0 < S_24365->Sup.len)) goto LA2;
while (1) {
if (!(Last_24405 <= S_24365->Sup.len)) goto LA4;
First_24407 = 0;
First_24407 = Last_24405;
while (1) {
LOC6 = (Last_24405 < S_24365->Sup.len);
if (!(LOC6)) goto LA7;
LOC6 = !(((NU8)(S_24365->data[Last_24405]) == (NU8)(Sep_24366)));
LA7: ;
if (!LOC6) goto LA5;
Last_24405 += 1;
} LA5: ;
X_24385 = copyStrLast(S_24365, First_24407, (NI32)(Last_24405 - 1));
Result_24368 = (TY34021*) incrSeq(&(Result_24368)->Sup, sizeof(NimStringDesc*));
asgnRefNoCycle((void**) &Result_24368->data[Result_24368->Sup.len-1], copyString(X_24385));
Last_24405 += 1;
} LA4: ;
LA2: ;
return Result_24368;
}
N_NIMCALL(NimStringDesc*, nsuStrip)(NimStringDesc* S_23976, NIM_BOOL Leading_23977, NIM_BOOL Trailing_23978) {
NimStringDesc* Result_23979;
NI First_23982;
NI Last_23985;
NIM_BOOL LOC9;
Result_23979 = 0;
First_23982 = 0;
First_23982 = 0;
Last_23985 = 0;
Last_23985 = (NI32)(S_23976->Sup.len - 1);
if (!Leading_23977) goto LA2;
while (1) {
if (!(((NU8)(S_23976->data[First_23982])) == ((NU8)(32)) || ((NU8)(S_23976->data[First_23982])) == ((NU8)(9)) || ((NU8)(S_23976->data[First_23982])) == ((NU8)(11)) || ((NU8)(S_23976->data[First_23982])) == ((NU8)(13)) || ((NU8)(S_23976->data[First_23982])) == ((NU8)(10)) || ((NU8)(S_23976->data[First_23982])) == ((NU8)(12)))) goto LA4;
First_23982 += 1;
} LA4: ;
LA2: ;
if (!Trailing_23978) goto LA6;
while (1) {
LOC9 = (0 <= Last_23985);
if (!(LOC9)) goto LA10;
LOC9 = (((NU8)(S_23976->data[Last_23985])) == ((NU8)(32)) || ((NU8)(S_23976->data[Last_23985])) == ((NU8)(9)) || ((NU8)(S_23976->data[Last_23985])) == ((NU8)(11)) || ((NU8)(S_23976->data[Last_23985])) == ((NU8)(13)) || ((NU8)(S_23976->data[Last_23985])) == ((NU8)(10)) || ((NU8)(S_23976->data[Last_23985])) == ((NU8)(12)));
LA10: ;
if (!LOC9) goto LA8;
Last_23985 -= 1;
} LA8: ;
LA6: ;
Result_23979 = copyStrLast(S_23976, First_23982, Last_23985);
return Result_23979;
}
N_NIMCALL(NIM_BOOL, Contains_25284)(NimStringDesc* S_25286, NimStringDesc* Sub_25287) {
NIM_BOOL Result_25288;
NI LOC1;
Result_25288 = 0;
LOC1 = nsuFindStr(S_25286, Sub_25287, 0);
Result_25288 = (0 <= LOC1);
goto BeforeRet;
BeforeRet: ;
return Result_25288;
}
N_NIMCALL(NF, nsuParseFloat)(NimStringDesc* S_24507) {
NF Result_24508;
NI L_24510;
TY440* E_24516;
NimStringDesc* LOC5;
Result_24508 = 0;
L_24510 = 0;
L_24510 = npuParseFloat(S_24507, &Result_24508, 0);
if (!!((L_24510 == S_24507->Sup.len))) goto LA2;
E_24516 = 0;
E_24516 = (TY440*) newObj(NTI23864, sizeof(TY440));
(*E_24516).Sup.Sup.Sup.m_type = NTI440;
LOC5 = 0;
LOC5 = rawNewString(S_24507->Sup.len + 15);
appendString(LOC5, ((NimStringDesc*) &TMP191711));
appendString(LOC5, S_24507);
asgnRefNoCycle((void**) &(*E_24516).Sup.Sup.message, LOC5);
raiseException((E_Base*)E_24516, "EInvalidValue");
LA2: ;
return Result_24508;
}
N_NIMCALL(NI64, nsuParseBiggestInt)(NimStringDesc* S_24480) {
NI64 Result_24481;
NI L_24483;
TY440* E_24489;
NimStringDesc* LOC5;
Result_24481 = 0;
L_24483 = 0;
L_24483 = npuParseBiggestInt(S_24480, &Result_24481, 0);
if (!!((L_24483 == S_24480->Sup.len))) goto LA2;
E_24489 = 0;
E_24489 = (TY440*) newObj(NTI23864, sizeof(TY440));
(*E_24489).Sup.Sup.Sup.m_type = NTI440;
LOC5 = 0;
LOC5 = rawNewString(S_24480->Sup.len + 17);
appendString(LOC5, ((NimStringDesc*) &TMP191661));
appendString(LOC5, S_24480);
asgnRefNoCycle((void**) &(*E_24489).Sup.Sup.message, LOC5);
raiseException((E_Base*)E_24489, "EInvalidValue");
LA2: ;
return Result_24481;
}
N_NIMCALL(NimStringDesc*, nsuRepeatChar)(NI Count_24666, NIM_CHAR C_24667) {
NimStringDesc* Result_24668;
NI I_24677;
NI HEX3Atmp_24678;
NI Res_24680;
Result_24668 = 0;
Result_24668 = mnewString(Count_24666);
I_24677 = 0;
HEX3Atmp_24678 = 0;
HEX3Atmp_24678 = (NI32)(Count_24666 - 1);
Res_24680 = 0;
Res_24680 = 0;
while (1) {
if (!(Res_24680 <= HEX3Atmp_24678)) goto LA1;
I_24677 = Res_24680;
Result_24668->data[I_24677] = C_24667;
Res_24680 += 1;
} LA1: ;
return Result_24668;
}
N_NIMCALL(NimStringDesc*, nsuToHex)(NI64 X_24410, NI Len_24411) {
NimStringDesc* Result_24412;
NI64 Shift_24414;
NI J_24422;
NI HEX3Atmp_24423;
NI Res_24425;
Result_24412 = 0;
Shift_24414 = 0;
Result_24412 = mnewString(Len_24411);
J_24422 = 0;
HEX3Atmp_24423 = 0;
HEX3Atmp_24423 = (NI32)(Len_24411 - 1);
Res_24425 = 0;
Res_24425 = HEX3Atmp_24423;
while (1) {
if (!(0 <= Res_24425)) goto LA1;
J_24422 = Res_24425;
Result_24412->data[J_24422] = ((NimStringDesc*) &TMP191752)->data[(NI32)(((NI32)(NU32)(NU64)((NI64)((NU64)(X_24410) >> (NU64)(Shift_24414)))) & ((NI32) 15))];
Shift_24414 = (NI64)(Shift_24414 + 4);
Res_24425 -= 1;
} LA1: ;
return Result_24412;
}
N_NIMCALL(NimStringDesc*, nsuReplaceStr)(NimStringDesc* S_25301, NimStringDesc* Sub_25302, NimStringDesc* By_25303) {
NimStringDesc* Result_25304;
TY25131 A_25305;
NI I_25307;
NI J_25308;
NimStringDesc* LOC5;
NimStringDesc* LOC6;
Result_25304 = 0;
memset((void*)&A_25305, 0, sizeof(A_25305));
Result_25304 = copyString(((NimStringDesc*) &TMP191602));
Preprocesssub_25132(Sub_25302, A_25305);
I_25307 = 0;
I_25307 = 0;
while (1) {
J_25308 = 0;
J_25308 = Findaux_25163(S_25301, Sub_25302, I_25307, A_25305);
if (!(J_25308 < 0)) goto LA3;
goto LA1;
LA3: ;
LOC5 = 0;
LOC5 = copyStrLast(S_25301, I_25307, (NI32)(J_25308 - 1));
Result_25304 = resizeString(Result_25304, LOC5->Sup.len + 0);
appendString(Result_25304, LOC5);
Result_25304 = resizeString(Result_25304, By_25303->Sup.len + 0);
appendString(Result_25304, By_25303);
I_25307 = (NI32)(J_25308 + Sub_25302->Sup.len);
} LA1: ;
LOC6 = 0;
LOC6 = copyStr(S_25301, I_25307);
Result_25304 = resizeString(Result_25304, LOC6->Sup.len + 0);
appendString(Result_25304, LOC6);
return Result_25304;
}
N_NIMCALL(NimStringDesc*, nsuToBin)(NI64 X_25486, NI Len_25487) {
NimStringDesc* Result_25488;
NI64 Mask_25489;
NI64 Shift_25490;
NI J_25502;
NI HEX3Atmp_25508;
NI Res_25510;
Result_25488 = 0;
Mask_25489 = 0;
Mask_25489 = 1;
Shift_25490 = 0;
Shift_25490 = 0;
Result_25488 = mnewString(Len_25487);
J_25502 = 0;
HEX3Atmp_25508 = 0;
HEX3Atmp_25508 = (NI32)(Len_25487 - 1);
Res_25510 = 0;
Res_25510 = HEX3Atmp_25508;
while (1) {
if (!(0 <= Res_25510)) goto LA1;
J_25502 = Res_25510;
Result_25488->data[J_25502] = ((NIM_CHAR) (((NI) ((NI32)(((NI) ((NI64)((NU64)((X_25486 & Mask_25489)) >> (NU64)(Shift_25490)))) + 48)))));
Shift_25490 = (NI64)(Shift_25490 + 1);
Mask_25489 = (NI64)((NU64)(Mask_25489) << (NU64)(1));
Res_25510 -= 1;
} LA1: ;
return Result_25488;
}
N_NIMCALL(NimStringDesc*, nsuToOct)(NI64 X_25459, NI Len_25460) {
NimStringDesc* Result_25461;
NI64 Mask_25462;
NI64 Shift_25463;
NI J_25475;
NI HEX3Atmp_25481;
NI Res_25483;
Result_25461 = 0;
Mask_25462 = 0;
Mask_25462 = 7;
Shift_25463 = 0;
Shift_25463 = 0;
Result_25461 = mnewString(Len_25460);
J_25475 = 0;
HEX3Atmp_25481 = 0;
HEX3Atmp_25481 = (NI32)(Len_25460 - 1);
Res_25483 = 0;
Res_25483 = HEX3Atmp_25481;
while (1) {
if (!(0 <= Res_25483)) goto LA1;
J_25475 = Res_25483;
Result_25461->data[J_25475] = ((NIM_CHAR) (((NI) ((NI32)(((NI) ((NI64)((NU64)((X_25459 & Mask_25462)) >> (NU64)(Shift_25463)))) + 48)))));
Shift_25463 = (NI64)(Shift_25463 + 3);
Mask_25462 = (NI64)((NU64)(Mask_25462) << (NU64)(3));
Res_25483 -= 1;
} LA1: ;
return Result_25461;
}
N_NIMCALL(NimStringDesc*, nsuIntToStr)(NI X_24428, NI Minchars_24429) {
NimStringDesc* Result_24430;
NI I_24443;
NI HEX3Atmp_24448;
NI Res_24450;
NimStringDesc* LOC2;
NimStringDesc* LOC6;
Result_24430 = 0;
Result_24430 = nimIntToStr((NI32)abs(X_24428));
I_24443 = 0;
HEX3Atmp_24448 = 0;
HEX3Atmp_24448 = (NI32)(Minchars_24429 - Result_24430->Sup.len);
Res_24450 = 0;
Res_24450 = 1;
while (1) {
if (!(Res_24450 <= HEX3Atmp_24448)) goto LA1;
I_24443 = Res_24450;
LOC2 = 0;
LOC2 = rawNewString(Result_24430->Sup.len + 1);
appendChar(LOC2, 48);
appendString(LOC2, Result_24430);
Result_24430 = LOC2;
Res_24450 += 1;
} LA1: ;
if (!(X_24428 < 0)) goto LA4;
LOC6 = 0;
LOC6 = rawNewString(Result_24430->Sup.len + 1);
appendChar(LOC6, 45);
appendString(LOC6, Result_24430);
Result_24430 = LOC6;
LA4: ;
return Result_24430;
}
N_NIMCALL(NimStringDesc*, nsuToOctal)(NIM_CHAR C_24036) {
NimStringDesc* Result_24037;
NI Val_24043;
NI I_24066;
NI Res_24073;
Result_24037 = 0;
Result_24037 = mnewString(3);
Val_24043 = 0;
Val_24043 = ((NU8)(C_24036));
I_24066 = 0;
Res_24073 = 0;
Res_24073 = 2;
while (1) {
if (!(0 <= Res_24073)) goto LA1;
I_24066 = Res_24073;
Result_24037->data[I_24066] = ((NIM_CHAR) (((NI) ((NI32)((NI32)(Val_24043 % 8) + 48)))));
Val_24043 = (NI32)(Val_24043 / 8);
Res_24073 -= 1;
} LA1: ;
return Result_24037;
}
N_NIMCALL(NIM_BOOL, Allcharsinset_24909)(NimStringDesc* S_24911, TY21602 Theset_24912) {
NIM_BOOL Result_24913;
NIM_CHAR C_24916;
NI I_24929;
Result_24913 = 0;
C_24916 = 0;
I_24929 = 0;
I_24929 = 0;
while (1) {
if (!(I_24929 < S_24911->Sup.len)) goto LA1;
C_24916 = S_24911->data[I_24929];
if (!!(((Theset_24912[((NU8)(C_24916))/8] &(1<<(((NU8)(C_24916))%8)))!=0))) goto LA3;
Result_24913 = NIM_FALSE;
goto BeforeRet;
LA3: ;
I_24929 += 1;
} LA1: ;
Result_24913 = NIM_TRUE;
goto BeforeRet;
BeforeRet: ;
return Result_24913;
}
N_NOINLINE(void, strutilsInit)(void) {
}

