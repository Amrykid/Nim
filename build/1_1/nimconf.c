/* Generated by Nimrod Compiler v0.8.11 */
/*   (c) 2011 Andreas Rumpf */

typedef long int NI;
typedef unsigned long int NU;
#include "nimbase.h"

typedef struct TY77132 TY77132;
typedef struct TGenericSeq TGenericSeq;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct TY10602 TY10602;
typedef struct TY10618 TY10618;
typedef struct TY10996 TY10996;
typedef struct TY10614 TY10614;
typedef struct TY10610 TY10610;
typedef struct TY10994 TY10994;
typedef struct NimStringDesc NimStringDesc;
typedef struct TY74267 TY74267;
typedef struct TY73015 TY73015;
typedef struct TNimObject TNimObject;
typedef struct TY72204 TY72204;
typedef struct TY74281 TY74281;
typedef struct TY74263 TY74263;
typedef struct TY50011 TY50011;
typedef struct TY50005 TY50005;
typedef struct TY43538 TY43538;
struct TGenericSeq {
NI len;
NI space;
};
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct TY10602 {
NI Refcount;
TNimType* Typ;
};
struct TY10618 {
NI Len;
NI Cap;
TY10602** D;
};
struct TY10614 {
NI Counter;
NI Max;
TY10610* Head;
TY10610** Data;
};
struct TY10994 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY10996 {
TY10618 Zct;
TY10618 Decstack;
TY10614 Cycleroots;
TY10618 Tempstack;
TY10994 Stat;
};
typedef NIM_CHAR TY245[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY245 data;
};
struct TNimObject {
TNimType* m_type;
};
struct TY73015 {
  TNimObject Sup;
NI Bufpos;
NCSTRING Buf;
NI Buflen;
TY72204* Stream;
NI Linenumber;
NI Sentinel;
NI Linestart;
};
struct TY74267 {
  TY73015 Sup;
NimStringDesc* Filename;
TY74281* Indentstack;
NI Dedent;
NI Indentahead;
};
struct TY74263 {
TNimType* m_type;
NU8 Toktype;
NI Indent;
TY50011* Ident;
NI64 Inumber;
NF64 Fnumber;
NU8 Base;
NimStringDesc* Literal;
TY74263* Next;
};
struct TY50005 {
  TNimObject Sup;
NI Id;
};
struct TY50011 {
  TY50005 Sup;
NimStringDesc* S;
TY50011* Next;
NI H;
};
struct TY43538 {
NI16 Line;
NI16 Col;
NI32 Fileindex;
};
typedef NimStringDesc* TY70026[3];
typedef NI TY8614[16];
struct TY10610 {
TY10610* Next;
NI Key;
TY8614 Bits;
};
struct TY72204 {
  TNimObject Sup;
NU8 Kind;
FILE* F;
NimStringDesc* S;
NI Rd;
NI Wr;
NI Lineoffset;
};
struct TY77132 {
  TGenericSeq Sup;
  NIM_BOOL data[SEQ_DECL_SIZE];
};
struct TY74281 {
  TGenericSeq Sup;
  NI data[SEQ_DECL_SIZE];
};
N_NIMCALL(void*, newSeq)(TNimType* Typ_14204, NI Len_14205);
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13018, void* Src_13019);
static N_INLINE(TY10602*, Usrtocell_11412)(void* Usr_11414);
static N_INLINE(NI, Atomicinc_3221)(NI* Memloc_3224, NI X_3225);
static N_INLINE(NI, Atomicdec_3226)(NI* Memloc_3229, NI X_3230);
static N_INLINE(void, Rtladdzct_12401)(TY10602* C_12403);
N_NOINLINE(void, Addzct_11401)(TY10618* S_11404, TY10602* C_11405);
N_NIMCALL(NimStringDesc*, Getprefixdir_42114)(void);
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* A_18449, NimStringDesc* B_18450);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* Src_18512);
N_NIMCALL(NimStringDesc*, nosJoinPath)(NimStringDesc* Head_34203, NimStringDesc* Tail_34204);
N_NIMCALL(void, Loadspecialconfig_77007)(NimStringDesc* Configfilename_77009);
N_NIMCALL(void, Readconfigfile_77434)(NimStringDesc* Filename_77436);
N_NIMCALL(void, genericReset)(void* Dest_19528, TNimType* Mt_19529);
N_NIMCALL(void*, newObj)(TNimType* Typ_13710, NI Size_13711);
N_NIMCALL(TY72204*, Llstreamopen_72224)(NimStringDesc* Filename_72226, NU8 Mode_72227);
N_NIMCALL(void, Openlexer_74298)(TY74267* Lex_74301, NimStringDesc* Filename_74302, TY72204* Inputstream_74303);
N_NIMCALL(void, Conftok_77317)(TY74267* L_77320, TY74263* Tok_77321);
N_NIMCALL(void, Ppgettok_77010)(TY74267* L_77013, TY74263* Tok_77014);
N_NIMCALL(void, Rawgettok_74304)(TY74267* L_74307, TY74263* Tok_74309);
N_NIMCALL(void, Parsedirective_77288)(TY74267* L_77291, TY74263* Tok_77292);
N_NIMCALL(NU8, Whichkeyword_69492)(TY50011* Id_69494);
N_NIMCALL(TGenericSeq*, setLengthSeq)(TGenericSeq* Seq_18803, NI Elemsize_18804, NI Newlen_18805);
N_NIMCALL(NIM_BOOL, Evalppif_77117)(TY74267* L_77120, TY74263* Tok_77121);
N_NIMCALL(NIM_BOOL, Parseexpr_77053)(TY74267* L_77056, TY74263* Tok_77057);
N_NIMCALL(NIM_BOOL, Parseandexpr_77089)(TY74267* L_77092, TY74263* Tok_77093);
N_NIMCALL(NIM_BOOL, Parseatom_77058)(TY74267* L_77061, TY74263* Tok_77062);
N_NIMCALL(void, Lexmessage_74326)(TY74267* L_74328, NU8 Msg_74329, NimStringDesc* Arg_74330);
N_NIMCALL(NIM_BOOL, Isdefined_60059)(TY50011* Symbol_60061);
N_NIMCALL(void, Jumptodirective_77175)(TY74267* L_77178, TY74263* Tok_77179, NU8 Dest_77180);
N_NIMCALL(void, Doelse_77181)(TY74267* L_77184, TY74263* Tok_77185);
N_NIMCALL(void, Doelif_77199)(TY74267* L_77202, TY74263* Tok_77203);
N_NIMCALL(void, Doend_77150)(TY74267* L_77153, TY74263* Tok_77154);
N_NIMCALL(void, Msgwriteln_43794)(NimStringDesc* S_43796);
N_NIMCALL(NimStringDesc*, Toktostr_74323)(TY74263* Tok_74325);
N_NIMCALL(void, Putenv_35232)(NimStringDesc* Key_35234, NimStringDesc* Val_35235);
static N_INLINE(void, appendString)(NimStringDesc* Dest_18599, NimStringDesc* Src_18600);
N_NIMCALL(NimStringDesc*, Getenv_35218)(NimStringDesc* Key_35220);
N_NIMCALL(NimStringDesc*, rawNewString)(NI Space_18489);
N_NIMCALL(void, Parseassignment_77358)(TY74267* L_77361, TY74263* Tok_77362);
N_NIMCALL(TY50011*, Getident_50016)(NimStringDesc* Identifier_50018);
N_NIMCALL(TY43538, Getlineinfo_74313)(TY74267* L_74315);
N_NIMCALL(void, Checksymbol_77333)(TY74267* L_77335, TY74263* Tok_77336);
N_NIMCALL(NimStringDesc*, addChar)(NimStringDesc* S_1803, NIM_CHAR C_1804);
N_NIMCALL(NimStringDesc*, resizeString)(NimStringDesc* Dest_18589, NI Addlen_18590);
N_NIMCALL(void, Processswitch_70012)(NimStringDesc* Switch_70014, NimStringDesc* Arg_70015, NU8 Pass_70016, TY43538 Info_70017);
N_NIMCALL(void, Closelexer_74316)(TY74267* Lex_74319);
N_NIMCALL(void, Rawmessage_44094)(NU8 Msg_44096, NimStringDesc* Arg_44097);
N_NIMCALL(NimStringDesc*, Getconfigpath_77495)(NimStringDesc* Filename_77497);
N_NIMCALL(NimStringDesc*, nosgetConfigDir)(void);
N_NIMCALL(NIM_BOOL, nosexistsFile)(NimStringDesc* Filename_32803);
N_NIMCALL(NimStringDesc*, nosJoinPathOpenArray)(NimStringDesc** Parts_34251, NI Parts_34251Len0);
N_NIMCALL(NimStringDesc*, nosChangeFileExt)(NimStringDesc* Filename_34620, NimStringDesc* Ext_34621);
STRING_LITERAL(TMP193681, "/usr", 4);
STRING_LITERAL(TMP193682, "/usr/lib/nimrod", 15);
STRING_LITERAL(TMP193683, "/usr/local", 10);
STRING_LITERAL(TMP193684, "/usr/local/lib/nimrod", 21);
STRING_LITERAL(TMP193685, "lib", 3);
STRING_LITERAL(TMP193713, "@", 1);
STRING_LITERAL(TMP193714, "\')\'", 3);
STRING_LITERAL(TMP193715, "\':\'", 3);
STRING_LITERAL(TMP193716, "@if", 3);
STRING_LITERAL(TMP193717, "@end", 4);
STRING_LITERAL(TMP193719, "-", 1);
STRING_LITERAL(TMP193720, "--", 2);
STRING_LITERAL(TMP193721, "", 0);
STRING_LITERAL(TMP193722, "\']\'", 3);
STRING_LITERAL(TMP193723, "&", 1);
STRING_LITERAL(TMP193725, "config", 6);
STRING_LITERAL(TMP193726, "/etc/", 5);
STRING_LITERAL(TMP193727, "nimrod.cfg", 10);
STRING_LITERAL(TMP193728, "cfg", 3);
TY77132* Condstack_77133;
extern TNimType* NTI77132; /* seq[bool] */
extern TY10996 Gch_11014;
extern NimStringDesc* Libpath_42117;
extern NU32 Gglobaloptions_42084;
extern TNimType* NTI74267; /* TLexer */
extern TNimType* NTI74261; /* PToken */
extern TNimType* NTI74263; /* TToken */
extern NI Gverbosity_42090;
static N_INLINE(TY10602*, Usrtocell_11412)(void* Usr_11414) {
TY10602* Result_11415;
Result_11415 = 0;
Result_11415 = ((TY10602*) ((NI32)((NU32)(((NI) (Usr_11414))) - (NU32)(((NI) (((NI)sizeof(TY10602))))))));
return Result_11415;
}
static N_INLINE(NI, Atomicinc_3221)(NI* Memloc_3224, NI X_3225) {
NI Result_7807;
Result_7807 = 0;
(*Memloc_3224) += X_3225;
Result_7807 = (*Memloc_3224);
return Result_7807;
}
static N_INLINE(NI, Atomicdec_3226)(NI* Memloc_3229, NI X_3230) {
NI Result_8006;
Result_8006 = 0;
(*Memloc_3229) -= X_3230;
Result_8006 = (*Memloc_3229);
return Result_8006;
}
static N_INLINE(void, Rtladdzct_12401)(TY10602* C_12403) {
Addzct_11401(&Gch_11014.Zct, C_12403);
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13018, void* Src_13019) {
TY10602* C_13020;
NI LOC4;
TY10602* C_13022;
NI LOC9;
if (!!((Src_13019 == NIM_NIL))) goto LA2;
C_13020 = 0;
C_13020 = Usrtocell_11412(Src_13019);
LOC4 = Atomicinc_3221(&(*C_13020).Refcount, 8);
LA2: ;
if (!!(((*Dest_13018) == NIM_NIL))) goto LA6;
C_13022 = 0;
C_13022 = Usrtocell_11412((*Dest_13018));
LOC9 = Atomicdec_3226(&(*C_13022).Refcount, 8);
if (!((NU32)(LOC9) < (NU32)(8))) goto LA10;
Rtladdzct_12401(C_13022);
LA10: ;
LA6: ;
(*Dest_13018) = Src_13019;
}
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* A_18449, NimStringDesc* B_18450) {
NIM_BOOL Result_18451;
NIM_BOOL LOC5;
NIM_BOOL LOC9;
NI32 LOC11;
Result_18451 = 0;
if (!(A_18449 == B_18450)) goto LA2;
Result_18451 = NIM_TRUE;
goto BeforeRet;
LA2: ;
LOC5 = (A_18449 == NIM_NIL);
if (LOC5) goto LA6;
LOC5 = (B_18450 == NIM_NIL);
LA6: ;
if (!LOC5) goto LA7;
Result_18451 = NIM_FALSE;
goto BeforeRet;
LA7: ;
LOC9 = ((*A_18449).Sup.len == (*B_18450).Sup.len);
if (!(LOC9)) goto LA10;
LOC11 = memcmp(((NCSTRING) ((*A_18449).data)), ((NCSTRING) ((*B_18450).data)), ((NI32) ((NI32)((*A_18449).Sup.len * 1))));
LOC9 = (LOC11 == ((NI32) 0));
LA10: ;
Result_18451 = LOC9;
goto BeforeRet;
BeforeRet: ;
return Result_18451;
}
N_NIMCALL(void, Ppgettok_77010)(TY74267* L_77013, TY74263* Tok_77014) {
NIM_BOOL LOC2;
NIM_BOOL LOC3;
NIM_BOOL LOC4;
Rawgettok_74304(L_77013, Tok_77014);
while (1) {
LOC4 = ((*Tok_77014).Toktype == ((NU8) 102));
if (LOC4) goto LA5;
LOC4 = ((*Tok_77014).Toktype == ((NU8) 103));
LA5: ;
LOC3 = LOC4;
if (LOC3) goto LA6;
LOC3 = ((*Tok_77014).Toktype == ((NU8) 104));
LA6: ;
LOC2 = LOC3;
if (LOC2) goto LA7;
LOC2 = ((*Tok_77014).Toktype == ((NU8) 100));
LA7: ;
if (!LOC2) goto LA1;
Rawgettok_74304(L_77013, Tok_77014);
} LA1: ;
}
N_NIMCALL(NIM_BOOL, Parseatom_77058)(TY74267* L_77061, TY74263* Tok_77062) {
NIM_BOOL Result_77063;
NIM_BOOL LOC9;
Result_77063 = 0;
if (!((*Tok_77062).Toktype == ((NU8) 80))) goto LA2;
Ppgettok_77010(L_77061, Tok_77062);
Result_77063 = Parseexpr_77053(L_77061, Tok_77062);
if (!((*Tok_77062).Toktype == ((NU8) 81))) goto LA5;
Ppgettok_77010(L_77061, Tok_77062);
goto LA4;
LA5: ;
Lexmessage_74326(&(*L_77061), ((NU8) 21), ((NimStringDesc*) &TMP193714));
LA4: ;
goto LA1;
LA2: ;
if (!((*(*Tok_77062).Ident).Sup.Id == 40)) goto LA7;
Ppgettok_77010(L_77061, Tok_77062);
LOC9 = Parseatom_77058(L_77061, Tok_77062);
Result_77063 = !(LOC9);
goto LA1;
LA7: ;
Result_77063 = Isdefined_60059((*Tok_77062).Ident);
Ppgettok_77010(L_77061, Tok_77062);
LA1: ;
return Result_77063;
}
N_NIMCALL(NIM_BOOL, Parseandexpr_77089)(TY74267* L_77092, TY74263* Tok_77093) {
NIM_BOOL Result_77094;
NIM_BOOL B_77095;
NIM_BOOL LOC2;
Result_77094 = 0;
B_77095 = 0;
Result_77094 = Parseatom_77058(L_77092, Tok_77093);
while (1) {
if (!((*(*Tok_77093).Ident).Sup.Id == 2)) goto LA1;
Ppgettok_77010(L_77092, Tok_77093);
B_77095 = Parseatom_77058(L_77092, Tok_77093);
LOC2 = Result_77094;
if (!(LOC2)) goto LA3;
LOC2 = B_77095;
LA3: ;
Result_77094 = LOC2;
} LA1: ;
return Result_77094;
}
N_NIMCALL(NIM_BOOL, Parseexpr_77053)(TY74267* L_77056, TY74263* Tok_77057) {
NIM_BOOL Result_77108;
NIM_BOOL B_77109;
NIM_BOOL LOC2;
Result_77108 = 0;
B_77109 = 0;
Result_77108 = Parseandexpr_77089(L_77056, Tok_77057);
while (1) {
if (!((*(*Tok_77057).Ident).Sup.Id == 44)) goto LA1;
Ppgettok_77010(L_77056, Tok_77057);
B_77109 = Parseandexpr_77089(L_77056, Tok_77057);
LOC2 = Result_77108;
if (LOC2) goto LA3;
LOC2 = B_77109;
LA3: ;
Result_77108 = LOC2;
} LA1: ;
return Result_77108;
}
N_NIMCALL(NIM_BOOL, Evalppif_77117)(TY74267* L_77120, TY74263* Tok_77121) {
NIM_BOOL Result_77122;
Result_77122 = 0;
Ppgettok_77010(L_77120, Tok_77121);
Result_77122 = Parseexpr_77053(L_77120, Tok_77121);
if (!((*Tok_77121).Toktype == ((NU8) 94))) goto LA2;
Ppgettok_77010(L_77120, Tok_77121);
goto LA1;
LA2: ;
Lexmessage_74326(&(*L_77120), ((NU8) 21), ((NimStringDesc*) &TMP193715));
LA1: ;
return Result_77122;
}
N_NIMCALL(void, Doelse_77181)(TY74267* L_77184, TY74263* Tok_77185) {
if (!((Condstack_77133->Sup.len-1) < 0)) goto LA2;
Lexmessage_74326(&(*L_77184), ((NU8) 21), ((NimStringDesc*) &TMP193716));
LA2: ;
Ppgettok_77010(L_77184, Tok_77185);
if (!((*Tok_77185).Toktype == ((NU8) 94))) goto LA5;
Ppgettok_77010(L_77184, Tok_77185);
LA5: ;
if (!Condstack_77133->data[(Condstack_77133->Sup.len-1)]) goto LA8;
Jumptodirective_77175(L_77184, Tok_77185, ((NU8) 0));
LA8: ;
}
N_NIMCALL(void, Doelif_77199)(TY74267* L_77202, TY74263* Tok_77203) {
NIM_BOOL Res_77204;
NIM_BOOL LOC5;
Res_77204 = 0;
if (!((Condstack_77133->Sup.len-1) < 0)) goto LA2;
Lexmessage_74326(&(*L_77202), ((NU8) 21), ((NimStringDesc*) &TMP193716));
LA2: ;
Res_77204 = Evalppif_77117(L_77202, Tok_77203);
LOC5 = Condstack_77133->data[(Condstack_77133->Sup.len-1)];
if (LOC5) goto LA6;
LOC5 = !(Res_77204);
LA6: ;
if (!LOC5) goto LA7;
Jumptodirective_77175(L_77202, Tok_77203, ((NU8) 1));
goto LA4;
LA7: ;
Condstack_77133->data[(Condstack_77133->Sup.len-1)] = NIM_TRUE;
LA4: ;
}
N_NIMCALL(void, Doend_77150)(TY74267* L_77153, TY74263* Tok_77154) {
if (!((Condstack_77133->Sup.len-1) < 0)) goto LA2;
Lexmessage_74326(&(*L_77153), ((NU8) 21), ((NimStringDesc*) &TMP193716));
LA2: ;
Ppgettok_77010(L_77153, Tok_77154);
Condstack_77133 = (TY77132*) setLengthSeq(&(Condstack_77133)->Sup, sizeof(NIM_BOOL), (Condstack_77133->Sup.len-1));
}
N_NIMCALL(void, Jumptodirective_77175)(TY74267* L_77178, TY74263* Tok_77179, NU8 Dest_77180) {
NI Nestedifs_77215;
NIM_BOOL LOC3;
NU8 LOC7;
NIM_BOOL LOC9;
NIM_BOOL LOC14;
Nestedifs_77215 = 0;
Nestedifs_77215 = 0;
while (1) {
LOC3 = !(((*Tok_77179).Ident == NIM_NIL));
if (!(LOC3)) goto LA4;
LOC3 = eqStrings((*(*Tok_77179).Ident).S, ((NimStringDesc*) &TMP193713));
LA4: ;
if (!LOC3) goto LA5;
Ppgettok_77010(L_77178, Tok_77179);
LOC7 = Whichkeyword_69492((*Tok_77179).Ident);
switch (LOC7) {
case ((NU8) 26):
Nestedifs_77215 += 1;
break;
case ((NU8) 18):
LOC9 = (Dest_77180 == ((NU8) 1));
if (!(LOC9)) goto LA10;
LOC9 = (Nestedifs_77215 == 0);
LA10: ;
if (!LOC9) goto LA11;
Doelse_77181(L_77178, Tok_77179);
goto LA1;
LA11: ;
break;
case ((NU8) 17):
LOC14 = (Dest_77180 == ((NU8) 1));
if (!(LOC14)) goto LA15;
LOC14 = (Nestedifs_77215 == 0);
LA15: ;
if (!LOC14) goto LA16;
Doelif_77199(L_77178, Tok_77179);
goto LA1;
LA16: ;
break;
case ((NU8) 19):
if (!(Nestedifs_77215 == 0)) goto LA19;
Doend_77150(L_77178, Tok_77179);
goto LA1;
LA19: ;
if (!(0 < Nestedifs_77215)) goto LA22;
Nestedifs_77215 -= 1;
LA22: ;
break;
default:
break;
}
Ppgettok_77010(L_77178, Tok_77179);
goto LA2;
LA5: ;
if (!((*Tok_77179).Toktype == ((NU8) 1))) goto LA24;
Lexmessage_74326(&(*L_77178), ((NU8) 21), ((NimStringDesc*) &TMP193717));
goto LA2;
LA24: ;
Ppgettok_77010(L_77178, Tok_77179);
LA2: ;
} LA1: ;
}
static N_INLINE(void, appendString)(NimStringDesc* Dest_18599, NimStringDesc* Src_18600) {
memcpy(((NCSTRING) (&(*Dest_18599).data[((*Dest_18599).Sup.len)-0])), ((NCSTRING) ((*Src_18600).data)), ((NI32) ((NI32)((NI32)((*Src_18600).Sup.len + 1) * 1))));
(*Dest_18599).Sup.len += (*Src_18600).Sup.len;
}
N_NIMCALL(void, Parsedirective_77288)(TY74267* L_77291, TY74263* Tok_77292) {
NIM_BOOL Res_77293;
NimStringDesc* Key_77294;
NU8 LOC1;
NimStringDesc* LOC5;
NimStringDesc* LOC6;
NimStringDesc* LOC7;
NimStringDesc* LOC8;
NimStringDesc* LOC9;
NimStringDesc* LOC10;
NimStringDesc* LOC11;
NimStringDesc* LOC12;
NimStringDesc* LOC13;
Key_77294 = 0;
Res_77293 = 0;
Key_77294 = NIM_NIL;
Ppgettok_77010(L_77291, Tok_77292);
LOC1 = Whichkeyword_69492((*Tok_77292).Ident);
switch (LOC1) {
case ((NU8) 26):
Condstack_77133 = (TY77132*) setLengthSeq(&(Condstack_77133)->Sup, sizeof(NIM_BOOL), (NI32)(Condstack_77133->Sup.len + 1));
Res_77293 = Evalppif_77117(L_77291, Tok_77292);
Condstack_77133->data[(Condstack_77133->Sup.len-1)] = Res_77293;
if (!!(Res_77293)) goto LA3;
Jumptodirective_77175(L_77291, Tok_77292, ((NU8) 1));
LA3: ;
break;
case ((NU8) 17):
Doelif_77199(L_77291, Tok_77292);
break;
case ((NU8) 18):
Doelse_77181(L_77291, Tok_77292);
break;
case ((NU8) 19):
Doend_77150(L_77291, Tok_77292);
break;
case ((NU8) 202):
Ppgettok_77010(L_77291, Tok_77292);
LOC5 = 0;
LOC5 = Toktostr_74323(Tok_77292);
Msgwriteln_43794(LOC5);
Ppgettok_77010(L_77291, Tok_77292);
break;
case ((NU8) 203):
Ppgettok_77010(L_77291, Tok_77292);
Key_77294 = Toktostr_74323(Tok_77292);
Ppgettok_77010(L_77291, Tok_77292);
LOC6 = 0;
LOC6 = Toktostr_74323(Tok_77292);
Putenv_35232(Key_77294, LOC6);
Ppgettok_77010(L_77291, Tok_77292);
break;
case ((NU8) 204):
Ppgettok_77010(L_77291, Tok_77292);
Key_77294 = Toktostr_74323(Tok_77292);
Ppgettok_77010(L_77291, Tok_77292);
LOC7 = 0;
LOC8 = 0;
LOC8 = Toktostr_74323(Tok_77292);
LOC9 = 0;
LOC9 = Getenv_35218(Key_77294);
LOC7 = rawNewString(LOC8->Sup.len + LOC9->Sup.len + 0);
appendString(LOC7, LOC8);
appendString(LOC7, LOC9);
Putenv_35232(Key_77294, LOC7);
Ppgettok_77010(L_77291, Tok_77292);
break;
case ((NU8) 205):
Ppgettok_77010(L_77291, Tok_77292);
Key_77294 = Toktostr_74323(Tok_77292);
Ppgettok_77010(L_77291, Tok_77292);
LOC10 = 0;
LOC11 = 0;
LOC11 = Getenv_35218(Key_77294);
LOC12 = 0;
LOC12 = Toktostr_74323(Tok_77292);
LOC10 = rawNewString(LOC11->Sup.len + LOC12->Sup.len + 0);
appendString(LOC10, LOC11);
appendString(LOC10, LOC12);
Putenv_35232(Key_77294, LOC10);
Ppgettok_77010(L_77291, Tok_77292);
break;
default:
LOC13 = 0;
LOC13 = Toktostr_74323(Tok_77292);
Lexmessage_74326(&(*L_77291), ((NU8) 28), LOC13);
break;
}
}
N_NIMCALL(void, Conftok_77317)(TY74267* L_77320, TY74263* Tok_77321) {
NIM_BOOL LOC2;
Ppgettok_77010(L_77320, Tok_77321);
while (1) {
LOC2 = !(((*Tok_77321).Ident == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC2 = eqStrings((*(*Tok_77321).Ident).S, ((NimStringDesc*) &TMP193713));
LA3: ;
if (!LOC2) goto LA1;
Parsedirective_77288(L_77320, Tok_77321);
} LA1: ;
}
N_NIMCALL(void, Checksymbol_77333)(TY74267* L_77335, TY74263* Tok_77336) {
NimStringDesc* LOC4;
if (!!(((*Tok_77336).Toktype >= ((NU8) 2) && (*Tok_77336).Toktype <= ((NU8) 65) || (*Tok_77336).Toktype >= ((NU8) 74) && (*Tok_77336).Toktype <= ((NU8) 76)))) goto LA2;
LOC4 = 0;
LOC4 = Toktostr_74323(Tok_77336);
Lexmessage_74326(L_77335, ((NU8) 19), LOC4);
LA2: ;
}
N_NIMCALL(void, Parseassignment_77358)(TY74267* L_77361, TY74263* Tok_77362) {
NimStringDesc* S_77363;
NimStringDesc* Val_77364;
TY43538 Info_77365;
NIM_BOOL LOC2;
TY50011* LOC3;
TY50011* LOC5;
NimStringDesc* LOC9;
NimStringDesc* LOC13;
NIM_BOOL LOC18;
NimStringDesc* LOC25;
NIM_BOOL LOC27;
TY50011* LOC29;
NimStringDesc* LOC30;
S_77363 = 0;
Val_77364 = 0;
S_77363 = NIM_NIL;
Val_77364 = NIM_NIL;
memset((void*)&Info_77365, 0, sizeof(Info_77365));
LOC3 = 0;
LOC3 = Getident_50016(((NimStringDesc*) &TMP193719));
LOC2 = ((*(*Tok_77362).Ident).Sup.Id == (*LOC3).Sup.Id);
if (LOC2) goto LA4;
LOC5 = 0;
LOC5 = Getident_50016(((NimStringDesc*) &TMP193720));
LOC2 = ((*(*Tok_77362).Ident).Sup.Id == (*LOC5).Sup.Id);
LA4: ;
if (!LOC2) goto LA6;
Conftok_77317(L_77361, Tok_77362);
LA6: ;
Info_77365 = Getlineinfo_74313(&(*L_77361));
Checksymbol_77333(&(*L_77361), Tok_77362);
S_77363 = Toktostr_74323(Tok_77362);
Conftok_77317(L_77361, Tok_77362);
Val_77364 = copyString(((NimStringDesc*) &TMP193721));
while (1) {
if (!((*Tok_77362).Toktype == ((NU8) 96))) goto LA8;
S_77363 = addChar(S_77363, 46);
Conftok_77317(L_77361, Tok_77362);
Checksymbol_77333(&(*L_77361), Tok_77362);
LOC9 = 0;
LOC9 = Toktostr_74323(Tok_77362);
S_77363 = resizeString(S_77363, LOC9->Sup.len + 0);
appendString(S_77363, LOC9);
Conftok_77317(L_77361, Tok_77362);
} LA8: ;
if (!((*Tok_77362).Toktype == ((NU8) 82))) goto LA11;
Conftok_77317(L_77361, Tok_77362);
Checksymbol_77333(&(*L_77361), Tok_77362);
LOC13 = 0;
LOC13 = Toktostr_74323(Tok_77362);
Val_77364 = resizeString(Val_77364, LOC13->Sup.len + 0);
appendString(Val_77364, LOC13);
Conftok_77317(L_77361, Tok_77362);
if (!((*Tok_77362).Toktype == ((NU8) 83))) goto LA15;
Conftok_77317(L_77361, Tok_77362);
goto LA14;
LA15: ;
Lexmessage_74326(&(*L_77361), ((NU8) 21), ((NimStringDesc*) &TMP193722));
LA14: ;
Val_77364 = addChar(Val_77364, 93);
LA11: ;
LOC18 = ((*Tok_77362).Toktype == ((NU8) 94));
if (LOC18) goto LA19;
LOC18 = ((*Tok_77362).Toktype == ((NU8) 95));
LA19: ;
if (!LOC18) goto LA20;
if (!(0 < Val_77364->Sup.len)) goto LA23;
Val_77364 = addChar(Val_77364, 58);
LA23: ;
Conftok_77317(L_77361, Tok_77362);
Checksymbol_77333(&(*L_77361), Tok_77362);
LOC25 = 0;
LOC25 = Toktostr_74323(Tok_77362);
Val_77364 = resizeString(Val_77364, LOC25->Sup.len + 0);
appendString(Val_77364, LOC25);
Conftok_77317(L_77361, Tok_77362);
while (1) {
LOC27 = !(((*Tok_77362).Ident == NIM_NIL));
if (!(LOC27)) goto LA28;
LOC29 = 0;
LOC29 = Getident_50016(((NimStringDesc*) &TMP193723));
LOC27 = ((*(*Tok_77362).Ident).Sup.Id == (*LOC29).Sup.Id);
LA28: ;
if (!LOC27) goto LA26;
Conftok_77317(L_77361, Tok_77362);
Checksymbol_77333(&(*L_77361), Tok_77362);
LOC30 = 0;
LOC30 = Toktostr_74323(Tok_77362);
Val_77364 = resizeString(Val_77364, LOC30->Sup.len + 0);
appendString(Val_77364, LOC30);
Conftok_77317(L_77361, Tok_77362);
} LA26: ;
LA20: ;
Processswitch_70012(S_77363, Val_77364, ((NU8) 2), Info_77365);
}
N_NIMCALL(void, Readconfigfile_77434)(NimStringDesc* Filename_77436) {
TY74267 L_77437;
TY74263* Tok_77438;
TY72204* Stream_77439;
memset((void*)&L_77437, 0, sizeof(L_77437));
L_77437.Sup.Sup.m_type = NTI74267;
Tok_77438 = 0;
Stream_77439 = 0;
genericReset((void*)&L_77437, NTI74267);
Tok_77438 = NIM_NIL;
Stream_77439 = NIM_NIL;
Tok_77438 = (TY74263*) newObj(NTI74261, sizeof(TY74263));
(*Tok_77438).m_type = NTI74263;
Stream_77439 = Llstreamopen_72224(Filename_77436, ((NU8) 0));
if (!!((Stream_77439 == NIM_NIL))) goto LA2;
Openlexer_74298(&L_77437, Filename_77436, Stream_77439);
(*Tok_77438).Toktype = ((NU8) 1);
Conftok_77317(&L_77437, Tok_77438);
while (1) {
if (!!(((*Tok_77438).Toktype == ((NU8) 1)))) goto LA4;
Parseassignment_77358(&L_77437, Tok_77438);
} LA4: ;
if (!(0 < Condstack_77133->Sup.len)) goto LA6;
Lexmessage_74326(&L_77437, ((NU8) 21), ((NimStringDesc*) &TMP193717));
LA6: ;
Closelexer_74316(&L_77437);
if (!(1 <= Gverbosity_42090)) goto LA9;
Rawmessage_44094(((NU8) 234), Filename_77436);
LA9: ;
LA2: ;
}
N_NIMCALL(NimStringDesc*, Getconfigpath_77495)(NimStringDesc* Filename_77497) {
NimStringDesc* Result_77498;
NimStringDesc* LOC1;
NIM_BOOL LOC3;
TY70026 LOC6;
NIM_BOOL LOC8;
NimStringDesc* LOC11;
Result_77498 = 0;
Result_77498 = NIM_NIL;
LOC1 = 0;
LOC1 = nosgetConfigDir();
Result_77498 = nosJoinPath(LOC1, Filename_77497);
LOC3 = nosexistsFile(Result_77498);
if (!!(LOC3)) goto LA4;
memset((void*)&LOC6, 0, sizeof(LOC6));
LOC6[0] = Getprefixdir_42114();
LOC6[1] = copyString(((NimStringDesc*) &TMP193725));
LOC6[2] = copyString(Filename_77497);
Result_77498 = nosJoinPathOpenArray(LOC6, 3);
LOC8 = nosexistsFile(Result_77498);
if (!!(LOC8)) goto LA9;
LOC11 = 0;
LOC11 = rawNewString(Filename_77497->Sup.len + 5);
appendString(LOC11, ((NimStringDesc*) &TMP193726));
appendString(LOC11, Filename_77497);
Result_77498 = LOC11;
LA9: ;
LA4: ;
return Result_77498;
}
N_NIMCALL(void, Loadspecialconfig_77007)(NimStringDesc* Configfilename_77009) {
NimStringDesc* LOC4;
if (!!(((Gglobaloptions_42084 &(1<<((((NU8) 16))&31)))!=0))) goto LA2;
LOC4 = 0;
LOC4 = Getconfigpath_77495(Configfilename_77009);
Readconfigfile_77434(LOC4);
LA2: ;
}
N_NIMCALL(void, Loadconfig_77004)(NimStringDesc* Project_77006) {
NimStringDesc* Conffile_77520;
NimStringDesc* Prefix_77521;
NIM_BOOL LOC10;
NIM_BOOL LOC15;
Conffile_77520 = 0;
Prefix_77521 = 0;
Conffile_77520 = NIM_NIL;
Prefix_77521 = NIM_NIL;
if (!((Libpath_42117) && (Libpath_42117)->Sup.len == 0)) goto LA2;
Prefix_77521 = Getprefixdir_42114();
if (!eqStrings(Prefix_77521, ((NimStringDesc*) &TMP193681))) goto LA5;
asgnRefNoCycle((void**) &Libpath_42117, copyString(((NimStringDesc*) &TMP193682)));
goto LA4;
LA5: ;
if (!eqStrings(Prefix_77521, ((NimStringDesc*) &TMP193683))) goto LA7;
asgnRefNoCycle((void**) &Libpath_42117, copyString(((NimStringDesc*) &TMP193684)));
goto LA4;
LA7: ;
asgnRefNoCycle((void**) &Libpath_42117, nosJoinPath(Prefix_77521, ((NimStringDesc*) &TMP193685)));
LA4: ;
LA2: ;
Loadspecialconfig_77007(((NimStringDesc*) &TMP193727));
LOC10 = !(((Gglobaloptions_42084 &(1<<((((NU8) 17))&31)))!=0));
if (!(LOC10)) goto LA11;
LOC10 = !(((Project_77006) && (Project_77006)->Sup.len == 0));
LA11: ;
if (!LOC10) goto LA12;
Conffile_77520 = nosChangeFileExt(Project_77006, ((NimStringDesc*) &TMP193728));
LOC15 = nosexistsFile(Conffile_77520);
if (!LOC15) goto LA16;
Readconfigfile_77434(Conffile_77520);
LA16: ;
LA12: ;
}
N_NOINLINE(void, nimconfInit)(void) {
asgnRefNoCycle((void**) &Condstack_77133, (TY77132*) newSeq(NTI77132, 0));
}

