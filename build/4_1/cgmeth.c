/* Generated by Nimrod Compiler v0.8.10 */
/*   (c) 2010 Andreas Rumpf */

typedef long int NI;
typedef unsigned long int NU;
#include "nimbase.h"

typedef struct TY158165 TY158165;
typedef struct TY55527 TY55527;
typedef struct TY55547 TY55547;
typedef struct TGenericSeq TGenericSeq;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct TY10802 TY10802;
typedef struct TY10818 TY10818;
typedef struct TY11190 TY11190;
typedef struct TY10814 TY10814;
typedef struct TY10810 TY10810;
typedef struct TY11188 TY11188;
typedef struct TY55551 TY55551;
typedef struct TY54005 TY54005;
typedef struct TNimObject TNimObject;
typedef struct TY54011 TY54011;
typedef struct TY47532 TY47532;
typedef struct TY55529 TY55529;
typedef struct TY55525 TY55525;
typedef struct TY55539 TY55539;
typedef struct TY52008 TY52008;
typedef struct TY55543 TY55543;
typedef struct NimStringDesc NimStringDesc;
typedef struct TY55549 TY55549;
typedef struct TY55519 TY55519;
typedef struct TY55900 TY55900;
typedef struct TY55896 TY55896;
typedef struct TY55898 TY55898;
typedef struct TY43013 TY43013;
struct TGenericSeq {
NI len;
NI space;
};
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct TY10802 {
NI Refcount;
TNimType* Typ;
};
struct TY10818 {
NI Len;
NI Cap;
TY10802** D;
};
struct TY10814 {
NI Counter;
NI Max;
TY10810* Head;
TY10810** Data;
};
struct TY11188 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY11190 {
TY10818 Zct;
TY10818 Decstack;
TY10814 Cycleroots;
TY10818 Tempstack;
NI Cyclerootslock;
NI Zctlock;
TY11188 Stat;
};
struct TNimObject {
TNimType* m_type;
};
struct TY54005 {
  TNimObject Sup;
NI Id;
};
struct TY47532 {
NI16 Line;
NI16 Col;
int Fileindex;
};
struct TY55529 {
TNimType* m_type;
NI Counter;
TY55527* Data;
};
struct TY55539 {
NU8 K;
NU8 S;
NU8 Flags;
TY55551* T;
TY52008* R;
NI A;
};
struct TY55547 {
  TY54005 Sup;
NU8 Kind;
NU8 Magic;
TY55551* Typ;
TY54011* Name;
TY47532 Info;
TY55547* Owner;
NU32 Flags;
TY55529 Tab;
TY55525* Ast;
NU32 Options;
NI Position;
NI Offset;
TY55539 Loc;
TY55543* Annex;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
struct TY54011 {
  TY54005 Sup;
NimStringDesc* S;
TY54011* Next;
NI H;
};
struct TY55551 {
  TY54005 Sup;
NU8 Kind;
TY55549* Sons;
TY55525* N;
NU8 Flags;
NU8 Callconv;
TY55547* Owner;
TY55547* Sym;
NI64 Size;
NI Align;
NI Containerid;
TY55539 Loc;
};
typedef TY55547* TY158294[1];
struct TY55525 {
TY55551* Typ;
NimStringDesc* Comment;
TY47532 Info;
NU8 Flags;
NU8 Kind;
union {
struct {NI64 Intval;
} S1;
struct {NF64 Floatval;
} S2;
struct {NimStringDesc* Strval;
} S3;
struct {TY55547* Sym;
} S4;
struct {TY54011* Ident;
} S5;
struct {TY55519* Sons;
} S6;
} KindU;
};
struct TY55900 {
NI Counter;
NI Max;
TY55896* Head;
TY55898* Data;
};
typedef NI TY8814[16];
struct TY10810 {
TY10810* Next;
NI Key;
TY8814 Bits;
};
struct TY52008 {
  TNimObject Sup;
TY52008* Left;
TY52008* Right;
NI Length;
NimStringDesc* Data;
};
struct TY43013 {
  TNimObject Sup;
TY43013* Prev;
TY43013* Next;
};
struct TY55543 {
  TY43013 Sup;
NU8 Kind;
NIM_BOOL Generated;
TY52008* Name;
TY55525* Path;
};
struct TY55896 {
TY55896* Next;
NI Key;
TY8814 Bits;
};
struct TY55527 {
  TGenericSeq Sup;
  TY55547* data[SEQ_DECL_SIZE];
};
struct TY158165 {
  TGenericSeq Sup;
  TY55527* data[SEQ_DECL_SIZE];
};
struct TY55549 {
  TGenericSeq Sup;
  TY55551* data[SEQ_DECL_SIZE];
};
struct TY55519 {
  TGenericSeq Sup;
  TY55525* data[SEQ_DECL_SIZE];
};
struct TY55898 {
  TGenericSeq Sup;
  TY55896* data[SEQ_DECL_SIZE];
};
N_NIMCALL(void*, newSeq)(TNimType* Typ_14204, NI Len_14205);
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13218, void* Src_13219);
static N_INLINE(TY10802*, Usrtocell_11612)(void* Usr_11614);
static N_INLINE(NI, Atomicinc_3001)(NI* Memloc_3004, NI X_3005);
static N_INLINE(NI, Atomicdec_3006)(NI* Memloc_3009, NI X_3010);
static N_INLINE(void, Rtladdzct_12601)(TY10802* C_12603);
N_NOINLINE(void, Addzct_11601)(TY10818* S_11604, TY10802* C_11605);
N_NIMCALL(NIM_BOOL, Samemethodbucket_158167)(TY55547* A_158169, TY55547* B_158170);
N_NIMCALL(NI, Sonslen_55806)(TY55551* N_55808);
N_NIMCALL(NIM_BOOL, Sametypeornil_96052)(TY55551* A_96054, TY55551* B_96055);
N_NIMCALL(TY55551*, Skiptypes_96085)(TY55551* T_96087, NU64 Kinds_96088);
N_NIMCALL(NIM_BOOL, Sametype_96048)(TY55551* X_96050, TY55551* Y_96051);
N_NIMCALL(NI, Inheritancediff_96119)(TY55551* A_96121, TY55551* B_96122);
N_NIMCALL(TGenericSeq*, incrSeq)(TGenericSeq* Seq_18835, NI Elemsize_18836);
static N_INLINE(void, asgnRef)(void** Dest_13214, void* Src_13215);
static N_INLINE(void, Incref_13202)(TY10802* C_13204);
static N_INLINE(NIM_BOOL, Canbecycleroot_11616)(TY10802* C_11618);
static N_INLINE(void, Rtladdcycleroot_12252)(TY10802* C_12254);
N_NOINLINE(void, Incl_11074)(TY10814* S_11077, TY10802* Cell_11078);
static N_INLINE(void, Decref_13001)(TY10802* C_13003);
N_NIMCALL(void, Addson_55823)(TY55525* Father_55825, TY55525* Son_55826);
N_NIMCALL(TY55525*, Lastson_55809)(TY55525* N_55811);
N_NIMCALL(void, genericSeqAssign)(void* Dest_19639, void* Src_19640, TNimType* Mt_19641);
N_NIMCALL(TY55547*, Copysym_55775)(TY55547* S_55777, NIM_BOOL Keepid_55778);
N_NIMCALL(TY55551*, Copytype_55770)(TY55551* T_55772, TY55547* Owner_55773, NIM_BOOL Keepid_55774);
N_NIMCALL(TY55525*, Copytree_55858)(TY55525* Src_55860);
N_NIMCALL(TY55525*, Newsymnode_55734)(TY55547* Sym_55736);
N_NIMCALL(NI, Sonslen_55803)(TY55525* N_55805);
N_NIMCALL(TY55525*, Genconv_158014)(TY55525* N_158016, TY55551* D_158017, NIM_BOOL Downcast_158018);
N_NIMCALL(void, Internalerror_47567)(TY47532 Info_47569, NimStringDesc* Errmsg_47570);
N_NIMCALL(TY55525*, Newnodeit_55741)(NU8 Kind_55743, TY47532 Info_55744, TY55551* Typ_55745);
N_NIMCALL(TY55525*, Newnode_55710)(NU8 Kind_55712);
N_NIMCALL(void, Intsetinit_55924)(TY55900* S_55927);
N_NIMCALL(NIM_BOOL, Relevantcol_158400)(TY55527* Methods_158402, NI Col_158403);
N_NIMCALL(void, Intsetincl_55914)(TY55900* S_55917, NI Key_55918);
N_NIMCALL(void, Sortbucket_158454)(TY55527** A_158457, TY55900 Relevantcols_158458);
N_NIMCALL(NI, Cmpsignatures_158429)(TY55547* A_158431, TY55547* B_158432, TY55900 Relevantcols_158433);
N_NIMCALL(NIM_BOOL, Intsetcontains_55910)(TY55900 S_55912, NI Key_55913);
N_NIMCALL(TY55547*, Gendispatcher_158502)(TY55527* Methods_158504, TY55900 Relevantcols_158505);
N_NIMCALL(TY55525*, Newnodei_55737)(NU8 Kind_55739, TY47532 Info_55740);
N_NIMCALL(TY55547*, Getsyssym_101024)(NimStringDesc* Name_101026);
N_NIMCALL(TY55551*, Getsystype_101008)(NU8 Kind_101010);
NIM_CONST NU64 Skipptrs_158012 = 14682112;
STRING_LITERAL(TMP197238, "cgmeth.genConv", 14);
STRING_LITERAL(TMP197239, "cgmeth.genConv: no upcast allowed", 33);
STRING_LITERAL(TMP197240, "cgmeth.genConv: no downcast allowed", 35);
STRING_LITERAL(TMP197772, "and", 3);
STRING_LITERAL(TMP197773, "is", 2);
TY158165* Gmethods_158166;
extern TNimType* NTI158165; /* seq[TSymSeq] */
extern TY11190 Gch_11210;
extern TNimType* NTI55527; /* TSymSeq */
static N_INLINE(TY10802*, Usrtocell_11612)(void* Usr_11614) {
TY10802* Result_11615;
Result_11615 = 0;
Result_11615 = ((TY10802*) ((NI32)((NU32)(((NI) (Usr_11614))) - (NU32)(((NI) (((NI)sizeof(TY10802))))))));
return Result_11615;
}
static N_INLINE(NI, Atomicinc_3001)(NI* Memloc_3004, NI X_3005) {
NI Result_7607;
Result_7607 = 0;
(*Memloc_3004) += X_3005;
Result_7607 = (*Memloc_3004);
return Result_7607;
}
static N_INLINE(NI, Atomicdec_3006)(NI* Memloc_3009, NI X_3010) {
NI Result_7806;
Result_7806 = 0;
(*Memloc_3009) -= X_3010;
Result_7806 = (*Memloc_3009);
return Result_7806;
}
static N_INLINE(void, Rtladdzct_12601)(TY10802* C_12603) {
Addzct_11601(&Gch_11210.Zct, C_12603);
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13218, void* Src_13219) {
TY10802* C_13220;
NI LOC4;
TY10802* C_13222;
NI LOC9;
if (!!((Src_13219 == NIM_NIL))) goto LA2;
C_13220 = 0;
C_13220 = Usrtocell_11612(Src_13219);
LOC4 = Atomicinc_3001(&(*C_13220).Refcount, 8);
LA2: ;
if (!!(((*Dest_13218) == NIM_NIL))) goto LA6;
C_13222 = 0;
C_13222 = Usrtocell_11612((*Dest_13218));
LOC9 = Atomicdec_3006(&(*C_13222).Refcount, 8);
if (!((NU32)(LOC9) < (NU32)(8))) goto LA10;
Rtladdzct_12601(C_13222);
LA10: ;
LA6: ;
(*Dest_13218) = Src_13219;
}
N_NIMCALL(NIM_BOOL, Samemethodbucket_158167)(TY55547* A_158169, TY55547* B_158170) {
NIM_BOOL Result_158171;
TY55551* Aa_158172;
TY55551* Bb_158173;
NI LOC5;
NI LOC6;
NIM_BOOL LOC10;
NI I_158185;
NI HEX3Atmp_158231;
NI LOC13;
NI Res_158233;
NIM_BOOL LOC17;
NIM_BOOL LOC22;
NIM_BOOL LOC24;
NIM_BOOL LOC25;
NI LOC28;
Result_158171 = 0;
Aa_158172 = 0;
Bb_158173 = 0;
Result_158171 = NIM_FALSE;
if (!!(((*(*A_158169).Name).Sup.Id == (*(*B_158170).Name).Sup.Id))) goto LA2;
goto BeforeRet;
LA2: ;
LOC5 = Sonslen_55806((*A_158169).Typ);
LOC6 = Sonslen_55806((*B_158170).Typ);
if (!!((LOC5 == LOC6))) goto LA7;
goto BeforeRet;
LA7: ;
LOC10 = Sametypeornil_96052((*(*A_158169).Typ).Sons->data[0], (*(*B_158170).Typ).Sons->data[0]);
if (!!(LOC10)) goto LA11;
goto BeforeRet;
LA11: ;
I_158185 = 0;
HEX3Atmp_158231 = 0;
LOC13 = Sonslen_55806((*A_158169).Typ);
HEX3Atmp_158231 = (NI32)(LOC13 - 1);
Res_158233 = 0;
Res_158233 = 1;
while (1) {
if (!(Res_158233 <= HEX3Atmp_158231)) goto LA14;
I_158185 = Res_158233;
Aa_158172 = (*(*A_158169).Typ).Sons->data[I_158185];
Bb_158173 = (*(*B_158170).Typ).Sons->data[I_158185];
while (1) {
Aa_158172 = Skiptypes_96085(Aa_158172, 2048);
Bb_158173 = Skiptypes_96085(Bb_158173, 2048);
LOC17 = ((*Aa_158172).Kind == (*Bb_158173).Kind);
if (!(LOC17)) goto LA18;
LOC17 = ((*Aa_158172).Kind == ((NU8) 23) || (*Aa_158172).Kind == ((NU8) 21) || (*Aa_158172).Kind == ((NU8) 22));
LA18: ;
if (!LOC17) goto LA19;
Aa_158172 = (*Aa_158172).Sons->data[0];
Bb_158173 = (*Bb_158173).Sons->data[0];
goto LA16;
LA19: ;
goto LA15;
LA16: ;
} LA15: ;
LOC22 = Sametype_96048(Aa_158172, Bb_158173);
if (LOC22) goto LA23;
LOC25 = ((*Aa_158172).Kind == ((NU8) 17));
if (!(LOC25)) goto LA26;
LOC25 = ((*Bb_158173).Kind == ((NU8) 17));
LA26: ;
LOC24 = LOC25;
if (!(LOC24)) goto LA27;
LOC28 = Inheritancediff_96119(Bb_158173, Aa_158172);
LOC24 = (LOC28 < 0);
LA27: ;
LOC22 = LOC24;
LA23: ;
if (!LOC22) goto LA29;
goto LA21;
LA29: ;
goto BeforeRet;
LA21: ;
Res_158233 += 1;
} LA14: ;
Result_158171 = NIM_TRUE;
BeforeRet: ;
return Result_158171;
}
static N_INLINE(NIM_BOOL, Canbecycleroot_11616)(TY10802* C_11618) {
NIM_BOOL Result_11619;
Result_11619 = 0;
Result_11619 = !((((*(*C_11618).Typ).flags &(1<<((((NU8) 1))&7)))!=0));
return Result_11619;
}
static N_INLINE(void, Rtladdcycleroot_12252)(TY10802* C_12254) {
Incl_11074(&Gch_11210.Cycleroots, C_12254);
}
static N_INLINE(void, Incref_13202)(TY10802* C_13204) {
NI LOC1;
NIM_BOOL LOC3;
LOC1 = Atomicinc_3001(&(*C_13204).Refcount, 8);
LOC3 = Canbecycleroot_11616(C_13204);
if (!LOC3) goto LA4;
Rtladdcycleroot_12252(C_13204);
LA4: ;
}
static N_INLINE(void, Decref_13001)(TY10802* C_13003) {
NI LOC2;
NIM_BOOL LOC5;
LOC2 = Atomicdec_3006(&(*C_13003).Refcount, 8);
if (!((NU32)(LOC2) < (NU32)(8))) goto LA3;
Rtladdzct_12601(C_13003);
goto LA1;
LA3: ;
LOC5 = Canbecycleroot_11616(C_13003);
if (!LOC5) goto LA6;
Rtladdcycleroot_12252(C_13003);
goto LA1;
LA6: ;
LA1: ;
}
static N_INLINE(void, asgnRef)(void** Dest_13214, void* Src_13215) {
TY10802* LOC4;
TY10802* LOC8;
if (!!((Src_13215 == NIM_NIL))) goto LA2;
LOC4 = Usrtocell_11612(Src_13215);
Incref_13202(LOC4);
LA2: ;
if (!!(((*Dest_13214) == NIM_NIL))) goto LA6;
LOC8 = Usrtocell_11612((*Dest_13214));
Decref_13001(LOC8);
LA6: ;
(*Dest_13214) = Src_13215;
}
N_NIMCALL(void, Methoddef_158004)(TY55547* S_158006) {
NI L_158243;
NI Q_158244;
TY55547* Disp_158245;
NI I_158263;
NI HEX3Atmp_158395;
NI Res_158397;
NIM_BOOL LOC3;
TY55525* LOC6;
TY55527* LOC7;
TY158294 LOC8;
TY55525* LOC15;
L_158243 = 0;
Q_158244 = 0;
Disp_158245 = 0;
L_158243 = Gmethods_158166->Sup.len;
I_158263 = 0;
HEX3Atmp_158395 = 0;
HEX3Atmp_158395 = (NI32)(L_158243 - 1);
Res_158397 = 0;
Res_158397 = 0;
while (1) {
if (!(Res_158397 <= HEX3Atmp_158395)) goto LA1;
I_158263 = Res_158397;
LOC3 = Samemethodbucket_158167(Gmethods_158166->data[I_158263]->data[0], S_158006);
if (!LOC3) goto LA4;
Gmethods_158166->data[I_158263] = (TY55527*) incrSeq(&(Gmethods_158166->data[I_158263])->Sup, sizeof(TY55547*));
asgnRef((void**) &Gmethods_158166->data[I_158263]->data[Gmethods_158166->data[I_158263]->Sup.len-1], S_158006);
LOC6 = 0;
LOC6 = Lastson_55809((*Gmethods_158166->data[I_158263]->data[0]).Ast);
Addson_55823((*S_158006).Ast, LOC6);
goto BeforeRet;
LA4: ;
Res_158397 += 1;
} LA1: ;
LOC7 = 0;
LOC7 = (TY55527*) newSeq(NTI55527, 1);
memset((void*)&LOC8, 0, sizeof(LOC8));
LOC8[0] = S_158006;
asgnRef((void**) &LOC7->data[0], LOC8[0]);
Gmethods_158166 = (TY158165*) incrSeq(&(Gmethods_158166)->Sup, sizeof(TY55527*));
genericSeqAssign(&Gmethods_158166->data[Gmethods_158166->Sup.len-1], LOC7, NTI55527);
Disp_158245 = Copysym_55775(S_158006, NIM_FALSE);
asgnRef((void**) &(*Disp_158245).Typ, Copytype_55770((*Disp_158245).Typ, (*(*Disp_158245).Typ).Owner, NIM_FALSE));
if (!((*(*Disp_158245).Typ).Callconv == ((NU8) 5))) goto LA10;
(*(*Disp_158245).Typ).Callconv = ((NU8) 0);
LA10: ;
asgnRefNoCycle((void**) &(*Disp_158245).Ast, Copytree_55858((*S_158006).Ast));
asgnRefNoCycle((void**) &(*(*Disp_158245).Ast).KindU.S6.Sons->data[4], NIM_NIL);
if (!!(((*(*S_158006).Typ).Sons->data[0] == NIM_NIL))) goto LA13;
asgnRef((void**) &(*(*(*Disp_158245).Ast).KindU.S6.Sons->data[5]).KindU.S4.Sym, Copysym_55775((*(*(*S_158006).Ast).KindU.S6.Sons->data[5]).KindU.S4.Sym, NIM_FALSE));
LA13: ;
LOC15 = 0;
LOC15 = Newsymnode_55734(Disp_158245);
Addson_55823((*S_158006).Ast, LOC15);
BeforeRet: ;
}
N_NIMCALL(TY55525*, Genconv_158014)(TY55525* N_158016, TY55551* D_158017, NIM_BOOL Downcast_158018) {
TY55525* Result_158019;
TY55551* Dest_158020;
TY55551* Source_158021;
NI Diff_158022;
NIM_BOOL LOC2;
Result_158019 = 0;
Dest_158020 = 0;
Source_158021 = 0;
Diff_158022 = 0;
Dest_158020 = Skiptypes_96085(D_158017, 14723072);
Source_158021 = Skiptypes_96085((*N_158016).Typ, 14723072);
LOC2 = ((*Source_158021).Kind == ((NU8) 17));
if (!(LOC2)) goto LA3;
LOC2 = ((*Dest_158020).Kind == ((NU8) 17));
LA3: ;
if (!LOC2) goto LA4;
Diff_158022 = Inheritancediff_96119(Dest_158020, Source_158021);
if (!(Diff_158022 == 2147483647)) goto LA7;
Internalerror_47567((*N_158016).Info, ((NimStringDesc*) &TMP197238));
LA7: ;
if (!(Diff_158022 < 0)) goto LA10;
Result_158019 = Newnodeit_55741(((NU8) 56), (*N_158016).Info, D_158017);
Addson_55823(Result_158019, N_158016);
if (!Downcast_158018) goto LA13;
Internalerror_47567((*N_158016).Info, ((NimStringDesc*) &TMP197239));
LA13: ;
goto LA9;
LA10: ;
if (!(0 < Diff_158022)) goto LA15;
Result_158019 = Newnodeit_55741(((NU8) 55), (*N_158016).Info, D_158017);
Addson_55823(Result_158019, N_158016);
if (!!(Downcast_158018)) goto LA18;
Internalerror_47567((*N_158016).Info, ((NimStringDesc*) &TMP197240));
LA18: ;
goto LA9;
LA15: ;
Result_158019 = N_158016;
LA9: ;
goto LA1;
LA4: ;
Result_158019 = N_158016;
LA1: ;
return Result_158019;
}
N_NIMCALL(TY55525*, Methodcall_158007)(TY55525* N_158009) {
TY55525* Result_158050;
TY55547* Disp_158051;
TY55525* LOC1;
NI I_158134;
NI HEX3Atmp_158160;
NI LOC2;
NI Res_158162;
Result_158050 = 0;
Disp_158051 = 0;
Result_158050 = N_158009;
LOC1 = 0;
LOC1 = Lastson_55809((*(*(*Result_158050).KindU.S6.Sons->data[0]).KindU.S4.Sym).Ast);
Disp_158051 = (*LOC1).KindU.S4.Sym;
asgnRef((void**) &(*(*Result_158050).KindU.S6.Sons->data[0]).KindU.S4.Sym, Disp_158051);
I_158134 = 0;
HEX3Atmp_158160 = 0;
LOC2 = Sonslen_55803(Result_158050);
HEX3Atmp_158160 = (NI32)(LOC2 - 1);
Res_158162 = 0;
Res_158162 = 1;
while (1) {
if (!(Res_158162 <= HEX3Atmp_158160)) goto LA3;
I_158134 = Res_158162;
asgnRefNoCycle((void**) &(*Result_158050).KindU.S6.Sons->data[I_158134], Genconv_158014((*Result_158050).KindU.S6.Sons->data[I_158134], (*(*Disp_158051).Typ).Sons->data[I_158134], NIM_TRUE));
Res_158162 += 1;
} LA3: ;
return Result_158050;
}
N_NIMCALL(NIM_BOOL, Relevantcol_158400)(TY55527* Methods_158402, NI Col_158403) {
NIM_BOOL Result_158404;
TY55551* T_158405;
TY55551* LOC2;
NI I_158422;
NI HEX3Atmp_158424;
NI Res_158426;
NIM_BOOL LOC7;
Result_158404 = 0;
T_158405 = 0;
T_158405 = (*(*Methods_158402->data[0]).Typ).Sons->data[Col_158403];
Result_158404 = NIM_FALSE;
LOC2 = 0;
LOC2 = Skiptypes_96085(T_158405, 14682112);
if (!((*LOC2).Kind == ((NU8) 17))) goto LA3;
I_158422 = 0;
HEX3Atmp_158424 = 0;
HEX3Atmp_158424 = (Methods_158402->Sup.len-1);
Res_158426 = 0;
Res_158426 = 1;
while (1) {
if (!(Res_158426 <= HEX3Atmp_158424)) goto LA5;
I_158422 = Res_158426;
LOC7 = Sametype_96048((*(*Methods_158402->data[I_158422]).Typ).Sons->data[Col_158403], T_158405);
if (!!(LOC7)) goto LA8;
Result_158404 = NIM_TRUE;
goto BeforeRet;
LA8: ;
Res_158426 += 1;
} LA5: ;
LA3: ;
BeforeRet: ;
return Result_158404;
}
N_NIMCALL(NI, Cmpsignatures_158429)(TY55547* A_158431, TY55547* B_158432, TY55900 Relevantcols_158433) {
NI Result_158434;
NI D_158435;
TY55551* Aa_158436;
TY55551* Bb_158437;
NI Col_158445;
NI HEX3Atmp_158449;
NI LOC1;
NI Res_158451;
NIM_BOOL LOC4;
Result_158434 = 0;
D_158435 = 0;
Aa_158436 = 0;
Bb_158437 = 0;
Result_158434 = 0;
Col_158445 = 0;
HEX3Atmp_158449 = 0;
LOC1 = Sonslen_55806((*A_158431).Typ);
HEX3Atmp_158449 = (NI32)(LOC1 - 1);
Res_158451 = 0;
Res_158451 = 1;
while (1) {
if (!(Res_158451 <= HEX3Atmp_158449)) goto LA2;
Col_158445 = Res_158451;
LOC4 = Intsetcontains_55910(Relevantcols_158433, Col_158445);
if (!LOC4) goto LA5;
Aa_158436 = Skiptypes_96085((*(*A_158431).Typ).Sons->data[Col_158445], 14682112);
Bb_158437 = Skiptypes_96085((*(*B_158432).Typ).Sons->data[Col_158445], 14682112);
D_158435 = Inheritancediff_96119(Aa_158436, Bb_158437);
if (!!((D_158435 == 2147483647))) goto LA8;
Result_158434 = D_158435;
goto BeforeRet;
LA8: ;
LA5: ;
Res_158451 += 1;
} LA2: ;
BeforeRet: ;
return Result_158434;
}
N_NIMCALL(void, Sortbucket_158454)(TY55527** A_158457, TY55900 Relevantcols_158458) {
NI N_158459;
NI J_158460;
NI H_158461;
TY55547* V_158462;
NI I_158482;
NI HEX3Atmp_158492;
NI Res_158494;
NI LOC8;
N_158459 = 0;
J_158460 = 0;
H_158461 = 0;
V_158462 = 0;
N_158459 = (*A_158457)->Sup.len;
H_158461 = 1;
while (1) {
H_158461 = (NI32)((NI32)(3 * H_158461) + 1);
if (!(N_158459 < H_158461)) goto LA3;
goto LA1;
LA3: ;
} LA1: ;
while (1) {
H_158461 = (NI32)(H_158461 / 3);
I_158482 = 0;
HEX3Atmp_158492 = 0;
HEX3Atmp_158492 = (NI32)(N_158459 - 1);
Res_158494 = 0;
Res_158494 = H_158461;
while (1) {
if (!(Res_158494 <= HEX3Atmp_158492)) goto LA6;
I_158482 = Res_158494;
V_158462 = (*A_158457)->data[I_158482];
J_158460 = I_158482;
while (1) {
LOC8 = Cmpsignatures_158429((*A_158457)->data[(NI32)(J_158460 - H_158461)], V_158462, Relevantcols_158458);
if (!(0 <= LOC8)) goto LA7;
asgnRef((void**) &(*A_158457)->data[J_158460], (*A_158457)->data[(NI32)(J_158460 - H_158461)]);
J_158460 = (NI32)(J_158460 - H_158461);
if (!(J_158460 < H_158461)) goto LA10;
goto LA7;
LA10: ;
} LA7: ;
asgnRef((void**) &(*A_158457)->data[J_158460], V_158462);
Res_158494 += 1;
} LA6: ;
if (!(H_158461 == 1)) goto LA13;
goto LA5;
LA13: ;
} LA5: ;
}
N_NIMCALL(TY55547*, Gendispatcher_158502)(TY55527* Methods_158504, TY55900 Relevantcols_158505) {
TY55547* Result_158506;
TY55525* Disp_158507;
TY55525* Cond_158508;
TY55525* Call_158509;
TY55525* Ret_158510;
TY55525* A_158511;
TY55525* Isn_158512;
TY55547* Base_158513;
TY55547* Curr_158514;
TY55547* Ands_158515;
TY55547* Iss_158516;
NI Paramlen_158517;
TY55525* LOC1;
NI Meth_158537;
NI HEX3Atmp_158673;
NI Res_158675;
NI Col_158545;
NI HEX3Atmp_158661;
NI Res_158663;
NIM_BOOL LOC5;
TY55551* LOC8;
TY55525* LOC9;
TY55525* LOC10;
TY55525* LOC11;
TY55551* LOC15;
TY55525* LOC16;
TY55525* LOC17;
NI Col_158588;
NI HEX3Atmp_158667;
NI Res_158669;
TY55525* LOC19;
TY55525* LOC20;
TY55525* LOC24;
Result_158506 = 0;
Disp_158507 = 0;
Cond_158508 = 0;
Call_158509 = 0;
Ret_158510 = 0;
A_158511 = 0;
Isn_158512 = 0;
Base_158513 = 0;
Curr_158514 = 0;
Ands_158515 = 0;
Iss_158516 = 0;
Paramlen_158517 = 0;
LOC1 = 0;
LOC1 = Lastson_55809((*Methods_158504->data[0]).Ast);
Base_158513 = (*LOC1).KindU.S4.Sym;
Result_158506 = Base_158513;
Paramlen_158517 = Sonslen_55806((*Base_158513).Typ);
Disp_158507 = Newnodei_55737(((NU8) 82), (*Base_158513).Info);
Ands_158515 = Getsyssym_101024(((NimStringDesc*) &TMP197772));
Iss_158516 = Getsyssym_101024(((NimStringDesc*) &TMP197773));
Meth_158537 = 0;
HEX3Atmp_158673 = 0;
HEX3Atmp_158673 = (Methods_158504->Sup.len-1);
Res_158675 = 0;
Res_158675 = 0;
while (1) {
if (!(Res_158675 <= HEX3Atmp_158673)) goto LA2;
Meth_158537 = Res_158675;
Curr_158514 = Methods_158504->data[Meth_158537];
Cond_158508 = NIM_NIL;
Col_158545 = 0;
HEX3Atmp_158661 = 0;
HEX3Atmp_158661 = (NI32)(Paramlen_158517 - 1);
Res_158663 = 0;
Res_158663 = 1;
while (1) {
if (!(Res_158663 <= HEX3Atmp_158661)) goto LA3;
Col_158545 = Res_158663;
LOC5 = Intsetcontains_55910(Relevantcols_158505, Col_158545);
if (!LOC5) goto LA6;
LOC8 = 0;
LOC8 = Getsystype_101008(((NU8) 1));
Isn_158512 = Newnodeit_55741(((NU8) 21), (*Base_158513).Info, LOC8);
LOC9 = 0;
LOC9 = Newsymnode_55734(Iss_158516);
Addson_55823(Isn_158512, LOC9);
LOC10 = 0;
LOC10 = Newsymnode_55734((*(*(*(*Base_158513).Typ).N).KindU.S6.Sons->data[Col_158545]).KindU.S4.Sym);
Addson_55823(Isn_158512, LOC10);
LOC11 = 0;
LOC11 = Newnodeit_55741(((NU8) 4), (*Base_158513).Info, (*(*Curr_158514).Typ).Sons->data[Col_158545]);
Addson_55823(Isn_158512, LOC11);
if (!!((Cond_158508 == NIM_NIL))) goto LA13;
LOC15 = 0;
LOC15 = Getsystype_101008(((NU8) 1));
A_158511 = Newnodeit_55741(((NU8) 21), (*Base_158513).Info, LOC15);
LOC16 = 0;
LOC16 = Newsymnode_55734(Ands_158515);
Addson_55823(A_158511, LOC16);
Addson_55823(A_158511, Cond_158508);
Addson_55823(A_158511, Isn_158512);
Cond_158508 = A_158511;
goto LA12;
LA13: ;
Cond_158508 = Isn_158512;
LA12: ;
LA6: ;
Res_158663 += 1;
} LA3: ;
Call_158509 = Newnodei_55737(((NU8) 21), (*Base_158513).Info);
LOC17 = 0;
LOC17 = Newsymnode_55734(Curr_158514);
Addson_55823(Call_158509, LOC17);
Col_158588 = 0;
HEX3Atmp_158667 = 0;
HEX3Atmp_158667 = (NI32)(Paramlen_158517 - 1);
Res_158669 = 0;
Res_158669 = 1;
while (1) {
if (!(Res_158669 <= HEX3Atmp_158667)) goto LA18;
Col_158588 = Res_158669;
LOC19 = 0;
LOC19 = Newsymnode_55734((*(*(*(*Base_158513).Typ).N).KindU.S6.Sons->data[Col_158588]).KindU.S4.Sym);
LOC20 = 0;
LOC20 = Genconv_158014(LOC19, (*(*Curr_158514).Typ).Sons->data[Col_158588], NIM_FALSE);
Addson_55823(Call_158509, LOC20);
Res_158669 += 1;
} LA18: ;
if (!!(((*(*Base_158513).Typ).Sons->data[0] == NIM_NIL))) goto LA22;
A_158511 = Newnodei_55737(((NU8) 63), (*Base_158513).Info);
LOC24 = 0;
LOC24 = Newsymnode_55734((*(*(*Base_158513).Ast).KindU.S6.Sons->data[5]).KindU.S4.Sym);
Addson_55823(A_158511, LOC24);
Addson_55823(A_158511, Call_158509);
Ret_158510 = Newnodei_55737(((NU8) 96), (*Base_158513).Info);
Addson_55823(Ret_158510, A_158511);
goto LA21;
LA22: ;
Ret_158510 = Call_158509;
LA21: ;
A_158511 = Newnodei_55737(((NU8) 76), (*Base_158513).Info);
Addson_55823(A_158511, Cond_158508);
Addson_55823(A_158511, Ret_158510);
Addson_55823(Disp_158507, A_158511);
Res_158675 += 1;
} LA2: ;
asgnRefNoCycle((void**) &(*(*Result_158506).Ast).KindU.S6.Sons->data[4], Disp_158507);
return Result_158506;
}
N_NIMCALL(TY55525*, Generatemethoddispatchers_158010)(void) {
TY55525* Result_158688;
TY55900 Relevantcols_158689;
NI Bucket_158707;
NI HEX3Atmp_158726;
NI Res_158728;
NI Col_158716;
NI HEX3Atmp_158720;
NI LOC2;
NI Res_158722;
NIM_BOOL LOC5;
TY55547* LOC8;
TY55525* LOC9;
Result_158688 = 0;
memset((void*)&Relevantcols_158689, 0, sizeof(Relevantcols_158689));
Result_158688 = Newnode_55710(((NU8) 101));
Bucket_158707 = 0;
HEX3Atmp_158726 = 0;
HEX3Atmp_158726 = (NI32)(Gmethods_158166->Sup.len - 1);
Res_158728 = 0;
Res_158728 = 0;
while (1) {
if (!(Res_158728 <= HEX3Atmp_158726)) goto LA1;
Bucket_158707 = Res_158728;
Intsetinit_55924(&Relevantcols_158689);
Col_158716 = 0;
HEX3Atmp_158720 = 0;
LOC2 = Sonslen_55806((*Gmethods_158166->data[Bucket_158707]->data[0]).Typ);
HEX3Atmp_158720 = (NI32)(LOC2 - 1);
Res_158722 = 0;
Res_158722 = 1;
while (1) {
if (!(Res_158722 <= HEX3Atmp_158720)) goto LA3;
Col_158716 = Res_158722;
LOC5 = Relevantcol_158400(Gmethods_158166->data[Bucket_158707], Col_158716);
if (!LOC5) goto LA6;
Intsetincl_55914(&Relevantcols_158689, Col_158716);
LA6: ;
Res_158722 += 1;
} LA3: ;
Sortbucket_158454(&Gmethods_158166->data[Bucket_158707], Relevantcols_158689);
LOC8 = 0;
LOC8 = Gendispatcher_158502(Gmethods_158166->data[Bucket_158707], Relevantcols_158689);
LOC9 = 0;
LOC9 = Newsymnode_55734(LOC8);
Addson_55823(Result_158688, LOC9);
Res_158728 += 1;
} LA1: ;
return Result_158688;
}
N_NOINLINE(void, cgmethInit)(void) {
asgnRefNoCycle((void**) &Gmethods_158166, (TY158165*) newSeq(NTI158165, 0));
}

