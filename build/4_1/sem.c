/* Generated by Nimrod Compiler v0.8.10 */
/*   (c) 2010 Andreas Rumpf */

typedef long int NI;
typedef unsigned long int NU;
#include "nimbase.h"

typedef struct TY104006 TY104006;
typedef struct TY104002 TY104002;
typedef struct TY55547 TY55547;
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct TY92031 TY92031;
typedef struct TY55525 TY55525;
typedef struct TY106012 TY106012;
typedef struct TNimObject TNimObject;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct TY106006 TY106006;
typedef struct TY59107 TY59107;
typedef struct TY59109 TY59109;
typedef struct TY55529 TY55529;
typedef struct TY55527 TY55527;
typedef struct TY55900 TY55900;
typedef struct TY55896 TY55896;
typedef struct TY55898 TY55898;
typedef struct TY43019 TY43019;
typedef struct TY43013 TY43013;
typedef struct TY47532 TY47532;
typedef struct TY54005 TY54005;
typedef struct TY55551 TY55551;
typedef struct TY54011 TY54011;
typedef struct TY55539 TY55539;
typedef struct TY52008 TY52008;
typedef struct TY55543 TY55543;
typedef struct TY55519 TY55519;
typedef struct TY55549 TY55549;
typedef struct TY107004 TY107004;
typedef struct TY59092 TY59092;
typedef struct TY10802 TY10802;
typedef struct TY10814 TY10814;
typedef struct TY11190 TY11190;
typedef struct TY10818 TY10818;
typedef struct TY10810 TY10810;
typedef struct TY11188 TY11188;
typedef struct TY114006 TY114006;
typedef struct TY114004 TY114004;
typedef struct TY55569 TY55569;
typedef struct TY55567 TY55567;
typedef struct TY55565 TY55565;
typedef struct TY126058 TY126058;
typedef struct TY55563 TY55563;
typedef struct TY55561 TY55561;
typedef struct TY55559 TY55559;
typedef struct TY125712 TY125712;
typedef struct TY106002 TY106002;
typedef struct TY39422 TY39422;
typedef struct TY92029 TY92029;
typedef struct TY59223 TY59223;
typedef struct TY59221 TY59221;
typedef struct TY59219 TY59219;
struct TGenericSeq {
NI len;
NI space;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
typedef N_NIMCALL_PTR(TY104002*, TY104007) (TY55547* Module_104008, NimStringDesc* Filename_104009);
typedef N_NIMCALL_PTR(TY104002*, TY104012) (TY55547* Module_104013, NimStringDesc* Filename_104014, TY92031* Rd_104015);
typedef N_NIMCALL_PTR(TY55525*, TY104018) (TY104002* P_104019, TY55525* N_104020);
typedef N_NIMCALL_PTR(TY55525*, TY104023) (TY104002* P_104024, TY55525* Toplevelstmt_104025);
struct TY104006 {
TY104007 Open;
TY104012 Opencached;
TY104018 Close;
TY104023 Process;
};
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TNimObject {
TNimType* m_type;
};
struct TY104002 {
  TNimObject Sup;
};
struct TY55529 {
TNimType* m_type;
NI Counter;
TY55527* Data;
};
struct TY59107 {
NI Tos;
TY59109* Stack;
};
struct TY55900 {
NI Counter;
NI Max;
TY55896* Head;
TY55898* Data;
};
struct TY43019 {
TNimType* m_type;
TY43013* Head;
TY43013* Tail;
NI Counter;
};
typedef N_NIMCALL_PTR(TY55525*, TY106032) (TY106012* C_106033, TY55525* N_106034);
typedef N_NIMCALL_PTR(TY55525*, TY106037) (TY106012* C_106038, TY55525* N_106039);
struct TY106012 {
  TY104002 Sup;
TY55547* Module;
TY106006* P;
NI Instcounter;
TY55525* Generics;
NI Lastgenericidx;
TY59107 Tab;
TY55900 Ambiguoussymbols;
TY55527* Converters;
TY43019 Optionstack;
TY43019 Libs;
NIM_BOOL Fromcache;
TY106032 Semconstexpr;
TY106037 Semexpr;
TY55900 Includedfiles;
NimStringDesc* Filename;
TY55529 Userpragmas;
};
struct TY47532 {
NI16 Line;
NI16 Col;
int Fileindex;
};
struct TY54005 {
  TNimObject Sup;
NI Id;
};
struct TY55539 {
NU8 K;
NU8 S;
NU8 Flags;
TY55551* T;
TY52008* R;
NI A;
};
struct TY55547 {
  TY54005 Sup;
NU8 Kind;
NU8 Magic;
TY55551* Typ;
TY54011* Name;
TY47532 Info;
TY55547* Owner;
NU32 Flags;
TY55529 Tab;
TY55525* Ast;
NU32 Options;
NI Position;
NI Offset;
TY55539 Loc;
TY55543* Annex;
};
struct TY55525 {
TY55551* Typ;
NimStringDesc* Comment;
TY47532 Info;
NU8 Flags;
NU8 Kind;
union {
struct {NI64 Intval;
} S1;
struct {NF64 Floatval;
} S2;
struct {NimStringDesc* Strval;
} S3;
struct {TY55547* Sym;
} S4;
struct {TY54011* Ident;
} S5;
struct {TY55519* Sons;
} S6;
} KindU;
};
struct TY55551 {
  TY54005 Sup;
NU8 Kind;
TY55549* Sons;
TY55525* N;
NU8 Flags;
NU8 Callconv;
TY55547* Owner;
TY55547* Sym;
NI64 Size;
NI Align;
NI Containerid;
TY55539 Loc;
};
struct TY54011 {
  TY54005 Sup;
NimStringDesc* S;
TY54011* Next;
NI H;
};
struct TY59092 {
NI H;
TY54011* Name;
};
struct TY107004 {
NI Stackptr;
TY59092 It;
TY55547* M;
NU8 Mode;
};
struct TY10802 {
NI Refcount;
TNimType* Typ;
};
struct TY10818 {
NI Len;
NI Cap;
TY10802** D;
};
struct TY10814 {
NI Counter;
NI Max;
TY10810* Head;
TY10810** Data;
};
struct TY11188 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY11190 {
TY10818 Zct;
TY10818 Decstack;
TY10814 Cycleroots;
TY10818 Tempstack;
NI Cyclerootslock;
NI Zctlock;
TY11188 Stat;
};
struct TY55565 {
TY54005* Key;
TY55525* Val;
};
struct TY55569 {
NI Counter;
TY55567* Data;
};
struct TY114004 {
TY55569 Mapping;
TY55547* Prc;
TY55525* Call;
TY114004* Next;
TY55519* Params;
};
typedef NU8 TY181254[16];
struct TY55559 {
TY54005* Key;
TNimObject* Val;
};
struct TY55563 {
NI Counter;
TY55561* Data;
};
struct TY126058 {
NI Exactmatches;
NI Subtypematches;
NI Intconvmatches;
NI Convmatches;
NI Genericmatches;
NU8 State;
TY55551* Callee;
TY55547* Calleesym;
TY55525* Call;
TY55563 Bindings;
NIM_BOOL Basetypematch;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
typedef N_NIMCALL_PTR(NIM_BOOL, TY96025) (TY55551* T_96030, TNimObject* Closure_96031);
struct TY125712 {
TY106012* C;
TY55563 Typemap;
TY55563 Symmap;
TY47532 Info;
};
typedef NimStringDesc* TY72066[3];
struct TY43013 {
  TNimObject Sup;
TY43013* Prev;
TY43013* Next;
};
struct TY106002 {
  TY43013 Sup;
NU32 Options;
NU8 Defaultcc;
TY55543* Dynlib;
NU32 Notes;
};
typedef NimStringDesc* TY47865[1];
typedef NU8 TY121007[28];
struct TY106006 {
TY55547* Owner;
TY55547* Resultsym;
NI Nestedloopcounter;
NI Nestedblockcounter;
};
typedef NU8 TY133939[29];
typedef N_NIMCALL_PTR(TY55525*, TY104048) (NimStringDesc* Filename_104049);
typedef NimStringDesc* TY114148[2];
typedef NimStringDesc* TY132558[2];
struct TY59219 {
NI Key;
NI Val;
};
struct TY59223 {
NI Counter;
TY59221* Data;
};
struct TY92029 {
NI Lastidxkey;
NI Lastidxval;
TY59223 Tab;
TY52008* R;
NI Offset;
};
struct TY92031 {
  TNimObject Sup;
NI Pos;
NimStringDesc* S;
NU32 Options;
NU8 Reason;
TY39422* Moddeps;
TY39422* Files;
NI Dataidx;
NI Convertersidx;
NI Initidx;
NI Interfidx;
NI Compilerprocsidx;
NI Cgenidx;
NimStringDesc* Filename;
TY92029 Index;
TY92029 Imports;
NI Readerindex;
NI Line;
NI Moduleid;
TY55563 Syms;
};
typedef NI TY8814[16];
struct TY55896 {
TY55896* Next;
NI Key;
TY8814 Bits;
};
struct TY52008 {
  TNimObject Sup;
TY52008* Left;
TY52008* Right;
NI Length;
NimStringDesc* Data;
};
struct TY55543 {
  TY43013 Sup;
NU8 Kind;
NIM_BOOL Generated;
TY52008* Name;
TY55525* Path;
};
struct TY10810 {
TY10810* Next;
NI Key;
TY8814 Bits;
};
struct TY114006 {
  TY104002 Sup;
TY55547* Module;
TY114004* Tos;
TY55525* Lastexception;
NIM_BOOL Opteval;
};
struct TY55527 {
  TGenericSeq Sup;
  TY55547* data[SEQ_DECL_SIZE];
};
struct TY59109 {
  TGenericSeq Sup;
  TY55529 data[SEQ_DECL_SIZE];
};
struct TY55898 {
  TGenericSeq Sup;
  TY55896* data[SEQ_DECL_SIZE];
};
struct TY55519 {
  TGenericSeq Sup;
  TY55525* data[SEQ_DECL_SIZE];
};
struct TY55549 {
  TGenericSeq Sup;
  TY55551* data[SEQ_DECL_SIZE];
};
struct TY55567 {
  TGenericSeq Sup;
  TY55565 data[SEQ_DECL_SIZE];
};
struct TY55561 {
  TGenericSeq Sup;
  TY55559 data[SEQ_DECL_SIZE];
};
struct TY39422 {
  TGenericSeq Sup;
  NimStringDesc* data[SEQ_DECL_SIZE];
};
struct TY59221 {
  TGenericSeq Sup;
  TY59219 data[SEQ_DECL_SIZE];
};
N_NIMCALL(void, Initpass_104031)(TY104006* P_104034);
N_NIMCALL(TY104002*, Myopen_145545)(TY55547* Module_145547, NimStringDesc* Filename_145548);
N_NIMCALL(TY106012*, Newcontext_106046)(TY55547* Module_106048, NimStringDesc* Nimfile_106049);
N_NIMCALL(void, Internalerror_47567)(TY47532 Info_47569, NimStringDesc* Errmsg_47570);
N_NIMCALL(TY55525*, Semconstexpr_124171)(TY106012* C_124173, TY55525* N_124174);
N_NIMCALL(TY55525*, Semexprwithtype_124122)(TY106012* C_124124, TY55525* N_124125, NU8 Flags_124128);
N_NIMCALL(TY55525*, Semexpr_124115)(TY106012* C_124117, TY55525* N_124118, NU8 Flags_124121);
N_NIMCALL(TY55547*, Lookup_107049)(TY106012* C_107051, TY55525* N_107052);
N_NIMCALL(TY55525*, Semsym_132074)(TY106012* C_132076, TY55525* N_132077, TY55547* S_132078, NU8 Flags_132079);
N_NIMCALL(void, Limessage_47562)(TY47532 Info_47564, NU8 Msg_47565, NimStringDesc* Arg_47566);
N_NIMCALL(TY55547*, Getmodule_59206)(TY55547* S_59208);
N_NIMCALL(TY55525*, Symchoice_124549)(TY106012* C_124551, TY55525* N_124552, TY55547* S_124553);
N_NIMCALL(TY55547*, Initoverloaditer_107058)(TY107004* O_107061, TY106012* C_107062, TY55525* N_107063);
N_NIMCALL(TY55547*, Nextoverloaditer_107064)(TY107004* O_107067, TY106012* C_107068, TY55525* N_107069);
N_NIMCALL(TY55525*, Newsymnode_55734)(TY55547* Sym_55736);
N_NIMCALL(void, Markused_124065)(TY55525* N_124067, TY55547* S_124068);
N_NIMCALL(TY55525*, Newnodeit_55741)(NU8 Kind_55743, TY47532 Info_55744, TY55551* Typ_55745);
N_NIMCALL(TY55551*, Newtypes_106077)(NU8 Kind_106079, TY106012* C_106080);
N_NIMCALL(void, Addson_55823)(TY55525* Father_55825, TY55525* Son_55826);
N_NIMCALL(TY55525*, Copytree_55858)(TY55525* Src_55860);
static N_INLINE(void, asgnRef)(void** Dest_13214, void* Src_13215);
static N_INLINE(void, Incref_13202)(TY10802* C_13204);
static N_INLINE(NI, Atomicinc_3001)(NI* Memloc_3004, NI X_3005);
static N_INLINE(NIM_BOOL, Canbecycleroot_11616)(TY10802* C_11618);
static N_INLINE(void, Rtladdcycleroot_12252)(TY10802* C_12254);
N_NOINLINE(void, Incl_11074)(TY10814* S_11077, TY10802* Cell_11078);
static N_INLINE(TY10802*, Usrtocell_11612)(void* Usr_11614);
static N_INLINE(void, Decref_13001)(TY10802* C_13003);
static N_INLINE(NI, Atomicdec_3006)(NI* Memloc_3009, NI X_3010);
static N_INLINE(void, Rtladdzct_12601)(TY10802* C_12603);
N_NOINLINE(void, Addzct_11601)(TY10818* S_11604, TY10802* C_11605);
N_NIMCALL(TY55525*, Semmacroexpr_125093)(TY106012* C_125095, TY55525* N_125096, TY55547* Sym_125097, NIM_BOOL Semcheck_125098);
N_NIMCALL(TY114006*, Newevalcontext_114033)(TY55547* Module_114035, NimStringDesc* Filename_114036, NIM_BOOL Opteval_114037);
N_NIMCALL(TY114004*, Newstackframe_114024)(void);
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13218, void* Src_13219);
N_NIMCALL(TGenericSeq*, setLengthSeq)(TGenericSeq* Seq_19003, NI Elemsize_19004, NI Newlen_19005);
N_NIMCALL(void, Pushstackframe_114026)(TY114006* C_114028, TY114004* T_114029);
N_NIMCALL(TY55525*, Eval_114038)(TY114006* C_114040, TY55525* N_114041);
N_NIMCALL(void, Popstackframe_114030)(TY114006* C_114032);
N_NIMCALL(NIM_BOOL, Cyclictree_95043)(TY55525* N_95045);
N_NIMCALL(TY55525*, Semaftermacrocall_124246)(TY106012* C_124248, TY55525* N_124249, TY55547* S_124250);
N_NIMCALL(TY55525*, Semstmt_124143)(TY106012* C_124145, TY55525* N_124146);
N_NIMCALL(TY55525*, Semasgn_140665)(TY106012* C_140667, TY55525* N_140668);
N_NIMCALL(void, Checksonslen_106099)(TY55525* N_106101, NI Length_106102);
N_NIMCALL(TY55525*, Builtinfieldaccess_135226)(TY106012* C_135228, TY55525* N_135229, NU8 Flags_135230);
N_NIMCALL(TY55547*, Qualifiedlookup_107053)(TY106012* C_107055, TY55525* N_107056, NIM_BOOL Ambiguouscheck_107057);
N_NIMCALL(TY54011*, Consideracc_124003)(TY55525* N_124005);
N_NIMCALL(NimStringDesc*, Rendertree_84042)(TY55525* N_84044, NU8 Renderflags_84047);
N_NIMCALL(TY55547*, Getsymfromlist_59197)(TY55525* List_59199, TY54011* Ident_59200, NI Start_59201);
N_NIMCALL(NIM_BOOL, Istypeexpr_134930)(TY55525* N_134932);
N_NIMCALL(TY55551*, Skiptypes_96085)(TY55551* T_96087, NU64 Kinds_96088);
N_NIMCALL(TY55547*, Lookupinrecordandbuildcheck_134955)(TY106012* C_134957, TY55525* N_134958, TY55525* R_134959, TY54011* Field_134960, TY55525** Check_134962);
N_NIMCALL(NI, Sonslen_55803)(TY55525* N_55805);
N_NIMCALL(void, Checkminsonslen_106103)(TY55525* N_106105, NI Length_106106);
N_NIMCALL(void, Illformedast_106092)(TY55525* N_106094);
N_NIMCALL(TY55525*, Newnodei_55737)(NU8 Kind_55739, TY47532 Info_55740);
N_NIMCALL(TY55525*, Lastson_55809)(TY55525* N_55811);
N_NIMCALL(void, unsureAsgnRef)(void** Dest_13226, void* Src_13227);
N_NIMCALL(TY55525*, Newidentnode_55730)(TY54011* Ident_55732, TY47532 Info_55733);
N_NIMCALL(TY54011*, Getident_54016)(NimStringDesc* Identifier_54018);
N_NIMCALL(TY55525*, Makederef_135197)(TY55525* N_135199);
N_NIMCALL(TY55525*, Propertywriteaccess_140641)(TY106012* C_140643, TY55525* N_140644, TY55525* A_140645);
static N_INLINE(TY55525*, HEX5BHEX5D_57074)(TY55525* N_57076, NI I_57077);
static N_INLINE(void, appendString)(NimStringDesc* Dest_18792, NimStringDesc* Src_18793);
static N_INLINE(void, appendChar)(NimStringDesc* Dest_18809, NIM_CHAR C_18810);
N_NIMCALL(NimStringDesc*, rawNewString)(NI Space_18687);
N_NIMCALL(TY55525*, Semdirectcallanalyseeffects_134104)(TY106012* C_134106, TY55525* N_134107, NU8 Flags_134108);
N_NIMCALL(TY55525*, Semdirectcall_128747)(TY106012* C_128749, TY55525* N_128750, NU32 Filter_128751);
N_NIMCALL(TY55525*, Semdirectcallwithbinding_128602)(TY106012* C_128604, TY55525* N_128605, TY55525* F_128606, NU32 Filter_128607, TY55525* Initialbinding_128608);
N_NIMCALL(void, Initcandidate_126092)(TY126058* C_126095, TY55547* Callee_126096, TY55525* Binding_126097);
static N_INLINE(void, Initcandidateaux_126081)(TY126058* C_126084, TY55551* Callee_126085);
N_NIMCALL(void, Initidtable_55754)(TY55563* X_55757);
N_NIMCALL(void, Idtableput_59174)(TY55563* T_59177, TY54005* Key_59178, TNimObject* Val_59179);
N_NIMCALL(void, Matches_127970)(TY106012* C_127972, TY55525* N_127973, TY126058* M_127975);
N_NIMCALL(TY55551*, Base_96021)(TY55551* T_96023);
N_NIMCALL(void, Intsetinit_55924)(TY55900* S_55927);
N_NIMCALL(NIM_BOOL, Intsetcontainsorincl_55928)(TY55900* S_55931, NI Key_55932);
N_NIMCALL(TY55525*, Paramtypesmatch_127731)(TY106012* C_127733, TY126058* M_127735, TY55551* F_127736, TY55551* A_127737, TY55525* Arg_127738);
N_NIMCALL(TY55525*, Paramtypesmatchaux_127585)(TY106012* C_127587, TY126058* M_127589, TY55551* F_127590, TY55551* A_127591, TY55525* Arg_127592);
N_NIMCALL(NU8, Typerel_126350)(TY55563* Mapping_126353, TY55551* F_126354, TY55551* A_126355);
N_NIMCALL(TY55551*, Lastson_55812)(TY55551* N_55814);
N_NIMCALL(NU8, Handlerange_126381)(TY55551* F_126383, TY55551* A_126384, NU8 Min_126385, NU8 Max_126386);
N_NIMCALL(NU8, Handlefloatrange_126447)(TY55551* F_126449, TY55551* A_126450);
N_NIMCALL(NU8, Minrel_126520)(NU8 A_126522, NU8 B_126523);
N_NIMCALL(NI64, Lengthord_96007)(TY55551* T_96009);
N_NIMCALL(NIM_BOOL, Isordinaltype_96069)(TY55551* T_96071);
N_NIMCALL(void, Internalerror_47571)(NimStringDesc* Errmsg_47573);
N_NIMCALL(NU8, Tuplerel_126534)(TY55563* Mapping_126537, TY55551* F_126538, TY55551* A_126539);
N_NIMCALL(NI, Sonslen_55806)(TY55551* N_55808);
N_NIMCALL(NIM_BOOL, Isobjectsubtype_126490)(TY55551* A_126492, TY55551* F_126493);
N_NIMCALL(NI64, Firstord_96001)(TY55551* T_96003);
N_NIMCALL(TNimObject*, Idtableget_59166)(TY55563 T_59168, TY54005* Key_59169);
N_NIMCALL(TY55551*, Concretetype_126356)(TY55563 Mapping_126358, TY55551* T_126359);
N_NIMCALL(TY55551*, Newtype_55706)(NU8 Kind_55708, TY55547* Owner_55709);
N_NIMCALL(void, Addson_55827)(TY55551* Father_55829, TY55551* Son_55830);
N_NIMCALL(NimStringDesc*, reprEnum)(NI E_19779, TNimType* Typ_19780);
N_NIMCALL(TY55525*, Implicitconv_127504)(NU8 Kind_127506, TY55551* F_127507, TY55525* Arg_127508, TY126058* M_127509, TY106012* C_127510);
N_NIMCALL(NIM_BOOL, Containsgenerictype_125223)(TY55551* T_125225);
N_NIMCALL(NIM_BOOL, Iterovertype_96038)(TY55551* T_96040, TY96025 Iter_96041, TNimObject* Closure_96042);
N_NIMCALL(NIM_BOOL, Containsgenerictypeiter_125207)(TY55551* T_125209, TNimObject* Closure_125210);
N_NIMCALL(TY55551*, Getinstantiatedtype_127475)(TY106012* C_127477, TY55525* Arg_127478, TY126058* M_127479, TY55551* F_127480);
N_NIMCALL(TY55551*, Generatetypeinstance_126006)(TY106012* P_126008, TY55563 Pt_126009, TY55525* Arg_126010, TY55551* T_126011);
N_NIMCALL(void, Copyidtable_55798)(TY55563* Dest_55801, TY55563 Src_55802);
N_NIMCALL(void, Pushinfocontext_47606)(TY47532 Info_47608);
N_NIMCALL(TY55551*, Replacetypevarst_125717)(TY125712* Cl_125720, TY55551* T_125721);
N_NIMCALL(TY55551*, Lookuptypevar_125862)(TY125712* Cl_125864, TY55551* T_125865);
N_NIMCALL(NimStringDesc*, Typetostring_96014)(TY55551* Typ_96016, NU8 Prefer_96017);
N_NIMCALL(TY55551*, Copytype_55770)(TY55551* T_55772, TY55547* Owner_55773, NIM_BOOL Keepid_55774);
N_NIMCALL(TY55551*, Searchinsttypes_125158)(TY55563 Tab_125160, TY55551* Key_125161);
N_NIMCALL(NIM_BOOL, Sametype_96048)(TY55551* X_96050, TY55551* Y_96051);
N_NIMCALL(TY55525*, Replacetypevarsn_125727)(TY125712* Cl_125730, TY55525* N_125731);
N_NIMCALL(TY55525*, Copynode_55855)(TY55525* Src_55857);
N_NIMCALL(TY55547*, Replacetypevarss_125722)(TY125712* Cl_125725, TY55547* S_125726);
N_NIMCALL(TY55547*, Copysym_55775)(TY55547* S_55777, NIM_BOOL Keepid_55778);
N_NIMCALL(void, Newsons_55815)(TY55525* Father_55817, NI Length_55818);
N_NIMCALL(void, Checkconstructedtype_125667)(TY47532 Info_125669, TY55551* T_125670);
N_NIMCALL(NI64, Computesize_96110)(TY55551* Typ_96112);
N_NIMCALL(void, Popinfocontext_47609)(void);
N_NIMCALL(TY55525*, Userconvmatch_127523)(TY106012* C_127525, TY126058* M_127527, TY55551* F_127528, TY55551* A_127529, TY55525* Arg_127530);
N_NIMCALL(void, Initcandidate_126086)(TY126058* C_126089, TY55551* Callee_126090);
N_NIMCALL(void, Copycandidate_126135)(TY126058* A_126138, TY126058* B_126139);
N_NIMCALL(void, genericAssign)(void* Dest_19565, void* Src_19566, TNimType* Mt_19567);
N_NIMCALL(NI, Cmpcandidates_126141)(TY126058* A_126143, TY126058* B_126144);
N_NIMCALL(void, Setson_127927)(TY55525* Father_127929, NI At_127930, TY55525* Son_127931);
N_NIMCALL(TY55551*, Getsystype_101008)(NU8 Kind_101010);
N_NIMCALL(NIM_BOOL, Samemethoddispatcher_128526)(TY55547* A_128528, TY55547* B_128529);
N_NIMCALL(NimStringDesc*, nsuFormatOpenArray)(NimStringDesc* Formatstr_24965, NimStringDesc** A_24967, NI A_24967Len0);
N_NIMCALL(NimStringDesc*, Msgkindtostring_47588)(NU8 Kind_47590);
N_NIMCALL(NimStringDesc*, Getprocheader_96018)(TY55547* Sym_96020);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* Src_18708);
N_NIMCALL(TY55547*, Generateinstance_125152)(TY106012* C_125154, TY55547* Fn_125155, TY55563 Pt_125156, TY47532 Info_125157);
N_NIMCALL(TY55547*, Getcurrowner_106107)(void);
N_NIMCALL(void, Pushowner_106109)(TY55547* Owner_106111);
N_NIMCALL(void, Openscope_59149)(TY59107* Tab_59152);
N_NIMCALL(void, Instantiategenericparamlist_125227)(TY106012* C_125229, TY55525* N_125230, TY55563 Pt_125231);
N_NIMCALL(TY55547*, Newsym_55701)(NU8 Symkind_55703, TY54011* Name_55704, TY55547* Owner_55705);
N_NIMCALL(void, Adddecl_107026)(TY106012* C_107028, TY55547* Sym_107029);
N_NIMCALL(void, Semparamlist_124147)(TY106012* C_124149, TY55525* N_124150, TY55525* Genericparams_124151, TY55547* S_124152);
N_NIMCALL(TY55551*, Semproctypenode_131437)(TY106012* C_131439, TY55525* N_131440, TY55525* Genericparams_131441, TY55551* Prev_131442);
N_NIMCALL(TY55551*, Neworprevtype_128986)(NU8 Kind_128988, TY55551* Prev_128989, TY106012* C_128990);
N_NIMCALL(TY106002*, Lastoptionentry_106053)(TY106012* C_106055);
N_NIMCALL(TY55551*, Paramtype_131416)(TY106012* C_131418, TY55525* N_131419, TY55525* Genericparams_131420, TY55900* Cl_131422);
N_NIMCALL(TY55551*, Semtypenode_124138)(TY106012* C_124140, TY55525* N_124141, TY55551* Prev_124142);
N_NIMCALL(TY55547*, Semtypeident_129724)(TY106012* C_129726, TY55525* N_129727);
N_NIMCALL(TY55551*, Semarray_129573)(TY106012* C_129575, TY55525* N_129576, TY55551* Prev_129577);
N_NIMCALL(TY55551*, Semrangeaux_129421)(TY106012* C_129423, TY55525* N_129424, TY55551* Prev_129425);
N_NIMCALL(NIM_BOOL, Enumhaswholes_96072)(TY55551* T_96074);
N_NIMCALL(NIM_BOOL, Levalue_55870)(TY55525* A_55872, TY55525* B_55873);
N_NIMCALL(TY55551*, Semcontainer_129325)(TY106012* C_129327, TY55525* N_129328, NU8 Kind_129329, NimStringDesc* Kindstr_129330, TY55551* Prev_129331);
N_NIMCALL(TY55551*, Semrange_129520)(TY106012* C_129522, TY55525* N_129523, TY55551* Prev_129524);
N_NIMCALL(TY55551*, Semset_129284)(TY106012* C_129286, TY55525* N_129287, TY55551* Prev_129288);
N_NIMCALL(TY55551*, Semordinal_129682)(TY106012* C_129684, TY55525* N_129685, TY55551* Prev_129686);
N_NIMCALL(TY55551*, Semgeneric_129906)(TY106012* C_129908, TY55525* N_129909, TY55547* S_129910, TY55551* Prev_129911);
N_NIMCALL(TY55551*, Instgenericcontainer_124166)(TY106012* C_124168, TY55525* N_124169, TY55551* Header_124170);
N_NIMCALL(void, Assigntype_55779)(TY55551* Dest_55781, TY55551* Src_55782);
N_NIMCALL(TY55551*, Semobjectnode_131205)(TY106012* C_131207, TY55525* N_131208, TY55551* Prev_131209);
N_NIMCALL(void, Addinheritedfields_131184)(TY106012* C_131186, TY55900* Check_131188, NI* Pos_131190, TY55551* Obj_131191);
N_NIMCALL(void, Addinheritedfieldsaux_131067)(TY106012* C_131069, TY55900* Check_131071, NI* Pos_131073, TY55525* N_131074);
N_NIMCALL(void, Intsetincl_55914)(TY55900* S_55917, NI Key_55918);
N_NIMCALL(void, Semrecordnodeaux_130437)(TY106012* C_130439, TY55525* N_130440, TY55900* Check_130442, NI* Pos_130444, TY55525* Father_130445, TY55547* Rectype_130446);
N_NIMCALL(void, Checkbool_128912)(TY55525* T_128914);
N_NIMCALL(void, Semrecordcase_130447)(TY106012* C_130449, TY55525* N_130450, TY55900* Check_130452, NI* Pos_130454, TY55525* Father_130455, TY55547* Rectype_130456);
N_NIMCALL(void, Semcasebranch_130288)(TY106012* C_130290, TY55525* T_130291, TY55525* Branch_130292, NI Branchindex_130293, NI64* Covered_130295);
N_NIMCALL(void, Sembranchexpr_130249)(TY106012* C_130251, TY55525* T_130252, TY55525** Ex_130254);
N_NIMCALL(NU8, Cmptypes_127467)(TY55551* F_127469, TY55551* A_127470);
N_NIMCALL(void, Typemismatch_128936)(TY55525* N_128938, TY55551* Formal_128939, TY55551* Actual_128940);
N_NIMCALL(NIM_BOOL, Emptyrange_103019)(TY55525* A_103021, TY55525* B_103022);
N_NIMCALL(NI64, Getordvalue_96107)(TY55525* N_96109);
N_NIMCALL(void, Checkforoverlap_130191)(TY106012* C_130193, TY55525* T_130194, TY55525* Ex_130195, NI Branchindex_130196);
N_NIMCALL(NIM_BOOL, Overlap_103006)(TY55525* A_103008, TY55525* B_103009);
N_NIMCALL(void, Delson_55835)(TY55525* Father_55837, NI Idx_55838);
N_NIMCALL(TY55547*, Semidentwithpragma_124098)(TY106012* C_124100, NU8 Kind_124101, TY55525* N_124102, NU32 Allowed_124103);
N_NIMCALL(TY55547*, Semidentvis_124092)(TY106012* C_124094, NU8 Kind_124095, TY55525* N_124096, NU32 Allowed_124097);
N_NIMCALL(TY55547*, Newsyms_124059)(NU8 Kind_124061, TY55525* N_124062, TY106012* C_124063);
N_NIMCALL(void, Pragma_121028)(TY106012* C_121030, TY55547* Sym_121031, TY55525* N_121032, TY121007 Validpragmas_121033);
N_NIMCALL(TY52008*, Torope_52046)(NimStringDesc* S_52048);
N_NIMCALL(TY55551*, Semtuple_129749)(TY106012* C_129751, TY55525* N_129752, TY55551* Prev_129753);
N_NIMCALL(TY55551*, Semanyref_129348)(TY106012* C_129350, TY55525* N_129351, NU8 Kind_129352, NimStringDesc* Kindstr_129353, TY55551* Prev_129354);
N_NIMCALL(TY55551*, Semvartype_129371)(TY106012* C_129373, TY55525* N_129374, TY55551* Prev_129375);
N_NIMCALL(TY55551*, Semdistinct_129401)(TY106012* C_129403, TY55525* N_129404, TY55551* Prev_129405);
N_NIMCALL(TY55551*, Semenum_129012)(TY106012* C_129014, TY55525* N_129015, TY55551* Prev_129016);
N_NIMCALL(NI64, Lastord_96004)(TY55551* T_96006);
N_NIMCALL(void, Strtableadd_59064)(TY55529* T_59067, TY55547* N_59068);
N_NIMCALL(void, Adddeclat_107030)(TY106012* C_107032, TY55547* Sym_107033, NI At_107034);
N_NIMCALL(TY55551*, Semstmtlisttype_131681)(TY106012* C_131683, TY55525* N_131684, TY55551* Prev_131685);
N_NIMCALL(TY55551*, Semblocktype_131746)(TY106012* C_131748, TY55525* N_131749, TY55551* Prev_131750);
N_NIMCALL(void, Closescope_107017)(TY59107* Tab_107020);
N_NIMCALL(TY55551*, Addtypevarsofgenericbody_131342)(TY106012* C_131344, TY55551* T_131345, TY55525* Genericparams_131346, TY55900* Cl_131348);
N_NIMCALL(TY55525*, Fitnode_124129)(TY106012* C_124131, TY55551* Formal_124132, TY55525* Arg_124133);
N_NIMCALL(TY55525*, Indextypesmatch_127917)(TY106012* C_127919, TY55551* F_127920, TY55551* A_127921, TY55525* Arg_127922);
N_NIMCALL(void, Addparams_124153)(TY106012* C_124155, TY55525* N_124156);
N_NIMCALL(TY55547*, Genericcacheget_125326)(TY106012* C_125328, TY55547* Genericsym_125329, TY55547* Instsym_125330);
N_NIMCALL(NU8, Equalparams_96065)(TY55525* A_96067, TY55525* B_96068);
N_NIMCALL(void, Genericcacheadd_125446)(TY106012* C_125448, TY55547* Genericsym_125449, TY55547* Instsym_125450);
N_NIMCALL(TY55525*, Newnode_55710)(NU8 Kind_55712);
N_NIMCALL(TY106006*, Newproccon_106050)(TY55547* Owner_106052);
N_NIMCALL(void, Addresult_124157)(TY106012* C_124159, TY55551* T_124160, TY47532 Info_124161);
N_NIMCALL(void, Addresultnode_124162)(TY106012* C_124164, TY55525* N_124165);
N_NIMCALL(TY55525*, Semstmtscope_124104)(TY106012* C_124106, TY55525* N_124107);
N_NIMCALL(void, Popowner_106112)(void);
N_NIMCALL(void, Fixabstracttype_133230)(TY106012* C_133232, TY55525* N_133233);
N_NIMCALL(TY55525*, Semarrayconstr_133153)(TY106012* C_133155, TY55525* N_133156);
N_NIMCALL(TY55551*, Makerangetype_106086)(TY106012* C_106088, NI64 First_106089, NI64 Last_106090, TY47532 Info_106091);
N_NIMCALL(TY55551*, Elemtype_96089)(TY55551* T_96091);
N_NIMCALL(void, Changetype_132939)(TY55525* N_132941, TY55551* Newtype_132942);
N_NIMCALL(void, Analyseifaddresstakenincall_133934)(TY106012* C_133936, TY55525* N_133937);
N_NIMCALL(NU8, Isassignable_133501)(TY55525* N_133503);
N_NIMCALL(TY55525*, Analyseifaddresstaken_133716)(TY106012* C_133718, TY55525* N_133719);
N_NIMCALL(TY55525*, Newhiddenaddrtaken_133681)(TY106012* C_133683, TY55525* N_133684);
N_NIMCALL(TY55551*, Makevartype_106073)(TY106012* C_106075, TY55551* Basetype_106076);
N_NIMCALL(TY55525*, Semsubscript_135775)(TY106012* C_135777, TY55525* N_135778, NU8 Flags_135779);
N_NIMCALL(TY55525*, Buildoverloadedsubscripts_135735)(TY55525* N_135737, NIM_BOOL Inasgn_135738);
N_NIMCALL(void, Add_56992)(TY55525* Father_56994, TY55525* Son_56995);
static N_INLINE(NI, Len_56946)(TY55525* N_56948);
N_NIMCALL(NimStringDesc*, resizeString)(NimStringDesc* Dest_18782, NI Addlen_18783);
N_NIMCALL(void, Addsliceopr_135697)(NimStringDesc** Result_135700, TY55525* N_135701);
N_NIMCALL(void, Addsonifnotnil_55831)(TY55525* Father_55833, TY55525* N_55834);
N_NIMCALL(TY55525*, Semexprnotype_139703)(TY106012* C_139705, TY55525* N_139706);
N_NIMCALL(TY55525*, Semcommand_144685)(TY106012* C_144687, TY55525* N_144688);
N_NIMCALL(TY55525*, Semblock_140153)(TY106012* C_140155, TY55525* N_140156);
N_NIMCALL(TY55525*, Semraise_142191)(TY106012* C_142193, TY55525* N_142194);
N_NIMCALL(TY55525*, Semvar_141296)(TY106012* C_141298, TY55525* N_141299);
N_NIMCALL(NIM_BOOL, Typeallowed_96134)(TY55551* T_96136, NU8 Kind_96137);
N_NIMCALL(void, Addinterfacedecl_107040)(TY106012* C_107042, TY55547* Sym_107043);
N_NIMCALL(TY55525*, Semconst_141594)(TY106012* C_141596, TY55525* N_141597);
N_NIMCALL(TY55525*, Semandevalconstexpr_124198)(TY106012* C_124200, TY55525* N_124201);
N_NIMCALL(TY55525*, Getconstexpr_112010)(TY55547* M_112012, TY55525* N_112013);
N_NIMCALL(TY55525*, Evalconstexpr_114042)(TY55547* Module_114044, TY55525* E_114045);
N_NIMCALL(TY55525*, Fitremovehiddenconv_141254)(TY106012* C_141256, TY55551* Typ_141257, TY55525* N_141258);
N_NIMCALL(TY55525*, Semtypesection_142694)(TY106012* C_142696, TY55525* N_142697);
N_NIMCALL(void, Processmagictype_132013)(TY106012* C_132015, TY55547* M_132016);
N_NIMCALL(void, Setmagictype_132008)(TY55547* M_132010, NU8 Kind_132011, NI Size_132012);
N_NIMCALL(NI, Getid_55693)(void);
N_NIMCALL(TY55525*, Semgenericparamlist_142469)(TY106012* C_142471, TY55525* N_142472, TY55551* Father_142473);
N_NIMCALL(TY55525*, Semif_139858)(TY106012* C_139860, TY55525* N_139861);
N_NIMCALL(TY55525*, Semwhen_139728)(TY106012* C_139730, TY55525* N_139731);
N_NIMCALL(void, Idsynchronizationpoint_55698)(NI Idrange_55700);
N_NIMCALL(TY55525*, Semdiscard_139983)(TY106012* C_139985, TY55525* N_139986);
N_NIMCALL(TY55525*, Semwhile_140346)(TY106012* C_140348, TY55525* N_140349);
N_NIMCALL(TY55525*, Semtry_142274)(TY106012* C_142276, TY55525* N_142277);
N_NIMCALL(TY55525*, Sembreakorcontinue_140035)(TY106012* C_140037, TY55525* N_140038);
N_NIMCALL(TY55525*, Semfor_141784)(TY106012* C_141786, TY55525* N_141787);
N_NIMCALL(TY55547*, Strtableget_59069)(TY55529* T_59071, TY54011* Name_59072);
N_NIMCALL(TY55525*, Semcase_140451)(TY106012* C_140453, TY55525* N_140454);
N_NIMCALL(NI64, Tocover_140437)(TY55551* T_140439);
N_NIMCALL(TY55525*, Semreturn_140907)(TY106012* C_140909, TY55525* N_140910);
N_NIMCALL(TY55525*, Semasm_140256)(TY106012* Con_140258, TY55525* N_140259);
N_NIMCALL(NIM_CHAR, Pragmaasm_121034)(TY106012* C_121036, TY55525* N_121037);
N_NIMCALL(NI, nsuFindChar)(NimStringDesc* S_26227, NIM_CHAR Sub_26228, NI Start_26229);
N_NIMCALL(NimStringDesc*, copyStr)(NimStringDesc* S_1924, NI First_1925);
N_NIMCALL(NimStringDesc*, copyStrLast)(NimStringDesc* S_1928, NI First_1929, NI Last_1930);
N_NIMCALL(TY55525*, Newstrnode_55726)(NU8 Kind_55728, NimStringDesc* Strval_55729);
N_NIMCALL(TY55547*, Symtabget_59119)(TY59107 Tab_59121, TY54011* S_59122);
N_NIMCALL(void, Loadstub_92070)(TY55547* S_92072);
N_NIMCALL(TY55525*, Semyield_141123)(TY106012* C_141125, TY55525* N_141126);
N_NIMCALL(TY55525*, Semiterator_144424)(TY106012* C_144426, TY55525* N_144427);
N_NIMCALL(TY55525*, Semprocaux_143662)(TY106012* C_143664, TY55525* N_143665, NU8 Kind_143666, TY121007 Validpragmas_143667);
N_NIMCALL(TY55547*, Searchforproc_120004)(TY106012* C_120006, TY55547* Fn_120007, NI Tos_120008);
N_NIMCALL(void, Addinterfaceoverloadablesymat_107044)(TY106012* C_107046, TY55547* Sym_107047, NI At_107048);
N_NIMCALL(void, Addinterfacedeclat_107246)(TY106012* C_107248, TY55547* Sym_107249, NI At_107250);
N_NIMCALL(void, Addgenericparamlisttoscope_142639)(TY106012* C_142641, TY55525* N_142642);
N_NIMCALL(TY55525*, Semgenericstmtscope_138109)(TY106012* C_138111, TY55525* N_138112, NU8 Flags_138115);
N_NIMCALL(TY55525*, Semgenericstmt_138102)(TY106012* C_138104, TY55525* N_138105, NU8 Flags_138108);
N_NIMCALL(TY55525*, Semgenericstmtsymbol_138119)(TY106012* C_138121, TY55525* N_138122, TY55547* S_138123);
N_NIMCALL(TY55525*, Semtemplateexpr_132019)(TY106012* C_132021, TY55525* N_132022, TY55547* S_132023, NIM_BOOL Semcheck_132024);
N_NIMCALL(TY55525*, Evaltemplate_124504)(TY106012* C_124506, TY55525* N_124507, TY55547* Sym_124508);
N_NIMCALL(TY55525*, Evaltemplateargs_124424)(TY106012* C_124426, TY55525* N_124427, TY55547* S_124428);
N_NIMCALL(TY55525*, Evaltemplateaux_124337)(TY106012* C_124339, TY55525* Templ_124340, TY55525* Actual_124341, TY55547* Sym_124342);
N_NIMCALL(TY55525*, Semmacrostmt_137499)(TY106012* C_137501, TY55525* N_137502, NIM_BOOL Semcheck_137503);
N_NIMCALL(NIM_BOOL, Iscallexpr_137483)(TY55525* N_137485);
N_NIMCALL(TY55525*, Getidentnode_138145)(TY55525* N_138147);
N_NIMCALL(void, Semborrow_143368)(TY106012* C_143370, TY55525* N_143371, TY55547* S_143372);
N_NIMCALL(TY55547*, Searchforborrowproc_120009)(TY106012* C_120011, TY55547* Fn_120012, NI Tos_120013);
N_NIMCALL(void, Sideeffectscheck_143397)(TY106012* C_143399, TY55547* S_143400);
N_NIMCALL(TY55525*, Semproc_144489)(TY106012* C_144491, TY55525* N_144492);
N_NIMCALL(TY55525*, Semmethod_144494)(TY106012* C_144496, TY55525* N_144497);
N_NIMCALL(NIM_BOOL, Istoplevel_124053)(TY106012* C_124055);
N_NIMCALL(TY55525*, Semconverterdef_144499)(TY106012* C_144501, TY55525* N_144502);
N_NIMCALL(void, Addconverter_106058)(TY106012* C_106060, TY55547* Conv_106061);
N_NIMCALL(TY55525*, Semmacrodef_144566)(TY106012* C_144568, TY55525* N_144569);
N_NIMCALL(TY55525*, Semtemplatedef_124750)(TY106012* C_124752, TY55525* N_124753);
N_NIMCALL(TY55525*, Resolvetemplateparams_124598)(TY106012* C_124600, TY55525* N_124601, NIM_BOOL Withinbind_124602, TY55900* Tobind_124604);
N_NIMCALL(NIM_BOOL, Intsetcontains_55910)(TY55900 S_55912, NI Key_55913);
N_NIMCALL(TY55547*, Symtablocalget_59123)(TY59107 Tab_59125, TY54011* S_59126);
N_NIMCALL(TY55525*, Transformtoexpr_124709)(TY55525* N_124711);
N_NIMCALL(TY55525*, Evalimport_109001)(TY106012* C_109003, TY55525* N_109004);
N_NIMCALL(TY55525*, Evalfrom_109005)(TY106012* C_109007, TY55525* N_109008);
N_NIMCALL(TY55525*, Evalinclude_144656)(TY106012* C_144658, TY55525* N_144659);
N_NIMCALL(NimStringDesc*, Getmodulefile_109013)(TY55525* N_109015);
N_NIMCALL(NI, Includefilename_47611)(NimStringDesc* F_47613);
N_NIMCALL(void, Intsetexcl_55919)(TY55900* S_55922, NI Key_55923);
N_NIMCALL(TY55525*, Semfieldaccess_132026)(TY106012* C_132028, TY55525* N_132029, NU8 Flags_132032);
N_NIMCALL(TY55525*, Semconv_132329)(TY106012* C_132331, TY55525* N_132332, TY55547* S_132333);
N_NIMCALL(void, Checkconvertible_132180)(TY47532 Info_132182, TY55551* Castdest_132183, TY55551* Src_132184);
N_NIMCALL(void, Checkconversionbetweenobjects_132168)(TY47532 Info_132170, TY55551* Castdest_132171, TY55551* Src_132172);
N_NIMCALL(NI, Inheritancediff_96119)(TY55551* A_96121, TY55551* B_96122);
N_NIMCALL(NIM_BOOL, Equalordistinctof_96056)(TY55551* X_96058, TY55551* Y_96059);
N_NIMCALL(TY55525*, Semdirectop_134587)(TY106012* C_134589, TY55525* N_134590, NU8 Flags_134591);
N_NIMCALL(void, Semopaux_132783)(TY106012* C_132785, TY55525* N_132786);
N_NIMCALL(TY55525*, Overloadedcallopr_132902)(TY106012* C_132904, TY55525* N_132905);
N_NIMCALL(NimStringDesc*, Getnotfounderror_126247)(TY106012* C_126249, TY55525* N_126250);
N_NIMCALL(NimStringDesc*, addChar)(NimStringDesc* S_1603, NIM_CHAR C_1604);
N_NIMCALL(TY55525*, Semmagic_134923)(TY106012* C_134925, TY55525* N_134926, TY55547* S_134927, NU8 Flags_134928);
N_NIMCALL(TY55525*, Semdefined_134796)(TY106012* C_134798, TY55525* N_134799, NIM_BOOL Onlycurrentscope_134800);
N_NIMCALL(TY55525*, Newintnode_55713)(NU8 Kind_55715, NI64 Intval_55716);
N_NIMCALL(TY55547*, Lookupfordefined_134654)(TY106012* C_134656, TY55525* N_134657, NIM_BOOL Onlycurrentscope_134658);
N_NIMCALL(NIM_BOOL, Isdefined_63059)(TY54011* Symbol_63061);
N_NIMCALL(TY55525*, Setms_134894)(TY55525* N_134896, TY55547* S_134897);
N_NIMCALL(TY55525*, Semlowhigh_132551)(TY106012* C_132553, TY55525* N_132554, NU8 M_132555);
N_NIMCALL(TY55525*, Semsizeof_132626)(TY106012* C_132628, TY55525* N_132629);
N_NIMCALL(TY55525*, Semis_132658)(TY106012* C_132660, TY55525* N_132661);
N_NIMCALL(TY55525*, Semecho_134615)(TY106012* C_134617, TY55525* N_134618);
N_NIMCALL(TY55525*, Semindirectop_134249)(TY106012* C_134251, TY55525* N_134252, NU8 Flags_134253);
N_NIMCALL(TY55525*, Partialspecialization_126017)(TY106012* C_126019, TY55525* N_126020, TY55547* S_126021);
N_NIMCALL(TY55525*, Semarrayaccess_136045)(TY106012* C_136047, TY55525* N_136048, NU8 Flags_136049);
N_NIMCALL(NU8, Checkpar_136769)(TY55525* N_136771);
N_NIMCALL(TY55525*, Semtuplepositionsconstr_137255)(TY106012* C_137257, TY55525* N_137258);
N_NIMCALL(TY55525*, Semtuplefieldsconstr_136918)(TY106012* C_136920, TY55525* N_136921);
N_NIMCALL(TY55525*, Semsetconstr_136394)(TY106012* C_136396, TY55525* N_136397);
N_NIMCALL(TY55525*, Semlambda_124134)(TY106012* C_124136, TY55525* N_124137);
N_NIMCALL(TY55551*, Makeptrtype_106069)(TY106012* C_106071, TY55551* Basetype_106072);
N_NIMCALL(TY55525*, Semcast_132475)(TY106012* C_132477, TY55525* N_132478);
N_NIMCALL(NIM_BOOL, Iscastable_132292)(TY55551* Dst_132294, TY55551* Src_132295);
N_NIMCALL(TY55525*, Semifexpr_136201)(TY106012* C_136203, TY55525* N_136204);
N_NIMCALL(TY55525*, Semstmtlistexpr_137305)(TY106012* C_137307, TY55525* N_137308);
N_NIMCALL(TY55525*, Semblockexpr_137381)(TY106012* C_137383, TY55525* N_137384);
N_NIMCALL(TY55525*, Semexprnoflags_145538)(TY106012* C_145540, TY55525* N_145541);
N_NIMCALL(void, Symtabadd_59127)(TY59107* Tab_59130, TY55547* E_59131);
N_NIMCALL(void, Initsystem_101017)(TY59107* Tab_101020);
N_NIMCALL(void, Importallsymbols_109009)(TY106012* C_109011, TY55547* Frommod_109012);
N_NIMCALL(TY104002*, Myopencached_145578)(TY55547* Module_145580, NimStringDesc* Filename_145581, TY92031* Rd_145582);
N_NIMCALL(TY55525*, Myclose_145596)(TY104002* Context_145598, TY55525* N_145599);
N_NIMCALL(void, Rawclosescope_59153)(TY59107* Tab_59156);
N_NIMCALL(void, Addcodeforgenerics_145409)(TY106012* C_145411, TY55525* N_145412);
N_NIMCALL(TY55525*, Myprocess_145585)(TY104002* Context_145587, TY55525* N_145588);
NIM_CONST NU64 Constabstracttypes_132017 = IL64(1097364930612);
STRING_LITERAL(TMP196934, "sem.myOpen", 10);
STRING_LITERAL(TMP196936, "", 0);
NIM_CONST TY181254 Lastblockstmts_144695 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x80, 0x07, 0x00, 0x00, 0x00}
;
STRING_LITERAL(TMP197067, "in", 2);
STRING_LITERAL(TMP197068, "not", 3);
STRING_LITERAL(TMP197069, "forward type in typeRel()", 25);
STRING_LITERAL(TMP197070, "tupleRel", 8);
STRING_LITERAL(TMP197071, "typeRel: tyGenericInvokation -> tyGenericInvokation", 51);
STRING_LITERAL(TMP197072, "wrong instantiated type!", 24);
STRING_LITERAL(TMP197073, "lookup failed", 13);
STRING_LITERAL(TMP197074, "has constraints: ", 17);
STRING_LITERAL(TMP197075, "typeRel(", 8);
STRING_LITERAL(TMP197076, "substitution with generic parameter", 35);
STRING_LITERAL(TMP197077, "no generic body", 15);
STRING_LITERAL(TMP197079, "acyclic", 7);
STRING_LITERAL(TMP197080, "ReplaceTypeVarsT: tyGenericBody", 31);
STRING_LITERAL(TMP197081, "getInstantiatedType", 19);
STRING_LITERAL(TMP197082, "implicitConv", 12);
STRING_LITERAL(TMP197087, "x.state is not csMatch", 22);
STRING_LITERAL(TMP197088, "matches", 7);
STRING_LITERAL(TMP197090, "calleeSym.ast is nil", 20);
STRING_LITERAL(TMP197091, "nesting too deep", 16);
STRING_LITERAL(TMP197092, "generateInstance", 16);
STRING_LITERAL(TMP197093, "instantiateGenericParamList; no generic params", 46);
STRING_LITERAL(TMP197094, "instantiateGenericParamList; no symbol", 38);
STRING_LITERAL(TMP197095, "instantiateGenericParamList: ", 29);
STRING_LITERAL(TMP197096, "semRangeAux", 11);
STRING_LITERAL(TMP197097, "openarray", 9);
STRING_LITERAL(TMP197098, "range", 5);
STRING_LITERAL(TMP197099, "set", 3);
STRING_LITERAL(TMP197100, "ordinal", 7);
STRING_LITERAL(TMP197101, "seq", 3);
STRING_LITERAL(TMP197102, "semtypes.semGeneric", 19);
STRING_LITERAL(TMP197103, "addInheritedFieldsAux", 21);
STRING_LITERAL(TMP197104, "addInheritedFieldsAux(record case branch)", 41);
STRING_LITERAL(TMP197105, "addInheritedFieldsAux()", 23);
STRING_LITERAL(TMP197106, "semObjectNode", 13);
STRING_LITERAL(TMP197107, "semRecordNodeAux", 16);
STRING_LITERAL(TMP197108, "semRecordCase: dicriminant is no symbol", 39);
STRING_LITERAL(TMP197109, ") ", 2);
static NIM_CONST TY121007 TMP197115 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x70, 0x00, 0x00, 0x00, 0x20, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00}
;static NIM_CONST TY121007 TMP197116 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x70, 0x2D, 0x0C, 0x00, 0x20, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x08}
;static NIM_CONST TY121007 TMP197117 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x70, 0x21, 0x00, 0x00, 0x20, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP197118, "ref", 3);
STRING_LITERAL(TMP197119, "ptr", 3);
STRING_LITERAL(TMP197120, "var", 3);
STRING_LITERAL(TMP197121, "distinct", 8);
STRING_LITERAL(TMP197122, "dummy", 5);
static NIM_CONST TY121007 TMP197123 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x40, 0x00, 0x00, 0x40, 0xF8, 0x1F,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP197125, "addTypeVarsOfGenericBody", 24);
STRING_LITERAL(TMP197126, "addTypeVarsOfGenericBody 2", 26);
STRING_LITERAL(TMP197127, "addParams", 9);
STRING_LITERAL(TMP197128, "GenericCacheGet", 15);
STRING_LITERAL(TMP197130, "result", 6);
STRING_LITERAL(TMP197132, "semDirectCallAnalyseEffects", 27);
STRING_LITERAL(TMP197133, "changeType: no tuple type for constructor", 41);
STRING_LITERAL(TMP197134, "changeType: no tuple fields", 27);
STRING_LITERAL(TMP197135, "changeType(): invalid tuple constr", 34);
STRING_LITERAL(TMP197136, "changeType(): invalid identifier", 32);
STRING_LITERAL(TMP197137, "fixAbstractType: ", 17);
NIM_CONST TY133939 Fakevarparams_133938 = {
0x00, 0xEC, 0x30, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x1C, 0x16, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00}
;
static NIM_CONST TY133939 TMP197138 = {
0x00, 0xEC, 0x30, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x1C, 0x16, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP197140, "analyseIfAddressTaken", 21);
STRING_LITERAL(TMP197141, "[", 1);
STRING_LITERAL(TMP197142, ",", 1);
STRING_LITERAL(TMP197143, "..", 2);
STRING_LITERAL(TMP197144, "..$", 3);
STRING_LITERAL(TMP197145, "$..", 3);
STRING_LITERAL(TMP197146, "$..$", 4);
STRING_LITERAL(TMP197147, "]=", 2);
STRING_LITERAL(TMP197148, "]", 1);
STRING_LITERAL(TMP197154, "tuple", 5);
static NIM_CONST TY121007 TMP197171 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x72, 0x23, 0x08, 0x00, 0x20, 0x00, 0x00,
0x00, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x40, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP197172, "semTypeSection: containerID", 27);
STRING_LITERAL(TMP197173, "semGenericParamList", 19);
STRING_LITERAL(TMP197174, "semTypeSection()", 16);
STRING_LITERAL(TMP197175, "semWhen", 7);
STRING_LITERAL(TMP197176, "countup", 7);
STRING_LITERAL(TMP197177, "\'return\'", 8);
STRING_LITERAL(TMP197178, "semReturn", 9);
STRING_LITERAL(TMP197179, "semYield", 8);
static NIM_CONST TY121007 TMP197180 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x08, 0x02, 0xE0, 0xFD, 0x3D, 0x02, 0x80,
0xFF, 0x0D, 0x00, 0x05, 0xA0, 0x00, 0x00, 0x04,
0x04, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP197183, "addGenericParamListToScope", 26);
STRING_LITERAL(TMP197184, "semProcAux", 10);
static NIM_CONST TY121007 TMP197185 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x70, 0x51, 0x00, 0x00, 0x20, 0xF8, 0x1F,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x04, 0x00,
0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP197186, "iterator", 8);
static NIM_CONST TY121007 TMP197187 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x70, 0xF3, 0x1D, 0x00, 0x60, 0xF8, 0x1F,
0x00, 0x00, 0x00, 0x08, 0x00, 0x00, 0x04, 0x00,
0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP197188, "method", 6);
STRING_LITERAL(TMP197189, "converter", 9);
STRING_LITERAL(TMP197190, "macro", 5);
static NIM_CONST TY121007 TMP197191 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x71, 0x41, 0x08, 0x00, 0x20, 0xF8, 0x1F,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP197192, "template", 8);
STRING_LITERAL(TMP197193, "import", 6);
STRING_LITERAL(TMP197199, "from", 4);
STRING_LITERAL(TMP197203, "include", 7);
STRING_LITERAL(TMP197204, "SemStmt: result = nil", 21);
STRING_LITERAL(TMP197205, "no default for", 14);
NIM_CONST NU64 Integraltypes_132185 = IL64(1097364160518);
STRING_LITERAL(TMP197206, "()", 2);
STRING_LITERAL(TMP197207, ", ", 2);
STRING_LITERAL(TMP197208, "\012", 1);
STRING_LITERAL(TMP197209, "low", 3);
STRING_LITERAL(TMP197210, "high", 4);
NIM_CONST TY132558 Optostr_132557 = {((NimStringDesc*) &TMP197209),
((NimStringDesc*) &TMP197210)}
;
extern NIM_CONST TY132558 Optostr_132557;
STRING_LITERAL(TMP197211, "sizeof", 6);
STRING_LITERAL(TMP197212, "$", 1);
STRING_LITERAL(TMP197213, ")\012", 2);
STRING_LITERAL(TMP197214, "semExpr() to implement", 22);
STRING_LITERAL(TMP197215, ":anonymous", 10);
static NIM_CONST TY121007 TMP197216 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x70, 0xF3, 0x04, 0x00, 0x20, 0xF8, 0x1F,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP197218, "semIfExpr", 9);
STRING_LITERAL(TMP197219, "semExprWithType", 15);
STRING_LITERAL(TMP197220, "n is not nil", 12);
STRING_LITERAL(TMP197221, "addCodeForGenerics", 18);
STRING_LITERAL(TMP197222, "no code for ", 12);
NI Evaltemplatecounter_124423;
extern TY11190 Gch_11210;
extern TNimType* NTI55162; /* TTypeKind */
extern TY55563 Ginsttypes_106045;
extern TNimType* NTI126058; /* TCandidate */
extern NI Intsize_51570;
extern NI Floatsize_51571;
extern NI Ptrsize_51572;
extern TY55547* Systemmodule_101004;
extern NU32 Goptions_46075;
extern TY104048 Gincludefile_104051;
extern NU32 Gglobaloptions_46077;
N_NIMCALL(void, Markused_124065)(TY55525* N_124067, TY55547* S_124068) {
(*S_124068).Flags |=(1<<((NI32)(((NU8) 0))%(sizeof(NI32)*8)));
if (!(((*S_124068).Flags &(1<<((((NU8) 22))&31)))!=0)) goto LA2;
Limessage_47562((*N_124067).Info, ((NU8) 213), (*(*S_124068).Name).S);
LA2: ;
}
N_NIMCALL(TY55525*, Symchoice_124549)(TY106012* C_124551, TY55525* N_124552, TY55547* S_124553) {
TY55525* Result_124554;
TY55547* A_124555;
TY107004 O_124556;
NI I_124557;
TY55551* LOC5;
TY55525* LOC7;
Result_124554 = 0;
A_124555 = 0;
memset((void*)&O_124556, 0, sizeof(O_124556));
I_124557 = 0;
I_124557 = 0;
A_124555 = Initoverloaditer_107058(&O_124556, C_124551, N_124552);
while (1) {
if (!!((A_124555 == NIM_NIL))) goto LA1;
A_124555 = Nextoverloaditer_107064(&O_124556, C_124551, N_124552);
I_124557 += 1;
} LA1: ;
if (!(I_124557 <= 1)) goto LA3;
Result_124554 = Newsymnode_55734(S_124553);
(*Result_124554).Info = (*N_124552).Info;
Markused_124065(N_124552, S_124553);
goto LA2;
LA3: ;
LOC5 = 0;
LOC5 = Newtypes_106077(((NU8) 0), C_124551);
Result_124554 = Newnodeit_55741(((NU8) 46), (*N_124552).Info, LOC5);
A_124555 = Initoverloaditer_107058(&O_124556, C_124551, N_124552);
while (1) {
if (!!((A_124555 == NIM_NIL))) goto LA6;
LOC7 = 0;
LOC7 = Newsymnode_55734(A_124555);
Addson_55823(Result_124554, LOC7);
A_124555 = Nextoverloaditer_107064(&O_124556, C_124551, N_124552);
} LA6: ;
LA2: ;
return Result_124554;
}
static N_INLINE(NI, Atomicinc_3001)(NI* Memloc_3004, NI X_3005) {
NI Result_7607;
Result_7607 = 0;
(*Memloc_3004) += X_3005;
Result_7607 = (*Memloc_3004);
return Result_7607;
}
static N_INLINE(NIM_BOOL, Canbecycleroot_11616)(TY10802* C_11618) {
NIM_BOOL Result_11619;
Result_11619 = 0;
Result_11619 = !((((*(*C_11618).Typ).flags &(1<<((((NU8) 1))&7)))!=0));
return Result_11619;
}
static N_INLINE(void, Rtladdcycleroot_12252)(TY10802* C_12254) {
Incl_11074(&Gch_11210.Cycleroots, C_12254);
}
static N_INLINE(void, Incref_13202)(TY10802* C_13204) {
NI LOC1;
NIM_BOOL LOC3;
LOC1 = Atomicinc_3001(&(*C_13204).Refcount, 8);
LOC3 = Canbecycleroot_11616(C_13204);
if (!LOC3) goto LA4;
Rtladdcycleroot_12252(C_13204);
LA4: ;
}
static N_INLINE(TY10802*, Usrtocell_11612)(void* Usr_11614) {
TY10802* Result_11615;
Result_11615 = 0;
Result_11615 = ((TY10802*) ((NI32)((NU32)(((NI) (Usr_11614))) - (NU32)(((NI) (((NI)sizeof(TY10802))))))));
return Result_11615;
}
static N_INLINE(NI, Atomicdec_3006)(NI* Memloc_3009, NI X_3010) {
NI Result_7806;
Result_7806 = 0;
(*Memloc_3009) -= X_3010;
Result_7806 = (*Memloc_3009);
return Result_7806;
}
static N_INLINE(void, Rtladdzct_12601)(TY10802* C_12603) {
Addzct_11601(&Gch_11210.Zct, C_12603);
}
static N_INLINE(void, Decref_13001)(TY10802* C_13003) {
NI LOC2;
NIM_BOOL LOC5;
LOC2 = Atomicdec_3006(&(*C_13003).Refcount, 8);
if (!((NU32)(LOC2) < (NU32)(8))) goto LA3;
Rtladdzct_12601(C_13003);
goto LA1;
LA3: ;
LOC5 = Canbecycleroot_11616(C_13003);
if (!LOC5) goto LA6;
Rtladdcycleroot_12252(C_13003);
goto LA1;
LA6: ;
LA1: ;
}
static N_INLINE(void, asgnRef)(void** Dest_13214, void* Src_13215) {
TY10802* LOC4;
TY10802* LOC8;
if (!!((Src_13215 == NIM_NIL))) goto LA2;
LOC4 = Usrtocell_11612(Src_13215);
Incref_13202(LOC4);
LA2: ;
if (!!(((*Dest_13214) == NIM_NIL))) goto LA6;
LOC8 = Usrtocell_11612((*Dest_13214));
Decref_13001(LOC8);
LA6: ;
(*Dest_13214) = Src_13215;
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13218, void* Src_13219) {
TY10802* C_13220;
NI LOC4;
TY10802* C_13222;
NI LOC9;
if (!!((Src_13219 == NIM_NIL))) goto LA2;
C_13220 = 0;
C_13220 = Usrtocell_11612(Src_13219);
LOC4 = Atomicinc_3001(&(*C_13220).Refcount, 8);
LA2: ;
if (!!(((*Dest_13218) == NIM_NIL))) goto LA6;
C_13222 = 0;
C_13222 = Usrtocell_11612((*Dest_13218));
LOC9 = Atomicdec_3006(&(*C_13222).Refcount, 8);
if (!((NU32)(LOC9) < (NU32)(8))) goto LA10;
Rtladdzct_12601(C_13222);
LA10: ;
LA6: ;
(*Dest_13218) = Src_13219;
}
N_NIMCALL(TY54011*, Consideracc_124003)(TY55525* N_124005) {
TY54011* Result_124006;
TY55525* X_124007;
NimStringDesc* LOC4;
Result_124006 = 0;
X_124007 = 0;
X_124007 = N_124005;
if (!((*X_124007).Kind == ((NU8) 43))) goto LA2;
X_124007 = (*X_124007).KindU.S6.Sons->data[0];
LA2: ;
switch ((*X_124007).Kind) {
case ((NU8) 2):
Result_124006 = (*X_124007).KindU.S5.Ident;
break;
case ((NU8) 3):
Result_124006 = (*(*X_124007).KindU.S4.Sym).Name;
break;
default:
LOC4 = 0;
LOC4 = Rendertree_84042(N_124005, 0);
Limessage_47562((*N_124005).Info, ((NU8) 19), LOC4);
Result_124006 = NIM_NIL;
break;
}
return Result_124006;
}
N_NIMCALL(NIM_BOOL, Istypeexpr_134930)(TY55525* N_134932) {
NIM_BOOL Result_134933;
Result_134933 = 0;
switch ((*N_134932).Kind) {
case ((NU8) 4):
case ((NU8) 110):
Result_134933 = NIM_TRUE;
break;
case ((NU8) 3):
Result_134933 = ((*(*N_134932).KindU.S4.Sym).Kind == ((NU8) 6));
break;
default:
Result_134933 = NIM_FALSE;
break;
}
return Result_134933;
}
N_NIMCALL(TY55547*, Lookupinrecordandbuildcheck_134955)(TY106012* C_134957, TY55525* N_134958, TY55525* R_134959, TY54011* Field_134960, TY55525** Check_134962) {
TY55547* Result_134963;
TY55525* S_134964;
TY55525* It_134965;
TY55525* Inexpr_134966;
TY55525* Notexpr_134967;
NI I_134975;
NI HEX3Atmp_145044;
NI LOC1;
NI Res_145046;
NI I_135050;
NI HEX3Atmp_145062;
NI LOC12;
NI Res_145064;
TY55525* LOC14;
NI J_135081;
NI HEX3Atmp_145050;
NI LOC18;
NI Res_145052;
TY55525* LOC20;
NI J_135112;
NI HEX3Atmp_145056;
NI LOC24;
NI Res_145058;
TY55525* LOC26;
TY54011* LOC27;
TY55525* LOC28;
TY55525* LOC29;
TY55525* LOC30;
TY55525* LOC31;
TY54011* LOC38;
TY55525* LOC39;
TY55525* LOC40;
TY54011* LOC41;
TY55525* LOC42;
TY55525* LOC43;
Result_134963 = 0;
S_134964 = 0;
It_134965 = 0;
Inexpr_134966 = 0;
Notexpr_134967 = 0;
Result_134963 = NIM_NIL;
switch ((*R_134959).Kind) {
case ((NU8) 113):
I_134975 = 0;
HEX3Atmp_145044 = 0;
LOC1 = Sonslen_55803(R_134959);
HEX3Atmp_145044 = (NI32)(LOC1 - 1);
Res_145046 = 0;
Res_145046 = 0;
while (1) {
if (!(Res_145046 <= HEX3Atmp_145044)) goto LA2;
I_134975 = Res_145046;
Result_134963 = Lookupinrecordandbuildcheck_134955(C_134957, N_134958, (*R_134959).KindU.S6.Sons->data[I_134975], Field_134960, Check_134962);
if (!!((Result_134963 == NIM_NIL))) goto LA4;
goto BeforeRet;
LA4: ;
Res_145046 += 1;
} LA2: ;
break;
case ((NU8) 114):
Checkminsonslen_106103(R_134959, 2);
if (!!(((*(*R_134959).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA7;
Illformedast_106092(R_134959);
LA7: ;
Result_134963 = Lookupinrecordandbuildcheck_134955(C_134957, N_134958, (*R_134959).KindU.S6.Sons->data[0], Field_134960, Check_134962);
if (!!((Result_134963 == NIM_NIL))) goto LA10;
goto BeforeRet;
LA10: ;
S_134964 = Newnodei_55737(((NU8) 31), (*R_134959).Info);
I_135050 = 0;
HEX3Atmp_145062 = 0;
LOC12 = Sonslen_55803(R_134959);
HEX3Atmp_145062 = (NI32)(LOC12 - 1);
Res_145064 = 0;
Res_145064 = 1;
while (1) {
if (!(Res_145064 <= HEX3Atmp_145062)) goto LA13;
I_135050 = Res_145064;
It_134965 = (*R_134959).KindU.S6.Sons->data[I_135050];
switch ((*It_134965).Kind) {
case ((NU8) 75):
LOC14 = 0;
LOC14 = Lastson_55809(It_134965);
Result_134963 = Lookupinrecordandbuildcheck_134955(C_134957, N_134958, LOC14, Field_134960, Check_134962);
if (!(Result_134963 == NIM_NIL)) goto LA16;
J_135081 = 0;
HEX3Atmp_145050 = 0;
LOC18 = Sonslen_55803(It_134965);
HEX3Atmp_145050 = (NI32)(LOC18 - 2);
Res_145052 = 0;
Res_145052 = 0;
while (1) {
if (!(Res_145052 <= HEX3Atmp_145050)) goto LA19;
J_135081 = Res_145052;
LOC20 = 0;
LOC20 = Copytree_55858((*It_134965).KindU.S6.Sons->data[J_135081]);
Addson_55823(S_134964, LOC20);
Res_145052 += 1;
} LA19: ;
goto LA15;
LA16: ;
if (!((*Check_134962) == NIM_NIL)) goto LA22;
unsureAsgnRef((void**) &(*Check_134962), Newnodei_55737(((NU8) 37), (*N_134958).Info));
Addson_55823((*Check_134962), NIM_NIL);
LA22: ;
S_134964 = Newnodei_55737(((NU8) 31), (*N_134958).Info);
J_135112 = 0;
HEX3Atmp_145056 = 0;
LOC24 = Sonslen_55803(It_134965);
HEX3Atmp_145056 = (NI32)(LOC24 - 2);
Res_145058 = 0;
Res_145058 = 0;
while (1) {
if (!(Res_145058 <= HEX3Atmp_145056)) goto LA25;
J_135112 = Res_145058;
LOC26 = 0;
LOC26 = Copytree_55858((*It_134965).KindU.S6.Sons->data[J_135112]);
Addson_55823(S_134964, LOC26);
Res_145058 += 1;
} LA25: ;
Inexpr_134966 = Newnodei_55737(((NU8) 21), (*N_134958).Info);
LOC27 = 0;
LOC27 = Getident_54016(((NimStringDesc*) &TMP197067));
LOC28 = 0;
LOC28 = Newidentnode_55730(LOC27, (*N_134958).Info);
Addson_55823(Inexpr_134966, LOC28);
LOC29 = 0;
LOC29 = Copytree_55858((*R_134959).KindU.S6.Sons->data[0]);
Addson_55823(Inexpr_134966, LOC29);
Addson_55823(Inexpr_134966, S_134964);
LOC30 = 0;
LOC30 = Semexpr_124115(C_134957, Inexpr_134966, 0);
Addson_55823((*Check_134962), LOC30);
goto BeforeRet;
LA15: ;
break;
case ((NU8) 78):
LOC31 = 0;
LOC31 = Lastson_55809(It_134965);
Result_134963 = Lookupinrecordandbuildcheck_134955(C_134957, N_134958, LOC31, Field_134960, Check_134962);
if (!!((Result_134963 == NIM_NIL))) goto LA33;
if (!((*Check_134962) == NIM_NIL)) goto LA36;
unsureAsgnRef((void**) &(*Check_134962), Newnodei_55737(((NU8) 37), (*N_134958).Info));
Addson_55823((*Check_134962), NIM_NIL);
LA36: ;
Inexpr_134966 = Newnodei_55737(((NU8) 21), (*N_134958).Info);
LOC38 = 0;
LOC38 = Getident_54016(((NimStringDesc*) &TMP197067));
LOC39 = 0;
LOC39 = Newidentnode_55730(LOC38, (*N_134958).Info);
Addson_55823(Inexpr_134966, LOC39);
LOC40 = 0;
LOC40 = Copytree_55858((*R_134959).KindU.S6.Sons->data[0]);
Addson_55823(Inexpr_134966, LOC40);
Addson_55823(Inexpr_134966, S_134964);
Notexpr_134967 = Newnodei_55737(((NU8) 21), (*N_134958).Info);
LOC41 = 0;
LOC41 = Getident_54016(((NimStringDesc*) &TMP197068));
LOC42 = 0;
LOC42 = Newidentnode_55730(LOC41, (*N_134958).Info);
Addson_55823(Notexpr_134967, LOC42);
Addson_55823(Notexpr_134967, Inexpr_134966);
LOC43 = 0;
LOC43 = Semexpr_124115(C_134957, Notexpr_134967, 0);
Addson_55823((*Check_134962), LOC43);
goto BeforeRet;
LA33: ;
break;
default:
Illformedast_106092(It_134965);
break;
}
Res_145064 += 1;
} LA13: ;
break;
case ((NU8) 3):
if (!((*(*(*R_134959).KindU.S4.Sym).Name).Sup.Id == (*Field_134960).Sup.Id)) goto LA45;
Result_134963 = (*R_134959).KindU.S4.Sym;
LA45: ;
break;
default:
Illformedast_106092(N_134958);
break;
}
BeforeRet: ;
return Result_134963;
}
N_NIMCALL(TY55525*, Makederef_135197)(TY55525* N_135199) {
TY55525* Result_135200;
TY55551* T_135202;
TY55525* A_135225;
Result_135200 = 0;
T_135202 = 0;
T_135202 = Skiptypes_96085((*N_135199).Typ, 2048);
Result_135200 = N_135199;
if (!((*T_135202).Kind == ((NU8) 23))) goto LA2;
Result_135200 = Newnodeit_55741(((NU8) 54), (*N_135199).Info, (*T_135202).Sons->data[0]);
Addson_55823(Result_135200, N_135199);
T_135202 = Skiptypes_96085((*T_135202).Sons->data[0], 2048);
LA2: ;
if (!((*T_135202).Kind == ((NU8) 21) || (*T_135202).Kind == ((NU8) 22))) goto LA5;
A_135225 = 0;
A_135225 = Result_135200;
Result_135200 = Newnodeit_55741(((NU8) 38), (*N_135199).Info, (*T_135202).Sons->data[0]);
Addson_55823(Result_135200, A_135225);
LA5: ;
return Result_135200;
}
N_NIMCALL(TY55525*, Builtinfieldaccess_135226)(TY106012* C_135228, TY55525* N_135229, NU8 Flags_135230) {
TY55525* Result_135231;
TY55547* S_135232;
TY54011* I_135291;
TY55551* Ty_135304;
TY55547* F_135305;
NIM_BOOL LOC14;
TY55525* Check_135396;
NIM_BOOL LOC32;
TY55547* LOC34;
Result_135231 = 0;
S_135232 = 0;
S_135232 = Qualifiedlookup_107053(C_135228, N_135229, NIM_TRUE);
if (!!((S_135232 == NIM_NIL))) goto LA2;
Result_135231 = Semsym_132074(C_135228, N_135229, S_135232, Flags_135230);
goto BeforeRet;
LA2: ;
Checksonslen_106099(N_135229, 2);
asgnRefNoCycle((void**) &(*N_135229).KindU.S6.Sons->data[0], Semexprwithtype_124122(C_135228, (*N_135229).KindU.S6.Sons->data[0], (1 | Flags_135230)));
I_135291 = 0;
I_135291 = Consideracc_124003((*N_135229).KindU.S6.Sons->data[1]);
Ty_135304 = 0;
Ty_135304 = (*(*N_135229).KindU.S6.Sons->data[0]).Typ;
F_135305 = 0;
F_135305 = NIM_NIL;
Result_135231 = NIM_NIL;
if (!((*Ty_135304).Kind == ((NU8) 14))) goto LA5;
while (1) {
if (!!((Ty_135304 == NIM_NIL))) goto LA7;
F_135305 = Getsymfromlist_59197((*Ty_135304).N, I_135291, 0);
if (!!((F_135305 == NIM_NIL))) goto LA9;
goto LA7;
LA9: ;
Ty_135304 = (*Ty_135304).Sons->data[0];
} LA7: ;
if (!!((F_135305 == NIM_NIL))) goto LA12;
Result_135231 = Newsymnode_55734(F_135305);
(*Result_135231).Info = (*N_135229).Info;
asgnRef((void**) &(*Result_135231).Typ, Ty_135304);
Markused_124065(N_135229, F_135305);
goto LA11;
LA12: ;
Limessage_47562((*(*N_135229).KindU.S6.Sons->data[1]).Info, ((NU8) 166), (*I_135291).S);
LA11: ;
goto BeforeRet;
goto LA4;
LA5: ;
LOC14 = !(((Flags_135230 &(1<<((((NU8) 0))&7)))!=0));
if (!(LOC14)) goto LA15;
LOC14 = Istypeexpr_134930((*N_135229).KindU.S6.Sons->data[0]);
LA15: ;
if (!LOC14) goto LA16;
Limessage_47562((*(*N_135229).KindU.S6.Sons->data[0]).Info, ((NU8) 161), ((NimStringDesc*) &TMP196936));
goto BeforeRet;
goto LA4;
LA16: ;
LA4: ;
Ty_135304 = Skiptypes_96085(Ty_135304, 14682112);
Check_135396 = 0;
Check_135396 = NIM_NIL;
if (!((*Ty_135304).Kind == ((NU8) 17))) goto LA19;
while (1) {
Check_135396 = NIM_NIL;
F_135305 = Lookupinrecordandbuildcheck_134955(C_135228, N_135229, (*Ty_135304).N, I_135291, &Check_135396);
if (!!((F_135305 == NIM_NIL))) goto LA23;
goto LA21;
LA23: ;
if (!((*Ty_135304).Sons->data[0] == NIM_NIL)) goto LA26;
goto LA21;
LA26: ;
Ty_135304 = Skiptypes_96085((*Ty_135304).Sons->data[0], 2048);
} LA21: ;
if (!!((F_135305 == NIM_NIL))) goto LA29;
LOC32 = !(((6 & (*F_135305).Flags) == 0));
if (LOC32) goto LA33;
LOC34 = 0;
LOC34 = Getmodule_59206(F_135305);
LOC32 = ((*LOC34).Sup.Id == (*(*C_135228).Module).Sup.Id);
LA33: ;
if (!LOC32) goto LA35;
asgnRefNoCycle((void**) &(*N_135229).KindU.S6.Sons->data[0], Makederef_135197((*N_135229).KindU.S6.Sons->data[0]));
asgnRefNoCycle((void**) &(*N_135229).KindU.S6.Sons->data[1], Newsymnode_55734(F_135305));
asgnRef((void**) &(*N_135229).Typ, (*F_135305).Typ);
Markused_124065(N_135229, F_135305);
if (!(Check_135396 == NIM_NIL)) goto LA38;
Result_135231 = N_135229;
goto LA37;
LA38: ;
asgnRefNoCycle((void**) &(*Check_135396).KindU.S6.Sons->data[0], N_135229);
asgnRef((void**) &(*Check_135396).Typ, (*N_135229).Typ);
Result_135231 = Check_135396;
LA37: ;
LA35: ;
LA29: ;
goto LA18;
LA19: ;
if (!((*Ty_135304).Kind == ((NU8) 18))) goto LA40;
F_135305 = Getsymfromlist_59197((*Ty_135304).N, I_135291, 0);
if (!!((F_135305 == NIM_NIL))) goto LA43;
asgnRefNoCycle((void**) &(*N_135229).KindU.S6.Sons->data[0], Makederef_135197((*N_135229).KindU.S6.Sons->data[0]));
asgnRefNoCycle((void**) &(*N_135229).KindU.S6.Sons->data[1], Newsymnode_55734(F_135305));
asgnRef((void**) &(*N_135229).Typ, (*F_135305).Typ);
Result_135231 = N_135229;
Markused_124065(N_135229, F_135305);
LA43: ;
goto LA18;
LA40: ;
LA18: ;
BeforeRet: ;
return Result_135231;
}
static N_INLINE(TY55525*, HEX5BHEX5D_57074)(TY55525* N_57076, NI I_57077) {
TY55525* Result_57078;
Result_57078 = 0;
Result_57078 = (*N_57076).KindU.S6.Sons->data[I_57077];
return Result_57078;
}
static N_INLINE(void, appendString)(NimStringDesc* Dest_18792, NimStringDesc* Src_18793) {
memcpy(((NCSTRING) (&(*Dest_18792).data[((*Dest_18792).Sup.len)-0])), ((NCSTRING) ((*Src_18793).data)), ((int) ((NI32)((NI32)((*Src_18793).Sup.len + 1) * 1))));
(*Dest_18792).Sup.len += (*Src_18793).Sup.len;
}
static N_INLINE(void, appendChar)(NimStringDesc* Dest_18809, NIM_CHAR C_18810) {
(*Dest_18809).data[((*Dest_18809).Sup.len)-0] = C_18810;
(*Dest_18809).data[((NI32)((*Dest_18809).Sup.len + 1))-0] = 0;
(*Dest_18809).Sup.len += 1;
}
static N_INLINE(void, Initcandidateaux_126081)(TY126058* C_126084, TY55551* Callee_126085) {
(*C_126084).Exactmatches = 0;
(*C_126084).Subtypematches = 0;
(*C_126084).Convmatches = 0;
(*C_126084).Intconvmatches = 0;
(*C_126084).Genericmatches = 0;
(*C_126084).State = ((NU8) 0);
unsureAsgnRef((void**) &(*C_126084).Callee, Callee_126085);
unsureAsgnRef((void**) &(*C_126084).Call, NIM_NIL);
(*C_126084).Basetypematch = NIM_FALSE;
}
N_NIMCALL(void, Initcandidate_126092)(TY126058* C_126095, TY55547* Callee_126096, TY55525* Binding_126097) {
TY55525* Typeparams_126110;
NI I_126120;
NI HEX3Atmp_128847;
NI LOC4;
NI LOC5;
NI Res_128849;
TY55551* Formaltypeparam_126133;
TY55525* LOC7;
Initcandidateaux_126081(C_126095, (*Callee_126096).Typ);
unsureAsgnRef((void**) &(*C_126095).Calleesym, Callee_126096);
Initidtable_55754(&(*C_126095).Bindings);
if (!!((Binding_126097 == NIM_NIL))) goto LA2;
Typeparams_126110 = 0;
Typeparams_126110 = HEX5BHEX5D_57074((*Callee_126096).Ast, 1);
I_126120 = 0;
HEX3Atmp_128847 = 0;
LOC4 = Sonslen_55803(Typeparams_126110);
LOC5 = Sonslen_55803(Binding_126097);
HEX3Atmp_128847 = ((LOC4 <= (NI32)(LOC5 - 1)) ? LOC4 : (NI32)(LOC5 - 1));
Res_128849 = 0;
Res_128849 = 1;
while (1) {
if (!(Res_128849 <= HEX3Atmp_128847)) goto LA6;
I_126120 = Res_128849;
Formaltypeparam_126133 = 0;
Formaltypeparam_126133 = (*(*Typeparams_126110).KindU.S6.Sons->data[(NI32)(I_126120 - 1)]).Typ;
LOC7 = 0;
LOC7 = HEX5BHEX5D_57074(Binding_126097, I_126120);
Idtableput_59174(&(*C_126095).Bindings, &Formaltypeparam_126133->Sup, &(*LOC7).Typ->Sup.Sup);
Res_128849 += 1;
} LA6: ;
LA2: ;
}
N_NIMCALL(NU8, Handlerange_126381)(TY55551* F_126383, TY55551* A_126384, NU8 Min_126385, NU8 Max_126386) {
NU8 Result_126387;
NU8 K_126398;
TY55551* LOC4;
NIM_BOOL LOC8;
NIM_BOOL LOC12;
Result_126387 = 0;
if (!((*A_126384).Kind == (*F_126383).Kind)) goto LA2;
Result_126387 = ((NU8) 5);
goto LA1;
LA2: ;
K_126398 = 0;
LOC4 = 0;
LOC4 = Skiptypes_96085(A_126384, 1048576);
K_126398 = (*LOC4).Kind;
if (!(K_126398 == (*F_126383).Kind)) goto LA6;
Result_126387 = ((NU8) 3);
goto LA5;
LA6: ;
LOC8 = ((*F_126383).Kind == ((NU8) 31));
if (!(LOC8)) goto LA9;
LOC8 = (K_126398 >= ((NU8) 31) && K_126398 <= ((NU8) 34));
LA9: ;
if (!LOC8) goto LA10;
Result_126387 = ((NU8) 2);
goto LA5;
LA10: ;
LOC12 = (Min_126385 <= K_126398);
if (!(LOC12)) goto LA13;
LOC12 = (K_126398 <= Max_126386);
LA13: ;
if (!LOC12) goto LA14;
Result_126387 = ((NU8) 1);
goto LA5;
LA14: ;
Result_126387 = ((NU8) 0);
LA5: ;
LA1: ;
return Result_126387;
}
N_NIMCALL(NU8, Handlefloatrange_126447)(TY55551* F_126449, TY55551* A_126450) {
NU8 Result_126451;
NU8 K_126462;
TY55551* LOC4;
NIM_BOOL LOC8;
Result_126451 = 0;
if (!((*A_126450).Kind == (*F_126449).Kind)) goto LA2;
Result_126451 = ((NU8) 5);
goto LA1;
LA2: ;
K_126462 = 0;
LOC4 = 0;
LOC4 = Skiptypes_96085(A_126450, 1048576);
K_126462 = (*LOC4).Kind;
if (!(K_126462 == (*F_126449).Kind)) goto LA6;
Result_126451 = ((NU8) 3);
goto LA5;
LA6: ;
LOC8 = (((NU8) 36) <= K_126462);
if (!(LOC8)) goto LA9;
LOC8 = (K_126462 <= ((NU8) 39));
LA9: ;
if (!LOC8) goto LA10;
Result_126451 = ((NU8) 1);
goto LA5;
LA10: ;
Result_126451 = ((NU8) 0);
LA5: ;
LA1: ;
return Result_126451;
}
N_NIMCALL(NU8, Minrel_126520)(NU8 A_126522, NU8 B_126523) {
NU8 Result_126524;
Result_126524 = 0;
if (!(A_126522 <= B_126523)) goto LA2;
Result_126524 = A_126522;
goto LA1;
LA2: ;
Result_126524 = B_126523;
LA1: ;
return Result_126524;
}
N_NIMCALL(NU8, Tuplerel_126534)(TY55563* Mapping_126537, TY55551* F_126538, TY55551* A_126539) {
NU8 Result_126540;
NI LOC2;
NI LOC3;
NI I_126550;
NI HEX3Atmp_128862;
NI LOC6;
NI Res_128864;
NU8 M_126551;
NIM_BOOL LOC12;
NI I_126590;
NI HEX3Atmp_128868;
NI LOC16;
NI Res_128870;
TY55547* X_126657;
TY55547* Y_126682;
Result_126540 = 0;
Result_126540 = ((NU8) 0);
LOC2 = Sonslen_55806(A_126539);
LOC3 = Sonslen_55806(F_126538);
if (!(LOC2 == LOC3)) goto LA4;
Result_126540 = ((NU8) 5);
I_126550 = 0;
HEX3Atmp_128862 = 0;
LOC6 = Sonslen_55806(F_126538);
HEX3Atmp_128862 = (NI32)(LOC6 - 1);
Res_128864 = 0;
Res_128864 = 0;
while (1) {
if (!(Res_128864 <= HEX3Atmp_128862)) goto LA7;
I_126550 = Res_128864;
M_126551 = 0;
M_126551 = Typerel_126350(Mapping_126537, (*F_126538).Sons->data[I_126550], (*A_126539).Sons->data[I_126550]);
if (!(M_126551 < ((NU8) 3))) goto LA9;
Result_126540 = ((NU8) 0);
goto BeforeRet;
LA9: ;
Result_126540 = Minrel_126520(Result_126540, M_126551);
Res_128864 += 1;
} LA7: ;
LOC12 = !(((*F_126538).N == NIM_NIL));
if (!(LOC12)) goto LA13;
LOC12 = !(((*A_126539).N == NIM_NIL));
LA13: ;
if (!LOC12) goto LA14;
I_126590 = 0;
HEX3Atmp_128868 = 0;
LOC16 = Sonslen_55803((*F_126538).N);
HEX3Atmp_128868 = (NI32)(LOC16 - 1);
Res_128870 = 0;
Res_128870 = 0;
while (1) {
if (!(Res_128870 <= HEX3Atmp_128868)) goto LA17;
I_126590 = Res_128870;
if (!!(((*(*(*F_126538).N).KindU.S6.Sons->data[I_126590]).Kind == ((NU8) 3)))) goto LA19;
Internalerror_47567((*(*F_126538).N).Info, ((NimStringDesc*) &TMP197070));
LA19: ;
if (!!(((*(*(*A_126539).N).KindU.S6.Sons->data[I_126590]).Kind == ((NU8) 3)))) goto LA22;
Internalerror_47567((*(*A_126539).N).Info, ((NimStringDesc*) &TMP197070));
LA22: ;
X_126657 = 0;
X_126657 = (*(*(*F_126538).N).KindU.S6.Sons->data[I_126590]).KindU.S4.Sym;
Y_126682 = 0;
Y_126682 = (*(*(*A_126539).N).KindU.S6.Sons->data[I_126590]).KindU.S4.Sym;
if (!!(((*(*X_126657).Name).Sup.Id == (*(*Y_126682).Name).Sup.Id))) goto LA25;
Result_126540 = ((NU8) 0);
goto BeforeRet;
LA25: ;
Res_128870 += 1;
} LA17: ;
LA14: ;
LA4: ;
BeforeRet: ;
return Result_126540;
}
N_NIMCALL(NIM_BOOL, Isobjectsubtype_126490)(TY55551* A_126492, TY55551* F_126493) {
NIM_BOOL Result_126494;
TY55551* T_126495;
NIM_BOOL LOC2;
Result_126494 = 0;
T_126495 = 0;
T_126495 = A_126492;
while (1) {
LOC2 = !((T_126495 == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC2 = !(((*T_126495).Sup.Id == (*F_126493).Sup.Id));
LA3: ;
if (!LOC2) goto LA1;
T_126495 = Base_96021(T_126495);
} LA1: ;
Result_126494 = !((T_126495 == NIM_NIL));
return Result_126494;
}
N_NIMCALL(TY55551*, Concretetype_126356)(TY55563 Mapping_126358, TY55551* T_126359) {
TY55551* Result_126360;
TNimObject* LOC2;
Result_126360 = 0;
switch ((*T_126359).Kind) {
case ((NU8) 4):
Result_126360 = Newtype_55706(((NU8) 16), (*T_126359).Owner);
Addson_55827(Result_126360, (*T_126359).Sons->data[0]);
Addson_55827(Result_126360, (*T_126359).Sons->data[1]);
break;
case ((NU8) 5):
Result_126360 = NIM_NIL;
break;
case ((NU8) 12):
Result_126360 = T_126359;
while (1) {
LOC2 = 0;
LOC2 = Idtableget_59166(Mapping_126358, &T_126359->Sup);
Result_126360 = ((TY55551*) (LOC2));
if (!(Result_126360 == NIM_NIL)) goto LA4;
Internalerror_47571(((NimStringDesc*) &TMP197073));
LA4: ;
if (!!(((*Result_126360).Kind == ((NU8) 12)))) goto LA7;
goto LA1;
LA7: ;
} LA1: ;
break;
default:
Result_126360 = T_126359;
break;
}
return Result_126360;
}
N_NIMCALL(NU8, Typerel_126350)(TY55563* Mapping_126353, TY55551* F_126354, TY55551* A_126355) {
NU8 Result_126691;
TY55551* X_126692;
TY55551* Concrete_126693;
NU8 M_126694;
NIM_BOOL LOC2;
TY55551* LOC4;
TY55551* LOC7;
NIM_BOOL LOC9;
NIM_BOOL LOC14;
TY55551* LOC18;
TY55551* LOC24;
TY55551* LOC30;
TY55551* LOC31;
TY55551* LOC35;
TY55551* LOC41;
TY55551* LOC42;
TY55551* LOC43;
NU8 LOC44;
NU8 LOC45;
NIM_BOOL LOC53;
NI64 LOC55;
NI64 LOC56;
NU8 LOC61;
TY55551* LOC62;
TY55551* LOC63;
NIM_BOOL LOC68;
TY55551* LOC72;
NU8 LOC73;
NIM_BOOL LOC77;
TY55551* LOC81;
NU8 LOC82;
NIM_BOOL LOC86;
TY55551* LOC90;
NU8 LOC91;
NIM_BOOL LOC95;
NIM_BOOL LOC103;
NIM_BOOL LOC124;
NIM_BOOL LOC128;
NIM_BOOL LOC136;
TY55551* LOC143;
TY55551* LOC144;
TY55551* LOC148;
TY55551* LOC149;
NIM_BOOL LOC154;
NI LOC155;
NI LOC156;
NI I_127114;
NI HEX3Atmp_128874;
NI LOC160;
NI Res_128876;
NIM_BOOL LOC163;
NU8 LOC165;
NIM_BOOL LOC184;
NIM_BOOL LOC192;
NIM_BOOL LOC193;
NI64 LOC194;
TY55551* LOC196;
TY55551* LOC203;
TY55551* LOC204;
NIM_BOOL LOC212;
NI LOC214;
NI LOC215;
NI I_127304;
NI HEX3Atmp_128880;
NI LOC218;
NI Res_128882;
NU8 LOC224;
NI I_127339;
NI HEX3Atmp_128886;
NI LOC230;
NI Res_128888;
TNimObject* LOC232;
NIM_BOOL LOC234;
TNimObject* LOC238;
NI LOC243;
NimStringDesc* LOC249;
NI I_127399;
NI HEX3Atmp_128892;
NI LOC250;
NI Res_128894;
NU8 LOC253;
NimStringDesc* LOC266;
Result_126691 = 0;
X_126692 = 0;
Concrete_126693 = 0;
M_126694 = 0;
Result_126691 = ((NU8) 0);
LOC2 = ((*A_126355).Kind == ((NU8) 11));
if (!(LOC2)) goto LA3;
LOC4 = 0;
LOC4 = Skiptypes_96085(F_126354, 8388608);
LOC2 = !(((*LOC4).Kind == ((NU8) 10) || (*LOC4).Kind == ((NU8) 9)));
LA3: ;
if (!LOC2) goto LA5;
LOC7 = 0;
LOC7 = Lastson_55812(A_126355);
Result_126691 = Typerel_126350(Mapping_126353, F_126354, LOC7);
goto BeforeRet;
LA5: ;
LOC9 = ((*A_126355).Kind == ((NU8) 23));
if (!(LOC9)) goto LA10;
LOC9 = !(((*F_126354).Kind == ((NU8) 23)));
LA10: ;
if (!LOC9) goto LA11;
Result_126691 = Typerel_126350(Mapping_126353, F_126354, (*A_126355).Sons->data[0]);
goto BeforeRet;
LA11: ;
switch ((*F_126354).Kind) {
case ((NU8) 14):
LOC14 = ((*A_126355).Kind == (*F_126354).Kind);
if (!(LOC14)) goto LA15;
LOC14 = ((*A_126355).Sup.Id == (*F_126354).Sup.Id);
LA15: ;
if (!LOC14) goto LA16;
Result_126691 = ((NU8) 5);
goto LA13;
LA16: ;
LOC18 = 0;
LOC18 = Skiptypes_96085(A_126355, 1048576);
if (!((*LOC18).Sup.Id == (*F_126354).Sup.Id)) goto LA19;
Result_126691 = ((NU8) 3);
goto LA13;
LA19: ;
LA13: ;
break;
case ((NU8) 1):
case ((NU8) 2):
if (!((*A_126355).Kind == (*F_126354).Kind)) goto LA22;
Result_126691 = ((NU8) 5);
goto LA21;
LA22: ;
LOC24 = 0;
LOC24 = Skiptypes_96085(A_126355, 1048576);
if (!((*LOC24).Kind == (*F_126354).Kind)) goto LA25;
Result_126691 = ((NU8) 3);
goto LA21;
LA25: ;
LA21: ;
break;
case ((NU8) 20):
if (!((*A_126355).Kind == (*F_126354).Kind)) goto LA28;
LOC30 = 0;
LOC30 = Base_96021(A_126355);
LOC31 = 0;
LOC31 = Base_96021(F_126354);
Result_126691 = Typerel_126350(Mapping_126353, LOC30, LOC31);
if (!(Result_126691 < ((NU8) 4))) goto LA33;
Result_126691 = ((NU8) 0);
LA33: ;
goto LA27;
LA28: ;
LOC35 = 0;
LOC35 = Skiptypes_96085(F_126354, 1048576);
if (!((*LOC35).Kind == (*A_126355).Kind)) goto LA36;
Result_126691 = ((NU8) 1);
goto LA27;
LA36: ;
LA27: ;
break;
case ((NU8) 31):
Result_126691 = Handlerange_126381(F_126354, A_126355, ((NU8) 32), ((NU8) 34));
break;
case ((NU8) 32):
Result_126691 = Handlerange_126381(F_126354, A_126355, ((NU8) 32), ((NU8) 32));
break;
case ((NU8) 33):
Result_126691 = Handlerange_126381(F_126354, A_126355, ((NU8) 32), ((NU8) 33));
break;
case ((NU8) 34):
Result_126691 = Handlerange_126381(F_126354, A_126355, ((NU8) 31), ((NU8) 34));
break;
case ((NU8) 35):
Result_126691 = Handlerange_126381(F_126354, A_126355, ((NU8) 31), ((NU8) 35));
break;
case ((NU8) 36):
Result_126691 = Handlefloatrange_126447(F_126354, A_126355);
break;
case ((NU8) 37):
Result_126691 = Handlefloatrange_126447(F_126354, A_126355);
break;
case ((NU8) 38):
Result_126691 = Handlefloatrange_126447(F_126354, A_126355);
break;
case ((NU8) 39):
Result_126691 = Handlefloatrange_126447(F_126354, A_126355);
break;
case ((NU8) 23):
if (!((*A_126355).Kind == (*F_126354).Kind)) goto LA39;
LOC41 = 0;
LOC41 = Base_96021(F_126354);
LOC42 = 0;
LOC42 = Base_96021(A_126355);
Result_126691 = Typerel_126350(Mapping_126353, LOC41, LOC42);
goto LA38;
LA39: ;
LOC43 = 0;
LOC43 = Base_96021(F_126354);
Result_126691 = Typerel_126350(Mapping_126353, LOC43, A_126355);
LA38: ;
break;
case ((NU8) 16):
case ((NU8) 4):
switch ((*A_126355).Kind) {
case ((NU8) 16):
LOC44 = Typerel_126350(Mapping_126353, (*F_126354).Sons->data[0], (*A_126355).Sons->data[0]);
LOC45 = Typerel_126350(Mapping_126353, (*F_126354).Sons->data[1], (*A_126355).Sons->data[1]);
Result_126691 = Minrel_126520(LOC44, LOC45);
if (!(Result_126691 < ((NU8) 4))) goto LA47;
Result_126691 = ((NU8) 0);
LA47: ;
break;
case ((NU8) 4):
Result_126691 = Typerel_126350(Mapping_126353, (*F_126354).Sons->data[1], (*A_126355).Sons->data[1]);
if (!(Result_126691 < ((NU8) 4))) goto LA50;
Result_126691 = ((NU8) 0);
goto LA49;
LA50: ;
LOC53 = !((Result_126691 == ((NU8) 4)));
if (!(LOC53)) goto LA54;
LOC55 = Lengthord_96007(F_126354);
LOC56 = Lengthord_96007(A_126355);
LOC53 = !((LOC55 == LOC56));
LA54: ;
if (!LOC53) goto LA57;
Result_126691 = ((NU8) 0);
goto LA52;
LA57: ;
if (!((*(*F_126354).Sons->data[0]).Kind == ((NU8) 9) || (*(*F_126354).Sons->data[0]).Kind == ((NU8) 10) || (*(*F_126354).Sons->data[0]).Kind == ((NU8) 12))) goto LA59;
LOC61 = Typerel_126350(Mapping_126353, (*F_126354).Sons->data[0], (*A_126355).Sons->data[0]);
Result_126691 = Minrel_126520(Result_126691, LOC61);
goto LA52;
LA59: ;
LA52: ;
LA49: ;
break;
default:
break;
}
break;
case ((NU8) 27):
switch ((*A_126355).Kind) {
case ((NU8) 27):
LOC62 = 0;
LOC62 = Base_96021(F_126354);
LOC63 = 0;
LOC63 = Base_96021(A_126355);
Result_126691 = Typerel_126350(Mapping_126353, LOC62, LOC63);
if (!(Result_126691 < ((NU8) 4))) goto LA65;
Result_126691 = ((NU8) 0);
LA65: ;
break;
case ((NU8) 4):
LOC68 = !(((*(*F_126354).Sons->data[0]).Kind == ((NU8) 12)));
if (!(LOC68)) goto LA69;
LOC68 = ((*(*A_126355).Sons->data[1]).Kind == ((NU8) 3));
LA69: ;
if (!LOC68) goto LA70;
Result_126691 = ((NU8) 3);
goto LA67;
LA70: ;
LOC72 = 0;
LOC72 = Base_96021(F_126354);
LOC73 = Typerel_126350(Mapping_126353, LOC72, (*A_126355).Sons->data[1]);
if (!(((NU8) 4) <= LOC73)) goto LA74;
Result_126691 = ((NU8) 3);
goto LA67;
LA74: ;
LA67: ;
break;
case ((NU8) 16):
LOC77 = !(((*(*F_126354).Sons->data[0]).Kind == ((NU8) 12)));
if (!(LOC77)) goto LA78;
LOC77 = ((*(*A_126355).Sons->data[1]).Kind == ((NU8) 3));
LA78: ;
if (!LOC77) goto LA79;
Result_126691 = ((NU8) 3);
goto LA76;
LA79: ;
LOC81 = 0;
LOC81 = Base_96021(F_126354);
LOC82 = Typerel_126350(Mapping_126353, LOC81, (*A_126355).Sons->data[1]);
if (!(((NU8) 4) <= LOC82)) goto LA83;
Result_126691 = ((NU8) 1);
goto LA76;
LA83: ;
LA76: ;
break;
case ((NU8) 24):
LOC86 = !(((*(*F_126354).Sons->data[0]).Kind == ((NU8) 12)));
if (!(LOC86)) goto LA87;
LOC86 = ((*(*A_126355).Sons->data[0]).Kind == ((NU8) 3));
LA87: ;
if (!LOC86) goto LA88;
Result_126691 = ((NU8) 1);
goto LA85;
LA88: ;
LOC90 = 0;
LOC90 = Base_96021(F_126354);
LOC91 = Typerel_126350(Mapping_126353, LOC90, (*A_126355).Sons->data[0]);
if (!(((NU8) 4) <= LOC91)) goto LA92;
Result_126691 = ((NU8) 1);
goto LA85;
LA92: ;
LA85: ;
break;
default:
break;
}
break;
case ((NU8) 24):
switch ((*A_126355).Kind) {
case ((NU8) 5):
Result_126691 = ((NU8) 3);
break;
case ((NU8) 24):
LOC95 = !(((*(*F_126354).Sons->data[0]).Kind == ((NU8) 12)));
if (!(LOC95)) goto LA96;
LOC95 = ((*(*A_126355).Sons->data[0]).Kind == ((NU8) 3));
LA96: ;
if (!LOC95) goto LA97;
Result_126691 = ((NU8) 3);
goto LA94;
LA97: ;
Result_126691 = Typerel_126350(Mapping_126353, (*F_126354).Sons->data[0], (*A_126355).Sons->data[0]);
if (!(Result_126691 < ((NU8) 4))) goto LA100;
Result_126691 = ((NU8) 0);
LA100: ;
LA94: ;
break;
default:
break;
}
break;
case ((NU8) 15):
LOC103 = Isordinaltype_96069(A_126355);
if (!LOC103) goto LA104;
if (!((*A_126355).Kind == ((NU8) 15))) goto LA107;
X_126692 = (*A_126355).Sons->data[0];
goto LA106;
LA107: ;
X_126692 = A_126355;
LA106: ;
Result_126691 = Typerel_126350(Mapping_126353, (*F_126354).Sons->data[0], X_126692);
if (!(Result_126691 < ((NU8) 4))) goto LA110;
Result_126691 = ((NU8) 0);
LA110: ;
LA104: ;
break;
case ((NU8) 30):
Internalerror_47571(((NimStringDesc*) &TMP197069));
break;
case ((NU8) 5):
if (!((*A_126355).Kind == (*F_126354).Kind)) goto LA113;
Result_126691 = ((NU8) 5);
LA113: ;
break;
case ((NU8) 18):
if (!((*A_126355).Kind == ((NU8) 18))) goto LA116;
Result_126691 = Tuplerel_126534(Mapping_126353, F_126354, A_126355);
LA116: ;
break;
case ((NU8) 17):
if (!((*A_126355).Kind == ((NU8) 17))) goto LA119;
if (!((*A_126355).Sup.Id == (*F_126354).Sup.Id)) goto LA122;
Result_126691 = ((NU8) 5);
goto LA121;
LA122: ;
LOC124 = Isobjectsubtype_126490(A_126355, F_126354);
if (!LOC124) goto LA125;
Result_126691 = ((NU8) 3);
goto LA121;
LA125: ;
LA121: ;
LA119: ;
break;
case ((NU8) 13):
LOC128 = ((*A_126355).Kind == ((NU8) 13));
if (!(LOC128)) goto LA129;
LOC128 = ((*A_126355).Sup.Id == (*F_126354).Sup.Id);
LA129: ;
if (!LOC128) goto LA130;
Result_126691 = ((NU8) 5);
LA130: ;
break;
case ((NU8) 19):
if (!((*A_126355).Kind == ((NU8) 19))) goto LA133;
LOC136 = !(((*(*F_126354).Sons->data[0]).Kind == ((NU8) 12)));
if (!(LOC136)) goto LA137;
LOC136 = ((*(*A_126355).Sons->data[0]).Kind == ((NU8) 3));
LA137: ;
if (!LOC136) goto LA138;
Result_126691 = ((NU8) 3);
goto LA135;
LA138: ;
Result_126691 = Typerel_126350(Mapping_126353, (*F_126354).Sons->data[0], (*A_126355).Sons->data[0]);
if (!(Result_126691 <= ((NU8) 1))) goto LA141;
Result_126691 = ((NU8) 0);
LA141: ;
LA135: ;
LA133: ;
break;
case ((NU8) 21):
switch ((*A_126355).Kind) {
case ((NU8) 21):
LOC143 = 0;
LOC143 = Base_96021(F_126354);
LOC144 = 0;
LOC144 = Base_96021(A_126355);
Result_126691 = Typerel_126350(Mapping_126353, LOC143, LOC144);
if (!(Result_126691 <= ((NU8) 1))) goto LA146;
Result_126691 = ((NU8) 0);
LA146: ;
break;
case ((NU8) 5):
Result_126691 = ((NU8) 3);
break;
default:
break;
}
break;
case ((NU8) 22):
switch ((*A_126355).Kind) {
case ((NU8) 22):
LOC148 = 0;
LOC148 = Base_96021(F_126354);
LOC149 = 0;
LOC149 = Base_96021(A_126355);
Result_126691 = Typerel_126350(Mapping_126353, LOC148, LOC149);
if (!(Result_126691 <= ((NU8) 1))) goto LA151;
Result_126691 = ((NU8) 0);
LA151: ;
break;
case ((NU8) 5):
Result_126691 = ((NU8) 3);
break;
default:
break;
}
break;
case ((NU8) 25):
switch ((*A_126355).Kind) {
case ((NU8) 5):
Result_126691 = ((NU8) 3);
break;
case ((NU8) 25):
LOC155 = Sonslen_55806(F_126354);
LOC156 = Sonslen_55806(A_126355);
LOC154 = (LOC155 == LOC156);
if (!(LOC154)) goto LA157;
LOC154 = ((*F_126354).Callconv == (*A_126355).Callconv);
LA157: ;
if (!LOC154) goto LA158;
Result_126691 = ((NU8) 5);
I_127114 = 0;
HEX3Atmp_128874 = 0;
LOC160 = Sonslen_55806(F_126354);
HEX3Atmp_128874 = (NI32)(LOC160 - 1);
Res_128876 = 0;
Res_128876 = 1;
while (1) {
if (!(Res_128876 <= HEX3Atmp_128874)) goto LA161;
I_127114 = Res_128876;
M_126694 = Typerel_126350(Mapping_126353, (*F_126354).Sons->data[I_127114], (*A_126355).Sons->data[I_127114]);
LOC163 = (M_126694 == ((NU8) 0));
if (!(LOC163)) goto LA164;
LOC165 = Typerel_126350(Mapping_126353, (*A_126355).Sons->data[I_127114], (*F_126354).Sons->data[I_127114]);
LOC163 = (LOC165 == ((NU8) 3));
LA164: ;
if (!LOC163) goto LA166;
Result_126691 = ((NU8) 1);
goto LA162;
LA166: ;
if (!(M_126694 < ((NU8) 3))) goto LA168;
Result_126691 = ((NU8) 0);
goto BeforeRet;
goto LA162;
LA168: ;
Result_126691 = Minrel_126520(M_126694, Result_126691);
LA162: ;
Res_128876 += 1;
} LA161: ;
if (!!(((*F_126354).Sons->data[0] == NIM_NIL))) goto LA171;
if (!!(((*A_126355).Sons->data[0] == NIM_NIL))) goto LA174;
M_126694 = Typerel_126350(Mapping_126353, (*F_126354).Sons->data[0], (*A_126355).Sons->data[0]);
if (!(M_126694 < ((NU8) 3))) goto LA177;
Result_126691 = ((NU8) 0);
goto LA176;
LA177: ;
if (!(M_126694 == ((NU8) 3))) goto LA179;
Result_126691 = ((NU8) 1);
goto LA176;
LA179: ;
Result_126691 = Minrel_126520(M_126694, Result_126691);
LA176: ;
goto LA173;
LA174: ;
Result_126691 = ((NU8) 0);
LA173: ;
goto LA170;
LA171: ;
if (!!(((*A_126355).Sons->data[0] == NIM_NIL))) goto LA181;
Result_126691 = ((NU8) 0);
goto LA170;
LA181: ;
LA170: ;
LOC184 = (((*F_126354).Flags &(1<<((((NU8) 1))&7)))!=0);
if (!(LOC184)) goto LA185;
LOC184 = !((((*A_126355).Flags &(1<<((((NU8) 1))&7)))!=0));
LA185: ;
if (!LOC184) goto LA186;
Result_126691 = ((NU8) 0);
LA186: ;
LA158: ;
break;
default:
break;
}
break;
case ((NU8) 26):
switch ((*A_126355).Kind) {
case ((NU8) 26):
Result_126691 = ((NU8) 5);
break;
case ((NU8) 5):
Result_126691 = ((NU8) 3);
break;
case ((NU8) 21):
case ((NU8) 25):
case ((NU8) 29):
Result_126691 = ((NU8) 1);
break;
default:
break;
}
break;
case ((NU8) 28):
switch ((*A_126355).Kind) {
case ((NU8) 28):
Result_126691 = ((NU8) 5);
break;
case ((NU8) 5):
Result_126691 = ((NU8) 3);
break;
default:
break;
}
break;
case ((NU8) 29):
switch ((*A_126355).Kind) {
case ((NU8) 29):
Result_126691 = ((NU8) 5);
break;
case ((NU8) 5):
Result_126691 = ((NU8) 3);
break;
case ((NU8) 28):
Result_126691 = ((NU8) 1);
break;
case ((NU8) 21):
if (!((*(*A_126355).Sons->data[0]).Kind == ((NU8) 2))) goto LA189;
Result_126691 = ((NU8) 1);
LA189: ;
break;
case ((NU8) 16):
LOC194 = Firstord_96001((*A_126355).Sons->data[0]);
LOC193 = (LOC194 == 0);
if (!(LOC193)) goto LA195;
LOC196 = 0;
LOC196 = Skiptypes_96085((*A_126355).Sons->data[0], 1048576);
LOC193 = ((*LOC196).Kind >= ((NU8) 31) && (*LOC196).Kind <= ((NU8) 35));
LA195: ;
LOC192 = LOC193;
if (!(LOC192)) goto LA197;
LOC192 = ((*(*A_126355).Sons->data[1]).Kind == ((NU8) 2));
LA197: ;
if (!LOC192) goto LA198;
Result_126691 = ((NU8) 1);
LA198: ;
break;
default:
break;
}
break;
case ((NU8) 3):
if (!((*A_126355).Kind == ((NU8) 3))) goto LA201;
Result_126691 = ((NU8) 5);
LA201: ;
break;
case ((NU8) 11):
LOC203 = 0;
LOC203 = Lastson_55812(F_126354);
Result_126691 = Typerel_126350(Mapping_126353, LOC203, A_126355);
break;
case ((NU8) 10):
LOC204 = 0;
LOC204 = Lastson_55812(F_126354);
Result_126691 = Typerel_126350(Mapping_126353, LOC204, A_126355);
break;
case ((NU8) 9):
if (!((*A_126355).Kind == ((NU8) 9))) goto LA206;
Internalerror_47571(((NimStringDesc*) &TMP197071));
LA206: ;
if (!((*A_126355).Kind == ((NU8) 11))) goto LA209;
LOC212 = ((*(*F_126354).Sons->data[0]).Containerid == (*(*A_126355).Sons->data[0]).Containerid);
if (!(LOC212)) goto LA213;
LOC214 = Sonslen_55806(A_126355);
LOC215 = Sonslen_55806(F_126354);
LOC212 = ((NI32)(LOC214 - 1) == LOC215);
LA213: ;
if (!LOC212) goto LA216;
I_127304 = 0;
HEX3Atmp_128880 = 0;
LOC218 = Sonslen_55806(F_126354);
HEX3Atmp_128880 = (NI32)(LOC218 - 1);
Res_128882 = 0;
Res_128882 = 1;
while (1) {
if (!(Res_128882 <= HEX3Atmp_128880)) goto LA219;
I_127304 = Res_128882;
if (!((*(*A_126355).Sons->data[I_127304]).Kind == ((NU8) 12))) goto LA221;
Internalerror_47571(((NimStringDesc*) &TMP197072));
LA221: ;
LOC224 = Typerel_126350(Mapping_126353, (*F_126354).Sons->data[I_127304], (*A_126355).Sons->data[I_127304]);
if (!(LOC224 < ((NU8) 4))) goto LA225;
goto BeforeRet;
LA225: ;
Res_128882 += 1;
} LA219: ;
Result_126691 = ((NU8) 4);
LA216: ;
goto LA208;
LA209: ;
Result_126691 = Typerel_126350(Mapping_126353, (*F_126354).Sons->data[0], A_126355);
if (!!((Result_126691 == ((NU8) 0)))) goto LA228;
I_127339 = 0;
HEX3Atmp_128886 = 0;
LOC230 = Sonslen_55806(F_126354);
HEX3Atmp_128886 = (NI32)(LOC230 - 1);
Res_128888 = 0;
Res_128888 = 1;
while (1) {
if (!(Res_128888 <= HEX3Atmp_128886)) goto LA231;
I_127339 = Res_128888;
LOC232 = 0;
LOC232 = Idtableget_59166((*Mapping_126353), &(*(*F_126354).Sons->data[0]).Sons->data[(NI32)(I_127339 - 1)]->Sup);
X_126692 = ((TY55551*) (LOC232));
LOC234 = (X_126692 == NIM_NIL);
if (LOC234) goto LA235;
LOC234 = ((*X_126692).Kind == ((NU8) 12));
LA235: ;
if (!LOC234) goto LA236;
Internalerror_47571(((NimStringDesc*) &TMP197072));
LA236: ;
Idtableput_59174(Mapping_126353, &(*F_126354).Sons->data[I_127339]->Sup, &X_126692->Sup.Sup);
Res_128888 += 1;
} LA231: ;
LA228: ;
LA208: ;
break;
case ((NU8) 12):
LOC238 = 0;
LOC238 = Idtableget_59166((*Mapping_126353), &F_126354->Sup);
X_126692 = ((TY55551*) (LOC238));
if (!(X_126692 == NIM_NIL)) goto LA240;
LOC243 = Sonslen_55806(F_126354);
if (!(LOC243 == 0)) goto LA244;
Concrete_126693 = Concretetype_126356((*Mapping_126353), A_126355);
if (!!((Concrete_126693 == NIM_NIL))) goto LA247;
Idtableput_59174(Mapping_126353, &F_126354->Sup, &Concrete_126693->Sup.Sup);
Result_126691 = ((NU8) 4);
LA247: ;
goto LA242;
LA244: ;
LOC249 = 0;
LOC249 = rawNewString((*(*(*F_126354).Sym).Name).S->Sup.len + 17);
appendString(LOC249, ((NimStringDesc*) &TMP197074));
appendString(LOC249, (*(*(*F_126354).Sym).Name).S);
Internalerror_47567((*(*F_126354).Sym).Info, LOC249);
I_127399 = 0;
HEX3Atmp_128892 = 0;
LOC250 = Sonslen_55806(F_126354);
HEX3Atmp_128892 = (NI32)(LOC250 - 1);
Res_128894 = 0;
Res_128894 = 0;
while (1) {
if (!(Res_128894 <= HEX3Atmp_128892)) goto LA251;
I_127399 = Res_128894;
LOC253 = Typerel_126350(Mapping_126353, (*F_126354).Sons->data[I_127399], A_126355);
if (!(((NU8) 3) <= LOC253)) goto LA254;
Concrete_126693 = Concretetype_126356((*Mapping_126353), A_126355);
if (!!((Concrete_126693 == NIM_NIL))) goto LA257;
Idtableput_59174(Mapping_126353, &F_126354->Sup, &Concrete_126693->Sup.Sup);
Result_126691 = ((NU8) 4);
LA257: ;
goto LA251;
LA254: ;
Res_128894 += 1;
} LA251: ;
LA242: ;
goto LA239;
LA240: ;
if (!((*A_126355).Kind == ((NU8) 3))) goto LA259;
Result_126691 = ((NU8) 4);
goto LA239;
LA259: ;
if (!((*X_126692).Kind == ((NU8) 12))) goto LA261;
Result_126691 = ((NU8) 4);
goto LA239;
LA261: ;
Result_126691 = Typerel_126350(Mapping_126353, X_126692, A_126355);
LA239: ;
break;
case ((NU8) 6):
case ((NU8) 7):
case ((NU8) 8):
if (!((*A_126355).Kind == (*F_126354).Kind)) goto LA264;
Result_126691 = ((NU8) 5);
goto LA263;
LA264: ;
switch ((*A_126355).Kind) {
case ((NU8) 6):
case ((NU8) 7):
case ((NU8) 8):
Result_126691 = ((NU8) 4);
break;
case ((NU8) 5):
Result_126691 = ((NU8) 3);
break;
default:
break;
}
LA263: ;
break;
default:
LOC266 = 0;
LOC266 = rawNewString(reprEnum((*F_126354).Kind, NTI55162)->Sup.len + 9);
appendString(LOC266, ((NimStringDesc*) &TMP197075));
appendString(LOC266, reprEnum((*F_126354).Kind, NTI55162));
appendChar(LOC266, 41);
Internalerror_47571(LOC266);
break;
}
BeforeRet: ;
return Result_126691;
}
N_NIMCALL(NIM_BOOL, Containsgenerictypeiter_125207)(TY55551* T_125209, TNimObject* Closure_125210) {
NIM_BOOL Result_125211;
Result_125211 = 0;
Result_125211 = ((*T_125209).Kind == ((NU8) 9) || (*T_125209).Kind == ((NU8) 10) || (*T_125209).Kind == ((NU8) 12));
return Result_125211;
}
N_NIMCALL(NIM_BOOL, Containsgenerictype_125223)(TY55551* T_125225) {
NIM_BOOL Result_125226;
Result_125226 = 0;
Result_125226 = Iterovertype_96038(T_125225, Containsgenerictypeiter_125207, NIM_NIL);
return Result_125226;
}
N_NIMCALL(TY55551*, Lookuptypevar_125862)(TY125712* Cl_125864, TY55551* T_125865) {
TY55551* Result_125866;
TNimObject* LOC1;
NimStringDesc* LOC5;
Result_125866 = 0;
LOC1 = 0;
LOC1 = Idtableget_59166((*Cl_125864).Typemap, &T_125865->Sup);
Result_125866 = ((TY55551*) (LOC1));
if (!(Result_125866 == NIM_NIL)) goto LA3;
LOC5 = 0;
LOC5 = Typetostring_96014(T_125865, ((NU8) 0));
Limessage_47562((*(*T_125865).Sym).Info, ((NU8) 122), LOC5);
goto LA2;
LA3: ;
if (!((*Result_125866).Kind == ((NU8) 12))) goto LA6;
Internalerror_47567((*Cl_125864).Info, ((NimStringDesc*) &TMP197076));
goto LA2;
LA6: ;
LA2: ;
return Result_125866;
}
N_NIMCALL(TY55551*, Searchinsttypes_125158)(TY55563 Tab_125160, TY55551* Key_125161) {
TY55551* Result_125162;
TNimObject* LOC1;
NIM_BOOL LOC3;
NI H_125183;
NI HEX3Atmp_128795;
NI Res_128797;
TY55551* T_125184;
NIM_BOOL Match_125198;
NI J_125206;
NI HEX3Atmp_128789;
NI LOC14;
NI Res_128791;
NIM_BOOL LOC17;
Result_125162 = 0;
LOC1 = 0;
LOC1 = Idtableget_59166(Tab_125160, &Key_125161->Sup);
Result_125162 = ((TY55551*) (LOC1));
LOC3 = (Result_125162 == NIM_NIL);
if (!(LOC3)) goto LA4;
LOC3 = (0 < Tab_125160.Counter);
LA4: ;
if (!LOC3) goto LA5;
H_125183 = 0;
HEX3Atmp_128795 = 0;
HEX3Atmp_128795 = (Tab_125160.Data->Sup.len-1);
Res_128797 = 0;
Res_128797 = 0;
while (1) {
if (!(Res_128797 <= HEX3Atmp_128795)) goto LA7;
H_125183 = Res_128797;
T_125184 = 0;
T_125184 = ((TY55551*) (Tab_125160.Data->data[H_125183].Key));
if (!!((T_125184 == NIM_NIL))) goto LA9;
if (!((*Key_125161).Containerid == (*T_125184).Containerid)) goto LA12;
Match_125198 = 0;
Match_125198 = NIM_TRUE;
J_125206 = 0;
HEX3Atmp_128789 = 0;
LOC14 = Sonslen_55806(T_125184);
HEX3Atmp_128789 = (NI32)(LOC14 - 1);
Res_128791 = 0;
Res_128791 = 0;
while (1) {
if (!(Res_128791 <= HEX3Atmp_128789)) goto LA15;
J_125206 = Res_128791;
LOC17 = Sametype_96048((*T_125184).Sons->data[J_125206], (*Key_125161).Sons->data[J_125206]);
if (!!(LOC17)) goto LA18;
Match_125198 = NIM_FALSE;
goto LA15;
LA18: ;
Res_128791 += 1;
} LA15: ;
if (!Match_125198) goto LA21;
Result_125162 = ((TY55551*) (Tab_125160.Data->data[H_125183].Val));
goto BeforeRet;
LA21: ;
LA12: ;
LA9: ;
Res_128797 += 1;
} LA7: ;
LA5: ;
BeforeRet: ;
return Result_125162;
}
N_NIMCALL(TY55547*, Replacetypevarss_125722)(TY125712* Cl_125725, TY55547* S_125726) {
TY55547* Result_125826;
TNimObject* LOC4;
Result_125826 = 0;
if (!(S_125726 == NIM_NIL)) goto LA2;
Result_125826 = NIM_NIL;
goto BeforeRet;
LA2: ;
LOC4 = 0;
LOC4 = Idtableget_59166((*Cl_125725).Symmap, &S_125726->Sup);
Result_125826 = ((TY55547*) (LOC4));
if (!(Result_125826 == NIM_NIL)) goto LA6;
Result_125826 = Copysym_55775(S_125726, NIM_FALSE);
(*Result_125826).Flags |=(1<<((NI32)(((NU8) 4))%(sizeof(NI32)*8)));
Idtableput_59174(&(*Cl_125725).Symmap, &S_125726->Sup, &Result_125826->Sup.Sup);
asgnRef((void**) &(*Result_125826).Typ, Replacetypevarst_125717(Cl_125725, (*S_125726).Typ));
asgnRef((void**) &(*Result_125826).Owner, (*S_125726).Owner);
asgnRefNoCycle((void**) &(*Result_125826).Ast, Replacetypevarsn_125727(Cl_125725, (*S_125726).Ast));
LA6: ;
BeforeRet: ;
return Result_125826;
}
N_NIMCALL(TY55525*, Replacetypevarsn_125727)(TY125712* Cl_125730, TY55525* N_125731) {
TY55525* Result_125732;
NI Length_125786;
NI I_125796;
NI HEX3Atmp_128817;
NI Res_128819;
Result_125732 = 0;
if (!!((N_125731 == NIM_NIL))) goto LA2;
Result_125732 = Copynode_55855(N_125731);
asgnRef((void**) &(*Result_125732).Typ, Replacetypevarst_125717(Cl_125730, (*N_125731).Typ));
switch ((*N_125731).Kind) {
case ((NU8) 0) ... ((NU8) 2):
case ((NU8) 4) ... ((NU8) 18):
break;
case ((NU8) 3):
asgnRef((void**) &(*Result_125732).KindU.S4.Sym, Replacetypevarss_125722(Cl_125730, (*N_125731).KindU.S4.Sym));
break;
default:
Length_125786 = 0;
Length_125786 = Sonslen_55803(N_125731);
if (!(0 < Length_125786)) goto LA5;
Newsons_55815(Result_125732, Length_125786);
I_125796 = 0;
HEX3Atmp_128817 = 0;
HEX3Atmp_128817 = (NI32)(Length_125786 - 1);
Res_128819 = 0;
Res_128819 = 0;
while (1) {
if (!(Res_128819 <= HEX3Atmp_128817)) goto LA7;
I_125796 = Res_128819;
asgnRefNoCycle((void**) &(*Result_125732).KindU.S6.Sons->data[I_125796], Replacetypevarsn_125727(Cl_125730, (*N_125731).KindU.S6.Sons->data[I_125796]));
Res_128819 += 1;
} LA7: ;
LA5: ;
break;
}
LA2: ;
return Result_125732;
}
N_NIMCALL(void, Checkconstructedtype_125667)(TY47532 Info_125669, TY55551* T_125670) {
NIM_BOOL LOC2;
TY55551* LOC4;
NI64 LOC8;
NimStringDesc* LOC11;
NIM_BOOL LOC13;
LOC2 = (((*T_125670).Flags &(1<<((((NU8) 3))&7)))!=0);
if (!(LOC2)) goto LA3;
LOC4 = 0;
LOC4 = Skiptypes_96085(T_125670, 43008);
LOC2 = !(((*LOC4).Kind == ((NU8) 17)));
LA3: ;
if (!LOC2) goto LA5;
Limessage_47562(Info_125669, ((NU8) 158), ((NimStringDesc*) &TMP197079));
LA5: ;
LOC8 = Computesize_96110(T_125670);
if (!(LOC8 < 0)) goto LA9;
LOC11 = 0;
LOC11 = Typetostring_96014(T_125670, ((NU8) 0));
Limessage_47562(Info_125669, ((NU8) 121), LOC11);
LA9: ;
LOC13 = ((*T_125670).Kind == ((NU8) 23));
if (!(LOC13)) goto LA14;
LOC13 = ((*(*T_125670).Sons->data[0]).Kind == ((NU8) 23));
LA14: ;
if (!LOC13) goto LA15;
Limessage_47562(Info_125669, ((NU8) 190), ((NimStringDesc*) &TMP196936));
LA15: ;
}
N_NIMCALL(TY55551*, Replacetypevarst_125717)(TY125712* Cl_125720, TY55551* T_125721) {
TY55551* Result_125892;
TY55551* Body_125893;
TY55551* Newbody_125894;
TY55551* X_125895;
TY55551* Header_125896;
NI I_125924;
NI HEX3Atmp_128823;
NI LOC7;
NI Res_128825;
NI I_125975;
NI HEX3Atmp_128829;
NI LOC21;
NI Res_128831;
TY55551* LOC23;
TY55551* LOC24;
TY55551* LOC25;
NIM_BOOL LOC27;
NI I_125984;
NI HEX3Atmp_128835;
NI LOC30;
NI Res_128837;
NimStringDesc* LOC35;
Result_125892 = 0;
Body_125893 = 0;
Newbody_125894 = 0;
X_125895 = 0;
Header_125896 = 0;
Result_125892 = T_125721;
if (!(T_125721 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*T_125721).Kind) {
case ((NU8) 12):
Result_125892 = Lookuptypevar_125862(&(*Cl_125720), T_125721);
break;
case ((NU8) 9):
Body_125893 = (*T_125721).Sons->data[0];
if (!!(((*Body_125893).Kind == ((NU8) 10)))) goto LA5;
Internalerror_47567((*Cl_125720).Info, ((NimStringDesc*) &TMP197077));
LA5: ;
Header_125896 = NIM_NIL;
I_125924 = 0;
HEX3Atmp_128823 = 0;
LOC7 = Sonslen_55806(T_125721);
HEX3Atmp_128823 = (NI32)(LOC7 - 1);
Res_128825 = 0;
Res_128825 = 1;
while (1) {
if (!(Res_128825 <= HEX3Atmp_128823)) goto LA8;
I_125924 = Res_128825;
if (!((*(*T_125721).Sons->data[I_125924]).Kind == ((NU8) 12))) goto LA10;
X_125895 = Lookuptypevar_125862(&(*Cl_125720), (*T_125721).Sons->data[I_125924]);
if (!(Header_125896 == NIM_NIL)) goto LA13;
Header_125896 = Copytype_55770(T_125721, (*T_125721).Owner, NIM_FALSE);
LA13: ;
asgnRef((void**) &(*Header_125896).Sons->data[I_125924], X_125895);
goto LA9;
LA10: ;
X_125895 = (*T_125721).Sons->data[I_125924];
LA9: ;
Idtableput_59174(&(*Cl_125720).Typemap, &(*Body_125893).Sons->data[(NI32)(I_125924 - 1)]->Sup, &X_125895->Sup.Sup);
Res_128825 += 1;
} LA8: ;
if (!(Header_125896 == NIM_NIL)) goto LA16;
Header_125896 = T_125721;
LA16: ;
Result_125892 = Searchinsttypes_125158(Ginsttypes_106045, Header_125896);
if (!!((Result_125892 == NIM_NIL))) goto LA19;
goto BeforeRet;
LA19: ;
Result_125892 = Newtype_55706(((NU8) 11), (*(*T_125721).Sons->data[0]).Owner);
I_125975 = 0;
HEX3Atmp_128829 = 0;
LOC21 = Sonslen_55806(T_125721);
HEX3Atmp_128829 = (NI32)(LOC21 - 1);
Res_128831 = 0;
Res_128831 = 0;
while (1) {
if (!(Res_128831 <= HEX3Atmp_128829)) goto LA22;
I_125975 = Res_128831;
Addson_55827(Result_125892, (*Header_125896).Sons->data[I_125975]);
Res_128831 += 1;
} LA22: ;
Idtableput_59174(&Ginsttypes_106045, &Header_125896->Sup, &Result_125892->Sup.Sup);
LOC23 = 0;
LOC23 = Lastson_55812(Body_125893);
Newbody_125894 = Replacetypevarst_125717(Cl_125720, LOC23);
LOC24 = 0;
LOC24 = Lastson_55812(Body_125893);
asgnRefNoCycle((void**) &(*Newbody_125894).N, Replacetypevarsn_125727(Cl_125720, (*LOC24).N));
Addson_55827(Result_125892, Newbody_125894);
Checkconstructedtype_125667((*Cl_125720).Info, Newbody_125894);
break;
case ((NU8) 10):
Internalerror_47567((*Cl_125720).Info, ((NimStringDesc*) &TMP197080));
LOC25 = 0;
LOC25 = Lastson_55812(T_125721);
Result_125892 = Replacetypevarst_125717(Cl_125720, LOC25);
break;
default:
LOC27 = Containsgenerictype_125223(T_125721);
if (!LOC27) goto LA28;
Result_125892 = Copytype_55770(T_125721, (*T_125721).Owner, NIM_FALSE);
I_125984 = 0;
HEX3Atmp_128835 = 0;
LOC30 = Sonslen_55806(Result_125892);
HEX3Atmp_128835 = (NI32)(LOC30 - 1);
Res_128837 = 0;
Res_128837 = 0;
while (1) {
if (!(Res_128837 <= HEX3Atmp_128835)) goto LA31;
I_125984 = Res_128837;
asgnRef((void**) &(*Result_125892).Sons->data[I_125984], Replacetypevarst_125717(Cl_125720, (*Result_125892).Sons->data[I_125984]));
Res_128837 += 1;
} LA31: ;
asgnRefNoCycle((void**) &(*Result_125892).N, Replacetypevarsn_125727(Cl_125720, (*Result_125892).N));
if (!((*Result_125892).Kind == ((NU8) 9) || (*Result_125892).Kind == ((NU8) 10) || (*Result_125892).Kind == ((NU8) 12))) goto LA33;
LOC35 = 0;
LOC35 = Typetostring_96014(T_125721, ((NU8) 0));
Limessage_47562((*Cl_125720).Info, ((NU8) 122), LOC35);
LA33: ;
LA28: ;
break;
}
BeforeRet: ;
return Result_125892;
}
N_NIMCALL(TY55551*, Generatetypeinstance_126006)(TY106012* P_126008, TY55563 Pt_126009, TY55525* Arg_126010, TY55551* T_126011) {
TY55551* Result_126012;
TY125712 Cl_126013;
Result_126012 = 0;
memset((void*)&Cl_126013, 0, sizeof(Cl_126013));
Initidtable_55754(&Cl_126013.Symmap);
Copyidtable_55798(&Cl_126013.Typemap, Pt_126009);
Cl_126013.Info = (*Arg_126010).Info;
Cl_126013.C = P_126008;
Pushinfocontext_47606((*Arg_126010).Info);
Result_126012 = Replacetypevarst_125717(&Cl_126013, T_126011);
Popinfocontext_47609();
return Result_126012;
}
N_NIMCALL(TY55551*, Getinstantiatedtype_127475)(TY106012* C_127477, TY55525* Arg_127478, TY126058* M_127479, TY55551* F_127480) {
TY55551* Result_127481;
TNimObject* LOC1;
Result_127481 = 0;
LOC1 = 0;
LOC1 = Idtableget_59166((*M_127479).Bindings, &F_127480->Sup);
Result_127481 = ((TY55551*) (LOC1));
if (!(Result_127481 == NIM_NIL)) goto LA3;
Result_127481 = Generatetypeinstance_126006(C_127477, (*M_127479).Bindings, Arg_127478, F_127480);
LA3: ;
if (!(Result_127481 == NIM_NIL)) goto LA6;
Internalerror_47567((*Arg_127478).Info, ((NimStringDesc*) &TMP197081));
LA6: ;
return Result_127481;
}
N_NIMCALL(TY55525*, Implicitconv_127504)(NU8 Kind_127506, TY55551* F_127507, TY55525* Arg_127508, TY126058* M_127509, TY106012* C_127510) {
TY55525* Result_127511;
NIM_BOOL LOC2;
Result_127511 = 0;
Result_127511 = Newnodei_55737(Kind_127506, (*Arg_127508).Info);
LOC2 = Containsgenerictype_125223(F_127507);
if (!LOC2) goto LA3;
asgnRef((void**) &(*Result_127511).Typ, Getinstantiatedtype_127475(C_127510, Arg_127508, M_127509, F_127507));
goto LA1;
LA3: ;
asgnRef((void**) &(*Result_127511).Typ, F_127507);
LA1: ;
if (!((*Result_127511).Typ == NIM_NIL)) goto LA6;
Internalerror_47567((*Arg_127508).Info, ((NimStringDesc*) &TMP197082));
LA6: ;
Addson_55823(Result_127511, NIM_NIL);
Addson_55823(Result_127511, Arg_127508);
return Result_127511;
}
N_NIMCALL(TY55525*, Userconvmatch_127523)(TY106012* C_127525, TY126058* M_127527, TY55551* F_127528, TY55551* A_127529, TY55525* Arg_127530) {
TY55525* Result_127531;
NI I_127549;
NI HEX3Atmp_128898;
NI Res_128900;
TY55551* Src_127550;
TY55551* Dest_127551;
NIM_BOOL LOC3;
NU8 LOC4;
NU8 LOC6;
TY55525* S_127572;
TY55525* LOC9;
Result_127531 = 0;
Result_127531 = NIM_NIL;
I_127549 = 0;
HEX3Atmp_128898 = 0;
HEX3Atmp_128898 = (NI32)((*C_127525).Converters->Sup.len - 1);
Res_128900 = 0;
Res_128900 = 0;
while (1) {
if (!(Res_128900 <= HEX3Atmp_128898)) goto LA1;
I_127549 = Res_128900;
Src_127550 = 0;
Src_127550 = (*(*(*C_127525).Converters->data[I_127549]).Typ).Sons->data[1];
Dest_127551 = 0;
Dest_127551 = (*(*(*C_127525).Converters->data[I_127549]).Typ).Sons->data[0];
LOC4 = Typerel_126350(&(*M_127527).Bindings, F_127528, Dest_127551);
LOC3 = (LOC4 == ((NU8) 5));
if (!(LOC3)) goto LA5;
LOC6 = Typerel_126350(&(*M_127527).Bindings, Src_127550, A_127529);
LOC3 = (LOC6 == ((NU8) 5));
LA5: ;
if (!LOC3) goto LA7;
S_127572 = 0;
S_127572 = Newsymnode_55734((*C_127525).Converters->data[I_127549]);
asgnRef((void**) &(*S_127572).Typ, (*(*C_127525).Converters->data[I_127549]).Typ);
(*S_127572).Info = (*Arg_127530).Info;
Result_127531 = Newnodeit_55741(((NU8) 49), (*Arg_127530).Info, (*(*S_127572).Typ).Sons->data[0]);
Addson_55823(Result_127531, S_127572);
LOC9 = 0;
LOC9 = Copytree_55858(Arg_127530);
Addson_55823(Result_127531, LOC9);
(*M_127527).Convmatches += 1;
goto BeforeRet;
LA7: ;
Res_128900 += 1;
} LA1: ;
BeforeRet: ;
return Result_127531;
}
N_NIMCALL(TY55525*, Paramtypesmatchaux_127585)(TY106012* C_127587, TY126058* M_127589, TY55551* F_127590, TY55551* A_127591, TY55525* Arg_127592) {
TY55525* Result_127593;
NU8 R_127595;
TY55525* LOC1;
TY55525* LOC2;
TY55525* LOC3;
TY55551* LOC5;
TY55525* LOC8;
TY55551* LOC10;
TY55525* LOC13;
NIM_BOOL LOC15;
TY55551* LOC19;
TY55551* LOC26;
TY55551* LOC27;
Result_127593 = 0;
R_127595 = 0;
R_127595 = Typerel_126350(&(*M_127589).Bindings, F_127590, A_127591);
switch (R_127595) {
case ((NU8) 1):
(*M_127589).Convmatches += 1;
LOC1 = 0;
LOC1 = Copytree_55858(Arg_127592);
Result_127593 = Implicitconv_127504(((NU8) 47), F_127590, LOC1, &(*M_127589), C_127587);
break;
case ((NU8) 2):
(*M_127589).Intconvmatches += 1;
LOC2 = 0;
LOC2 = Copytree_55858(Arg_127592);
Result_127593 = Implicitconv_127504(((NU8) 47), F_127590, LOC2, &(*M_127589), C_127587);
break;
case ((NU8) 3):
(*M_127589).Subtypematches += 1;
LOC3 = 0;
LOC3 = Copytree_55858(Arg_127592);
Result_127593 = Implicitconv_127504(((NU8) 48), F_127590, LOC3, &(*M_127589), C_127587);
break;
case ((NU8) 4):
(*M_127589).Genericmatches += 1;
Result_127593 = Copytree_55858(Arg_127592);
asgnRef((void**) &(*Result_127593).Typ, Getinstantiatedtype_127475(C_127587, Arg_127592, &(*M_127589), F_127590));
LOC5 = 0;
LOC5 = Skiptypes_96085((*Result_127593).Typ, 8431616);
if (!((*LOC5).Kind == ((NU8) 18) || (*LOC5).Kind == ((NU8) 27))) goto LA6;
LOC8 = 0;
LOC8 = Copytree_55858(Arg_127592);
Result_127593 = Implicitconv_127504(((NU8) 47), F_127590, LOC8, &(*M_127589), C_127587);
LA6: ;
break;
case ((NU8) 5):
(*M_127589).Exactmatches += 1;
Result_127593 = Copytree_55858(Arg_127592);
LOC10 = 0;
LOC10 = Skiptypes_96085(F_127590, 8431616);
if (!((*LOC10).Kind == ((NU8) 18) || (*LOC10).Kind == ((NU8) 27))) goto LA11;
LOC13 = 0;
LOC13 = Copytree_55858(Arg_127592);
Result_127593 = Implicitconv_127504(((NU8) 47), F_127590, LOC13, &(*M_127589), C_127587);
LA11: ;
break;
case ((NU8) 0):
Result_127593 = Userconvmatch_127523(C_127587, M_127589, F_127590, A_127591, Arg_127592);
LOC15 = (Result_127593 == NIM_NIL);
if (!(LOC15)) goto LA16;
LOC15 = ((*F_127590).Kind == ((NU8) 27));
LA16: ;
if (!LOC15) goto LA17;
LOC19 = 0;
LOC19 = Base_96021(F_127590);
R_127595 = Typerel_126350(&(*M_127589).Bindings, LOC19, A_127591);
if (!(((NU8) 4) <= R_127595)) goto LA21;
(*M_127589).Convmatches += 1;
Result_127593 = Copytree_55858(Arg_127592);
if (!(R_127595 == ((NU8) 4))) goto LA24;
LOC26 = 0;
LOC26 = Base_96021(F_127590);
asgnRef((void**) &(*Result_127593).Typ, Getinstantiatedtype_127475(C_127587, Arg_127592, &(*M_127589), LOC26));
LA24: ;
(*M_127589).Basetypematch = NIM_TRUE;
goto LA20;
LA21: ;
LOC27 = 0;
LOC27 = Base_96021(F_127590);
Result_127593 = Userconvmatch_127523(C_127587, M_127589, LOC27, A_127591, Arg_127592);
LA20: ;
LA17: ;
break;
}
return Result_127593;
}
N_NIMCALL(void, Initcandidate_126086)(TY126058* C_126089, TY55551* Callee_126090) {
Initcandidateaux_126081(C_126089, Callee_126090);
unsureAsgnRef((void**) &(*C_126089).Calleesym, NIM_NIL);
Initidtable_55754(&(*C_126089).Bindings);
}
N_NIMCALL(void, Copycandidate_126135)(TY126058* A_126138, TY126058* B_126139) {
(*A_126138).Exactmatches = (*B_126139).Exactmatches;
(*A_126138).Subtypematches = (*B_126139).Subtypematches;
(*A_126138).Convmatches = (*B_126139).Convmatches;
(*A_126138).Intconvmatches = (*B_126139).Intconvmatches;
(*A_126138).Genericmatches = (*B_126139).Genericmatches;
(*A_126138).State = (*B_126139).State;
unsureAsgnRef((void**) &(*A_126138).Callee, (*B_126139).Callee);
unsureAsgnRef((void**) &(*A_126138).Calleesym, (*B_126139).Calleesym);
unsureAsgnRef((void**) &(*A_126138).Call, Copytree_55858((*B_126139).Call));
(*A_126138).Basetypematch = (*B_126139).Basetypematch;
Copyidtable_55798(&(*A_126138).Bindings, (*B_126139).Bindings);
}
N_NIMCALL(NI, Cmpcandidates_126141)(TY126058* A_126143, TY126058* B_126144) {
NI Result_126145;
Result_126145 = 0;
Result_126145 = (NI32)((*A_126143).Exactmatches - (*B_126144).Exactmatches);
if (!!((Result_126145 == 0))) goto LA2;
goto BeforeRet;
LA2: ;
Result_126145 = (NI32)((*A_126143).Genericmatches - (*B_126144).Genericmatches);
if (!!((Result_126145 == 0))) goto LA5;
goto BeforeRet;
LA5: ;
Result_126145 = (NI32)((*A_126143).Subtypematches - (*B_126144).Subtypematches);
if (!!((Result_126145 == 0))) goto LA8;
goto BeforeRet;
LA8: ;
Result_126145 = (NI32)((*A_126143).Intconvmatches - (*B_126144).Intconvmatches);
if (!!((Result_126145 == 0))) goto LA11;
goto BeforeRet;
LA11: ;
Result_126145 = (NI32)((*A_126143).Convmatches - (*B_126144).Convmatches);
BeforeRet: ;
return Result_126145;
}
N_NIMCALL(TY55525*, Paramtypesmatch_127731)(TY106012* C_127733, TY126058* M_127735, TY55551* F_127736, TY55551* A_127737, TY55525* Arg_127738) {
TY55525* Result_127739;
NIM_BOOL LOC2;
TY126058 X_127760;
TY126058 Y_127761;
TY126058 Z_127762;
NI Best_127766;
NI I_127774;
NI HEX3Atmp_128904;
NI LOC6;
NI Res_128906;
NU8 R_127825;
NI Cmp_127835;
NIM_BOOL LOC22;
NI LOC24;
Result_127739 = 0;
LOC2 = (Arg_127738 == NIM_NIL);
if (LOC2) goto LA3;
LOC2 = !(((*Arg_127738).Kind == ((NU8) 46)));
LA3: ;
if (!LOC2) goto LA4;
Result_127739 = Paramtypesmatchaux_127585(C_127733, M_127735, F_127736, A_127737, Arg_127738);
goto LA1;
LA4: ;
memset((void*)&X_127760, 0, sizeof(X_127760));
memset((void*)&Y_127761, 0, sizeof(Y_127761));
memset((void*)&Z_127762, 0, sizeof(Z_127762));
Initcandidate_126086(&X_127760, (*M_127735).Callee);
Initcandidate_126086(&Y_127761, (*M_127735).Callee);
Initcandidate_126086(&Z_127762, (*M_127735).Callee);
X_127760.Calleesym = (*M_127735).Calleesym;
Y_127761.Calleesym = (*M_127735).Calleesym;
Z_127762.Calleesym = (*M_127735).Calleesym;
Best_127766 = 0;
Best_127766 = -1;
I_127774 = 0;
HEX3Atmp_128904 = 0;
LOC6 = Sonslen_55803(Arg_127738);
HEX3Atmp_128904 = (NI32)(LOC6 - 1);
Res_128906 = 0;
Res_128906 = 0;
while (1) {
if (!(Res_128906 <= HEX3Atmp_128904)) goto LA7;
I_127774 = Res_128906;
if (!((5632 &(1<<(((*(*(*Arg_127738).KindU.S6.Sons->data[I_127774]).KindU.S4.Sym).Kind)&31)))!=0)) goto LA9;
Copycandidate_126135(&Z_127762, &(*M_127735));
R_127825 = 0;
R_127825 = Typerel_126350(&Z_127762.Bindings, F_127736, (*(*Arg_127738).KindU.S6.Sons->data[I_127774]).Typ);
if (!!((R_127825 == ((NU8) 0)))) goto LA12;
switch (X_127760.State) {
case ((NU8) 0):
case ((NU8) 2):
genericAssign((void*)&X_127760, (void*)&Z_127762, NTI126058);
Best_127766 = I_127774;
X_127760.State = ((NU8) 1);
break;
case ((NU8) 1):
Cmp_127835 = 0;
Cmp_127835 = Cmpcandidates_126141(&X_127760, &Z_127762);
if (!(Cmp_127835 < 0)) goto LA15;
Best_127766 = I_127774;
genericAssign((void*)&X_127760, (void*)&Z_127762, NTI126058);
goto LA14;
LA15: ;
if (!(Cmp_127835 == 0)) goto LA17;
genericAssign((void*)&Y_127761, (void*)&Z_127762, NTI126058);
goto LA14;
LA17: ;
LA14: ;
break;
}
LA12: ;
LA9: ;
Res_128906 += 1;
} LA7: ;
if (!(X_127760.State == ((NU8) 0))) goto LA20;
Result_127739 = NIM_NIL;
goto LA19;
LA20: ;
LOC22 = (Y_127761.State == ((NU8) 1));
if (!(LOC22)) goto LA23;
LOC24 = Cmpcandidates_126141(&X_127760, &Y_127761);
LOC22 = (LOC24 == 0);
LA23: ;
if (!LOC22) goto LA25;
if (!!((X_127760.State == ((NU8) 1)))) goto LA28;
Internalerror_47567((*Arg_127738).Info, ((NimStringDesc*) &TMP197087));
LA28: ;
Result_127739 = NIM_NIL;
goto LA19;
LA25: ;
Markused_124065(Arg_127738, (*(*Arg_127738).KindU.S6.Sons->data[Best_127766]).KindU.S4.Sym);
Result_127739 = Paramtypesmatchaux_127585(C_127733, M_127735, F_127736, (*(*Arg_127738).KindU.S6.Sons->data[Best_127766]).Typ, (*Arg_127738).KindU.S6.Sons->data[Best_127766]);
LA19: ;
LA1: ;
return Result_127739;
}
N_NIMCALL(void, Setson_127927)(TY55525* Father_127929, NI At_127930, TY55525* Son_127931) {
NI LOC2;
LOC2 = Sonslen_55803(Father_127929);
if (!(LOC2 <= At_127930)) goto LA3;
(*Father_127929).KindU.S6.Sons = (TY55519*) setLengthSeq(&((*Father_127929).KindU.S6.Sons)->Sup, sizeof(TY55525*), (NI32)(At_127930 + 1));
LA3: ;
asgnRefNoCycle((void**) &(*Father_127929).KindU.S6.Sons->data[At_127930], Son_127931);
}
N_NIMCALL(void, Matches_127970)(TY106012* C_127972, TY55525* N_127973, TY126058* M_127975) {
NI F_127976;
NI A_127977;
NI Formallen_127978;
TY55525* LOC1;
TY55900 Marker_127991;
TY55525* Container_127993;
TY55547* Formal_127994;
NI LOC3;
NIM_BOOL LOC14;
TY55525* Arg_128159;
TY55551* LOC33;
TY55551* LOC36;
TY55525* LOC37;
TY55525* LOC38;
TY55525* LOC39;
TY55525* Arg_128289;
NIM_BOOL LOC43;
NIM_BOOL LOC44;
NIM_BOOL LOC53;
TY55525* Arg_128406;
TY55525* LOC62;
NI LOC67;
NIM_BOOL LOC69;
TY55525* LOC78;
TY55525* LOC79;
F_127976 = 0;
F_127976 = 1;
A_127977 = 0;
A_127977 = 1;
(*M_127975).State = ((NU8) 1);
unsureAsgnRef((void**) &(*M_127975).Call, Newnodei_55737(((NU8) 21), (*N_127973).Info));
asgnRef((void**) &(*(*M_127975).Call).Typ, Base_96021((*M_127975).Callee));
Formallen_127978 = 0;
Formallen_127978 = Sonslen_55803((*(*M_127975).Callee).N);
LOC1 = 0;
LOC1 = Copytree_55858((*N_127973).KindU.S6.Sons->data[0]);
Addson_55823((*M_127975).Call, LOC1);
memset((void*)&Marker_127991, 0, sizeof(Marker_127991));
Intsetinit_55924(&Marker_127991);
Container_127993 = 0;
Container_127993 = NIM_NIL;
Formal_127994 = 0;
Formal_127994 = NIM_NIL;
while (1) {
LOC3 = Sonslen_55803(N_127973);
if (!(A_127977 < LOC3)) goto LA2;
if (!((*(*N_127973).KindU.S6.Sons->data[A_127977]).Kind == ((NU8) 23))) goto LA5;
if (!!(((*(*(*N_127973).KindU.S6.Sons->data[A_127977]).KindU.S6.Sons->data[0]).Kind == ((NU8) 2)))) goto LA8;
Limessage_47562((*(*N_127973).KindU.S6.Sons->data[A_127977]).Info, ((NU8) 155), ((NimStringDesc*) &TMP196936));
(*M_127975).State = ((NU8) 2);
goto BeforeRet;
LA8: ;
Formal_127994 = Getsymfromlist_59197((*(*M_127975).Callee).N, (*(*(*N_127973).KindU.S6.Sons->data[A_127977]).KindU.S6.Sons->data[0]).KindU.S5.Ident, 1);
if (!(Formal_127994 == NIM_NIL)) goto LA11;
(*M_127975).State = ((NU8) 2);
goto BeforeRet;
LA11: ;
LOC14 = Intsetcontainsorincl_55928(&Marker_127991, (*Formal_127994).Position);
if (!LOC14) goto LA15;
Limessage_47562((*(*N_127973).KindU.S6.Sons->data[A_127977]).Info, ((NU8) 140), (*(*Formal_127994).Name).S);
(*M_127975).State = ((NU8) 2);
goto BeforeRet;
LA15: ;
(*M_127975).Basetypematch = NIM_FALSE;
Arg_128159 = 0;
Arg_128159 = Paramtypesmatch_127731(C_127972, M_127975, (*Formal_127994).Typ, (*(*N_127973).KindU.S6.Sons->data[A_127977]).Typ, (*(*N_127973).KindU.S6.Sons->data[A_127977]).KindU.S6.Sons->data[1]);
if (!(Arg_128159 == NIM_NIL)) goto LA18;
(*M_127975).State = ((NU8) 2);
goto BeforeRet;
LA18: ;
if (!(*M_127975).Basetypematch) goto LA21;
Container_127993 = Newnodei_55737(((NU8) 32), (*(*N_127973).KindU.S6.Sons->data[A_127977]).Info);
Addson_55823(Container_127993, Arg_128159);
Setson_127927((*M_127975).Call, (NI32)((*Formal_127994).Position + 1), Container_127993);
if (!!((F_127976 == (NI32)(Formallen_127978 - 1)))) goto LA24;
Container_127993 = NIM_NIL;
LA24: ;
goto LA20;
LA21: ;
Setson_127927((*M_127975).Call, (NI32)((*Formal_127994).Position + 1), Arg_128159);
LA20: ;
goto LA4;
LA5: ;
if (!(Formallen_127978 <= F_127976)) goto LA27;
if (!(((*(*M_127975).Callee).Flags &(1<<((((NU8) 0))&7)))!=0)) goto LA30;
LOC33 = 0;
LOC33 = Skiptypes_96085((*(*N_127973).KindU.S6.Sons->data[A_127977]).Typ, 8431616);
if (!((*LOC33).Kind == ((NU8) 28))) goto LA34;
LOC36 = 0;
LOC36 = Getsystype_101008(((NU8) 29));
LOC37 = 0;
LOC37 = Copytree_55858((*N_127973).KindU.S6.Sons->data[A_127977]);
LOC38 = 0;
LOC38 = Implicitconv_127504(((NU8) 47), LOC36, LOC37, &(*M_127975), C_127972);
Addson_55823((*M_127975).Call, LOC38);
goto LA32;
LA34: ;
LOC39 = 0;
LOC39 = Copytree_55858((*N_127973).KindU.S6.Sons->data[A_127977]);
Addson_55823((*M_127975).Call, LOC39);
LA32: ;
goto LA29;
LA30: ;
if (!!((Formal_127994 == NIM_NIL))) goto LA40;
(*M_127975).Basetypematch = NIM_FALSE;
Arg_128289 = 0;
Arg_128289 = Paramtypesmatch_127731(C_127972, M_127975, (*Formal_127994).Typ, (*(*N_127973).KindU.S6.Sons->data[A_127977]).Typ, (*N_127973).KindU.S6.Sons->data[A_127977]);
LOC44 = !((Arg_128289 == NIM_NIL));
if (!(LOC44)) goto LA45;
LOC44 = (*M_127975).Basetypematch;
LA45: ;
LOC43 = LOC44;
if (!(LOC43)) goto LA46;
LOC43 = !((Container_127993 == NIM_NIL));
LA46: ;
if (!LOC43) goto LA47;
Addson_55823(Container_127993, Arg_128289);
goto LA42;
LA47: ;
(*M_127975).State = ((NU8) 2);
goto BeforeRet;
LA42: ;
goto LA29;
LA40: ;
(*M_127975).State = ((NU8) 2);
goto BeforeRet;
LA29: ;
goto LA26;
LA27: ;
if (!!(((*(*(*(*M_127975).Callee).N).KindU.S6.Sons->data[F_127976]).Kind == ((NU8) 3)))) goto LA50;
Internalerror_47567((*(*N_127973).KindU.S6.Sons->data[A_127977]).Info, ((NimStringDesc*) &TMP197088));
LA50: ;
Formal_127994 = (*(*(*(*M_127975).Callee).N).KindU.S6.Sons->data[F_127976]).KindU.S4.Sym;
LOC53 = Intsetcontainsorincl_55928(&Marker_127991, (*Formal_127994).Position);
if (!LOC53) goto LA54;
Limessage_47562((*(*N_127973).KindU.S6.Sons->data[A_127977]).Info, ((NU8) 140), (*(*Formal_127994).Name).S);
(*M_127975).State = ((NU8) 2);
goto BeforeRet;
LA54: ;
(*M_127975).Basetypematch = NIM_FALSE;
Arg_128406 = 0;
Arg_128406 = Paramtypesmatch_127731(C_127972, M_127975, (*Formal_127994).Typ, (*(*N_127973).KindU.S6.Sons->data[A_127977]).Typ, (*N_127973).KindU.S6.Sons->data[A_127977]);
if (!(Arg_128406 == NIM_NIL)) goto LA57;
(*M_127975).State = ((NU8) 2);
goto BeforeRet;
LA57: ;
if (!(*M_127975).Basetypematch) goto LA60;
Container_127993 = Newnodei_55737(((NU8) 32), (*(*N_127973).KindU.S6.Sons->data[A_127977]).Info);
Addson_55823(Container_127993, Arg_128406);
LOC62 = 0;
LOC62 = Implicitconv_127504(((NU8) 47), (*Formal_127994).Typ, Container_127993, &(*M_127975), C_127972);
Setson_127927((*M_127975).Call, (NI32)((*Formal_127994).Position + 1), LOC62);
if (!!((F_127976 == (NI32)(Formallen_127978 - 1)))) goto LA64;
Container_127993 = NIM_NIL;
LA64: ;
goto LA59;
LA60: ;
Setson_127927((*M_127975).Call, (NI32)((*Formal_127994).Position + 1), Arg_128406);
LA59: ;
LA26: ;
LA4: ;
A_127977 += 1;
F_127976 += 1;
} LA2: ;
F_127976 = 1;
while (1) {
LOC67 = Sonslen_55803((*(*M_127975).Callee).N);
if (!(F_127976 < LOC67)) goto LA66;
Formal_127994 = (*(*(*(*M_127975).Callee).N).KindU.S6.Sons->data[F_127976]).KindU.S4.Sym;
LOC69 = Intsetcontainsorincl_55928(&Marker_127991, (*Formal_127994).Position);
if (!!(LOC69)) goto LA70;
if (!((*Formal_127994).Ast == NIM_NIL)) goto LA73;
if (!((*(*Formal_127994).Typ).Kind == ((NU8) 27))) goto LA76;
Container_127993 = Newnodei_55737(((NU8) 32), (*N_127973).Info);
LOC78 = 0;
LOC78 = Implicitconv_127504(((NU8) 47), (*Formal_127994).Typ, Container_127993, &(*M_127975), C_127972);
Addson_55823((*M_127975).Call, LOC78);
goto LA75;
LA76: ;
(*M_127975).State = ((NU8) 2);
goto LA66;
LA75: ;
goto LA72;
LA73: ;
LOC79 = 0;
LOC79 = Copytree_55858((*Formal_127994).Ast);
Setson_127927((*M_127975).Call, (NI32)((*Formal_127994).Position + 1), LOC79);
LA72: ;
LA70: ;
F_127976 += 1;
} LA66: ;
BeforeRet: ;
}
N_NIMCALL(NIM_BOOL, Samemethoddispatcher_128526)(TY55547* A_128528, TY55547* B_128529) {
NIM_BOOL Result_128530;
NIM_BOOL LOC2;
TY55525* Aa_128549;
TY55525* Bb_128550;
NIM_BOOL LOC7;
NIM_BOOL LOC8;
Result_128530 = 0;
Result_128530 = NIM_FALSE;
LOC2 = ((*A_128528).Kind == ((NU8) 10));
if (!(LOC2)) goto LA3;
LOC2 = ((*B_128529).Kind == ((NU8) 10));
LA3: ;
if (!LOC2) goto LA4;
Aa_128549 = 0;
Aa_128549 = Lastson_55809((*A_128528).Ast);
Bb_128550 = 0;
Bb_128550 = Lastson_55809((*B_128529).Ast);
LOC8 = ((*Aa_128549).Kind == ((NU8) 3));
if (!(LOC8)) goto LA9;
LOC8 = ((*Bb_128550).Kind == ((NU8) 3));
LA9: ;
LOC7 = LOC8;
if (!(LOC7)) goto LA10;
LOC7 = ((*Aa_128549).KindU.S4.Sym == (*Bb_128550).KindU.S4.Sym);
LA10: ;
if (!LOC7) goto LA11;
Result_128530 = NIM_TRUE;
LA11: ;
LA4: ;
return Result_128530;
}
N_NIMCALL(void, Instantiategenericparamlist_125227)(TY106012* C_125229, TY55525* N_125230, TY55563 Pt_125231) {
NI I_125248;
NI HEX3Atmp_128805;
NI LOC4;
NI Res_128807;
TY55525* A_125261;
TY55547* Q_125283;
TY55547* S_125296;
TY55547* LOC13;
TY55551* T_125297;
TNimObject* LOC14;
NimStringDesc* LOC21;
if (!!(((*N_125230).Kind == ((NU8) 65)))) goto LA2;
Internalerror_47567((*N_125230).Info, ((NimStringDesc*) &TMP197093));
LA2: ;
I_125248 = 0;
HEX3Atmp_128805 = 0;
LOC4 = Sonslen_55803(N_125230);
HEX3Atmp_128805 = (NI32)(LOC4 - 1);
Res_128807 = 0;
Res_128807 = 0;
while (1) {
if (!(Res_128807 <= HEX3Atmp_128805)) goto LA5;
I_125248 = Res_128807;
A_125261 = 0;
A_125261 = (*N_125230).KindU.S6.Sons->data[I_125248];
if (!!(((*A_125261).Kind == ((NU8) 3)))) goto LA8;
Internalerror_47567((*A_125261).Info, ((NimStringDesc*) &TMP197094));
LA8: ;
Q_125283 = 0;
Q_125283 = (*A_125261).KindU.S4.Sym;
if (!!(((*(*Q_125283).Typ).Kind == ((NU8) 8) || (*(*Q_125283).Typ).Kind == ((NU8) 12)))) goto LA11;
goto LA6;
LA11: ;
S_125296 = 0;
LOC13 = 0;
LOC13 = Getcurrowner_106107();
S_125296 = Newsym_55701(((NU8) 6), (*Q_125283).Name, LOC13);
T_125297 = 0;
LOC14 = 0;
LOC14 = Idtableget_59166(Pt_125231, &(*Q_125283).Typ->Sup);
T_125297 = ((TY55551*) (LOC14));
if (!(T_125297 == NIM_NIL)) goto LA16;
Limessage_47562((*A_125261).Info, ((NU8) 122), (*(*S_125296).Name).S);
LA16: ;
if (!((*T_125297).Kind == ((NU8) 12))) goto LA19;
LOC21 = 0;
LOC21 = rawNewString((*(*Q_125283).Name).S->Sup.len + 29);
appendString(LOC21, ((NimStringDesc*) &TMP197095));
appendString(LOC21, (*(*Q_125283).Name).S);
Internalerror_47567((*A_125261).Info, LOC21);
LA19: ;
asgnRef((void**) &(*S_125296).Typ, T_125297);
Adddecl_107026(C_125229, S_125296);
LA6: ;
Res_128807 += 1;
} LA5: ;
}
N_NIMCALL(TY55551*, Neworprevtype_128986)(NU8 Kind_128988, TY55551* Prev_128989, TY106012* C_128990) {
TY55551* Result_128991;
Result_128991 = 0;
if (!(Prev_128989 == NIM_NIL)) goto LA2;
Result_128991 = Newtypes_106077(Kind_128988, C_128990);
goto LA1;
LA2: ;
Result_128991 = Prev_128989;
if (!((*Result_128991).Kind == ((NU8) 30))) goto LA5;
(*Result_128991).Kind = Kind_128988;
LA5: ;
LA1: ;
return Result_128991;
}
N_NIMCALL(TY55547*, Semtypeident_129724)(TY106012* C_129726, TY55525* N_129727) {
TY55547* Result_129728;
Result_129728 = 0;
Result_129728 = Qualifiedlookup_107053(C_129726, N_129727, NIM_TRUE);
if (!!((Result_129728 == NIM_NIL))) goto LA2;
Markused_124065(N_129727, Result_129728);
if (!!(((*Result_129728).Kind == ((NU8) 6)))) goto LA5;
Limessage_47562((*N_129727).Info, ((NU8) 60), ((NimStringDesc*) &TMP196936));
LA5: ;
goto LA1;
LA2: ;
Limessage_47562((*N_129727).Info, ((NU8) 19), ((NimStringDesc*) &TMP196936));
LA1: ;
return Result_129728;
}
N_NIMCALL(TY55551*, Semrangeaux_129421)(TY106012* C_129423, TY55525* N_129424, TY55551* Prev_129425) {
TY55551* Result_129426;
NIM_BOOL LOC5;
TY55525* A_129494;
TY55525* B_129507;
NIM_BOOL LOC10;
NIM_BOOL LOC17;
NIM_BOOL LOC21;
Result_129426 = 0;
if (!!(((*N_129424).Kind == ((NU8) 35)))) goto LA2;
Internalerror_47567((*N_129424).Info, ((NimStringDesc*) &TMP197096));
LA2: ;
Checksonslen_106099(N_129424, 2);
Result_129426 = Neworprevtype_128986(((NU8) 20), Prev_129425, C_129423);
asgnRefNoCycle((void**) &(*Result_129426).N, Newnodei_55737(((NU8) 35), (*N_129424).Info));
LOC5 = ((*N_129424).KindU.S6.Sons->data[0] == NIM_NIL);
if (LOC5) goto LA6;
LOC5 = ((*N_129424).KindU.S6.Sons->data[1] == NIM_NIL);
LA6: ;
if (!LOC5) goto LA7;
Limessage_47562((*N_129424).Info, ((NU8) 104), ((NimStringDesc*) &TMP196936));
LA7: ;
A_129494 = 0;
A_129494 = Semconstexpr_124171(C_129423, (*N_129424).KindU.S6.Sons->data[0]);
B_129507 = 0;
B_129507 = Semconstexpr_124171(C_129423, (*N_129424).KindU.S6.Sons->data[1]);
LOC10 = Sametype_96048((*A_129494).Typ, (*B_129507).Typ);
if (!!(LOC10)) goto LA11;
Limessage_47562((*N_129424).Info, ((NU8) 125), ((NimStringDesc*) &TMP196936));
LA11: ;
if (!!(((*(*A_129494).Typ).Kind >= ((NU8) 31) && (*(*A_129494).Typ).Kind <= ((NU8) 35) || (*(*A_129494).Typ).Kind == ((NU8) 14) || (*(*A_129494).Typ).Kind == ((NU8) 1) || (*(*A_129494).Typ).Kind == ((NU8) 2) || (*(*A_129494).Typ).Kind >= ((NU8) 36) && (*(*A_129494).Typ).Kind <= ((NU8) 39)))) goto LA14;
Limessage_47562((*N_129424).Info, ((NU8) 71), ((NimStringDesc*) &TMP196936));
LA14: ;
LOC17 = Enumhaswholes_96072((*A_129494).Typ);
if (!LOC17) goto LA18;
Limessage_47562((*N_129424).Info, ((NU8) 142), (*(*(*(*A_129494).Typ).Sym).Name).S);
LA18: ;
LOC21 = Levalue_55870(A_129494, B_129507);
if (!!(LOC21)) goto LA22;
Limessage_47562((*N_129424).Info, ((NU8) 104), ((NimStringDesc*) &TMP196936));
LA22: ;
Addson_55823((*Result_129426).N, A_129494);
Addson_55823((*Result_129426).N, B_129507);
Addson_55827(Result_129426, (*B_129507).Typ);
return Result_129426;
}
N_NIMCALL(TY55551*, Semarray_129573)(TY106012* C_129575, TY55525* N_129576, TY55551* Prev_129577) {
TY55551* Result_129578;
TY55551* Indx_129579;
TY55551* Base_129580;
NI LOC2;
NIM_BOOL LOC15;
NIM_BOOL LOC19;
Result_129578 = 0;
Indx_129579 = 0;
Base_129580 = 0;
Result_129578 = Neworprevtype_128986(((NU8) 16), Prev_129577, C_129575);
LOC2 = Sonslen_55803(N_129576);
if (!(LOC2 == 3)) goto LA3;
if (!((*(*N_129576).KindU.S6.Sons->data[1]).Kind == ((NU8) 35))) goto LA6;
Indx_129579 = Semrangeaux_129421(C_129575, (*N_129576).KindU.S6.Sons->data[1], NIM_NIL);
goto LA5;
LA6: ;
Indx_129579 = Semtypenode_124138(C_129575, (*N_129576).KindU.S6.Sons->data[1], NIM_NIL);
LA5: ;
Addson_55827(Result_129578, Indx_129579);
if (!((*Indx_129579).Kind == ((NU8) 11))) goto LA9;
Indx_129579 = Lastson_55812(Indx_129579);
LA9: ;
if (!!(((*Indx_129579).Kind == ((NU8) 12)))) goto LA12;
LOC15 = Isordinaltype_96069(Indx_129579);
if (!!(LOC15)) goto LA16;
Limessage_47562((*(*N_129576).KindU.S6.Sons->data[1]).Info, ((NU8) 71), ((NimStringDesc*) &TMP196936));
LA16: ;
LOC19 = Enumhaswholes_96072(Indx_129579);
if (!LOC19) goto LA20;
Limessage_47562((*(*N_129576).KindU.S6.Sons->data[1]).Info, ((NU8) 142), (*(*(*Indx_129579).Sym).Name).S);
LA20: ;
LA12: ;
Base_129580 = Semtypenode_124138(C_129575, (*N_129576).KindU.S6.Sons->data[2], NIM_NIL);
Addson_55827(Result_129578, Base_129580);
goto LA1;
LA3: ;
Limessage_47562((*N_129576).Info, ((NU8) 170), ((NimStringDesc*) &TMP196936));
LA1: ;
return Result_129578;
}
N_NIMCALL(TY55551*, Semcontainer_129325)(TY106012* C_129327, TY55525* N_129328, NU8 Kind_129329, NimStringDesc* Kindstr_129330, TY55551* Prev_129331) {
TY55551* Result_129332;
NI LOC2;
TY55551* Base_129347;
Result_129332 = 0;
Result_129332 = Neworprevtype_128986(Kind_129329, Prev_129331, C_129327);
LOC2 = Sonslen_55803(N_129328);
if (!(LOC2 == 2)) goto LA3;
Base_129347 = 0;
Base_129347 = Semtypenode_124138(C_129327, (*N_129328).KindU.S6.Sons->data[1], NIM_NIL);
Addson_55827(Result_129332, Base_129347);
goto LA1;
LA3: ;
Limessage_47562((*N_129328).Info, ((NU8) 169), Kindstr_129330);
LA1: ;
return Result_129332;
}
N_NIMCALL(TY55551*, Semrange_129520)(TY106012* C_129522, TY55525* N_129523, TY55551* Prev_129524) {
TY55551* Result_129525;
NI LOC2;
Result_129525 = 0;
Result_129525 = NIM_NIL;
LOC2 = Sonslen_55803(N_129523);
if (!(LOC2 == 2)) goto LA3;
if (!((*(*N_129523).KindU.S6.Sons->data[1]).Kind == ((NU8) 35))) goto LA6;
Result_129525 = Semrangeaux_129421(C_129522, (*N_129523).KindU.S6.Sons->data[1], Prev_129524);
goto LA5;
LA6: ;
Limessage_47562((*(*N_129523).KindU.S6.Sons->data[0]).Info, ((NU8) 93), ((NimStringDesc*) &TMP196936));
LA5: ;
goto LA1;
LA3: ;
Limessage_47562((*N_129523).Info, ((NU8) 169), ((NimStringDesc*) &TMP197098));
LA1: ;
return Result_129525;
}
N_NIMCALL(TY55551*, Semset_129284)(TY106012* C_129286, TY55525* N_129287, TY55551* Prev_129288) {
TY55551* Result_129289;
NI LOC2;
TY55551* Base_129304;
NIM_BOOL LOC12;
NI64 LOC16;
Result_129289 = 0;
Result_129289 = Neworprevtype_128986(((NU8) 19), Prev_129288, C_129286);
LOC2 = Sonslen_55803(N_129287);
if (!(LOC2 == 2)) goto LA3;
Base_129304 = 0;
Base_129304 = Semtypenode_124138(C_129286, (*N_129287).KindU.S6.Sons->data[1], NIM_NIL);
Addson_55827(Result_129289, Base_129304);
if (!((*Base_129304).Kind == ((NU8) 11))) goto LA6;
Base_129304 = Lastson_55812(Base_129304);
LA6: ;
if (!!(((*Base_129304).Kind == ((NU8) 12)))) goto LA9;
LOC12 = Isordinaltype_96069(Base_129304);
if (!!(LOC12)) goto LA13;
Limessage_47562((*N_129287).Info, ((NU8) 71), ((NimStringDesc*) &TMP196936));
LA13: ;
LOC16 = Lengthord_96007(Base_129304);
if (!(65536 < LOC16)) goto LA17;
Limessage_47562((*N_129287).Info, ((NU8) 117), ((NimStringDesc*) &TMP196936));
LA17: ;
LA9: ;
goto LA1;
LA3: ;
Limessage_47562((*N_129287).Info, ((NU8) 169), ((NimStringDesc*) &TMP197099));
LA1: ;
return Result_129289;
}
N_NIMCALL(TY55551*, Semordinal_129682)(TY106012* C_129684, TY55525* N_129685, TY55551* Prev_129686) {
TY55551* Result_129687;
NI LOC2;
TY55551* Base_129702;
NIM_BOOL LOC9;
Result_129687 = 0;
Result_129687 = Neworprevtype_128986(((NU8) 15), Prev_129686, C_129684);
LOC2 = Sonslen_55803(N_129685);
if (!(LOC2 == 2)) goto LA3;
Base_129702 = 0;
Base_129702 = Semtypenode_124138(C_129684, (*N_129685).KindU.S6.Sons->data[1], NIM_NIL);
if (!!(((*Base_129702).Kind == ((NU8) 12)))) goto LA6;
LOC9 = Isordinaltype_96069(Base_129702);
if (!!(LOC9)) goto LA10;
Limessage_47562((*(*N_129685).KindU.S6.Sons->data[1]).Info, ((NU8) 71), ((NimStringDesc*) &TMP196936));
LA10: ;
LA6: ;
Addson_55827(Result_129687, Base_129702);
goto LA1;
LA3: ;
Limessage_47562((*N_129685).Info, ((NU8) 169), ((NimStringDesc*) &TMP197100));
LA1: ;
return Result_129687;
}
N_NIMCALL(TY55551*, Instgenericcontainer_124166)(TY106012* C_124168, TY55525* N_124169, TY55551* Header_124170) {
TY55551* Result_126001;
TY125712 Cl_126002;
Result_126001 = 0;
memset((void*)&Cl_126002, 0, sizeof(Cl_126002));
Initidtable_55754(&Cl_126002.Symmap);
Initidtable_55754(&Cl_126002.Typemap);
Cl_126002.Info = (*N_124169).Info;
Cl_126002.C = C_124168;
Result_126001 = Replacetypevarst_125717(&Cl_126002, Header_124170);
return Result_126001;
}
N_NIMCALL(TY55551*, Semgeneric_129906)(TY106012* C_129908, TY55525* N_129909, TY55547* S_129910, TY55551* Prev_129911) {
TY55551* Result_129912;
TY55551* Elem_129913;
NIM_BOOL Isconcrete_129914;
NIM_BOOL LOC2;
NI LOC10;
NI LOC11;
NI I_129946;
NI HEX3Atmp_144860;
NI LOC14;
NI Res_144862;
Result_129912 = 0;
Elem_129913 = 0;
Isconcrete_129914 = 0;
LOC2 = ((*S_129910).Typ == NIM_NIL);
if (LOC2) goto LA3;
LOC2 = !(((*(*S_129910).Typ).Kind == ((NU8) 10)));
LA3: ;
if (!LOC2) goto LA4;
Limessage_47562((*N_129909).Info, ((NU8) 122), (*(*S_129910).Name).S);
LA4: ;
Result_129912 = Neworprevtype_128986(((NU8) 9), Prev_129911, C_129908);
if (!((*(*S_129910).Typ).Containerid == 0)) goto LA7;
Internalerror_47567((*N_129909).Info, ((NimStringDesc*) &TMP197102));
LA7: ;
LOC10 = Sonslen_55803(N_129909);
LOC11 = Sonslen_55806((*S_129910).Typ);
if (!!((LOC10 == LOC11))) goto LA12;
Limessage_47562((*N_129909).Info, ((NU8) 130), ((NimStringDesc*) &TMP196936));
LA12: ;
Addson_55827(Result_129912, (*S_129910).Typ);
Isconcrete_129914 = NIM_TRUE;
I_129946 = 0;
HEX3Atmp_144860 = 0;
LOC14 = Sonslen_55803(N_129909);
HEX3Atmp_144860 = (NI32)(LOC14 - 1);
Res_144862 = 0;
Res_144862 = 1;
while (1) {
if (!(Res_144862 <= HEX3Atmp_144860)) goto LA15;
I_129946 = Res_144862;
Elem_129913 = Semtypenode_124138(C_129908, (*N_129909).KindU.S6.Sons->data[I_129946], NIM_NIL);
if (!((*Elem_129913).Kind == ((NU8) 12))) goto LA17;
Isconcrete_129914 = NIM_FALSE;
LA17: ;
Addson_55827(Result_129912, Elem_129913);
Res_144862 += 1;
} LA15: ;
if (!Isconcrete_129914) goto LA20;
if (!((*S_129910).Ast == NIM_NIL)) goto LA23;
Limessage_47562((*N_129909).Info, ((NU8) 122), (*(*S_129910).Name).S);
LA23: ;
Result_129912 = Instgenericcontainer_124166(C_129908, N_129909, Result_129912);
LA20: ;
return Result_129912;
}
N_NIMCALL(void, Addinheritedfieldsaux_131067)(TY106012* C_131069, TY55900* Check_131071, NI* Pos_131073, TY55525* N_131074) {
NI I_131115;
NI HEX3Atmp_144912;
NI LOC4;
NI Res_144914;
TY55525* LOC6;
NI I_131147;
NI HEX3Atmp_144918;
NI LOC7;
NI Res_144920;
switch ((*N_131074).Kind) {
case ((NU8) 114):
if (!!(((*(*N_131074).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA2;
Internalerror_47567((*N_131074).Info, ((NimStringDesc*) &TMP197103));
LA2: ;
Addinheritedfieldsaux_131067(C_131069, Check_131071, Pos_131073, (*N_131074).KindU.S6.Sons->data[0]);
I_131115 = 0;
HEX3Atmp_144912 = 0;
LOC4 = Sonslen_55803(N_131074);
HEX3Atmp_144912 = (NI32)(LOC4 - 1);
Res_144914 = 0;
Res_144914 = 1;
while (1) {
if (!(Res_144914 <= HEX3Atmp_144912)) goto LA5;
I_131115 = Res_144914;
switch ((*(*N_131074).KindU.S6.Sons->data[I_131115]).Kind) {
case ((NU8) 75):
case ((NU8) 78):
LOC6 = 0;
LOC6 = Lastson_55809((*N_131074).KindU.S6.Sons->data[I_131115]);
Addinheritedfieldsaux_131067(C_131069, Check_131071, Pos_131073, LOC6);
break;
default:
Internalerror_47567((*N_131074).Info, ((NimStringDesc*) &TMP197104));
break;
}
Res_144914 += 1;
} LA5: ;
break;
case ((NU8) 113):
I_131147 = 0;
HEX3Atmp_144918 = 0;
LOC7 = Sonslen_55803(N_131074);
HEX3Atmp_144918 = (NI32)(LOC7 - 1);
Res_144920 = 0;
Res_144920 = 0;
while (1) {
if (!(Res_144920 <= HEX3Atmp_144918)) goto LA8;
I_131147 = Res_144920;
Addinheritedfieldsaux_131067(C_131069, Check_131071, Pos_131073, (*N_131074).KindU.S6.Sons->data[I_131147]);
Res_144920 += 1;
} LA8: ;
break;
case ((NU8) 3):
Intsetincl_55914(Check_131071, (*(*(*N_131074).KindU.S4.Sym).Name).Sup.Id);
(*Pos_131073) += 1;
break;
default:
Internalerror_47567((*N_131074).Info, ((NimStringDesc*) &TMP197105));
break;
}
}
N_NIMCALL(void, Addinheritedfields_131184)(TY106012* C_131186, TY55900* Check_131188, NI* Pos_131190, TY55551* Obj_131191) {
NIM_BOOL LOC2;
NI LOC3;
LOC3 = Sonslen_55806(Obj_131191);
LOC2 = (0 < LOC3);
if (!(LOC2)) goto LA4;
LOC2 = !(((*Obj_131191).Sons->data[0] == NIM_NIL));
LA4: ;
if (!LOC2) goto LA5;
Addinheritedfields_131184(C_131186, Check_131188, Pos_131190, (*Obj_131191).Sons->data[0]);
LA5: ;
Addinheritedfieldsaux_131067(C_131186, Check_131188, Pos_131190, (*Obj_131191).N);
}
N_NIMCALL(void, Checkbool_128912)(TY55525* T_128914) {
NIM_BOOL LOC2;
TY55551* LOC4;
LOC2 = ((*T_128914).Typ == NIM_NIL);
if (LOC2) goto LA3;
LOC4 = 0;
LOC4 = Skiptypes_96085((*T_128914).Typ, 8423424);
LOC2 = !(((*LOC4).Kind == ((NU8) 1)));
LA3: ;
if (!LOC2) goto LA5;
Limessage_47562((*T_128914).Info, ((NU8) 101), ((NimStringDesc*) &TMP196936));
LA5: ;
}
N_NIMCALL(NU8, Cmptypes_127467)(TY55551* F_127469, TY55551* A_127470) {
NU8 Result_127471;
TY55563 Mapping_127472;
Result_127471 = 0;
memset((void*)&Mapping_127472, 0, sizeof(Mapping_127472));
Initidtable_55754(&Mapping_127472);
Result_127471 = Typerel_126350(&Mapping_127472, F_127469, A_127470);
return Result_127471;
}
N_NIMCALL(void, Typemismatch_128936)(TY55525* N_128938, TY55551* Formal_128939, TY55551* Actual_128940) {
NimStringDesc* LOC1;
NimStringDesc* LOC2;
NimStringDesc* LOC3;
NimStringDesc* LOC4;
TY47865 LOC5;
NimStringDesc* LOC6;
LOC1 = 0;
LOC2 = 0;
LOC2 = Msgkindtostring_47588(((NU8) 126));
LOC3 = 0;
LOC3 = Typetostring_96014(Actual_128940, ((NU8) 0));
LOC4 = 0;
LOC4 = Msgkindtostring_47588(((NU8) 128));
memset((void*)&LOC5, 0, sizeof(LOC5));
LOC5[0] = Typetostring_96014(Formal_128939, ((NU8) 0));
LOC6 = 0;
LOC6 = nsuFormatOpenArray(LOC4, LOC5, 1);
LOC1 = rawNewString(LOC2->Sup.len + LOC3->Sup.len + LOC6->Sup.len + 2);
appendString(LOC1, LOC2);
appendString(LOC1, LOC3);
appendString(LOC1, ((NimStringDesc*) &TMP197109));
appendString(LOC1, LOC6);
Limessage_47562((*N_128938).Info, ((NU8) 4), LOC1);
}
N_NIMCALL(void, Sembranchexpr_130249)(TY106012* C_130251, TY55525* T_130252, TY55525** Ex_130254) {
NU8 LOC2;
unsureAsgnRef((void**) &(*Ex_130254), Semconstexpr_124171(C_130251, (*Ex_130254)));
Checkminsonslen_106103(T_130252, 1);
LOC2 = Cmptypes_127467((*(*T_130252).KindU.S6.Sons->data[0]).Typ, (*(*Ex_130254)).Typ);
if (!(LOC2 <= ((NU8) 1))) goto LA3;
Typemismatch_128936((*Ex_130254), (*(*T_130252).KindU.S6.Sons->data[0]).Typ, (*(*Ex_130254)).Typ);
LA3: ;
}
N_NIMCALL(void, Checkforoverlap_130191)(TY106012* C_130193, TY55525* T_130194, TY55525* Ex_130195, NI Branchindex_130196) {
NI I_130204;
NI HEX3Atmp_144872;
NI Res_144874;
NI J_130224;
NI HEX3Atmp_144866;
NI LOC2;
NI Res_144868;
NIM_BOOL LOC5;
I_130204 = 0;
HEX3Atmp_144872 = 0;
HEX3Atmp_144872 = (NI32)(Branchindex_130196 - 1);
Res_144874 = 0;
Res_144874 = 1;
while (1) {
if (!(Res_144874 <= HEX3Atmp_144872)) goto LA1;
I_130204 = Res_144874;
J_130224 = 0;
HEX3Atmp_144866 = 0;
LOC2 = Sonslen_55803((*T_130194).KindU.S6.Sons->data[I_130204]);
HEX3Atmp_144866 = (NI32)(LOC2 - 2);
Res_144868 = 0;
Res_144868 = 0;
while (1) {
if (!(Res_144868 <= HEX3Atmp_144866)) goto LA3;
J_130224 = Res_144868;
LOC5 = Overlap_103006((*(*T_130194).KindU.S6.Sons->data[I_130204]).KindU.S6.Sons->data[J_130224], Ex_130195);
if (!LOC5) goto LA6;
Limessage_47562((*Ex_130195).Info, ((NU8) 103), ((NimStringDesc*) &TMP196936));
LA6: ;
Res_144868 += 1;
} LA3: ;
Res_144874 += 1;
} LA1: ;
}
N_NIMCALL(void, Semcasebranch_130288)(TY106012* C_130290, TY55525* T_130291, TY55525* Branch_130292, NI Branchindex_130293, NI64* Covered_130295) {
NI I_130303;
NI HEX3Atmp_144882;
NI LOC1;
NI Res_144884;
TY55525* B_130316;
NIM_BOOL LOC7;
NI64 LOC10;
NI64 LOC11;
I_130303 = 0;
HEX3Atmp_144882 = 0;
LOC1 = Sonslen_55803(Branch_130292);
HEX3Atmp_144882 = (NI32)(LOC1 - 2);
Res_144884 = 0;
Res_144884 = 0;
while (1) {
if (!(Res_144884 <= HEX3Atmp_144882)) goto LA2;
I_130303 = Res_144884;
B_130316 = 0;
B_130316 = (*Branch_130292).KindU.S6.Sons->data[I_130303];
if (!((*B_130316).Kind == ((NU8) 35))) goto LA4;
Checksonslen_106099(B_130316, 2);
Sembranchexpr_130249(C_130290, T_130291, &(*B_130316).KindU.S6.Sons->data[0]);
Sembranchexpr_130249(C_130290, T_130291, &(*B_130316).KindU.S6.Sons->data[1]);
LOC7 = Emptyrange_103019((*B_130316).KindU.S6.Sons->data[0], (*B_130316).KindU.S6.Sons->data[1]);
if (!LOC7) goto LA8;
Limessage_47562((*B_130316).Info, ((NU8) 104), ((NimStringDesc*) &TMP196936));
LA8: ;
LOC10 = Getordvalue_96107((*B_130316).KindU.S6.Sons->data[1]);
LOC11 = Getordvalue_96107((*B_130316).KindU.S6.Sons->data[0]);
(*Covered_130295) = (NI64)((NI64)((NI64)((*Covered_130295) + LOC10) - LOC11) + 1);
goto LA3;
LA4: ;
Sembranchexpr_130249(C_130290, T_130291, &(*Branch_130292).KindU.S6.Sons->data[I_130303]);
(*Covered_130295) += 1;
LA3: ;
Checkforoverlap_130191(C_130290, T_130291, (*Branch_130292).KindU.S6.Sons->data[I_130303], Branchindex_130293);
Res_144884 += 1;
} LA2: ;
}
N_NIMCALL(void, Semrecordcase_130447)(TY106012* C_130449, TY55525* N_130450, TY55900* Check_130452, NI* Pos_130454, TY55525* Father_130455, TY55547* Rectype_130456) {
NI64 Covered_130457;
NIM_BOOL Chckcovered_130458;
TY55525* A_130459;
TY55525* B_130460;
TY55551* Typ_130461;
NIM_BOOL LOC5;
NI64 LOC9;
NI64 LOC13;
NI I_130602;
NI HEX3Atmp_144888;
NI LOC16;
NI Res_144890;
NI LOC18;
TY55525* LOC19;
NIM_BOOL LOC21;
NI64 LOC23;
Covered_130457 = 0;
Chckcovered_130458 = 0;
A_130459 = 0;
B_130460 = 0;
Typ_130461 = 0;
A_130459 = Copynode_55855(N_130450);
Checkminsonslen_106103(N_130450, 2);
Semrecordnodeaux_130437(C_130449, (*N_130450).KindU.S6.Sons->data[0], Check_130452, Pos_130454, A_130459, Rectype_130456);
if (!!(((*(*A_130459).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA2;
Internalerror_47571(((NimStringDesc*) &TMP197108));
LA2: ;
(*(*(*A_130459).KindU.S6.Sons->data[0]).KindU.S4.Sym).Flags |=(1<<((NI32)(((NU8) 21))%(sizeof(NI32)*8)));
Covered_130457 = 0;
Typ_130461 = Skiptypes_96085((*(*A_130459).KindU.S6.Sons->data[0]).Typ, 8431616);
LOC5 = Isordinaltype_96069(Typ_130461);
if (!!(LOC5)) goto LA6;
Limessage_47562((*N_130450).Info, ((NU8) 106), ((NimStringDesc*) &TMP196936));
LA6: ;
LOC9 = Firstord_96001(Typ_130461);
if (!(LOC9 < 0)) goto LA10;
Limessage_47562((*N_130450).Info, ((NU8) 107), (*(*(*(*A_130459).KindU.S6.Sons->data[0]).KindU.S4.Sym).Name).S);
LA10: ;
LOC13 = Lengthord_96007(Typ_130461);
if (!(32767 < LOC13)) goto LA14;
Limessage_47562((*N_130450).Info, ((NU8) 108), (*(*(*(*A_130459).KindU.S6.Sons->data[0]).KindU.S4.Sym).Name).S);
LA14: ;
Chckcovered_130458 = NIM_TRUE;
I_130602 = 0;
HEX3Atmp_144888 = 0;
LOC16 = Sonslen_55803(N_130450);
HEX3Atmp_144888 = (NI32)(LOC16 - 1);
Res_144890 = 0;
Res_144890 = 1;
while (1) {
if (!(Res_144890 <= HEX3Atmp_144888)) goto LA17;
I_130602 = Res_144890;
B_130460 = Copytree_55858((*N_130450).KindU.S6.Sons->data[I_130602]);
switch ((*(*N_130450).KindU.S6.Sons->data[I_130602]).Kind) {
case ((NU8) 75):
Checkminsonslen_106103(B_130460, 2);
Semcasebranch_130288(C_130449, A_130459, B_130460, I_130602, &Covered_130457);
break;
case ((NU8) 78):
Chckcovered_130458 = NIM_FALSE;
Checksonslen_106099(B_130460, 1);
break;
default:
Illformedast_106092(N_130450);
break;
}
LOC18 = Sonslen_55803(B_130460);
Delson_55835(B_130460, (NI32)(LOC18 - 1));
LOC19 = 0;
LOC19 = Lastson_55809((*N_130450).KindU.S6.Sons->data[I_130602]);
Semrecordnodeaux_130437(C_130449, LOC19, Check_130452, Pos_130454, B_130460, Rectype_130456);
Addson_55823(A_130459, B_130460);
Res_144890 += 1;
} LA17: ;
LOC21 = Chckcovered_130458;
if (!(LOC21)) goto LA22;
LOC23 = Lengthord_96007((*(*A_130459).KindU.S6.Sons->data[0]).Typ);
LOC21 = !((Covered_130457 == LOC23));
LA22: ;
if (!LOC21) goto LA24;
Limessage_47562((*A_130459).Info, ((NU8) 147), ((NimStringDesc*) &TMP196936));
LA24: ;
Addson_55823(Father_130455, A_130459);
}
N_NIMCALL(TY55547*, Newsyms_124059)(NU8 Kind_124061, TY55525* N_124062, TY106012* C_124063) {
TY55547* Result_124064;
TY54011* LOC1;
TY55547* LOC2;
Result_124064 = 0;
LOC1 = 0;
LOC1 = Consideracc_124003(N_124062);
LOC2 = 0;
LOC2 = Getcurrowner_106107();
Result_124064 = Newsym_55701(Kind_124061, LOC1, LOC2);
(*Result_124064).Info = (*N_124062).Info;
return Result_124064;
}
N_NIMCALL(TY55547*, Semidentvis_124092)(TY106012* C_124094, NU8 Kind_124095, TY55525* N_124096, NU32 Allowed_124097) {
TY55547* Result_129985;
NIM_BOOL LOC5;
NI LOC6;
TY54011* V_130054;
NIM_BOOL LOC11;
NIM_BOOL LOC15;
Result_129985 = 0;
if (!((*N_124096).Kind == ((NU8) 29))) goto LA2;
LOC6 = Sonslen_55803(N_124096);
LOC5 = (LOC6 == 2);
if (!(LOC5)) goto LA7;
LOC5 = ((*(*N_124096).KindU.S6.Sons->data[0]).Kind == ((NU8) 2));
LA7: ;
if (!LOC5) goto LA8;
Result_129985 = Newsyms_124059(Kind_124095, (*N_124096).KindU.S6.Sons->data[1], C_124094);
V_130054 = 0;
V_130054 = (*(*N_124096).KindU.S6.Sons->data[0]).KindU.S5.Ident;
LOC11 = ((Allowed_124097 &(1<<((((NU8) 1))&31)))!=0);
if (!(LOC11)) goto LA12;
LOC11 = ((*V_130054).Sup.Id == 69);
LA12: ;
if (!LOC11) goto LA13;
(*Result_129985).Flags |=(1<<((NI32)(((NU8) 1))%(sizeof(NI32)*8)));
goto LA10;
LA13: ;
LOC15 = ((Allowed_124097 &(1<<((((NU8) 2))&31)))!=0);
if (!(LOC15)) goto LA16;
LOC15 = ((*V_130054).Sup.Id == 70);
LA16: ;
if (!LOC15) goto LA17;
(*Result_129985).Flags |=(1<<((NI32)(((NU8) 2))%(sizeof(NI32)*8)));
goto LA10;
LA17: ;
Limessage_47562((*(*N_124096).KindU.S6.Sons->data[0]).Info, ((NU8) 171), (*V_130054).S);
LA10: ;
goto LA4;
LA8: ;
Illformedast_106092(N_124096);
LA4: ;
goto LA1;
LA2: ;
Result_129985 = Newsyms_124059(Kind_124095, N_124096, C_124094);
LA1: ;
return Result_129985;
}
N_NIMCALL(TY55547*, Semidentwithpragma_124098)(TY106012* C_124100, NU8 Kind_124101, TY55525* N_124102, NU32 Allowed_124103) {
TY55547* Result_130133;
Result_130133 = 0;
if (!((*N_124102).Kind == ((NU8) 34))) goto LA2;
Checksonslen_106099(N_124102, 2);
Result_130133 = Semidentvis_124092(C_124100, Kind_124101, (*N_124102).KindU.S6.Sons->data[0], Allowed_124103);
switch (Kind_124101) {
case ((NU8) 6):
break;
case ((NU8) 15):
Pragma_121028(C_124100, Result_130133, (*N_124102).KindU.S6.Sons->data[1], TMP197115);
break;
case ((NU8) 8):
Pragma_121028(C_124100, Result_130133, (*N_124102).KindU.S6.Sons->data[1], TMP197116);
break;
case ((NU8) 7):
Pragma_121028(C_124100, Result_130133, (*N_124102).KindU.S6.Sons->data[1], TMP197117);
break;
default:
break;
}
goto LA1;
LA2: ;
Result_130133 = Semidentvis_124092(C_124100, Kind_124101, N_124102, Allowed_124103);
LA1: ;
return Result_130133;
}
N_NIMCALL(void, Semrecordnodeaux_130437)(TY106012* C_130439, TY55525* N_130440, TY55900* Check_130442, NI* Pos_130444, TY55525* Father_130445, TY55547* Rectype_130446) {
NI Length_130664;
TY55547* F_130665;
TY55525* A_130666;
TY55525* It_130667;
TY55525* E_130668;
TY55525* Branch_130669;
TY55551* Typ_130670;
NI I_130689;
NI HEX3Atmp_144894;
NI LOC4;
NI Res_144896;
NIM_BOOL LOC13;
TY55525* LOC26;
NI I_130830;
NI HEX3Atmp_144900;
NI LOC30;
NI Res_144902;
NIM_BOOL LOC36;
NI I_130940;
NI HEX3Atmp_144906;
NI LOC46;
NI Res_144908;
NIM_BOOL LOC49;
NIM_BOOL LOC50;
NIM_BOOL LOC56;
TY55525* LOC62;
TY55525* LOC63;
Length_130664 = 0;
F_130665 = 0;
A_130666 = 0;
It_130667 = 0;
E_130668 = 0;
Branch_130669 = 0;
Typ_130670 = 0;
if (!(N_130440 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*N_130440).Kind) {
case ((NU8) 115):
Branch_130669 = NIM_NIL;
I_130689 = 0;
HEX3Atmp_144894 = 0;
LOC4 = Sonslen_55803(N_130440);
HEX3Atmp_144894 = (NI32)(LOC4 - 1);
Res_144896 = 0;
Res_144896 = 0;
while (1) {
if (!(Res_144896 <= HEX3Atmp_144894)) goto LA5;
I_130689 = Res_144896;
It_130667 = (*N_130440).KindU.S6.Sons->data[I_130689];
if (!(It_130667 == NIM_NIL)) goto LA7;
Illformedast_106092(N_130440);
LA7: ;
switch ((*It_130667).Kind) {
case ((NU8) 76):
Checksonslen_106099(It_130667, 2);
E_130668 = Semconstexpr_124171(C_130439, (*It_130667).KindU.S6.Sons->data[0]);
Checkbool_128912(E_130668);
if (!!(((*E_130668).Kind == ((NU8) 6)))) goto LA10;
Internalerror_47567((*E_130668).Info, ((NimStringDesc*) &TMP197107));
LA10: ;
LOC13 = !(((*E_130668).KindU.S1.Intval == 0));
if (!(LOC13)) goto LA14;
LOC13 = (Branch_130669 == NIM_NIL);
LA14: ;
if (!LOC13) goto LA15;
Branch_130669 = (*It_130667).KindU.S6.Sons->data[1];
LA15: ;
break;
case ((NU8) 78):
Checksonslen_106099(It_130667, 1);
if (!(Branch_130669 == NIM_NIL)) goto LA18;
Branch_130669 = (*It_130667).KindU.S6.Sons->data[0];
LA18: ;
break;
default:
Illformedast_106092(N_130440);
break;
}
Res_144896 += 1;
} LA5: ;
if (!!((Branch_130669 == NIM_NIL))) goto LA21;
Semrecordnodeaux_130437(C_130439, Branch_130669, Check_130442, Pos_130444, Father_130445, Rectype_130446);
LA21: ;
break;
case ((NU8) 114):
Semrecordcase_130447(C_130439, N_130440, Check_130442, Pos_130444, Father_130445, Rectype_130446);
break;
case ((NU8) 18):
if (!!(((*Father_130445).Kind == ((NU8) 113)))) goto LA24;
LOC26 = 0;
LOC26 = Newnodei_55737(((NU8) 113), (*N_130440).Info);
Addson_55823(Father_130445, LOC26);
LA24: ;
break;
case ((NU8) 113):
if (!((*Father_130445).Kind == ((NU8) 113))) goto LA28;
A_130666 = Father_130445;
goto LA27;
LA28: ;
A_130666 = Copynode_55855(N_130440);
LA27: ;
I_130830 = 0;
HEX3Atmp_144900 = 0;
LOC30 = Sonslen_55803(N_130440);
HEX3Atmp_144900 = (NI32)(LOC30 - 1);
Res_144902 = 0;
Res_144902 = 0;
while (1) {
if (!(Res_144902 <= HEX3Atmp_144900)) goto LA31;
I_130830 = Res_144902;
Semrecordnodeaux_130437(C_130439, (*N_130440).KindU.S6.Sons->data[I_130830], Check_130442, Pos_130444, A_130666, Rectype_130446);
Res_144902 += 1;
} LA31: ;
if (!!((A_130666 == Father_130445))) goto LA33;
Addson_55823(Father_130445, A_130666);
LA33: ;
break;
case ((NU8) 25):
Checkminsonslen_106103(N_130440, 3);
Length_130664 = Sonslen_55803(N_130440);
LOC36 = !(((*Father_130445).Kind == ((NU8) 113)));
if (!(LOC36)) goto LA37;
LOC36 = (4 <= Length_130664);
LA37: ;
if (!LOC36) goto LA38;
A_130666 = Newnodei_55737(((NU8) 113), (*N_130440).Info);
goto LA35;
LA38: ;
A_130666 = NIM_NIL;
LA35: ;
if (!!(((*N_130440).KindU.S6.Sons->data[(NI32)(Length_130664 - 1)] == NIM_NIL))) goto LA41;
Limessage_47562((*(*N_130440).KindU.S6.Sons->data[(NI32)(Length_130664 - 1)]).Info, ((NU8) 172), ((NimStringDesc*) &TMP196936));
LA41: ;
if (!((*N_130440).KindU.S6.Sons->data[(NI32)(Length_130664 - 2)] == NIM_NIL)) goto LA44;
Limessage_47562((*N_130440).Info, ((NU8) 60), ((NimStringDesc*) &TMP196936));
LA44: ;
Typ_130670 = Semtypenode_124138(C_130439, (*N_130440).KindU.S6.Sons->data[(NI32)(Length_130664 - 2)], NIM_NIL);
I_130940 = 0;
HEX3Atmp_144906 = 0;
LOC46 = Sonslen_55803(N_130440);
HEX3Atmp_144906 = (NI32)(LOC46 - 3);
Res_144908 = 0;
Res_144908 = 0;
while (1) {
if (!(Res_144908 <= HEX3Atmp_144906)) goto LA47;
I_130940 = Res_144908;
F_130665 = Semidentwithpragma_124098(C_130439, ((NU8) 15), (*N_130440).KindU.S6.Sons->data[I_130940], 6);
asgnRef((void**) &(*F_130665).Typ, Typ_130670);
(*F_130665).Position = (*Pos_130444);
LOC50 = !((Rectype_130446 == NIM_NIL));
if (!(LOC50)) goto LA51;
LOC50 = !(((384 & (*Rectype_130446).Flags) == 0));
LA51: ;
LOC49 = LOC50;
if (!(LOC49)) goto LA52;
LOC49 = ((*F_130665).Loc.R == NIM_NIL);
LA52: ;
if (!LOC49) goto LA53;
asgnRefNoCycle((void**) &(*F_130665).Loc.R, Torope_52046((*(*F_130665).Name).S));
(*F_130665).Flags = ((*F_130665).Flags | (384 & (*Rectype_130446).Flags));
LA53: ;
(*Pos_130444) += 1;
LOC56 = Intsetcontainsorincl_55928(Check_130442, (*(*F_130665).Name).Sup.Id);
if (!LOC56) goto LA57;
Limessage_47562((*(*N_130440).KindU.S6.Sons->data[I_130940]).Info, ((NU8) 37), (*(*F_130665).Name).S);
LA57: ;
if (!(A_130666 == NIM_NIL)) goto LA60;
LOC62 = 0;
LOC62 = Newsymnode_55734(F_130665);
Addson_55823(Father_130445, LOC62);
goto LA59;
LA60: ;
LOC63 = 0;
LOC63 = Newsymnode_55734(F_130665);
Addson_55823(A_130666, LOC63);
LA59: ;
Res_144908 += 1;
} LA47: ;
if (!!((A_130666 == NIM_NIL))) goto LA65;
Addson_55823(Father_130445, A_130666);
LA65: ;
break;
default:
Illformedast_106092(N_130440);
break;
}
BeforeRet: ;
}
N_NIMCALL(TY55551*, Semobjectnode_131205)(TY106012* C_131207, TY55525* N_131208, TY55551* Prev_131209) {
TY55551* Result_131210;
TY55900 Check_131211;
TY55551* Base_131212;
NI Pos_131213;
NIM_BOOL LOC11;
Result_131210 = 0;
memset((void*)&Check_131211, 0, sizeof(Check_131211));
Base_131212 = 0;
Pos_131213 = 0;
Intsetinit_55924(&Check_131211);
Pos_131213 = 0;
Checksonslen_106099(N_131208, 3);
if (!!(((*N_131208).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA2;
Base_131212 = Semtypenode_124138(C_131207, (*(*N_131208).KindU.S6.Sons->data[1]).KindU.S6.Sons->data[0], NIM_NIL);
if (!((*Base_131212).Kind == ((NU8) 17))) goto LA5;
Addinheritedfields_131184(C_131207, &Check_131211, &Pos_131213, Base_131212);
goto LA4;
LA5: ;
Limessage_47562((*(*N_131208).KindU.S6.Sons->data[1]).Info, ((NU8) 119), ((NimStringDesc*) &TMP196936));
LA4: ;
goto LA1;
LA2: ;
Base_131212 = NIM_NIL;
LA1: ;
if (!!(((*N_131208).Kind == ((NU8) 111)))) goto LA8;
Internalerror_47567((*N_131208).Info, ((NimStringDesc*) &TMP197106));
LA8: ;
Result_131210 = Neworprevtype_128986(((NU8) 17), Prev_131209, C_131207);
Addson_55827(Result_131210, Base_131212);
asgnRefNoCycle((void**) &(*Result_131210).N, Newnodei_55737(((NU8) 113), (*N_131208).Info));
Semrecordnodeaux_130437(C_131207, (*N_131208).KindU.S6.Sons->data[2], &Check_131211, &Pos_131213, (*Result_131210).N, (*Result_131210).Sym);
LOC11 = !((Base_131212 == NIM_NIL));
if (!(LOC11)) goto LA12;
LOC11 = (((*Base_131212).Flags &(1<<((((NU8) 2))&7)))!=0);
LA12: ;
if (!LOC11) goto LA13;
Limessage_47562((*(*N_131208).KindU.S6.Sons->data[1]).Info, ((NU8) 119), ((NimStringDesc*) &TMP196936));
LA13: ;
return Result_131210;
}
N_NIMCALL(TY55551*, Semtuple_129749)(TY106012* C_129751, TY55525* N_129752, TY55551* Prev_129753) {
TY55551* Result_129754;
NI Length_129755;
NI Counter_129756;
TY55551* Typ_129757;
TY55900 Check_129758;
TY55525* A_129759;
TY55547* Field_129760;
NI I_129769;
NI HEX3Atmp_144850;
NI LOC1;
NI Res_144852;
NI J_129868;
NI HEX3Atmp_144844;
NI Res_144846;
NIM_BOOL LOC14;
TY55525* LOC17;
Result_129754 = 0;
Length_129755 = 0;
Counter_129756 = 0;
Typ_129757 = 0;
memset((void*)&Check_129758, 0, sizeof(Check_129758));
A_129759 = 0;
Field_129760 = 0;
Result_129754 = Neworprevtype_128986(((NU8) 18), Prev_129753, C_129751);
asgnRefNoCycle((void**) &(*Result_129754).N, Newnodei_55737(((NU8) 113), (*N_129752).Info));
Intsetinit_55924(&Check_129758);
Counter_129756 = 0;
I_129769 = 0;
HEX3Atmp_144850 = 0;
LOC1 = Sonslen_55803(N_129752);
HEX3Atmp_144850 = (NI32)(LOC1 - 1);
Res_144852 = 0;
Res_144852 = 0;
while (1) {
if (!(Res_144852 <= HEX3Atmp_144850)) goto LA2;
I_129769 = Res_144852;
A_129759 = (*N_129752).KindU.S6.Sons->data[I_129769];
if (!!(((*A_129759).Kind == ((NU8) 25)))) goto LA4;
Illformedast_106092(A_129759);
LA4: ;
Checkminsonslen_106103(A_129759, 3);
Length_129755 = Sonslen_55803(A_129759);
if (!!(((*A_129759).KindU.S6.Sons->data[(NI32)(Length_129755 - 2)] == NIM_NIL))) goto LA7;
Typ_129757 = Semtypenode_124138(C_129751, (*A_129759).KindU.S6.Sons->data[(NI32)(Length_129755 - 2)], NIM_NIL);
goto LA6;
LA7: ;
Limessage_47562((*A_129759).Info, ((NU8) 60), ((NimStringDesc*) &TMP196936));
LA6: ;
if (!!(((*A_129759).KindU.S6.Sons->data[(NI32)(Length_129755 - 1)] == NIM_NIL))) goto LA10;
Limessage_47562((*(*A_129759).KindU.S6.Sons->data[(NI32)(Length_129755 - 1)]).Info, ((NU8) 172), ((NimStringDesc*) &TMP196936));
LA10: ;
J_129868 = 0;
HEX3Atmp_144844 = 0;
HEX3Atmp_144844 = (NI32)(Length_129755 - 3);
Res_144846 = 0;
Res_144846 = 0;
while (1) {
if (!(Res_144846 <= HEX3Atmp_144844)) goto LA12;
J_129868 = Res_144846;
Field_129760 = Newsyms_124059(((NU8) 15), (*A_129759).KindU.S6.Sons->data[J_129868], C_129751);
asgnRef((void**) &(*Field_129760).Typ, Typ_129757);
(*Field_129760).Position = Counter_129756;
Counter_129756 += 1;
LOC14 = Intsetcontainsorincl_55928(&Check_129758, (*(*Field_129760).Name).Sup.Id);
if (!LOC14) goto LA15;
Limessage_47562((*(*A_129759).KindU.S6.Sons->data[J_129868]).Info, ((NU8) 37), (*(*Field_129760).Name).S);
LA15: ;
LOC17 = 0;
LOC17 = Newsymnode_55734(Field_129760);
Addson_55823((*Result_129754).N, LOC17);
Addson_55827(Result_129754, Typ_129757);
Res_144846 += 1;
} LA12: ;
Res_144852 += 1;
} LA2: ;
return Result_129754;
}
N_NIMCALL(TY55551*, Semanyref_129348)(TY106012* C_129350, TY55525* N_129351, NU8 Kind_129352, NimStringDesc* Kindstr_129353, TY55551* Prev_129354) {
TY55551* Result_129355;
NI LOC2;
TY55551* Base_129370;
Result_129355 = 0;
Result_129355 = Neworprevtype_128986(Kind_129352, Prev_129354, C_129350);
LOC2 = Sonslen_55803(N_129351);
if (!(LOC2 == 1)) goto LA3;
Base_129370 = 0;
Base_129370 = Semtypenode_124138(C_129350, (*N_129351).KindU.S6.Sons->data[0], NIM_NIL);
Addson_55827(Result_129355, Base_129370);
goto LA1;
LA3: ;
Limessage_47562((*N_129351).Info, ((NU8) 169), Kindstr_129353);
LA1: ;
return Result_129355;
}
N_NIMCALL(TY55551*, Semvartype_129371)(TY106012* C_129373, TY55525* N_129374, TY55551* Prev_129375) {
TY55551* Result_129376;
NI LOC2;
TY55551* Base_129391;
Result_129376 = 0;
Result_129376 = Neworprevtype_128986(((NU8) 23), Prev_129375, C_129373);
LOC2 = Sonslen_55803(N_129374);
if (!(LOC2 == 1)) goto LA3;
Base_129391 = 0;
Base_129391 = Semtypenode_124138(C_129373, (*N_129374).KindU.S6.Sons->data[0], NIM_NIL);
if (!((*Base_129391).Kind == ((NU8) 23))) goto LA6;
Limessage_47562((*N_129374).Info, ((NU8) 190), ((NimStringDesc*) &TMP196936));
LA6: ;
Addson_55827(Result_129376, Base_129391);
goto LA1;
LA3: ;
Limessage_47562((*N_129374).Info, ((NU8) 169), ((NimStringDesc*) &TMP197120));
LA1: ;
return Result_129376;
}
N_NIMCALL(TY55551*, Semdistinct_129401)(TY106012* C_129403, TY55525* N_129404, TY55551* Prev_129405) {
TY55551* Result_129406;
NI LOC2;
TY55551* LOC5;
Result_129406 = 0;
Result_129406 = Neworprevtype_128986(((NU8) 13), Prev_129405, C_129403);
LOC2 = Sonslen_55803(N_129404);
if (!(LOC2 == 1)) goto LA3;
LOC5 = 0;
LOC5 = Semtypenode_124138(C_129403, (*N_129404).KindU.S6.Sons->data[0], NIM_NIL);
Addson_55827(Result_129406, LOC5);
goto LA1;
LA3: ;
Limessage_47562((*N_129404).Info, ((NU8) 169), ((NimStringDesc*) &TMP197121));
LA1: ;
return Result_129406;
}
N_NIMCALL(TY55551*, Semenum_129012)(TY106012* C_129014, TY55525* N_129015, TY55551* Prev_129016) {
TY55551* Result_129017;
NI64 Counter_129018;
NI64 X_129019;
TY55547* E_129020;
TY55551* Base_129021;
TY55525* V_129022;
NI64 LOC7;
NI I_129098;
NI HEX3Atmp_144838;
NI LOC8;
NI Res_144840;
NIM_BOOL LOC20;
TY55525* LOC24;
Result_129017 = 0;
Counter_129018 = 0;
X_129019 = 0;
E_129020 = 0;
Base_129021 = 0;
V_129022 = 0;
Counter_129018 = 0;
Base_129021 = NIM_NIL;
Result_129017 = Neworprevtype_128986(((NU8) 14), Prev_129016, C_129014);
asgnRefNoCycle((void**) &(*Result_129017).N, Newnodei_55737(((NU8) 121), (*N_129015).Info));
Checkminsonslen_106103(N_129015, 1);
if (!!(((*N_129015).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA2;
Base_129021 = Semtypenode_124138(C_129014, (*(*N_129015).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[0], NIM_NIL);
if (!!(((*Base_129021).Kind == ((NU8) 14)))) goto LA5;
Limessage_47562((*(*N_129015).KindU.S6.Sons->data[0]).Info, ((NU8) 120), ((NimStringDesc*) &TMP196936));
LA5: ;
LOC7 = Lastord_96004(Base_129021);
Counter_129018 = (NI64)(LOC7 + 1);
LA2: ;
Addson_55827(Result_129017, Base_129021);
I_129098 = 0;
HEX3Atmp_144838 = 0;
LOC8 = Sonslen_55803(N_129015);
HEX3Atmp_144838 = (NI32)(LOC8 - 1);
Res_144840 = 0;
Res_144840 = 1;
while (1) {
if (!(Res_144840 <= HEX3Atmp_144838)) goto LA9;
I_129098 = Res_144840;
switch ((*(*N_129015).KindU.S6.Sons->data[I_129098]).Kind) {
case ((NU8) 122):
E_129020 = Newsyms_124059(((NU8) 16), (*(*N_129015).KindU.S6.Sons->data[I_129098]).KindU.S6.Sons->data[0], C_129014);
V_129022 = Semconstexpr_124171(C_129014, (*(*N_129015).KindU.S6.Sons->data[I_129098]).KindU.S6.Sons->data[1]);
X_129019 = Getordvalue_96107(V_129022);
if (!!((I_129098 == 1))) goto LA11;
if (!!((X_129019 == Counter_129018))) goto LA14;
(*Result_129017).Flags |=(1<<((NI8)(((NU8) 4))%(sizeof(NI8)*8)));
LA14: ;
if (!(X_129019 < Counter_129018)) goto LA17;
Limessage_47562((*(*N_129015).KindU.S6.Sons->data[I_129098]).Info, ((NU8) 141), (*(*E_129020).Name).S);
LA17: ;
LA11: ;
Counter_129018 = X_129019;
break;
case ((NU8) 3):
E_129020 = (*(*N_129015).KindU.S6.Sons->data[I_129098]).KindU.S4.Sym;
break;
case ((NU8) 2):
E_129020 = Newsyms_124059(((NU8) 16), (*N_129015).KindU.S6.Sons->data[I_129098], C_129014);
break;
default:
Illformedast_106092(N_129015);
break;
}
asgnRef((void**) &(*E_129020).Typ, Result_129017);
(*E_129020).Position = ((NI) (Counter_129018));
LOC20 = !(((*Result_129017).Sym == NIM_NIL));
if (!(LOC20)) goto LA21;
LOC20 = (((*(*Result_129017).Sym).Flags &(1<<((((NU8) 3))&31)))!=0);
LA21: ;
if (!LOC20) goto LA22;
(*E_129020).Flags |=(1<<((NI32)(((NU8) 0))%(sizeof(NI32)*8)));
(*E_129020).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
Strtableadd_59064(&(*(*C_129014).Module).Tab, E_129020);
LA22: ;
LOC24 = 0;
LOC24 = Newsymnode_55734(E_129020);
Addson_55823((*Result_129017).N, LOC24);
Adddeclat_107030(C_129014, E_129020, ((NI) ((NI32)(((NI) ((*C_129014).Tab.Tos)) - 1))));
Counter_129018 += 1;
Res_144840 += 1;
} LA9: ;
return Result_129017;
}
N_NIMCALL(TY55551*, Semstmtlisttype_131681)(TY106012* C_131683, TY55525* N_131684, TY55551* Prev_131685) {
TY55551* Result_131686;
NI Length_131687;
NI I_131695;
NI HEX3Atmp_144958;
NI Res_144960;
Result_131686 = 0;
Checkminsonslen_106103(N_131684, 1);
Length_131687 = 0;
Length_131687 = Sonslen_55803(N_131684);
I_131695 = 0;
HEX3Atmp_144958 = 0;
HEX3Atmp_144958 = (NI32)(Length_131687 - 2);
Res_144960 = 0;
Res_144960 = 0;
while (1) {
if (!(Res_144960 <= HEX3Atmp_144958)) goto LA1;
I_131695 = Res_144960;
asgnRefNoCycle((void**) &(*N_131684).KindU.S6.Sons->data[I_131695], Semstmt_124143(C_131683, (*N_131684).KindU.S6.Sons->data[I_131695]));
Res_144960 += 1;
} LA1: ;
if (!(0 < Length_131687)) goto LA3;
Result_131686 = Semtypenode_124138(C_131683, (*N_131684).KindU.S6.Sons->data[(NI32)(Length_131687 - 1)], Prev_131685);
asgnRef((void**) &(*N_131684).Typ, Result_131686);
asgnRef((void**) &(*(*N_131684).KindU.S6.Sons->data[(NI32)(Length_131687 - 1)]).Typ, Result_131686);
goto LA2;
LA3: ;
Result_131686 = NIM_NIL;
LA2: ;
return Result_131686;
}
N_NIMCALL(TY55551*, Semblocktype_131746)(TY106012* C_131748, TY55525* N_131749, TY55551* Prev_131750) {
TY55551* Result_131751;
TY55547* LOC4;
Result_131751 = 0;
(*(*C_131748).P).Nestedblockcounter += 1;
Checksonslen_106099(N_131749, 2);
Openscope_59149(&(*C_131748).Tab);
if (!!(((*N_131749).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA2;
LOC4 = 0;
LOC4 = Newsyms_124059(((NU8) 19), (*N_131749).KindU.S6.Sons->data[0], C_131748);
Adddecl_107026(C_131748, LOC4);
LA2: ;
Result_131751 = Semstmtlisttype_131681(C_131748, (*N_131749).KindU.S6.Sons->data[1], Prev_131750);
asgnRef((void**) &(*(*N_131749).KindU.S6.Sons->data[1]).Typ, Result_131751);
asgnRef((void**) &(*N_131749).Typ, Result_131751);
Closescope_107017(&(*C_131748).Tab);
(*(*C_131748).P).Nestedblockcounter -= 1;
return Result_131751;
}
N_NIMCALL(TY55551*, Semtypenode_124138)(TY106012* C_124140, TY55525* N_124141, TY55551* Prev_124142) {
TY55551* Result_131842;
TY55547* S_131843;
TY55551* T_131844;
TY55525* LOC4;
NI LOC6;
NIM_BOOL LOC16;
TY54011* LOC23;
TY55525* LOC24;
Result_131842 = 0;
S_131843 = 0;
T_131844 = 0;
Result_131842 = NIM_NIL;
if (!(N_124141 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*N_124141).Kind) {
case ((NU8) 110):
LOC4 = 0;
LOC4 = Semexprwithtype_124122(C_124140, N_124141, 1);
Result_131842 = (*LOC4).Typ;
break;
case ((NU8) 30):
LOC6 = Sonslen_55803(N_124141);
if (!(LOC6 == 1)) goto LA7;
Result_131842 = Semtypenode_124138(C_124140, (*N_124141).KindU.S6.Sons->data[0], Prev_124142);
goto LA5;
LA7: ;
Limessage_47562((*N_124141).Info, ((NU8) 60), ((NimStringDesc*) &TMP196936));
LA5: ;
break;
case ((NU8) 33):
Checkminsonslen_106103(N_124141, 2);
S_131843 = Semtypeident_129724(C_124140, (*N_124141).KindU.S6.Sons->data[0]);
switch ((*S_131843).Magic) {
case ((NU8) 162):
Result_131842 = Semarray_129573(C_124140, N_124141, Prev_124142);
break;
case ((NU8) 163):
Result_131842 = Semcontainer_129325(C_124140, N_124141, ((NU8) 27), ((NimStringDesc*) &TMP197097), Prev_124142);
break;
case ((NU8) 164):
Result_131842 = Semrange_129520(C_124140, N_124141, Prev_124142);
break;
case ((NU8) 165):
Result_131842 = Semset_129284(C_124140, N_124141, Prev_124142);
break;
case ((NU8) 167):
Result_131842 = Semordinal_129682(C_124140, N_124141, Prev_124142);
break;
case ((NU8) 166):
Result_131842 = Semcontainer_129325(C_124140, N_124141, ((NU8) 24), ((NimStringDesc*) &TMP197101), Prev_124142);
break;
default:
Result_131842 = Semgeneric_129906(C_124140, N_124141, S_131843, Prev_124142);
break;
}
break;
case ((NU8) 2):
case ((NU8) 36):
case ((NU8) 43):
S_131843 = Semtypeident_129724(C_124140, N_124141);
if (!((*S_131843).Typ == NIM_NIL)) goto LA10;
Limessage_47562((*N_124141).Info, ((NU8) 60), ((NimStringDesc*) &TMP196936));
LA10: ;
if (!(Prev_124142 == NIM_NIL)) goto LA13;
Result_131842 = (*S_131843).Typ;
goto LA12;
LA13: ;
Assigntype_55779(Prev_124142, (*S_131843).Typ);
(*Prev_124142).Sup.Id = (*(*S_131843).Typ).Sup.Id;
Result_131842 = Prev_124142;
LA12: ;
break;
case ((NU8) 3):
LOC16 = ((*(*N_124141).KindU.S4.Sym).Kind == ((NU8) 6));
if (!(LOC16)) goto LA17;
LOC16 = !(((*(*N_124141).KindU.S4.Sym).Typ == NIM_NIL));
LA17: ;
if (!LOC16) goto LA18;
T_131844 = (*(*N_124141).KindU.S4.Sym).Typ;
if (!(Prev_124142 == NIM_NIL)) goto LA21;
Result_131842 = T_131844;
goto LA20;
LA21: ;
Assigntype_55779(Prev_124142, T_131844);
Result_131842 = Prev_124142;
LA20: ;
Markused_124065(N_124141, (*N_124141).KindU.S4.Sym);
goto LA15;
LA18: ;
Limessage_47562((*N_124141).Info, ((NU8) 60), ((NimStringDesc*) &TMP196936));
LA15: ;
break;
case ((NU8) 111):
Result_131842 = Semobjectnode_131205(C_124140, N_124141, Prev_124142);
break;
case ((NU8) 112):
Result_131842 = Semtuple_129749(C_124140, N_124141, Prev_124142);
break;
case ((NU8) 116):
Result_131842 = Semanyref_129348(C_124140, N_124141, ((NU8) 22), ((NimStringDesc*) &TMP197118), Prev_124142);
break;
case ((NU8) 117):
Result_131842 = Semanyref_129348(C_124140, N_124141, ((NU8) 21), ((NimStringDesc*) &TMP197119), Prev_124142);
break;
case ((NU8) 118):
Result_131842 = Semvartype_129371(C_124140, N_124141, Prev_124142);
break;
case ((NU8) 119):
Result_131842 = Semdistinct_129401(C_124140, N_124141, Prev_124142);
break;
case ((NU8) 120):
Checksonslen_106099(N_124141, 2);
Result_131842 = Semproctypenode_131437(C_124140, (*N_124141).KindU.S6.Sons->data[0], NIM_NIL, Prev_124142);
LOC23 = 0;
LOC23 = Getident_54016(((NimStringDesc*) &TMP197122));
LOC24 = 0;
LOC24 = Newidentnode_55730(LOC23, (*N_124141).Info);
S_131843 = Newsyms_124059(((NU8) 9), LOC24, C_124140);
asgnRef((void**) &(*S_131843).Typ, Result_131842);
Pragma_121028(C_124140, S_131843, (*N_124141).KindU.S6.Sons->data[1], TMP197123);
break;
case ((NU8) 121):
Result_131842 = Semenum_129012(C_124140, N_124141, Prev_124142);
break;
case ((NU8) 4):
Result_131842 = (*N_124141).Typ;
break;
case ((NU8) 108):
Result_131842 = Semstmtlisttype_131681(C_124140, N_124141, Prev_124142);
break;
case ((NU8) 109):
Result_131842 = Semblocktype_131746(C_124140, N_124141, Prev_124142);
break;
default:
Limessage_47562((*N_124141).Info, ((NU8) 60), ((NimStringDesc*) &TMP196936));
break;
}
BeforeRet: ;
return Result_131842;
}
N_NIMCALL(TY55551*, Addtypevarsofgenericbody_131342)(TY106012* C_131344, TY55551* T_131345, TY55525* Genericparams_131346, TY55900* Cl_131348) {
TY55551* Result_131349;
NIM_BOOL LOC5;
NI I_131368;
NI HEX3Atmp_144924;
NI LOC8;
NI Res_144926;
TY55547* S_131378;
NIM_BOOL LOC14;
TY55525* LOC18;
NI L_131399;
NI LOC19;
NI I_131407;
NI HEX3Atmp_144930;
NI LOC20;
NI Res_144932;
NI I_131415;
NI HEX3Atmp_144936;
NI LOC22;
NI Res_144938;
Result_131349 = 0;
Result_131349 = T_131345;
if (!(T_131345 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
LOC5 = Intsetcontainsorincl_55928(Cl_131348, (*T_131345).Sup.Id);
if (!LOC5) goto LA6;
goto BeforeRet;
LA6: ;
switch ((*T_131345).Kind) {
case ((NU8) 10):
Result_131349 = Newtypes_106077(((NU8) 9), C_131344);
Addson_55827(Result_131349, T_131345);
I_131368 = 0;
HEX3Atmp_144924 = 0;
LOC8 = Sonslen_55806(T_131345);
HEX3Atmp_144924 = (NI32)(LOC8 - 2);
Res_144926 = 0;
Res_144926 = 0;
while (1) {
if (!(Res_144926 <= HEX3Atmp_144924)) goto LA9;
I_131368 = Res_144926;
if (!!(((*(*T_131345).Sons->data[I_131368]).Kind == ((NU8) 12)))) goto LA11;
Internalerror_47571(((NimStringDesc*) &TMP197125));
LA11: ;
S_131378 = 0;
S_131378 = Copysym_55775((*(*T_131345).Sons->data[I_131368]).Sym, NIM_FALSE);
(*S_131378).Position = Sonslen_55803(Genericparams_131346);
LOC14 = ((*S_131378).Typ == NIM_NIL);
if (LOC14) goto LA15;
LOC14 = !(((*(*S_131378).Typ).Kind == ((NU8) 12)));
LA15: ;
if (!LOC14) goto LA16;
Internalerror_47571(((NimStringDesc*) &TMP197126));
LA16: ;
Adddecl_107026(C_131344, S_131378);
LOC18 = 0;
LOC18 = Newsymnode_55734(S_131378);
Addson_55823(Genericparams_131346, LOC18);
Addson_55827(Result_131349, (*T_131345).Sons->data[I_131368]);
Res_144926 += 1;
} LA9: ;
break;
case ((NU8) 11):
L_131399 = 0;
LOC19 = Sonslen_55806(T_131345);
L_131399 = (NI32)(LOC19 - 1);
asgnRef((void**) &(*T_131345).Sons->data[L_131399], Addtypevarsofgenericbody_131342(C_131344, (*T_131345).Sons->data[L_131399], Genericparams_131346, Cl_131348));
break;
case ((NU8) 9):
I_131407 = 0;
HEX3Atmp_144930 = 0;
LOC20 = Sonslen_55806(T_131345);
HEX3Atmp_144930 = (NI32)(LOC20 - 1);
Res_144932 = 0;
Res_144932 = 1;
while (1) {
if (!(Res_144932 <= HEX3Atmp_144930)) goto LA21;
I_131407 = Res_144932;
asgnRef((void**) &(*T_131345).Sons->data[I_131407], Addtypevarsofgenericbody_131342(C_131344, (*T_131345).Sons->data[I_131407], Genericparams_131346, Cl_131348));
Res_144932 += 1;
} LA21: ;
break;
default:
I_131415 = 0;
HEX3Atmp_144936 = 0;
LOC22 = Sonslen_55806(T_131345);
HEX3Atmp_144936 = (NI32)(LOC22 - 1);
Res_144938 = 0;
Res_144938 = 0;
while (1) {
if (!(Res_144938 <= HEX3Atmp_144936)) goto LA23;
I_131415 = Res_144938;
asgnRef((void**) &(*T_131345).Sons->data[I_131415], Addtypevarsofgenericbody_131342(C_131344, (*T_131345).Sons->data[I_131415], Genericparams_131346, Cl_131348));
Res_144938 += 1;
} LA23: ;
break;
}
BeforeRet: ;
return Result_131349;
}
N_NIMCALL(TY55551*, Paramtype_131416)(TY106012* C_131418, TY55525* N_131419, TY55525* Genericparams_131420, TY55900* Cl_131422) {
TY55551* Result_131423;
NIM_BOOL LOC2;
NI LOC4;
Result_131423 = 0;
Result_131423 = Semtypenode_124138(C_131418, N_131419, NIM_NIL);
LOC2 = !((Genericparams_131420 == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC4 = Sonslen_55803(Genericparams_131420);
LOC2 = (LOC4 == 0);
LA3: ;
if (!LOC2) goto LA5;
Result_131423 = Addtypevarsofgenericbody_131342(C_131418, Result_131423, Genericparams_131420, Cl_131422);
LA5: ;
return Result_131423;
}
N_NIMCALL(TY55525*, Indextypesmatch_127917)(TY106012* C_127919, TY55551* F_127920, TY55551* A_127921, TY55525* Arg_127922) {
TY55525* Result_127923;
TY126058 M_127924;
Result_127923 = 0;
memset((void*)&M_127924, 0, sizeof(M_127924));
Initcandidate_126086(&M_127924, F_127920);
Result_127923 = Paramtypesmatch_127731(C_127919, &M_127924, F_127920, A_127921, Arg_127922);
return Result_127923;
}
N_NIMCALL(TY55525*, Fitnode_124129)(TY106012* C_124131, TY55551* Formal_124132, TY55525* Arg_124133) {
TY55525* Result_128974;
Result_128974 = 0;
Result_128974 = Indextypesmatch_127917(C_124131, Formal_124132, (*Arg_124133).Typ, Arg_124133);
if (!(Result_128974 == NIM_NIL)) goto LA2;
Typemismatch_128936(Arg_124133, Formal_124132, (*Arg_124133).Typ);
LA2: ;
return Result_128974;
}
N_NIMCALL(TY55551*, Semproctypenode_131437)(TY106012* C_131439, TY55525* N_131440, TY55525* Genericparams_131441, TY55551* Prev_131442) {
TY55551* Result_131443;
TY55525* Def_131444;
TY55525* Res_131445;
TY55551* Typ_131446;
TY55900 Check_131447;
TY55900 Cl_131448;
TY106002* LOC1;
NIM_BOOL LOC3;
NI LOC5;
NI Counter_131464;
NI I_131472;
NI HEX3Atmp_144948;
NI LOC8;
NI Res_144950;
TY55525* A_131485;
NI Length_131495;
NU8 LOC23;
NI J_131606;
NI HEX3Atmp_144942;
NI Res_144944;
TY55547* Arg_131619;
NIM_BOOL LOC28;
TY55525* LOC31;
Result_131443 = 0;
Def_131444 = 0;
Res_131445 = 0;
Typ_131446 = 0;
memset((void*)&Check_131447, 0, sizeof(Check_131447));
memset((void*)&Cl_131448, 0, sizeof(Cl_131448));
Checkminsonslen_106103(N_131440, 1);
Result_131443 = Neworprevtype_128986(((NU8) 25), Prev_131442, C_131439);
LOC1 = 0;
LOC1 = Lastoptionentry_106053(C_131439);
(*Result_131443).Callconv = (*LOC1).Defaultcc;
asgnRefNoCycle((void**) &(*Result_131443).N, Newnodei_55737(((NU8) 66), (*N_131440).Info));
LOC3 = !((Genericparams_131441 == NIM_NIL));
if (!(LOC3)) goto LA4;
LOC5 = Sonslen_55803(Genericparams_131441);
LOC3 = (LOC5 == 0);
LA4: ;
if (!LOC3) goto LA6;
Intsetinit_55924(&Cl_131448);
LA6: ;
Addson_55827(Result_131443, NIM_NIL);
Res_131445 = Newnodei_55737(((NU8) 4), (*N_131440).Info);
Addson_55823((*Result_131443).N, Res_131445);
Intsetinit_55924(&Check_131447);
Counter_131464 = 0;
Counter_131464 = 0;
I_131472 = 0;
HEX3Atmp_144948 = 0;
LOC8 = Sonslen_55803(N_131440);
HEX3Atmp_144948 = (NI32)(LOC8 - 1);
Res_144950 = 0;
Res_144950 = 1;
while (1) {
if (!(Res_144950 <= HEX3Atmp_144948)) goto LA9;
I_131472 = Res_144950;
A_131485 = 0;
A_131485 = (*N_131440).KindU.S6.Sons->data[I_131472];
if (!!(((*A_131485).Kind == ((NU8) 25)))) goto LA11;
Illformedast_106092(A_131485);
LA11: ;
Checkminsonslen_106103(A_131485, 3);
Length_131495 = 0;
Length_131495 = Sonslen_55803(A_131485);
if (!!(((*A_131485).KindU.S6.Sons->data[(NI32)(Length_131495 - 2)] == NIM_NIL))) goto LA14;
Typ_131446 = Paramtype_131416(C_131439, (*A_131485).KindU.S6.Sons->data[(NI32)(Length_131495 - 2)], Genericparams_131441, &Cl_131448);
goto LA13;
LA14: ;
Typ_131446 = NIM_NIL;
LA13: ;
if (!!(((*A_131485).KindU.S6.Sons->data[(NI32)(Length_131495 - 1)] == NIM_NIL))) goto LA17;
Def_131444 = Semexprwithtype_124122(C_131439, (*A_131485).KindU.S6.Sons->data[(NI32)(Length_131495 - 1)], 0);
if (!!((Typ_131446 == NIM_NIL))) goto LA20;
LOC23 = Cmptypes_127467(Typ_131446, (*Def_131444).Typ);
if (!(LOC23 < ((NU8) 1))) goto LA24;
Typemismatch_128936((*A_131485).KindU.S6.Sons->data[(NI32)(Length_131495 - 1)], Typ_131446, (*Def_131444).Typ);
LA24: ;
Def_131444 = Fitnode_124129(C_131439, Typ_131446, Def_131444);
goto LA19;
LA20: ;
Typ_131446 = (*Def_131444).Typ;
LA19: ;
goto LA16;
LA17: ;
Def_131444 = NIM_NIL;
LA16: ;
J_131606 = 0;
HEX3Atmp_144942 = 0;
HEX3Atmp_144942 = (NI32)(Length_131495 - 3);
Res_144944 = 0;
Res_144944 = 0;
while (1) {
if (!(Res_144944 <= HEX3Atmp_144942)) goto LA26;
J_131606 = Res_144944;
Arg_131619 = 0;
Arg_131619 = Newsyms_124059(((NU8) 3), (*A_131485).KindU.S6.Sons->data[J_131606], C_131439);
asgnRef((void**) &(*Arg_131619).Typ, Typ_131446);
(*Arg_131619).Position = Counter_131464;
Counter_131464 += 1;
asgnRefNoCycle((void**) &(*Arg_131619).Ast, Copytree_55858(Def_131444));
LOC28 = Intsetcontainsorincl_55928(&Check_131447, (*(*Arg_131619).Name).Sup.Id);
if (!LOC28) goto LA29;
Limessage_47562((*(*A_131485).KindU.S6.Sons->data[J_131606]).Info, ((NU8) 37), (*(*Arg_131619).Name).S);
LA29: ;
LOC31 = 0;
LOC31 = Newsymnode_55734(Arg_131619);
Addson_55823((*Result_131443).N, LOC31);
Addson_55827(Result_131443, Typ_131446);
Res_144944 += 1;
} LA26: ;
Res_144950 += 1;
} LA9: ;
if (!!(((*N_131440).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA33;
asgnRef((void**) &(*Result_131443).Sons->data[0], Paramtype_131416(C_131439, (*N_131440).KindU.S6.Sons->data[0], Genericparams_131441, &Cl_131448));
asgnRef((void**) &(*Res_131445).Typ, (*Result_131443).Sons->data[0]);
LA33: ;
return Result_131443;
}
N_NIMCALL(void, Semparamlist_124147)(TY106012* C_124149, TY55525* N_124150, TY55525* Genericparams_124151, TY55547* S_124152) {
asgnRef((void**) &(*S_124152).Typ, Semproctypenode_131437(C_124149, N_124150, Genericparams_124151, NIM_NIL));
}
N_NIMCALL(void, Addparams_124153)(TY106012* C_124155, TY55525* N_124156) {
NI I_143322;
NI HEX3Atmp_145381;
NI LOC1;
NI Res_145383;
I_143322 = 0;
HEX3Atmp_145381 = 0;
LOC1 = Sonslen_55803(N_124156);
HEX3Atmp_145381 = (NI32)(LOC1 - 1);
Res_145383 = 0;
Res_145383 = 1;
while (1) {
if (!(Res_145383 <= HEX3Atmp_145381)) goto LA2;
I_143322 = Res_145383;
if (!!(((*(*N_124156).KindU.S6.Sons->data[I_143322]).Kind == ((NU8) 3)))) goto LA4;
Internalerror_47567((*N_124156).Info, ((NimStringDesc*) &TMP197127));
LA4: ;
Adddecl_107026(C_124155, (*(*N_124156).KindU.S6.Sons->data[I_143322]).KindU.S4.Sym);
Res_145383 += 1;
} LA2: ;
}
N_NIMCALL(TY55547*, Genericcacheget_125326)(TY106012* C_125328, TY55547* Genericsym_125329, TY55547* Instsym_125330) {
TY55547* Result_125331;
NI I_125339;
NI HEX3Atmp_128811;
NI LOC1;
NI Res_128813;
TY55547* A_125397;
TY55547* B_125436;
NU8 LOC10;
Result_125331 = 0;
Result_125331 = NIM_NIL;
I_125339 = 0;
HEX3Atmp_128811 = 0;
LOC1 = Sonslen_55803((*C_125328).Generics);
HEX3Atmp_128811 = (NI32)(LOC1 - 1);
Res_128813 = 0;
Res_128813 = 0;
while (1) {
if (!(Res_128813 <= HEX3Atmp_128811)) goto LA2;
I_125339 = Res_128813;
if (!!(((*(*(*C_125328).Generics).KindU.S6.Sons->data[I_125339]).Kind == ((NU8) 23)))) goto LA4;
Internalerror_47567((*Genericsym_125329).Info, ((NimStringDesc*) &TMP197128));
LA4: ;
A_125397 = 0;
A_125397 = (*(*(*(*C_125328).Generics).KindU.S6.Sons->data[I_125339]).KindU.S6.Sons->data[0]).KindU.S4.Sym;
if (!((*Genericsym_125329).Sup.Id == (*A_125397).Sup.Id)) goto LA7;
B_125436 = 0;
B_125436 = (*(*(*(*C_125328).Generics).KindU.S6.Sons->data[I_125339]).KindU.S6.Sons->data[1]).KindU.S4.Sym;
LOC10 = Equalparams_96065((*(*B_125436).Typ).N, (*(*Instsym_125330).Typ).N);
if (!(LOC10 == ((NU8) 1))) goto LA11;
Result_125331 = B_125436;
goto BeforeRet;
LA11: ;
LA7: ;
Res_128813 += 1;
} LA2: ;
BeforeRet: ;
return Result_125331;
}
N_NIMCALL(void, Genericcacheadd_125446)(TY106012* C_125448, TY55547* Genericsym_125449, TY55547* Instsym_125450) {
TY55525* N_125451;
TY55525* LOC1;
TY55525* LOC2;
N_125451 = 0;
N_125451 = Newnode_55710(((NU8) 23));
LOC1 = 0;
LOC1 = Newsymnode_55734(Genericsym_125449);
Addson_55823(N_125451, LOC1);
LOC2 = 0;
LOC2 = Newsymnode_55734(Instsym_125450);
Addson_55823(N_125451, LOC2);
Addson_55823((*C_125448).Generics, N_125451);
}
N_NIMCALL(void, Addresult_124157)(TY106012* C_124159, TY55551* T_124160, TY47532 Info_124161) {
TY55547* S_143438;
TY54011* LOC4;
TY55547* LOC5;
if (!!((T_124160 == NIM_NIL))) goto LA2;
S_143438 = 0;
LOC4 = 0;
LOC4 = Getident_54016(((NimStringDesc*) &TMP197130));
LOC5 = 0;
LOC5 = Getcurrowner_106107();
S_143438 = Newsym_55701(((NU8) 8), LOC4, LOC5);
(*S_143438).Info = Info_124161;
asgnRef((void**) &(*S_143438).Typ, T_124160);
(*S_143438).Flags |=(1<<((NI32)(((NU8) 12))%(sizeof(NI32)*8)));
(*S_143438).Flags |=(1<<((NI32)(((NU8) 0))%(sizeof(NI32)*8)));
Adddecl_107026(C_124159, S_143438);
asgnRef((void**) &(*(*C_124159).P).Resultsym, S_143438);
LA2: ;
}
N_NIMCALL(void, Addresultnode_124162)(TY106012* C_124164, TY55525* N_124165) {
TY55525* LOC4;
if (!!(((*(*C_124164).P).Resultsym == NIM_NIL))) goto LA2;
LOC4 = 0;
LOC4 = Newsymnode_55734((*(*C_124164).P).Resultsym);
Addson_55823(N_124165, LOC4);
LA2: ;
}
N_NIMCALL(TY55525*, Semstmtscope_124104)(TY106012* C_124106, TY55525* N_124107) {
TY55525* Result_144834;
Result_144834 = 0;
Openscope_59149(&(*C_124106).Tab);
Result_144834 = Semstmt_124143(C_124106, N_124107);
Closescope_107017(&(*C_124106).Tab);
return Result_144834;
}
N_NIMCALL(TY55547*, Generateinstance_125152)(TY106012* C_125154, TY55547* Fn_125155, TY55563 Pt_125156, TY47532 Info_125157) {
TY55547* Result_125458;
TY55547* Oldprc_125459;
TY55547* Oldmod_125460;
TY106006* Oldp_125461;
TY55525* N_125462;
TY55547* LOC4;
Result_125458 = 0;
Oldprc_125459 = 0;
Oldmod_125460 = 0;
Oldp_125461 = 0;
N_125462 = 0;
if (!(1000 < (*C_125154).Instcounter)) goto LA2;
Internalerror_47567((*(*Fn_125155).Ast).Info, ((NimStringDesc*) &TMP197091));
LA2: ;
(*C_125154).Instcounter += 1;
Oldp_125461 = (*C_125154).P;
Oldmod_125460 = (*C_125154).Module;
asgnRef((void**) &(*C_125154).Module, Getmodule_59206(Fn_125155));
Result_125458 = Copysym_55775(Fn_125155, NIM_FALSE);
(*Result_125458).Flags |=(1<<((NI32)(((NU8) 4))%(sizeof(NI32)*8)));
LOC4 = 0;
LOC4 = Getcurrowner_106107();
asgnRef((void**) &(*Result_125458).Owner, (*LOC4).Owner);
N_125462 = Copytree_55858((*Fn_125155).Ast);
asgnRefNoCycle((void**) &(*Result_125458).Ast, N_125462);
Pushowner_106109(Result_125458);
Openscope_59149(&(*C_125154).Tab);
if (!((*N_125462).KindU.S6.Sons->data[1] == NIM_NIL)) goto LA6;
Internalerror_47567((*N_125462).Info, ((NimStringDesc*) &TMP197092));
LA6: ;
asgnRefNoCycle((void**) &(*N_125462).KindU.S6.Sons->data[0], Newsymnode_55734(Result_125458));
Pushinfocontext_47606(Info_125157);
Instantiategenericparamlist_125227(C_125154, (*N_125462).KindU.S6.Sons->data[1], Pt_125156);
asgnRefNoCycle((void**) &(*N_125462).KindU.S6.Sons->data[1], NIM_NIL);
if (!!(((*N_125462).KindU.S6.Sons->data[2] == NIM_NIL))) goto LA9;
Semparamlist_124147(C_125154, (*N_125462).KindU.S6.Sons->data[2], NIM_NIL, Result_125458);
Addparams_124153(C_125154, (*(*Result_125458).Typ).N);
goto LA8;
LA9: ;
asgnRef((void**) &(*Result_125458).Typ, Newtypes_106077(((NU8) 25), C_125154));
Addson_55827((*Result_125458).Typ, NIM_NIL);
LA8: ;
Oldprc_125459 = Genericcacheget_125326(C_125154, Fn_125155, Result_125458);
if (!(Oldprc_125459 == NIM_NIL)) goto LA12;
Genericcacheadd_125446(C_125154, Fn_125155, Result_125458);
Adddecl_107026(C_125154, Result_125458);
if (!!(((*N_125462).KindU.S6.Sons->data[4] == NIM_NIL))) goto LA15;
asgnRefNoCycle((void**) &(*C_125154).P, Newproccon_106050(Result_125458));
if (!((5632 &(1<<(((*Result_125458).Kind)&31)))!=0)) goto LA18;
Addresult_124157(C_125154, (*(*Result_125458).Typ).Sons->data[0], (*N_125462).Info);
Addresultnode_124162(C_125154, N_125462);
LA18: ;
asgnRefNoCycle((void**) &(*N_125462).KindU.S6.Sons->data[4], Semstmtscope_124104(C_125154, (*N_125462).KindU.S6.Sons->data[4]));
LA15: ;
goto LA11;
LA12: ;
Result_125458 = Oldprc_125459;
LA11: ;
Popinfocontext_47609();
Closescope_107017(&(*C_125154).Tab);
Popowner_106112();
asgnRefNoCycle((void**) &(*C_125154).P, Oldp_125461);
asgnRef((void**) &(*C_125154).Module, Oldmod_125460);
(*C_125154).Instcounter -= 1;
return Result_125458;
}
N_NIMCALL(TY55525*, Semdirectcallwithbinding_128602)(TY106012* C_128604, TY55525* N_128605, TY55525* F_128606, NU32 Filter_128607, TY55525* Initialbinding_128608) {
TY55525* Result_128609;
TY107004 O_128610;
TY126058 X_128611;
TY126058 Y_128612;
TY126058 Z_128613;
TY55547* Sym_128615;
NI Cmp_128662;
NIM_BOOL LOC19;
NIM_BOOL LOC20;
NI LOC22;
NIM_BOOL LOC24;
NimStringDesc* LOC30;
TY72066 LOC31;
NimStringDesc* LOC32;
Result_128609 = 0;
memset((void*)&O_128610, 0, sizeof(O_128610));
memset((void*)&X_128611, 0, sizeof(X_128611));
memset((void*)&Y_128612, 0, sizeof(Y_128612));
memset((void*)&Z_128613, 0, sizeof(Z_128613));
Sym_128615 = 0;
Sym_128615 = Initoverloaditer_107058(&O_128610, C_128604, F_128606);
Result_128609 = NIM_NIL;
if (!(Sym_128615 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
Initcandidate_126092(&X_128611, Sym_128615, Initialbinding_128608);
Initcandidate_126092(&Y_128612, Sym_128615, Initialbinding_128608);
while (1) {
if (!!((Sym_128615 == NIM_NIL))) goto LA4;
if (!((Filter_128607 &(1<<(((*Sym_128615).Kind)&31)))!=0)) goto LA6;
Initcandidate_126092(&Z_128613, Sym_128615, Initialbinding_128608);
Z_128613.Calleesym = Sym_128615;
Matches_127970(C_128604, N_128605, &Z_128613);
if (!(Z_128613.State == ((NU8) 1))) goto LA9;
switch (X_128611.State) {
case ((NU8) 0):
case ((NU8) 2):
genericAssign((void*)&X_128611, (void*)&Z_128613, NTI126058);
break;
case ((NU8) 1):
Cmp_128662 = 0;
Cmp_128662 = Cmpcandidates_126141(&X_128611, &Z_128613);
if (!(Cmp_128662 < 0)) goto LA12;
genericAssign((void*)&X_128611, (void*)&Z_128613, NTI126058);
goto LA11;
LA12: ;
if (!(Cmp_128662 == 0)) goto LA14;
genericAssign((void*)&Y_128612, (void*)&Z_128613, NTI126058);
goto LA11;
LA14: ;
LA11: ;
break;
}
LA9: ;
LA6: ;
Sym_128615 = Nextoverloaditer_107064(&O_128610, C_128604, F_128606);
} LA4: ;
if (!(X_128611.State == ((NU8) 0))) goto LA17;
goto LA16;
LA17: ;
LOC20 = (Y_128612.State == ((NU8) 1));
if (!(LOC20)) goto LA21;
LOC22 = Cmpcandidates_126141(&X_128611, &Y_128612);
LOC20 = (LOC22 == 0);
LA21: ;
LOC19 = LOC20;
if (!(LOC19)) goto LA23;
LOC24 = Samemethoddispatcher_128526(X_128611.Calleesym, Y_128612.Calleesym);
LOC19 = !(LOC24);
LA23: ;
if (!LOC19) goto LA25;
if (!!((X_128611.State == ((NU8) 1)))) goto LA28;
Internalerror_47567((*N_128605).Info, ((NimStringDesc*) &TMP197087));
LA28: ;
LOC30 = 0;
LOC30 = Msgkindtostring_47588(((NU8) 129));
memset((void*)&LOC31, 0, sizeof(LOC31));
LOC31[0] = Getprocheader_96018(X_128611.Calleesym);
LOC31[1] = Getprocheader_96018(Y_128612.Calleesym);
LOC31[2] = copyString((*(*X_128611.Calleesym).Name).S);
LOC32 = 0;
LOC32 = nsuFormatOpenArray(LOC30, LOC31, 3);
Limessage_47562((*N_128605).Info, ((NU8) 4), LOC32);
goto LA16;
LA25: ;
Markused_124065(N_128605, X_128611.Calleesym);
if (!((*X_128611.Calleesym).Ast == NIM_NIL)) goto LA34;
Internalerror_47567((*N_128605).Info, ((NimStringDesc*) &TMP197090));
LA34: ;
if (!!(((*(*X_128611.Calleesym).Ast).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA37;
X_128611.Calleesym = Generateinstance_125152(C_128604, X_128611.Calleesym, X_128611.Bindings, (*N_128605).Info);
X_128611.Callee = (*X_128611.Calleesym).Typ;
LA37: ;
Result_128609 = X_128611.Call;
asgnRefNoCycle((void**) &(*Result_128609).KindU.S6.Sons->data[0], Newsymnode_55734(X_128611.Calleesym));
asgnRef((void**) &(*Result_128609).Typ, (*X_128611.Callee).Sons->data[0]);
LA16: ;
BeforeRet: ;
return Result_128609;
}
N_NIMCALL(TY55525*, Semdirectcall_128747)(TY106012* C_128749, TY55525* N_128750, NU32 Filter_128751) {
TY55525* Result_128752;
TY55525* Initialbinding_128753;
TY55525* F_128766;
Result_128752 = 0;
Initialbinding_128753 = 0;
F_128766 = 0;
F_128766 = (*N_128750).KindU.S6.Sons->data[0];
if (!((*F_128766).Kind == ((NU8) 33))) goto LA2;
Initialbinding_128753 = F_128766;
F_128766 = (*F_128766).KindU.S6.Sons->data[0];
goto LA1;
LA2: ;
Initialbinding_128753 = NIM_NIL;
LA1: ;
Result_128752 = Semdirectcallwithbinding_128602(C_128749, N_128750, F_128766, Filter_128751, Initialbinding_128753);
return Result_128752;
}
N_NIMCALL(TY55525*, Semdirectcallanalyseeffects_134104)(TY106012* C_134106, TY55525* N_134107, NU8 Flags_134108) {
TY55525* Result_134109;
TY55547* Callee_134179;
NIM_BOOL LOC11;
NIM_BOOL LOC19;
Result_134109 = 0;
if (!!(((Flags_134108 &(1<<((((NU8) 2))&7)))!=0))) goto LA2;
Result_134109 = Semdirectcall_128747(C_134106, N_134107, 5632);
goto LA1;
LA2: ;
Result_134109 = Semdirectcall_128747(C_134106, N_134107, 2048);
LA1: ;
if (!!((Result_134109 == NIM_NIL))) goto LA5;
if (!!(((*(*Result_134109).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA8;
Internalerror_47571(((NimStringDesc*) &TMP197132));
LA8: ;
Callee_134179 = 0;
Callee_134179 = (*(*Result_134109).KindU.S6.Sons->data[0]).KindU.S4.Sym;
LOC11 = ((*Callee_134179).Kind == ((NU8) 11));
if (!(LOC11)) goto LA12;
LOC11 = ((*Callee_134179).Sup.Id == (*(*(*C_134106).P).Owner).Sup.Id);
LA12: ;
if (!LOC11) goto LA13;
Limessage_47562((*N_134107).Info, ((NU8) 23), (*(*Callee_134179).Name).S);
LA13: ;
if (!!((((*Callee_134179).Flags &(1<<((((NU8) 13))&31)))!=0))) goto LA16;
LOC19 = (((*Callee_134179).Flags &(1<<((((NU8) 6))&31)))!=0);
if (LOC19) goto LA20;
LOC19 = !(((16512 & (*Callee_134179).Flags) == 0));
LA20: ;
if (!LOC19) goto LA21;
(*(*(*C_134106).P).Owner).Flags |=(1<<((NI32)(((NU8) 14))%(sizeof(NI32)*8)));
LA21: ;
LA16: ;
LA5: ;
return Result_134109;
}
N_NIMCALL(TY55525*, Semarrayconstr_133153)(TY106012* C_133155, TY55525* N_133156) {
TY55525* Result_133157;
NI LOC2;
TY55551* LOC5;
TY55525* LOC6;
TY55551* Typ_133185;
NI I_133193;
NI HEX3Atmp_145002;
NI LOC7;
NI Res_145004;
TY55525* LOC9;
NI LOC10;
Result_133157 = 0;
Result_133157 = Newnodei_55737(((NU8) 32), (*N_133156).Info);
asgnRef((void**) &(*Result_133157).Typ, Newtypes_106077(((NU8) 4), C_133155));
Addson_55827((*Result_133157).Typ, NIM_NIL);
LOC2 = Sonslen_55803(N_133156);
if (!(LOC2 == 0)) goto LA3;
LOC5 = 0;
LOC5 = Newtypes_106077(((NU8) 3), C_133155);
Addson_55827((*Result_133157).Typ, LOC5);
goto LA1;
LA3: ;
LOC6 = 0;
LOC6 = Semexprwithtype_124122(C_133155, (*N_133156).KindU.S6.Sons->data[0], 0);
Addson_55823(Result_133157, LOC6);
Typ_133185 = 0;
Typ_133185 = Skiptypes_96085((*(*Result_133157).KindU.S6.Sons->data[0]).Typ, 8423424);
I_133193 = 0;
HEX3Atmp_145002 = 0;
LOC7 = Sonslen_55803(N_133156);
HEX3Atmp_145002 = (NI32)(LOC7 - 1);
Res_145004 = 0;
Res_145004 = 1;
while (1) {
if (!(Res_145004 <= HEX3Atmp_145002)) goto LA8;
I_133193 = Res_145004;
asgnRefNoCycle((void**) &(*N_133156).KindU.S6.Sons->data[I_133193], Semexprwithtype_124122(C_133155, (*N_133156).KindU.S6.Sons->data[I_133193], 0));
LOC9 = 0;
LOC9 = Fitnode_124129(C_133155, Typ_133185, (*N_133156).KindU.S6.Sons->data[I_133193]);
Addson_55823(Result_133157, LOC9);
Res_145004 += 1;
} LA8: ;
Addson_55827((*Result_133157).Typ, Typ_133185);
LA1: ;
LOC10 = Sonslen_55803(Result_133157);
asgnRef((void**) &(*(*Result_133157).Typ).Sons->data[0], Makerangetype_106086(C_133155, 0, ((NI64) ((NI32)(LOC10 - 1))), (*N_133156).Info));
return Result_133157;
}
N_NIMCALL(void, Changetype_132939)(TY55525* N_132941, TY55551* Newtype_132942) {
TY55547* F_132943;
TY55525* A_132944;
TY55525* M_132945;
NI I_132953;
NI HEX3Atmp_144984;
NI LOC1;
NI Res_144986;
TY55551* LOC3;
NIM_BOOL LOC11;
NI LOC12;
NI I_133016;
NI HEX3Atmp_144990;
NI LOC16;
NI Res_144992;
NI I_133104;
NI HEX3Atmp_144996;
NI LOC24;
NI Res_144998;
TY55525* LOC26;
F_132943 = 0;
A_132944 = 0;
M_132945 = 0;
switch ((*N_132941).Kind) {
case ((NU8) 31):
case ((NU8) 32):
I_132953 = 0;
HEX3Atmp_144984 = 0;
LOC1 = Sonslen_55803(N_132941);
HEX3Atmp_144984 = (NI32)(LOC1 - 1);
Res_144986 = 0;
Res_144986 = 0;
while (1) {
if (!(Res_144986 <= HEX3Atmp_144984)) goto LA2;
I_132953 = Res_144986;
LOC3 = 0;
LOC3 = Elemtype_96089(Newtype_132942);
Changetype_132939((*N_132941).KindU.S6.Sons->data[I_132953], LOC3);
Res_144986 += 1;
} LA2: ;
break;
case ((NU8) 30):
if (!!(((*Newtype_132942).Kind == ((NU8) 18)))) goto LA5;
Internalerror_47567((*N_132941).Info, ((NimStringDesc*) &TMP197133));
LA5: ;
if (!((*Newtype_132942).N == NIM_NIL)) goto LA8;
Internalerror_47567((*N_132941).Info, ((NimStringDesc*) &TMP197134));
LA8: ;
LOC12 = Sonslen_55803(N_132941);
LOC11 = (0 < LOC12);
if (!(LOC11)) goto LA13;
LOC11 = ((*(*N_132941).KindU.S6.Sons->data[0]).Kind == ((NU8) 24));
LA13: ;
if (!LOC11) goto LA14;
I_133016 = 0;
HEX3Atmp_144990 = 0;
LOC16 = Sonslen_55803(N_132941);
HEX3Atmp_144990 = (NI32)(LOC16 - 1);
Res_144992 = 0;
Res_144992 = 0;
while (1) {
if (!(Res_144992 <= HEX3Atmp_144990)) goto LA17;
I_133016 = Res_144992;
M_132945 = (*(*N_132941).KindU.S6.Sons->data[I_133016]).KindU.S6.Sons->data[0];
if (!!(((*M_132945).Kind == ((NU8) 3)))) goto LA19;
Internalerror_47567((*M_132945).Info, ((NimStringDesc*) &TMP197135));
LA19: ;
F_132943 = Getsymfromlist_59197((*Newtype_132942).N, (*(*M_132945).KindU.S4.Sym).Name, 0);
if (!(F_132943 == NIM_NIL)) goto LA22;
Internalerror_47567((*M_132945).Info, ((NimStringDesc*) &TMP197136));
LA22: ;
Changetype_132939((*(*N_132941).KindU.S6.Sons->data[I_133016]).KindU.S6.Sons->data[1], (*F_132943).Typ);
Res_144992 += 1;
} LA17: ;
goto LA10;
LA14: ;
I_133104 = 0;
HEX3Atmp_144996 = 0;
LOC24 = Sonslen_55803(N_132941);
HEX3Atmp_144996 = (NI32)(LOC24 - 1);
Res_144998 = 0;
Res_144998 = 0;
while (1) {
if (!(Res_144998 <= HEX3Atmp_144996)) goto LA25;
I_133104 = Res_144998;
M_132945 = (*N_132941).KindU.S6.Sons->data[I_133104];
A_132944 = Newnodeit_55741(((NU8) 24), (*M_132945).Info, (*Newtype_132942).Sons->data[I_133104]);
LOC26 = 0;
LOC26 = Newsymnode_55734((*(*(*Newtype_132942).N).KindU.S6.Sons->data[I_133104]).KindU.S4.Sym);
Addson_55823(A_132944, LOC26);
Addson_55823(A_132944, M_132945);
Changetype_132939(M_132945, (*Newtype_132942).Sons->data[I_133104]);
asgnRefNoCycle((void**) &(*N_132941).KindU.S6.Sons->data[I_133104], A_132944);
Res_144998 += 1;
} LA25: ;
LA10: ;
break;
default:
break;
}
asgnRef((void**) &(*N_132941).Typ, Newtype_132942);
}
N_NIMCALL(void, Fixabstracttype_133230)(TY106012* C_133232, TY55525* N_133233) {
NI I_133241;
NI HEX3Atmp_145008;
NI LOC1;
NI Res_145010;
TY55525* It_133254;
TY55551* LOC7;
TY55551* S_133321;
NIM_BOOL LOC11;
TY55547* LOC15;
TY55551* LOC16;
TY55551* LOC17;
TY55551* LOC18;
TY55551* S_133376;
NimStringDesc* LOC24;
NimStringDesc* LOC25;
I_133241 = 0;
HEX3Atmp_145008 = 0;
LOC1 = Sonslen_55803(N_133233);
HEX3Atmp_145008 = (NI32)(LOC1 - 1);
Res_145010 = 0;
Res_145010 = 1;
while (1) {
if (!(Res_145010 <= HEX3Atmp_145008)) goto LA2;
I_133241 = Res_145010;
It_133254 = 0;
It_133254 = (*N_133233).KindU.S6.Sons->data[I_133241];
switch ((*It_133254).Kind) {
case ((NU8) 47):
case ((NU8) 48):
if (!((*(*It_133254).KindU.S6.Sons->data[1]).Kind == ((NU8) 32))) goto LA4;
asgnRefNoCycle((void**) &(*It_133254).KindU.S6.Sons->data[1], Semarrayconstr_133153(C_133232, (*It_133254).KindU.S6.Sons->data[1]));
LA4: ;
LOC7 = 0;
LOC7 = Skiptypes_96085((*It_133254).Typ, 8431616);
if (!((*LOC7).Kind == ((NU8) 27))) goto LA8;
S_133321 = 0;
S_133321 = Skiptypes_96085((*(*It_133254).KindU.S6.Sons->data[1]).Typ, 8431616);
LOC11 = ((*S_133321).Kind == ((NU8) 4));
if (!(LOC11)) goto LA12;
LOC11 = ((*(*S_133321).Sons->data[1]).Kind == ((NU8) 3));
LA12: ;
if (!LOC11) goto LA13;
LOC15 = 0;
LOC15 = Getcurrowner_106107();
S_133321 = Copytype_55770(S_133321, LOC15, NIM_FALSE);
LOC16 = 0;
LOC16 = Skiptypes_96085(S_133321, 8431616);
LOC17 = 0;
LOC17 = Skiptypes_96085((*It_133254).Typ, 8431616);
asgnRef((void**) &(*LOC16).Sons->data[1], Elemtype_96089(LOC17));
asgnRef((void**) &(*(*It_133254).KindU.S6.Sons->data[1]).Typ, S_133321);
LA13: ;
goto LA6;
LA8: ;
LOC18 = 0;
LOC18 = Skiptypes_96085((*(*It_133254).KindU.S6.Sons->data[1]).Typ, 8431616);
if (!((*LOC18).Kind == ((NU8) 5) || (*LOC18).Kind == ((NU8) 4) || (*LOC18).Kind == ((NU8) 18) || (*LOC18).Kind == ((NU8) 19))) goto LA19;
S_133376 = 0;
S_133376 = Skiptypes_96085((*It_133254).Typ, 8431616);
Changetype_132939((*It_133254).KindU.S6.Sons->data[1], S_133376);
asgnRefNoCycle((void**) &(*N_133233).KindU.S6.Sons->data[I_133241], (*It_133254).KindU.S6.Sons->data[1]);
goto LA6;
LA19: ;
LA6: ;
break;
case ((NU8) 32):
asgnRefNoCycle((void**) &(*N_133233).KindU.S6.Sons->data[I_133241], Semarrayconstr_133153(C_133232, It_133254));
break;
default:
if (!((*It_133254).Typ == NIM_NIL)) goto LA22;
LOC24 = 0;
LOC25 = 0;
LOC25 = Rendertree_84042(It_133254, 0);
LOC24 = rawNewString(LOC25->Sup.len + 17);
appendString(LOC24, ((NimStringDesc*) &TMP197137));
appendString(LOC24, LOC25);
Internalerror_47567((*It_133254).Info, LOC24);
LA22: ;
break;
}
Res_145010 += 1;
} LA2: ;
}
N_NIMCALL(NU8, Isassignable_133501)(TY55525* N_133503) {
NU8 Result_133504;
TY55551* LOC5;
NIM_BOOL LOC9;
TY55551* LOC14;
TY55551* LOC18;
Result_133504 = 0;
Result_133504 = ((NU8) 0);
switch ((*N_133503).Kind) {
case ((NU8) 3):
if (!((288 &(1<<(((*(*N_133503).KindU.S4.Sym).Kind)&31)))!=0)) goto LA2;
Result_133504 = ((NU8) 1);
LA2: ;
break;
case ((NU8) 36):
Checkminsonslen_106103(N_133503, 1);
LOC5 = 0;
LOC5 = Skiptypes_96085((*(*N_133503).KindU.S6.Sons->data[0]).Typ, 43008);
if (!((*LOC5).Kind == ((NU8) 23) || (*LOC5).Kind == ((NU8) 21) || (*LOC5).Kind == ((NU8) 22))) goto LA6;
Result_133504 = ((NU8) 1);
goto LA4;
LA6: ;
Result_133504 = Isassignable_133501((*N_133503).KindU.S6.Sons->data[0]);
LA4: ;
LOC9 = (Result_133504 == ((NU8) 1));
if (!(LOC9)) goto LA10;
LOC9 = (((*(*(*N_133503).KindU.S6.Sons->data[1]).KindU.S4.Sym).Flags &(1<<((((NU8) 21))&31)))!=0);
LA10: ;
if (!LOC9) goto LA11;
Result_133504 = ((NU8) 2);
LA11: ;
break;
case ((NU8) 33):
Checkminsonslen_106103(N_133503, 1);
LOC14 = 0;
LOC14 = Skiptypes_96085((*(*N_133503).KindU.S6.Sons->data[0]).Typ, 43008);
if (!((*LOC14).Kind == ((NU8) 23) || (*LOC14).Kind == ((NU8) 21) || (*LOC14).Kind == ((NU8) 22))) goto LA15;
Result_133504 = ((NU8) 1);
goto LA13;
LA15: ;
Result_133504 = Isassignable_133501((*N_133503).KindU.S6.Sons->data[0]);
LA13: ;
break;
case ((NU8) 47):
case ((NU8) 48):
case ((NU8) 50):
LOC18 = 0;
LOC18 = Skiptypes_96085((*N_133503).Typ, 14723072);
if (!((*LOC18).Kind == ((NU8) 27) || (*LOC18).Kind == ((NU8) 18) || (*LOC18).Kind == ((NU8) 17))) goto LA19;
Result_133504 = Isassignable_133501((*N_133503).KindU.S6.Sons->data[1]);
LA19: ;
break;
case ((NU8) 54):
case ((NU8) 38):
Result_133504 = ((NU8) 1);
break;
case ((NU8) 56):
case ((NU8) 55):
case ((NU8) 37):
Result_133504 = Isassignable_133501((*N_133503).KindU.S6.Sons->data[0]);
break;
default:
break;
}
return Result_133504;
}
N_NIMCALL(TY55525*, Newhiddenaddrtaken_133681)(TY106012* C_133683, TY55525* N_133684) {
TY55525* Result_133685;
TY55551* LOC4;
NU8 LOC6;
Result_133685 = 0;
if (!((*N_133684).Kind == ((NU8) 54))) goto LA2;
Checksonslen_106099(N_133684, 1);
Result_133685 = (*N_133684).KindU.S6.Sons->data[0];
goto LA1;
LA2: ;
LOC4 = 0;
LOC4 = Makevartype_106073(C_133683, (*N_133684).Typ);
Result_133685 = Newnodeit_55741(((NU8) 53), (*N_133684).Info, LOC4);
Addson_55823(Result_133685, N_133684);
LOC6 = Isassignable_133501(N_133684);
if (!!((LOC6 == ((NU8) 1)))) goto LA7;
Limessage_47562((*N_133684).Info, ((NU8) 124), ((NimStringDesc*) &TMP196936));
LA7: ;
LA1: ;
return Result_133685;
}
N_NIMCALL(TY55525*, Analyseifaddresstaken_133716)(TY106012* C_133718, TY55525* N_133719) {
TY55525* Result_133720;
TY55551* LOC2;
TY55551* LOC9;
TY55551* LOC13;
Result_133720 = 0;
Result_133720 = N_133719;
switch ((*N_133719).Kind) {
case ((NU8) 3):
LOC2 = 0;
LOC2 = Skiptypes_96085((*(*N_133719).KindU.S4.Sym).Typ, 43008);
if (!!(((*LOC2).Kind == ((NU8) 23)))) goto LA3;
(*(*N_133719).KindU.S4.Sym).Flags |=(1<<((NI32)(((NU8) 18))%(sizeof(NI32)*8)));
Result_133720 = Newhiddenaddrtaken_133681(C_133718, N_133719);
LA3: ;
break;
case ((NU8) 36):
Checksonslen_106099(N_133719, 2);
if (!!(((*(*N_133719).KindU.S6.Sons->data[1]).Kind == ((NU8) 3)))) goto LA6;
Internalerror_47567((*N_133719).Info, ((NimStringDesc*) &TMP197140));
LA6: ;
LOC9 = 0;
LOC9 = Skiptypes_96085((*(*(*N_133719).KindU.S6.Sons->data[1]).KindU.S4.Sym).Typ, 43008);
if (!!(((*LOC9).Kind == ((NU8) 23)))) goto LA10;
(*(*(*N_133719).KindU.S6.Sons->data[1]).KindU.S4.Sym).Flags |=(1<<((NI32)(((NU8) 18))%(sizeof(NI32)*8)));
Result_133720 = Newhiddenaddrtaken_133681(C_133718, N_133719);
LA10: ;
break;
case ((NU8) 33):
Checkminsonslen_106103(N_133719, 1);
LOC13 = 0;
LOC13 = Skiptypes_96085((*(*N_133719).KindU.S6.Sons->data[0]).Typ, 43008);
if (!!(((*LOC13).Kind == ((NU8) 23)))) goto LA14;
if (!((*(*N_133719).KindU.S6.Sons->data[0]).Kind == ((NU8) 3))) goto LA17;
(*(*(*N_133719).KindU.S6.Sons->data[0]).KindU.S4.Sym).Flags |=(1<<((NI32)(((NU8) 18))%(sizeof(NI32)*8)));
LA17: ;
Result_133720 = Newhiddenaddrtaken_133681(C_133718, N_133719);
LA14: ;
break;
default:
Result_133720 = Newhiddenaddrtaken_133681(C_133718, N_133719);
break;
}
return Result_133720;
}
N_NIMCALL(void, Analyseifaddresstakenincall_133934)(TY106012* C_133936, TY55525* N_133937) {
TY55551* T_133952;
NIM_BOOL LOC2;
NI I_134016;
NI HEX3Atmp_145014;
NI LOC6;
NI Res_145016;
NIM_BOOL LOC9;
NI LOC10;
TY55551* LOC12;
NU8 LOC16;
NI I_134068;
NI HEX3Atmp_145020;
NI LOC19;
NI Res_145022;
NIM_BOOL LOC22;
NI LOC23;
TY55551* LOC25;
Checkminsonslen_106103(N_133937, 1);
T_133952 = 0;
T_133952 = (*(*N_133937).KindU.S6.Sons->data[0]).Typ;
LOC2 = ((*(*N_133937).KindU.S6.Sons->data[0]).Kind == ((NU8) 3));
if (!(LOC2)) goto LA3;
LOC2 = ((TMP197138[(*(*(*N_133937).KindU.S6.Sons->data[0]).KindU.S4.Sym).Magic/8] &(1<<((*(*(*N_133937).KindU.S6.Sons->data[0]).KindU.S4.Sym).Magic%8)))!=0);
LA3: ;
if (!LOC2) goto LA4;
I_134016 = 0;
HEX3Atmp_145014 = 0;
LOC6 = Sonslen_55803(N_133937);
HEX3Atmp_145014 = (NI32)(LOC6 - 1);
Res_145016 = 0;
Res_145016 = 1;
while (1) {
if (!(Res_145016 <= HEX3Atmp_145014)) goto LA7;
I_134016 = Res_145016;
LOC10 = Sonslen_55806(T_133952);
LOC9 = (I_134016 < LOC10);
if (!(LOC9)) goto LA11;
LOC12 = 0;
LOC12 = Skiptypes_96085((*T_133952).Sons->data[I_134016], 43008);
LOC9 = ((*LOC12).Kind == ((NU8) 23));
LA11: ;
if (!LOC9) goto LA13;
LOC16 = Isassignable_133501((*N_133937).KindU.S6.Sons->data[I_134016]);
if (!!((LOC16 == ((NU8) 1)))) goto LA17;
Limessage_47562((*(*N_133937).KindU.S6.Sons->data[I_134016]).Info, ((NU8) 124), ((NimStringDesc*) &TMP196936));
LA17: ;
LA13: ;
Res_145016 += 1;
} LA7: ;
goto BeforeRet;
LA4: ;
I_134068 = 0;
HEX3Atmp_145020 = 0;
LOC19 = Sonslen_55803(N_133937);
HEX3Atmp_145020 = (NI32)(LOC19 - 1);
Res_145022 = 0;
Res_145022 = 1;
while (1) {
if (!(Res_145022 <= HEX3Atmp_145020)) goto LA20;
I_134068 = Res_145022;
LOC23 = Sonslen_55806(T_133952);
LOC22 = (I_134068 < LOC23);
if (!(LOC22)) goto LA24;
LOC25 = 0;
LOC25 = Skiptypes_96085((*T_133952).Sons->data[I_134068], 43008);
LOC22 = ((*LOC25).Kind == ((NU8) 23));
LA24: ;
if (!LOC22) goto LA26;
asgnRefNoCycle((void**) &(*N_133937).KindU.S6.Sons->data[I_134068], Analyseifaddresstaken_133716(C_133936, (*N_133937).KindU.S6.Sons->data[I_134068]));
LA26: ;
Res_145022 += 1;
} LA20: ;
BeforeRet: ;
}
N_NIMCALL(TY55525*, Propertywriteaccess_140641)(TY106012* C_140643, TY55525* N_140644, TY55525* A_140645) {
TY55525* Result_140646;
TY54011* Id_140647;
TY55525* LOC1;
NimStringDesc* LOC2;
TY54011* LOC3;
TY55525* LOC4;
TY55525* LOC5;
TY55525* LOC6;
TY55525* LOC7;
Result_140646 = 0;
Id_140647 = 0;
LOC1 = 0;
LOC1 = HEX5BHEX5D_57074(A_140645, 1);
Id_140647 = Consideracc_124003(LOC1);
Result_140646 = Newnodei_55737(((NU8) 21), (*N_140644).Info);
LOC2 = 0;
LOC2 = rawNewString((*Id_140647).S->Sup.len + 1);
appendString(LOC2, (*Id_140647).S);
appendChar(LOC2, 61);
LOC3 = 0;
LOC3 = Getident_54016(LOC2);
LOC4 = 0;
LOC4 = Newidentnode_55730(LOC3, (*N_140644).Info);
Addson_55823(Result_140646, LOC4);
LOC5 = 0;
LOC5 = HEX5BHEX5D_57074(A_140645, 0);
Addson_55823(Result_140646, LOC5);
LOC6 = 0;
LOC6 = HEX5BHEX5D_57074(N_140644, 1);
LOC7 = 0;
LOC7 = Semexpr_124115(C_140643, LOC6, 0);
Addson_55823(Result_140646, LOC7);
Result_140646 = Semdirectcallanalyseeffects_134104(C_140643, Result_140646, 0);
if (!!((Result_140646 == NIM_NIL))) goto LA9;
Fixabstracttype_133230(C_140643, Result_140646);
Analyseifaddresstakenincall_133934(C_140643, Result_140646);
goto LA8;
LA9: ;
Limessage_47562((*N_140644).Info, ((NU8) 77), (*Id_140647).S);
LA8: ;
return Result_140646;
}
N_NIMCALL(TY55525*, Semsubscript_135775)(TY106012* C_135777, TY55525* N_135778, NU8 Flags_135779) {
TY55525* Result_135780;
TY55551* Arr_135829;
NI I_135861;
NI HEX3Atmp_145084;
NI LOC1;
NI Res_145086;
TY55551* Indextype_135906;
TY55551* LOC3;
TY55525* Arg_135931;
TY55551* LOC10;
NI64 Idx_136040;
NIM_BOOL LOC14;
NI LOC16;
Result_135780 = 0;
Checkminsonslen_106103(N_135778, 2);
asgnRefNoCycle((void**) &(*N_135778).KindU.S6.Sons->data[0], Semexprwithtype_124122(C_135777, (*N_135778).KindU.S6.Sons->data[0], (Flags_135779 & ~ 1)));
Arr_135829 = 0;
Arr_135829 = Skiptypes_96085((*(*N_135778).KindU.S6.Sons->data[0]).Typ, 14682112);
switch ((*Arr_135829).Kind) {
case ((NU8) 16):
case ((NU8) 27):
case ((NU8) 4):
case ((NU8) 24):
case ((NU8) 28):
case ((NU8) 29):
Checksonslen_106099(N_135778, 2);
asgnRefNoCycle((void**) &(*N_135778).KindU.S6.Sons->data[0], Makederef_135197((*N_135778).KindU.S6.Sons->data[0]));
I_135861 = 0;
HEX3Atmp_145084 = 0;
LOC1 = Sonslen_55803(N_135778);
HEX3Atmp_145084 = (NI32)(LOC1 - 1);
Res_145086 = 0;
Res_145086 = 1;
while (1) {
if (!(Res_145086 <= HEX3Atmp_145084)) goto LA2;
I_135861 = Res_145086;
asgnRefNoCycle((void**) &(*N_135778).KindU.S6.Sons->data[I_135861], Semexprwithtype_124122(C_135777, (*N_135778).KindU.S6.Sons->data[I_135861], (Flags_135779 & ~ 1)));
Res_145086 += 1;
} LA2: ;
Indextype_135906 = 0;
LOC3 = 0;
if (!((*Arr_135829).Kind == ((NU8) 16))) goto LA5;
LOC3 = (*Arr_135829).Sons->data[0];
goto LA4;
LA5: ;
LOC3 = Getsystype_101008(((NU8) 31));
LA4: ;
Indextype_135906 = LOC3;
Arg_135931 = 0;
Arg_135931 = Indextypesmatch_127917(C_135777, Indextype_135906, (*(*N_135778).KindU.S6.Sons->data[1]).Typ, (*N_135778).KindU.S6.Sons->data[1]);
if (!!((Arg_135931 == NIM_NIL))) goto LA7;
asgnRefNoCycle((void**) &(*N_135778).KindU.S6.Sons->data[1], Arg_135931);
goto LA6;
LA7: ;
Limessage_47562((*N_135778).Info, ((NU8) 80), ((NimStringDesc*) &TMP196936));
LA6: ;
Result_135780 = N_135778;
asgnRef((void**) &(*Result_135780).Typ, Elemtype_96089(Arr_135829));
break;
case ((NU8) 18):
Checksonslen_106099(N_135778, 2);
asgnRefNoCycle((void**) &(*N_135778).KindU.S6.Sons->data[0], Makederef_135197((*N_135778).KindU.S6.Sons->data[0]));
asgnRefNoCycle((void**) &(*N_135778).KindU.S6.Sons->data[1], Semconstexpr_124171(C_135777, (*N_135778).KindU.S6.Sons->data[1]));
LOC10 = 0;
LOC10 = Skiptypes_96085((*(*N_135778).KindU.S6.Sons->data[1]).Typ, 1083392);
if (!((*LOC10).Kind >= ((NU8) 31) && (*LOC10).Kind <= ((NU8) 35))) goto LA11;
Idx_136040 = 0;
Idx_136040 = Getordvalue_96107((*N_135778).KindU.S6.Sons->data[1]);
LOC14 = (0 <= Idx_136040);
if (!(LOC14)) goto LA15;
LOC16 = Sonslen_55806(Arr_135829);
LOC14 = (Idx_136040 < ((NI64) (LOC16)));
LA15: ;
if (!LOC14) goto LA17;
asgnRef((void**) &(*N_135778).Typ, (*Arr_135829).Sons->data[Idx_136040]);
goto LA13;
LA17: ;
Limessage_47562((*N_135778).Info, ((NU8) 180), ((NimStringDesc*) &TMP196936));
LA13: ;
goto LA9;
LA11: ;
Limessage_47562((*N_135778).Info, ((NU8) 80), ((NimStringDesc*) &TMP196936));
LA9: ;
Result_135780 = N_135778;
break;
default:
break;
}
return Result_135780;
}
static N_INLINE(NI, Len_56946)(TY55525* N_56948) {
NI Result_56949;
Result_56949 = 0;
if (!(*N_56948).KindU.S6.Sons == 0) goto LA2;
Result_56949 = 0;
goto LA1;
LA2: ;
Result_56949 = (*N_56948).KindU.S6.Sons->Sup.len;
LA1: ;
return Result_56949;
}
N_NIMCALL(void, Addsliceopr_135697)(NimStringDesc** Result_135700, TY55525* N_135701) {
TY55525* LOC2;
TY55525* LOC6;
TY55525* LOC9;
LOC2 = 0;
LOC2 = HEX5BHEX5D_57074(N_135701, 0);
if (!(LOC2 == NIM_NIL)) goto LA3;
LOC6 = 0;
LOC6 = HEX5BHEX5D_57074(N_135701, 1);
if (!(LOC6 == NIM_NIL)) goto LA7;
(*Result_135700) = resizeString((*Result_135700), 2);
appendString((*Result_135700), ((NimStringDesc*) &TMP197143));
goto LA5;
LA7: ;
(*Result_135700) = resizeString((*Result_135700), 3);
appendString((*Result_135700), ((NimStringDesc*) &TMP197144));
LA5: ;
goto LA1;
LA3: ;
LOC9 = 0;
LOC9 = HEX5BHEX5D_57074(N_135701, 1);
if (!(LOC9 == NIM_NIL)) goto LA10;
(*Result_135700) = resizeString((*Result_135700), 3);
appendString((*Result_135700), ((NimStringDesc*) &TMP197145));
goto LA1;
LA10: ;
(*Result_135700) = resizeString((*Result_135700), 4);
appendString((*Result_135700), ((NimStringDesc*) &TMP197146));
LA1: ;
}
N_NIMCALL(TY55525*, Buildoverloadedsubscripts_135735)(TY55525* N_135737, NIM_BOOL Inasgn_135738) {
TY55525* Result_135739;
TY55525* LOC1;
NimStringDesc* Opr_135740;
NI I_135750;
NI HEX3Atmp_145078;
NI LOC2;
NI Res_145080;
TY55525* LOC8;
TY55525* LOC11;
TY55525* LOC12;
TY55525* LOC13;
TY55525* LOC14;
TY55525* LOC15;
TY55525* LOC16;
TY55525* LOC17;
TY54011* LOC21;
Result_135739 = 0;
Result_135739 = Newnodei_55737(((NU8) 21), (*N_135737).Info);
Add_56992(Result_135739, NIM_NIL);
LOC1 = 0;
LOC1 = HEX5BHEX5D_57074(N_135737, 0);
Add_56992(Result_135739, LOC1);
Opr_135740 = 0;
Opr_135740 = copyString(((NimStringDesc*) &TMP197141));
I_135750 = 0;
HEX3Atmp_145078 = 0;
LOC2 = Len_56946(N_135737);
HEX3Atmp_145078 = (NI32)(LOC2 - 1);
Res_145080 = 0;
Res_145080 = 1;
while (1) {
if (!(Res_145080 <= HEX3Atmp_145078)) goto LA3;
I_135750 = Res_145080;
if (!(1 < I_135750)) goto LA5;
Opr_135740 = resizeString(Opr_135740, 1);
appendString(Opr_135740, ((NimStringDesc*) &TMP197142));
LA5: ;
LOC8 = 0;
LOC8 = HEX5BHEX5D_57074(N_135737, I_135750);
if (!((*LOC8).Kind == ((NU8) 35))) goto LA9;
LOC11 = 0;
LOC11 = HEX5BHEX5D_57074(N_135737, I_135750);
Checksonslen_106099(LOC11, 2);
LOC12 = 0;
LOC12 = HEX5BHEX5D_57074(N_135737, I_135750);
Addsliceopr_135697(&Opr_135740, LOC12);
LOC13 = 0;
LOC13 = HEX5BHEX5D_57074(N_135737, I_135750);
LOC14 = 0;
LOC14 = HEX5BHEX5D_57074(LOC13, 0);
Addsonifnotnil_55831(Result_135739, LOC14);
LOC15 = 0;
LOC15 = HEX5BHEX5D_57074(N_135737, I_135750);
LOC16 = 0;
LOC16 = HEX5BHEX5D_57074(LOC15, 1);
Addsonifnotnil_55831(Result_135739, LOC16);
goto LA7;
LA9: ;
LOC17 = 0;
LOC17 = HEX5BHEX5D_57074(N_135737, I_135750);
Add_56992(Result_135739, LOC17);
LA7: ;
Res_145080 += 1;
} LA3: ;
if (!Inasgn_135738) goto LA19;
Opr_135740 = resizeString(Opr_135740, 2);
appendString(Opr_135740, ((NimStringDesc*) &TMP197147));
goto LA18;
LA19: ;
Opr_135740 = resizeString(Opr_135740, 1);
appendString(Opr_135740, ((NimStringDesc*) &TMP197148));
LA18: ;
LOC21 = 0;
LOC21 = Getident_54016(Opr_135740);
asgnRefNoCycle((void**) &(*Result_135739).KindU.S6.Sons->data[0], Newidentnode_55730(LOC21, (*N_135737).Info));
return Result_135739;
}
N_NIMCALL(TY55525*, Semexprnotype_139703)(TY106012* C_139705, TY55525* N_139706) {
TY55525* Result_139707;
NIM_BOOL LOC2;
Result_139707 = 0;
Result_139707 = Semexpr_124115(C_139705, N_139706, 0);
LOC2 = !(((*Result_139707).Typ == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC2 = !(((*(*Result_139707).Typ).Kind == ((NU8) 7)));
LA3: ;
if (!LOC2) goto LA4;
Limessage_47562((*N_139706).Info, ((NU8) 137), ((NimStringDesc*) &TMP196936));
LA4: ;
return Result_139707;
}
N_NIMCALL(TY55525*, Semasgn_140665)(TY106012* C_140667, TY55525* N_140668) {
TY55525* Result_140669;
TY55525* A_140682;
TY55525* LOC4;
TY55525* LOC8;
TY55551* Le_140862;
NIM_BOOL LOC10;
TY55551* LOC11;
NU8 LOC13;
NimStringDesc* LOC16;
Result_140669 = 0;
Checksonslen_106099(N_140668, 2);
A_140682 = 0;
A_140682 = (*N_140668).KindU.S6.Sons->data[0];
switch ((*A_140682).Kind) {
case ((NU8) 36):
A_140682 = Builtinfieldaccess_135226(C_140667, A_140682, 2);
if (!(A_140682 == NIM_NIL)) goto LA2;
LOC4 = 0;
LOC4 = HEX5BHEX5D_57074(N_140668, 0);
Result_140669 = Propertywriteaccess_140641(C_140667, N_140668, LOC4);
goto BeforeRet;
LA2: ;
break;
case ((NU8) 33):
A_140682 = Semsubscript_135775(C_140667, A_140682, 2);
if (!(A_140682 == NIM_NIL)) goto LA6;
Result_140669 = Buildoverloadedsubscripts_135735((*N_140668).KindU.S6.Sons->data[0], NIM_TRUE);
LOC8 = 0;
LOC8 = HEX5BHEX5D_57074(N_140668, 1);
Add_56992(Result_140669, LOC8);
Result_140669 = Semexprnotype_139703(C_140667, Result_140669);
goto BeforeRet;
LA6: ;
break;
default:
A_140682 = Semexprwithtype_124122(C_140667, A_140682, 2);
break;
}
asgnRefNoCycle((void**) &(*N_140668).KindU.S6.Sons->data[0], A_140682);
asgnRefNoCycle((void**) &(*N_140668).KindU.S6.Sons->data[1], Semexprwithtype_124122(C_140667, (*N_140668).KindU.S6.Sons->data[1], 0));
Le_140862 = 0;
Le_140862 = (*A_140682).Typ;
LOC11 = 0;
LOC11 = Skiptypes_96085(Le_140862, 2048);
LOC10 = !(((*LOC11).Kind == ((NU8) 23)));
if (!(LOC10)) goto LA12;
LOC13 = Isassignable_133501(A_140682);
LOC10 = (LOC13 == ((NU8) 0));
LA12: ;
if (!LOC10) goto LA14;
LOC16 = 0;
LOC16 = Rendertree_84042(A_140682, 4);
Limessage_47562((*A_140682).Info, ((NU8) 173), LOC16);
goto LA9;
LA14: ;
asgnRefNoCycle((void**) &(*N_140668).KindU.S6.Sons->data[1], Fitnode_124129(C_140667, Le_140862, (*N_140668).KindU.S6.Sons->data[1]));
Fixabstracttype_133230(C_140667, N_140668);
LA9: ;
Result_140669 = N_140668;
BeforeRet: ;
return Result_140669;
}
N_NIMCALL(TY55525*, Semcommand_144685)(TY106012* C_144687, TY55525* N_144688) {
TY55525* Result_144689;
Result_144689 = 0;
Result_144689 = Semexprnotype_139703(C_144687, N_144688);
return Result_144689;
}
N_NIMCALL(TY55525*, Semblock_140153)(TY106012* C_140155, TY55525* N_140156) {
TY55525* Result_140157;
TY55547* Labl_140206;
Result_140157 = 0;
Result_140157 = N_140156;
(*(*C_140155).P).Nestedblockcounter += 1;
Checksonslen_106099(N_140156, 2);
Openscope_59149(&(*C_140155).Tab);
if (!!(((*N_140156).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA2;
Labl_140206 = 0;
Labl_140206 = Newsyms_124059(((NU8) 19), (*N_140156).KindU.S6.Sons->data[0], C_140155);
Adddecl_107026(C_140155, Labl_140206);
asgnRefNoCycle((void**) &(*N_140156).KindU.S6.Sons->data[0], Newsymnode_55734(Labl_140206));
LA2: ;
asgnRefNoCycle((void**) &(*N_140156).KindU.S6.Sons->data[1], Semstmt_124143(C_140155, (*N_140156).KindU.S6.Sons->data[1]));
Closescope_107017(&(*C_140155).Tab);
(*(*C_140155).P).Nestedblockcounter -= 1;
return Result_140157;
}
N_NIMCALL(TY55525*, Semraise_142191)(TY106012* C_142193, TY55525* N_142194) {
TY55525* Result_142195;
TY55551* Typ_142255;
NIM_BOOL LOC5;
Result_142195 = 0;
Result_142195 = N_142194;
Checksonslen_106099(N_142194, 1);
if (!!(((*N_142194).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA2;
asgnRefNoCycle((void**) &(*N_142194).KindU.S6.Sons->data[0], Semexprwithtype_124122(C_142193, (*N_142194).KindU.S6.Sons->data[0], 0));
Typ_142255 = 0;
Typ_142255 = (*(*N_142194).KindU.S6.Sons->data[0]).Typ;
LOC5 = !(((*Typ_142255).Kind == ((NU8) 22)));
if (LOC5) goto LA6;
LOC5 = !(((*(*Typ_142255).Sons->data[0]).Kind == ((NU8) 17)));
LA6: ;
if (!LOC5) goto LA7;
Limessage_47562((*N_142194).Info, ((NU8) 110), ((NimStringDesc*) &TMP196936));
LA7: ;
LA2: ;
return Result_142195;
}
N_NIMCALL(TY55525*, Semvar_141296)(TY106012* C_141298, TY55525* N_141299) {
TY55525* Result_141300;
NI Length_141301;
TY55525* A_141302;
TY55525* B_141303;
TY55525* Def_141304;
TY55551* Typ_141305;
TY55551* Tup_141306;
TY55547* V_141307;
NI I_141315;
NI HEX3Atmp_145303;
NI LOC1;
NI Res_145305;
NIM_BOOL LOC8;
NIM_BOOL LOC22;
NimStringDesc* LOC25;
NI LOC33;
NI J_141488;
NI HEX3Atmp_145297;
NI Res_145299;
TY55525* LOC46;
TY55525* LOC47;
Result_141300 = 0;
Length_141301 = 0;
A_141302 = 0;
B_141303 = 0;
Def_141304 = 0;
Typ_141305 = 0;
Tup_141306 = 0;
V_141307 = 0;
Result_141300 = Copynode_55855(N_141299);
I_141315 = 0;
HEX3Atmp_145303 = 0;
LOC1 = Sonslen_55803(N_141299);
HEX3Atmp_145303 = (NI32)(LOC1 - 1);
Res_145305 = 0;
Res_145305 = 0;
while (1) {
if (!(Res_145305 <= HEX3Atmp_145303)) goto LA2;
I_141315 = Res_145305;
A_141302 = (*N_141299).KindU.S6.Sons->data[I_141315];
if (!((*A_141302).Kind == ((NU8) 105))) goto LA5;
goto LA3;
LA5: ;
LOC8 = !(((*A_141302).Kind == ((NU8) 25)));
if (!(LOC8)) goto LA9;
LOC8 = !(((*A_141302).Kind == ((NU8) 26)));
LA9: ;
if (!LOC8) goto LA10;
Illformedast_106092(A_141302);
LA10: ;
Checkminsonslen_106103(A_141302, 3);
Length_141301 = Sonslen_55803(A_141302);
if (!!(((*A_141302).KindU.S6.Sons->data[(NI32)(Length_141301 - 2)] == NIM_NIL))) goto LA13;
Typ_141305 = Semtypenode_124138(C_141298, (*A_141302).KindU.S6.Sons->data[(NI32)(Length_141301 - 2)], NIM_NIL);
goto LA12;
LA13: ;
Typ_141305 = NIM_NIL;
LA12: ;
if (!!(((*A_141302).KindU.S6.Sons->data[(NI32)(Length_141301 - 1)] == NIM_NIL))) goto LA16;
Def_141304 = Semexprwithtype_124122(C_141298, (*A_141302).KindU.S6.Sons->data[(NI32)(Length_141301 - 1)], 0);
if (!!((Typ_141305 == NIM_NIL))) goto LA19;
Def_141304 = Fitnode_124129(C_141298, Typ_141305, Def_141304);
goto LA18;
LA19: ;
Typ_141305 = (*Def_141304).Typ;
LA18: ;
goto LA15;
LA16: ;
Def_141304 = NIM_NIL;
LA15: ;
LOC22 = Typeallowed_96134(Typ_141305, ((NU8) 8));
if (!!(LOC22)) goto LA23;
LOC25 = 0;
LOC25 = Typetostring_96014(Typ_141305, ((NU8) 0));
Limessage_47562((*A_141302).Info, ((NU8) 162), LOC25);
LA23: ;
Tup_141306 = Skiptypes_96085(Typ_141305, 2048);
if (!((*A_141302).Kind == ((NU8) 26))) goto LA27;
if (!!(((*Tup_141306).Kind == ((NU8) 18)))) goto LA30;
Limessage_47562((*A_141302).Info, ((NU8) 182), ((NimStringDesc*) &TMP197154));
LA30: ;
LOC33 = Sonslen_55806(Tup_141306);
if (!!(((NI32)(Length_141301 - 2) == LOC33))) goto LA34;
Limessage_47562((*A_141302).Info, ((NU8) 109), ((NimStringDesc*) &TMP196936));
LA34: ;
B_141303 = Newnodei_55737(((NU8) 26), (*A_141302).Info);
Newsons_55815(B_141303, Length_141301);
asgnRefNoCycle((void**) &(*B_141303).KindU.S6.Sons->data[(NI32)(Length_141301 - 2)], NIM_NIL);
asgnRefNoCycle((void**) &(*B_141303).KindU.S6.Sons->data[(NI32)(Length_141301 - 1)], Def_141304);
Addson_55823(Result_141300, B_141303);
LA27: ;
J_141488 = 0;
HEX3Atmp_145297 = 0;
HEX3Atmp_145297 = (NI32)(Length_141301 - 3);
Res_145299 = 0;
Res_145299 = 0;
while (1) {
if (!(Res_145299 <= HEX3Atmp_145297)) goto LA36;
J_141488 = Res_145299;
if (!((*(*(*C_141298).P).Owner).Kind == ((NU8) 18))) goto LA38;
V_141307 = Semidentwithpragma_124098(C_141298, ((NU8) 8), (*A_141302).KindU.S6.Sons->data[J_141488], 6);
(*V_141307).Flags |=(1<<((NI32)(((NU8) 5))%(sizeof(NI32)*8)));
goto LA37;
LA38: ;
V_141307 = Semidentwithpragma_124098(C_141298, ((NU8) 8), (*A_141302).KindU.S6.Sons->data[J_141488], 0);
LA37: ;
if (!!((((*V_141307).Flags & 6) == 0))) goto LA41;
(*V_141307).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
LA41: ;
Addinterfacedecl_107040(C_141298, V_141307);
if (!!(((*A_141302).Kind == ((NU8) 26)))) goto LA44;
asgnRef((void**) &(*V_141307).Typ, Typ_141305);
B_141303 = Newnodei_55737(((NU8) 25), (*A_141302).Info);
LOC46 = 0;
LOC46 = Newsymnode_55734(V_141307);
Addson_55823(B_141303, LOC46);
Addson_55823(B_141303, NIM_NIL);
LOC47 = 0;
LOC47 = Copytree_55858(Def_141304);
Addson_55823(B_141303, LOC47);
Addson_55823(Result_141300, B_141303);
goto LA43;
LA44: ;
asgnRef((void**) &(*V_141307).Typ, (*Tup_141306).Sons->data[J_141488]);
asgnRefNoCycle((void**) &(*B_141303).KindU.S6.Sons->data[J_141488], Newsymnode_55734(V_141307));
LA43: ;
Res_145299 += 1;
} LA36: ;
LA3: ;
Res_145305 += 1;
} LA2: ;
return Result_141300;
}
N_NIMCALL(TY55525*, Semandevalconstexpr_124198)(TY106012* C_124200, TY55525* N_124201) {
TY55525* Result_124202;
TY55525* E_124203;
NIM_BOOL LOC8;
Result_124202 = 0;
E_124203 = 0;
E_124203 = Semexprwithtype_124122(C_124200, N_124201, 0);
if (!(E_124203 == NIM_NIL)) goto LA2;
Limessage_47562((*N_124201).Info, ((NU8) 102), ((NimStringDesc*) &TMP196936));
Result_124202 = NIM_NIL;
goto BeforeRet;
LA2: ;
Result_124202 = Getconstexpr_112010((*C_124200).Module, E_124203);
if (!(Result_124202 == NIM_NIL)) goto LA5;
Result_124202 = Evalconstexpr_114042((*C_124200).Module, E_124203);
LOC8 = (Result_124202 == NIM_NIL);
if (LOC8) goto LA9;
LOC8 = ((*Result_124202).Kind == ((NU8) 1));
LA9: ;
if (!LOC8) goto LA10;
Limessage_47562((*N_124201).Info, ((NU8) 102), ((NimStringDesc*) &TMP196936));
LA10: ;
LA5: ;
BeforeRet: ;
return Result_124202;
}
N_NIMCALL(TY55525*, Fitremovehiddenconv_141254)(TY106012* C_141256, TY55551* Typ_141257, TY55525* N_141258) {
TY55525* Result_141259;
NIM_BOOL LOC4;
Result_141259 = 0;
Result_141259 = Fitnode_124129(C_141256, Typ_141257, N_141258);
if (!((*Result_141259).Kind == ((NU8) 47) || (*Result_141259).Kind == ((NU8) 48))) goto LA2;
Changetype_132939((*Result_141259).KindU.S6.Sons->data[1], Typ_141257);
Result_141259 = (*Result_141259).KindU.S6.Sons->data[1];
goto LA1;
LA2: ;
LOC4 = Sametype_96048((*Result_141259).Typ, Typ_141257);
if (!!(LOC4)) goto LA5;
Changetype_132939(Result_141259, Typ_141257);
goto LA1;
LA5: ;
LA1: ;
return Result_141259;
}
N_NIMCALL(TY55525*, Semconst_141594)(TY106012* C_141596, TY55525* N_141597) {
TY55525* Result_141598;
TY55525* A_141599;
TY55525* Def_141600;
TY55525* B_141601;
TY55547* V_141602;
TY55551* Typ_141603;
NI I_141611;
NI HEX3Atmp_145313;
NI LOC1;
NI Res_145315;
NIM_BOOL LOC20;
NimStringDesc* LOC23;
TY55525* LOC27;
TY55525* LOC28;
Result_141598 = 0;
A_141599 = 0;
Def_141600 = 0;
B_141601 = 0;
V_141602 = 0;
Typ_141603 = 0;
Result_141598 = Copynode_55855(N_141597);
I_141611 = 0;
HEX3Atmp_145313 = 0;
LOC1 = Sonslen_55803(N_141597);
HEX3Atmp_145313 = (NI32)(LOC1 - 1);
Res_145315 = 0;
Res_145315 = 0;
while (1) {
if (!(Res_145315 <= HEX3Atmp_145313)) goto LA2;
I_141611 = Res_145315;
A_141599 = (*N_141597).KindU.S6.Sons->data[I_141611];
if (!((*A_141599).Kind == ((NU8) 105))) goto LA5;
goto LA3;
LA5: ;
if (!!(((*A_141599).Kind == ((NU8) 89)))) goto LA8;
Illformedast_106092(A_141599);
LA8: ;
Checksonslen_106099(A_141599, 3);
if (!((*(*(*C_141596).P).Owner).Kind == ((NU8) 18))) goto LA11;
V_141602 = Semidentwithpragma_124098(C_141596, ((NU8) 7), (*A_141599).KindU.S6.Sons->data[0], 6);
(*V_141602).Flags |=(1<<((NI32)(((NU8) 5))%(sizeof(NI32)*8)));
goto LA10;
LA11: ;
V_141602 = Semidentwithpragma_124098(C_141596, ((NU8) 7), (*A_141599).KindU.S6.Sons->data[0], 0);
LA10: ;
if (!!(((*A_141599).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA14;
Typ_141603 = Semtypenode_124138(C_141596, (*A_141599).KindU.S6.Sons->data[1], NIM_NIL);
goto LA13;
LA14: ;
Typ_141603 = NIM_NIL;
LA13: ;
Def_141600 = Semandevalconstexpr_124198(C_141596, (*A_141599).KindU.S6.Sons->data[2]);
if (!!((Typ_141603 == NIM_NIL))) goto LA17;
Def_141600 = Fitremovehiddenconv_141254(C_141596, Typ_141603, Def_141600);
goto LA16;
LA17: ;
Typ_141603 = (*Def_141600).Typ;
LA16: ;
LOC20 = Typeallowed_96134(Typ_141603, ((NU8) 7));
if (!!(LOC20)) goto LA21;
LOC23 = 0;
LOC23 = Typetostring_96014(Typ_141603, ((NU8) 0));
Limessage_47562((*A_141599).Info, ((NU8) 162), LOC23);
LA21: ;
asgnRef((void**) &(*V_141602).Typ, Typ_141603);
asgnRefNoCycle((void**) &(*V_141602).Ast, Def_141600);
if (!!((((*V_141602).Flags & 6) == 0))) goto LA25;
(*V_141602).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
LA25: ;
Addinterfacedecl_107040(C_141596, V_141602);
B_141601 = Newnodei_55737(((NU8) 89), (*A_141599).Info);
LOC27 = 0;
LOC27 = Newsymnode_55734(V_141602);
Addson_55823(B_141601, LOC27);
Addson_55823(B_141601, NIM_NIL);
LOC28 = 0;
LOC28 = Copytree_55858(Def_141600);
Addson_55823(B_141601, LOC28);
Addson_55823(Result_141598, B_141601);
LA3: ;
Res_145315 += 1;
} LA2: ;
return Result_141598;
}
N_NIMCALL(void, Setmagictype_132008)(TY55547* M_132010, NU8 Kind_132011, NI Size_132012) {
(*(*M_132010).Typ).Kind = Kind_132011;
(*(*M_132010).Typ).Align = Size_132012;
(*(*M_132010).Typ).Size = ((NI64) (Size_132012));
}
N_NIMCALL(void, Processmagictype_132013)(TY106012* C_132015, TY55547* M_132016) {
TY55551* LOC1;
TY55551* LOC2;
TY55551* LOC3;
switch ((*M_132016).Magic) {
case ((NU8) 168):
Setmagictype_132008(M_132016, ((NU8) 31), Intsize_51570);
break;
case ((NU8) 169):
Setmagictype_132008(M_132016, ((NU8) 32), 1);
break;
case ((NU8) 170):
Setmagictype_132008(M_132016, ((NU8) 33), 2);
break;
case ((NU8) 171):
Setmagictype_132008(M_132016, ((NU8) 34), 4);
break;
case ((NU8) 172):
Setmagictype_132008(M_132016, ((NU8) 35), 8);
break;
case ((NU8) 173):
Setmagictype_132008(M_132016, ((NU8) 36), Floatsize_51571);
break;
case ((NU8) 174):
Setmagictype_132008(M_132016, ((NU8) 37), 4);
break;
case ((NU8) 175):
Setmagictype_132008(M_132016, ((NU8) 38), 8);
break;
case ((NU8) 176):
Setmagictype_132008(M_132016, ((NU8) 1), 1);
break;
case ((NU8) 177):
Setmagictype_132008(M_132016, ((NU8) 2), 1);
break;
case ((NU8) 178):
Setmagictype_132008(M_132016, ((NU8) 28), Ptrsize_51572);
LOC1 = 0;
LOC1 = Getsystype_101008(((NU8) 2));
Addson_55827((*M_132016).Typ, LOC1);
break;
case ((NU8) 179):
Setmagictype_132008(M_132016, ((NU8) 29), Ptrsize_51572);
LOC2 = 0;
LOC2 = Getsystype_101008(((NU8) 2));
Addson_55827((*M_132016).Typ, LOC2);
break;
case ((NU8) 180):
Setmagictype_132008(M_132016, ((NU8) 26), Ptrsize_51572);
break;
case ((NU8) 181):
Setmagictype_132008(M_132016, ((NU8) 19), 1);
LOC3 = 0;
LOC3 = Newtypes_106077(((NU8) 3), C_132015);
Addson_55827((*M_132016).Typ, LOC3);
break;
case ((NU8) 182):
Setmagictype_132008(M_132016, ((NU8) 20), Intsize_51570);
goto BeforeRet;
break;
case ((NU8) 183):
Setmagictype_132008(M_132016, ((NU8) 5), Ptrsize_51572);
break;
case ((NU8) 184):
Setmagictype_132008(M_132016, ((NU8) 6), 0);
break;
case ((NU8) 185):
Setmagictype_132008(M_132016, ((NU8) 7), 0);
break;
case ((NU8) 186):
Setmagictype_132008(M_132016, ((NU8) 8), 0);
break;
case ((NU8) 162):
case ((NU8) 163):
case ((NU8) 164):
case ((NU8) 165):
case ((NU8) 166):
case ((NU8) 167):
goto BeforeRet;
break;
default:
Limessage_47562((*M_132016).Info, ((NU8) 60), ((NimStringDesc*) &TMP196936));
break;
}
BeforeRet: ;
}
N_NIMCALL(TY55525*, Semgenericparamlist_142469)(TY106012* C_142471, TY55525* N_142472, TY55551* Father_142473) {
TY55525* Result_142474;
NI I_142491;
NI HEX3Atmp_145347;
NI LOC4;
NI Res_145349;
TY55525* A_142504;
NI L_142514;
TY55525* Def_142527;
TY55551* Typ_142528;
NI J_142582;
NI HEX3Atmp_145341;
NI Res_145343;
TY55547* S_142583;
NIM_BOOL LOC16;
TY55525* LOC23;
Result_142474 = 0;
Result_142474 = Copynode_55855(N_142472);
if (!!(((*N_142472).Kind == ((NU8) 65)))) goto LA2;
Internalerror_47567((*N_142472).Info, ((NimStringDesc*) &TMP197173));
LA2: ;
I_142491 = 0;
HEX3Atmp_145347 = 0;
LOC4 = Sonslen_55803(N_142472);
HEX3Atmp_145347 = (NI32)(LOC4 - 1);
Res_145349 = 0;
Res_145349 = 0;
while (1) {
if (!(Res_145349 <= HEX3Atmp_145347)) goto LA5;
I_142491 = Res_145349;
A_142504 = 0;
A_142504 = (*N_142472).KindU.S6.Sons->data[I_142491];
if (!!(((*A_142504).Kind == ((NU8) 25)))) goto LA7;
Illformedast_106092(N_142472);
LA7: ;
L_142514 = 0;
L_142514 = Sonslen_55803(A_142504);
Def_142527 = 0;
Def_142527 = (*A_142504).KindU.S6.Sons->data[(NI32)(L_142514 - 1)];
Typ_142528 = 0;
if (!!(((*A_142504).KindU.S6.Sons->data[(NI32)(L_142514 - 2)] == NIM_NIL))) goto LA10;
Typ_142528 = Semtypenode_124138(C_142471, (*A_142504).KindU.S6.Sons->data[(NI32)(L_142514 - 2)], NIM_NIL);
goto LA9;
LA10: ;
if (!!((Def_142527 == NIM_NIL))) goto LA12;
Typ_142528 = Newtypes_106077(((NU8) 6), C_142471);
goto LA9;
LA12: ;
Typ_142528 = NIM_NIL;
LA9: ;
J_142582 = 0;
HEX3Atmp_145341 = 0;
HEX3Atmp_145341 = (NI32)(L_142514 - 3);
Res_145343 = 0;
Res_145343 = 0;
while (1) {
if (!(Res_145343 <= HEX3Atmp_145341)) goto LA14;
J_142582 = Res_145343;
S_142583 = 0;
LOC16 = (Typ_142528 == NIM_NIL);
if (LOC16) goto LA17;
LOC16 = ((*Typ_142528).Kind == ((NU8) 8));
LA17: ;
if (!LOC16) goto LA18;
S_142583 = Newsyms_124059(((NU8) 6), (*A_142504).KindU.S6.Sons->data[J_142582], C_142471);
asgnRef((void**) &(*S_142583).Typ, Newtypes_106077(((NU8) 12), C_142471));
goto LA15;
LA18: ;
S_142583 = Newsyms_124059(((NU8) 4), (*A_142504).KindU.S6.Sons->data[J_142582], C_142471);
asgnRef((void**) &(*S_142583).Typ, Typ_142528);
LA15: ;
asgnRefNoCycle((void**) &(*S_142583).Ast, Def_142527);
asgnRef((void**) &(*(*S_142583).Typ).Sym, S_142583);
if (!!((Father_142473 == NIM_NIL))) goto LA21;
Addson_55827(Father_142473, (*S_142583).Typ);
LA21: ;
(*S_142583).Position = I_142491;
LOC23 = 0;
LOC23 = Newsymnode_55734(S_142583);
Addson_55823(Result_142474, LOC23);
Adddecl_107026(C_142471, S_142583);
Res_145343 += 1;
} LA14: ;
Res_145349 += 1;
} LA5: ;
return Result_142474;
}
N_NIMCALL(TY55525*, Semtypesection_142694)(TY106012* C_142696, TY55525* N_142697) {
TY55525* Result_142698;
TY55547* S_142699;
TY55551* T_142700;
TY55551* Body_142701;
NI I_142709;
NI HEX3Atmp_145363;
NI LOC1;
NI Res_145365;
TY55525* A_142722;
NI I_142889;
NI HEX3Atmp_145369;
NI LOC19;
NI Res_145371;
TY55525* A_142902;
NIM_BOOL LOC32;
NI LOC48;
NIM_BOOL LOC52;
NI I_143143;
NI HEX3Atmp_145375;
NI LOC56;
NI Res_145377;
TY55525* A_143156;
NIM_BOOL LOC69;
Result_142698 = 0;
S_142699 = 0;
T_142700 = 0;
Body_142701 = 0;
Result_142698 = N_142697;
I_142709 = 0;
HEX3Atmp_145363 = 0;
LOC1 = Sonslen_55803(N_142697);
HEX3Atmp_145363 = (NI32)(LOC1 - 1);
Res_145365 = 0;
Res_145365 = 0;
while (1) {
if (!(Res_145365 <= HEX3Atmp_145363)) goto LA2;
I_142709 = Res_145365;
A_142722 = 0;
A_142722 = (*N_142697).KindU.S6.Sons->data[I_142709];
if (!((*A_142722).Kind == ((NU8) 105))) goto LA5;
goto LA3;
LA5: ;
if (!!(((*A_142722).Kind == ((NU8) 91)))) goto LA8;
Illformedast_106092(A_142722);
LA8: ;
Checksonslen_106099(A_142722, 3);
if (!((*(*(*C_142696).P).Owner).Kind == ((NU8) 18))) goto LA11;
S_142699 = Semidentwithpragma_124098(C_142696, ((NU8) 6), (*A_142722).KindU.S6.Sons->data[0], 6);
(*S_142699).Flags |=(1<<((NI32)(((NU8) 5))%(sizeof(NI32)*8)));
goto LA10;
LA11: ;
S_142699 = Semidentwithpragma_124098(C_142696, ((NU8) 6), (*A_142722).KindU.S6.Sons->data[0], 0);
LA10: ;
if (!!((((*S_142699).Flags & 6) == 0))) goto LA14;
(*S_142699).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
LA14: ;
asgnRef((void**) &(*S_142699).Typ, Newtypes_106077(((NU8) 30), C_142696));
asgnRef((void**) &(*(*S_142699).Typ).Sym, S_142699);
if (!((*(*A_142722).KindU.S6.Sons->data[0]).Kind == ((NU8) 34))) goto LA17;
Pragma_121028(C_142696, S_142699, (*(*A_142722).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[1], TMP197171);
LA17: ;
Addinterfacedecl_107040(C_142696, S_142699);
asgnRefNoCycle((void**) &(*A_142722).KindU.S6.Sons->data[0], Newsymnode_55734(S_142699));
LA3: ;
Res_145365 += 1;
} LA2: ;
I_142889 = 0;
HEX3Atmp_145369 = 0;
LOC19 = Sonslen_55803(N_142697);
HEX3Atmp_145369 = (NI32)(LOC19 - 1);
Res_145371 = 0;
Res_145371 = 0;
while (1) {
if (!(Res_145371 <= HEX3Atmp_145369)) goto LA20;
I_142889 = Res_145371;
A_142902 = 0;
A_142902 = (*N_142697).KindU.S6.Sons->data[I_142889];
if (!((*A_142902).Kind == ((NU8) 105))) goto LA23;
goto LA21;
LA23: ;
if (!!(((*A_142902).Kind == ((NU8) 91)))) goto LA26;
Illformedast_106092(A_142902);
LA26: ;
Checksonslen_106099(A_142902, 3);
if (!!(((*(*A_142902).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA29;
Illformedast_106092(A_142902);
LA29: ;
S_142699 = (*(*A_142902).KindU.S6.Sons->data[0]).KindU.S4.Sym;
LOC32 = ((*S_142699).Magic == ((NU8) 0));
if (!(LOC32)) goto LA33;
LOC32 = ((*A_142902).KindU.S6.Sons->data[2] == NIM_NIL);
LA33: ;
if (!LOC32) goto LA34;
Limessage_47562((*A_142902).Info, ((NU8) 135), (*(*S_142699).Name).S);
LA34: ;
if (!!(((*S_142699).Magic == ((NU8) 0)))) goto LA37;
Processmagictype_132013(C_142696, S_142699);
LA37: ;
if (!!(((*A_142902).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA40;
Openscope_59149(&(*C_142696).Tab);
Pushowner_106109(S_142699);
(*(*S_142699).Typ).Kind = ((NU8) 10);
if (!!(((*(*S_142699).Typ).Containerid == 0))) goto LA43;
Internalerror_47567((*A_142902).Info, ((NimStringDesc*) &TMP197172));
LA43: ;
(*(*S_142699).Typ).Containerid = Getid_55693();
asgnRefNoCycle((void**) &(*A_142902).KindU.S6.Sons->data[1], Semgenericparamlist_142469(C_142696, (*A_142902).KindU.S6.Sons->data[1], (*S_142699).Typ));
Addson_55827((*S_142699).Typ, NIM_NIL);
asgnRefNoCycle((void**) &(*S_142699).Ast, A_142902);
Body_142701 = Semtypenode_124138(C_142696, (*A_142902).KindU.S6.Sons->data[2], NIM_NIL);
if (!!((Body_142701 == NIM_NIL))) goto LA46;
asgnRef((void**) &(*Body_142701).Sym, S_142699);
LA46: ;
LOC48 = Sonslen_55806((*S_142699).Typ);
asgnRef((void**) &(*(*S_142699).Typ).Sons->data[(NI32)(LOC48 - 1)], Body_142701);
Popowner_106112();
Closescope_107017(&(*C_142696).Tab);
goto LA39;
LA40: ;
if (!!(((*A_142902).KindU.S6.Sons->data[2] == NIM_NIL))) goto LA49;
Pushowner_106109(S_142699);
T_142700 = Semtypenode_124138(C_142696, (*A_142902).KindU.S6.Sons->data[2], (*S_142699).Typ);
LOC52 = !((T_142700 == (*S_142699).Typ));
if (!(LOC52)) goto LA53;
LOC52 = !(((*S_142699).Typ == NIM_NIL));
LA53: ;
if (!LOC52) goto LA54;
Internalerror_47567((*A_142902).Info, ((NimStringDesc*) &TMP197174));
LA54: ;
asgnRef((void**) &(*S_142699).Typ, T_142700);
asgnRefNoCycle((void**) &(*S_142699).Ast, A_142902);
Popowner_106112();
goto LA39;
LA49: ;
LA39: ;
LA21: ;
Res_145371 += 1;
} LA20: ;
I_143143 = 0;
HEX3Atmp_145375 = 0;
LOC56 = Sonslen_55803(N_142697);
HEX3Atmp_145375 = (NI32)(LOC56 - 1);
Res_145377 = 0;
Res_145377 = 0;
while (1) {
if (!(Res_145377 <= HEX3Atmp_145375)) goto LA57;
I_143143 = Res_145377;
A_143156 = 0;
A_143156 = (*N_142697).KindU.S6.Sons->data[I_143143];
if (!((*A_143156).Kind == ((NU8) 105))) goto LA60;
goto LA58;
LA60: ;
if (!!(((*(*A_143156).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA63;
Illformedast_106092(A_143156);
LA63: ;
S_142699 = (*(*A_143156).KindU.S6.Sons->data[0]).KindU.S4.Sym;
if (!((*A_143156).KindU.S6.Sons->data[1] == NIM_NIL)) goto LA66;
LOC69 = !(((*A_143156).KindU.S6.Sons->data[2] == NIM_NIL));
if (!(LOC69)) goto LA70;
LOC69 = ((*(*A_143156).KindU.S6.Sons->data[2]).Kind == ((NU8) 3) || (*(*A_143156).KindU.S6.Sons->data[2]).Kind == ((NU8) 2) || (*(*A_143156).KindU.S6.Sons->data[2]).Kind == ((NU8) 43));
LA70: ;
if (!LOC69) goto LA71;
T_142700 = Semtypenode_124138(C_142696, (*A_143156).KindU.S6.Sons->data[2], NIM_NIL);
if (!((*T_142700).Kind == ((NU8) 17) || (*T_142700).Kind == ((NU8) 14))) goto LA74;
Assigntype_55779((*S_142699).Typ, T_142700);
(*(*S_142699).Typ).Sup.Id = (*T_142700).Sup.Id;
LA74: ;
LA71: ;
Checkconstructedtype_125667((*S_142699).Info, (*S_142699).Typ);
LA66: ;
LA58: ;
Res_145377 += 1;
} LA57: ;
return Result_142698;
}
N_NIMCALL(TY55525*, Semif_139858)(TY106012* C_139860, TY55525* N_139861) {
TY55525* Result_139862;
NI I_139870;
NI HEX3Atmp_145284;
NI LOC1;
NI Res_145286;
TY55525* It_139883;
NI LOC7;
Result_139862 = 0;
Result_139862 = N_139861;
I_139870 = 0;
HEX3Atmp_145284 = 0;
LOC1 = Sonslen_55803(N_139861);
HEX3Atmp_145284 = (NI32)(LOC1 - 1);
Res_145286 = 0;
Res_145286 = 0;
while (1) {
if (!(Res_145286 <= HEX3Atmp_145284)) goto LA2;
I_139870 = Res_145286;
It_139883 = 0;
It_139883 = (*N_139861).KindU.S6.Sons->data[I_139870];
if (!(It_139883 == NIM_NIL)) goto LA4;
Illformedast_106092(N_139861);
LA4: ;
switch ((*It_139883).Kind) {
case ((NU8) 76):
Checksonslen_106099(It_139883, 2);
Openscope_59149(&(*C_139860).Tab);
asgnRefNoCycle((void**) &(*It_139883).KindU.S6.Sons->data[0], Semexprwithtype_124122(C_139860, (*It_139883).KindU.S6.Sons->data[0], 0));
Checkbool_128912((*It_139883).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*It_139883).KindU.S6.Sons->data[1], Semstmt_124143(C_139860, (*It_139883).KindU.S6.Sons->data[1]));
Closescope_107017(&(*C_139860).Tab);
break;
case ((NU8) 78):
LOC7 = Sonslen_55803(It_139883);
if (!(LOC7 == 1)) goto LA8;
asgnRefNoCycle((void**) &(*It_139883).KindU.S6.Sons->data[0], Semstmtscope_124104(C_139860, (*It_139883).KindU.S6.Sons->data[0]));
goto LA6;
LA8: ;
Illformedast_106092(It_139883);
LA6: ;
break;
default:
Illformedast_106092(N_139861);
break;
}
Res_145286 += 1;
} LA2: ;
return Result_139862;
}
N_NIMCALL(TY55525*, Semwhen_139728)(TY106012* C_139730, TY55525* N_139731) {
TY55525* Result_139732;
NI I_139740;
NI HEX3Atmp_145278;
NI LOC1;
NI Res_145280;
TY55525* It_139753;
TY55525* E_139777;
NIM_BOOL LOC10;
Result_139732 = 0;
Result_139732 = NIM_NIL;
I_139740 = 0;
HEX3Atmp_145278 = 0;
LOC1 = Sonslen_55803(N_139731);
HEX3Atmp_145278 = (NI32)(LOC1 - 1);
Res_145280 = 0;
Res_145280 = 0;
while (1) {
if (!(Res_145280 <= HEX3Atmp_145278)) goto LA2;
I_139740 = Res_145280;
It_139753 = 0;
It_139753 = (*N_139731).KindU.S6.Sons->data[I_139740];
if (!(It_139753 == NIM_NIL)) goto LA4;
Illformedast_106092(N_139731);
LA4: ;
switch ((*It_139753).Kind) {
case ((NU8) 76):
Checksonslen_106099(It_139753, 2);
E_139777 = 0;
E_139777 = Semconstexpr_124171(C_139730, (*It_139753).KindU.S6.Sons->data[0]);
Checkbool_128912(E_139777);
if (!!(((*E_139777).Kind == ((NU8) 6)))) goto LA7;
Internalerror_47567((*N_139731).Info, ((NimStringDesc*) &TMP197175));
LA7: ;
LOC10 = !(((*E_139777).KindU.S1.Intval == 0));
if (!(LOC10)) goto LA11;
LOC10 = (Result_139732 == NIM_NIL);
LA11: ;
if (!LOC10) goto LA12;
Result_139732 = Semstmt_124143(C_139730, (*It_139753).KindU.S6.Sons->data[1]);
LA12: ;
break;
case ((NU8) 78):
Checksonslen_106099(It_139753, 1);
if (!(Result_139732 == NIM_NIL)) goto LA15;
Result_139732 = Semstmt_124143(C_139730, (*It_139753).KindU.S6.Sons->data[0]);
LA15: ;
break;
default:
Illformedast_106092(N_139731);
break;
}
Res_145280 += 1;
} LA2: ;
if (!(Result_139732 == NIM_NIL)) goto LA18;
Result_139732 = Newnodei_55737(((NU8) 18), (*N_139731).Info);
LA18: ;
Idsynchronizationpoint_55698(200);
return Result_139732;
}
N_NIMCALL(TY55525*, Semdiscard_139983)(TY106012* C_139985, TY55525* N_139986) {
TY55525* Result_139987;
Result_139987 = 0;
Result_139987 = N_139986;
Checksonslen_106099(N_139986, 1);
asgnRefNoCycle((void**) &(*N_139986).KindU.S6.Sons->data[0], Semexprwithtype_124122(C_139985, (*N_139986).KindU.S6.Sons->data[0], 0));
if (!((*(*N_139986).KindU.S6.Sons->data[0]).Typ == NIM_NIL)) goto LA2;
Limessage_47562((*N_139986).Info, ((NU8) 138), ((NimStringDesc*) &TMP196936));
LA2: ;
return Result_139987;
}
N_NIMCALL(TY55525*, Semwhile_140346)(TY106012* C_140348, TY55525* N_140349) {
TY55525* Result_140350;
Result_140350 = 0;
Result_140350 = N_140349;
Checksonslen_106099(N_140349, 2);
Openscope_59149(&(*C_140348).Tab);
asgnRefNoCycle((void**) &(*N_140349).KindU.S6.Sons->data[0], Semexprwithtype_124122(C_140348, (*N_140349).KindU.S6.Sons->data[0], 0));
Checkbool_128912((*N_140349).KindU.S6.Sons->data[0]);
(*(*C_140348).P).Nestedloopcounter += 1;
asgnRefNoCycle((void**) &(*N_140349).KindU.S6.Sons->data[1], Semstmt_124143(C_140348, (*N_140349).KindU.S6.Sons->data[1]));
(*(*C_140348).P).Nestedloopcounter -= 1;
Closescope_107017(&(*C_140348).Tab);
return Result_140350;
}
N_NIMCALL(TY55525*, Semtry_142274)(TY106012* C_142276, TY55525* N_142277) {
TY55525* Result_142278;
TY55900 Check_142279;
NI I_142312;
NI HEX3Atmp_145331;
NI LOC1;
NI Res_145333;
TY55525* A_142325;
NI Length_142326;
NI J_142343;
NI HEX3Atmp_145325;
NI Res_145327;
TY55551* Typ_142356;
NIM_BOOL LOC14;
Result_142278 = 0;
memset((void*)&Check_142279, 0, sizeof(Check_142279));
Result_142278 = N_142277;
Checkminsonslen_106103(N_142277, 2);
asgnRefNoCycle((void**) &(*N_142277).KindU.S6.Sons->data[0], Semstmtscope_124104(C_142276, (*N_142277).KindU.S6.Sons->data[0]));
Intsetinit_55924(&Check_142279);
I_142312 = 0;
HEX3Atmp_145331 = 0;
LOC1 = Sonslen_55803(N_142277);
HEX3Atmp_145331 = (NI32)(LOC1 - 1);
Res_145333 = 0;
Res_145333 = 1;
while (1) {
if (!(Res_145333 <= HEX3Atmp_145331)) goto LA2;
I_142312 = Res_145333;
A_142325 = 0;
A_142325 = (*N_142277).KindU.S6.Sons->data[I_142312];
Checkminsonslen_106103(A_142325, 1);
Length_142326 = 0;
Length_142326 = Sonslen_55803(A_142325);
if (!((*A_142325).Kind == ((NU8) 77))) goto LA4;
J_142343 = 0;
HEX3Atmp_145325 = 0;
HEX3Atmp_145325 = (NI32)(Length_142326 - 2);
Res_145327 = 0;
Res_145327 = 0;
while (1) {
if (!(Res_145327 <= HEX3Atmp_145325)) goto LA6;
J_142343 = Res_145327;
Typ_142356 = 0;
Typ_142356 = Semtypenode_124138(C_142276, (*A_142325).KindU.S6.Sons->data[J_142343], NIM_NIL);
if (!((*Typ_142356).Kind == ((NU8) 22))) goto LA8;
Typ_142356 = (*Typ_142356).Sons->data[0];
LA8: ;
if (!!(((*Typ_142356).Kind == ((NU8) 17)))) goto LA11;
Limessage_47562((*(*A_142325).KindU.S6.Sons->data[J_142343]).Info, ((NU8) 110), ((NimStringDesc*) &TMP196936));
LA11: ;
asgnRefNoCycle((void**) &(*A_142325).KindU.S6.Sons->data[J_142343], Newnodei_55737(((NU8) 4), (*(*A_142325).KindU.S6.Sons->data[J_142343]).Info));
asgnRef((void**) &(*(*A_142325).KindU.S6.Sons->data[J_142343]).Typ, Typ_142356);
LOC14 = Intsetcontainsorincl_55928(&Check_142279, (*Typ_142356).Sup.Id);
if (!LOC14) goto LA15;
Limessage_47562((*(*A_142325).KindU.S6.Sons->data[J_142343]).Info, ((NU8) 33), ((NimStringDesc*) &TMP196936));
LA15: ;
Res_145327 += 1;
} LA6: ;
goto LA3;
LA4: ;
if (!!(((*A_142325).Kind == ((NU8) 94)))) goto LA17;
Illformedast_106092(N_142277);
goto LA3;
LA17: ;
LA3: ;
asgnRefNoCycle((void**) &(*A_142325).KindU.S6.Sons->data[(NI32)(Length_142326 - 1)], Semstmtscope_124104(C_142276, (*A_142325).KindU.S6.Sons->data[(NI32)(Length_142326 - 1)]));
Res_145333 += 1;
} LA2: ;
return Result_142278;
}
N_NIMCALL(TY55525*, Sembreakorcontinue_140035)(TY106012* C_140037, TY55525* N_140038) {
TY55525* Result_140039;
TY55547* S_140063;
NIM_BOOL LOC5;
TY55525* X_140123;
NIM_BOOL LOC9;
NimStringDesc* LOC13;
Result_140039 = 0;
Result_140039 = N_140038;
Checksonslen_106099(N_140038, 1);
if (!!(((*N_140038).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA2;
S_140063 = 0;
switch ((*(*N_140038).KindU.S6.Sons->data[0]).Kind) {
case ((NU8) 2):
S_140063 = Lookup_107049(C_140037, (*N_140038).KindU.S6.Sons->data[0]);
break;
case ((NU8) 3):
S_140063 = (*(*N_140038).KindU.S6.Sons->data[0]).KindU.S4.Sym;
break;
default:
Illformedast_106092(N_140038);
break;
}
LOC5 = ((*S_140063).Kind == ((NU8) 19));
if (!(LOC5)) goto LA6;
LOC5 = ((*(*S_140063).Owner).Sup.Id == (*(*(*C_140037).P).Owner).Sup.Id);
LA6: ;
if (!LOC5) goto LA7;
X_140123 = 0;
X_140123 = Newsymnode_55734(S_140063);
(*X_140123).Info = (*N_140038).Info;
(*S_140063).Flags |=(1<<((NI32)(((NU8) 0))%(sizeof(NI32)*8)));
asgnRefNoCycle((void**) &(*N_140038).KindU.S6.Sons->data[0], X_140123);
goto LA4;
LA7: ;
Limessage_47562((*N_140038).Info, ((NU8) 160), (*(*S_140063).Name).S);
LA4: ;
goto LA1;
LA2: ;
LOC9 = ((*(*C_140037).P).Nestedloopcounter <= 0);
if (!(LOC9)) goto LA10;
LOC9 = ((*(*C_140037).P).Nestedblockcounter <= 0);
LA10: ;
if (!LOC9) goto LA11;
LOC13 = 0;
LOC13 = Rendertree_84042(N_140038, 4);
Limessage_47562((*N_140038).Info, ((NU8) 160), LOC13);
goto LA1;
LA11: ;
LA1: ;
return Result_140039;
}
N_NIMCALL(TY55525*, Semfor_141784)(TY106012* C_141786, TY55525* N_141787) {
TY55525* Result_141788;
NI Length_141789;
TY55547* V_141790;
TY55547* Countup_141791;
TY55551* Iter_141792;
TY55525* Countupnode_141793;
TY55525* Call_141794;
TY54011* LOC4;
NIM_BOOL LOC9;
NIM_BOOL LOC10;
NI LOC22;
NI I_142117;
NI HEX3Atmp_145319;
NI Res_145321;
Result_141788 = 0;
Length_141789 = 0;
V_141790 = 0;
Countup_141791 = 0;
Iter_141792 = 0;
Countupnode_141793 = 0;
Call_141794 = 0;
Result_141788 = N_141787;
Checkminsonslen_106103(N_141787, 3);
Length_141789 = Sonslen_55803(N_141787);
Openscope_59149(&(*C_141786).Tab);
if (!((*(*N_141787).KindU.S6.Sons->data[(NI32)(Length_141789 - 2)]).Kind == ((NU8) 35))) goto LA2;
Checksonslen_106099((*N_141787).KindU.S6.Sons->data[(NI32)(Length_141789 - 2)], 2);
Countupnode_141793 = Newnodei_55737(((NU8) 21), (*(*N_141787).KindU.S6.Sons->data[(NI32)(Length_141789 - 2)]).Info);
LOC4 = 0;
LOC4 = Getident_54016(((NimStringDesc*) &TMP197176));
Countup_141791 = Strtableget_59069(&(*Systemmodule_101004).Tab, LOC4);
if (!(Countup_141791 == NIM_NIL)) goto LA6;
Limessage_47562((*Countupnode_141793).Info, ((NU8) 61), ((NimStringDesc*) &TMP197176));
LA6: ;
Newsons_55815(Countupnode_141793, 3);
asgnRefNoCycle((void**) &(*Countupnode_141793).KindU.S6.Sons->data[0], Newsymnode_55734(Countup_141791));
asgnRefNoCycle((void**) &(*Countupnode_141793).KindU.S6.Sons->data[1], (*(*N_141787).KindU.S6.Sons->data[(NI32)(Length_141789 - 2)]).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*Countupnode_141793).KindU.S6.Sons->data[2], (*(*N_141787).KindU.S6.Sons->data[(NI32)(Length_141789 - 2)]).KindU.S6.Sons->data[1]);
asgnRefNoCycle((void**) &(*N_141787).KindU.S6.Sons->data[(NI32)(Length_141789 - 2)], Countupnode_141793);
LA2: ;
asgnRefNoCycle((void**) &(*N_141787).KindU.S6.Sons->data[(NI32)(Length_141789 - 2)], Semexprwithtype_124122(C_141786, (*N_141787).KindU.S6.Sons->data[(NI32)(Length_141789 - 2)], 4));
Call_141794 = (*N_141787).KindU.S6.Sons->data[(NI32)(Length_141789 - 2)];
LOC10 = !(((*Call_141794).Kind == ((NU8) 21)));
if (LOC10) goto LA11;
LOC10 = !(((*(*Call_141794).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)));
LA11: ;
LOC9 = LOC10;
if (LOC9) goto LA12;
LOC9 = !(((*(*(*Call_141794).KindU.S6.Sons->data[0]).KindU.S4.Sym).Kind == ((NU8) 11)));
LA12: ;
if (!LOC9) goto LA13;
Limessage_47562((*(*N_141787).KindU.S6.Sons->data[(NI32)(Length_141789 - 2)]).Info, ((NU8) 205), ((NimStringDesc*) &TMP196936));
LA13: ;
Iter_141792 = Skiptypes_96085((*(*N_141787).KindU.S6.Sons->data[(NI32)(Length_141789 - 2)]).Typ, 2048);
if (!!(((*Iter_141792).Kind == ((NU8) 18)))) goto LA16;
if (!!((Length_141789 == 3))) goto LA19;
Limessage_47562((*N_141787).Info, ((NU8) 109), ((NimStringDesc*) &TMP196936));
LA19: ;
V_141790 = Newsyms_124059(((NU8) 17), (*N_141787).KindU.S6.Sons->data[0], C_141786);
asgnRef((void**) &(*V_141790).Typ, Iter_141792);
asgnRefNoCycle((void**) &(*N_141787).KindU.S6.Sons->data[0], Newsymnode_55734(V_141790));
Adddecl_107026(C_141786, V_141790);
goto LA15;
LA16: ;
LOC22 = Sonslen_55806(Iter_141792);
if (!!(((NI32)(Length_141789 - 2) == LOC22))) goto LA23;
Limessage_47562((*N_141787).Info, ((NU8) 109), ((NimStringDesc*) &TMP196936));
LA23: ;
I_142117 = 0;
HEX3Atmp_145319 = 0;
HEX3Atmp_145319 = (NI32)(Length_141789 - 3);
Res_145321 = 0;
Res_145321 = 0;
while (1) {
if (!(Res_145321 <= HEX3Atmp_145319)) goto LA25;
I_142117 = Res_145321;
V_141790 = Newsyms_124059(((NU8) 17), (*N_141787).KindU.S6.Sons->data[I_142117], C_141786);
asgnRef((void**) &(*V_141790).Typ, (*Iter_141792).Sons->data[I_142117]);
asgnRefNoCycle((void**) &(*N_141787).KindU.S6.Sons->data[I_142117], Newsymnode_55734(V_141790));
Adddecl_107026(C_141786, V_141790);
Res_145321 += 1;
} LA25: ;
LA15: ;
(*(*C_141786).P).Nestedloopcounter += 1;
asgnRefNoCycle((void**) &(*N_141787).KindU.S6.Sons->data[(NI32)(Length_141789 - 1)], Semstmt_124143(C_141786, (*N_141787).KindU.S6.Sons->data[(NI32)(Length_141789 - 1)]));
Closescope_107017(&(*C_141786).Tab);
(*(*C_141786).P).Nestedloopcounter -= 1;
return Result_141788;
}
N_NIMCALL(NI64, Tocover_140437)(TY55551* T_140439) {
NI64 Result_140440;
TY55551* T2_140441;
NIM_BOOL LOC2;
NI LOC6;
TY55551* LOC7;
Result_140440 = 0;
T2_140441 = 0;
T2_140441 = Skiptypes_96085(T_140439, 9480192);
LOC2 = ((*T2_140441).Kind == ((NU8) 14));
if (!(LOC2)) goto LA3;
LOC2 = Enumhaswholes_96072(T2_140441);
LA3: ;
if (!LOC2) goto LA4;
LOC6 = Sonslen_55803((*T2_140441).N);
Result_140440 = ((NI64) (LOC6));
goto LA1;
LA4: ;
LOC7 = 0;
LOC7 = Skiptypes_96085(T_140439, 8431616);
Result_140440 = Lengthord_96007(LOC7);
LA1: ;
return Result_140440;
}
N_NIMCALL(TY55525*, Semcase_140451)(TY106012* C_140453, TY55525* N_140454) {
TY55525* Result_140455;
NIM_BOOL Chckcovered_140481;
NI64 Covered_140482;
TY55551* LOC1;
NI I_140502;
NI HEX3Atmp_145291;
NI LOC2;
NI Res_145293;
TY55525* X_140515;
NI Length_140517;
NIM_BOOL LOC5;
NI64 LOC7;
Result_140455 = 0;
Result_140455 = N_140454;
Checkminsonslen_106103(N_140454, 2);
Openscope_59149(&(*C_140453).Tab);
asgnRefNoCycle((void**) &(*N_140454).KindU.S6.Sons->data[0], Semexprwithtype_124122(C_140453, (*N_140454).KindU.S6.Sons->data[0], 0));
Chckcovered_140481 = 0;
Chckcovered_140481 = NIM_FALSE;
Covered_140482 = 0;
Covered_140482 = 0;
LOC1 = 0;
LOC1 = Skiptypes_96085((*(*N_140454).KindU.S6.Sons->data[0]).Typ, 9480192);
switch ((*LOC1).Kind) {
case ((NU8) 31) ... ((NU8) 35):
case ((NU8) 2):
case ((NU8) 14):
Chckcovered_140481 = NIM_TRUE;
break;
case ((NU8) 36) ... ((NU8) 39):
case ((NU8) 28):
break;
default:
Limessage_47562((*N_140454).Info, ((NU8) 105), ((NimStringDesc*) &TMP196936));
break;
}
I_140502 = 0;
HEX3Atmp_145291 = 0;
LOC2 = Sonslen_55803(N_140454);
HEX3Atmp_145291 = (NI32)(LOC2 - 1);
Res_145293 = 0;
Res_145293 = 1;
while (1) {
if (!(Res_145293 <= HEX3Atmp_145291)) goto LA3;
I_140502 = Res_145293;
X_140515 = 0;
X_140515 = (*N_140454).KindU.S6.Sons->data[I_140502];
switch ((*X_140515).Kind) {
case ((NU8) 75):
Checkminsonslen_106103(X_140515, 2);
Semcasebranch_130288(C_140453, N_140454, X_140515, I_140502, &Covered_140482);
Length_140517 = 0;
Length_140517 = Sonslen_55803(X_140515);
asgnRefNoCycle((void**) &(*X_140515).KindU.S6.Sons->data[(NI32)(Length_140517 - 1)], Semstmtscope_124104(C_140453, (*X_140515).KindU.S6.Sons->data[(NI32)(Length_140517 - 1)]));
break;
case ((NU8) 76):
Chckcovered_140481 = NIM_FALSE;
Checksonslen_106099(X_140515, 2);
asgnRefNoCycle((void**) &(*X_140515).KindU.S6.Sons->data[0], Semexprwithtype_124122(C_140453, (*X_140515).KindU.S6.Sons->data[0], 0));
Checkbool_128912((*X_140515).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*X_140515).KindU.S6.Sons->data[1], Semstmtscope_124104(C_140453, (*X_140515).KindU.S6.Sons->data[1]));
break;
case ((NU8) 78):
Chckcovered_140481 = NIM_FALSE;
Checksonslen_106099(X_140515, 1);
asgnRefNoCycle((void**) &(*X_140515).KindU.S6.Sons->data[0], Semstmtscope_124104(C_140453, (*X_140515).KindU.S6.Sons->data[0]));
break;
default:
Illformedast_106092(X_140515);
break;
}
Res_145293 += 1;
} LA3: ;
LOC5 = Chckcovered_140481;
if (!(LOC5)) goto LA6;
LOC7 = Tocover_140437((*(*N_140454).KindU.S6.Sons->data[0]).Typ);
LOC5 = !((Covered_140482 == LOC7));
LA6: ;
if (!LOC5) goto LA8;
Limessage_47562((*N_140454).Info, ((NU8) 147), ((NimStringDesc*) &TMP196936));
LA8: ;
Closescope_107017(&(*C_140453).Tab);
return Result_140455;
}
N_NIMCALL(TY55525*, Semreturn_140907)(TY106012* C_140909, TY55525* N_140910) {
TY55525* Result_140911;
TY55551* Restype_140912;
TY55525* A_140913;
NIM_BOOL LOC11;
TY55525* LOC18;
TY55525* LOC19;
Result_140911 = 0;
Restype_140912 = 0;
A_140913 = 0;
Result_140911 = N_140910;
Checksonslen_106099(N_140910, 1);
if (!!(((13824 &(1<<(((*(*(*C_140909).P).Owner).Kind)&31)))!=0))) goto LA2;
Limessage_47562((*N_140910).Info, ((NU8) 159), ((NimStringDesc*) &TMP197177));
LA2: ;
if (!!(((*N_140910).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA5;
asgnRefNoCycle((void**) &(*N_140910).KindU.S6.Sons->data[0], Semexprwithtype_124122(C_140909, (*N_140910).KindU.S6.Sons->data[0], 0));
Restype_140912 = (*(*(*(*C_140909).P).Owner).Typ).Sons->data[0];
if (!!((Restype_140912 == NIM_NIL))) goto LA8;
A_140913 = Newnodei_55737(((NU8) 63), (*(*N_140910).KindU.S6.Sons->data[0]).Info);
asgnRefNoCycle((void**) &(*N_140910).KindU.S6.Sons->data[0], Fitnode_124129(C_140909, Restype_140912, (*N_140910).KindU.S6.Sons->data[0]));
LOC11 = ((*(*N_140910).KindU.S6.Sons->data[0]).Kind == ((NU8) 3));
if (!(LOC11)) goto LA12;
LOC11 = (((*(*(*N_140910).KindU.S6.Sons->data[0]).KindU.S4.Sym).Flags &(1<<((((NU8) 12))&31)))!=0);
LA12: ;
if (!LOC11) goto LA13;
asgnRefNoCycle((void**) &(*N_140910).KindU.S6.Sons->data[0], NIM_NIL);
goto LA10;
LA13: ;
if (!((*(*C_140909).P).Resultsym == NIM_NIL)) goto LA16;
Internalerror_47567((*N_140910).Info, ((NimStringDesc*) &TMP197178));
LA16: ;
LOC18 = 0;
LOC18 = Newsymnode_55734((*(*C_140909).P).Resultsym);
LOC19 = 0;
LOC19 = Semexprwithtype_124122(C_140909, LOC18, 0);
Addson_55823(A_140913, LOC19);
Addson_55823(A_140913, (*N_140910).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*N_140910).KindU.S6.Sons->data[0], A_140913);
LA10: ;
goto LA7;
LA8: ;
Limessage_47562((*N_140910).Info, ((NU8) 36), ((NimStringDesc*) &TMP196936));
LA7: ;
LA5: ;
return Result_140911;
}
N_NIMCALL(TY55525*, Semasm_140256)(TY106012* Con_140258, TY55525* N_140259) {
TY55525* Result_140260;
NIM_CHAR Marker_140273;
NimStringDesc* Str_140312;
NI A_140313;
NI B_140314;
NimStringDesc* Sub_140317;
NimStringDesc* LOC8;
TY55525* LOC14;
NI C_140320;
TY55547* E_140323;
TY54011* LOC24;
TY55525* LOC31;
TY55525* LOC32;
Result_140260 = 0;
Result_140260 = N_140259;
Checksonslen_106099(N_140259, 2);
Marker_140273 = 0;
Marker_140273 = Pragmaasm_121034(Con_140258, (*N_140259).KindU.S6.Sons->data[0]);
if (!((NU8)(Marker_140273) == (NU8)(0))) goto LA2;
Marker_140273 = 96;
LA2: ;
switch ((*(*N_140259).KindU.S6.Sons->data[1]).Kind) {
case ((NU8) 14):
case ((NU8) 15):
case ((NU8) 16):
Result_140260 = Copynode_55855(N_140259);
Str_140312 = 0;
Str_140312 = copyString((*(*N_140259).KindU.S6.Sons->data[1]).KindU.S3.Strval);
if (!((Str_140312) && (Str_140312)->Sup.len == 0)) goto LA5;
Limessage_47562((*N_140259).Info, ((NU8) 30), ((NimStringDesc*) &TMP196936));
LA5: ;
A_140313 = 0;
A_140313 = 0;
while (1) {
B_140314 = 0;
B_140314 = nsuFindChar(Str_140312, Marker_140273, A_140313);
Sub_140317 = 0;
LOC8 = 0;
if (!(B_140314 < 0)) goto LA10;
LOC8 = copyStr(Str_140312, A_140313);
goto LA9;
LA10: ;
LOC8 = copyStrLast(Str_140312, A_140313, (NI32)(B_140314 - 1));
LA9: ;
Sub_140317 = LOC8;
if (!!(((Sub_140317) && (Sub_140317)->Sup.len == 0))) goto LA12;
LOC14 = 0;
LOC14 = Newstrnode_55726(((NU8) 14), Sub_140317);
Addson_55823(Result_140260, LOC14);
LA12: ;
if (!(B_140314 < 0)) goto LA16;
goto LA7;
LA16: ;
C_140320 = 0;
C_140320 = nsuFindChar(Str_140312, Marker_140273, (NI32)(B_140314 + 1));
if (!(C_140320 < 0)) goto LA19;
Sub_140317 = copyStr(Str_140312, (NI32)(B_140314 + 1));
goto LA18;
LA19: ;
Sub_140317 = copyStrLast(Str_140312, (NI32)(B_140314 + 1), (NI32)(C_140320 - 1));
LA18: ;
if (!!(((Sub_140317) && (Sub_140317)->Sup.len == 0))) goto LA22;
E_140323 = 0;
LOC24 = 0;
LOC24 = Getident_54016(Sub_140317);
E_140323 = Symtabget_59119((*Con_140258).Tab, LOC24);
if (!!((E_140323 == NIM_NIL))) goto LA26;
if (!((*E_140323).Kind == ((NU8) 20))) goto LA29;
Loadstub_92070(E_140323);
LA29: ;
LOC31 = 0;
LOC31 = Newsymnode_55734(E_140323);
Addson_55823(Result_140260, LOC31);
goto LA25;
LA26: ;
LOC32 = 0;
LOC32 = Newstrnode_55726(((NU8) 14), Sub_140317);
Addson_55823(Result_140260, LOC32);
LA25: ;
LA22: ;
if (!(C_140320 < 0)) goto LA34;
goto LA7;
LA34: ;
A_140313 = (NI32)(C_140320 + 1);
} LA7: ;
break;
default:
Illformedast_106092(N_140259);
break;
}
return Result_140260;
}
N_NIMCALL(TY55525*, Semyield_141123)(TY106012* C_141125, TY55525* N_141126) {
TY55525* Result_141127;
NIM_BOOL LOC2;
TY55551* Restype_141195;
Result_141127 = 0;
Result_141127 = N_141126;
Checksonslen_106099(N_141126, 1);
LOC2 = ((*(*C_141125).P).Owner == NIM_NIL);
if (LOC2) goto LA3;
LOC2 = !(((*(*(*C_141125).P).Owner).Kind == ((NU8) 11)));
LA3: ;
if (!LOC2) goto LA4;
Limessage_47562((*N_141126).Info, ((NU8) 34), ((NimStringDesc*) &TMP196936));
LA4: ;
if (!!(((*N_141126).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA7;
asgnRefNoCycle((void**) &(*N_141126).KindU.S6.Sons->data[0], Semexprwithtype_124122(C_141125, (*N_141126).KindU.S6.Sons->data[0], 0));
Restype_141195 = 0;
Restype_141195 = (*(*(*(*C_141125).P).Owner).Typ).Sons->data[0];
if (!!((Restype_141195 == NIM_NIL))) goto LA10;
asgnRefNoCycle((void**) &(*N_141126).KindU.S6.Sons->data[0], Fitnode_124129(C_141125, Restype_141195, (*N_141126).KindU.S6.Sons->data[0]));
if (!((*(*N_141126).KindU.S6.Sons->data[0]).Typ == NIM_NIL)) goto LA13;
Internalerror_47567((*N_141126).Info, ((NimStringDesc*) &TMP197179));
LA13: ;
goto LA9;
LA10: ;
Limessage_47562((*N_141126).Info, ((NU8) 36), ((NimStringDesc*) &TMP196936));
LA9: ;
LA7: ;
return Result_141127;
}
N_NIMCALL(void, Addgenericparamlisttoscope_142639)(TY106012* C_142641, TY55525* N_142642) {
NI I_142659;
NI HEX3Atmp_145357;
NI LOC4;
NI Res_145359;
TY55525* A_142672;
if (!!(((*N_142642).Kind == ((NU8) 65)))) goto LA2;
Internalerror_47567((*N_142642).Info, ((NimStringDesc*) &TMP197183));
LA2: ;
I_142659 = 0;
HEX3Atmp_145357 = 0;
LOC4 = Sonslen_55803(N_142642);
HEX3Atmp_145357 = (NI32)(LOC4 - 1);
Res_145359 = 0;
Res_145359 = 0;
while (1) {
if (!(Res_145359 <= HEX3Atmp_145357)) goto LA5;
I_142659 = Res_145359;
A_142672 = 0;
A_142672 = (*N_142642).KindU.S6.Sons->data[I_142659];
if (!!(((*A_142672).Kind == ((NU8) 3)))) goto LA7;
Internalerror_47567((*A_142672).Info, ((NimStringDesc*) &TMP197183));
LA7: ;
Adddecl_107026(C_142641, (*A_142672).KindU.S4.Sym);
Res_145359 += 1;
} LA5: ;
}
N_NIMCALL(TY55525*, Evaltemplateargs_124424)(TY106012* C_124426, TY55525* N_124427, TY55547* S_124428) {
TY55525* Result_124429;
NI F_124430;
NI A_124431;
TY55525* Arg_124432;
NI I_124442;
NI HEX3Atmp_125074;
NI Res_125076;
TY55525* LOC14;
Result_124429 = 0;
F_124430 = 0;
A_124431 = 0;
Arg_124432 = 0;
F_124430 = Sonslen_55806((*S_124428).Typ);
switch ((*N_124427).Kind) {
case ((NU8) 21):
case ((NU8) 27):
case ((NU8) 28):
case ((NU8) 29):
case ((NU8) 20):
case ((NU8) 22):
A_124431 = Sonslen_55803(N_124427);
break;
default:
A_124431 = 0;
break;
}
if (!(F_124430 < A_124431)) goto LA2;
Limessage_47562((*N_124427).Info, ((NU8) 130), ((NimStringDesc*) &TMP196936));
LA2: ;
Result_124429 = Copynode_55855(N_124427);
I_124442 = 0;
HEX3Atmp_125074 = 0;
HEX3Atmp_125074 = (NI32)(F_124430 - 1);
Res_125076 = 0;
Res_125076 = 1;
while (1) {
if (!(Res_125076 <= HEX3Atmp_125074)) goto LA4;
I_124442 = Res_125076;
if (!(I_124442 < A_124431)) goto LA6;
Arg_124432 = (*N_124427).KindU.S6.Sons->data[I_124442];
goto LA5;
LA6: ;
Arg_124432 = Copytree_55858((*(*(*(*(*S_124428).Typ).N).KindU.S6.Sons->data[I_124442]).KindU.S4.Sym).Ast);
LA5: ;
if (!(Arg_124432 == NIM_NIL)) goto LA9;
Limessage_47562((*N_124427).Info, ((NU8) 130), ((NimStringDesc*) &TMP196936));
LA9: ;
if (!!(((*(*(*S_124428).Typ).Sons->data[I_124442]).Kind == ((NU8) 8) || (*(*(*S_124428).Typ).Sons->data[I_124442]).Kind == ((NU8) 7) || (*(*(*S_124428).Typ).Sons->data[I_124442]).Kind == ((NU8) 6)))) goto LA12;
LOC14 = 0;
LOC14 = Semexprwithtype_124122(C_124426, Arg_124432, 0);
Arg_124432 = Fitnode_124129(C_124426, (*(*S_124428).Typ).Sons->data[I_124442], LOC14);
LA12: ;
Addson_55823(Result_124429, Arg_124432);
Res_125076 += 1;
} LA4: ;
return Result_124429;
}
N_NIMCALL(TY55525*, Evaltemplateaux_124337)(TY106012* C_124339, TY55525* Templ_124340, TY55525* Actual_124341, TY55547* Sym_124342) {
TY55525* Result_124343;
TY55547* P_124344;
NIM_BOOL LOC5;
NI LOC9;
NI I_124398;
NI HEX3Atmp_125068;
NI LOC10;
NI Res_125070;
Result_124343 = 0;
P_124344 = 0;
if (!(Templ_124340 == NIM_NIL)) goto LA2;
Result_124343 = NIM_NIL;
goto BeforeRet;
LA2: ;
switch ((*Templ_124340).Kind) {
case ((NU8) 3):
P_124344 = (*Templ_124340).KindU.S4.Sym;
LOC5 = ((*P_124344).Kind == ((NU8) 3));
if (!(LOC5)) goto LA6;
LOC5 = ((*(*P_124344).Owner).Sup.Id == (*Sym_124342).Sup.Id);
LA6: ;
if (!LOC5) goto LA7;
Result_124343 = Copytree_55858((*Actual_124341).KindU.S6.Sons->data[(*P_124344).Position]);
goto LA4;
LA7: ;
Result_124343 = Copynode_55855(Templ_124340);
LA4: ;
break;
case ((NU8) 0) ... ((NU8) 2):
case ((NU8) 4) ... ((NU8) 18):
Result_124343 = Copynode_55855(Templ_124340);
break;
default:
Result_124343 = Copynode_55855(Templ_124340);
LOC9 = Sonslen_55803(Templ_124340);
Newsons_55815(Result_124343, LOC9);
I_124398 = 0;
HEX3Atmp_125068 = 0;
LOC10 = Sonslen_55803(Templ_124340);
HEX3Atmp_125068 = (NI32)(LOC10 - 1);
Res_125070 = 0;
Res_125070 = 0;
while (1) {
if (!(Res_125070 <= HEX3Atmp_125068)) goto LA11;
I_124398 = Res_125070;
asgnRefNoCycle((void**) &(*Result_124343).KindU.S6.Sons->data[I_124398], Evaltemplateaux_124337(C_124339, (*Templ_124340).KindU.S6.Sons->data[I_124398], Actual_124341, Sym_124342));
Res_125070 += 1;
} LA11: ;
break;
}
BeforeRet: ;
return Result_124343;
}
N_NIMCALL(TY55525*, Evaltemplate_124504)(TY106012* C_124506, TY55525* N_124507, TY55547* Sym_124508) {
TY55525* Result_124509;
TY55525* Args_124510;
Result_124509 = 0;
Args_124510 = 0;
Evaltemplatecounter_124423 += 1;
if (!(100 < Evaltemplatecounter_124423)) goto LA2;
Limessage_47562((*N_124507).Info, ((NU8) 178), ((NimStringDesc*) &TMP196936));
LA2: ;
Args_124510 = Evaltemplateargs_124424(C_124506, N_124507, Sym_124508);
Result_124509 = Evaltemplateaux_124337(C_124506, (*(*Sym_124508).Ast).KindU.S6.Sons->data[4], Args_124510, Sym_124508);
Evaltemplatecounter_124423 -= 1;
return Result_124509;
}
N_NIMCALL(TY55525*, Semtemplateexpr_132019)(TY106012* C_132021, TY55525* N_132022, TY55547* S_132023, NIM_BOOL Semcheck_132024) {
TY55525* Result_132025;
Result_132025 = 0;
Markused_124065(N_132022, S_132023);
Pushinfocontext_47606((*N_132022).Info);
Result_132025 = Evaltemplate_124504(C_132021, N_132022, S_132023);
if (!Semcheck_132024) goto LA2;
Result_132025 = Semaftermacrocall_124246(C_132021, Result_132025, S_132023);
LA2: ;
Popinfocontext_47609();
return Result_132025;
}
N_NIMCALL(TY55525*, Semgenericstmtsymbol_138119)(TY106012* C_138121, TY55525* N_138122, TY55547* S_138123) {
TY55525* Result_138124;
NIM_BOOL LOC2;
Result_138124 = 0;
switch ((*S_138123).Kind) {
case ((NU8) 0):
Result_138124 = N_138122;
break;
case ((NU8) 9):
case ((NU8) 10):
case ((NU8) 11):
case ((NU8) 12):
Result_138124 = Symchoice_124549(C_138121, N_138122, S_138123);
break;
case ((NU8) 14):
Result_138124 = Semtemplateexpr_132019(C_138121, N_138122, S_138123, NIM_FALSE);
break;
case ((NU8) 13):
Result_138124 = Semmacroexpr_125093(C_138121, N_138122, S_138123, NIM_FALSE);
break;
case ((NU8) 4):
Result_138124 = Newsymnode_55734(S_138123);
break;
case ((NU8) 3):
Result_138124 = N_138122;
break;
case ((NU8) 6):
LOC2 = !(((*S_138123).Typ == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC2 = !(((*(*S_138123).Typ).Kind == ((NU8) 12)));
LA3: ;
if (!LOC2) goto LA4;
Result_138124 = Newsymnode_55734(S_138123);
goto LA1;
LA4: ;
Result_138124 = N_138122;
LA1: ;
break;
default:
Result_138124 = Newsymnode_55734(S_138123);
break;
}
return Result_138124;
}
N_NIMCALL(NIM_BOOL, Iscallexpr_137483)(TY55525* N_137485) {
NIM_BOOL Result_137486;
Result_137486 = 0;
Result_137486 = ((*N_137485).Kind == ((NU8) 21) || (*N_137485).Kind == ((NU8) 27) || (*N_137485).Kind == ((NU8) 28) || (*N_137485).Kind == ((NU8) 29) || (*N_137485).Kind == ((NU8) 20) || (*N_137485).Kind == ((NU8) 22));
return Result_137486;
}
N_NIMCALL(TY55525*, Semmacrostmt_137499)(TY106012* C_137501, TY55525* N_137502, NIM_BOOL Semcheck_137503) {
TY55525* Result_137504;
TY55525* A_137505;
NIM_BOOL LOC2;
TY55547* S_137554;
NIM_BOOL LOC9;
NI I_137597;
NI HEX3Atmp_145132;
NI LOC12;
NI Res_145134;
NI I_137629;
NI HEX3Atmp_145138;
NI LOC14;
NI Res_145140;
NimStringDesc* LOC16;
Result_137504 = 0;
Checkminsonslen_106103(N_137502, 2);
A_137505 = 0;
LOC2 = Iscallexpr_137483((*N_137502).KindU.S6.Sons->data[0]);
if (!LOC2) goto LA3;
A_137505 = (*(*N_137502).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[0];
goto LA1;
LA3: ;
A_137505 = (*N_137502).KindU.S6.Sons->data[0];
LA1: ;
S_137554 = 0;
S_137554 = Qualifiedlookup_107053(C_137501, A_137505, NIM_FALSE);
if (!!((S_137554 == NIM_NIL))) goto LA6;
switch ((*S_137554).Kind) {
case ((NU8) 13):
Result_137504 = Semmacroexpr_125093(C_137501, N_137502, S_137554, Semcheck_137503);
break;
case ((NU8) 14):
Result_137504 = Newnodei_55737(((NU8) 21), (*N_137502).Info);
Addson_55823(Result_137504, A_137505);
LOC9 = Iscallexpr_137483((*N_137502).KindU.S6.Sons->data[0]);
if (!LOC9) goto LA10;
I_137597 = 0;
HEX3Atmp_145132 = 0;
LOC12 = Sonslen_55803((*N_137502).KindU.S6.Sons->data[0]);
HEX3Atmp_145132 = (NI32)(LOC12 - 1);
Res_145134 = 0;
Res_145134 = 1;
while (1) {
if (!(Res_145134 <= HEX3Atmp_145132)) goto LA13;
I_137597 = Res_145134;
Addson_55823(Result_137504, (*(*N_137502).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[I_137597]);
Res_145134 += 1;
} LA13: ;
LA10: ;
I_137629 = 0;
HEX3Atmp_145138 = 0;
LOC14 = Sonslen_55803(N_137502);
HEX3Atmp_145138 = (NI32)(LOC14 - 1);
Res_145140 = 0;
Res_145140 = 1;
while (1) {
if (!(Res_145140 <= HEX3Atmp_145138)) goto LA15;
I_137629 = Res_145140;
Addson_55823(Result_137504, (*N_137502).KindU.S6.Sons->data[I_137629]);
Res_145140 += 1;
} LA15: ;
Result_137504 = Semtemplateexpr_132019(C_137501, Result_137504, S_137554, Semcheck_137503);
break;
default:
Limessage_47562((*N_137502).Info, ((NU8) 203), (*(*S_137554).Name).S);
break;
}
goto LA5;
LA6: ;
LOC16 = 0;
LOC16 = Rendertree_84042(A_137505, 4);
Limessage_47562((*N_137502).Info, ((NU8) 165), LOC16);
LA5: ;
return Result_137504;
}
N_NIMCALL(TY55525*, Getidentnode_138145)(TY55525* N_138147) {
TY55525* Result_138148;
Result_138148 = 0;
switch ((*N_138147).Kind) {
case ((NU8) 29):
Result_138148 = Getidentnode_138145((*N_138147).KindU.S6.Sons->data[1]);
break;
case ((NU8) 34):
case ((NU8) 43):
Result_138148 = Getidentnode_138145((*N_138147).KindU.S6.Sons->data[0]);
break;
case ((NU8) 2):
Result_138148 = N_138147;
break;
default:
Illformedast_106092(N_138147);
Result_138148 = NIM_NIL;
break;
}
return Result_138148;
}
N_NIMCALL(TY55525*, Semgenericstmt_138102)(TY106012* C_138104, TY55525* N_138105, NU8 Flags_138108) {
TY55525* Result_138180;
NI L_138181;
TY55525* A_138182;
TY55547* S_138183;
NIM_BOOL LOC14;
NI I_138340;
NI HEX3Atmp_145144;
NI LOC18;
NI Res_145146;
NI I_138372;
NI HEX3Atmp_145150;
NI LOC20;
NI Res_145152;
NI I_138405;
NI HEX3Atmp_145156;
NI LOC22;
NI Res_145158;
NI I_138463;
NI HEX3Atmp_145168;
NI LOC24;
NI Res_145170;
NI J_138483;
NI HEX3Atmp_145162;
NI Res_145164;
NI I_138565;
NI HEX3Atmp_145178;
NI Res_145180;
TY55547* LOC28;
TY55547* LOC32;
NI I_138695;
NI HEX3Atmp_145190;
NI LOC33;
NI Res_145192;
NI J_138715;
NI HEX3Atmp_145184;
NI Res_145186;
NI I_138772;
NI HEX3Atmp_145206;
NI LOC36;
NI Res_145208;
NIM_BOOL LOC43;
NI J_138868;
NI HEX3Atmp_145200;
NI Res_145202;
TY55525* LOC48;
TY55547* LOC49;
NI I_138888;
NI HEX3Atmp_145222;
NI LOC50;
NI Res_145224;
NI J_138942;
NI HEX3Atmp_145216;
NI Res_145218;
TY55525* LOC56;
TY55547* LOC57;
NI I_138962;
NI HEX3Atmp_145232;
NI LOC58;
NI Res_145234;
TY55525* LOC67;
TY55547* LOC68;
NI I_139061;
NI HEX3Atmp_145238;
NI LOC69;
NI Res_145240;
TY55525* LOC78;
TY55547* LOC79;
NI I_139111;
NI HEX3Atmp_145244;
NI LOC80;
NI Res_145246;
NI I_139296;
NI HEX3Atmp_145250;
NI LOC95;
NI Res_145252;
TY55525* LOC97;
TY55547* LOC98;
NI I_139412;
NI HEX3Atmp_145262;
NI LOC102;
NI Res_145264;
NI J_139490;
NI HEX3Atmp_145256;
NI Res_145258;
TY55525* LOC108;
TY55547* LOC109;
TY55525* LOC110;
TY55547* LOC111;
TY54011* LOC118;
TY55547* LOC119;
NI I_139678;
NI HEX3Atmp_145272;
NI LOC120;
NI Res_145274;
Result_138180 = 0;
L_138181 = 0;
A_138182 = 0;
S_138183 = 0;
Result_138180 = N_138105;
if (!(N_138105 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*N_138105).Kind) {
case ((NU8) 2):
case ((NU8) 43):
S_138183 = Lookup_107049(C_138104, N_138105);
if (!((Flags_138108 &(1<<((((NU8) 0))&7)))!=0)) goto LA5;
Result_138180 = Symchoice_124549(C_138104, N_138105, S_138183);
goto LA4;
LA5: ;
Result_138180 = Semgenericstmtsymbol_138119(C_138104, N_138105, S_138183);
LA4: ;
break;
case ((NU8) 36):
S_138183 = Qualifiedlookup_107053(C_138104, N_138105, NIM_TRUE);
if (!!((S_138183 == NIM_NIL))) goto LA8;
Result_138180 = Semgenericstmtsymbol_138119(C_138104, N_138105, S_138183);
LA8: ;
break;
case ((NU8) 3) ... ((NU8) 18):
break;
case ((NU8) 45):
Result_138180 = Semgenericstmt_138102(C_138104, (*N_138105).KindU.S6.Sons->data[0], 1);
break;
case ((NU8) 21):
case ((NU8) 49):
case ((NU8) 27):
case ((NU8) 28):
case ((NU8) 20):
case ((NU8) 22):
Checkminsonslen_106103(N_138105, 1);
S_138183 = Qualifiedlookup_107053(C_138104, (*N_138105).KindU.S6.Sons->data[0], NIM_FALSE);
if (!!((S_138183 == NIM_NIL))) goto LA11;
switch ((*S_138183).Kind) {
case ((NU8) 13):
Result_138180 = Semmacroexpr_125093(C_138104, N_138105, S_138183, NIM_FALSE);
goto BeforeRet;
break;
case ((NU8) 14):
Result_138180 = Semtemplateexpr_132019(C_138104, N_138105, S_138183, NIM_FALSE);
goto BeforeRet;
break;
case ((NU8) 0):
case ((NU8) 3):
break;
case ((NU8) 9):
case ((NU8) 10):
case ((NU8) 11):
case ((NU8) 12):
asgnRefNoCycle((void**) &(*N_138105).KindU.S6.Sons->data[0], Symchoice_124549(C_138104, (*N_138105).KindU.S6.Sons->data[0], S_138183));
break;
case ((NU8) 4):
asgnRefNoCycle((void**) &(*N_138105).KindU.S6.Sons->data[0], Newsymnode_55734(S_138183));
break;
case ((NU8) 6):
LOC14 = !(((*S_138183).Typ == NIM_NIL));
if (!(LOC14)) goto LA15;
LOC14 = !(((*(*S_138183).Typ).Kind == ((NU8) 12)));
LA15: ;
if (!LOC14) goto LA16;
asgnRefNoCycle((void**) &(*N_138105).KindU.S6.Sons->data[0], Newsymnode_55734(S_138183));
LA16: ;
break;
default:
asgnRefNoCycle((void**) &(*N_138105).KindU.S6.Sons->data[0], Newsymnode_55734(S_138183));
break;
}
LA11: ;
I_138340 = 0;
HEX3Atmp_145144 = 0;
LOC18 = Sonslen_55803(N_138105);
HEX3Atmp_145144 = (NI32)(LOC18 - 1);
Res_145146 = 0;
Res_145146 = 1;
while (1) {
if (!(Res_145146 <= HEX3Atmp_145144)) goto LA19;
I_138340 = Res_145146;
asgnRefNoCycle((void**) &(*N_138105).KindU.S6.Sons->data[I_138340], Semgenericstmt_138102(C_138104, (*N_138105).KindU.S6.Sons->data[I_138340], Flags_138108));
Res_145146 += 1;
} LA19: ;
break;
case ((NU8) 79):
Result_138180 = Semmacrostmt_137499(C_138104, N_138105, NIM_FALSE);
break;
case ((NU8) 82):
I_138372 = 0;
HEX3Atmp_145150 = 0;
LOC20 = Sonslen_55803(N_138105);
HEX3Atmp_145150 = (NI32)(LOC20 - 1);
Res_145152 = 0;
Res_145152 = 0;
while (1) {
if (!(Res_145152 <= HEX3Atmp_145150)) goto LA21;
I_138372 = Res_145152;
asgnRefNoCycle((void**) &(*N_138105).KindU.S6.Sons->data[I_138372], Semgenericstmtscope_138109(C_138104, (*N_138105).KindU.S6.Sons->data[I_138372], 0));
Res_145152 += 1;
} LA21: ;
break;
case ((NU8) 85):
Openscope_59149(&(*C_138104).Tab);
I_138405 = 0;
HEX3Atmp_145156 = 0;
LOC22 = Sonslen_55803(N_138105);
HEX3Atmp_145156 = (NI32)(LOC22 - 1);
Res_145158 = 0;
Res_145158 = 0;
while (1) {
if (!(Res_145158 <= HEX3Atmp_145156)) goto LA23;
I_138405 = Res_145158;
asgnRefNoCycle((void**) &(*N_138105).KindU.S6.Sons->data[I_138405], Semgenericstmt_138102(C_138104, (*N_138105).KindU.S6.Sons->data[I_138405], 0));
Res_145158 += 1;
} LA23: ;
Closescope_107017(&(*C_138104).Tab);
break;
case ((NU8) 86):
Openscope_59149(&(*C_138104).Tab);
asgnRefNoCycle((void**) &(*N_138105).KindU.S6.Sons->data[0], Semgenericstmt_138102(C_138104, (*N_138105).KindU.S6.Sons->data[0], 0));
I_138463 = 0;
HEX3Atmp_145168 = 0;
LOC24 = Sonslen_55803(N_138105);
HEX3Atmp_145168 = (NI32)(LOC24 - 1);
Res_145170 = 0;
Res_145170 = 1;
while (1) {
if (!(Res_145170 <= HEX3Atmp_145168)) goto LA25;
I_138463 = Res_145170;
A_138182 = (*N_138105).KindU.S6.Sons->data[I_138463];
Checkminsonslen_106103(A_138182, 1);
L_138181 = Sonslen_55803(A_138182);
J_138483 = 0;
HEX3Atmp_145162 = 0;
HEX3Atmp_145162 = (NI32)(L_138181 - 2);
Res_145164 = 0;
Res_145164 = 0;
while (1) {
if (!(Res_145164 <= HEX3Atmp_145162)) goto LA26;
J_138483 = Res_145164;
asgnRefNoCycle((void**) &(*A_138182).KindU.S6.Sons->data[J_138483], Semgenericstmt_138102(C_138104, (*A_138182).KindU.S6.Sons->data[J_138483], 0));
Res_145164 += 1;
} LA26: ;
asgnRefNoCycle((void**) &(*A_138182).KindU.S6.Sons->data[(NI32)(L_138181 - 1)], Semgenericstmtscope_138109(C_138104, (*A_138182).KindU.S6.Sons->data[(NI32)(L_138181 - 1)], 0));
Res_145170 += 1;
} LA25: ;
Closescope_107017(&(*C_138104).Tab);
break;
case ((NU8) 84):
L_138181 = Sonslen_55803(N_138105);
Openscope_59149(&(*C_138104).Tab);
asgnRefNoCycle((void**) &(*N_138105).KindU.S6.Sons->data[(NI32)(L_138181 - 2)], Semgenericstmt_138102(C_138104, (*N_138105).KindU.S6.Sons->data[(NI32)(L_138181 - 2)], 0));
I_138565 = 0;
HEX3Atmp_145178 = 0;
HEX3Atmp_145178 = (NI32)(L_138181 - 3);
Res_145180 = 0;
Res_145180 = 0;
while (1) {
if (!(Res_145180 <= HEX3Atmp_145178)) goto LA27;
I_138565 = Res_145180;
LOC28 = 0;
LOC28 = Newsyms_124059(((NU8) 0), (*N_138105).KindU.S6.Sons->data[I_138565], C_138104);
Adddecl_107026(C_138104, LOC28);
Res_145180 += 1;
} LA27: ;
asgnRefNoCycle((void**) &(*N_138105).KindU.S6.Sons->data[(NI32)(L_138181 - 1)], Semgenericstmt_138102(C_138104, (*N_138105).KindU.S6.Sons->data[(NI32)(L_138181 - 1)], 0));
Closescope_107017(&(*C_138104).Tab);
break;
case ((NU8) 99):
case ((NU8) 107):
case ((NU8) 109):
Checksonslen_106099(N_138105, 2);
Openscope_59149(&(*C_138104).Tab);
if (!!(((*N_138105).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA30;
LOC32 = 0;
LOC32 = Newsyms_124059(((NU8) 0), (*N_138105).KindU.S6.Sons->data[0], C_138104);
Adddecl_107026(C_138104, LOC32);
LA30: ;
asgnRefNoCycle((void**) &(*N_138105).KindU.S6.Sons->data[1], Semgenericstmt_138102(C_138104, (*N_138105).KindU.S6.Sons->data[1], 0));
Closescope_107017(&(*C_138104).Tab);
break;
case ((NU8) 93):
Checkminsonslen_106103(N_138105, 2);
asgnRefNoCycle((void**) &(*N_138105).KindU.S6.Sons->data[0], Semgenericstmtscope_138109(C_138104, (*N_138105).KindU.S6.Sons->data[0], 0));
I_138695 = 0;
HEX3Atmp_145190 = 0;
LOC33 = Sonslen_55803(N_138105);
HEX3Atmp_145190 = (NI32)(LOC33 - 1);
Res_145192 = 0;
Res_145192 = 1;
while (1) {
if (!(Res_145192 <= HEX3Atmp_145190)) goto LA34;
I_138695 = Res_145192;
A_138182 = (*N_138105).KindU.S6.Sons->data[I_138695];
Checkminsonslen_106103(A_138182, 1);
L_138181 = Sonslen_55803(A_138182);
J_138715 = 0;
HEX3Atmp_145184 = 0;
HEX3Atmp_145184 = (NI32)(L_138181 - 2);
Res_145186 = 0;
Res_145186 = 0;
while (1) {
if (!(Res_145186 <= HEX3Atmp_145184)) goto LA35;
J_138715 = Res_145186;
asgnRefNoCycle((void**) &(*A_138182).KindU.S6.Sons->data[J_138715], Semgenericstmt_138102(C_138104, (*A_138182).KindU.S6.Sons->data[J_138715], 2));
Res_145186 += 1;
} LA35: ;
asgnRefNoCycle((void**) &(*A_138182).KindU.S6.Sons->data[(NI32)(L_138181 - 1)], Semgenericstmtscope_138109(C_138104, (*A_138182).KindU.S6.Sons->data[(NI32)(L_138181 - 1)], 0));
Res_145192 += 1;
} LA34: ;
break;
case ((NU8) 87):
I_138772 = 0;
HEX3Atmp_145206 = 0;
LOC36 = Sonslen_55803(N_138105);
HEX3Atmp_145206 = (NI32)(LOC36 - 1);
Res_145208 = 0;
Res_145208 = 0;
while (1) {
if (!(Res_145208 <= HEX3Atmp_145206)) goto LA37;
I_138772 = Res_145208;
A_138182 = (*N_138105).KindU.S6.Sons->data[I_138772];
if (!((*A_138182).Kind == ((NU8) 105))) goto LA40;
goto LA38;
LA40: ;
LOC43 = !(((*A_138182).Kind == ((NU8) 25)));
if (!(LOC43)) goto LA44;
LOC43 = !(((*A_138182).Kind == ((NU8) 26)));
LA44: ;
if (!LOC43) goto LA45;
Illformedast_106092(A_138182);
LA45: ;
Checkminsonslen_106103(A_138182, 3);
L_138181 = Sonslen_55803(A_138182);
asgnRefNoCycle((void**) &(*A_138182).KindU.S6.Sons->data[(NI32)(L_138181 - 2)], Semgenericstmt_138102(C_138104, (*A_138182).KindU.S6.Sons->data[(NI32)(L_138181 - 2)], 2));
asgnRefNoCycle((void**) &(*A_138182).KindU.S6.Sons->data[(NI32)(L_138181 - 1)], Semgenericstmt_138102(C_138104, (*A_138182).KindU.S6.Sons->data[(NI32)(L_138181 - 1)], 0));
J_138868 = 0;
HEX3Atmp_145200 = 0;
HEX3Atmp_145200 = (NI32)(L_138181 - 3);
Res_145202 = 0;
Res_145202 = 0;
while (1) {
if (!(Res_145202 <= HEX3Atmp_145200)) goto LA47;
J_138868 = Res_145202;
LOC48 = 0;
LOC48 = Getidentnode_138145((*A_138182).KindU.S6.Sons->data[J_138868]);
LOC49 = 0;
LOC49 = Newsyms_124059(((NU8) 0), LOC48, C_138104);
Adddecl_107026(C_138104, LOC49);
Res_145202 += 1;
} LA47: ;
LA38: ;
Res_145208 += 1;
} LA37: ;
break;
case ((NU8) 65):
I_138888 = 0;
HEX3Atmp_145222 = 0;
LOC50 = Sonslen_55803(N_138105);
HEX3Atmp_145222 = (NI32)(LOC50 - 1);
Res_145224 = 0;
Res_145224 = 0;
while (1) {
if (!(Res_145224 <= HEX3Atmp_145222)) goto LA51;
I_138888 = Res_145224;
A_138182 = (*N_138105).KindU.S6.Sons->data[I_138888];
if (!!(((*A_138182).Kind == ((NU8) 25)))) goto LA53;
Illformedast_106092(A_138182);
LA53: ;
Checkminsonslen_106103(A_138182, 3);
L_138181 = Sonslen_55803(A_138182);
asgnRefNoCycle((void**) &(*A_138182).KindU.S6.Sons->data[(NI32)(L_138181 - 2)], Semgenericstmt_138102(C_138104, (*A_138182).KindU.S6.Sons->data[(NI32)(L_138181 - 2)], 2));
J_138942 = 0;
HEX3Atmp_145216 = 0;
HEX3Atmp_145216 = (NI32)(L_138181 - 3);
Res_145218 = 0;
Res_145218 = 0;
while (1) {
if (!(Res_145218 <= HEX3Atmp_145216)) goto LA55;
J_138942 = Res_145218;
LOC56 = 0;
LOC56 = Getidentnode_138145((*A_138182).KindU.S6.Sons->data[J_138942]);
LOC57 = 0;
LOC57 = Newsyms_124059(((NU8) 0), LOC56, C_138104);
Adddecl_107026(C_138104, LOC57);
Res_145218 += 1;
} LA55: ;
Res_145224 += 1;
} LA51: ;
break;
case ((NU8) 88):
I_138962 = 0;
HEX3Atmp_145232 = 0;
LOC58 = Sonslen_55803(N_138105);
HEX3Atmp_145232 = (NI32)(LOC58 - 1);
Res_145234 = 0;
Res_145234 = 0;
while (1) {
if (!(Res_145234 <= HEX3Atmp_145232)) goto LA59;
I_138962 = Res_145234;
A_138182 = (*N_138105).KindU.S6.Sons->data[I_138962];
if (!((*A_138182).Kind == ((NU8) 105))) goto LA62;
goto LA60;
LA62: ;
if (!!(((*A_138182).Kind == ((NU8) 89)))) goto LA65;
Illformedast_106092(A_138182);
LA65: ;
Checksonslen_106099(A_138182, 3);
LOC67 = 0;
LOC67 = Getidentnode_138145((*A_138182).KindU.S6.Sons->data[0]);
LOC68 = 0;
LOC68 = Newsyms_124059(((NU8) 0), LOC67, C_138104);
Adddecl_107026(C_138104, LOC68);
asgnRefNoCycle((void**) &(*A_138182).KindU.S6.Sons->data[1], Semgenericstmt_138102(C_138104, (*A_138182).KindU.S6.Sons->data[1], 2));
asgnRefNoCycle((void**) &(*A_138182).KindU.S6.Sons->data[2], Semgenericstmt_138102(C_138104, (*A_138182).KindU.S6.Sons->data[2], 0));
LA60: ;
Res_145234 += 1;
} LA59: ;
break;
case ((NU8) 90):
I_139061 = 0;
HEX3Atmp_145238 = 0;
LOC69 = Sonslen_55803(N_138105);
HEX3Atmp_145238 = (NI32)(LOC69 - 1);
Res_145240 = 0;
Res_145240 = 0;
while (1) {
if (!(Res_145240 <= HEX3Atmp_145238)) goto LA70;
I_139061 = Res_145240;
A_138182 = (*N_138105).KindU.S6.Sons->data[I_139061];
if (!((*A_138182).Kind == ((NU8) 105))) goto LA73;
goto LA71;
LA73: ;
if (!!(((*A_138182).Kind == ((NU8) 91)))) goto LA76;
Illformedast_106092(A_138182);
LA76: ;
Checksonslen_106099(A_138182, 3);
LOC78 = 0;
LOC78 = Getidentnode_138145((*A_138182).KindU.S6.Sons->data[0]);
LOC79 = 0;
LOC79 = Newsyms_124059(((NU8) 0), LOC78, C_138104);
Adddecl_107026(C_138104, LOC79);
LA71: ;
Res_145240 += 1;
} LA70: ;
I_139111 = 0;
HEX3Atmp_145244 = 0;
LOC80 = Sonslen_55803(N_138105);
HEX3Atmp_145244 = (NI32)(LOC80 - 1);
Res_145246 = 0;
Res_145246 = 0;
while (1) {
if (!(Res_145246 <= HEX3Atmp_145244)) goto LA81;
I_139111 = Res_145246;
A_138182 = (*N_138105).KindU.S6.Sons->data[I_139111];
if (!((*A_138182).Kind == ((NU8) 105))) goto LA84;
goto LA82;
LA84: ;
if (!!(((*A_138182).Kind == ((NU8) 91)))) goto LA87;
Illformedast_106092(A_138182);
LA87: ;
Checksonslen_106099(A_138182, 3);
if (!!(((*A_138182).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA90;
Openscope_59149(&(*C_138104).Tab);
asgnRefNoCycle((void**) &(*A_138182).KindU.S6.Sons->data[1], Semgenericstmt_138102(C_138104, (*A_138182).KindU.S6.Sons->data[1], 0));
asgnRefNoCycle((void**) &(*A_138182).KindU.S6.Sons->data[2], Semgenericstmt_138102(C_138104, (*A_138182).KindU.S6.Sons->data[2], 2));
Closescope_107017(&(*C_138104).Tab);
goto LA89;
LA90: ;
asgnRefNoCycle((void**) &(*A_138182).KindU.S6.Sons->data[2], Semgenericstmt_138102(C_138104, (*A_138182).KindU.S6.Sons->data[2], 2));
LA89: ;
LA82: ;
Res_145246 += 1;
} LA81: ;
break;
case ((NU8) 121):
Checkminsonslen_106103(N_138105, 1);
if (!!(((*N_138105).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA93;
asgnRefNoCycle((void**) &(*N_138105).KindU.S6.Sons->data[0], Semgenericstmt_138102(C_138104, (*N_138105).KindU.S6.Sons->data[0], 2));
LA93: ;
I_139296 = 0;
HEX3Atmp_145250 = 0;
LOC95 = Sonslen_55803(N_138105);
HEX3Atmp_145250 = (NI32)(LOC95 - 1);
Res_145252 = 0;
Res_145252 = 1;
while (1) {
if (!(Res_145252 <= HEX3Atmp_145250)) goto LA96;
I_139296 = Res_145252;
switch ((*(*N_138105).KindU.S6.Sons->data[I_139296]).Kind) {
case ((NU8) 122):
A_138182 = (*(*N_138105).KindU.S6.Sons->data[I_139296]).KindU.S6.Sons->data[0];
break;
case ((NU8) 2):
A_138182 = (*N_138105).KindU.S6.Sons->data[I_139296];
break;
default:
Illformedast_106092(N_138105);
break;
}
LOC97 = 0;
LOC97 = Getidentnode_138145((*A_138182).KindU.S6.Sons->data[I_139296]);
LOC98 = 0;
LOC98 = Newsyms_124059(((NU8) 0), LOC97, C_138104);
Adddeclat_107030(C_138104, LOC98, ((NI) ((NI32)(((NI) ((*C_138104).Tab.Tos)) - 1))));
Res_145252 += 1;
} LA96: ;
break;
case ((NU8) 111):
case ((NU8) 112):
break;
case ((NU8) 66):
Checkminsonslen_106103(N_138105, 1);
if (!!(((*N_138105).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA100;
asgnRefNoCycle((void**) &(*N_138105).KindU.S6.Sons->data[0], Semgenericstmt_138102(C_138104, (*N_138105).KindU.S6.Sons->data[0], 2));
LA100: ;
I_139412 = 0;
HEX3Atmp_145262 = 0;
LOC102 = Sonslen_55803(N_138105);
HEX3Atmp_145262 = (NI32)(LOC102 - 1);
Res_145264 = 0;
Res_145264 = 1;
while (1) {
if (!(Res_145264 <= HEX3Atmp_145262)) goto LA103;
I_139412 = Res_145264;
A_138182 = (*N_138105).KindU.S6.Sons->data[I_139412];
if (!!(((*A_138182).Kind == ((NU8) 25)))) goto LA105;
Illformedast_106092(A_138182);
LA105: ;
Checkminsonslen_106103(A_138182, 3);
L_138181 = Sonslen_55803(A_138182);
asgnRefNoCycle((void**) &(*A_138182).KindU.S6.Sons->data[(NI32)(L_138181 - 1)], Semgenericstmt_138102(C_138104, (*A_138182).KindU.S6.Sons->data[(NI32)(L_138181 - 2)], 2));
asgnRefNoCycle((void**) &(*A_138182).KindU.S6.Sons->data[(NI32)(L_138181 - 1)], Semgenericstmt_138102(C_138104, (*A_138182).KindU.S6.Sons->data[(NI32)(L_138181 - 1)], 0));
J_139490 = 0;
HEX3Atmp_145256 = 0;
HEX3Atmp_145256 = (NI32)(L_138181 - 3);
Res_145258 = 0;
Res_145258 = 0;
while (1) {
if (!(Res_145258 <= HEX3Atmp_145256)) goto LA107;
J_139490 = Res_145258;
LOC108 = 0;
LOC108 = Getidentnode_138145((*A_138182).KindU.S6.Sons->data[J_139490]);
LOC109 = 0;
LOC109 = Newsyms_124059(((NU8) 0), LOC108, C_138104);
Adddecl_107026(C_138104, LOC109);
Res_145258 += 1;
} LA107: ;
Res_145264 += 1;
} LA103: ;
break;
case ((NU8) 69):
case ((NU8) 70):
case ((NU8) 71):
case ((NU8) 72):
case ((NU8) 73):
case ((NU8) 74):
case ((NU8) 42):
Checksonslen_106099(N_138105, 5);
LOC110 = 0;
LOC110 = Getidentnode_138145((*N_138105).KindU.S6.Sons->data[0]);
LOC111 = 0;
LOC111 = Newsyms_124059(((NU8) 0), LOC110, C_138104);
Adddecl_107026(C_138104, LOC111);
Openscope_59149(&(*C_138104).Tab);
asgnRefNoCycle((void**) &(*N_138105).KindU.S6.Sons->data[1], Semgenericstmt_138102(C_138104, (*N_138105).KindU.S6.Sons->data[1], 0));
if (!!(((*N_138105).KindU.S6.Sons->data[2] == NIM_NIL))) goto LA113;
if (!!(((*(*N_138105).KindU.S6.Sons->data[2]).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA116;
LOC118 = 0;
LOC118 = Getident_54016(((NimStringDesc*) &TMP197130));
LOC119 = 0;
LOC119 = Newsym_55701(((NU8) 0), LOC118, NIM_NIL);
Adddecl_107026(C_138104, LOC119);
LA116: ;
asgnRefNoCycle((void**) &(*N_138105).KindU.S6.Sons->data[2], Semgenericstmt_138102(C_138104, (*N_138105).KindU.S6.Sons->data[2], 0));
LA113: ;
asgnRefNoCycle((void**) &(*N_138105).KindU.S6.Sons->data[3], Semgenericstmt_138102(C_138104, (*N_138105).KindU.S6.Sons->data[3], 0));
asgnRefNoCycle((void**) &(*N_138105).KindU.S6.Sons->data[4], Semgenericstmtscope_138109(C_138104, (*N_138105).KindU.S6.Sons->data[4], 0));
Closescope_107017(&(*C_138104).Tab);
break;
default:
I_139678 = 0;
HEX3Atmp_145272 = 0;
LOC120 = Sonslen_55803(N_138105);
HEX3Atmp_145272 = (NI32)(LOC120 - 1);
Res_145274 = 0;
Res_145274 = 0;
while (1) {
if (!(Res_145274 <= HEX3Atmp_145272)) goto LA121;
I_139678 = Res_145274;
asgnRefNoCycle((void**) &(*Result_138180).KindU.S6.Sons->data[I_139678], Semgenericstmt_138102(C_138104, (*N_138105).KindU.S6.Sons->data[I_139678], Flags_138108));
Res_145274 += 1;
} LA121: ;
break;
}
BeforeRet: ;
return Result_138180;
}
N_NIMCALL(TY55525*, Semgenericstmtscope_138109)(TY106012* C_138111, TY55525* N_138112, NU8 Flags_138115) {
TY55525* Result_138116;
Result_138116 = 0;
Openscope_59149(&(*C_138111).Tab);
Result_138116 = Semgenericstmt_138102(C_138111, N_138112, Flags_138115);
Closescope_107017(&(*C_138111).Tab);
return Result_138116;
}
N_NIMCALL(void, Semborrow_143368)(TY106012* C_143370, TY55525* N_143371, TY55547* S_143372) {
TY55547* B_143373;
B_143373 = 0;
B_143373 = Searchforborrowproc_120009(C_143370, S_143372, (NI32)(((NI) ((*C_143370).Tab.Tos)) - 2));
if (!(B_143373 == NIM_NIL)) goto LA2;
Limessage_47562((*N_143371).Info, ((NU8) 136), ((NimStringDesc*) &TMP196936));
LA2: ;
asgnRefNoCycle((void**) &(*N_143371).KindU.S6.Sons->data[4], Newsymnode_55734(B_143373));
}
N_NIMCALL(void, Sideeffectscheck_143397)(TY106012* C_143399, TY55547* S_143400) {
if (!((24576 & (*S_143400).Flags) == 24576)) goto LA2;
Limessage_47562((*S_143400).Info, ((NU8) 204), (*(*S_143400).Name).S);
LA2: ;
}
N_NIMCALL(TY55525*, Semprocaux_143662)(TY106012* C_143664, TY55525* N_143665, NU8 Kind_143666, TY121007 Validpragmas_143667) {
TY55525* Result_143668;
TY55547* S_143669;
TY55547* Proto_143670;
TY55525* Gp_143671;
TY106006* Oldp_143732;
NI LOC14;
TY106002* LOC26;
NIM_BOOL LOC55;
NIM_BOOL LOC63;
NIM_BOOL LOC68;
TY54011* LOC72;
TY55547* LOC73;
Result_143668 = 0;
S_143669 = 0;
Proto_143670 = 0;
Gp_143671 = 0;
Result_143668 = N_143665;
Checksonslen_106099(N_143665, 5);
if (!((*(*(*C_143664).P).Owner).Kind == ((NU8) 18))) goto LA2;
S_143669 = Semidentvis_124092(C_143664, Kind_143666, (*N_143665).KindU.S6.Sons->data[0], 2);
(*S_143669).Flags |=(1<<((NI32)(((NU8) 5))%(sizeof(NI32)*8)));
goto LA1;
LA2: ;
S_143669 = Semidentvis_124092(C_143664, Kind_143666, (*N_143665).KindU.S6.Sons->data[0], 0);
LA1: ;
asgnRefNoCycle((void**) &(*N_143665).KindU.S6.Sons->data[0], Newsymnode_55734(S_143669));
Oldp_143732 = 0;
Oldp_143732 = (*C_143664).P;
if (!(((*S_143669).Flags &(1<<((((NU8) 1))&31)))!=0)) goto LA5;
(*S_143669).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
LA5: ;
asgnRefNoCycle((void**) &(*S_143669).Ast, N_143665);
Pushowner_106109(S_143669);
Openscope_59149(&(*C_143664).Tab);
if (!!(((*N_143665).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA8;
asgnRefNoCycle((void**) &(*N_143665).KindU.S6.Sons->data[1], Semgenericparamlist_142469(C_143664, (*N_143665).KindU.S6.Sons->data[1], NIM_NIL));
Gp_143671 = (*N_143665).KindU.S6.Sons->data[1];
goto LA7;
LA8: ;
Gp_143671 = Newnodei_55737(((NU8) 65), (*N_143665).Info);
LA7: ;
if (!!(((*N_143665).KindU.S6.Sons->data[2] == NIM_NIL))) goto LA11;
Semparamlist_124147(C_143664, (*N_143665).KindU.S6.Sons->data[2], Gp_143671, S_143669);
LOC14 = Sonslen_55803(Gp_143671);
if (!(0 < LOC14)) goto LA15;
if (!((*N_143665).KindU.S6.Sons->data[1] == NIM_NIL)) goto LA18;
asgnRefNoCycle((void**) &(*N_143665).KindU.S6.Sons->data[1], Gp_143671);
Semparamlist_124147(C_143664, (*N_143665).KindU.S6.Sons->data[2], NIM_NIL, S_143669);
LA18: ;
LA15: ;
Addparams_124153(C_143664, (*(*S_143669).Typ).N);
goto LA10;
LA11: ;
asgnRef((void**) &(*S_143669).Typ, Newtypes_106077(((NU8) 25), C_143664));
Addson_55827((*S_143669).Typ, NIM_NIL);
LA10: ;
Proto_143670 = Searchforproc_120004(C_143664, S_143669, (NI32)(((NI) ((*C_143664).Tab.Tos)) - 2));
if (!(Proto_143670 == NIM_NIL)) goto LA21;
if (!!(((*(*Oldp_143732).Owner).Kind == ((NU8) 18)))) goto LA24;
(*(*S_143669).Typ).Callconv = ((NU8) 8);
goto LA23;
LA24: ;
LOC26 = 0;
LOC26 = Lastoptionentry_106053(C_143664);
(*(*S_143669).Typ).Callconv = (*LOC26).Defaultcc;
LA23: ;
if (!((269824 &(1<<((Kind_143666)&31)))!=0)) goto LA28;
Addinterfaceoverloadablesymat_107044(C_143664, S_143669, (NI32)(((NI) ((*C_143664).Tab.Tos)) - 2));
goto LA27;
LA28: ;
Addinterfacedeclat_107246(C_143664, S_143669, ((NI) ((NI32)(((NI) ((*C_143664).Tab.Tos)) - 2))));
LA27: ;
if (!!(((*N_143665).KindU.S6.Sons->data[3] == NIM_NIL))) goto LA31;
Pragma_121028(C_143664, S_143669, (*N_143665).KindU.S6.Sons->data[3], Validpragmas_143667);
LA31: ;
goto LA20;
LA21: ;
if (!!(((*N_143665).KindU.S6.Sons->data[3] == NIM_NIL))) goto LA34;
Limessage_47562((*(*N_143665).KindU.S6.Sons->data[3]).Info, ((NU8) 133), ((NimStringDesc*) &TMP196936));
LA34: ;
if (!!((((*Proto_143670).Flags &(1<<((((NU8) 6))&31)))!=0))) goto LA37;
Limessage_47562((*N_143665).Info, ((NU8) 94), (*(*Proto_143670).Name).S);
LA37: ;
(*Proto_143670).Flags &= ~(1 << ((NI32)(((NU8) 6)) % (sizeof(NI32)*8)));
Closescope_107017(&(*C_143664).Tab);
Openscope_59149(&(*C_143664).Tab);
if (!!(((*(*Proto_143670).Ast).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA40;
Addgenericparamlisttoscope_142639(C_143664, (*(*Proto_143670).Ast).KindU.S6.Sons->data[1]);
LA40: ;
Addparams_124153(C_143664, (*(*Proto_143670).Typ).N);
(*Proto_143670).Info = (*S_143669).Info;
asgnRef((void**) &(*S_143669).Typ, (*Proto_143670).Typ);
S_143669 = Proto_143670;
asgnRefNoCycle((void**) &(*N_143665).KindU.S6.Sons->data[1], (*(*Proto_143670).Ast).KindU.S6.Sons->data[1]);
asgnRefNoCycle((void**) &(*N_143665).KindU.S6.Sons->data[2], (*(*Proto_143670).Ast).KindU.S6.Sons->data[2]);
if (!!(((*(*N_143665).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA43;
Internalerror_47567((*N_143665).Info, ((NimStringDesc*) &TMP197184));
LA43: ;
asgnRef((void**) &(*(*N_143665).KindU.S6.Sons->data[0]).KindU.S4.Sym, Proto_143670);
asgnRefNoCycle((void**) &(*Proto_143670).Ast, N_143665);
Popowner_106112();
Pushowner_106109(S_143669);
LA20: ;
(*S_143669).Options = Goptions_46075;
if (!!(((*N_143665).KindU.S6.Sons->data[4] == NIM_NIL))) goto LA46;
if (!(((*S_143669).Flags &(1<<((((NU8) 29))&31)))!=0)) goto LA49;
Limessage_47562((*(*N_143665).KindU.S6.Sons->data[4]).Info, ((NU8) 134), (*(*S_143669).Name).S);
LA49: ;
if (!((*N_143665).KindU.S6.Sons->data[1] == NIM_NIL)) goto LA52;
asgnRefNoCycle((void**) &(*C_143664).P, Newproccon_106050(S_143669));
LOC55 = !(((*(*S_143669).Typ).Sons->data[0] == NIM_NIL));
if (!(LOC55)) goto LA56;
LOC55 = !((Kind_143666 == ((NU8) 11)));
LA56: ;
if (!LOC55) goto LA57;
Addresult_124157(C_143664, (*(*S_143669).Typ).Sons->data[0], (*N_143665).Info);
LA57: ;
if (!!((((*S_143669).Flags &(1<<((((NU8) 7))&31)))!=0))) goto LA60;
asgnRefNoCycle((void**) &(*N_143665).KindU.S6.Sons->data[4], Semstmtscope_124104(C_143664, (*N_143665).KindU.S6.Sons->data[4]));
LA60: ;
LOC63 = !(((*(*S_143669).Typ).Sons->data[0] == NIM_NIL));
if (!(LOC63)) goto LA64;
LOC63 = !((Kind_143666 == ((NU8) 11)));
LA64: ;
if (!LOC63) goto LA65;
Addresultnode_124162(C_143664, N_143665);
LA65: ;
goto LA51;
LA52: ;
LOC68 = !(((*(*S_143669).Typ).Sons->data[0] == NIM_NIL));
if (!(LOC68)) goto LA69;
LOC68 = !((Kind_143666 == ((NU8) 11)));
LA69: ;
if (!LOC68) goto LA70;
LOC72 = 0;
LOC72 = Getident_54016(((NimStringDesc*) &TMP197130));
LOC73 = 0;
LOC73 = Newsym_55701(((NU8) 0), LOC72, NIM_NIL);
Adddecl_107026(C_143664, LOC73);
LA70: ;
asgnRefNoCycle((void**) &(*N_143665).KindU.S6.Sons->data[4], Semgenericstmtscope_138109(C_143664, (*N_143665).KindU.S6.Sons->data[4], 0));
LA51: ;
if (!(((*S_143669).Flags &(1<<((((NU8) 7))&31)))!=0)) goto LA75;
asgnRefNoCycle((void**) &(*N_143665).KindU.S6.Sons->data[4], NIM_NIL);
LA75: ;
goto LA45;
LA46: ;
if (!!((Proto_143670 == NIM_NIL))) goto LA78;
Limessage_47562((*N_143665).Info, ((NU8) 135), (*(*Proto_143670).Name).S);
LA78: ;
if (!((536871040 & (*S_143669).Flags) == 0)) goto LA81;
(*S_143669).Flags |=(1<<((NI32)(((NU8) 6))%(sizeof(NI32)*8)));
goto LA80;
LA81: ;
if (!(((*S_143669).Flags &(1<<((((NU8) 29))&31)))!=0)) goto LA83;
Semborrow_143368(C_143664, N_143665, S_143669);
goto LA80;
LA83: ;
LA80: ;
LA45: ;
Sideeffectscheck_143397(C_143664, S_143669);
Closescope_107017(&(*C_143664).Tab);
Popowner_106112();
asgnRefNoCycle((void**) &(*C_143664).P, Oldp_143732);
return Result_143668;
}
N_NIMCALL(TY55525*, Semiterator_144424)(TY106012* C_144426, TY55525* N_144427) {
TY55525* Result_144428;
TY55547* S_144453;
TY55551* T_144454;
Result_144428 = 0;
Result_144428 = Semprocaux_143662(C_144426, N_144427, ((NU8) 11), TMP197185);
S_144453 = 0;
S_144453 = (*(*Result_144428).KindU.S6.Sons->data[0]).KindU.S4.Sym;
T_144454 = 0;
T_144454 = (*S_144453).Typ;
if (!((*T_144454).Sons->data[0] == NIM_NIL)) goto LA2;
Limessage_47562((*N_144427).Info, ((NU8) 175), ((NimStringDesc*) &TMP197186));
LA2: ;
if (!((*N_144427).KindU.S6.Sons->data[4] == NIM_NIL)) goto LA5;
Limessage_47562((*N_144427).Info, ((NU8) 135), (*(*S_144453).Name).S);
LA5: ;
return Result_144428;
}
N_NIMCALL(TY55525*, Semproc_144489)(TY106012* C_144491, TY55525* N_144492) {
TY55525* Result_144493;
Result_144493 = 0;
Result_144493 = Semprocaux_143662(C_144491, N_144492, ((NU8) 9), TMP197187);
return Result_144493;
}
N_NIMCALL(NIM_BOOL, Istoplevel_124053)(TY106012* C_124055) {
NIM_BOOL Result_124056;
Result_124056 = 0;
Result_124056 = (((NI) ((*C_124055).Tab.Tos)) <= 2);
return Result_124056;
}
N_NIMCALL(TY55525*, Semmethod_144494)(TY106012* C_144496, TY55525* N_144497) {
TY55525* Result_144498;
NIM_BOOL LOC2;
Result_144498 = 0;
LOC2 = Istoplevel_124053(C_144496);
if (!!(LOC2)) goto LA3;
Limessage_47562((*N_144497).Info, ((NU8) 177), ((NimStringDesc*) &TMP197188));
LA3: ;
Result_144498 = Semprocaux_143662(C_144496, N_144497, ((NU8) 10), TMP197187);
return Result_144498;
}
N_NIMCALL(TY55525*, Semconverterdef_144499)(TY106012* C_144501, TY55525* N_144502) {
TY55525* Result_144503;
NIM_BOOL LOC2;
TY55547* S_144551;
TY55551* T_144552;
NI LOC12;
Result_144503 = 0;
LOC2 = Istoplevel_124053(C_144501);
if (!!(LOC2)) goto LA3;
Limessage_47562((*N_144502).Info, ((NU8) 177), ((NimStringDesc*) &TMP197189));
LA3: ;
Checksonslen_106099(N_144502, 5);
if (!!(((*N_144502).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA6;
Limessage_47562((*N_144502).Info, ((NU8) 152), ((NimStringDesc*) &TMP197189));
LA6: ;
Result_144503 = Semprocaux_143662(C_144501, N_144502, ((NU8) 12), TMP197187);
S_144551 = 0;
S_144551 = (*(*Result_144503).KindU.S6.Sons->data[0]).KindU.S4.Sym;
T_144552 = 0;
T_144552 = (*S_144551).Typ;
if (!((*T_144552).Sons->data[0] == NIM_NIL)) goto LA9;
Limessage_47562((*N_144502).Info, ((NU8) 175), ((NimStringDesc*) &TMP197189));
LA9: ;
LOC12 = Sonslen_55806(T_144552);
if (!!((LOC12 == 2))) goto LA13;
Limessage_47562((*N_144502).Info, ((NU8) 200), ((NimStringDesc*) &TMP197189));
LA13: ;
Addconverter_106058(C_144501, S_144551);
return Result_144503;
}
N_NIMCALL(TY55525*, Semmacrodef_144566)(TY106012* C_144568, TY55525* N_144569) {
TY55525* Result_144570;
TY55547* S_144618;
TY55551* T_144619;
NI LOC8;
Result_144570 = 0;
Checksonslen_106099(N_144569, 5);
if (!!(((*N_144569).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA2;
Limessage_47562((*N_144569).Info, ((NU8) 152), ((NimStringDesc*) &TMP197190));
LA2: ;
Result_144570 = Semprocaux_143662(C_144568, N_144569, ((NU8) 13), TMP197191);
S_144618 = 0;
S_144618 = (*(*Result_144570).KindU.S6.Sons->data[0]).KindU.S4.Sym;
T_144619 = 0;
T_144619 = (*S_144618).Typ;
if (!((*T_144619).Sons->data[0] == NIM_NIL)) goto LA5;
Limessage_47562((*N_144569).Info, ((NU8) 175), ((NimStringDesc*) &TMP197190));
LA5: ;
LOC8 = Sonslen_55806(T_144619);
if (!!((LOC8 == 2))) goto LA9;
Limessage_47562((*N_144569).Info, ((NU8) 200), ((NimStringDesc*) &TMP197190));
LA9: ;
if (!((*N_144569).KindU.S6.Sons->data[4] == NIM_NIL)) goto LA12;
Limessage_47562((*N_144569).Info, ((NU8) 135), (*(*S_144618).Name).S);
LA12: ;
return Result_144570;
}
N_NIMCALL(TY55525*, Resolvetemplateparams_124598)(TY106012* C_124600, TY55525* N_124601, NIM_BOOL Withinbind_124602, TY55900* Tobind_124604) {
TY55525* Result_124605;
TY55547* S_124606;
NIM_BOOL LOC5;
NIM_BOOL LOC7;
TY55547* LOC13;
NI I_124684;
NI HEX3Atmp_125082;
NI LOC14;
NI Res_125084;
Result_124605 = 0;
S_124606 = 0;
if (!(N_124601 == NIM_NIL)) goto LA2;
Result_124605 = NIM_NIL;
goto BeforeRet;
LA2: ;
switch ((*N_124601).Kind) {
case ((NU8) 2):
LOC5 = !(Withinbind_124602);
if (!(LOC5)) goto LA6;
LOC7 = Intsetcontains_55910((*Tobind_124604), (*(*N_124601).KindU.S5.Ident).Sup.Id);
LOC5 = !(LOC7);
LA6: ;
if (!LOC5) goto LA8;
S_124606 = Symtablocalget_59123((*C_124600).Tab, (*N_124601).KindU.S5.Ident);
if (!!((S_124606 == NIM_NIL))) goto LA11;
Result_124605 = Newsymnode_55734(S_124606);
(*Result_124605).Info = (*N_124601).Info;
goto LA10;
LA11: ;
Result_124605 = N_124601;
LA10: ;
goto LA4;
LA8: ;
Intsetincl_55914(Tobind_124604, (*(*N_124601).KindU.S5.Ident).Sup.Id);
LOC13 = 0;
LOC13 = Lookup_107049(C_124600, N_124601);
Result_124605 = Symchoice_124549(C_124600, N_124601, LOC13);
LA4: ;
break;
case ((NU8) 3) ... ((NU8) 18):
Result_124605 = N_124601;
break;
case ((NU8) 45):
Result_124605 = Resolvetemplateparams_124598(C_124600, (*N_124601).KindU.S6.Sons->data[0], NIM_TRUE, Tobind_124604);
break;
default:
Result_124605 = N_124601;
I_124684 = 0;
HEX3Atmp_125082 = 0;
LOC14 = Sonslen_55803(N_124601);
HEX3Atmp_125082 = (NI32)(LOC14 - 1);
Res_125084 = 0;
Res_125084 = 0;
while (1) {
if (!(Res_125084 <= HEX3Atmp_125082)) goto LA15;
I_124684 = Res_125084;
asgnRefNoCycle((void**) &(*Result_124605).KindU.S6.Sons->data[I_124684], Resolvetemplateparams_124598(C_124600, (*N_124601).KindU.S6.Sons->data[I_124684], Withinbind_124602, Tobind_124604));
Res_125084 += 1;
} LA15: ;
break;
}
BeforeRet: ;
return Result_124605;
}
N_NIMCALL(TY55525*, Transformtoexpr_124709)(TY55525* N_124711) {
TY55525* Result_124712;
NI Realstmt_124713;
NI I_124721;
NI HEX3Atmp_125088;
NI LOC1;
NI Res_125090;
Result_124712 = 0;
Realstmt_124713 = 0;
Result_124712 = N_124711;
switch ((*N_124711).Kind) {
case ((NU8) 101):
Realstmt_124713 = -1;
I_124721 = 0;
HEX3Atmp_125088 = 0;
LOC1 = Sonslen_55803(N_124711);
HEX3Atmp_125088 = (NI32)(LOC1 - 1);
Res_125090 = 0;
Res_125090 = 0;
while (1) {
if (!(Res_125090 <= HEX3Atmp_125088)) goto LA2;
I_124721 = Res_125090;
switch ((*(*N_124711).KindU.S6.Sons->data[I_124721]).Kind) {
case ((NU8) 105):
case ((NU8) 1):
case ((NU8) 18):
break;
default:
if (!(Realstmt_124713 == -1)) goto LA4;
Realstmt_124713 = I_124721;
goto LA3;
LA4: ;
Realstmt_124713 = -2;
LA3: ;
break;
}
Res_125090 += 1;
} LA2: ;
if (!(0 <= Realstmt_124713)) goto LA7;
Result_124712 = Transformtoexpr_124709((*N_124711).KindU.S6.Sons->data[Realstmt_124713]);
goto LA6;
LA7: ;
(*N_124711).Kind = ((NU8) 106);
LA6: ;
break;
case ((NU8) 99):
(*N_124711).Kind = ((NU8) 107);
break;
default:
break;
}
return Result_124712;
}
N_NIMCALL(TY55525*, Semtemplatedef_124750)(TY106012* C_124752, TY55525* N_124753) {
TY55525* Result_124754;
TY55547* S_124755;
TY55900 Tobind_124756;
TY55551* LOC16;
TY55525* LOC17;
Result_124754 = 0;
S_124755 = 0;
memset((void*)&Tobind_124756, 0, sizeof(Tobind_124756));
if (!((*(*(*C_124752).P).Owner).Kind == ((NU8) 18))) goto LA2;
S_124755 = Semidentvis_124092(C_124752, ((NU8) 14), (*N_124753).KindU.S6.Sons->data[0], 2);
(*S_124755).Flags |=(1<<((NI32)(((NU8) 5))%(sizeof(NI32)*8)));
goto LA1;
LA2: ;
S_124755 = Semidentvis_124092(C_124752, ((NU8) 14), (*N_124753).KindU.S6.Sons->data[0], 0);
LA1: ;
if (!(((*S_124755).Flags &(1<<((((NU8) 1))&31)))!=0)) goto LA5;
(*S_124755).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
LA5: ;
Pushowner_106109(S_124755);
Openscope_59149(&(*C_124752).Tab);
asgnRefNoCycle((void**) &(*N_124753).KindU.S6.Sons->data[0], Newsymnode_55734(S_124755));
if (!!(((*N_124753).KindU.S6.Sons->data[3] == NIM_NIL))) goto LA8;
Limessage_47562((*N_124753).Info, ((NU8) 151), ((NimStringDesc*) &TMP197192));
LA8: ;
if (!!(((*N_124753).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA11;
Limessage_47562((*N_124753).Info, ((NU8) 152), ((NimStringDesc*) &TMP197192));
LA11: ;
if (!((*N_124753).KindU.S6.Sons->data[2] == NIM_NIL)) goto LA14;
asgnRef((void**) &(*S_124755).Typ, Newtypes_106077(((NU8) 25), C_124752));
asgnRefNoCycle((void**) &(*(*S_124755).Typ).N, Newnodei_55737(((NU8) 66), (*N_124753).Info));
LOC16 = 0;
LOC16 = Newtypes_106077(((NU8) 7), C_124752);
Addson_55827((*S_124755).Typ, LOC16);
LOC17 = 0;
LOC17 = Newnodeit_55741(((NU8) 4), (*N_124753).Info, (*(*S_124755).Typ).Sons->data[0]);
Addson_55823((*(*S_124755).Typ).N, LOC17);
goto LA13;
LA14: ;
Semparamlist_124147(C_124752, (*N_124753).KindU.S6.Sons->data[2], NIM_NIL, S_124755);
if (!((*(*N_124753).KindU.S6.Sons->data[2]).KindU.S6.Sons->data[0] == NIM_NIL)) goto LA19;
asgnRef((void**) &(*(*S_124755).Typ).Sons->data[0], Newtypes_106077(((NU8) 7), C_124752));
asgnRefNoCycle((void**) &(*(*(*S_124755).Typ).N).KindU.S6.Sons->data[0], Newnodeit_55741(((NU8) 4), (*N_124753).Info, (*(*S_124755).Typ).Sons->data[0]));
LA19: ;
LA13: ;
Addparams_124153(C_124752, (*(*S_124755).Typ).N);
Intsetinit_55924(&Tobind_124756);
asgnRefNoCycle((void**) &(*N_124753).KindU.S6.Sons->data[4], Resolvetemplateparams_124598(C_124752, (*N_124753).KindU.S6.Sons->data[4], NIM_FALSE, &Tobind_124756));
if (!!(((*(*(*S_124755).Typ).Sons->data[0]).Kind == ((NU8) 7) || (*(*(*S_124755).Typ).Sons->data[0]).Kind == ((NU8) 8)))) goto LA22;
asgnRefNoCycle((void**) &(*N_124753).KindU.S6.Sons->data[4], Transformtoexpr_124709((*N_124753).KindU.S6.Sons->data[4]));
LA22: ;
Closescope_107017(&(*C_124752).Tab);
Popowner_106112();
asgnRefNoCycle((void**) &(*S_124755).Ast, N_124753);
Result_124754 = N_124753;
if (!((*N_124753).KindU.S6.Sons->data[4] == NIM_NIL)) goto LA25;
Limessage_47562((*N_124753).Info, ((NU8) 135), (*(*S_124755).Name).S);
LA25: ;
Addinterfacedecl_107040(C_124752, S_124755);
return Result_124754;
}
N_NIMCALL(TY55525*, Evalinclude_144656)(TY106012* C_144658, TY55525* N_144659) {
TY55525* Result_144660;
NI I_144668;
NI HEX3Atmp_145387;
NI LOC1;
NI Res_145389;
NimStringDesc* F_144681;
NI Fileindex_144682;
NIM_BOOL LOC4;
TY55525* LOC7;
TY55525* LOC8;
Result_144660 = 0;
Result_144660 = Newnodei_55737(((NU8) 101), (*N_144659).Info);
Addson_55823(Result_144660, N_144659);
I_144668 = 0;
HEX3Atmp_145387 = 0;
LOC1 = Sonslen_55803(N_144659);
HEX3Atmp_145387 = (NI32)(LOC1 - 1);
Res_145389 = 0;
Res_145389 = 0;
while (1) {
if (!(Res_145389 <= HEX3Atmp_145387)) goto LA2;
I_144668 = Res_145389;
F_144681 = 0;
F_144681 = Getmodulefile_109013((*N_144659).KindU.S6.Sons->data[I_144668]);
Fileindex_144682 = 0;
Fileindex_144682 = Includefilename_47611(F_144681);
LOC4 = Intsetcontainsorincl_55928(&(*C_144658).Includedfiles, Fileindex_144682);
if (!LOC4) goto LA5;
Limessage_47562((*N_144659).Info, ((NU8) 23), F_144681);
LA5: ;
LOC7 = 0;
LOC7 = Gincludefile_104051(F_144681);
LOC8 = 0;
LOC8 = Semstmt_124143(C_144658, LOC7);
Addson_55823(Result_144660, LOC8);
Intsetexcl_55919(&(*C_144658).Includedfiles, Fileindex_144682);
Res_145389 += 1;
} LA2: ;
return Result_144660;
}
N_NIMCALL(TY55525*, Semstmt_124143)(TY106012* C_124145, TY55525* N_124146) {
TY55525* Result_144694;
NI Length_144719;
NI I_144727;
NI HEX3Atmp_145400;
NI Res_145402;
NI J_144782;
NI HEX3Atmp_145393;
NI HEX3Atmp_145394;
NI Res_145396;
NIM_BOOL LOC13;
NIM_BOOL LOC17;
NIM_BOOL LOC21;
Result_144694 = 0;
Result_144694 = N_124146;
if (!(N_124146 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
if (!(((*N_124146).Flags &(1<<((((NU8) 6))&7)))!=0)) goto LA5;
goto BeforeRet;
LA5: ;
switch ((*N_124146).Kind) {
case ((NU8) 63):
Result_144694 = Semasgn_140665(C_124145, N_124146);
break;
case ((NU8) 21):
case ((NU8) 27):
case ((NU8) 28):
case ((NU8) 29):
case ((NU8) 20):
case ((NU8) 79):
case ((NU8) 22):
Result_144694 = Semcommand_144685(C_124145, N_124146);
break;
case ((NU8) 1):
case ((NU8) 105):
case ((NU8) 18):
break;
case ((NU8) 99):
Result_144694 = Semblock_140153(C_124145, N_124146);
break;
case ((NU8) 101):
Length_144719 = 0;
Length_144719 = Sonslen_55803(N_124146);
I_144727 = 0;
HEX3Atmp_145400 = 0;
HEX3Atmp_145400 = (NI32)(Length_144719 - 1);
Res_145402 = 0;
Res_145402 = 0;
while (1) {
if (!(Res_145402 <= HEX3Atmp_145400)) goto LA7;
I_144727 = Res_145402;
asgnRefNoCycle((void**) &(*N_124146).KindU.S6.Sons->data[I_144727], Semstmt_124143(C_124145, (*N_124146).KindU.S6.Sons->data[I_144727]));
if (!((*(*N_124146).KindU.S6.Sons->data[I_144727]).Kind == ((NU8) 95) || (*(*N_124146).KindU.S6.Sons->data[I_144727]).Kind == ((NU8) 96) || (*(*N_124146).KindU.S6.Sons->data[I_144727]).Kind == ((NU8) 97) || (*(*N_124146).KindU.S6.Sons->data[I_144727]).Kind == ((NU8) 98))) goto LA9;
J_144782 = 0;
HEX3Atmp_145393 = 0;
HEX3Atmp_145394 = 0;
HEX3Atmp_145393 = (NI32)(I_144727 + 1);
HEX3Atmp_145394 = (NI32)(Length_144719 - 1);
Res_145396 = 0;
Res_145396 = HEX3Atmp_145393;
while (1) {
if (!(Res_145396 <= HEX3Atmp_145394)) goto LA11;
J_144782 = Res_145396;
switch ((*(*N_124146).KindU.S6.Sons->data[J_144782]).Kind) {
case ((NU8) 81):
case ((NU8) 105):
case ((NU8) 18):
case ((NU8) 1):
break;
default:
Limessage_47562((*(*N_124146).KindU.S6.Sons->data[J_144782]).Info, ((NU8) 38), ((NimStringDesc*) &TMP196936));
break;
}
Res_145396 += 1;
} LA11: ;
LA9: ;
Res_145402 += 1;
} LA7: ;
break;
case ((NU8) 95):
Result_144694 = Semraise_142191(C_124145, N_124146);
break;
case ((NU8) 87):
Result_144694 = Semvar_141296(C_124145, N_124146);
break;
case ((NU8) 88):
Result_144694 = Semconst_141594(C_124145, N_124146);
break;
case ((NU8) 90):
Result_144694 = Semtypesection_142694(C_124145, N_124146);
break;
case ((NU8) 82):
Result_144694 = Semif_139858(C_124145, N_124146);
break;
case ((NU8) 83):
Result_144694 = Semwhen_139728(C_124145, N_124146);
break;
case ((NU8) 100):
Result_144694 = Semdiscard_139983(C_124145, N_124146);
break;
case ((NU8) 85):
Result_144694 = Semwhile_140346(C_124145, N_124146);
break;
case ((NU8) 93):
Result_144694 = Semtry_142274(C_124145, N_124146);
break;
case ((NU8) 97):
case ((NU8) 98):
Result_144694 = Sembreakorcontinue_140035(C_124145, N_124146);
break;
case ((NU8) 84):
Result_144694 = Semfor_141784(C_124145, N_124146);
break;
case ((NU8) 86):
Result_144694 = Semcase_140451(C_124145, N_124146);
break;
case ((NU8) 96):
Result_144694 = Semreturn_140907(C_124145, N_124146);
break;
case ((NU8) 80):
Result_144694 = Semasm_140256(C_124145, N_124146);
break;
case ((NU8) 92):
Result_144694 = Semyield_141123(C_124145, N_124146);
break;
case ((NU8) 81):
Pragma_121028(C_124145, (*(*C_124145).P).Owner, N_124146, TMP197180);
break;
case ((NU8) 74):
Result_144694 = Semiterator_144424(C_124145, N_124146);
break;
case ((NU8) 69):
Result_144694 = Semproc_144489(C_124145, N_124146);
break;
case ((NU8) 70):
Result_144694 = Semmethod_144494(C_124145, N_124146);
break;
case ((NU8) 71):
Result_144694 = Semconverterdef_144499(C_124145, N_124146);
break;
case ((NU8) 72):
Result_144694 = Semmacrodef_144566(C_124145, N_124146);
break;
case ((NU8) 73):
Result_144694 = Semtemplatedef_124750(C_124145, N_124146);
break;
case ((NU8) 102):
LOC13 = Istoplevel_124053(C_124145);
if (!!(LOC13)) goto LA14;
Limessage_47562((*N_124146).Info, ((NU8) 177), ((NimStringDesc*) &TMP197193));
LA14: ;
Result_144694 = Evalimport_109001(C_124145, N_124146);
break;
case ((NU8) 103):
LOC17 = Istoplevel_124053(C_124145);
if (!!(LOC17)) goto LA18;
Limessage_47562((*N_124146).Info, ((NU8) 177), ((NimStringDesc*) &TMP197199));
LA18: ;
Result_144694 = Evalfrom_109005(C_124145, N_124146);
break;
case ((NU8) 104):
LOC21 = Istoplevel_124053(C_124145);
if (!!(LOC21)) goto LA22;
Limessage_47562((*N_124146).Info, ((NU8) 177), ((NimStringDesc*) &TMP197203));
LA22: ;
Result_144694 = Evalinclude_144656(C_124145, N_124146);
break;
default:
Limessage_47562((*N_124146).Info, ((NU8) 39), ((NimStringDesc*) &TMP196936));
break;
}
if (!(Result_144694 == NIM_NIL)) goto LA25;
Internalerror_47567((*N_124146).Info, ((NimStringDesc*) &TMP197204));
LA25: ;
(*Result_144694).Flags |=(1<<((NI8)(((NU8) 6))%(sizeof(NI8)*8)));
BeforeRet: ;
return Result_144694;
}
N_NIMCALL(TY55525*, Semaftermacrocall_124246)(TY106012* C_124248, TY55525* N_124249, TY55547* S_124250) {
TY55525* Result_124251;
NimStringDesc* LOC1;
Result_124251 = 0;
Result_124251 = N_124249;
switch ((*(*(*S_124250).Typ).Sons->data[0]).Kind) {
case ((NU8) 6):
Result_124251 = Semexpr_124115(C_124248, Result_124251, 0);
break;
case ((NU8) 7):
Result_124251 = Semstmt_124143(C_124248, Result_124251);
break;
case ((NU8) 8):
asgnRef((void**) &(*Result_124251).Typ, Semtypenode_124138(C_124248, Result_124251, NIM_NIL));
break;
default:
LOC1 = 0;
LOC1 = Typetostring_96014((*(*S_124250).Typ).Sons->data[0], ((NU8) 0));
Limessage_47562((*S_124250).Info, ((NU8) 153), LOC1);
break;
}
return Result_124251;
}
N_NIMCALL(TY55525*, Semmacroexpr_125093)(TY106012* C_125095, TY55525* N_125096, TY55547* Sym_125097, NIM_BOOL Semcheck_125098) {
TY55525* Result_125099;
TY114006* P_125114;
TY114004* S_125115;
TY55525* LOC4;
NIM_BOOL LOC6;
Result_125099 = 0;
Evaltemplatecounter_124423 += 1;
if (!(100 < Evaltemplatecounter_124423)) goto LA2;
Limessage_47562((*N_125096).Info, ((NU8) 178), ((NimStringDesc*) &TMP196936));
LA2: ;
Markused_124065(N_125096, Sym_125097);
P_125114 = 0;
P_125114 = Newevalcontext_114033((*C_125095).Module, ((NimStringDesc*) &TMP196936), NIM_FALSE);
S_125115 = 0;
S_125115 = Newstackframe_114024();
asgnRefNoCycle((void**) &(*S_125115).Call, N_125096);
(*S_125115).Params = (TY55519*) setLengthSeq(&((*S_125115).Params)->Sup, sizeof(TY55525*), 2);
asgnRefNoCycle((void**) &(*S_125115).Params->data[0], Newnodeit_55741(((NU8) 18), (*N_125096).Info, (*(*Sym_125097).Typ).Sons->data[0]));
asgnRefNoCycle((void**) &(*S_125115).Params->data[1], N_125096);
Pushstackframe_114026(P_125114, S_125115);
LOC4 = 0;
LOC4 = Eval_114038(P_125114, (*(*Sym_125097).Ast).KindU.S6.Sons->data[4]);
Result_125099 = (*S_125115).Params->data[0];
Popstackframe_114030(P_125114);
LOC6 = Cyclictree_95043(Result_125099);
if (!LOC6) goto LA7;
Limessage_47562((*N_125096).Info, ((NU8) 202), ((NimStringDesc*) &TMP196936));
LA7: ;
if (!Semcheck_125098) goto LA10;
Result_125099 = Semaftermacrocall_124246(C_125095, Result_125099, Sym_125097);
LA10: ;
Evaltemplatecounter_124423 -= 1;
return Result_125099;
}
N_NIMCALL(TY55525*, Semsym_132074)(TY106012* C_132076, TY55525* N_132077, TY55547* S_132078, NU8 Flags_132079) {
TY55525* Result_132080;
NIM_BOOL LOC2;
NIM_BOOL LOC7;
NIM_BOOL LOC8;
TY55547* LOC11;
Result_132080 = 0;
LOC2 = ((*S_132078).Kind == ((NU8) 6));
if (!(LOC2)) goto LA3;
LOC2 = !(((Flags_132079 &(1<<((((NU8) 0))&7)))!=0));
LA3: ;
if (!LOC2) goto LA4;
Limessage_47562((*N_132077).Info, ((NU8) 161), ((NimStringDesc*) &TMP196936));
LA4: ;
switch ((*S_132078).Kind) {
case ((NU8) 9):
case ((NU8) 10):
case ((NU8) 11):
case ((NU8) 12):
LOC8 = !((((*S_132078).Flags &(1<<((((NU8) 20))&31)))!=0));
if (!(LOC8)) goto LA9;
LOC8 = ((*(*S_132078).Typ).Callconv == ((NU8) 0));
LA9: ;
LOC7 = LOC8;
if (!(LOC7)) goto LA10;
LOC11 = 0;
LOC11 = Getmodule_59206(S_132078);
LOC7 = !(((*LOC11).Sup.Id == (*(*C_132076).Module).Sup.Id));
LA10: ;
if (!LOC7) goto LA12;
Limessage_47562((*N_132077).Info, ((NU8) 131), (*(*S_132078).Name).S);
LA12: ;
Result_132080 = Symchoice_124549(C_132076, N_132077, S_132078);
break;
case ((NU8) 7):
Markused_124065(N_132077, S_132078);
if (!((*(*S_132078).Typ).Kind == ((NU8) 5) || (*(*S_132078).Typ).Kind == ((NU8) 2) || (*(*S_132078).Typ).Kind >= ((NU8) 31) && (*(*S_132078).Typ).Kind <= ((NU8) 35) || (*(*S_132078).Typ).Kind >= ((NU8) 36) && (*(*S_132078).Typ).Kind <= ((NU8) 39) || (*(*S_132078).Typ).Kind == ((NU8) 4) || (*(*S_132078).Typ).Kind == ((NU8) 18) || (*(*S_132078).Typ).Kind == ((NU8) 19))) goto LA15;
Result_132080 = Copytree_55858((*S_132078).Ast);
asgnRef((void**) &(*Result_132080).Typ, (*S_132078).Typ);
goto LA14;
LA15: ;
Result_132080 = Newsymnode_55734(S_132078);
LA14: ;
(*Result_132080).Info = (*N_132077).Info;
break;
case ((NU8) 13):
Result_132080 = Semmacroexpr_125093(C_132076, N_132077, S_132078, NIM_TRUE);
break;
case ((NU8) 14):
Result_132080 = Semtemplateexpr_132019(C_132076, N_132077, S_132078, NIM_TRUE);
break;
case ((NU8) 8):
Markused_124065(N_132077, S_132078);
if (!(((*S_132078).Flags &(1<<((((NU8) 5))&31)))!=0)) goto LA18;
(*(*(*C_132076).P).Owner).Flags |=(1<<((NI32)(((NU8) 14))%(sizeof(NI32)*8)));
LA18: ;
Result_132080 = Newsymnode_55734(S_132078);
(*Result_132080).Info = (*N_132077).Info;
break;
case ((NU8) 4):
if (!((*S_132078).Ast == NIM_NIL)) goto LA21;
Internalerror_47567((*N_132077).Info, ((NimStringDesc*) &TMP197205));
LA21: ;
Result_132080 = Semexpr_124115(C_132076, (*S_132078).Ast, 0);
break;
default:
Markused_124065(N_132077, S_132078);
Result_132080 = Newsymnode_55734(S_132078);
(*Result_132080).Info = (*N_132077).Info;
break;
}
return Result_132080;
}
N_NIMCALL(TY55525*, Semfieldaccess_132026)(TY106012* C_132028, TY55525* N_132029, NU8 Flags_132032) {
TY55525* Result_135587;
TY54011* I_135611;
TY55547* F_135612;
TY55525* LOC7;
TY55525* LOC8;
TY55525* LOC9;
Result_135587 = 0;
Result_135587 = Builtinfieldaccess_135226(C_132028, N_132029, Flags_132032);
if (!(Result_135587 == NIM_NIL)) goto LA2;
I_135611 = 0;
I_135611 = Consideracc_124003((*N_132029).KindU.S6.Sons->data[1]);
F_135612 = 0;
F_135612 = Symtabget_59119((*C_132028).Tab, I_135611);
if (!!((F_135612 == NIM_NIL))) goto LA5;
Result_135587 = Newnodei_55737(((NU8) 19), (*N_132029).Info);
LOC7 = 0;
LOC7 = Newidentnode_55730(I_135611, (*N_132029).Info);
Addson_55823(Result_135587, LOC7);
LOC8 = 0;
LOC8 = HEX5BHEX5D_57074(N_132029, 0);
LOC9 = 0;
LOC9 = Copytree_55858(LOC8);
Addson_55823(Result_135587, LOC9);
goto LA4;
LA5: ;
Limessage_47562((*N_132029).Info, ((NU8) 77), (*I_135611).S);
LA4: ;
LA2: ;
return Result_135587;
}
N_NIMCALL(void, Checkconversionbetweenobjects_132168)(TY47532 Info_132170, TY55551* Castdest_132171, TY55551* Src_132172) {
NI Diff_132173;
NimStringDesc* LOC4;
TY114148 LOC5;
NimStringDesc* LOC6;
Diff_132173 = 0;
Diff_132173 = Inheritancediff_96119(Castdest_132171, Src_132172);
if (!(Diff_132173 == 2147483647)) goto LA2;
LOC4 = 0;
LOC4 = Msgkindtostring_47588(((NU8) 139));
memset((void*)&LOC5, 0, sizeof(LOC5));
LOC5[0] = Typetostring_96014(Src_132172, ((NU8) 0));
LOC5[1] = Typetostring_96014(Castdest_132171, ((NU8) 0));
LOC6 = 0;
LOC6 = nsuFormatOpenArray(LOC4, LOC5, 2);
Limessage_47562(Info_132170, ((NU8) 4), LOC6);
LA2: ;
}
N_NIMCALL(void, Checkconvertible_132180)(TY47532 Info_132182, TY55551* Castdest_132183, TY55551* Src_132184) {
NIM_BOOL LOC2;
NimStringDesc* LOC8;
TY55551* D_132199;
TY55551* S_132200;
NIM_BOOL LOC10;
NIM_BOOL LOC11;
NimStringDesc* LOC17;
TY114148 LOC18;
NimStringDesc* LOC19;
NIM_BOOL LOC21;
NIM_BOOL LOC25;
TY55551* LOC26;
TY55551* LOC28;
NU8 LOC31;
NIM_BOOL LOC33;
NIM_BOOL LOC34;
NIM_BOOL LOC36;
NimStringDesc* LOC39;
TY114148 LOC40;
NimStringDesc* LOC41;
LOC2 = Sametype_96048(Castdest_132183, Src_132184);
if (!LOC2) goto LA3;
if (!!(((*Castdest_132183).Kind >= ((NU8) 31) && (*Castdest_132183).Kind <= ((NU8) 39) || (*Castdest_132183).Kind == ((NU8) 5)))) goto LA6;
LOC8 = 0;
LOC8 = Typetostring_96014(Castdest_132183, ((NU8) 0));
Limessage_47562(Info_132182, ((NU8) 227), LOC8);
LA6: ;
goto BeforeRet;
LA3: ;
D_132199 = 0;
D_132199 = Skiptypes_96085(Castdest_132183, 8431616);
S_132200 = 0;
S_132200 = Skiptypes_96085(Src_132184, 8431616);
while (1) {
LOC11 = !((D_132199 == NIM_NIL));
if (!(LOC11)) goto LA12;
LOC11 = ((*D_132199).Kind == ((NU8) 21) || (*D_132199).Kind == ((NU8) 22));
LA12: ;
LOC10 = LOC11;
if (!(LOC10)) goto LA13;
LOC10 = ((*D_132199).Kind == (*S_132200).Kind);
LA13: ;
if (!LOC10) goto LA9;
D_132199 = Base_96021(D_132199);
S_132200 = Base_96021(S_132200);
} LA9: ;
if (!(D_132199 == NIM_NIL)) goto LA15;
LOC17 = 0;
LOC17 = Msgkindtostring_47588(((NU8) 139));
memset((void*)&LOC18, 0, sizeof(LOC18));
LOC18[0] = Typetostring_96014(Src_132184, ((NU8) 0));
LOC18[1] = Typetostring_96014(Castdest_132183, ((NU8) 0));
LOC19 = 0;
LOC19 = nsuFormatOpenArray(LOC17, LOC18, 2);
Limessage_47562(Info_132182, ((NU8) 4), LOC19);
LA15: ;
LOC21 = ((*D_132199).Kind == ((NU8) 17));
if (!(LOC21)) goto LA22;
LOC21 = ((*S_132200).Kind == ((NU8) 17));
LA22: ;
if (!LOC21) goto LA23;
Checkconversionbetweenobjects_132168(Info_132182, D_132199, S_132200);
goto LA20;
LA23: ;
LOC26 = 0;
LOC26 = Skiptypes_96085(Castdest_132183, 9480192);
LOC25 = ((*LOC26).Kind == ((NU8) 1) || (*LOC26).Kind == ((NU8) 14) || (*LOC26).Kind == ((NU8) 2) || (*LOC26).Kind >= ((NU8) 31) && (*LOC26).Kind <= ((NU8) 39));
if (!(LOC25)) goto LA27;
LOC28 = 0;
LOC28 = Skiptypes_96085(Src_132184, 9480192);
LOC25 = ((*LOC28).Kind == ((NU8) 1) || (*LOC28).Kind == ((NU8) 14) || (*LOC28).Kind == ((NU8) 2) || (*LOC28).Kind >= ((NU8) 31) && (*LOC28).Kind <= ((NU8) 39));
LA27: ;
if (!LOC25) goto LA29;
goto LA20;
LA29: ;
LOC31 = Cmptypes_127467(D_132199, S_132200);
switch (LOC31) {
case ((NU8) 0):
case ((NU8) 4):
LOC34 = Equalordistinctof_96056(Castdest_132183, Src_132184);
LOC33 = !(LOC34);
if (!(LOC33)) goto LA35;
LOC36 = Equalordistinctof_96056(Src_132184, Castdest_132183);
LOC33 = !(LOC36);
LA35: ;
if (!LOC33) goto LA37;
LOC39 = 0;
LOC39 = Msgkindtostring_47588(((NU8) 139));
memset((void*)&LOC40, 0, sizeof(LOC40));
LOC40[0] = Typetostring_96014(Src_132184, ((NU8) 0));
LOC40[1] = Typetostring_96014(Castdest_132183, ((NU8) 0));
LOC41 = 0;
LOC41 = nsuFormatOpenArray(LOC39, LOC40, 2);
Limessage_47562(Info_132182, ((NU8) 4), LOC41);
LA37: ;
break;
default:
break;
}
LA20: ;
BeforeRet: ;
}
N_NIMCALL(TY55525*, Semconv_132329)(TY106012* C_132331, TY55525* N_132332, TY55547* S_132333) {
TY55525* Result_132334;
NI LOC2;
TY55525* LOC5;
TY55525* LOC6;
TY55525* Op_132385;
NI I_132402;
NI HEX3Atmp_144965;
NI LOC10;
NI Res_144967;
NIM_BOOL LOC13;
Result_132334 = 0;
LOC2 = Sonslen_55803(N_132332);
if (!!((LOC2 == 2))) goto LA3;
Limessage_47562((*N_132332).Info, ((NU8) 157), ((NimStringDesc*) &TMP196936));
LA3: ;
Result_132334 = Newnodei_55737(((NU8) 50), (*N_132332).Info);
asgnRef((void**) &(*Result_132334).Typ, Semtypenode_124138(C_132331, (*N_132332).KindU.S6.Sons->data[0], NIM_NIL));
LOC5 = 0;
LOC5 = Copytree_55858((*N_132332).KindU.S6.Sons->data[0]);
Addson_55823(Result_132334, LOC5);
LOC6 = 0;
LOC6 = Semexprwithtype_124122(C_132331, (*N_132332).KindU.S6.Sons->data[1], 0);
Addson_55823(Result_132334, LOC6);
Op_132385 = 0;
Op_132385 = (*Result_132334).KindU.S6.Sons->data[1];
if (!!(((*Op_132385).Kind == ((NU8) 46)))) goto LA8;
Checkconvertible_132180((*Result_132334).Info, (*Result_132334).Typ, (*Op_132385).Typ);
goto LA7;
LA8: ;
I_132402 = 0;
HEX3Atmp_144965 = 0;
LOC10 = Sonslen_55803(Op_132385);
HEX3Atmp_144965 = (NI32)(LOC10 - 1);
Res_144967 = 0;
Res_144967 = 0;
while (1) {
if (!(Res_144967 <= HEX3Atmp_144965)) goto LA11;
I_132402 = Res_144967;
LOC13 = Sametype_96048((*Result_132334).Typ, (*(*Op_132385).KindU.S6.Sons->data[I_132402]).Typ);
if (!LOC13) goto LA14;
Markused_124065(N_132332, (*(*Op_132385).KindU.S6.Sons->data[I_132402]).KindU.S4.Sym);
Result_132334 = (*Op_132385).KindU.S6.Sons->data[I_132402];
goto BeforeRet;
LA14: ;
Res_144967 += 1;
} LA11: ;
Limessage_47562((*N_132332).Info, ((NU8) 59), (*(*(*(*Op_132385).KindU.S6.Sons->data[0]).KindU.S4.Sym).Name).S);
LA7: ;
BeforeRet: ;
return Result_132334;
}
N_NIMCALL(void, Semopaux_132783)(TY106012* C_132785, TY55525* N_132786) {
NI I_132794;
NI HEX3Atmp_144972;
NI LOC1;
NI Res_144974;
TY55525* A_132807;
TY47532 Info_132829;
TY54011* LOC6;
I_132794 = 0;
HEX3Atmp_144972 = 0;
LOC1 = Sonslen_55803(N_132786);
HEX3Atmp_144972 = (NI32)(LOC1 - 1);
Res_144974 = 0;
Res_144974 = 1;
while (1) {
if (!(Res_144974 <= HEX3Atmp_144972)) goto LA2;
I_132794 = Res_144974;
A_132807 = 0;
A_132807 = (*N_132786).KindU.S6.Sons->data[I_132794];
if (!((*A_132807).Kind == ((NU8) 23))) goto LA4;
Checksonslen_106099(A_132807, 2);
memset((void*)&Info_132829, 0, sizeof(Info_132829));
Info_132829 = (*(*A_132807).KindU.S6.Sons->data[0]).Info;
LOC6 = 0;
LOC6 = Consideracc_124003((*A_132807).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*A_132807).KindU.S6.Sons->data[0], Newidentnode_55730(LOC6, Info_132829));
asgnRefNoCycle((void**) &(*A_132807).KindU.S6.Sons->data[1], Semexprwithtype_124122(C_132785, (*A_132807).KindU.S6.Sons->data[1], 0));
asgnRef((void**) &(*A_132807).Typ, (*(*A_132807).KindU.S6.Sons->data[1]).Typ);
goto LA3;
LA4: ;
asgnRefNoCycle((void**) &(*N_132786).KindU.S6.Sons->data[I_132794], Semexprwithtype_124122(C_132785, A_132807, 0));
LA3: ;
Res_144974 += 1;
} LA2: ;
}
N_NIMCALL(TY55525*, Overloadedcallopr_132902)(TY106012* C_132904, TY55525* N_132905) {
TY55525* Result_132906;
TY54011* Par_132907;
TY55547* LOC2;
TY55525* LOC5;
NI I_132926;
NI HEX3Atmp_144978;
NI LOC6;
NI Res_144980;
Result_132906 = 0;
Par_132907 = 0;
Par_132907 = Getident_54016(((NimStringDesc*) &TMP197206));
LOC2 = 0;
LOC2 = Symtabget_59119((*C_132904).Tab, Par_132907);
if (!(LOC2 == NIM_NIL)) goto LA3;
Result_132906 = NIM_NIL;
goto LA1;
LA3: ;
Result_132906 = Newnodei_55737(((NU8) 21), (*N_132905).Info);
LOC5 = 0;
LOC5 = Newidentnode_55730(Par_132907, (*N_132905).Info);
Addson_55823(Result_132906, LOC5);
I_132926 = 0;
HEX3Atmp_144978 = 0;
LOC6 = Sonslen_55803(N_132905);
HEX3Atmp_144978 = (NI32)(LOC6 - 1);
Res_144980 = 0;
Res_144980 = 0;
while (1) {
if (!(Res_144980 <= HEX3Atmp_144978)) goto LA7;
I_132926 = Res_144980;
Addson_55823(Result_132906, (*N_132905).KindU.S6.Sons->data[I_132926]);
Res_144980 += 1;
} LA7: ;
Result_132906 = Semexpr_124115(C_132904, Result_132906, 0);
LA1: ;
return Result_132906;
}
N_NIMCALL(NimStringDesc*, Getnotfounderror_126247)(TY106012* C_126249, TY55525* N_126250) {
NimStringDesc* Result_126251;
NI I_126259;
NI HEX3Atmp_128853;
NI LOC1;
NI Res_128855;
NimStringDesc* LOC3;
NI LOC5;
NimStringDesc* Candidates_126274;
TY107004 O_126275;
TY55547* Sym_126289;
NimStringDesc* LOC12;
NimStringDesc* LOC16;
NimStringDesc* LOC17;
Result_126251 = 0;
Result_126251 = Msgkindtostring_47588(((NU8) 126));
I_126259 = 0;
HEX3Atmp_128853 = 0;
LOC1 = Sonslen_55803(N_126250);
HEX3Atmp_128853 = (NI32)(LOC1 - 1);
Res_128855 = 0;
Res_128855 = 1;
while (1) {
if (!(Res_128855 <= HEX3Atmp_128853)) goto LA2;
I_126259 = Res_128855;
LOC3 = 0;
LOC3 = Typetostring_96014((*(*N_126250).KindU.S6.Sons->data[I_126259]).Typ, ((NU8) 0));
Result_126251 = resizeString(Result_126251, LOC3->Sup.len + 0);
appendString(Result_126251, LOC3);
LOC5 = Sonslen_55803(N_126250);
if (!!((I_126259 == (NI32)(LOC5 - 1)))) goto LA6;
Result_126251 = resizeString(Result_126251, 2);
appendString(Result_126251, ((NimStringDesc*) &TMP197207));
LA6: ;
Res_128855 += 1;
} LA2: ;
Result_126251 = addChar(Result_126251, 41);
Candidates_126274 = 0;
Candidates_126274 = copyString(((NimStringDesc*) &TMP196936));
memset((void*)&O_126275, 0, sizeof(O_126275));
Sym_126289 = 0;
Sym_126289 = Initoverloaditer_107058(&O_126275, C_126249, (*N_126250).KindU.S6.Sons->data[0]);
while (1) {
if (!!((Sym_126289 == NIM_NIL))) goto LA8;
if (!((7680 &(1<<(((*Sym_126289).Kind)&31)))!=0)) goto LA10;
LOC12 = 0;
LOC12 = Getprocheader_96018(Sym_126289);
Candidates_126274 = resizeString(Candidates_126274, LOC12->Sup.len + 0);
appendString(Candidates_126274, LOC12);
Candidates_126274 = resizeString(Candidates_126274, 1);
appendString(Candidates_126274, ((NimStringDesc*) &TMP197208));
LA10: ;
Sym_126289 = Nextoverloaditer_107064(&O_126275, C_126249, (*N_126250).KindU.S6.Sons->data[0]);
} LA8: ;
if (!!(((Candidates_126274) && (Candidates_126274)->Sup.len == 0))) goto LA14;
LOC16 = 0;
LOC17 = 0;
LOC17 = Msgkindtostring_47588(((NU8) 127));
LOC16 = rawNewString(LOC17->Sup.len + Candidates_126274->Sup.len + 2);
appendString(LOC16, ((NimStringDesc*) &TMP197208));
appendString(LOC16, LOC17);
appendString(LOC16, ((NimStringDesc*) &TMP197208));
appendString(LOC16, Candidates_126274);
Result_126251 = resizeString(Result_126251, LOC16->Sup.len + 0);
appendString(Result_126251, LOC16);
LA14: ;
return Result_126251;
}
N_NIMCALL(TY55525*, Semdirectop_134587)(TY106012* C_134589, TY55525* N_134590, NU8 Flags_134591) {
TY55525* Result_134592;
NimStringDesc* LOC7;
Result_134592 = 0;
Semopaux_132783(C_134589, N_134590);
Result_134592 = Semdirectcallanalyseeffects_134104(C_134589, N_134590, Flags_134591);
if (!(Result_134592 == NIM_NIL)) goto LA2;
Result_134592 = Overloadedcallopr_132902(C_134589, N_134590);
if (!(Result_134592 == NIM_NIL)) goto LA5;
LOC7 = 0;
LOC7 = Getnotfounderror_126247(C_134589, N_134590);
Limessage_47562((*N_134590).Info, ((NU8) 4), LOC7);
LA5: ;
LA2: ;
Fixabstracttype_133230(C_134589, Result_134592);
Analyseifaddresstakenincall_133934(C_134589, Result_134592);
return Result_134592;
}
N_NIMCALL(TY55547*, Lookupfordefined_134654)(TY106012* C_134656, TY55525* N_134657, NIM_BOOL Onlycurrentscope_134658) {
TY55547* Result_134659;
TY55547* M_134696;
NIM_BOOL LOC8;
TY54011* Ident_134762;
NimStringDesc* LOC18;
Result_134659 = 0;
switch ((*N_134657).Kind) {
case ((NU8) 2):
if (!Onlycurrentscope_134658) goto LA2;
Result_134659 = Symtablocalget_59123((*C_134656).Tab, (*N_134657).KindU.S5.Ident);
goto LA1;
LA2: ;
Result_134659 = Symtabget_59119((*C_134656).Tab, (*N_134657).KindU.S5.Ident);
LA1: ;
break;
case ((NU8) 36):
Result_134659 = NIM_NIL;
if (!Onlycurrentscope_134658) goto LA5;
goto BeforeRet;
LA5: ;
Checksonslen_106099(N_134657, 2);
M_134696 = 0;
M_134696 = Lookupfordefined_134654(C_134656, (*N_134657).KindU.S6.Sons->data[0], Onlycurrentscope_134658);
LOC8 = !((M_134696 == NIM_NIL));
if (!(LOC8)) goto LA9;
LOC8 = ((*M_134696).Kind == ((NU8) 18));
LA9: ;
if (!LOC8) goto LA10;
if (!((*(*N_134657).KindU.S6.Sons->data[1]).Kind == ((NU8) 2))) goto LA13;
Ident_134762 = 0;
Ident_134762 = (*(*N_134657).KindU.S6.Sons->data[1]).KindU.S5.Ident;
if (!(M_134696 == (*C_134656).Module)) goto LA16;
Result_134659 = Strtableget_59069(&(*C_134656).Tab.Stack->data[1], Ident_134762);
goto LA15;
LA16: ;
Result_134659 = Strtableget_59069(&(*M_134696).Tab, Ident_134762);
LA15: ;
goto LA12;
LA13: ;
Limessage_47562((*(*N_134657).KindU.S6.Sons->data[1]).Info, ((NU8) 19), ((NimStringDesc*) &TMP196936));
LA12: ;
LA10: ;
break;
case ((NU8) 43):
Checksonslen_106099(N_134657, 1);
Result_134659 = Lookupfordefined_134654(C_134656, (*N_134657).KindU.S6.Sons->data[0], Onlycurrentscope_134658);
break;
default:
LOC18 = 0;
LOC18 = Rendertree_84042(N_134657, 0);
Limessage_47562((*N_134657).Info, ((NU8) 19), LOC18);
Result_134659 = NIM_NIL;
break;
}
BeforeRet: ;
return Result_134659;
}
N_NIMCALL(TY55525*, Semdefined_134796)(TY106012* C_134798, TY55525* N_134799, NIM_BOOL Onlycurrentscope_134800) {
TY55525* Result_134801;
TY55547* LOC2;
NIM_BOOL LOC5;
NIM_BOOL LOC6;
Result_134801 = 0;
Checksonslen_106099(N_134799, 2);
Result_134801 = Newintnode_55713(((NU8) 6), 0);
LOC2 = 0;
LOC2 = Lookupfordefined_134654(C_134798, (*N_134799).KindU.S6.Sons->data[1], Onlycurrentscope_134800);
if (!!((LOC2 == NIM_NIL))) goto LA3;
(*Result_134801).KindU.S1.Intval = 1;
goto LA1;
LA3: ;
LOC6 = !(Onlycurrentscope_134800);
if (!(LOC6)) goto LA7;
LOC6 = ((*(*N_134799).KindU.S6.Sons->data[1]).Kind == ((NU8) 2));
LA7: ;
LOC5 = LOC6;
if (!(LOC5)) goto LA8;
LOC5 = Isdefined_63059((*(*N_134799).KindU.S6.Sons->data[1]).KindU.S5.Ident);
LA8: ;
if (!LOC5) goto LA9;
(*Result_134801).KindU.S1.Intval = 1;
goto LA1;
LA9: ;
LA1: ;
(*Result_134801).Info = (*N_134799).Info;
asgnRef((void**) &(*Result_134801).Typ, Getsystype_101008(((NU8) 1)));
return Result_134801;
}
N_NIMCALL(TY55525*, Setms_134894)(TY55525* N_134896, TY55547* S_134897) {
TY55525* Result_134898;
Result_134898 = 0;
Result_134898 = N_134896;
asgnRefNoCycle((void**) &(*N_134896).KindU.S6.Sons->data[0], Newsymnode_55734(S_134897));
(*(*N_134896).KindU.S6.Sons->data[0]).Info = (*N_134896).Info;
return Result_134898;
}
N_NIMCALL(TY55525*, Semlowhigh_132551)(TY106012* C_132553, TY55525* N_132554, NU8 M_132555) {
TY55525* Result_132556;
NI LOC2;
TY55551* Typ_132601;
Result_132556 = 0;
LOC2 = Sonslen_55803(N_132554);
if (!!((LOC2 == 2))) goto LA3;
Limessage_47562((*N_132554).Info, ((NU8) 66), Optostr_132557[(M_132555)-3]);
goto LA1;
LA3: ;
asgnRefNoCycle((void**) &(*N_132554).KindU.S6.Sons->data[1], Semexprwithtype_124122(C_132553, (*N_132554).KindU.S6.Sons->data[1], 1));
Typ_132601 = 0;
Typ_132601 = Skiptypes_96085((*(*N_132554).KindU.S6.Sons->data[1]).Typ, 9480192);
switch ((*Typ_132601).Kind) {
case ((NU8) 24):
case ((NU8) 28):
case ((NU8) 27):
asgnRef((void**) &(*N_132554).Typ, Getsystype_101008(((NU8) 31)));
break;
case ((NU8) 4):
case ((NU8) 16):
asgnRef((void**) &(*N_132554).Typ, (*(*(*N_132554).KindU.S6.Sons->data[1]).Typ).Sons->data[0]);
break;
case ((NU8) 31) ... ((NU8) 35):
case ((NU8) 2):
case ((NU8) 1):
case ((NU8) 14):
asgnRef((void**) &(*N_132554).Typ, (*(*N_132554).KindU.S6.Sons->data[1]).Typ);
break;
default:
Limessage_47562((*N_132554).Info, ((NU8) 64), Optostr_132557[(M_132555)-3]);
break;
}
LA1: ;
Result_132556 = N_132554;
return Result_132556;
}
N_NIMCALL(TY55525*, Semsizeof_132626)(TY106012* C_132628, TY55525* N_132629) {
TY55525* Result_132630;
NI LOC2;
Result_132630 = 0;
LOC2 = Sonslen_55803(N_132629);
if (!!((LOC2 == 2))) goto LA3;
Limessage_47562((*N_132629).Info, ((NU8) 66), ((NimStringDesc*) &TMP197211));
goto LA1;
LA3: ;
asgnRefNoCycle((void**) &(*N_132629).KindU.S6.Sons->data[1], Semexprwithtype_124122(C_132628, (*N_132629).KindU.S6.Sons->data[1], 1));
LA1: ;
asgnRef((void**) &(*N_132629).Typ, Getsystype_101008(((NU8) 31)));
Result_132630 = N_132629;
return Result_132630;
}
N_NIMCALL(TY55525*, Semis_132658)(TY106012* C_132660, TY55525* N_132661) {
TY55525* Result_132662;
NI LOC2;
TY55551* A_132727;
TY55551* B_132740;
NIM_BOOL LOC6;
NIM_BOOL LOC11;
NimStringDesc* LOC16;
Result_132662 = 0;
LOC2 = Sonslen_55803(N_132661);
if (!(LOC2 == 3)) goto LA3;
asgnRefNoCycle((void**) &(*N_132661).KindU.S6.Sons->data[1], Semexprwithtype_124122(C_132660, (*N_132661).KindU.S6.Sons->data[1], 1));
asgnRefNoCycle((void**) &(*N_132661).KindU.S6.Sons->data[2], Semexprwithtype_124122(C_132660, (*N_132661).KindU.S6.Sons->data[2], 1));
A_132727 = 0;
A_132727 = (*(*N_132661).KindU.S6.Sons->data[1]).Typ;
B_132740 = 0;
B_132740 = (*(*N_132661).KindU.S6.Sons->data[2]).Typ;
LOC6 = !(((*B_132740).Kind == ((NU8) 17)));
if (LOC6) goto LA7;
LOC6 = !(((*A_132727).Kind == ((NU8) 17)));
LA7: ;
if (!LOC6) goto LA8;
Limessage_47562((*N_132661).Info, ((NU8) 192), ((NimStringDesc*) &TMP196936));
LA8: ;
while (1) {
LOC11 = !((B_132740 == NIM_NIL));
if (!(LOC11)) goto LA12;
LOC11 = !(((*B_132740).Sup.Id == (*A_132727).Sup.Id));
LA12: ;
if (!LOC11) goto LA10;
B_132740 = (*B_132740).Sons->data[0];
} LA10: ;
if (!(B_132740 == NIM_NIL)) goto LA14;
LOC16 = 0;
LOC16 = Typetostring_96014(A_132727, ((NU8) 0));
Limessage_47562((*N_132661).Info, ((NU8) 193), LOC16);
LA14: ;
asgnRef((void**) &(*N_132661).Typ, Getsystype_101008(((NU8) 1)));
goto LA1;
LA3: ;
Limessage_47562((*N_132661).Info, ((NU8) 191), ((NimStringDesc*) &TMP196936));
LA1: ;
Result_132662 = N_132661;
return Result_132662;
}
N_NIMCALL(TY55525*, Semecho_134615)(TY106012* C_134617, TY55525* N_134618) {
TY55525* Result_134619;
NI I_134627;
NI HEX3Atmp_145038;
NI LOC1;
NI Res_145040;
TY55525* Arg_134640;
TY55525* Call_134641;
TY54011* LOC3;
TY55525* LOC4;
Result_134619 = 0;
Checkminsonslen_106103(N_134618, 1);
I_134627 = 0;
HEX3Atmp_145038 = 0;
LOC1 = Sonslen_55803(N_134618);
HEX3Atmp_145038 = (NI32)(LOC1 - 1);
Res_145040 = 0;
Res_145040 = 1;
while (1) {
if (!(Res_145040 <= HEX3Atmp_145038)) goto LA2;
I_134627 = Res_145040;
Arg_134640 = 0;
Arg_134640 = Semexprwithtype_124122(C_134617, (*N_134618).KindU.S6.Sons->data[I_134627], 0);
Call_134641 = 0;
Call_134641 = Newnodei_55737(((NU8) 21), (*Arg_134640).Info);
LOC3 = 0;
LOC3 = Getident_54016(((NimStringDesc*) &TMP197212));
LOC4 = 0;
LOC4 = Newidentnode_55730(LOC3, (*N_134618).Info);
Addson_55823(Call_134641, LOC4);
Addson_55823(Call_134641, Arg_134640);
asgnRefNoCycle((void**) &(*N_134618).KindU.S6.Sons->data[I_134627], Semexpr_124115(C_134617, Call_134641, 0));
Res_145040 += 1;
} LA2: ;
Result_134619 = N_134618;
return Result_134619;
}
N_NIMCALL(TY55525*, Semmagic_134923)(TY106012* C_134925, TY55525* N_134926, TY55547* S_134927, NU8 Flags_134928) {
TY55525* Result_134929;
TY55525* LOC1;
TY55525* LOC2;
TY55525* LOC3;
TY55525* LOC4;
TY55525* LOC5;
TY55525* LOC6;
TY55525* LOC7;
Result_134929 = 0;
Result_134929 = N_134926;
switch ((*S_134927).Magic) {
case ((NU8) 1):
LOC1 = 0;
LOC1 = Setms_134894(N_134926, S_134927);
Result_134929 = Semdefined_134796(C_134925, LOC1, NIM_FALSE);
break;
case ((NU8) 2):
LOC2 = 0;
LOC2 = Setms_134894(N_134926, S_134927);
Result_134929 = Semdefined_134796(C_134925, LOC2, NIM_TRUE);
break;
case ((NU8) 3):
LOC3 = 0;
LOC3 = Setms_134894(N_134926, S_134927);
Result_134929 = Semlowhigh_132551(C_134925, LOC3, ((NU8) 3));
break;
case ((NU8) 4):
LOC4 = 0;
LOC4 = Setms_134894(N_134926, S_134927);
Result_134929 = Semlowhigh_132551(C_134925, LOC4, ((NU8) 4));
break;
case ((NU8) 5):
LOC5 = 0;
LOC5 = Setms_134894(N_134926, S_134927);
Result_134929 = Semsizeof_132626(C_134925, LOC5);
break;
case ((NU8) 6):
LOC6 = 0;
LOC6 = Setms_134894(N_134926, S_134927);
Result_134929 = Semis_132658(C_134925, LOC6);
break;
case ((NU8) 7):
LOC7 = 0;
LOC7 = Setms_134894(N_134926, S_134927);
Result_134929 = Semecho_134615(C_134925, LOC7);
break;
default:
Result_134929 = Semdirectop_134587(C_134925, N_134926, Flags_134928);
break;
}
return Result_134929;
}
N_NIMCALL(TY55525*, Semindirectop_134249)(TY106012* C_134251, TY55525* N_134252, NU8 Flags_134253) {
TY55525* Result_134254;
TY55525* Prc_134267;
NI I_134365;
NI HEX3Atmp_145026;
NI LOC7;
NI Res_145028;
TY55551* T_134402;
NIM_BOOL LOC13;
TY126058 M_134458;
NimStringDesc* Msg_134470;
NI I_134478;
NI HEX3Atmp_145032;
NI LOC20;
NI Res_145034;
NimStringDesc* LOC25;
NimStringDesc* LOC26;
NimStringDesc* LOC27;
NimStringDesc* LOC28;
NimStringDesc* LOC38;
Result_134254 = 0;
Result_134254 = NIM_NIL;
Prc_134267 = 0;
Prc_134267 = (*N_134252).KindU.S6.Sons->data[0];
Checkminsonslen_106103(N_134252, 1);
if (!((*(*N_134252).KindU.S6.Sons->data[0]).Kind == ((NU8) 36))) goto LA2;
Checksonslen_106099((*N_134252).KindU.S6.Sons->data[0], 2);
asgnRefNoCycle((void**) &(*N_134252).KindU.S6.Sons->data[0], Semfieldaccess_132026(C_134251, (*N_134252).KindU.S6.Sons->data[0], 0));
if (!((*(*N_134252).KindU.S6.Sons->data[0]).Kind == ((NU8) 19))) goto LA5;
Result_134254 = (*N_134252).KindU.S6.Sons->data[0];
(*Result_134254).Kind = ((NU8) 21);
I_134365 = 0;
HEX3Atmp_145026 = 0;
LOC7 = Sonslen_55803(N_134252);
HEX3Atmp_145026 = (NI32)(LOC7 - 1);
Res_145028 = 0;
Res_145028 = 1;
while (1) {
if (!(Res_145028 <= HEX3Atmp_145026)) goto LA8;
I_134365 = Res_145028;
Addson_55823(Result_134254, (*N_134252).KindU.S6.Sons->data[I_134365]);
Res_145028 += 1;
} LA8: ;
Result_134254 = Semexpr_124115(C_134251, Result_134254, Flags_134253);
goto BeforeRet;
LA5: ;
goto LA1;
LA2: ;
asgnRefNoCycle((void**) &(*N_134252).KindU.S6.Sons->data[0], Semexpr_124115(C_134251, (*N_134252).KindU.S6.Sons->data[0], 0));
LA1: ;
Semopaux_132783(C_134251, N_134252);
T_134402 = 0;
T_134402 = NIM_NIL;
if (!!(((*(*N_134252).KindU.S6.Sons->data[0]).Typ == NIM_NIL))) goto LA10;
T_134402 = Skiptypes_96085((*(*N_134252).KindU.S6.Sons->data[0]).Typ, 43008);
LA10: ;
LOC13 = !((T_134402 == NIM_NIL));
if (!(LOC13)) goto LA14;
LOC13 = ((*T_134402).Kind == ((NU8) 25));
LA14: ;
if (!LOC13) goto LA15;
memset((void*)&M_134458, 0, sizeof(M_134458));
Initcandidate_126086(&M_134458, T_134402);
Matches_127970(C_134251, N_134252, &M_134458);
if (!!((M_134458.State == ((NU8) 1)))) goto LA18;
Msg_134470 = 0;
Msg_134470 = Msgkindtostring_47588(((NU8) 126));
I_134478 = 0;
HEX3Atmp_145032 = 0;
LOC20 = Sonslen_55803(N_134252);
HEX3Atmp_145032 = (NI32)(LOC20 - 1);
Res_145034 = 0;
Res_145034 = 1;
while (1) {
if (!(Res_145034 <= HEX3Atmp_145032)) goto LA21;
I_134478 = Res_145034;
if (!(1 < I_134478)) goto LA23;
Msg_134470 = resizeString(Msg_134470, 2);
appendString(Msg_134470, ((NimStringDesc*) &TMP197207));
LA23: ;
LOC25 = 0;
LOC25 = Typetostring_96014((*(*N_134252).KindU.S6.Sons->data[I_134478]).Typ, ((NU8) 0));
Msg_134470 = resizeString(Msg_134470, LOC25->Sup.len + 0);
appendString(Msg_134470, LOC25);
Res_145034 += 1;
} LA21: ;
LOC26 = 0;
LOC27 = 0;
LOC27 = Msgkindtostring_47588(((NU8) 127));
LOC28 = 0;
LOC28 = Typetostring_96014((*(*N_134252).KindU.S6.Sons->data[0]).Typ, ((NU8) 0));
LOC26 = rawNewString(LOC27->Sup.len + LOC28->Sup.len + 3);
appendString(LOC26, ((NimStringDesc*) &TMP197213));
appendString(LOC26, LOC27);
appendString(LOC26, ((NimStringDesc*) &TMP197208));
appendString(LOC26, LOC28);
Msg_134470 = resizeString(Msg_134470, LOC26->Sup.len + 0);
appendString(Msg_134470, LOC26);
Limessage_47562((*N_134252).Info, ((NU8) 4), Msg_134470);
Result_134254 = NIM_NIL;
goto LA17;
LA18: ;
Result_134254 = M_134458.Call;
LA17: ;
if (!!((((*T_134402).Flags &(1<<((((NU8) 1))&7)))!=0))) goto LA30;
(*(*(*C_134251).P).Owner).Flags |=(1<<((NI32)(((NU8) 14))%(sizeof(NI32)*8)));
LA30: ;
goto LA12;
LA15: ;
Result_134254 = Overloadedcallopr_132902(C_134251, N_134252);
if (!(Result_134254 == NIM_NIL)) goto LA33;
asgnRefNoCycle((void**) &(*N_134252).KindU.S6.Sons->data[0], Prc_134267);
Result_134254 = Semdirectcallanalyseeffects_134104(C_134251, N_134252, Flags_134253);
LA33: ;
if (!(Result_134254 == NIM_NIL)) goto LA36;
LOC38 = 0;
LOC38 = Rendertree_84042(N_134252, 4);
Limessage_47562((*N_134252).Info, ((NU8) 85), LOC38);
LA36: ;
LA12: ;
Fixabstracttype_133230(C_134251, Result_134254);
Analyseifaddresstakenincall_133934(C_134251, Result_134254);
BeforeRet: ;
return Result_134254;
}
N_NIMCALL(TY55525*, Partialspecialization_126017)(TY106012* C_126019, TY55525* N_126020, TY55547* S_126021) {
TY55525* Result_126022;
NI I_126030;
NI HEX3Atmp_128841;
NI LOC1;
NI Res_128843;
Result_126022 = 0;
I_126030 = 0;
HEX3Atmp_128841 = 0;
LOC1 = Sonslen_55803(N_126020);
HEX3Atmp_128841 = (NI32)(LOC1 - 1);
Res_128843 = 0;
Res_128843 = 1;
while (1) {
if (!(Res_128843 <= HEX3Atmp_128841)) goto LA2;
I_126030 = Res_128843;
asgnRef((void**) &(*(*N_126020).KindU.S6.Sons->data[I_126030]).Typ, Semtypenode_124138(C_126019, (*N_126020).KindU.S6.Sons->data[I_126030], NIM_NIL));
Res_128843 += 1;
} LA2: ;
Result_126022 = N_126020;
return Result_126022;
}
N_NIMCALL(TY55525*, Semarrayaccess_136045)(TY106012* C_136047, TY55525* N_136048, NU8 Flags_136049) {
TY55525* Result_136050;
TY55525* LOC4;
Result_136050 = 0;
Result_136050 = Semsubscript_135775(C_136047, N_136048, Flags_136049);
if (!(Result_136050 == NIM_NIL)) goto LA2;
LOC4 = 0;
LOC4 = Buildoverloadedsubscripts_135735(N_136048, NIM_FALSE);
Result_136050 = Semexpr_124115(C_136047, LOC4, 0);
LA2: ;
return Result_136050;
}
N_NIMCALL(NU8, Checkpar_136769)(TY55525* N_136771) {
NU8 Result_136772;
NI Length_136773;
NI I_136806;
NI HEX3Atmp_145108;
NI Res_145110;
NIM_BOOL LOC14;
Result_136772 = 0;
Length_136773 = 0;
Length_136773 = Sonslen_55803(N_136771);
if (!(Length_136773 == 0)) goto LA2;
Result_136772 = ((NU8) 3);
goto LA1;
LA2: ;
if (!(Length_136773 == 1)) goto LA4;
Result_136772 = ((NU8) 1);
goto LA1;
LA4: ;
if (!((*(*N_136771).KindU.S6.Sons->data[0]).Kind == ((NU8) 24))) goto LA7;
Result_136772 = ((NU8) 2);
goto LA6;
LA7: ;
Result_136772 = ((NU8) 3);
LA6: ;
I_136806 = 0;
HEX3Atmp_145108 = 0;
HEX3Atmp_145108 = (NI32)(Length_136773 - 1);
Res_145110 = 0;
Res_145110 = 0;
while (1) {
if (!(Res_145110 <= HEX3Atmp_145108)) goto LA9;
I_136806 = Res_145110;
if (!(Result_136772 == ((NU8) 2))) goto LA11;
LOC14 = !(((*(*N_136771).KindU.S6.Sons->data[I_136806]).Kind == ((NU8) 24)));
if (LOC14) goto LA15;
LOC14 = !(((*(*(*N_136771).KindU.S6.Sons->data[I_136806]).KindU.S6.Sons->data[0]).Kind == ((NU8) 3) || (*(*(*N_136771).KindU.S6.Sons->data[I_136806]).KindU.S6.Sons->data[0]).Kind == ((NU8) 2)));
LA15: ;
if (!LOC14) goto LA16;
Limessage_47562((*(*N_136771).KindU.S6.Sons->data[I_136806]).Info, ((NU8) 167), ((NimStringDesc*) &TMP196936));
Result_136772 = ((NU8) 0);
goto BeforeRet;
LA16: ;
goto LA10;
LA11: ;
if (!((*(*N_136771).KindU.S6.Sons->data[I_136806]).Kind == ((NU8) 24))) goto LA19;
Limessage_47562((*(*N_136771).KindU.S6.Sons->data[I_136806]).Info, ((NU8) 168), ((NimStringDesc*) &TMP196936));
Result_136772 = ((NU8) 0);
goto BeforeRet;
LA19: ;
LA10: ;
Res_145110 += 1;
} LA9: ;
LA1: ;
BeforeRet: ;
return Result_136772;
}
N_NIMCALL(TY55525*, Semtuplepositionsconstr_137255)(TY106012* C_137257, TY55525* N_137258) {
TY55525* Result_137259;
TY55551* Typ_137260;
NI I_137268;
NI HEX3Atmp_145120;
NI LOC1;
NI Res_145122;
Result_137259 = 0;
Result_137259 = N_137258;
Typ_137260 = 0;
Typ_137260 = Newtypes_106077(((NU8) 18), C_137257);
I_137268 = 0;
HEX3Atmp_145120 = 0;
LOC1 = Sonslen_55803(N_137258);
HEX3Atmp_145120 = (NI32)(LOC1 - 1);
Res_145122 = 0;
Res_145122 = 0;
while (1) {
if (!(Res_145122 <= HEX3Atmp_145120)) goto LA2;
I_137268 = Res_145122;
asgnRefNoCycle((void**) &(*N_137258).KindU.S6.Sons->data[I_137268], Semexprwithtype_124122(C_137257, (*N_137258).KindU.S6.Sons->data[I_137268], 0));
Addson_55827(Typ_137260, (*(*N_137258).KindU.S6.Sons->data[I_137268]).Typ);
Res_145122 += 1;
} LA2: ;
asgnRef((void**) &(*Result_137259).Typ, Typ_137260);
return Result_137259;
}
N_NIMCALL(TY55525*, Semtuplefieldsconstr_136918)(TY106012* C_136920, TY55525* N_136921) {
TY55525* Result_136922;
TY55900 Ids_136923;
TY55551* Typ_136924;
NI I_136933;
NI HEX3Atmp_145114;
NI LOC1;
NI Res_145116;
NIM_BOOL LOC4;
TY54011* Id_137003;
NIM_BOOL LOC12;
TY55547* F_137194;
TY55525* LOC15;
Result_136922 = 0;
memset((void*)&Ids_136923, 0, sizeof(Ids_136923));
Result_136922 = Newnodei_55737(((NU8) 30), (*N_136921).Info);
Typ_136924 = 0;
Typ_136924 = Newtypes_106077(((NU8) 18), C_136920);
asgnRefNoCycle((void**) &(*Typ_136924).N, Newnodei_55737(((NU8) 113), (*N_136921).Info));
Intsetinit_55924(&Ids_136923);
I_136933 = 0;
HEX3Atmp_145114 = 0;
LOC1 = Sonslen_55803(N_136921);
HEX3Atmp_145114 = (NI32)(LOC1 - 1);
Res_145116 = 0;
Res_145116 = 0;
while (1) {
if (!(Res_145116 <= HEX3Atmp_145114)) goto LA2;
I_136933 = Res_145116;
LOC4 = !(((*(*N_136921).KindU.S6.Sons->data[I_136933]).Kind == ((NU8) 24)));
if (LOC4) goto LA5;
LOC4 = !(((*(*(*N_136921).KindU.S6.Sons->data[I_136933]).KindU.S6.Sons->data[0]).Kind == ((NU8) 3) || (*(*(*N_136921).KindU.S6.Sons->data[I_136933]).KindU.S6.Sons->data[0]).Kind == ((NU8) 2)));
LA5: ;
if (!LOC4) goto LA6;
Illformedast_106092((*N_136921).KindU.S6.Sons->data[I_136933]);
LA6: ;
Id_137003 = 0;
if (!((*(*(*N_136921).KindU.S6.Sons->data[I_136933]).KindU.S6.Sons->data[0]).Kind == ((NU8) 2))) goto LA9;
Id_137003 = (*(*(*N_136921).KindU.S6.Sons->data[I_136933]).KindU.S6.Sons->data[0]).KindU.S5.Ident;
goto LA8;
LA9: ;
Id_137003 = (*(*(*(*N_136921).KindU.S6.Sons->data[I_136933]).KindU.S6.Sons->data[0]).KindU.S4.Sym).Name;
LA8: ;
LOC12 = Intsetcontainsorincl_55928(&Ids_136923, (*Id_137003).Sup.Id);
if (!LOC12) goto LA13;
Limessage_47562((*(*N_136921).KindU.S6.Sons->data[I_136933]).Info, ((NU8) 83), (*Id_137003).S);
LA13: ;
asgnRefNoCycle((void**) &(*(*N_136921).KindU.S6.Sons->data[I_136933]).KindU.S6.Sons->data[1], Semexprwithtype_124122(C_136920, (*(*N_136921).KindU.S6.Sons->data[I_136933]).KindU.S6.Sons->data[1], 0));
F_137194 = 0;
F_137194 = Newsyms_124059(((NU8) 15), (*(*N_136921).KindU.S6.Sons->data[I_136933]).KindU.S6.Sons->data[0], C_136920);
asgnRef((void**) &(*F_137194).Typ, (*(*(*N_136921).KindU.S6.Sons->data[I_136933]).KindU.S6.Sons->data[1]).Typ);
Addson_55827(Typ_136924, (*F_137194).Typ);
LOC15 = 0;
LOC15 = Newsymnode_55734(F_137194);
Addson_55823((*Typ_136924).N, LOC15);
asgnRefNoCycle((void**) &(*(*N_136921).KindU.S6.Sons->data[I_136933]).KindU.S6.Sons->data[0], Newsymnode_55734(F_137194));
Addson_55823(Result_136922, (*N_136921).KindU.S6.Sons->data[I_136933]);
Res_145116 += 1;
} LA2: ;
asgnRef((void**) &(*Result_136922).Typ, Typ_136924);
return Result_136922;
}
N_NIMCALL(TY55525*, Semsetconstr_136394)(TY106012* C_136396, TY55525* N_136397) {
TY55525* Result_136398;
NI LOC2;
TY55551* LOC5;
TY55551* Typ_136401;
NI I_136409;
NI HEX3Atmp_145096;
NI LOC6;
NI Res_145098;
NIM_BOOL LOC18;
NI64 LOC22;
NI I_136668;
NI HEX3Atmp_145102;
NI LOC25;
NI Res_145104;
TY55525* M_136669;
TY55525* LOC30;
TY55525* LOC31;
Result_136398 = 0;
Result_136398 = Newnodei_55737(((NU8) 31), (*N_136397).Info);
asgnRef((void**) &(*Result_136398).Typ, Newtypes_106077(((NU8) 19), C_136396));
LOC2 = Sonslen_55803(N_136397);
if (!(LOC2 == 0)) goto LA3;
LOC5 = 0;
LOC5 = Newtypes_106077(((NU8) 3), C_136396);
Addson_55827((*Result_136398).Typ, LOC5);
goto LA1;
LA3: ;
Typ_136401 = 0;
Typ_136401 = NIM_NIL;
I_136409 = 0;
HEX3Atmp_145096 = 0;
LOC6 = Sonslen_55803(N_136397);
HEX3Atmp_145096 = (NI32)(LOC6 - 1);
Res_145098 = 0;
Res_145098 = 0;
while (1) {
if (!(Res_145098 <= HEX3Atmp_145096)) goto LA7;
I_136409 = Res_145098;
if (!((*(*N_136397).KindU.S6.Sons->data[I_136409]).Kind == ((NU8) 35))) goto LA9;
Checksonslen_106099((*N_136397).KindU.S6.Sons->data[I_136409], 2);
asgnRefNoCycle((void**) &(*(*N_136397).KindU.S6.Sons->data[I_136409]).KindU.S6.Sons->data[0], Semexprwithtype_124122(C_136396, (*(*N_136397).KindU.S6.Sons->data[I_136409]).KindU.S6.Sons->data[0], 0));
asgnRefNoCycle((void**) &(*(*N_136397).KindU.S6.Sons->data[I_136409]).KindU.S6.Sons->data[1], Semexprwithtype_124122(C_136396, (*(*N_136397).KindU.S6.Sons->data[I_136409]).KindU.S6.Sons->data[1], 0));
if (!(Typ_136401 == NIM_NIL)) goto LA12;
Typ_136401 = Skiptypes_96085((*(*(*N_136397).KindU.S6.Sons->data[I_136409]).KindU.S6.Sons->data[0]).Typ, 8423424);
LA12: ;
asgnRef((void**) &(*(*N_136397).KindU.S6.Sons->data[I_136409]).Typ, (*(*(*N_136397).KindU.S6.Sons->data[I_136409]).KindU.S6.Sons->data[1]).Typ);
goto LA8;
LA9: ;
asgnRefNoCycle((void**) &(*N_136397).KindU.S6.Sons->data[I_136409], Semexprwithtype_124122(C_136396, (*N_136397).KindU.S6.Sons->data[I_136409], 0));
if (!(Typ_136401 == NIM_NIL)) goto LA15;
Typ_136401 = Skiptypes_96085((*(*N_136397).KindU.S6.Sons->data[I_136409]).Typ, 8423424);
LA15: ;
LA8: ;
Res_145098 += 1;
} LA7: ;
LOC18 = Isordinaltype_96069(Typ_136401);
if (!!(LOC18)) goto LA19;
Limessage_47562((*N_136397).Info, ((NU8) 71), ((NimStringDesc*) &TMP196936));
goto BeforeRet;
LA19: ;
LOC22 = Lengthord_96007(Typ_136401);
if (!(65536 < LOC22)) goto LA23;
Typ_136401 = Makerangetype_106086(C_136396, 0, 65535, (*N_136397).Info);
LA23: ;
Addson_55827((*Result_136398).Typ, Typ_136401);
I_136668 = 0;
HEX3Atmp_145102 = 0;
LOC25 = Sonslen_55803(N_136397);
HEX3Atmp_145102 = (NI32)(LOC25 - 1);
Res_145104 = 0;
Res_145104 = 0;
while (1) {
if (!(Res_145104 <= HEX3Atmp_145102)) goto LA26;
I_136668 = Res_145104;
M_136669 = 0;
if (!((*(*N_136397).KindU.S6.Sons->data[I_136668]).Kind == ((NU8) 35))) goto LA28;
M_136669 = Newnodei_55737(((NU8) 35), (*(*N_136397).KindU.S6.Sons->data[I_136668]).Info);
LOC30 = 0;
LOC30 = Fitnode_124129(C_136396, Typ_136401, (*(*N_136397).KindU.S6.Sons->data[I_136668]).KindU.S6.Sons->data[0]);
Addson_55823(M_136669, LOC30);
LOC31 = 0;
LOC31 = Fitnode_124129(C_136396, Typ_136401, (*(*N_136397).KindU.S6.Sons->data[I_136668]).KindU.S6.Sons->data[1]);
Addson_55823(M_136669, LOC31);
goto LA27;
LA28: ;
M_136669 = Fitnode_124129(C_136396, Typ_136401, (*N_136397).KindU.S6.Sons->data[I_136668]);
LA27: ;
Addson_55823(Result_136398, M_136669);
Res_145104 += 1;
} LA26: ;
LA1: ;
BeforeRet: ;
return Result_136398;
}
N_NIMCALL(TY55525*, Semlambda_124134)(TY106012* C_124136, TY55525* N_124137) {
TY55525* Result_143482;
TY55547* S_143483;
TY54011* LOC1;
TY55547* LOC2;
TY106006* Oldp_143484;
Result_143482 = 0;
Result_143482 = N_124137;
Checksonslen_106099(N_124137, 5);
S_143483 = 0;
LOC1 = 0;
LOC1 = Getident_54016(((NimStringDesc*) &TMP197215));
LOC2 = 0;
LOC2 = Getcurrowner_106107();
S_143483 = Newsym_55701(((NU8) 9), LOC1, LOC2);
(*S_143483).Info = (*N_124137).Info;
Oldp_143484 = 0;
Oldp_143484 = (*C_124136).P;
asgnRefNoCycle((void**) &(*S_143483).Ast, N_124137);
asgnRefNoCycle((void**) &(*N_124137).KindU.S6.Sons->data[0], Newsymnode_55734(S_143483));
Pushowner_106109(S_143483);
Openscope_59149(&(*C_124136).Tab);
if (!!(((*N_124137).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA4;
Illformedast_106092(N_124137);
LA4: ;
if (!!(((*N_124137).KindU.S6.Sons->data[2] == NIM_NIL))) goto LA7;
Semparamlist_124147(C_124136, (*N_124137).KindU.S6.Sons->data[2], NIM_NIL, S_143483);
Addparams_124153(C_124136, (*(*S_143483).Typ).N);
goto LA6;
LA7: ;
asgnRef((void**) &(*S_143483).Typ, Newtypes_106077(((NU8) 25), C_124136));
Addson_55827((*S_143483).Typ, NIM_NIL);
LA6: ;
(*(*S_143483).Typ).Callconv = ((NU8) 8);
if (!!(((*N_124137).KindU.S6.Sons->data[3] == NIM_NIL))) goto LA10;
Pragma_121028(C_124136, S_143483, (*N_124137).KindU.S6.Sons->data[3], TMP197216);
LA10: ;
(*S_143483).Options = Goptions_46075;
if (!!(((*N_124137).KindU.S6.Sons->data[4] == NIM_NIL))) goto LA13;
if (!(((*S_143483).Flags &(1<<((((NU8) 7))&31)))!=0)) goto LA16;
Limessage_47562((*(*N_124137).KindU.S6.Sons->data[4]).Info, ((NU8) 134), (*(*S_143483).Name).S);
LA16: ;
asgnRefNoCycle((void**) &(*C_124136).P, Newproccon_106050(S_143483));
Addresult_124157(C_124136, (*(*S_143483).Typ).Sons->data[0], (*N_124137).Info);
asgnRefNoCycle((void**) &(*N_124137).KindU.S6.Sons->data[4], Semstmtscope_124104(C_124136, (*N_124137).KindU.S6.Sons->data[4]));
Addresultnode_124162(C_124136, N_124137);
goto LA12;
LA13: ;
Limessage_47562((*N_124137).Info, ((NU8) 135), (*(*S_143483).Name).S);
LA12: ;
Closescope_107017(&(*C_124136).Tab);
Popowner_106112();
asgnRefNoCycle((void**) &(*C_124136).P, Oldp_143484);
asgnRef((void**) &(*Result_143482).Typ, (*S_143483).Typ);
return Result_143482;
}
N_NIMCALL(NIM_BOOL, Iscastable_132292)(TY55551* Dst_132294, TY55551* Src_132295) {
NIM_BOOL Result_132296;
NI64 Ds_132297;
NI64 Ss_132298;
NIM_BOOL LOC6;
NIM_BOOL LOC7;
TY55551* LOC9;
TY55551* LOC11;
Result_132296 = 0;
Ds_132297 = 0;
Ss_132298 = 0;
Ds_132297 = Computesize_96110(Dst_132294);
Ss_132298 = Computesize_96110(Src_132295);
if (!(Ds_132297 < 0)) goto LA2;
Result_132296 = NIM_FALSE;
goto LA1;
LA2: ;
if (!(Ss_132298 < 0)) goto LA4;
Result_132296 = NIM_FALSE;
goto LA1;
LA4: ;
LOC7 = (Ss_132298 <= Ds_132297);
if (LOC7) goto LA8;
LOC9 = 0;
LOC9 = Skiptypes_96085(Dst_132294, 43008);
LOC7 = ((*LOC9).Kind >= ((NU8) 31) && (*LOC9).Kind <= ((NU8) 39));
LA8: ;
LOC6 = LOC7;
if (LOC6) goto LA10;
LOC11 = 0;
LOC11 = Skiptypes_96085(Src_132295, 43008);
LOC6 = ((*LOC11).Kind >= ((NU8) 31) && (*LOC11).Kind <= ((NU8) 39));
LA10: ;
Result_132296 = LOC6;
LA1: ;
return Result_132296;
}
N_NIMCALL(TY55525*, Semcast_132475)(TY106012* C_132477, TY55525* N_132478) {
TY55525* Result_132479;
TY55525* LOC4;
TY55525* LOC5;
NIM_BOOL LOC7;
NimStringDesc* LOC10;
Result_132479 = 0;
if (!((Gglobaloptions_46077 &(1<<((((NU8) 8))&31)))!=0)) goto LA2;
Limessage_47562((*N_132478).Info, ((NU8) 88), ((NimStringDesc*) &TMP196936));
LA2: ;
(*(*(*C_132477).P).Owner).Flags |=(1<<((NI32)(((NU8) 14))%(sizeof(NI32)*8)));
Checksonslen_106099(N_132478, 2);
Result_132479 = Newnodei_55737(((NU8) 51), (*N_132478).Info);
asgnRef((void**) &(*Result_132479).Typ, Semtypenode_124138(C_132477, (*N_132478).KindU.S6.Sons->data[0], NIM_NIL));
LOC4 = 0;
LOC4 = Copytree_55858((*N_132478).KindU.S6.Sons->data[0]);
Addson_55823(Result_132479, LOC4);
LOC5 = 0;
LOC5 = Semexprwithtype_124122(C_132477, (*N_132478).KindU.S6.Sons->data[1], 0);
Addson_55823(Result_132479, LOC5);
LOC7 = Iscastable_132292((*Result_132479).Typ, (*(*Result_132479).KindU.S6.Sons->data[1]).Typ);
if (!!(LOC7)) goto LA8;
LOC10 = 0;
LOC10 = Typetostring_96014((*Result_132479).Typ, ((NU8) 0));
Limessage_47562((*Result_132479).Info, ((NU8) 89), LOC10);
LA8: ;
return Result_132479;
}
N_NIMCALL(TY55525*, Semifexpr_136201)(TY106012* C_136203, TY55525* N_136204) {
TY55525* Result_136205;
TY55551* Typ_136206;
NI I_136214;
NI HEX3Atmp_145090;
NI LOC1;
NI Res_145092;
TY55525* It_136227;
Result_136205 = 0;
Result_136205 = N_136204;
Checkminsonslen_106103(N_136204, 2);
Typ_136206 = 0;
Typ_136206 = NIM_NIL;
I_136214 = 0;
HEX3Atmp_145090 = 0;
LOC1 = Sonslen_55803(N_136204);
HEX3Atmp_145090 = (NI32)(LOC1 - 1);
Res_145092 = 0;
Res_145092 = 0;
while (1) {
if (!(Res_145092 <= HEX3Atmp_145090)) goto LA2;
I_136214 = Res_145092;
It_136227 = 0;
It_136227 = (*N_136204).KindU.S6.Sons->data[I_136214];
switch ((*It_136227).Kind) {
case ((NU8) 40):
Checksonslen_106099(It_136227, 2);
asgnRefNoCycle((void**) &(*It_136227).KindU.S6.Sons->data[0], Semexprwithtype_124122(C_136203, (*It_136227).KindU.S6.Sons->data[0], 0));
Checkbool_128912((*It_136227).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*It_136227).KindU.S6.Sons->data[1], Semexprwithtype_124122(C_136203, (*It_136227).KindU.S6.Sons->data[1], 0));
if (!(Typ_136206 == NIM_NIL)) goto LA4;
Typ_136206 = (*(*It_136227).KindU.S6.Sons->data[1]).Typ;
goto LA3;
LA4: ;
asgnRefNoCycle((void**) &(*It_136227).KindU.S6.Sons->data[1], Fitnode_124129(C_136203, Typ_136206, (*It_136227).KindU.S6.Sons->data[1]));
LA3: ;
break;
case ((NU8) 41):
Checksonslen_106099(It_136227, 1);
asgnRefNoCycle((void**) &(*It_136227).KindU.S6.Sons->data[0], Semexprwithtype_124122(C_136203, (*It_136227).KindU.S6.Sons->data[0], 0));
if (!(Typ_136206 == NIM_NIL)) goto LA7;
Internalerror_47567((*It_136227).Info, ((NimStringDesc*) &TMP197218));
LA7: ;
asgnRefNoCycle((void**) &(*It_136227).KindU.S6.Sons->data[0], Fitnode_124129(C_136203, Typ_136206, (*It_136227).KindU.S6.Sons->data[0]));
break;
default:
Illformedast_106092(N_136204);
break;
}
Res_145092 += 1;
} LA2: ;
asgnRef((void**) &(*Result_136205).Typ, Typ_136206);
return Result_136205;
}
N_NIMCALL(TY55525*, Semstmtlistexpr_137305)(TY106012* C_137307, TY55525* N_137308) {
TY55525* Result_137309;
NI Length_137310;
NI I_137318;
NI HEX3Atmp_145126;
NI Res_145128;
Result_137309 = 0;
Result_137309 = N_137308;
Checkminsonslen_106103(N_137308, 1);
Length_137310 = 0;
Length_137310 = Sonslen_55803(N_137308);
I_137318 = 0;
HEX3Atmp_145126 = 0;
HEX3Atmp_145126 = (NI32)(Length_137310 - 2);
Res_145128 = 0;
Res_145128 = 0;
while (1) {
if (!(Res_145128 <= HEX3Atmp_145126)) goto LA1;
I_137318 = Res_145128;
asgnRefNoCycle((void**) &(*N_137308).KindU.S6.Sons->data[I_137318], Semstmt_124143(C_137307, (*N_137308).KindU.S6.Sons->data[I_137318]));
Res_145128 += 1;
} LA1: ;
if (!(0 < Length_137310)) goto LA3;
asgnRefNoCycle((void**) &(*N_137308).KindU.S6.Sons->data[(NI32)(Length_137310 - 1)], Semexprwithtype_124122(C_137307, (*N_137308).KindU.S6.Sons->data[(NI32)(Length_137310 - 1)], 0));
asgnRef((void**) &(*N_137308).Typ, (*(*N_137308).KindU.S6.Sons->data[(NI32)(Length_137310 - 1)]).Typ);
LA3: ;
return Result_137309;
}
N_NIMCALL(TY55525*, Semblockexpr_137381)(TY106012* C_137383, TY55525* N_137384) {
TY55525* Result_137385;
TY55547* LOC4;
Result_137385 = 0;
Result_137385 = N_137384;
(*(*C_137383).P).Nestedblockcounter += 1;
Checksonslen_106099(N_137384, 2);
Openscope_59149(&(*C_137383).Tab);
if (!!(((*N_137384).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA2;
LOC4 = 0;
LOC4 = Newsyms_124059(((NU8) 19), (*N_137384).KindU.S6.Sons->data[0], C_137383);
Adddecl_107026(C_137383, LOC4);
LA2: ;
asgnRefNoCycle((void**) &(*N_137384).KindU.S6.Sons->data[1], Semstmtlistexpr_137305(C_137383, (*N_137384).KindU.S6.Sons->data[1]));
asgnRef((void**) &(*N_137384).Typ, (*(*N_137384).KindU.S6.Sons->data[1]).Typ);
Closescope_107017(&(*C_137383).Tab);
(*(*C_137383).P).Nestedblockcounter -= 1;
return Result_137385;
}
N_NIMCALL(TY55525*, Semexpr_124115)(TY106012* C_124117, TY55525* N_124118, NU8 Flags_124121) {
TY55525* Result_137650;
TY55547* S_137673;
TY55547* S_137840;
TY55547* S_137903;
NIM_BOOL LOC55;
NU8 LOC59;
TY55551* T_137976;
NU8 LOC61;
NimStringDesc* LOC64;
NimStringDesc* LOC65;
Result_137650 = 0;
Result_137650 = N_124118;
if (!(N_124118 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
if (!(((*N_124118).Flags &(1<<((((NU8) 6))&7)))!=0)) goto LA5;
goto BeforeRet;
LA5: ;
switch ((*N_124118).Kind) {
case ((NU8) 2):
S_137673 = 0;
S_137673 = Lookup_107049(C_124117, N_124118);
Result_137650 = Semsym_132074(C_124117, N_124118, S_137673, Flags_124121);
break;
case ((NU8) 3):
Result_137650 = Semsym_132074(C_124117, N_124118, (*N_124118).KindU.S4.Sym, Flags_124121);
break;
case ((NU8) 1):
case ((NU8) 0):
break;
case ((NU8) 18):
asgnRef((void**) &(*Result_137650).Typ, Getsystype_101008(((NU8) 5)));
break;
case ((NU8) 4):
if (!!(((Flags_124121 &(1<<((((NU8) 0))&7)))!=0))) goto LA8;
Limessage_47562((*N_124118).Info, ((NU8) 161), ((NimStringDesc*) &TMP196936));
LA8: ;
asgnRef((void**) &(*N_124118).Typ, Semtypenode_124138(C_124117, N_124118, NIM_NIL));
break;
case ((NU8) 6):
if (!((*Result_137650).Typ == NIM_NIL)) goto LA11;
asgnRef((void**) &(*Result_137650).Typ, Getsystype_101008(((NU8) 31)));
LA11: ;
break;
case ((NU8) 7):
if (!((*Result_137650).Typ == NIM_NIL)) goto LA14;
asgnRef((void**) &(*Result_137650).Typ, Getsystype_101008(((NU8) 32)));
LA14: ;
break;
case ((NU8) 8):
if (!((*Result_137650).Typ == NIM_NIL)) goto LA17;
asgnRef((void**) &(*Result_137650).Typ, Getsystype_101008(((NU8) 33)));
LA17: ;
break;
case ((NU8) 9):
if (!((*Result_137650).Typ == NIM_NIL)) goto LA20;
asgnRef((void**) &(*Result_137650).Typ, Getsystype_101008(((NU8) 34)));
LA20: ;
break;
case ((NU8) 10):
if (!((*Result_137650).Typ == NIM_NIL)) goto LA23;
asgnRef((void**) &(*Result_137650).Typ, Getsystype_101008(((NU8) 35)));
LA23: ;
break;
case ((NU8) 11):
if (!((*Result_137650).Typ == NIM_NIL)) goto LA26;
asgnRef((void**) &(*Result_137650).Typ, Getsystype_101008(((NU8) 36)));
LA26: ;
break;
case ((NU8) 12):
if (!((*Result_137650).Typ == NIM_NIL)) goto LA29;
asgnRef((void**) &(*Result_137650).Typ, Getsystype_101008(((NU8) 37)));
LA29: ;
break;
case ((NU8) 13):
if (!((*Result_137650).Typ == NIM_NIL)) goto LA32;
asgnRef((void**) &(*Result_137650).Typ, Getsystype_101008(((NU8) 38)));
LA32: ;
break;
case ((NU8) 14) ... ((NU8) 16):
if (!((*Result_137650).Typ == NIM_NIL)) goto LA35;
asgnRef((void**) &(*Result_137650).Typ, Getsystype_101008(((NU8) 28)));
LA35: ;
break;
case ((NU8) 5):
if (!((*Result_137650).Typ == NIM_NIL)) goto LA38;
asgnRef((void**) &(*Result_137650).Typ, Getsystype_101008(((NU8) 2)));
LA38: ;
break;
case ((NU8) 36):
Result_137650 = Semfieldaccess_132026(C_124117, N_124118, Flags_124121);
if (!((*Result_137650).Kind == ((NU8) 19))) goto LA41;
(*Result_137650).Kind = ((NU8) 21);
Result_137650 = Semexpr_124115(C_124117, Result_137650, Flags_124121);
LA41: ;
break;
case ((NU8) 45):
Result_137650 = Semexpr_124115(C_124117, (*N_124118).KindU.S6.Sons->data[0], Flags_124121);
break;
case ((NU8) 21):
case ((NU8) 27):
case ((NU8) 28):
case ((NU8) 29):
case ((NU8) 20):
case ((NU8) 22):
Checkminsonslen_106103(N_124118, 1);
S_137840 = 0;
S_137840 = Qualifiedlookup_107053(C_124117, (*N_124118).KindU.S6.Sons->data[0], NIM_FALSE);
if (!!((S_137840 == NIM_NIL))) goto LA44;
switch ((*S_137840).Kind) {
case ((NU8) 13):
Result_137650 = Semmacroexpr_125093(C_124117, N_124118, S_137840, NIM_TRUE);
break;
case ((NU8) 14):
Result_137650 = Semtemplateexpr_132019(C_124117, N_124118, S_137840, NIM_TRUE);
break;
case ((NU8) 6):
if (!!(((*N_124118).Kind == ((NU8) 21)))) goto LA47;
Limessage_47562((*N_124118).Info, ((NU8) 150), (*(*S_137840).Name).S);
LA47: ;
Result_137650 = Semconv_132329(C_124117, N_124118, S_137840);
break;
case ((NU8) 9):
case ((NU8) 10):
case ((NU8) 12):
case ((NU8) 11):
if (!((*S_137840).Magic == ((NU8) 0))) goto LA50;
Result_137650 = Semdirectop_134587(C_124117, N_124118, Flags_124121);
goto LA49;
LA50: ;
Result_137650 = Semmagic_134923(C_124117, N_124118, S_137840, Flags_124121);
LA49: ;
break;
default:
Result_137650 = Semindirectop_134249(C_124117, N_124118, Flags_124121);
break;
}
goto LA43;
LA44: ;
if (!((*(*N_124118).KindU.S6.Sons->data[0]).Kind == ((NU8) 46))) goto LA52;
Result_137650 = Semdirectop_134587(C_124117, N_124118, Flags_124121);
goto LA43;
LA52: ;
Result_137650 = Semindirectop_134249(C_124117, N_124118, Flags_124121);
LA43: ;
break;
case ((NU8) 79):
Result_137650 = Semmacrostmt_137499(C_124117, N_124118, NIM_TRUE);
break;
case ((NU8) 33):
Checkminsonslen_106103(N_124118, 1);
S_137903 = 0;
S_137903 = Qualifiedlookup_107053(C_124117, (*N_124118).KindU.S6.Sons->data[0], NIM_FALSE);
LOC55 = !((S_137903 == NIM_NIL));
if (!(LOC55)) goto LA56;
LOC55 = ((7680 &(1<<(((*S_137903).Kind)&31)))!=0);
LA56: ;
if (!LOC55) goto LA57;
Result_137650 = Partialspecialization_126017(C_124117, N_124118, S_137903);
goto LA54;
LA57: ;
Result_137650 = Semarrayaccess_136045(C_124117, N_124118, Flags_124121);
LA54: ;
break;
case ((NU8) 34):
Internalerror_47567((*N_124118).Info, ((NimStringDesc*) &TMP197214));
break;
case ((NU8) 30):
LOC59 = Checkpar_136769(N_124118);
switch (LOC59) {
case ((NU8) 0):
Result_137650 = NIM_NIL;
break;
case ((NU8) 3):
Result_137650 = Semtuplepositionsconstr_137255(C_124117, N_124118);
break;
case ((NU8) 2):
Result_137650 = Semtuplefieldsconstr_136918(C_124117, N_124118);
break;
case ((NU8) 1):
Result_137650 = Semexpr_124115(C_124117, (*N_124118).KindU.S6.Sons->data[0], 0);
break;
}
break;
case ((NU8) 31):
Result_137650 = Semsetconstr_136394(C_124117, N_124118);
break;
case ((NU8) 32):
Result_137650 = Semarrayconstr_133153(C_124117, N_124118);
break;
case ((NU8) 42):
Result_137650 = Semlambda_124134(C_124117, N_124118);
break;
case ((NU8) 38):
Checksonslen_106099(N_124118, 1);
asgnRefNoCycle((void**) &(*N_124118).KindU.S6.Sons->data[0], Semexprwithtype_124122(C_124117, (*N_124118).KindU.S6.Sons->data[0], 0));
Result_137650 = N_124118;
T_137976 = 0;
T_137976 = Skiptypes_96085((*(*N_124118).KindU.S6.Sons->data[0]).Typ, 8390656);
switch ((*T_137976).Kind) {
case ((NU8) 22):
case ((NU8) 21):
asgnRef((void**) &(*N_124118).Typ, (*T_137976).Sons->data[0]);
break;
default:
Limessage_47562((*(*N_124118).KindU.S6.Sons->data[0]).Info, ((NU8) 163), ((NimStringDesc*) &TMP196936));
break;
}
Result_137650 = N_124118;
break;
case ((NU8) 52):
Result_137650 = N_124118;
Checksonslen_106099(N_124118, 1);
asgnRefNoCycle((void**) &(*N_124118).KindU.S6.Sons->data[0], Semexprwithtype_124122(C_124117, (*N_124118).KindU.S6.Sons->data[0], 0));
LOC61 = Isassignable_133501((*N_124118).KindU.S6.Sons->data[0]);
if (!!((LOC61 == ((NU8) 1)))) goto LA62;
Limessage_47562((*N_124118).Info, ((NU8) 123), ((NimStringDesc*) &TMP196936));
LA62: ;
asgnRef((void**) &(*N_124118).Typ, Makeptrtype_106069(C_124117, (*(*N_124118).KindU.S6.Sons->data[0]).Typ));
break;
case ((NU8) 53):
case ((NU8) 54):
Checksonslen_106099(N_124118, 1);
asgnRefNoCycle((void**) &(*N_124118).KindU.S6.Sons->data[0], Semexpr_124115(C_124117, (*N_124118).KindU.S6.Sons->data[0], Flags_124121));
break;
case ((NU8) 51):
Result_137650 = Semcast_132475(C_124117, N_124118);
break;
case ((NU8) 43):
Checksonslen_106099(N_124118, 1);
Result_137650 = Semexpr_124115(C_124117, (*N_124118).KindU.S6.Sons->data[0], 0);
break;
case ((NU8) 39):
Result_137650 = Semifexpr_136201(C_124117, N_124118);
break;
case ((NU8) 106):
Result_137650 = Semstmtlistexpr_137305(C_124117, N_124118);
break;
case ((NU8) 107):
Result_137650 = Semblockexpr_137381(C_124117, N_124118);
break;
case ((NU8) 47):
case ((NU8) 48):
case ((NU8) 50):
case ((NU8) 49):
Checksonslen_106099(N_124118, 2);
break;
case ((NU8) 60):
case ((NU8) 61):
case ((NU8) 62):
case ((NU8) 55):
case ((NU8) 56):
Checksonslen_106099(N_124118, 1);
break;
case ((NU8) 57):
case ((NU8) 58):
case ((NU8) 59):
Checksonslen_106099(N_124118, 3);
break;
case ((NU8) 37):
Checkminsonslen_106103(N_124118, 2);
break;
case ((NU8) 46):
LOC64 = 0;
LOC64 = Rendertree_84042(N_124118, 4);
Limessage_47562((*N_124118).Info, ((NU8) 69), LOC64);
break;
default:
LOC65 = 0;
LOC65 = Rendertree_84042(N_124118, 4);
Limessage_47562((*N_124118).Info, ((NU8) 165), LOC65);
break;
}
(*Result_137650).Flags |=(1<<((NI8)(((NU8) 6))%(sizeof(NI8)*8)));
BeforeRet: ;
return Result_137650;
}
N_NIMCALL(TY55525*, Semexprwithtype_124122)(TY106012* C_124124, TY55525* N_124125, NU8 Flags_124128) {
TY55525* Result_132040;
NimStringDesc* LOC7;
TY55525* D_132073;
Result_132040 = 0;
Result_132040 = Semexpr_124115(C_124124, N_124125, Flags_124128);
if (!(Result_132040 == NIM_NIL)) goto LA2;
Internalerror_47571(((NimStringDesc*) &TMP197219));
LA2: ;
if (!((*Result_132040).Typ == NIM_NIL)) goto LA5;
LOC7 = 0;
LOC7 = Rendertree_84042(Result_132040, 4);
Limessage_47562((*N_124125).Info, ((NU8) 87), LOC7);
LA5: ;
if (!((*(*Result_132040).Typ).Kind == ((NU8) 23))) goto LA9;
D_132073 = 0;
D_132073 = Newnodeit_55741(((NU8) 54), (*Result_132040).Info, (*(*Result_132040).Typ).Sons->data[0]);
Addson_55823(D_132073, Result_132040);
Result_132040 = D_132073;
LA9: ;
return Result_132040;
}
N_NIMCALL(TY55525*, Semconstexpr_124171)(TY106012* C_124173, TY55525* N_124174) {
TY55525* Result_124175;
Result_124175 = 0;
Result_124175 = Semexprwithtype_124122(C_124173, N_124174, 0);
if (!(Result_124175 == NIM_NIL)) goto LA2;
Limessage_47562((*N_124174).Info, ((NU8) 102), ((NimStringDesc*) &TMP196936));
goto BeforeRet;
LA2: ;
Result_124175 = Getconstexpr_112010((*C_124173).Module, Result_124175);
if (!(Result_124175 == NIM_NIL)) goto LA5;
Limessage_47562((*N_124174).Info, ((NU8) 102), ((NimStringDesc*) &TMP196936));
LA5: ;
BeforeRet: ;
return Result_124175;
}
N_NIMCALL(TY55525*, Semexprnoflags_145538)(TY106012* C_145540, TY55525* N_145541) {
TY55525* Result_145542;
Result_145542 = 0;
Result_145542 = Semexpr_124115(C_145540, N_145541, 0);
return Result_145542;
}
N_NIMCALL(TY104002*, Myopen_145545)(TY55547* Module_145547, NimStringDesc* Filename_145548) {
TY104002* Result_145549;
TY106012* C_145550;
Result_145549 = 0;
C_145550 = 0;
C_145550 = Newcontext_106046(Module_145547, Filename_145548);
if (!!(((*C_145550).P == NIM_NIL))) goto LA2;
Internalerror_47567((*Module_145547).Info, ((NimStringDesc*) &TMP196934));
LA2: ;
(*C_145550).Semconstexpr = Semconstexpr_124171;
(*C_145550).Semexpr = Semexprnoflags_145538;
asgnRefNoCycle((void**) &(*C_145550).P, Newproccon_106050(Module_145547));
Pushowner_106109((*C_145550).Module);
Openscope_59149(&(*C_145550).Tab);
Symtabadd_59127(&(*C_145550).Tab, Module_145547);
if (!(((*Module_145547).Flags &(1<<((((NU8) 16))&31)))!=0)) goto LA5;
asgnRef((void**) &Systemmodule_101004, Module_145547);
Initsystem_101017(&(*C_145550).Tab);
goto LA4;
LA5: ;
Symtabadd_59127(&(*C_145550).Tab, Systemmodule_101004);
Importallsymbols_109009(C_145550, Systemmodule_101004);
LA4: ;
Openscope_59149(&(*C_145550).Tab);
Result_145549 = &C_145550->Sup;
return Result_145549;
}
N_NIMCALL(TY104002*, Myopencached_145578)(TY55547* Module_145580, NimStringDesc* Filename_145581, TY92031* Rd_145582) {
TY104002* Result_145583;
TY106012* C_145584;
TY104002* LOC1;
Result_145583 = 0;
C_145584 = 0;
LOC1 = 0;
LOC1 = Myopen_145545(Module_145580, Filename_145581);
C_145584 = ((TY106012*) (LOC1));
(*C_145584).Fromcache = NIM_TRUE;
Result_145583 = &C_145584->Sup;
return Result_145583;
}
N_NIMCALL(void, Addcodeforgenerics_145409)(TY106012* C_145411, TY55525* N_145412) {
NI I_145420;
NI HEX3Atmp_145532;
NI HEX3Atmp_145533;
NI LOC1;
NI Res_145535;
TY55525* It_145445;
TY55547* Prc_145467;
NIM_BOOL LOC7;
NIM_BOOL LOC12;
NimStringDesc* LOC16;
I_145420 = 0;
HEX3Atmp_145532 = 0;
HEX3Atmp_145533 = 0;
HEX3Atmp_145532 = (*C_145411).Lastgenericidx;
LOC1 = Sonslen_55803((*C_145411).Generics);
HEX3Atmp_145533 = (NI32)(LOC1 - 1);
Res_145535 = 0;
Res_145535 = HEX3Atmp_145532;
while (1) {
if (!(Res_145535 <= HEX3Atmp_145533)) goto LA2;
I_145420 = Res_145535;
It_145445 = 0;
It_145445 = (*(*(*C_145411).Generics).KindU.S6.Sons->data[I_145420]).KindU.S6.Sons->data[1];
if (!!(((*It_145445).Kind == ((NU8) 3)))) goto LA4;
Internalerror_47571(((NimStringDesc*) &TMP197221));
LA4: ;
Prc_145467 = 0;
Prc_145467 = (*It_145445).KindU.S4.Sym;
LOC7 = ((5632 &(1<<(((*Prc_145467).Kind)&31)))!=0);
if (!(LOC7)) goto LA8;
LOC7 = ((*Prc_145467).Magic == ((NU8) 0));
LA8: ;
if (!LOC7) goto LA9;
LOC12 = ((*Prc_145467).Ast == NIM_NIL);
if (LOC12) goto LA13;
LOC12 = ((*(*Prc_145467).Ast).KindU.S6.Sons->data[4] == NIM_NIL);
LA13: ;
if (!LOC12) goto LA14;
LOC16 = 0;
LOC16 = rawNewString((*(*Prc_145467).Name).S->Sup.len + 12);
appendString(LOC16, ((NimStringDesc*) &TMP197222));
appendString(LOC16, (*(*Prc_145467).Name).S);
Internalerror_47567((*Prc_145467).Info, LOC16);
LA14: ;
Addson_55823(N_145412, (*Prc_145467).Ast);
LA9: ;
Res_145535 += 1;
} LA2: ;
(*C_145411).Lastgenericidx = Sonslen_55803((*C_145411).Generics);
}
N_NIMCALL(TY55525*, Myclose_145596)(TY104002* Context_145598, TY55525* N_145599) {
TY55525* Result_145600;
TY106012* C_145601;
Result_145600 = 0;
C_145601 = 0;
C_145601 = ((TY106012*) (Context_145598));
Closescope_107017(&(*C_145601).Tab);
Rawclosescope_59153(&(*C_145601).Tab);
if (!(N_145599 == NIM_NIL)) goto LA2;
Result_145600 = Newnode_55710(((NU8) 101));
goto LA1;
LA2: ;
Internalerror_47567((*N_145599).Info, ((NimStringDesc*) &TMP197220));
LA1: ;
Addcodeforgenerics_145409(C_145601, Result_145600);
Popowner_106112();
asgnRefNoCycle((void**) &(*C_145601).P, NIM_NIL);
return Result_145600;
}
N_NIMCALL(TY55525*, Myprocess_145585)(TY104002* Context_145587, TY55525* N_145588) {
TY55525* Result_145589;
TY106012* C_145590;
NI LOC2;
TY55525* A_145593;
NI LOC6;
Result_145589 = 0;
Result_145589 = NIM_NIL;
C_145590 = 0;
C_145590 = ((TY106012*) (Context_145587));
Result_145589 = Semstmt_124143(C_145590, N_145588);
LOC2 = Sonslen_55803((*C_145590).Generics);
if (!(0 < LOC2)) goto LA3;
A_145593 = 0;
A_145593 = Newnodei_55737(((NU8) 101), (*N_145588).Info);
Addcodeforgenerics_145409(C_145590, A_145593);
LOC6 = Sonslen_55803(A_145593);
if (!(0 < LOC6)) goto LA7;
Addsonifnotnil_55831(A_145593, Result_145589);
Result_145589 = A_145593;
LA7: ;
LA3: ;
return Result_145589;
}
N_NIMCALL(TY104006, Sempass_124001)(void) {
TY104006 Result_145617;
memset((void*)&Result_145617, 0, sizeof(Result_145617));
Initpass_104031(&Result_145617);
Result_145617.Open = Myopen_145545;
Result_145617.Opencached = Myopencached_145578;
Result_145617.Close = Myclose_145596;
Result_145617.Process = Myprocess_145585;
return Result_145617;
}
N_NOINLINE(void, semInit)(void) {
Evaltemplatecounter_124423 = 0;
}

