/* Generated by Nimrod Compiler v0.8.11 */
/*   (c) 2011 Andreas Rumpf */

typedef long int NI;
typedef unsigned long int NU;
#include "nimbase.h"

typedef struct TY105006 TY105006;
typedef struct TY105002 TY105002;
typedef struct TY55548 TY55548;
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct TY93031 TY93031;
typedef struct TY55526 TY55526;
typedef struct TY107012 TY107012;
typedef struct TNimObject TNimObject;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct TY107006 TY107006;
typedef struct TY60099 TY60099;
typedef struct TY60101 TY60101;
typedef struct TY55530 TY55530;
typedef struct TY55528 TY55528;
typedef struct TY55895 TY55895;
typedef struct TY55891 TY55891;
typedef struct TY55893 TY55893;
typedef struct TY43019 TY43019;
typedef struct TY43013 TY43013;
typedef struct TY47538 TY47538;
typedef struct TY54005 TY54005;
typedef struct TY55552 TY55552;
typedef struct TY54011 TY54011;
typedef struct TY55540 TY55540;
typedef struct TY52008 TY52008;
typedef struct TY55544 TY55544;
typedef struct TY55520 TY55520;
typedef struct TY55550 TY55550;
typedef struct TY108004 TY108004;
typedef struct TY60084 TY60084;
typedef struct TY10802 TY10802;
typedef struct TY10814 TY10814;
typedef struct TY11196 TY11196;
typedef struct TY10818 TY10818;
typedef struct TY10810 TY10810;
typedef struct TY11194 TY11194;
typedef struct TY115006 TY115006;
typedef struct TY115004 TY115004;
typedef struct TY55570 TY55570;
typedef struct TY55568 TY55568;
typedef struct TY55566 TY55566;
typedef struct TY127969 TY127969;
typedef struct TY55564 TY55564;
typedef struct TY55562 TY55562;
typedef struct TY55560 TY55560;
typedef struct TY127655 TY127655;
typedef struct TY107002 TY107002;
typedef struct E_Base E_Base;
typedef struct TSafePoint TSafePoint;
typedef struct TY39221 TY39221;
typedef struct TY93029 TY93029;
typedef struct TY60215 TY60215;
typedef struct TY60213 TY60213;
typedef struct TY60211 TY60211;
struct TGenericSeq {
NI len;
NI space;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
typedef N_NIMCALL_PTR(TY105002*, TY105007) (TY55548* Module_105008, NimStringDesc* Filename_105009);
typedef N_NIMCALL_PTR(TY105002*, TY105012) (TY55548* Module_105013, NimStringDesc* Filename_105014, TY93031* Rd_105015);
typedef N_NIMCALL_PTR(TY55526*, TY105018) (TY105002* P_105019, TY55526* N_105020);
typedef N_NIMCALL_PTR(TY55526*, TY105023) (TY105002* P_105024, TY55526* Toplevelstmt_105025);
struct TY105006 {
TY105007 Open;
TY105012 Opencached;
TY105018 Close;
TY105023 Process;
};
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TNimObject {
TNimType* m_type;
};
struct TY105002 {
  TNimObject Sup;
};
struct TY55530 {
TNimType* m_type;
NI Counter;
TY55528* Data;
};
struct TY60099 {
NI Tos;
TY60101* Stack;
};
struct TY55895 {
NI Counter;
NI Max;
TY55891* Head;
TY55893* Data;
};
struct TY43019 {
TNimType* m_type;
TY43013* Head;
TY43013* Tail;
NI Counter;
};
typedef N_NIMCALL_PTR(TY55526*, TY107032) (TY107012* C_107033, TY55526* N_107034);
typedef N_NIMCALL_PTR(TY55526*, TY107037) (TY107012* C_107038, TY55526* N_107039);
struct TY107012 {
  TY105002 Sup;
TY55548* Module;
TY107006* P;
NI Instcounter;
TY55526* Generics;
NI Lastgenericidx;
TY60099 Tab;
TY55895 Ambiguoussymbols;
TY55528* Converters;
TY43019 Optionstack;
TY43019 Libs;
NIM_BOOL Fromcache;
TY107032 Semconstexpr;
TY107037 Semexpr;
TY55895 Includedfiles;
NimStringDesc* Filename;
TY55530 Userpragmas;
};
struct TY47538 {
NI16 Line;
NI16 Col;
int Fileindex;
};
struct TY54005 {
  TNimObject Sup;
NI Id;
};
struct TY55540 {
NU8 K;
NU8 S;
NU8 Flags;
TY55552* T;
TY52008* R;
NI A;
};
struct TY55548 {
  TY54005 Sup;
NU8 Kind;
NU8 Magic;
TY55552* Typ;
TY54011* Name;
TY47538 Info;
TY55548* Owner;
NU32 Flags;
TY55530 Tab;
TY55526* Ast;
NU32 Options;
NI Position;
NI Offset;
TY55540 Loc;
TY55544* Annex;
};
struct TY55526 {
TY55552* Typ;
NimStringDesc* Comment;
TY47538 Info;
NU8 Flags;
NU8 Kind;
union {
struct {NI64 Intval;
} S1;
struct {NF64 Floatval;
} S2;
struct {NimStringDesc* Strval;
} S3;
struct {TY55548* Sym;
} S4;
struct {TY54011* Ident;
} S5;
struct {TY55520* Sons;
} S6;
} KindU;
};
struct TY55552 {
  TY54005 Sup;
NU8 Kind;
TY55550* Sons;
TY55526* N;
NU8 Flags;
NU8 Callconv;
TY55548* Owner;
TY55548* Sym;
NI64 Size;
NI Align;
NI Containerid;
TY55540 Loc;
};
struct TY54011 {
  TY54005 Sup;
NimStringDesc* S;
TY54011* Next;
NI H;
};
struct TY60084 {
NI H;
TY54011* Name;
};
struct TY108004 {
NI Stackptr;
TY60084 It;
TY55548* M;
NU8 Mode;
};
struct TY10802 {
NI Refcount;
TNimType* Typ;
};
struct TY10818 {
NI Len;
NI Cap;
TY10802** D;
};
struct TY10814 {
NI Counter;
NI Max;
TY10810* Head;
TY10810** Data;
};
struct TY11194 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY11196 {
TY10818 Zct;
TY10818 Decstack;
TY10814 Cycleroots;
TY10818 Tempstack;
TY11194 Stat;
};
struct TY55566 {
TY54005* Key;
TY55526* Val;
};
struct TY55570 {
NI Counter;
TY55568* Data;
};
struct TY115004 {
TY55570 Mapping;
TY55548* Prc;
TY55526* Call;
TY115004* Next;
TY55520* Params;
};
typedef NU8 TY181054[16];
struct TY55560 {
TY54005* Key;
TNimObject* Val;
};
struct TY55564 {
NI Counter;
TY55562* Data;
};
struct TY127969 {
NI Exactmatches;
NI Subtypematches;
NI Intconvmatches;
NI Convmatches;
NI Genericmatches;
NU8 State;
TY55552* Callee;
TY55548* Calleesym;
TY55526* Call;
TY55564 Bindings;
NIM_BOOL Basetypematch;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
typedef N_NIMCALL_PTR(NIM_BOOL, TY97025) (TY55552* T_97030, TNimObject* Closure_97031);
struct TY127655 {
TY107012* C;
TY55564 Typemap;
TY55564 Symmap;
TY47538 Info;
};
typedef NimStringDesc* TY73026[3];
struct TY43013 {
  TNimObject Sup;
TY43013* Prev;
TY43013* Next;
};
struct TY107002 {
  TY43013 Sup;
NU32 Options;
NU8 Defaultcc;
TY55544* Dynlib;
NU32 Notes;
};
typedef NimStringDesc* TY47805[1];
typedef NU8 TY122007[29];
struct TY107006 {
TY55548* Owner;
TY55548* Resultsym;
NI Nestedloopcounter;
NI Nestedblockcounter;
};
typedef NU8 TY135991[30];
typedef N_NIMCALL_PTR(TY55526*, TY105045) (NimStringDesc* Filename_105046);
typedef NimStringDesc* TY115159[2];
typedef NimStringDesc* TY134495[2];
struct E_Base {
  TNimObject Sup;
E_Base* parent;
NCSTRING name;
NimStringDesc* message;
};
struct TSafePoint {
TSafePoint* prev;
NI status;
E_Base* exc;
jmp_buf context;
};
struct TY60211 {
NI Key;
NI Val;
};
struct TY60215 {
NI Counter;
TY60213* Data;
};
struct TY93029 {
NI Lastidxkey;
NI Lastidxval;
TY60215 Tab;
TY52008* R;
NI Offset;
};
struct TY93031 {
  TNimObject Sup;
NI Pos;
NimStringDesc* S;
NU32 Options;
NU8 Reason;
TY39221* Moddeps;
TY39221* Files;
NI Dataidx;
NI Convertersidx;
NI Initidx;
NI Interfidx;
NI Compilerprocsidx;
NI Cgenidx;
NimStringDesc* Filename;
TY93029 Index;
TY93029 Imports;
NI Readerindex;
NI Line;
NI Moduleid;
TY55564 Syms;
};
typedef NI TY8814[16];
struct TY55891 {
TY55891* Next;
NI Key;
TY8814 Bits;
};
struct TY52008 {
  TNimObject Sup;
TY52008* Left;
TY52008* Right;
NI Length;
NimStringDesc* Data;
};
struct TY55544 {
  TY43013 Sup;
NU8 Kind;
NIM_BOOL Generated;
TY52008* Name;
TY55526* Path;
};
struct TY10810 {
TY10810* Next;
NI Key;
TY8814 Bits;
};
struct TY115006 {
  TY105002 Sup;
TY55548* Module;
TY115004* Tos;
TY55526* Lastexception;
NIM_BOOL Opteval;
};
struct TY55528 {
  TGenericSeq Sup;
  TY55548* data[SEQ_DECL_SIZE];
};
struct TY60101 {
  TGenericSeq Sup;
  TY55530 data[SEQ_DECL_SIZE];
};
struct TY55893 {
  TGenericSeq Sup;
  TY55891* data[SEQ_DECL_SIZE];
};
struct TY55520 {
  TGenericSeq Sup;
  TY55526* data[SEQ_DECL_SIZE];
};
struct TY55550 {
  TGenericSeq Sup;
  TY55552* data[SEQ_DECL_SIZE];
};
struct TY55568 {
  TGenericSeq Sup;
  TY55566 data[SEQ_DECL_SIZE];
};
struct TY55562 {
  TGenericSeq Sup;
  TY55560 data[SEQ_DECL_SIZE];
};
struct TY39221 {
  TGenericSeq Sup;
  NimStringDesc* data[SEQ_DECL_SIZE];
};
struct TY60213 {
  TGenericSeq Sup;
  TY60211 data[SEQ_DECL_SIZE];
};
N_NIMCALL(void, Initpass_105031)(TY105006* P_105034);
N_NIMCALL(TY105002*, Myopen_147084)(TY55548* Module_147086, NimStringDesc* Filename_147087);
N_NIMCALL(TY107012*, Newcontext_107046)(TY55548* Module_107048, NimStringDesc* Nimfile_107049);
N_NIMCALL(void, Internalerror_48159)(TY47538 Info_48161, NimStringDesc* Errmsg_48162);
N_NIMCALL(TY55526*, Semconstexpr_126171)(TY107012* C_126173, TY55526* N_126174);
N_NIMCALL(TY55526*, Semexprwithtype_126122)(TY107012* C_126124, TY55526* N_126125, NU8 Flags_126128);
N_NIMCALL(TY55526*, Semexpr_126115)(TY107012* C_126117, TY55526* N_126118, NU8 Flags_126121);
N_NIMCALL(void, Suggestexpr_125068)(TY107012* C_125070, TY55526* N_125071);
N_NIMCALL(TY55548*, Lookup_108245)(TY107012* C_108247, TY55526* N_108248);
N_NIMCALL(TY55526*, Semsym_134006)(TY107012* C_134008, TY55526* N_134009, TY55548* S_134010, NU8 Flags_134011);
N_NIMCALL(void, Globalerror_48139)(TY47538 Info_48141, NU8 Msg_48142, NimStringDesc* Arg_48143);
N_NIMCALL(TY55548*, Getmodule_60198)(TY55548* S_60200);
N_NIMCALL(void, Localerror_48144)(TY47538 Info_48146, NU8 Msg_48147, NimStringDesc* Arg_48148);
N_NIMCALL(TY55526*, Symchoice_126533)(TY107012* C_126535, TY55526* N_126536, TY55548* S_126537);
N_NIMCALL(TY55548*, Initoverloaditer_108745)(TY108004* O_108748, TY107012* C_108749, TY55526* N_108750);
N_NIMCALL(TY55548*, Nextoverloaditer_109074)(TY108004* O_109077, TY107012* C_109078, TY55526* N_109079);
N_NIMCALL(TY55526*, Newsymnode_55735)(TY55548* Sym_55737);
N_NIMCALL(void, Markused_126065)(TY55526* N_126067, TY55548* S_126068);
N_NIMCALL(void, Message_48149)(TY47538 Info_48151, NU8 Msg_48152, NimStringDesc* Arg_48153);
N_NIMCALL(TY55526*, Newnodeit_55742)(NU8 Kind_55744, TY47538 Info_55745, TY55552* Typ_55746);
N_NIMCALL(TY55552*, Newtypes_107077)(NU8 Kind_107079, TY107012* C_107080);
N_NIMCALL(void, Addson_55824)(TY55526* Father_55826, TY55526* Son_55827);
N_NIMCALL(TY55526*, Copytree_55852)(TY55526* Src_55854);
static N_INLINE(void, asgnRef)(void** Dest_13214, void* Src_13215);
static N_INLINE(void, Incref_13202)(TY10802* C_13204);
static N_INLINE(NI, Atomicinc_3221)(NI* Memloc_3224, NI X_3225);
static N_INLINE(NIM_BOOL, Canbecycleroot_11616)(TY10802* C_11618);
static N_INLINE(void, Rtladdcycleroot_12252)(TY10802* C_12254);
N_NOINLINE(void, Incl_11080)(TY10814* S_11083, TY10802* Cell_11084);
static N_INLINE(TY10802*, Usrtocell_11612)(void* Usr_11614);
static N_INLINE(void, Decref_13001)(TY10802* C_13003);
static N_INLINE(NI, Atomicdec_3226)(NI* Memloc_3229, NI X_3230);
static N_INLINE(void, Rtladdzct_12601)(TY10802* C_12603);
N_NOINLINE(void, Addzct_11601)(TY10818* S_11604, TY10802* C_11605);
N_NIMCALL(TY55526*, Semmacroexpr_127038)(TY107012* C_127040, TY55526* N_127041, TY55548* Sym_127042, NIM_BOOL Semcheck_127043);
N_NIMCALL(TY115006*, Newevalcontext_115033)(TY55548* Module_115035, NimStringDesc* Filename_115036, NIM_BOOL Opteval_115037);
N_NIMCALL(TY115004*, Newstackframe_115024)(void);
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13218, void* Src_13219);
N_NIMCALL(TGenericSeq*, setLengthSeq)(TGenericSeq* Seq_19003, NI Elemsize_19004, NI Newlen_19005);
N_NIMCALL(void, Pushstackframe_115026)(TY115006* C_115028, TY115004* T_115029);
N_NIMCALL(TY55526*, Eval_115038)(TY115006* C_115040, TY55526* N_115041);
N_NIMCALL(void, Popstackframe_115030)(TY115006* C_115032);
N_NIMCALL(NIM_BOOL, Cyclictree_96043)(TY55526* N_96045);
N_NIMCALL(TY55526*, Semaftermacrocall_126246)(TY107012* C_126248, TY55526* N_126249, TY55548* S_126250);
N_NIMCALL(TY55526*, Semstmt_126143)(TY107012* C_126145, TY55526* N_126146);
N_NIMCALL(void, Suggeststmt_125110)(TY107012* C_125112, TY55526* N_125113);
N_NIMCALL(TY55526*, Semasgn_142618)(TY107012* C_142620, TY55526* N_142621);
N_NIMCALL(void, Checksonslen_107407)(TY55526* N_107409, NI Length_107410);
N_NIMCALL(TY55526*, Builtinfieldaccess_137293)(TY107012* C_137295, TY55526* N_137296, NU8 Flags_137297);
N_NIMCALL(TY55548*, Qualifiedlookup_108322)(TY107012* C_108324, TY55526* N_108325, NU8 Flags_108327);
N_NIMCALL(TY54011*, Consideracc_126003)(TY55526* N_126005);
N_NIMCALL(NimStringDesc*, Rendertree_85042)(TY55526* N_85044, NU8 Renderflags_85047);
N_NIMCALL(TY55548*, Getsymfromlist_60189)(TY55526* List_60191, TY54011* Ident_60192, NI Start_60193);
N_NIMCALL(NIM_BOOL, Istypeexpr_136993)(TY55526* N_136995);
N_NIMCALL(TY55552*, Skiptypes_97087)(TY55552* T_97089, NU64 Kinds_97090);
N_NIMCALL(TY55548*, Lookupinrecordandbuildcheck_137018)(TY107012* C_137020, TY55526* N_137021, TY55526* R_137022, TY54011* Field_137023, TY55526** Check_137025);
static N_INLINE(NI, Sonslen_55804)(TY55526* N_55806);
N_NIMCALL(void, Checkminsonslen_107413)(TY55526* N_107415, NI Length_107416);
N_NIMCALL(void, Illformedast_107403)(TY55526* N_107405);
N_NIMCALL(TY55526*, Newnodei_55738)(NU8 Kind_55740, TY47538 Info_55741);
static N_INLINE(TY55526*, Lastson_55810)(TY55526* N_55812);
N_NIMCALL(void, unsureAsgnRef)(void** Dest_13226, void* Src_13227);
N_NIMCALL(TY55526*, Newidentnode_55731)(TY54011* Ident_55733, TY47538 Info_55734);
N_NIMCALL(TY54011*, Getident_54016)(NimStringDesc* Identifier_54018);
N_NIMCALL(TY55526*, Makederef_137264)(TY55526* N_137266);
N_NIMCALL(TY55526*, Propertywriteaccess_142598)(TY107012* C_142600, TY55526* N_142601, TY55526* A_142602);
static N_INLINE(TY55526*, HEX5BHEX5D_57062)(TY55526* N_57064, NI I_57065);
static N_INLINE(void, appendString)(NimStringDesc* Dest_18799, NimStringDesc* Src_18800);
static N_INLINE(void, appendChar)(NimStringDesc* Dest_18816, NIM_CHAR C_18817);
N_NIMCALL(NimStringDesc*, rawNewString)(NI Space_18689);
N_NIMCALL(TY55526*, Semdirectcallanalyseeffects_136162)(TY107012* C_136164, TY55526* N_136165, NU8 Flags_136166);
N_NIMCALL(TY55526*, Semdirectcall_130655)(TY107012* C_130657, TY55526* N_130658, NU32 Filter_130659);
N_NIMCALL(TY55526*, Semdirectcallwithbinding_130510)(TY107012* C_130512, TY55526* N_130513, TY55526* F_130514, NU32 Filter_130515, TY55526* Initialbinding_130516);
N_NIMCALL(void, Initcandidate_128003)(TY127969* C_128006, TY55548* Callee_128007, TY55526* Binding_128008);
static N_INLINE(void, Initcandidateaux_127992)(TY127969* C_127995, TY55552* Callee_127996);
N_NIMCALL(void, Initidtable_55755)(TY55564* X_55758);
N_NIMCALL(void, Idtableput_60166)(TY55564* T_60169, TY54005* Key_60170, TNimObject* Val_60171);
N_NIMCALL(void, Matches_129874)(TY107012* C_129876, TY55526* N_129877, TY127969* M_129879);
N_NIMCALL(TY55552*, Base_97021)(TY55552* T_97023);
N_NIMCALL(void, Intsetinit_55919)(TY55895* S_55922);
N_NIMCALL(NIM_BOOL, Intsetcontainsorincl_55923)(TY55895* S_55926, NI Key_55927);
N_NIMCALL(TY55526*, Paramtypesmatch_129632)(TY107012* C_129634, TY127969* M_129636, TY55552* F_129637, TY55552* A_129638, TY55526* Arg_129639);
N_NIMCALL(TY55526*, Paramtypesmatchaux_129486)(TY107012* C_129488, TY127969* M_129490, TY55552* F_129491, TY55552* A_129492, TY55526* Arg_129493);
N_NIMCALL(NU8, Typerel_128244)(TY55564* Mapping_128247, TY55552* F_128248, TY55552* A_128249);
static N_INLINE(TY55552*, Lastson_55813)(TY55552* N_55815);
static N_INLINE(NI, Sonslen_55807)(TY55552* N_55809);
N_NIMCALL(NU8, Handlerange_128275)(TY55552* F_128277, TY55552* A_128278, NU8 Min_128279, NU8 Max_128280);
N_NIMCALL(NU8, Handlefloatrange_128341)(TY55552* F_128343, TY55552* A_128344);
N_NIMCALL(NU8, Minrel_128414)(NU8 A_128416, NU8 B_128417);
N_NIMCALL(NI64, Lengthord_97007)(TY55552* T_97009);
N_NIMCALL(NIM_BOOL, Isordinaltype_97069)(TY55552* T_97071);
N_NIMCALL(void, Internalerror_48163)(NimStringDesc* Errmsg_48165);
N_NIMCALL(NU8, Tuplerel_128428)(TY55564* Mapping_128431, TY55552* F_128432, TY55552* A_128433);
N_NIMCALL(NIM_BOOL, Isobjectsubtype_128384)(TY55552* A_128386, TY55552* F_128387);
N_NIMCALL(NI64, Firstord_97001)(TY55552* T_97003);
N_NIMCALL(TNimObject*, Idtableget_60158)(TY55564 T_60160, TY54005* Key_60161);
N_NIMCALL(TY55552*, Concretetype_128250)(TY55564 Mapping_128252, TY55552* T_128253);
N_NIMCALL(TY55552*, Newtype_55707)(NU8 Kind_55709, TY55548* Owner_55710);
N_NIMCALL(void, Addson_55828)(TY55552* Father_55830, TY55552* Son_55831);
N_NIMCALL(NimStringDesc*, reprEnum)(NI E_19771, TNimType* Typ_19772);
N_NIMCALL(TY55526*, Implicitconv_129404)(NU8 Kind_129406, TY55552* F_129407, TY55526* Arg_129408, TY127969* M_129409, TY107012* C_129410);
N_NIMCALL(NIM_BOOL, Containsgenerictype_127174)(TY55552* T_127176);
N_NIMCALL(NIM_BOOL, Iterovertype_97038)(TY55552* T_97040, TY97025 Iter_97041, TNimObject* Closure_97042);
N_NIMCALL(NIM_BOOL, Containsgenerictypeiter_127158)(TY55552* T_127160, TNimObject* Closure_127161);
N_NIMCALL(TY55552*, Getinstantiatedtype_129375)(TY107012* C_129377, TY55526* Arg_129378, TY127969* M_129379, TY55552* F_129380);
N_NIMCALL(TY55552*, Generatetypeinstance_127955)(TY107012* P_127957, TY55564 Pt_127958, TY55526* Arg_127959, TY55552* T_127960);
N_NIMCALL(void, Copyidtable_55799)(TY55564* Dest_55802, TY55564 Src_55803);
N_NIMCALL(void, Pushinfocontext_47615)(TY47538 Info_47617);
N_NIMCALL(TY55552*, Replacetypevarst_127660)(TY127655* Cl_127663, TY55552* T_127664);
N_NIMCALL(TY55552*, Lookuptypevar_127808)(TY127655* Cl_127810, TY55552* T_127811);
N_NIMCALL(NimStringDesc*, Typetostring_97014)(TY55552* Typ_97016, NU8 Prefer_97017);
N_NIMCALL(TY55552*, Copytype_55771)(TY55552* T_55773, TY55548* Owner_55774, NIM_BOOL Keepid_55775);
N_NIMCALL(TY55552*, Searchinsttypes_127105)(TY55564 Tab_127107, TY55552* Key_127108);
N_NIMCALL(NIM_BOOL, Sametype_97048)(TY55552* X_97050, TY55552* Y_97051);
N_NIMCALL(TY55526*, Replacetypevarsn_127670)(TY127655* Cl_127673, TY55526* N_127674);
N_NIMCALL(TY55526*, Copynode_55849)(TY55526* Src_55851);
N_NIMCALL(TY55548*, Replacetypevarss_127665)(TY127655* Cl_127668, TY55548* S_127669);
N_NIMCALL(TY55548*, Copysym_55776)(TY55548* S_55778, NIM_BOOL Keepid_55779);
N_NIMCALL(void, Newsons_55816)(TY55526* Father_55818, NI Length_55819);
N_NIMCALL(void, Checkconstructedtype_127608)(TY47538 Info_127610, TY55552* T_127611);
N_NIMCALL(NI64, Computesize_97112)(TY55552* Typ_97114);
N_NIMCALL(void, Popinfocontext_47636)(void);
N_NIMCALL(TY55526*, Userconvmatch_129423)(TY107012* C_129425, TY127969* M_129427, TY55552* F_129428, TY55552* A_129429, TY55526* Arg_129430);
N_NIMCALL(void, Initcandidate_127997)(TY127969* C_128000, TY55552* Callee_128001);
N_NIMCALL(void, Copycandidate_128047)(TY127969* A_128050, TY127969* B_128051);
N_NIMCALL(void, genericAssign)(void* Dest_19575, void* Src_19576, TNimType* Mt_19577);
N_NIMCALL(NI, Cmpcandidates_128053)(TY127969* A_128055, TY127969* B_128056);
N_NIMCALL(void, Setson_129831)(TY55526* Father_129833, NI At_129834, TY55526* Son_129835);
N_NIMCALL(TY55552*, Getsystype_102008)(NU8 Kind_102010);
N_NIMCALL(NIM_BOOL, Samemethoddispatcher_130434)(TY55548* A_130436, TY55548* B_130437);
N_NIMCALL(NimStringDesc*, nsuFormatOpenArray)(NimStringDesc* Formatstr_24960, NimStringDesc** A_24962, NI A_24962Len0);
N_NIMCALL(NimStringDesc*, Msgkindtostring_47794)(NU8 Kind_47796);
N_NIMCALL(NimStringDesc*, Getprocheader_97018)(TY55548* Sym_97020);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* Src_18712);
N_NIMCALL(TY55548*, Generateinstance_127099)(TY107012* C_127101, TY55548* Fn_127102, TY55564 Pt_127103, TY47538 Info_127104);
N_NIMCALL(TY55548*, Getcurrowner_107092)(void);
N_NIMCALL(void, Pushowner_107094)(TY55548* Owner_107096);
N_NIMCALL(void, Openscope_60141)(TY60099* Tab_60144);
N_NIMCALL(void, Instantiategenericparamlist_127178)(TY107012* C_127180, TY55526* N_127181, TY55564 Pt_127182);
N_NIMCALL(TY55548*, Newsym_55702)(NU8 Symkind_55704, TY54011* Name_55705, TY55548* Owner_55706);
N_NIMCALL(void, Adddecl_108114)(TY107012* C_108116, TY55548* Sym_108117);
N_NIMCALL(void, Semparamlist_126147)(TY107012* C_126149, TY55526* N_126150, TY55526* Genericparams_126151, TY55548* S_126152);
N_NIMCALL(TY55552*, Semproctypenode_133374)(TY107012* C_133376, TY55526* N_133377, TY55526* Genericparams_133378, TY55552* Prev_133379);
N_NIMCALL(TY55552*, Neworprevtype_130876)(NU8 Kind_130878, TY55552* Prev_130879, TY107012* C_130880);
N_NIMCALL(TY107002*, Lastoptionentry_107053)(TY107012* C_107055);
N_NIMCALL(TY55552*, Paramtype_133353)(TY107012* C_133355, TY55526* N_133356, TY55526* Genericparams_133357, TY55895* Cl_133359);
N_NIMCALL(TY55552*, Semtypenode_126138)(TY107012* C_126140, TY55526* N_126141, TY55552* Prev_126142);
N_NIMCALL(TY55548*, Semtypeident_131652)(TY107012* C_131654, TY55526* N_131655);
N_NIMCALL(TY55552*, Semarray_131501)(TY107012* C_131503, TY55526* N_131504, TY55552* Prev_131505);
N_NIMCALL(TY55552*, Semrangeaux_131353)(TY107012* C_131355, TY55526* N_131356, TY55552* Prev_131357);
N_NIMCALL(NIM_BOOL, Enumhaswholes_97072)(TY55552* T_97074);
N_NIMCALL(NIM_BOOL, Levalue_55865)(TY55526* A_55867, TY55526* B_55868);
N_NIMCALL(TY55552*, Semcontainer_131257)(TY107012* C_131259, TY55526* N_131260, NU8 Kind_131261, NimStringDesc* Kindstr_131262, TY55552* Prev_131263);
N_NIMCALL(TY55552*, Semrange_131448)(TY107012* C_131450, TY55526* N_131451, TY55552* Prev_131452);
N_NIMCALL(TY55552*, Semset_131214)(TY107012* C_131216, TY55526* N_131217, TY55552* Prev_131218);
N_NIMCALL(TY55552*, Semordinal_131610)(TY107012* C_131612, TY55526* N_131613, TY55552* Prev_131614);
N_NIMCALL(TY55552*, Semgeneric_131833)(TY107012* C_131835, TY55526* N_131836, TY55548* S_131837, TY55552* Prev_131838);
N_NIMCALL(TY55552*, Instgenericcontainer_126166)(TY107012* C_126168, TY55526* N_126169, TY55552* Header_126170);
N_NIMCALL(void, Assigntype_55780)(TY55552* Dest_55782, TY55552* Src_55783);
N_NIMCALL(TY55552*, Semobjectnode_133141)(TY107012* C_133143, TY55526* N_133144, TY55552* Prev_133145);
N_NIMCALL(void, Addinheritedfields_133118)(TY107012* C_133120, TY55895* Check_133122, NI* Pos_133124, TY55552* Obj_133125);
N_NIMCALL(void, Addinheritedfieldsaux_132999)(TY107012* C_133001, TY55895* Check_133003, NI* Pos_133005, TY55526* N_133006);
N_NIMCALL(void, Intsetincl_55909)(TY55895* S_55912, NI Key_55913);
N_NIMCALL(void, Semrecordnodeaux_132368)(TY107012* C_132370, TY55526* N_132371, TY55895* Check_132373, NI* Pos_132375, TY55526* Father_132376, TY55548* Rectype_132377);
N_NIMCALL(void, Checkbool_130826)(TY55526* T_130828);
N_NIMCALL(void, Semrecordcase_132378)(TY107012* C_132380, TY55526* N_132381, TY55895* Check_132383, NI* Pos_132385, TY55526* Father_132386, TY55548* Rectype_132387);
N_NIMCALL(void, Semcasebranch_132218)(TY107012* C_132220, TY55526* T_132221, TY55526* Branch_132222, NI Branchindex_132223, NI64* Covered_132225);
N_NIMCALL(void, Sembranchexpr_132179)(TY107012* C_132181, TY55526* T_132182, TY55526** Ex_132184);
N_NIMCALL(NU8, Cmptypes_129367)(TY55552* F_129369, TY55552* A_129370);
N_NIMCALL(void, Typemismatch_130850)(TY55526* N_130852, TY55552* Formal_130853, TY55552* Actual_130854);
N_NIMCALL(NIM_BOOL, Emptyrange_104019)(TY55526* A_104021, TY55526* B_104022);
N_NIMCALL(NI64, Getordvalue_97109)(TY55526* N_97111);
N_NIMCALL(void, Checkforoverlap_132119)(TY107012* C_132121, TY55526* T_132122, TY55526* Ex_132123, NI Branchindex_132124);
N_NIMCALL(NIM_BOOL, Overlap_104006)(TY55526* A_104008, TY55526* B_104009);
N_NIMCALL(void, Delson_55832)(TY55526* Father_55834, NI Idx_55835);
N_NIMCALL(TY55548*, Semidentwithpragma_126098)(TY107012* C_126100, NU8 Kind_126101, TY55526* N_126102, NU32 Allowed_126103);
N_NIMCALL(TY55548*, Semidentvis_126092)(TY107012* C_126094, NU8 Kind_126095, TY55526* N_126096, NU32 Allowed_126097);
N_NIMCALL(TY55548*, Newsyms_126059)(NU8 Kind_126061, TY55526* N_126062, TY107012* C_126063);
N_NIMCALL(void, Pragma_122028)(TY107012* C_122030, TY55548* Sym_122031, TY55526* N_122032, TY122007 Validpragmas_122033);
N_NIMCALL(TY52008*, Torope_52046)(NimStringDesc* S_52048);
N_NIMCALL(TY55552*, Semtuple_131678)(TY107012* C_131680, TY55526* N_131681, TY55552* Prev_131682);
N_NIMCALL(TY55552*, Semanyref_131280)(TY107012* C_131282, TY55526* N_131283, NU8 Kind_131284, NimStringDesc* Kindstr_131285, TY55552* Prev_131286);
N_NIMCALL(TY55552*, Semvartype_131303)(TY107012* C_131305, TY55526* N_131306, TY55552* Prev_131307);
N_NIMCALL(TY55552*, Semdistinct_131333)(TY107012* C_131335, TY55526* N_131336, TY55552* Prev_131337);
N_NIMCALL(TY55552*, Semenum_130902)(TY107012* C_130904, TY55526* N_130905, TY55552* Prev_130906);
N_NIMCALL(NI64, Lastord_97004)(TY55552* T_97006);
N_NIMCALL(void, Strtableadd_60061)(TY55530* T_60064, TY55548* N_60065);
N_NIMCALL(void, Adddeclat_108128)(TY107012* C_108130, TY55548* Sym_108131, NI At_108132);
N_NIMCALL(TY55552*, Semstmtlisttype_133625)(TY107012* C_133627, TY55526* N_133628, TY55552* Prev_133629);
N_NIMCALL(TY55552*, Semblocktype_133693)(TY107012* C_133695, TY55526* N_133696, TY55552* Prev_133697);
N_NIMCALL(void, Closescope_108018)(TY60099* Tab_108021);
N_NIMCALL(TY55552*, Addtypevarsofgenericbody_133276)(TY107012* C_133278, TY55552* T_133279, TY55526* Genericparams_133280, TY55895* Cl_133282);
N_NIMCALL(TY55526*, Fitnode_126129)(TY107012* C_126131, TY55552* Formal_126132, TY55526* Arg_126133);
N_NIMCALL(TY55526*, Indextypesmatch_129821)(TY107012* C_129823, TY55552* F_129824, TY55552* A_129825, TY55526* Arg_129826);
N_NIMCALL(void, Addparams_126153)(TY107012* C_126155, TY55526* N_126156);
N_NIMCALL(TY55548*, Genericcacheget_127270)(TY107012* C_127272, TY55548* Genericsym_127273, TY55548* Instsym_127274);
N_NIMCALL(NU8, Equalparams_97065)(TY55526* A_97067, TY55526* B_97068);
N_NIMCALL(void, Genericcacheadd_127391)(TY107012* C_127393, TY55548* Genericsym_127394, TY55548* Instsym_127395);
N_NIMCALL(TY55526*, Newnode_55711)(NU8 Kind_55713);
N_NIMCALL(TY107006*, Newproccon_107050)(TY55548* Owner_107052);
N_NIMCALL(void, Addresult_126157)(TY107012* C_126159, TY55552* T_126160, TY47538 Info_126161);
N_NIMCALL(void, Addresultnode_126162)(TY107012* C_126164, TY55526* N_126165);
N_NIMCALL(TY55526*, Semstmtscope_126104)(TY107012* C_126106, TY55526* N_126107);
N_NIMCALL(void, Popowner_107097)(void);
N_NIMCALL(void, Fixabstracttype_135289)(TY107012* C_135291, TY55526* N_135292);
N_NIMCALL(TY55526*, Semarrayconstr_135122)(TY107012* C_135124, TY55526* N_135125);
N_NIMCALL(TY55552*, Makerangetype_107086)(TY107012* C_107088, NI64 First_107089, NI64 Last_107090, TY47538 Info_107091);
N_NIMCALL(TY55552*, Elemtype_97091)(TY55552* T_97093);
N_NIMCALL(void, Changetype_134902)(TY55526* N_134904, TY55552* Newtype_134905);
N_NIMCALL(void, Analyseifaddresstakenincall_135986)(TY107012* C_135988, TY55526* N_135989);
N_NIMCALL(NU8, Isassignable_135553)(TY55526* N_135555);
N_NIMCALL(TY55526*, Analyseifaddresstaken_135768)(TY107012* C_135770, TY55526* N_135771);
N_NIMCALL(TY55526*, Newhiddenaddrtaken_135733)(TY107012* C_135735, TY55526* N_135736);
N_NIMCALL(TY55552*, Makevartype_107073)(TY107012* C_107075, TY55552* Basetype_107076);
N_NIMCALL(TY55526*, Semsubscript_137845)(TY107012* C_137847, TY55526* N_137848, NU8 Flags_137849);
N_NIMCALL(TY55526*, Buildoverloadedsubscripts_137802)(TY55526* N_137804, NIM_BOOL Inasgn_137805);
N_NIMCALL(void, Add_56969)(TY55526* Father_56971, TY55526* Son_56972);
static N_INLINE(NI, Len_56923)(TY55526* N_56925);
N_NIMCALL(NimStringDesc*, resizeString)(NimStringDesc* Dest_18789, NI Addlen_18790);
N_NIMCALL(void, Addsliceopr_137770)(NimStringDesc** Result_137773, TY55526* N_137774);
N_NIMCALL(TY55526*, Semexprnotype_141739)(TY107012* C_141741, TY55526* N_141742);
N_NIMCALL(TY55526*, Buildechostmt_141721)(TY107012* C_141723, TY55526* N_141724);
N_NIMCALL(TY55548*, Strtableget_60066)(TY55530* T_60068, TY54011* Name_60069);
N_NIMCALL(TY55526*, Buildstringify_136653)(TY107012* C_136655, TY55526* Arg_136656);
N_NIMCALL(TY55526*, Semcommand_141773)(TY107012* C_141775, TY55526* N_141776);
N_NIMCALL(TY55526*, Semblock_142181)(TY107012* C_142183, TY55526* N_142184);
N_NIMCALL(TY55526*, Semraise_144043)(TY107012* C_144045, TY55526* N_144046);
N_NIMCALL(TY55526*, Semvar_143139)(TY107012* C_143141, TY55526* N_143142);
N_NIMCALL(NIM_BOOL, Typeallowed_97136)(TY55552* T_97138, NU8 Kind_97139);
N_NIMCALL(void, Addinterfacedecl_108236)(TY107012* C_108238, TY55548* Sym_108239);
N_NIMCALL(TY55526*, Semconst_143446)(TY107012* C_143448, TY55526* N_143449);
N_NIMCALL(TY55526*, Semandevalconstexpr_126198)(TY107012* C_126200, TY55526* N_126201);
N_NIMCALL(TY55526*, Getconstexpr_113010)(TY55548* M_113012, TY55526* N_113013);
N_NIMCALL(TY55526*, Evalconstexpr_115042)(TY55548* Module_115044, TY55526* E_115045);
N_NIMCALL(TY55526*, Fitremovehiddenconv_143097)(TY107012* C_143099, TY55552* Typ_143100, TY55526* N_143101);
N_NIMCALL(TY55526*, Semtypesection_144554)(TY107012* C_144556, TY55526* N_144557);
N_NIMCALL(void, Processmagictype_133947)(TY107012* C_133949, TY55548* M_133950);
N_NIMCALL(void, Setmagictype_133942)(TY55548* M_133944, NU8 Kind_133945, NI Size_133946);
static N_INLINE(NI, Getid_55694)(void);
N_NIMCALL(TY55526*, Semgenericparamlist_144321)(TY107012* C_144323, TY55526* N_144324, TY55552* Father_144325);
N_NIMCALL(TY55526*, Semif_141898)(TY107012* C_141900, TY55526* N_141901);
N_NIMCALL(TY55526*, Semwhen_141778)(TY107012* C_141780, TY55526* N_141781);
N_NIMCALL(void, Idsynchronizationpoint_55699)(NI Idrange_55701);
N_NIMCALL(TY55526*, Semdiscard_142013)(TY107012* C_142015, TY55526* N_142016);
N_NIMCALL(TY55526*, Semwhile_142302)(TY107012* C_142304, TY55526* N_142305);
N_NIMCALL(TY55526*, Semtry_144124)(TY107012* C_144126, TY55526* N_144127);
N_NIMCALL(TY55526*, Sembreakorcontinue_142065)(TY107012* C_142067, TY55526* N_142068);
N_NIMCALL(TY55526*, Semfor_143635)(TY107012* C_143637, TY55526* N_143638);
N_NIMCALL(TY55526*, Semcase_142407)(TY107012* C_142409, TY55526* N_142410);
N_NIMCALL(NI64, Tocover_142393)(TY55552* T_142395);
N_NIMCALL(TY55526*, Semreturn_142754)(TY107012* C_142756, TY55526* N_142757);
N_NIMCALL(TY55526*, Semasm_142282)(TY107012* Con_142284, TY55526* N_142285);
N_NIMCALL(NIM_CHAR, Pragmaasm_122034)(TY107012* C_122036, TY55526* N_122037);
N_NIMCALL(TY55526*, Semasmoremit_123596)(TY107012* Con_123598, TY55526* N_123599, NIM_CHAR Marker_123600);
N_NIMCALL(TY55526*, Semyield_142968)(TY107012* C_142970, TY55526* N_142971);
N_NIMCALL(TY55526*, Semiterator_146235)(TY107012* C_146237, TY55526* N_146238);
N_NIMCALL(TY55526*, Semprocaux_145487)(TY107012* C_145489, TY55526* N_145490, NU8 Kind_145491, TY122007 Validpragmas_145492);
N_NIMCALL(TY55548*, Searchforproc_121004)(TY107012* C_121006, TY55548* Fn_121007, NI Tos_121008);
N_NIMCALL(void, Addinterfaceoverloadablesymat_108240)(TY107012* C_108242, TY55548* Sym_108243, NI At_108244);
N_NIMCALL(void, Addinterfacedeclat_108191)(TY107012* C_108193, TY55548* Sym_108194, NI At_108195);
N_NIMCALL(void, Addgenericparamlisttoscope_144498)(TY107012* C_144500, TY55526* N_144501);
N_NIMCALL(TY55526*, Semgenericstmtscope_140055)(TY107012* C_140057, TY55526* N_140058, NU8 Flags_140061);
N_NIMCALL(TY55526*, Semgenericstmt_140048)(TY107012* C_140050, TY55526* N_140051, NU8 Flags_140054);
N_NIMCALL(TY55548*, Symtabget_60111)(TY60099 Tab_60113, TY54011* S_60114);
N_NIMCALL(TY55526*, Semgenericstmtsymbol_140065)(TY107012* C_140067, TY55526* N_140068, TY55548* S_140069);
N_NIMCALL(TY55526*, Semtemplateexpr_133953)(TY107012* C_133955, TY55526* N_133956, TY55548* S_133957, NIM_BOOL Semcheck_133958);
N_NIMCALL(TY55526*, Evaltemplate_126488)(TY107012* C_126490, TY55526* N_126491, TY55548* Sym_126492);
N_NIMCALL(TY55526*, Evaltemplateargs_126394)(TY107012* C_126396, TY55526* N_126397, TY55548* S_126398);
N_NIMCALL(TY55526*, Evaltemplateaux_126317)(TY107012* C_126319, TY55526* Templ_126320, TY55526* Actual_126321, TY55548* Sym_126322);
N_NIMCALL(TY55526*, Semmacrostmt_139442)(TY107012* C_139444, TY55526* N_139445, NIM_BOOL Semcheck_139446);
N_NIMCALL(NIM_BOOL, Iscallexpr_139426)(TY55526* N_139428);
N_NIMCALL(TY55526*, Getidentnode_140103)(TY55526* N_140105);
N_NIMCALL(void, Semborrow_145201)(TY107012* C_145203, TY55526* N_145204, TY55548* S_145205);
N_NIMCALL(TY55548*, Searchforborrowproc_121009)(TY107012* C_121011, TY55548* Fn_121012, NI Tos_121013);
N_NIMCALL(void, Sideeffectscheck_145230)(TY107012* C_145232, TY55548* S_145233);
N_NIMCALL(TY55526*, Semproc_146298)(TY107012* C_146300, TY55526* N_146301);
N_NIMCALL(TY55526*, Semmethod_146303)(TY107012* C_146305, TY55526* N_146306);
N_NIMCALL(NIM_BOOL, Istoplevel_126053)(TY107012* C_126055);
N_NIMCALL(TY55526*, Semconverterdef_146353)(TY107012* C_146355, TY55526* N_146356);
N_NIMCALL(void, Addconverter_107058)(TY107012* C_107060, TY55548* Conv_107061);
N_NIMCALL(TY55526*, Semmacrodef_146418)(TY107012* C_146420, TY55526* N_146421);
N_NIMCALL(TY55526*, Semtemplatedef_126725)(TY107012* C_126727, TY55526* N_126728);
N_NIMCALL(TY55526*, Resolvetemplateparams_126582)(TY107012* C_126584, TY55526* N_126585, NIM_BOOL Withinbind_126586, TY55895* Tobind_126588);
N_NIMCALL(NIM_BOOL, Intsetcontains_55905)(TY55895 S_55907, NI Key_55908);
N_NIMCALL(TY55548*, Symtablocalget_60115)(TY60099 Tab_60117, TY54011* S_60118);
N_NIMCALL(TY55526*, Transformtoexpr_126683)(TY55526* N_126685);
N_NIMCALL(TY55526*, Evalimport_110001)(TY107012* C_110003, TY55526* N_110004);
N_NIMCALL(TY55526*, Evalfrom_110005)(TY107012* C_110007, TY55526* N_110008);
N_NIMCALL(TY55526*, Evalinclude_146504)(TY107012* C_146506, TY55526* N_146507);
N_NIMCALL(NimStringDesc*, Getmodulefile_110013)(TY55526* N_110015);
N_NIMCALL(NI, Includefilename_47660)(NimStringDesc* F_47662);
N_NIMCALL(void, Intsetexcl_55914)(TY55895* S_55917, NI Key_55918);
N_NIMCALL(TY55526*, Semfieldaccess_133960)(TY107012* C_133962, TY55526* N_133963, NU8 Flags_133966);
N_NIMCALL(TY55526*, Semconv_134265)(TY107012* C_134267, TY55526* N_134268, TY55548* S_134269);
N_NIMCALL(void, Checkconvertible_134112)(TY47538 Info_134114, TY55552* Castdest_134115, TY55552* Src_134116);
N_NIMCALL(void, Checkconversionbetweenobjects_134100)(TY47538 Info_134102, TY55552* Castdest_134103, TY55552* Src_134104);
N_NIMCALL(NI, Inheritancediff_97121)(TY55552* A_97123, TY55552* B_97124);
N_NIMCALL(NIM_BOOL, Equalordistinctof_97056)(TY55552* X_97058, TY55552* Y_97059);
N_NIMCALL(TY55526*, Semdirectop_136625)(TY107012* C_136627, TY55526* N_136628, NU8 Flags_136629);
N_NIMCALL(void, Semopaux_134742)(TY107012* C_134744, TY55526* N_134745);
N_NIMCALL(TY55526*, Overloadedcallopr_134864)(TY107012* C_134866, TY55526* N_134867);
N_NIMCALL(NimStringDesc*, Getnotfounderror_128119)(TY107012* C_128121, TY55526* N_128122);
N_NIMCALL(NimStringDesc*, addChar)(NimStringDesc* S_1803, NIM_CHAR C_1804);
N_NIMCALL(TY55526*, Semmagic_136986)(TY107012* C_136988, TY55526* N_136989, TY55548* S_136990, NU8 Flags_136991);
N_NIMCALL(TY55526*, Semdefined_136859)(TY107012* C_136861, TY55526* N_136862, NIM_BOOL Onlycurrentscope_136863);
N_NIMCALL(TY55526*, Newintnode_55714)(NU8 Kind_55716, NI64 Intval_55717);
N_NIMCALL(TY55548*, Lookupfordefined_136717)(TY107012* C_136719, TY55526* N_136720, NIM_BOOL Onlycurrentscope_136721);
N_NIMCALL(NIM_BOOL, Isdefined_64059)(TY54011* Symbol_64061);
N_NIMCALL(TY55526*, Setms_136957)(TY55526* N_136959, TY55548* S_136960);
N_NIMCALL(TY55526*, Semlowhigh_134488)(TY107012* C_134490, TY55526* N_134491, NU8 M_134492);
N_NIMCALL(TY55526*, Semsizeof_134563)(TY107012* C_134565, TY55526* N_134566);
N_NIMCALL(TY55526*, Semis_134595)(TY107012* C_134597, TY55526* N_134598);
N_NIMCALL(TY55526*, Semecho_136678)(TY107012* C_136680, TY55526* N_136681);
N_NIMCALL(TY55526*, Semindirectop_136307)(TY107012* C_136309, TY55526* N_136310, NU8 Flags_136311);
N_NIMCALL(TY55526*, Explictgenericinstantiation_130696)(TY107012* C_130698, TY55526* N_130699, TY55548* S_130700);
N_NIMCALL(TY55526*, Semarrayaccess_138118)(TY107012* C_138120, TY55526* N_138121, NU8 Flags_138122);
N_NIMCALL(NU8, Checkpar_138708)(TY55526* N_138710);
N_NIMCALL(TY55526*, Semtuplepositionsconstr_139196)(TY107012* C_139198, TY55526* N_139199);
N_NIMCALL(TY55526*, Semtuplefieldsconstr_138858)(TY107012* C_138860, TY55526* N_138861);
N_NIMCALL(TY55526*, Semsetconstr_138329)(TY107012* C_138331, TY55526* N_138332);
N_NIMCALL(TY55526*, Semlambda_126134)(TY107012* C_126136, TY55526* N_126137);
N_NIMCALL(TY55552*, Makeptrtype_107069)(TY107012* C_107071, TY55552* Basetype_107072);
N_NIMCALL(TY55526*, Semcast_134412)(TY107012* C_134414, TY55526* N_134415);
N_NIMCALL(NIM_BOOL, Iscastable_134224)(TY55552* Dst_134226, TY55552* Src_134227);
N_NIMCALL(TY55526*, Semifexpr_138135)(TY107012* C_138137, TY55526* N_138138);
N_NIMCALL(TY55526*, Semstmtlistexpr_139247)(TY107012* C_139249, TY55526* N_139250);
N_NIMCALL(TY55526*, Semblockexpr_139326)(TY107012* C_139328, TY55526* N_139329);
N_NOINLINE(void, Raiserecoverableerror_47544)(void);
N_NIMCALL(TY55526*, Semexprnoflags_147077)(TY107012* C_147079, TY55526* N_147080);
N_NIMCALL(void, Symtabadd_60119)(TY60099* Tab_60122, TY55548* E_60123);
N_NIMCALL(void, Initsystem_102017)(TY60099* Tab_102020);
N_NIMCALL(void, Importallsymbols_110009)(TY107012* C_110011, TY55548* Frommod_110012);
N_NIMCALL(TY105002*, Myopencached_147117)(TY55548* Module_147119, NimStringDesc* Filename_147120, TY93031* Rd_147121);
N_NIMCALL(TY55526*, Myclose_147155)(TY105002* Context_147157, TY55526* N_147158);
N_NIMCALL(void, Rawclosescope_60145)(TY60099* Tab_60148);
N_NIMCALL(void, Addcodeforgenerics_146958)(TY107012* C_146960, TY55526* N_146961);
N_NIMCALL(TY55526*, Myprocess_147147)(TY105002* Context_147149, TY55526* N_147150);
N_NIMCALL(TY55526*, Semstmtandgenerategenerics_147124)(TY107012* C_147126, TY55526* N_147127);
static N_INLINE(void, pushSafePoint)(TSafePoint* S_5035);
static N_INLINE(void, popSafePoint)(void);
static N_INLINE(E_Base*, getCurrentException)(void);
static N_INLINE(void, popCurrentException)(void);
N_NIMCALL(void, reraiseException)(void);
NIM_CONST NU64 Constabstracttypes_133951 = IL64(1097364930612);
STRING_LITERAL(TMP195930, "sem.myOpen", 10);
STRING_LITERAL(TMP195991, "", 0);
NIM_CONST TY181054 Lastblockstmts_146539 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x80, 0x07, 0x00, 0x00, 0x00}
;
STRING_LITERAL(TMP196064, "in", 2);
STRING_LITERAL(TMP196065, "not", 3);
STRING_LITERAL(TMP196066, "forward type in typeRel()", 25);
STRING_LITERAL(TMP196067, "tupleRel", 8);
STRING_LITERAL(TMP196068, "typeRel: tyGenericInvokation -> tyGenericInvokation", 51);
STRING_LITERAL(TMP196069, "wrong instantiated type!", 24);
STRING_LITERAL(TMP196070, "lookup failed", 13);
STRING_LITERAL(TMP196071, "has constraints: ", 17);
STRING_LITERAL(TMP196072, "typeRel(", 8);
STRING_LITERAL(TMP196073, "substitution with generic parameter", 35);
STRING_LITERAL(TMP196074, "no generic body", 15);
STRING_LITERAL(TMP196076, "acyclic", 7);
STRING_LITERAL(TMP196077, "ReplaceTypeVarsT: tyGenericBody", 31);
STRING_LITERAL(TMP196078, "getInstantiatedType", 19);
STRING_LITERAL(TMP196079, "implicitConv", 12);
STRING_LITERAL(TMP196084, "x.state is not csMatch", 22);
STRING_LITERAL(TMP196085, "matches", 7);
STRING_LITERAL(TMP196087, "calleeSym.ast is nil", 20);
STRING_LITERAL(TMP196088, "nesting too deep", 16);
STRING_LITERAL(TMP196089, "generateInstance", 16);
STRING_LITERAL(TMP196090, "instantiateGenericParamList; no generic params", 46);
STRING_LITERAL(TMP196091, "instantiateGenericParamList; no symbol", 38);
STRING_LITERAL(TMP196092, "instantiateGenericParamList: ", 29);
STRING_LITERAL(TMP196093, "semRangeAux", 11);
STRING_LITERAL(TMP196094, "openarray", 9);
STRING_LITERAL(TMP196095, "range", 5);
STRING_LITERAL(TMP196096, "set", 3);
STRING_LITERAL(TMP196097, "ordinal", 7);
STRING_LITERAL(TMP196098, "seq", 3);
STRING_LITERAL(TMP196099, "semtypes.semGeneric", 19);
STRING_LITERAL(TMP196100, "addInheritedFieldsAux", 21);
STRING_LITERAL(TMP196101, "addInheritedFieldsAux(record case branch)", 41);
STRING_LITERAL(TMP196102, "addInheritedFieldsAux()", 23);
STRING_LITERAL(TMP196103, "semObjectNode", 13);
STRING_LITERAL(TMP196104, "semRecordNodeAux", 16);
STRING_LITERAL(TMP196105, "semRecordCase: dicriminant is no symbol", 39);
STRING_LITERAL(TMP196106, ") ", 2);
static NIM_CONST TY122007 TMP196112 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x70, 0x00, 0x00, 0x00, 0x20, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00}
;static NIM_CONST TY122007 TMP196113 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x70, 0x2D, 0x0C, 0x00, 0x20, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x20, 0x00}
;static NIM_CONST TY122007 TMP196114 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x70, 0x21, 0x00, 0x00, 0x20, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP196115, "ref", 3);
STRING_LITERAL(TMP196116, "ptr", 3);
STRING_LITERAL(TMP196117, "var", 3);
STRING_LITERAL(TMP196118, "distinct", 8);
STRING_LITERAL(TMP196119, "dummy", 5);
static NIM_CONST TY122007 TMP196120 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x40, 0x00, 0x00, 0x40, 0xF8, 0x1F,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP196122, "addTypeVarsOfGenericBody", 24);
STRING_LITERAL(TMP196123, "addTypeVarsOfGenericBody 2", 26);
STRING_LITERAL(TMP196124, "addParams", 9);
STRING_LITERAL(TMP196125, "GenericCacheGet", 15);
STRING_LITERAL(TMP196127, "result", 6);
STRING_LITERAL(TMP196129, "semDirectCallAnalyseEffects", 27);
STRING_LITERAL(TMP196130, "changeType: no tuple type for constructor", 41);
STRING_LITERAL(TMP196131, "changeType: no tuple fields", 27);
STRING_LITERAL(TMP196132, "changeType(): invalid tuple constr", 34);
STRING_LITERAL(TMP196133, "changeType(): invalid identifier", 32);
STRING_LITERAL(TMP196134, "fixAbstractType: ", 17);
NIM_CONST TY135991 Fakevarparams_135990 = {
0x00, 0xD8, 0x61, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x38, 0x2C, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;
static NIM_CONST TY135991 TMP196135 = {
0x00, 0xD8, 0x61, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x38, 0x2C, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP196137, "analyseIfAddressTaken", 21);
STRING_LITERAL(TMP196138, "[", 1);
STRING_LITERAL(TMP196139, ",", 1);
STRING_LITERAL(TMP196140, "..", 2);
STRING_LITERAL(TMP196141, "..$", 3);
STRING_LITERAL(TMP196142, "$..", 3);
STRING_LITERAL(TMP196143, "$..$", 4);
STRING_LITERAL(TMP196144, "]=", 2);
STRING_LITERAL(TMP196145, "]", 1);
STRING_LITERAL(TMP196146, "echo", 4);
STRING_LITERAL(TMP196147, "echo", 4);
STRING_LITERAL(TMP196148, "$", 1);
STRING_LITERAL(TMP196149, "tuple", 5);
static NIM_CONST TY122007 TMP196166 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x72, 0x23, 0x08, 0x00, 0x20, 0x00, 0x00,
0x00, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x40, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP196167, "semTypeSection: containerID", 27);
STRING_LITERAL(TMP196168, "semGenericParamList", 19);
STRING_LITERAL(TMP196169, "semTypeSection()", 16);
STRING_LITERAL(TMP196170, "semWhen", 7);
STRING_LITERAL(TMP196171, "countup", 7);
STRING_LITERAL(TMP196172, "\'return\'", 8);
STRING_LITERAL(TMP196173, "semReturn", 9);
STRING_LITERAL(TMP196174, "semYield", 8);
static NIM_CONST TY122007 TMP196175 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x08, 0x02, 0xE0, 0xFD, 0x3D, 0x02, 0x80,
0xFF, 0x0D, 0x00, 0x05, 0xA0, 0x00, 0x00, 0x04,
0x04, 0x00, 0x00, 0x40, 0x00}
;STRING_LITERAL(TMP196178, "addGenericParamListToScope", 26);
STRING_LITERAL(TMP196179, "semProcAux", 10);
static NIM_CONST TY122007 TMP196180 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x70, 0x51, 0x00, 0x00, 0x20, 0xF8, 0x1F,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x04, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP196181, "iterator", 8);
static NIM_CONST TY122007 TMP196182 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x70, 0xF3, 0x1D, 0x00, 0x60, 0xF8, 0x1F,
0x00, 0x00, 0x00, 0x08, 0x00, 0x00, 0x04, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP196183, "method", 6);
STRING_LITERAL(TMP196184, "converter", 9);
STRING_LITERAL(TMP196185, "macro", 5);
static NIM_CONST TY122007 TMP196186 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x71, 0x41, 0x08, 0x00, 0x20, 0xF8, 0x1F,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP196187, "template", 8);
STRING_LITERAL(TMP196188, "import", 6);
STRING_LITERAL(TMP196194, "from", 4);
STRING_LITERAL(TMP196198, "include", 7);
STRING_LITERAL(TMP196199, "SemStmt: result = nil", 21);
STRING_LITERAL(TMP196200, "no default for", 14);
NIM_CONST NU64 Integraltypes_134117 = IL64(1097364160518);
STRING_LITERAL(TMP196201, "()", 2);
STRING_LITERAL(TMP196202, ": ", 2);
STRING_LITERAL(TMP196203, ", ", 2);
STRING_LITERAL(TMP196204, "\012", 1);
STRING_LITERAL(TMP196205, "low", 3);
STRING_LITERAL(TMP196206, "high", 4);
NIM_CONST TY134495 Optostr_134494 = {((NimStringDesc*) &TMP196205),
((NimStringDesc*) &TMP196206)}
;
extern NIM_CONST TY134495 Optostr_134494;
STRING_LITERAL(TMP196207, "sizeof", 6);
STRING_LITERAL(TMP196208, ")\012", 2);
STRING_LITERAL(TMP196209, "semExpr() to implement", 22);
STRING_LITERAL(TMP196210, ":anonymous", 10);
static NIM_CONST TY122007 TMP196211 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x70, 0xF3, 0x04, 0x00, 0x20, 0xF8, 0x1F,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP196213, "semIfExpr", 9);
STRING_LITERAL(TMP196214, "n is not nil", 12);
STRING_LITERAL(TMP196215, "addCodeForGenerics", 18);
STRING_LITERAL(TMP196216, "no code for ", 12);
NI Evaltemplatecounter_126393;
extern NU8 Gcmd_46084;
extern TY11196 Gch_11214;
extern TY55526* Emptynode_55858;
extern TNimType* NTI55162; /* TTypeKind */
extern TY55564 Ginsttypes_107045;
extern TNimType* NTI127969; /* TCandidate */
extern TY55548* Systemmodule_102004;
extern NI Intsize_51578;
extern NI Floatsize_51579;
extern NI Ptrsize_51580;
extern NI Gid_55693;
extern NU32 Goptions_46077;
extern TY105045 Gincludefile_105048;
extern NU32 Gglobaloptions_46079;
extern NI Gerrormax_47568;
extern TSafePoint* excHandler;
extern TNimType* NTI47540; /* ERecoverableError */
extern E_Base* Currexception_5032;
N_NIMCALL(void, Markused_126065)(TY55526* N_126067, TY55548* S_126068) {
(*S_126068).Flags |=(1<<((NI32)(((NU8) 0))%(sizeof(NI32)*8)));
if (!(((*S_126068).Flags &(1<<((((NU8) 22))&31)))!=0)) goto LA2;
Message_48149((*N_126067).Info, ((NU8) 214), (*(*S_126068).Name).S);
LA2: ;
}
N_NIMCALL(TY55526*, Symchoice_126533)(TY107012* C_126535, TY55526* N_126536, TY55548* S_126537) {
TY55526* Result_126538;
TY55548* A_126539;
TY108004 O_126540;
NI I_126541;
TY55552* LOC5;
TY55526* LOC7;
Result_126538 = 0;
A_126539 = 0;
memset((void*)&O_126540, 0, sizeof(O_126540));
I_126541 = 0;
I_126541 = 0;
A_126539 = Initoverloaditer_108745(&O_126540, C_126535, N_126536);
while (1) {
if (!!((A_126539 == NIM_NIL))) goto LA1;
A_126539 = Nextoverloaditer_109074(&O_126540, C_126535, N_126536);
I_126541 += 1;
} LA1: ;
if (!(I_126541 <= 1)) goto LA3;
Result_126538 = Newsymnode_55735(S_126537);
(*Result_126538).Info = (*N_126536).Info;
Markused_126065(N_126536, S_126537);
goto LA2;
LA3: ;
LOC5 = 0;
LOC5 = Newtypes_107077(((NU8) 0), C_126535);
Result_126538 = Newnodeit_55742(((NU8) 46), (*N_126536).Info, LOC5);
A_126539 = Initoverloaditer_108745(&O_126540, C_126535, N_126536);
while (1) {
if (!!((A_126539 == NIM_NIL))) goto LA6;
LOC7 = 0;
LOC7 = Newsymnode_55735(A_126539);
Addson_55824(Result_126538, LOC7);
A_126539 = Nextoverloaditer_109074(&O_126540, C_126535, N_126536);
} LA6: ;
LA2: ;
return Result_126538;
}
static N_INLINE(NI, Atomicinc_3221)(NI* Memloc_3224, NI X_3225) {
NI Result_7807;
Result_7807 = 0;
(*Memloc_3224) += X_3225;
Result_7807 = (*Memloc_3224);
return Result_7807;
}
static N_INLINE(NIM_BOOL, Canbecycleroot_11616)(TY10802* C_11618) {
NIM_BOOL Result_11619;
Result_11619 = 0;
Result_11619 = !((((*(*C_11618).Typ).flags &(1<<((((NU8) 1))&7)))!=0));
return Result_11619;
}
static N_INLINE(void, Rtladdcycleroot_12252)(TY10802* C_12254) {
Incl_11080(&Gch_11214.Cycleroots, C_12254);
}
static N_INLINE(void, Incref_13202)(TY10802* C_13204) {
NI LOC1;
NIM_BOOL LOC3;
LOC1 = Atomicinc_3221(&(*C_13204).Refcount, 8);
LOC3 = Canbecycleroot_11616(C_13204);
if (!LOC3) goto LA4;
Rtladdcycleroot_12252(C_13204);
LA4: ;
}
static N_INLINE(TY10802*, Usrtocell_11612)(void* Usr_11614) {
TY10802* Result_11615;
Result_11615 = 0;
Result_11615 = ((TY10802*) ((NI32)((NU32)(((NI) (Usr_11614))) - (NU32)(((NI) (((NI)sizeof(TY10802))))))));
return Result_11615;
}
static N_INLINE(NI, Atomicdec_3226)(NI* Memloc_3229, NI X_3230) {
NI Result_8006;
Result_8006 = 0;
(*Memloc_3229) -= X_3230;
Result_8006 = (*Memloc_3229);
return Result_8006;
}
static N_INLINE(void, Rtladdzct_12601)(TY10802* C_12603) {
Addzct_11601(&Gch_11214.Zct, C_12603);
}
static N_INLINE(void, Decref_13001)(TY10802* C_13003) {
NI LOC2;
NIM_BOOL LOC5;
LOC2 = Atomicdec_3226(&(*C_13003).Refcount, 8);
if (!((NU32)(LOC2) < (NU32)(8))) goto LA3;
Rtladdzct_12601(C_13003);
goto LA1;
LA3: ;
LOC5 = Canbecycleroot_11616(C_13003);
if (!LOC5) goto LA6;
Rtladdcycleroot_12252(C_13003);
goto LA1;
LA6: ;
LA1: ;
}
static N_INLINE(void, asgnRef)(void** Dest_13214, void* Src_13215) {
TY10802* LOC4;
TY10802* LOC8;
if (!!((Src_13215 == NIM_NIL))) goto LA2;
LOC4 = Usrtocell_11612(Src_13215);
Incref_13202(LOC4);
LA2: ;
if (!!(((*Dest_13214) == NIM_NIL))) goto LA6;
LOC8 = Usrtocell_11612((*Dest_13214));
Decref_13001(LOC8);
LA6: ;
(*Dest_13214) = Src_13215;
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13218, void* Src_13219) {
TY10802* C_13220;
NI LOC4;
TY10802* C_13222;
NI LOC9;
if (!!((Src_13219 == NIM_NIL))) goto LA2;
C_13220 = 0;
C_13220 = Usrtocell_11612(Src_13219);
LOC4 = Atomicinc_3221(&(*C_13220).Refcount, 8);
LA2: ;
if (!!(((*Dest_13218) == NIM_NIL))) goto LA6;
C_13222 = 0;
C_13222 = Usrtocell_11612((*Dest_13218));
LOC9 = Atomicdec_3226(&(*C_13222).Refcount, 8);
if (!((NU32)(LOC9) < (NU32)(8))) goto LA10;
Rtladdzct_12601(C_13222);
LA10: ;
LA6: ;
(*Dest_13218) = Src_13219;
}
N_NIMCALL(TY54011*, Consideracc_126003)(TY55526* N_126005) {
TY54011* Result_126006;
TY55526* X_126007;
NimStringDesc* LOC4;
Result_126006 = 0;
X_126007 = 0;
X_126007 = N_126005;
if (!((*X_126007).Kind == ((NU8) 43))) goto LA2;
X_126007 = (*X_126007).KindU.S6.Sons->data[0];
LA2: ;
switch ((*X_126007).Kind) {
case ((NU8) 2):
Result_126006 = (*X_126007).KindU.S5.Ident;
break;
case ((NU8) 3):
Result_126006 = (*(*X_126007).KindU.S4.Sym).Name;
break;
default:
LOC4 = 0;
LOC4 = Rendertree_85042(N_126005, 0);
Globalerror_48139((*N_126005).Info, ((NU8) 19), LOC4);
Result_126006 = NIM_NIL;
break;
}
return Result_126006;
}
N_NIMCALL(NIM_BOOL, Istypeexpr_136993)(TY55526* N_136995) {
NIM_BOOL Result_136996;
Result_136996 = 0;
switch ((*N_136995).Kind) {
case ((NU8) 4):
case ((NU8) 110):
Result_136996 = NIM_TRUE;
break;
case ((NU8) 3):
Result_136996 = ((*(*N_136995).KindU.S4.Sym).Kind == ((NU8) 7));
break;
default:
Result_136996 = NIM_FALSE;
break;
}
return Result_136996;
}
static N_INLINE(NI, Sonslen_55804)(TY55526* N_55806) {
NI Result_56880;
Result_56880 = 0;
if (!(*N_55806).KindU.S6.Sons == 0) goto LA2;
Result_56880 = 0;
goto LA1;
LA2: ;
Result_56880 = (*N_55806).KindU.S6.Sons->Sup.len;
LA1: ;
return Result_56880;
}
static N_INLINE(TY55526*, Lastson_55810)(TY55526* N_55812) {
TY55526* Result_57841;
NI LOC1;
Result_57841 = 0;
LOC1 = Sonslen_55804(N_55812);
Result_57841 = (*N_55812).KindU.S6.Sons->data[(NI32)(LOC1 - 1)];
return Result_57841;
}
N_NIMCALL(TY55548*, Lookupinrecordandbuildcheck_137018)(TY107012* C_137020, TY55526* N_137021, TY55526* R_137022, TY54011* Field_137023, TY55526** Check_137025) {
TY55548* Result_137026;
TY55526* S_137027;
TY55526* It_137028;
TY55526* Inexpr_137029;
TY55526* Notexpr_137030;
NI I_137039;
NI HEX3Atmp_146786;
NI LOC1;
NI Res_146788;
NI I_137115;
NI HEX3Atmp_146795;
NI LOC12;
NI Res_146797;
TY55526* LOC14;
NI J_137147;
NI HEX3Atmp_146789;
NI LOC18;
NI Res_146791;
TY55526* LOC20;
NI J_137179;
NI HEX3Atmp_146792;
NI LOC24;
NI Res_146794;
TY55526* LOC26;
TY54011* LOC27;
TY55526* LOC28;
TY55526* LOC29;
TY55526* LOC30;
TY55526* LOC31;
TY54011* LOC38;
TY55526* LOC39;
TY55526* LOC40;
TY54011* LOC41;
TY55526* LOC42;
TY55526* LOC43;
Result_137026 = 0;
S_137027 = 0;
It_137028 = 0;
Inexpr_137029 = 0;
Notexpr_137030 = 0;
Result_137026 = NIM_NIL;
switch ((*R_137022).Kind) {
case ((NU8) 113):
I_137039 = 0;
HEX3Atmp_146786 = 0;
LOC1 = Sonslen_55804(R_137022);
HEX3Atmp_146786 = (NI32)(LOC1 - 1);
Res_146788 = 0;
Res_146788 = 0;
while (1) {
if (!(Res_146788 <= HEX3Atmp_146786)) goto LA2;
I_137039 = Res_146788;
Result_137026 = Lookupinrecordandbuildcheck_137018(C_137020, N_137021, (*R_137022).KindU.S6.Sons->data[I_137039], Field_137023, Check_137025);
if (!!((Result_137026 == NIM_NIL))) goto LA4;
goto BeforeRet;
LA4: ;
Res_146788 += 1;
} LA2: ;
break;
case ((NU8) 114):
Checkminsonslen_107413(R_137022, 2);
if (!!(((*(*R_137022).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA7;
Illformedast_107403(R_137022);
LA7: ;
Result_137026 = Lookupinrecordandbuildcheck_137018(C_137020, N_137021, (*R_137022).KindU.S6.Sons->data[0], Field_137023, Check_137025);
if (!!((Result_137026 == NIM_NIL))) goto LA10;
goto BeforeRet;
LA10: ;
S_137027 = Newnodei_55738(((NU8) 31), (*R_137022).Info);
I_137115 = 0;
HEX3Atmp_146795 = 0;
LOC12 = Sonslen_55804(R_137022);
HEX3Atmp_146795 = (NI32)(LOC12 - 1);
Res_146797 = 0;
Res_146797 = 1;
while (1) {
if (!(Res_146797 <= HEX3Atmp_146795)) goto LA13;
I_137115 = Res_146797;
It_137028 = (*R_137022).KindU.S6.Sons->data[I_137115];
switch ((*It_137028).Kind) {
case ((NU8) 75):
LOC14 = 0;
LOC14 = Lastson_55810(It_137028);
Result_137026 = Lookupinrecordandbuildcheck_137018(C_137020, N_137021, LOC14, Field_137023, Check_137025);
if (!(Result_137026 == NIM_NIL)) goto LA16;
J_137147 = 0;
HEX3Atmp_146789 = 0;
LOC18 = Sonslen_55804(It_137028);
HEX3Atmp_146789 = (NI32)(LOC18 - 2);
Res_146791 = 0;
Res_146791 = 0;
while (1) {
if (!(Res_146791 <= HEX3Atmp_146789)) goto LA19;
J_137147 = Res_146791;
LOC20 = 0;
LOC20 = Copytree_55852((*It_137028).KindU.S6.Sons->data[J_137147]);
Addson_55824(S_137027, LOC20);
Res_146791 += 1;
} LA19: ;
goto LA15;
LA16: ;
if (!((*Check_137025) == NIM_NIL)) goto LA22;
unsureAsgnRef((void**) &(*Check_137025), Newnodei_55738(((NU8) 37), (*N_137021).Info));
Addson_55824((*Check_137025), Emptynode_55858);
LA22: ;
S_137027 = Newnodei_55738(((NU8) 31), (*N_137021).Info);
J_137179 = 0;
HEX3Atmp_146792 = 0;
LOC24 = Sonslen_55804(It_137028);
HEX3Atmp_146792 = (NI32)(LOC24 - 2);
Res_146794 = 0;
Res_146794 = 0;
while (1) {
if (!(Res_146794 <= HEX3Atmp_146792)) goto LA25;
J_137179 = Res_146794;
LOC26 = 0;
LOC26 = Copytree_55852((*It_137028).KindU.S6.Sons->data[J_137179]);
Addson_55824(S_137027, LOC26);
Res_146794 += 1;
} LA25: ;
Inexpr_137029 = Newnodei_55738(((NU8) 21), (*N_137021).Info);
LOC27 = 0;
LOC27 = Getident_54016(((NimStringDesc*) &TMP196064));
LOC28 = 0;
LOC28 = Newidentnode_55731(LOC27, (*N_137021).Info);
Addson_55824(Inexpr_137029, LOC28);
LOC29 = 0;
LOC29 = Copytree_55852((*R_137022).KindU.S6.Sons->data[0]);
Addson_55824(Inexpr_137029, LOC29);
Addson_55824(Inexpr_137029, S_137027);
LOC30 = 0;
LOC30 = Semexpr_126115(C_137020, Inexpr_137029, 0);
Addson_55824((*Check_137025), LOC30);
goto BeforeRet;
LA15: ;
break;
case ((NU8) 78):
LOC31 = 0;
LOC31 = Lastson_55810(It_137028);
Result_137026 = Lookupinrecordandbuildcheck_137018(C_137020, N_137021, LOC31, Field_137023, Check_137025);
if (!!((Result_137026 == NIM_NIL))) goto LA33;
if (!((*Check_137025) == NIM_NIL)) goto LA36;
unsureAsgnRef((void**) &(*Check_137025), Newnodei_55738(((NU8) 37), (*N_137021).Info));
Addson_55824((*Check_137025), Emptynode_55858);
LA36: ;
Inexpr_137029 = Newnodei_55738(((NU8) 21), (*N_137021).Info);
LOC38 = 0;
LOC38 = Getident_54016(((NimStringDesc*) &TMP196064));
LOC39 = 0;
LOC39 = Newidentnode_55731(LOC38, (*N_137021).Info);
Addson_55824(Inexpr_137029, LOC39);
LOC40 = 0;
LOC40 = Copytree_55852((*R_137022).KindU.S6.Sons->data[0]);
Addson_55824(Inexpr_137029, LOC40);
Addson_55824(Inexpr_137029, S_137027);
Notexpr_137030 = Newnodei_55738(((NU8) 21), (*N_137021).Info);
LOC41 = 0;
LOC41 = Getident_54016(((NimStringDesc*) &TMP196065));
LOC42 = 0;
LOC42 = Newidentnode_55731(LOC41, (*N_137021).Info);
Addson_55824(Notexpr_137030, LOC42);
Addson_55824(Notexpr_137030, Inexpr_137029);
LOC43 = 0;
LOC43 = Semexpr_126115(C_137020, Notexpr_137030, 0);
Addson_55824((*Check_137025), LOC43);
goto BeforeRet;
LA33: ;
break;
default:
Illformedast_107403(It_137028);
break;
}
Res_146797 += 1;
} LA13: ;
break;
case ((NU8) 3):
if (!((*(*(*R_137022).KindU.S4.Sym).Name).Sup.Id == (*Field_137023).Sup.Id)) goto LA45;
Result_137026 = (*R_137022).KindU.S4.Sym;
LA45: ;
break;
default:
Illformedast_107403(N_137021);
break;
}
BeforeRet: ;
return Result_137026;
}
N_NIMCALL(TY55526*, Makederef_137264)(TY55526* N_137266) {
TY55526* Result_137267;
TY55552* T_137269;
TY55526* A_137292;
Result_137267 = 0;
T_137269 = 0;
T_137269 = Skiptypes_97087((*N_137266).Typ, 2048);
Result_137267 = N_137266;
if (!((*T_137269).Kind == ((NU8) 23))) goto LA2;
Result_137267 = Newnodeit_55742(((NU8) 54), (*N_137266).Info, (*T_137269).Sons->data[0]);
Addson_55824(Result_137267, N_137266);
T_137269 = Skiptypes_97087((*T_137269).Sons->data[0], 2048);
LA2: ;
if (!((*T_137269).Kind == ((NU8) 21) || (*T_137269).Kind == ((NU8) 22))) goto LA5;
A_137292 = 0;
A_137292 = Result_137267;
Result_137267 = Newnodeit_55742(((NU8) 38), (*N_137266).Info, (*T_137269).Sons->data[0]);
Addson_55824(Result_137267, A_137292);
LA5: ;
return Result_137267;
}
N_NIMCALL(TY55526*, Builtinfieldaccess_137293)(TY107012* C_137295, TY55526* N_137296, NU8 Flags_137297) {
TY55526* Result_137298;
TY55548* S_137300;
TY54011* I_137359;
TY55552* Ty_137372;
TY55548* F_137373;
NIM_BOOL LOC14;
TY55526* Check_137464;
NIM_BOOL LOC32;
TY55548* LOC34;
NIM_BOOL LOC40;
Result_137298 = 0;
S_137300 = 0;
S_137300 = Qualifiedlookup_108322(C_137295, N_137296, 3);
if (!!((S_137300 == NIM_NIL))) goto LA2;
Result_137298 = Semsym_134006(C_137295, N_137296, S_137300, Flags_137297);
goto BeforeRet;
LA2: ;
Checksonslen_107407(N_137296, 2);
asgnRefNoCycle((void**) &(*N_137296).KindU.S6.Sons->data[0], Semexprwithtype_126122(C_137295, (*N_137296).KindU.S6.Sons->data[0], (1 | Flags_137297)));
I_137359 = 0;
I_137359 = Consideracc_126003((*N_137296).KindU.S6.Sons->data[1]);
Ty_137372 = 0;
Ty_137372 = (*(*N_137296).KindU.S6.Sons->data[0]).Typ;
F_137373 = 0;
F_137373 = NIM_NIL;
Result_137298 = NIM_NIL;
if (!((*Ty_137372).Kind == ((NU8) 14))) goto LA5;
while (1) {
if (!!((Ty_137372 == NIM_NIL))) goto LA7;
F_137373 = Getsymfromlist_60189((*Ty_137372).N, I_137359, 0);
if (!!((F_137373 == NIM_NIL))) goto LA9;
goto LA7;
LA9: ;
Ty_137372 = (*Ty_137372).Sons->data[0];
} LA7: ;
if (!!((F_137373 == NIM_NIL))) goto LA12;
Result_137298 = Newsymnode_55735(F_137373);
(*Result_137298).Info = (*N_137296).Info;
asgnRef((void**) &(*Result_137298).Typ, Ty_137372);
Markused_126065(N_137296, F_137373);
goto LA11;
LA12: ;
Globalerror_48139((*(*N_137296).KindU.S6.Sons->data[1]).Info, ((NU8) 166), (*I_137359).S);
LA11: ;
goto BeforeRet;
goto LA4;
LA5: ;
LOC14 = !(((Flags_137297 &(1<<((((NU8) 0))&7)))!=0));
if (!(LOC14)) goto LA15;
LOC14 = Istypeexpr_136993((*N_137296).KindU.S6.Sons->data[0]);
LA15: ;
if (!LOC14) goto LA16;
Globalerror_48139((*(*N_137296).KindU.S6.Sons->data[0]).Info, ((NU8) 161), ((NimStringDesc*) &TMP195991));
goto BeforeRet;
goto LA4;
LA16: ;
LA4: ;
Ty_137372 = Skiptypes_97087(Ty_137372, 14682112);
Check_137464 = 0;
Check_137464 = NIM_NIL;
if (!((*Ty_137372).Kind == ((NU8) 17))) goto LA19;
while (1) {
Check_137464 = NIM_NIL;
F_137373 = Lookupinrecordandbuildcheck_137018(C_137295, N_137296, (*Ty_137372).N, I_137359, &Check_137464);
if (!!((F_137373 == NIM_NIL))) goto LA23;
goto LA21;
LA23: ;
if (!((*Ty_137372).Sons->data[0] == NIM_NIL)) goto LA26;
goto LA21;
LA26: ;
Ty_137372 = Skiptypes_97087((*Ty_137372).Sons->data[0], 2048);
} LA21: ;
if (!!((F_137373 == NIM_NIL))) goto LA29;
LOC32 = !(((6 & (*F_137373).Flags) == 0));
if (LOC32) goto LA33;
LOC34 = 0;
LOC34 = Getmodule_60198(F_137373);
LOC32 = ((*LOC34).Sup.Id == (*(*C_137295).Module).Sup.Id);
LA33: ;
if (!LOC32) goto LA35;
asgnRefNoCycle((void**) &(*N_137296).KindU.S6.Sons->data[0], Makederef_137264((*N_137296).KindU.S6.Sons->data[0]));
asgnRefNoCycle((void**) &(*N_137296).KindU.S6.Sons->data[1], Newsymnode_55735(F_137373));
asgnRef((void**) &(*N_137296).Typ, (*F_137373).Typ);
Markused_126065(N_137296, F_137373);
if (!(Check_137464 == NIM_NIL)) goto LA38;
Result_137298 = N_137296;
goto LA37;
LA38: ;
asgnRefNoCycle((void**) &(*Check_137464).KindU.S6.Sons->data[0], N_137296);
asgnRef((void**) &(*Check_137464).Typ, (*N_137296).Typ);
Result_137298 = Check_137464;
LA37: ;
LA35: ;
LA29: ;
goto LA18;
LA19: ;
LOC40 = ((*Ty_137372).Kind == ((NU8) 18));
if (!(LOC40)) goto LA41;
LOC40 = !(((*Ty_137372).N == NIM_NIL));
LA41: ;
if (!LOC40) goto LA42;
F_137373 = Getsymfromlist_60189((*Ty_137372).N, I_137359, 0);
if (!!((F_137373 == NIM_NIL))) goto LA45;
asgnRefNoCycle((void**) &(*N_137296).KindU.S6.Sons->data[0], Makederef_137264((*N_137296).KindU.S6.Sons->data[0]));
asgnRefNoCycle((void**) &(*N_137296).KindU.S6.Sons->data[1], Newsymnode_55735(F_137373));
asgnRef((void**) &(*N_137296).Typ, (*F_137373).Typ);
Result_137298 = N_137296;
Markused_126065(N_137296, F_137373);
LA45: ;
goto LA18;
LA42: ;
LA18: ;
BeforeRet: ;
return Result_137298;
}
static N_INLINE(TY55526*, HEX5BHEX5D_57062)(TY55526* N_57064, NI I_57065) {
TY55526* Result_57066;
Result_57066 = 0;
Result_57066 = (*N_57064).KindU.S6.Sons->data[I_57065];
return Result_57066;
}
static N_INLINE(void, appendString)(NimStringDesc* Dest_18799, NimStringDesc* Src_18800) {
memcpy(((NCSTRING) (&(*Dest_18799).data[((*Dest_18799).Sup.len)-0])), ((NCSTRING) ((*Src_18800).data)), ((int) ((NI32)((NI32)((*Src_18800).Sup.len + 1) * 1))));
(*Dest_18799).Sup.len += (*Src_18800).Sup.len;
}
static N_INLINE(void, appendChar)(NimStringDesc* Dest_18816, NIM_CHAR C_18817) {
(*Dest_18816).data[((*Dest_18816).Sup.len)-0] = C_18817;
(*Dest_18816).data[((NI32)((*Dest_18816).Sup.len + 1))-0] = 0;
(*Dest_18816).Sup.len += 1;
}
static N_INLINE(void, Initcandidateaux_127992)(TY127969* C_127995, TY55552* Callee_127996) {
(*C_127995).Exactmatches = 0;
(*C_127995).Subtypematches = 0;
(*C_127995).Convmatches = 0;
(*C_127995).Intconvmatches = 0;
(*C_127995).Genericmatches = 0;
(*C_127995).State = ((NU8) 0);
unsureAsgnRef((void**) &(*C_127995).Callee, Callee_127996);
unsureAsgnRef((void**) &(*C_127995).Call, NIM_NIL);
(*C_127995).Basetypematch = NIM_FALSE;
}
N_NIMCALL(void, Initcandidate_128003)(TY127969* C_128006, TY55548* Callee_128007, TY55526* Binding_128008) {
TY55526* Typeparams_128021;
NI I_128032;
NI HEX3Atmp_130793;
NI LOC4;
NI LOC5;
NI Res_130795;
TY55552* Formaltypeparam_128045;
TY55526* LOC7;
Initcandidateaux_127992(C_128006, (*Callee_128007).Typ);
unsureAsgnRef((void**) &(*C_128006).Calleesym, Callee_128007);
Initidtable_55755(&(*C_128006).Bindings);
if (!!((Binding_128008 == NIM_NIL))) goto LA2;
Typeparams_128021 = 0;
Typeparams_128021 = HEX5BHEX5D_57062((*Callee_128007).Ast, 1);
I_128032 = 0;
HEX3Atmp_130793 = 0;
LOC4 = Sonslen_55804(Typeparams_128021);
LOC5 = Sonslen_55804(Binding_128008);
HEX3Atmp_130793 = ((LOC4 <= (NI32)(LOC5 - 1)) ? LOC4 : (NI32)(LOC5 - 1));
Res_130795 = 0;
Res_130795 = 1;
while (1) {
if (!(Res_130795 <= HEX3Atmp_130793)) goto LA6;
I_128032 = Res_130795;
Formaltypeparam_128045 = 0;
Formaltypeparam_128045 = (*(*Typeparams_128021).KindU.S6.Sons->data[(NI32)(I_128032 - 1)]).Typ;
LOC7 = 0;
LOC7 = HEX5BHEX5D_57062(Binding_128008, I_128032);
Idtableput_60166(&(*C_128006).Bindings, &Formaltypeparam_128045->Sup, &(*LOC7).Typ->Sup.Sup);
Res_130795 += 1;
} LA6: ;
LA2: ;
}
static N_INLINE(NI, Sonslen_55807)(TY55552* N_55809) {
NI Result_56744;
Result_56744 = 0;
if (!(*N_55809).Sons == 0) goto LA2;
Result_56744 = 0;
goto LA1;
LA2: ;
Result_56744 = (*N_55809).Sons->Sup.len;
LA1: ;
return Result_56744;
}
static N_INLINE(TY55552*, Lastson_55813)(TY55552* N_55815) {
TY55552* Result_57857;
NI LOC1;
Result_57857 = 0;
LOC1 = Sonslen_55807(N_55815);
Result_57857 = (*N_55815).Sons->data[(NI32)(LOC1 - 1)];
return Result_57857;
}
N_NIMCALL(NU8, Handlerange_128275)(TY55552* F_128277, TY55552* A_128278, NU8 Min_128279, NU8 Max_128280) {
NU8 Result_128281;
NU8 K_128292;
TY55552* LOC4;
NIM_BOOL LOC8;
NIM_BOOL LOC12;
Result_128281 = 0;
if (!((*A_128278).Kind == (*F_128277).Kind)) goto LA2;
Result_128281 = ((NU8) 5);
goto LA1;
LA2: ;
K_128292 = 0;
LOC4 = 0;
LOC4 = Skiptypes_97087(A_128278, 1048576);
K_128292 = (*LOC4).Kind;
if (!(K_128292 == (*F_128277).Kind)) goto LA6;
Result_128281 = ((NU8) 3);
goto LA5;
LA6: ;
LOC8 = ((*F_128277).Kind == ((NU8) 31));
if (!(LOC8)) goto LA9;
LOC8 = (K_128292 >= ((NU8) 31) && K_128292 <= ((NU8) 34));
LA9: ;
if (!LOC8) goto LA10;
Result_128281 = ((NU8) 2);
goto LA5;
LA10: ;
LOC12 = (Min_128279 <= K_128292);
if (!(LOC12)) goto LA13;
LOC12 = (K_128292 <= Max_128280);
LA13: ;
if (!LOC12) goto LA14;
Result_128281 = ((NU8) 1);
goto LA5;
LA14: ;
Result_128281 = ((NU8) 0);
LA5: ;
LA1: ;
return Result_128281;
}
N_NIMCALL(NU8, Handlefloatrange_128341)(TY55552* F_128343, TY55552* A_128344) {
NU8 Result_128345;
NU8 K_128356;
TY55552* LOC4;
NIM_BOOL LOC8;
Result_128345 = 0;
if (!((*A_128344).Kind == (*F_128343).Kind)) goto LA2;
Result_128345 = ((NU8) 5);
goto LA1;
LA2: ;
K_128356 = 0;
LOC4 = 0;
LOC4 = Skiptypes_97087(A_128344, 1048576);
K_128356 = (*LOC4).Kind;
if (!(K_128356 == (*F_128343).Kind)) goto LA6;
Result_128345 = ((NU8) 3);
goto LA5;
LA6: ;
LOC8 = (((NU8) 36) <= K_128356);
if (!(LOC8)) goto LA9;
LOC8 = (K_128356 <= ((NU8) 39));
LA9: ;
if (!LOC8) goto LA10;
Result_128345 = ((NU8) 1);
goto LA5;
LA10: ;
Result_128345 = ((NU8) 0);
LA5: ;
LA1: ;
return Result_128345;
}
N_NIMCALL(NU8, Minrel_128414)(NU8 A_128416, NU8 B_128417) {
NU8 Result_128418;
Result_128418 = 0;
if (!(A_128416 <= B_128417)) goto LA2;
Result_128418 = A_128416;
goto LA1;
LA2: ;
Result_128418 = B_128417;
LA1: ;
return Result_128418;
}
N_NIMCALL(NU8, Tuplerel_128428)(TY55564* Mapping_128431, TY55552* F_128432, TY55552* A_128433) {
NU8 Result_128434;
NI LOC2;
NI LOC3;
NI I_128445;
NI HEX3Atmp_130799;
NI LOC6;
NI Res_130801;
NU8 M_128446;
NIM_BOOL LOC12;
NI I_128488;
NI HEX3Atmp_130802;
NI LOC16;
NI Res_130804;
TY55548* X_128555;
TY55548* Y_128580;
Result_128434 = 0;
Result_128434 = ((NU8) 0);
LOC2 = Sonslen_55807(A_128433);
LOC3 = Sonslen_55807(F_128432);
if (!(LOC2 == LOC3)) goto LA4;
Result_128434 = ((NU8) 5);
I_128445 = 0;
HEX3Atmp_130799 = 0;
LOC6 = Sonslen_55807(F_128432);
HEX3Atmp_130799 = (NI32)(LOC6 - 1);
Res_130801 = 0;
Res_130801 = 0;
while (1) {
if (!(Res_130801 <= HEX3Atmp_130799)) goto LA7;
I_128445 = Res_130801;
M_128446 = 0;
M_128446 = Typerel_128244(Mapping_128431, (*F_128432).Sons->data[I_128445], (*A_128433).Sons->data[I_128445]);
if (!(M_128446 < ((NU8) 3))) goto LA9;
Result_128434 = ((NU8) 0);
goto BeforeRet;
LA9: ;
Result_128434 = Minrel_128414(Result_128434, M_128446);
Res_130801 += 1;
} LA7: ;
LOC12 = !(((*F_128432).N == NIM_NIL));
if (!(LOC12)) goto LA13;
LOC12 = !(((*A_128433).N == NIM_NIL));
LA13: ;
if (!LOC12) goto LA14;
I_128488 = 0;
HEX3Atmp_130802 = 0;
LOC16 = Sonslen_55804((*F_128432).N);
HEX3Atmp_130802 = (NI32)(LOC16 - 1);
Res_130804 = 0;
Res_130804 = 0;
while (1) {
if (!(Res_130804 <= HEX3Atmp_130802)) goto LA17;
I_128488 = Res_130804;
if (!!(((*(*(*F_128432).N).KindU.S6.Sons->data[I_128488]).Kind == ((NU8) 3)))) goto LA19;
Internalerror_48159((*(*F_128432).N).Info, ((NimStringDesc*) &TMP196067));
LA19: ;
if (!!(((*(*(*A_128433).N).KindU.S6.Sons->data[I_128488]).Kind == ((NU8) 3)))) goto LA22;
Internalerror_48159((*(*A_128433).N).Info, ((NimStringDesc*) &TMP196067));
LA22: ;
X_128555 = 0;
X_128555 = (*(*(*F_128432).N).KindU.S6.Sons->data[I_128488]).KindU.S4.Sym;
Y_128580 = 0;
Y_128580 = (*(*(*A_128433).N).KindU.S6.Sons->data[I_128488]).KindU.S4.Sym;
if (!!(((*(*X_128555).Name).Sup.Id == (*(*Y_128580).Name).Sup.Id))) goto LA25;
Result_128434 = ((NU8) 0);
goto BeforeRet;
LA25: ;
Res_130804 += 1;
} LA17: ;
LA14: ;
LA4: ;
BeforeRet: ;
return Result_128434;
}
N_NIMCALL(NIM_BOOL, Isobjectsubtype_128384)(TY55552* A_128386, TY55552* F_128387) {
NIM_BOOL Result_128388;
TY55552* T_128389;
NIM_BOOL LOC2;
Result_128388 = 0;
T_128389 = 0;
T_128389 = A_128386;
while (1) {
LOC2 = !((T_128389 == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC2 = !(((*T_128389).Sup.Id == (*F_128387).Sup.Id));
LA3: ;
if (!LOC2) goto LA1;
T_128389 = Base_97021(T_128389);
} LA1: ;
Result_128388 = !((T_128389 == NIM_NIL));
return Result_128388;
}
N_NIMCALL(TY55552*, Concretetype_128250)(TY55564 Mapping_128252, TY55552* T_128253) {
TY55552* Result_128254;
TNimObject* LOC2;
Result_128254 = 0;
switch ((*T_128253).Kind) {
case ((NU8) 4):
Result_128254 = Newtype_55707(((NU8) 16), (*T_128253).Owner);
Addson_55828(Result_128254, (*T_128253).Sons->data[0]);
Addson_55828(Result_128254, (*T_128253).Sons->data[1]);
break;
case ((NU8) 5):
Result_128254 = NIM_NIL;
break;
case ((NU8) 12):
Result_128254 = T_128253;
while (1) {
LOC2 = 0;
LOC2 = Idtableget_60158(Mapping_128252, &T_128253->Sup);
Result_128254 = ((TY55552*) (LOC2));
if (!(Result_128254 == NIM_NIL)) goto LA4;
Internalerror_48163(((NimStringDesc*) &TMP196070));
LA4: ;
if (!!(((*Result_128254).Kind == ((NU8) 12)))) goto LA7;
goto LA1;
LA7: ;
} LA1: ;
break;
default:
Result_128254 = T_128253;
break;
}
return Result_128254;
}
N_NIMCALL(NU8, Typerel_128244)(TY55564* Mapping_128247, TY55552* F_128248, TY55552* A_128249) {
NU8 Result_128589;
TY55552* X_128590;
TY55552* Concrete_128591;
NU8 M_128592;
NIM_BOOL LOC2;
TY55552* LOC4;
TY55552* LOC7;
NIM_BOOL LOC9;
NIM_BOOL LOC14;
TY55552* LOC18;
TY55552* LOC24;
TY55552* LOC30;
TY55552* LOC31;
TY55552* LOC35;
TY55552* LOC41;
TY55552* LOC42;
TY55552* LOC43;
NU8 LOC44;
NU8 LOC45;
NIM_BOOL LOC53;
NI64 LOC55;
NI64 LOC56;
NU8 LOC61;
TY55552* LOC62;
TY55552* LOC63;
NIM_BOOL LOC68;
TY55552* LOC72;
NU8 LOC73;
NIM_BOOL LOC77;
TY55552* LOC81;
NU8 LOC82;
NIM_BOOL LOC86;
TY55552* LOC90;
NU8 LOC91;
NIM_BOOL LOC95;
NIM_BOOL LOC103;
NIM_BOOL LOC124;
NIM_BOOL LOC128;
NIM_BOOL LOC136;
TY55552* LOC143;
TY55552* LOC144;
TY55552* LOC148;
TY55552* LOC149;
NIM_BOOL LOC154;
NI LOC155;
NI LOC156;
NI I_129025;
NI HEX3Atmp_130805;
NI LOC160;
NI Res_130807;
NIM_BOOL LOC163;
NU8 LOC165;
NIM_BOOL LOC184;
NIM_BOOL LOC192;
NIM_BOOL LOC193;
NI64 LOC194;
TY55552* LOC196;
TY55552* LOC203;
TY55552* LOC204;
NIM_BOOL LOC212;
NI LOC214;
NI LOC215;
NI I_129220;
NI HEX3Atmp_130808;
NI LOC218;
NI Res_130810;
NU8 LOC224;
NI I_129258;
NI HEX3Atmp_130811;
NI LOC230;
NI Res_130813;
TNimObject* LOC232;
NIM_BOOL LOC234;
TNimObject* LOC238;
NI LOC243;
NimStringDesc* LOC249;
NI I_129311;
NI HEX3Atmp_130814;
NI LOC250;
NI Res_130816;
NU8 LOC253;
NimStringDesc* LOC266;
Result_128589 = 0;
X_128590 = 0;
Concrete_128591 = 0;
M_128592 = 0;
Result_128589 = ((NU8) 0);
LOC2 = ((*A_128249).Kind == ((NU8) 11));
if (!(LOC2)) goto LA3;
LOC4 = 0;
LOC4 = Skiptypes_97087(F_128248, 8388608);
LOC2 = !(((*LOC4).Kind == ((NU8) 10) || (*LOC4).Kind == ((NU8) 9)));
LA3: ;
if (!LOC2) goto LA5;
LOC7 = 0;
LOC7 = Lastson_55813(A_128249);
Result_128589 = Typerel_128244(Mapping_128247, F_128248, LOC7);
goto BeforeRet;
LA5: ;
LOC9 = ((*A_128249).Kind == ((NU8) 23));
if (!(LOC9)) goto LA10;
LOC9 = !(((*F_128248).Kind == ((NU8) 23)));
LA10: ;
if (!LOC9) goto LA11;
Result_128589 = Typerel_128244(Mapping_128247, F_128248, (*A_128249).Sons->data[0]);
goto BeforeRet;
LA11: ;
switch ((*F_128248).Kind) {
case ((NU8) 14):
LOC14 = ((*A_128249).Kind == (*F_128248).Kind);
if (!(LOC14)) goto LA15;
LOC14 = ((*A_128249).Sup.Id == (*F_128248).Sup.Id);
LA15: ;
if (!LOC14) goto LA16;
Result_128589 = ((NU8) 5);
goto LA13;
LA16: ;
LOC18 = 0;
LOC18 = Skiptypes_97087(A_128249, 1048576);
if (!((*LOC18).Sup.Id == (*F_128248).Sup.Id)) goto LA19;
Result_128589 = ((NU8) 3);
goto LA13;
LA19: ;
LA13: ;
break;
case ((NU8) 1):
case ((NU8) 2):
if (!((*A_128249).Kind == (*F_128248).Kind)) goto LA22;
Result_128589 = ((NU8) 5);
goto LA21;
LA22: ;
LOC24 = 0;
LOC24 = Skiptypes_97087(A_128249, 1048576);
if (!((*LOC24).Kind == (*F_128248).Kind)) goto LA25;
Result_128589 = ((NU8) 3);
goto LA21;
LA25: ;
LA21: ;
break;
case ((NU8) 20):
if (!((*A_128249).Kind == (*F_128248).Kind)) goto LA28;
LOC30 = 0;
LOC30 = Base_97021(A_128249);
LOC31 = 0;
LOC31 = Base_97021(F_128248);
Result_128589 = Typerel_128244(Mapping_128247, LOC30, LOC31);
if (!(Result_128589 < ((NU8) 4))) goto LA33;
Result_128589 = ((NU8) 0);
LA33: ;
goto LA27;
LA28: ;
LOC35 = 0;
LOC35 = Skiptypes_97087(F_128248, 1048576);
if (!((*LOC35).Kind == (*A_128249).Kind)) goto LA36;
Result_128589 = ((NU8) 1);
goto LA27;
LA36: ;
LA27: ;
break;
case ((NU8) 31):
Result_128589 = Handlerange_128275(F_128248, A_128249, ((NU8) 32), ((NU8) 34));
break;
case ((NU8) 32):
Result_128589 = Handlerange_128275(F_128248, A_128249, ((NU8) 32), ((NU8) 32));
break;
case ((NU8) 33):
Result_128589 = Handlerange_128275(F_128248, A_128249, ((NU8) 32), ((NU8) 33));
break;
case ((NU8) 34):
Result_128589 = Handlerange_128275(F_128248, A_128249, ((NU8) 31), ((NU8) 34));
break;
case ((NU8) 35):
Result_128589 = Handlerange_128275(F_128248, A_128249, ((NU8) 31), ((NU8) 35));
break;
case ((NU8) 36):
Result_128589 = Handlefloatrange_128341(F_128248, A_128249);
break;
case ((NU8) 37):
Result_128589 = Handlefloatrange_128341(F_128248, A_128249);
break;
case ((NU8) 38):
Result_128589 = Handlefloatrange_128341(F_128248, A_128249);
break;
case ((NU8) 39):
Result_128589 = Handlefloatrange_128341(F_128248, A_128249);
break;
case ((NU8) 23):
if (!((*A_128249).Kind == (*F_128248).Kind)) goto LA39;
LOC41 = 0;
LOC41 = Base_97021(F_128248);
LOC42 = 0;
LOC42 = Base_97021(A_128249);
Result_128589 = Typerel_128244(Mapping_128247, LOC41, LOC42);
goto LA38;
LA39: ;
LOC43 = 0;
LOC43 = Base_97021(F_128248);
Result_128589 = Typerel_128244(Mapping_128247, LOC43, A_128249);
LA38: ;
break;
case ((NU8) 16):
case ((NU8) 4):
switch ((*A_128249).Kind) {
case ((NU8) 16):
LOC44 = Typerel_128244(Mapping_128247, (*F_128248).Sons->data[0], (*A_128249).Sons->data[0]);
LOC45 = Typerel_128244(Mapping_128247, (*F_128248).Sons->data[1], (*A_128249).Sons->data[1]);
Result_128589 = Minrel_128414(LOC44, LOC45);
if (!(Result_128589 < ((NU8) 4))) goto LA47;
Result_128589 = ((NU8) 0);
LA47: ;
break;
case ((NU8) 4):
Result_128589 = Typerel_128244(Mapping_128247, (*F_128248).Sons->data[1], (*A_128249).Sons->data[1]);
if (!(Result_128589 < ((NU8) 4))) goto LA50;
Result_128589 = ((NU8) 0);
goto LA49;
LA50: ;
LOC53 = !((Result_128589 == ((NU8) 4)));
if (!(LOC53)) goto LA54;
LOC55 = Lengthord_97007(F_128248);
LOC56 = Lengthord_97007(A_128249);
LOC53 = !((LOC55 == LOC56));
LA54: ;
if (!LOC53) goto LA57;
Result_128589 = ((NU8) 0);
goto LA52;
LA57: ;
if (!((*(*F_128248).Sons->data[0]).Kind == ((NU8) 9) || (*(*F_128248).Sons->data[0]).Kind == ((NU8) 10) || (*(*F_128248).Sons->data[0]).Kind == ((NU8) 12))) goto LA59;
LOC61 = Typerel_128244(Mapping_128247, (*F_128248).Sons->data[0], (*A_128249).Sons->data[0]);
Result_128589 = Minrel_128414(Result_128589, LOC61);
goto LA52;
LA59: ;
LA52: ;
LA49: ;
break;
default:
break;
}
break;
case ((NU8) 27):
switch ((*A_128249).Kind) {
case ((NU8) 27):
LOC62 = 0;
LOC62 = Base_97021(F_128248);
LOC63 = 0;
LOC63 = Base_97021(A_128249);
Result_128589 = Typerel_128244(Mapping_128247, LOC62, LOC63);
if (!(Result_128589 < ((NU8) 4))) goto LA65;
Result_128589 = ((NU8) 0);
LA65: ;
break;
case ((NU8) 4):
LOC68 = !(((*(*F_128248).Sons->data[0]).Kind == ((NU8) 12)));
if (!(LOC68)) goto LA69;
LOC68 = ((*(*A_128249).Sons->data[1]).Kind == ((NU8) 3));
LA69: ;
if (!LOC68) goto LA70;
Result_128589 = ((NU8) 3);
goto LA67;
LA70: ;
LOC72 = 0;
LOC72 = Base_97021(F_128248);
LOC73 = Typerel_128244(Mapping_128247, LOC72, (*A_128249).Sons->data[1]);
if (!(((NU8) 4) <= LOC73)) goto LA74;
Result_128589 = ((NU8) 3);
goto LA67;
LA74: ;
LA67: ;
break;
case ((NU8) 16):
LOC77 = !(((*(*F_128248).Sons->data[0]).Kind == ((NU8) 12)));
if (!(LOC77)) goto LA78;
LOC77 = ((*(*A_128249).Sons->data[1]).Kind == ((NU8) 3));
LA78: ;
if (!LOC77) goto LA79;
Result_128589 = ((NU8) 3);
goto LA76;
LA79: ;
LOC81 = 0;
LOC81 = Base_97021(F_128248);
LOC82 = Typerel_128244(Mapping_128247, LOC81, (*A_128249).Sons->data[1]);
if (!(((NU8) 4) <= LOC82)) goto LA83;
Result_128589 = ((NU8) 1);
goto LA76;
LA83: ;
LA76: ;
break;
case ((NU8) 24):
LOC86 = !(((*(*F_128248).Sons->data[0]).Kind == ((NU8) 12)));
if (!(LOC86)) goto LA87;
LOC86 = ((*(*A_128249).Sons->data[0]).Kind == ((NU8) 3));
LA87: ;
if (!LOC86) goto LA88;
Result_128589 = ((NU8) 1);
goto LA85;
LA88: ;
LOC90 = 0;
LOC90 = Base_97021(F_128248);
LOC91 = Typerel_128244(Mapping_128247, LOC90, (*A_128249).Sons->data[0]);
if (!(((NU8) 4) <= LOC91)) goto LA92;
Result_128589 = ((NU8) 1);
goto LA85;
LA92: ;
LA85: ;
break;
default:
break;
}
break;
case ((NU8) 24):
switch ((*A_128249).Kind) {
case ((NU8) 5):
Result_128589 = ((NU8) 3);
break;
case ((NU8) 24):
LOC95 = !(((*(*F_128248).Sons->data[0]).Kind == ((NU8) 12)));
if (!(LOC95)) goto LA96;
LOC95 = ((*(*A_128249).Sons->data[0]).Kind == ((NU8) 3));
LA96: ;
if (!LOC95) goto LA97;
Result_128589 = ((NU8) 3);
goto LA94;
LA97: ;
Result_128589 = Typerel_128244(Mapping_128247, (*F_128248).Sons->data[0], (*A_128249).Sons->data[0]);
if (!(Result_128589 < ((NU8) 4))) goto LA100;
Result_128589 = ((NU8) 0);
LA100: ;
LA94: ;
break;
default:
break;
}
break;
case ((NU8) 15):
LOC103 = Isordinaltype_97069(A_128249);
if (!LOC103) goto LA104;
if (!((*A_128249).Kind == ((NU8) 15))) goto LA107;
X_128590 = (*A_128249).Sons->data[0];
goto LA106;
LA107: ;
X_128590 = A_128249;
LA106: ;
Result_128589 = Typerel_128244(Mapping_128247, (*F_128248).Sons->data[0], X_128590);
if (!(Result_128589 < ((NU8) 4))) goto LA110;
Result_128589 = ((NU8) 0);
LA110: ;
LA104: ;
break;
case ((NU8) 30):
Internalerror_48163(((NimStringDesc*) &TMP196066));
break;
case ((NU8) 5):
if (!((*A_128249).Kind == (*F_128248).Kind)) goto LA113;
Result_128589 = ((NU8) 5);
LA113: ;
break;
case ((NU8) 18):
if (!((*A_128249).Kind == ((NU8) 18))) goto LA116;
Result_128589 = Tuplerel_128428(Mapping_128247, F_128248, A_128249);
LA116: ;
break;
case ((NU8) 17):
if (!((*A_128249).Kind == ((NU8) 17))) goto LA119;
if (!((*A_128249).Sup.Id == (*F_128248).Sup.Id)) goto LA122;
Result_128589 = ((NU8) 5);
goto LA121;
LA122: ;
LOC124 = Isobjectsubtype_128384(A_128249, F_128248);
if (!LOC124) goto LA125;
Result_128589 = ((NU8) 3);
goto LA121;
LA125: ;
LA121: ;
LA119: ;
break;
case ((NU8) 13):
LOC128 = ((*A_128249).Kind == ((NU8) 13));
if (!(LOC128)) goto LA129;
LOC128 = ((*A_128249).Sup.Id == (*F_128248).Sup.Id);
LA129: ;
if (!LOC128) goto LA130;
Result_128589 = ((NU8) 5);
LA130: ;
break;
case ((NU8) 19):
if (!((*A_128249).Kind == ((NU8) 19))) goto LA133;
LOC136 = !(((*(*F_128248).Sons->data[0]).Kind == ((NU8) 12)));
if (!(LOC136)) goto LA137;
LOC136 = ((*(*A_128249).Sons->data[0]).Kind == ((NU8) 3));
LA137: ;
if (!LOC136) goto LA138;
Result_128589 = ((NU8) 3);
goto LA135;
LA138: ;
Result_128589 = Typerel_128244(Mapping_128247, (*F_128248).Sons->data[0], (*A_128249).Sons->data[0]);
if (!(Result_128589 <= ((NU8) 1))) goto LA141;
Result_128589 = ((NU8) 0);
LA141: ;
LA135: ;
LA133: ;
break;
case ((NU8) 21):
switch ((*A_128249).Kind) {
case ((NU8) 21):
LOC143 = 0;
LOC143 = Base_97021(F_128248);
LOC144 = 0;
LOC144 = Base_97021(A_128249);
Result_128589 = Typerel_128244(Mapping_128247, LOC143, LOC144);
if (!(Result_128589 <= ((NU8) 1))) goto LA146;
Result_128589 = ((NU8) 0);
LA146: ;
break;
case ((NU8) 5):
Result_128589 = ((NU8) 3);
break;
default:
break;
}
break;
case ((NU8) 22):
switch ((*A_128249).Kind) {
case ((NU8) 22):
LOC148 = 0;
LOC148 = Base_97021(F_128248);
LOC149 = 0;
LOC149 = Base_97021(A_128249);
Result_128589 = Typerel_128244(Mapping_128247, LOC148, LOC149);
if (!(Result_128589 <= ((NU8) 1))) goto LA151;
Result_128589 = ((NU8) 0);
LA151: ;
break;
case ((NU8) 5):
Result_128589 = ((NU8) 3);
break;
default:
break;
}
break;
case ((NU8) 25):
switch ((*A_128249).Kind) {
case ((NU8) 5):
Result_128589 = ((NU8) 3);
break;
case ((NU8) 25):
LOC155 = Sonslen_55807(F_128248);
LOC156 = Sonslen_55807(A_128249);
LOC154 = (LOC155 == LOC156);
if (!(LOC154)) goto LA157;
LOC154 = ((*F_128248).Callconv == (*A_128249).Callconv);
LA157: ;
if (!LOC154) goto LA158;
Result_128589 = ((NU8) 5);
I_129025 = 0;
HEX3Atmp_130805 = 0;
LOC160 = Sonslen_55807(F_128248);
HEX3Atmp_130805 = (NI32)(LOC160 - 1);
Res_130807 = 0;
Res_130807 = 1;
while (1) {
if (!(Res_130807 <= HEX3Atmp_130805)) goto LA161;
I_129025 = Res_130807;
M_128592 = Typerel_128244(Mapping_128247, (*F_128248).Sons->data[I_129025], (*A_128249).Sons->data[I_129025]);
LOC163 = (M_128592 == ((NU8) 0));
if (!(LOC163)) goto LA164;
LOC165 = Typerel_128244(Mapping_128247, (*A_128249).Sons->data[I_129025], (*F_128248).Sons->data[I_129025]);
LOC163 = (LOC165 == ((NU8) 3));
LA164: ;
if (!LOC163) goto LA166;
Result_128589 = ((NU8) 1);
goto LA162;
LA166: ;
if (!(M_128592 < ((NU8) 3))) goto LA168;
Result_128589 = ((NU8) 0);
goto BeforeRet;
goto LA162;
LA168: ;
Result_128589 = Minrel_128414(M_128592, Result_128589);
LA162: ;
Res_130807 += 1;
} LA161: ;
if (!!(((*F_128248).Sons->data[0] == NIM_NIL))) goto LA171;
if (!!(((*A_128249).Sons->data[0] == NIM_NIL))) goto LA174;
M_128592 = Typerel_128244(Mapping_128247, (*F_128248).Sons->data[0], (*A_128249).Sons->data[0]);
if (!(M_128592 < ((NU8) 3))) goto LA177;
Result_128589 = ((NU8) 0);
goto LA176;
LA177: ;
if (!(M_128592 == ((NU8) 3))) goto LA179;
Result_128589 = ((NU8) 1);
goto LA176;
LA179: ;
Result_128589 = Minrel_128414(M_128592, Result_128589);
LA176: ;
goto LA173;
LA174: ;
Result_128589 = ((NU8) 0);
LA173: ;
goto LA170;
LA171: ;
if (!!(((*A_128249).Sons->data[0] == NIM_NIL))) goto LA181;
Result_128589 = ((NU8) 0);
goto LA170;
LA181: ;
LA170: ;
LOC184 = (((*F_128248).Flags &(1<<((((NU8) 1))&7)))!=0);
if (!(LOC184)) goto LA185;
LOC184 = !((((*A_128249).Flags &(1<<((((NU8) 1))&7)))!=0));
LA185: ;
if (!LOC184) goto LA186;
Result_128589 = ((NU8) 0);
LA186: ;
LA158: ;
break;
default:
break;
}
break;
case ((NU8) 26):
switch ((*A_128249).Kind) {
case ((NU8) 26):
Result_128589 = ((NU8) 5);
break;
case ((NU8) 5):
Result_128589 = ((NU8) 3);
break;
case ((NU8) 21):
case ((NU8) 25):
case ((NU8) 29):
Result_128589 = ((NU8) 1);
break;
default:
break;
}
break;
case ((NU8) 28):
switch ((*A_128249).Kind) {
case ((NU8) 28):
Result_128589 = ((NU8) 5);
break;
case ((NU8) 5):
Result_128589 = ((NU8) 3);
break;
default:
break;
}
break;
case ((NU8) 29):
switch ((*A_128249).Kind) {
case ((NU8) 29):
Result_128589 = ((NU8) 5);
break;
case ((NU8) 5):
Result_128589 = ((NU8) 3);
break;
case ((NU8) 28):
Result_128589 = ((NU8) 1);
break;
case ((NU8) 21):
if (!((*(*A_128249).Sons->data[0]).Kind == ((NU8) 2))) goto LA189;
Result_128589 = ((NU8) 1);
LA189: ;
break;
case ((NU8) 16):
LOC194 = Firstord_97001((*A_128249).Sons->data[0]);
LOC193 = (LOC194 == 0);
if (!(LOC193)) goto LA195;
LOC196 = 0;
LOC196 = Skiptypes_97087((*A_128249).Sons->data[0], 1048576);
LOC193 = ((*LOC196).Kind >= ((NU8) 31) && (*LOC196).Kind <= ((NU8) 35));
LA195: ;
LOC192 = LOC193;
if (!(LOC192)) goto LA197;
LOC192 = ((*(*A_128249).Sons->data[1]).Kind == ((NU8) 2));
LA197: ;
if (!LOC192) goto LA198;
Result_128589 = ((NU8) 1);
LA198: ;
break;
default:
break;
}
break;
case ((NU8) 3):
if (!((*A_128249).Kind == ((NU8) 3))) goto LA201;
Result_128589 = ((NU8) 5);
LA201: ;
break;
case ((NU8) 11):
LOC203 = 0;
LOC203 = Lastson_55813(F_128248);
Result_128589 = Typerel_128244(Mapping_128247, LOC203, A_128249);
break;
case ((NU8) 10):
LOC204 = 0;
LOC204 = Lastson_55813(F_128248);
Result_128589 = Typerel_128244(Mapping_128247, LOC204, A_128249);
break;
case ((NU8) 9):
if (!((*A_128249).Kind == ((NU8) 9))) goto LA206;
Internalerror_48163(((NimStringDesc*) &TMP196068));
LA206: ;
if (!((*A_128249).Kind == ((NU8) 11))) goto LA209;
LOC212 = ((*(*F_128248).Sons->data[0]).Containerid == (*(*A_128249).Sons->data[0]).Containerid);
if (!(LOC212)) goto LA213;
LOC214 = Sonslen_55807(A_128249);
LOC215 = Sonslen_55807(F_128248);
LOC212 = ((NI32)(LOC214 - 1) == LOC215);
LA213: ;
if (!LOC212) goto LA216;
I_129220 = 0;
HEX3Atmp_130808 = 0;
LOC218 = Sonslen_55807(F_128248);
HEX3Atmp_130808 = (NI32)(LOC218 - 1);
Res_130810 = 0;
Res_130810 = 1;
while (1) {
if (!(Res_130810 <= HEX3Atmp_130808)) goto LA219;
I_129220 = Res_130810;
if (!((*(*A_128249).Sons->data[I_129220]).Kind == ((NU8) 12))) goto LA221;
Internalerror_48163(((NimStringDesc*) &TMP196069));
LA221: ;
LOC224 = Typerel_128244(Mapping_128247, (*F_128248).Sons->data[I_129220], (*A_128249).Sons->data[I_129220]);
if (!(LOC224 < ((NU8) 4))) goto LA225;
goto BeforeRet;
LA225: ;
Res_130810 += 1;
} LA219: ;
Result_128589 = ((NU8) 4);
LA216: ;
goto LA208;
LA209: ;
Result_128589 = Typerel_128244(Mapping_128247, (*F_128248).Sons->data[0], A_128249);
if (!!((Result_128589 == ((NU8) 0)))) goto LA228;
I_129258 = 0;
HEX3Atmp_130811 = 0;
LOC230 = Sonslen_55807(F_128248);
HEX3Atmp_130811 = (NI32)(LOC230 - 1);
Res_130813 = 0;
Res_130813 = 1;
while (1) {
if (!(Res_130813 <= HEX3Atmp_130811)) goto LA231;
I_129258 = Res_130813;
LOC232 = 0;
LOC232 = Idtableget_60158((*Mapping_128247), &(*(*F_128248).Sons->data[0]).Sons->data[(NI32)(I_129258 - 1)]->Sup);
X_128590 = ((TY55552*) (LOC232));
LOC234 = (X_128590 == NIM_NIL);
if (LOC234) goto LA235;
LOC234 = ((*X_128590).Kind == ((NU8) 12));
LA235: ;
if (!LOC234) goto LA236;
Internalerror_48163(((NimStringDesc*) &TMP196069));
LA236: ;
Idtableput_60166(Mapping_128247, &(*F_128248).Sons->data[I_129258]->Sup, &X_128590->Sup.Sup);
Res_130813 += 1;
} LA231: ;
LA228: ;
LA208: ;
break;
case ((NU8) 12):
LOC238 = 0;
LOC238 = Idtableget_60158((*Mapping_128247), &F_128248->Sup);
X_128590 = ((TY55552*) (LOC238));
if (!(X_128590 == NIM_NIL)) goto LA240;
LOC243 = Sonslen_55807(F_128248);
if (!(LOC243 == 0)) goto LA244;
Concrete_128591 = Concretetype_128250((*Mapping_128247), A_128249);
if (!!((Concrete_128591 == NIM_NIL))) goto LA247;
Idtableput_60166(Mapping_128247, &F_128248->Sup, &Concrete_128591->Sup.Sup);
Result_128589 = ((NU8) 4);
LA247: ;
goto LA242;
LA244: ;
LOC249 = 0;
LOC249 = rawNewString((*(*(*F_128248).Sym).Name).S->Sup.len + 17);
appendString(LOC249, ((NimStringDesc*) &TMP196071));
appendString(LOC249, (*(*(*F_128248).Sym).Name).S);
Internalerror_48159((*(*F_128248).Sym).Info, LOC249);
I_129311 = 0;
HEX3Atmp_130814 = 0;
LOC250 = Sonslen_55807(F_128248);
HEX3Atmp_130814 = (NI32)(LOC250 - 1);
Res_130816 = 0;
Res_130816 = 0;
while (1) {
if (!(Res_130816 <= HEX3Atmp_130814)) goto LA251;
I_129311 = Res_130816;
LOC253 = Typerel_128244(Mapping_128247, (*F_128248).Sons->data[I_129311], A_128249);
if (!(((NU8) 3) <= LOC253)) goto LA254;
Concrete_128591 = Concretetype_128250((*Mapping_128247), A_128249);
if (!!((Concrete_128591 == NIM_NIL))) goto LA257;
Idtableput_60166(Mapping_128247, &F_128248->Sup, &Concrete_128591->Sup.Sup);
Result_128589 = ((NU8) 4);
LA257: ;
goto LA251;
LA254: ;
Res_130816 += 1;
} LA251: ;
LA242: ;
goto LA239;
LA240: ;
if (!((*A_128249).Kind == ((NU8) 3))) goto LA259;
Result_128589 = ((NU8) 4);
goto LA239;
LA259: ;
if (!((*X_128590).Kind == ((NU8) 12))) goto LA261;
Result_128589 = ((NU8) 4);
goto LA239;
LA261: ;
Result_128589 = Typerel_128244(Mapping_128247, X_128590, A_128249);
LA239: ;
break;
case ((NU8) 6):
case ((NU8) 7):
case ((NU8) 8):
if (!((*A_128249).Kind == (*F_128248).Kind)) goto LA264;
Result_128589 = ((NU8) 5);
goto LA263;
LA264: ;
switch ((*A_128249).Kind) {
case ((NU8) 6):
case ((NU8) 7):
case ((NU8) 8):
Result_128589 = ((NU8) 4);
break;
case ((NU8) 5):
Result_128589 = ((NU8) 3);
break;
default:
break;
}
LA263: ;
break;
default:
LOC266 = 0;
LOC266 = rawNewString(reprEnum((*F_128248).Kind, NTI55162)->Sup.len + 9);
appendString(LOC266, ((NimStringDesc*) &TMP196072));
appendString(LOC266, reprEnum((*F_128248).Kind, NTI55162));
appendChar(LOC266, 41);
Internalerror_48163(LOC266);
break;
}
BeforeRet: ;
return Result_128589;
}
N_NIMCALL(NIM_BOOL, Containsgenerictypeiter_127158)(TY55552* T_127160, TNimObject* Closure_127161) {
NIM_BOOL Result_127162;
Result_127162 = 0;
Result_127162 = ((*T_127160).Kind == ((NU8) 9) || (*T_127160).Kind == ((NU8) 10) || (*T_127160).Kind == ((NU8) 12));
return Result_127162;
}
N_NIMCALL(NIM_BOOL, Containsgenerictype_127174)(TY55552* T_127176) {
NIM_BOOL Result_127177;
Result_127177 = 0;
Result_127177 = Iterovertype_97038(T_127176, Containsgenerictypeiter_127158, NIM_NIL);
return Result_127177;
}
N_NIMCALL(TY55552*, Lookuptypevar_127808)(TY127655* Cl_127810, TY55552* T_127811) {
TY55552* Result_127812;
TNimObject* LOC1;
NimStringDesc* LOC5;
Result_127812 = 0;
LOC1 = 0;
LOC1 = Idtableget_60158((*Cl_127810).Typemap, &T_127811->Sup);
Result_127812 = ((TY55552*) (LOC1));
if (!(Result_127812 == NIM_NIL)) goto LA3;
LOC5 = 0;
LOC5 = Typetostring_97014(T_127811, ((NU8) 0));
Globalerror_48139((*(*T_127811).Sym).Info, ((NU8) 121), LOC5);
goto LA2;
LA3: ;
if (!((*Result_127812).Kind == ((NU8) 12))) goto LA6;
Internalerror_48159((*Cl_127810).Info, ((NimStringDesc*) &TMP196073));
goto LA2;
LA6: ;
LA2: ;
return Result_127812;
}
N_NIMCALL(TY55552*, Searchinsttypes_127105)(TY55564 Tab_127107, TY55552* Key_127108) {
TY55552* Result_127109;
TNimObject* LOC1;
NIM_BOOL LOC3;
NI H_127133;
NI HEX3Atmp_130771;
NI Res_130773;
TY55552* T_127134;
NIM_BOOL Match_127148;
NI J_127157;
NI HEX3Atmp_130768;
NI LOC14;
NI Res_130770;
NIM_BOOL LOC17;
Result_127109 = 0;
LOC1 = 0;
LOC1 = Idtableget_60158(Tab_127107, &Key_127108->Sup);
Result_127109 = ((TY55552*) (LOC1));
LOC3 = (Result_127109 == NIM_NIL);
if (!(LOC3)) goto LA4;
LOC3 = (0 < Tab_127107.Counter);
LA4: ;
if (!LOC3) goto LA5;
H_127133 = 0;
HEX3Atmp_130771 = 0;
HEX3Atmp_130771 = (Tab_127107.Data->Sup.len-1);
Res_130773 = 0;
Res_130773 = 0;
while (1) {
if (!(Res_130773 <= HEX3Atmp_130771)) goto LA7;
H_127133 = Res_130773;
T_127134 = 0;
T_127134 = ((TY55552*) (Tab_127107.Data->data[H_127133].Key));
if (!!((T_127134 == NIM_NIL))) goto LA9;
if (!((*Key_127108).Containerid == (*T_127134).Containerid)) goto LA12;
Match_127148 = 0;
Match_127148 = NIM_TRUE;
J_127157 = 0;
HEX3Atmp_130768 = 0;
LOC14 = Sonslen_55807(T_127134);
HEX3Atmp_130768 = (NI32)(LOC14 - 1);
Res_130770 = 0;
Res_130770 = 0;
while (1) {
if (!(Res_130770 <= HEX3Atmp_130768)) goto LA15;
J_127157 = Res_130770;
LOC17 = Sametype_97048((*T_127134).Sons->data[J_127157], (*Key_127108).Sons->data[J_127157]);
if (!!(LOC17)) goto LA18;
Match_127148 = NIM_FALSE;
goto LA15;
LA18: ;
Res_130770 += 1;
} LA15: ;
if (!Match_127148) goto LA21;
Result_127109 = ((TY55552*) (Tab_127107.Data->data[H_127133].Val));
goto BeforeRet;
LA21: ;
LA12: ;
LA9: ;
Res_130773 += 1;
} LA7: ;
LA5: ;
BeforeRet: ;
return Result_127109;
}
N_NIMCALL(TY55548*, Replacetypevarss_127665)(TY127655* Cl_127668, TY55548* S_127669) {
TY55548* Result_127772;
TNimObject* LOC4;
Result_127772 = 0;
if (!(S_127669 == NIM_NIL)) goto LA2;
Result_127772 = NIM_NIL;
goto BeforeRet;
LA2: ;
LOC4 = 0;
LOC4 = Idtableget_60158((*Cl_127668).Symmap, &S_127669->Sup);
Result_127772 = ((TY55548*) (LOC4));
if (!(Result_127772 == NIM_NIL)) goto LA6;
Result_127772 = Copysym_55776(S_127669, NIM_FALSE);
(*Result_127772).Flags |=(1<<((NI32)(((NU8) 4))%(sizeof(NI32)*8)));
Idtableput_60166(&(*Cl_127668).Symmap, &S_127669->Sup, &Result_127772->Sup.Sup);
asgnRef((void**) &(*Result_127772).Typ, Replacetypevarst_127660(Cl_127668, (*S_127669).Typ));
asgnRef((void**) &(*Result_127772).Owner, (*S_127669).Owner);
asgnRefNoCycle((void**) &(*Result_127772).Ast, Replacetypevarsn_127670(Cl_127668, (*S_127669).Ast));
LA6: ;
BeforeRet: ;
return Result_127772;
}
N_NIMCALL(TY55526*, Replacetypevarsn_127670)(TY127655* Cl_127673, TY55526* N_127674) {
TY55526* Result_127675;
NI Length_127729;
NI I_127742;
NI HEX3Atmp_130781;
NI Res_130783;
Result_127675 = 0;
if (!!((N_127674 == NIM_NIL))) goto LA2;
Result_127675 = Copynode_55849(N_127674);
asgnRef((void**) &(*Result_127675).Typ, Replacetypevarst_127660(Cl_127673, (*N_127674).Typ));
switch ((*N_127674).Kind) {
case ((NU8) 0) ... ((NU8) 2):
case ((NU8) 4) ... ((NU8) 18):
break;
case ((NU8) 3):
asgnRef((void**) &(*Result_127675).KindU.S4.Sym, Replacetypevarss_127665(Cl_127673, (*N_127674).KindU.S4.Sym));
break;
default:
Length_127729 = 0;
Length_127729 = Sonslen_55804(N_127674);
if (!(0 < Length_127729)) goto LA5;
Newsons_55816(Result_127675, Length_127729);
I_127742 = 0;
HEX3Atmp_130781 = 0;
HEX3Atmp_130781 = (NI32)(Length_127729 - 1);
Res_130783 = 0;
Res_130783 = 0;
while (1) {
if (!(Res_130783 <= HEX3Atmp_130781)) goto LA7;
I_127742 = Res_130783;
asgnRefNoCycle((void**) &(*Result_127675).KindU.S6.Sons->data[I_127742], Replacetypevarsn_127670(Cl_127673, (*N_127674).KindU.S6.Sons->data[I_127742]));
Res_130783 += 1;
} LA7: ;
LA5: ;
break;
}
LA2: ;
return Result_127675;
}
N_NIMCALL(void, Checkconstructedtype_127608)(TY47538 Info_127610, TY55552* T_127611) {
NIM_BOOL LOC2;
TY55552* LOC4;
NI64 LOC7;
NimStringDesc* LOC10;
NIM_BOOL LOC11;
LOC2 = (((*T_127611).Flags &(1<<((((NU8) 3))&7)))!=0);
if (!(LOC2)) goto LA3;
LOC4 = 0;
LOC4 = Skiptypes_97087(T_127611, 43008);
LOC2 = !(((*LOC4).Kind == ((NU8) 17)));
LA3: ;
if (!LOC2) goto LA5;
Localerror_48144(Info_127610, ((NU8) 158), ((NimStringDesc*) &TMP196076));
goto LA1;
LA5: ;
LOC7 = Computesize_97112(T_127611);
if (!(LOC7 < 0)) goto LA8;
LOC10 = 0;
LOC10 = Typetostring_97014(T_127611, ((NU8) 0));
Localerror_48144(Info_127610, ((NU8) 120), LOC10);
goto LA1;
LA8: ;
LOC11 = ((*T_127611).Kind == ((NU8) 23));
if (!(LOC11)) goto LA12;
LOC11 = ((*(*T_127611).Sons->data[0]).Kind == ((NU8) 23));
LA12: ;
if (!LOC11) goto LA13;
Localerror_48144(Info_127610, ((NU8) 191), ((NimStringDesc*) &TMP195991));
goto LA1;
LA13: ;
LA1: ;
}
N_NIMCALL(TY55552*, Replacetypevarst_127660)(TY127655* Cl_127663, TY55552* T_127664) {
TY55552* Result_127838;
TY55552* Body_127839;
TY55552* Newbody_127840;
TY55552* X_127841;
TY55552* Header_127842;
NI I_127871;
NI HEX3Atmp_130784;
NI LOC7;
NI Res_130786;
NI I_127923;
NI HEX3Atmp_130787;
NI LOC21;
NI Res_130789;
TY55552* LOC23;
TY55552* LOC24;
TY55552* LOC25;
NIM_BOOL LOC27;
NI I_127933;
NI HEX3Atmp_130790;
NI LOC30;
NI Res_130792;
NimStringDesc* LOC35;
Result_127838 = 0;
Body_127839 = 0;
Newbody_127840 = 0;
X_127841 = 0;
Header_127842 = 0;
Result_127838 = T_127664;
if (!(T_127664 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*T_127664).Kind) {
case ((NU8) 12):
Result_127838 = Lookuptypevar_127808(&(*Cl_127663), T_127664);
break;
case ((NU8) 9):
Body_127839 = (*T_127664).Sons->data[0];
if (!!(((*Body_127839).Kind == ((NU8) 10)))) goto LA5;
Internalerror_48159((*Cl_127663).Info, ((NimStringDesc*) &TMP196074));
LA5: ;
Header_127842 = NIM_NIL;
I_127871 = 0;
HEX3Atmp_130784 = 0;
LOC7 = Sonslen_55807(T_127664);
HEX3Atmp_130784 = (NI32)(LOC7 - 1);
Res_130786 = 0;
Res_130786 = 1;
while (1) {
if (!(Res_130786 <= HEX3Atmp_130784)) goto LA8;
I_127871 = Res_130786;
if (!((*(*T_127664).Sons->data[I_127871]).Kind == ((NU8) 12))) goto LA10;
X_127841 = Lookuptypevar_127808(&(*Cl_127663), (*T_127664).Sons->data[I_127871]);
if (!(Header_127842 == NIM_NIL)) goto LA13;
Header_127842 = Copytype_55771(T_127664, (*T_127664).Owner, NIM_FALSE);
LA13: ;
asgnRef((void**) &(*Header_127842).Sons->data[I_127871], X_127841);
goto LA9;
LA10: ;
X_127841 = (*T_127664).Sons->data[I_127871];
LA9: ;
Idtableput_60166(&(*Cl_127663).Typemap, &(*Body_127839).Sons->data[(NI32)(I_127871 - 1)]->Sup, &X_127841->Sup.Sup);
Res_130786 += 1;
} LA8: ;
if (!(Header_127842 == NIM_NIL)) goto LA16;
Header_127842 = T_127664;
LA16: ;
Result_127838 = Searchinsttypes_127105(Ginsttypes_107045, Header_127842);
if (!!((Result_127838 == NIM_NIL))) goto LA19;
goto BeforeRet;
LA19: ;
Result_127838 = Newtype_55707(((NU8) 11), (*(*T_127664).Sons->data[0]).Owner);
I_127923 = 0;
HEX3Atmp_130787 = 0;
LOC21 = Sonslen_55807(T_127664);
HEX3Atmp_130787 = (NI32)(LOC21 - 1);
Res_130789 = 0;
Res_130789 = 0;
while (1) {
if (!(Res_130789 <= HEX3Atmp_130787)) goto LA22;
I_127923 = Res_130789;
Addson_55828(Result_127838, (*Header_127842).Sons->data[I_127923]);
Res_130789 += 1;
} LA22: ;
Idtableput_60166(&Ginsttypes_107045, &Header_127842->Sup, &Result_127838->Sup.Sup);
LOC23 = 0;
LOC23 = Lastson_55813(Body_127839);
Newbody_127840 = Replacetypevarst_127660(Cl_127663, LOC23);
LOC24 = 0;
LOC24 = Lastson_55813(Body_127839);
asgnRefNoCycle((void**) &(*Newbody_127840).N, Replacetypevarsn_127670(Cl_127663, (*LOC24).N));
Addson_55828(Result_127838, Newbody_127840);
Checkconstructedtype_127608((*Cl_127663).Info, Newbody_127840);
break;
case ((NU8) 10):
Internalerror_48159((*Cl_127663).Info, ((NimStringDesc*) &TMP196077));
LOC25 = 0;
LOC25 = Lastson_55813(T_127664);
Result_127838 = Replacetypevarst_127660(Cl_127663, LOC25);
break;
default:
LOC27 = Containsgenerictype_127174(T_127664);
if (!LOC27) goto LA28;
Result_127838 = Copytype_55771(T_127664, (*T_127664).Owner, NIM_FALSE);
I_127933 = 0;
HEX3Atmp_130790 = 0;
LOC30 = Sonslen_55807(Result_127838);
HEX3Atmp_130790 = (NI32)(LOC30 - 1);
Res_130792 = 0;
Res_130792 = 0;
while (1) {
if (!(Res_130792 <= HEX3Atmp_130790)) goto LA31;
I_127933 = Res_130792;
asgnRef((void**) &(*Result_127838).Sons->data[I_127933], Replacetypevarst_127660(Cl_127663, (*Result_127838).Sons->data[I_127933]));
Res_130792 += 1;
} LA31: ;
asgnRefNoCycle((void**) &(*Result_127838).N, Replacetypevarsn_127670(Cl_127663, (*Result_127838).N));
if (!((*Result_127838).Kind == ((NU8) 9) || (*Result_127838).Kind == ((NU8) 10) || (*Result_127838).Kind == ((NU8) 12))) goto LA33;
LOC35 = 0;
LOC35 = Typetostring_97014(T_127664, ((NU8) 0));
Localerror_48144((*Cl_127663).Info, ((NU8) 121), LOC35);
LA33: ;
LA28: ;
break;
}
BeforeRet: ;
return Result_127838;
}
N_NIMCALL(TY55552*, Generatetypeinstance_127955)(TY107012* P_127957, TY55564 Pt_127958, TY55526* Arg_127959, TY55552* T_127960) {
TY55552* Result_127961;
TY127655 Cl_127962;
Result_127961 = 0;
memset((void*)&Cl_127962, 0, sizeof(Cl_127962));
Initidtable_55755(&Cl_127962.Symmap);
Copyidtable_55799(&Cl_127962.Typemap, Pt_127958);
Cl_127962.Info = (*Arg_127959).Info;
Cl_127962.C = P_127957;
Pushinfocontext_47615((*Arg_127959).Info);
Result_127961 = Replacetypevarst_127660(&Cl_127962, T_127960);
Popinfocontext_47636();
return Result_127961;
}
N_NIMCALL(TY55552*, Getinstantiatedtype_129375)(TY107012* C_129377, TY55526* Arg_129378, TY127969* M_129379, TY55552* F_129380) {
TY55552* Result_129381;
TNimObject* LOC1;
Result_129381 = 0;
LOC1 = 0;
LOC1 = Idtableget_60158((*M_129379).Bindings, &F_129380->Sup);
Result_129381 = ((TY55552*) (LOC1));
if (!(Result_129381 == NIM_NIL)) goto LA3;
Result_129381 = Generatetypeinstance_127955(C_129377, (*M_129379).Bindings, Arg_129378, F_129380);
LA3: ;
if (!(Result_129381 == NIM_NIL)) goto LA6;
Internalerror_48159((*Arg_129378).Info, ((NimStringDesc*) &TMP196078));
LA6: ;
return Result_129381;
}
N_NIMCALL(TY55526*, Implicitconv_129404)(NU8 Kind_129406, TY55552* F_129407, TY55526* Arg_129408, TY127969* M_129409, TY107012* C_129410) {
TY55526* Result_129411;
NIM_BOOL LOC2;
Result_129411 = 0;
Result_129411 = Newnodei_55738(Kind_129406, (*Arg_129408).Info);
LOC2 = Containsgenerictype_127174(F_129407);
if (!LOC2) goto LA3;
asgnRef((void**) &(*Result_129411).Typ, Getinstantiatedtype_129375(C_129410, Arg_129408, M_129409, F_129407));
goto LA1;
LA3: ;
asgnRef((void**) &(*Result_129411).Typ, F_129407);
LA1: ;
if (!((*Result_129411).Typ == NIM_NIL)) goto LA6;
Internalerror_48159((*Arg_129408).Info, ((NimStringDesc*) &TMP196079));
LA6: ;
Addson_55824(Result_129411, Emptynode_55858);
Addson_55824(Result_129411, Arg_129408);
return Result_129411;
}
N_NIMCALL(TY55526*, Userconvmatch_129423)(TY107012* C_129425, TY127969* M_129427, TY55552* F_129428, TY55552* A_129429, TY55526* Arg_129430) {
TY55526* Result_129431;
NI I_129450;
NI HEX3Atmp_130817;
NI Res_130819;
TY55552* Src_129451;
TY55552* Dest_129452;
NIM_BOOL LOC3;
NU8 LOC4;
NU8 LOC6;
TY55526* S_129473;
TY55526* LOC9;
Result_129431 = 0;
Result_129431 = NIM_NIL;
I_129450 = 0;
HEX3Atmp_130817 = 0;
HEX3Atmp_130817 = (NI32)((*C_129425).Converters->Sup.len - 1);
Res_130819 = 0;
Res_130819 = 0;
while (1) {
if (!(Res_130819 <= HEX3Atmp_130817)) goto LA1;
I_129450 = Res_130819;
Src_129451 = 0;
Src_129451 = (*(*(*C_129425).Converters->data[I_129450]).Typ).Sons->data[1];
Dest_129452 = 0;
Dest_129452 = (*(*(*C_129425).Converters->data[I_129450]).Typ).Sons->data[0];
LOC4 = Typerel_128244(&(*M_129427).Bindings, F_129428, Dest_129452);
LOC3 = (LOC4 == ((NU8) 5));
if (!(LOC3)) goto LA5;
LOC6 = Typerel_128244(&(*M_129427).Bindings, Src_129451, A_129429);
LOC3 = (LOC6 == ((NU8) 5));
LA5: ;
if (!LOC3) goto LA7;
S_129473 = 0;
S_129473 = Newsymnode_55735((*C_129425).Converters->data[I_129450]);
asgnRef((void**) &(*S_129473).Typ, (*(*C_129425).Converters->data[I_129450]).Typ);
(*S_129473).Info = (*Arg_129430).Info;
Result_129431 = Newnodeit_55742(((NU8) 49), (*Arg_129430).Info, (*(*S_129473).Typ).Sons->data[0]);
Addson_55824(Result_129431, S_129473);
LOC9 = 0;
LOC9 = Copytree_55852(Arg_129430);
Addson_55824(Result_129431, LOC9);
(*M_129427).Convmatches += 1;
goto BeforeRet;
LA7: ;
Res_130819 += 1;
} LA1: ;
BeforeRet: ;
return Result_129431;
}
N_NIMCALL(TY55526*, Paramtypesmatchaux_129486)(TY107012* C_129488, TY127969* M_129490, TY55552* F_129491, TY55552* A_129492, TY55526* Arg_129493) {
TY55526* Result_129494;
NU8 R_129496;
TY55526* LOC1;
TY55526* LOC2;
TY55526* LOC3;
TY55552* LOC5;
TY55526* LOC8;
TY55552* LOC10;
TY55526* LOC13;
NIM_BOOL LOC15;
TY55552* LOC19;
TY55552* LOC26;
TY55552* LOC27;
Result_129494 = 0;
R_129496 = 0;
R_129496 = Typerel_128244(&(*M_129490).Bindings, F_129491, A_129492);
switch (R_129496) {
case ((NU8) 1):
(*M_129490).Convmatches += 1;
LOC1 = 0;
LOC1 = Copytree_55852(Arg_129493);
Result_129494 = Implicitconv_129404(((NU8) 47), F_129491, LOC1, &(*M_129490), C_129488);
break;
case ((NU8) 2):
(*M_129490).Intconvmatches += 1;
LOC2 = 0;
LOC2 = Copytree_55852(Arg_129493);
Result_129494 = Implicitconv_129404(((NU8) 47), F_129491, LOC2, &(*M_129490), C_129488);
break;
case ((NU8) 3):
(*M_129490).Subtypematches += 1;
LOC3 = 0;
LOC3 = Copytree_55852(Arg_129493);
Result_129494 = Implicitconv_129404(((NU8) 48), F_129491, LOC3, &(*M_129490), C_129488);
break;
case ((NU8) 4):
(*M_129490).Genericmatches += 1;
Result_129494 = Copytree_55852(Arg_129493);
asgnRef((void**) &(*Result_129494).Typ, Getinstantiatedtype_129375(C_129488, Arg_129493, &(*M_129490), F_129491));
LOC5 = 0;
LOC5 = Skiptypes_97087((*Result_129494).Typ, 8431616);
if (!((*LOC5).Kind == ((NU8) 18) || (*LOC5).Kind == ((NU8) 27))) goto LA6;
LOC8 = 0;
LOC8 = Copytree_55852(Arg_129493);
Result_129494 = Implicitconv_129404(((NU8) 47), F_129491, LOC8, &(*M_129490), C_129488);
LA6: ;
break;
case ((NU8) 5):
(*M_129490).Exactmatches += 1;
Result_129494 = Copytree_55852(Arg_129493);
LOC10 = 0;
LOC10 = Skiptypes_97087(F_129491, 8431616);
if (!((*LOC10).Kind == ((NU8) 18) || (*LOC10).Kind == ((NU8) 27))) goto LA11;
LOC13 = 0;
LOC13 = Copytree_55852(Arg_129493);
Result_129494 = Implicitconv_129404(((NU8) 47), F_129491, LOC13, &(*M_129490), C_129488);
LA11: ;
break;
case ((NU8) 0):
Result_129494 = Userconvmatch_129423(C_129488, M_129490, F_129491, A_129492, Arg_129493);
LOC15 = (Result_129494 == NIM_NIL);
if (!(LOC15)) goto LA16;
LOC15 = ((*F_129491).Kind == ((NU8) 27));
LA16: ;
if (!LOC15) goto LA17;
LOC19 = 0;
LOC19 = Base_97021(F_129491);
R_129496 = Typerel_128244(&(*M_129490).Bindings, LOC19, A_129492);
if (!(((NU8) 4) <= R_129496)) goto LA21;
(*M_129490).Convmatches += 1;
Result_129494 = Copytree_55852(Arg_129493);
if (!(R_129496 == ((NU8) 4))) goto LA24;
LOC26 = 0;
LOC26 = Base_97021(F_129491);
asgnRef((void**) &(*Result_129494).Typ, Getinstantiatedtype_129375(C_129488, Arg_129493, &(*M_129490), LOC26));
LA24: ;
(*M_129490).Basetypematch = NIM_TRUE;
goto LA20;
LA21: ;
LOC27 = 0;
LOC27 = Base_97021(F_129491);
Result_129494 = Userconvmatch_129423(C_129488, M_129490, LOC27, A_129492, Arg_129493);
LA20: ;
LA17: ;
break;
}
return Result_129494;
}
N_NIMCALL(void, Initcandidate_127997)(TY127969* C_128000, TY55552* Callee_128001) {
Initcandidateaux_127992(C_128000, Callee_128001);
unsureAsgnRef((void**) &(*C_128000).Calleesym, NIM_NIL);
Initidtable_55755(&(*C_128000).Bindings);
}
N_NIMCALL(void, Copycandidate_128047)(TY127969* A_128050, TY127969* B_128051) {
(*A_128050).Exactmatches = (*B_128051).Exactmatches;
(*A_128050).Subtypematches = (*B_128051).Subtypematches;
(*A_128050).Convmatches = (*B_128051).Convmatches;
(*A_128050).Intconvmatches = (*B_128051).Intconvmatches;
(*A_128050).Genericmatches = (*B_128051).Genericmatches;
(*A_128050).State = (*B_128051).State;
unsureAsgnRef((void**) &(*A_128050).Callee, (*B_128051).Callee);
unsureAsgnRef((void**) &(*A_128050).Calleesym, (*B_128051).Calleesym);
unsureAsgnRef((void**) &(*A_128050).Call, Copytree_55852((*B_128051).Call));
(*A_128050).Basetypematch = (*B_128051).Basetypematch;
Copyidtable_55799(&(*A_128050).Bindings, (*B_128051).Bindings);
}
N_NIMCALL(NI, Cmpcandidates_128053)(TY127969* A_128055, TY127969* B_128056) {
NI Result_128057;
Result_128057 = 0;
Result_128057 = (NI32)((*A_128055).Exactmatches - (*B_128056).Exactmatches);
if (!!((Result_128057 == 0))) goto LA2;
goto BeforeRet;
LA2: ;
Result_128057 = (NI32)((*A_128055).Genericmatches - (*B_128056).Genericmatches);
if (!!((Result_128057 == 0))) goto LA5;
goto BeforeRet;
LA5: ;
Result_128057 = (NI32)((*A_128055).Subtypematches - (*B_128056).Subtypematches);
if (!!((Result_128057 == 0))) goto LA8;
goto BeforeRet;
LA8: ;
Result_128057 = (NI32)((*A_128055).Intconvmatches - (*B_128056).Intconvmatches);
if (!!((Result_128057 == 0))) goto LA11;
goto BeforeRet;
LA11: ;
Result_128057 = (NI32)((*A_128055).Convmatches - (*B_128056).Convmatches);
BeforeRet: ;
return Result_128057;
}
N_NIMCALL(TY55526*, Paramtypesmatch_129632)(TY107012* C_129634, TY127969* M_129636, TY55552* F_129637, TY55552* A_129638, TY55526* Arg_129639) {
TY55526* Result_129640;
NIM_BOOL LOC2;
TY127969 X_129661;
TY127969 Y_129662;
TY127969 Z_129663;
NI Best_129667;
NI I_129676;
NI HEX3Atmp_130820;
NI LOC6;
NI Res_130822;
NU8 R_129727;
NI Cmp_129737;
NIM_BOOL LOC22;
NI LOC24;
Result_129640 = 0;
LOC2 = (Arg_129639 == NIM_NIL);
if (LOC2) goto LA3;
LOC2 = !(((*Arg_129639).Kind == ((NU8) 46)));
LA3: ;
if (!LOC2) goto LA4;
Result_129640 = Paramtypesmatchaux_129486(C_129634, M_129636, F_129637, A_129638, Arg_129639);
goto LA1;
LA4: ;
memset((void*)&X_129661, 0, sizeof(X_129661));
memset((void*)&Y_129662, 0, sizeof(Y_129662));
memset((void*)&Z_129663, 0, sizeof(Z_129663));
Initcandidate_127997(&X_129661, (*M_129636).Callee);
Initcandidate_127997(&Y_129662, (*M_129636).Callee);
Initcandidate_127997(&Z_129663, (*M_129636).Callee);
X_129661.Calleesym = (*M_129636).Calleesym;
Y_129662.Calleesym = (*M_129636).Calleesym;
Z_129663.Calleesym = (*M_129636).Calleesym;
Best_129667 = 0;
Best_129667 = -1;
I_129676 = 0;
HEX3Atmp_130820 = 0;
LOC6 = Sonslen_55804(Arg_129639);
HEX3Atmp_130820 = (NI32)(LOC6 - 1);
Res_130822 = 0;
Res_130822 = 0;
while (1) {
if (!(Res_130822 <= HEX3Atmp_130820)) goto LA7;
I_129676 = Res_130822;
if (!((11264 &(1<<(((*(*(*Arg_129639).KindU.S6.Sons->data[I_129676]).KindU.S4.Sym).Kind)&31)))!=0)) goto LA9;
Copycandidate_128047(&Z_129663, &(*M_129636));
R_129727 = 0;
R_129727 = Typerel_128244(&Z_129663.Bindings, F_129637, (*(*Arg_129639).KindU.S6.Sons->data[I_129676]).Typ);
if (!!((R_129727 == ((NU8) 0)))) goto LA12;
switch (X_129661.State) {
case ((NU8) 0):
case ((NU8) 2):
genericAssign((void*)&X_129661, (void*)&Z_129663, NTI127969);
Best_129667 = I_129676;
X_129661.State = ((NU8) 1);
break;
case ((NU8) 1):
Cmp_129737 = 0;
Cmp_129737 = Cmpcandidates_128053(&X_129661, &Z_129663);
if (!(Cmp_129737 < 0)) goto LA15;
Best_129667 = I_129676;
genericAssign((void*)&X_129661, (void*)&Z_129663, NTI127969);
goto LA14;
LA15: ;
if (!(Cmp_129737 == 0)) goto LA17;
genericAssign((void*)&Y_129662, (void*)&Z_129663, NTI127969);
goto LA14;
LA17: ;
LA14: ;
break;
}
LA12: ;
LA9: ;
Res_130822 += 1;
} LA7: ;
if (!(X_129661.State == ((NU8) 0))) goto LA20;
Result_129640 = NIM_NIL;
goto LA19;
LA20: ;
LOC22 = (Y_129662.State == ((NU8) 1));
if (!(LOC22)) goto LA23;
LOC24 = Cmpcandidates_128053(&X_129661, &Y_129662);
LOC22 = (LOC24 == 0);
LA23: ;
if (!LOC22) goto LA25;
if (!!((X_129661.State == ((NU8) 1)))) goto LA28;
Internalerror_48159((*Arg_129639).Info, ((NimStringDesc*) &TMP196084));
LA28: ;
Result_129640 = NIM_NIL;
goto LA19;
LA25: ;
Markused_126065(Arg_129639, (*(*Arg_129639).KindU.S6.Sons->data[Best_129667]).KindU.S4.Sym);
Result_129640 = Paramtypesmatchaux_129486(C_129634, M_129636, F_129637, (*(*Arg_129639).KindU.S6.Sons->data[Best_129667]).Typ, (*Arg_129639).KindU.S6.Sons->data[Best_129667]);
LA19: ;
LA1: ;
return Result_129640;
}
N_NIMCALL(void, Setson_129831)(TY55526* Father_129833, NI At_129834, TY55526* Son_129835) {
NI LOC2;
LOC2 = Sonslen_55804(Father_129833);
if (!(LOC2 <= At_129834)) goto LA3;
(*Father_129833).KindU.S6.Sons = (TY55520*) setLengthSeq(&((*Father_129833).KindU.S6.Sons)->Sup, sizeof(TY55526*), (NI32)(At_129834 + 1));
LA3: ;
asgnRefNoCycle((void**) &(*Father_129833).KindU.S6.Sons->data[At_129834], Son_129835);
}
N_NIMCALL(void, Matches_129874)(TY107012* C_129876, TY55526* N_129877, TY127969* M_129879) {
NI F_129880;
NI A_129881;
NI Formallen_129882;
TY55526* LOC1;
TY55895 Marker_129895;
TY55526* Container_129897;
TY55548* Formal_129898;
NI LOC3;
NIM_BOOL LOC14;
TY55526* Arg_130065;
TY55552* LOC33;
TY55552* LOC36;
TY55526* LOC37;
TY55526* LOC38;
TY55526* LOC39;
TY55526* Arg_130195;
NIM_BOOL LOC43;
NIM_BOOL LOC44;
NIM_BOOL LOC53;
TY55526* Arg_130312;
TY55526* LOC62;
NI LOC67;
NIM_BOOL LOC69;
TY55526* LOC78;
TY55526* LOC79;
F_129880 = 0;
F_129880 = 1;
A_129881 = 0;
A_129881 = 1;
(*M_129879).State = ((NU8) 1);
unsureAsgnRef((void**) &(*M_129879).Call, Newnodei_55738(((NU8) 21), (*N_129877).Info));
asgnRef((void**) &(*(*M_129879).Call).Typ, Base_97021((*M_129879).Callee));
Formallen_129882 = 0;
Formallen_129882 = Sonslen_55804((*(*M_129879).Callee).N);
LOC1 = 0;
LOC1 = Copytree_55852((*N_129877).KindU.S6.Sons->data[0]);
Addson_55824((*M_129879).Call, LOC1);
memset((void*)&Marker_129895, 0, sizeof(Marker_129895));
Intsetinit_55919(&Marker_129895);
Container_129897 = 0;
Container_129897 = NIM_NIL;
Formal_129898 = 0;
Formal_129898 = NIM_NIL;
while (1) {
LOC3 = Sonslen_55804(N_129877);
if (!(A_129881 < LOC3)) goto LA2;
if (!((*(*N_129877).KindU.S6.Sons->data[A_129881]).Kind == ((NU8) 23))) goto LA5;
if (!!(((*(*(*N_129877).KindU.S6.Sons->data[A_129881]).KindU.S6.Sons->data[0]).Kind == ((NU8) 2)))) goto LA8;
Localerror_48144((*(*N_129877).KindU.S6.Sons->data[A_129881]).Info, ((NU8) 155), ((NimStringDesc*) &TMP195991));
(*M_129879).State = ((NU8) 2);
goto BeforeRet;
LA8: ;
Formal_129898 = Getsymfromlist_60189((*(*M_129879).Callee).N, (*(*(*N_129877).KindU.S6.Sons->data[A_129881]).KindU.S6.Sons->data[0]).KindU.S5.Ident, 1);
if (!(Formal_129898 == NIM_NIL)) goto LA11;
(*M_129879).State = ((NU8) 2);
goto BeforeRet;
LA11: ;
LOC14 = Intsetcontainsorincl_55923(&Marker_129895, (*Formal_129898).Position);
if (!LOC14) goto LA15;
Localerror_48144((*(*N_129877).KindU.S6.Sons->data[A_129881]).Info, ((NU8) 139), (*(*Formal_129898).Name).S);
(*M_129879).State = ((NU8) 2);
goto BeforeRet;
LA15: ;
(*M_129879).Basetypematch = NIM_FALSE;
Arg_130065 = 0;
Arg_130065 = Paramtypesmatch_129632(C_129876, M_129879, (*Formal_129898).Typ, (*(*N_129877).KindU.S6.Sons->data[A_129881]).Typ, (*(*N_129877).KindU.S6.Sons->data[A_129881]).KindU.S6.Sons->data[1]);
if (!(Arg_130065 == NIM_NIL)) goto LA18;
(*M_129879).State = ((NU8) 2);
goto BeforeRet;
LA18: ;
if (!(*M_129879).Basetypematch) goto LA21;
Container_129897 = Newnodei_55738(((NU8) 32), (*(*N_129877).KindU.S6.Sons->data[A_129881]).Info);
Addson_55824(Container_129897, Arg_130065);
Setson_129831((*M_129879).Call, (NI32)((*Formal_129898).Position + 1), Container_129897);
if (!!((F_129880 == (NI32)(Formallen_129882 - 1)))) goto LA24;
Container_129897 = NIM_NIL;
LA24: ;
goto LA20;
LA21: ;
Setson_129831((*M_129879).Call, (NI32)((*Formal_129898).Position + 1), Arg_130065);
LA20: ;
goto LA4;
LA5: ;
if (!(Formallen_129882 <= F_129880)) goto LA27;
if (!(((*(*M_129879).Callee).Flags &(1<<((((NU8) 0))&7)))!=0)) goto LA30;
LOC33 = 0;
LOC33 = Skiptypes_97087((*(*N_129877).KindU.S6.Sons->data[A_129881]).Typ, 8431616);
if (!((*LOC33).Kind == ((NU8) 28))) goto LA34;
LOC36 = 0;
LOC36 = Getsystype_102008(((NU8) 29));
LOC37 = 0;
LOC37 = Copytree_55852((*N_129877).KindU.S6.Sons->data[A_129881]);
LOC38 = 0;
LOC38 = Implicitconv_129404(((NU8) 47), LOC36, LOC37, &(*M_129879), C_129876);
Addson_55824((*M_129879).Call, LOC38);
goto LA32;
LA34: ;
LOC39 = 0;
LOC39 = Copytree_55852((*N_129877).KindU.S6.Sons->data[A_129881]);
Addson_55824((*M_129879).Call, LOC39);
LA32: ;
goto LA29;
LA30: ;
if (!!((Formal_129898 == NIM_NIL))) goto LA40;
(*M_129879).Basetypematch = NIM_FALSE;
Arg_130195 = 0;
Arg_130195 = Paramtypesmatch_129632(C_129876, M_129879, (*Formal_129898).Typ, (*(*N_129877).KindU.S6.Sons->data[A_129881]).Typ, (*N_129877).KindU.S6.Sons->data[A_129881]);
LOC44 = !((Arg_130195 == NIM_NIL));
if (!(LOC44)) goto LA45;
LOC44 = (*M_129879).Basetypematch;
LA45: ;
LOC43 = LOC44;
if (!(LOC43)) goto LA46;
LOC43 = !((Container_129897 == NIM_NIL));
LA46: ;
if (!LOC43) goto LA47;
Addson_55824(Container_129897, Arg_130195);
goto LA42;
LA47: ;
(*M_129879).State = ((NU8) 2);
goto BeforeRet;
LA42: ;
goto LA29;
LA40: ;
(*M_129879).State = ((NU8) 2);
goto BeforeRet;
LA29: ;
goto LA26;
LA27: ;
if (!!(((*(*(*(*M_129879).Callee).N).KindU.S6.Sons->data[F_129880]).Kind == ((NU8) 3)))) goto LA50;
Internalerror_48159((*(*N_129877).KindU.S6.Sons->data[A_129881]).Info, ((NimStringDesc*) &TMP196085));
LA50: ;
Formal_129898 = (*(*(*(*M_129879).Callee).N).KindU.S6.Sons->data[F_129880]).KindU.S4.Sym;
LOC53 = Intsetcontainsorincl_55923(&Marker_129895, (*Formal_129898).Position);
if (!LOC53) goto LA54;
Localerror_48144((*(*N_129877).KindU.S6.Sons->data[A_129881]).Info, ((NU8) 139), (*(*Formal_129898).Name).S);
(*M_129879).State = ((NU8) 2);
goto BeforeRet;
LA54: ;
(*M_129879).Basetypematch = NIM_FALSE;
Arg_130312 = 0;
Arg_130312 = Paramtypesmatch_129632(C_129876, M_129879, (*Formal_129898).Typ, (*(*N_129877).KindU.S6.Sons->data[A_129881]).Typ, (*N_129877).KindU.S6.Sons->data[A_129881]);
if (!(Arg_130312 == NIM_NIL)) goto LA57;
(*M_129879).State = ((NU8) 2);
goto BeforeRet;
LA57: ;
if (!(*M_129879).Basetypematch) goto LA60;
Container_129897 = Newnodei_55738(((NU8) 32), (*(*N_129877).KindU.S6.Sons->data[A_129881]).Info);
Addson_55824(Container_129897, Arg_130312);
LOC62 = 0;
LOC62 = Implicitconv_129404(((NU8) 47), (*Formal_129898).Typ, Container_129897, &(*M_129879), C_129876);
Setson_129831((*M_129879).Call, (NI32)((*Formal_129898).Position + 1), LOC62);
if (!!((F_129880 == (NI32)(Formallen_129882 - 1)))) goto LA64;
Container_129897 = NIM_NIL;
LA64: ;
goto LA59;
LA60: ;
Setson_129831((*M_129879).Call, (NI32)((*Formal_129898).Position + 1), Arg_130312);
LA59: ;
LA26: ;
LA4: ;
A_129881 += 1;
F_129880 += 1;
} LA2: ;
F_129880 = 1;
while (1) {
LOC67 = Sonslen_55804((*(*M_129879).Callee).N);
if (!(F_129880 < LOC67)) goto LA66;
Formal_129898 = (*(*(*(*M_129879).Callee).N).KindU.S6.Sons->data[F_129880]).KindU.S4.Sym;
LOC69 = Intsetcontainsorincl_55923(&Marker_129895, (*Formal_129898).Position);
if (!!(LOC69)) goto LA70;
if (!((*Formal_129898).Ast == NIM_NIL)) goto LA73;
if (!((*(*Formal_129898).Typ).Kind == ((NU8) 27))) goto LA76;
Container_129897 = Newnodei_55738(((NU8) 32), (*N_129877).Info);
LOC78 = 0;
LOC78 = Implicitconv_129404(((NU8) 47), (*Formal_129898).Typ, Container_129897, &(*M_129879), C_129876);
Addson_55824((*M_129879).Call, LOC78);
goto LA75;
LA76: ;
(*M_129879).State = ((NU8) 2);
goto LA66;
LA75: ;
goto LA72;
LA73: ;
LOC79 = 0;
LOC79 = Copytree_55852((*Formal_129898).Ast);
Setson_129831((*M_129879).Call, (NI32)((*Formal_129898).Position + 1), LOC79);
LA72: ;
LA70: ;
F_129880 += 1;
} LA66: ;
BeforeRet: ;
}
N_NIMCALL(NIM_BOOL, Samemethoddispatcher_130434)(TY55548* A_130436, TY55548* B_130437) {
NIM_BOOL Result_130438;
NIM_BOOL LOC2;
TY55526* Aa_130457;
TY55526* Bb_130458;
NIM_BOOL LOC7;
NIM_BOOL LOC8;
Result_130438 = 0;
Result_130438 = NIM_FALSE;
LOC2 = ((*A_130436).Kind == ((NU8) 11));
if (!(LOC2)) goto LA3;
LOC2 = ((*B_130437).Kind == ((NU8) 11));
LA3: ;
if (!LOC2) goto LA4;
Aa_130457 = 0;
Aa_130457 = Lastson_55810((*A_130436).Ast);
Bb_130458 = 0;
Bb_130458 = Lastson_55810((*B_130437).Ast);
LOC8 = ((*Aa_130457).Kind == ((NU8) 3));
if (!(LOC8)) goto LA9;
LOC8 = ((*Bb_130458).Kind == ((NU8) 3));
LA9: ;
LOC7 = LOC8;
if (!(LOC7)) goto LA10;
LOC7 = ((*Aa_130457).KindU.S4.Sym == (*Bb_130458).KindU.S4.Sym);
LA10: ;
if (!LOC7) goto LA11;
Result_130438 = NIM_TRUE;
LA11: ;
LA4: ;
return Result_130438;
}
N_NIMCALL(void, Instantiategenericparamlist_127178)(TY107012* C_127180, TY55526* N_127181, TY55564 Pt_127182) {
NI I_127200;
NI HEX3Atmp_130775;
NI LOC4;
NI Res_130777;
TY55526* A_127213;
TY55548* Q_127235;
TY55548* S_127248;
TY55548* LOC13;
TY55552* T_127249;
TNimObject* LOC14;
NimStringDesc* LOC21;
if (!!(((*N_127181).Kind == ((NU8) 65)))) goto LA2;
Internalerror_48159((*N_127181).Info, ((NimStringDesc*) &TMP196090));
LA2: ;
I_127200 = 0;
HEX3Atmp_130775 = 0;
LOC4 = Sonslen_55804(N_127181);
HEX3Atmp_130775 = (NI32)(LOC4 - 1);
Res_130777 = 0;
Res_130777 = 0;
while (1) {
if (!(Res_130777 <= HEX3Atmp_130775)) goto LA5;
I_127200 = Res_130777;
A_127213 = 0;
A_127213 = (*N_127181).KindU.S6.Sons->data[I_127200];
if (!!(((*A_127213).Kind == ((NU8) 3)))) goto LA8;
Internalerror_48159((*A_127213).Info, ((NimStringDesc*) &TMP196091));
LA8: ;
Q_127235 = 0;
Q_127235 = (*A_127213).KindU.S4.Sym;
if (!!(((*(*Q_127235).Typ).Kind == ((NU8) 8) || (*(*Q_127235).Typ).Kind == ((NU8) 12)))) goto LA11;
goto LA6;
LA11: ;
S_127248 = 0;
LOC13 = 0;
LOC13 = Getcurrowner_107092();
S_127248 = Newsym_55702(((NU8) 7), (*Q_127235).Name, LOC13);
T_127249 = 0;
LOC14 = 0;
LOC14 = Idtableget_60158(Pt_127182, &(*Q_127235).Typ->Sup);
T_127249 = ((TY55552*) (LOC14));
if (!(T_127249 == NIM_NIL)) goto LA16;
Localerror_48144((*A_127213).Info, ((NU8) 121), (*(*S_127248).Name).S);
goto LA6;
LA16: ;
if (!((*T_127249).Kind == ((NU8) 12))) goto LA19;
LOC21 = 0;
LOC21 = rawNewString((*(*Q_127235).Name).S->Sup.len + 29);
appendString(LOC21, ((NimStringDesc*) &TMP196092));
appendString(LOC21, (*(*Q_127235).Name).S);
Internalerror_48159((*A_127213).Info, LOC21);
LA19: ;
asgnRef((void**) &(*S_127248).Typ, T_127249);
Adddecl_108114(C_127180, S_127248);
LA6: ;
Res_130777 += 1;
} LA5: ;
}
N_NIMCALL(TY55552*, Neworprevtype_130876)(NU8 Kind_130878, TY55552* Prev_130879, TY107012* C_130880) {
TY55552* Result_130881;
Result_130881 = 0;
if (!(Prev_130879 == NIM_NIL)) goto LA2;
Result_130881 = Newtypes_107077(Kind_130878, C_130880);
goto LA1;
LA2: ;
Result_130881 = Prev_130879;
if (!((*Result_130881).Kind == ((NU8) 30))) goto LA5;
(*Result_130881).Kind = Kind_130878;
LA5: ;
LA1: ;
return Result_130881;
}
N_NIMCALL(TY55548*, Semtypeident_131652)(TY107012* C_131654, TY55526* N_131655) {
TY55548* Result_131656;
Result_131656 = 0;
Result_131656 = Qualifiedlookup_108322(C_131654, N_131655, 3);
if (!!((Result_131656 == NIM_NIL))) goto LA2;
Markused_126065(N_131655, Result_131656);
if (!!(((*Result_131656).Kind == ((NU8) 7)))) goto LA5;
Globalerror_48139((*N_131655).Info, ((NU8) 60), ((NimStringDesc*) &TMP195991));
LA5: ;
goto LA1;
LA2: ;
Globalerror_48139((*N_131655).Info, ((NU8) 19), ((NimStringDesc*) &TMP195991));
LA1: ;
return Result_131656;
}
N_NIMCALL(TY55552*, Semrangeaux_131353)(TY107012* C_131355, TY55526* N_131356, TY55552* Prev_131357) {
TY55552* Result_131358;
NIM_BOOL LOC5;
TY55526* A_131422;
TY55526* B_131435;
NIM_BOOL LOC10;
NIM_BOOL LOC17;
NIM_BOOL LOC21;
Result_131358 = 0;
if (!!(((*N_131356).Kind == ((NU8) 35)))) goto LA2;
Internalerror_48159((*N_131356).Info, ((NimStringDesc*) &TMP196093));
LA2: ;
Checksonslen_107407(N_131356, 2);
Result_131358 = Neworprevtype_130876(((NU8) 20), Prev_131357, C_131355);
asgnRefNoCycle((void**) &(*Result_131358).N, Newnodei_55738(((NU8) 35), (*N_131356).Info));
LOC5 = ((*(*N_131356).KindU.S6.Sons->data[0]).Kind == ((NU8) 1));
if (LOC5) goto LA6;
LOC5 = ((*(*N_131356).KindU.S6.Sons->data[1]).Kind == ((NU8) 1));
LA6: ;
if (!LOC5) goto LA7;
Globalerror_48139((*N_131356).Info, ((NU8) 103), ((NimStringDesc*) &TMP195991));
LA7: ;
A_131422 = 0;
A_131422 = Semconstexpr_126171(C_131355, (*N_131356).KindU.S6.Sons->data[0]);
B_131435 = 0;
B_131435 = Semconstexpr_126171(C_131355, (*N_131356).KindU.S6.Sons->data[1]);
LOC10 = Sametype_97048((*A_131422).Typ, (*B_131435).Typ);
if (!!(LOC10)) goto LA11;
Globalerror_48139((*N_131356).Info, ((NU8) 124), ((NimStringDesc*) &TMP195991));
LA11: ;
if (!!(((*(*A_131422).Typ).Kind >= ((NU8) 31) && (*(*A_131422).Typ).Kind <= ((NU8) 35) || (*(*A_131422).Typ).Kind == ((NU8) 14) || (*(*A_131422).Typ).Kind == ((NU8) 1) || (*(*A_131422).Typ).Kind == ((NU8) 2) || (*(*A_131422).Typ).Kind >= ((NU8) 36) && (*(*A_131422).Typ).Kind <= ((NU8) 39)))) goto LA14;
Globalerror_48139((*N_131356).Info, ((NU8) 71), ((NimStringDesc*) &TMP195991));
LA14: ;
LOC17 = Enumhaswholes_97072((*A_131422).Typ);
if (!LOC17) goto LA18;
Globalerror_48139((*N_131356).Info, ((NU8) 142), (*(*(*(*A_131422).Typ).Sym).Name).S);
LA18: ;
LOC21 = Levalue_55865(A_131422, B_131435);
if (!!(LOC21)) goto LA22;
Globalerror_48139((*N_131356).Info, ((NU8) 103), ((NimStringDesc*) &TMP195991));
LA22: ;
Addson_55824((*Result_131358).N, A_131422);
Addson_55824((*Result_131358).N, B_131435);
Addson_55828(Result_131358, (*B_131435).Typ);
return Result_131358;
}
N_NIMCALL(TY55552*, Semarray_131501)(TY107012* C_131503, TY55526* N_131504, TY55552* Prev_131505) {
TY55552* Result_131506;
TY55552* Indx_131507;
TY55552* Base_131508;
NI LOC2;
NIM_BOOL LOC15;
NIM_BOOL LOC19;
Result_131506 = 0;
Indx_131507 = 0;
Base_131508 = 0;
Result_131506 = Neworprevtype_130876(((NU8) 16), Prev_131505, C_131503);
LOC2 = Sonslen_55804(N_131504);
if (!(LOC2 == 3)) goto LA3;
if (!((*(*N_131504).KindU.S6.Sons->data[1]).Kind == ((NU8) 35))) goto LA6;
Indx_131507 = Semrangeaux_131353(C_131503, (*N_131504).KindU.S6.Sons->data[1], NIM_NIL);
goto LA5;
LA6: ;
Indx_131507 = Semtypenode_126138(C_131503, (*N_131504).KindU.S6.Sons->data[1], NIM_NIL);
LA5: ;
Addson_55828(Result_131506, Indx_131507);
if (!((*Indx_131507).Kind == ((NU8) 11))) goto LA9;
Indx_131507 = Lastson_55813(Indx_131507);
LA9: ;
if (!!(((*Indx_131507).Kind == ((NU8) 12)))) goto LA12;
LOC15 = Isordinaltype_97069(Indx_131507);
if (!!(LOC15)) goto LA16;
Globalerror_48139((*(*N_131504).KindU.S6.Sons->data[1]).Info, ((NU8) 71), ((NimStringDesc*) &TMP195991));
LA16: ;
LOC19 = Enumhaswholes_97072(Indx_131507);
if (!LOC19) goto LA20;
Globalerror_48139((*(*N_131504).KindU.S6.Sons->data[1]).Info, ((NU8) 142), (*(*(*Indx_131507).Sym).Name).S);
LA20: ;
LA12: ;
Base_131508 = Semtypenode_126138(C_131503, (*N_131504).KindU.S6.Sons->data[2], NIM_NIL);
Addson_55828(Result_131506, Base_131508);
goto LA1;
LA3: ;
Globalerror_48139((*N_131504).Info, ((NU8) 170), ((NimStringDesc*) &TMP195991));
LA1: ;
return Result_131506;
}
N_NIMCALL(TY55552*, Semcontainer_131257)(TY107012* C_131259, TY55526* N_131260, NU8 Kind_131261, NimStringDesc* Kindstr_131262, TY55552* Prev_131263) {
TY55552* Result_131264;
NI LOC2;
TY55552* Base_131279;
Result_131264 = 0;
Result_131264 = Neworprevtype_130876(Kind_131261, Prev_131263, C_131259);
LOC2 = Sonslen_55804(N_131260);
if (!(LOC2 == 2)) goto LA3;
Base_131279 = 0;
Base_131279 = Semtypenode_126138(C_131259, (*N_131260).KindU.S6.Sons->data[1], NIM_NIL);
Addson_55828(Result_131264, Base_131279);
goto LA1;
LA3: ;
Globalerror_48139((*N_131260).Info, ((NU8) 169), Kindstr_131262);
LA1: ;
return Result_131264;
}
N_NIMCALL(TY55552*, Semrange_131448)(TY107012* C_131450, TY55526* N_131451, TY55552* Prev_131452) {
TY55552* Result_131453;
NI LOC2;
Result_131453 = 0;
Result_131453 = NIM_NIL;
LOC2 = Sonslen_55804(N_131451);
if (!(LOC2 == 2)) goto LA3;
if (!((*(*N_131451).KindU.S6.Sons->data[1]).Kind == ((NU8) 35))) goto LA6;
Result_131453 = Semrangeaux_131353(C_131450, (*N_131451).KindU.S6.Sons->data[1], Prev_131452);
goto LA5;
LA6: ;
Globalerror_48139((*(*N_131451).KindU.S6.Sons->data[0]).Info, ((NU8) 93), ((NimStringDesc*) &TMP195991));
LA5: ;
goto LA1;
LA3: ;
Globalerror_48139((*N_131451).Info, ((NU8) 169), ((NimStringDesc*) &TMP196095));
LA1: ;
return Result_131453;
}
N_NIMCALL(TY55552*, Semset_131214)(TY107012* C_131216, TY55526* N_131217, TY55552* Prev_131218) {
TY55552* Result_131219;
NI LOC2;
TY55552* Base_131234;
NIM_BOOL LOC12;
NI64 LOC16;
Result_131219 = 0;
Result_131219 = Neworprevtype_130876(((NU8) 19), Prev_131218, C_131216);
LOC2 = Sonslen_55804(N_131217);
if (!(LOC2 == 2)) goto LA3;
Base_131234 = 0;
Base_131234 = Semtypenode_126138(C_131216, (*N_131217).KindU.S6.Sons->data[1], NIM_NIL);
Addson_55828(Result_131219, Base_131234);
if (!((*Base_131234).Kind == ((NU8) 11))) goto LA6;
Base_131234 = Lastson_55813(Base_131234);
LA6: ;
if (!!(((*Base_131234).Kind == ((NU8) 12)))) goto LA9;
LOC12 = Isordinaltype_97069(Base_131234);
if (!!(LOC12)) goto LA13;
Globalerror_48139((*N_131217).Info, ((NU8) 71), ((NimStringDesc*) &TMP195991));
LA13: ;
LOC16 = Lengthord_97007(Base_131234);
if (!(65536 < LOC16)) goto LA17;
Globalerror_48139((*N_131217).Info, ((NU8) 116), ((NimStringDesc*) &TMP195991));
LA17: ;
LA9: ;
goto LA1;
LA3: ;
Globalerror_48139((*N_131217).Info, ((NU8) 169), ((NimStringDesc*) &TMP196096));
LA1: ;
return Result_131219;
}
N_NIMCALL(TY55552*, Semordinal_131610)(TY107012* C_131612, TY55526* N_131613, TY55552* Prev_131614) {
TY55552* Result_131615;
NI LOC2;
TY55552* Base_131630;
NIM_BOOL LOC9;
Result_131615 = 0;
Result_131615 = Neworprevtype_130876(((NU8) 15), Prev_131614, C_131612);
LOC2 = Sonslen_55804(N_131613);
if (!(LOC2 == 2)) goto LA3;
Base_131630 = 0;
Base_131630 = Semtypenode_126138(C_131612, (*N_131613).KindU.S6.Sons->data[1], NIM_NIL);
if (!!(((*Base_131630).Kind == ((NU8) 12)))) goto LA6;
LOC9 = Isordinaltype_97069(Base_131630);
if (!!(LOC9)) goto LA10;
Globalerror_48139((*(*N_131613).KindU.S6.Sons->data[1]).Info, ((NU8) 71), ((NimStringDesc*) &TMP195991));
LA10: ;
LA6: ;
Addson_55828(Result_131615, Base_131630);
goto LA1;
LA3: ;
Globalerror_48139((*N_131613).Info, ((NU8) 169), ((NimStringDesc*) &TMP196097));
LA1: ;
return Result_131615;
}
N_NIMCALL(TY55552*, Instgenericcontainer_126166)(TY107012* C_126168, TY55526* N_126169, TY55552* Header_126170) {
TY55552* Result_127950;
TY127655 Cl_127951;
Result_127950 = 0;
memset((void*)&Cl_127951, 0, sizeof(Cl_127951));
Initidtable_55755(&Cl_127951.Symmap);
Initidtable_55755(&Cl_127951.Typemap);
Cl_127951.Info = (*N_126169).Info;
Cl_127951.C = C_126168;
Result_127950 = Replacetypevarst_127660(&Cl_127951, Header_126170);
return Result_127950;
}
N_NIMCALL(TY55552*, Semgeneric_131833)(TY107012* C_131835, TY55526* N_131836, TY55548* S_131837, TY55552* Prev_131838) {
TY55552* Result_131839;
TY55552* Elem_131840;
NIM_BOOL Isconcrete_131841;
NIM_BOOL LOC2;
NI LOC10;
NI LOC11;
NI I_131874;
NI HEX3Atmp_146699;
NI LOC14;
NI Res_146701;
Result_131839 = 0;
Elem_131840 = 0;
Isconcrete_131841 = 0;
LOC2 = ((*S_131837).Typ == NIM_NIL);
if (LOC2) goto LA3;
LOC2 = !(((*(*S_131837).Typ).Kind == ((NU8) 10)));
LA3: ;
if (!LOC2) goto LA4;
Globalerror_48139((*N_131836).Info, ((NU8) 121), (*(*S_131837).Name).S);
LA4: ;
Result_131839 = Neworprevtype_130876(((NU8) 9), Prev_131838, C_131835);
if (!((*(*S_131837).Typ).Containerid == 0)) goto LA7;
Internalerror_48159((*N_131836).Info, ((NimStringDesc*) &TMP196099));
LA7: ;
LOC10 = Sonslen_55804(N_131836);
LOC11 = Sonslen_55807((*S_131837).Typ);
if (!!((LOC10 == LOC11))) goto LA12;
Globalerror_48139((*N_131836).Info, ((NU8) 129), ((NimStringDesc*) &TMP195991));
LA12: ;
Addson_55828(Result_131839, (*S_131837).Typ);
Isconcrete_131841 = NIM_TRUE;
I_131874 = 0;
HEX3Atmp_146699 = 0;
LOC14 = Sonslen_55804(N_131836);
HEX3Atmp_146699 = (NI32)(LOC14 - 1);
Res_146701 = 0;
Res_146701 = 1;
while (1) {
if (!(Res_146701 <= HEX3Atmp_146699)) goto LA15;
I_131874 = Res_146701;
Elem_131840 = Semtypenode_126138(C_131835, (*N_131836).KindU.S6.Sons->data[I_131874], NIM_NIL);
if (!((*Elem_131840).Kind == ((NU8) 12))) goto LA17;
Isconcrete_131841 = NIM_FALSE;
LA17: ;
Addson_55828(Result_131839, Elem_131840);
Res_146701 += 1;
} LA15: ;
if (!Isconcrete_131841) goto LA20;
if (!((*S_131837).Ast == NIM_NIL)) goto LA23;
Globalerror_48139((*N_131836).Info, ((NU8) 121), (*(*S_131837).Name).S);
LA23: ;
Result_131839 = Instgenericcontainer_126166(C_131835, N_131836, Result_131839);
LA20: ;
return Result_131839;
}
N_NIMCALL(void, Addinheritedfieldsaux_132999)(TY107012* C_133001, TY55895* Check_133003, NI* Pos_133005, TY55526* N_133006) {
NI I_133048;
NI HEX3Atmp_146723;
NI LOC4;
NI Res_146725;
TY55526* LOC6;
NI I_133081;
NI HEX3Atmp_146726;
NI LOC7;
NI Res_146728;
switch ((*N_133006).Kind) {
case ((NU8) 114):
if (!!(((*(*N_133006).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA2;
Internalerror_48159((*N_133006).Info, ((NimStringDesc*) &TMP196100));
LA2: ;
Addinheritedfieldsaux_132999(C_133001, Check_133003, Pos_133005, (*N_133006).KindU.S6.Sons->data[0]);
I_133048 = 0;
HEX3Atmp_146723 = 0;
LOC4 = Sonslen_55804(N_133006);
HEX3Atmp_146723 = (NI32)(LOC4 - 1);
Res_146725 = 0;
Res_146725 = 1;
while (1) {
if (!(Res_146725 <= HEX3Atmp_146723)) goto LA5;
I_133048 = Res_146725;
switch ((*(*N_133006).KindU.S6.Sons->data[I_133048]).Kind) {
case ((NU8) 75):
case ((NU8) 78):
LOC6 = 0;
LOC6 = Lastson_55810((*N_133006).KindU.S6.Sons->data[I_133048]);
Addinheritedfieldsaux_132999(C_133001, Check_133003, Pos_133005, LOC6);
break;
default:
Internalerror_48159((*N_133006).Info, ((NimStringDesc*) &TMP196101));
break;
}
Res_146725 += 1;
} LA5: ;
break;
case ((NU8) 113):
I_133081 = 0;
HEX3Atmp_146726 = 0;
LOC7 = Sonslen_55804(N_133006);
HEX3Atmp_146726 = (NI32)(LOC7 - 1);
Res_146728 = 0;
Res_146728 = 0;
while (1) {
if (!(Res_146728 <= HEX3Atmp_146726)) goto LA8;
I_133081 = Res_146728;
Addinheritedfieldsaux_132999(C_133001, Check_133003, Pos_133005, (*N_133006).KindU.S6.Sons->data[I_133081]);
Res_146728 += 1;
} LA8: ;
break;
case ((NU8) 3):
Intsetincl_55909(Check_133003, (*(*(*N_133006).KindU.S4.Sym).Name).Sup.Id);
(*Pos_133005) += 1;
break;
default:
Internalerror_48159((*N_133006).Info, ((NimStringDesc*) &TMP196102));
break;
}
}
N_NIMCALL(void, Addinheritedfields_133118)(TY107012* C_133120, TY55895* Check_133122, NI* Pos_133124, TY55552* Obj_133125) {
NIM_BOOL LOC2;
NI LOC3;
LOC3 = Sonslen_55807(Obj_133125);
LOC2 = (0 < LOC3);
if (!(LOC2)) goto LA4;
LOC2 = !(((*Obj_133125).Sons->data[0] == NIM_NIL));
LA4: ;
if (!LOC2) goto LA5;
Addinheritedfields_133118(C_133120, Check_133122, Pos_133124, (*Obj_133125).Sons->data[0]);
LA5: ;
Addinheritedfieldsaux_132999(C_133120, Check_133122, Pos_133124, (*Obj_133125).N);
}
N_NIMCALL(void, Checkbool_130826)(TY55526* T_130828) {
NIM_BOOL LOC2;
TY55552* LOC4;
LOC2 = ((*T_130828).Typ == NIM_NIL);
if (LOC2) goto LA3;
LOC4 = 0;
LOC4 = Skiptypes_97087((*T_130828).Typ, 8423424);
LOC2 = !(((*LOC4).Kind == ((NU8) 1)));
LA3: ;
if (!LOC2) goto LA5;
Localerror_48144((*T_130828).Info, ((NU8) 100), ((NimStringDesc*) &TMP195991));
LA5: ;
}
N_NIMCALL(NU8, Cmptypes_129367)(TY55552* F_129369, TY55552* A_129370) {
NU8 Result_129371;
TY55564 Mapping_129372;
Result_129371 = 0;
memset((void*)&Mapping_129372, 0, sizeof(Mapping_129372));
Initidtable_55755(&Mapping_129372);
Result_129371 = Typerel_128244(&Mapping_129372, F_129369, A_129370);
return Result_129371;
}
N_NIMCALL(void, Typemismatch_130850)(TY55526* N_130852, TY55552* Formal_130853, TY55552* Actual_130854) {
NimStringDesc* LOC1;
NimStringDesc* LOC2;
NimStringDesc* LOC3;
NimStringDesc* LOC4;
TY47805 LOC5;
NimStringDesc* LOC6;
LOC1 = 0;
LOC2 = 0;
LOC2 = Msgkindtostring_47794(((NU8) 125));
LOC3 = 0;
LOC3 = Typetostring_97014(Actual_130854, ((NU8) 0));
LOC4 = 0;
LOC4 = Msgkindtostring_47794(((NU8) 127));
memset((void*)&LOC5, 0, sizeof(LOC5));
LOC5[0] = Typetostring_97014(Formal_130853, ((NU8) 0));
LOC6 = 0;
LOC6 = nsuFormatOpenArray(LOC4, LOC5, 1);
LOC1 = rawNewString(LOC2->Sup.len + LOC3->Sup.len + LOC6->Sup.len + 2);
appendString(LOC1, LOC2);
appendString(LOC1, LOC3);
appendString(LOC1, ((NimStringDesc*) &TMP196106));
appendString(LOC1, LOC6);
Globalerror_48139((*N_130852).Info, ((NU8) 4), LOC1);
}
N_NIMCALL(void, Sembranchexpr_132179)(TY107012* C_132181, TY55526* T_132182, TY55526** Ex_132184) {
NU8 LOC2;
unsureAsgnRef((void**) &(*Ex_132184), Semconstexpr_126171(C_132181, (*Ex_132184)));
Checkminsonslen_107413(T_132182, 1);
LOC2 = Cmptypes_129367((*(*T_132182).KindU.S6.Sons->data[0]).Typ, (*(*Ex_132184)).Typ);
if (!(LOC2 <= ((NU8) 1))) goto LA3;
Typemismatch_130850((*Ex_132184), (*(*T_132182).KindU.S6.Sons->data[0]).Typ, (*(*Ex_132184)).Typ);
LA3: ;
}
N_NIMCALL(void, Checkforoverlap_132119)(TY107012* C_132121, TY55526* T_132122, TY55526* Ex_132123, NI Branchindex_132124) {
NI I_132133;
NI HEX3Atmp_146705;
NI Res_146707;
NI J_132154;
NI HEX3Atmp_146702;
NI LOC2;
NI Res_146704;
NIM_BOOL LOC5;
I_132133 = 0;
HEX3Atmp_146705 = 0;
HEX3Atmp_146705 = (NI32)(Branchindex_132124 - 1);
Res_146707 = 0;
Res_146707 = 1;
while (1) {
if (!(Res_146707 <= HEX3Atmp_146705)) goto LA1;
I_132133 = Res_146707;
J_132154 = 0;
HEX3Atmp_146702 = 0;
LOC2 = Sonslen_55804((*T_132122).KindU.S6.Sons->data[I_132133]);
HEX3Atmp_146702 = (NI32)(LOC2 - 2);
Res_146704 = 0;
Res_146704 = 0;
while (1) {
if (!(Res_146704 <= HEX3Atmp_146702)) goto LA3;
J_132154 = Res_146704;
LOC5 = Overlap_104006((*(*T_132122).KindU.S6.Sons->data[I_132133]).KindU.S6.Sons->data[J_132154], Ex_132123);
if (!LOC5) goto LA6;
Localerror_48144((*Ex_132123).Info, ((NU8) 102), ((NimStringDesc*) &TMP195991));
LA6: ;
Res_146704 += 1;
} LA3: ;
Res_146707 += 1;
} LA1: ;
}
N_NIMCALL(void, Semcasebranch_132218)(TY107012* C_132220, TY55526* T_132221, TY55526* Branch_132222, NI Branchindex_132223, NI64* Covered_132225) {
NI I_132234;
NI HEX3Atmp_146708;
NI LOC1;
NI Res_146710;
TY55526* B_132247;
NIM_BOOL LOC7;
NI64 LOC10;
NI64 LOC11;
I_132234 = 0;
HEX3Atmp_146708 = 0;
LOC1 = Sonslen_55804(Branch_132222);
HEX3Atmp_146708 = (NI32)(LOC1 - 2);
Res_146710 = 0;
Res_146710 = 0;
while (1) {
if (!(Res_146710 <= HEX3Atmp_146708)) goto LA2;
I_132234 = Res_146710;
B_132247 = 0;
B_132247 = (*Branch_132222).KindU.S6.Sons->data[I_132234];
if (!((*B_132247).Kind == ((NU8) 35))) goto LA4;
Checksonslen_107407(B_132247, 2);
Sembranchexpr_132179(C_132220, T_132221, &(*B_132247).KindU.S6.Sons->data[0]);
Sembranchexpr_132179(C_132220, T_132221, &(*B_132247).KindU.S6.Sons->data[1]);
LOC7 = Emptyrange_104019((*B_132247).KindU.S6.Sons->data[0], (*B_132247).KindU.S6.Sons->data[1]);
if (!LOC7) goto LA8;
Globalerror_48139((*B_132247).Info, ((NU8) 103), ((NimStringDesc*) &TMP195991));
LA8: ;
LOC10 = Getordvalue_97109((*B_132247).KindU.S6.Sons->data[1]);
LOC11 = Getordvalue_97109((*B_132247).KindU.S6.Sons->data[0]);
(*Covered_132225) = (NI64)((NI64)((NI64)((*Covered_132225) + LOC10) - LOC11) + 1);
goto LA3;
LA4: ;
Sembranchexpr_132179(C_132220, T_132221, &(*Branch_132222).KindU.S6.Sons->data[I_132234]);
(*Covered_132225) += 1;
LA3: ;
Checkforoverlap_132119(C_132220, T_132221, (*Branch_132222).KindU.S6.Sons->data[I_132234], Branchindex_132223);
Res_146710 += 1;
} LA2: ;
}
N_NIMCALL(void, Semrecordcase_132378)(TY107012* C_132380, TY55526* N_132381, TY55895* Check_132383, NI* Pos_132385, TY55526* Father_132386, TY55548* Rectype_132387) {
NI64 Covered_132388;
NIM_BOOL Chckcovered_132389;
TY55526* A_132390;
TY55526* B_132391;
TY55552* Typ_132392;
NIM_BOOL LOC5;
NI64 LOC9;
NI64 LOC13;
NI I_132538;
NI HEX3Atmp_146711;
NI LOC16;
NI Res_146713;
NI LOC18;
TY55526* LOC19;
NIM_BOOL LOC21;
NI64 LOC23;
Covered_132388 = 0;
Chckcovered_132389 = 0;
A_132390 = 0;
B_132391 = 0;
Typ_132392 = 0;
A_132390 = Copynode_55849(N_132381);
Checkminsonslen_107413(N_132381, 2);
Semrecordnodeaux_132368(C_132380, (*N_132381).KindU.S6.Sons->data[0], Check_132383, Pos_132385, A_132390, Rectype_132387);
if (!!(((*(*A_132390).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA2;
Internalerror_48163(((NimStringDesc*) &TMP196105));
LA2: ;
(*(*(*A_132390).KindU.S6.Sons->data[0]).KindU.S4.Sym).Flags |=(1<<((NI32)(((NU8) 21))%(sizeof(NI32)*8)));
Covered_132388 = 0;
Typ_132392 = Skiptypes_97087((*(*A_132390).KindU.S6.Sons->data[0]).Typ, 8431616);
LOC5 = Isordinaltype_97069(Typ_132392);
if (!!(LOC5)) goto LA6;
Globalerror_48139((*N_132381).Info, ((NU8) 105), ((NimStringDesc*) &TMP195991));
LA6: ;
LOC9 = Firstord_97001(Typ_132392);
if (!(LOC9 < 0)) goto LA10;
Globalerror_48139((*N_132381).Info, ((NU8) 106), (*(*(*(*A_132390).KindU.S6.Sons->data[0]).KindU.S4.Sym).Name).S);
LA10: ;
LOC13 = Lengthord_97007(Typ_132392);
if (!(32767 < LOC13)) goto LA14;
Globalerror_48139((*N_132381).Info, ((NU8) 107), (*(*(*(*A_132390).KindU.S6.Sons->data[0]).KindU.S4.Sym).Name).S);
LA14: ;
Chckcovered_132389 = NIM_TRUE;
I_132538 = 0;
HEX3Atmp_146711 = 0;
LOC16 = Sonslen_55804(N_132381);
HEX3Atmp_146711 = (NI32)(LOC16 - 1);
Res_146713 = 0;
Res_146713 = 1;
while (1) {
if (!(Res_146713 <= HEX3Atmp_146711)) goto LA17;
I_132538 = Res_146713;
B_132391 = Copytree_55852((*N_132381).KindU.S6.Sons->data[I_132538]);
switch ((*(*N_132381).KindU.S6.Sons->data[I_132538]).Kind) {
case ((NU8) 75):
Checkminsonslen_107413(B_132391, 2);
Semcasebranch_132218(C_132380, A_132390, B_132391, I_132538, &Covered_132388);
break;
case ((NU8) 78):
Chckcovered_132389 = NIM_FALSE;
Checksonslen_107407(B_132391, 1);
break;
default:
Illformedast_107403(N_132381);
break;
}
LOC18 = Sonslen_55804(B_132391);
Delson_55832(B_132391, (NI32)(LOC18 - 1));
LOC19 = 0;
LOC19 = Lastson_55810((*N_132381).KindU.S6.Sons->data[I_132538]);
Semrecordnodeaux_132368(C_132380, LOC19, Check_132383, Pos_132385, B_132391, Rectype_132387);
Addson_55824(A_132390, B_132391);
Res_146713 += 1;
} LA17: ;
LOC21 = Chckcovered_132389;
if (!(LOC21)) goto LA22;
LOC23 = Lengthord_97007((*(*A_132390).KindU.S6.Sons->data[0]).Typ);
LOC21 = !((Covered_132388 == LOC23));
LA22: ;
if (!LOC21) goto LA24;
Localerror_48144((*A_132390).Info, ((NU8) 147), ((NimStringDesc*) &TMP195991));
LA24: ;
Addson_55824(Father_132386, A_132390);
}
N_NIMCALL(TY55548*, Newsyms_126059)(NU8 Kind_126061, TY55526* N_126062, TY107012* C_126063) {
TY55548* Result_126064;
TY54011* LOC1;
TY55548* LOC2;
Result_126064 = 0;
LOC1 = 0;
LOC1 = Consideracc_126003(N_126062);
LOC2 = 0;
LOC2 = Getcurrowner_107092();
Result_126064 = Newsym_55702(Kind_126061, LOC1, LOC2);
(*Result_126064).Info = (*N_126062).Info;
return Result_126064;
}
N_NIMCALL(TY55548*, Semidentvis_126092)(TY107012* C_126094, NU8 Kind_126095, TY55526* N_126096, NU32 Allowed_126097) {
TY55548* Result_131913;
NIM_BOOL LOC5;
NI LOC6;
TY54011* V_131982;
NIM_BOOL LOC11;
NIM_BOOL LOC15;
Result_131913 = 0;
if (!((*N_126096).Kind == ((NU8) 29))) goto LA2;
LOC6 = Sonslen_55804(N_126096);
LOC5 = (LOC6 == 2);
if (!(LOC5)) goto LA7;
LOC5 = ((*(*N_126096).KindU.S6.Sons->data[0]).Kind == ((NU8) 2));
LA7: ;
if (!LOC5) goto LA8;
Result_131913 = Newsyms_126059(Kind_126095, (*N_126096).KindU.S6.Sons->data[1], C_126094);
V_131982 = 0;
V_131982 = (*(*N_126096).KindU.S6.Sons->data[0]).KindU.S5.Ident;
LOC11 = ((Allowed_126097 &(1<<((((NU8) 1))&31)))!=0);
if (!(LOC11)) goto LA12;
LOC11 = ((*V_131982).Sup.Id == 69);
LA12: ;
if (!LOC11) goto LA13;
(*Result_131913).Flags |=(1<<((NI32)(((NU8) 1))%(sizeof(NI32)*8)));
goto LA10;
LA13: ;
LOC15 = ((Allowed_126097 &(1<<((((NU8) 2))&31)))!=0);
if (!(LOC15)) goto LA16;
LOC15 = ((*V_131982).Sup.Id == 70);
LA16: ;
if (!LOC15) goto LA17;
(*Result_131913).Flags |=(1<<((NI32)(((NU8) 2))%(sizeof(NI32)*8)));
goto LA10;
LA17: ;
Globalerror_48139((*(*N_126096).KindU.S6.Sons->data[0]).Info, ((NU8) 171), (*V_131982).S);
LA10: ;
goto LA4;
LA8: ;
Illformedast_107403(N_126096);
LA4: ;
goto LA1;
LA2: ;
Result_131913 = Newsyms_126059(Kind_126095, N_126096, C_126094);
LA1: ;
return Result_131913;
}
N_NIMCALL(TY55548*, Semidentwithpragma_126098)(TY107012* C_126100, NU8 Kind_126101, TY55526* N_126102, NU32 Allowed_126103) {
TY55548* Result_132061;
Result_132061 = 0;
if (!((*N_126102).Kind == ((NU8) 34))) goto LA2;
Checksonslen_107407(N_126102, 2);
Result_132061 = Semidentvis_126092(C_126100, Kind_126101, (*N_126102).KindU.S6.Sons->data[0], Allowed_126103);
switch (Kind_126101) {
case ((NU8) 7):
break;
case ((NU8) 16):
Pragma_122028(C_126100, Result_132061, (*N_126102).KindU.S6.Sons->data[1], TMP196112);
break;
case ((NU8) 9):
Pragma_122028(C_126100, Result_132061, (*N_126102).KindU.S6.Sons->data[1], TMP196113);
break;
case ((NU8) 8):
Pragma_122028(C_126100, Result_132061, (*N_126102).KindU.S6.Sons->data[1], TMP196114);
break;
default:
break;
}
goto LA1;
LA2: ;
Result_132061 = Semidentvis_126092(C_126100, Kind_126101, N_126102, Allowed_126103);
LA1: ;
return Result_132061;
}
N_NIMCALL(void, Semrecordnodeaux_132368)(TY107012* C_132370, TY55526* N_132371, TY55895* Check_132373, NI* Pos_132375, TY55526* Father_132376, TY55548* Rectype_132377) {
NI Length_132600;
TY55548* F_132601;
TY55526* A_132602;
TY55526* It_132603;
TY55526* E_132604;
TY55526* Branch_132605;
TY55552* Typ_132606;
NI I_132626;
NI HEX3Atmp_146714;
NI LOC4;
NI Res_146716;
NIM_BOOL LOC13;
TY55526* LOC26;
TY55526* A_132760;
TY55526* LOC27;
NI I_132769;
NI HEX3Atmp_146717;
NI LOC30;
NI Res_146719;
NIM_BOOL LOC36;
NI I_132876;
NI HEX3Atmp_146720;
NI LOC46;
NI Res_146722;
NIM_BOOL LOC49;
NIM_BOOL LOC50;
NIM_BOOL LOC56;
TY55526* LOC62;
TY55526* LOC63;
Length_132600 = 0;
F_132601 = 0;
A_132602 = 0;
It_132603 = 0;
E_132604 = 0;
Branch_132605 = 0;
Typ_132606 = 0;
if (!(N_132371 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*N_132371).Kind) {
case ((NU8) 115):
Branch_132605 = NIM_NIL;
I_132626 = 0;
HEX3Atmp_146714 = 0;
LOC4 = Sonslen_55804(N_132371);
HEX3Atmp_146714 = (NI32)(LOC4 - 1);
Res_146716 = 0;
Res_146716 = 0;
while (1) {
if (!(Res_146716 <= HEX3Atmp_146714)) goto LA5;
I_132626 = Res_146716;
It_132603 = (*N_132371).KindU.S6.Sons->data[I_132626];
if (!(It_132603 == NIM_NIL)) goto LA7;
Illformedast_107403(N_132371);
LA7: ;
switch ((*It_132603).Kind) {
case ((NU8) 76):
Checksonslen_107407(It_132603, 2);
E_132604 = Semconstexpr_126171(C_132370, (*It_132603).KindU.S6.Sons->data[0]);
Checkbool_130826(E_132604);
if (!!(((*E_132604).Kind == ((NU8) 6)))) goto LA10;
Internalerror_48159((*E_132604).Info, ((NimStringDesc*) &TMP196104));
LA10: ;
LOC13 = !(((*E_132604).KindU.S1.Intval == 0));
if (!(LOC13)) goto LA14;
LOC13 = (Branch_132605 == NIM_NIL);
LA14: ;
if (!LOC13) goto LA15;
Branch_132605 = (*It_132603).KindU.S6.Sons->data[1];
LA15: ;
break;
case ((NU8) 78):
Checksonslen_107407(It_132603, 1);
if (!(Branch_132605 == NIM_NIL)) goto LA18;
Branch_132605 = (*It_132603).KindU.S6.Sons->data[0];
LA18: ;
break;
default:
Illformedast_107403(N_132371);
break;
}
Res_146716 += 1;
} LA5: ;
if (!!((Branch_132605 == NIM_NIL))) goto LA21;
Semrecordnodeaux_132368(C_132370, Branch_132605, Check_132373, Pos_132375, Father_132376, Rectype_132377);
LA21: ;
break;
case ((NU8) 114):
Semrecordcase_132378(C_132370, N_132371, Check_132373, Pos_132375, Father_132376, Rectype_132377);
break;
case ((NU8) 18):
if (!!(((*Father_132376).Kind == ((NU8) 113)))) goto LA24;
LOC26 = 0;
LOC26 = Newnodei_55738(((NU8) 113), (*N_132371).Info);
Addson_55824(Father_132376, LOC26);
LA24: ;
break;
case ((NU8) 113):
A_132760 = 0;
LOC27 = 0;
if (!((*Father_132376).Kind == ((NU8) 113))) goto LA29;
LOC27 = Father_132376;
goto LA28;
LA29: ;
LOC27 = Copynode_55849(N_132371);
LA28: ;
A_132760 = LOC27;
I_132769 = 0;
HEX3Atmp_146717 = 0;
LOC30 = Sonslen_55804(N_132371);
HEX3Atmp_146717 = (NI32)(LOC30 - 1);
Res_146719 = 0;
Res_146719 = 0;
while (1) {
if (!(Res_146719 <= HEX3Atmp_146717)) goto LA31;
I_132769 = Res_146719;
Semrecordnodeaux_132368(C_132370, (*N_132371).KindU.S6.Sons->data[I_132769], Check_132373, Pos_132375, A_132760, Rectype_132377);
Res_146719 += 1;
} LA31: ;
if (!!((A_132760 == Father_132376))) goto LA33;
Addson_55824(Father_132376, A_132760);
LA33: ;
break;
case ((NU8) 25):
Checkminsonslen_107413(N_132371, 3);
Length_132600 = Sonslen_55804(N_132371);
LOC36 = !(((*Father_132376).Kind == ((NU8) 113)));
if (!(LOC36)) goto LA37;
LOC36 = (4 <= Length_132600);
LA37: ;
if (!LOC36) goto LA38;
A_132602 = Newnodei_55738(((NU8) 113), (*N_132371).Info);
goto LA35;
LA38: ;
A_132602 = Emptynode_55858;
LA35: ;
if (!!(((*(*N_132371).KindU.S6.Sons->data[(NI32)(Length_132600 - 1)]).Kind == ((NU8) 1)))) goto LA41;
Localerror_48144((*(*N_132371).KindU.S6.Sons->data[(NI32)(Length_132600 - 1)]).Info, ((NU8) 172), ((NimStringDesc*) &TMP195991));
LA41: ;
if (!((*(*N_132371).KindU.S6.Sons->data[(NI32)(Length_132600 - 2)]).Kind == ((NU8) 1))) goto LA44;
Globalerror_48139((*N_132371).Info, ((NU8) 60), ((NimStringDesc*) &TMP195991));
LA44: ;
Typ_132606 = Semtypenode_126138(C_132370, (*N_132371).KindU.S6.Sons->data[(NI32)(Length_132600 - 2)], NIM_NIL);
I_132876 = 0;
HEX3Atmp_146720 = 0;
LOC46 = Sonslen_55804(N_132371);
HEX3Atmp_146720 = (NI32)(LOC46 - 3);
Res_146722 = 0;
Res_146722 = 0;
while (1) {
if (!(Res_146722 <= HEX3Atmp_146720)) goto LA47;
I_132876 = Res_146722;
F_132601 = Semidentwithpragma_126098(C_132370, ((NU8) 16), (*N_132371).KindU.S6.Sons->data[I_132876], 6);
asgnRef((void**) &(*F_132601).Typ, Typ_132606);
(*F_132601).Position = (*Pos_132375);
LOC50 = !((Rectype_132377 == NIM_NIL));
if (!(LOC50)) goto LA51;
LOC50 = !(((384 & (*Rectype_132377).Flags) == 0));
LA51: ;
LOC49 = LOC50;
if (!(LOC49)) goto LA52;
LOC49 = ((*F_132601).Loc.R == NIM_NIL);
LA52: ;
if (!LOC49) goto LA53;
asgnRefNoCycle((void**) &(*F_132601).Loc.R, Torope_52046((*(*F_132601).Name).S));
(*F_132601).Flags = ((*F_132601).Flags | (384 & (*Rectype_132377).Flags));
LA53: ;
(*Pos_132375) += 1;
LOC56 = Intsetcontainsorincl_55923(Check_132373, (*(*F_132601).Name).Sup.Id);
if (!LOC56) goto LA57;
Localerror_48144((*(*N_132371).KindU.S6.Sons->data[I_132876]).Info, ((NU8) 37), (*(*F_132601).Name).S);
LA57: ;
if (!((*A_132602).Kind == ((NU8) 1))) goto LA60;
LOC62 = 0;
LOC62 = Newsymnode_55735(F_132601);
Addson_55824(Father_132376, LOC62);
goto LA59;
LA60: ;
LOC63 = 0;
LOC63 = Newsymnode_55735(F_132601);
Addson_55824(A_132602, LOC63);
LA59: ;
Res_146722 += 1;
} LA47: ;
if (!!(((*A_132602).Kind == ((NU8) 1)))) goto LA65;
Addson_55824(Father_132376, A_132602);
LA65: ;
break;
case ((NU8) 1):
break;
default:
Illformedast_107403(N_132371);
break;
}
BeforeRet: ;
}
N_NIMCALL(TY55552*, Semobjectnode_133141)(TY107012* C_133143, TY55526* N_133144, TY55552* Prev_133145) {
TY55552* Result_133146;
TY55895 Check_133147;
TY55552* Base_133148;
NI Pos_133149;
NIM_BOOL LOC11;
Result_133146 = 0;
memset((void*)&Check_133147, 0, sizeof(Check_133147));
Base_133148 = 0;
Pos_133149 = 0;
Intsetinit_55919(&Check_133147);
Pos_133149 = 0;
Checksonslen_107407(N_133144, 3);
if (!!(((*(*N_133144).KindU.S6.Sons->data[1]).Kind == ((NU8) 1)))) goto LA2;
Base_133148 = Semtypenode_126138(C_133143, (*(*N_133144).KindU.S6.Sons->data[1]).KindU.S6.Sons->data[0], NIM_NIL);
if (!((*Base_133148).Kind == ((NU8) 17))) goto LA5;
Addinheritedfields_133118(C_133143, &Check_133147, &Pos_133149, Base_133148);
goto LA4;
LA5: ;
Localerror_48144((*(*N_133144).KindU.S6.Sons->data[1]).Info, ((NU8) 118), ((NimStringDesc*) &TMP195991));
LA4: ;
goto LA1;
LA2: ;
Base_133148 = NIM_NIL;
LA1: ;
if (!!(((*N_133144).Kind == ((NU8) 111)))) goto LA8;
Internalerror_48159((*N_133144).Info, ((NimStringDesc*) &TMP196103));
LA8: ;
Result_133146 = Neworprevtype_130876(((NU8) 17), Prev_133145, C_133143);
Addson_55828(Result_133146, Base_133148);
asgnRefNoCycle((void**) &(*Result_133146).N, Newnodei_55738(((NU8) 113), (*N_133144).Info));
Semrecordnodeaux_132368(C_133143, (*N_133144).KindU.S6.Sons->data[2], &Check_133147, &Pos_133149, (*Result_133146).N, (*Result_133146).Sym);
LOC11 = !((Base_133148 == NIM_NIL));
if (!(LOC11)) goto LA12;
LOC11 = (((*Base_133148).Flags &(1<<((((NU8) 2))&7)))!=0);
LA12: ;
if (!LOC11) goto LA13;
Localerror_48144((*(*N_133144).KindU.S6.Sons->data[1]).Info, ((NU8) 118), ((NimStringDesc*) &TMP195991));
LA13: ;
return Result_133146;
}
N_NIMCALL(TY55552*, Semtuple_131678)(TY107012* C_131680, TY55526* N_131681, TY55552* Prev_131682) {
TY55552* Result_131683;
TY55552* Typ_131684;
TY55895 Check_131685;
NI Counter_131687;
NI I_131696;
NI HEX3Atmp_146696;
NI LOC1;
NI Res_146698;
TY55526* A_131709;
NI Length_131719;
NI J_131794;
NI HEX3Atmp_146693;
NI Res_146695;
TY55548* Field_131807;
NIM_BOOL LOC14;
TY55526* LOC17;
Result_131683 = 0;
Typ_131684 = 0;
memset((void*)&Check_131685, 0, sizeof(Check_131685));
Result_131683 = Neworprevtype_130876(((NU8) 18), Prev_131682, C_131680);
asgnRefNoCycle((void**) &(*Result_131683).N, Newnodei_55738(((NU8) 113), (*N_131681).Info));
Intsetinit_55919(&Check_131685);
Counter_131687 = 0;
Counter_131687 = 0;
I_131696 = 0;
HEX3Atmp_146696 = 0;
LOC1 = Sonslen_55804(N_131681);
HEX3Atmp_146696 = (NI32)(LOC1 - 1);
Res_146698 = 0;
Res_146698 = 0;
while (1) {
if (!(Res_146698 <= HEX3Atmp_146696)) goto LA2;
I_131696 = Res_146698;
A_131709 = 0;
A_131709 = (*N_131681).KindU.S6.Sons->data[I_131696];
if (!!(((*A_131709).Kind == ((NU8) 25)))) goto LA4;
Illformedast_107403(A_131709);
LA4: ;
Checkminsonslen_107413(A_131709, 3);
Length_131719 = 0;
Length_131719 = Sonslen_55804(A_131709);
if (!!(((*(*A_131709).KindU.S6.Sons->data[(NI32)(Length_131719 - 2)]).Kind == ((NU8) 1)))) goto LA7;
Typ_131684 = Semtypenode_126138(C_131680, (*A_131709).KindU.S6.Sons->data[(NI32)(Length_131719 - 2)], NIM_NIL);
goto LA6;
LA7: ;
Globalerror_48139((*A_131709).Info, ((NU8) 60), ((NimStringDesc*) &TMP195991));
LA6: ;
if (!!(((*(*A_131709).KindU.S6.Sons->data[(NI32)(Length_131719 - 1)]).Kind == ((NU8) 1)))) goto LA10;
Globalerror_48139((*(*A_131709).KindU.S6.Sons->data[(NI32)(Length_131719 - 1)]).Info, ((NU8) 172), ((NimStringDesc*) &TMP195991));
LA10: ;
J_131794 = 0;
HEX3Atmp_146693 = 0;
HEX3Atmp_146693 = (NI32)(Length_131719 - 3);
Res_146695 = 0;
Res_146695 = 0;
while (1) {
if (!(Res_146695 <= HEX3Atmp_146693)) goto LA12;
J_131794 = Res_146695;
Field_131807 = 0;
Field_131807 = Newsyms_126059(((NU8) 16), (*A_131709).KindU.S6.Sons->data[J_131794], C_131680);
asgnRef((void**) &(*Field_131807).Typ, Typ_131684);
(*Field_131807).Position = Counter_131687;
Counter_131687 += 1;
LOC14 = Intsetcontainsorincl_55923(&Check_131685, (*(*Field_131807).Name).Sup.Id);
if (!LOC14) goto LA15;
Globalerror_48139((*(*A_131709).KindU.S6.Sons->data[J_131794]).Info, ((NU8) 37), (*(*Field_131807).Name).S);
LA15: ;
LOC17 = 0;
LOC17 = Newsymnode_55735(Field_131807);
Addson_55824((*Result_131683).N, LOC17);
Addson_55828(Result_131683, Typ_131684);
Res_146695 += 1;
} LA12: ;
Res_146698 += 1;
} LA2: ;
return Result_131683;
}
N_NIMCALL(TY55552*, Semanyref_131280)(TY107012* C_131282, TY55526* N_131283, NU8 Kind_131284, NimStringDesc* Kindstr_131285, TY55552* Prev_131286) {
TY55552* Result_131287;
NI LOC2;
TY55552* Base_131302;
Result_131287 = 0;
Result_131287 = Neworprevtype_130876(Kind_131284, Prev_131286, C_131282);
LOC2 = Sonslen_55804(N_131283);
if (!(LOC2 == 1)) goto LA3;
Base_131302 = 0;
Base_131302 = Semtypenode_126138(C_131282, (*N_131283).KindU.S6.Sons->data[0], NIM_NIL);
Addson_55828(Result_131287, Base_131302);
goto LA1;
LA3: ;
Globalerror_48139((*N_131283).Info, ((NU8) 169), Kindstr_131285);
LA1: ;
return Result_131287;
}
N_NIMCALL(TY55552*, Semvartype_131303)(TY107012* C_131305, TY55526* N_131306, TY55552* Prev_131307) {
TY55552* Result_131308;
NI LOC2;
TY55552* Base_131323;
Result_131308 = 0;
Result_131308 = Neworprevtype_130876(((NU8) 23), Prev_131307, C_131305);
LOC2 = Sonslen_55804(N_131306);
if (!(LOC2 == 1)) goto LA3;
Base_131323 = 0;
Base_131323 = Semtypenode_126138(C_131305, (*N_131306).KindU.S6.Sons->data[0], NIM_NIL);
if (!((*Base_131323).Kind == ((NU8) 23))) goto LA6;
Globalerror_48139((*N_131306).Info, ((NU8) 191), ((NimStringDesc*) &TMP195991));
LA6: ;
Addson_55828(Result_131308, Base_131323);
goto LA1;
LA3: ;
Globalerror_48139((*N_131306).Info, ((NU8) 169), ((NimStringDesc*) &TMP196117));
LA1: ;
return Result_131308;
}
N_NIMCALL(TY55552*, Semdistinct_131333)(TY107012* C_131335, TY55526* N_131336, TY55552* Prev_131337) {
TY55552* Result_131338;
NI LOC2;
TY55552* LOC5;
Result_131338 = 0;
Result_131338 = Neworprevtype_130876(((NU8) 13), Prev_131337, C_131335);
LOC2 = Sonslen_55804(N_131336);
if (!(LOC2 == 1)) goto LA3;
LOC5 = 0;
LOC5 = Semtypenode_126138(C_131335, (*N_131336).KindU.S6.Sons->data[0], NIM_NIL);
Addson_55828(Result_131338, LOC5);
goto LA1;
LA3: ;
Globalerror_48139((*N_131336).Info, ((NU8) 169), ((NimStringDesc*) &TMP196118));
LA1: ;
return Result_131338;
}
N_NIMCALL(TY55552*, Semenum_130902)(TY107012* C_130904, TY55526* N_130905, TY55552* Prev_130906) {
TY55552* Result_130907;
NI64 Counter_130908;
NI64 X_130909;
TY55548* E_130910;
TY55552* Base_130911;
NI64 LOC7;
NI I_130986;
NI HEX3Atmp_146690;
NI LOC8;
NI Res_146692;
TY55526* V_131047;
TY55526* Strval_131048;
TY55552* LOC10;
NI LOC12;
TY55552* LOC16;
NIM_BOOL LOC29;
TY55526* LOC33;
Result_130907 = 0;
Counter_130908 = 0;
X_130909 = 0;
E_130910 = 0;
Base_130911 = 0;
Counter_130908 = 0;
Base_130911 = NIM_NIL;
Result_130907 = Neworprevtype_130876(((NU8) 14), Prev_130906, C_130904);
asgnRefNoCycle((void**) &(*Result_130907).N, Newnodei_55738(((NU8) 121), (*N_130905).Info));
Checkminsonslen_107413(N_130905, 1);
if (!!(((*(*N_130905).KindU.S6.Sons->data[0]).Kind == ((NU8) 1)))) goto LA2;
Base_130911 = Semtypenode_126138(C_130904, (*(*N_130905).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[0], NIM_NIL);
if (!!(((*Base_130911).Kind == ((NU8) 14)))) goto LA5;
Localerror_48144((*(*N_130905).KindU.S6.Sons->data[0]).Info, ((NU8) 119), ((NimStringDesc*) &TMP195991));
LA5: ;
LOC7 = Lastord_97004(Base_130911);
Counter_130908 = (NI64)(LOC7 + 1);
LA2: ;
Addson_55828(Result_130907, Base_130911);
I_130986 = 0;
HEX3Atmp_146690 = 0;
LOC8 = Sonslen_55804(N_130905);
HEX3Atmp_146690 = (NI32)(LOC8 - 1);
Res_146692 = 0;
Res_146692 = 1;
while (1) {
if (!(Res_146692 <= HEX3Atmp_146690)) goto LA9;
I_130986 = Res_146692;
switch ((*(*N_130905).KindU.S6.Sons->data[I_130986]).Kind) {
case ((NU8) 122):
E_130910 = Newsyms_126059(((NU8) 17), (*(*N_130905).KindU.S6.Sons->data[I_130986]).KindU.S6.Sons->data[0], C_130904);
V_131047 = 0;
V_131047 = Semconstexpr_126171(C_130904, (*(*N_130905).KindU.S6.Sons->data[I_130986]).KindU.S6.Sons->data[1]);
Strval_131048 = 0;
Strval_131048 = NIM_NIL;
LOC10 = 0;
LOC10 = Skiptypes_97087((*V_131047).Typ, 43008);
switch ((*LOC10).Kind) {
case ((NU8) 18):
LOC12 = Sonslen_55804(V_131047);
if (!!((LOC12 == 2))) goto LA13;
Globalerror_48139((*V_131047).Info, ((NU8) 108), ((NimStringDesc*) &TMP195991));
LA13: ;
Strval_131048 = (*V_131047).KindU.S6.Sons->data[1];
LOC16 = 0;
LOC16 = Skiptypes_97087((*Strval_131048).Typ, 43008);
if (!!(((*LOC16).Kind == ((NU8) 28) || (*LOC16).Kind == ((NU8) 29)))) goto LA17;
Globalerror_48139((*Strval_131048).Info, ((NU8) 6), ((NimStringDesc*) &TMP195991));
LA17: ;
X_130909 = Getordvalue_97109((*V_131047).KindU.S6.Sons->data[0]);
break;
case ((NU8) 28):
case ((NU8) 29):
Strval_131048 = V_131047;
X_130909 = Counter_130908;
break;
default:
X_130909 = Getordvalue_97109(V_131047);
break;
}
if (!!((I_130986 == 1))) goto LA20;
if (!!((X_130909 == Counter_130908))) goto LA23;
(*Result_130907).Flags |=(1<<((NI8)(((NU8) 4))%(sizeof(NI8)*8)));
LA23: ;
if (!(X_130909 < Counter_130908)) goto LA26;
Globalerror_48139((*(*N_130905).KindU.S6.Sons->data[I_130986]).Info, ((NU8) 141), (*(*E_130910).Name).S);
LA26: ;
LA20: ;
asgnRefNoCycle((void**) &(*E_130910).Ast, Strval_131048);
Counter_130908 = X_130909;
break;
case ((NU8) 3):
E_130910 = (*(*N_130905).KindU.S6.Sons->data[I_130986]).KindU.S4.Sym;
break;
case ((NU8) 2):
E_130910 = Newsyms_126059(((NU8) 17), (*N_130905).KindU.S6.Sons->data[I_130986], C_130904);
break;
default:
Illformedast_107403(N_130905);
break;
}
asgnRef((void**) &(*E_130910).Typ, Result_130907);
(*E_130910).Position = ((NI) (Counter_130908));
LOC29 = !(((*Result_130907).Sym == NIM_NIL));
if (!(LOC29)) goto LA30;
LOC29 = (((*(*Result_130907).Sym).Flags &(1<<((((NU8) 3))&31)))!=0);
LA30: ;
if (!LOC29) goto LA31;
(*E_130910).Flags |=(1<<((NI32)(((NU8) 0))%(sizeof(NI32)*8)));
(*E_130910).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
Strtableadd_60061(&(*(*C_130904).Module).Tab, E_130910);
LA31: ;
LOC33 = 0;
LOC33 = Newsymnode_55735(E_130910);
Addson_55824((*Result_130907).N, LOC33);
Adddeclat_108128(C_130904, E_130910, ((NI) ((NI32)(((NI) ((*C_130904).Tab.Tos)) - 1))));
Counter_130908 += 1;
Res_146692 += 1;
} LA9: ;
return Result_130907;
}
N_NIMCALL(TY55552*, Semstmtlisttype_133625)(TY107012* C_133627, TY55526* N_133628, TY55552* Prev_133629) {
TY55552* Result_133630;
NI Length_133631;
NI I_133640;
NI HEX3Atmp_146744;
NI Res_146746;
Result_133630 = 0;
Checkminsonslen_107413(N_133628, 1);
Length_133631 = 0;
Length_133631 = Sonslen_55804(N_133628);
I_133640 = 0;
HEX3Atmp_146744 = 0;
HEX3Atmp_146744 = (NI32)(Length_133631 - 2);
Res_146746 = 0;
Res_146746 = 0;
while (1) {
if (!(Res_146746 <= HEX3Atmp_146744)) goto LA1;
I_133640 = Res_146746;
asgnRefNoCycle((void**) &(*N_133628).KindU.S6.Sons->data[I_133640], Semstmt_126143(C_133627, (*N_133628).KindU.S6.Sons->data[I_133640]));
Res_146746 += 1;
} LA1: ;
if (!(0 < Length_133631)) goto LA3;
Result_133630 = Semtypenode_126138(C_133627, (*N_133628).KindU.S6.Sons->data[(NI32)(Length_133631 - 1)], Prev_133629);
asgnRef((void**) &(*N_133628).Typ, Result_133630);
asgnRef((void**) &(*(*N_133628).KindU.S6.Sons->data[(NI32)(Length_133631 - 1)]).Typ, Result_133630);
goto LA2;
LA3: ;
Result_133630 = NIM_NIL;
LA2: ;
return Result_133630;
}
N_NIMCALL(TY55552*, Semblocktype_133693)(TY107012* C_133695, TY55526* N_133696, TY55552* Prev_133697) {
TY55552* Result_133698;
TY55548* LOC4;
Result_133698 = 0;
(*(*C_133695).P).Nestedblockcounter += 1;
Checksonslen_107407(N_133696, 2);
Openscope_60141(&(*C_133695).Tab);
if (!!(((*(*N_133696).KindU.S6.Sons->data[0]).Kind == ((NU8) 1)))) goto LA2;
LOC4 = 0;
LOC4 = Newsyms_126059(((NU8) 19), (*N_133696).KindU.S6.Sons->data[0], C_133695);
Adddecl_108114(C_133695, LOC4);
LA2: ;
Result_133698 = Semstmtlisttype_133625(C_133695, (*N_133696).KindU.S6.Sons->data[1], Prev_133697);
asgnRef((void**) &(*(*N_133696).KindU.S6.Sons->data[1]).Typ, Result_133698);
asgnRef((void**) &(*N_133696).Typ, Result_133698);
Closescope_108018(&(*C_133695).Tab);
(*(*C_133695).P).Nestedblockcounter -= 1;
return Result_133698;
}
N_NIMCALL(TY55552*, Semtypenode_126138)(TY107012* C_126140, TY55526* N_126141, TY55552* Prev_126142) {
TY55552* Result_133787;
TY55548* S_133788;
TY55552* T_133789;
TY55526* LOC1;
NI LOC3;
NIM_BOOL LOC13;
TY54011* LOC20;
TY55526* LOC21;
Result_133787 = 0;
S_133788 = 0;
T_133789 = 0;
Result_133787 = NIM_NIL;
switch ((*N_126141).Kind) {
case ((NU8) 1):
break;
case ((NU8) 110):
LOC1 = 0;
LOC1 = Semexprwithtype_126122(C_126140, N_126141, 1);
Result_133787 = (*LOC1).Typ;
break;
case ((NU8) 30):
LOC3 = Sonslen_55804(N_126141);
if (!(LOC3 == 1)) goto LA4;
Result_133787 = Semtypenode_126138(C_126140, (*N_126141).KindU.S6.Sons->data[0], Prev_126142);
goto LA2;
LA4: ;
Globalerror_48139((*N_126141).Info, ((NU8) 60), ((NimStringDesc*) &TMP195991));
LA2: ;
break;
case ((NU8) 33):
Checkminsonslen_107413(N_126141, 2);
S_133788 = Semtypeident_131652(C_126140, (*N_126141).KindU.S6.Sons->data[0]);
switch ((*S_133788).Magic) {
case ((NU8) 163):
Result_133787 = Semarray_131501(C_126140, N_126141, Prev_126142);
break;
case ((NU8) 164):
Result_133787 = Semcontainer_131257(C_126140, N_126141, ((NU8) 27), ((NimStringDesc*) &TMP196094), Prev_126142);
break;
case ((NU8) 165):
Result_133787 = Semrange_131448(C_126140, N_126141, Prev_126142);
break;
case ((NU8) 166):
Result_133787 = Semset_131214(C_126140, N_126141, Prev_126142);
break;
case ((NU8) 168):
Result_133787 = Semordinal_131610(C_126140, N_126141, Prev_126142);
break;
case ((NU8) 167):
Result_133787 = Semcontainer_131257(C_126140, N_126141, ((NU8) 24), ((NimStringDesc*) &TMP196098), Prev_126142);
break;
default:
Result_133787 = Semgeneric_131833(C_126140, N_126141, S_133788, Prev_126142);
break;
}
break;
case ((NU8) 2):
case ((NU8) 36):
case ((NU8) 43):
S_133788 = Semtypeident_131652(C_126140, N_126141);
if (!((*S_133788).Typ == NIM_NIL)) goto LA7;
Globalerror_48139((*N_126141).Info, ((NU8) 60), ((NimStringDesc*) &TMP195991));
LA7: ;
if (!(Prev_126142 == NIM_NIL)) goto LA10;
Result_133787 = (*S_133788).Typ;
goto LA9;
LA10: ;
Assigntype_55780(Prev_126142, (*S_133788).Typ);
(*Prev_126142).Sup.Id = (*(*S_133788).Typ).Sup.Id;
Result_133787 = Prev_126142;
LA9: ;
break;
case ((NU8) 3):
LOC13 = ((*(*N_126141).KindU.S4.Sym).Kind == ((NU8) 7));
if (!(LOC13)) goto LA14;
LOC13 = !(((*(*N_126141).KindU.S4.Sym).Typ == NIM_NIL));
LA14: ;
if (!LOC13) goto LA15;
T_133789 = (*(*N_126141).KindU.S4.Sym).Typ;
if (!(Prev_126142 == NIM_NIL)) goto LA18;
Result_133787 = T_133789;
goto LA17;
LA18: ;
Assigntype_55780(Prev_126142, T_133789);
Result_133787 = Prev_126142;
LA17: ;
Markused_126065(N_126141, (*N_126141).KindU.S4.Sym);
goto LA12;
LA15: ;
Globalerror_48139((*N_126141).Info, ((NU8) 60), ((NimStringDesc*) &TMP195991));
LA12: ;
break;
case ((NU8) 111):
Result_133787 = Semobjectnode_133141(C_126140, N_126141, Prev_126142);
break;
case ((NU8) 112):
Result_133787 = Semtuple_131678(C_126140, N_126141, Prev_126142);
break;
case ((NU8) 116):
Result_133787 = Semanyref_131280(C_126140, N_126141, ((NU8) 22), ((NimStringDesc*) &TMP196115), Prev_126142);
break;
case ((NU8) 117):
Result_133787 = Semanyref_131280(C_126140, N_126141, ((NU8) 21), ((NimStringDesc*) &TMP196116), Prev_126142);
break;
case ((NU8) 118):
Result_133787 = Semvartype_131303(C_126140, N_126141, Prev_126142);
break;
case ((NU8) 119):
Result_133787 = Semdistinct_131333(C_126140, N_126141, Prev_126142);
break;
case ((NU8) 120):
Checksonslen_107407(N_126141, 2);
Result_133787 = Semproctypenode_133374(C_126140, (*N_126141).KindU.S6.Sons->data[0], NIM_NIL, Prev_126142);
LOC20 = 0;
LOC20 = Getident_54016(((NimStringDesc*) &TMP196119));
LOC21 = 0;
LOC21 = Newidentnode_55731(LOC20, (*N_126141).Info);
S_133788 = Newsyms_126059(((NU8) 10), LOC21, C_126140);
asgnRef((void**) &(*S_133788).Typ, Result_133787);
Pragma_122028(C_126140, S_133788, (*N_126141).KindU.S6.Sons->data[1], TMP196120);
break;
case ((NU8) 121):
Result_133787 = Semenum_130902(C_126140, N_126141, Prev_126142);
break;
case ((NU8) 4):
Result_133787 = (*N_126141).Typ;
break;
case ((NU8) 108):
Result_133787 = Semstmtlisttype_133625(C_126140, N_126141, Prev_126142);
break;
case ((NU8) 109):
Result_133787 = Semblocktype_133693(C_126140, N_126141, Prev_126142);
break;
default:
Globalerror_48139((*N_126141).Info, ((NU8) 60), ((NimStringDesc*) &TMP195991));
break;
}
return Result_133787;
}
N_NIMCALL(TY55552*, Addtypevarsofgenericbody_133276)(TY107012* C_133278, TY55552* T_133279, TY55526* Genericparams_133280, TY55895* Cl_133282) {
TY55552* Result_133283;
NIM_BOOL LOC5;
NI I_133303;
NI HEX3Atmp_146729;
NI LOC8;
NI Res_146731;
TY55548* S_133313;
NIM_BOOL LOC14;
TY55526* LOC18;
NI L_133334;
NI LOC19;
NI I_133343;
NI HEX3Atmp_146732;
NI LOC20;
NI Res_146734;
NI I_133352;
NI HEX3Atmp_146735;
NI LOC22;
NI Res_146737;
Result_133283 = 0;
Result_133283 = T_133279;
if (!(T_133279 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
LOC5 = Intsetcontainsorincl_55923(Cl_133282, (*T_133279).Sup.Id);
if (!LOC5) goto LA6;
goto BeforeRet;
LA6: ;
switch ((*T_133279).Kind) {
case ((NU8) 10):
Result_133283 = Newtypes_107077(((NU8) 9), C_133278);
Addson_55828(Result_133283, T_133279);
I_133303 = 0;
HEX3Atmp_146729 = 0;
LOC8 = Sonslen_55807(T_133279);
HEX3Atmp_146729 = (NI32)(LOC8 - 2);
Res_146731 = 0;
Res_146731 = 0;
while (1) {
if (!(Res_146731 <= HEX3Atmp_146729)) goto LA9;
I_133303 = Res_146731;
if (!!(((*(*T_133279).Sons->data[I_133303]).Kind == ((NU8) 12)))) goto LA11;
Internalerror_48163(((NimStringDesc*) &TMP196122));
LA11: ;
S_133313 = 0;
S_133313 = Copysym_55776((*(*T_133279).Sons->data[I_133303]).Sym, NIM_FALSE);
(*S_133313).Position = Sonslen_55804(Genericparams_133280);
LOC14 = ((*S_133313).Typ == NIM_NIL);
if (LOC14) goto LA15;
LOC14 = !(((*(*S_133313).Typ).Kind == ((NU8) 12)));
LA15: ;
if (!LOC14) goto LA16;
Internalerror_48163(((NimStringDesc*) &TMP196123));
LA16: ;
Adddecl_108114(C_133278, S_133313);
LOC18 = 0;
LOC18 = Newsymnode_55735(S_133313);
Addson_55824(Genericparams_133280, LOC18);
Addson_55828(Result_133283, (*T_133279).Sons->data[I_133303]);
Res_146731 += 1;
} LA9: ;
break;
case ((NU8) 11):
L_133334 = 0;
LOC19 = Sonslen_55807(T_133279);
L_133334 = (NI32)(LOC19 - 1);
asgnRef((void**) &(*T_133279).Sons->data[L_133334], Addtypevarsofgenericbody_133276(C_133278, (*T_133279).Sons->data[L_133334], Genericparams_133280, Cl_133282));
break;
case ((NU8) 9):
I_133343 = 0;
HEX3Atmp_146732 = 0;
LOC20 = Sonslen_55807(T_133279);
HEX3Atmp_146732 = (NI32)(LOC20 - 1);
Res_146734 = 0;
Res_146734 = 1;
while (1) {
if (!(Res_146734 <= HEX3Atmp_146732)) goto LA21;
I_133343 = Res_146734;
asgnRef((void**) &(*T_133279).Sons->data[I_133343], Addtypevarsofgenericbody_133276(C_133278, (*T_133279).Sons->data[I_133343], Genericparams_133280, Cl_133282));
Res_146734 += 1;
} LA21: ;
break;
default:
I_133352 = 0;
HEX3Atmp_146735 = 0;
LOC22 = Sonslen_55807(T_133279);
HEX3Atmp_146735 = (NI32)(LOC22 - 1);
Res_146737 = 0;
Res_146737 = 0;
while (1) {
if (!(Res_146737 <= HEX3Atmp_146735)) goto LA23;
I_133352 = Res_146737;
asgnRef((void**) &(*T_133279).Sons->data[I_133352], Addtypevarsofgenericbody_133276(C_133278, (*T_133279).Sons->data[I_133352], Genericparams_133280, Cl_133282));
Res_146737 += 1;
} LA23: ;
break;
}
BeforeRet: ;
return Result_133283;
}
N_NIMCALL(TY55552*, Paramtype_133353)(TY107012* C_133355, TY55526* N_133356, TY55526* Genericparams_133357, TY55895* Cl_133359) {
TY55552* Result_133360;
NIM_BOOL LOC2;
NI LOC4;
Result_133360 = 0;
Result_133360 = Semtypenode_126138(C_133355, N_133356, NIM_NIL);
LOC2 = !((Genericparams_133357 == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC4 = Sonslen_55804(Genericparams_133357);
LOC2 = (LOC4 == 0);
LA3: ;
if (!LOC2) goto LA5;
Result_133360 = Addtypevarsofgenericbody_133276(C_133355, Result_133360, Genericparams_133357, Cl_133359);
LA5: ;
return Result_133360;
}
N_NIMCALL(TY55526*, Indextypesmatch_129821)(TY107012* C_129823, TY55552* F_129824, TY55552* A_129825, TY55526* Arg_129826) {
TY55526* Result_129827;
TY127969 M_129828;
Result_129827 = 0;
memset((void*)&M_129828, 0, sizeof(M_129828));
Initcandidate_127997(&M_129828, F_129824);
Result_129827 = Paramtypesmatch_129632(C_129823, &M_129828, F_129824, A_129825, Arg_129826);
return Result_129827;
}
N_NIMCALL(TY55526*, Fitnode_126129)(TY107012* C_126131, TY55552* Formal_126132, TY55526* Arg_126133) {
TY55526* Result_130864;
Result_130864 = 0;
Result_130864 = Indextypesmatch_129821(C_126131, Formal_126132, (*Arg_126133).Typ, Arg_126133);
if (!(Result_130864 == NIM_NIL)) goto LA2;
Typemismatch_130850(Arg_126133, Formal_126132, (*Arg_126133).Typ);
LA2: ;
return Result_130864;
}
N_NIMCALL(TY55552*, Semproctypenode_133374)(TY107012* C_133376, TY55526* N_133377, TY55526* Genericparams_133378, TY55552* Prev_133379) {
TY55552* Result_133380;
TY55526* Def_133381;
TY55526* Res_133382;
TY55552* Typ_133383;
TY55895 Check_133384;
TY55895 Cl_133385;
TY107002* LOC1;
NIM_BOOL LOC3;
NI LOC5;
NI Counter_133401;
NI I_133410;
NI HEX3Atmp_146741;
NI LOC8;
NI Res_146743;
TY55526* A_133423;
NI Length_133433;
NU8 LOC23;
NI J_133543;
NI HEX3Atmp_146738;
NI Res_146740;
TY55548* Arg_133556;
NIM_BOOL LOC31;
TY55526* LOC34;
Result_133380 = 0;
Def_133381 = 0;
Res_133382 = 0;
Typ_133383 = 0;
memset((void*)&Check_133384, 0, sizeof(Check_133384));
memset((void*)&Cl_133385, 0, sizeof(Cl_133385));
Checkminsonslen_107413(N_133377, 1);
Result_133380 = Neworprevtype_130876(((NU8) 25), Prev_133379, C_133376);
LOC1 = 0;
LOC1 = Lastoptionentry_107053(C_133376);
(*Result_133380).Callconv = (*LOC1).Defaultcc;
asgnRefNoCycle((void**) &(*Result_133380).N, Newnodei_55738(((NU8) 66), (*N_133377).Info));
LOC3 = !((Genericparams_133378 == NIM_NIL));
if (!(LOC3)) goto LA4;
LOC5 = Sonslen_55804(Genericparams_133378);
LOC3 = (LOC5 == 0);
LA4: ;
if (!LOC3) goto LA6;
Intsetinit_55919(&Cl_133385);
LA6: ;
Addson_55828(Result_133380, NIM_NIL);
Res_133382 = Newnodei_55738(((NU8) 4), (*N_133377).Info);
Addson_55824((*Result_133380).N, Res_133382);
Intsetinit_55919(&Check_133384);
Counter_133401 = 0;
Counter_133401 = 0;
I_133410 = 0;
HEX3Atmp_146741 = 0;
LOC8 = Sonslen_55804(N_133377);
HEX3Atmp_146741 = (NI32)(LOC8 - 1);
Res_146743 = 0;
Res_146743 = 1;
while (1) {
if (!(Res_146743 <= HEX3Atmp_146741)) goto LA9;
I_133410 = Res_146743;
A_133423 = 0;
A_133423 = (*N_133377).KindU.S6.Sons->data[I_133410];
if (!!(((*A_133423).Kind == ((NU8) 25)))) goto LA11;
Illformedast_107403(A_133423);
LA11: ;
Checkminsonslen_107413(A_133423, 3);
Length_133433 = 0;
Length_133433 = Sonslen_55804(A_133423);
if (!!(((*(*A_133423).KindU.S6.Sons->data[(NI32)(Length_133433 - 2)]).Kind == ((NU8) 1)))) goto LA14;
Typ_133383 = Paramtype_133353(C_133376, (*A_133423).KindU.S6.Sons->data[(NI32)(Length_133433 - 2)], Genericparams_133378, &Cl_133385);
goto LA13;
LA14: ;
Typ_133383 = NIM_NIL;
LA13: ;
if (!!(((*(*A_133423).KindU.S6.Sons->data[(NI32)(Length_133433 - 1)]).Kind == ((NU8) 1)))) goto LA17;
Def_133381 = Semexprwithtype_126122(C_133376, (*A_133423).KindU.S6.Sons->data[(NI32)(Length_133433 - 1)], 0);
if (!!((Typ_133383 == NIM_NIL))) goto LA20;
LOC23 = Cmptypes_129367(Typ_133383, (*Def_133381).Typ);
if (!(LOC23 < ((NU8) 1))) goto LA24;
Typemismatch_130850((*A_133423).KindU.S6.Sons->data[(NI32)(Length_133433 - 1)], Typ_133383, (*Def_133381).Typ);
LA24: ;
Def_133381 = Fitnode_126129(C_133376, Typ_133383, Def_133381);
goto LA19;
LA20: ;
Typ_133383 = (*Def_133381).Typ;
LA19: ;
goto LA16;
LA17: ;
Def_133381 = Emptynode_55858;
LA16: ;
J_133543 = 0;
HEX3Atmp_146738 = 0;
HEX3Atmp_146738 = (NI32)(Length_133433 - 3);
Res_146740 = 0;
Res_146740 = 0;
while (1) {
if (!(Res_146740 <= HEX3Atmp_146738)) goto LA26;
J_133543 = Res_146740;
Arg_133556 = 0;
Arg_133556 = Newsyms_126059(((NU8) 3), (*A_133423).KindU.S6.Sons->data[J_133543], C_133376);
asgnRef((void**) &(*Arg_133556).Typ, Typ_133383);
(*Arg_133556).Position = Counter_133401;
Counter_133401 += 1;
if (!!(((*Def_133381).Kind == ((NU8) 1)))) goto LA28;
asgnRefNoCycle((void**) &(*Arg_133556).Ast, Copytree_55852(Def_133381));
LA28: ;
LOC31 = Intsetcontainsorincl_55923(&Check_133384, (*(*Arg_133556).Name).Sup.Id);
if (!LOC31) goto LA32;
Localerror_48144((*(*A_133423).KindU.S6.Sons->data[J_133543]).Info, ((NU8) 37), (*(*Arg_133556).Name).S);
LA32: ;
LOC34 = 0;
LOC34 = Newsymnode_55735(Arg_133556);
Addson_55824((*Result_133380).N, LOC34);
Addson_55828(Result_133380, Typ_133383);
Res_146740 += 1;
} LA26: ;
Res_146743 += 1;
} LA9: ;
if (!!(((*(*N_133377).KindU.S6.Sons->data[0]).Kind == ((NU8) 1)))) goto LA36;
asgnRef((void**) &(*Result_133380).Sons->data[0], Paramtype_133353(C_133376, (*N_133377).KindU.S6.Sons->data[0], Genericparams_133378, &Cl_133385));
asgnRef((void**) &(*Res_133382).Typ, (*Result_133380).Sons->data[0]);
LA36: ;
return Result_133380;
}
N_NIMCALL(void, Semparamlist_126147)(TY107012* C_126149, TY55526* N_126150, TY55526* Genericparams_126151, TY55548* S_126152) {
asgnRef((void**) &(*S_126152).Typ, Semproctypenode_133374(C_126149, N_126150, Genericparams_126151, NIM_NIL));
}
N_NIMCALL(void, Addparams_126153)(TY107012* C_126155, TY55526* N_126156) {
NI I_145155;
NI HEX3Atmp_146942;
NI LOC1;
NI Res_146944;
I_145155 = 0;
HEX3Atmp_146942 = 0;
LOC1 = Sonslen_55804(N_126156);
HEX3Atmp_146942 = (NI32)(LOC1 - 1);
Res_146944 = 0;
Res_146944 = 1;
while (1) {
if (!(Res_146944 <= HEX3Atmp_146942)) goto LA2;
I_145155 = Res_146944;
if (!!(((*(*N_126156).KindU.S6.Sons->data[I_145155]).Kind == ((NU8) 3)))) goto LA4;
Internalerror_48159((*N_126156).Info, ((NimStringDesc*) &TMP196124));
LA4: ;
Adddecl_108114(C_126155, (*(*N_126156).KindU.S6.Sons->data[I_145155]).KindU.S4.Sym);
Res_146944 += 1;
} LA2: ;
}
N_NIMCALL(TY55548*, Genericcacheget_127270)(TY107012* C_127272, TY55548* Genericsym_127273, TY55548* Instsym_127274) {
TY55548* Result_127275;
NI I_127284;
NI HEX3Atmp_130778;
NI LOC1;
NI Res_130780;
TY55548* A_127342;
TY55548* B_127381;
NU8 LOC10;
Result_127275 = 0;
Result_127275 = NIM_NIL;
I_127284 = 0;
HEX3Atmp_130778 = 0;
LOC1 = Sonslen_55804((*C_127272).Generics);
HEX3Atmp_130778 = (NI32)(LOC1 - 1);
Res_130780 = 0;
Res_130780 = 0;
while (1) {
if (!(Res_130780 <= HEX3Atmp_130778)) goto LA2;
I_127284 = Res_130780;
if (!!(((*(*(*C_127272).Generics).KindU.S6.Sons->data[I_127284]).Kind == ((NU8) 23)))) goto LA4;
Internalerror_48159((*Genericsym_127273).Info, ((NimStringDesc*) &TMP196125));
LA4: ;
A_127342 = 0;
A_127342 = (*(*(*(*C_127272).Generics).KindU.S6.Sons->data[I_127284]).KindU.S6.Sons->data[0]).KindU.S4.Sym;
if (!((*Genericsym_127273).Sup.Id == (*A_127342).Sup.Id)) goto LA7;
B_127381 = 0;
B_127381 = (*(*(*(*C_127272).Generics).KindU.S6.Sons->data[I_127284]).KindU.S6.Sons->data[1]).KindU.S4.Sym;
LOC10 = Equalparams_97065((*(*B_127381).Typ).N, (*(*Instsym_127274).Typ).N);
if (!(LOC10 == ((NU8) 1))) goto LA11;
Result_127275 = B_127381;
goto BeforeRet;
LA11: ;
LA7: ;
Res_130780 += 1;
} LA2: ;
BeforeRet: ;
return Result_127275;
}
N_NIMCALL(void, Genericcacheadd_127391)(TY107012* C_127393, TY55548* Genericsym_127394, TY55548* Instsym_127395) {
TY55526* N_127396;
TY55526* LOC1;
TY55526* LOC2;
N_127396 = 0;
N_127396 = Newnode_55711(((NU8) 23));
LOC1 = 0;
LOC1 = Newsymnode_55735(Genericsym_127394);
Addson_55824(N_127396, LOC1);
LOC2 = 0;
LOC2 = Newsymnode_55735(Instsym_127395);
Addson_55824(N_127396, LOC2);
Addson_55824((*C_127393).Generics, N_127396);
}
N_NIMCALL(void, Addresult_126157)(TY107012* C_126159, TY55552* T_126160, TY47538 Info_126161) {
TY55548* S_145271;
TY54011* LOC4;
TY55548* LOC5;
if (!!((T_126160 == NIM_NIL))) goto LA2;
S_145271 = 0;
LOC4 = 0;
LOC4 = Getident_54016(((NimStringDesc*) &TMP196127));
LOC5 = 0;
LOC5 = Getcurrowner_107092();
S_145271 = Newsym_55702(((NU8) 9), LOC4, LOC5);
(*S_145271).Info = Info_126161;
asgnRef((void**) &(*S_145271).Typ, T_126160);
(*S_145271).Flags |=(1<<((NI32)(((NU8) 12))%(sizeof(NI32)*8)));
(*S_145271).Flags |=(1<<((NI32)(((NU8) 0))%(sizeof(NI32)*8)));
Adddecl_108114(C_126159, S_145271);
asgnRef((void**) &(*(*C_126159).P).Resultsym, S_145271);
LA2: ;
}
N_NIMCALL(void, Addresultnode_126162)(TY107012* C_126164, TY55526* N_126165) {
TY55526* LOC4;
if (!!(((*(*C_126164).P).Resultsym == NIM_NIL))) goto LA2;
LOC4 = 0;
LOC4 = Newsymnode_55735((*(*C_126164).P).Resultsym);
Addson_55824(N_126165, LOC4);
LA2: ;
}
N_NIMCALL(TY55526*, Semstmtscope_126104)(TY107012* C_126106, TY55526* N_126107) {
TY55526* Result_146687;
Result_146687 = 0;
Openscope_60141(&(*C_126106).Tab);
Result_146687 = Semstmt_126143(C_126106, N_126107);
Closescope_108018(&(*C_126106).Tab);
return Result_146687;
}
N_NIMCALL(TY55548*, Generateinstance_127099)(TY107012* C_127101, TY55548* Fn_127102, TY55564 Pt_127103, TY47538 Info_127104) {
TY55548* Result_127403;
TY55548* Oldprc_127404;
TY55548* Oldmod_127405;
TY107006* Oldp_127406;
TY55526* N_127407;
TY55548* LOC4;
Result_127403 = 0;
Oldprc_127404 = 0;
Oldmod_127405 = 0;
Oldp_127406 = 0;
N_127407 = 0;
if (!(1000 < (*C_127101).Instcounter)) goto LA2;
Internalerror_48159((*(*Fn_127102).Ast).Info, ((NimStringDesc*) &TMP196088));
LA2: ;
(*C_127101).Instcounter += 1;
Oldp_127406 = (*C_127101).P;
Oldmod_127405 = (*C_127101).Module;
asgnRef((void**) &(*C_127101).Module, Getmodule_60198(Fn_127102));
Result_127403 = Copysym_55776(Fn_127102, NIM_FALSE);
(*Result_127403).Flags |=(1<<((NI32)(((NU8) 4))%(sizeof(NI32)*8)));
LOC4 = 0;
LOC4 = Getcurrowner_107092();
asgnRef((void**) &(*Result_127403).Owner, (*LOC4).Owner);
N_127407 = Copytree_55852((*Fn_127102).Ast);
asgnRefNoCycle((void**) &(*Result_127403).Ast, N_127407);
Pushowner_107094(Result_127403);
Openscope_60141(&(*C_127101).Tab);
if (!((*(*N_127407).KindU.S6.Sons->data[1]).Kind == ((NU8) 1))) goto LA6;
Internalerror_48159((*N_127407).Info, ((NimStringDesc*) &TMP196089));
LA6: ;
asgnRefNoCycle((void**) &(*N_127407).KindU.S6.Sons->data[0], Newsymnode_55735(Result_127403));
Pushinfocontext_47615(Info_127104);
Instantiategenericparamlist_127178(C_127101, (*N_127407).KindU.S6.Sons->data[1], Pt_127103);
asgnRefNoCycle((void**) &(*N_127407).KindU.S6.Sons->data[1], Emptynode_55858);
if (!!(((*(*N_127407).KindU.S6.Sons->data[2]).Kind == ((NU8) 1)))) goto LA9;
Semparamlist_126147(C_127101, (*N_127407).KindU.S6.Sons->data[2], NIM_NIL, Result_127403);
Addparams_126153(C_127101, (*(*Result_127403).Typ).N);
goto LA8;
LA9: ;
asgnRef((void**) &(*Result_127403).Typ, Newtypes_107077(((NU8) 25), C_127101));
Addson_55828((*Result_127403).Typ, NIM_NIL);
LA8: ;
(*(*Result_127403).Typ).Callconv = (*(*Fn_127102).Typ).Callconv;
Oldprc_127404 = Genericcacheget_127270(C_127101, Fn_127102, Result_127403);
if (!(Oldprc_127404 == NIM_NIL)) goto LA12;
Genericcacheadd_127391(C_127101, Fn_127102, Result_127403);
Adddecl_108114(C_127101, Result_127403);
if (!!(((*(*N_127407).KindU.S6.Sons->data[4]).Kind == ((NU8) 1)))) goto LA15;
asgnRefNoCycle((void**) &(*C_127101).P, Newproccon_107050(Result_127403));
if (!((11264 &(1<<(((*Result_127403).Kind)&31)))!=0)) goto LA18;
Addresult_126157(C_127101, (*(*Result_127403).Typ).Sons->data[0], (*N_127407).Info);
Addresultnode_126162(C_127101, N_127407);
LA18: ;
asgnRefNoCycle((void**) &(*N_127407).KindU.S6.Sons->data[4], Semstmtscope_126104(C_127101, (*N_127407).KindU.S6.Sons->data[4]));
LA15: ;
goto LA11;
LA12: ;
Result_127403 = Oldprc_127404;
LA11: ;
Popinfocontext_47636();
Closescope_108018(&(*C_127101).Tab);
Popowner_107097();
asgnRefNoCycle((void**) &(*C_127101).P, Oldp_127406);
asgnRef((void**) &(*C_127101).Module, Oldmod_127405);
(*C_127101).Instcounter -= 1;
return Result_127403;
}
N_NIMCALL(TY55526*, Semdirectcallwithbinding_130510)(TY107012* C_130512, TY55526* N_130513, TY55526* F_130514, NU32 Filter_130515, TY55526* Initialbinding_130516) {
TY55526* Result_130517;
TY108004 O_130518;
TY127969 X_130519;
TY127969 Y_130520;
TY127969 Z_130521;
TY55548* Sym_130523;
NI Cmp_130570;
NIM_BOOL LOC19;
NIM_BOOL LOC20;
NI LOC22;
NIM_BOOL LOC24;
NimStringDesc* LOC30;
TY73026 LOC31;
NimStringDesc* LOC32;
Result_130517 = 0;
memset((void*)&O_130518, 0, sizeof(O_130518));
memset((void*)&X_130519, 0, sizeof(X_130519));
memset((void*)&Y_130520, 0, sizeof(Y_130520));
memset((void*)&Z_130521, 0, sizeof(Z_130521));
Sym_130523 = 0;
Sym_130523 = Initoverloaditer_108745(&O_130518, C_130512, F_130514);
Result_130517 = NIM_NIL;
if (!(Sym_130523 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
Initcandidate_128003(&X_130519, Sym_130523, Initialbinding_130516);
Initcandidate_128003(&Y_130520, Sym_130523, Initialbinding_130516);
while (1) {
if (!!((Sym_130523 == NIM_NIL))) goto LA4;
if (!((Filter_130515 &(1<<(((*Sym_130523).Kind)&31)))!=0)) goto LA6;
Initcandidate_128003(&Z_130521, Sym_130523, Initialbinding_130516);
Z_130521.Calleesym = Sym_130523;
Matches_129874(C_130512, N_130513, &Z_130521);
if (!(Z_130521.State == ((NU8) 1))) goto LA9;
switch (X_130519.State) {
case ((NU8) 0):
case ((NU8) 2):
genericAssign((void*)&X_130519, (void*)&Z_130521, NTI127969);
break;
case ((NU8) 1):
Cmp_130570 = 0;
Cmp_130570 = Cmpcandidates_128053(&X_130519, &Z_130521);
if (!(Cmp_130570 < 0)) goto LA12;
genericAssign((void*)&X_130519, (void*)&Z_130521, NTI127969);
goto LA11;
LA12: ;
if (!(Cmp_130570 == 0)) goto LA14;
genericAssign((void*)&Y_130520, (void*)&Z_130521, NTI127969);
goto LA11;
LA14: ;
LA11: ;
break;
}
LA9: ;
LA6: ;
Sym_130523 = Nextoverloaditer_109074(&O_130518, C_130512, F_130514);
} LA4: ;
if (!(X_130519.State == ((NU8) 0))) goto LA17;
goto LA16;
LA17: ;
LOC20 = (Y_130520.State == ((NU8) 1));
if (!(LOC20)) goto LA21;
LOC22 = Cmpcandidates_128053(&X_130519, &Y_130520);
LOC20 = (LOC22 == 0);
LA21: ;
LOC19 = LOC20;
if (!(LOC19)) goto LA23;
LOC24 = Samemethoddispatcher_130434(X_130519.Calleesym, Y_130520.Calleesym);
LOC19 = !(LOC24);
LA23: ;
if (!LOC19) goto LA25;
if (!!((X_130519.State == ((NU8) 1)))) goto LA28;
Internalerror_48159((*N_130513).Info, ((NimStringDesc*) &TMP196084));
LA28: ;
LOC30 = 0;
LOC30 = Msgkindtostring_47794(((NU8) 128));
memset((void*)&LOC31, 0, sizeof(LOC31));
LOC31[0] = Getprocheader_97018(X_130519.Calleesym);
LOC31[1] = Getprocheader_97018(Y_130520.Calleesym);
LOC31[2] = copyString((*(*X_130519.Calleesym).Name).S);
LOC32 = 0;
LOC32 = nsuFormatOpenArray(LOC30, LOC31, 3);
Localerror_48144((*N_130513).Info, ((NU8) 4), LOC32);
goto LA16;
LA25: ;
Markused_126065(N_130513, X_130519.Calleesym);
if (!((*X_130519.Calleesym).Ast == NIM_NIL)) goto LA34;
Internalerror_48159((*N_130513).Info, ((NimStringDesc*) &TMP196087));
LA34: ;
if (!!(((*(*(*X_130519.Calleesym).Ast).KindU.S6.Sons->data[1]).Kind == ((NU8) 1)))) goto LA37;
X_130519.Calleesym = Generateinstance_127099(C_130512, X_130519.Calleesym, X_130519.Bindings, (*N_130513).Info);
X_130519.Callee = (*X_130519.Calleesym).Typ;
LA37: ;
Result_130517 = X_130519.Call;
asgnRefNoCycle((void**) &(*Result_130517).KindU.S6.Sons->data[0], Newsymnode_55735(X_130519.Calleesym));
asgnRef((void**) &(*Result_130517).Typ, (*X_130519.Callee).Sons->data[0]);
LA16: ;
BeforeRet: ;
return Result_130517;
}
N_NIMCALL(TY55526*, Semdirectcall_130655)(TY107012* C_130657, TY55526* N_130658, NU32 Filter_130659) {
TY55526* Result_130660;
TY55526* Initialbinding_130661;
TY55526* F_130674;
Result_130660 = 0;
Initialbinding_130661 = 0;
F_130674 = 0;
F_130674 = (*N_130658).KindU.S6.Sons->data[0];
if (!((*F_130674).Kind == ((NU8) 33))) goto LA2;
Initialbinding_130661 = F_130674;
F_130674 = (*F_130674).KindU.S6.Sons->data[0];
goto LA1;
LA2: ;
Initialbinding_130661 = NIM_NIL;
LA1: ;
Result_130660 = Semdirectcallwithbinding_130510(C_130657, N_130658, F_130674, Filter_130659, Initialbinding_130661);
return Result_130660;
}
N_NIMCALL(TY55526*, Semdirectcallanalyseeffects_136162)(TY107012* C_136164, TY55526* N_136165, NU8 Flags_136166) {
TY55526* Result_136167;
TY55548* Callee_136237;
NIM_BOOL LOC11;
NIM_BOOL LOC19;
Result_136167 = 0;
if (!!(((Flags_136166 &(1<<((((NU8) 2))&7)))!=0))) goto LA2;
Result_136167 = Semdirectcall_130655(C_136164, N_136165, 11264);
goto LA1;
LA2: ;
Result_136167 = Semdirectcall_130655(C_136164, N_136165, 4096);
LA1: ;
if (!!((Result_136167 == NIM_NIL))) goto LA5;
if (!!(((*(*Result_136167).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA8;
Internalerror_48163(((NimStringDesc*) &TMP196129));
LA8: ;
Callee_136237 = 0;
Callee_136237 = (*(*Result_136167).KindU.S6.Sons->data[0]).KindU.S4.Sym;
LOC11 = ((*Callee_136237).Kind == ((NU8) 12));
if (!(LOC11)) goto LA12;
LOC11 = ((*Callee_136237).Sup.Id == (*(*(*C_136164).P).Owner).Sup.Id);
LA12: ;
if (!LOC11) goto LA13;
Globalerror_48139((*N_136165).Info, ((NU8) 23), (*(*Callee_136237).Name).S);
LA13: ;
if (!!((((*Callee_136237).Flags &(1<<((((NU8) 13))&31)))!=0))) goto LA16;
LOC19 = (((*Callee_136237).Flags &(1<<((((NU8) 6))&31)))!=0);
if (LOC19) goto LA20;
LOC19 = !(((16512 & (*Callee_136237).Flags) == 0));
LA20: ;
if (!LOC19) goto LA21;
(*(*(*C_136164).P).Owner).Flags |=(1<<((NI32)(((NU8) 14))%(sizeof(NI32)*8)));
LA21: ;
LA16: ;
LA5: ;
return Result_136167;
}
N_NIMCALL(TY55526*, Semarrayconstr_135122)(TY107012* C_135124, TY55526* N_135125) {
TY55526* Result_135126;
NI LOC2;
TY55552* LOC5;
TY55526* X_135141;
NI64 Lastindex_135142;
TY55552* Indextype_135143;
NIM_BOOL LOC7;
NI LOC9;
TY55526* Idx_135167;
TY55526* LOC12;
TY55552* Typ_135193;
NI I_135202;
NI HEX3Atmp_146765;
NI LOC13;
NI Res_146767;
NIM_BOOL LOC16;
NI LOC18;
TY55526* Idx_135238;
NI64 LOC22;
TY55526* LOC25;
NI LOC26;
Result_135126 = 0;
Result_135126 = Newnodei_55738(((NU8) 32), (*N_135125).Info);
asgnRef((void**) &(*Result_135126).Typ, Newtypes_107077(((NU8) 4), C_135124));
Addson_55828((*Result_135126).Typ, NIM_NIL);
LOC2 = Sonslen_55804(N_135125);
if (!(LOC2 == 0)) goto LA3;
LOC5 = 0;
LOC5 = Newtypes_107077(((NU8) 3), C_135124);
Addson_55828((*Result_135126).Typ, LOC5);
goto LA1;
LA3: ;
X_135141 = 0;
X_135141 = (*N_135125).KindU.S6.Sons->data[0];
Lastindex_135142 = 0;
Lastindex_135142 = 0;
Indextype_135143 = 0;
Indextype_135143 = Getsystype_102008(((NU8) 31));
LOC7 = ((*X_135141).Kind == ((NU8) 24));
if (!(LOC7)) goto LA8;
LOC9 = Sonslen_55804(X_135141);
LOC7 = (LOC9 == 2);
LA8: ;
if (!LOC7) goto LA10;
Idx_135167 = 0;
Idx_135167 = Semconstexpr_126171(C_135124, (*X_135141).KindU.S6.Sons->data[0]);
Lastindex_135142 = Getordvalue_97109(Idx_135167);
Indextype_135143 = (*Idx_135167).Typ;
X_135141 = (*X_135141).KindU.S6.Sons->data[1];
LA10: ;
LOC12 = 0;
LOC12 = Semexprwithtype_126122(C_135124, X_135141, 0);
Addson_55824(Result_135126, LOC12);
Typ_135193 = 0;
Typ_135193 = Skiptypes_97087((*(*Result_135126).KindU.S6.Sons->data[0]).Typ, 8423424);
I_135202 = 0;
HEX3Atmp_146765 = 0;
LOC13 = Sonslen_55804(N_135125);
HEX3Atmp_146765 = (NI32)(LOC13 - 1);
Res_146767 = 0;
Res_146767 = 1;
while (1) {
if (!(Res_146767 <= HEX3Atmp_146765)) goto LA14;
I_135202 = Res_146767;
X_135141 = (*N_135125).KindU.S6.Sons->data[I_135202];
LOC16 = ((*X_135141).Kind == ((NU8) 24));
if (!(LOC16)) goto LA17;
LOC18 = Sonslen_55804(X_135141);
LOC16 = (LOC18 == 2);
LA17: ;
if (!LOC16) goto LA19;
Idx_135238 = 0;
Idx_135238 = Semconstexpr_126171(C_135124, (*X_135141).KindU.S6.Sons->data[0]);
Idx_135238 = Fitnode_126129(C_135124, Indextype_135143, Idx_135238);
LOC22 = Getordvalue_97109(Idx_135238);
if (!!(((NI64)(Lastindex_135142 + 1) == LOC22))) goto LA23;
Localerror_48144((*X_135141).Info, ((NU8) 140), ((NimStringDesc*) &TMP195991));
LA23: ;
X_135141 = (*X_135141).KindU.S6.Sons->data[1];
LA19: ;
asgnRefNoCycle((void**) &(*N_135125).KindU.S6.Sons->data[I_135202], Semexprwithtype_126122(C_135124, X_135141, 0));
LOC25 = 0;
LOC25 = Fitnode_126129(C_135124, Typ_135193, (*N_135125).KindU.S6.Sons->data[I_135202]);
Addson_55824(Result_135126, LOC25);
Lastindex_135142 += 1;
Res_146767 += 1;
} LA14: ;
Addson_55828((*Result_135126).Typ, Typ_135193);
LA1: ;
LOC26 = Sonslen_55804(Result_135126);
asgnRef((void**) &(*(*Result_135126).Typ).Sons->data[0], Makerangetype_107086(C_135124, 0, ((NI64) ((NI32)(LOC26 - 1))), (*N_135125).Info));
return Result_135126;
}
N_NIMCALL(void, Changetype_134902)(TY55526* N_134904, TY55552* Newtype_134905) {
NI I_134914;
NI HEX3Atmp_146756;
NI LOC1;
NI Res_146758;
TY55552* LOC3;
NIM_BOOL LOC11;
NI LOC12;
NI I_134980;
NI HEX3Atmp_146759;
NI LOC16;
NI Res_146761;
TY55526* M_135005;
TY55548* F_135027;
NI I_135071;
NI HEX3Atmp_146762;
NI LOC24;
NI Res_146764;
TY55526* M_135084;
TY55526* A_135085;
TY55526* LOC26;
switch ((*N_134904).Kind) {
case ((NU8) 31):
case ((NU8) 32):
I_134914 = 0;
HEX3Atmp_146756 = 0;
LOC1 = Sonslen_55804(N_134904);
HEX3Atmp_146756 = (NI32)(LOC1 - 1);
Res_146758 = 0;
Res_146758 = 0;
while (1) {
if (!(Res_146758 <= HEX3Atmp_146756)) goto LA2;
I_134914 = Res_146758;
LOC3 = 0;
LOC3 = Elemtype_97091(Newtype_134905);
Changetype_134902((*N_134904).KindU.S6.Sons->data[I_134914], LOC3);
Res_146758 += 1;
} LA2: ;
break;
case ((NU8) 30):
if (!!(((*Newtype_134905).Kind == ((NU8) 18)))) goto LA5;
Internalerror_48159((*N_134904).Info, ((NimStringDesc*) &TMP196130));
LA5: ;
if (!((*Newtype_134905).N == NIM_NIL)) goto LA8;
Internalerror_48159((*N_134904).Info, ((NimStringDesc*) &TMP196131));
LA8: ;
LOC12 = Sonslen_55804(N_134904);
LOC11 = (0 < LOC12);
if (!(LOC11)) goto LA13;
LOC11 = ((*(*N_134904).KindU.S6.Sons->data[0]).Kind == ((NU8) 24));
LA13: ;
if (!LOC11) goto LA14;
I_134980 = 0;
HEX3Atmp_146759 = 0;
LOC16 = Sonslen_55804(N_134904);
HEX3Atmp_146759 = (NI32)(LOC16 - 1);
Res_146761 = 0;
Res_146761 = 0;
while (1) {
if (!(Res_146761 <= HEX3Atmp_146759)) goto LA17;
I_134980 = Res_146761;
M_135005 = 0;
M_135005 = (*(*N_134904).KindU.S6.Sons->data[I_134980]).KindU.S6.Sons->data[0];
if (!!(((*M_135005).Kind == ((NU8) 3)))) goto LA19;
Internalerror_48159((*M_135005).Info, ((NimStringDesc*) &TMP196132));
LA19: ;
F_135027 = 0;
F_135027 = Getsymfromlist_60189((*Newtype_134905).N, (*(*M_135005).KindU.S4.Sym).Name, 0);
if (!(F_135027 == NIM_NIL)) goto LA22;
Internalerror_48159((*M_135005).Info, ((NimStringDesc*) &TMP196133));
LA22: ;
Changetype_134902((*(*N_134904).KindU.S6.Sons->data[I_134980]).KindU.S6.Sons->data[1], (*F_135027).Typ);
Res_146761 += 1;
} LA17: ;
goto LA10;
LA14: ;
I_135071 = 0;
HEX3Atmp_146762 = 0;
LOC24 = Sonslen_55804(N_134904);
HEX3Atmp_146762 = (NI32)(LOC24 - 1);
Res_146764 = 0;
Res_146764 = 0;
while (1) {
if (!(Res_146764 <= HEX3Atmp_146762)) goto LA25;
I_135071 = Res_146764;
M_135084 = 0;
M_135084 = (*N_134904).KindU.S6.Sons->data[I_135071];
A_135085 = 0;
A_135085 = Newnodeit_55742(((NU8) 24), (*M_135084).Info, (*Newtype_134905).Sons->data[I_135071]);
LOC26 = 0;
LOC26 = Newsymnode_55735((*(*(*Newtype_134905).N).KindU.S6.Sons->data[I_135071]).KindU.S4.Sym);
Addson_55824(A_135085, LOC26);
Addson_55824(A_135085, M_135084);
Changetype_134902(M_135084, (*Newtype_134905).Sons->data[I_135071]);
asgnRefNoCycle((void**) &(*N_134904).KindU.S6.Sons->data[I_135071], A_135085);
Res_146764 += 1;
} LA25: ;
LA10: ;
break;
default:
break;
}
asgnRef((void**) &(*N_134904).Typ, Newtype_134905);
}
N_NIMCALL(void, Fixabstracttype_135289)(TY107012* C_135291, TY55526* N_135292) {
NI I_135301;
NI HEX3Atmp_146768;
NI LOC1;
NI Res_146770;
TY55526* It_135314;
TY55552* LOC7;
TY55552* S_135381;
NIM_BOOL LOC11;
TY55548* LOC15;
TY55552* LOC16;
TY55552* LOC17;
TY55552* LOC18;
TY55552* S_135436;
NimStringDesc* LOC24;
NimStringDesc* LOC25;
I_135301 = 0;
HEX3Atmp_146768 = 0;
LOC1 = Sonslen_55804(N_135292);
HEX3Atmp_146768 = (NI32)(LOC1 - 1);
Res_146770 = 0;
Res_146770 = 1;
while (1) {
if (!(Res_146770 <= HEX3Atmp_146768)) goto LA2;
I_135301 = Res_146770;
It_135314 = 0;
It_135314 = (*N_135292).KindU.S6.Sons->data[I_135301];
switch ((*It_135314).Kind) {
case ((NU8) 47):
case ((NU8) 48):
if (!((*(*It_135314).KindU.S6.Sons->data[1]).Kind == ((NU8) 32))) goto LA4;
asgnRefNoCycle((void**) &(*It_135314).KindU.S6.Sons->data[1], Semarrayconstr_135122(C_135291, (*It_135314).KindU.S6.Sons->data[1]));
LA4: ;
LOC7 = 0;
LOC7 = Skiptypes_97087((*It_135314).Typ, 8431616);
if (!((*LOC7).Kind == ((NU8) 27))) goto LA8;
S_135381 = 0;
S_135381 = Skiptypes_97087((*(*It_135314).KindU.S6.Sons->data[1]).Typ, 8431616);
LOC11 = ((*S_135381).Kind == ((NU8) 4));
if (!(LOC11)) goto LA12;
LOC11 = ((*(*S_135381).Sons->data[1]).Kind == ((NU8) 3));
LA12: ;
if (!LOC11) goto LA13;
LOC15 = 0;
LOC15 = Getcurrowner_107092();
S_135381 = Copytype_55771(S_135381, LOC15, NIM_FALSE);
LOC16 = 0;
LOC16 = Skiptypes_97087(S_135381, 8431616);
LOC17 = 0;
LOC17 = Skiptypes_97087((*It_135314).Typ, 8431616);
asgnRef((void**) &(*LOC16).Sons->data[1], Elemtype_97091(LOC17));
asgnRef((void**) &(*(*It_135314).KindU.S6.Sons->data[1]).Typ, S_135381);
LA13: ;
goto LA6;
LA8: ;
LOC18 = 0;
LOC18 = Skiptypes_97087((*(*It_135314).KindU.S6.Sons->data[1]).Typ, 8431616);
if (!((*LOC18).Kind == ((NU8) 5) || (*LOC18).Kind == ((NU8) 4) || (*LOC18).Kind == ((NU8) 18) || (*LOC18).Kind == ((NU8) 19))) goto LA19;
S_135436 = 0;
S_135436 = Skiptypes_97087((*It_135314).Typ, 8431616);
Changetype_134902((*It_135314).KindU.S6.Sons->data[1], S_135436);
asgnRefNoCycle((void**) &(*N_135292).KindU.S6.Sons->data[I_135301], (*It_135314).KindU.S6.Sons->data[1]);
goto LA6;
LA19: ;
LA6: ;
break;
case ((NU8) 32):
asgnRefNoCycle((void**) &(*N_135292).KindU.S6.Sons->data[I_135301], Semarrayconstr_135122(C_135291, It_135314));
break;
default:
if (!((*It_135314).Typ == NIM_NIL)) goto LA22;
LOC24 = 0;
LOC25 = 0;
LOC25 = Rendertree_85042(It_135314, 0);
LOC24 = rawNewString(LOC25->Sup.len + 17);
appendString(LOC24, ((NimStringDesc*) &TMP196134));
appendString(LOC24, LOC25);
Internalerror_48159((*It_135314).Info, LOC24);
LA22: ;
break;
}
Res_146770 += 1;
} LA2: ;
}
N_NIMCALL(NU8, Isassignable_135553)(TY55526* N_135555) {
NU8 Result_135556;
TY55552* LOC5;
NIM_BOOL LOC9;
TY55552* LOC14;
TY55552* LOC18;
Result_135556 = 0;
Result_135556 = ((NU8) 0);
switch ((*N_135555).Kind) {
case ((NU8) 3):
if (!((544 &(1<<(((*(*N_135555).KindU.S4.Sym).Kind)&31)))!=0)) goto LA2;
Result_135556 = ((NU8) 1);
LA2: ;
break;
case ((NU8) 36):
LOC5 = 0;
LOC5 = Skiptypes_97087((*(*N_135555).KindU.S6.Sons->data[0]).Typ, 43008);
if (!((*LOC5).Kind == ((NU8) 23) || (*LOC5).Kind == ((NU8) 21) || (*LOC5).Kind == ((NU8) 22))) goto LA6;
Result_135556 = ((NU8) 1);
goto LA4;
LA6: ;
Result_135556 = Isassignable_135553((*N_135555).KindU.S6.Sons->data[0]);
LA4: ;
LOC9 = (Result_135556 == ((NU8) 1));
if (!(LOC9)) goto LA10;
LOC9 = (((*(*(*N_135555).KindU.S6.Sons->data[1]).KindU.S4.Sym).Flags &(1<<((((NU8) 21))&31)))!=0);
LA10: ;
if (!LOC9) goto LA11;
Result_135556 = ((NU8) 2);
LA11: ;
break;
case ((NU8) 33):
LOC14 = 0;
LOC14 = Skiptypes_97087((*(*N_135555).KindU.S6.Sons->data[0]).Typ, 43008);
if (!((*LOC14).Kind == ((NU8) 23) || (*LOC14).Kind == ((NU8) 21) || (*LOC14).Kind == ((NU8) 22))) goto LA15;
Result_135556 = ((NU8) 1);
goto LA13;
LA15: ;
Result_135556 = Isassignable_135553((*N_135555).KindU.S6.Sons->data[0]);
LA13: ;
break;
case ((NU8) 47):
case ((NU8) 48):
case ((NU8) 50):
LOC18 = 0;
LOC18 = Skiptypes_97087((*N_135555).Typ, 14723072);
if (!((*LOC18).Kind == ((NU8) 27) || (*LOC18).Kind == ((NU8) 18) || (*LOC18).Kind == ((NU8) 17))) goto LA19;
Result_135556 = Isassignable_135553((*N_135555).KindU.S6.Sons->data[1]);
LA19: ;
break;
case ((NU8) 54):
case ((NU8) 38):
Result_135556 = ((NU8) 1);
break;
case ((NU8) 56):
case ((NU8) 55):
case ((NU8) 37):
Result_135556 = Isassignable_135553((*N_135555).KindU.S6.Sons->data[0]);
break;
default:
break;
}
return Result_135556;
}
N_NIMCALL(TY55526*, Newhiddenaddrtaken_135733)(TY107012* C_135735, TY55526* N_135736) {
TY55526* Result_135737;
TY55552* LOC4;
NU8 LOC6;
Result_135737 = 0;
if (!((*N_135736).Kind == ((NU8) 54))) goto LA2;
Checksonslen_107407(N_135736, 1);
Result_135737 = (*N_135736).KindU.S6.Sons->data[0];
goto LA1;
LA2: ;
LOC4 = 0;
LOC4 = Makevartype_107073(C_135735, (*N_135736).Typ);
Result_135737 = Newnodeit_55742(((NU8) 53), (*N_135736).Info, LOC4);
Addson_55824(Result_135737, N_135736);
LOC6 = Isassignable_135553(N_135736);
if (!!((LOC6 == ((NU8) 1)))) goto LA7;
Localerror_48144((*N_135736).Info, ((NU8) 123), ((NimStringDesc*) &TMP195991));
LA7: ;
LA1: ;
return Result_135737;
}
N_NIMCALL(TY55526*, Analyseifaddresstaken_135768)(TY107012* C_135770, TY55526* N_135771) {
TY55526* Result_135772;
TY55552* LOC2;
TY55552* LOC9;
TY55552* LOC13;
Result_135772 = 0;
Result_135772 = N_135771;
switch ((*N_135771).Kind) {
case ((NU8) 3):
LOC2 = 0;
LOC2 = Skiptypes_97087((*(*N_135771).KindU.S4.Sym).Typ, 43008);
if (!!(((*LOC2).Kind == ((NU8) 23)))) goto LA3;
(*(*N_135771).KindU.S4.Sym).Flags |=(1<<((NI32)(((NU8) 18))%(sizeof(NI32)*8)));
Result_135772 = Newhiddenaddrtaken_135733(C_135770, N_135771);
LA3: ;
break;
case ((NU8) 36):
Checksonslen_107407(N_135771, 2);
if (!!(((*(*N_135771).KindU.S6.Sons->data[1]).Kind == ((NU8) 3)))) goto LA6;
Internalerror_48159((*N_135771).Info, ((NimStringDesc*) &TMP196137));
LA6: ;
LOC9 = 0;
LOC9 = Skiptypes_97087((*(*(*N_135771).KindU.S6.Sons->data[1]).KindU.S4.Sym).Typ, 43008);
if (!!(((*LOC9).Kind == ((NU8) 23)))) goto LA10;
(*(*(*N_135771).KindU.S6.Sons->data[1]).KindU.S4.Sym).Flags |=(1<<((NI32)(((NU8) 18))%(sizeof(NI32)*8)));
Result_135772 = Newhiddenaddrtaken_135733(C_135770, N_135771);
LA10: ;
break;
case ((NU8) 33):
Checkminsonslen_107413(N_135771, 1);
LOC13 = 0;
LOC13 = Skiptypes_97087((*(*N_135771).KindU.S6.Sons->data[0]).Typ, 43008);
if (!!(((*LOC13).Kind == ((NU8) 23)))) goto LA14;
if (!((*(*N_135771).KindU.S6.Sons->data[0]).Kind == ((NU8) 3))) goto LA17;
(*(*(*N_135771).KindU.S6.Sons->data[0]).KindU.S4.Sym).Flags |=(1<<((NI32)(((NU8) 18))%(sizeof(NI32)*8)));
LA17: ;
Result_135772 = Newhiddenaddrtaken_135733(C_135770, N_135771);
LA14: ;
break;
default:
Result_135772 = Newhiddenaddrtaken_135733(C_135770, N_135771);
break;
}
return Result_135772;
}
N_NIMCALL(void, Analyseifaddresstakenincall_135986)(TY107012* C_135988, TY55526* N_135989) {
TY55552* T_136004;
NIM_BOOL LOC2;
NI I_136069;
NI HEX3Atmp_146771;
NI LOC6;
NI Res_146773;
NIM_BOOL LOC9;
NI LOC10;
TY55552* LOC12;
NU8 LOC16;
NI I_136124;
NI HEX3Atmp_146774;
NI LOC19;
NI Res_146776;
NIM_BOOL LOC22;
NI LOC23;
TY55552* LOC25;
Checkminsonslen_107413(N_135989, 1);
T_136004 = 0;
T_136004 = (*(*N_135989).KindU.S6.Sons->data[0]).Typ;
LOC2 = ((*(*N_135989).KindU.S6.Sons->data[0]).Kind == ((NU8) 3));
if (!(LOC2)) goto LA3;
LOC2 = ((TMP196135[(*(*(*N_135989).KindU.S6.Sons->data[0]).KindU.S4.Sym).Magic/8] &(1<<((*(*(*N_135989).KindU.S6.Sons->data[0]).KindU.S4.Sym).Magic%8)))!=0);
LA3: ;
if (!LOC2) goto LA4;
I_136069 = 0;
HEX3Atmp_146771 = 0;
LOC6 = Sonslen_55804(N_135989);
HEX3Atmp_146771 = (NI32)(LOC6 - 1);
Res_146773 = 0;
Res_146773 = 1;
while (1) {
if (!(Res_146773 <= HEX3Atmp_146771)) goto LA7;
I_136069 = Res_146773;
LOC10 = Sonslen_55807(T_136004);
LOC9 = (I_136069 < LOC10);
if (!(LOC9)) goto LA11;
LOC12 = 0;
LOC12 = Skiptypes_97087((*T_136004).Sons->data[I_136069], 43008);
LOC9 = ((*LOC12).Kind == ((NU8) 23));
LA11: ;
if (!LOC9) goto LA13;
LOC16 = Isassignable_135553((*N_135989).KindU.S6.Sons->data[I_136069]);
if (!!((LOC16 == ((NU8) 1)))) goto LA17;
Localerror_48144((*(*N_135989).KindU.S6.Sons->data[I_136069]).Info, ((NU8) 123), ((NimStringDesc*) &TMP195991));
LA17: ;
LA13: ;
Res_146773 += 1;
} LA7: ;
goto BeforeRet;
LA4: ;
I_136124 = 0;
HEX3Atmp_146774 = 0;
LOC19 = Sonslen_55804(N_135989);
HEX3Atmp_146774 = (NI32)(LOC19 - 1);
Res_146776 = 0;
Res_146776 = 1;
while (1) {
if (!(Res_146776 <= HEX3Atmp_146774)) goto LA20;
I_136124 = Res_146776;
LOC23 = Sonslen_55807(T_136004);
LOC22 = (I_136124 < LOC23);
if (!(LOC22)) goto LA24;
LOC25 = 0;
LOC25 = Skiptypes_97087((*T_136004).Sons->data[I_136124], 43008);
LOC22 = ((*LOC25).Kind == ((NU8) 23));
LA24: ;
if (!LOC22) goto LA26;
asgnRefNoCycle((void**) &(*N_135989).KindU.S6.Sons->data[I_136124], Analyseifaddresstaken_135768(C_135988, (*N_135989).KindU.S6.Sons->data[I_136124]));
LA26: ;
Res_146776 += 1;
} LA20: ;
BeforeRet: ;
}
N_NIMCALL(TY55526*, Propertywriteaccess_142598)(TY107012* C_142600, TY55526* N_142601, TY55526* A_142602) {
TY55526* Result_142603;
TY54011* Id_142604;
TY55526* LOC1;
NimStringDesc* LOC2;
TY54011* LOC3;
TY55526* LOC4;
TY55526* LOC5;
TY55526* LOC6;
TY55526* LOC7;
Result_142603 = 0;
Id_142604 = 0;
LOC1 = 0;
LOC1 = HEX5BHEX5D_57062(A_142602, 1);
Id_142604 = Consideracc_126003(LOC1);
Result_142603 = Newnodei_55738(((NU8) 21), (*N_142601).Info);
LOC2 = 0;
LOC2 = rawNewString((*Id_142604).S->Sup.len + 1);
appendString(LOC2, (*Id_142604).S);
appendChar(LOC2, 61);
LOC3 = 0;
LOC3 = Getident_54016(LOC2);
LOC4 = 0;
LOC4 = Newidentnode_55731(LOC3, (*N_142601).Info);
Addson_55824(Result_142603, LOC4);
LOC5 = 0;
LOC5 = HEX5BHEX5D_57062(A_142602, 0);
Addson_55824(Result_142603, LOC5);
LOC6 = 0;
LOC6 = HEX5BHEX5D_57062(N_142601, 1);
LOC7 = 0;
LOC7 = Semexpr_126115(C_142600, LOC6, 0);
Addson_55824(Result_142603, LOC7);
Result_142603 = Semdirectcallanalyseeffects_136162(C_142600, Result_142603, 0);
if (!!((Result_142603 == NIM_NIL))) goto LA9;
Fixabstracttype_135289(C_142600, Result_142603);
Analyseifaddresstakenincall_135986(C_142600, Result_142603);
goto LA8;
LA9: ;
Globalerror_48139((*N_142601).Info, ((NU8) 77), (*Id_142604).S);
LA8: ;
return Result_142603;
}
N_NIMCALL(TY55526*, Semsubscript_137845)(TY107012* C_137847, TY55526* N_137848, NU8 Flags_137849) {
TY55526* Result_137850;
TY55552* Arr_137899;
NI I_137932;
NI HEX3Atmp_146801;
NI LOC1;
NI Res_146803;
TY55552* Indextype_137977;
TY55552* LOC3;
TY55526* Arg_138002;
TY55552* LOC10;
NI64 Idx_138111;
NIM_BOOL LOC14;
NI LOC16;
Result_137850 = 0;
Checkminsonslen_107413(N_137848, 2);
asgnRefNoCycle((void**) &(*N_137848).KindU.S6.Sons->data[0], Semexprwithtype_126122(C_137847, (*N_137848).KindU.S6.Sons->data[0], (Flags_137849 & ~ 1)));
Arr_137899 = 0;
Arr_137899 = Skiptypes_97087((*(*N_137848).KindU.S6.Sons->data[0]).Typ, 14682112);
switch ((*Arr_137899).Kind) {
case ((NU8) 16):
case ((NU8) 27):
case ((NU8) 4):
case ((NU8) 24):
case ((NU8) 28):
case ((NU8) 29):
Checksonslen_107407(N_137848, 2);
asgnRefNoCycle((void**) &(*N_137848).KindU.S6.Sons->data[0], Makederef_137264((*N_137848).KindU.S6.Sons->data[0]));
I_137932 = 0;
HEX3Atmp_146801 = 0;
LOC1 = Sonslen_55804(N_137848);
HEX3Atmp_146801 = (NI32)(LOC1 - 1);
Res_146803 = 0;
Res_146803 = 1;
while (1) {
if (!(Res_146803 <= HEX3Atmp_146801)) goto LA2;
I_137932 = Res_146803;
asgnRefNoCycle((void**) &(*N_137848).KindU.S6.Sons->data[I_137932], Semexprwithtype_126122(C_137847, (*N_137848).KindU.S6.Sons->data[I_137932], (Flags_137849 & ~ 1)));
Res_146803 += 1;
} LA2: ;
Indextype_137977 = 0;
LOC3 = 0;
if (!((*Arr_137899).Kind == ((NU8) 16))) goto LA5;
LOC3 = (*Arr_137899).Sons->data[0];
goto LA4;
LA5: ;
LOC3 = Getsystype_102008(((NU8) 31));
LA4: ;
Indextype_137977 = LOC3;
Arg_138002 = 0;
Arg_138002 = Indextypesmatch_129821(C_137847, Indextype_137977, (*(*N_137848).KindU.S6.Sons->data[1]).Typ, (*N_137848).KindU.S6.Sons->data[1]);
if (!!((Arg_138002 == NIM_NIL))) goto LA7;
asgnRefNoCycle((void**) &(*N_137848).KindU.S6.Sons->data[1], Arg_138002);
goto LA6;
LA7: ;
Globalerror_48139((*N_137848).Info, ((NU8) 80), ((NimStringDesc*) &TMP195991));
LA6: ;
Result_137850 = N_137848;
asgnRef((void**) &(*Result_137850).Typ, Elemtype_97091(Arr_137899));
break;
case ((NU8) 18):
Checksonslen_107407(N_137848, 2);
asgnRefNoCycle((void**) &(*N_137848).KindU.S6.Sons->data[0], Makederef_137264((*N_137848).KindU.S6.Sons->data[0]));
asgnRefNoCycle((void**) &(*N_137848).KindU.S6.Sons->data[1], Semconstexpr_126171(C_137847, (*N_137848).KindU.S6.Sons->data[1]));
LOC10 = 0;
LOC10 = Skiptypes_97087((*(*N_137848).KindU.S6.Sons->data[1]).Typ, 1083392);
if (!((*LOC10).Kind >= ((NU8) 31) && (*LOC10).Kind <= ((NU8) 35))) goto LA11;
Idx_138111 = 0;
Idx_138111 = Getordvalue_97109((*N_137848).KindU.S6.Sons->data[1]);
LOC14 = (0 <= Idx_138111);
if (!(LOC14)) goto LA15;
LOC16 = Sonslen_55807(Arr_137899);
LOC14 = (Idx_138111 < ((NI64) (LOC16)));
LA15: ;
if (!LOC14) goto LA17;
asgnRef((void**) &(*N_137848).Typ, (*Arr_137899).Sons->data[Idx_138111]);
goto LA13;
LA17: ;
Globalerror_48139((*N_137848).Info, ((NU8) 181), ((NimStringDesc*) &TMP195991));
LA13: ;
goto LA9;
LA11: ;
Globalerror_48139((*N_137848).Info, ((NU8) 80), ((NimStringDesc*) &TMP195991));
LA9: ;
Result_137850 = N_137848;
break;
default:
break;
}
return Result_137850;
}
static N_INLINE(NI, Len_56923)(TY55526* N_56925) {
NI Result_56926;
Result_56926 = 0;
if (!(*N_56925).KindU.S6.Sons == 0) goto LA2;
Result_56926 = 0;
goto LA1;
LA2: ;
Result_56926 = (*N_56925).KindU.S6.Sons->Sup.len;
LA1: ;
return Result_56926;
}
N_NIMCALL(void, Addsliceopr_137770)(NimStringDesc** Result_137773, TY55526* N_137774) {
TY55526* LOC2;
TY55526* LOC6;
TY55526* LOC9;
LOC2 = 0;
LOC2 = HEX5BHEX5D_57062(N_137774, 0);
if (!((*LOC2).Kind == ((NU8) 1))) goto LA3;
LOC6 = 0;
LOC6 = HEX5BHEX5D_57062(N_137774, 1);
if (!((*LOC6).Kind == ((NU8) 1))) goto LA7;
(*Result_137773) = resizeString((*Result_137773), 2);
appendString((*Result_137773), ((NimStringDesc*) &TMP196140));
goto LA5;
LA7: ;
(*Result_137773) = resizeString((*Result_137773), 3);
appendString((*Result_137773), ((NimStringDesc*) &TMP196141));
LA5: ;
goto LA1;
LA3: ;
LOC9 = 0;
LOC9 = HEX5BHEX5D_57062(N_137774, 1);
if (!((*LOC9).Kind == ((NU8) 1))) goto LA10;
(*Result_137773) = resizeString((*Result_137773), 3);
appendString((*Result_137773), ((NimStringDesc*) &TMP196142));
goto LA1;
LA10: ;
(*Result_137773) = resizeString((*Result_137773), 4);
appendString((*Result_137773), ((NimStringDesc*) &TMP196143));
LA1: ;
}
N_NIMCALL(TY55526*, Buildoverloadedsubscripts_137802)(TY55526* N_137804, NIM_BOOL Inasgn_137805) {
TY55526* Result_137806;
TY55526* LOC1;
NimStringDesc* Opr_137807;
NI I_137818;
NI HEX3Atmp_146798;
NI LOC2;
NI Res_146800;
TY55526* LOC8;
TY55526* LOC11;
TY55526* LOC12;
TY55526* LOC13;
TY55526* LOC14;
TY55526* LOC15;
TY55526* LOC16;
TY55526* LOC17;
TY54011* LOC21;
Result_137806 = 0;
Result_137806 = Newnodei_55738(((NU8) 21), (*N_137804).Info);
Add_56969(Result_137806, Emptynode_55858);
LOC1 = 0;
LOC1 = HEX5BHEX5D_57062(N_137804, 0);
Add_56969(Result_137806, LOC1);
Opr_137807 = 0;
Opr_137807 = copyString(((NimStringDesc*) &TMP196138));
I_137818 = 0;
HEX3Atmp_146798 = 0;
LOC2 = Len_56923(N_137804);
HEX3Atmp_146798 = (NI32)(LOC2 - 1);
Res_146800 = 0;
Res_146800 = 1;
while (1) {
if (!(Res_146800 <= HEX3Atmp_146798)) goto LA3;
I_137818 = Res_146800;
if (!(1 < I_137818)) goto LA5;
Opr_137807 = resizeString(Opr_137807, 1);
appendString(Opr_137807, ((NimStringDesc*) &TMP196139));
LA5: ;
LOC8 = 0;
LOC8 = HEX5BHEX5D_57062(N_137804, I_137818);
if (!((*LOC8).Kind == ((NU8) 35))) goto LA9;
LOC11 = 0;
LOC11 = HEX5BHEX5D_57062(N_137804, I_137818);
Checksonslen_107407(LOC11, 2);
LOC12 = 0;
LOC12 = HEX5BHEX5D_57062(N_137804, I_137818);
Addsliceopr_137770(&Opr_137807, LOC12);
LOC13 = 0;
LOC13 = HEX5BHEX5D_57062(N_137804, I_137818);
LOC14 = 0;
LOC14 = HEX5BHEX5D_57062(LOC13, 0);
Addson_55824(Result_137806, LOC14);
LOC15 = 0;
LOC15 = HEX5BHEX5D_57062(N_137804, I_137818);
LOC16 = 0;
LOC16 = HEX5BHEX5D_57062(LOC15, 1);
Addson_55824(Result_137806, LOC16);
goto LA7;
LA9: ;
LOC17 = 0;
LOC17 = HEX5BHEX5D_57062(N_137804, I_137818);
Add_56969(Result_137806, LOC17);
LA7: ;
Res_146800 += 1;
} LA3: ;
if (!Inasgn_137805) goto LA19;
Opr_137807 = resizeString(Opr_137807, 2);
appendString(Opr_137807, ((NimStringDesc*) &TMP196144));
goto LA18;
LA19: ;
Opr_137807 = resizeString(Opr_137807, 1);
appendString(Opr_137807, ((NimStringDesc*) &TMP196145));
LA18: ;
LOC21 = 0;
LOC21 = Getident_54016(Opr_137807);
asgnRefNoCycle((void**) &(*Result_137806).KindU.S6.Sons->data[0], Newidentnode_55731(LOC21, (*N_137804).Info));
return Result_137806;
}
N_NIMCALL(TY55526*, Buildstringify_136653)(TY107012* C_136655, TY55526* Arg_136656) {
TY55526* Result_136657;
NIM_BOOL LOC2;
TY55552* LOC4;
TY54011* LOC7;
TY55526* LOC8;
Result_136657 = 0;
LOC2 = !(((*Arg_136656).Typ == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC4 = 0;
LOC4 = Skiptypes_97087((*Arg_136656).Typ, 43008);
LOC2 = ((*LOC4).Kind == ((NU8) 28));
LA3: ;
if (!LOC2) goto LA5;
Result_136657 = Arg_136656;
goto LA1;
LA5: ;
Result_136657 = Newnodei_55738(((NU8) 21), (*Arg_136656).Info);
LOC7 = 0;
LOC7 = Getident_54016(((NimStringDesc*) &TMP196148));
LOC8 = 0;
LOC8 = Newidentnode_55731(LOC7, (*Arg_136656).Info);
Addson_55824(Result_136657, LOC8);
Addson_55824(Result_136657, Arg_136656);
LA1: ;
return Result_136657;
}
N_NIMCALL(TY55526*, Buildechostmt_141721)(TY107012* C_141723, TY55526* N_141724) {
TY55526* Result_141725;
TY55548* E_141726;
TY54011* LOC1;
TY55526* LOC5;
TY55526* Arg_141738;
TY55526* LOC6;
Result_141725 = 0;
Result_141725 = Newnodei_55738(((NU8) 21), (*N_141724).Info);
E_141726 = 0;
LOC1 = 0;
LOC1 = Getident_54016(((NimStringDesc*) &TMP196146));
E_141726 = Strtableget_60066(&(*Systemmodule_102004).Tab, LOC1);
if (!(E_141726 == NIM_NIL)) goto LA3;
Globalerror_48139((*N_141724).Info, ((NU8) 61), ((NimStringDesc*) &TMP196147));
LA3: ;
LOC5 = 0;
LOC5 = Newsymnode_55735(E_141726);
Addson_55824(Result_141725, LOC5);
Arg_141738 = 0;
Arg_141738 = Buildstringify_136653(C_141723, N_141724);
LOC6 = 0;
LOC6 = Semexpr_126115(C_141723, Arg_141738, 0);
Addson_55824(Result_141725, LOC6);
return Result_141725;
}
N_NIMCALL(TY55526*, Semexprnotype_141739)(TY107012* C_141741, TY55526* N_141742) {
TY55526* Result_141743;
NIM_BOOL LOC2;
Result_141743 = 0;
Result_141743 = Semexpr_126115(C_141741, N_141742, 0);
LOC2 = !(((*Result_141743).Typ == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC2 = !(((*(*Result_141743).Typ).Kind == ((NU8) 7)));
LA3: ;
if (!LOC2) goto LA4;
if (!(Gcmd_46084 == ((NU8) 17))) goto LA7;
Result_141743 = Buildechostmt_141721(C_141741, Result_141743);
goto LA6;
LA7: ;
Localerror_48144((*N_141742).Info, ((NU8) 136), ((NimStringDesc*) &TMP195991));
LA6: ;
LA4: ;
return Result_141743;
}
N_NIMCALL(TY55526*, Semasgn_142618)(TY107012* C_142620, TY55526* N_142621) {
TY55526* Result_142622;
TY55526* A_142635;
TY55526* LOC4;
TY55526* LOC8;
TY55552* Le_142709;
NIM_BOOL LOC10;
TY55552* LOC11;
NU8 LOC13;
NimStringDesc* LOC16;
Result_142622 = 0;
Checksonslen_107407(N_142621, 2);
A_142635 = 0;
A_142635 = (*N_142621).KindU.S6.Sons->data[0];
switch ((*A_142635).Kind) {
case ((NU8) 36):
A_142635 = Builtinfieldaccess_137293(C_142620, A_142635, 2);
if (!(A_142635 == NIM_NIL)) goto LA2;
LOC4 = 0;
LOC4 = HEX5BHEX5D_57062(N_142621, 0);
Result_142622 = Propertywriteaccess_142598(C_142620, N_142621, LOC4);
goto BeforeRet;
LA2: ;
break;
case ((NU8) 33):
A_142635 = Semsubscript_137845(C_142620, A_142635, 2);
if (!(A_142635 == NIM_NIL)) goto LA6;
Result_142622 = Buildoverloadedsubscripts_137802((*N_142621).KindU.S6.Sons->data[0], NIM_TRUE);
LOC8 = 0;
LOC8 = HEX5BHEX5D_57062(N_142621, 1);
Add_56969(Result_142622, LOC8);
Result_142622 = Semexprnotype_141739(C_142620, Result_142622);
goto BeforeRet;
LA6: ;
break;
default:
A_142635 = Semexprwithtype_126122(C_142620, A_142635, 2);
break;
}
asgnRefNoCycle((void**) &(*N_142621).KindU.S6.Sons->data[0], A_142635);
asgnRefNoCycle((void**) &(*N_142621).KindU.S6.Sons->data[1], Semexprwithtype_126122(C_142620, (*N_142621).KindU.S6.Sons->data[1], 0));
Le_142709 = 0;
Le_142709 = (*A_142635).Typ;
LOC11 = 0;
LOC11 = Skiptypes_97087(Le_142709, 2048);
LOC10 = !(((*LOC11).Kind == ((NU8) 23)));
if (!(LOC10)) goto LA12;
LOC13 = Isassignable_135553(A_142635);
LOC10 = (LOC13 == ((NU8) 0));
LA12: ;
if (!LOC10) goto LA14;
LOC16 = 0;
LOC16 = Rendertree_85042(A_142635, 4);
Localerror_48144((*A_142635).Info, ((NU8) 173), LOC16);
goto LA9;
LA14: ;
asgnRefNoCycle((void**) &(*N_142621).KindU.S6.Sons->data[1], Fitnode_126129(C_142620, Le_142709, (*N_142621).KindU.S6.Sons->data[1]));
Fixabstracttype_135289(C_142620, N_142621);
LA9: ;
Result_142622 = N_142621;
BeforeRet: ;
return Result_142622;
}
N_NIMCALL(TY55526*, Semcommand_141773)(TY107012* C_141775, TY55526* N_141776) {
TY55526* Result_141777;
Result_141777 = 0;
Result_141777 = Semexprnotype_141739(C_141775, N_141776);
return Result_141777;
}
N_NIMCALL(TY55526*, Semblock_142181)(TY107012* C_142183, TY55526* N_142184) {
TY55526* Result_142185;
TY55548* Labl_142232;
Result_142185 = 0;
Result_142185 = N_142184;
(*(*C_142183).P).Nestedblockcounter += 1;
Checksonslen_107407(N_142184, 2);
Openscope_60141(&(*C_142183).Tab);
if (!!(((*(*N_142184).KindU.S6.Sons->data[0]).Kind == ((NU8) 1)))) goto LA2;
Labl_142232 = 0;
Labl_142232 = Newsyms_126059(((NU8) 19), (*N_142184).KindU.S6.Sons->data[0], C_142183);
Adddecl_108114(C_142183, Labl_142232);
asgnRefNoCycle((void**) &(*N_142184).KindU.S6.Sons->data[0], Newsymnode_55735(Labl_142232));
LA2: ;
asgnRefNoCycle((void**) &(*N_142184).KindU.S6.Sons->data[1], Semstmt_126143(C_142183, (*N_142184).KindU.S6.Sons->data[1]));
Closescope_108018(&(*C_142183).Tab);
(*(*C_142183).P).Nestedblockcounter -= 1;
return Result_142185;
}
N_NIMCALL(TY55526*, Semraise_144043)(TY107012* C_144045, TY55526* N_144046) {
TY55526* Result_144047;
TY55552* Typ_144105;
NIM_BOOL LOC5;
Result_144047 = 0;
Result_144047 = N_144046;
Checksonslen_107407(N_144046, 1);
if (!!(((*(*N_144046).KindU.S6.Sons->data[0]).Kind == ((NU8) 1)))) goto LA2;
asgnRefNoCycle((void**) &(*N_144046).KindU.S6.Sons->data[0], Semexprwithtype_126122(C_144045, (*N_144046).KindU.S6.Sons->data[0], 0));
Typ_144105 = 0;
Typ_144105 = (*(*N_144046).KindU.S6.Sons->data[0]).Typ;
LOC5 = !(((*Typ_144105).Kind == ((NU8) 22)));
if (LOC5) goto LA6;
LOC5 = !(((*(*Typ_144105).Sons->data[0]).Kind == ((NU8) 17)));
LA6: ;
if (!LOC5) goto LA7;
Localerror_48144((*N_144046).Info, ((NU8) 109), ((NimStringDesc*) &TMP195991));
LA7: ;
LA2: ;
return Result_144047;
}
N_NIMCALL(TY55526*, Semvar_143139)(TY107012* C_143141, TY55526* N_143142) {
TY55526* Result_143143;
TY55526* B_143144;
NI I_143153;
NI HEX3Atmp_146905;
NI LOC1;
NI Res_146907;
TY55526* A_143166;
NIM_BOOL LOC8;
NI Length_143194;
TY55552* Typ_143195;
TY55526* Def_143229;
NIM_BOOL LOC25;
NimStringDesc* LOC28;
TY55552* Tup_143286;
NI LOC36;
NI J_143339;
NI HEX3Atmp_146902;
NI Res_146904;
TY55548* V_143340;
TY55526* LOC49;
TY55526* LOC50;
Result_143143 = 0;
B_143144 = 0;
Result_143143 = Copynode_55849(N_143142);
I_143153 = 0;
HEX3Atmp_146905 = 0;
LOC1 = Sonslen_55804(N_143142);
HEX3Atmp_146905 = (NI32)(LOC1 - 1);
Res_146907 = 0;
Res_146907 = 0;
while (1) {
if (!(Res_146907 <= HEX3Atmp_146905)) goto LA2;
I_143153 = Res_146907;
A_143166 = 0;
A_143166 = (*N_143142).KindU.S6.Sons->data[I_143153];
if (!((*A_143166).Kind == ((NU8) 105))) goto LA5;
goto LA3;
LA5: ;
LOC8 = !(((*A_143166).Kind == ((NU8) 25)));
if (!(LOC8)) goto LA9;
LOC8 = !(((*A_143166).Kind == ((NU8) 26)));
LA9: ;
if (!LOC8) goto LA10;
Illformedast_107403(A_143166);
LA10: ;
Checkminsonslen_107413(A_143166, 3);
Length_143194 = 0;
Length_143194 = Sonslen_55804(A_143166);
Typ_143195 = 0;
if (!!(((*(*A_143166).KindU.S6.Sons->data[(NI32)(Length_143194 - 2)]).Kind == ((NU8) 1)))) goto LA13;
Typ_143195 = Semtypenode_126138(C_143141, (*A_143166).KindU.S6.Sons->data[(NI32)(Length_143194 - 2)], NIM_NIL);
goto LA12;
LA13: ;
Typ_143195 = NIM_NIL;
LA12: ;
Def_143229 = 0;
if (!!(((*(*A_143166).KindU.S6.Sons->data[(NI32)(Length_143194 - 1)]).Kind == ((NU8) 1)))) goto LA16;
Def_143229 = Semexprwithtype_126122(C_143141, (*A_143166).KindU.S6.Sons->data[(NI32)(Length_143194 - 1)], 0);
if (!!((Typ_143195 == NIM_NIL))) goto LA19;
Def_143229 = Fitnode_126129(C_143141, Typ_143195, Def_143229);
goto LA18;
LA19: ;
Typ_143195 = (*Def_143229).Typ;
LA18: ;
goto LA15;
LA16: ;
Def_143229 = Emptynode_55858;
LA15: ;
if (!(Typ_143195 == NIM_NIL)) goto LA22;
goto LA3;
LA22: ;
LOC25 = Typeallowed_97136(Typ_143195, ((NU8) 9));
if (!!(LOC25)) goto LA26;
LOC28 = 0;
LOC28 = Typetostring_97014(Typ_143195, ((NU8) 0));
Globalerror_48139((*A_143166).Info, ((NU8) 162), LOC28);
LA26: ;
Tup_143286 = 0;
Tup_143286 = Skiptypes_97087(Typ_143195, 2048);
if (!((*A_143166).Kind == ((NU8) 26))) goto LA30;
if (!!(((*Tup_143286).Kind == ((NU8) 18)))) goto LA33;
Globalerror_48139((*A_143166).Info, ((NU8) 183), ((NimStringDesc*) &TMP196149));
LA33: ;
LOC36 = Sonslen_55807(Tup_143286);
if (!!(((NI32)(Length_143194 - 2) == LOC36))) goto LA37;
Globalerror_48139((*A_143166).Info, ((NU8) 108), ((NimStringDesc*) &TMP195991));
LA37: ;
B_143144 = Newnodei_55738(((NU8) 26), (*A_143166).Info);
Newsons_55816(B_143144, Length_143194);
asgnRefNoCycle((void**) &(*B_143144).KindU.S6.Sons->data[(NI32)(Length_143194 - 2)], Emptynode_55858);
asgnRefNoCycle((void**) &(*B_143144).KindU.S6.Sons->data[(NI32)(Length_143194 - 1)], Def_143229);
Addson_55824(Result_143143, B_143144);
LA30: ;
J_143339 = 0;
HEX3Atmp_146902 = 0;
HEX3Atmp_146902 = (NI32)(Length_143194 - 3);
Res_146904 = 0;
Res_146904 = 0;
while (1) {
if (!(Res_146904 <= HEX3Atmp_146902)) goto LA39;
J_143339 = Res_146904;
V_143340 = 0;
if (!((*(*(*C_143141).P).Owner).Kind == ((NU8) 6))) goto LA41;
V_143340 = Semidentwithpragma_126098(C_143141, ((NU8) 9), (*A_143166).KindU.S6.Sons->data[J_143339], 6);
(*V_143340).Flags |=(1<<((NI32)(((NU8) 5))%(sizeof(NI32)*8)));
goto LA40;
LA41: ;
V_143340 = Semidentwithpragma_126098(C_143141, ((NU8) 9), (*A_143166).KindU.S6.Sons->data[J_143339], 0);
LA40: ;
if (!!((((*V_143340).Flags & 6) == 0))) goto LA44;
(*V_143340).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
LA44: ;
Addinterfacedecl_108236(C_143141, V_143340);
if (!!(((*A_143166).Kind == ((NU8) 26)))) goto LA47;
asgnRef((void**) &(*V_143340).Typ, Typ_143195);
B_143144 = Newnodei_55738(((NU8) 25), (*A_143166).Info);
LOC49 = 0;
LOC49 = Newsymnode_55735(V_143340);
Addson_55824(B_143144, LOC49);
Addson_55824(B_143144, Emptynode_55858);
LOC50 = 0;
LOC50 = Copytree_55852(Def_143229);
Addson_55824(B_143144, LOC50);
Addson_55824(Result_143143, B_143144);
goto LA46;
LA47: ;
asgnRef((void**) &(*V_143340).Typ, (*Tup_143286).Sons->data[J_143339]);
asgnRefNoCycle((void**) &(*B_143144).KindU.S6.Sons->data[J_143339], Newsymnode_55735(V_143340));
LA46: ;
Res_146904 += 1;
} LA39: ;
LA3: ;
Res_146907 += 1;
} LA2: ;
return Result_143143;
}
N_NIMCALL(TY55526*, Semandevalconstexpr_126198)(TY107012* C_126200, TY55526* N_126201) {
TY55526* Result_126202;
TY55526* E_126203;
NIM_BOOL LOC8;
Result_126202 = 0;
E_126203 = 0;
E_126203 = Semexprwithtype_126122(C_126200, N_126201, 0);
if (!(E_126203 == NIM_NIL)) goto LA2;
Globalerror_48139((*N_126201).Info, ((NU8) 101), ((NimStringDesc*) &TMP195991));
Result_126202 = NIM_NIL;
goto BeforeRet;
LA2: ;
Result_126202 = Getconstexpr_113010((*C_126200).Module, E_126203);
if (!(Result_126202 == NIM_NIL)) goto LA5;
Result_126202 = Evalconstexpr_115042((*C_126200).Module, E_126203);
LOC8 = (Result_126202 == NIM_NIL);
if (LOC8) goto LA9;
LOC8 = ((*Result_126202).Kind == ((NU8) 1));
LA9: ;
if (!LOC8) goto LA10;
Globalerror_48139((*N_126201).Info, ((NU8) 101), ((NimStringDesc*) &TMP195991));
LA10: ;
LA5: ;
BeforeRet: ;
return Result_126202;
}
N_NIMCALL(TY55526*, Fitremovehiddenconv_143097)(TY107012* C_143099, TY55552* Typ_143100, TY55526* N_143101) {
TY55526* Result_143102;
NIM_BOOL LOC4;
Result_143102 = 0;
Result_143102 = Fitnode_126129(C_143099, Typ_143100, N_143101);
if (!((*Result_143102).Kind == ((NU8) 47) || (*Result_143102).Kind == ((NU8) 48))) goto LA2;
Changetype_134902((*Result_143102).KindU.S6.Sons->data[1], Typ_143100);
Result_143102 = (*Result_143102).KindU.S6.Sons->data[1];
goto LA1;
LA2: ;
LOC4 = Sametype_97048((*Result_143102).Typ, Typ_143100);
if (!!(LOC4)) goto LA5;
Changetype_134902(Result_143102, Typ_143100);
goto LA1;
LA5: ;
LA1: ;
return Result_143102;
}
N_NIMCALL(TY55526*, Semconst_143446)(TY107012* C_143448, TY55526* N_143449) {
TY55526* Result_143450;
NI I_143459;
NI HEX3Atmp_146909;
NI LOC1;
NI Res_146911;
TY55526* A_143472;
TY55548* V_143491;
TY55552* Typ_143540;
TY55526* Def_143586;
NIM_BOOL LOC20;
NimStringDesc* LOC23;
TY55526* B_143634;
TY55526* LOC27;
TY55526* LOC28;
Result_143450 = 0;
Result_143450 = Copynode_55849(N_143449);
I_143459 = 0;
HEX3Atmp_146909 = 0;
LOC1 = Sonslen_55804(N_143449);
HEX3Atmp_146909 = (NI32)(LOC1 - 1);
Res_146911 = 0;
Res_146911 = 0;
while (1) {
if (!(Res_146911 <= HEX3Atmp_146909)) goto LA2;
I_143459 = Res_146911;
A_143472 = 0;
A_143472 = (*N_143449).KindU.S6.Sons->data[I_143459];
if (!((*A_143472).Kind == ((NU8) 105))) goto LA5;
goto LA3;
LA5: ;
if (!!(((*A_143472).Kind == ((NU8) 89)))) goto LA8;
Illformedast_107403(A_143472);
LA8: ;
Checksonslen_107407(A_143472, 3);
V_143491 = 0;
if (!((*(*(*C_143448).P).Owner).Kind == ((NU8) 6))) goto LA11;
V_143491 = Semidentwithpragma_126098(C_143448, ((NU8) 8), (*A_143472).KindU.S6.Sons->data[0], 6);
(*V_143491).Flags |=(1<<((NI32)(((NU8) 5))%(sizeof(NI32)*8)));
goto LA10;
LA11: ;
V_143491 = Semidentwithpragma_126098(C_143448, ((NU8) 8), (*A_143472).KindU.S6.Sons->data[0], 0);
LA10: ;
Typ_143540 = 0;
Typ_143540 = NIM_NIL;
if (!!(((*(*A_143472).KindU.S6.Sons->data[1]).Kind == ((NU8) 1)))) goto LA14;
Typ_143540 = Semtypenode_126138(C_143448, (*A_143472).KindU.S6.Sons->data[1], NIM_NIL);
LA14: ;
Def_143586 = 0;
Def_143586 = Semandevalconstexpr_126198(C_143448, (*A_143472).KindU.S6.Sons->data[2]);
if (!!((Typ_143540 == NIM_NIL))) goto LA17;
Def_143586 = Fitremovehiddenconv_143097(C_143448, Typ_143540, Def_143586);
goto LA16;
LA17: ;
Typ_143540 = (*Def_143586).Typ;
LA16: ;
LOC20 = Typeallowed_97136(Typ_143540, ((NU8) 8));
if (!!(LOC20)) goto LA21;
LOC23 = 0;
LOC23 = Typetostring_97014(Typ_143540, ((NU8) 0));
Globalerror_48139((*A_143472).Info, ((NU8) 162), LOC23);
LA21: ;
asgnRef((void**) &(*V_143491).Typ, Typ_143540);
asgnRefNoCycle((void**) &(*V_143491).Ast, Def_143586);
if (!!((((*V_143491).Flags & 6) == 0))) goto LA25;
(*V_143491).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
LA25: ;
Addinterfacedecl_108236(C_143448, V_143491);
B_143634 = 0;
B_143634 = Newnodei_55738(((NU8) 89), (*A_143472).Info);
LOC27 = 0;
LOC27 = Newsymnode_55735(V_143491);
Addson_55824(B_143634, LOC27);
Addson_55824(B_143634, Emptynode_55858);
LOC28 = 0;
LOC28 = Copytree_55852(Def_143586);
Addson_55824(B_143634, LOC28);
Addson_55824(Result_143450, B_143634);
LA3: ;
Res_146911 += 1;
} LA2: ;
return Result_143450;
}
N_NIMCALL(void, Setmagictype_133942)(TY55548* M_133944, NU8 Kind_133945, NI Size_133946) {
(*(*M_133944).Typ).Kind = Kind_133945;
(*(*M_133944).Typ).Align = Size_133946;
(*(*M_133944).Typ).Size = ((NI64) (Size_133946));
}
N_NIMCALL(void, Processmagictype_133947)(TY107012* C_133949, TY55548* M_133950) {
TY55552* LOC1;
TY55552* LOC2;
TY55552* LOC3;
switch ((*M_133950).Magic) {
case ((NU8) 169):
Setmagictype_133942(M_133950, ((NU8) 31), Intsize_51578);
break;
case ((NU8) 170):
Setmagictype_133942(M_133950, ((NU8) 32), 1);
break;
case ((NU8) 171):
Setmagictype_133942(M_133950, ((NU8) 33), 2);
break;
case ((NU8) 172):
Setmagictype_133942(M_133950, ((NU8) 34), 4);
break;
case ((NU8) 173):
Setmagictype_133942(M_133950, ((NU8) 35), 8);
break;
case ((NU8) 174):
Setmagictype_133942(M_133950, ((NU8) 36), Floatsize_51579);
break;
case ((NU8) 175):
Setmagictype_133942(M_133950, ((NU8) 37), 4);
break;
case ((NU8) 176):
Setmagictype_133942(M_133950, ((NU8) 38), 8);
break;
case ((NU8) 177):
Setmagictype_133942(M_133950, ((NU8) 1), 1);
break;
case ((NU8) 178):
Setmagictype_133942(M_133950, ((NU8) 2), 1);
break;
case ((NU8) 179):
Setmagictype_133942(M_133950, ((NU8) 28), Ptrsize_51580);
LOC1 = 0;
LOC1 = Getsystype_102008(((NU8) 2));
Addson_55828((*M_133950).Typ, LOC1);
break;
case ((NU8) 180):
Setmagictype_133942(M_133950, ((NU8) 29), Ptrsize_51580);
LOC2 = 0;
LOC2 = Getsystype_102008(((NU8) 2));
Addson_55828((*M_133950).Typ, LOC2);
break;
case ((NU8) 181):
Setmagictype_133942(M_133950, ((NU8) 26), Ptrsize_51580);
break;
case ((NU8) 182):
Setmagictype_133942(M_133950, ((NU8) 19), 1);
LOC3 = 0;
LOC3 = Newtypes_107077(((NU8) 3), C_133949);
Addson_55828((*M_133950).Typ, LOC3);
break;
case ((NU8) 183):
Setmagictype_133942(M_133950, ((NU8) 20), Intsize_51578);
goto BeforeRet;
break;
case ((NU8) 184):
Setmagictype_133942(M_133950, ((NU8) 5), Ptrsize_51580);
break;
case ((NU8) 185):
Setmagictype_133942(M_133950, ((NU8) 6), 0);
break;
case ((NU8) 186):
Setmagictype_133942(M_133950, ((NU8) 7), 0);
break;
case ((NU8) 187):
Setmagictype_133942(M_133950, ((NU8) 8), 0);
break;
case ((NU8) 163):
case ((NU8) 164):
case ((NU8) 165):
case ((NU8) 166):
case ((NU8) 167):
case ((NU8) 168):
goto BeforeRet;
break;
default:
Globalerror_48139((*M_133950).Info, ((NU8) 60), ((NimStringDesc*) &TMP195991));
break;
}
BeforeRet: ;
}
static N_INLINE(NI, Getid_55694)(void) {
NI Result_55943;
Result_55943 = 0;
Result_55943 = Gid_55693;
Gid_55693 += 1;
return Result_55943;
}
N_NIMCALL(TY55526*, Semgenericparamlist_144321)(TY107012* C_144323, TY55526* N_144324, TY55552* Father_144325) {
TY55526* Result_144326;
NI I_144344;
NI HEX3Atmp_146924;
NI LOC4;
NI Res_146926;
TY55526* A_144357;
NI L_144367;
TY55526* Def_144380;
TY55552* Typ_144381;
NI J_144432;
NI HEX3Atmp_146921;
NI Res_146923;
TY55548* S_144433;
NIM_BOOL LOC16;
TY55526* LOC26;
Result_144326 = 0;
Result_144326 = Copynode_55849(N_144324);
if (!!(((*N_144324).Kind == ((NU8) 65)))) goto LA2;
Internalerror_48159((*N_144324).Info, ((NimStringDesc*) &TMP196168));
LA2: ;
I_144344 = 0;
HEX3Atmp_146924 = 0;
LOC4 = Sonslen_55804(N_144324);
HEX3Atmp_146924 = (NI32)(LOC4 - 1);
Res_146926 = 0;
Res_146926 = 0;
while (1) {
if (!(Res_146926 <= HEX3Atmp_146924)) goto LA5;
I_144344 = Res_146926;
A_144357 = 0;
A_144357 = (*N_144324).KindU.S6.Sons->data[I_144344];
if (!!(((*A_144357).Kind == ((NU8) 25)))) goto LA7;
Illformedast_107403(N_144324);
LA7: ;
L_144367 = 0;
L_144367 = Sonslen_55804(A_144357);
Def_144380 = 0;
Def_144380 = (*A_144357).KindU.S6.Sons->data[(NI32)(L_144367 - 1)];
Typ_144381 = 0;
if (!!(((*(*A_144357).KindU.S6.Sons->data[(NI32)(L_144367 - 2)]).Kind == ((NU8) 1)))) goto LA10;
Typ_144381 = Semtypenode_126138(C_144323, (*A_144357).KindU.S6.Sons->data[(NI32)(L_144367 - 2)], NIM_NIL);
goto LA9;
LA10: ;
if (!!(((*Def_144380).Kind == ((NU8) 1)))) goto LA12;
Typ_144381 = Newtypes_107077(((NU8) 6), C_144323);
goto LA9;
LA12: ;
Typ_144381 = NIM_NIL;
LA9: ;
J_144432 = 0;
HEX3Atmp_146921 = 0;
HEX3Atmp_146921 = (NI32)(L_144367 - 3);
Res_146923 = 0;
Res_146923 = 0;
while (1) {
if (!(Res_146923 <= HEX3Atmp_146921)) goto LA14;
J_144432 = Res_146923;
S_144433 = 0;
LOC16 = (Typ_144381 == NIM_NIL);
if (LOC16) goto LA17;
LOC16 = ((*Typ_144381).Kind == ((NU8) 8));
LA17: ;
if (!LOC16) goto LA18;
S_144433 = Newsyms_126059(((NU8) 7), (*A_144357).KindU.S6.Sons->data[J_144432], C_144323);
asgnRef((void**) &(*S_144433).Typ, Newtypes_107077(((NU8) 12), C_144323));
goto LA15;
LA18: ;
S_144433 = Newsyms_126059(((NU8) 4), (*A_144357).KindU.S6.Sons->data[J_144432], C_144323);
asgnRef((void**) &(*S_144433).Typ, Typ_144381);
LA15: ;
if (!!(((*Def_144380).Kind == ((NU8) 1)))) goto LA21;
asgnRefNoCycle((void**) &(*S_144433).Ast, Def_144380);
LA21: ;
asgnRef((void**) &(*(*S_144433).Typ).Sym, S_144433);
if (!!((Father_144325 == NIM_NIL))) goto LA24;
Addson_55828(Father_144325, (*S_144433).Typ);
LA24: ;
(*S_144433).Position = I_144344;
LOC26 = 0;
LOC26 = Newsymnode_55735(S_144433);
Addson_55824(Result_144326, LOC26);
Adddecl_108114(C_144323, S_144433);
Res_146923 += 1;
} LA14: ;
Res_146926 += 1;
} LA5: ;
return Result_144326;
}
N_NIMCALL(TY55526*, Semtypesection_144554)(TY107012* C_144556, TY55526* N_144557) {
TY55526* Result_144558;
TY55548* S_144559;
TY55552* T_144560;
TY55552* Body_144561;
NI I_144570;
NI HEX3Atmp_146931;
NI LOC1;
NI Res_146933;
TY55526* A_144583;
NI I_144751;
NI HEX3Atmp_146935;
NI LOC19;
NI Res_146937;
TY55526* A_144764;
NIM_BOOL LOC32;
NI LOC48;
NIM_BOOL LOC52;
NI I_145000;
NI HEX3Atmp_146939;
NI LOC56;
NI Res_146941;
TY55526* A_145013;
Result_144558 = 0;
S_144559 = 0;
T_144560 = 0;
Body_144561 = 0;
Result_144558 = N_144557;
I_144570 = 0;
HEX3Atmp_146931 = 0;
LOC1 = Sonslen_55804(N_144557);
HEX3Atmp_146931 = (NI32)(LOC1 - 1);
Res_146933 = 0;
Res_146933 = 0;
while (1) {
if (!(Res_146933 <= HEX3Atmp_146931)) goto LA2;
I_144570 = Res_146933;
A_144583 = 0;
A_144583 = (*N_144557).KindU.S6.Sons->data[I_144570];
if (!((*A_144583).Kind == ((NU8) 105))) goto LA5;
goto LA3;
LA5: ;
if (!!(((*A_144583).Kind == ((NU8) 91)))) goto LA8;
Illformedast_107403(A_144583);
LA8: ;
Checksonslen_107407(A_144583, 3);
if (!((*(*(*C_144556).P).Owner).Kind == ((NU8) 6))) goto LA11;
S_144559 = Semidentwithpragma_126098(C_144556, ((NU8) 7), (*A_144583).KindU.S6.Sons->data[0], 6);
(*S_144559).Flags |=(1<<((NI32)(((NU8) 5))%(sizeof(NI32)*8)));
goto LA10;
LA11: ;
S_144559 = Semidentwithpragma_126098(C_144556, ((NU8) 7), (*A_144583).KindU.S6.Sons->data[0], 0);
LA10: ;
if (!!((((*S_144559).Flags & 6) == 0))) goto LA14;
(*S_144559).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
LA14: ;
asgnRef((void**) &(*S_144559).Typ, Newtypes_107077(((NU8) 30), C_144556));
asgnRef((void**) &(*(*S_144559).Typ).Sym, S_144559);
if (!((*(*A_144583).KindU.S6.Sons->data[0]).Kind == ((NU8) 34))) goto LA17;
Pragma_122028(C_144556, S_144559, (*(*A_144583).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[1], TMP196166);
LA17: ;
Addinterfacedecl_108236(C_144556, S_144559);
asgnRefNoCycle((void**) &(*A_144583).KindU.S6.Sons->data[0], Newsymnode_55735(S_144559));
LA3: ;
Res_146933 += 1;
} LA2: ;
I_144751 = 0;
HEX3Atmp_146935 = 0;
LOC19 = Sonslen_55804(N_144557);
HEX3Atmp_146935 = (NI32)(LOC19 - 1);
Res_146937 = 0;
Res_146937 = 0;
while (1) {
if (!(Res_146937 <= HEX3Atmp_146935)) goto LA20;
I_144751 = Res_146937;
A_144764 = 0;
A_144764 = (*N_144557).KindU.S6.Sons->data[I_144751];
if (!((*A_144764).Kind == ((NU8) 105))) goto LA23;
goto LA21;
LA23: ;
if (!!(((*A_144764).Kind == ((NU8) 91)))) goto LA26;
Illformedast_107403(A_144764);
LA26: ;
Checksonslen_107407(A_144764, 3);
if (!!(((*(*A_144764).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA29;
Illformedast_107403(A_144764);
LA29: ;
S_144559 = (*(*A_144764).KindU.S6.Sons->data[0]).KindU.S4.Sym;
LOC32 = ((*S_144559).Magic == ((NU8) 0));
if (!(LOC32)) goto LA33;
LOC32 = ((*(*A_144764).KindU.S6.Sons->data[2]).Kind == ((NU8) 1));
LA33: ;
if (!LOC32) goto LA34;
Globalerror_48139((*A_144764).Info, ((NU8) 134), (*(*S_144559).Name).S);
LA34: ;
if (!!(((*S_144559).Magic == ((NU8) 0)))) goto LA37;
Processmagictype_133947(C_144556, S_144559);
LA37: ;
if (!!(((*(*A_144764).KindU.S6.Sons->data[1]).Kind == ((NU8) 1)))) goto LA40;
Openscope_60141(&(*C_144556).Tab);
Pushowner_107094(S_144559);
(*(*S_144559).Typ).Kind = ((NU8) 10);
if (!!(((*(*S_144559).Typ).Containerid == 0))) goto LA43;
Internalerror_48159((*A_144764).Info, ((NimStringDesc*) &TMP196167));
LA43: ;
(*(*S_144559).Typ).Containerid = Getid_55694();
asgnRefNoCycle((void**) &(*A_144764).KindU.S6.Sons->data[1], Semgenericparamlist_144321(C_144556, (*A_144764).KindU.S6.Sons->data[1], (*S_144559).Typ));
Addson_55828((*S_144559).Typ, NIM_NIL);
asgnRefNoCycle((void**) &(*S_144559).Ast, A_144764);
Body_144561 = Semtypenode_126138(C_144556, (*A_144764).KindU.S6.Sons->data[2], NIM_NIL);
if (!!((Body_144561 == NIM_NIL))) goto LA46;
asgnRef((void**) &(*Body_144561).Sym, S_144559);
LA46: ;
LOC48 = Sonslen_55807((*S_144559).Typ);
asgnRef((void**) &(*(*S_144559).Typ).Sons->data[(NI32)(LOC48 - 1)], Body_144561);
Popowner_107097();
Closescope_108018(&(*C_144556).Tab);
goto LA39;
LA40: ;
if (!!(((*(*A_144764).KindU.S6.Sons->data[2]).Kind == ((NU8) 1)))) goto LA49;
Pushowner_107094(S_144559);
T_144560 = Semtypenode_126138(C_144556, (*A_144764).KindU.S6.Sons->data[2], (*S_144559).Typ);
LOC52 = !((T_144560 == (*S_144559).Typ));
if (!(LOC52)) goto LA53;
LOC52 = !(((*S_144559).Typ == NIM_NIL));
LA53: ;
if (!LOC52) goto LA54;
Internalerror_48159((*A_144764).Info, ((NimStringDesc*) &TMP196169));
LA54: ;
asgnRef((void**) &(*S_144559).Typ, T_144560);
asgnRefNoCycle((void**) &(*S_144559).Ast, A_144764);
Popowner_107097();
goto LA39;
LA49: ;
LA39: ;
LA21: ;
Res_146937 += 1;
} LA20: ;
I_145000 = 0;
HEX3Atmp_146939 = 0;
LOC56 = Sonslen_55804(N_144557);
HEX3Atmp_146939 = (NI32)(LOC56 - 1);
Res_146941 = 0;
Res_146941 = 0;
while (1) {
if (!(Res_146941 <= HEX3Atmp_146939)) goto LA57;
I_145000 = Res_146941;
A_145013 = 0;
A_145013 = (*N_144557).KindU.S6.Sons->data[I_145000];
if (!((*A_145013).Kind == ((NU8) 105))) goto LA60;
goto LA58;
LA60: ;
if (!!(((*(*A_145013).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA63;
Illformedast_107403(A_145013);
LA63: ;
S_144559 = (*(*A_145013).KindU.S6.Sons->data[0]).KindU.S4.Sym;
if (!((*(*A_145013).KindU.S6.Sons->data[1]).Kind == ((NU8) 1))) goto LA66;
if (!((*(*A_145013).KindU.S6.Sons->data[2]).Kind == ((NU8) 3) || (*(*A_145013).KindU.S6.Sons->data[2]).Kind == ((NU8) 2) || (*(*A_145013).KindU.S6.Sons->data[2]).Kind == ((NU8) 43))) goto LA69;
T_144560 = Semtypenode_126138(C_144556, (*A_145013).KindU.S6.Sons->data[2], NIM_NIL);
if (!((*T_144560).Kind == ((NU8) 17) || (*T_144560).Kind == ((NU8) 14))) goto LA72;
Assigntype_55780((*S_144559).Typ, T_144560);
(*(*S_144559).Typ).Sup.Id = (*T_144560).Sup.Id;
LA72: ;
LA69: ;
Checkconstructedtype_127608((*S_144559).Info, (*S_144559).Typ);
LA66: ;
LA58: ;
Res_146941 += 1;
} LA57: ;
return Result_144558;
}
N_NIMCALL(TY55526*, Semif_141898)(TY107012* C_141900, TY55526* N_141901) {
TY55526* Result_141902;
NI I_141911;
NI HEX3Atmp_146895;
NI LOC1;
NI Res_146897;
TY55526* It_141924;
NI LOC4;
Result_141902 = 0;
Result_141902 = N_141901;
I_141911 = 0;
HEX3Atmp_146895 = 0;
LOC1 = Sonslen_55804(N_141901);
HEX3Atmp_146895 = (NI32)(LOC1 - 1);
Res_146897 = 0;
Res_146897 = 0;
while (1) {
if (!(Res_146897 <= HEX3Atmp_146895)) goto LA2;
I_141911 = Res_146897;
It_141924 = 0;
It_141924 = (*N_141901).KindU.S6.Sons->data[I_141911];
switch ((*It_141924).Kind) {
case ((NU8) 76):
Checksonslen_107407(It_141924, 2);
Openscope_60141(&(*C_141900).Tab);
asgnRefNoCycle((void**) &(*It_141924).KindU.S6.Sons->data[0], Semexprwithtype_126122(C_141900, (*It_141924).KindU.S6.Sons->data[0], 0));
Checkbool_130826((*It_141924).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*It_141924).KindU.S6.Sons->data[1], Semstmt_126143(C_141900, (*It_141924).KindU.S6.Sons->data[1]));
Closescope_108018(&(*C_141900).Tab);
break;
case ((NU8) 78):
LOC4 = Sonslen_55804(It_141924);
if (!(LOC4 == 1)) goto LA5;
asgnRefNoCycle((void**) &(*It_141924).KindU.S6.Sons->data[0], Semstmtscope_126104(C_141900, (*It_141924).KindU.S6.Sons->data[0]));
goto LA3;
LA5: ;
Illformedast_107403(It_141924);
LA3: ;
break;
default:
Illformedast_107403(N_141901);
break;
}
Res_146897 += 1;
} LA2: ;
return Result_141902;
}
N_NIMCALL(TY55526*, Semwhen_141778)(TY107012* C_141780, TY55526* N_141781) {
TY55526* Result_141782;
NI I_141791;
NI HEX3Atmp_146892;
NI LOC1;
NI Res_146894;
TY55526* It_141804;
TY55526* E_141817;
NIM_BOOL LOC7;
Result_141782 = 0;
Result_141782 = NIM_NIL;
I_141791 = 0;
HEX3Atmp_146892 = 0;
LOC1 = Sonslen_55804(N_141781);
HEX3Atmp_146892 = (NI32)(LOC1 - 1);
Res_146894 = 0;
Res_146894 = 0;
while (1) {
if (!(Res_146894 <= HEX3Atmp_146892)) goto LA2;
I_141791 = Res_146894;
It_141804 = 0;
It_141804 = (*N_141781).KindU.S6.Sons->data[I_141791];
switch ((*It_141804).Kind) {
case ((NU8) 76):
Checksonslen_107407(It_141804, 2);
E_141817 = 0;
E_141817 = Semconstexpr_126171(C_141780, (*It_141804).KindU.S6.Sons->data[0]);
Checkbool_130826(E_141817);
if (!!(((*E_141817).Kind == ((NU8) 6)))) goto LA4;
Internalerror_48159((*N_141781).Info, ((NimStringDesc*) &TMP196170));
LA4: ;
LOC7 = !(((*E_141817).KindU.S1.Intval == 0));
if (!(LOC7)) goto LA8;
LOC7 = (Result_141782 == NIM_NIL);
LA8: ;
if (!LOC7) goto LA9;
Result_141782 = Semstmt_126143(C_141780, (*It_141804).KindU.S6.Sons->data[1]);
LA9: ;
break;
case ((NU8) 78):
Checksonslen_107407(It_141804, 1);
if (!(Result_141782 == NIM_NIL)) goto LA12;
Result_141782 = Semstmt_126143(C_141780, (*It_141804).KindU.S6.Sons->data[0]);
LA12: ;
break;
default:
Illformedast_107403(N_141781);
break;
}
Res_146894 += 1;
} LA2: ;
if (!(Result_141782 == NIM_NIL)) goto LA15;
Result_141782 = Newnodei_55738(((NU8) 18), (*N_141781).Info);
LA15: ;
Idsynchronizationpoint_55699(200);
return Result_141782;
}
N_NIMCALL(TY55526*, Semdiscard_142013)(TY107012* C_142015, TY55526* N_142016) {
TY55526* Result_142017;
Result_142017 = 0;
Result_142017 = N_142016;
Checksonslen_107407(N_142016, 1);
asgnRefNoCycle((void**) &(*N_142016).KindU.S6.Sons->data[0], Semexprwithtype_126122(C_142015, (*N_142016).KindU.S6.Sons->data[0], 0));
if (!((*(*N_142016).KindU.S6.Sons->data[0]).Typ == NIM_NIL)) goto LA2;
Localerror_48144((*N_142016).Info, ((NU8) 137), ((NimStringDesc*) &TMP195991));
LA2: ;
return Result_142017;
}
N_NIMCALL(TY55526*, Semwhile_142302)(TY107012* C_142304, TY55526* N_142305) {
TY55526* Result_142306;
Result_142306 = 0;
Result_142306 = N_142305;
Checksonslen_107407(N_142305, 2);
Openscope_60141(&(*C_142304).Tab);
asgnRefNoCycle((void**) &(*N_142305).KindU.S6.Sons->data[0], Semexprwithtype_126122(C_142304, (*N_142305).KindU.S6.Sons->data[0], 0));
Checkbool_130826((*N_142305).KindU.S6.Sons->data[0]);
(*(*C_142304).P).Nestedloopcounter += 1;
asgnRefNoCycle((void**) &(*N_142305).KindU.S6.Sons->data[1], Semstmt_126143(C_142304, (*N_142305).KindU.S6.Sons->data[1]));
(*(*C_142304).P).Nestedloopcounter -= 1;
Closescope_108018(&(*C_142304).Tab);
return Result_142306;
}
N_NIMCALL(TY55526*, Semtry_144124)(TY107012* C_144126, TY55526* N_144127) {
TY55526* Result_144128;
TY55895 Check_144129;
NI I_144163;
NI HEX3Atmp_146918;
NI LOC1;
NI Res_146920;
TY55526* A_144176;
NI Length_144177;
NI J_144195;
NI HEX3Atmp_146915;
NI Res_146917;
TY55552* Typ_144208;
NIM_BOOL LOC14;
Result_144128 = 0;
memset((void*)&Check_144129, 0, sizeof(Check_144129));
Result_144128 = N_144127;
Checkminsonslen_107413(N_144127, 2);
asgnRefNoCycle((void**) &(*N_144127).KindU.S6.Sons->data[0], Semstmtscope_126104(C_144126, (*N_144127).KindU.S6.Sons->data[0]));
Intsetinit_55919(&Check_144129);
I_144163 = 0;
HEX3Atmp_146918 = 0;
LOC1 = Sonslen_55804(N_144127);
HEX3Atmp_146918 = (NI32)(LOC1 - 1);
Res_146920 = 0;
Res_146920 = 1;
while (1) {
if (!(Res_146920 <= HEX3Atmp_146918)) goto LA2;
I_144163 = Res_146920;
A_144176 = 0;
A_144176 = (*N_144127).KindU.S6.Sons->data[I_144163];
Checkminsonslen_107413(A_144176, 1);
Length_144177 = 0;
Length_144177 = Sonslen_55804(A_144176);
if (!((*A_144176).Kind == ((NU8) 77))) goto LA4;
J_144195 = 0;
HEX3Atmp_146915 = 0;
HEX3Atmp_146915 = (NI32)(Length_144177 - 2);
Res_146917 = 0;
Res_146917 = 0;
while (1) {
if (!(Res_146917 <= HEX3Atmp_146915)) goto LA6;
J_144195 = Res_146917;
Typ_144208 = 0;
Typ_144208 = Semtypenode_126138(C_144126, (*A_144176).KindU.S6.Sons->data[J_144195], NIM_NIL);
if (!((*Typ_144208).Kind == ((NU8) 22))) goto LA8;
Typ_144208 = (*Typ_144208).Sons->data[0];
LA8: ;
if (!!(((*Typ_144208).Kind == ((NU8) 17)))) goto LA11;
Globalerror_48139((*(*A_144176).KindU.S6.Sons->data[J_144195]).Info, ((NU8) 109), ((NimStringDesc*) &TMP195991));
LA11: ;
asgnRefNoCycle((void**) &(*A_144176).KindU.S6.Sons->data[J_144195], Newnodei_55738(((NU8) 4), (*(*A_144176).KindU.S6.Sons->data[J_144195]).Info));
asgnRef((void**) &(*(*A_144176).KindU.S6.Sons->data[J_144195]).Typ, Typ_144208);
LOC14 = Intsetcontainsorincl_55923(&Check_144129, (*Typ_144208).Sup.Id);
if (!LOC14) goto LA15;
Localerror_48144((*(*A_144176).KindU.S6.Sons->data[J_144195]).Info, ((NU8) 33), ((NimStringDesc*) &TMP195991));
LA15: ;
Res_146917 += 1;
} LA6: ;
goto LA3;
LA4: ;
if (!!(((*A_144176).Kind == ((NU8) 94)))) goto LA17;
Illformedast_107403(N_144127);
goto LA3;
LA17: ;
LA3: ;
asgnRefNoCycle((void**) &(*A_144176).KindU.S6.Sons->data[(NI32)(Length_144177 - 1)], Semstmtscope_126104(C_144126, (*A_144176).KindU.S6.Sons->data[(NI32)(Length_144177 - 1)]));
Res_146920 += 1;
} LA2: ;
return Result_144128;
}
N_NIMCALL(TY55526*, Sembreakorcontinue_142065)(TY107012* C_142067, TY55526* N_142068) {
TY55526* Result_142069;
TY55548* S_142091;
NIM_BOOL LOC5;
TY55526* X_142151;
NIM_BOOL LOC9;
NimStringDesc* LOC13;
Result_142069 = 0;
Result_142069 = N_142068;
Checksonslen_107407(N_142068, 1);
if (!!(((*(*N_142068).KindU.S6.Sons->data[0]).Kind == ((NU8) 1)))) goto LA2;
S_142091 = 0;
switch ((*(*N_142068).KindU.S6.Sons->data[0]).Kind) {
case ((NU8) 2):
S_142091 = Lookup_108245(C_142067, (*N_142068).KindU.S6.Sons->data[0]);
break;
case ((NU8) 3):
S_142091 = (*(*N_142068).KindU.S6.Sons->data[0]).KindU.S4.Sym;
break;
default:
Illformedast_107403(N_142068);
break;
}
LOC5 = ((*S_142091).Kind == ((NU8) 19));
if (!(LOC5)) goto LA6;
LOC5 = ((*(*S_142091).Owner).Sup.Id == (*(*(*C_142067).P).Owner).Sup.Id);
LA6: ;
if (!LOC5) goto LA7;
X_142151 = 0;
X_142151 = Newsymnode_55735(S_142091);
(*X_142151).Info = (*N_142068).Info;
(*S_142091).Flags |=(1<<((NI32)(((NU8) 0))%(sizeof(NI32)*8)));
asgnRefNoCycle((void**) &(*N_142068).KindU.S6.Sons->data[0], X_142151);
goto LA4;
LA7: ;
Localerror_48144((*N_142068).Info, ((NU8) 160), (*(*S_142091).Name).S);
LA4: ;
goto LA1;
LA2: ;
LOC9 = ((*(*C_142067).P).Nestedloopcounter <= 0);
if (!(LOC9)) goto LA10;
LOC9 = ((*(*C_142067).P).Nestedblockcounter <= 0);
LA10: ;
if (!LOC9) goto LA11;
LOC13 = 0;
LOC13 = Rendertree_85042(N_142068, 4);
Localerror_48144((*N_142068).Info, ((NU8) 160), LOC13);
goto LA1;
LA11: ;
LA1: ;
return Result_142069;
}
N_NIMCALL(TY55526*, Semfor_143635)(TY107012* C_143637, TY55526* N_143638) {
TY55526* Result_143639;
TY55548* V_143640;
TY55548* Countup_143641;
TY55552* Iter_143642;
TY55526* Countupnode_143643;
TY55526* Call_143644;
NI Length_143645;
TY54011* LOC4;
NIM_BOOL LOC9;
NIM_BOOL LOC10;
NI LOC22;
NI I_143969;
NI HEX3Atmp_146912;
NI Res_146914;
Result_143639 = 0;
V_143640 = 0;
Countup_143641 = 0;
Iter_143642 = 0;
Countupnode_143643 = 0;
Call_143644 = 0;
Result_143639 = N_143638;
Checkminsonslen_107413(N_143638, 3);
Length_143645 = 0;
Length_143645 = Sonslen_55804(N_143638);
Openscope_60141(&(*C_143637).Tab);
if (!((*(*N_143638).KindU.S6.Sons->data[(NI32)(Length_143645 - 2)]).Kind == ((NU8) 35))) goto LA2;
Checksonslen_107407((*N_143638).KindU.S6.Sons->data[(NI32)(Length_143645 - 2)], 2);
Countupnode_143643 = Newnodei_55738(((NU8) 21), (*(*N_143638).KindU.S6.Sons->data[(NI32)(Length_143645 - 2)]).Info);
LOC4 = 0;
LOC4 = Getident_54016(((NimStringDesc*) &TMP196171));
Countup_143641 = Strtableget_60066(&(*Systemmodule_102004).Tab, LOC4);
if (!(Countup_143641 == NIM_NIL)) goto LA6;
Globalerror_48139((*Countupnode_143643).Info, ((NU8) 61), ((NimStringDesc*) &TMP196171));
LA6: ;
Newsons_55816(Countupnode_143643, 3);
asgnRefNoCycle((void**) &(*Countupnode_143643).KindU.S6.Sons->data[0], Newsymnode_55735(Countup_143641));
asgnRefNoCycle((void**) &(*Countupnode_143643).KindU.S6.Sons->data[1], (*(*N_143638).KindU.S6.Sons->data[(NI32)(Length_143645 - 2)]).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*Countupnode_143643).KindU.S6.Sons->data[2], (*(*N_143638).KindU.S6.Sons->data[(NI32)(Length_143645 - 2)]).KindU.S6.Sons->data[1]);
asgnRefNoCycle((void**) &(*N_143638).KindU.S6.Sons->data[(NI32)(Length_143645 - 2)], Countupnode_143643);
LA2: ;
asgnRefNoCycle((void**) &(*N_143638).KindU.S6.Sons->data[(NI32)(Length_143645 - 2)], Semexprwithtype_126122(C_143637, (*N_143638).KindU.S6.Sons->data[(NI32)(Length_143645 - 2)], 4));
Call_143644 = (*N_143638).KindU.S6.Sons->data[(NI32)(Length_143645 - 2)];
LOC10 = !(((*Call_143644).Kind == ((NU8) 21)));
if (LOC10) goto LA11;
LOC10 = !(((*(*Call_143644).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)));
LA11: ;
LOC9 = LOC10;
if (LOC9) goto LA12;
LOC9 = !(((*(*(*Call_143644).KindU.S6.Sons->data[0]).KindU.S4.Sym).Kind == ((NU8) 12)));
LA12: ;
if (!LOC9) goto LA13;
Globalerror_48139((*(*N_143638).KindU.S6.Sons->data[(NI32)(Length_143645 - 2)]).Info, ((NU8) 206), ((NimStringDesc*) &TMP195991));
LA13: ;
Iter_143642 = Skiptypes_97087((*(*N_143638).KindU.S6.Sons->data[(NI32)(Length_143645 - 2)]).Typ, 2048);
if (!!(((*Iter_143642).Kind == ((NU8) 18)))) goto LA16;
if (!!((Length_143645 == 3))) goto LA19;
Globalerror_48139((*N_143638).Info, ((NU8) 108), ((NimStringDesc*) &TMP195991));
LA19: ;
V_143640 = Newsyms_126059(((NU8) 18), (*N_143638).KindU.S6.Sons->data[0], C_143637);
asgnRef((void**) &(*V_143640).Typ, Iter_143642);
asgnRefNoCycle((void**) &(*N_143638).KindU.S6.Sons->data[0], Newsymnode_55735(V_143640));
Adddecl_108114(C_143637, V_143640);
goto LA15;
LA16: ;
LOC22 = Sonslen_55807(Iter_143642);
if (!!(((NI32)(Length_143645 - 2) == LOC22))) goto LA23;
Globalerror_48139((*N_143638).Info, ((NU8) 108), ((NimStringDesc*) &TMP195991));
LA23: ;
I_143969 = 0;
HEX3Atmp_146912 = 0;
HEX3Atmp_146912 = (NI32)(Length_143645 - 3);
Res_146914 = 0;
Res_146914 = 0;
while (1) {
if (!(Res_146914 <= HEX3Atmp_146912)) goto LA25;
I_143969 = Res_146914;
V_143640 = Newsyms_126059(((NU8) 18), (*N_143638).KindU.S6.Sons->data[I_143969], C_143637);
asgnRef((void**) &(*V_143640).Typ, (*Iter_143642).Sons->data[I_143969]);
asgnRefNoCycle((void**) &(*N_143638).KindU.S6.Sons->data[I_143969], Newsymnode_55735(V_143640));
Adddecl_108114(C_143637, V_143640);
Res_146914 += 1;
} LA25: ;
LA15: ;
(*(*C_143637).P).Nestedloopcounter += 1;
asgnRefNoCycle((void**) &(*N_143638).KindU.S6.Sons->data[(NI32)(Length_143645 - 1)], Semstmt_126143(C_143637, (*N_143638).KindU.S6.Sons->data[(NI32)(Length_143645 - 1)]));
Closescope_108018(&(*C_143637).Tab);
(*(*C_143637).P).Nestedloopcounter -= 1;
return Result_143639;
}
N_NIMCALL(NI64, Tocover_142393)(TY55552* T_142395) {
NI64 Result_142396;
TY55552* T2_142397;
NIM_BOOL LOC2;
NI LOC6;
TY55552* LOC7;
Result_142396 = 0;
T2_142397 = 0;
T2_142397 = Skiptypes_97087(T_142395, 9480192);
LOC2 = ((*T2_142397).Kind == ((NU8) 14));
if (!(LOC2)) goto LA3;
LOC2 = Enumhaswholes_97072(T2_142397);
LA3: ;
if (!LOC2) goto LA4;
LOC6 = Sonslen_55804((*T2_142397).N);
Result_142396 = ((NI64) (LOC6));
goto LA1;
LA4: ;
LOC7 = 0;
LOC7 = Skiptypes_97087(T_142395, 8431616);
Result_142396 = Lengthord_97007(LOC7);
LA1: ;
return Result_142396;
}
N_NIMCALL(TY55526*, Semcase_142407)(TY107012* C_142409, TY55526* N_142410) {
TY55526* Result_142411;
NIM_BOOL Chckcovered_142437;
NI64 Covered_142438;
TY55552* LOC1;
NI I_142459;
NI HEX3Atmp_146898;
NI LOC2;
NI Res_146900;
TY55526* X_142472;
NI Length_142474;
NIM_BOOL LOC5;
NI64 LOC7;
Result_142411 = 0;
Result_142411 = N_142410;
Checkminsonslen_107413(N_142410, 2);
Openscope_60141(&(*C_142409).Tab);
asgnRefNoCycle((void**) &(*N_142410).KindU.S6.Sons->data[0], Semexprwithtype_126122(C_142409, (*N_142410).KindU.S6.Sons->data[0], 0));
Chckcovered_142437 = 0;
Chckcovered_142437 = NIM_FALSE;
Covered_142438 = 0;
Covered_142438 = 0;
LOC1 = 0;
LOC1 = Skiptypes_97087((*(*N_142410).KindU.S6.Sons->data[0]).Typ, 9480192);
switch ((*LOC1).Kind) {
case ((NU8) 31) ... ((NU8) 35):
case ((NU8) 2):
case ((NU8) 14):
Chckcovered_142437 = NIM_TRUE;
break;
case ((NU8) 36) ... ((NU8) 39):
case ((NU8) 28):
break;
default:
Localerror_48144((*N_142410).Info, ((NU8) 104), ((NimStringDesc*) &TMP195991));
goto BeforeRet;
break;
}
I_142459 = 0;
HEX3Atmp_146898 = 0;
LOC2 = Sonslen_55804(N_142410);
HEX3Atmp_146898 = (NI32)(LOC2 - 1);
Res_146900 = 0;
Res_146900 = 1;
while (1) {
if (!(Res_146900 <= HEX3Atmp_146898)) goto LA3;
I_142459 = Res_146900;
X_142472 = 0;
X_142472 = (*N_142410).KindU.S6.Sons->data[I_142459];
switch ((*X_142472).Kind) {
case ((NU8) 75):
Checkminsonslen_107413(X_142472, 2);
Semcasebranch_132218(C_142409, N_142410, X_142472, I_142459, &Covered_142438);
Length_142474 = 0;
Length_142474 = Sonslen_55804(X_142472);
asgnRefNoCycle((void**) &(*X_142472).KindU.S6.Sons->data[(NI32)(Length_142474 - 1)], Semstmtscope_126104(C_142409, (*X_142472).KindU.S6.Sons->data[(NI32)(Length_142474 - 1)]));
break;
case ((NU8) 76):
Chckcovered_142437 = NIM_FALSE;
Checksonslen_107407(X_142472, 2);
asgnRefNoCycle((void**) &(*X_142472).KindU.S6.Sons->data[0], Semexprwithtype_126122(C_142409, (*X_142472).KindU.S6.Sons->data[0], 0));
Checkbool_130826((*X_142472).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*X_142472).KindU.S6.Sons->data[1], Semstmtscope_126104(C_142409, (*X_142472).KindU.S6.Sons->data[1]));
break;
case ((NU8) 78):
Chckcovered_142437 = NIM_FALSE;
Checksonslen_107407(X_142472, 1);
asgnRefNoCycle((void**) &(*X_142472).KindU.S6.Sons->data[0], Semstmtscope_126104(C_142409, (*X_142472).KindU.S6.Sons->data[0]));
break;
default:
Illformedast_107403(X_142472);
break;
}
Res_146900 += 1;
} LA3: ;
LOC5 = Chckcovered_142437;
if (!(LOC5)) goto LA6;
LOC7 = Tocover_142393((*(*N_142410).KindU.S6.Sons->data[0]).Typ);
LOC5 = !((Covered_142438 == LOC7));
LA6: ;
if (!LOC5) goto LA8;
Localerror_48144((*N_142410).Info, ((NU8) 147), ((NimStringDesc*) &TMP195991));
LA8: ;
Closescope_108018(&(*C_142409).Tab);
BeforeRet: ;
return Result_142411;
}
N_NIMCALL(TY55526*, Semreturn_142754)(TY107012* C_142756, TY55526* N_142757) {
TY55526* Result_142758;
TY55552* Restype_142759;
TY55526* A_142760;
NIM_BOOL LOC11;
TY55526* LOC18;
TY55526* LOC19;
Result_142758 = 0;
Restype_142759 = 0;
A_142760 = 0;
Result_142758 = N_142757;
Checksonslen_107407(N_142757, 1);
if (!!(((27648 &(1<<(((*(*(*C_142756).P).Owner).Kind)&31)))!=0))) goto LA2;
Globalerror_48139((*N_142757).Info, ((NU8) 159), ((NimStringDesc*) &TMP196172));
LA2: ;
if (!!(((*(*N_142757).KindU.S6.Sons->data[0]).Kind == ((NU8) 1)))) goto LA5;
asgnRefNoCycle((void**) &(*N_142757).KindU.S6.Sons->data[0], Semexprwithtype_126122(C_142756, (*N_142757).KindU.S6.Sons->data[0], 0));
Restype_142759 = (*(*(*(*C_142756).P).Owner).Typ).Sons->data[0];
if (!!((Restype_142759 == NIM_NIL))) goto LA8;
A_142760 = Newnodei_55738(((NU8) 63), (*(*N_142757).KindU.S6.Sons->data[0]).Info);
asgnRefNoCycle((void**) &(*N_142757).KindU.S6.Sons->data[0], Fitnode_126129(C_142756, Restype_142759, (*N_142757).KindU.S6.Sons->data[0]));
LOC11 = ((*(*N_142757).KindU.S6.Sons->data[0]).Kind == ((NU8) 3));
if (!(LOC11)) goto LA12;
LOC11 = (((*(*(*N_142757).KindU.S6.Sons->data[0]).KindU.S4.Sym).Flags &(1<<((((NU8) 12))&31)))!=0);
LA12: ;
if (!LOC11) goto LA13;
asgnRefNoCycle((void**) &(*N_142757).KindU.S6.Sons->data[0], Emptynode_55858);
goto LA10;
LA13: ;
if (!((*(*C_142756).P).Resultsym == NIM_NIL)) goto LA16;
Internalerror_48159((*N_142757).Info, ((NimStringDesc*) &TMP196173));
LA16: ;
LOC18 = 0;
LOC18 = Newsymnode_55735((*(*C_142756).P).Resultsym);
LOC19 = 0;
LOC19 = Semexprwithtype_126122(C_142756, LOC18, 0);
Addson_55824(A_142760, LOC19);
Addson_55824(A_142760, (*N_142757).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*N_142757).KindU.S6.Sons->data[0], A_142760);
LA10: ;
goto LA7;
LA8: ;
Localerror_48144((*N_142757).Info, ((NU8) 36), ((NimStringDesc*) &TMP195991));
LA7: ;
LA5: ;
return Result_142758;
}
N_NIMCALL(TY55526*, Semasm_142282)(TY107012* Con_142284, TY55526* N_142285) {
TY55526* Result_142286;
NIM_CHAR Marker_142299;
Result_142286 = 0;
Checksonslen_107407(N_142285, 2);
Marker_142299 = 0;
Marker_142299 = Pragmaasm_122034(Con_142284, (*N_142285).KindU.S6.Sons->data[0]);
if (!((NU8)(Marker_142299) == (NU8)(0))) goto LA2;
Marker_142299 = 96;
LA2: ;
Result_142286 = Semasmoremit_123596(Con_142284, N_142285, Marker_142299);
return Result_142286;
}
N_NIMCALL(TY55526*, Semyield_142968)(TY107012* C_142970, TY55526* N_142971) {
TY55526* Result_142972;
NIM_BOOL LOC2;
TY55552* Restype_143038;
Result_142972 = 0;
Result_142972 = N_142971;
Checksonslen_107407(N_142971, 1);
LOC2 = ((*(*C_142970).P).Owner == NIM_NIL);
if (LOC2) goto LA3;
LOC2 = !(((*(*(*C_142970).P).Owner).Kind == ((NU8) 12)));
LA3: ;
if (!LOC2) goto LA4;
Globalerror_48139((*N_142971).Info, ((NU8) 34), ((NimStringDesc*) &TMP195991));
LA4: ;
if (!!(((*(*N_142971).KindU.S6.Sons->data[0]).Kind == ((NU8) 1)))) goto LA7;
asgnRefNoCycle((void**) &(*N_142971).KindU.S6.Sons->data[0], Semexprwithtype_126122(C_142970, (*N_142971).KindU.S6.Sons->data[0], 0));
Restype_143038 = 0;
Restype_143038 = (*(*(*(*C_142970).P).Owner).Typ).Sons->data[0];
if (!!((Restype_143038 == NIM_NIL))) goto LA10;
asgnRefNoCycle((void**) &(*N_142971).KindU.S6.Sons->data[0], Fitnode_126129(C_142970, Restype_143038, (*N_142971).KindU.S6.Sons->data[0]));
if (!((*(*N_142971).KindU.S6.Sons->data[0]).Typ == NIM_NIL)) goto LA13;
Internalerror_48159((*N_142971).Info, ((NimStringDesc*) &TMP196174));
LA13: ;
goto LA9;
LA10: ;
Localerror_48144((*N_142971).Info, ((NU8) 36), ((NimStringDesc*) &TMP195991));
LA9: ;
LA7: ;
return Result_142972;
}
N_NIMCALL(void, Addgenericparamlisttoscope_144498)(TY107012* C_144500, TY55526* N_144501) {
NI I_144519;
NI HEX3Atmp_146927;
NI LOC4;
NI Res_146929;
TY55526* A_144532;
if (!!(((*N_144501).Kind == ((NU8) 65)))) goto LA2;
Internalerror_48159((*N_144501).Info, ((NimStringDesc*) &TMP196178));
LA2: ;
I_144519 = 0;
HEX3Atmp_146927 = 0;
LOC4 = Sonslen_55804(N_144501);
HEX3Atmp_146927 = (NI32)(LOC4 - 1);
Res_146929 = 0;
Res_146929 = 0;
while (1) {
if (!(Res_146929 <= HEX3Atmp_146927)) goto LA5;
I_144519 = Res_146929;
A_144532 = 0;
A_144532 = (*N_144501).KindU.S6.Sons->data[I_144519];
if (!!(((*A_144532).Kind == ((NU8) 3)))) goto LA7;
Internalerror_48159((*A_144532).Info, ((NimStringDesc*) &TMP196178));
LA7: ;
Adddecl_108114(C_144500, (*A_144532).KindU.S4.Sym);
Res_146929 += 1;
} LA5: ;
}
N_NIMCALL(TY55526*, Evaltemplateargs_126394)(TY107012* C_126396, TY55526* N_126397, TY55548* S_126398) {
TY55526* Result_126399;
NI F_126400;
NI A_126401;
TY55526* Arg_126402;
NI I_126415;
NI HEX3Atmp_127029;
NI Res_127031;
NIM_BOOL LOC9;
TY55526* LOC15;
Result_126399 = 0;
F_126400 = 0;
A_126401 = 0;
Arg_126402 = 0;
F_126400 = Sonslen_55807((*S_126398).Typ);
switch ((*N_126397).Kind) {
case ((NU8) 21):
case ((NU8) 27):
case ((NU8) 28):
case ((NU8) 29):
case ((NU8) 20):
case ((NU8) 22):
A_126401 = Sonslen_55804(N_126397);
break;
default:
A_126401 = 0;
break;
}
if (!(F_126400 < A_126401)) goto LA2;
Localerror_48144((*N_126397).Info, ((NU8) 129), ((NimStringDesc*) &TMP195991));
LA2: ;
Result_126399 = Copynode_55849(N_126397);
I_126415 = 0;
HEX3Atmp_127029 = 0;
HEX3Atmp_127029 = (NI32)(F_126400 - 1);
Res_127031 = 0;
Res_127031 = 1;
while (1) {
if (!(Res_127031 <= HEX3Atmp_127029)) goto LA4;
I_126415 = Res_127031;
if (!(I_126415 < A_126401)) goto LA6;
Arg_126402 = (*N_126397).KindU.S6.Sons->data[I_126415];
goto LA5;
LA6: ;
Arg_126402 = Copytree_55852((*(*(*(*(*S_126398).Typ).N).KindU.S6.Sons->data[I_126415]).KindU.S4.Sym).Ast);
LA5: ;
LOC9 = (Arg_126402 == NIM_NIL);
if (LOC9) goto LA10;
LOC9 = ((*Arg_126402).Kind == ((NU8) 1));
LA10: ;
if (!LOC9) goto LA11;
Localerror_48144((*N_126397).Info, ((NU8) 129), ((NimStringDesc*) &TMP195991));
goto LA8;
LA11: ;
if (!!(((*(*(*S_126398).Typ).Sons->data[I_126415]).Kind == ((NU8) 8) || (*(*(*S_126398).Typ).Sons->data[I_126415]).Kind == ((NU8) 7) || (*(*(*S_126398).Typ).Sons->data[I_126415]).Kind == ((NU8) 6)))) goto LA13;
LOC15 = 0;
LOC15 = Semexprwithtype_126122(C_126396, Arg_126402, 0);
Arg_126402 = Fitnode_126129(C_126396, (*(*S_126398).Typ).Sons->data[I_126415], LOC15);
goto LA8;
LA13: ;
LA8: ;
Addson_55824(Result_126399, Arg_126402);
Res_127031 += 1;
} LA4: ;
return Result_126399;
}
N_NIMCALL(TY55526*, Evaltemplateaux_126317)(TY107012* C_126319, TY55526* Templ_126320, TY55526* Actual_126321, TY55548* Sym_126322) {
TY55526* Result_126323;
TY55548* P_126336;
NIM_BOOL LOC2;
NI LOC6;
NI I_126368;
NI HEX3Atmp_127026;
NI LOC7;
NI Res_127028;
Result_126323 = 0;
switch ((*Templ_126320).Kind) {
case ((NU8) 3):
P_126336 = 0;
P_126336 = (*Templ_126320).KindU.S4.Sym;
LOC2 = ((*P_126336).Kind == ((NU8) 3));
if (!(LOC2)) goto LA3;
LOC2 = ((*(*P_126336).Owner).Sup.Id == (*Sym_126322).Sup.Id);
LA3: ;
if (!LOC2) goto LA4;
Result_126323 = Copytree_55852((*Actual_126321).KindU.S6.Sons->data[(*P_126336).Position]);
goto LA1;
LA4: ;
Result_126323 = Copynode_55849(Templ_126320);
LA1: ;
break;
case ((NU8) 0) ... ((NU8) 2):
case ((NU8) 4) ... ((NU8) 18):
Result_126323 = Copynode_55849(Templ_126320);
break;
default:
Result_126323 = Copynode_55849(Templ_126320);
LOC6 = Sonslen_55804(Templ_126320);
Newsons_55816(Result_126323, LOC6);
I_126368 = 0;
HEX3Atmp_127026 = 0;
LOC7 = Sonslen_55804(Templ_126320);
HEX3Atmp_127026 = (NI32)(LOC7 - 1);
Res_127028 = 0;
Res_127028 = 0;
while (1) {
if (!(Res_127028 <= HEX3Atmp_127026)) goto LA8;
I_126368 = Res_127028;
asgnRefNoCycle((void**) &(*Result_126323).KindU.S6.Sons->data[I_126368], Evaltemplateaux_126317(C_126319, (*Templ_126320).KindU.S6.Sons->data[I_126368], Actual_126321, Sym_126322));
Res_127028 += 1;
} LA8: ;
break;
}
return Result_126323;
}
N_NIMCALL(TY55526*, Evaltemplate_126488)(TY107012* C_126490, TY55526* N_126491, TY55548* Sym_126492) {
TY55526* Result_126493;
TY55526* Args_126494;
Result_126493 = 0;
Args_126494 = 0;
Evaltemplatecounter_126393 += 1;
if (!(Evaltemplatecounter_126393 <= 100)) goto LA2;
Args_126494 = Evaltemplateargs_126394(C_126490, N_126491, Sym_126492);
Result_126493 = Evaltemplateaux_126317(C_126490, (*(*Sym_126492).Ast).KindU.S6.Sons->data[4], Args_126494, Sym_126492);
Evaltemplatecounter_126393 -= 1;
goto LA1;
LA2: ;
Globalerror_48139((*N_126491).Info, ((NU8) 179), ((NimStringDesc*) &TMP195991));
Result_126493 = N_126491;
LA1: ;
return Result_126493;
}
N_NIMCALL(TY55526*, Semtemplateexpr_133953)(TY107012* C_133955, TY55526* N_133956, TY55548* S_133957, NIM_BOOL Semcheck_133958) {
TY55526* Result_133959;
Result_133959 = 0;
Markused_126065(N_133956, S_133957);
Pushinfocontext_47615((*N_133956).Info);
Result_133959 = Evaltemplate_126488(C_133955, N_133956, S_133957);
if (!Semcheck_133958) goto LA2;
Result_133959 = Semaftermacrocall_126246(C_133955, Result_133959, S_133957);
LA2: ;
Popinfocontext_47636();
return Result_133959;
}
N_NIMCALL(TY55526*, Semgenericstmtsymbol_140065)(TY107012* C_140067, TY55526* N_140068, TY55548* S_140069) {
TY55526* Result_140070;
NIM_BOOL LOC2;
Result_140070 = 0;
(*S_140069).Flags |=(1<<((NI32)(((NU8) 0))%(sizeof(NI32)*8)));
switch ((*S_140069).Kind) {
case ((NU8) 0):
Result_140070 = N_140068;
break;
case ((NU8) 10):
case ((NU8) 11):
case ((NU8) 12):
case ((NU8) 13):
Result_140070 = Symchoice_126533(C_140067, N_140068, S_140069);
break;
case ((NU8) 15):
Result_140070 = Semtemplateexpr_133953(C_140067, N_140068, S_140069, NIM_FALSE);
break;
case ((NU8) 14):
Result_140070 = Semmacroexpr_127038(C_140067, N_140068, S_140069, NIM_FALSE);
break;
case ((NU8) 4):
Result_140070 = Newsymnode_55735(S_140069);
break;
case ((NU8) 3):
Result_140070 = N_140068;
break;
case ((NU8) 7):
LOC2 = !(((*S_140069).Typ == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC2 = !(((*(*S_140069).Typ).Kind == ((NU8) 12)));
LA3: ;
if (!LOC2) goto LA4;
Result_140070 = Newsymnode_55735(S_140069);
goto LA1;
LA4: ;
Result_140070 = N_140068;
LA1: ;
break;
default:
Result_140070 = Newsymnode_55735(S_140069);
break;
}
return Result_140070;
}
N_NIMCALL(NIM_BOOL, Iscallexpr_139426)(TY55526* N_139428) {
NIM_BOOL Result_139429;
Result_139429 = 0;
Result_139429 = ((*N_139428).Kind == ((NU8) 21) || (*N_139428).Kind == ((NU8) 27) || (*N_139428).Kind == ((NU8) 28) || (*N_139428).Kind == ((NU8) 29) || (*N_139428).Kind == ((NU8) 20) || (*N_139428).Kind == ((NU8) 22));
return Result_139429;
}
N_NIMCALL(TY55526*, Semmacrostmt_139442)(TY107012* C_139444, TY55526* N_139445, NIM_BOOL Semcheck_139446) {
TY55526* Result_139447;
TY55526* A_139448;
NIM_BOOL LOC2;
TY55548* S_139498;
NIM_BOOL LOC9;
NI I_139542;
NI HEX3Atmp_146825;
NI LOC12;
NI Res_146827;
NI I_139575;
NI HEX3Atmp_146828;
NI LOC14;
NI Res_146830;
NimStringDesc* LOC16;
Result_139447 = 0;
Checkminsonslen_107413(N_139445, 2);
A_139448 = 0;
LOC2 = Iscallexpr_139426((*N_139445).KindU.S6.Sons->data[0]);
if (!LOC2) goto LA3;
A_139448 = (*(*N_139445).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[0];
goto LA1;
LA3: ;
A_139448 = (*N_139445).KindU.S6.Sons->data[0];
LA1: ;
S_139498 = 0;
S_139498 = Qualifiedlookup_108322(C_139444, A_139448, 2);
if (!!((S_139498 == NIM_NIL))) goto LA6;
switch ((*S_139498).Kind) {
case ((NU8) 14):
Result_139447 = Semmacroexpr_127038(C_139444, N_139445, S_139498, Semcheck_139446);
break;
case ((NU8) 15):
Result_139447 = Newnodei_55738(((NU8) 21), (*N_139445).Info);
Addson_55824(Result_139447, A_139448);
LOC9 = Iscallexpr_139426((*N_139445).KindU.S6.Sons->data[0]);
if (!LOC9) goto LA10;
I_139542 = 0;
HEX3Atmp_146825 = 0;
LOC12 = Sonslen_55804((*N_139445).KindU.S6.Sons->data[0]);
HEX3Atmp_146825 = (NI32)(LOC12 - 1);
Res_146827 = 0;
Res_146827 = 1;
while (1) {
if (!(Res_146827 <= HEX3Atmp_146825)) goto LA13;
I_139542 = Res_146827;
Addson_55824(Result_139447, (*(*N_139445).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[I_139542]);
Res_146827 += 1;
} LA13: ;
LA10: ;
I_139575 = 0;
HEX3Atmp_146828 = 0;
LOC14 = Sonslen_55804(N_139445);
HEX3Atmp_146828 = (NI32)(LOC14 - 1);
Res_146830 = 0;
Res_146830 = 1;
while (1) {
if (!(Res_146830 <= HEX3Atmp_146828)) goto LA15;
I_139575 = Res_146830;
Addson_55824(Result_139447, (*N_139445).KindU.S6.Sons->data[I_139575]);
Res_146830 += 1;
} LA15: ;
Result_139447 = Semtemplateexpr_133953(C_139444, Result_139447, S_139498, Semcheck_139446);
break;
default:
Globalerror_48139((*N_139445).Info, ((NU8) 204), (*(*S_139498).Name).S);
break;
}
goto LA5;
LA6: ;
LOC16 = 0;
LOC16 = Rendertree_85042(A_139448, 4);
Globalerror_48139((*N_139445).Info, ((NU8) 165), LOC16);
LA5: ;
return Result_139447;
}
N_NIMCALL(TY55526*, Getidentnode_140103)(TY55526* N_140105) {
TY55526* Result_140106;
Result_140106 = 0;
switch ((*N_140105).Kind) {
case ((NU8) 29):
Result_140106 = Getidentnode_140103((*N_140105).KindU.S6.Sons->data[1]);
break;
case ((NU8) 34):
case ((NU8) 43):
Result_140106 = Getidentnode_140103((*N_140105).KindU.S6.Sons->data[0]);
break;
case ((NU8) 2):
Result_140106 = N_140105;
break;
default:
Illformedast_107403(N_140105);
Result_140106 = N_140105;
break;
}
return Result_140106;
}
N_NIMCALL(TY55526*, Semgenericstmt_140048)(TY107012* C_140050, TY55526* N_140051, NU8 Flags_140054) {
TY55526* Result_140138;
NI L_140139;
TY55526* A_140140;
TY55548* S_140153;
TY55548* S_140201;
TY55548* S_140240;
NIM_BOOL LOC17;
NI I_140352;
NI HEX3Atmp_146831;
NI LOC21;
NI Res_146833;
NI I_140385;
NI HEX3Atmp_146834;
NI LOC23;
NI Res_146836;
NI I_140419;
NI HEX3Atmp_146837;
NI LOC25;
NI Res_146839;
NI I_140478;
NI HEX3Atmp_146843;
NI LOC27;
NI Res_146845;
NI J_140499;
NI HEX3Atmp_146840;
NI Res_146842;
NI I_140582;
NI HEX3Atmp_146846;
NI Res_146848;
TY55548* LOC31;
TY55548* LOC35;
NI I_140711;
NI HEX3Atmp_146852;
NI LOC36;
NI Res_146854;
NI J_140732;
NI HEX3Atmp_146849;
NI Res_146851;
NI I_140790;
NI HEX3Atmp_146859;
NI LOC39;
NI Res_146861;
NIM_BOOL LOC46;
NI J_140887;
NI HEX3Atmp_146856;
NI Res_146858;
TY55526* LOC51;
TY55548* LOC52;
NI I_140908;
NI HEX3Atmp_146865;
NI LOC53;
NI Res_146867;
NI J_140963;
NI HEX3Atmp_146862;
NI Res_146864;
TY55526* LOC59;
TY55548* LOC60;
NI I_140984;
NI HEX3Atmp_146869;
NI LOC61;
NI Res_146871;
TY55526* LOC70;
TY55548* LOC71;
NI I_141084;
NI HEX3Atmp_146873;
NI LOC72;
NI Res_146875;
TY55526* LOC81;
TY55548* LOC82;
NI I_141135;
NI HEX3Atmp_146877;
NI LOC83;
NI Res_146879;
NI I_141317;
NI HEX3Atmp_146880;
NI LOC98;
NI Res_146882;
TY55526* LOC100;
TY55548* LOC101;
NI I_141432;
NI HEX3Atmp_146886;
NI LOC105;
NI Res_146888;
NI J_141511;
NI HEX3Atmp_146883;
NI Res_146885;
TY55526* LOC111;
TY55548* LOC112;
TY55526* LOC113;
TY55548* LOC114;
TY54011* LOC121;
TY55548* LOC122;
NI I_141696;
NI HEX3Atmp_146889;
NI LOC123;
NI Res_146891;
Result_140138 = 0;
L_140139 = 0;
A_140140 = 0;
Result_140138 = N_140051;
switch ((*N_140051).Kind) {
case ((NU8) 2):
S_140153 = 0;
S_140153 = Symtabget_60111((*C_140050).Tab, (*N_140051).KindU.S5.Ident);
if (!(S_140153 == NIM_NIL)) goto LA2;
if (!((Flags_140054 &(1<<((((NU8) 0))&7)))!=0)) goto LA5;
Localerror_48144((*N_140051).Info, ((NU8) 58), (*(*N_140051).KindU.S5.Ident).S);
LA5: ;
goto LA1;
LA2: ;
if (!((Flags_140054 &(1<<((((NU8) 0))&7)))!=0)) goto LA8;
Result_140138 = Symchoice_126533(C_140050, N_140051, S_140153);
goto LA7;
LA8: ;
Result_140138 = Semgenericstmtsymbol_140065(C_140050, N_140051, S_140153);
LA7: ;
LA1: ;
break;
case ((NU8) 36):
S_140201 = 0;
S_140201 = Qualifiedlookup_108322(C_140050, N_140051, 0);
if (!!((S_140201 == NIM_NIL))) goto LA11;
Result_140138 = Semgenericstmtsymbol_140065(C_140050, N_140051, S_140201);
LA11: ;
break;
case ((NU8) 1):
case ((NU8) 3) ... ((NU8) 18):
break;
case ((NU8) 45):
Result_140138 = Semgenericstmt_140048(C_140050, (*N_140051).KindU.S6.Sons->data[0], 1);
break;
case ((NU8) 21):
case ((NU8) 49):
case ((NU8) 27):
case ((NU8) 28):
case ((NU8) 20):
case ((NU8) 22):
Checkminsonslen_107413(N_140051, 1);
S_140240 = 0;
S_140240 = Qualifiedlookup_108322(C_140050, (*N_140051).KindU.S6.Sons->data[0], 0);
if (!!((S_140240 == NIM_NIL))) goto LA14;
(*S_140240).Flags |=(1<<((NI32)(((NU8) 0))%(sizeof(NI32)*8)));
switch ((*S_140240).Kind) {
case ((NU8) 14):
Result_140138 = Semmacroexpr_127038(C_140050, N_140051, S_140240, NIM_FALSE);
goto BeforeRet;
break;
case ((NU8) 15):
Result_140138 = Semtemplateexpr_133953(C_140050, N_140051, S_140240, NIM_FALSE);
goto BeforeRet;
break;
case ((NU8) 0):
case ((NU8) 3):
break;
case ((NU8) 10):
case ((NU8) 11):
case ((NU8) 12):
case ((NU8) 13):
asgnRefNoCycle((void**) &(*N_140051).KindU.S6.Sons->data[0], Symchoice_126533(C_140050, (*N_140051).KindU.S6.Sons->data[0], S_140240));
break;
case ((NU8) 4):
asgnRefNoCycle((void**) &(*N_140051).KindU.S6.Sons->data[0], Newsymnode_55735(S_140240));
break;
case ((NU8) 7):
LOC17 = !(((*S_140240).Typ == NIM_NIL));
if (!(LOC17)) goto LA18;
LOC17 = !(((*(*S_140240).Typ).Kind == ((NU8) 12)));
LA18: ;
if (!LOC17) goto LA19;
asgnRefNoCycle((void**) &(*N_140051).KindU.S6.Sons->data[0], Newsymnode_55735(S_140240));
LA19: ;
break;
default:
asgnRefNoCycle((void**) &(*N_140051).KindU.S6.Sons->data[0], Newsymnode_55735(S_140240));
break;
}
LA14: ;
I_140352 = 0;
HEX3Atmp_146831 = 0;
LOC21 = Sonslen_55804(N_140051);
HEX3Atmp_146831 = (NI32)(LOC21 - 1);
Res_146833 = 0;
Res_146833 = 1;
while (1) {
if (!(Res_146833 <= HEX3Atmp_146831)) goto LA22;
I_140352 = Res_146833;
asgnRefNoCycle((void**) &(*N_140051).KindU.S6.Sons->data[I_140352], Semgenericstmt_140048(C_140050, (*N_140051).KindU.S6.Sons->data[I_140352], Flags_140054));
Res_146833 += 1;
} LA22: ;
break;
case ((NU8) 79):
Result_140138 = Semmacrostmt_139442(C_140050, N_140051, NIM_FALSE);
break;
case ((NU8) 82):
I_140385 = 0;
HEX3Atmp_146834 = 0;
LOC23 = Sonslen_55804(N_140051);
HEX3Atmp_146834 = (NI32)(LOC23 - 1);
Res_146836 = 0;
Res_146836 = 0;
while (1) {
if (!(Res_146836 <= HEX3Atmp_146834)) goto LA24;
I_140385 = Res_146836;
asgnRefNoCycle((void**) &(*N_140051).KindU.S6.Sons->data[I_140385], Semgenericstmtscope_140055(C_140050, (*N_140051).KindU.S6.Sons->data[I_140385], 0));
Res_146836 += 1;
} LA24: ;
break;
case ((NU8) 85):
Openscope_60141(&(*C_140050).Tab);
I_140419 = 0;
HEX3Atmp_146837 = 0;
LOC25 = Sonslen_55804(N_140051);
HEX3Atmp_146837 = (NI32)(LOC25 - 1);
Res_146839 = 0;
Res_146839 = 0;
while (1) {
if (!(Res_146839 <= HEX3Atmp_146837)) goto LA26;
I_140419 = Res_146839;
asgnRefNoCycle((void**) &(*N_140051).KindU.S6.Sons->data[I_140419], Semgenericstmt_140048(C_140050, (*N_140051).KindU.S6.Sons->data[I_140419], 0));
Res_146839 += 1;
} LA26: ;
Closescope_108018(&(*C_140050).Tab);
break;
case ((NU8) 86):
Openscope_60141(&(*C_140050).Tab);
asgnRefNoCycle((void**) &(*N_140051).KindU.S6.Sons->data[0], Semgenericstmt_140048(C_140050, (*N_140051).KindU.S6.Sons->data[0], 0));
I_140478 = 0;
HEX3Atmp_146843 = 0;
LOC27 = Sonslen_55804(N_140051);
HEX3Atmp_146843 = (NI32)(LOC27 - 1);
Res_146845 = 0;
Res_146845 = 1;
while (1) {
if (!(Res_146845 <= HEX3Atmp_146843)) goto LA28;
I_140478 = Res_146845;
A_140140 = (*N_140051).KindU.S6.Sons->data[I_140478];
Checkminsonslen_107413(A_140140, 1);
L_140139 = Sonslen_55804(A_140140);
J_140499 = 0;
HEX3Atmp_146840 = 0;
HEX3Atmp_146840 = (NI32)(L_140139 - 2);
Res_146842 = 0;
Res_146842 = 0;
while (1) {
if (!(Res_146842 <= HEX3Atmp_146840)) goto LA29;
J_140499 = Res_146842;
asgnRefNoCycle((void**) &(*A_140140).KindU.S6.Sons->data[J_140499], Semgenericstmt_140048(C_140050, (*A_140140).KindU.S6.Sons->data[J_140499], 0));
Res_146842 += 1;
} LA29: ;
asgnRefNoCycle((void**) &(*A_140140).KindU.S6.Sons->data[(NI32)(L_140139 - 1)], Semgenericstmtscope_140055(C_140050, (*A_140140).KindU.S6.Sons->data[(NI32)(L_140139 - 1)], 0));
Res_146845 += 1;
} LA28: ;
Closescope_108018(&(*C_140050).Tab);
break;
case ((NU8) 84):
L_140139 = Sonslen_55804(N_140051);
Openscope_60141(&(*C_140050).Tab);
asgnRefNoCycle((void**) &(*N_140051).KindU.S6.Sons->data[(NI32)(L_140139 - 2)], Semgenericstmt_140048(C_140050, (*N_140051).KindU.S6.Sons->data[(NI32)(L_140139 - 2)], 0));
I_140582 = 0;
HEX3Atmp_146846 = 0;
HEX3Atmp_146846 = (NI32)(L_140139 - 3);
Res_146848 = 0;
Res_146848 = 0;
while (1) {
if (!(Res_146848 <= HEX3Atmp_146846)) goto LA30;
I_140582 = Res_146848;
LOC31 = 0;
LOC31 = Newsyms_126059(((NU8) 0), (*N_140051).KindU.S6.Sons->data[I_140582], C_140050);
Adddecl_108114(C_140050, LOC31);
Res_146848 += 1;
} LA30: ;
asgnRefNoCycle((void**) &(*N_140051).KindU.S6.Sons->data[(NI32)(L_140139 - 1)], Semgenericstmt_140048(C_140050, (*N_140051).KindU.S6.Sons->data[(NI32)(L_140139 - 1)], 0));
Closescope_108018(&(*C_140050).Tab);
break;
case ((NU8) 99):
case ((NU8) 107):
case ((NU8) 109):
Checksonslen_107407(N_140051, 2);
Openscope_60141(&(*C_140050).Tab);
if (!!(((*(*N_140051).KindU.S6.Sons->data[0]).Kind == ((NU8) 1)))) goto LA33;
LOC35 = 0;
LOC35 = Newsyms_126059(((NU8) 0), (*N_140051).KindU.S6.Sons->data[0], C_140050);
Adddecl_108114(C_140050, LOC35);
LA33: ;
asgnRefNoCycle((void**) &(*N_140051).KindU.S6.Sons->data[1], Semgenericstmt_140048(C_140050, (*N_140051).KindU.S6.Sons->data[1], 0));
Closescope_108018(&(*C_140050).Tab);
break;
case ((NU8) 93):
Checkminsonslen_107413(N_140051, 2);
asgnRefNoCycle((void**) &(*N_140051).KindU.S6.Sons->data[0], Semgenericstmtscope_140055(C_140050, (*N_140051).KindU.S6.Sons->data[0], 0));
I_140711 = 0;
HEX3Atmp_146852 = 0;
LOC36 = Sonslen_55804(N_140051);
HEX3Atmp_146852 = (NI32)(LOC36 - 1);
Res_146854 = 0;
Res_146854 = 1;
while (1) {
if (!(Res_146854 <= HEX3Atmp_146852)) goto LA37;
I_140711 = Res_146854;
A_140140 = (*N_140051).KindU.S6.Sons->data[I_140711];
Checkminsonslen_107413(A_140140, 1);
L_140139 = Sonslen_55804(A_140140);
J_140732 = 0;
HEX3Atmp_146849 = 0;
HEX3Atmp_146849 = (NI32)(L_140139 - 2);
Res_146851 = 0;
Res_146851 = 0;
while (1) {
if (!(Res_146851 <= HEX3Atmp_146849)) goto LA38;
J_140732 = Res_146851;
asgnRefNoCycle((void**) &(*A_140140).KindU.S6.Sons->data[J_140732], Semgenericstmt_140048(C_140050, (*A_140140).KindU.S6.Sons->data[J_140732], 2));
Res_146851 += 1;
} LA38: ;
asgnRefNoCycle((void**) &(*A_140140).KindU.S6.Sons->data[(NI32)(L_140139 - 1)], Semgenericstmtscope_140055(C_140050, (*A_140140).KindU.S6.Sons->data[(NI32)(L_140139 - 1)], 0));
Res_146854 += 1;
} LA37: ;
break;
case ((NU8) 87):
I_140790 = 0;
HEX3Atmp_146859 = 0;
LOC39 = Sonslen_55804(N_140051);
HEX3Atmp_146859 = (NI32)(LOC39 - 1);
Res_146861 = 0;
Res_146861 = 0;
while (1) {
if (!(Res_146861 <= HEX3Atmp_146859)) goto LA40;
I_140790 = Res_146861;
A_140140 = (*N_140051).KindU.S6.Sons->data[I_140790];
if (!((*A_140140).Kind == ((NU8) 105))) goto LA43;
goto LA41;
LA43: ;
LOC46 = !(((*A_140140).Kind == ((NU8) 25)));
if (!(LOC46)) goto LA47;
LOC46 = !(((*A_140140).Kind == ((NU8) 26)));
LA47: ;
if (!LOC46) goto LA48;
Illformedast_107403(A_140140);
LA48: ;
Checkminsonslen_107413(A_140140, 3);
L_140139 = Sonslen_55804(A_140140);
asgnRefNoCycle((void**) &(*A_140140).KindU.S6.Sons->data[(NI32)(L_140139 - 2)], Semgenericstmt_140048(C_140050, (*A_140140).KindU.S6.Sons->data[(NI32)(L_140139 - 2)], 2));
asgnRefNoCycle((void**) &(*A_140140).KindU.S6.Sons->data[(NI32)(L_140139 - 1)], Semgenericstmt_140048(C_140050, (*A_140140).KindU.S6.Sons->data[(NI32)(L_140139 - 1)], 0));
J_140887 = 0;
HEX3Atmp_146856 = 0;
HEX3Atmp_146856 = (NI32)(L_140139 - 3);
Res_146858 = 0;
Res_146858 = 0;
while (1) {
if (!(Res_146858 <= HEX3Atmp_146856)) goto LA50;
J_140887 = Res_146858;
LOC51 = 0;
LOC51 = Getidentnode_140103((*A_140140).KindU.S6.Sons->data[J_140887]);
LOC52 = 0;
LOC52 = Newsyms_126059(((NU8) 0), LOC51, C_140050);
Adddecl_108114(C_140050, LOC52);
Res_146858 += 1;
} LA50: ;
LA41: ;
Res_146861 += 1;
} LA40: ;
break;
case ((NU8) 65):
I_140908 = 0;
HEX3Atmp_146865 = 0;
LOC53 = Sonslen_55804(N_140051);
HEX3Atmp_146865 = (NI32)(LOC53 - 1);
Res_146867 = 0;
Res_146867 = 0;
while (1) {
if (!(Res_146867 <= HEX3Atmp_146865)) goto LA54;
I_140908 = Res_146867;
A_140140 = (*N_140051).KindU.S6.Sons->data[I_140908];
if (!!(((*A_140140).Kind == ((NU8) 25)))) goto LA56;
Illformedast_107403(A_140140);
LA56: ;
Checkminsonslen_107413(A_140140, 3);
L_140139 = Sonslen_55804(A_140140);
asgnRefNoCycle((void**) &(*A_140140).KindU.S6.Sons->data[(NI32)(L_140139 - 2)], Semgenericstmt_140048(C_140050, (*A_140140).KindU.S6.Sons->data[(NI32)(L_140139 - 2)], 2));
J_140963 = 0;
HEX3Atmp_146862 = 0;
HEX3Atmp_146862 = (NI32)(L_140139 - 3);
Res_146864 = 0;
Res_146864 = 0;
while (1) {
if (!(Res_146864 <= HEX3Atmp_146862)) goto LA58;
J_140963 = Res_146864;
LOC59 = 0;
LOC59 = Getidentnode_140103((*A_140140).KindU.S6.Sons->data[J_140963]);
LOC60 = 0;
LOC60 = Newsyms_126059(((NU8) 0), LOC59, C_140050);
Adddecl_108114(C_140050, LOC60);
Res_146864 += 1;
} LA58: ;
Res_146867 += 1;
} LA54: ;
break;
case ((NU8) 88):
I_140984 = 0;
HEX3Atmp_146869 = 0;
LOC61 = Sonslen_55804(N_140051);
HEX3Atmp_146869 = (NI32)(LOC61 - 1);
Res_146871 = 0;
Res_146871 = 0;
while (1) {
if (!(Res_146871 <= HEX3Atmp_146869)) goto LA62;
I_140984 = Res_146871;
A_140140 = (*N_140051).KindU.S6.Sons->data[I_140984];
if (!((*A_140140).Kind == ((NU8) 105))) goto LA65;
goto LA63;
LA65: ;
if (!!(((*A_140140).Kind == ((NU8) 89)))) goto LA68;
Illformedast_107403(A_140140);
LA68: ;
Checksonslen_107407(A_140140, 3);
LOC70 = 0;
LOC70 = Getidentnode_140103((*A_140140).KindU.S6.Sons->data[0]);
LOC71 = 0;
LOC71 = Newsyms_126059(((NU8) 0), LOC70, C_140050);
Adddecl_108114(C_140050, LOC71);
asgnRefNoCycle((void**) &(*A_140140).KindU.S6.Sons->data[1], Semgenericstmt_140048(C_140050, (*A_140140).KindU.S6.Sons->data[1], 2));
asgnRefNoCycle((void**) &(*A_140140).KindU.S6.Sons->data[2], Semgenericstmt_140048(C_140050, (*A_140140).KindU.S6.Sons->data[2], 0));
LA63: ;
Res_146871 += 1;
} LA62: ;
break;
case ((NU8) 90):
I_141084 = 0;
HEX3Atmp_146873 = 0;
LOC72 = Sonslen_55804(N_140051);
HEX3Atmp_146873 = (NI32)(LOC72 - 1);
Res_146875 = 0;
Res_146875 = 0;
while (1) {
if (!(Res_146875 <= HEX3Atmp_146873)) goto LA73;
I_141084 = Res_146875;
A_140140 = (*N_140051).KindU.S6.Sons->data[I_141084];
if (!((*A_140140).Kind == ((NU8) 105))) goto LA76;
goto LA74;
LA76: ;
if (!!(((*A_140140).Kind == ((NU8) 91)))) goto LA79;
Illformedast_107403(A_140140);
LA79: ;
Checksonslen_107407(A_140140, 3);
LOC81 = 0;
LOC81 = Getidentnode_140103((*A_140140).KindU.S6.Sons->data[0]);
LOC82 = 0;
LOC82 = Newsyms_126059(((NU8) 0), LOC81, C_140050);
Adddecl_108114(C_140050, LOC82);
LA74: ;
Res_146875 += 1;
} LA73: ;
I_141135 = 0;
HEX3Atmp_146877 = 0;
LOC83 = Sonslen_55804(N_140051);
HEX3Atmp_146877 = (NI32)(LOC83 - 1);
Res_146879 = 0;
Res_146879 = 0;
while (1) {
if (!(Res_146879 <= HEX3Atmp_146877)) goto LA84;
I_141135 = Res_146879;
A_140140 = (*N_140051).KindU.S6.Sons->data[I_141135];
if (!((*A_140140).Kind == ((NU8) 105))) goto LA87;
goto LA85;
LA87: ;
if (!!(((*A_140140).Kind == ((NU8) 91)))) goto LA90;
Illformedast_107403(A_140140);
LA90: ;
Checksonslen_107407(A_140140, 3);
if (!!(((*(*A_140140).KindU.S6.Sons->data[1]).Kind == ((NU8) 1)))) goto LA93;
Openscope_60141(&(*C_140050).Tab);
asgnRefNoCycle((void**) &(*A_140140).KindU.S6.Sons->data[1], Semgenericstmt_140048(C_140050, (*A_140140).KindU.S6.Sons->data[1], 0));
asgnRefNoCycle((void**) &(*A_140140).KindU.S6.Sons->data[2], Semgenericstmt_140048(C_140050, (*A_140140).KindU.S6.Sons->data[2], 2));
Closescope_108018(&(*C_140050).Tab);
goto LA92;
LA93: ;
asgnRefNoCycle((void**) &(*A_140140).KindU.S6.Sons->data[2], Semgenericstmt_140048(C_140050, (*A_140140).KindU.S6.Sons->data[2], 2));
LA92: ;
LA85: ;
Res_146879 += 1;
} LA84: ;
break;
case ((NU8) 121):
Checkminsonslen_107413(N_140051, 1);
if (!!(((*(*N_140051).KindU.S6.Sons->data[0]).Kind == ((NU8) 1)))) goto LA96;
asgnRefNoCycle((void**) &(*N_140051).KindU.S6.Sons->data[0], Semgenericstmt_140048(C_140050, (*N_140051).KindU.S6.Sons->data[0], 2));
LA96: ;
I_141317 = 0;
HEX3Atmp_146880 = 0;
LOC98 = Sonslen_55804(N_140051);
HEX3Atmp_146880 = (NI32)(LOC98 - 1);
Res_146882 = 0;
Res_146882 = 1;
while (1) {
if (!(Res_146882 <= HEX3Atmp_146880)) goto LA99;
I_141317 = Res_146882;
switch ((*(*N_140051).KindU.S6.Sons->data[I_141317]).Kind) {
case ((NU8) 122):
A_140140 = (*(*N_140051).KindU.S6.Sons->data[I_141317]).KindU.S6.Sons->data[0];
break;
case ((NU8) 2):
A_140140 = (*N_140051).KindU.S6.Sons->data[I_141317];
break;
default:
Illformedast_107403(N_140051);
break;
}
LOC100 = 0;
LOC100 = Getidentnode_140103((*A_140140).KindU.S6.Sons->data[I_141317]);
LOC101 = 0;
LOC101 = Newsyms_126059(((NU8) 0), LOC100, C_140050);
Adddeclat_108128(C_140050, LOC101, ((NI) ((NI32)(((NI) ((*C_140050).Tab.Tos)) - 1))));
Res_146882 += 1;
} LA99: ;
break;
case ((NU8) 111):
case ((NU8) 112):
break;
case ((NU8) 66):
Checkminsonslen_107413(N_140051, 1);
if (!!(((*(*N_140051).KindU.S6.Sons->data[0]).Kind == ((NU8) 1)))) goto LA103;
asgnRefNoCycle((void**) &(*N_140051).KindU.S6.Sons->data[0], Semgenericstmt_140048(C_140050, (*N_140051).KindU.S6.Sons->data[0], 2));
LA103: ;
I_141432 = 0;
HEX3Atmp_146886 = 0;
LOC105 = Sonslen_55804(N_140051);
HEX3Atmp_146886 = (NI32)(LOC105 - 1);
Res_146888 = 0;
Res_146888 = 1;
while (1) {
if (!(Res_146888 <= HEX3Atmp_146886)) goto LA106;
I_141432 = Res_146888;
A_140140 = (*N_140051).KindU.S6.Sons->data[I_141432];
if (!!(((*A_140140).Kind == ((NU8) 25)))) goto LA108;
Illformedast_107403(A_140140);
LA108: ;
Checkminsonslen_107413(A_140140, 3);
L_140139 = Sonslen_55804(A_140140);
asgnRefNoCycle((void**) &(*A_140140).KindU.S6.Sons->data[(NI32)(L_140139 - 1)], Semgenericstmt_140048(C_140050, (*A_140140).KindU.S6.Sons->data[(NI32)(L_140139 - 2)], 2));
asgnRefNoCycle((void**) &(*A_140140).KindU.S6.Sons->data[(NI32)(L_140139 - 1)], Semgenericstmt_140048(C_140050, (*A_140140).KindU.S6.Sons->data[(NI32)(L_140139 - 1)], 0));
J_141511 = 0;
HEX3Atmp_146883 = 0;
HEX3Atmp_146883 = (NI32)(L_140139 - 3);
Res_146885 = 0;
Res_146885 = 0;
while (1) {
if (!(Res_146885 <= HEX3Atmp_146883)) goto LA110;
J_141511 = Res_146885;
LOC111 = 0;
LOC111 = Getidentnode_140103((*A_140140).KindU.S6.Sons->data[J_141511]);
LOC112 = 0;
LOC112 = Newsyms_126059(((NU8) 0), LOC111, C_140050);
Adddecl_108114(C_140050, LOC112);
Res_146885 += 1;
} LA110: ;
Res_146888 += 1;
} LA106: ;
break;
case ((NU8) 69):
case ((NU8) 70):
case ((NU8) 71):
case ((NU8) 72):
case ((NU8) 73):
case ((NU8) 74):
case ((NU8) 42):
Checksonslen_107407(N_140051, 5);
LOC113 = 0;
LOC113 = Getidentnode_140103((*N_140051).KindU.S6.Sons->data[0]);
LOC114 = 0;
LOC114 = Newsyms_126059(((NU8) 0), LOC113, C_140050);
Adddecl_108114(C_140050, LOC114);
Openscope_60141(&(*C_140050).Tab);
asgnRefNoCycle((void**) &(*N_140051).KindU.S6.Sons->data[1], Semgenericstmt_140048(C_140050, (*N_140051).KindU.S6.Sons->data[1], 0));
if (!!(((*(*N_140051).KindU.S6.Sons->data[2]).Kind == ((NU8) 1)))) goto LA116;
if (!!(((*(*(*N_140051).KindU.S6.Sons->data[2]).KindU.S6.Sons->data[0]).Kind == ((NU8) 1)))) goto LA119;
LOC121 = 0;
LOC121 = Getident_54016(((NimStringDesc*) &TMP196127));
LOC122 = 0;
LOC122 = Newsym_55702(((NU8) 0), LOC121, NIM_NIL);
Adddecl_108114(C_140050, LOC122);
LA119: ;
asgnRefNoCycle((void**) &(*N_140051).KindU.S6.Sons->data[2], Semgenericstmt_140048(C_140050, (*N_140051).KindU.S6.Sons->data[2], 0));
LA116: ;
asgnRefNoCycle((void**) &(*N_140051).KindU.S6.Sons->data[3], Semgenericstmt_140048(C_140050, (*N_140051).KindU.S6.Sons->data[3], 0));
asgnRefNoCycle((void**) &(*N_140051).KindU.S6.Sons->data[4], Semgenericstmtscope_140055(C_140050, (*N_140051).KindU.S6.Sons->data[4], 0));
Closescope_108018(&(*C_140050).Tab);
break;
default:
I_141696 = 0;
HEX3Atmp_146889 = 0;
LOC123 = Sonslen_55804(N_140051);
HEX3Atmp_146889 = (NI32)(LOC123 - 1);
Res_146891 = 0;
Res_146891 = 0;
while (1) {
if (!(Res_146891 <= HEX3Atmp_146889)) goto LA124;
I_141696 = Res_146891;
asgnRefNoCycle((void**) &(*Result_140138).KindU.S6.Sons->data[I_141696], Semgenericstmt_140048(C_140050, (*N_140051).KindU.S6.Sons->data[I_141696], Flags_140054));
Res_146891 += 1;
} LA124: ;
break;
}
BeforeRet: ;
return Result_140138;
}
N_NIMCALL(TY55526*, Semgenericstmtscope_140055)(TY107012* C_140057, TY55526* N_140058, NU8 Flags_140061) {
TY55526* Result_140062;
Result_140062 = 0;
Openscope_60141(&(*C_140057).Tab);
Result_140062 = Semgenericstmt_140048(C_140057, N_140058, Flags_140061);
Closescope_108018(&(*C_140057).Tab);
return Result_140062;
}
N_NIMCALL(void, Semborrow_145201)(TY107012* C_145203, TY55526* N_145204, TY55548* S_145205) {
TY55548* B_145206;
B_145206 = 0;
B_145206 = Searchforborrowproc_121009(C_145203, S_145205, (NI32)(((NI) ((*C_145203).Tab.Tos)) - 2));
if (!!((B_145206 == NIM_NIL))) goto LA2;
asgnRefNoCycle((void**) &(*N_145204).KindU.S6.Sons->data[4], Newsymnode_55735(B_145206));
goto LA1;
LA2: ;
Localerror_48144((*N_145204).Info, ((NU8) 135), ((NimStringDesc*) &TMP195991));
LA1: ;
}
N_NIMCALL(void, Sideeffectscheck_145230)(TY107012* C_145232, TY55548* S_145233) {
if (!((24576 & (*S_145233).Flags) == 24576)) goto LA2;
Localerror_48144((*S_145233).Info, ((NU8) 205), (*(*S_145233).Name).S);
LA2: ;
}
N_NIMCALL(TY55526*, Semprocaux_145487)(TY107012* C_145489, TY55526* N_145490, NU8 Kind_145491, TY122007 Validpragmas_145492) {
TY55526* Result_145493;
TY55548* S_145494;
TY55548* Proto_145495;
TY55526* Gp_145496;
TY107006* Oldp_145557;
NI LOC14;
TY107002* LOC26;
NIM_BOOL LOC55;
NIM_BOOL LOC63;
NIM_BOOL LOC68;
TY54011* LOC72;
TY55548* LOC73;
Result_145493 = 0;
S_145494 = 0;
Proto_145495 = 0;
Gp_145496 = 0;
Result_145493 = N_145490;
Checksonslen_107407(N_145490, 5);
if (!((*(*(*C_145489).P).Owner).Kind == ((NU8) 6))) goto LA2;
S_145494 = Semidentvis_126092(C_145489, Kind_145491, (*N_145490).KindU.S6.Sons->data[0], 2);
(*S_145494).Flags |=(1<<((NI32)(((NU8) 5))%(sizeof(NI32)*8)));
goto LA1;
LA2: ;
S_145494 = Semidentvis_126092(C_145489, Kind_145491, (*N_145490).KindU.S6.Sons->data[0], 0);
LA1: ;
asgnRefNoCycle((void**) &(*N_145490).KindU.S6.Sons->data[0], Newsymnode_55735(S_145494));
Oldp_145557 = 0;
Oldp_145557 = (*C_145489).P;
if (!(((*S_145494).Flags &(1<<((((NU8) 1))&31)))!=0)) goto LA5;
(*S_145494).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
LA5: ;
asgnRefNoCycle((void**) &(*S_145494).Ast, N_145490);
Pushowner_107094(S_145494);
Openscope_60141(&(*C_145489).Tab);
if (!!(((*(*N_145490).KindU.S6.Sons->data[1]).Kind == ((NU8) 1)))) goto LA8;
asgnRefNoCycle((void**) &(*N_145490).KindU.S6.Sons->data[1], Semgenericparamlist_144321(C_145489, (*N_145490).KindU.S6.Sons->data[1], NIM_NIL));
Gp_145496 = (*N_145490).KindU.S6.Sons->data[1];
goto LA7;
LA8: ;
Gp_145496 = Newnodei_55738(((NU8) 65), (*N_145490).Info);
LA7: ;
if (!!(((*(*N_145490).KindU.S6.Sons->data[2]).Kind == ((NU8) 1)))) goto LA11;
Semparamlist_126147(C_145489, (*N_145490).KindU.S6.Sons->data[2], Gp_145496, S_145494);
LOC14 = Sonslen_55804(Gp_145496);
if (!(0 < LOC14)) goto LA15;
if (!((*(*N_145490).KindU.S6.Sons->data[1]).Kind == ((NU8) 1))) goto LA18;
asgnRefNoCycle((void**) &(*N_145490).KindU.S6.Sons->data[1], Gp_145496);
Semparamlist_126147(C_145489, (*N_145490).KindU.S6.Sons->data[2], NIM_NIL, S_145494);
LA18: ;
LA15: ;
Addparams_126153(C_145489, (*(*S_145494).Typ).N);
goto LA10;
LA11: ;
asgnRef((void**) &(*S_145494).Typ, Newtypes_107077(((NU8) 25), C_145489));
Addson_55828((*S_145494).Typ, NIM_NIL);
LA10: ;
Proto_145495 = Searchforproc_121004(C_145489, S_145494, (NI32)(((NI) ((*C_145489).Tab.Tos)) - 2));
if (!(Proto_145495 == NIM_NIL)) goto LA21;
if (!!(((*(*Oldp_145557).Owner).Kind == ((NU8) 6)))) goto LA24;
(*(*S_145494).Typ).Callconv = ((NU8) 8);
goto LA23;
LA24: ;
LOC26 = 0;
LOC26 = Lastoptionentry_107053(C_145489);
(*(*S_145494).Typ).Callconv = (*LOC26).Defaultcc;
LA23: ;
if (!((15424 &(1<<((Kind_145491)&31)))!=0)) goto LA28;
Addinterfaceoverloadablesymat_108240(C_145489, S_145494, (NI32)(((NI) ((*C_145489).Tab.Tos)) - 2));
goto LA27;
LA28: ;
Addinterfacedeclat_108191(C_145489, S_145494, ((NI) ((NI32)(((NI) ((*C_145489).Tab.Tos)) - 2))));
LA27: ;
if (!!(((*(*N_145490).KindU.S6.Sons->data[3]).Kind == ((NU8) 1)))) goto LA31;
Pragma_122028(C_145489, S_145494, (*N_145490).KindU.S6.Sons->data[3], Validpragmas_145492);
LA31: ;
goto LA20;
LA21: ;
if (!!(((*(*N_145490).KindU.S6.Sons->data[3]).Kind == ((NU8) 1)))) goto LA34;
Localerror_48144((*(*N_145490).KindU.S6.Sons->data[3]).Info, ((NU8) 132), ((NimStringDesc*) &TMP195991));
LA34: ;
if (!!((((*Proto_145495).Flags &(1<<((((NU8) 6))&31)))!=0))) goto LA37;
Localerror_48144((*N_145490).Info, ((NU8) 37), (*(*Proto_145495).Name).S);
LA37: ;
(*Proto_145495).Flags &= ~(1 << ((NI32)(((NU8) 6)) % (sizeof(NI32)*8)));
Closescope_108018(&(*C_145489).Tab);
Openscope_60141(&(*C_145489).Tab);
if (!!(((*(*(*Proto_145495).Ast).KindU.S6.Sons->data[1]).Kind == ((NU8) 1)))) goto LA40;
Addgenericparamlisttoscope_144498(C_145489, (*(*Proto_145495).Ast).KindU.S6.Sons->data[1]);
LA40: ;
Addparams_126153(C_145489, (*(*Proto_145495).Typ).N);
(*Proto_145495).Info = (*S_145494).Info;
asgnRef((void**) &(*S_145494).Typ, (*Proto_145495).Typ);
S_145494 = Proto_145495;
asgnRefNoCycle((void**) &(*N_145490).KindU.S6.Sons->data[1], (*(*Proto_145495).Ast).KindU.S6.Sons->data[1]);
asgnRefNoCycle((void**) &(*N_145490).KindU.S6.Sons->data[2], (*(*Proto_145495).Ast).KindU.S6.Sons->data[2]);
if (!!(((*(*N_145490).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA43;
Internalerror_48159((*N_145490).Info, ((NimStringDesc*) &TMP196179));
LA43: ;
asgnRef((void**) &(*(*N_145490).KindU.S6.Sons->data[0]).KindU.S4.Sym, Proto_145495);
asgnRefNoCycle((void**) &(*Proto_145495).Ast, N_145490);
Popowner_107097();
Pushowner_107094(S_145494);
LA20: ;
(*S_145494).Options = Goptions_46077;
if (!!(((*(*N_145490).KindU.S6.Sons->data[4]).Kind == ((NU8) 1)))) goto LA46;
if (!(((*S_145494).Flags &(1<<((((NU8) 29))&31)))!=0)) goto LA49;
Localerror_48144((*(*N_145490).KindU.S6.Sons->data[4]).Info, ((NU8) 133), (*(*S_145494).Name).S);
LA49: ;
if (!((*(*N_145490).KindU.S6.Sons->data[1]).Kind == ((NU8) 1))) goto LA52;
asgnRefNoCycle((void**) &(*C_145489).P, Newproccon_107050(S_145494));
LOC55 = !(((*(*S_145494).Typ).Sons->data[0] == NIM_NIL));
if (!(LOC55)) goto LA56;
LOC55 = !((Kind_145491 == ((NU8) 12)));
LA56: ;
if (!LOC55) goto LA57;
Addresult_126157(C_145489, (*(*S_145494).Typ).Sons->data[0], (*N_145490).Info);
LA57: ;
if (!!((((*S_145494).Flags &(1<<((((NU8) 7))&31)))!=0))) goto LA60;
asgnRefNoCycle((void**) &(*N_145490).KindU.S6.Sons->data[4], Semstmtscope_126104(C_145489, (*N_145490).KindU.S6.Sons->data[4]));
LA60: ;
LOC63 = !(((*(*S_145494).Typ).Sons->data[0] == NIM_NIL));
if (!(LOC63)) goto LA64;
LOC63 = !((Kind_145491 == ((NU8) 12)));
LA64: ;
if (!LOC63) goto LA65;
Addresultnode_126162(C_145489, N_145490);
LA65: ;
goto LA51;
LA52: ;
LOC68 = !(((*(*S_145494).Typ).Sons->data[0] == NIM_NIL));
if (!(LOC68)) goto LA69;
LOC68 = !((Kind_145491 == ((NU8) 12)));
LA69: ;
if (!LOC68) goto LA70;
LOC72 = 0;
LOC72 = Getident_54016(((NimStringDesc*) &TMP196127));
LOC73 = 0;
LOC73 = Newsym_55702(((NU8) 0), LOC72, NIM_NIL);
Adddecl_108114(C_145489, LOC73);
LA70: ;
asgnRefNoCycle((void**) &(*N_145490).KindU.S6.Sons->data[4], Semgenericstmtscope_140055(C_145489, (*N_145490).KindU.S6.Sons->data[4], 0));
LA51: ;
if (!(((*S_145494).Flags &(1<<((((NU8) 7))&31)))!=0)) goto LA75;
asgnRefNoCycle((void**) &(*N_145490).KindU.S6.Sons->data[4], Emptynode_55858);
LA75: ;
goto LA45;
LA46: ;
if (!!((Proto_145495 == NIM_NIL))) goto LA78;
Localerror_48144((*N_145490).Info, ((NU8) 134), (*(*Proto_145495).Name).S);
LA78: ;
if (!((536871040 & (*S_145494).Flags) == 0)) goto LA81;
(*S_145494).Flags |=(1<<((NI32)(((NU8) 6))%(sizeof(NI32)*8)));
goto LA80;
LA81: ;
if (!(((*S_145494).Flags &(1<<((((NU8) 29))&31)))!=0)) goto LA83;
Semborrow_145201(C_145489, N_145490, S_145494);
goto LA80;
LA83: ;
LA80: ;
LA45: ;
Sideeffectscheck_145230(C_145489, S_145494);
Closescope_108018(&(*C_145489).Tab);
Popowner_107097();
asgnRefNoCycle((void**) &(*C_145489).P, Oldp_145557);
return Result_145493;
}
N_NIMCALL(TY55526*, Semiterator_146235)(TY107012* C_146237, TY55526* N_146238) {
TY55526* Result_146239;
TY55548* S_146264;
TY55552* T_146265;
Result_146239 = 0;
Result_146239 = Semprocaux_145487(C_146237, N_146238, ((NU8) 12), TMP196180);
S_146264 = 0;
S_146264 = (*(*Result_146239).KindU.S6.Sons->data[0]).KindU.S4.Sym;
T_146265 = 0;
T_146265 = (*S_146264).Typ;
if (!((*T_146265).Sons->data[0] == NIM_NIL)) goto LA2;
Localerror_48144((*N_146238).Info, ((NU8) 175), ((NimStringDesc*) &TMP196181));
LA2: ;
if (!((*(*N_146238).KindU.S6.Sons->data[4]).Kind == ((NU8) 1))) goto LA5;
Localerror_48144((*N_146238).Info, ((NU8) 134), (*(*S_146264).Name).S);
LA5: ;
return Result_146239;
}
N_NIMCALL(TY55526*, Semproc_146298)(TY107012* C_146300, TY55526* N_146301) {
TY55526* Result_146302;
Result_146302 = 0;
Result_146302 = Semprocaux_145487(C_146300, N_146301, ((NU8) 10), TMP196182);
return Result_146302;
}
N_NIMCALL(NIM_BOOL, Istoplevel_126053)(TY107012* C_126055) {
NIM_BOOL Result_126056;
Result_126056 = 0;
Result_126056 = (((NI) ((*C_126055).Tab.Tos)) <= 2);
return Result_126056;
}
N_NIMCALL(TY55526*, Semmethod_146303)(TY107012* C_146305, TY55526* N_146306) {
TY55526* Result_146307;
NIM_BOOL LOC2;
TY55548* S_146332;
TY55552* T_146333;
NIM_BOOL Hasobjparam_146334;
NI Col_146343;
NI HEX3Atmp_146945;
NI LOC5;
NI Res_146947;
TY55552* LOC8;
Result_146307 = 0;
LOC2 = Istoplevel_126053(C_146305);
if (!!(LOC2)) goto LA3;
Localerror_48144((*N_146306).Info, ((NU8) 177), ((NimStringDesc*) &TMP196183));
LA3: ;
Result_146307 = Semprocaux_145487(C_146305, N_146306, ((NU8) 11), TMP196182);
S_146332 = 0;
S_146332 = (*(*Result_146307).KindU.S6.Sons->data[0]).KindU.S4.Sym;
T_146333 = 0;
T_146333 = (*S_146332).Typ;
Hasobjparam_146334 = 0;
Hasobjparam_146334 = NIM_FALSE;
Col_146343 = 0;
HEX3Atmp_146945 = 0;
LOC5 = Sonslen_55807(T_146333);
HEX3Atmp_146945 = (NI32)(LOC5 - 1);
Res_146947 = 0;
Res_146947 = 1;
while (1) {
if (!(Res_146947 <= HEX3Atmp_146945)) goto LA6;
Col_146343 = Res_146947;
LOC8 = 0;
LOC8 = Skiptypes_97087((*T_146333).Sons->data[Col_146343], 14682112);
if (!((*LOC8).Kind == ((NU8) 17))) goto LA9;
Hasobjparam_146334 = NIM_TRUE;
goto LA6;
LA9: ;
Res_146947 += 1;
} LA6: ;
if (!!(Hasobjparam_146334)) goto LA12;
Localerror_48144((*N_146306).Info, ((NU8) 178), ((NimStringDesc*) &TMP196183));
LA12: ;
return Result_146307;
}
N_NIMCALL(TY55526*, Semconverterdef_146353)(TY107012* C_146355, TY55526* N_146356) {
TY55526* Result_146357;
NIM_BOOL LOC2;
TY55548* S_146403;
TY55552* T_146404;
NI LOC12;
Result_146357 = 0;
LOC2 = Istoplevel_126053(C_146355);
if (!!(LOC2)) goto LA3;
Localerror_48144((*N_146356).Info, ((NU8) 177), ((NimStringDesc*) &TMP196184));
LA3: ;
Checksonslen_107407(N_146356, 5);
if (!!(((*(*N_146356).KindU.S6.Sons->data[1]).Kind == ((NU8) 1)))) goto LA6;
Localerror_48144((*N_146356).Info, ((NU8) 152), ((NimStringDesc*) &TMP196184));
LA6: ;
Result_146357 = Semprocaux_145487(C_146355, N_146356, ((NU8) 13), TMP196182);
S_146403 = 0;
S_146403 = (*(*Result_146357).KindU.S6.Sons->data[0]).KindU.S4.Sym;
T_146404 = 0;
T_146404 = (*S_146403).Typ;
if (!((*T_146404).Sons->data[0] == NIM_NIL)) goto LA9;
Localerror_48144((*N_146356).Info, ((NU8) 175), ((NimStringDesc*) &TMP196184));
LA9: ;
LOC12 = Sonslen_55807(T_146404);
if (!!((LOC12 == 2))) goto LA13;
Localerror_48144((*N_146356).Info, ((NU8) 201), ((NimStringDesc*) &TMP196184));
LA13: ;
Addconverter_107058(C_146355, S_146403);
return Result_146357;
}
N_NIMCALL(TY55526*, Semmacrodef_146418)(TY107012* C_146420, TY55526* N_146421) {
TY55526* Result_146422;
TY55548* S_146468;
TY55552* T_146469;
NI LOC8;
Result_146422 = 0;
Checksonslen_107407(N_146421, 5);
if (!!(((*(*N_146421).KindU.S6.Sons->data[1]).Kind == ((NU8) 1)))) goto LA2;
Localerror_48144((*N_146421).Info, ((NU8) 152), ((NimStringDesc*) &TMP196185));
LA2: ;
Result_146422 = Semprocaux_145487(C_146420, N_146421, ((NU8) 14), TMP196186);
S_146468 = 0;
S_146468 = (*(*Result_146422).KindU.S6.Sons->data[0]).KindU.S4.Sym;
T_146469 = 0;
T_146469 = (*S_146468).Typ;
if (!((*T_146469).Sons->data[0] == NIM_NIL)) goto LA5;
Localerror_48144((*N_146421).Info, ((NU8) 175), ((NimStringDesc*) &TMP196185));
LA5: ;
LOC8 = Sonslen_55807(T_146469);
if (!!((LOC8 == 2))) goto LA9;
Localerror_48144((*N_146421).Info, ((NU8) 201), ((NimStringDesc*) &TMP196185));
LA9: ;
if (!((*(*N_146421).KindU.S6.Sons->data[4]).Kind == ((NU8) 1))) goto LA12;
Localerror_48144((*N_146421).Info, ((NU8) 134), (*(*S_146468).Name).S);
LA12: ;
return Result_146422;
}
N_NIMCALL(TY55526*, Resolvetemplateparams_126582)(TY107012* C_126584, TY55526* N_126585, NIM_BOOL Withinbind_126586, TY55895* Tobind_126588) {
TY55526* Result_126589;
TY55548* S_126590;
NIM_BOOL LOC2;
NIM_BOOL LOC4;
TY55548* LOC10;
NI I_126658;
NI HEX3Atmp_127032;
NI LOC11;
NI Res_127034;
Result_126589 = 0;
S_126590 = 0;
switch ((*N_126585).Kind) {
case ((NU8) 2):
LOC2 = !(Withinbind_126586);
if (!(LOC2)) goto LA3;
LOC4 = Intsetcontains_55905((*Tobind_126588), (*(*N_126585).KindU.S5.Ident).Sup.Id);
LOC2 = !(LOC4);
LA3: ;
if (!LOC2) goto LA5;
S_126590 = Symtablocalget_60115((*C_126584).Tab, (*N_126585).KindU.S5.Ident);
if (!!((S_126590 == NIM_NIL))) goto LA8;
Result_126589 = Newsymnode_55735(S_126590);
(*Result_126589).Info = (*N_126585).Info;
goto LA7;
LA8: ;
Result_126589 = N_126585;
LA7: ;
goto LA1;
LA5: ;
Intsetincl_55909(Tobind_126588, (*(*N_126585).KindU.S5.Ident).Sup.Id);
LOC10 = 0;
LOC10 = Lookup_108245(C_126584, N_126585);
Result_126589 = Symchoice_126533(C_126584, N_126585, LOC10);
LA1: ;
break;
case ((NU8) 1):
case ((NU8) 3) ... ((NU8) 18):
Result_126589 = N_126585;
break;
case ((NU8) 45):
Result_126589 = Resolvetemplateparams_126582(C_126584, (*N_126585).KindU.S6.Sons->data[0], NIM_TRUE, Tobind_126588);
break;
default:
Result_126589 = N_126585;
I_126658 = 0;
HEX3Atmp_127032 = 0;
LOC11 = Sonslen_55804(N_126585);
HEX3Atmp_127032 = (NI32)(LOC11 - 1);
Res_127034 = 0;
Res_127034 = 0;
while (1) {
if (!(Res_127034 <= HEX3Atmp_127032)) goto LA12;
I_126658 = Res_127034;
asgnRefNoCycle((void**) &(*Result_126589).KindU.S6.Sons->data[I_126658], Resolvetemplateparams_126582(C_126584, (*N_126585).KindU.S6.Sons->data[I_126658], Withinbind_126586, Tobind_126588));
Res_127034 += 1;
} LA12: ;
break;
}
return Result_126589;
}
N_NIMCALL(TY55526*, Transformtoexpr_126683)(TY55526* N_126685) {
TY55526* Result_126686;
NI Realstmt_126687;
NI I_126696;
NI HEX3Atmp_127035;
NI LOC1;
NI Res_127037;
Result_126686 = 0;
Realstmt_126687 = 0;
Result_126686 = N_126685;
switch ((*N_126685).Kind) {
case ((NU8) 101):
Realstmt_126687 = -1;
I_126696 = 0;
HEX3Atmp_127035 = 0;
LOC1 = Sonslen_55804(N_126685);
HEX3Atmp_127035 = (NI32)(LOC1 - 1);
Res_127037 = 0;
Res_127037 = 0;
while (1) {
if (!(Res_127037 <= HEX3Atmp_127035)) goto LA2;
I_126696 = Res_127037;
switch ((*(*N_126685).KindU.S6.Sons->data[I_126696]).Kind) {
case ((NU8) 105):
case ((NU8) 1):
case ((NU8) 18):
break;
default:
if (!(Realstmt_126687 == -1)) goto LA4;
Realstmt_126687 = I_126696;
goto LA3;
LA4: ;
Realstmt_126687 = -2;
LA3: ;
break;
}
Res_127037 += 1;
} LA2: ;
if (!(0 <= Realstmt_126687)) goto LA7;
Result_126686 = Transformtoexpr_126683((*N_126685).KindU.S6.Sons->data[Realstmt_126687]);
goto LA6;
LA7: ;
(*N_126685).Kind = ((NU8) 106);
LA6: ;
break;
case ((NU8) 99):
(*N_126685).Kind = ((NU8) 107);
break;
default:
break;
}
return Result_126686;
}
N_NIMCALL(TY55526*, Semtemplatedef_126725)(TY107012* C_126727, TY55526* N_126728) {
TY55526* Result_126729;
TY55548* S_126730;
TY55895 Tobind_126731;
TY55552* LOC16;
TY55526* LOC17;
Result_126729 = 0;
S_126730 = 0;
memset((void*)&Tobind_126731, 0, sizeof(Tobind_126731));
if (!((*(*(*C_126727).P).Owner).Kind == ((NU8) 6))) goto LA2;
S_126730 = Semidentvis_126092(C_126727, ((NU8) 15), (*N_126728).KindU.S6.Sons->data[0], 2);
(*S_126730).Flags |=(1<<((NI32)(((NU8) 5))%(sizeof(NI32)*8)));
goto LA1;
LA2: ;
S_126730 = Semidentvis_126092(C_126727, ((NU8) 15), (*N_126728).KindU.S6.Sons->data[0], 0);
LA1: ;
if (!(((*S_126730).Flags &(1<<((((NU8) 1))&31)))!=0)) goto LA5;
(*S_126730).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
LA5: ;
Pushowner_107094(S_126730);
Openscope_60141(&(*C_126727).Tab);
asgnRefNoCycle((void**) &(*N_126728).KindU.S6.Sons->data[0], Newsymnode_55735(S_126730));
if (!!(((*(*N_126728).KindU.S6.Sons->data[3]).Kind == ((NU8) 1)))) goto LA8;
Localerror_48144((*N_126728).Info, ((NU8) 151), ((NimStringDesc*) &TMP196187));
LA8: ;
if (!!(((*(*N_126728).KindU.S6.Sons->data[1]).Kind == ((NU8) 1)))) goto LA11;
Localerror_48144((*N_126728).Info, ((NU8) 152), ((NimStringDesc*) &TMP196187));
LA11: ;
if (!((*(*N_126728).KindU.S6.Sons->data[2]).Kind == ((NU8) 1))) goto LA14;
asgnRef((void**) &(*S_126730).Typ, Newtypes_107077(((NU8) 25), C_126727));
asgnRefNoCycle((void**) &(*(*S_126730).Typ).N, Newnodei_55738(((NU8) 66), (*N_126728).Info));
LOC16 = 0;
LOC16 = Newtypes_107077(((NU8) 7), C_126727);
Addson_55828((*S_126730).Typ, LOC16);
LOC17 = 0;
LOC17 = Newnodeit_55742(((NU8) 4), (*N_126728).Info, (*(*S_126730).Typ).Sons->data[0]);
Addson_55824((*(*S_126730).Typ).N, LOC17);
goto LA13;
LA14: ;
Semparamlist_126147(C_126727, (*N_126728).KindU.S6.Sons->data[2], NIM_NIL, S_126730);
if (!((*(*(*N_126728).KindU.S6.Sons->data[2]).KindU.S6.Sons->data[0]).Kind == ((NU8) 1))) goto LA19;
asgnRef((void**) &(*(*S_126730).Typ).Sons->data[0], Newtypes_107077(((NU8) 7), C_126727));
asgnRefNoCycle((void**) &(*(*(*S_126730).Typ).N).KindU.S6.Sons->data[0], Newnodeit_55742(((NU8) 4), (*N_126728).Info, (*(*S_126730).Typ).Sons->data[0]));
LA19: ;
LA13: ;
Addparams_126153(C_126727, (*(*S_126730).Typ).N);
Intsetinit_55919(&Tobind_126731);
asgnRefNoCycle((void**) &(*N_126728).KindU.S6.Sons->data[4], Resolvetemplateparams_126582(C_126727, (*N_126728).KindU.S6.Sons->data[4], NIM_FALSE, &Tobind_126731));
if (!!(((*(*(*S_126730).Typ).Sons->data[0]).Kind == ((NU8) 7) || (*(*(*S_126730).Typ).Sons->data[0]).Kind == ((NU8) 8)))) goto LA22;
asgnRefNoCycle((void**) &(*N_126728).KindU.S6.Sons->data[4], Transformtoexpr_126683((*N_126728).KindU.S6.Sons->data[4]));
LA22: ;
Closescope_108018(&(*C_126727).Tab);
Popowner_107097();
asgnRefNoCycle((void**) &(*S_126730).Ast, N_126728);
Result_126729 = N_126728;
if (!((*(*N_126728).KindU.S6.Sons->data[4]).Kind == ((NU8) 1))) goto LA25;
Localerror_48144((*N_126728).Info, ((NU8) 134), (*(*S_126730).Name).S);
LA25: ;
Addinterfacedecl_108236(C_126727, S_126730);
return Result_126729;
}
N_NIMCALL(TY55526*, Evalinclude_146504)(TY107012* C_146506, TY55526* N_146507) {
TY55526* Result_146508;
NI I_146517;
NI HEX3Atmp_146948;
NI LOC1;
NI Res_146950;
NimStringDesc* F_146530;
NI Fileindex_146531;
NIM_BOOL LOC4;
TY55526* LOC7;
TY55526* LOC8;
Result_146508 = 0;
Result_146508 = Newnodei_55738(((NU8) 101), (*N_146507).Info);
Addson_55824(Result_146508, N_146507);
I_146517 = 0;
HEX3Atmp_146948 = 0;
LOC1 = Sonslen_55804(N_146507);
HEX3Atmp_146948 = (NI32)(LOC1 - 1);
Res_146950 = 0;
Res_146950 = 0;
while (1) {
if (!(Res_146950 <= HEX3Atmp_146948)) goto LA2;
I_146517 = Res_146950;
F_146530 = 0;
F_146530 = Getmodulefile_110013((*N_146507).KindU.S6.Sons->data[I_146517]);
Fileindex_146531 = 0;
Fileindex_146531 = Includefilename_47660(F_146530);
LOC4 = Intsetcontainsorincl_55923(&(*C_146506).Includedfiles, Fileindex_146531);
if (!LOC4) goto LA5;
Globalerror_48139((*N_146507).Info, ((NU8) 23), F_146530);
LA5: ;
LOC7 = 0;
LOC7 = Gincludefile_105048(F_146530);
LOC8 = 0;
LOC8 = Semstmt_126143(C_146506, LOC7);
Addson_55824(Result_146508, LOC8);
Intsetexcl_55914(&(*C_146506).Includedfiles, Fileindex_146531);
Res_146950 += 1;
} LA2: ;
return Result_146508;
}
N_NIMCALL(TY55526*, Semstmt_126143)(TY107012* C_126145, TY55526* N_126146) {
TY55526* Result_146538;
NI Length_146561;
NI I_146570;
NI HEX3Atmp_146955;
NI Res_146957;
NI J_146626;
NI HEX3Atmp_146951;
NI HEX3Atmp_146952;
NI Res_146954;
NIM_BOOL LOC13;
NIM_BOOL LOC17;
NIM_BOOL LOC21;
TY55526* LOC27;
Result_146538 = 0;
Result_146538 = N_126146;
if (!(Gcmd_46084 == ((NU8) 14))) goto LA2;
Suggeststmt_125110(C_126145, N_126146);
LA2: ;
if (!(((*N_126146).Flags &(1<<((((NU8) 6))&7)))!=0)) goto LA5;
goto BeforeRet;
LA5: ;
switch ((*N_126146).Kind) {
case ((NU8) 63):
Result_146538 = Semasgn_142618(C_126145, N_126146);
break;
case ((NU8) 21):
case ((NU8) 27):
case ((NU8) 28):
case ((NU8) 29):
case ((NU8) 20):
case ((NU8) 79):
case ((NU8) 22):
Result_146538 = Semcommand_141773(C_126145, N_126146);
break;
case ((NU8) 1):
case ((NU8) 105):
case ((NU8) 18):
break;
case ((NU8) 99):
Result_146538 = Semblock_142181(C_126145, N_126146);
break;
case ((NU8) 101):
Length_146561 = 0;
Length_146561 = Sonslen_55804(N_126146);
I_146570 = 0;
HEX3Atmp_146955 = 0;
HEX3Atmp_146955 = (NI32)(Length_146561 - 1);
Res_146957 = 0;
Res_146957 = 0;
while (1) {
if (!(Res_146957 <= HEX3Atmp_146955)) goto LA7;
I_146570 = Res_146957;
asgnRefNoCycle((void**) &(*N_126146).KindU.S6.Sons->data[I_146570], Semstmt_126143(C_126145, (*N_126146).KindU.S6.Sons->data[I_146570]));
if (!((*(*N_126146).KindU.S6.Sons->data[I_146570]).Kind == ((NU8) 95) || (*(*N_126146).KindU.S6.Sons->data[I_146570]).Kind == ((NU8) 96) || (*(*N_126146).KindU.S6.Sons->data[I_146570]).Kind == ((NU8) 97) || (*(*N_126146).KindU.S6.Sons->data[I_146570]).Kind == ((NU8) 98))) goto LA9;
J_146626 = 0;
HEX3Atmp_146951 = 0;
HEX3Atmp_146952 = 0;
HEX3Atmp_146951 = (NI32)(I_146570 + 1);
HEX3Atmp_146952 = (NI32)(Length_146561 - 1);
Res_146954 = 0;
Res_146954 = HEX3Atmp_146951;
while (1) {
if (!(Res_146954 <= HEX3Atmp_146952)) goto LA11;
J_146626 = Res_146954;
switch ((*(*N_126146).KindU.S6.Sons->data[J_146626]).Kind) {
case ((NU8) 81):
case ((NU8) 105):
case ((NU8) 18):
case ((NU8) 1):
break;
default:
Localerror_48144((*(*N_126146).KindU.S6.Sons->data[J_146626]).Info, ((NU8) 38), ((NimStringDesc*) &TMP195991));
break;
}
Res_146954 += 1;
} LA11: ;
LA9: ;
Res_146957 += 1;
} LA7: ;
break;
case ((NU8) 95):
Result_146538 = Semraise_144043(C_126145, N_126146);
break;
case ((NU8) 87):
Result_146538 = Semvar_143139(C_126145, N_126146);
break;
case ((NU8) 88):
Result_146538 = Semconst_143446(C_126145, N_126146);
break;
case ((NU8) 90):
Result_146538 = Semtypesection_144554(C_126145, N_126146);
break;
case ((NU8) 82):
Result_146538 = Semif_141898(C_126145, N_126146);
break;
case ((NU8) 83):
Result_146538 = Semwhen_141778(C_126145, N_126146);
break;
case ((NU8) 100):
Result_146538 = Semdiscard_142013(C_126145, N_126146);
break;
case ((NU8) 85):
Result_146538 = Semwhile_142302(C_126145, N_126146);
break;
case ((NU8) 93):
Result_146538 = Semtry_144124(C_126145, N_126146);
break;
case ((NU8) 97):
case ((NU8) 98):
Result_146538 = Sembreakorcontinue_142065(C_126145, N_126146);
break;
case ((NU8) 84):
Result_146538 = Semfor_143635(C_126145, N_126146);
break;
case ((NU8) 86):
Result_146538 = Semcase_142407(C_126145, N_126146);
break;
case ((NU8) 96):
Result_146538 = Semreturn_142754(C_126145, N_126146);
break;
case ((NU8) 80):
Result_146538 = Semasm_142282(C_126145, N_126146);
break;
case ((NU8) 92):
Result_146538 = Semyield_142968(C_126145, N_126146);
break;
case ((NU8) 81):
Pragma_122028(C_126145, (*(*C_126145).P).Owner, N_126146, TMP196175);
break;
case ((NU8) 74):
Result_146538 = Semiterator_146235(C_126145, N_126146);
break;
case ((NU8) 69):
Result_146538 = Semproc_146298(C_126145, N_126146);
break;
case ((NU8) 70):
Result_146538 = Semmethod_146303(C_126145, N_126146);
break;
case ((NU8) 71):
Result_146538 = Semconverterdef_146353(C_126145, N_126146);
break;
case ((NU8) 72):
Result_146538 = Semmacrodef_146418(C_126145, N_126146);
break;
case ((NU8) 73):
Result_146538 = Semtemplatedef_126725(C_126145, N_126146);
break;
case ((NU8) 102):
LOC13 = Istoplevel_126053(C_126145);
if (!!(LOC13)) goto LA14;
Localerror_48144((*N_126146).Info, ((NU8) 177), ((NimStringDesc*) &TMP196188));
LA14: ;
Result_146538 = Evalimport_110001(C_126145, N_126146);
break;
case ((NU8) 103):
LOC17 = Istoplevel_126053(C_126145);
if (!!(LOC17)) goto LA18;
Localerror_48144((*N_126146).Info, ((NU8) 177), ((NimStringDesc*) &TMP196194));
LA18: ;
Result_146538 = Evalfrom_110005(C_126145, N_126146);
break;
case ((NU8) 104):
LOC21 = Istoplevel_126053(C_126145);
if (!!(LOC21)) goto LA22;
Localerror_48144((*N_126146).Info, ((NU8) 177), ((NimStringDesc*) &TMP196198));
LA22: ;
Result_146538 = Evalinclude_146504(C_126145, N_126146);
break;
default:
if (!(Gcmd_46084 == ((NU8) 17))) goto LA25;
LOC27 = 0;
LOC27 = Semexpr_126115(C_126145, N_126146, 0);
Result_146538 = Buildechostmt_141721(C_126145, LOC27);
goto LA24;
LA25: ;
Localerror_48144((*N_126146).Info, ((NU8) 39), ((NimStringDesc*) &TMP195991));
Result_146538 = Emptynode_55858;
LA24: ;
break;
}
if (!(Result_146538 == NIM_NIL)) goto LA29;
Internalerror_48159((*N_126146).Info, ((NimStringDesc*) &TMP196199));
LA29: ;
(*Result_146538).Flags |=(1<<((NI8)(((NU8) 6))%(sizeof(NI8)*8)));
BeforeRet: ;
return Result_146538;
}
N_NIMCALL(TY55526*, Semaftermacrocall_126246)(TY107012* C_126248, TY55526* N_126249, TY55548* S_126250) {
TY55526* Result_126251;
NimStringDesc* LOC1;
Result_126251 = 0;
Result_126251 = N_126249;
switch ((*(*(*S_126250).Typ).Sons->data[0]).Kind) {
case ((NU8) 6):
Result_126251 = Semexpr_126115(C_126248, Result_126251, 0);
break;
case ((NU8) 7):
Result_126251 = Semstmt_126143(C_126248, Result_126251);
break;
case ((NU8) 8):
asgnRef((void**) &(*Result_126251).Typ, Semtypenode_126138(C_126248, Result_126251, NIM_NIL));
break;
default:
LOC1 = 0;
LOC1 = Typetostring_97014((*(*S_126250).Typ).Sons->data[0], ((NU8) 0));
Globalerror_48139((*S_126250).Info, ((NU8) 153), LOC1);
break;
}
return Result_126251;
}
N_NIMCALL(TY55526*, Semmacroexpr_127038)(TY107012* C_127040, TY55526* N_127041, TY55548* Sym_127042, NIM_BOOL Semcheck_127043) {
TY55526* Result_127044;
TY115006* P_127061;
TY115004* S_127062;
TY55526* LOC4;
NIM_BOOL LOC6;
Result_127044 = 0;
Evaltemplatecounter_126393 += 1;
if (!(100 < Evaltemplatecounter_126393)) goto LA2;
Globalerror_48139((*N_127041).Info, ((NU8) 179), ((NimStringDesc*) &TMP195991));
LA2: ;
Markused_126065(N_127041, Sym_127042);
P_127061 = 0;
P_127061 = Newevalcontext_115033((*C_127040).Module, ((NimStringDesc*) &TMP195991), NIM_FALSE);
S_127062 = 0;
S_127062 = Newstackframe_115024();
asgnRefNoCycle((void**) &(*S_127062).Call, N_127041);
(*S_127062).Params = (TY55520*) setLengthSeq(&((*S_127062).Params)->Sup, sizeof(TY55526*), 2);
asgnRefNoCycle((void**) &(*S_127062).Params->data[0], Newnodeit_55742(((NU8) 18), (*N_127041).Info, (*(*Sym_127042).Typ).Sons->data[0]));
asgnRefNoCycle((void**) &(*S_127062).Params->data[1], N_127041);
Pushstackframe_115026(P_127061, S_127062);
LOC4 = 0;
LOC4 = Eval_115038(P_127061, (*(*Sym_127042).Ast).KindU.S6.Sons->data[4]);
Result_127044 = (*S_127062).Params->data[0];
Popstackframe_115030(P_127061);
LOC6 = Cyclictree_96043(Result_127044);
if (!LOC6) goto LA7;
Globalerror_48139((*N_127041).Info, ((NU8) 203), ((NimStringDesc*) &TMP195991));
LA7: ;
if (!Semcheck_127043) goto LA10;
Result_127044 = Semaftermacrocall_126246(C_127040, Result_127044, Sym_127042);
LA10: ;
Evaltemplatecounter_126393 -= 1;
return Result_127044;
}
N_NIMCALL(TY55526*, Semsym_134006)(TY107012* C_134008, TY55526* N_134009, TY55548* S_134010, NU8 Flags_134011) {
TY55526* Result_134012;
NIM_BOOL LOC2;
NIM_BOOL LOC7;
NIM_BOOL LOC8;
TY55548* LOC11;
Result_134012 = 0;
LOC2 = ((*S_134010).Kind == ((NU8) 7));
if (!(LOC2)) goto LA3;
LOC2 = !(((Flags_134011 &(1<<((((NU8) 0))&7)))!=0));
LA3: ;
if (!LOC2) goto LA4;
Globalerror_48139((*N_134009).Info, ((NU8) 161), ((NimStringDesc*) &TMP195991));
LA4: ;
switch ((*S_134010).Kind) {
case ((NU8) 10):
case ((NU8) 11):
case ((NU8) 12):
case ((NU8) 13):
LOC8 = !((((*S_134010).Flags &(1<<((((NU8) 20))&31)))!=0));
if (!(LOC8)) goto LA9;
LOC8 = ((*(*S_134010).Typ).Callconv == ((NU8) 0));
LA9: ;
LOC7 = LOC8;
if (!(LOC7)) goto LA10;
LOC11 = 0;
LOC11 = Getmodule_60198(S_134010);
LOC7 = !(((*LOC11).Sup.Id == (*(*C_134008).Module).Sup.Id));
LA10: ;
if (!LOC7) goto LA12;
Localerror_48144((*N_134009).Info, ((NU8) 130), (*(*S_134010).Name).S);
LA12: ;
Result_134012 = Symchoice_126533(C_134008, N_134009, S_134010);
break;
case ((NU8) 8):
Markused_126065(N_134009, S_134010);
if (!((*(*S_134010).Typ).Kind == ((NU8) 5) || (*(*S_134010).Typ).Kind == ((NU8) 2) || (*(*S_134010).Typ).Kind >= ((NU8) 31) && (*(*S_134010).Typ).Kind <= ((NU8) 35) || (*(*S_134010).Typ).Kind >= ((NU8) 36) && (*(*S_134010).Typ).Kind <= ((NU8) 39) || (*(*S_134010).Typ).Kind == ((NU8) 4) || (*(*S_134010).Typ).Kind == ((NU8) 18) || (*(*S_134010).Typ).Kind == ((NU8) 19))) goto LA15;
Result_134012 = Copytree_55852((*S_134010).Ast);
asgnRef((void**) &(*Result_134012).Typ, (*S_134010).Typ);
goto LA14;
LA15: ;
Result_134012 = Newsymnode_55735(S_134010);
LA14: ;
(*Result_134012).Info = (*N_134009).Info;
break;
case ((NU8) 14):
Result_134012 = Semmacroexpr_127038(C_134008, N_134009, S_134010, NIM_TRUE);
break;
case ((NU8) 15):
Result_134012 = Semtemplateexpr_133953(C_134008, N_134009, S_134010, NIM_TRUE);
break;
case ((NU8) 9):
Markused_126065(N_134009, S_134010);
if (!(((*S_134010).Flags &(1<<((((NU8) 5))&31)))!=0)) goto LA18;
(*(*(*C_134008).P).Owner).Flags |=(1<<((NI32)(((NU8) 14))%(sizeof(NI32)*8)));
LA18: ;
Result_134012 = Newsymnode_55735(S_134010);
(*Result_134012).Info = (*N_134009).Info;
break;
case ((NU8) 4):
if (!((*S_134010).Ast == NIM_NIL)) goto LA21;
Internalerror_48159((*N_134009).Info, ((NimStringDesc*) &TMP196200));
LA21: ;
Result_134012 = Semexpr_126115(C_134008, (*S_134010).Ast, 0);
break;
default:
Markused_126065(N_134009, S_134010);
Result_134012 = Newsymnode_55735(S_134010);
(*Result_134012).Info = (*N_134009).Info;
break;
}
return Result_134012;
}
N_NIMCALL(TY55526*, Semfieldaccess_133960)(TY107012* C_133962, TY55526* N_133963, NU8 Flags_133966) {
TY55526* Result_137666;
TY54011* I_137690;
TY55548* F_137691;
TY55526* LOC7;
TY55526* LOC8;
TY55526* LOC9;
Result_137666 = 0;
Result_137666 = Builtinfieldaccess_137293(C_133962, N_133963, Flags_133966);
if (!(Result_137666 == NIM_NIL)) goto LA2;
I_137690 = 0;
I_137690 = Consideracc_126003((*N_133963).KindU.S6.Sons->data[1]);
F_137691 = 0;
F_137691 = Symtabget_60111((*C_133962).Tab, I_137690);
if (!!((F_137691 == NIM_NIL))) goto LA5;
Result_137666 = Newnodei_55738(((NU8) 19), (*N_133963).Info);
LOC7 = 0;
LOC7 = Newidentnode_55731(I_137690, (*N_133963).Info);
Addson_55824(Result_137666, LOC7);
LOC8 = 0;
LOC8 = HEX5BHEX5D_57062(N_133963, 0);
LOC9 = 0;
LOC9 = Copytree_55852(LOC8);
Addson_55824(Result_137666, LOC9);
goto LA4;
LA5: ;
Globalerror_48139((*N_133963).Info, ((NU8) 77), (*I_137690).S);
LA4: ;
LA2: ;
return Result_137666;
}
N_NIMCALL(void, Checkconversionbetweenobjects_134100)(TY47538 Info_134102, TY55552* Castdest_134103, TY55552* Src_134104) {
NI Diff_134105;
NimStringDesc* LOC4;
TY115159 LOC5;
NimStringDesc* LOC6;
Diff_134105 = 0;
Diff_134105 = Inheritancediff_97121(Castdest_134103, Src_134104);
if (!(Diff_134105 == 2147483647)) goto LA2;
LOC4 = 0;
LOC4 = Msgkindtostring_47794(((NU8) 138));
memset((void*)&LOC5, 0, sizeof(LOC5));
LOC5[0] = Typetostring_97014(Src_134104, ((NU8) 0));
LOC5[1] = Typetostring_97014(Castdest_134103, ((NU8) 0));
LOC6 = 0;
LOC6 = nsuFormatOpenArray(LOC4, LOC5, 2);
Globalerror_48139(Info_134102, ((NU8) 4), LOC6);
LA2: ;
}
N_NIMCALL(void, Checkconvertible_134112)(TY47538 Info_134114, TY55552* Castdest_134115, TY55552* Src_134116) {
NIM_BOOL LOC2;
NimStringDesc* LOC8;
TY55552* D_134131;
TY55552* S_134132;
NIM_BOOL LOC10;
NIM_BOOL LOC11;
NimStringDesc* LOC17;
TY115159 LOC18;
NimStringDesc* LOC19;
NIM_BOOL LOC20;
NIM_BOOL LOC24;
TY55552* LOC25;
TY55552* LOC27;
NU8 LOC30;
NIM_BOOL LOC32;
NIM_BOOL LOC33;
NIM_BOOL LOC35;
NimStringDesc* LOC38;
TY115159 LOC39;
NimStringDesc* LOC40;
LOC2 = Sametype_97048(Castdest_134115, Src_134116);
if (!LOC2) goto LA3;
if (!!(((*Castdest_134115).Kind >= ((NU8) 31) && (*Castdest_134115).Kind <= ((NU8) 39) || (*Castdest_134115).Kind == ((NU8) 5)))) goto LA6;
LOC8 = 0;
LOC8 = Typetostring_97014(Castdest_134115, ((NU8) 0));
Message_48149(Info_134114, ((NU8) 228), LOC8);
LA6: ;
goto BeforeRet;
LA3: ;
D_134131 = 0;
D_134131 = Skiptypes_97087(Castdest_134115, 8431616);
S_134132 = 0;
S_134132 = Skiptypes_97087(Src_134116, 8431616);
while (1) {
LOC11 = !((D_134131 == NIM_NIL));
if (!(LOC11)) goto LA12;
LOC11 = ((*D_134131).Kind == ((NU8) 21) || (*D_134131).Kind == ((NU8) 22));
LA12: ;
LOC10 = LOC11;
if (!(LOC10)) goto LA13;
LOC10 = ((*D_134131).Kind == (*S_134132).Kind);
LA13: ;
if (!LOC10) goto LA9;
D_134131 = Base_97021(D_134131);
S_134132 = Base_97021(S_134132);
} LA9: ;
if (!(D_134131 == NIM_NIL)) goto LA15;
LOC17 = 0;
LOC17 = Msgkindtostring_47794(((NU8) 138));
memset((void*)&LOC18, 0, sizeof(LOC18));
LOC18[0] = Typetostring_97014(Src_134116, ((NU8) 0));
LOC18[1] = Typetostring_97014(Castdest_134115, ((NU8) 0));
LOC19 = 0;
LOC19 = nsuFormatOpenArray(LOC17, LOC18, 2);
Globalerror_48139(Info_134114, ((NU8) 4), LOC19);
goto LA14;
LA15: ;
LOC20 = ((*D_134131).Kind == ((NU8) 17));
if (!(LOC20)) goto LA21;
LOC20 = ((*S_134132).Kind == ((NU8) 17));
LA21: ;
if (!LOC20) goto LA22;
Checkconversionbetweenobjects_134100(Info_134114, D_134131, S_134132);
goto LA14;
LA22: ;
LOC25 = 0;
LOC25 = Skiptypes_97087(Castdest_134115, 9480192);
LOC24 = ((*LOC25).Kind == ((NU8) 1) || (*LOC25).Kind == ((NU8) 14) || (*LOC25).Kind == ((NU8) 2) || (*LOC25).Kind >= ((NU8) 31) && (*LOC25).Kind <= ((NU8) 39));
if (!(LOC24)) goto LA26;
LOC27 = 0;
LOC27 = Skiptypes_97087(Src_134116, 9480192);
LOC24 = ((*LOC27).Kind == ((NU8) 1) || (*LOC27).Kind == ((NU8) 14) || (*LOC27).Kind == ((NU8) 2) || (*LOC27).Kind >= ((NU8) 31) && (*LOC27).Kind <= ((NU8) 39));
LA26: ;
if (!LOC24) goto LA28;
goto LA14;
LA28: ;
LOC30 = Cmptypes_129367(D_134131, S_134132);
switch (LOC30) {
case ((NU8) 0):
case ((NU8) 4):
LOC33 = Equalordistinctof_97056(Castdest_134115, Src_134116);
LOC32 = !(LOC33);
if (!(LOC32)) goto LA34;
LOC35 = Equalordistinctof_97056(Src_134116, Castdest_134115);
LOC32 = !(LOC35);
LA34: ;
if (!LOC32) goto LA36;
LOC38 = 0;
LOC38 = Msgkindtostring_47794(((NU8) 138));
memset((void*)&LOC39, 0, sizeof(LOC39));
LOC39[0] = Typetostring_97014(Src_134116, ((NU8) 0));
LOC39[1] = Typetostring_97014(Castdest_134115, ((NU8) 0));
LOC40 = 0;
LOC40 = nsuFormatOpenArray(LOC38, LOC39, 2);
Globalerror_48139(Info_134114, ((NU8) 4), LOC40);
LA36: ;
break;
default:
break;
}
LA14: ;
BeforeRet: ;
}
N_NIMCALL(TY55526*, Semconv_134265)(TY107012* C_134267, TY55526* N_134268, TY55548* S_134269) {
TY55526* Result_134270;
NI LOC2;
TY55526* LOC5;
TY55526* LOC6;
TY55526* Op_134321;
NI I_134339;
NI HEX3Atmp_146747;
NI LOC10;
NI Res_146749;
NIM_BOOL LOC13;
Result_134270 = 0;
LOC2 = Sonslen_55804(N_134268);
if (!!((LOC2 == 2))) goto LA3;
Globalerror_48139((*N_134268).Info, ((NU8) 157), ((NimStringDesc*) &TMP195991));
LA3: ;
Result_134270 = Newnodei_55738(((NU8) 50), (*N_134268).Info);
asgnRef((void**) &(*Result_134270).Typ, Semtypenode_126138(C_134267, (*N_134268).KindU.S6.Sons->data[0], NIM_NIL));
LOC5 = 0;
LOC5 = Copytree_55852((*N_134268).KindU.S6.Sons->data[0]);
Addson_55824(Result_134270, LOC5);
LOC6 = 0;
LOC6 = Semexprwithtype_126122(C_134267, (*N_134268).KindU.S6.Sons->data[1], 0);
Addson_55824(Result_134270, LOC6);
Op_134321 = 0;
Op_134321 = (*Result_134270).KindU.S6.Sons->data[1];
if (!!(((*Op_134321).Kind == ((NU8) 46)))) goto LA8;
Checkconvertible_134112((*Result_134270).Info, (*Result_134270).Typ, (*Op_134321).Typ);
goto LA7;
LA8: ;
I_134339 = 0;
HEX3Atmp_146747 = 0;
LOC10 = Sonslen_55804(Op_134321);
HEX3Atmp_146747 = (NI32)(LOC10 - 1);
Res_146749 = 0;
Res_146749 = 0;
while (1) {
if (!(Res_146749 <= HEX3Atmp_146747)) goto LA11;
I_134339 = Res_146749;
LOC13 = Sametype_97048((*Result_134270).Typ, (*(*Op_134321).KindU.S6.Sons->data[I_134339]).Typ);
if (!LOC13) goto LA14;
Markused_126065(N_134268, (*(*Op_134321).KindU.S6.Sons->data[I_134339]).KindU.S4.Sym);
Result_134270 = (*Op_134321).KindU.S6.Sons->data[I_134339];
goto BeforeRet;
LA14: ;
Res_146749 += 1;
} LA11: ;
Localerror_48144((*N_134268).Info, ((NU8) 59), (*(*(*(*Op_134321).KindU.S6.Sons->data[0]).KindU.S4.Sym).Name).S);
LA7: ;
BeforeRet: ;
return Result_134270;
}
N_NIMCALL(void, Semopaux_134742)(TY107012* C_134744, TY55526* N_134745) {
NI I_134754;
NI HEX3Atmp_146750;
NI LOC1;
NI Res_146752;
TY55526* A_134767;
NIM_BOOL LOC4;
NI LOC6;
TY47538 Info_134791;
TY54011* LOC9;
I_134754 = 0;
HEX3Atmp_146750 = 0;
LOC1 = Sonslen_55804(N_134745);
HEX3Atmp_146750 = (NI32)(LOC1 - 1);
Res_146752 = 0;
Res_146752 = 1;
while (1) {
if (!(Res_146752 <= HEX3Atmp_146750)) goto LA2;
I_134754 = Res_146752;
A_134767 = 0;
A_134767 = (*N_134745).KindU.S6.Sons->data[I_134754];
LOC4 = ((*A_134767).Kind == ((NU8) 23));
if (!(LOC4)) goto LA5;
LOC6 = Sonslen_55804(A_134767);
LOC4 = (LOC6 == 2);
LA5: ;
if (!LOC4) goto LA7;
memset((void*)&Info_134791, 0, sizeof(Info_134791));
Info_134791 = (*(*A_134767).KindU.S6.Sons->data[0]).Info;
LOC9 = 0;
LOC9 = Consideracc_126003((*A_134767).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*A_134767).KindU.S6.Sons->data[0], Newidentnode_55731(LOC9, Info_134791));
asgnRefNoCycle((void**) &(*A_134767).KindU.S6.Sons->data[1], Semexprwithtype_126122(C_134744, (*A_134767).KindU.S6.Sons->data[1], 0));
asgnRef((void**) &(*A_134767).Typ, (*(*A_134767).KindU.S6.Sons->data[1]).Typ);
goto LA3;
LA7: ;
asgnRefNoCycle((void**) &(*N_134745).KindU.S6.Sons->data[I_134754], Semexprwithtype_126122(C_134744, A_134767, 0));
LA3: ;
Res_146752 += 1;
} LA2: ;
}
N_NIMCALL(TY55526*, Overloadedcallopr_134864)(TY107012* C_134866, TY55526* N_134867) {
TY55526* Result_134868;
TY54011* Par_134869;
TY55548* LOC2;
TY55526* LOC5;
NI I_134889;
NI HEX3Atmp_146753;
NI LOC6;
NI Res_146755;
Result_134868 = 0;
Par_134869 = 0;
Par_134869 = Getident_54016(((NimStringDesc*) &TMP196201));
LOC2 = 0;
LOC2 = Symtabget_60111((*C_134866).Tab, Par_134869);
if (!(LOC2 == NIM_NIL)) goto LA3;
Result_134868 = NIM_NIL;
goto LA1;
LA3: ;
Result_134868 = Newnodei_55738(((NU8) 21), (*N_134867).Info);
LOC5 = 0;
LOC5 = Newidentnode_55731(Par_134869, (*N_134867).Info);
Addson_55824(Result_134868, LOC5);
I_134889 = 0;
HEX3Atmp_146753 = 0;
LOC6 = Sonslen_55804(N_134867);
HEX3Atmp_146753 = (NI32)(LOC6 - 1);
Res_146755 = 0;
Res_146755 = 0;
while (1) {
if (!(Res_146755 <= HEX3Atmp_146753)) goto LA7;
I_134889 = Res_146755;
Addson_55824(Result_134868, (*N_134867).KindU.S6.Sons->data[I_134889]);
Res_146755 += 1;
} LA7: ;
Result_134868 = Semexpr_126115(C_134866, Result_134868, 0);
LA1: ;
return Result_134868;
}
N_NIMCALL(NimStringDesc*, Getnotfounderror_128119)(TY107012* C_128121, TY55526* N_128122) {
NimStringDesc* Result_128123;
NI I_128132;
NI HEX3Atmp_130796;
NI LOC1;
NI Res_130798;
NimStringDesc* LOC6;
NimStringDesc* LOC7;
NI LOC9;
NimStringDesc* Candidates_128192;
TY108004 O_128193;
TY55548* Sym_128207;
NimStringDesc* LOC16;
NimStringDesc* LOC20;
NimStringDesc* LOC21;
Result_128123 = 0;
Result_128123 = Msgkindtostring_47794(((NU8) 125));
I_128132 = 0;
HEX3Atmp_130796 = 0;
LOC1 = Sonslen_55804(N_128122);
HEX3Atmp_130796 = (NI32)(LOC1 - 1);
Res_130798 = 0;
Res_130798 = 1;
while (1) {
if (!(Res_130798 <= HEX3Atmp_130796)) goto LA2;
I_128132 = Res_130798;
if (!((*(*N_128122).KindU.S6.Sons->data[I_128132]).Kind == ((NU8) 23))) goto LA4;
LOC6 = 0;
LOC6 = Rendertree_85042((*(*N_128122).KindU.S6.Sons->data[I_128132]).KindU.S6.Sons->data[0], 0);
Result_128123 = resizeString(Result_128123, LOC6->Sup.len + 0);
appendString(Result_128123, LOC6);
Result_128123 = resizeString(Result_128123, 2);
appendString(Result_128123, ((NimStringDesc*) &TMP196202));
LA4: ;
LOC7 = 0;
LOC7 = Typetostring_97014((*(*N_128122).KindU.S6.Sons->data[I_128132]).Typ, ((NU8) 0));
Result_128123 = resizeString(Result_128123, LOC7->Sup.len + 0);
appendString(Result_128123, LOC7);
LOC9 = Sonslen_55804(N_128122);
if (!!((I_128132 == (NI32)(LOC9 - 1)))) goto LA10;
Result_128123 = resizeString(Result_128123, 2);
appendString(Result_128123, ((NimStringDesc*) &TMP196203));
LA10: ;
Res_130798 += 1;
} LA2: ;
Result_128123 = addChar(Result_128123, 41);
Candidates_128192 = 0;
Candidates_128192 = copyString(((NimStringDesc*) &TMP195991));
memset((void*)&O_128193, 0, sizeof(O_128193));
Sym_128207 = 0;
Sym_128207 = Initoverloaditer_108745(&O_128193, C_128121, (*N_128122).KindU.S6.Sons->data[0]);
while (1) {
if (!!((Sym_128207 == NIM_NIL))) goto LA12;
if (!((15360 &(1<<(((*Sym_128207).Kind)&31)))!=0)) goto LA14;
LOC16 = 0;
LOC16 = Getprocheader_97018(Sym_128207);
Candidates_128192 = resizeString(Candidates_128192, LOC16->Sup.len + 0);
appendString(Candidates_128192, LOC16);
Candidates_128192 = resizeString(Candidates_128192, 1);
appendString(Candidates_128192, ((NimStringDesc*) &TMP196204));
LA14: ;
Sym_128207 = Nextoverloaditer_109074(&O_128193, C_128121, (*N_128122).KindU.S6.Sons->data[0]);
} LA12: ;
if (!!(((Candidates_128192) && (Candidates_128192)->Sup.len == 0))) goto LA18;
LOC20 = 0;
LOC21 = 0;
LOC21 = Msgkindtostring_47794(((NU8) 126));
LOC20 = rawNewString(LOC21->Sup.len + Candidates_128192->Sup.len + 2);
appendString(LOC20, ((NimStringDesc*) &TMP196204));
appendString(LOC20, LOC21);
appendString(LOC20, ((NimStringDesc*) &TMP196204));
appendString(LOC20, Candidates_128192);
Result_128123 = resizeString(Result_128123, LOC20->Sup.len + 0);
appendString(Result_128123, LOC20);
LA18: ;
return Result_128123;
}
N_NIMCALL(TY55526*, Semdirectop_136625)(TY107012* C_136627, TY55526* N_136628, NU8 Flags_136629) {
TY55526* Result_136630;
NimStringDesc* LOC7;
Result_136630 = 0;
Semopaux_134742(C_136627, N_136628);
Result_136630 = Semdirectcallanalyseeffects_136162(C_136627, N_136628, Flags_136629);
if (!(Result_136630 == NIM_NIL)) goto LA2;
Result_136630 = Overloadedcallopr_134864(C_136627, N_136628);
if (!(Result_136630 == NIM_NIL)) goto LA5;
LOC7 = 0;
LOC7 = Getnotfounderror_128119(C_136627, N_136628);
Globalerror_48139((*N_136628).Info, ((NU8) 4), LOC7);
LA5: ;
LA2: ;
Fixabstracttype_135289(C_136627, Result_136630);
Analyseifaddresstakenincall_135986(C_136627, Result_136630);
return Result_136630;
}
N_NIMCALL(TY55548*, Lookupfordefined_136717)(TY107012* C_136719, TY55526* N_136720, NIM_BOOL Onlycurrentscope_136721) {
TY55548* Result_136722;
TY55548* M_136759;
NIM_BOOL LOC8;
TY54011* Ident_136825;
NimStringDesc* LOC18;
Result_136722 = 0;
switch ((*N_136720).Kind) {
case ((NU8) 2):
if (!Onlycurrentscope_136721) goto LA2;
Result_136722 = Symtablocalget_60115((*C_136719).Tab, (*N_136720).KindU.S5.Ident);
goto LA1;
LA2: ;
Result_136722 = Symtabget_60111((*C_136719).Tab, (*N_136720).KindU.S5.Ident);
LA1: ;
break;
case ((NU8) 36):
Result_136722 = NIM_NIL;
if (!Onlycurrentscope_136721) goto LA5;
goto BeforeRet;
LA5: ;
Checksonslen_107407(N_136720, 2);
M_136759 = 0;
M_136759 = Lookupfordefined_136717(C_136719, (*N_136720).KindU.S6.Sons->data[0], Onlycurrentscope_136721);
LOC8 = !((M_136759 == NIM_NIL));
if (!(LOC8)) goto LA9;
LOC8 = ((*M_136759).Kind == ((NU8) 6));
LA9: ;
if (!LOC8) goto LA10;
if (!((*(*N_136720).KindU.S6.Sons->data[1]).Kind == ((NU8) 2))) goto LA13;
Ident_136825 = 0;
Ident_136825 = (*(*N_136720).KindU.S6.Sons->data[1]).KindU.S5.Ident;
if (!(M_136759 == (*C_136719).Module)) goto LA16;
Result_136722 = Strtableget_60066(&(*C_136719).Tab.Stack->data[1], Ident_136825);
goto LA15;
LA16: ;
Result_136722 = Strtableget_60066(&(*M_136759).Tab, Ident_136825);
LA15: ;
goto LA12;
LA13: ;
Globalerror_48139((*(*N_136720).KindU.S6.Sons->data[1]).Info, ((NU8) 19), ((NimStringDesc*) &TMP195991));
LA12: ;
LA10: ;
break;
case ((NU8) 43):
Checksonslen_107407(N_136720, 1);
Result_136722 = Lookupfordefined_136717(C_136719, (*N_136720).KindU.S6.Sons->data[0], Onlycurrentscope_136721);
break;
default:
LOC18 = 0;
LOC18 = Rendertree_85042(N_136720, 0);
Globalerror_48139((*N_136720).Info, ((NU8) 19), LOC18);
Result_136722 = NIM_NIL;
break;
}
BeforeRet: ;
return Result_136722;
}
N_NIMCALL(TY55526*, Semdefined_136859)(TY107012* C_136861, TY55526* N_136862, NIM_BOOL Onlycurrentscope_136863) {
TY55526* Result_136864;
TY55548* LOC2;
NIM_BOOL LOC5;
NIM_BOOL LOC6;
Result_136864 = 0;
Checksonslen_107407(N_136862, 2);
Result_136864 = Newintnode_55714(((NU8) 6), 0);
LOC2 = 0;
LOC2 = Lookupfordefined_136717(C_136861, (*N_136862).KindU.S6.Sons->data[1], Onlycurrentscope_136863);
if (!!((LOC2 == NIM_NIL))) goto LA3;
(*Result_136864).KindU.S1.Intval = 1;
goto LA1;
LA3: ;
LOC6 = !(Onlycurrentscope_136863);
if (!(LOC6)) goto LA7;
LOC6 = ((*(*N_136862).KindU.S6.Sons->data[1]).Kind == ((NU8) 2));
LA7: ;
LOC5 = LOC6;
if (!(LOC5)) goto LA8;
LOC5 = Isdefined_64059((*(*N_136862).KindU.S6.Sons->data[1]).KindU.S5.Ident);
LA8: ;
if (!LOC5) goto LA9;
(*Result_136864).KindU.S1.Intval = 1;
goto LA1;
LA9: ;
LA1: ;
(*Result_136864).Info = (*N_136862).Info;
asgnRef((void**) &(*Result_136864).Typ, Getsystype_102008(((NU8) 1)));
return Result_136864;
}
N_NIMCALL(TY55526*, Setms_136957)(TY55526* N_136959, TY55548* S_136960) {
TY55526* Result_136961;
Result_136961 = 0;
Result_136961 = N_136959;
asgnRefNoCycle((void**) &(*N_136959).KindU.S6.Sons->data[0], Newsymnode_55735(S_136960));
(*(*N_136959).KindU.S6.Sons->data[0]).Info = (*N_136959).Info;
return Result_136961;
}
N_NIMCALL(TY55526*, Semlowhigh_134488)(TY107012* C_134490, TY55526* N_134491, NU8 M_134492) {
TY55526* Result_134493;
NI LOC2;
TY55552* Typ_134538;
Result_134493 = 0;
LOC2 = Sonslen_55804(N_134491);
if (!!((LOC2 == 2))) goto LA3;
Globalerror_48139((*N_134491).Info, ((NU8) 66), Optostr_134494[(M_134492)-3]);
goto LA1;
LA3: ;
asgnRefNoCycle((void**) &(*N_134491).KindU.S6.Sons->data[1], Semexprwithtype_126122(C_134490, (*N_134491).KindU.S6.Sons->data[1], 1));
Typ_134538 = 0;
Typ_134538 = Skiptypes_97087((*(*N_134491).KindU.S6.Sons->data[1]).Typ, 9480192);
switch ((*Typ_134538).Kind) {
case ((NU8) 24):
case ((NU8) 28):
case ((NU8) 27):
asgnRef((void**) &(*N_134491).Typ, Getsystype_102008(((NU8) 31)));
break;
case ((NU8) 4):
case ((NU8) 16):
asgnRef((void**) &(*N_134491).Typ, (*(*(*N_134491).KindU.S6.Sons->data[1]).Typ).Sons->data[0]);
break;
case ((NU8) 31) ... ((NU8) 35):
case ((NU8) 2):
case ((NU8) 1):
case ((NU8) 14):
asgnRef((void**) &(*N_134491).Typ, (*(*N_134491).KindU.S6.Sons->data[1]).Typ);
break;
default:
Globalerror_48139((*N_134491).Info, ((NU8) 64), Optostr_134494[(M_134492)-3]);
break;
}
LA1: ;
Result_134493 = N_134491;
return Result_134493;
}
N_NIMCALL(TY55526*, Semsizeof_134563)(TY107012* C_134565, TY55526* N_134566) {
TY55526* Result_134567;
NI LOC2;
Result_134567 = 0;
LOC2 = Sonslen_55804(N_134566);
if (!!((LOC2 == 2))) goto LA3;
Globalerror_48139((*N_134566).Info, ((NU8) 66), ((NimStringDesc*) &TMP196207));
goto LA1;
LA3: ;
asgnRefNoCycle((void**) &(*N_134566).KindU.S6.Sons->data[1], Semexprwithtype_126122(C_134565, (*N_134566).KindU.S6.Sons->data[1], 1));
LA1: ;
asgnRef((void**) &(*N_134566).Typ, Getsystype_102008(((NU8) 31)));
Result_134567 = N_134566;
return Result_134567;
}
N_NIMCALL(TY55526*, Semis_134595)(TY107012* C_134597, TY55526* N_134598) {
TY55526* Result_134599;
NI LOC2;
TY55552* A_134664;
TY55552* B_134677;
NIM_BOOL LOC6;
NIM_BOOL LOC11;
NIM_BOOL LOC16;
NimStringDesc* LOC21;
Result_134599 = 0;
LOC2 = Sonslen_55804(N_134598);
if (!(LOC2 == 3)) goto LA3;
asgnRefNoCycle((void**) &(*N_134598).KindU.S6.Sons->data[1], Semexprwithtype_126122(C_134597, (*N_134598).KindU.S6.Sons->data[1], 1));
asgnRefNoCycle((void**) &(*N_134598).KindU.S6.Sons->data[2], Semexprwithtype_126122(C_134597, (*N_134598).KindU.S6.Sons->data[2], 1));
A_134664 = 0;
A_134664 = (*(*N_134598).KindU.S6.Sons->data[1]).Typ;
B_134677 = 0;
B_134677 = (*(*N_134598).KindU.S6.Sons->data[2]).Typ;
LOC6 = !((A_134664 == NIM_NIL));
if (!(LOC6)) goto LA7;
LOC6 = !((B_134677 == NIM_NIL));
LA7: ;
if (!LOC6) goto LA8;
LOC11 = !(((*B_134677).Kind == ((NU8) 17)));
if (LOC11) goto LA12;
LOC11 = !(((*A_134664).Kind == ((NU8) 17)));
LA12: ;
if (!LOC11) goto LA13;
Globalerror_48139((*N_134598).Info, ((NU8) 193), ((NimStringDesc*) &TMP195991));
LA13: ;
while (1) {
LOC16 = !((B_134677 == NIM_NIL));
if (!(LOC16)) goto LA17;
LOC16 = !(((*B_134677).Sup.Id == (*A_134664).Sup.Id));
LA17: ;
if (!LOC16) goto LA15;
B_134677 = (*B_134677).Sons->data[0];
} LA15: ;
if (!(B_134677 == NIM_NIL)) goto LA19;
LOC21 = 0;
LOC21 = Typetostring_97014(A_134664, ((NU8) 0));
Globalerror_48139((*N_134598).Info, ((NU8) 194), LOC21);
LA19: ;
LA8: ;
asgnRef((void**) &(*N_134598).Typ, Getsystype_102008(((NU8) 1)));
goto LA1;
LA3: ;
Globalerror_48139((*N_134598).Info, ((NU8) 192), ((NimStringDesc*) &TMP195991));
LA1: ;
Result_134599 = N_134598;
return Result_134599;
}
N_NIMCALL(TY55526*, Semecho_136678)(TY107012* C_136680, TY55526* N_136681) {
TY55526* Result_136682;
NI I_136691;
NI HEX3Atmp_146783;
NI LOC1;
NI Res_146785;
TY55526* Arg_136704;
TY55526* LOC3;
Result_136682 = 0;
Checkminsonslen_107413(N_136681, 1);
I_136691 = 0;
HEX3Atmp_146783 = 0;
LOC1 = Sonslen_55804(N_136681);
HEX3Atmp_146783 = (NI32)(LOC1 - 1);
Res_146785 = 0;
Res_146785 = 1;
while (1) {
if (!(Res_146785 <= HEX3Atmp_146783)) goto LA2;
I_136691 = Res_146785;
Arg_136704 = 0;
Arg_136704 = Semexprwithtype_126122(C_136680, (*N_136681).KindU.S6.Sons->data[I_136691], 0);
LOC3 = 0;
LOC3 = Buildstringify_136653(C_136680, Arg_136704);
asgnRefNoCycle((void**) &(*N_136681).KindU.S6.Sons->data[I_136691], Semexpr_126115(C_136680, LOC3, 0));
Res_146785 += 1;
} LA2: ;
Result_136682 = N_136681;
return Result_136682;
}
N_NIMCALL(TY55526*, Semmagic_136986)(TY107012* C_136988, TY55526* N_136989, TY55548* S_136990, NU8 Flags_136991) {
TY55526* Result_136992;
TY55526* LOC1;
TY55526* LOC2;
TY55526* LOC3;
TY55526* LOC4;
TY55526* LOC5;
TY55526* LOC6;
TY55526* LOC7;
Result_136992 = 0;
Result_136992 = N_136989;
switch ((*S_136990).Magic) {
case ((NU8) 1):
LOC1 = 0;
LOC1 = Setms_136957(N_136989, S_136990);
Result_136992 = Semdefined_136859(C_136988, LOC1, NIM_FALSE);
break;
case ((NU8) 2):
LOC2 = 0;
LOC2 = Setms_136957(N_136989, S_136990);
Result_136992 = Semdefined_136859(C_136988, LOC2, NIM_TRUE);
break;
case ((NU8) 3):
LOC3 = 0;
LOC3 = Setms_136957(N_136989, S_136990);
Result_136992 = Semlowhigh_134488(C_136988, LOC3, ((NU8) 3));
break;
case ((NU8) 4):
LOC4 = 0;
LOC4 = Setms_136957(N_136989, S_136990);
Result_136992 = Semlowhigh_134488(C_136988, LOC4, ((NU8) 4));
break;
case ((NU8) 5):
LOC5 = 0;
LOC5 = Setms_136957(N_136989, S_136990);
Result_136992 = Semsizeof_134563(C_136988, LOC5);
break;
case ((NU8) 6):
LOC6 = 0;
LOC6 = Setms_136957(N_136989, S_136990);
Result_136992 = Semis_134595(C_136988, LOC6);
break;
case ((NU8) 7):
LOC7 = 0;
LOC7 = Setms_136957(N_136989, S_136990);
Result_136992 = Semecho_136678(C_136988, LOC7);
break;
default:
Result_136992 = Semdirectop_136625(C_136988, N_136989, Flags_136991);
break;
}
return Result_136992;
}
N_NIMCALL(TY55526*, Semindirectop_136307)(TY107012* C_136309, TY55526* N_136310, NU8 Flags_136311) {
TY55526* Result_136312;
TY55526* Prc_136325;
NI I_136424;
NI HEX3Atmp_146777;
NI LOC7;
NI Res_146779;
TY55552* T_136461;
NIM_BOOL LOC13;
TY127969 M_136517;
NimStringDesc* Msg_136529;
NI I_136538;
NI HEX3Atmp_146780;
NI LOC20;
NI Res_146782;
NimStringDesc* LOC25;
NimStringDesc* LOC26;
NimStringDesc* LOC27;
NimStringDesc* LOC28;
NimStringDesc* LOC38;
Result_136312 = 0;
Result_136312 = NIM_NIL;
Prc_136325 = 0;
Prc_136325 = (*N_136310).KindU.S6.Sons->data[0];
Checkminsonslen_107413(N_136310, 1);
if (!((*(*N_136310).KindU.S6.Sons->data[0]).Kind == ((NU8) 36))) goto LA2;
Checksonslen_107407((*N_136310).KindU.S6.Sons->data[0], 2);
asgnRefNoCycle((void**) &(*N_136310).KindU.S6.Sons->data[0], Semfieldaccess_133960(C_136309, (*N_136310).KindU.S6.Sons->data[0], 0));
if (!((*(*N_136310).KindU.S6.Sons->data[0]).Kind == ((NU8) 19))) goto LA5;
Result_136312 = (*N_136310).KindU.S6.Sons->data[0];
(*Result_136312).Kind = ((NU8) 21);
I_136424 = 0;
HEX3Atmp_146777 = 0;
LOC7 = Sonslen_55804(N_136310);
HEX3Atmp_146777 = (NI32)(LOC7 - 1);
Res_146779 = 0;
Res_146779 = 1;
while (1) {
if (!(Res_146779 <= HEX3Atmp_146777)) goto LA8;
I_136424 = Res_146779;
Addson_55824(Result_136312, (*N_136310).KindU.S6.Sons->data[I_136424]);
Res_146779 += 1;
} LA8: ;
Result_136312 = Semexpr_126115(C_136309, Result_136312, Flags_136311);
goto BeforeRet;
LA5: ;
goto LA1;
LA2: ;
asgnRefNoCycle((void**) &(*N_136310).KindU.S6.Sons->data[0], Semexpr_126115(C_136309, (*N_136310).KindU.S6.Sons->data[0], 0));
LA1: ;
Semopaux_134742(C_136309, N_136310);
T_136461 = 0;
T_136461 = NIM_NIL;
if (!!(((*(*N_136310).KindU.S6.Sons->data[0]).Typ == NIM_NIL))) goto LA10;
T_136461 = Skiptypes_97087((*(*N_136310).KindU.S6.Sons->data[0]).Typ, 43008);
LA10: ;
LOC13 = !((T_136461 == NIM_NIL));
if (!(LOC13)) goto LA14;
LOC13 = ((*T_136461).Kind == ((NU8) 25));
LA14: ;
if (!LOC13) goto LA15;
memset((void*)&M_136517, 0, sizeof(M_136517));
Initcandidate_127997(&M_136517, T_136461);
Matches_129874(C_136309, N_136310, &M_136517);
if (!!((M_136517.State == ((NU8) 1)))) goto LA18;
Msg_136529 = 0;
Msg_136529 = Msgkindtostring_47794(((NU8) 125));
I_136538 = 0;
HEX3Atmp_146780 = 0;
LOC20 = Sonslen_55804(N_136310);
HEX3Atmp_146780 = (NI32)(LOC20 - 1);
Res_146782 = 0;
Res_146782 = 1;
while (1) {
if (!(Res_146782 <= HEX3Atmp_146780)) goto LA21;
I_136538 = Res_146782;
if (!(1 < I_136538)) goto LA23;
Msg_136529 = resizeString(Msg_136529, 2);
appendString(Msg_136529, ((NimStringDesc*) &TMP196203));
LA23: ;
LOC25 = 0;
LOC25 = Typetostring_97014((*(*N_136310).KindU.S6.Sons->data[I_136538]).Typ, ((NU8) 0));
Msg_136529 = resizeString(Msg_136529, LOC25->Sup.len + 0);
appendString(Msg_136529, LOC25);
Res_146782 += 1;
} LA21: ;
LOC26 = 0;
LOC27 = 0;
LOC27 = Msgkindtostring_47794(((NU8) 126));
LOC28 = 0;
LOC28 = Typetostring_97014((*(*N_136310).KindU.S6.Sons->data[0]).Typ, ((NU8) 0));
LOC26 = rawNewString(LOC27->Sup.len + LOC28->Sup.len + 3);
appendString(LOC26, ((NimStringDesc*) &TMP196208));
appendString(LOC26, LOC27);
appendString(LOC26, ((NimStringDesc*) &TMP196204));
appendString(LOC26, LOC28);
Msg_136529 = resizeString(Msg_136529, LOC26->Sup.len + 0);
appendString(Msg_136529, LOC26);
Globalerror_48139((*N_136310).Info, ((NU8) 4), Msg_136529);
Result_136312 = NIM_NIL;
goto LA17;
LA18: ;
Result_136312 = M_136517.Call;
LA17: ;
if (!!((((*T_136461).Flags &(1<<((((NU8) 1))&7)))!=0))) goto LA30;
(*(*(*C_136309).P).Owner).Flags |=(1<<((NI32)(((NU8) 14))%(sizeof(NI32)*8)));
LA30: ;
goto LA12;
LA15: ;
Result_136312 = Overloadedcallopr_134864(C_136309, N_136310);
if (!(Result_136312 == NIM_NIL)) goto LA33;
asgnRefNoCycle((void**) &(*N_136310).KindU.S6.Sons->data[0], Prc_136325);
Result_136312 = Semdirectcallanalyseeffects_136162(C_136309, N_136310, Flags_136311);
LA33: ;
if (!(Result_136312 == NIM_NIL)) goto LA36;
LOC38 = 0;
LOC38 = Rendertree_85042(N_136310, 4);
Globalerror_48139((*N_136310).Info, ((NU8) 85), LOC38);
LA36: ;
LA12: ;
Fixabstracttype_135289(C_136309, Result_136312);
Analyseifaddresstakenincall_135986(C_136309, Result_136312);
BeforeRet: ;
return Result_136312;
}
N_NIMCALL(TY55526*, Explictgenericinstantiation_130696)(TY107012* C_130698, TY55526* N_130699, TY55548* S_130700) {
TY55526* Result_130701;
NI I_130719;
NI HEX3Atmp_130823;
NI LOC1;
NI Res_130825;
TY127969 X_130765;
TY55548* Newinst_130767;
Result_130701 = 0;
I_130719 = 0;
HEX3Atmp_130823 = 0;
LOC1 = Sonslen_55804(N_130699);
HEX3Atmp_130823 = (NI32)(LOC1 - 1);
Res_130825 = 0;
Res_130825 = 1;
while (1) {
if (!(Res_130825 <= HEX3Atmp_130823)) goto LA2;
I_130719 = Res_130825;
asgnRef((void**) &(*(*N_130699).KindU.S6.Sons->data[I_130719]).Typ, Semtypenode_126138(C_130698, (*N_130699).KindU.S6.Sons->data[I_130719], NIM_NIL));
Res_130825 += 1;
} LA2: ;
memset((void*)&X_130765, 0, sizeof(X_130765));
Initcandidate_128003(&X_130765, S_130700, N_130699);
Newinst_130767 = 0;
Newinst_130767 = Generateinstance_127099(C_130698, S_130700, X_130765.Bindings, (*N_130699).Info);
Markused_126065(N_130699, S_130700);
Result_130701 = Newsymnode_55735(Newinst_130767);
(*Result_130701).Info = (*N_130699).Info;
return Result_130701;
}
N_NIMCALL(TY55526*, Semarrayaccess_138118)(TY107012* C_138120, TY55526* N_138121, NU8 Flags_138122) {
TY55526* Result_138123;
TY55526* LOC4;
Result_138123 = 0;
Result_138123 = Semsubscript_137845(C_138120, N_138121, Flags_138122);
if (!(Result_138123 == NIM_NIL)) goto LA2;
LOC4 = 0;
LOC4 = Buildoverloadedsubscripts_137802(N_138121, NIM_FALSE);
Result_138123 = Semexpr_126115(C_138120, LOC4, 0);
LA2: ;
return Result_138123;
}
N_NIMCALL(NU8, Checkpar_138708)(TY55526* N_138710) {
NU8 Result_138711;
NI Length_138712;
NI I_138746;
NI HEX3Atmp_146813;
NI Res_146815;
NIM_BOOL LOC14;
Result_138711 = 0;
Length_138712 = 0;
Length_138712 = Sonslen_55804(N_138710);
if (!(Length_138712 == 0)) goto LA2;
Result_138711 = ((NU8) 3);
goto LA1;
LA2: ;
if (!(Length_138712 == 1)) goto LA4;
Result_138711 = ((NU8) 1);
goto LA1;
LA4: ;
if (!((*(*N_138710).KindU.S6.Sons->data[0]).Kind == ((NU8) 24))) goto LA7;
Result_138711 = ((NU8) 2);
goto LA6;
LA7: ;
Result_138711 = ((NU8) 3);
LA6: ;
I_138746 = 0;
HEX3Atmp_146813 = 0;
HEX3Atmp_146813 = (NI32)(Length_138712 - 1);
Res_146815 = 0;
Res_146815 = 0;
while (1) {
if (!(Res_146815 <= HEX3Atmp_146813)) goto LA9;
I_138746 = Res_146815;
if (!(Result_138711 == ((NU8) 2))) goto LA11;
LOC14 = !(((*(*N_138710).KindU.S6.Sons->data[I_138746]).Kind == ((NU8) 24)));
if (LOC14) goto LA15;
LOC14 = !(((*(*(*N_138710).KindU.S6.Sons->data[I_138746]).KindU.S6.Sons->data[0]).Kind == ((NU8) 3) || (*(*(*N_138710).KindU.S6.Sons->data[I_138746]).KindU.S6.Sons->data[0]).Kind == ((NU8) 2)));
LA15: ;
if (!LOC14) goto LA16;
Globalerror_48139((*(*N_138710).KindU.S6.Sons->data[I_138746]).Info, ((NU8) 167), ((NimStringDesc*) &TMP195991));
Result_138711 = ((NU8) 0);
goto BeforeRet;
LA16: ;
goto LA10;
LA11: ;
if (!((*(*N_138710).KindU.S6.Sons->data[I_138746]).Kind == ((NU8) 24))) goto LA19;
Globalerror_48139((*(*N_138710).KindU.S6.Sons->data[I_138746]).Info, ((NU8) 168), ((NimStringDesc*) &TMP195991));
Result_138711 = ((NU8) 0);
goto BeforeRet;
LA19: ;
LA10: ;
Res_146815 += 1;
} LA9: ;
LA1: ;
BeforeRet: ;
return Result_138711;
}
N_NIMCALL(TY55526*, Semtuplepositionsconstr_139196)(TY107012* C_139198, TY55526* N_139199) {
TY55526* Result_139200;
TY55552* Typ_139201;
NI I_139210;
NI HEX3Atmp_146819;
NI LOC1;
NI Res_146821;
Result_139200 = 0;
Result_139200 = N_139199;
Typ_139201 = 0;
Typ_139201 = Newtypes_107077(((NU8) 18), C_139198);
I_139210 = 0;
HEX3Atmp_146819 = 0;
LOC1 = Sonslen_55804(N_139199);
HEX3Atmp_146819 = (NI32)(LOC1 - 1);
Res_146821 = 0;
Res_146821 = 0;
while (1) {
if (!(Res_146821 <= HEX3Atmp_146819)) goto LA2;
I_139210 = Res_146821;
asgnRefNoCycle((void**) &(*N_139199).KindU.S6.Sons->data[I_139210], Semexprwithtype_126122(C_139198, (*N_139199).KindU.S6.Sons->data[I_139210], 0));
Addson_55828(Typ_139201, (*(*N_139199).KindU.S6.Sons->data[I_139210]).Typ);
Res_146821 += 1;
} LA2: ;
asgnRef((void**) &(*Result_139200).Typ, Typ_139201);
return Result_139200;
}
N_NIMCALL(TY55526*, Semtuplefieldsconstr_138858)(TY107012* C_138860, TY55526* N_138861) {
TY55526* Result_138862;
TY55895 Ids_138863;
TY55552* Typ_138864;
NI I_138874;
NI HEX3Atmp_146816;
NI LOC1;
NI Res_146818;
NIM_BOOL LOC4;
TY54011* Id_138944;
NIM_BOOL LOC12;
TY55548* F_139135;
TY55526* LOC15;
Result_138862 = 0;
memset((void*)&Ids_138863, 0, sizeof(Ids_138863));
Result_138862 = Newnodei_55738(((NU8) 30), (*N_138861).Info);
Typ_138864 = 0;
Typ_138864 = Newtypes_107077(((NU8) 18), C_138860);
asgnRefNoCycle((void**) &(*Typ_138864).N, Newnodei_55738(((NU8) 113), (*N_138861).Info));
Intsetinit_55919(&Ids_138863);
I_138874 = 0;
HEX3Atmp_146816 = 0;
LOC1 = Sonslen_55804(N_138861);
HEX3Atmp_146816 = (NI32)(LOC1 - 1);
Res_146818 = 0;
Res_146818 = 0;
while (1) {
if (!(Res_146818 <= HEX3Atmp_146816)) goto LA2;
I_138874 = Res_146818;
LOC4 = !(((*(*N_138861).KindU.S6.Sons->data[I_138874]).Kind == ((NU8) 24)));
if (LOC4) goto LA5;
LOC4 = !(((*(*(*N_138861).KindU.S6.Sons->data[I_138874]).KindU.S6.Sons->data[0]).Kind == ((NU8) 3) || (*(*(*N_138861).KindU.S6.Sons->data[I_138874]).KindU.S6.Sons->data[0]).Kind == ((NU8) 2)));
LA5: ;
if (!LOC4) goto LA6;
Illformedast_107403((*N_138861).KindU.S6.Sons->data[I_138874]);
LA6: ;
Id_138944 = 0;
if (!((*(*(*N_138861).KindU.S6.Sons->data[I_138874]).KindU.S6.Sons->data[0]).Kind == ((NU8) 2))) goto LA9;
Id_138944 = (*(*(*N_138861).KindU.S6.Sons->data[I_138874]).KindU.S6.Sons->data[0]).KindU.S5.Ident;
goto LA8;
LA9: ;
Id_138944 = (*(*(*(*N_138861).KindU.S6.Sons->data[I_138874]).KindU.S6.Sons->data[0]).KindU.S4.Sym).Name;
LA8: ;
LOC12 = Intsetcontainsorincl_55923(&Ids_138863, (*Id_138944).Sup.Id);
if (!LOC12) goto LA13;
Localerror_48144((*(*N_138861).KindU.S6.Sons->data[I_138874]).Info, ((NU8) 83), (*Id_138944).S);
LA13: ;
asgnRefNoCycle((void**) &(*(*N_138861).KindU.S6.Sons->data[I_138874]).KindU.S6.Sons->data[1], Semexprwithtype_126122(C_138860, (*(*N_138861).KindU.S6.Sons->data[I_138874]).KindU.S6.Sons->data[1], 0));
F_139135 = 0;
F_139135 = Newsyms_126059(((NU8) 16), (*(*N_138861).KindU.S6.Sons->data[I_138874]).KindU.S6.Sons->data[0], C_138860);
asgnRef((void**) &(*F_139135).Typ, (*(*(*N_138861).KindU.S6.Sons->data[I_138874]).KindU.S6.Sons->data[1]).Typ);
Addson_55828(Typ_138864, (*F_139135).Typ);
LOC15 = 0;
LOC15 = Newsymnode_55735(F_139135);
Addson_55824((*Typ_138864).N, LOC15);
asgnRefNoCycle((void**) &(*(*N_138861).KindU.S6.Sons->data[I_138874]).KindU.S6.Sons->data[0], Newsymnode_55735(F_139135));
Addson_55824(Result_138862, (*N_138861).KindU.S6.Sons->data[I_138874]);
Res_146818 += 1;
} LA2: ;
asgnRef((void**) &(*Result_138862).Typ, Typ_138864);
return Result_138862;
}
N_NIMCALL(TY55526*, Semsetconstr_138329)(TY107012* C_138331, TY55526* N_138332) {
TY55526* Result_138333;
NI LOC2;
TY55552* LOC5;
TY55552* Typ_138336;
NI I_138345;
NI HEX3Atmp_146807;
NI LOC6;
NI Res_146809;
NIM_BOOL LOC18;
NI64 LOC22;
NI I_138607;
NI HEX3Atmp_146810;
NI LOC25;
NI Res_146812;
TY55526* M_138608;
TY55526* LOC30;
TY55526* LOC31;
Result_138333 = 0;
Result_138333 = Newnodei_55738(((NU8) 31), (*N_138332).Info);
asgnRef((void**) &(*Result_138333).Typ, Newtypes_107077(((NU8) 19), C_138331));
LOC2 = Sonslen_55804(N_138332);
if (!(LOC2 == 0)) goto LA3;
LOC5 = 0;
LOC5 = Newtypes_107077(((NU8) 3), C_138331);
Addson_55828((*Result_138333).Typ, LOC5);
goto LA1;
LA3: ;
Typ_138336 = 0;
Typ_138336 = NIM_NIL;
I_138345 = 0;
HEX3Atmp_146807 = 0;
LOC6 = Sonslen_55804(N_138332);
HEX3Atmp_146807 = (NI32)(LOC6 - 1);
Res_146809 = 0;
Res_146809 = 0;
while (1) {
if (!(Res_146809 <= HEX3Atmp_146807)) goto LA7;
I_138345 = Res_146809;
if (!((*(*N_138332).KindU.S6.Sons->data[I_138345]).Kind == ((NU8) 35))) goto LA9;
Checksonslen_107407((*N_138332).KindU.S6.Sons->data[I_138345], 2);
asgnRefNoCycle((void**) &(*(*N_138332).KindU.S6.Sons->data[I_138345]).KindU.S6.Sons->data[0], Semexprwithtype_126122(C_138331, (*(*N_138332).KindU.S6.Sons->data[I_138345]).KindU.S6.Sons->data[0], 0));
asgnRefNoCycle((void**) &(*(*N_138332).KindU.S6.Sons->data[I_138345]).KindU.S6.Sons->data[1], Semexprwithtype_126122(C_138331, (*(*N_138332).KindU.S6.Sons->data[I_138345]).KindU.S6.Sons->data[1], 0));
if (!(Typ_138336 == NIM_NIL)) goto LA12;
Typ_138336 = Skiptypes_97087((*(*(*N_138332).KindU.S6.Sons->data[I_138345]).KindU.S6.Sons->data[0]).Typ, 8423424);
LA12: ;
asgnRef((void**) &(*(*N_138332).KindU.S6.Sons->data[I_138345]).Typ, (*(*(*N_138332).KindU.S6.Sons->data[I_138345]).KindU.S6.Sons->data[1]).Typ);
goto LA8;
LA9: ;
asgnRefNoCycle((void**) &(*N_138332).KindU.S6.Sons->data[I_138345], Semexprwithtype_126122(C_138331, (*N_138332).KindU.S6.Sons->data[I_138345], 0));
if (!(Typ_138336 == NIM_NIL)) goto LA15;
Typ_138336 = Skiptypes_97087((*(*N_138332).KindU.S6.Sons->data[I_138345]).Typ, 8423424);
LA15: ;
LA8: ;
Res_146809 += 1;
} LA7: ;
LOC18 = Isordinaltype_97069(Typ_138336);
if (!!(LOC18)) goto LA19;
Globalerror_48139((*N_138332).Info, ((NU8) 71), ((NimStringDesc*) &TMP195991));
goto BeforeRet;
LA19: ;
LOC22 = Lengthord_97007(Typ_138336);
if (!(65536 < LOC22)) goto LA23;
Typ_138336 = Makerangetype_107086(C_138331, 0, 65535, (*N_138332).Info);
LA23: ;
Addson_55828((*Result_138333).Typ, Typ_138336);
I_138607 = 0;
HEX3Atmp_146810 = 0;
LOC25 = Sonslen_55804(N_138332);
HEX3Atmp_146810 = (NI32)(LOC25 - 1);
Res_146812 = 0;
Res_146812 = 0;
while (1) {
if (!(Res_146812 <= HEX3Atmp_146810)) goto LA26;
I_138607 = Res_146812;
M_138608 = 0;
if (!((*(*N_138332).KindU.S6.Sons->data[I_138607]).Kind == ((NU8) 35))) goto LA28;
M_138608 = Newnodei_55738(((NU8) 35), (*(*N_138332).KindU.S6.Sons->data[I_138607]).Info);
LOC30 = 0;
LOC30 = Fitnode_126129(C_138331, Typ_138336, (*(*N_138332).KindU.S6.Sons->data[I_138607]).KindU.S6.Sons->data[0]);
Addson_55824(M_138608, LOC30);
LOC31 = 0;
LOC31 = Fitnode_126129(C_138331, Typ_138336, (*(*N_138332).KindU.S6.Sons->data[I_138607]).KindU.S6.Sons->data[1]);
Addson_55824(M_138608, LOC31);
goto LA27;
LA28: ;
M_138608 = Fitnode_126129(C_138331, Typ_138336, (*N_138332).KindU.S6.Sons->data[I_138607]);
LA27: ;
Addson_55824(Result_138333, M_138608);
Res_146812 += 1;
} LA26: ;
LA1: ;
BeforeRet: ;
return Result_138333;
}
N_NIMCALL(TY55526*, Semlambda_126134)(TY107012* C_126136, TY55526* N_126137) {
TY55526* Result_145315;
TY55548* S_145316;
TY54011* LOC1;
TY55548* LOC2;
TY107006* Oldp_145317;
Result_145315 = 0;
Result_145315 = N_126137;
Checksonslen_107407(N_126137, 5);
S_145316 = 0;
LOC1 = 0;
LOC1 = Getident_54016(((NimStringDesc*) &TMP196210));
LOC2 = 0;
LOC2 = Getcurrowner_107092();
S_145316 = Newsym_55702(((NU8) 10), LOC1, LOC2);
(*S_145316).Info = (*N_126137).Info;
Oldp_145317 = 0;
Oldp_145317 = (*C_126136).P;
asgnRefNoCycle((void**) &(*S_145316).Ast, N_126137);
asgnRefNoCycle((void**) &(*N_126137).KindU.S6.Sons->data[0], Newsymnode_55735(S_145316));
Pushowner_107094(S_145316);
Openscope_60141(&(*C_126136).Tab);
if (!!(((*(*N_126137).KindU.S6.Sons->data[1]).Kind == ((NU8) 1)))) goto LA4;
Illformedast_107403(N_126137);
LA4: ;
if (!!(((*(*N_126137).KindU.S6.Sons->data[2]).Kind == ((NU8) 1)))) goto LA7;
Semparamlist_126147(C_126136, (*N_126137).KindU.S6.Sons->data[2], NIM_NIL, S_145316);
Addparams_126153(C_126136, (*(*S_145316).Typ).N);
goto LA6;
LA7: ;
asgnRef((void**) &(*S_145316).Typ, Newtypes_107077(((NU8) 25), C_126136));
Addson_55828((*S_145316).Typ, NIM_NIL);
LA6: ;
(*(*S_145316).Typ).Callconv = ((NU8) 8);
if (!!(((*(*N_126137).KindU.S6.Sons->data[3]).Kind == ((NU8) 1)))) goto LA10;
Pragma_122028(C_126136, S_145316, (*N_126137).KindU.S6.Sons->data[3], TMP196211);
LA10: ;
(*S_145316).Options = Goptions_46077;
if (!!(((*(*N_126137).KindU.S6.Sons->data[4]).Kind == ((NU8) 1)))) goto LA13;
if (!(((*S_145316).Flags &(1<<((((NU8) 7))&31)))!=0)) goto LA16;
Localerror_48144((*(*N_126137).KindU.S6.Sons->data[4]).Info, ((NU8) 133), (*(*S_145316).Name).S);
LA16: ;
asgnRefNoCycle((void**) &(*C_126136).P, Newproccon_107050(S_145316));
Addresult_126157(C_126136, (*(*S_145316).Typ).Sons->data[0], (*N_126137).Info);
asgnRefNoCycle((void**) &(*N_126137).KindU.S6.Sons->data[4], Semstmtscope_126104(C_126136, (*N_126137).KindU.S6.Sons->data[4]));
Addresultnode_126162(C_126136, N_126137);
goto LA12;
LA13: ;
Localerror_48144((*N_126137).Info, ((NU8) 134), (*(*S_145316).Name).S);
LA12: ;
Closescope_108018(&(*C_126136).Tab);
Popowner_107097();
asgnRefNoCycle((void**) &(*C_126136).P, Oldp_145317);
asgnRef((void**) &(*Result_145315).Typ, (*S_145316).Typ);
return Result_145315;
}
N_NIMCALL(NIM_BOOL, Iscastable_134224)(TY55552* Dst_134226, TY55552* Src_134227) {
NIM_BOOL Result_134228;
NI64 Ds_134229;
NI64 Ss_134230;
NIM_BOOL LOC6;
NIM_BOOL LOC7;
TY55552* LOC9;
TY55552* LOC11;
Result_134228 = 0;
Ds_134229 = 0;
Ss_134230 = 0;
Ds_134229 = Computesize_97112(Dst_134226);
Ss_134230 = Computesize_97112(Src_134227);
if (!(Ds_134229 < 0)) goto LA2;
Result_134228 = NIM_FALSE;
goto LA1;
LA2: ;
if (!(Ss_134230 < 0)) goto LA4;
Result_134228 = NIM_FALSE;
goto LA1;
LA4: ;
LOC7 = (Ss_134230 <= Ds_134229);
if (LOC7) goto LA8;
LOC9 = 0;
LOC9 = Skiptypes_97087(Dst_134226, 43008);
LOC7 = ((*LOC9).Kind >= ((NU8) 31) && (*LOC9).Kind <= ((NU8) 39));
LA8: ;
LOC6 = LOC7;
if (LOC6) goto LA10;
LOC11 = 0;
LOC11 = Skiptypes_97087(Src_134227, 43008);
LOC6 = ((*LOC11).Kind >= ((NU8) 31) && (*LOC11).Kind <= ((NU8) 39));
LA10: ;
Result_134228 = LOC6;
LA1: ;
return Result_134228;
}
N_NIMCALL(TY55526*, Semcast_134412)(TY107012* C_134414, TY55526* N_134415) {
TY55526* Result_134416;
TY55526* LOC4;
TY55526* LOC5;
NIM_BOOL LOC7;
NimStringDesc* LOC10;
Result_134416 = 0;
if (!((Gglobaloptions_46079 &(1<<((((NU8) 8))&31)))!=0)) goto LA2;
Localerror_48144((*N_134415).Info, ((NU8) 88), ((NimStringDesc*) &TMP195991));
LA2: ;
(*(*(*C_134414).P).Owner).Flags |=(1<<((NI32)(((NU8) 14))%(sizeof(NI32)*8)));
Checksonslen_107407(N_134415, 2);
Result_134416 = Newnodei_55738(((NU8) 51), (*N_134415).Info);
asgnRef((void**) &(*Result_134416).Typ, Semtypenode_126138(C_134414, (*N_134415).KindU.S6.Sons->data[0], NIM_NIL));
LOC4 = 0;
LOC4 = Copytree_55852((*N_134415).KindU.S6.Sons->data[0]);
Addson_55824(Result_134416, LOC4);
LOC5 = 0;
LOC5 = Semexprwithtype_126122(C_134414, (*N_134415).KindU.S6.Sons->data[1], 0);
Addson_55824(Result_134416, LOC5);
LOC7 = Iscastable_134224((*Result_134416).Typ, (*(*Result_134416).KindU.S6.Sons->data[1]).Typ);
if (!!(LOC7)) goto LA8;
LOC10 = 0;
LOC10 = Typetostring_97014((*Result_134416).Typ, ((NU8) 0));
Globalerror_48139((*Result_134416).Info, ((NU8) 89), LOC10);
LA8: ;
return Result_134416;
}
N_NIMCALL(TY55526*, Semifexpr_138135)(TY107012* C_138137, TY55526* N_138138) {
TY55526* Result_138139;
TY55552* Typ_138140;
NI I_138149;
NI HEX3Atmp_146804;
NI LOC1;
NI Res_146806;
TY55526* It_138162;
Result_138139 = 0;
Result_138139 = N_138138;
Checkminsonslen_107413(N_138138, 2);
Typ_138140 = 0;
Typ_138140 = NIM_NIL;
I_138149 = 0;
HEX3Atmp_146804 = 0;
LOC1 = Sonslen_55804(N_138138);
HEX3Atmp_146804 = (NI32)(LOC1 - 1);
Res_146806 = 0;
Res_146806 = 0;
while (1) {
if (!(Res_146806 <= HEX3Atmp_146804)) goto LA2;
I_138149 = Res_146806;
It_138162 = 0;
It_138162 = (*N_138138).KindU.S6.Sons->data[I_138149];
switch ((*It_138162).Kind) {
case ((NU8) 40):
Checksonslen_107407(It_138162, 2);
asgnRefNoCycle((void**) &(*It_138162).KindU.S6.Sons->data[0], Semexprwithtype_126122(C_138137, (*It_138162).KindU.S6.Sons->data[0], 0));
Checkbool_130826((*It_138162).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*It_138162).KindU.S6.Sons->data[1], Semexprwithtype_126122(C_138137, (*It_138162).KindU.S6.Sons->data[1], 0));
if (!(Typ_138140 == NIM_NIL)) goto LA4;
Typ_138140 = (*(*It_138162).KindU.S6.Sons->data[1]).Typ;
goto LA3;
LA4: ;
asgnRefNoCycle((void**) &(*It_138162).KindU.S6.Sons->data[1], Fitnode_126129(C_138137, Typ_138140, (*It_138162).KindU.S6.Sons->data[1]));
LA3: ;
break;
case ((NU8) 41):
Checksonslen_107407(It_138162, 1);
asgnRefNoCycle((void**) &(*It_138162).KindU.S6.Sons->data[0], Semexprwithtype_126122(C_138137, (*It_138162).KindU.S6.Sons->data[0], 0));
if (!(Typ_138140 == NIM_NIL)) goto LA7;
Internalerror_48159((*It_138162).Info, ((NimStringDesc*) &TMP196213));
LA7: ;
asgnRefNoCycle((void**) &(*It_138162).KindU.S6.Sons->data[0], Fitnode_126129(C_138137, Typ_138140, (*It_138162).KindU.S6.Sons->data[0]));
break;
default:
Illformedast_107403(N_138138);
break;
}
Res_146806 += 1;
} LA2: ;
asgnRef((void**) &(*Result_138139).Typ, Typ_138140);
return Result_138139;
}
N_NIMCALL(TY55526*, Semstmtlistexpr_139247)(TY107012* C_139249, TY55526* N_139250) {
TY55526* Result_139251;
NI Length_139252;
NI I_139261;
NI HEX3Atmp_146822;
NI Res_146824;
Result_139251 = 0;
Result_139251 = N_139250;
Checkminsonslen_107413(N_139250, 1);
Length_139252 = 0;
Length_139252 = Sonslen_55804(N_139250);
I_139261 = 0;
HEX3Atmp_146822 = 0;
HEX3Atmp_146822 = (NI32)(Length_139252 - 2);
Res_146824 = 0;
Res_146824 = 0;
while (1) {
if (!(Res_146824 <= HEX3Atmp_146822)) goto LA1;
I_139261 = Res_146824;
asgnRefNoCycle((void**) &(*N_139250).KindU.S6.Sons->data[I_139261], Semstmt_126143(C_139249, (*N_139250).KindU.S6.Sons->data[I_139261]));
Res_146824 += 1;
} LA1: ;
if (!(0 < Length_139252)) goto LA3;
asgnRefNoCycle((void**) &(*N_139250).KindU.S6.Sons->data[(NI32)(Length_139252 - 1)], Semexprwithtype_126122(C_139249, (*N_139250).KindU.S6.Sons->data[(NI32)(Length_139252 - 1)], 0));
asgnRef((void**) &(*N_139250).Typ, (*(*N_139250).KindU.S6.Sons->data[(NI32)(Length_139252 - 1)]).Typ);
LA3: ;
return Result_139251;
}
N_NIMCALL(TY55526*, Semblockexpr_139326)(TY107012* C_139328, TY55526* N_139329) {
TY55526* Result_139330;
TY55548* LOC4;
Result_139330 = 0;
Result_139330 = N_139329;
(*(*C_139328).P).Nestedblockcounter += 1;
Checksonslen_107407(N_139329, 2);
Openscope_60141(&(*C_139328).Tab);
if (!!(((*(*N_139329).KindU.S6.Sons->data[0]).Kind == ((NU8) 1)))) goto LA2;
LOC4 = 0;
LOC4 = Newsyms_126059(((NU8) 19), (*N_139329).KindU.S6.Sons->data[0], C_139328);
Adddecl_108114(C_139328, LOC4);
LA2: ;
asgnRefNoCycle((void**) &(*N_139329).KindU.S6.Sons->data[1], Semstmtlistexpr_139247(C_139328, (*N_139329).KindU.S6.Sons->data[1]));
asgnRef((void**) &(*N_139329).Typ, (*(*N_139329).KindU.S6.Sons->data[1]).Typ);
Closescope_108018(&(*C_139328).Tab);
(*(*C_139328).P).Nestedblockcounter -= 1;
return Result_139330;
}
N_NIMCALL(TY55526*, Semexpr_126115)(TY107012* C_126117, TY55526* N_126118, NU8 Flags_126121) {
TY55526* Result_139596;
TY55548* S_139617;
TY55548* S_139785;
TY55548* S_139849;
NIM_BOOL LOC55;
NU8 LOC59;
TY55552* T_139922;
NU8 LOC61;
NimStringDesc* LOC64;
NimStringDesc* LOC65;
Result_139596 = 0;
Result_139596 = N_126118;
if (!(Gcmd_46084 == ((NU8) 14))) goto LA2;
Suggestexpr_125068(C_126117, N_126118);
LA2: ;
if (!(((*N_126118).Flags &(1<<((((NU8) 6))&7)))!=0)) goto LA5;
goto BeforeRet;
LA5: ;
switch ((*N_126118).Kind) {
case ((NU8) 2):
S_139617 = 0;
S_139617 = Lookup_108245(C_126117, N_126118);
Result_139596 = Semsym_134006(C_126117, N_126118, S_139617, Flags_126121);
break;
case ((NU8) 3):
Result_139596 = Semsym_134006(C_126117, N_126118, (*N_126118).KindU.S4.Sym, Flags_126121);
break;
case ((NU8) 1):
case ((NU8) 0):
break;
case ((NU8) 18):
asgnRef((void**) &(*Result_139596).Typ, Getsystype_102008(((NU8) 5)));
break;
case ((NU8) 4):
if (!!(((Flags_126121 &(1<<((((NU8) 0))&7)))!=0))) goto LA8;
Globalerror_48139((*N_126118).Info, ((NU8) 161), ((NimStringDesc*) &TMP195991));
LA8: ;
asgnRef((void**) &(*N_126118).Typ, Semtypenode_126138(C_126117, N_126118, NIM_NIL));
break;
case ((NU8) 6):
if (!((*Result_139596).Typ == NIM_NIL)) goto LA11;
asgnRef((void**) &(*Result_139596).Typ, Getsystype_102008(((NU8) 31)));
LA11: ;
break;
case ((NU8) 7):
if (!((*Result_139596).Typ == NIM_NIL)) goto LA14;
asgnRef((void**) &(*Result_139596).Typ, Getsystype_102008(((NU8) 32)));
LA14: ;
break;
case ((NU8) 8):
if (!((*Result_139596).Typ == NIM_NIL)) goto LA17;
asgnRef((void**) &(*Result_139596).Typ, Getsystype_102008(((NU8) 33)));
LA17: ;
break;
case ((NU8) 9):
if (!((*Result_139596).Typ == NIM_NIL)) goto LA20;
asgnRef((void**) &(*Result_139596).Typ, Getsystype_102008(((NU8) 34)));
LA20: ;
break;
case ((NU8) 10):
if (!((*Result_139596).Typ == NIM_NIL)) goto LA23;
asgnRef((void**) &(*Result_139596).Typ, Getsystype_102008(((NU8) 35)));
LA23: ;
break;
case ((NU8) 11):
if (!((*Result_139596).Typ == NIM_NIL)) goto LA26;
asgnRef((void**) &(*Result_139596).Typ, Getsystype_102008(((NU8) 36)));
LA26: ;
break;
case ((NU8) 12):
if (!((*Result_139596).Typ == NIM_NIL)) goto LA29;
asgnRef((void**) &(*Result_139596).Typ, Getsystype_102008(((NU8) 37)));
LA29: ;
break;
case ((NU8) 13):
if (!((*Result_139596).Typ == NIM_NIL)) goto LA32;
asgnRef((void**) &(*Result_139596).Typ, Getsystype_102008(((NU8) 38)));
LA32: ;
break;
case ((NU8) 14) ... ((NU8) 16):
if (!((*Result_139596).Typ == NIM_NIL)) goto LA35;
asgnRef((void**) &(*Result_139596).Typ, Getsystype_102008(((NU8) 28)));
LA35: ;
break;
case ((NU8) 5):
if (!((*Result_139596).Typ == NIM_NIL)) goto LA38;
asgnRef((void**) &(*Result_139596).Typ, Getsystype_102008(((NU8) 2)));
LA38: ;
break;
case ((NU8) 36):
Result_139596 = Semfieldaccess_133960(C_126117, N_126118, Flags_126121);
if (!((*Result_139596).Kind == ((NU8) 19))) goto LA41;
(*Result_139596).Kind = ((NU8) 21);
Result_139596 = Semexpr_126115(C_126117, Result_139596, Flags_126121);
LA41: ;
break;
case ((NU8) 45):
Result_139596 = Semexpr_126115(C_126117, (*N_126118).KindU.S6.Sons->data[0], Flags_126121);
break;
case ((NU8) 21):
case ((NU8) 27):
case ((NU8) 28):
case ((NU8) 29):
case ((NU8) 20):
case ((NU8) 22):
Checkminsonslen_107413(N_126118, 1);
S_139785 = 0;
S_139785 = Qualifiedlookup_108322(C_126117, (*N_126118).KindU.S6.Sons->data[0], 2);
if (!!((S_139785 == NIM_NIL))) goto LA44;
switch ((*S_139785).Kind) {
case ((NU8) 14):
Result_139596 = Semmacroexpr_127038(C_126117, N_126118, S_139785, NIM_TRUE);
break;
case ((NU8) 15):
Result_139596 = Semtemplateexpr_133953(C_126117, N_126118, S_139785, NIM_TRUE);
break;
case ((NU8) 7):
if (!!(((*N_126118).Kind == ((NU8) 21)))) goto LA47;
Globalerror_48139((*N_126118).Info, ((NU8) 150), (*(*S_139785).Name).S);
LA47: ;
Result_139596 = Semconv_134265(C_126117, N_126118, S_139785);
break;
case ((NU8) 10):
case ((NU8) 11):
case ((NU8) 13):
case ((NU8) 12):
if (!((*S_139785).Magic == ((NU8) 0))) goto LA50;
Result_139596 = Semdirectop_136625(C_126117, N_126118, Flags_126121);
goto LA49;
LA50: ;
Result_139596 = Semmagic_136986(C_126117, N_126118, S_139785, Flags_126121);
LA49: ;
break;
default:
Result_139596 = Semindirectop_136307(C_126117, N_126118, Flags_126121);
break;
}
goto LA43;
LA44: ;
if (!((*(*N_126118).KindU.S6.Sons->data[0]).Kind == ((NU8) 46))) goto LA52;
Result_139596 = Semdirectop_136625(C_126117, N_126118, Flags_126121);
goto LA43;
LA52: ;
Result_139596 = Semindirectop_136307(C_126117, N_126118, Flags_126121);
LA43: ;
break;
case ((NU8) 79):
Result_139596 = Semmacrostmt_139442(C_126117, N_126118, NIM_TRUE);
break;
case ((NU8) 33):
Checkminsonslen_107413(N_126118, 1);
S_139849 = 0;
S_139849 = Qualifiedlookup_108322(C_126117, (*N_126118).KindU.S6.Sons->data[0], 2);
LOC55 = !((S_139849 == NIM_NIL));
if (!(LOC55)) goto LA56;
LOC55 = ((15360 &(1<<(((*S_139849).Kind)&31)))!=0);
LA56: ;
if (!LOC55) goto LA57;
Result_139596 = Explictgenericinstantiation_130696(C_126117, N_126118, S_139849);
goto LA54;
LA57: ;
Result_139596 = Semarrayaccess_138118(C_126117, N_126118, Flags_126121);
LA54: ;
break;
case ((NU8) 34):
Internalerror_48159((*N_126118).Info, ((NimStringDesc*) &TMP196209));
break;
case ((NU8) 30):
LOC59 = Checkpar_138708(N_126118);
switch (LOC59) {
case ((NU8) 0):
Result_139596 = NIM_NIL;
break;
case ((NU8) 3):
Result_139596 = Semtuplepositionsconstr_139196(C_126117, N_126118);
break;
case ((NU8) 2):
Result_139596 = Semtuplefieldsconstr_138858(C_126117, N_126118);
break;
case ((NU8) 1):
Result_139596 = Semexpr_126115(C_126117, (*N_126118).KindU.S6.Sons->data[0], 0);
break;
}
break;
case ((NU8) 31):
Result_139596 = Semsetconstr_138329(C_126117, N_126118);
break;
case ((NU8) 32):
Result_139596 = Semarrayconstr_135122(C_126117, N_126118);
break;
case ((NU8) 42):
Result_139596 = Semlambda_126134(C_126117, N_126118);
break;
case ((NU8) 38):
Checksonslen_107407(N_126118, 1);
asgnRefNoCycle((void**) &(*N_126118).KindU.S6.Sons->data[0], Semexprwithtype_126122(C_126117, (*N_126118).KindU.S6.Sons->data[0], 0));
Result_139596 = N_126118;
T_139922 = 0;
T_139922 = Skiptypes_97087((*(*N_126118).KindU.S6.Sons->data[0]).Typ, 8390656);
switch ((*T_139922).Kind) {
case ((NU8) 22):
case ((NU8) 21):
asgnRef((void**) &(*N_126118).Typ, (*T_139922).Sons->data[0]);
break;
default:
Globalerror_48139((*(*N_126118).KindU.S6.Sons->data[0]).Info, ((NU8) 163), ((NimStringDesc*) &TMP195991));
break;
}
Result_139596 = N_126118;
break;
case ((NU8) 52):
Result_139596 = N_126118;
Checksonslen_107407(N_126118, 1);
asgnRefNoCycle((void**) &(*N_126118).KindU.S6.Sons->data[0], Semexprwithtype_126122(C_126117, (*N_126118).KindU.S6.Sons->data[0], 0));
LOC61 = Isassignable_135553((*N_126118).KindU.S6.Sons->data[0]);
if (!!((LOC61 == ((NU8) 1)))) goto LA62;
Globalerror_48139((*N_126118).Info, ((NU8) 122), ((NimStringDesc*) &TMP195991));
LA62: ;
asgnRef((void**) &(*N_126118).Typ, Makeptrtype_107069(C_126117, (*(*N_126118).KindU.S6.Sons->data[0]).Typ));
break;
case ((NU8) 53):
case ((NU8) 54):
Checksonslen_107407(N_126118, 1);
asgnRefNoCycle((void**) &(*N_126118).KindU.S6.Sons->data[0], Semexpr_126115(C_126117, (*N_126118).KindU.S6.Sons->data[0], Flags_126121));
break;
case ((NU8) 51):
Result_139596 = Semcast_134412(C_126117, N_126118);
break;
case ((NU8) 43):
Checksonslen_107407(N_126118, 1);
Result_139596 = Semexpr_126115(C_126117, (*N_126118).KindU.S6.Sons->data[0], 0);
break;
case ((NU8) 39):
Result_139596 = Semifexpr_138135(C_126117, N_126118);
break;
case ((NU8) 106):
Result_139596 = Semstmtlistexpr_139247(C_126117, N_126118);
break;
case ((NU8) 107):
Result_139596 = Semblockexpr_139326(C_126117, N_126118);
break;
case ((NU8) 47):
case ((NU8) 48):
case ((NU8) 50):
case ((NU8) 49):
Checksonslen_107407(N_126118, 2);
break;
case ((NU8) 60):
case ((NU8) 61):
case ((NU8) 62):
case ((NU8) 55):
case ((NU8) 56):
Checksonslen_107407(N_126118, 1);
break;
case ((NU8) 57):
case ((NU8) 58):
case ((NU8) 59):
Checksonslen_107407(N_126118, 3);
break;
case ((NU8) 37):
Checkminsonslen_107413(N_126118, 2);
break;
case ((NU8) 46):
LOC64 = 0;
LOC64 = Rendertree_85042(N_126118, 4);
Globalerror_48139((*N_126118).Info, ((NU8) 69), LOC64);
break;
default:
LOC65 = 0;
LOC65 = Rendertree_85042(N_126118, 4);
Globalerror_48139((*N_126118).Info, ((NU8) 165), LOC65);
break;
}
(*Result_139596).Flags |=(1<<((NI8)(((NU8) 6))%(sizeof(NI8)*8)));
BeforeRet: ;
return Result_139596;
}
N_NIMCALL(TY55526*, Semexprwithtype_126122)(TY107012* C_126124, TY55526* N_126125, NU8 Flags_126128) {
TY55526* Result_133974;
TY55526* D_134004;
NimStringDesc* LOC10;
Result_133974 = 0;
Result_133974 = Semexpr_126115(C_126124, N_126125, Flags_126128);
if (!((*Result_133974).Kind == ((NU8) 1))) goto LA2;
Raiserecoverableerror_47544();
LA2: ;
if (!!(((*Result_133974).Typ == NIM_NIL))) goto LA5;
if (!((*(*Result_133974).Typ).Kind == ((NU8) 23))) goto LA8;
D_134004 = 0;
D_134004 = Newnodeit_55742(((NU8) 54), (*Result_133974).Info, (*(*Result_133974).Typ).Sons->data[0]);
Addson_55824(D_134004, Result_133974);
Result_133974 = D_134004;
LA8: ;
goto LA4;
LA5: ;
LOC10 = 0;
LOC10 = Rendertree_85042(Result_133974, 4);
Globalerror_48139((*N_126125).Info, ((NU8) 87), LOC10);
LA4: ;
return Result_133974;
}
N_NIMCALL(TY55526*, Semconstexpr_126171)(TY107012* C_126173, TY55526* N_126174) {
TY55526* Result_126175;
Result_126175 = 0;
Result_126175 = Semexprwithtype_126122(C_126173, N_126174, 0);
if (!(Result_126175 == NIM_NIL)) goto LA2;
Globalerror_48139((*N_126174).Info, ((NU8) 101), ((NimStringDesc*) &TMP195991));
goto BeforeRet;
LA2: ;
Result_126175 = Getconstexpr_113010((*C_126173).Module, Result_126175);
if (!(Result_126175 == NIM_NIL)) goto LA5;
Globalerror_48139((*N_126174).Info, ((NU8) 101), ((NimStringDesc*) &TMP195991));
LA5: ;
BeforeRet: ;
return Result_126175;
}
N_NIMCALL(TY55526*, Semexprnoflags_147077)(TY107012* C_147079, TY55526* N_147080) {
TY55526* Result_147081;
Result_147081 = 0;
Result_147081 = Semexpr_126115(C_147079, N_147080, 0);
return Result_147081;
}
N_NIMCALL(TY105002*, Myopen_147084)(TY55548* Module_147086, NimStringDesc* Filename_147087) {
TY105002* Result_147088;
TY107012* C_147089;
Result_147088 = 0;
C_147089 = 0;
C_147089 = Newcontext_107046(Module_147086, Filename_147087);
if (!!(((*C_147089).P == NIM_NIL))) goto LA2;
Internalerror_48159((*Module_147086).Info, ((NimStringDesc*) &TMP195930));
LA2: ;
(*C_147089).Semconstexpr = Semconstexpr_126171;
(*C_147089).Semexpr = Semexprnoflags_147077;
asgnRefNoCycle((void**) &(*C_147089).P, Newproccon_107050(Module_147086));
Pushowner_107094((*C_147089).Module);
Openscope_60141(&(*C_147089).Tab);
Symtabadd_60119(&(*C_147089).Tab, Module_147086);
if (!(((*Module_147086).Flags &(1<<((((NU8) 16))&31)))!=0)) goto LA5;
asgnRef((void**) &Systemmodule_102004, Module_147086);
Initsystem_102017(&(*C_147089).Tab);
goto LA4;
LA5: ;
Symtabadd_60119(&(*C_147089).Tab, Systemmodule_102004);
Importallsymbols_110009(C_147089, Systemmodule_102004);
LA4: ;
Openscope_60141(&(*C_147089).Tab);
Result_147088 = &C_147089->Sup;
return Result_147088;
}
N_NIMCALL(TY105002*, Myopencached_147117)(TY55548* Module_147119, NimStringDesc* Filename_147120, TY93031* Rd_147121) {
TY105002* Result_147122;
TY107012* C_147123;
TY105002* LOC1;
Result_147122 = 0;
C_147123 = 0;
LOC1 = 0;
LOC1 = Myopen_147084(Module_147119, Filename_147120);
C_147123 = ((TY107012*) (LOC1));
(*C_147123).Fromcache = NIM_TRUE;
Result_147122 = &C_147123->Sup;
return Result_147122;
}
N_NIMCALL(void, Addcodeforgenerics_146958)(TY107012* C_146960, TY55526* N_146961) {
NI I_146970;
NI HEX3Atmp_147073;
NI HEX3Atmp_147074;
NI LOC1;
NI Res_147076;
TY55526* It_146995;
TY55548* Prc_147017;
NIM_BOOL LOC7;
NIM_BOOL LOC12;
NimStringDesc* LOC16;
I_146970 = 0;
HEX3Atmp_147073 = 0;
HEX3Atmp_147074 = 0;
HEX3Atmp_147073 = (*C_146960).Lastgenericidx;
LOC1 = Sonslen_55804((*C_146960).Generics);
HEX3Atmp_147074 = (NI32)(LOC1 - 1);
Res_147076 = 0;
Res_147076 = HEX3Atmp_147073;
while (1) {
if (!(Res_147076 <= HEX3Atmp_147074)) goto LA2;
I_146970 = Res_147076;
It_146995 = 0;
It_146995 = (*(*(*C_146960).Generics).KindU.S6.Sons->data[I_146970]).KindU.S6.Sons->data[1];
if (!!(((*It_146995).Kind == ((NU8) 3)))) goto LA4;
Internalerror_48163(((NimStringDesc*) &TMP196215));
LA4: ;
Prc_147017 = 0;
Prc_147017 = (*It_146995).KindU.S4.Sym;
LOC7 = ((11264 &(1<<(((*Prc_147017).Kind)&31)))!=0);
if (!(LOC7)) goto LA8;
LOC7 = ((*Prc_147017).Magic == ((NU8) 0));
LA8: ;
if (!LOC7) goto LA9;
LOC12 = ((*Prc_147017).Ast == NIM_NIL);
if (LOC12) goto LA13;
LOC12 = ((*(*Prc_147017).Ast).KindU.S6.Sons->data[4] == NIM_NIL);
LA13: ;
if (!LOC12) goto LA14;
LOC16 = 0;
LOC16 = rawNewString((*(*Prc_147017).Name).S->Sup.len + 12);
appendString(LOC16, ((NimStringDesc*) &TMP196216));
appendString(LOC16, (*(*Prc_147017).Name).S);
Internalerror_48159((*Prc_147017).Info, LOC16);
LA14: ;
Addson_55824(N_146961, (*Prc_147017).Ast);
LA9: ;
Res_147076 += 1;
} LA2: ;
(*C_146960).Lastgenericidx = Sonslen_55804((*C_146960).Generics);
}
N_NIMCALL(TY55526*, Myclose_147155)(TY105002* Context_147157, TY55526* N_147158) {
TY55526* Result_147159;
TY107012* C_147160;
Result_147159 = 0;
C_147160 = 0;
C_147160 = ((TY107012*) (Context_147157));
Closescope_108018(&(*C_147160).Tab);
Rawclosescope_60145(&(*C_147160).Tab);
if (!(N_147158 == NIM_NIL)) goto LA2;
Result_147159 = Newnode_55711(((NU8) 101));
goto LA1;
LA2: ;
Internalerror_48159((*N_147158).Info, ((NimStringDesc*) &TMP196214));
LA1: ;
Addcodeforgenerics_146958(C_147160, Result_147159);
Popowner_107097();
asgnRefNoCycle((void**) &(*C_147160).P, NIM_NIL);
return Result_147159;
}
N_NIMCALL(TY55526*, Semstmtandgenerategenerics_147124)(TY107012* C_147126, TY55526* N_147127) {
TY55526* Result_147128;
NI LOC2;
TY55526* A_147133;
NI LOC6;
Result_147128 = 0;
Result_147128 = Semstmt_126143(C_147126, N_147127);
LOC2 = Sonslen_55804((*C_147126).Generics);
if (!(0 < LOC2)) goto LA3;
A_147133 = 0;
A_147133 = Newnodei_55738(((NU8) 101), (*N_147127).Info);
Addcodeforgenerics_146958(C_147126, A_147133);
LOC6 = Sonslen_55804(A_147133);
if (!(0 < LOC6)) goto LA7;
if (!!(((*Result_147128).Kind == ((NU8) 1)))) goto LA10;
Addson_55824(A_147133, Result_147128);
LA10: ;
Result_147128 = A_147133;
LA7: ;
LA3: ;
return Result_147128;
}
static N_INLINE(void, pushSafePoint)(TSafePoint* S_5035) {
(*S_5035).prev = excHandler;
excHandler = S_5035;
}
static N_INLINE(void, popSafePoint)(void) {
excHandler = (*excHandler).prev;
}
static N_INLINE(E_Base*, getCurrentException)(void) {
E_Base* Result_20404;
Result_20404 = 0;
Result_20404 = Currexception_5032;
return Result_20404;
}
static N_INLINE(void, popCurrentException)(void) {
asgnRef((void**) &Currexception_5032, (*Currexception_5032).parent);
}
N_NIMCALL(TY55526*, Myprocess_147147)(TY105002* Context_147149, TY55526* N_147150) {
TY55526* Result_147151;
TY107012* C_147152;
TSafePoint TMP196217;
Result_147151 = 0;
C_147152 = 0;
C_147152 = ((TY107012*) (Context_147149));
if (!(Gerrormax_47568 <= 1)) goto LA2;
Result_147151 = Semstmtandgenerategenerics_147124(C_147152, N_147150);
goto LA1;
LA2: ;
pushSafePoint(&TMP196217);
TMP196217.status = setjmp(TMP196217.context);
if (TMP196217.status == 0) {
Result_147151 = Semstmtandgenerategenerics_147124(C_147152, N_147150);
popSafePoint();
} else {
popSafePoint();
if (getCurrentException()->Sup.m_type == NTI47540) {
Result_147151 = Emptynode_55858;
TMP196217.status = 0;popCurrentException();}
}
if (TMP196217.status != 0) reraiseException();
LA1: ;
return Result_147151;
}
N_NIMCALL(TY105006, Sempass_126001)(void) {
TY105006 Result_147176;
memset((void*)&Result_147176, 0, sizeof(Result_147176));
Initpass_105031(&Result_147176);
Result_147176.Open = Myopen_147084;
Result_147176.Opencached = Myopencached_147117;
Result_147176.Close = Myclose_147155;
Result_147176.Process = Myprocess_147147;
return Result_147176;
}
N_NOINLINE(void, semInit)(void) {
Evaltemplatecounter_126393 = 0;
}

