/* Generated by Nimrod Compiler v0.8.10 */
/*   (c) 2010 Andreas Rumpf */

typedef long int NI;
typedef unsigned long int NU;
#include "nimbase.h"

typedef struct TY79135 TY79135;
typedef struct TGenericSeq TGenericSeq;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct TY10802 TY10802;
typedef struct TY10818 TY10818;
typedef struct TY11190 TY11190;
typedef struct TY10814 TY10814;
typedef struct TY10810 TY10810;
typedef struct TY11188 TY11188;
typedef struct NimStringDesc NimStringDesc;
typedef struct TY76267 TY76267;
typedef struct TY75015 TY75015;
typedef struct TNimObject TNimObject;
typedef struct TY74013 TY74013;
typedef struct TY76281 TY76281;
typedef struct TY76263 TY76263;
typedef struct TY54011 TY54011;
typedef struct TY54005 TY54005;
typedef struct TY47532 TY47532;
struct TGenericSeq {
NI len;
NI space;
};
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct TY10802 {
NI Refcount;
TNimType* Typ;
};
struct TY10818 {
NI Len;
NI Cap;
TY10802** D;
};
struct TY10814 {
NI Counter;
NI Max;
TY10810* Head;
TY10810** Data;
};
struct TY11188 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY11190 {
TY10818 Zct;
TY10818 Decstack;
TY10814 Cycleroots;
TY10818 Tempstack;
NI Cyclerootslock;
NI Zctlock;
TY11188 Stat;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
struct TNimObject {
TNimType* m_type;
};
struct TY75015 {
  TNimObject Sup;
NI Bufpos;
NCSTRING Buf;
NI Buflen;
TY74013* Stream;
NI Linenumber;
NI Sentinel;
NI Linestart;
};
struct TY76267 {
  TY75015 Sup;
NimStringDesc* Filename;
TY76281* Indentstack;
NI Dedent;
NI Indentahead;
};
struct TY76263 {
TNimType* m_type;
NU8 Toktype;
NI Indent;
TY54011* Ident;
NI64 Inumber;
NF64 Fnumber;
NU8 Base;
NimStringDesc* Literal;
TY76263* Next;
};
struct TY54005 {
  TNimObject Sup;
NI Id;
};
struct TY54011 {
  TY54005 Sup;
NimStringDesc* S;
TY54011* Next;
NI H;
};
struct TY47532 {
NI16 Line;
NI16 Col;
int Fileindex;
};
typedef NimStringDesc* TY72066[3];
typedef NI TY8814[16];
struct TY10810 {
TY10810* Next;
NI Key;
TY8814 Bits;
};
struct TY74013 {
  TNimObject Sup;
NU8 Kind;
FILE* F;
NimStringDesc* S;
NI Rd;
NI Wr;
};
struct TY79135 {
  TGenericSeq Sup;
  NIM_BOOL data[SEQ_DECL_SIZE];
};
struct TY76281 {
  TGenericSeq Sup;
  NI data[SEQ_DECL_SIZE];
};
N_NIMCALL(void*, newSeq)(TNimType* Typ_14204, NI Len_14205);
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13218, void* Src_13219);
static N_INLINE(TY10802*, Usrtocell_11612)(void* Usr_11614);
static N_INLINE(NI, Atomicinc_3001)(NI* Memloc_3004, NI X_3005);
static N_INLINE(NI, Atomicdec_3006)(NI* Memloc_3009, NI X_3010);
static N_INLINE(void, Rtladdzct_12601)(TY10802* C_12603);
N_NOINLINE(void, Addzct_11601)(TY10818* S_11604, TY10802* C_11605);
N_NIMCALL(NimStringDesc*, Getprefixdir_46107)(void);
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* A_18647, NimStringDesc* B_18648);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* Src_18708);
N_NIMCALL(NimStringDesc*, nosJoinPath)(NimStringDesc* Head_38403, NimStringDesc* Tail_38404);
N_NIMCALL(void, Loadspecialconfig_79007)(NimStringDesc* Configfilename_79009);
N_NIMCALL(void, Readconfigfile_79447)(NimStringDesc* Filename_79449);
N_NIMCALL(void*, newObj)(TNimType* Typ_13707, NI Size_13708);
N_NIMCALL(TY74013*, Llstreamopen_74032)(NimStringDesc* Filename_74034, NU8 Mode_74035);
N_NIMCALL(void, Openlexer_76298)(TY76267* Lex_76301, NimStringDesc* Filename_76302, TY74013* Inputstream_76303);
N_NIMCALL(void, Conftok_79329)(TY76267* L_79332, TY76263* Tok_79333);
N_NIMCALL(void, Ppgettok_79010)(TY76267* L_79013, TY76263* Tok_79014);
N_NIMCALL(void, Rawgettok_76304)(TY76267* L_76307, TY76263* Tok_76309);
N_NIMCALL(void, Parsedirective_79284)(TY76267* L_79287, TY76263* Tok_79288);
N_NIMCALL(NU8, Whichkeyword_71465)(TY54011* Id_71467);
N_NIMCALL(TGenericSeq*, setLengthSeq)(TGenericSeq* Seq_19003, NI Elemsize_19004, NI Newlen_19005);
N_NIMCALL(NIM_BOOL, Evalppif_79120)(TY76267* L_79123, TY76263* Tok_79124);
N_NIMCALL(NIM_BOOL, Parseexpr_79054)(TY76267* L_79057, TY76263* Tok_79058);
N_NIMCALL(NIM_BOOL, Parseandexpr_79090)(TY76267* L_79093, TY76263* Tok_79094);
N_NIMCALL(NIM_BOOL, Parseatom_79059)(TY76267* L_79062, TY76263* Tok_79063);
N_NIMCALL(void, Lexmessage_76326)(TY76267* L_76328, NU8 Msg_76329, NimStringDesc* Arg_76330);
N_NIMCALL(NIM_BOOL, Isdefined_63059)(TY54011* Symbol_63061);
N_NIMCALL(void, Jumptodirective_79176)(TY76267* L_79179, TY76263* Tok_79180, NU8 Dest_79181);
N_NIMCALL(void, Doelse_79182)(TY76267* L_79185, TY76263* Tok_79186);
N_NIMCALL(void, Doelif_79198)(TY76267* L_79201, TY76263* Tok_79202);
N_NIMCALL(void, Doend_79153)(TY76267* L_79156, TY76263* Tok_79157);
N_NIMCALL(void, Messageout_47550)(NimStringDesc* S_47552);
N_NIMCALL(NimStringDesc*, Toktostr_76323)(TY76263* Tok_76325);
N_NIMCALL(void, Putenv_39639)(NimStringDesc* Key_39641, NimStringDesc* Val_39642);
static N_INLINE(void, appendString)(NimStringDesc* Dest_18792, NimStringDesc* Src_18793);
N_NIMCALL(NimStringDesc*, Getenv_39625)(NimStringDesc* Key_39627);
N_NIMCALL(NimStringDesc*, rawNewString)(NI Space_18687);
N_NIMCALL(void, Parseassignment_79371)(TY76267* L_79374, TY76263* Tok_79375);
N_NIMCALL(TY54011*, Getident_54016)(NimStringDesc* Identifier_54018);
N_NIMCALL(TY47532, Getlineinfo_76313)(TY76267* L_76315);
N_NIMCALL(void, Checksymbol_79346)(TY76267* L_79348, TY76263* Tok_79349);
N_NIMCALL(NimStringDesc*, addChar)(NimStringDesc* S_1603, NIM_CHAR C_1604);
N_NIMCALL(NimStringDesc*, resizeString)(NimStringDesc* Dest_18782, NI Addlen_18783);
N_NIMCALL(void, Processswitch_72012)(NimStringDesc* Switch_72014, NimStringDesc* Arg_72015, NU8 Pass_72016, TY47532 Info_72017);
N_NIMCALL(void, Closelexer_76316)(TY76267* Lex_76319);
N_NIMCALL(void, Rawmessage_47553)(NU8 Msg_47555, NimStringDesc* Arg_47556);
N_NIMCALL(NimStringDesc*, Getconfigpath_79507)(NimStringDesc* Filename_79509);
N_NIMCALL(NimStringDesc*, nosgetConfigDir)(void);
N_NIMCALL(NIM_BOOL, nosexistsFile)(NimStringDesc* Filename_37003);
N_NIMCALL(NimStringDesc*, nosJoinPathOpenArray)(NimStringDesc** Parts_38487, NI Parts_38487Len0);
N_NIMCALL(NimStringDesc*, nosChangeFileExt)(NimStringDesc* Filename_39020, NimStringDesc* Ext_39021);
STRING_LITERAL(TMP196685, "/usr", 4);
STRING_LITERAL(TMP196686, "/usr/lib/nimrod", 15);
STRING_LITERAL(TMP196687, "/usr/local", 10);
STRING_LITERAL(TMP196688, "/usr/local/lib/nimrod", 21);
STRING_LITERAL(TMP196689, "lib", 3);
STRING_LITERAL(TMP196715, "@", 1);
STRING_LITERAL(TMP196716, "\')\'", 3);
STRING_LITERAL(TMP196717, "\':\'", 3);
STRING_LITERAL(TMP196718, "@if", 3);
STRING_LITERAL(TMP196719, "@end", 4);
STRING_LITERAL(TMP196721, "-", 1);
STRING_LITERAL(TMP196722, "--", 2);
STRING_LITERAL(TMP196723, "", 0);
STRING_LITERAL(TMP196724, "\']\'", 3);
STRING_LITERAL(TMP196725, "&", 1);
STRING_LITERAL(TMP196728, "config", 6);
STRING_LITERAL(TMP196729, "/etc/", 5);
STRING_LITERAL(TMP196730, "nimrod.cfg", 10);
STRING_LITERAL(TMP196731, "cfg", 3);
TY79135* Condstack_79136;
extern TNimType* NTI79135; /* seq[bool] */
extern TY11190 Gch_11210;
extern NimStringDesc* Libpath_46110;
extern NU32 Gglobaloptions_46077;
extern TNimType* NTI76267; /* TLexer */
extern TNimType* NTI76261; /* PToken */
extern TNimType* NTI76263; /* TToken */
extern NI Gverbosity_46083;
static N_INLINE(TY10802*, Usrtocell_11612)(void* Usr_11614) {
TY10802* Result_11615;
Result_11615 = 0;
Result_11615 = ((TY10802*) ((NI32)((NU32)(((NI) (Usr_11614))) - (NU32)(((NI) (((NI)sizeof(TY10802))))))));
return Result_11615;
}
static N_INLINE(NI, Atomicinc_3001)(NI* Memloc_3004, NI X_3005) {
NI Result_7607;
Result_7607 = 0;
(*Memloc_3004) += X_3005;
Result_7607 = (*Memloc_3004);
return Result_7607;
}
static N_INLINE(NI, Atomicdec_3006)(NI* Memloc_3009, NI X_3010) {
NI Result_7806;
Result_7806 = 0;
(*Memloc_3009) -= X_3010;
Result_7806 = (*Memloc_3009);
return Result_7806;
}
static N_INLINE(void, Rtladdzct_12601)(TY10802* C_12603) {
Addzct_11601(&Gch_11210.Zct, C_12603);
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13218, void* Src_13219) {
TY10802* C_13220;
NI LOC4;
TY10802* C_13222;
NI LOC9;
if (!!((Src_13219 == NIM_NIL))) goto LA2;
C_13220 = 0;
C_13220 = Usrtocell_11612(Src_13219);
LOC4 = Atomicinc_3001(&(*C_13220).Refcount, 8);
LA2: ;
if (!!(((*Dest_13218) == NIM_NIL))) goto LA6;
C_13222 = 0;
C_13222 = Usrtocell_11612((*Dest_13218));
LOC9 = Atomicdec_3006(&(*C_13222).Refcount, 8);
if (!((NU32)(LOC9) < (NU32)(8))) goto LA10;
Rtladdzct_12601(C_13222);
LA10: ;
LA6: ;
(*Dest_13218) = Src_13219;
}
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* A_18647, NimStringDesc* B_18648) {
NIM_BOOL Result_18649;
NIM_BOOL LOC5;
NIM_BOOL LOC9;
int LOC11;
Result_18649 = 0;
if (!(A_18647 == B_18648)) goto LA2;
Result_18649 = NIM_TRUE;
goto BeforeRet;
LA2: ;
LOC5 = (A_18647 == NIM_NIL);
if (LOC5) goto LA6;
LOC5 = (B_18648 == NIM_NIL);
LA6: ;
if (!LOC5) goto LA7;
Result_18649 = NIM_FALSE;
goto BeforeRet;
LA7: ;
LOC9 = ((*A_18647).Sup.len == (*B_18648).Sup.len);
if (!(LOC9)) goto LA10;
LOC11 = memcmp(((NCSTRING) ((*A_18647).data)), ((NCSTRING) ((*B_18648).data)), ((int) ((NI32)((*A_18647).Sup.len * 1))));
LOC9 = (LOC11 == ((NI32) 0));
LA10: ;
Result_18649 = LOC9;
goto BeforeRet;
BeforeRet: ;
return Result_18649;
}
N_NIMCALL(void, Ppgettok_79010)(TY76267* L_79013, TY76263* Tok_79014) {
NIM_BOOL LOC2;
NIM_BOOL LOC3;
NIM_BOOL LOC4;
Rawgettok_76304(L_79013, Tok_79014);
while (1) {
LOC4 = ((*Tok_79014).Toktype == ((NU8) 102));
if (LOC4) goto LA5;
LOC4 = ((*Tok_79014).Toktype == ((NU8) 103));
LA5: ;
LOC3 = LOC4;
if (LOC3) goto LA6;
LOC3 = ((*Tok_79014).Toktype == ((NU8) 104));
LA6: ;
LOC2 = LOC3;
if (LOC2) goto LA7;
LOC2 = ((*Tok_79014).Toktype == ((NU8) 100));
LA7: ;
if (!LOC2) goto LA1;
Rawgettok_76304(L_79013, Tok_79014);
} LA1: ;
}
N_NIMCALL(NIM_BOOL, Parseatom_79059)(TY76267* L_79062, TY76263* Tok_79063) {
NIM_BOOL Result_79064;
NIM_BOOL LOC9;
Result_79064 = 0;
if (!((*Tok_79063).Toktype == ((NU8) 80))) goto LA2;
Ppgettok_79010(L_79062, Tok_79063);
Result_79064 = Parseexpr_79054(L_79062, Tok_79063);
if (!((*Tok_79063).Toktype == ((NU8) 81))) goto LA5;
Ppgettok_79010(L_79062, Tok_79063);
goto LA4;
LA5: ;
Lexmessage_76326(&(*L_79062), ((NU8) 21), ((NimStringDesc*) &TMP196716));
LA4: ;
goto LA1;
LA2: ;
if (!((*(*Tok_79063).Ident).Sup.Id == 40)) goto LA7;
Ppgettok_79010(L_79062, Tok_79063);
LOC9 = Parseatom_79059(L_79062, Tok_79063);
Result_79064 = !(LOC9);
goto LA1;
LA7: ;
Result_79064 = Isdefined_63059((*Tok_79063).Ident);
Ppgettok_79010(L_79062, Tok_79063);
LA1: ;
return Result_79064;
}
N_NIMCALL(NIM_BOOL, Parseandexpr_79090)(TY76267* L_79093, TY76263* Tok_79094) {
NIM_BOOL Result_79095;
NIM_BOOL B_79096;
NIM_BOOL LOC2;
Result_79095 = 0;
B_79096 = 0;
Result_79095 = Parseatom_79059(L_79093, Tok_79094);
while (1) {
if (!((*(*Tok_79094).Ident).Sup.Id == 2)) goto LA1;
Ppgettok_79010(L_79093, Tok_79094);
B_79096 = Parseatom_79059(L_79093, Tok_79094);
LOC2 = Result_79095;
if (!(LOC2)) goto LA3;
LOC2 = B_79096;
LA3: ;
Result_79095 = LOC2;
} LA1: ;
return Result_79095;
}
N_NIMCALL(NIM_BOOL, Parseexpr_79054)(TY76267* L_79057, TY76263* Tok_79058) {
NIM_BOOL Result_79110;
NIM_BOOL B_79111;
NIM_BOOL LOC2;
Result_79110 = 0;
B_79111 = 0;
Result_79110 = Parseandexpr_79090(L_79057, Tok_79058);
while (1) {
if (!((*(*Tok_79058).Ident).Sup.Id == 44)) goto LA1;
Ppgettok_79010(L_79057, Tok_79058);
B_79111 = Parseandexpr_79090(L_79057, Tok_79058);
LOC2 = Result_79110;
if (LOC2) goto LA3;
LOC2 = B_79111;
LA3: ;
Result_79110 = LOC2;
} LA1: ;
return Result_79110;
}
N_NIMCALL(NIM_BOOL, Evalppif_79120)(TY76267* L_79123, TY76263* Tok_79124) {
NIM_BOOL Result_79125;
Result_79125 = 0;
Ppgettok_79010(L_79123, Tok_79124);
Result_79125 = Parseexpr_79054(L_79123, Tok_79124);
if (!((*Tok_79124).Toktype == ((NU8) 94))) goto LA2;
Ppgettok_79010(L_79123, Tok_79124);
goto LA1;
LA2: ;
Lexmessage_76326(&(*L_79123), ((NU8) 21), ((NimStringDesc*) &TMP196717));
LA1: ;
return Result_79125;
}
N_NIMCALL(void, Doelse_79182)(TY76267* L_79185, TY76263* Tok_79186) {
if (!((Condstack_79136->Sup.len-1) < 0)) goto LA2;
Lexmessage_76326(&(*L_79185), ((NU8) 21), ((NimStringDesc*) &TMP196718));
LA2: ;
Ppgettok_79010(L_79185, Tok_79186);
if (!((*Tok_79186).Toktype == ((NU8) 94))) goto LA5;
Ppgettok_79010(L_79185, Tok_79186);
LA5: ;
if (!Condstack_79136->data[(Condstack_79136->Sup.len-1)]) goto LA8;
Jumptodirective_79176(L_79185, Tok_79186, ((NU8) 0));
LA8: ;
}
N_NIMCALL(void, Doelif_79198)(TY76267* L_79201, TY76263* Tok_79202) {
NIM_BOOL Res_79203;
NIM_BOOL LOC5;
Res_79203 = 0;
if (!((Condstack_79136->Sup.len-1) < 0)) goto LA2;
Lexmessage_76326(&(*L_79201), ((NU8) 21), ((NimStringDesc*) &TMP196718));
LA2: ;
Res_79203 = Evalppif_79120(L_79201, Tok_79202);
LOC5 = Condstack_79136->data[(Condstack_79136->Sup.len-1)];
if (LOC5) goto LA6;
LOC5 = !(Res_79203);
LA6: ;
if (!LOC5) goto LA7;
Jumptodirective_79176(L_79201, Tok_79202, ((NU8) 1));
goto LA4;
LA7: ;
Condstack_79136->data[(Condstack_79136->Sup.len-1)] = NIM_TRUE;
LA4: ;
}
N_NIMCALL(void, Doend_79153)(TY76267* L_79156, TY76263* Tok_79157) {
if (!((Condstack_79136->Sup.len-1) < 0)) goto LA2;
Lexmessage_76326(&(*L_79156), ((NU8) 21), ((NimStringDesc*) &TMP196718));
LA2: ;
Ppgettok_79010(L_79156, Tok_79157);
Condstack_79136 = (TY79135*) setLengthSeq(&(Condstack_79136)->Sup, sizeof(NIM_BOOL), (Condstack_79136->Sup.len-1));
}
N_NIMCALL(void, Jumptodirective_79176)(TY76267* L_79179, TY76263* Tok_79180, NU8 Dest_79181) {
NI Nestedifs_79212;
NIM_BOOL LOC3;
NU8 LOC7;
NIM_BOOL LOC9;
NIM_BOOL LOC14;
Nestedifs_79212 = 0;
Nestedifs_79212 = 0;
while (1) {
LOC3 = !(((*Tok_79180).Ident == NIM_NIL));
if (!(LOC3)) goto LA4;
LOC3 = eqStrings((*(*Tok_79180).Ident).S, ((NimStringDesc*) &TMP196715));
LA4: ;
if (!LOC3) goto LA5;
Ppgettok_79010(L_79179, Tok_79180);
LOC7 = Whichkeyword_71465((*Tok_79180).Ident);
switch (LOC7) {
case ((NU8) 26):
Nestedifs_79212 += 1;
break;
case ((NU8) 18):
LOC9 = (Dest_79181 == ((NU8) 1));
if (!(LOC9)) goto LA10;
LOC9 = (Nestedifs_79212 == 0);
LA10: ;
if (!LOC9) goto LA11;
Doelse_79182(L_79179, Tok_79180);
goto LA1;
LA11: ;
break;
case ((NU8) 17):
LOC14 = (Dest_79181 == ((NU8) 1));
if (!(LOC14)) goto LA15;
LOC14 = (Nestedifs_79212 == 0);
LA15: ;
if (!LOC14) goto LA16;
Doelif_79198(L_79179, Tok_79180);
goto LA1;
LA16: ;
break;
case ((NU8) 19):
if (!(Nestedifs_79212 == 0)) goto LA19;
Doend_79153(L_79179, Tok_79180);
goto LA1;
LA19: ;
if (!(0 < Nestedifs_79212)) goto LA22;
Nestedifs_79212 -= 1;
LA22: ;
break;
default:
break;
}
Ppgettok_79010(L_79179, Tok_79180);
goto LA2;
LA5: ;
if (!((*Tok_79180).Toktype == ((NU8) 1))) goto LA24;
Lexmessage_76326(&(*L_79179), ((NU8) 21), ((NimStringDesc*) &TMP196719));
goto LA2;
LA24: ;
Ppgettok_79010(L_79179, Tok_79180);
LA2: ;
} LA1: ;
}
static N_INLINE(void, appendString)(NimStringDesc* Dest_18792, NimStringDesc* Src_18793) {
memcpy(((NCSTRING) (&(*Dest_18792).data[((*Dest_18792).Sup.len)-0])), ((NCSTRING) ((*Src_18793).data)), ((int) ((NI32)((NI32)((*Src_18793).Sup.len + 1) * 1))));
(*Dest_18792).Sup.len += (*Src_18793).Sup.len;
}
N_NIMCALL(void, Parsedirective_79284)(TY76267* L_79287, TY76263* Tok_79288) {
NIM_BOOL Res_79289;
NimStringDesc* Key_79290;
NU8 LOC1;
NimStringDesc* LOC5;
NimStringDesc* LOC6;
NimStringDesc* LOC7;
NimStringDesc* LOC8;
NimStringDesc* LOC9;
NimStringDesc* LOC10;
NimStringDesc* LOC11;
NimStringDesc* LOC12;
NimStringDesc* LOC13;
Res_79289 = 0;
Key_79290 = 0;
Ppgettok_79010(L_79287, Tok_79288);
LOC1 = Whichkeyword_71465((*Tok_79288).Ident);
switch (LOC1) {
case ((NU8) 26):
Condstack_79136 = (TY79135*) setLengthSeq(&(Condstack_79136)->Sup, sizeof(NIM_BOOL), (NI32)(Condstack_79136->Sup.len + 1));
Res_79289 = Evalppif_79120(L_79287, Tok_79288);
Condstack_79136->data[(Condstack_79136->Sup.len-1)] = Res_79289;
if (!!(Res_79289)) goto LA3;
Jumptodirective_79176(L_79287, Tok_79288, ((NU8) 1));
LA3: ;
break;
case ((NU8) 17):
Doelif_79198(L_79287, Tok_79288);
break;
case ((NU8) 18):
Doelse_79182(L_79287, Tok_79288);
break;
case ((NU8) 19):
Doend_79153(L_79287, Tok_79288);
break;
case ((NU8) 215):
Ppgettok_79010(L_79287, Tok_79288);
LOC5 = 0;
LOC5 = Toktostr_76323(Tok_79288);
Messageout_47550(LOC5);
Ppgettok_79010(L_79287, Tok_79288);
break;
case ((NU8) 216):
Ppgettok_79010(L_79287, Tok_79288);
Key_79290 = Toktostr_76323(Tok_79288);
Ppgettok_79010(L_79287, Tok_79288);
LOC6 = 0;
LOC6 = Toktostr_76323(Tok_79288);
Putenv_39639(Key_79290, LOC6);
Ppgettok_79010(L_79287, Tok_79288);
break;
case ((NU8) 217):
Ppgettok_79010(L_79287, Tok_79288);
Key_79290 = Toktostr_76323(Tok_79288);
Ppgettok_79010(L_79287, Tok_79288);
LOC7 = 0;
LOC8 = 0;
LOC8 = Toktostr_76323(Tok_79288);
LOC9 = 0;
LOC9 = Getenv_39625(Key_79290);
LOC7 = rawNewString(LOC8->Sup.len + LOC9->Sup.len + 0);
appendString(LOC7, LOC8);
appendString(LOC7, LOC9);
Putenv_39639(Key_79290, LOC7);
Ppgettok_79010(L_79287, Tok_79288);
break;
case ((NU8) 218):
Ppgettok_79010(L_79287, Tok_79288);
Key_79290 = Toktostr_76323(Tok_79288);
Ppgettok_79010(L_79287, Tok_79288);
LOC10 = 0;
LOC11 = 0;
LOC11 = Getenv_39625(Key_79290);
LOC12 = 0;
LOC12 = Toktostr_76323(Tok_79288);
LOC10 = rawNewString(LOC11->Sup.len + LOC12->Sup.len + 0);
appendString(LOC10, LOC11);
appendString(LOC10, LOC12);
Putenv_39639(Key_79290, LOC10);
Ppgettok_79010(L_79287, Tok_79288);
break;
default:
LOC13 = 0;
LOC13 = Toktostr_76323(Tok_79288);
Lexmessage_76326(&(*L_79287), ((NU8) 28), LOC13);
break;
}
}
N_NIMCALL(void, Conftok_79329)(TY76267* L_79332, TY76263* Tok_79333) {
NIM_BOOL LOC2;
Ppgettok_79010(L_79332, Tok_79333);
while (1) {
LOC2 = !(((*Tok_79333).Ident == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC2 = eqStrings((*(*Tok_79333).Ident).S, ((NimStringDesc*) &TMP196715));
LA3: ;
if (!LOC2) goto LA1;
Parsedirective_79284(L_79332, Tok_79333);
} LA1: ;
}
N_NIMCALL(void, Checksymbol_79346)(TY76267* L_79348, TY76263* Tok_79349) {
NimStringDesc* LOC4;
if (!!(((*Tok_79349).Toktype >= ((NU8) 2) && (*Tok_79349).Toktype <= ((NU8) 65) || (*Tok_79349).Toktype >= ((NU8) 74) && (*Tok_79349).Toktype <= ((NU8) 76)))) goto LA2;
LOC4 = 0;
LOC4 = Toktostr_76323(Tok_79349);
Lexmessage_76326(L_79348, ((NU8) 19), LOC4);
LA2: ;
}
N_NIMCALL(void, Parseassignment_79371)(TY76267* L_79374, TY76263* Tok_79375) {
NimStringDesc* S_79376;
NimStringDesc* Val_79377;
TY47532 Info_79378;
NIM_BOOL LOC2;
TY54011* LOC3;
TY54011* LOC5;
NimStringDesc* LOC9;
NimStringDesc* LOC13;
NIM_BOOL LOC18;
NimStringDesc* LOC25;
NIM_BOOL LOC27;
TY54011* LOC29;
NimStringDesc* LOC30;
S_79376 = 0;
Val_79377 = 0;
memset((void*)&Info_79378, 0, sizeof(Info_79378));
LOC3 = 0;
LOC3 = Getident_54016(((NimStringDesc*) &TMP196721));
LOC2 = ((*(*Tok_79375).Ident).Sup.Id == (*LOC3).Sup.Id);
if (LOC2) goto LA4;
LOC5 = 0;
LOC5 = Getident_54016(((NimStringDesc*) &TMP196722));
LOC2 = ((*(*Tok_79375).Ident).Sup.Id == (*LOC5).Sup.Id);
LA4: ;
if (!LOC2) goto LA6;
Conftok_79329(L_79374, Tok_79375);
LA6: ;
Info_79378 = Getlineinfo_76313(&(*L_79374));
Checksymbol_79346(&(*L_79374), Tok_79375);
S_79376 = Toktostr_76323(Tok_79375);
Conftok_79329(L_79374, Tok_79375);
Val_79377 = copyString(((NimStringDesc*) &TMP196723));
while (1) {
if (!((*Tok_79375).Toktype == ((NU8) 96))) goto LA8;
S_79376 = addChar(S_79376, 46);
Conftok_79329(L_79374, Tok_79375);
Checksymbol_79346(&(*L_79374), Tok_79375);
LOC9 = 0;
LOC9 = Toktostr_76323(Tok_79375);
S_79376 = resizeString(S_79376, LOC9->Sup.len + 0);
appendString(S_79376, LOC9);
Conftok_79329(L_79374, Tok_79375);
} LA8: ;
if (!((*Tok_79375).Toktype == ((NU8) 82))) goto LA11;
Conftok_79329(L_79374, Tok_79375);
Checksymbol_79346(&(*L_79374), Tok_79375);
LOC13 = 0;
LOC13 = Toktostr_76323(Tok_79375);
Val_79377 = resizeString(Val_79377, LOC13->Sup.len + 0);
appendString(Val_79377, LOC13);
Conftok_79329(L_79374, Tok_79375);
if (!((*Tok_79375).Toktype == ((NU8) 83))) goto LA15;
Conftok_79329(L_79374, Tok_79375);
goto LA14;
LA15: ;
Lexmessage_76326(&(*L_79374), ((NU8) 21), ((NimStringDesc*) &TMP196724));
LA14: ;
Val_79377 = addChar(Val_79377, 93);
LA11: ;
LOC18 = ((*Tok_79375).Toktype == ((NU8) 94));
if (LOC18) goto LA19;
LOC18 = ((*Tok_79375).Toktype == ((NU8) 95));
LA19: ;
if (!LOC18) goto LA20;
if (!(0 < Val_79377->Sup.len)) goto LA23;
Val_79377 = addChar(Val_79377, 58);
LA23: ;
Conftok_79329(L_79374, Tok_79375);
Checksymbol_79346(&(*L_79374), Tok_79375);
LOC25 = 0;
LOC25 = Toktostr_76323(Tok_79375);
Val_79377 = resizeString(Val_79377, LOC25->Sup.len + 0);
appendString(Val_79377, LOC25);
Conftok_79329(L_79374, Tok_79375);
while (1) {
LOC27 = !(((*Tok_79375).Ident == NIM_NIL));
if (!(LOC27)) goto LA28;
LOC29 = 0;
LOC29 = Getident_54016(((NimStringDesc*) &TMP196725));
LOC27 = ((*(*Tok_79375).Ident).Sup.Id == (*LOC29).Sup.Id);
LA28: ;
if (!LOC27) goto LA26;
Conftok_79329(L_79374, Tok_79375);
Checksymbol_79346(&(*L_79374), Tok_79375);
LOC30 = 0;
LOC30 = Toktostr_76323(Tok_79375);
Val_79377 = resizeString(Val_79377, LOC30->Sup.len + 0);
appendString(Val_79377, LOC30);
Conftok_79329(L_79374, Tok_79375);
} LA26: ;
LA20: ;
Processswitch_72012(S_79376, Val_79377, ((NU8) 2), Info_79378);
}
N_NIMCALL(void, Readconfigfile_79447)(NimStringDesc* Filename_79449) {
TY76267 L_79450;
TY76263* Tok_79451;
TY74013* Stream_79452;
memset((void*)&L_79450, 0, sizeof(L_79450));
L_79450.Sup.Sup.m_type = NTI76267;
Tok_79451 = 0;
Stream_79452 = 0;
Tok_79451 = (TY76263*) newObj(NTI76261, sizeof(TY76263));
(*Tok_79451).m_type = NTI76263;
Stream_79452 = Llstreamopen_74032(Filename_79449, ((NU8) 0));
if (!!((Stream_79452 == NIM_NIL))) goto LA2;
Openlexer_76298(&L_79450, Filename_79449, Stream_79452);
(*Tok_79451).Toktype = ((NU8) 1);
Conftok_79329(&L_79450, Tok_79451);
while (1) {
if (!!(((*Tok_79451).Toktype == ((NU8) 1)))) goto LA4;
Parseassignment_79371(&L_79450, Tok_79451);
} LA4: ;
if (!(0 < Condstack_79136->Sup.len)) goto LA6;
Lexmessage_76326(&L_79450, ((NU8) 21), ((NimStringDesc*) &TMP196719));
LA6: ;
Closelexer_76316(&L_79450);
if (!(1 <= Gverbosity_46083)) goto LA9;
Rawmessage_47553(((NU8) 233), Filename_79449);
LA9: ;
LA2: ;
}
N_NIMCALL(NimStringDesc*, Getconfigpath_79507)(NimStringDesc* Filename_79509) {
NimStringDesc* Result_79510;
NimStringDesc* LOC1;
NIM_BOOL LOC3;
TY72066 LOC6;
NIM_BOOL LOC8;
NimStringDesc* LOC11;
Result_79510 = 0;
LOC1 = 0;
LOC1 = nosgetConfigDir();
Result_79510 = nosJoinPath(LOC1, Filename_79509);
LOC3 = nosexistsFile(Result_79510);
if (!!(LOC3)) goto LA4;
memset((void*)&LOC6, 0, sizeof(LOC6));
LOC6[0] = Getprefixdir_46107();
LOC6[1] = copyString(((NimStringDesc*) &TMP196728));
LOC6[2] = copyString(Filename_79509);
Result_79510 = nosJoinPathOpenArray(LOC6, 3);
LOC8 = nosexistsFile(Result_79510);
if (!!(LOC8)) goto LA9;
LOC11 = 0;
LOC11 = rawNewString(Filename_79509->Sup.len + 5);
appendString(LOC11, ((NimStringDesc*) &TMP196729));
appendString(LOC11, Filename_79509);
Result_79510 = LOC11;
LA9: ;
LA4: ;
return Result_79510;
}
N_NIMCALL(void, Loadspecialconfig_79007)(NimStringDesc* Configfilename_79009) {
NimStringDesc* LOC4;
if (!!(((Gglobaloptions_46077 &(1<<((((NU8) 16))&31)))!=0))) goto LA2;
LOC4 = 0;
LOC4 = Getconfigpath_79507(Configfilename_79009);
Readconfigfile_79447(LOC4);
LA2: ;
}
N_NIMCALL(void, Loadconfig_79004)(NimStringDesc* Project_79006) {
NimStringDesc* Conffile_79540;
NimStringDesc* Prefix_79541;
NIM_BOOL LOC10;
NIM_BOOL LOC15;
Conffile_79540 = 0;
Prefix_79541 = 0;
if (!((Libpath_46110) && (Libpath_46110)->Sup.len == 0)) goto LA2;
Prefix_79541 = Getprefixdir_46107();
if (!eqStrings(Prefix_79541, ((NimStringDesc*) &TMP196685))) goto LA5;
asgnRefNoCycle((void**) &Libpath_46110, copyString(((NimStringDesc*) &TMP196686)));
goto LA4;
LA5: ;
if (!eqStrings(Prefix_79541, ((NimStringDesc*) &TMP196687))) goto LA7;
asgnRefNoCycle((void**) &Libpath_46110, copyString(((NimStringDesc*) &TMP196688)));
goto LA4;
LA7: ;
asgnRefNoCycle((void**) &Libpath_46110, nosJoinPath(Prefix_79541, ((NimStringDesc*) &TMP196689)));
LA4: ;
LA2: ;
Loadspecialconfig_79007(((NimStringDesc*) &TMP196730));
LOC10 = !(((Gglobaloptions_46077 &(1<<((((NU8) 17))&31)))!=0));
if (!(LOC10)) goto LA11;
LOC10 = !(((Project_79006) && (Project_79006)->Sup.len == 0));
LA11: ;
if (!LOC10) goto LA12;
Conffile_79540 = nosChangeFileExt(Project_79006, ((NimStringDesc*) &TMP196731));
LOC15 = nosexistsFile(Conffile_79540);
if (!LOC15) goto LA16;
Readconfigfile_79447(Conffile_79540);
LA16: ;
LA12: ;
}
N_NOINLINE(void, nimconfInit)(void) {
asgnRefNoCycle((void**) &Condstack_79136, (TY79135*) newSeq(NTI79135, 0));
}

