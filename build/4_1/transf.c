/* Generated by Nimrod Compiler v0.8.10 */
/*   (c) 2010 Andreas Rumpf */

typedef long int NI;
typedef unsigned long int NU;
#include "nimbase.h"

typedef struct TY104006 TY104006;
typedef struct TY104002 TY104002;
typedef struct TY55547 TY55547;
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct TY92031 TY92031;
typedef struct TY55525 TY55525;
typedef struct TY188012 TY188012;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct TNimObject TNimObject;
typedef struct TY188010 TY188010;
typedef struct TY10802 TY10802;
typedef struct TY10814 TY10814;
typedef struct TY11190 TY11190;
typedef struct TY10818 TY10818;
typedef struct TY10810 TY10810;
typedef struct TY11188 TY11188;
typedef struct TY55551 TY55551;
typedef struct TY47532 TY47532;
typedef struct TY54011 TY54011;
typedef struct TY55519 TY55519;
typedef struct TY54005 TY54005;
typedef struct TY55529 TY55529;
typedef struct TY55527 TY55527;
typedef struct TY55539 TY55539;
typedef struct TY52008 TY52008;
typedef struct TY55543 TY55543;
typedef struct TY55569 TY55569;
typedef struct TY55567 TY55567;
typedef struct TY55565 TY55565;
typedef struct TY55549 TY55549;
typedef struct TY55900 TY55900;
typedef struct TY55896 TY55896;
typedef struct TY55898 TY55898;
typedef struct TY39422 TY39422;
typedef struct TY92029 TY92029;
typedef struct TY59223 TY59223;
typedef struct TY59221 TY59221;
typedef struct TY59219 TY59219;
typedef struct TY55563 TY55563;
typedef struct TY55561 TY55561;
typedef struct TY55559 TY55559;
typedef struct TY43013 TY43013;
struct TGenericSeq {
NI len;
NI space;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
typedef N_NIMCALL_PTR(TY104002*, TY104007) (TY55547* Module_104008, NimStringDesc* Filename_104009);
typedef N_NIMCALL_PTR(TY104002*, TY104012) (TY55547* Module_104013, NimStringDesc* Filename_104014, TY92031* Rd_104015);
typedef N_NIMCALL_PTR(TY55525*, TY104018) (TY104002* P_104019, TY55525* N_104020);
typedef N_NIMCALL_PTR(TY55525*, TY104023) (TY104002* P_104024, TY55525* Toplevelstmt_104025);
struct TY104006 {
TY104007 Open;
TY104012 Opencached;
TY104018 Close;
TY104023 Process;
};
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct TNimObject {
TNimType* m_type;
};
struct TY104002 {
  TNimObject Sup;
};
struct TY188012 {
  TY104002 Sup;
TY55547* Module;
TY188010* Transcon;
};
struct TY10802 {
NI Refcount;
TNimType* Typ;
};
struct TY10818 {
NI Len;
NI Cap;
TY10802** D;
};
struct TY10814 {
NI Counter;
NI Max;
TY10810* Head;
TY10810** Data;
};
struct TY11188 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY11190 {
TY10818 Zct;
TY10818 Decstack;
TY10814 Cycleroots;
TY10818 Tempstack;
NI Cyclerootslock;
NI Zctlock;
TY11188 Stat;
};
struct TY47532 {
NI16 Line;
NI16 Col;
int Fileindex;
};
struct TY55525 {
TY55551* Typ;
NimStringDesc* Comment;
TY47532 Info;
NU8 Flags;
NU8 Kind;
union {
struct {NI64 Intval;
} S1;
struct {NF64 Floatval;
} S2;
struct {NimStringDesc* Strval;
} S3;
struct {TY55547* Sym;
} S4;
struct {TY54011* Ident;
} S5;
struct {TY55519* Sons;
} S6;
} KindU;
};
struct TY54005 {
  TNimObject Sup;
NI Id;
};
struct TY55529 {
TNimType* m_type;
NI Counter;
TY55527* Data;
};
struct TY55539 {
NU8 K;
NU8 S;
NU8 Flags;
TY55551* T;
TY52008* R;
NI A;
};
struct TY55547 {
  TY54005 Sup;
NU8 Kind;
NU8 Magic;
TY55551* Typ;
TY54011* Name;
TY47532 Info;
TY55547* Owner;
NU32 Flags;
TY55529 Tab;
TY55525* Ast;
NU32 Options;
NI Position;
NI Offset;
TY55539 Loc;
TY55543* Annex;
};
struct TY55565 {
TY54005* Key;
TY55525* Val;
};
struct TY55569 {
NI Counter;
TY55567* Data;
};
struct TY188010 {
TY55569 Mapping;
TY55547* Owner;
TY55525* Forstmt;
TY188010* Next;
};
struct TY55551 {
  TY54005 Sup;
NU8 Kind;
TY55549* Sons;
TY55525* N;
NU8 Flags;
NU8 Callconv;
TY55547* Owner;
TY55547* Sym;
NI64 Size;
NI Align;
NI Containerid;
TY55539 Loc;
};
struct TY55900 {
NI Counter;
NI Max;
TY55896* Head;
TY55898* Data;
};
struct TY59219 {
NI Key;
NI Val;
};
struct TY59223 {
NI Counter;
TY59221* Data;
};
struct TY92029 {
NI Lastidxkey;
NI Lastidxval;
TY59223 Tab;
TY52008* R;
NI Offset;
};
struct TY55559 {
TY54005* Key;
TNimObject* Val;
};
struct TY55563 {
NI Counter;
TY55561* Data;
};
struct TY92031 {
  TNimObject Sup;
NI Pos;
NimStringDesc* S;
NU32 Options;
NU8 Reason;
TY39422* Moddeps;
TY39422* Files;
NI Dataidx;
NI Convertersidx;
NI Initidx;
NI Interfidx;
NI Compilerprocsidx;
NI Cgenidx;
NimStringDesc* Filename;
TY92029 Index;
TY92029 Imports;
NI Readerindex;
NI Line;
NI Moduleid;
TY55563 Syms;
};
typedef NI TY8814[16];
struct TY10810 {
TY10810* Next;
NI Key;
TY8814 Bits;
};
struct TY54011 {
  TY54005 Sup;
NimStringDesc* S;
TY54011* Next;
NI H;
};
struct TY52008 {
  TNimObject Sup;
TY52008* Left;
TY52008* Right;
NI Length;
NimStringDesc* Data;
};
struct TY43013 {
  TNimObject Sup;
TY43013* Prev;
TY43013* Next;
};
struct TY55543 {
  TY43013 Sup;
NU8 Kind;
NIM_BOOL Generated;
TY52008* Name;
TY55525* Path;
};
struct TY55896 {
TY55896* Next;
NI Key;
TY8814 Bits;
};
struct TY55519 {
  TGenericSeq Sup;
  TY55525* data[SEQ_DECL_SIZE];
};
struct TY55527 {
  TGenericSeq Sup;
  TY55547* data[SEQ_DECL_SIZE];
};
struct TY55567 {
  TGenericSeq Sup;
  TY55565 data[SEQ_DECL_SIZE];
};
struct TY55549 {
  TGenericSeq Sup;
  TY55551* data[SEQ_DECL_SIZE];
};
struct TY55898 {
  TGenericSeq Sup;
  TY55896* data[SEQ_DECL_SIZE];
};
struct TY39422 {
  TGenericSeq Sup;
  NimStringDesc* data[SEQ_DECL_SIZE];
};
struct TY59221 {
  TGenericSeq Sup;
  TY59219 data[SEQ_DECL_SIZE];
};
struct TY55561 {
  TGenericSeq Sup;
  TY55559 data[SEQ_DECL_SIZE];
};
N_NIMCALL(void, Initpass_104031)(TY104006* P_104034);
N_NIMCALL(TY104002*, Opentransf_191264)(TY55547* Module_191266, NimStringDesc* Filename_191267);
N_NIMCALL(void*, newObj)(TNimType* Typ_13707, NI Size_13708);
static N_INLINE(void, asgnRef)(void** Dest_13214, void* Src_13215);
static N_INLINE(void, Incref_13202)(TY10802* C_13204);
static N_INLINE(NI, Atomicinc_3001)(NI* Memloc_3004, NI X_3005);
static N_INLINE(NIM_BOOL, Canbecycleroot_11616)(TY10802* C_11618);
static N_INLINE(void, Rtladdcycleroot_12252)(TY10802* C_12254);
N_NOINLINE(void, Incl_11074)(TY10814* S_11077, TY10802* Cell_11078);
static N_INLINE(TY10802*, Usrtocell_11612)(void* Usr_11614);
static N_INLINE(void, Decref_13001)(TY10802* C_13003);
static N_INLINE(NI, Atomicdec_3006)(NI* Memloc_3009, NI X_3010);
static N_INLINE(void, Rtladdzct_12601)(TY10802* C_12603);
N_NOINLINE(void, Addzct_11601)(TY10818* S_11604, TY10802* C_11605);
N_NIMCALL(TY55525*, Processtransf_191258)(TY104002* Context_191260, TY55525* N_191261);
N_NIMCALL(TY55525*, Transform_188092)(TY188012* C_188094, TY55525* N_188095);
N_NIMCALL(TY55525*, Transformsym_188102)(TY188012* C_188104, TY55525* N_188105);
N_NIMCALL(void, Internalerror_47567)(TY47532 Info_47569, NimStringDesc* Errmsg_47570);
N_NIMCALL(TY55525*, Newsymnode_55734)(TY55547* Sym_55736);
N_NIMCALL(TY55525*, Idnodetableget_59184)(TY55569 T_59186, TY54005* Key_59187);
N_NIMCALL(TY55551*, Skiptypes_96085)(TY55551* T_96087, NU64 Kinds_96088);
N_NIMCALL(TY55525*, Getconstexpr_112010)(TY55547* M_112012, TY55525* N_112013);
N_NIMCALL(TY55525*, Transformarrayaccess_190480)(TY188012* C_190482, TY55525* N_190483);
N_NIMCALL(TY55525*, Copytree_55858)(TY55525* Src_55860);
N_NIMCALL(TY55525*, Skipconv_188397)(TY55525* N_188399);
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13218, void* Src_13219);
N_NIMCALL(NI, Sonslen_55803)(TY55525* N_55805);
N_NIMCALL(TY55525*, Transformlambda_190011)(TY188012* C_190013, TY55525* N_190014);
N_NIMCALL(void, Intsetinit_55924)(TY55900* S_55927);
N_NIMCALL(TY55525*, Newnodei_55737)(NU8 Kind_55739, TY47532 Info_55740);
N_NIMCALL(void, Gathervars_189885)(TY188012* C_189887, TY55525* N_189888, TY55900* Marked_189890, TY55547* Owner_189891, TY55525* Container_189892);
N_NIMCALL(NIM_BOOL, Intsetcontainsorincl_55928)(TY55900* S_55931, NI Key_55932);
N_NIMCALL(void, Addson_55823)(TY55525* Father_55825, TY55525* Son_55826);
N_NIMCALL(TY55525*, Copynode_55855)(TY55525* Src_55857);
N_NIMCALL(TY55551*, Newtype_55706)(NU8 Kind_55708, TY55547* Owner_55709);
N_NIMCALL(void, Addson_55827)(TY55551* Father_55829, TY55551* Son_55830);
N_NIMCALL(TY55547*, Newsym_55701)(NU8 Symkind_55703, TY54011* Name_55704, TY55547* Owner_55705);
N_NIMCALL(TY54011*, Getident_54016)(NimStringDesc* Identifier_54018);
N_NIMCALL(void, Addformalparam_189987)(TY55547* Routine_189989, TY55547* Param_189990);
N_NIMCALL(TY188010*, Newtranscon_188021)(void);
N_NIMCALL(void, Initidnodetable_55762)(TY55569* X_55765);
N_NIMCALL(void, Idnodetableput_59188)(TY55569* T_59191, TY54005* Key_59192, TY55525* Val_59193);
N_NIMCALL(TY55525*, Indirectaccess_190003)(TY55547* A_190005, TY55547* B_190006);
N_NIMCALL(void, Pushtranscon_188040)(TY188012* C_188042, TY188010* T_188043);
N_NIMCALL(void, Poptranscon_188044)(TY188012* C_188046);
N_NIMCALL(void, Internalerror_47571)(NimStringDesc* Errmsg_47573);
N_NIMCALL(TY55525*, Transformfor_189580)(TY188012* C_189582, TY55525* N_189583);
N_NIMCALL(TY55525*, Transformcontinue_188338)(TY188012* C_188340, TY55525* N_188341);
N_NIMCALL(TY55547*, Getcurrowner_188058)(TY188012* C_188060);
static N_INLINE(void, appendString)(NimStringDesc* Dest_18792, NimStringDesc* Src_18793);
N_NIMCALL(NimStringDesc*, nimIntToStr)(NI X_19403);
N_NIMCALL(NimStringDesc*, rawNewString)(NI Space_18687);
N_NIMCALL(void, Transformcontinueaux_188267)(TY188012* C_188269, TY55525* N_188270, TY55547* Labl_188271, NI* Counter_188273);
N_NIMCALL(void, Addvar_188916)(TY55525* Father_188918, TY55525* V_188919);
N_NIMCALL(TY55525*, Skippassasopenarray_189491)(TY55525* N_189493);
N_NIMCALL(NU8, Putarginto_189522)(TY55525* Arg_189524, TY55551* Formal_189525);
N_NIMCALL(TY55547*, Newtemp_188073)(TY188012* C_188075, TY55551* Typ_188076, TY47532 Info_188077);
N_NIMCALL(TY55525*, Newasgnstmt_188096)(TY188012* C_188098, TY55525* Le_188099, TY55525* Ri_188100);
N_NIMCALL(void, Pushinfocontext_47606)(TY47532 Info_47608);
N_NIMCALL(TY55525*, Inlineiter_188561)(TY188012* C_188563, TY55525* N_188564);
N_NIMCALL(TY55525*, Transformyield_188474)(TY188012* C_188476, TY55525* N_188477);
N_NIMCALL(void, Unpacktuple_188443)(TY188012* C_188445, TY55525* N_188446, TY55525* Father_188447);
N_NIMCALL(TY55525*, Newtupleaccess_188425)(TY55525* Tup_188427, NI I_188428);
N_NIMCALL(TY55525*, Newnodeit_55741)(NU8 Kind_55743, TY47532 Info_55744, TY55551* Typ_55745);
N_NIMCALL(TY55551*, Getsystype_101008)(NU8 Kind_101010);
N_NIMCALL(TY55525*, Lastson_55809)(TY55525* N_55811);
N_NIMCALL(TY55547*, Copysym_55775)(TY55547* S_55777, NIM_BOOL Keepid_55778);
N_NIMCALL(void, Popinfocontext_47609)(void);
N_NIMCALL(TY55525*, Transformcase_190191)(TY188012* C_190193, TY55525* N_190194);
N_NIMCALL(TGenericSeq*, setLengthSeq)(TGenericSeq* Seq_19003, NI Elemsize_19004, NI Newlen_19005);
N_NIMCALL(void, Methoddef_158004)(TY55547* S_158006);
N_NIMCALL(TY55525*, Transformcall_190779)(TY188012* C_190781, TY55525* N_190782);
N_NIMCALL(TY55525*, Flattentree_190751)(TY55525* Root_190753);
N_NIMCALL(TY55547*, Getmergeop_190571)(TY55525* N_190573);
N_NIMCALL(void, Flattentreeaux_190688)(TY55525* D_190690, TY55525* A_190691, TY55547* Op_190692);
N_NIMCALL(NIM_BOOL, Isconstexpr_95016)(TY55525* N_95018);
N_NIMCALL(TY55525*, Evalop_112014)(NU8 M_112016, TY55525* N_112017, TY55525* A_112018, TY55525* B_112019, TY55525* C_112020);
N_NIMCALL(TY55525*, Methodcall_158007)(TY55525* N_158009);
N_NIMCALL(TY55525*, Transformaddrderef_188921)(TY188012* C_188923, TY55525* N_188924, NU8 A_188925, NU8 B_188926);
N_NIMCALL(TY55525*, Transformconv_189212)(TY188012* C_189214, TY55525* N_189215);
N_NIMCALL(NIM_BOOL, Isordinaltype_96069)(TY55551* T_96071);
N_NIMCALL(NI64, Firstord_96001)(TY55551* T_96003);
N_NIMCALL(NI64, Lastord_96004)(TY55551* T_96006);
N_NIMCALL(TY55525*, Newinttypenode_55717)(NU8 Kind_55719, NI64 Intval_55720, TY55551* Typ_55721);
N_NIMCALL(NI, Inheritancediff_96119)(TY55551* A_96121, TY55551* B_96122);
N_NIMCALL(TY55525*, Newnode_55710)(NU8 Kind_55712);
STRING_LITERAL(TMP197225, "transformSym", 12);
STRING_LITERAL(TMP197226, "wrong AST for borrowed symbol", 29);
STRING_LITERAL(TMP197227, "transformSym: const", 19);
STRING_LITERAL(TMP197228, "transformLambda", 15);
STRING_LITERAL(TMP197229, ":tmpCl", 6);
STRING_LITERAL(TMP197230, "popTransCon", 11);
STRING_LITERAL(TMP197231, "transformFor", 12);
STRING_LITERAL(TMP197232, ":tmp", 4);
STRING_LITERAL(TMP197233, "not implemented: pass to var parameter", 38);
STRING_LITERAL(TMP197234, "inlineIter", 10);
STRING_LITERAL(TMP197235, "inlineIter: not nkVarTuple", 26);
STRING_LITERAL(TMP197236, "transformCase", 13);
STRING_LITERAL(TMP197237, "transform", 9);
extern TNimType* NTI188014; /* PTransf */
extern TNimType* NTI188012; /* TTransfContext */
extern TY11190 Gch_11210;
extern TNimType* NTI188008; /* PTransCon */
static N_INLINE(NI, Atomicinc_3001)(NI* Memloc_3004, NI X_3005) {
NI Result_7607;
Result_7607 = 0;
(*Memloc_3004) += X_3005;
Result_7607 = (*Memloc_3004);
return Result_7607;
}
static N_INLINE(NIM_BOOL, Canbecycleroot_11616)(TY10802* C_11618) {
NIM_BOOL Result_11619;
Result_11619 = 0;
Result_11619 = !((((*(*C_11618).Typ).flags &(1<<((((NU8) 1))&7)))!=0));
return Result_11619;
}
static N_INLINE(void, Rtladdcycleroot_12252)(TY10802* C_12254) {
Incl_11074(&Gch_11210.Cycleroots, C_12254);
}
static N_INLINE(void, Incref_13202)(TY10802* C_13204) {
NI LOC1;
NIM_BOOL LOC3;
LOC1 = Atomicinc_3001(&(*C_13204).Refcount, 8);
LOC3 = Canbecycleroot_11616(C_13204);
if (!LOC3) goto LA4;
Rtladdcycleroot_12252(C_13204);
LA4: ;
}
static N_INLINE(TY10802*, Usrtocell_11612)(void* Usr_11614) {
TY10802* Result_11615;
Result_11615 = 0;
Result_11615 = ((TY10802*) ((NI32)((NU32)(((NI) (Usr_11614))) - (NU32)(((NI) (((NI)sizeof(TY10802))))))));
return Result_11615;
}
static N_INLINE(NI, Atomicdec_3006)(NI* Memloc_3009, NI X_3010) {
NI Result_7806;
Result_7806 = 0;
(*Memloc_3009) -= X_3010;
Result_7806 = (*Memloc_3009);
return Result_7806;
}
static N_INLINE(void, Rtladdzct_12601)(TY10802* C_12603) {
Addzct_11601(&Gch_11210.Zct, C_12603);
}
static N_INLINE(void, Decref_13001)(TY10802* C_13003) {
NI LOC2;
NIM_BOOL LOC5;
LOC2 = Atomicdec_3006(&(*C_13003).Refcount, 8);
if (!((NU32)(LOC2) < (NU32)(8))) goto LA3;
Rtladdzct_12601(C_13003);
goto LA1;
LA3: ;
LOC5 = Canbecycleroot_11616(C_13003);
if (!LOC5) goto LA6;
Rtladdcycleroot_12252(C_13003);
goto LA1;
LA6: ;
LA1: ;
}
static N_INLINE(void, asgnRef)(void** Dest_13214, void* Src_13215) {
TY10802* LOC4;
TY10802* LOC8;
if (!!((Src_13215 == NIM_NIL))) goto LA2;
LOC4 = Usrtocell_11612(Src_13215);
Incref_13202(LOC4);
LA2: ;
if (!!(((*Dest_13214) == NIM_NIL))) goto LA6;
LOC8 = Usrtocell_11612((*Dest_13214));
Decref_13001(LOC8);
LA6: ;
(*Dest_13214) = Src_13215;
}
N_NIMCALL(TY104002*, Opentransf_191264)(TY55547* Module_191266, NimStringDesc* Filename_191267) {
TY104002* Result_191268;
TY188012* N_191269;
Result_191268 = 0;
N_191269 = 0;
N_191269 = (TY188012*) newObj(NTI188014, sizeof(TY188012));
(*N_191269).Sup.Sup.m_type = NTI188012;
asgnRef((void**) &(*N_191269).Module, Module_191266);
Result_191268 = &N_191269->Sup;
return Result_191268;
}
N_NIMCALL(TY55525*, Transformsym_188102)(TY188012* C_188104, TY55525* N_188105) {
TY55525* Result_188106;
TY55525* B_188107;
TY188010* Tc_188117;
TY55551* LOC15;
Result_188106 = 0;
B_188107 = 0;
if (!!(((*N_188105).Kind == ((NU8) 3)))) goto LA2;
Internalerror_47567((*N_188105).Info, ((NimStringDesc*) &TMP197225));
LA2: ;
Tc_188117 = 0;
Tc_188117 = (*C_188104).Transcon;
if (!(((*(*N_188105).KindU.S4.Sym).Flags &(1<<((((NU8) 29))&31)))!=0)) goto LA5;
B_188107 = (*(*(*N_188105).KindU.S4.Sym).Ast).KindU.S6.Sons->data[4];
if (!!(((*B_188107).Kind == ((NU8) 3)))) goto LA8;
Internalerror_47567((*N_188105).Info, ((NimStringDesc*) &TMP197226));
LA8: ;
B_188107 = Newsymnode_55734((*B_188107).KindU.S4.Sym);
(*B_188107).Info = (*N_188105).Info;
goto LA4;
LA5: ;
B_188107 = N_188105;
LA4: ;
while (1) {
if (!!((Tc_188117 == NIM_NIL))) goto LA10;
Result_188106 = Idnodetableget_59184((*Tc_188117).Mapping, &(*B_188107).KindU.S4.Sym->Sup);
if (!!((Result_188106 == NIM_NIL))) goto LA12;
goto BeforeRet;
LA12: ;
Tc_188117 = (*Tc_188117).Next;
} LA10: ;
Result_188106 = B_188107;
switch ((*(*B_188107).KindU.S4.Sym).Kind) {
case ((NU8) 7):
case ((NU8) 16):
LOC15 = 0;
LOC15 = Skiptypes_96085((*(*B_188107).KindU.S4.Sym).Typ, 43008);
if (!!(((*LOC15).Kind == ((NU8) 16) || (*LOC15).Kind == ((NU8) 19) || (*LOC15).Kind == ((NU8) 18)))) goto LA16;
Result_188106 = Getconstexpr_112010((*C_188104).Module, B_188107);
if (!(Result_188106 == NIM_NIL)) goto LA19;
Internalerror_47567((*B_188107).Info, ((NimStringDesc*) &TMP197227));
LA19: ;
LA16: ;
break;
default:
break;
}
BeforeRet: ;
return Result_188106;
}
N_NIMCALL(TY55525*, Skipconv_188397)(TY55525* N_188399) {
TY55525* Result_188400;
Result_188400 = 0;
switch ((*N_188399).Kind) {
case ((NU8) 56):
case ((NU8) 55):
case ((NU8) 62):
case ((NU8) 59):
case ((NU8) 57):
case ((NU8) 58):
Result_188400 = (*N_188399).KindU.S6.Sons->data[0];
break;
case ((NU8) 47):
case ((NU8) 48):
case ((NU8) 50):
Result_188400 = (*N_188399).KindU.S6.Sons->data[1];
break;
default:
Result_188400 = N_188399;
break;
}
return Result_188400;
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13218, void* Src_13219) {
TY10802* C_13220;
NI LOC4;
TY10802* C_13222;
NI LOC9;
if (!!((Src_13219 == NIM_NIL))) goto LA2;
C_13220 = 0;
C_13220 = Usrtocell_11612(Src_13219);
LOC4 = Atomicinc_3001(&(*C_13220).Refcount, 8);
LA2: ;
if (!!(((*Dest_13218) == NIM_NIL))) goto LA6;
C_13222 = 0;
C_13222 = Usrtocell_11612((*Dest_13218));
LOC9 = Atomicdec_3006(&(*C_13222).Refcount, 8);
if (!((NU32)(LOC9) < (NU32)(8))) goto LA10;
Rtladdzct_12601(C_13222);
LA10: ;
LA6: ;
(*Dest_13218) = Src_13219;
}
N_NIMCALL(TY55525*, Transformarrayaccess_190480)(TY188012* C_190482, TY55525* N_190483) {
TY55525* Result_190484;
NI I_190540;
NI HEX3Atmp_190566;
NI LOC1;
NI Res_190568;
Result_190484 = 0;
Result_190484 = Copytree_55858(N_190483);
asgnRefNoCycle((void**) &(*Result_190484).KindU.S6.Sons->data[0], Skipconv_188397((*Result_190484).KindU.S6.Sons->data[0]));
asgnRefNoCycle((void**) &(*Result_190484).KindU.S6.Sons->data[1], Skipconv_188397((*Result_190484).KindU.S6.Sons->data[1]));
I_190540 = 0;
HEX3Atmp_190566 = 0;
LOC1 = Sonslen_55803(Result_190484);
HEX3Atmp_190566 = (NI32)(LOC1 - 1);
Res_190568 = 0;
Res_190568 = 0;
while (1) {
if (!(Res_190568 <= HEX3Atmp_190566)) goto LA2;
I_190540 = Res_190568;
asgnRefNoCycle((void**) &(*Result_190484).KindU.S6.Sons->data[I_190540], Transform_188092(C_190482, (*Result_190484).KindU.S6.Sons->data[I_190540]));
Res_190568 += 1;
} LA2: ;
return Result_190484;
}
N_NIMCALL(void, Gathervars_189885)(TY188012* C_189887, TY55525* N_189888, TY55900* Marked_189890, TY55547* Owner_189891, TY55525* Container_189892) {
TY55547* S_189916;
NIM_BOOL Found_189917;
NIM_BOOL LOC5;
NIM_BOOL LOC6;
NIM_BOOL LOC9;
TY55525* LOC12;
NI I_189968;
NI HEX3Atmp_189982;
NI LOC13;
NI Res_189984;
if (!(N_189888 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*N_189888).Kind) {
case ((NU8) 3):
S_189916 = 0;
S_189916 = (*N_189888).KindU.S4.Sym;
Found_189917 = 0;
Found_189917 = NIM_FALSE;
switch ((*S_189916).Kind) {
case ((NU8) 8):
Found_189917 = !((((*S_189916).Flags &(1<<((((NU8) 5))&31)))!=0));
break;
case ((NU8) 5):
case ((NU8) 17):
case ((NU8) 3):
Found_189917 = NIM_TRUE;
break;
default:
break;
}
LOC6 = Found_189917;
if (!(LOC6)) goto LA7;
LOC6 = !(((*Owner_189891).Sup.Id == (*(*S_189916).Owner).Sup.Id));
LA7: ;
LOC5 = LOC6;
if (!(LOC5)) goto LA8;
LOC9 = Intsetcontainsorincl_55928(Marked_189890, (*S_189916).Sup.Id);
LOC5 = !(LOC9);
LA8: ;
if (!LOC5) goto LA10;
(*S_189916).Flags |=(1<<((NI32)(((NU8) 23))%(sizeof(NI32)*8)));
LOC12 = 0;
LOC12 = Copynode_55855(N_189888);
Addson_55823(Container_189892, LOC12);
LA10: ;
break;
case ((NU8) 1) ... ((NU8) 2):
case ((NU8) 4) ... ((NU8) 18):
break;
default:
I_189968 = 0;
HEX3Atmp_189982 = 0;
LOC13 = Sonslen_55803(N_189888);
HEX3Atmp_189982 = (NI32)(LOC13 - 1);
Res_189984 = 0;
Res_189984 = 0;
while (1) {
if (!(Res_189984 <= HEX3Atmp_189982)) goto LA14;
I_189968 = Res_189984;
Gathervars_189885(C_189887, (*N_189888).KindU.S6.Sons->data[I_189968], Marked_189890, Owner_189891, Container_189892);
Res_189984 += 1;
} LA14: ;
break;
}
BeforeRet: ;
}
N_NIMCALL(void, Addformalparam_189987)(TY55547* Routine_189989, TY55547* Param_189990) {
TY55525* LOC1;
Addson_55827((*Routine_189989).Typ, (*Param_189990).Typ);
LOC1 = 0;
LOC1 = Newsymnode_55734(Param_189990);
Addson_55823((*(*Routine_189989).Ast).KindU.S6.Sons->data[2], LOC1);
}
N_NIMCALL(TY188010*, Newtranscon_188021)(void) {
TY188010* Result_188023;
Result_188023 = 0;
Result_188023 = (TY188010*) newObj(NTI188008, sizeof(TY188010));
Initidnodetable_55762(&(*Result_188023).Mapping);
return Result_188023;
}
N_NIMCALL(TY55525*, Indirectaccess_190003)(TY55547* A_190005, TY55547* B_190006) {
TY55525* Result_190007;
TY55525* X_190008;
TY55525* Y_190009;
TY55525* Deref_190010;
Result_190007 = 0;
X_190008 = 0;
X_190008 = Newsymnode_55734(A_190005);
Y_190009 = 0;
Y_190009 = Newsymnode_55734(B_190006);
Deref_190010 = 0;
Deref_190010 = Newnodei_55737(((NU8) 38), (*X_190008).Info);
asgnRef((void**) &(*Deref_190010).Typ, (*(*X_190008).Typ).Sons->data[0]);
Addson_55823(Deref_190010, X_190008);
Result_190007 = Newnodei_55737(((NU8) 36), (*X_190008).Info);
Addson_55823(Result_190007, Deref_190010);
Addson_55823(Result_190007, Y_190009);
asgnRef((void**) &(*Result_190007).Typ, (*Y_190009).Typ);
return Result_190007;
}
N_NIMCALL(void, Pushtranscon_188040)(TY188012* C_188042, TY188010* T_188043) {
asgnRef((void**) &(*T_188043).Next, (*C_188042).Transcon);
asgnRef((void**) &(*C_188042).Transcon, T_188043);
}
N_NIMCALL(void, Poptranscon_188044)(TY188012* C_188046) {
if (!((*C_188046).Transcon == NIM_NIL)) goto LA2;
Internalerror_47571(((NimStringDesc*) &TMP197230));
LA2: ;
asgnRef((void**) &(*C_188046).Transcon, (*(*C_188046).Transcon).Next);
}
N_NIMCALL(TY55525*, Transformlambda_190011)(TY188012* C_190013, TY55525* N_190014) {
TY55525* Result_190015;
TY55900 Marked_190016;
TY55547* S_190063;
TY55525* Closure_190076;
TY55551* Cl_190090;
TY55551* P_190091;
TY55547* Param_190100;
TY54011* LOC4;
NI LOC6;
TY188010* Newc_190103;
NI I_190111;
NI HEX3Atmp_190186;
NI LOC9;
NI Res_190188;
TY55525* LOC11;
Result_190015 = 0;
memset((void*)&Marked_190016, 0, sizeof(Marked_190016));
Result_190015 = N_190014;
Intsetinit_55924(&Marked_190016);
if (!!(((*(*N_190014).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA2;
Internalerror_47567((*N_190014).Info, ((NimStringDesc*) &TMP197228));
LA2: ;
S_190063 = 0;
S_190063 = (*(*N_190014).KindU.S6.Sons->data[0]).KindU.S4.Sym;
Closure_190076 = 0;
Closure_190076 = Newnodei_55737(((NU8) 113), (*(*N_190014).KindU.S6.Sons->data[4]).Info);
Gathervars_189885(C_190013, (*N_190014).KindU.S6.Sons->data[4], &Marked_190016, S_190063, Closure_190076);
Cl_190090 = 0;
Cl_190090 = Newtype_55706(((NU8) 17), S_190063);
asgnRefNoCycle((void**) &(*Cl_190090).N, Closure_190076);
Addson_55827(Cl_190090, NIM_NIL);
P_190091 = 0;
P_190091 = Newtype_55706(((NU8) 22), S_190063);
Addson_55827(P_190091, Cl_190090);
Param_190100 = 0;
LOC4 = 0;
LOC4 = Getident_54016(((NimStringDesc*) &TMP197229));
Param_190100 = Newsym_55701(((NU8) 3), LOC4, S_190063);
asgnRef((void**) &(*Param_190100).Typ, P_190091);
Addformalparam_189987(S_190063, Param_190100);
LOC6 = Sonslen_55803(Closure_190076);
if (!(0 < LOC6)) goto LA7;
Newc_190103 = 0;
Newc_190103 = Newtranscon_188021();
I_190111 = 0;
HEX3Atmp_190186 = 0;
LOC9 = Sonslen_55803(Closure_190076);
HEX3Atmp_190186 = (NI32)(LOC9 - 1);
Res_190188 = 0;
Res_190188 = 0;
while (1) {
if (!(Res_190188 <= HEX3Atmp_190186)) goto LA10;
I_190111 = Res_190188;
LOC11 = 0;
LOC11 = Indirectaccess_190003(Param_190100, (*(*Closure_190076).KindU.S6.Sons->data[I_190111]).KindU.S4.Sym);
Idnodetableput_59188(&(*Newc_190103).Mapping, &(*(*Closure_190076).KindU.S6.Sons->data[I_190111]).KindU.S4.Sym->Sup, LOC11);
Res_190188 += 1;
} LA10: ;
Pushtranscon_188040(C_190013, Newc_190103);
asgnRefNoCycle((void**) &(*N_190014).KindU.S6.Sons->data[4], Transform_188092(C_190013, (*N_190014).KindU.S6.Sons->data[4]));
Poptranscon_188044(C_190013);
LA7: ;
return Result_190015;
}
N_NIMCALL(TY55547*, Getcurrowner_188058)(TY188012* C_188060) {
TY55547* Result_188061;
Result_188061 = 0;
if (!!(((*C_188060).Transcon == NIM_NIL))) goto LA2;
Result_188061 = (*(*C_188060).Transcon).Owner;
goto LA1;
LA2: ;
Result_188061 = (*C_188060).Module;
LA1: ;
return Result_188061;
}
static N_INLINE(void, appendString)(NimStringDesc* Dest_18792, NimStringDesc* Src_18793) {
memcpy(((NCSTRING) (&(*Dest_18792).data[((*Dest_18792).Sup.len)-0])), ((NCSTRING) ((*Src_18793).data)), ((int) ((NI32)((NI32)((*Src_18793).Sup.len + 1) * 1))));
(*Dest_18792).Sup.len += (*Src_18793).Sup.len;
}
N_NIMCALL(void, Transformcontinueaux_188267)(TY188012* C_188269, TY55525* N_188270, TY55547* Labl_188271, NI* Counter_188273) {
TY55525* LOC4;
NI I_188319;
NI HEX3Atmp_188333;
NI LOC5;
NI Res_188335;
if (!(N_188270 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*N_188270).Kind) {
case ((NU8) 1) ... ((NU8) 18):
case ((NU8) 84):
case ((NU8) 85):
break;
case ((NU8) 98):
(*N_188270).Kind = ((NU8) 97);
LOC4 = 0;
LOC4 = Newsymnode_55734(Labl_188271);
Addson_55823(N_188270, LOC4);
(*Counter_188273) += 1;
break;
default:
I_188319 = 0;
HEX3Atmp_188333 = 0;
LOC5 = Sonslen_55803(N_188270);
HEX3Atmp_188333 = (NI32)(LOC5 - 1);
Res_188335 = 0;
Res_188335 = 0;
while (1) {
if (!(Res_188335 <= HEX3Atmp_188333)) goto LA6;
I_188319 = Res_188335;
Transformcontinueaux_188267(C_188269, (*N_188270).KindU.S6.Sons->data[I_188319], Labl_188271, Counter_188273);
Res_188335 += 1;
} LA6: ;
break;
}
BeforeRet: ;
}
N_NIMCALL(TY55525*, Transformcontinue_188338)(TY188012* C_188340, TY55525* N_188341) {
TY55525* Result_188342;
NI I_188350;
NI HEX3Atmp_188392;
NI LOC1;
NI Res_188394;
NI Counter_188375;
TY55547* Labl_188376;
TY55547* LOC3;
NimStringDesc* LOC4;
NimStringDesc* LOC5;
TY55525* X_188390;
TY55525* LOC9;
Result_188342 = 0;
Result_188342 = N_188341;
I_188350 = 0;
HEX3Atmp_188392 = 0;
LOC1 = Sonslen_55803(N_188341);
HEX3Atmp_188392 = (NI32)(LOC1 - 1);
Res_188394 = 0;
Res_188394 = 0;
while (1) {
if (!(Res_188394 <= HEX3Atmp_188392)) goto LA2;
I_188350 = Res_188394;
asgnRefNoCycle((void**) &(*Result_188342).KindU.S6.Sons->data[I_188350], Transform_188092(C_188340, (*N_188341).KindU.S6.Sons->data[I_188350]));
Res_188394 += 1;
} LA2: ;
Counter_188375 = 0;
Counter_188375 = 0;
Labl_188376 = 0;
LOC3 = 0;
LOC3 = Getcurrowner_188058(C_188340);
Labl_188376 = Newsym_55701(((NU8) 19), NIM_NIL, LOC3);
LOC4 = 0;
LOC5 = 0;
LOC5 = nimIntToStr((*Labl_188376).Sup.Id);
LOC4 = rawNewString(LOC5->Sup.len + 4);
appendString(LOC4, ((NimStringDesc*) &TMP197232));
appendString(LOC4, LOC5);
asgnRefNoCycle((void**) &(*Labl_188376).Name, Getident_54016(LOC4));
(*Labl_188376).Info = (*Result_188342).Info;
Transformcontinueaux_188267(C_188340, Result_188342, Labl_188376, &Counter_188375);
if (!(0 < Counter_188375)) goto LA7;
X_188390 = 0;
X_188390 = Newnodei_55737(((NU8) 99), (*Result_188342).Info);
LOC9 = 0;
LOC9 = Newsymnode_55734(Labl_188376);
Addson_55823(X_188390, LOC9);
Addson_55823(X_188390, Result_188342);
Result_188342 = X_188390;
LA7: ;
return Result_188342;
}
N_NIMCALL(void, Addvar_188916)(TY55525* Father_188918, TY55525* V_188919) {
TY55525* Vpart_188920;
Vpart_188920 = 0;
Vpart_188920 = Newnodei_55737(((NU8) 25), (*V_188919).Info);
Addson_55823(Vpart_188920, V_188919);
Addson_55823(Vpart_188920, NIM_NIL);
Addson_55823(Vpart_188920, NIM_NIL);
Addson_55823(Father_188918, Vpart_188920);
}
N_NIMCALL(TY55525*, Skippassasopenarray_189491)(TY55525* N_189493) {
TY55525* Result_189494;
Result_189494 = 0;
Result_189494 = N_189493;
while (1) {
if (!((*Result_189494).Kind == ((NU8) 62))) goto LA1;
Result_189494 = (*Result_189494).KindU.S6.Sons->data[0];
} LA1: ;
return Result_189494;
}
N_NIMCALL(NU8, Putarginto_189522)(TY55525* Arg_189524, TY55551* Formal_189525) {
NU8 Result_189526;
TY55551* LOC2;
NI I_189543;
NI HEX3Atmp_189575;
NI LOC5;
NI Res_189577;
NU8 LOC8;
TY55551* LOC12;
Result_189526 = 0;
LOC2 = 0;
LOC2 = Skiptypes_96085(Formal_189525, 43008);
if (!((*LOC2).Kind == ((NU8) 27))) goto LA3;
Result_189526 = ((NU8) 0);
goto BeforeRet;
LA3: ;
switch ((*Arg_189524).Kind) {
case ((NU8) 1) ... ((NU8) 18):
Result_189526 = ((NU8) 0);
break;
case ((NU8) 30):
case ((NU8) 31):
case ((NU8) 32):
Result_189526 = ((NU8) 1);
I_189543 = 0;
HEX3Atmp_189575 = 0;
LOC5 = Sonslen_55803(Arg_189524);
HEX3Atmp_189575 = (NI32)(LOC5 - 1);
Res_189577 = 0;
Res_189577 = 0;
while (1) {
if (!(Res_189577 <= HEX3Atmp_189575)) goto LA6;
I_189543 = Res_189577;
LOC8 = Putarginto_189522((*Arg_189524).KindU.S6.Sons->data[I_189543], Formal_189525);
if (!!((LOC8 == ((NU8) 0)))) goto LA9;
goto BeforeRet;
LA9: ;
Res_189577 += 1;
} LA6: ;
Result_189526 = ((NU8) 0);
break;
default:
LOC12 = 0;
LOC12 = Skiptypes_96085(Formal_189525, 43008);
if (!((*LOC12).Kind == ((NU8) 23))) goto LA13;
Result_189526 = ((NU8) 2);
goto LA11;
LA13: ;
Result_189526 = ((NU8) 1);
LA11: ;
break;
}
BeforeRet: ;
return Result_189526;
}
N_NIMCALL(TY55547*, Newtemp_188073)(TY188012* C_188075, TY55551* Typ_188076, TY47532 Info_188077) {
TY55547* Result_188078;
TY54011* LOC1;
TY55547* LOC2;
Result_188078 = 0;
LOC1 = 0;
LOC1 = Getident_54016(((NimStringDesc*) &TMP197232));
LOC2 = 0;
LOC2 = Getcurrowner_188058(C_188075);
Result_188078 = Newsym_55701(((NU8) 5), LOC1, LOC2);
(*Result_188078).Info = Info_188077;
asgnRef((void**) &(*Result_188078).Typ, Skiptypes_96085(Typ_188076, 2048));
(*Result_188078).Flags |=(1<<((NI32)(((NU8) 4))%(sizeof(NI32)*8)));
return Result_188078;
}
N_NIMCALL(TY55525*, Newasgnstmt_188096)(TY188012* C_188098, TY55525* Le_188099, TY55525* Ri_188100) {
TY55525* Result_188101;
Result_188101 = 0;
Result_188101 = Newnodei_55737(((NU8) 64), (*Ri_188100).Info);
Addson_55823(Result_188101, Le_188099);
Addson_55823(Result_188101, Ri_188100);
return Result_188101;
}
N_NIMCALL(TY55525*, Newtupleaccess_188425)(TY55525* Tup_188427, NI I_188428) {
TY55525* Result_188429;
TY55525* LOC1;
TY55525* Lit_188430;
TY55551* LOC2;
Result_188429 = 0;
Result_188429 = Newnodeit_55741(((NU8) 33), (*Tup_188427).Info, (*(*Tup_188427).Typ).Sons->data[I_188428]);
LOC1 = 0;
LOC1 = Copytree_55858(Tup_188427);
Addson_55823(Result_188429, LOC1);
Lit_188430 = 0;
LOC2 = 0;
LOC2 = Getsystype_101008(((NU8) 31));
Lit_188430 = Newnodeit_55741(((NU8) 6), (*Tup_188427).Info, LOC2);
(*Lit_188430).KindU.S1.Intval = ((NI64) (I_188428));
Addson_55823(Result_188429, Lit_188430);
return Result_188429;
}
N_NIMCALL(void, Unpacktuple_188443)(TY188012* C_188445, TY55525* N_188446, TY55525* Father_188447) {
NI I_188455;
NI HEX3Atmp_188469;
NI LOC1;
NI Res_188471;
TY55525* LOC3;
TY55525* LOC4;
TY55525* LOC5;
I_188455 = 0;
HEX3Atmp_188469 = 0;
LOC1 = Sonslen_55803((*(*C_188445).Transcon).Forstmt);
HEX3Atmp_188469 = (NI32)(LOC1 - 3);
Res_188471 = 0;
Res_188471 = 0;
while (1) {
if (!(Res_188471 <= HEX3Atmp_188469)) goto LA2;
I_188455 = Res_188471;
LOC3 = 0;
LOC3 = Newtupleaccess_188425(N_188446, I_188455);
LOC4 = 0;
LOC4 = Transform_188092(C_188445, LOC3);
LOC5 = 0;
LOC5 = Newasgnstmt_188096(C_188445, (*(*(*C_188445).Transcon).Forstmt).KindU.S6.Sons->data[I_188455], LOC4);
Addson_55823(Father_188447, LOC5);
Res_188471 += 1;
} LA2: ;
}
N_NIMCALL(TY55525*, Transformyield_188474)(TY188012* C_188476, TY55525* N_188477) {
TY55525* Result_188478;
TY55525* E_188491;
TY55551* LOC2;
NI I_188518;
NI HEX3Atmp_188556;
NI LOC8;
NI Res_188558;
TY55525* LOC10;
TY55525* LOC11;
TY55525* LOC12;
TY55525* LOC13;
TY55525* LOC14;
TY55525* LOC15;
TY55525* LOC16;
Result_188478 = 0;
Result_188478 = Newnodei_55737(((NU8) 101), (*N_188477).Info);
E_188491 = 0;
E_188491 = (*N_188477).KindU.S6.Sons->data[0];
LOC2 = 0;
LOC2 = Skiptypes_96085((*E_188491).Typ, 2048);
if (!((*LOC2).Kind == ((NU8) 18))) goto LA3;
E_188491 = Skipconv_188397(E_188491);
if (!((*E_188491).Kind == ((NU8) 30))) goto LA6;
I_188518 = 0;
HEX3Atmp_188556 = 0;
LOC8 = Sonslen_55803(E_188491);
HEX3Atmp_188556 = (NI32)(LOC8 - 1);
Res_188558 = 0;
Res_188558 = 0;
while (1) {
if (!(Res_188558 <= HEX3Atmp_188556)) goto LA9;
I_188518 = Res_188558;
LOC10 = 0;
LOC10 = Copytree_55858((*E_188491).KindU.S6.Sons->data[I_188518]);
LOC11 = 0;
LOC11 = Transform_188092(C_188476, LOC10);
LOC12 = 0;
LOC12 = Newasgnstmt_188096(C_188476, (*(*(*C_188476).Transcon).Forstmt).KindU.S6.Sons->data[I_188518], LOC11);
Addson_55823(Result_188478, LOC12);
Res_188558 += 1;
} LA9: ;
goto LA5;
LA6: ;
Unpacktuple_188443(C_188476, E_188491, Result_188478);
LA5: ;
goto LA1;
LA3: ;
LOC13 = 0;
LOC13 = Copytree_55858(E_188491);
E_188491 = Transform_188092(C_188476, LOC13);
LOC14 = 0;
LOC14 = Newasgnstmt_188096(C_188476, (*(*(*C_188476).Transcon).Forstmt).KindU.S6.Sons->data[0], E_188491);
Addson_55823(Result_188478, LOC14);
LA1: ;
LOC15 = 0;
LOC15 = Lastson_55809((*(*C_188476).Transcon).Forstmt);
LOC16 = 0;
LOC16 = Transform_188092(C_188476, LOC15);
Addson_55823(Result_188478, LOC16);
return Result_188478;
}
N_NIMCALL(TY55525*, Inlineiter_188561)(TY188012* C_188563, TY55525* N_188564) {
TY55525* Result_188565;
TY55525* LOC4;
NI I_188584;
NI HEX3Atmp_188901;
NI LOC5;
NI Res_188903;
TY55525* It_188597;
TY55547* Newvar_188661;
TY55525* LOC17;
NI L_188744;
NI J_188752;
NI HEX3Atmp_188895;
NI Res_188897;
TY55547* Newvar_188777;
TY55525* LOC22;
NI I_188881;
NI HEX3Atmp_188911;
NI LOC23;
NI Res_188913;
TY55525* LOC25;
Result_188565 = 0;
Result_188565 = N_188564;
if (!(N_188564 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*N_188564).Kind) {
case ((NU8) 1) ... ((NU8) 18):
LOC4 = 0;
LOC4 = Copytree_55858(N_188564);
Result_188565 = Transform_188092(C_188563, LOC4);
break;
case ((NU8) 92):
Result_188565 = Transformyield_188474(C_188563, N_188564);
break;
case ((NU8) 87):
Result_188565 = Copytree_55858(N_188564);
I_188584 = 0;
HEX3Atmp_188901 = 0;
LOC5 = Sonslen_55803(Result_188565);
HEX3Atmp_188901 = (NI32)(LOC5 - 1);
Res_188903 = 0;
Res_188903 = 0;
while (1) {
if (!(Res_188903 <= HEX3Atmp_188901)) goto LA6;
I_188584 = Res_188903;
It_188597 = 0;
It_188597 = (*Result_188565).KindU.S6.Sons->data[I_188584];
if (!((*It_188597).Kind == ((NU8) 105))) goto LA9;
goto LA7;
LA9: ;
if (!((*It_188597).Kind == ((NU8) 25))) goto LA12;
if (!!(((*(*It_188597).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA15;
Internalerror_47567((*It_188597).Info, ((NimStringDesc*) &TMP197234));
LA15: ;
Newvar_188661 = 0;
Newvar_188661 = Copysym_55775((*(*It_188597).KindU.S6.Sons->data[0]).KindU.S4.Sym, NIM_FALSE);
(*Newvar_188661).Flags |=(1<<((NI32)(((NU8) 4))%(sizeof(NI32)*8)));
asgnRef((void**) &(*Newvar_188661).Owner, Getcurrowner_188058(C_188563));
LOC17 = 0;
LOC17 = Newsymnode_55734(Newvar_188661);
Idnodetableput_59188(&(*(*C_188563).Transcon).Mapping, &(*(*It_188597).KindU.S6.Sons->data[0]).KindU.S4.Sym->Sup, LOC17);
asgnRefNoCycle((void**) &(*It_188597).KindU.S6.Sons->data[0], Newsymnode_55734(Newvar_188661));
asgnRefNoCycle((void**) &(*It_188597).KindU.S6.Sons->data[2], Transform_188092(C_188563, (*It_188597).KindU.S6.Sons->data[2]));
goto LA11;
LA12: ;
if (!!(((*It_188597).Kind == ((NU8) 26)))) goto LA19;
Internalerror_47567((*It_188597).Info, ((NimStringDesc*) &TMP197235));
LA19: ;
L_188744 = 0;
L_188744 = Sonslen_55803(It_188597);
J_188752 = 0;
HEX3Atmp_188895 = 0;
HEX3Atmp_188895 = (NI32)(L_188744 - 3);
Res_188897 = 0;
Res_188897 = 0;
while (1) {
if (!(Res_188897 <= HEX3Atmp_188895)) goto LA21;
J_188752 = Res_188897;
Newvar_188777 = 0;
Newvar_188777 = Copysym_55775((*(*It_188597).KindU.S6.Sons->data[J_188752]).KindU.S4.Sym, NIM_FALSE);
(*Newvar_188777).Flags |=(1<<((NI32)(((NU8) 4))%(sizeof(NI32)*8)));
asgnRef((void**) &(*Newvar_188777).Owner, Getcurrowner_188058(C_188563));
LOC22 = 0;
LOC22 = Newsymnode_55734(Newvar_188777);
Idnodetableput_59188(&(*(*C_188563).Transcon).Mapping, &(*(*It_188597).KindU.S6.Sons->data[J_188752]).KindU.S4.Sym->Sup, LOC22);
asgnRefNoCycle((void**) &(*It_188597).KindU.S6.Sons->data[J_188752], Newsymnode_55734(Newvar_188777));
Res_188897 += 1;
} LA21: ;
asgnRefNoCycle((void**) &(*It_188597).KindU.S6.Sons->data[(NI32)(L_188744 - 1)], Transform_188092(C_188563, (*It_188597).KindU.S6.Sons->data[(NI32)(L_188744 - 1)]));
LA11: ;
LA7: ;
Res_188903 += 1;
} LA6: ;
break;
default:
Result_188565 = Copynode_55855(N_188564);
I_188881 = 0;
HEX3Atmp_188911 = 0;
LOC23 = Sonslen_55803(N_188564);
HEX3Atmp_188911 = (NI32)(LOC23 - 1);
Res_188913 = 0;
Res_188913 = 0;
while (1) {
if (!(Res_188913 <= HEX3Atmp_188911)) goto LA24;
I_188881 = Res_188913;
LOC25 = 0;
LOC25 = Inlineiter_188561(C_188563, (*N_188564).KindU.S6.Sons->data[I_188881]);
Addson_55823(Result_188565, LOC25);
Res_188913 += 1;
} LA24: ;
Result_188565 = Transform_188092(C_188563, Result_188565);
break;
}
BeforeRet: ;
return Result_188565;
}
N_NIMCALL(TY55525*, Transformfor_189580)(TY188012* C_189582, TY55525* N_189583) {
TY55525* Result_189584;
NI Length_189594;
TY55525* V_189619;
NI I_189627;
NI HEX3Atmp_189789;
NI Res_189791;
TY55525* LOC5;
TY188010* Newc_189640;
TY55525* Call_189653;
NIM_BOOL LOC7;
NI I_189724;
NI HEX3Atmp_189795;
NI LOC14;
NI Res_189797;
TY55525* Arg_189737;
TY55525* LOC16;
TY55547* Formal_189762;
TY55551* LOC17;
NU8 LOC18;
TY55547* Temp_189764;
TY55525* LOC19;
TY55525* LOC20;
TY55525* LOC21;
TY55525* LOC22;
TY55525* Body_189787;
TY55525* LOC23;
Result_189584 = 0;
if (!!(((*N_189583).Kind == ((NU8) 84)))) goto LA2;
Internalerror_47567((*N_189583).Info, ((NimStringDesc*) &TMP197231));
LA2: ;
Result_189584 = Newnodei_55737(((NU8) 101), (*N_189583).Info);
Length_189594 = 0;
Length_189594 = Sonslen_55803(N_189583);
asgnRefNoCycle((void**) &(*N_189583).KindU.S6.Sons->data[(NI32)(Length_189594 - 1)], Transformcontinue_188338(C_189582, (*N_189583).KindU.S6.Sons->data[(NI32)(Length_189594 - 1)]));
V_189619 = 0;
V_189619 = Newnodei_55737(((NU8) 87), (*N_189583).Info);
I_189627 = 0;
HEX3Atmp_189789 = 0;
HEX3Atmp_189789 = (NI32)(Length_189594 - 3);
Res_189791 = 0;
Res_189791 = 0;
while (1) {
if (!(Res_189791 <= HEX3Atmp_189789)) goto LA4;
I_189627 = Res_189791;
LOC5 = 0;
LOC5 = Copytree_55858((*N_189583).KindU.S6.Sons->data[I_189627]);
Addvar_188916(V_189619, LOC5);
Res_189791 += 1;
} LA4: ;
Addson_55823(Result_189584, V_189619);
Newc_189640 = 0;
Newc_189640 = Newtranscon_188021();
Call_189653 = 0;
Call_189653 = (*N_189583).KindU.S6.Sons->data[(NI32)(Length_189594 - 2)];
LOC7 = !(((*Call_189653).Kind == ((NU8) 21)));
if (LOC7) goto LA8;
LOC7 = !(((*(*Call_189653).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)));
LA8: ;
if (!LOC7) goto LA9;
Internalerror_47567((*Call_189653).Info, ((NimStringDesc*) &TMP197231));
LA9: ;
asgnRef((void**) &(*Newc_189640).Owner, (*(*Call_189653).KindU.S6.Sons->data[0]).KindU.S4.Sym);
asgnRefNoCycle((void**) &(*Newc_189640).Forstmt, N_189583);
if (!!(((*(*Newc_189640).Owner).Kind == ((NU8) 11)))) goto LA12;
Internalerror_47567((*Call_189653).Info, ((NimStringDesc*) &TMP197231));
LA12: ;
Pushtranscon_188040(C_189582, Newc_189640);
I_189724 = 0;
HEX3Atmp_189795 = 0;
LOC14 = Sonslen_55803(Call_189653);
HEX3Atmp_189795 = (NI32)(LOC14 - 1);
Res_189797 = 0;
Res_189797 = 1;
while (1) {
if (!(Res_189797 <= HEX3Atmp_189795)) goto LA15;
I_189724 = Res_189797;
Arg_189737 = 0;
LOC16 = 0;
LOC16 = Transform_188092(C_189582, (*Call_189653).KindU.S6.Sons->data[I_189724]);
Arg_189737 = Skippassasopenarray_189491(LOC16);
Formal_189762 = 0;
LOC17 = 0;
LOC17 = Skiptypes_96085((*(*Newc_189640).Owner).Typ, 43008);
Formal_189762 = (*(*(*LOC17).N).KindU.S6.Sons->data[I_189724]).KindU.S4.Sym;
LOC18 = Putarginto_189522(Arg_189737, (*Formal_189762).Typ);
switch (LOC18) {
case ((NU8) 0):
Idnodetableput_59188(&(*Newc_189640).Mapping, &Formal_189762->Sup, Arg_189737);
break;
case ((NU8) 1):
Temp_189764 = 0;
Temp_189764 = Newtemp_188073(C_189582, (*Formal_189762).Typ, (*Formal_189762).Info);
LOC19 = 0;
LOC19 = Newsymnode_55734(Temp_189764);
Addvar_188916(V_189619, LOC19);
LOC20 = 0;
LOC20 = Newsymnode_55734(Temp_189764);
LOC21 = 0;
LOC21 = Newasgnstmt_188096(C_189582, LOC20, Arg_189737);
Addson_55823(Result_189584, LOC21);
LOC22 = 0;
LOC22 = Newsymnode_55734(Temp_189764);
Idnodetableput_59188(&(*Newc_189640).Mapping, &Formal_189762->Sup, LOC22);
break;
case ((NU8) 2):
Internalerror_47567((*Arg_189737).Info, ((NimStringDesc*) &TMP197233));
break;
}
Res_189797 += 1;
} LA15: ;
Body_189787 = 0;
Body_189787 = (*(*(*Newc_189640).Owner).Ast).KindU.S6.Sons->data[4];
Pushinfocontext_47606((*N_189583).Info);
LOC23 = 0;
LOC23 = Inlineiter_188561(C_189582, Body_189787);
Addson_55823(Result_189584, LOC23);
Popinfocontext_47609();
Poptranscon_188044(C_189582);
return Result_189584;
}
N_NIMCALL(TY55525*, Transformcase_190191)(TY188012* C_190193, TY55525* N_190194) {
TY55525* Result_190195;
NI Length_190196;
NI I_190197;
TY55525* Ifs_190330;
TY55525* Elsen_190331;
NI J_190339;
NI HEX3Atmp_190468;
NI HEX3Atmp_190469;
NI Res_190471;
NIM_BOOL LOC12;
TY55551* LOC14;
TY55525* Elsen_190433;
TY55525* LOC17;
NI J_190441;
NI HEX3Atmp_190475;
NI LOC18;
NI Res_190477;
Result_190195 = 0;
Length_190196 = 0;
Length_190196 = Sonslen_55803(N_190194);
I_190197 = 0;
I_190197 = (NI32)(Length_190196 - 1);
if (!((*(*N_190194).KindU.S6.Sons->data[I_190197]).Kind == ((NU8) 78))) goto LA2;
I_190197 -= 1;
LA2: ;
if (!((*(*N_190194).KindU.S6.Sons->data[I_190197]).Kind == ((NU8) 76))) goto LA5;
while (1) {
if (!((*(*N_190194).KindU.S6.Sons->data[I_190197]).Kind == ((NU8) 76))) goto LA7;
I_190197 -= 1;
} LA7: ;
if (!!(((*(*N_190194).KindU.S6.Sons->data[I_190197]).Kind == ((NU8) 75)))) goto LA9;
Internalerror_47567((*(*N_190194).KindU.S6.Sons->data[I_190197]).Info, ((NimStringDesc*) &TMP197236));
LA9: ;
Ifs_190330 = 0;
Ifs_190330 = Newnodei_55737(((NU8) 82), (*(*N_190194).KindU.S6.Sons->data[(NI32)(I_190197 + 1)]).Info);
Elsen_190331 = 0;
Elsen_190331 = Newnodei_55737(((NU8) 78), (*Ifs_190330).Info);
J_190339 = 0;
HEX3Atmp_190468 = 0;
HEX3Atmp_190469 = 0;
HEX3Atmp_190468 = (NI32)(I_190197 + 1);
HEX3Atmp_190469 = (NI32)(Length_190196 - 1);
Res_190471 = 0;
Res_190471 = HEX3Atmp_190468;
while (1) {
if (!(Res_190471 <= HEX3Atmp_190469)) goto LA11;
J_190339 = Res_190471;
Addson_55823(Ifs_190330, (*N_190194).KindU.S6.Sons->data[J_190339]);
Res_190471 += 1;
} LA11: ;
(*N_190194).KindU.S6.Sons = (TY55519*) setLengthSeq(&((*N_190194).KindU.S6.Sons)->Sup, sizeof(TY55525*), (NI32)(I_190197 + 2));
Addson_55823(Elsen_190331, Ifs_190330);
asgnRefNoCycle((void**) &(*N_190194).KindU.S6.Sons->data[(NI32)(I_190197 + 1)], Elsen_190331);
goto LA4;
LA5: ;
LOC12 = !(((*(*N_190194).KindU.S6.Sons->data[(NI32)(Length_190196 - 1)]).Kind == ((NU8) 78)));
if (!(LOC12)) goto LA13;
LOC14 = 0;
LOC14 = Skiptypes_96085((*(*N_190194).KindU.S6.Sons->data[0]).Typ, 9480192);
LOC12 = !(((*LOC14).Kind >= ((NU8) 31) && (*LOC14).Kind <= ((NU8) 35) || (*LOC14).Kind == ((NU8) 2) || (*LOC14).Kind == ((NU8) 14)));
LA13: ;
if (!LOC12) goto LA15;
Elsen_190433 = 0;
Elsen_190433 = Newnodei_55737(((NU8) 78), (*N_190194).Info);
LOC17 = 0;
LOC17 = Newnodei_55737(((NU8) 18), (*N_190194).Info);
Addson_55823(Elsen_190433, LOC17);
Addson_55823(N_190194, Elsen_190433);
goto LA4;
LA15: ;
LA4: ;
Result_190195 = N_190194;
J_190441 = 0;
HEX3Atmp_190475 = 0;
LOC18 = Sonslen_55803(N_190194);
HEX3Atmp_190475 = (NI32)(LOC18 - 1);
Res_190477 = 0;
Res_190477 = 0;
while (1) {
if (!(Res_190477 <= HEX3Atmp_190475)) goto LA19;
J_190441 = Res_190477;
asgnRefNoCycle((void**) &(*Result_190195).KindU.S6.Sons->data[J_190441], Transform_188092(C_190193, (*N_190194).KindU.S6.Sons->data[J_190441]));
Res_190477 += 1;
} LA19: ;
return Result_190195;
}
N_NIMCALL(TY55547*, Getmergeop_190571)(TY55525* N_190573) {
TY55547* Result_190574;
NIM_BOOL LOC2;
NIM_BOOL LOC3;
Result_190574 = 0;
Result_190574 = NIM_NIL;
switch ((*N_190573).Kind) {
case ((NU8) 21):
case ((NU8) 49):
case ((NU8) 20):
case ((NU8) 27):
case ((NU8) 28):
case ((NU8) 29):
case ((NU8) 22):
LOC3 = ((*(*N_190573).KindU.S6.Sons->data[0]).Kind == ((NU8) 3));
if (!(LOC3)) goto LA4;
LOC3 = ((*(*(*N_190573).KindU.S6.Sons->data[0]).KindU.S4.Sym).Kind == ((NU8) 9));
LA4: ;
LOC2 = LOC3;
if (!(LOC2)) goto LA5;
LOC2 = (((*(*(*N_190573).KindU.S6.Sons->data[0]).KindU.S4.Sym).Flags &(1<<((((NU8) 27))&31)))!=0);
LA5: ;
if (!LOC2) goto LA6;
Result_190574 = (*(*N_190573).KindU.S6.Sons->data[0]).KindU.S4.Sym;
LA6: ;
break;
default:
break;
}
return Result_190574;
}
N_NIMCALL(void, Flattentreeaux_190688)(TY55525* D_190690, TY55525* A_190691, TY55547* Op_190692) {
TY55547* Op2_190693;
NIM_BOOL LOC2;
NIM_BOOL LOC4;
NIM_BOOL LOC6;
NI I_190732;
NI HEX3Atmp_190746;
NI LOC10;
NI Res_190748;
TY55525* LOC12;
Op2_190693 = 0;
Op2_190693 = Getmergeop_190571(A_190691);
LOC2 = !((Op2_190693 == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC4 = ((*Op2_190693).Sup.Id == (*Op_190692).Sup.Id);
if (LOC4) goto LA5;
LOC6 = !(((*Op_190692).Magic == ((NU8) 0)));
if (!(LOC6)) goto LA7;
LOC6 = ((*Op2_190693).Magic == (*Op_190692).Magic);
LA7: ;
LOC4 = LOC6;
LA5: ;
LOC2 = LOC4;
LA3: ;
if (!LOC2) goto LA8;
I_190732 = 0;
HEX3Atmp_190746 = 0;
LOC10 = Sonslen_55803(A_190691);
HEX3Atmp_190746 = (NI32)(LOC10 - 1);
Res_190748 = 0;
Res_190748 = 1;
while (1) {
if (!(Res_190748 <= HEX3Atmp_190746)) goto LA11;
I_190732 = Res_190748;
Flattentreeaux_190688(D_190690, (*A_190691).KindU.S6.Sons->data[I_190732], Op_190692);
Res_190748 += 1;
} LA11: ;
goto LA1;
LA8: ;
LOC12 = 0;
LOC12 = Copytree_55858(A_190691);
Addson_55823(D_190690, LOC12);
LA1: ;
}
N_NIMCALL(TY55525*, Flattentree_190751)(TY55525* Root_190753) {
TY55525* Result_190754;
TY55547* Op_190755;
TY55525* LOC4;
Result_190754 = 0;
Op_190755 = 0;
Op_190755 = Getmergeop_190571(Root_190753);
if (!!((Op_190755 == NIM_NIL))) goto LA2;
Result_190754 = Copynode_55855(Root_190753);
LOC4 = 0;
LOC4 = Copytree_55858((*Root_190753).KindU.S6.Sons->data[0]);
Addson_55823(Result_190754, LOC4);
Flattentreeaux_190688(Result_190754, Root_190753, Op_190755);
goto LA1;
LA2: ;
Result_190754 = Root_190753;
LA1: ;
return Result_190754;
}
N_NIMCALL(TY55525*, Transformcall_190779)(TY188012* C_190781, TY55525* N_190782) {
TY55525* Result_190783;
NI I_190791;
NI HEX3Atmp_190987;
NI LOC1;
NI Res_190989;
TY55547* Op_190816;
NIM_BOOL LOC4;
NIM_BOOL LOC5;
NI LOC8;
TY55525* M_190839;
TY55525* LOC11;
NI J_190852;
NI LOC13;
TY55525* A_190867;
NIM_BOOL LOC15;
NIM_BOOL LOC19;
NI LOC20;
NI LOC23;
NIM_BOOL LOC26;
Result_190783 = 0;
Result_190783 = Flattentree_190751(N_190782);
I_190791 = 0;
HEX3Atmp_190987 = 0;
LOC1 = Sonslen_55803(Result_190783);
HEX3Atmp_190987 = (NI32)(LOC1 - 1);
Res_190989 = 0;
Res_190989 = 0;
while (1) {
if (!(Res_190989 <= HEX3Atmp_190987)) goto LA2;
I_190791 = Res_190989;
asgnRefNoCycle((void**) &(*Result_190783).KindU.S6.Sons->data[I_190791], Transform_188092(C_190781, (*Result_190783).KindU.S6.Sons->data[I_190791]));
Res_190989 += 1;
} LA2: ;
Op_190816 = 0;
Op_190816 = Getmergeop_190571(Result_190783);
LOC5 = !((Op_190816 == NIM_NIL));
if (!(LOC5)) goto LA6;
LOC5 = !(((*Op_190816).Magic == ((NU8) 0)));
LA6: ;
LOC4 = LOC5;
if (!(LOC4)) goto LA7;
LOC8 = Sonslen_55803(Result_190783);
LOC4 = (3 <= LOC8);
LA7: ;
if (!LOC4) goto LA9;
M_190839 = 0;
M_190839 = Result_190783;
Result_190783 = Newnodeit_55741(((NU8) 21), (*M_190839).Info, (*M_190839).Typ);
LOC11 = 0;
LOC11 = Copytree_55858((*M_190839).KindU.S6.Sons->data[0]);
Addson_55823(Result_190783, LOC11);
J_190852 = 0;
J_190852 = 1;
while (1) {
LOC13 = Sonslen_55803(M_190839);
if (!(J_190852 < LOC13)) goto LA12;
A_190867 = 0;
A_190867 = (*M_190839).KindU.S6.Sons->data[J_190852];
J_190852 += 1;
LOC15 = Isconstexpr_95016(A_190867);
if (!LOC15) goto LA16;
while (1) {
LOC20 = Sonslen_55803(M_190839);
LOC19 = (J_190852 < LOC20);
if (!(LOC19)) goto LA21;
LOC19 = Isconstexpr_95016((*M_190839).KindU.S6.Sons->data[J_190852]);
LA21: ;
if (!LOC19) goto LA18;
A_190867 = Evalop_112014((*Op_190816).Magic, M_190839, A_190867, (*M_190839).KindU.S6.Sons->data[J_190852], NIM_NIL);
J_190852 += 1;
} LA18: ;
LA16: ;
Addson_55823(Result_190783, A_190867);
} LA12: ;
LOC23 = Sonslen_55803(Result_190783);
if (!(LOC23 == 2)) goto LA24;
Result_190783 = (*Result_190783).KindU.S6.Sons->data[1];
LA24: ;
goto LA3;
LA9: ;
LOC26 = ((*(*Result_190783).KindU.S6.Sons->data[0]).Kind == ((NU8) 3));
if (!(LOC26)) goto LA27;
LOC26 = ((*(*(*Result_190783).KindU.S6.Sons->data[0]).KindU.S4.Sym).Kind == ((NU8) 10));
LA27: ;
if (!LOC26) goto LA28;
Result_190783 = Methodcall_158007(Result_190783);
goto LA3;
LA28: ;
LA3: ;
return Result_190783;
}
N_NIMCALL(TY55525*, Transformaddrderef_188921)(TY188012* C_188923, TY55525* N_188924, NU8 A_188925, NU8 B_188926) {
TY55525* Result_188927;
TY55525* M_188964;
NIM_BOOL LOC2;
TY55525* M_189055;
NIM_BOOL LOC7;
NIM_BOOL LOC12;
Result_188927 = 0;
switch ((*(*N_188924).KindU.S6.Sons->data[0]).Kind) {
case ((NU8) 56):
case ((NU8) 55):
case ((NU8) 62):
case ((NU8) 59):
case ((NU8) 57):
case ((NU8) 58):
M_188964 = 0;
M_188964 = (*(*N_188924).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[0];
LOC2 = ((*M_188964).Kind == A_188925);
if (LOC2) goto LA3;
LOC2 = ((*M_188964).Kind == B_188926);
LA3: ;
if (!LOC2) goto LA4;
asgnRefNoCycle((void**) &(*(*N_188924).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[0], (*M_188964).KindU.S6.Sons->data[0]);
Result_188927 = Transform_188092(C_188923, (*N_188924).KindU.S6.Sons->data[0]);
goto BeforeRet;
LA4: ;
break;
case ((NU8) 47):
case ((NU8) 48):
case ((NU8) 50):
M_189055 = 0;
M_189055 = (*(*N_188924).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[1];
LOC7 = ((*M_189055).Kind == A_188925);
if (LOC7) goto LA8;
LOC7 = ((*M_189055).Kind == B_188926);
LA8: ;
if (!LOC7) goto LA9;
asgnRefNoCycle((void**) &(*(*N_188924).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[1], (*M_189055).KindU.S6.Sons->data[0]);
Result_188927 = Transform_188092(C_188923, (*N_188924).KindU.S6.Sons->data[0]);
goto BeforeRet;
LA9: ;
break;
default:
LOC12 = ((*(*N_188924).KindU.S6.Sons->data[0]).Kind == A_188925);
if (LOC12) goto LA13;
LOC12 = ((*(*N_188924).KindU.S6.Sons->data[0]).Kind == B_188926);
LA13: ;
if (!LOC12) goto LA14;
Result_188927 = Transform_188092(C_188923, (*(*N_188924).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[0]);
goto BeforeRet;
LA14: ;
break;
}
asgnRefNoCycle((void**) &(*N_188924).KindU.S6.Sons->data[0], Transform_188092(C_188923, (*N_188924).KindU.S6.Sons->data[0]));
Result_188927 = N_188924;
BeforeRet: ;
return Result_188927;
}
N_NIMCALL(TY55525*, Transformconv_189212)(TY188012* C_189214, TY55525* N_189215) {
TY55525* Result_189216;
TY55551* Dest_189241;
TY55551* Source_189254;
NIM_BOOL LOC2;
NIM_BOOL LOC5;
NI64 LOC6;
NI64 LOC7;
NI64 LOC9;
NI64 LOC10;
NIM_BOOL LOC14;
NI64 LOC18;
TY55525* LOC19;
NI64 LOC20;
TY55525* LOC21;
TY55551* LOC23;
TY55525* LOC26;
TY55525* LOC27;
NI Diff_189397;
NI Diff_189438;
Result_189216 = 0;
asgnRefNoCycle((void**) &(*N_189215).KindU.S6.Sons->data[1], Transform_188092(C_189214, (*N_189215).KindU.S6.Sons->data[1]));
Result_189216 = N_189215;
Dest_189241 = 0;
Dest_189241 = Skiptypes_96085((*N_189215).Typ, 9480192);
Source_189254 = 0;
Source_189254 = Skiptypes_96085((*(*N_189215).KindU.S6.Sons->data[1]).Typ, 9480192);
switch ((*Dest_189241).Kind) {
case ((NU8) 31) ... ((NU8) 35):
case ((NU8) 14):
case ((NU8) 2):
case ((NU8) 1):
LOC2 = Isordinaltype_96069(Source_189254);
if (!!(LOC2)) goto LA3;
Result_189216 = N_189215;
goto LA1;
LA3: ;
LOC6 = Firstord_96001(Dest_189241);
LOC7 = Firstord_96001(Source_189254);
LOC5 = (LOC6 <= LOC7);
if (!(LOC5)) goto LA8;
LOC9 = Lastord_96004(Source_189254);
LOC10 = Lastord_96004(Dest_189241);
LOC5 = (LOC9 <= LOC10);
LA8: ;
if (!LOC5) goto LA11;
Result_189216 = N_189215;
goto LA1;
LA11: ;
LOC14 = ((*Dest_189241).Kind == ((NU8) 35));
if (LOC14) goto LA15;
LOC14 = ((*Source_189254).Kind == ((NU8) 35));
LA15: ;
if (!LOC14) goto LA16;
Result_189216 = Newnodeit_55741(((NU8) 58), (*N_189215).Info, (*N_189215).Typ);
goto LA13;
LA16: ;
Result_189216 = Newnodeit_55741(((NU8) 59), (*N_189215).Info, (*N_189215).Typ);
LA13: ;
Dest_189241 = Skiptypes_96085((*N_189215).Typ, 8431616);
Addson_55823(Result_189216, (*N_189215).KindU.S6.Sons->data[1]);
LOC18 = Firstord_96001(Dest_189241);
LOC19 = 0;
LOC19 = Newinttypenode_55717(((NU8) 6), LOC18, Source_189254);
Addson_55823(Result_189216, LOC19);
LOC20 = Lastord_96004(Dest_189241);
LOC21 = 0;
LOC21 = Newinttypenode_55717(((NU8) 6), LOC20, Source_189254);
Addson_55823(Result_189216, LOC21);
LA1: ;
break;
case ((NU8) 36) ... ((NU8) 39):
LOC23 = 0;
LOC23 = Skiptypes_96085((*N_189215).Typ, 8431616);
if (!((*LOC23).Kind == ((NU8) 20))) goto LA24;
Result_189216 = Newnodeit_55741(((NU8) 57), (*N_189215).Info, (*N_189215).Typ);
Dest_189241 = Skiptypes_96085((*N_189215).Typ, 8431616);
Addson_55823(Result_189216, (*N_189215).KindU.S6.Sons->data[1]);
LOC26 = 0;
LOC26 = Copytree_55858((*(*Dest_189241).N).KindU.S6.Sons->data[0]);
Addson_55823(Result_189216, LOC26);
LOC27 = 0;
LOC27 = Copytree_55858((*(*Dest_189241).N).KindU.S6.Sons->data[1]);
Addson_55823(Result_189216, LOC27);
LA24: ;
break;
case ((NU8) 27):
Result_189216 = Newnodeit_55741(((NU8) 62), (*N_189215).Info, (*N_189215).Typ);
Addson_55823(Result_189216, (*N_189215).KindU.S6.Sons->data[1]);
break;
case ((NU8) 29):
if (!((*Source_189254).Kind == ((NU8) 28))) goto LA29;
Result_189216 = Newnodeit_55741(((NU8) 60), (*N_189215).Info, (*N_189215).Typ);
Addson_55823(Result_189216, (*N_189215).KindU.S6.Sons->data[1]);
LA29: ;
break;
case ((NU8) 28):
if (!((*Source_189254).Kind == ((NU8) 29))) goto LA32;
Result_189216 = Newnodeit_55741(((NU8) 61), (*N_189215).Info, (*N_189215).Typ);
Addson_55823(Result_189216, (*N_189215).KindU.S6.Sons->data[1]);
LA32: ;
break;
case ((NU8) 22):
case ((NU8) 21):
Dest_189241 = Skiptypes_96085(Dest_189241, 14723072);
Source_189254 = Skiptypes_96085(Source_189254, 14723072);
if (!((*Source_189254).Kind == ((NU8) 17))) goto LA35;
Diff_189397 = 0;
Diff_189397 = Inheritancediff_96119(Dest_189241, Source_189254);
if (!(Diff_189397 < 0)) goto LA38;
Result_189216 = Newnodeit_55741(((NU8) 56), (*N_189215).Info, (*N_189215).Typ);
Addson_55823(Result_189216, (*N_189215).KindU.S6.Sons->data[1]);
goto LA37;
LA38: ;
if (!(0 < Diff_189397)) goto LA40;
Result_189216 = Newnodeit_55741(((NU8) 55), (*N_189215).Info, (*N_189215).Typ);
Addson_55823(Result_189216, (*N_189215).KindU.S6.Sons->data[1]);
goto LA37;
LA40: ;
Result_189216 = (*N_189215).KindU.S6.Sons->data[1];
LA37: ;
LA35: ;
break;
case ((NU8) 17):
Diff_189438 = 0;
Diff_189438 = Inheritancediff_96119(Dest_189241, Source_189254);
if (!(Diff_189438 < 0)) goto LA43;
Result_189216 = Newnodeit_55741(((NU8) 56), (*N_189215).Info, (*N_189215).Typ);
Addson_55823(Result_189216, (*N_189215).KindU.S6.Sons->data[1]);
goto LA42;
LA43: ;
if (!(0 < Diff_189438)) goto LA45;
Result_189216 = Newnodeit_55741(((NU8) 55), (*N_189215).Info, (*N_189215).Typ);
Addson_55823(Result_189216, (*N_189215).KindU.S6.Sons->data[1]);
goto LA42;
LA45: ;
Result_189216 = (*N_189215).KindU.S6.Sons->data[1];
LA42: ;
break;
case ((NU8) 12):
case ((NU8) 15):
Result_189216 = (*N_189215).KindU.S6.Sons->data[1];
break;
default:
break;
}
return Result_189216;
}
N_NIMCALL(TY55525*, Transform_188092)(TY188012* C_188094, TY55525* N_188095) {
TY55525* Result_190998;
NI LOC11;
NI I_191165;
NI HEX3Atmp_191247;
NI LOC14;
NI Res_191249;
NIM_BOOL LOC17;
NI I_191209;
NI HEX3Atmp_191253;
NI LOC20;
NI Res_191255;
TY55525* Cnst_191234;
Result_190998 = 0;
Result_190998 = N_188095;
if (!(N_188095 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*N_188095).Kind) {
case ((NU8) 3):
Result_190998 = Transformsym_188102(C_188094, N_188095);
goto BeforeRet;
break;
case ((NU8) 1) ... ((NU8) 2):
case ((NU8) 4) ... ((NU8) 18):
break;
case ((NU8) 33):
Result_190998 = Transformarrayaccess_190480(C_188094, N_188095);
break;
case ((NU8) 42):
Result_190998 = Transformlambda_190011(C_188094, N_188095);
break;
case ((NU8) 84):
Result_190998 = Transformfor_189580(C_188094, N_188095);
break;
case ((NU8) 86):
Result_190998 = Transformcase_190191(C_188094, N_188095);
break;
case ((NU8) 69):
case ((NU8) 70):
case ((NU8) 74):
case ((NU8) 72):
if (!((*N_188095).KindU.S6.Sons->data[1] == NIM_NIL)) goto LA5;
asgnRefNoCycle((void**) &(*N_188095).KindU.S6.Sons->data[4], Transform_188092(C_188094, (*N_188095).KindU.S6.Sons->data[4]));
if (!((*N_188095).Kind == ((NU8) 70))) goto LA8;
Methoddef_158004((*(*N_188095).KindU.S6.Sons->data[0]).KindU.S4.Sym);
LA8: ;
LA5: ;
break;
case ((NU8) 85):
LOC11 = Sonslen_55803(N_188095);
if (!!((LOC11 == 2))) goto LA12;
Internalerror_47567((*N_188095).Info, ((NimStringDesc*) &TMP197237));
LA12: ;
asgnRefNoCycle((void**) &(*N_188095).KindU.S6.Sons->data[0], Transform_188092(C_188094, (*N_188095).KindU.S6.Sons->data[0]));
asgnRefNoCycle((void**) &(*N_188095).KindU.S6.Sons->data[1], Transformcontinue_188338(C_188094, (*N_188095).KindU.S6.Sons->data[1]));
break;
case ((NU8) 21):
case ((NU8) 49):
case ((NU8) 20):
case ((NU8) 27):
case ((NU8) 28):
case ((NU8) 29):
case ((NU8) 22):
Result_190998 = Transformcall_190779(C_188094, Result_190998);
break;
case ((NU8) 52):
case ((NU8) 53):
Result_190998 = Transformaddrderef_188921(C_188094, N_188095, ((NU8) 38), ((NU8) 54));
break;
case ((NU8) 38):
case ((NU8) 54):
Result_190998 = Transformaddrderef_188921(C_188094, N_188095, ((NU8) 52), ((NU8) 53));
break;
case ((NU8) 47):
case ((NU8) 48):
case ((NU8) 50):
Result_190998 = Transformconv_189212(C_188094, N_188095);
break;
case ((NU8) 100):
I_191165 = 0;
HEX3Atmp_191247 = 0;
LOC14 = Sonslen_55803(N_188095);
HEX3Atmp_191247 = (NI32)(LOC14 - 1);
Res_191249 = 0;
Res_191249 = 0;
while (1) {
if (!(Res_191249 <= HEX3Atmp_191247)) goto LA15;
I_191165 = Res_191249;
asgnRefNoCycle((void**) &(*Result_190998).KindU.S6.Sons->data[I_191165], Transform_188092(C_188094, (*N_188095).KindU.S6.Sons->data[I_191165]));
Res_191249 += 1;
} LA15: ;
LOC17 = Isconstexpr_95016((*Result_190998).KindU.S6.Sons->data[0]);
if (!LOC17) goto LA18;
Result_190998 = Newnode_55710(((NU8) 105));
LA18: ;
break;
case ((NU8) 105):
case ((NU8) 73):
goto BeforeRet;
break;
case ((NU8) 88):
goto BeforeRet;
break;
default:
I_191209 = 0;
HEX3Atmp_191253 = 0;
LOC20 = Sonslen_55803(N_188095);
HEX3Atmp_191253 = (NI32)(LOC20 - 1);
Res_191255 = 0;
Res_191255 = 0;
while (1) {
if (!(Res_191255 <= HEX3Atmp_191253)) goto LA21;
I_191209 = Res_191255;
asgnRefNoCycle((void**) &(*Result_190998).KindU.S6.Sons->data[I_191209], Transform_188092(C_188094, (*N_188095).KindU.S6.Sons->data[I_191209]));
Res_191255 += 1;
} LA21: ;
break;
}
Cnst_191234 = 0;
Cnst_191234 = Getconstexpr_112010((*C_188094).Module, Result_190998);
if (!!((Cnst_191234 == NIM_NIL))) goto LA23;
Result_190998 = Cnst_191234;
LA23: ;
BeforeRet: ;
return Result_190998;
}
N_NIMCALL(TY55525*, Processtransf_191258)(TY104002* Context_191260, TY55525* N_191261) {
TY55525* Result_191262;
TY188012* C_191263;
Result_191262 = 0;
C_191263 = 0;
C_191263 = ((TY188012*) (Context_191260));
Result_191262 = Transform_188092(C_191263, N_191261);
return Result_191262;
}
N_NIMCALL(TY104006, Transfpass_188005)(void) {
TY104006 Result_191287;
memset((void*)&Result_191287, 0, sizeof(Result_191287));
Initpass_104031(&Result_191287);
Result_191287.Open = Opentransf_191264;
Result_191287.Process = Processtransf_191258;
Result_191287.Close = Processtransf_191258;
return Result_191287;
}
N_NOINLINE(void, transfInit)(void) {
}

