/* Generated by Nimrod Compiler v0.8.11 */
/*   (c) 2011 Andreas Rumpf */

typedef long int NI;
typedef unsigned long int NU;
#include "nimbase.h"

typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct TY10802 TY10802;
typedef struct TNimType TNimType;
typedef struct TY10818 TY10818;
typedef struct TY11196 TY11196;
typedef struct TY10814 TY10814;
typedef struct TY10810 TY10810;
typedef struct TY11194 TY11194;
typedef struct TY56526 TY56526;
typedef struct TY159017 TY159017;
typedef struct TNimNode TNimNode;
typedef struct TY53008 TY53008;
typedef struct TY159033 TY159033;
typedef struct TY159011 TY159011;
typedef struct TY151077 TY151077;
typedef struct TY151075 TY151075;
typedef struct TY56552 TY56552;
typedef struct TY48538 TY48538;
typedef struct TY56548 TY56548;
typedef struct TY55011 TY55011;
typedef struct TY56520 TY56520;
typedef struct TY156007 TY156007;
typedef struct TNimObject TNimObject;
typedef struct TY55005 TY55005;
typedef struct TY56530 TY56530;
typedef struct TY56528 TY56528;
typedef struct TY56540 TY56540;
typedef struct TY56544 TY56544;
typedef struct TY86016 TY86016;
typedef struct TY86014 TY86014;
typedef struct TY86012 TY86012;
typedef struct TY56550 TY56550;
typedef struct TY44013 TY44013;
struct TGenericSeq {
NI len;
NI space;
};
typedef NIM_CHAR TY245[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY245 data;
};
struct TY10802 {
NI Refcount;
TNimType* Typ;
};
struct TY10818 {
NI Len;
NI Cap;
TY10802** D;
};
struct TY10814 {
NI Counter;
NI Max;
TY10810* Head;
TY10810** Data;
};
struct TY11194 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY11196 {
TY10818 Zct;
TY10818 Decstack;
TY10814 Cycleroots;
TY10818 Tempstack;
TY11194 Stat;
};
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct TY159011 {
TY151077* N;
TY53008* Refname;
TY53008* Header;
};
typedef TY53008* TY159013[21];
typedef TY53008* TY159043[5];
struct TY159017 {
NimStringDesc* Filename;
NimStringDesc* Basedir;
TY53008* Moddesc;
NI Id;
NI Splitafter;
TY159033* Tocpart;
NIM_BOOL Hastoc;
TY159013 Toc;
TY159013 Section;
TY151077* Indexfile;
TY151077* Theindex;
NimStringDesc* Indexvalfilename;
NI Indent;
NI Verbatim;
TY159043 Meta;
};
struct TY151077 {
NU8 Kind;
NimStringDesc* Text;
NI Level;
TY151075* Sons;
};
struct TY48538 {
NI16 Line;
NI16 Col;
int Fileindex;
};
struct TY56526 {
TY56552* Typ;
NimStringDesc* Comment;
TY48538 Info;
NU8 Flags;
NU8 Kind;
union {
struct {NI64 Intval;
} S1;
struct {NF64 Floatval;
} S2;
struct {NimStringDesc* Strval;
} S3;
struct {TY56548* Sym;
} S4;
struct {TY55011* Ident;
} S5;
struct {TY56520* Sons;
} S6;
} KindU;
};
typedef TY53008* TY53407[1];
typedef TY53008* TY166439[4];
typedef TY53008* TY179695[2];
struct TNimObject {
TNimType* m_type;
};
struct TY156007 {
  TNimObject Sup;
NU8 Kind;
NI Start;
NI Length;
NCSTRING Buf;
NI Pos;
NU8 State;
};
typedef NimStringDesc* TY156060[33];
struct TY55005 {
  TNimObject Sup;
NI Id;
};
struct TY55011 {
  TY55005 Sup;
NimStringDesc* S;
TY55011* Next;
NI H;
};
struct TY56530 {
TNimType* m_type;
NI Counter;
TY56528* Data;
};
struct TY56540 {
NU8 K;
NU8 S;
NU8 Flags;
TY56552* T;
TY53008* R;
NI A;
};
struct TY56548 {
  TY55005 Sup;
NU8 Kind;
NU8 Magic;
TY56552* Typ;
TY55011* Name;
TY48538 Info;
TY56548* Owner;
NU32 Flags;
TY56530 Tab;
TY56526* Ast;
NU32 Options;
NI Position;
NI Offset;
TY56540 Loc;
TY56544* Annex;
};
struct TY86012 {
NU8 Kind;
NI16 Length;
};
struct TY86016 {
NI Indent;
NI Linelen;
NI Pos;
NI Idx;
TY86014* Tokens;
NimStringDesc* Buf;
NI Pendingnl;
TY56520* Comstack;
NU8 Flags;
};
typedef NimStringDesc* TY78146[109];
typedef NimStringDesc* TY49015[4];
typedef NimStringDesc* TY161413[10];
typedef NimStringDesc* TY48843[1];
typedef NimStringDesc* TY74797[6];
typedef TY53008* TY167067[6];
typedef NimStringDesc* TY161571[8];
typedef TY53008* TY167893[8];
typedef NIM_CHAR TY160253[9];
typedef TY53008* TY165012[3];
typedef NI TY8814[16];
struct TY10810 {
TY10810* Next;
NI Key;
TY8814 Bits;
};
struct TY53008 {
  TNimObject Sup;
TY53008* Left;
TY53008* Right;
NI Length;
NimStringDesc* Data;
};
struct TY56552 {
  TY55005 Sup;
NU8 Kind;
TY56550* Sons;
TY56526* N;
NU8 Flags;
NU8 Callconv;
TY56548* Owner;
TY56548* Sym;
NI64 Size;
NI Align;
NI Containerid;
TY56540 Loc;
};
struct TY44013 {
  TNimObject Sup;
TY44013* Prev;
TY44013* Next;
};
struct TY56544 {
  TY44013 Sup;
NU8 Kind;
NIM_BOOL Generated;
TY53008* Name;
TY56526* Path;
};
struct TY159033 {
  TGenericSeq Sup;
  TY159011 data[SEQ_DECL_SIZE];
};
struct TY151075 {
  TGenericSeq Sup;
  TY151077* data[SEQ_DECL_SIZE];
};
struct TY56520 {
  TGenericSeq Sup;
  TY56526* data[SEQ_DECL_SIZE];
};
struct TY56528 {
  TGenericSeq Sup;
  TY56548* data[SEQ_DECL_SIZE];
};
struct TY86014 {
  TGenericSeq Sup;
  TY86012 data[SEQ_DECL_SIZE];
};
struct TY56550 {
  TGenericSeq Sup;
  TY56552* data[SEQ_DECL_SIZE];
};
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13218, void* Src_13219);
static N_INLINE(TY10802*, Usrtocell_11612)(void* Usr_11614);
static N_INLINE(NI, Atomicinc_3221)(NI* Memloc_3224, NI X_3225);
static N_INLINE(NI, Atomicdec_3226)(NI* Memloc_3229, NI X_3230);
static N_INLINE(void, Rtladdzct_12601)(TY10802* C_12603);
N_NOINLINE(void, Addzct_11601)(TY10818* S_11604, TY10802* C_11605);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* Src_18712);
N_NIMCALL(TY56526*, Parsefile_93031)(NimStringDesc* Filename_93033);
N_NIMCALL(NimStringDesc*, nosaddFileExt)(NimStringDesc* Filename_38830, NimStringDesc* Ext_38831);
N_NIMCALL(TY159017*, Newdocumentor_159159)(NimStringDesc* Filename_159161);
N_NIMCALL(void*, newObj)(TNimType* Typ_13910, NI Size_13911);
N_NIMCALL(void*, newSeq)(TNimType* Typ_14404, NI Len_14405);
N_NIMCALL(NimStringDesc*, Getconfigvar_47140)(NimStringDesc* Key_47142);
N_NIMCALL(NI, nsuParseInt)(NimStringDesc* S_25452);
N_NIMCALL(void, Initindexfile_159129)(TY159017* D_159131);
N_NIMCALL(NimStringDesc*, nosChangeFileExt)(NimStringDesc* Filename_38820, NimStringDesc* Ext_38821);
N_NIMCALL(NimStringDesc*, nosextractFilename)(NimStringDesc* Path_38730);
N_NIMCALL(NIM_BOOL, nosexistsFile)(NimStringDesc* Filename_37003);
N_NIMCALL(TY151077*, Rstparse_151082)(NimStringDesc* Text_151084, NIM_BOOL Skippounds_151085, NimStringDesc* Filename_151086, NI Line_151087, NI Column_151088, NIM_BOOL* Hastoc_151090);
N_NIMCALL(NimStringDesc*, Readfile_3847)(NimStringDesc* Filename_3849);
N_NIMCALL(TY151077*, Findindexnode_159047)(TY151077* N_159049);
N_NIMCALL(TY151077*, Newrstnode_151094)(NU8 Kind_151096);
N_NIMCALL(NI, Rsonslen_151091)(TY151077* N_151093);
N_NIMCALL(void, Rawmessage_49094)(NU8 Msg_49096, NimStringDesc* Arg_49097);
N_NIMCALL(void, Clearindex_151126)(TY151077* Index_151128, NimStringDesc* Filename_151129);
N_NIMCALL(void, Addson_151101)(TY151077* Father_151103, TY151077* Son_151104);
N_NIMCALL(TY151077*, Newrstnode_151097)(NU8 Kind_151099, NimStringDesc* S_151100);
N_NIMCALL(void, Generatedoc_161028)(TY159017* D_161030, TY56526* N_161031);
N_NIMCALL(void, App_53031)(TY53008** A_53034, TY53008* B_53035);
N_NIMCALL(TY53008*, Gencomment_159684)(TY159017* D_159686, TY56526* N_159687);
N_NIMCALL(NIM_BOOL, nsuStartsWith)(NimStringDesc* S_25853, NimStringDesc* Prefix_25854);
N_NIMCALL(TY53008*, Renderrsttoout_159612)(TY159017* D_159614, TY151077* N_159615);
N_NIMCALL(TY53008*, Renderaux_159616)(TY159017* D_159618, TY151077* N_159619, NimStringDesc* Outer_159620);
N_NIMCALL(TY53008*, Ropef_53066)(NimStringDesc* Frmt_53068, TY53008** Args_53070, NI Args_53070Len0);
N_NIMCALL(TY53008*, Renderheadline_160115)(TY159017* D_160117, TY151077* N_160118);
N_NIMCALL(TY53008*, Torope_53046)(NimStringDesc* S_53048);
N_NIMCALL(NimStringDesc*, Rstnodetorefname_151105)(TY151077* N_151107);
N_NIMCALL(TGenericSeq*, setLengthSeq)(TGenericSeq* Seq_19003, NI Elemsize_19004, NI Newlen_19005);
N_NIMCALL(TY53008*, Dispf_159579)(NimStringDesc* Xml_159581, NimStringDesc* Tex_159582, TY53008** Args_159584, NI Args_159584Len0);
N_NIMCALL(TY53008*, Torope_53049)(NI64 I_53051);
static N_INLINE(void, appendChar)(NimStringDesc* Dest_18816, NIM_CHAR C_18817);
static N_INLINE(void, appendString)(NimStringDesc* Dest_18799, NimStringDesc* Src_18800);
N_NIMCALL(NimStringDesc*, rawNewString)(NI Space_18689);
N_NIMCALL(TY53008*, Renderoverline_160175)(TY159017* D_160177, TY151077* N_160178);
N_NIMCALL(NimStringDesc*, Disp_159565)(NimStringDesc* Xml_159567, NimStringDesc* Tex_159568);
N_NIMCALL(TY53008*, Renderfield_160790)(TY159017* D_160792, TY151077* N_160793);
N_NIMCALL(NimStringDesc*, Addnodes_151108)(TY151077* N_151110);
N_NIMCALL(NimStringDesc*, Esc_159506)(NimStringDesc* S_159508, NI Splitafter_159509);
N_NIMCALL(NI, Nextsplitpoint_159453)(NimStringDesc* S_159455, NI Start_159456);
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* A_18649, NimStringDesc* B_18650);
N_NIMCALL(NimStringDesc*, resizeString)(NimStringDesc* Dest_18789, NI Addlen_18790);
N_NIMCALL(void, Escchar_159439)(NimStringDesc** Dest_159442, NIM_CHAR C_159443);
N_NIMCALL(void, Addxmlchar_159424)(NimStringDesc** Dest_159427, NIM_CHAR C_159428);
N_NIMCALL(NimStringDesc*, addChar)(NimStringDesc* S_1803, NIM_CHAR C_1804);
N_NIMCALL(void, Addtexchar_159434)(NimStringDesc** Dest_159437, NIM_CHAR C_159438);
N_NIMCALL(NimStringDesc*, nsuStrip)(NimStringDesc* S_24975, NIM_BOOL Leading_24976, NIM_BOOL Trailing_24977);
N_NIMCALL(NI, nsuCmpIgnoreStyle)(NimStringDesc* A_24632, NimStringDesc* B_24633);
N_NIMCALL(void, Internalerror_49212)(NimStringDesc* Errmsg_49214);
N_NIMCALL(NimStringDesc*, Texcolumns_160774)(TY151077* N_160776);
N_NIMCALL(void, Dispa_159595)(TY53008** Dest_159598, NimStringDesc* Xml_159599, NimStringDesc* Tex_159600, TY53008** Args_159602, NI Args_159602Len0);
N_NIMCALL(void, Appf_53071)(TY53008** C_53074, NimStringDesc* Frmt_53075, TY53008** Args_53077, NI Args_53077Len0);
N_NIMCALL(TY151077*, Lastson_151654)(TY151077* N_151656);
N_NIMCALL(TY53008*, Renderimage_160633)(TY159017* D_160635, TY151077* N_160636);
N_NIMCALL(NimStringDesc*, Getfieldvalue_151111)(TY151077* N_151113, NimStringDesc* Fieldname_151114);
N_NIMCALL(TY53008*, Fieldaux_160629)(NimStringDesc* S_160631);
N_NIMCALL(NimStringDesc*, Getargument_151115)(TY151077* N_151117);
N_NIMCALL(TY53008*, Rendercodeblock_160687)(TY159017* D_160689, TY151077* N_160690);
N_NIMCALL(NU8, Getsourcelanguage_156102)(NimStringDesc* Name_156104);
N_NIMCALL(void, Initgeneraltokenizer_156105)(TY156007* G_156108, NimStringDesc* Buf_156109);
N_NIMCALL(void, Getnexttoken_156114)(TY156007* G_156117, NU8 Lang_156118);
N_NIMCALL(void, App_53036)(TY53008** A_53039, NimStringDesc* B_53040);
N_NIMCALL(NimStringDesc*, copyStrLast)(NimStringDesc* S_2328, NI First_2329, NI Last_2330);
N_NIMCALL(void, Deinitgeneraltokenizer_156110)(TY156007* G_156113);
N_NIMCALL(TY53008*, Rendercontainer_160749)(TY159017* D_160751, TY151077* N_160752);
N_NIMCALL(TY53008*, Renderindexterm_159659)(TY159017* D_159661, TY151077* N_159662);
N_NIMCALL(NimStringDesc*, nimIntToStr)(NI X_19403);
N_NIMCALL(void, Setindexpair_151118)(TY151077* Index_151120, TY151077* Key_151121, TY151077* Val_151122);
N_NIMCALL(NimStringDesc*, Tofilename_48724)(TY48538 Info_48726);
static N_INLINE(NI, Tolinenumber_48732)(TY48538 Info_48734);
static N_INLINE(NI, Tocolumn_48736)(TY48538 Info_48738);
N_NIMCALL(void, Genitem_160022)(TY159017* D_160024, TY56526* N_160025, TY56526* Namenode_160026, NU8 K_160027);
N_NIMCALL(NIM_BOOL, Isvisible_159765)(TY56526* N_159767);
static N_INLINE(NI, Sonslen_56804)(TY56526* N_56806);
N_NIMCALL(NimStringDesc*, Getname_159893)(TY56526* N_159895, NI Splitafter_159896);
N_NIMCALL(void, Internalerror_49208)(TY48538 Info_49210, NimStringDesc* Errmsg_49211);
N_NIMCALL(TY53008*, Genreccomment_159691)(TY159017* D_159693, TY56526* N_159694);
N_NIMCALL(void, genericReset)(void* Dest_19728, TNimType* Mt_19729);
N_NIMCALL(void, Inittokrender_86048)(TY86016* R_86051, TY56526* N_86052, NU8 Renderflags_86055);
N_NIMCALL(void, Getnexttok_86056)(TY86016* R_86059, NU8* Kind_86061, NimStringDesc** Literal_86063);
N_NIMCALL(TY53008*, Ropeformatnamedvars_159215)(NimStringDesc* Frmt_159217, NimStringDesc** Varnames_159219, NI Varnames_159219Len0, TY53008** Varvalues_159221, NI Varvalues_159221Len0);
N_NIMCALL(NI, Getvaridx_159195)(NimStringDesc** Varnames_159198, NI Varnames_159198Len0, NimStringDesc* Id_159199);
N_NIMCALL(void, Setindexforsourceterm_159639)(TY159017* D_159641, TY151077* Name_159642, NI Id_159643);
N_NIMCALL(TY151077*, Getrstname_159958)(TY56526* N_159960);
N_NIMCALL(NIM_BOOL, Checkforfalse_160941)(TY56526* N_160943);
N_NIMCALL(NIM_BOOL, Identeq_55028)(TY55011* Id_55030, NimStringDesc* Name_55031);
static N_INLINE(TY56526*, Lastson_56810)(TY56526* N_56812);
N_NIMCALL(void, Tracedeps_161006)(TY159017* D_161008, TY56526* N_161009);
N_NIMCALL(NimStringDesc*, Getmodulefile_160966)(TY56526* N_160968);
N_NIMCALL(void, Writeoutput_161593)(TY159017* D_161595, NimStringDesc* Filename_161596, NimStringDesc* Outext_161597);
N_NIMCALL(TY53008*, Genoutfile_161465)(TY159017* D_161467);
N_NIMCALL(TY53008*, Rendertocentries_160591)(TY159017* D_160593, NI* J_160595, NI Lvl_160596);
N_NIMCALL(TY53008*, Rendertocentry_160582)(TY159017* D_160584, TY159011 E_160585);
N_NIMCALL(void, Gensection_161408)(TY159017* D_161410, NU8 Kind_161411);
N_NIMCALL(NimStringDesc*, ntgetDateStr)(void);
N_NIMCALL(NimStringDesc*, ntgetClockStr)(void);
N_NIMCALL(void, Writerope_53605)(FILE** F_53608, TY53008* C_53609);
N_NIMCALL(void, Writerope_53055)(TY53008* Head_53057, NimStringDesc* Filename_53058);
N_NIMCALL(NimStringDesc*, Getoutfile_47167)(NimStringDesc* Filename_47169, NimStringDesc* Ext_47170);
N_NIMCALL(void, Generateindex_161579)(TY159017* D_161581);
N_NIMCALL(void, Sortindex_151123)(TY151077* A_151125);
N_NIMCALL(TY53008*, Renderrsttorst_160225)(TY159017* D_160227, TY151077* N_160228);
N_NIMCALL(NimStringDesc*, nsuRepeatChar)(NI Count_25671, NIM_CHAR C_25672);
N_NIMCALL(TY53008*, Renderrstsons_160229)(TY159017* D_160231, TY151077* N_160232);
N_NIMCALL(NI, Ropelen_53052)(TY53008* A_53054);
N_NIMCALL(NimStringDesc*, reprEnum)(NI E_19832, TNimType* Typ_19833);
N_NIMCALL(void, Commandrstaux_161627)(NimStringDesc* Filename_161629, NimStringDesc* Outext_161630);
STRING_LITERAL(TMP159046, "<wbr />", 7);
STRING_LITERAL(TMP199136, "nim", 3);
STRING_LITERAL(TMP199143, "split.item.toc", 14);
STRING_LITERAL(TMP199144, "txt", 3);
STRING_LITERAL(TMP199145, "html", 4);
STRING_LITERAL(TMP199213, "Index", 5);
STRING_LITERAL(TMP199214, "##", 2);
STRING_LITERAL(TMP199215, "$1", 2);
STRING_LITERAL(TMP199216, "<h$1><a class=\"toc-backref\" id=\"$2\" href=\"#$2_toc\">$3</a></h$1>", 63);
STRING_LITERAL(TMP199217, "\\rsth$4{$3}\\label{$2}$n", 23);
STRING_LITERAL(TMP199218, "", 0);
STRING_LITERAL(TMP199219, "<h$1 id=\"$2\">$3</h$1>", 21);
STRING_LITERAL(TMP199220, "<h$1 id=\"$2\"><center>$3</center></h$1>", 38);
STRING_LITERAL(TMP199221, "\\rstov$4{$3}\\label{$2}$n", 24);
STRING_LITERAL(TMP199222, "<hr />\012", 7);
STRING_LITERAL(TMP199223, "\\hrule\012", 7);
STRING_LITERAL(TMP199224, "<p>$1</p>\012", 10);
STRING_LITERAL(TMP199225, "$1$n$n", 6);
STRING_LITERAL(TMP199226, "<ul class=\"simple\">$1</ul>\012", 27);
STRING_LITERAL(TMP199227, "\\begin{itemize}$1\\end{itemize}\012", 31);
STRING_LITERAL(TMP199228, "<li>$1</li>\012", 12);
STRING_LITERAL(TMP199229, "\\item $1\012", 9);
STRING_LITERAL(TMP199230, "<ol class=\"simple\">$1</ol>\012", 27);
STRING_LITERAL(TMP199231, "\\begin{enumerate}$1\\end{enumerate}\012", 35);
STRING_LITERAL(TMP199232, "<dl class=\"docutils\">$1</dl>\012", 29);
STRING_LITERAL(TMP199233, "\\begin{description}$1\\end{description}\012", 39);
STRING_LITERAL(TMP199234, "<dt>$1</dt>\012", 12);
STRING_LITERAL(TMP199235, "\\item[$1] ", 10);
STRING_LITERAL(TMP199236, "<dd>$1</dd>\012", 12);
STRING_LITERAL(TMP199237, "$1\012", 3);
STRING_LITERAL(TMP199238, "<table class=\"docinfo\" frame=\"void\" rules=\"none\"><col class=\"do"
"cinfo-name\" /><col class=\"docinfo-content\" /><tbody valign=\"top\""
">$1</tbody></table>", 146);
STRING_LITERAL(TMP199239, " ", 1);
STRING_LITERAL(TMP199240, "&amp;", 5);
STRING_LITERAL(TMP199241, "&lt;", 4);
STRING_LITERAL(TMP199242, "&gt;", 4);
STRING_LITERAL(TMP199243, "&quot;", 6);
STRING_LITERAL(TMP199244, "\\_", 2);
STRING_LITERAL(TMP199245, "\\symbol{123}", 12);
STRING_LITERAL(TMP199246, "\\symbol{125}", 12);
STRING_LITERAL(TMP199247, "\\symbol{91}", 11);
STRING_LITERAL(TMP199248, "\\symbol{93}", 11);
STRING_LITERAL(TMP199249, "\\symbol{92}", 11);
STRING_LITERAL(TMP199250, "\\$", 2);
STRING_LITERAL(TMP199251, "\\&", 2);
STRING_LITERAL(TMP199252, "\\#", 2);
STRING_LITERAL(TMP199253, "\\%", 2);
STRING_LITERAL(TMP199254, "\\symbol{126}", 12);
STRING_LITERAL(TMP199255, "\\symbol{64}", 11);
STRING_LITERAL(TMP199256, "\\symbol{94}", 11);
STRING_LITERAL(TMP199257, "\\symbol{96}", 11);
STRING_LITERAL(TMP199258, "author", 6);
STRING_LITERAL(TMP199259, "version", 7);
STRING_LITERAL(TMP199260, "<tr>$1</tr>$n", 13);
STRING_LITERAL(TMP199261, "<th class=\"docinfo-name\">$1:</th>", 33);
STRING_LITERAL(TMP199262, "\\item[$1:]", 10);
STRING_LITERAL(TMP199263, "<td>$1</td>", 11);
STRING_LITERAL(TMP199264, " $1$n", 5);
STRING_LITERAL(TMP199265, "<table frame=\"void\">$1</table>", 30);
STRING_LITERAL(TMP199266, "\\begin{description}$n$1\\end{description}\012", 41);
STRING_LITERAL(TMP199267, "<th align=\"left\">$1</th>", 24);
STRING_LITERAL(TMP199268, "\\item[$1]", 9);
STRING_LITERAL(TMP199269, "<td align=\"left\">$1</td>$n", 26);
STRING_LITERAL(TMP199270, "renderRstToOut", 14);
STRING_LITERAL(TMP199271, "<pre>$1</pre>$n", 15);
STRING_LITERAL(TMP199272, "\\begin{rstpre}$n$1$n\\end{rstpre}$n", 34);
STRING_LITERAL(TMP199273, "<p>$1</p>", 9);
STRING_LITERAL(TMP199274, "$1<br />", 8);
STRING_LITERAL(TMP199275, "$1\\\\$n", 6);
STRING_LITERAL(TMP199276, "<blockquote><p>$1</p></blockquote>$n", 36);
STRING_LITERAL(TMP199277, "\\begin{quote}$1\\end{quote}$n", 28);
STRING_LITERAL(TMP199278, "<table border=\"1\" class=\"docutils\">$1</table>", 45);
STRING_LITERAL(TMP199279, "\\begin{table}\\begin{rsttab}{", 28);
STRING_LITERAL(TMP199280, "|X", 2);
STRING_LITERAL(TMP199281, "|}$n\\hline$n$1\\end{rsttab}\\end{table}", 37);
STRING_LITERAL(TMP199282, " & $1", 5);
STRING_LITERAL(TMP199283, "$1\\\\$n\\hline$n", 14);
STRING_LITERAL(TMP199284, "<th>$1</th>", 11);
STRING_LITERAL(TMP199285, "\\textbf{$1}", 11);
STRING_LITERAL(TMP199286, "<a class=\"reference external\" href=\"#$2\">$1</a>", 47);
STRING_LITERAL(TMP199287, "$1\\ref{$2}", 10);
STRING_LITERAL(TMP199288, "<a class=\"reference external\" href=\"$1\">$1</a>", 46);
STRING_LITERAL(TMP199289, "\\href{$1}{$1}", 13);
STRING_LITERAL(TMP199290, "<a class=\"reference external\" href=\"$2\">$1</a>", 46);
STRING_LITERAL(TMP199291, "\\href{$2}{$1}", 13);
STRING_LITERAL(TMP199292, "scale", 5);
STRING_LITERAL(TMP199293, " scale=\"$1\"", 11);
STRING_LITERAL(TMP199294, " scale=$1", 9);
STRING_LITERAL(TMP199295, "height", 6);
STRING_LITERAL(TMP199296, " height=\"$1\"", 12);
STRING_LITERAL(TMP199297, " height=$1", 10);
STRING_LITERAL(TMP199298, "width", 5);
STRING_LITERAL(TMP199299, " width=\"$1\"", 11);
STRING_LITERAL(TMP199300, " width=$1", 9);
STRING_LITERAL(TMP199301, "alt", 3);
STRING_LITERAL(TMP199302, " alt=\"$1\"", 9);
STRING_LITERAL(TMP199303, "align", 5);
STRING_LITERAL(TMP199304, " align=\"$1\"", 11);
STRING_LITERAL(TMP199305, "[$1]", 4);
STRING_LITERAL(TMP199306, "<img src=\"$1\"$2 />", 18);
STRING_LITERAL(TMP199307, "\\includegraphics$2{$1}", 22);
STRING_LITERAL(TMP199308, "renderCodeBlock", 15);
STRING_LITERAL(TMP199424, "<span class=\"$2\">$1</span>", 26);
STRING_LITERAL(TMP199425, "\\span$2{$1}", 11);
extern NIM_CONST TY156060 Tokenclasstostr_156059;
STRING_LITERAL(TMP199426, "<pre>$1</pre>", 13);
STRING_LITERAL(TMP199427, "<div>$1</div>", 13);
STRING_LITERAL(TMP199428, "<div class=\"$1\">$2</div>", 24);
STRING_LITERAL(TMP199429, "$2", 2);
STRING_LITERAL(TMP199430, "|$1|", 4);
STRING_LITERAL(TMP199431, "<sub>$1</sub>", 13);
STRING_LITERAL(TMP199432, "\\rstsub{$1}", 11);
STRING_LITERAL(TMP199433, "<sup>$1</sup>", 13);
STRING_LITERAL(TMP199434, "\\rstsup{$1}", 11);
STRING_LITERAL(TMP199435, "<em>$1</em>", 11);
STRING_LITERAL(TMP199436, "\\emph{$1}", 9);
STRING_LITERAL(TMP199437, "<strong>$1</strong>", 19);
STRING_LITERAL(TMP199438, "<cite>$1</cite>", 15);
STRING_LITERAL(TMP199439, "<span>$1</span>", 15);
STRING_LITERAL(TMP199440, "<span id=\"$1\">$2</span>", 23);
STRING_LITERAL(TMP199441, "$2\\label{$1}", 12);
STRING_LITERAL(TMP199442, "#", 1);
STRING_LITERAL(TMP199443, "<tt class=\"docutils literal\"><span class=\"pre\">$1</span></tt>", 61);
STRING_LITERAL(TMP199444, "\\texttt{$1}", 11);
STRING_LITERAL(TMP199445, "`", 1);
STRING_LITERAL(TMP199446, "getName()", 9);
STRING_LITERAL(TMP199447, "<span class=\"Comment\">$1</span>", 31);
STRING_LITERAL(TMP199448, "\\spanComment{$1}", 16);
STRING_LITERAL(TMP199449, "<span class=\"Keyword\">$1</span>", 31);
STRING_LITERAL(TMP199450, "\\spanKeyword{$1}", 16);
STRING_LITERAL(TMP199451, "<span class=\"Operator\">$1</span>", 32);
STRING_LITERAL(TMP199452, "\\spanOperator{$1}", 17);
STRING_LITERAL(TMP199453, "<span class=\"StringLit\">$1</span>", 33);
STRING_LITERAL(TMP199454, "\\spanStringLit{$1}", 18);
STRING_LITERAL(TMP199455, "<span class=\"CharLit\">$1</span>", 31);
STRING_LITERAL(TMP199456, "\\spanCharLit{$1}", 16);
STRING_LITERAL(TMP199457, "<span class=\"DecNumber\">$1</span>", 33);
STRING_LITERAL(TMP199458, "\\spanDecNumber{$1}", 18);
STRING_LITERAL(TMP199459, "<span class=\"FloatNumber\">$1</span>", 35);
STRING_LITERAL(TMP199460, "\\spanFloatNumber{$1}", 20);
STRING_LITERAL(TMP199461, "<span class=\"Identifier\">$1</span>", 34);
STRING_LITERAL(TMP199462, "\\spanIdentifier{$1}", 19);
STRING_LITERAL(TMP199463, "<span class=\"Other\">$1</span>", 29);
STRING_LITERAL(TMP199464, "\\spanOther{$1}", 14);
STRING_LITERAL(TMP199465, "docgen.genThing(", 16);
extern NIM_CONST TY78146 Toktypetostr_78145;
STRING_LITERAL(TMP199466, "$", 1);
STRING_LITERAL(TMP199467, "ropeFormatNamedVars", 19);
STRING_LITERAL(TMP199468, "}", 1);
STRING_LITERAL(TMP199469, "doc.item", 8);
STRING_LITERAL(TMP199471, "name", 4);
STRING_LITERAL(TMP199472, "header", 6);
STRING_LITERAL(TMP199473, "desc", 4);
STRING_LITERAL(TMP199474, "itemID", 6);
NIM_CONST TY49015 TMP199470 = {((NimStringDesc*) &TMP199471),
((NimStringDesc*) &TMP199472),
((NimStringDesc*) &TMP199473),
((NimStringDesc*) &TMP199474)}
;
STRING_LITERAL(TMP199475, "doc.item.toc", 12);
STRING_LITERAL(TMP199476, "getRstName()", 12);
STRING_LITERAL(TMP199477, "false", 5);
STRING_LITERAL(TMP199478, ", ", 2);
STRING_LITERAL(TMP199479, "<a class=\"reference external\" href=\"$1.html\">$1</a>", 51);
STRING_LITERAL(TMP199480, "getModuleFile()", 15);
STRING_LITERAL(TMP199481, "<li><a class=\"reference\" id=\"$1_toc\" href=\"#$1\">$2</a></li>$n", 61);
STRING_LITERAL(TMP199482, "\\item\\label{$1_toc} $2\\ref{$1}$n", 32);
STRING_LITERAL(TMP199483, "<ul class=\"simple\">$1</ul>", 26);
STRING_LITERAL(TMP199484, "\\begin{enumerate}$1\\end{enumerate}", 34);
STRING_LITERAL(TMP199485, "Imports", 7);
STRING_LITERAL(TMP199486, "Types", 5);
STRING_LITERAL(TMP199487, "Consts", 6);
STRING_LITERAL(TMP199488, "Vars", 4);
STRING_LITERAL(TMP199489, "Procs", 5);
STRING_LITERAL(TMP199490, "Methods", 7);
STRING_LITERAL(TMP199491, "Iterators", 9);
STRING_LITERAL(TMP199492, "Converters", 10);
STRING_LITERAL(TMP199493, "Macros", 6);
STRING_LITERAL(TMP199494, "Templates", 9);
NIM_CONST TY161413 Sectionnames_161412 = {((NimStringDesc*) &TMP199485),
((NimStringDesc*) &TMP199486),
((NimStringDesc*) &TMP199487),
((NimStringDesc*) &TMP199488),
((NimStringDesc*) &TMP199489),
((NimStringDesc*) &TMP199490),
((NimStringDesc*) &TMP199491),
((NimStringDesc*) &TMP199492),
((NimStringDesc*) &TMP199493),
((NimStringDesc*) &TMP199494)}
;
extern NIM_CONST TY161413 Sectionnames_161412;
STRING_LITERAL(TMP199495, "doc.section", 11);
STRING_LITERAL(TMP199497, "sectionid", 9);
STRING_LITERAL(TMP199498, "sectionTitle", 12);
STRING_LITERAL(TMP199499, "sectionTitleID", 14);
STRING_LITERAL(TMP199500, "content", 7);
NIM_CONST TY49015 TMP199496 = {((NimStringDesc*) &TMP199497),
((NimStringDesc*) &TMP199498),
((NimStringDesc*) &TMP199499),
((NimStringDesc*) &TMP199500)}
;
STRING_LITERAL(TMP199501, "doc.section.toc", 15);
STRING_LITERAL(TMP199502, "doc.toc", 7);
NIM_CONST TY48843 TMP199503 = {((NimStringDesc*) &TMP199500)}
;
STRING_LITERAL(TMP199504, "Module ", 7);
STRING_LITERAL(TMP199505, "doc.body_toc", 12);
STRING_LITERAL(TMP199506, "doc.body_no_toc", 15);
STRING_LITERAL(TMP199508, "title", 5);
STRING_LITERAL(TMP199509, "tableofcontents", 15);
STRING_LITERAL(TMP199510, "moduledesc", 10);
STRING_LITERAL(TMP199511, "date", 4);
STRING_LITERAL(TMP199512, "time", 4);
NIM_CONST TY74797 TMP199507 = {((NimStringDesc*) &TMP199508),
((NimStringDesc*) &TMP199509),
((NimStringDesc*) &TMP199510),
((NimStringDesc*) &TMP199511),
((NimStringDesc*) &TMP199512),
((NimStringDesc*) &TMP199500)}
;
STRING_LITERAL(TMP199513, "doc.file", 8);
NIM_CONST TY161571 TMP199514 = {((NimStringDesc*) &TMP199508),
((NimStringDesc*) &TMP199509),
((NimStringDesc*) &TMP199510),
((NimStringDesc*) &TMP199511),
((NimStringDesc*) &TMP199512),
((NimStringDesc*) &TMP199500),
((NimStringDesc*) &TMP199258),
((NimStringDesc*) &TMP199259)}
;
NIM_CONST TY160253 Lvltochar_160252 = {33,
61,
45,
126,
96,
60,
42,
124,
43}
;
STRING_LITERAL(TMP199515, "$n$1$2$n$1$3", 12);
extern NIM_CONST TY160253 Lvltochar_160252;
STRING_LITERAL(TMP199516, "$n$1$3$n$1$2$n$1$3", 18);
STRING_LITERAL(TMP199517, "$n$n$1$2$n$n", 12);
STRING_LITERAL(TMP199518, "$n$n$1$2", 8);
STRING_LITERAL(TMP199519, "$n$1* $2", 8);
STRING_LITERAL(TMP199520, "$n$1(#) $2", 10);
STRING_LITERAL(TMP199521, "$n$1  $2", 8);
STRING_LITERAL(TMP199522, "$n$1:$2:$3$4", 12);
STRING_LITERAL(TMP199523, "$n$1| $2", 8);
STRING_LITERAL(TMP199524, "`$1`_", 5);
STRING_LITERAL(TMP199525, "`$1 <$2>`_", 10);
STRING_LITERAL(TMP199526, "`$1`:$2:", 8);
STRING_LITERAL(TMP199527, "`$1`:sub:", 9);
STRING_LITERAL(TMP199528, "`$1`:sup:", 9);
STRING_LITERAL(TMP199529, "`$1`:idx:", 9);
STRING_LITERAL(TMP199530, "*$1*", 4);
STRING_LITERAL(TMP199531, "**$1**", 6);
STRING_LITERAL(TMP199532, "`$1`", 4);
STRING_LITERAL(TMP199533, "``$1``", 6);
STRING_LITERAL(TMP199534, "\\", 1);
STRING_LITERAL(TMP199535, "\\\\", 2);
STRING_LITERAL(TMP199536, "$n$n$1.. index::$n$2", 20);
STRING_LITERAL(TMP199537, "$n$n$1.. contents::", 19);
STRING_LITERAL(TMP199539, "\\-", 2);
STRING_LITERAL(TMP199540, "tex", 3);
NimStringDesc* Splitter_159045;
extern TY11196 Gch_11214;
extern TNimType* NTI159019; /* PDoc */
extern TNimType* NTI159033; /* seq[TTocEntry] */
extern NimStringDesc* Gindexfile_47088;
extern NU8 Gcmd_47089;
extern TNimType* NTI156007; /* TGeneralTokenizer */
extern TNimType* NTI86016; /* TSrcGen */
extern NU32 Gglobaloptions_47084;
extern TNimType* NTI151008; /* TRstNodeKind */
static N_INLINE(TY10802*, Usrtocell_11612)(void* Usr_11614) {
TY10802* Result_11615;
Result_11615 = 0;
Result_11615 = ((TY10802*) ((NI32)((NU32)(((NI) (Usr_11614))) - (NU32)(((NI) (((NI)sizeof(TY10802))))))));
return Result_11615;
}
static N_INLINE(NI, Atomicinc_3221)(NI* Memloc_3224, NI X_3225) {
NI Result_7807;
Result_7807 = 0;
(*Memloc_3224) += X_3225;
Result_7807 = (*Memloc_3224);
return Result_7807;
}
static N_INLINE(NI, Atomicdec_3226)(NI* Memloc_3229, NI X_3230) {
NI Result_8006;
Result_8006 = 0;
(*Memloc_3229) -= X_3230;
Result_8006 = (*Memloc_3229);
return Result_8006;
}
static N_INLINE(void, Rtladdzct_12601)(TY10802* C_12603) {
Addzct_11601(&Gch_11214.Zct, C_12603);
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13218, void* Src_13219) {
TY10802* C_13220;
NI LOC4;
TY10802* C_13222;
NI LOC9;
if (!!((Src_13219 == NIM_NIL))) goto LA2;
C_13220 = 0;
C_13220 = Usrtocell_11612(Src_13219);
LOC4 = Atomicinc_3221(&(*C_13220).Refcount, 8);
LA2: ;
if (!!(((*Dest_13218) == NIM_NIL))) goto LA6;
C_13222 = 0;
C_13222 = Usrtocell_11612((*Dest_13218));
LOC9 = Atomicdec_3226(&(*C_13222).Refcount, 8);
if (!((NU32)(LOC9) < (NU32)(8))) goto LA10;
Rtladdzct_12601(C_13222);
LA10: ;
LA6: ;
(*Dest_13218) = Src_13219;
}
N_NIMCALL(TY159017*, Newdocumentor_159159)(NimStringDesc* Filename_159161) {
TY159017* Result_159162;
NimStringDesc* S_159194;
Result_159162 = 0;
S_159194 = 0;
Result_159162 = NIM_NIL;
Result_159162 = (TY159017*) newObj(NTI159019, sizeof(TY159017));
asgnRefNoCycle((void**) &(*Result_159162).Tocpart, (TY159033*) newSeq(NTI159033, 0));
asgnRefNoCycle((void**) &(*Result_159162).Filename, copyString(Filename_159161));
(*Result_159162).Id = 100;
(*Result_159162).Splitafter = 20;
S_159194 = NIM_NIL;
S_159194 = Getconfigvar_47140(((NimStringDesc*) &TMP199143));
if (!!(((S_159194) && (S_159194)->Sup.len == 0))) goto LA2;
(*Result_159162).Splitafter = nsuParseInt(S_159194);
LA2: ;
return Result_159162;
}
N_NIMCALL(TY151077*, Findindexnode_159047)(TY151077* N_159049) {
TY151077* Result_159050;
NI I_159114;
NI HEX3Atmp_159126;
NI LOC11;
NI Res_159128;
Result_159050 = 0;
Result_159050 = NIM_NIL;
if (!(N_159049 == NIM_NIL)) goto LA2;
Result_159050 = NIM_NIL;
goto LA1;
LA2: ;
if (!((*N_159049).Kind == ((NU8) 51))) goto LA4;
Result_159050 = (*N_159049).Sons->data[2];
if (!(Result_159050 == NIM_NIL)) goto LA7;
Result_159050 = Newrstnode_151094(((NU8) 9));
asgnRefNoCycle((void**) &(*N_159049).Sons->data[2], Result_159050);
goto LA6;
LA7: ;
if (!((*Result_159050).Kind == ((NU8) 0))) goto LA9;
Result_159050 = (*Result_159050).Sons->data[0];
goto LA6;
LA9: ;
LA6: ;
goto LA1;
LA4: ;
Result_159050 = NIM_NIL;
I_159114 = 0;
HEX3Atmp_159126 = 0;
LOC11 = Rsonslen_151091(N_159049);
HEX3Atmp_159126 = (NI32)(LOC11 - 1);
Res_159128 = 0;
Res_159128 = 0;
while (1) {
if (!(Res_159128 <= HEX3Atmp_159126)) goto LA12;
I_159114 = Res_159128;
Result_159050 = Findindexnode_159047((*N_159049).Sons->data[I_159114]);
if (!!((Result_159050 == NIM_NIL))) goto LA14;
goto BeforeRet;
LA14: ;
Res_159128 += 1;
} LA12: ;
LA1: ;
BeforeRet: ;
return Result_159050;
}
N_NIMCALL(void, Initindexfile_159129)(TY159017* D_159131) {
TY151077* H_159132;
NIM_BOOL Dummyhastoc_159133;
NimStringDesc* LOC4;
NIM_BOOL LOC6;
NimStringDesc* LOC9;
NIM_BOOL LOC11;
TY151077* LOC15;
H_159132 = 0;
H_159132 = NIM_NIL;
Dummyhastoc_159133 = 0;
if (!(Gindexfile_47088->Sup.len == 0)) goto LA2;
goto BeforeRet;
LA2: ;
asgnRefNoCycle((void**) &Gindexfile_47088, nosaddFileExt(Gindexfile_47088, ((NimStringDesc*) &TMP199144)));
LOC4 = 0;
LOC4 = nosextractFilename((*D_159131).Filename);
asgnRefNoCycle((void**) &(*D_159131).Indexvalfilename, nosChangeFileExt(LOC4, ((NimStringDesc*) &TMP199145)));
LOC6 = nosexistsFile(Gindexfile_47088);
if (!LOC6) goto LA7;
LOC9 = 0;
LOC9 = Readfile_3847(Gindexfile_47088);
asgnRefNoCycle((void**) &(*D_159131).Indexfile, Rstparse_151082(LOC9, NIM_FALSE, Gindexfile_47088, 0, 1, &Dummyhastoc_159133));
asgnRefNoCycle((void**) &(*D_159131).Theindex, Findindexnode_159047((*D_159131).Indexfile));
LOC11 = ((*D_159131).Theindex == NIM_NIL);
if (LOC11) goto LA12;
LOC11 = !(((*(*D_159131).Theindex).Kind == ((NU8) 9)));
LA12: ;
if (!LOC11) goto LA13;
Rawmessage_49094(((NU8) 189), Gindexfile_47088);
LA13: ;
Clearindex_151126((*D_159131).Theindex, (*D_159131).Indexvalfilename);
goto LA5;
LA7: ;
asgnRefNoCycle((void**) &(*D_159131).Indexfile, Newrstnode_151094(((NU8) 0)));
H_159132 = Newrstnode_151094(((NU8) 2));
(*H_159132).Level = 1;
LOC15 = 0;
LOC15 = Newrstnode_151097(((NU8) 62), ((NimStringDesc*) &TMP199213));
Addson_151101(H_159132, LOC15);
Addson_151101((*D_159131).Indexfile, H_159132);
H_159132 = Newrstnode_151094(((NU8) 51));
Addson_151101(H_159132, NIM_NIL);
Addson_151101(H_159132, NIM_NIL);
asgnRefNoCycle((void**) &(*D_159131).Theindex, Newrstnode_151094(((NU8) 9)));
Addson_151101(H_159132, (*D_159131).Theindex);
Addson_151101((*D_159131).Indexfile, H_159132);
LA5: ;
BeforeRet: ;
}
N_NIMCALL(TY53008*, Renderaux_159616)(TY159017* D_159618, TY151077* N_159619, NimStringDesc* Outer_159620) {
TY53008* Result_159621;
NI I_159630;
NI HEX3Atmp_159636;
NI LOC1;
NI Res_159638;
TY53008* LOC3;
TY53407 LOC4;
Result_159621 = 0;
Result_159621 = NIM_NIL;
Result_159621 = NIM_NIL;
I_159630 = 0;
HEX3Atmp_159636 = 0;
LOC1 = Rsonslen_151091(N_159619);
HEX3Atmp_159636 = (NI32)(LOC1 - 1);
Res_159638 = 0;
Res_159638 = 0;
while (1) {
if (!(Res_159638 <= HEX3Atmp_159636)) goto LA2;
I_159630 = Res_159638;
LOC3 = 0;
LOC3 = Renderrsttoout_159612(D_159618, (*N_159619).Sons->data[I_159630]);
App_53031(&Result_159621, LOC3);
Res_159638 += 1;
} LA2: ;
memset((void*)&LOC4, 0, sizeof(LOC4));
LOC4[0] = Result_159621;
Result_159621 = Ropef_53066(Outer_159620, LOC4, 1);
return Result_159621;
}
N_NIMCALL(TY53008*, Dispf_159579)(NimStringDesc* Xml_159581, NimStringDesc* Tex_159582, TY53008** Args_159584, NI Args_159584Len0) {
TY53008* Result_159585;
Result_159585 = 0;
Result_159585 = NIM_NIL;
if (!!((Gcmd_47089 == ((NU8) 17)))) goto LA2;
Result_159585 = Ropef_53066(Xml_159581, Args_159584, Args_159584Len0);
goto LA1;
LA2: ;
Result_159585 = Ropef_53066(Tex_159582, Args_159584, Args_159584Len0);
LA1: ;
return Result_159585;
}
static N_INLINE(void, appendChar)(NimStringDesc* Dest_18816, NIM_CHAR C_18817) {
(*Dest_18816).data[((*Dest_18816).Sup.len)-0] = C_18817;
(*Dest_18816).data[((NI32)((*Dest_18816).Sup.len + 1))-0] = 0;
(*Dest_18816).Sup.len += 1;
}
static N_INLINE(void, appendString)(NimStringDesc* Dest_18799, NimStringDesc* Src_18800) {
memcpy(((NCSTRING) (&(*Dest_18799).data[((*Dest_18799).Sup.len)-0])), ((NCSTRING) ((*Src_18800).data)), ((int) ((NI32)((NI32)((*Src_18800).Sup.len + 1) * 1))));
(*Dest_18799).Sup.len += (*Src_18800).Sup.len;
}
N_NIMCALL(TY53008*, Renderheadline_160115)(TY159017* D_160117, TY151077* N_160118) {
TY53008* Result_160119;
NI I_160128;
NI HEX3Atmp_160172;
NI LOC1;
NI Res_160174;
TY53008* LOC3;
TY53008* Refname_160130;
NimStringDesc* LOC4;
NI Length_160141;
TY166439 LOC8;
NimStringDesc* LOC9;
TY166439 LOC10;
NimStringDesc* LOC11;
Result_160119 = 0;
Refname_160130 = 0;
Result_160119 = NIM_NIL;
Result_160119 = NIM_NIL;
I_160128 = 0;
HEX3Atmp_160172 = 0;
LOC1 = Rsonslen_151091(N_160118);
HEX3Atmp_160172 = (NI32)(LOC1 - 1);
Res_160174 = 0;
Res_160174 = 0;
while (1) {
if (!(Res_160174 <= HEX3Atmp_160172)) goto LA2;
I_160128 = Res_160174;
LOC3 = 0;
LOC3 = Renderrsttoout_159612(D_160117, (*N_160118).Sons->data[I_160128]);
App_53031(&Result_160119, LOC3);
Res_160174 += 1;
} LA2: ;
Refname_160130 = NIM_NIL;
LOC4 = 0;
LOC4 = Rstnodetorefname_151105(N_160118);
Refname_160130 = Torope_53046(LOC4);
if (!(*D_160117).Hastoc) goto LA6;
Length_160141 = 0;
Length_160141 = (*D_160117).Tocpart->Sup.len;
(*D_160117).Tocpart = (TY159033*) setLengthSeq(&((*D_160117).Tocpart)->Sup, sizeof(TY159011), (NI32)(Length_160141 + 1));
asgnRefNoCycle((void**) &(*D_160117).Tocpart->data[Length_160141].Refname, Refname_160130);
asgnRefNoCycle((void**) &(*D_160117).Tocpart->data[Length_160141].N, N_160118);
asgnRefNoCycle((void**) &(*D_160117).Tocpart->data[Length_160141].Header, Result_160119);
memset((void*)&LOC8, 0, sizeof(LOC8));
LOC8[0] = Torope_53049(((NI64) ((*N_160118).Level)));
LOC8[1] = (*D_160117).Tocpart->data[Length_160141].Refname;
LOC8[2] = Result_160119;
LOC9 = 0;
LOC9 = rawNewString(1);
appendChar(LOC9, ((NIM_CHAR) (((NI) ((NI32)((NI32)((*N_160118).Level - 1) + 65))))));
appendString(LOC9, ((NimStringDesc*) &TMP199218));
LOC8[3] = Torope_53046(LOC9);
Result_160119 = Dispf_159579(((NimStringDesc*) &TMP199216), ((NimStringDesc*) &TMP199217), LOC8, 4);
goto LA5;
LA6: ;
memset((void*)&LOC10, 0, sizeof(LOC10));
LOC10[0] = Torope_53049(((NI64) ((*N_160118).Level)));
LOC10[1] = Refname_160130;
LOC10[2] = Result_160119;
LOC11 = 0;
LOC11 = rawNewString(1);
appendChar(LOC11, ((NIM_CHAR) (((NI) ((NI32)((NI32)((*N_160118).Level - 1) + 65))))));
appendString(LOC11, ((NimStringDesc*) &TMP199218));
LOC10[3] = Torope_53046(LOC11);
Result_160119 = Dispf_159579(((NimStringDesc*) &TMP199219), ((NimStringDesc*) &TMP199217), LOC10, 4);
LA5: ;
return Result_160119;
}
N_NIMCALL(TY53008*, Renderoverline_160175)(TY159017* D_160177, TY151077* N_160178) {
TY53008* Result_160179;
TY53008* T_160180;
NI I_160189;
NI HEX3Atmp_160222;
NI LOC1;
NI Res_160224;
TY53008* LOC3;
TY166439 LOC9;
NimStringDesc* LOC10;
NimStringDesc* LOC11;
Result_160179 = 0;
T_160180 = 0;
Result_160179 = NIM_NIL;
T_160180 = NIM_NIL;
T_160180 = NIM_NIL;
I_160189 = 0;
HEX3Atmp_160222 = 0;
LOC1 = Rsonslen_151091(N_160178);
HEX3Atmp_160222 = (NI32)(LOC1 - 1);
Res_160224 = 0;
Res_160224 = 0;
while (1) {
if (!(Res_160224 <= HEX3Atmp_160222)) goto LA2;
I_160189 = Res_160224;
LOC3 = 0;
LOC3 = Renderrsttoout_159612(D_160177, (*N_160178).Sons->data[I_160189]);
App_53031(&T_160180, LOC3);
Res_160224 += 1;
} LA2: ;
Result_160179 = NIM_NIL;
if (!((*D_160177).Meta[(((NU8) 1))-0] == NIM_NIL)) goto LA5;
asgnRefNoCycle((void**) &(*D_160177).Meta[(((NU8) 1))-0], T_160180);
goto LA4;
LA5: ;
if (!((*D_160177).Meta[(((NU8) 2))-0] == NIM_NIL)) goto LA7;
asgnRefNoCycle((void**) &(*D_160177).Meta[(((NU8) 2))-0], T_160180);
goto LA4;
LA7: ;
memset((void*)&LOC9, 0, sizeof(LOC9));
LOC9[0] = Torope_53049(((NI64) ((*N_160178).Level)));
LOC10 = 0;
LOC10 = Rstnodetorefname_151105(N_160178);
LOC9[1] = Torope_53046(LOC10);
LOC9[2] = T_160180;
LOC11 = 0;
LOC11 = rawNewString(1);
appendChar(LOC11, ((NIM_CHAR) (((NI) ((NI32)((NI32)((*N_160178).Level - 1) + 65))))));
appendString(LOC11, ((NimStringDesc*) &TMP199218));
LOC9[3] = Torope_53046(LOC11);
Result_160179 = Dispf_159579(((NimStringDesc*) &TMP199220), ((NimStringDesc*) &TMP199221), LOC9, 4);
LA4: ;
return Result_160179;
}
N_NIMCALL(NimStringDesc*, Disp_159565)(NimStringDesc* Xml_159567, NimStringDesc* Tex_159568) {
NimStringDesc* Result_159569;
Result_159569 = 0;
Result_159569 = NIM_NIL;
if (!!((Gcmd_47089 == ((NU8) 17)))) goto LA2;
Result_159569 = copyString(Xml_159567);
goto LA1;
LA2: ;
Result_159569 = copyString(Tex_159568);
LA1: ;
return Result_159569;
}
N_NIMCALL(NI, Nextsplitpoint_159453)(NimStringDesc* S_159455, NI Start_159456) {
NI Result_159457;
Result_159457 = 0;
Result_159457 = Start_159456;
while (1) {
if (!(Result_159457 < (NI32)(S_159455->Sup.len + 0))) goto LA1;
switch (((NU8)(S_159455->data[Result_159457]))) {
case 95:
goto BeforeRet;
break;
case 97 ... 122:
if (!((NI32)(Result_159457 + 1) < (NI32)(S_159455->Sup.len + 0))) goto LA3;
if (!(((NU8)(S_159455->data[(NI32)(Result_159457 + 1)])) >= ((NU8)(65)) && ((NU8)(S_159455->data[(NI32)(Result_159457 + 1)])) <= ((NU8)(90)))) goto LA6;
goto BeforeRet;
LA6: ;
LA3: ;
break;
default:
break;
}
Result_159457 += 1;
} LA1: ;
Result_159457 -= 1;
BeforeRet: ;
return Result_159457;
}
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* A_18649, NimStringDesc* B_18650) {
NIM_BOOL Result_18651;
NIM_BOOL LOC5;
NIM_BOOL LOC9;
int LOC11;
Result_18651 = 0;
if (!(A_18649 == B_18650)) goto LA2;
Result_18651 = NIM_TRUE;
goto BeforeRet;
LA2: ;
LOC5 = (A_18649 == NIM_NIL);
if (LOC5) goto LA6;
LOC5 = (B_18650 == NIM_NIL);
LA6: ;
if (!LOC5) goto LA7;
Result_18651 = NIM_FALSE;
goto BeforeRet;
LA7: ;
LOC9 = ((*A_18649).Sup.len == (*B_18650).Sup.len);
if (!(LOC9)) goto LA10;
LOC11 = memcmp(((NCSTRING) ((*A_18649).data)), ((NCSTRING) ((*B_18650).data)), ((int) ((NI32)((*A_18649).Sup.len * 1))));
LOC9 = (LOC11 == ((NI32) 0));
LA10: ;
Result_18651 = LOC9;
goto BeforeRet;
BeforeRet: ;
return Result_18651;
}
N_NIMCALL(void, Addxmlchar_159424)(NimStringDesc** Dest_159427, NIM_CHAR C_159428) {
switch (((NU8)(C_159428))) {
case 38:
(*Dest_159427) = resizeString((*Dest_159427), 5);
appendString((*Dest_159427), ((NimStringDesc*) &TMP199240));
break;
case 60:
(*Dest_159427) = resizeString((*Dest_159427), 4);
appendString((*Dest_159427), ((NimStringDesc*) &TMP199241));
break;
case 62:
(*Dest_159427) = resizeString((*Dest_159427), 4);
appendString((*Dest_159427), ((NimStringDesc*) &TMP199242));
break;
case 34:
(*Dest_159427) = resizeString((*Dest_159427), 6);
appendString((*Dest_159427), ((NimStringDesc*) &TMP199243));
break;
default:
(*Dest_159427) = addChar((*Dest_159427), C_159428);
break;
}
}
N_NIMCALL(void, Addtexchar_159434)(NimStringDesc** Dest_159437, NIM_CHAR C_159438) {
switch (((NU8)(C_159438))) {
case 95:
(*Dest_159437) = resizeString((*Dest_159437), 2);
appendString((*Dest_159437), ((NimStringDesc*) &TMP199244));
break;
case 123:
(*Dest_159437) = resizeString((*Dest_159437), 12);
appendString((*Dest_159437), ((NimStringDesc*) &TMP199245));
break;
case 125:
(*Dest_159437) = resizeString((*Dest_159437), 12);
appendString((*Dest_159437), ((NimStringDesc*) &TMP199246));
break;
case 91:
(*Dest_159437) = resizeString((*Dest_159437), 11);
appendString((*Dest_159437), ((NimStringDesc*) &TMP199247));
break;
case 93:
(*Dest_159437) = resizeString((*Dest_159437), 11);
appendString((*Dest_159437), ((NimStringDesc*) &TMP199248));
break;
case 92:
(*Dest_159437) = resizeString((*Dest_159437), 11);
appendString((*Dest_159437), ((NimStringDesc*) &TMP199249));
break;
case 36:
(*Dest_159437) = resizeString((*Dest_159437), 2);
appendString((*Dest_159437), ((NimStringDesc*) &TMP199250));
break;
case 38:
(*Dest_159437) = resizeString((*Dest_159437), 2);
appendString((*Dest_159437), ((NimStringDesc*) &TMP199251));
break;
case 35:
(*Dest_159437) = resizeString((*Dest_159437), 2);
appendString((*Dest_159437), ((NimStringDesc*) &TMP199252));
break;
case 37:
(*Dest_159437) = resizeString((*Dest_159437), 2);
appendString((*Dest_159437), ((NimStringDesc*) &TMP199253));
break;
case 126:
(*Dest_159437) = resizeString((*Dest_159437), 12);
appendString((*Dest_159437), ((NimStringDesc*) &TMP199254));
break;
case 64:
(*Dest_159437) = resizeString((*Dest_159437), 11);
appendString((*Dest_159437), ((NimStringDesc*) &TMP199255));
break;
case 94:
(*Dest_159437) = resizeString((*Dest_159437), 11);
appendString((*Dest_159437), ((NimStringDesc*) &TMP199256));
break;
case 96:
(*Dest_159437) = resizeString((*Dest_159437), 11);
appendString((*Dest_159437), ((NimStringDesc*) &TMP199257));
break;
default:
(*Dest_159437) = addChar((*Dest_159437), C_159438);
break;
}
}
N_NIMCALL(void, Escchar_159439)(NimStringDesc** Dest_159442, NIM_CHAR C_159443) {
if (!!((Gcmd_47089 == ((NU8) 17)))) goto LA2;
Addxmlchar_159424(Dest_159442, C_159443);
goto LA1;
LA2: ;
Addtexchar_159434(Dest_159442, C_159443);
LA1: ;
}
N_NIMCALL(NimStringDesc*, Esc_159506)(NimStringDesc* S_159508, NI Splitafter_159509) {
NimStringDesc* Result_159510;
NI Partlen_159513;
NI J_159514;
NI K_159521;
NIM_BOOL LOC6;
NI I_159534;
NI Res_159561;
NI I_159558;
NI HEX3Atmp_159562;
NI Res_159564;
Result_159510 = 0;
Result_159510 = NIM_NIL;
Result_159510 = copyString(((NimStringDesc*) &TMP199218));
if (!(0 <= Splitafter_159509)) goto LA2;
Partlen_159513 = 0;
Partlen_159513 = 0;
J_159514 = 0;
J_159514 = 0;
while (1) {
if (!(J_159514 < S_159508->Sup.len)) goto LA4;
K_159521 = 0;
K_159521 = Nextsplitpoint_159453(S_159508, J_159514);
LOC6 = !(eqStrings(Splitter_159045, ((NimStringDesc*) &TMP199239)));
if (LOC6) goto LA7;
LOC6 = (Splitafter_159509 < (NI32)((NI32)((NI32)(Partlen_159513 + K_159521) - J_159514) + 1));
LA7: ;
if (!LOC6) goto LA8;
Partlen_159513 = 0;
Result_159510 = resizeString(Result_159510, Splitter_159045->Sup.len + 0);
appendString(Result_159510, Splitter_159045);
LA8: ;
I_159534 = 0;
Res_159561 = 0;
Res_159561 = J_159514;
while (1) {
if (!(Res_159561 <= K_159521)) goto LA10;
I_159534 = Res_159561;
Escchar_159439(&Result_159510, S_159508->data[I_159534]);
Res_159561 += 1;
} LA10: ;
Partlen_159513 += (NI32)((NI32)(K_159521 - J_159514) + 1);
J_159514 = (NI32)(K_159521 + 1);
} LA4: ;
goto LA1;
LA2: ;
I_159558 = 0;
HEX3Atmp_159562 = 0;
HEX3Atmp_159562 = (NI32)((NI32)(S_159508->Sup.len + 0) - 1);
Res_159564 = 0;
Res_159564 = 0;
while (1) {
if (!(Res_159564 <= HEX3Atmp_159562)) goto LA11;
I_159558 = Res_159564;
Escchar_159439(&Result_159510, S_159508->data[I_159558]);
Res_159564 += 1;
} LA11: ;
LA1: ;
return Result_159510;
}
N_NIMCALL(TY53008*, Renderfield_160790)(TY159017* D_160792, TY151077* N_160793) {
TY53008* Result_160794;
NIM_BOOL B_160795;
NimStringDesc* Fieldname_160805;
TY53008* Fieldval_160806;
NimStringDesc* LOC4;
NimStringDesc* LOC5;
NimStringDesc* LOC6;
NI LOC8;
NI LOC14;
NimStringDesc* LOC23;
Result_160794 = 0;
Fieldname_160805 = 0;
Fieldval_160806 = 0;
Result_160794 = NIM_NIL;
B_160795 = 0;
B_160795 = NIM_FALSE;
if (!(Gcmd_47089 == ((NU8) 17))) goto LA2;
Fieldname_160805 = NIM_NIL;
Fieldname_160805 = Addnodes_151108((*N_160793).Sons->data[0]);
Fieldval_160806 = NIM_NIL;
LOC4 = 0;
LOC4 = Addnodes_151108((*N_160793).Sons->data[1]);
LOC5 = 0;
LOC5 = nsuStrip(LOC4, NIM_TRUE, NIM_TRUE);
LOC6 = 0;
LOC6 = Esc_159506(LOC5, -1);
Fieldval_160806 = Torope_53046(LOC6);
LOC8 = nsuCmpIgnoreStyle(Fieldname_160805, ((NimStringDesc*) &TMP199258));
if (!(LOC8 == 0)) goto LA9;
if (!((*D_160792).Meta[(((NU8) 3))-0] == NIM_NIL)) goto LA12;
asgnRefNoCycle((void**) &(*D_160792).Meta[(((NU8) 3))-0], Fieldval_160806);
B_160795 = NIM_TRUE;
LA12: ;
goto LA7;
LA9: ;
LOC14 = nsuCmpIgnoreStyle(Fieldname_160805, ((NimStringDesc*) &TMP199259));
if (!(LOC14 == 0)) goto LA15;
if (!((*D_160792).Meta[(((NU8) 4))-0] == NIM_NIL)) goto LA18;
asgnRefNoCycle((void**) &(*D_160792).Meta[(((NU8) 4))-0], Fieldval_160806);
B_160795 = NIM_TRUE;
LA18: ;
goto LA7;
LA15: ;
LA7: ;
LA2: ;
if (!B_160795) goto LA21;
Result_160794 = NIM_NIL;
goto LA20;
LA21: ;
LOC23 = 0;
LOC23 = Disp_159565(((NimStringDesc*) &TMP199260), ((NimStringDesc*) &TMP199215));
Result_160794 = Renderaux_159616(D_160792, N_160793, LOC23);
LA20: ;
return Result_160794;
}
N_NIMCALL(NimStringDesc*, Texcolumns_160774)(TY151077* N_160776) {
NimStringDesc* Result_160777;
NI I_160786;
NI HEX3Atmp_160787;
NI Res_160789;
Result_160777 = 0;
Result_160777 = NIM_NIL;
Result_160777 = copyString(((NimStringDesc*) &TMP199218));
I_160786 = 0;
HEX3Atmp_160787 = 0;
HEX3Atmp_160787 = Rsonslen_151091(N_160776);
Res_160789 = 0;
Res_160789 = 1;
while (1) {
if (!(Res_160789 <= HEX3Atmp_160787)) goto LA1;
I_160786 = Res_160789;
Result_160777 = resizeString(Result_160777, 2);
appendString(Result_160777, ((NimStringDesc*) &TMP199280));
Res_160789 += 1;
} LA1: ;
return Result_160777;
}
N_NIMCALL(void, Dispa_159595)(TY53008** Dest_159598, NimStringDesc* Xml_159599, NimStringDesc* Tex_159600, TY53008** Args_159602, NI Args_159602Len0) {
if (!!((Gcmd_47089 == ((NU8) 17)))) goto LA2;
Appf_53071(Dest_159598, Xml_159599, Args_159602, Args_159602Len0);
goto LA1;
LA2: ;
Appf_53071(Dest_159598, Tex_159600, Args_159602, Args_159602Len0);
LA1: ;
}
N_NIMCALL(TY53008*, Fieldaux_160629)(NimStringDesc* S_160631) {
TY53008* Result_160632;
NimStringDesc* LOC1;
Result_160632 = 0;
Result_160632 = NIM_NIL;
LOC1 = 0;
LOC1 = nsuStrip(S_160631, NIM_TRUE, NIM_TRUE);
Result_160632 = Torope_53046(LOC1);
return Result_160632;
}
N_NIMCALL(TY53008*, Renderimage_160633)(TY159017* D_160635, TY151077* N_160636) {
TY53008* Result_160637;
TY53008* Options_160638;
NimStringDesc* S_160639;
TY53407 LOC4;
TY53407 LOC8;
TY53407 LOC12;
TY53407 LOC16;
TY53407 LOC20;
TY53407 LOC24;
TY179695 LOC25;
NimStringDesc* LOC26;
NI LOC28;
TY53008* LOC31;
Result_160637 = 0;
Options_160638 = 0;
S_160639 = 0;
Result_160637 = NIM_NIL;
Options_160638 = NIM_NIL;
Options_160638 = NIM_NIL;
S_160639 = NIM_NIL;
S_160639 = Getfieldvalue_151111(N_160636, ((NimStringDesc*) &TMP199292));
if (!!(((S_160639) && (S_160639)->Sup.len == 0))) goto LA2;
memset((void*)&LOC4, 0, sizeof(LOC4));
LOC4[0] = Fieldaux_160629(S_160639);
Dispa_159595(&Options_160638, ((NimStringDesc*) &TMP199293), ((NimStringDesc*) &TMP199294), LOC4, 1);
LA2: ;
S_160639 = Getfieldvalue_151111(N_160636, ((NimStringDesc*) &TMP199295));
if (!!(((S_160639) && (S_160639)->Sup.len == 0))) goto LA6;
memset((void*)&LOC8, 0, sizeof(LOC8));
LOC8[0] = Fieldaux_160629(S_160639);
Dispa_159595(&Options_160638, ((NimStringDesc*) &TMP199296), ((NimStringDesc*) &TMP199297), LOC8, 1);
LA6: ;
S_160639 = Getfieldvalue_151111(N_160636, ((NimStringDesc*) &TMP199298));
if (!!(((S_160639) && (S_160639)->Sup.len == 0))) goto LA10;
memset((void*)&LOC12, 0, sizeof(LOC12));
LOC12[0] = Fieldaux_160629(S_160639);
Dispa_159595(&Options_160638, ((NimStringDesc*) &TMP199299), ((NimStringDesc*) &TMP199300), LOC12, 1);
LA10: ;
S_160639 = Getfieldvalue_151111(N_160636, ((NimStringDesc*) &TMP199301));
if (!!(((S_160639) && (S_160639)->Sup.len == 0))) goto LA14;
memset((void*)&LOC16, 0, sizeof(LOC16));
LOC16[0] = Fieldaux_160629(S_160639);
Dispa_159595(&Options_160638, ((NimStringDesc*) &TMP199302), ((NimStringDesc*) &TMP199218), LOC16, 1);
LA14: ;
S_160639 = Getfieldvalue_151111(N_160636, ((NimStringDesc*) &TMP199303));
if (!!(((S_160639) && (S_160639)->Sup.len == 0))) goto LA18;
memset((void*)&LOC20, 0, sizeof(LOC20));
LOC20[0] = Fieldaux_160629(S_160639);
Dispa_159595(&Options_160638, ((NimStringDesc*) &TMP199304), ((NimStringDesc*) &TMP199218), LOC20, 1);
LA18: ;
if (!!((Options_160638 == NIM_NIL))) goto LA22;
memset((void*)&LOC24, 0, sizeof(LOC24));
LOC24[0] = Options_160638;
Options_160638 = Dispf_159579(((NimStringDesc*) &TMP199215), ((NimStringDesc*) &TMP199305), LOC24, 1);
LA22: ;
memset((void*)&LOC25, 0, sizeof(LOC25));
LOC26 = 0;
LOC26 = Getargument_151115(N_160636);
LOC25[0] = Torope_53046(LOC26);
LOC25[1] = Options_160638;
Result_160637 = Dispf_159579(((NimStringDesc*) &TMP199306), ((NimStringDesc*) &TMP199307), LOC25, 2);
LOC28 = Rsonslen_151091(N_160636);
if (!(3 <= LOC28)) goto LA29;
LOC31 = 0;
LOC31 = Renderrsttoout_159612(D_160635, (*N_160636).Sons->data[2]);
App_53031(&Result_160637, LOC31);
LA29: ;
return Result_160637;
}
N_NIMCALL(TY53008*, Rendercodeblock_160687)(TY159017* D_160689, TY151077* N_160690) {
TY53008* Result_160691;
TY151077* M_160703;
NimStringDesc* Langstr_160713;
NimStringDesc* LOC7;
NU8 Lang_160714;
TY156007 G_160724;
NimStringDesc* LOC15;
TY179695 LOC16;
NimStringDesc* LOC17;
NimStringDesc* LOC18;
TY53407 LOC22;
Result_160691 = 0;
M_160703 = 0;
Langstr_160713 = 0;
G_160724.Sup.m_type = NTI156007;
Result_160691 = NIM_NIL;
Result_160691 = NIM_NIL;
if (!((*N_160690).Sons->data[2] == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
M_160703 = NIM_NIL;
M_160703 = (*(*N_160690).Sons->data[2]).Sons->data[0];
if (!!(((*M_160703).Kind == ((NU8) 62)))) goto LA5;
Internalerror_49212(((NimStringDesc*) &TMP199308));
LA5: ;
Langstr_160713 = NIM_NIL;
LOC7 = 0;
LOC7 = Getargument_151115(N_160690);
Langstr_160713 = nsuStrip(LOC7, NIM_TRUE, NIM_TRUE);
Lang_160714 = 0;
if (!((Langstr_160713) && (Langstr_160713)->Sup.len == 0)) goto LA9;
Lang_160714 = ((NU8) 1);
goto LA8;
LA9: ;
Lang_160714 = Getsourcelanguage_156102(Langstr_160713);
LA8: ;
if (!(Lang_160714 == ((NU8) 0))) goto LA12;
Rawmessage_49094(((NU8) 219), Langstr_160713);
Result_160691 = Torope_53046((*M_160703).Text);
goto LA11;
LA12: ;
memset((void*)&G_160724, 0, sizeof(G_160724));
Initgeneraltokenizer_156105(&G_160724, (*M_160703).Text);
while (1) {
Getnexttoken_156114(&G_160724, Lang_160714);
switch (G_160724.Kind) {
case ((NU8) 0):
goto LA14;
break;
case ((NU8) 1):
case ((NU8) 2):
LOC15 = 0;
LOC15 = copyStrLast((*M_160703).Text, (NI32)(G_160724.Start + 0), (NI32)((NI32)((NI32)(G_160724.Length + G_160724.Start) - 1) + 0));
App_53036(&Result_160691, LOC15);
break;
default:
memset((void*)&LOC16, 0, sizeof(LOC16));
LOC17 = 0;
LOC17 = copyStrLast((*M_160703).Text, (NI32)(G_160724.Start + 0), (NI32)((NI32)((NI32)(G_160724.Length + G_160724.Start) - 1) + 0));
LOC18 = 0;
LOC18 = Esc_159506(LOC17, -1);
LOC16[0] = Torope_53046(LOC18);
LOC16[1] = Torope_53046(Tokenclasstostr_156059[(G_160724.Kind)-0]);
Dispa_159595(&Result_160691, ((NimStringDesc*) &TMP199424), ((NimStringDesc*) &TMP199425), LOC16, 2);
break;
}
} LA14: ;
Deinitgeneraltokenizer_156110(&G_160724);
LA11: ;
if (!!((Result_160691 == NIM_NIL))) goto LA20;
memset((void*)&LOC22, 0, sizeof(LOC22));
LOC22[0] = Result_160691;
Result_160691 = Dispf_159579(((NimStringDesc*) &TMP199426), ((NimStringDesc*) &TMP199272), LOC22, 1);
LA20: ;
BeforeRet: ;
return Result_160691;
}
N_NIMCALL(TY53008*, Rendercontainer_160749)(TY159017* D_160751, TY151077* N_160752) {
TY53008* Result_160753;
TY53008* Arg_160754;
NimStringDesc* LOC1;
NimStringDesc* LOC2;
TY53407 LOC6;
TY179695 LOC7;
Result_160753 = 0;
Arg_160754 = 0;
Result_160753 = NIM_NIL;
Result_160753 = Renderrsttoout_159612(D_160751, (*N_160752).Sons->data[2]);
Arg_160754 = NIM_NIL;
LOC1 = 0;
LOC1 = Getargument_151115(N_160752);
LOC2 = 0;
LOC2 = nsuStrip(LOC1, NIM_TRUE, NIM_TRUE);
Arg_160754 = Torope_53046(LOC2);
if (!(Arg_160754 == NIM_NIL)) goto LA4;
memset((void*)&LOC6, 0, sizeof(LOC6));
LOC6[0] = Result_160753;
Result_160753 = Dispf_159579(((NimStringDesc*) &TMP199427), ((NimStringDesc*) &TMP199215), LOC6, 1);
goto LA3;
LA4: ;
memset((void*)&LOC7, 0, sizeof(LOC7));
LOC7[0] = Arg_160754;
LOC7[1] = Result_160753;
Result_160753 = Dispf_159579(((NimStringDesc*) &TMP199428), ((NimStringDesc*) &TMP199429), LOC7, 2);
LA3: ;
return Result_160753;
}
N_NIMCALL(TY53008*, Renderindexterm_159659)(TY159017* D_159661, TY151077* N_159662) {
TY53008* Result_159663;
TY179695 LOC1;
TY151077* H_159680;
TY151077* A_159683;
NimStringDesc* LOC2;
NimStringDesc* LOC3;
NimStringDesc* LOC4;
Result_159663 = 0;
H_159680 = 0;
A_159683 = 0;
Result_159663 = NIM_NIL;
(*D_159661).Id += 1;
memset((void*)&LOC1, 0, sizeof(LOC1));
LOC1[0] = Torope_53049(((NI64) ((*D_159661).Id)));
LOC1[1] = Renderaux_159616(D_159661, N_159662, ((NimStringDesc*) &TMP199215));
Result_159663 = Dispf_159579(((NimStringDesc*) &TMP199440), ((NimStringDesc*) &TMP199441), LOC1, 2);
H_159680 = NIM_NIL;
H_159680 = Newrstnode_151094(((NU8) 38));
A_159683 = NIM_NIL;
LOC2 = 0;
LOC3 = 0;
LOC3 = Disp_159565(((NimStringDesc*) &TMP199442), ((NimStringDesc*) &TMP199218));
LOC4 = 0;
LOC4 = nimIntToStr((*D_159661).Id);
LOC2 = rawNewString((*D_159661).Indexvalfilename->Sup.len + LOC3->Sup.len + LOC4->Sup.len + 0);
appendString(LOC2, (*D_159661).Indexvalfilename);
appendString(LOC2, LOC3);
appendString(LOC2, LOC4);
A_159683 = Newrstnode_151097(((NU8) 62), LOC2);
Addson_151101(H_159680, A_159683);
Addson_151101(H_159680, A_159683);
Setindexpair_151118((*D_159661).Theindex, N_159662, H_159680);
return Result_159663;
}
N_NIMCALL(TY53008*, Renderrsttoout_159612)(TY159017* D_159614, TY151077* N_159615) {
TY53008* Result_160837;
NimStringDesc* LOC4;
NimStringDesc* LOC5;
NimStringDesc* LOC6;
NimStringDesc* LOC7;
NimStringDesc* LOC8;
NimStringDesc* LOC9;
NimStringDesc* LOC10;
NimStringDesc* LOC11;
NI I_160857;
NI HEX3Atmp_160935;
NI LOC12;
NI Res_160937;
TY53008* LOC14;
TY53407 LOC18;
NimStringDesc* LOC19;
NimStringDesc* LOC20;
NimStringDesc* LOC21;
NimStringDesc* LOC22;
NimStringDesc* LOC23;
NimStringDesc* LOC24;
NimStringDesc* LOC25;
NimStringDesc* LOC26;
NimStringDesc* LOC27;
NimStringDesc* LOC28;
NimStringDesc* LOC29;
NimStringDesc* LOC30;
NimStringDesc* LOC31;
NI LOC33;
NI I_160884;
NI HEX3Atmp_160938;
NI LOC36;
NI Res_160940;
TY53407 LOC38;
TY53407 LOC39;
NimStringDesc* LOC40;
NimStringDesc* LOC41;
TY179695 LOC42;
NimStringDesc* LOC43;
NimStringDesc* LOC44;
TY179695 LOC45;
TY151077* LOC49;
NimStringDesc* LOC50;
TY151077* LOC54;
NimStringDesc* LOC55;
NimStringDesc* LOC56;
TY179695 LOC57;
NimStringDesc* LOC58;
NimStringDesc* LOC59;
NimStringDesc* LOC60;
NimStringDesc* LOC61;
NimStringDesc* LOC62;
NimStringDesc* LOC66;
NimStringDesc* LOC67;
NimStringDesc* LOC68;
Result_160837 = 0;
Result_160837 = NIM_NIL;
if (!(N_159615 == NIM_NIL)) goto LA2;
Result_160837 = NIM_NIL;
goto BeforeRet;
LA2: ;
switch ((*N_159615).Kind) {
case ((NU8) 0):
Result_160837 = Renderaux_159616(D_159614, N_159615, ((NimStringDesc*) &TMP199215));
break;
case ((NU8) 1):
Result_160837 = Renderheadline_160115(D_159614, N_159615);
break;
case ((NU8) 2):
Result_160837 = Renderoverline_160175(D_159614, N_159615);
break;
case ((NU8) 3):
LOC4 = 0;
LOC4 = Disp_159565(((NimStringDesc*) &TMP199222), ((NimStringDesc*) &TMP199223));
Result_160837 = Renderaux_159616(D_159614, N_159615, LOC4);
break;
case ((NU8) 4):
LOC5 = 0;
LOC5 = Disp_159565(((NimStringDesc*) &TMP199224), ((NimStringDesc*) &TMP199225));
Result_160837 = Renderaux_159616(D_159614, N_159615, LOC5);
break;
case ((NU8) 5):
LOC6 = 0;
LOC6 = Disp_159565(((NimStringDesc*) &TMP199226), ((NimStringDesc*) &TMP199227));
Result_160837 = Renderaux_159616(D_159614, N_159615, LOC6);
break;
case ((NU8) 6):
case ((NU8) 8):
LOC7 = 0;
LOC7 = Disp_159565(((NimStringDesc*) &TMP199228), ((NimStringDesc*) &TMP199229));
Result_160837 = Renderaux_159616(D_159614, N_159615, LOC7);
break;
case ((NU8) 7):
LOC8 = 0;
LOC8 = Disp_159565(((NimStringDesc*) &TMP199230), ((NimStringDesc*) &TMP199231));
Result_160837 = Renderaux_159616(D_159614, N_159615, LOC8);
break;
case ((NU8) 9):
LOC9 = 0;
LOC9 = Disp_159565(((NimStringDesc*) &TMP199232), ((NimStringDesc*) &TMP199233));
Result_160837 = Renderaux_159616(D_159614, N_159615, LOC9);
break;
case ((NU8) 10):
Result_160837 = Renderaux_159616(D_159614, N_159615, ((NimStringDesc*) &TMP199215));
break;
case ((NU8) 11):
LOC10 = 0;
LOC10 = Disp_159565(((NimStringDesc*) &TMP199234), ((NimStringDesc*) &TMP199235));
Result_160837 = Renderaux_159616(D_159614, N_159615, LOC10);
break;
case ((NU8) 12):
LOC11 = 0;
LOC11 = Disp_159565(((NimStringDesc*) &TMP199236), ((NimStringDesc*) &TMP199237));
Result_160837 = Renderaux_159616(D_159614, N_159615, LOC11);
break;
case ((NU8) 13):
Result_160837 = NIM_NIL;
I_160857 = 0;
HEX3Atmp_160935 = 0;
LOC12 = Rsonslen_151091(N_159615);
HEX3Atmp_160935 = (NI32)(LOC12 - 1);
Res_160937 = 0;
Res_160937 = 0;
while (1) {
if (!(Res_160937 <= HEX3Atmp_160935)) goto LA13;
I_160857 = Res_160937;
LOC14 = 0;
LOC14 = Renderrsttoout_159612(D_159614, (*N_159615).Sons->data[I_160857]);
App_53031(&Result_160837, LOC14);
Res_160937 += 1;
} LA13: ;
if (!!((Result_160837 == NIM_NIL))) goto LA16;
memset((void*)&LOC18, 0, sizeof(LOC18));
LOC18[0] = Result_160837;
Result_160837 = Dispf_159579(((NimStringDesc*) &TMP199238), ((NimStringDesc*) &TMP199233), LOC18, 1);
LA16: ;
break;
case ((NU8) 14):
Result_160837 = Renderfield_160790(D_159614, N_159615);
break;
case ((NU8) 15):
LOC19 = 0;
LOC19 = Disp_159565(((NimStringDesc*) &TMP199261), ((NimStringDesc*) &TMP199262));
Result_160837 = Renderaux_159616(D_159614, N_159615, LOC19);
break;
case ((NU8) 16):
LOC20 = 0;
LOC20 = Disp_159565(((NimStringDesc*) &TMP199263), ((NimStringDesc*) &TMP199264));
Result_160837 = Renderaux_159616(D_159614, N_159615, LOC20);
break;
case ((NU8) 51):
Result_160837 = Renderrsttoout_159612(D_159614, (*N_159615).Sons->data[2]);
break;
case ((NU8) 17):
LOC21 = 0;
LOC21 = Disp_159565(((NimStringDesc*) &TMP199265), ((NimStringDesc*) &TMP199266));
Result_160837 = Renderaux_159616(D_159614, N_159615, LOC21);
break;
case ((NU8) 18):
LOC22 = 0;
LOC22 = Disp_159565(((NimStringDesc*) &TMP199260), ((NimStringDesc*) &TMP199215));
Result_160837 = Renderaux_159616(D_159614, N_159615, LOC22);
break;
case ((NU8) 19):
LOC23 = 0;
LOC23 = Disp_159565(((NimStringDesc*) &TMP199267), ((NimStringDesc*) &TMP199268));
Result_160837 = Renderaux_159616(D_159614, N_159615, LOC23);
break;
case ((NU8) 23):
LOC24 = 0;
LOC24 = Disp_159565(((NimStringDesc*) &TMP199269), ((NimStringDesc*) &TMP199264));
Result_160837 = Renderaux_159616(D_159614, N_159615, LOC24);
break;
case ((NU8) 20):
case ((NU8) 21):
case ((NU8) 22):
Internalerror_49212(((NimStringDesc*) &TMP199270));
break;
case ((NU8) 24):
LOC25 = 0;
LOC25 = Disp_159565(((NimStringDesc*) &TMP199271), ((NimStringDesc*) &TMP199272));
Result_160837 = Renderaux_159616(D_159614, N_159615, LOC25);
break;
case ((NU8) 25):
Internalerror_49212(((NimStringDesc*) &TMP199270));
break;
case ((NU8) 26):
LOC26 = 0;
LOC26 = Disp_159565(((NimStringDesc*) &TMP199273), ((NimStringDesc*) &TMP199225));
Result_160837 = Renderaux_159616(D_159614, N_159615, LOC26);
break;
case ((NU8) 27):
LOC27 = 0;
LOC27 = Disp_159565(((NimStringDesc*) &TMP199274), ((NimStringDesc*) &TMP199275));
Result_160837 = Renderaux_159616(D_159614, N_159615, LOC27);
break;
case ((NU8) 28):
LOC28 = 0;
LOC28 = Disp_159565(((NimStringDesc*) &TMP199276), ((NimStringDesc*) &TMP199277));
Result_160837 = Renderaux_159616(D_159614, N_159615, LOC28);
break;
case ((NU8) 29):
case ((NU8) 30):
LOC29 = 0;
LOC30 = 0;
LOC30 = Texcolumns_160774(N_159615);
LOC29 = rawNewString(LOC30->Sup.len + 65);
appendString(LOC29, ((NimStringDesc*) &TMP199279));
appendString(LOC29, LOC30);
appendString(LOC29, ((NimStringDesc*) &TMP199281));
LOC31 = 0;
LOC31 = Disp_159565(((NimStringDesc*) &TMP199278), LOC29);
Result_160837 = Renderaux_159616(D_159614, N_159615, LOC31);
break;
case ((NU8) 31):
LOC33 = Rsonslen_151091(N_159615);
if (!(1 <= LOC33)) goto LA34;
Result_160837 = Renderrsttoout_159612(D_159614, (*N_159615).Sons->data[0]);
I_160884 = 0;
HEX3Atmp_160938 = 0;
LOC36 = Rsonslen_151091(N_159615);
HEX3Atmp_160938 = (NI32)(LOC36 - 1);
Res_160940 = 0;
Res_160940 = 1;
while (1) {
if (!(Res_160940 <= HEX3Atmp_160938)) goto LA37;
I_160884 = Res_160940;
memset((void*)&LOC38, 0, sizeof(LOC38));
LOC38[0] = Renderrsttoout_159612(D_159614, (*N_159615).Sons->data[I_160884]);
Dispa_159595(&Result_160837, ((NimStringDesc*) &TMP199215), ((NimStringDesc*) &TMP199282), LOC38, 1);
Res_160940 += 1;
} LA37: ;
memset((void*)&LOC39, 0, sizeof(LOC39));
LOC39[0] = Result_160837;
Result_160837 = Dispf_159579(((NimStringDesc*) &TMP199260), ((NimStringDesc*) &TMP199283), LOC39, 1);
goto LA32;
LA34: ;
Result_160837 = NIM_NIL;
LA32: ;
break;
case ((NU8) 33):
LOC40 = 0;
LOC40 = Disp_159565(((NimStringDesc*) &TMP199263), ((NimStringDesc*) &TMP199215));
Result_160837 = Renderaux_159616(D_159614, N_159615, LOC40);
break;
case ((NU8) 32):
LOC41 = 0;
LOC41 = Disp_159565(((NimStringDesc*) &TMP199284), ((NimStringDesc*) &TMP199285));
Result_160837 = Renderaux_159616(D_159614, N_159615, LOC41);
break;
case ((NU8) 34):
Internalerror_49212(((NimStringDesc*) &TMP199270));
break;
case ((NU8) 35):
Internalerror_49212(((NimStringDesc*) &TMP199270));
break;
case ((NU8) 36):
Internalerror_49212(((NimStringDesc*) &TMP199270));
break;
case ((NU8) 39):
memset((void*)&LOC42, 0, sizeof(LOC42));
LOC42[0] = Renderaux_159616(D_159614, N_159615, ((NimStringDesc*) &TMP199215));
LOC43 = 0;
LOC43 = Rstnodetorefname_151105(N_159615);
LOC42[1] = Torope_53046(LOC43);
Result_160837 = Dispf_159579(((NimStringDesc*) &TMP199286), ((NimStringDesc*) &TMP199287), LOC42, 2);
break;
case ((NU8) 37):
LOC44 = 0;
LOC44 = Disp_159565(((NimStringDesc*) &TMP199288), ((NimStringDesc*) &TMP199289));
Result_160837 = Renderaux_159616(D_159614, N_159615, LOC44);
break;
case ((NU8) 38):
memset((void*)&LOC45, 0, sizeof(LOC45));
LOC45[0] = Renderrsttoout_159612(D_159614, (*N_159615).Sons->data[0]);
LOC45[1] = Renderrsttoout_159612(D_159614, (*N_159615).Sons->data[1]);
Result_160837 = Dispf_159579(((NimStringDesc*) &TMP199290), ((NimStringDesc*) &TMP199291), LOC45, 2);
break;
case ((NU8) 41):
case ((NU8) 42):
Result_160837 = Renderaux_159616(D_159614, N_159615, ((NimStringDesc*) &TMP199215));
break;
case ((NU8) 48):
if (!!((Gcmd_47089 == ((NU8) 17)))) goto LA47;
LOC49 = 0;
LOC49 = Lastson_151654(N_159615);
LOC50 = 0;
LOC50 = Addnodes_151108(LOC49);
Result_160837 = Torope_53046(LOC50);
LA47: ;
break;
case ((NU8) 49):
if (!(Gcmd_47089 == ((NU8) 17))) goto LA52;
LOC54 = 0;
LOC54 = Lastson_151654(N_159615);
LOC55 = 0;
LOC55 = Addnodes_151108(LOC54);
Result_160837 = Torope_53046(LOC55);
LA52: ;
break;
case ((NU8) 45):
case ((NU8) 46):
Result_160837 = Renderimage_160633(D_159614, N_159615);
break;
case ((NU8) 47):
Result_160837 = Rendercodeblock_160687(D_159614, N_159615);
break;
case ((NU8) 50):
Result_160837 = Rendercontainer_160749(D_159614, N_159615);
break;
case ((NU8) 61):
case ((NU8) 52):
LOC56 = 0;
LOC56 = Disp_159565(((NimStringDesc*) &TMP199430), ((NimStringDesc*) &TMP199430));
Result_160837 = Renderaux_159616(D_159614, N_159615, LOC56);
break;
case ((NU8) 40):
Result_160837 = Renderaux_159616(D_159614, N_159615, ((NimStringDesc*) &TMP199218));
break;
case ((NU8) 53):
memset((void*)&LOC57, 0, sizeof(LOC57));
LOC57[0] = Renderrsttoout_159612(D_159614, (*N_159615).Sons->data[0]);
LOC57[1] = Renderrsttoout_159612(D_159614, (*N_159615).Sons->data[1]);
Result_160837 = Dispf_159579(((NimStringDesc*) &TMP199424), ((NimStringDesc*) &TMP199425), LOC57, 2);
break;
case ((NU8) 54):
LOC58 = 0;
LOC58 = Disp_159565(((NimStringDesc*) &TMP199431), ((NimStringDesc*) &TMP199432));
Result_160837 = Renderaux_159616(D_159614, N_159615, LOC58);
break;
case ((NU8) 55):
LOC59 = 0;
LOC59 = Disp_159565(((NimStringDesc*) &TMP199433), ((NimStringDesc*) &TMP199434));
Result_160837 = Renderaux_159616(D_159614, N_159615, LOC59);
break;
case ((NU8) 57):
LOC60 = 0;
LOC60 = Disp_159565(((NimStringDesc*) &TMP199435), ((NimStringDesc*) &TMP199436));
Result_160837 = Renderaux_159616(D_159614, N_159615, LOC60);
break;
case ((NU8) 58):
LOC61 = 0;
LOC61 = Disp_159565(((NimStringDesc*) &TMP199437), ((NimStringDesc*) &TMP199285));
Result_160837 = Renderaux_159616(D_159614, N_159615, LOC61);
break;
case ((NU8) 59):
LOC62 = 0;
LOC62 = Disp_159565(((NimStringDesc*) &TMP199438), ((NimStringDesc*) &TMP199436));
Result_160837 = Renderaux_159616(D_159614, N_159615, LOC62);
break;
case ((NU8) 56):
if (!((*D_159614).Theindex == NIM_NIL)) goto LA64;
LOC66 = 0;
LOC66 = Disp_159565(((NimStringDesc*) &TMP199439), ((NimStringDesc*) &TMP199436));
Result_160837 = Renderaux_159616(D_159614, N_159615, LOC66);
goto LA63;
LA64: ;
Result_160837 = Renderindexterm_159659(D_159614, N_159615);
LA63: ;
break;
case ((NU8) 60):
LOC67 = 0;
LOC67 = Disp_159565(((NimStringDesc*) &TMP199443), ((NimStringDesc*) &TMP199444));
Result_160837 = Renderaux_159616(D_159614, N_159615, LOC67);
break;
case ((NU8) 62):
LOC68 = 0;
LOC68 = Esc_159506((*N_159615).Text, -1);
Result_160837 = Torope_53046(LOC68);
break;
case ((NU8) 44):
(*D_159614).Hastoc = NIM_TRUE;
break;
case ((NU8) 43):
asgnRefNoCycle((void**) &(*D_159614).Meta[(((NU8) 1))-0], Renderrsttoout_159612(D_159614, (*N_159615).Sons->data[0]));
break;
default:
Internalerror_49212(((NimStringDesc*) &TMP199270));
break;
}
BeforeRet: ;
return Result_160837;
}
static N_INLINE(NI, Tolinenumber_48732)(TY48538 Info_48734) {
NI Result_48735;
Result_48735 = 0;
Result_48735 = ((NI) (Info_48734.Line));
return Result_48735;
}
static N_INLINE(NI, Tocolumn_48736)(TY48538 Info_48738) {
NI Result_48739;
Result_48739 = 0;
Result_48739 = ((NI) (Info_48738.Col));
return Result_48739;
}
N_NIMCALL(TY53008*, Gencomment_159684)(TY159017* D_159686, TY56526* N_159687) {
TY53008* Result_159688;
NIM_BOOL Dummyhastoc_159689;
NIM_BOOL LOC2;
NimStringDesc* LOC6;
NI LOC7;
NI LOC8;
TY151077* LOC9;
Result_159688 = 0;
Result_159688 = NIM_NIL;
Dummyhastoc_159689 = 0;
LOC2 = !(((*N_159687).Comment == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC2 = nsuStartsWith((*N_159687).Comment, ((NimStringDesc*) &TMP199214));
LA3: ;
if (!LOC2) goto LA4;
LOC6 = 0;
LOC6 = Tofilename_48724((*N_159687).Info);
LOC7 = Tolinenumber_48732((*N_159687).Info);
LOC8 = Tocolumn_48736((*N_159687).Info);
LOC9 = 0;
LOC9 = Rstparse_151082((*N_159687).Comment, NIM_TRUE, LOC6, LOC7, LOC8, &Dummyhastoc_159689);
Result_159688 = Renderrsttoout_159612(D_159686, LOC9);
LA4: ;
return Result_159688;
}
static N_INLINE(NI, Sonslen_56804)(TY56526* N_56806) {
NI Result_57897;
Result_57897 = 0;
if (!(*N_56806).KindU.S6.Sons == 0) goto LA2;
Result_57897 = 0;
goto LA1;
LA2: ;
Result_57897 = (*N_56806).KindU.S6.Sons->Sup.len;
LA1: ;
return Result_57897;
}
N_NIMCALL(NIM_BOOL, Isvisible_159765)(TY56526* N_159767) {
NIM_BOOL Result_159768;
NIM_BOOL LOC5;
NI LOC6;
TY55011* V_159825;
NIM_BOOL LOC10;
V_159825 = 0;
Result_159768 = 0;
Result_159768 = NIM_FALSE;
if (!((*N_159767).Kind == ((NU8) 29))) goto LA2;
LOC6 = Sonslen_56804(N_159767);
LOC5 = (LOC6 == 2);
if (!(LOC5)) goto LA7;
LOC5 = ((*(*N_159767).KindU.S6.Sons->data[0]).Kind == ((NU8) 2));
LA7: ;
if (!LOC5) goto LA8;
V_159825 = NIM_NIL;
V_159825 = (*(*N_159767).KindU.S6.Sons->data[0]).KindU.S5.Ident;
LOC10 = ((*V_159825).Sup.Id == 69);
if (LOC10) goto LA11;
LOC10 = ((*V_159825).Sup.Id == 70);
LA11: ;
Result_159768 = LOC10;
LA8: ;
goto LA1;
LA2: ;
if (!((*N_159767).Kind == ((NU8) 3))) goto LA12;
Result_159768 = (((*(*N_159767).KindU.S4.Sym).Flags &(1<<((((NU8) 3))&31)))!=0);
goto LA1;
LA12: ;
if (!((*N_159767).Kind == ((NU8) 34))) goto LA14;
Result_159768 = Isvisible_159765((*N_159767).KindU.S6.Sons->data[0]);
goto LA1;
LA14: ;
LA1: ;
return Result_159768;
}
N_NIMCALL(NimStringDesc*, Getname_159893)(TY56526* N_159895, NI Splitafter_159896) {
NimStringDesc* Result_159897;
NimStringDesc* LOC1;
NimStringDesc* LOC2;
NimStringDesc* LOC3;
NimStringDesc* LOC4;
Result_159897 = 0;
Result_159897 = NIM_NIL;
switch ((*N_159895).Kind) {
case ((NU8) 29):
Result_159897 = Getname_159893((*N_159895).KindU.S6.Sons->data[1], Splitafter_159896);
break;
case ((NU8) 34):
Result_159897 = Getname_159893((*N_159895).KindU.S6.Sons->data[0], Splitafter_159896);
break;
case ((NU8) 3):
Result_159897 = Esc_159506((*(*(*N_159895).KindU.S4.Sym).Name).S, Splitafter_159896);
break;
case ((NU8) 2):
Result_159897 = Esc_159506((*(*N_159895).KindU.S5.Ident).S, Splitafter_159896);
break;
case ((NU8) 43):
LOC1 = 0;
LOC2 = 0;
LOC2 = Esc_159506(((NimStringDesc*) &TMP199445), -1);
LOC3 = 0;
LOC3 = Getname_159893((*N_159895).KindU.S6.Sons->data[0], Splitafter_159896);
LOC4 = 0;
LOC4 = Esc_159506(((NimStringDesc*) &TMP199445), -1);
LOC1 = rawNewString(LOC2->Sup.len + LOC3->Sup.len + LOC4->Sup.len + 0);
appendString(LOC1, LOC2);
appendString(LOC1, LOC3);
appendString(LOC1, LOC4);
Result_159897 = LOC1;
break;
default:
Internalerror_49208((*N_159895).Info, ((NimStringDesc*) &TMP199446));
Result_159897 = copyString(((NimStringDesc*) &TMP199218));
break;
}
return Result_159897;
}
N_NIMCALL(TY53008*, Genreccomment_159691)(TY159017* D_159693, TY56526* N_159694) {
TY53008* Result_159695;
NI I_159738;
NI HEX3Atmp_159762;
NI LOC10;
NI Res_159764;
Result_159695 = 0;
Result_159695 = NIM_NIL;
if (!(N_159694 == NIM_NIL)) goto LA2;
Result_159695 = NIM_NIL;
goto BeforeRet;
LA2: ;
Result_159695 = Gencomment_159684(D_159693, N_159694);
if (!(Result_159695 == NIM_NIL)) goto LA5;
if (!!(((*N_159694).Kind >= ((NU8) 1) && (*N_159694).Kind <= ((NU8) 18)))) goto LA8;
I_159738 = 0;
HEX3Atmp_159762 = 0;
LOC10 = Sonslen_56804(N_159694);
HEX3Atmp_159762 = (NI32)(LOC10 - 1);
Res_159764 = 0;
Res_159764 = 0;
while (1) {
if (!(Res_159764 <= HEX3Atmp_159762)) goto LA11;
I_159738 = Res_159764;
Result_159695 = Genreccomment_159691(D_159693, (*N_159694).KindU.S6.Sons->data[I_159738]);
if (!!((Result_159695 == NIM_NIL))) goto LA13;
goto BeforeRet;
LA13: ;
Res_159764 += 1;
} LA11: ;
LA8: ;
goto LA4;
LA5: ;
asgnRefNoCycle((void**) &(*N_159694).Comment, copyString(NIM_NIL));
LA4: ;
BeforeRet: ;
return Result_159695;
}
N_NIMCALL(NI, Getvaridx_159195)(NimStringDesc** Varnames_159198, NI Varnames_159198Len0, NimStringDesc* Id_159199) {
NI Result_159200;
NI I_159209;
NI HEX3Atmp_159212;
NI Res_159214;
NI LOC3;
Result_159200 = 0;
I_159209 = 0;
HEX3Atmp_159212 = 0;
HEX3Atmp_159212 = (Varnames_159198Len0-1);
Res_159214 = 0;
Res_159214 = 0;
while (1) {
if (!(Res_159214 <= HEX3Atmp_159212)) goto LA1;
I_159209 = Res_159214;
LOC3 = nsuCmpIgnoreStyle(Varnames_159198[I_159209], Id_159199);
if (!(LOC3 == 0)) goto LA4;
Result_159200 = I_159209;
goto BeforeRet;
LA4: ;
Res_159214 += 1;
} LA1: ;
Result_159200 = -1;
BeforeRet: ;
return Result_159200;
}
N_NIMCALL(TY53008*, Ropeformatnamedvars_159215)(NimStringDesc* Frmt_159217, NimStringDesc** Varnames_159219, NI Varnames_159219Len0, TY53008** Varvalues_159221, NI Varvalues_159221Len0) {
TY53008* Result_159222;
NI I_159223;
NI L_159226;
NI Num_159227;
NI J_159284;
NIM_BOOL LOC7;
NimStringDesc* Id_159328;
NI Idx_159353;
NimStringDesc* Id_159357;
NI Idx_159398;
NI Start_159402;
NimStringDesc* LOC35;
Result_159222 = 0;
Id_159328 = 0;
Id_159357 = 0;
Result_159222 = NIM_NIL;
I_159223 = 0;
I_159223 = 0;
L_159226 = 0;
L_159226 = Frmt_159217->Sup.len;
Result_159222 = NIM_NIL;
Num_159227 = 0;
Num_159227 = 0;
while (1) {
if (!(I_159223 < L_159226)) goto LA1;
if (!((NU8)(Frmt_159217->data[I_159223]) == (NU8)(36))) goto LA3;
I_159223 += 1;
switch (((NU8)(Frmt_159217->data[I_159223]))) {
case 35:
App_53031(&Result_159222, Varvalues_159221[Num_159227]);
Num_159227 += 1;
I_159223 += 1;
break;
case 36:
App_53036(&Result_159222, ((NimStringDesc*) &TMP199466));
I_159223 += 1;
break;
case 48 ... 57:
J_159284 = 0;
J_159284 = 0;
while (1) {
J_159284 = (NI32)((NI32)((NI32)(J_159284 * 10) + ((NU8)(Frmt_159217->data[I_159223]))) - 48);
I_159223 += 1;
LOC7 = ((NI32)((NI32)(L_159226 + 0) - 1) < I_159223);
if (LOC7) goto LA8;
LOC7 = !((((NU8)(Frmt_159217->data[I_159223])) >= ((NU8)(48)) && ((NU8)(Frmt_159217->data[I_159223])) <= ((NU8)(57))));
LA8: ;
if (!LOC7) goto LA9;
goto LA5;
LA9: ;
} LA5: ;
if (!((NI32)((Varvalues_159221Len0-1) + 1) < J_159284)) goto LA12;
Internalerror_49212(((NimStringDesc*) &TMP199467));
LA12: ;
Num_159227 = J_159284;
App_53031(&Result_159222, Varvalues_159221[(NI32)(J_159284 - 1)]);
break;
case 65 ... 90:
case 97 ... 122:
case 128 ... 255:
Id_159328 = NIM_NIL;
Id_159328 = copyString(((NimStringDesc*) &TMP199218));
while (1) {
Id_159328 = addChar(Id_159328, Frmt_159217->data[I_159223]);
I_159223 += 1;
if (!!((((NU8)(Frmt_159217->data[I_159223])) >= ((NU8)(65)) && ((NU8)(Frmt_159217->data[I_159223])) <= ((NU8)(90)) || ((NU8)(Frmt_159217->data[I_159223])) == ((NU8)(95)) || ((NU8)(Frmt_159217->data[I_159223])) >= ((NU8)(97)) && ((NU8)(Frmt_159217->data[I_159223])) <= ((NU8)(122)) || ((NU8)(Frmt_159217->data[I_159223])) >= ((NU8)(128)) && ((NU8)(Frmt_159217->data[I_159223])) <= ((NU8)(255))))) goto LA16;
goto LA14;
LA16: ;
} LA14: ;
Idx_159353 = 0;
Idx_159353 = Getvaridx_159195(Varnames_159219, Varnames_159219Len0, Id_159328);
if (!(0 <= Idx_159353)) goto LA19;
App_53031(&Result_159222, Varvalues_159221[Idx_159353]);
goto LA18;
LA19: ;
Rawmessage_49094(((NU8) 148), Id_159328);
LA18: ;
break;
case 123:
Id_159357 = NIM_NIL;
Id_159357 = copyString(((NimStringDesc*) &TMP199218));
I_159223 += 1;
while (1) {
if (!!(((NU8)(Frmt_159217->data[I_159223]) == (NU8)(125)))) goto LA21;
if (!((NU8)(Frmt_159217->data[I_159223]) == (NU8)(0))) goto LA23;
Rawmessage_49094(((NU8) 21), ((NimStringDesc*) &TMP199468));
LA23: ;
Id_159357 = addChar(Id_159357, Frmt_159217->data[I_159223]);
I_159223 += 1;
} LA21: ;
I_159223 += 1;
Idx_159398 = 0;
Idx_159398 = Getvaridx_159195(Varnames_159219, Varnames_159219Len0, Id_159357);
if (!(0 <= Idx_159398)) goto LA26;
App_53031(&Result_159222, Varvalues_159221[Idx_159398]);
goto LA25;
LA26: ;
Rawmessage_49094(((NU8) 148), Id_159357);
LA25: ;
break;
default:
Internalerror_49212(((NimStringDesc*) &TMP199467));
break;
}
LA3: ;
Start_159402 = 0;
Start_159402 = I_159223;
while (1) {
if (!(I_159223 < L_159226)) goto LA28;
if (!!(((NU8)(Frmt_159217->data[I_159223]) == (NU8)(36)))) goto LA30;
I_159223 += 1;
goto LA29;
LA30: ;
goto LA28;
LA29: ;
} LA28: ;
if (!(Start_159402 <= (NI32)(I_159223 - 1))) goto LA33;
LOC35 = 0;
LOC35 = copyStrLast(Frmt_159217, Start_159402, (NI32)(I_159223 - 1));
App_53036(&Result_159222, LOC35);
LA33: ;
} LA1: ;
return Result_159222;
}
N_NIMCALL(void, Setindexforsourceterm_159639)(TY159017* D_159641, TY151077* Name_159642, NI Id_159643) {
TY151077* H_159655;
TY151077* A_159658;
NimStringDesc* LOC4;
NimStringDesc* LOC5;
NimStringDesc* LOC6;
H_159655 = 0;
A_159658 = 0;
if (!((*D_159641).Theindex == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
H_159655 = NIM_NIL;
H_159655 = Newrstnode_151094(((NU8) 38));
A_159658 = NIM_NIL;
LOC4 = 0;
LOC5 = 0;
LOC5 = Disp_159565(((NimStringDesc*) &TMP199442), ((NimStringDesc*) &TMP199218));
LOC6 = 0;
LOC6 = nimIntToStr(Id_159643);
LOC4 = rawNewString((*D_159641).Indexvalfilename->Sup.len + LOC5->Sup.len + LOC6->Sup.len + 0);
appendString(LOC4, (*D_159641).Indexvalfilename);
appendString(LOC4, LOC5);
appendString(LOC4, LOC6);
A_159658 = Newrstnode_151097(((NU8) 62), LOC4);
Addson_151101(H_159655, A_159658);
Addson_151101(H_159655, A_159658);
A_159658 = Newrstnode_151094(((NU8) 56));
Addson_151101(A_159658, Name_159642);
Setindexpair_151118((*D_159641).Theindex, A_159658, H_159655);
BeforeRet: ;
}
N_NIMCALL(TY151077*, Getrstname_159958)(TY56526* N_159960) {
TY151077* Result_159961;
Result_159961 = 0;
Result_159961 = NIM_NIL;
switch ((*N_159960).Kind) {
case ((NU8) 29):
Result_159961 = Getrstname_159958((*N_159960).KindU.S6.Sons->data[1]);
break;
case ((NU8) 34):
Result_159961 = Getrstname_159958((*N_159960).KindU.S6.Sons->data[0]);
break;
case ((NU8) 3):
Result_159961 = Newrstnode_151097(((NU8) 62), (*(*(*N_159960).KindU.S4.Sym).Name).S);
break;
case ((NU8) 2):
Result_159961 = Newrstnode_151097(((NU8) 62), (*(*N_159960).KindU.S5.Ident).S);
break;
case ((NU8) 43):
Result_159961 = Getrstname_159958((*N_159960).KindU.S6.Sons->data[0]);
break;
default:
Internalerror_49208((*N_159960).Info, ((NimStringDesc*) &TMP199476));
Result_159961 = NIM_NIL;
break;
}
return Result_159961;
}
N_NIMCALL(void, Genitem_160022)(TY159017* D_160024, TY56526* N_160025, TY56526* Namenode_160026, NU8 K_160027) {
NIM_BOOL LOC2;
TY53008* Name_160028;
NimStringDesc* LOC5;
TY53008* Result_160029;
NimStringDesc* Literal_160030;
NU8 Kind_160031;
TY53008* Comm_160032;
TY86016 R_160033;
TY53407 LOC7;
NimStringDesc* LOC8;
TY53407 LOC9;
TY53407 LOC10;
NimStringDesc* LOC11;
TY53407 LOC12;
NimStringDesc* LOC13;
TY53407 LOC14;
NimStringDesc* LOC15;
TY53407 LOC16;
NimStringDesc* LOC17;
TY53407 LOC18;
NimStringDesc* LOC19;
TY53407 LOC20;
NimStringDesc* LOC21;
TY53407 LOC22;
NimStringDesc* LOC23;
NimStringDesc* LOC24;
NimStringDesc* LOC25;
TY166439 LOC26;
TY53008* LOC27;
NimStringDesc* LOC28;
TY166439 LOC29;
NimStringDesc* LOC30;
TY53008* LOC31;
TY151077* LOC32;
Name_160028 = 0;
Result_160029 = 0;
Literal_160030 = 0;
Comm_160032 = 0;
memset((void*)&R_160033, 0, sizeof(R_160033));
LOC2 = Isvisible_159765(Namenode_160026);
if (!!(LOC2)) goto LA3;
goto BeforeRet;
LA3: ;
Name_160028 = NIM_NIL;
LOC5 = 0;
LOC5 = Getname_159893(Namenode_160026, -1);
Name_160028 = Torope_53046(LOC5);
Result_160029 = NIM_NIL;
Result_160029 = NIM_NIL;
Literal_160030 = NIM_NIL;
Literal_160030 = copyString(((NimStringDesc*) &TMP199218));
Kind_160031 = 0;
Kind_160031 = ((NU8) 1);
Comm_160032 = NIM_NIL;
Comm_160032 = Genreccomment_159691(D_160024, N_160025);
genericReset((void*)&R_160033, NTI86016);
Inittokrender_86048(&R_160033, N_160025, 30);
while (1) {
Getnexttok_86056(&R_160033, &Kind_160031, &Literal_160030);
switch (Kind_160031) {
case ((NU8) 1):
goto LA6;
break;
case ((NU8) 100):
memset((void*)&LOC7, 0, sizeof(LOC7));
LOC8 = 0;
LOC8 = Esc_159506(Literal_160030, -1);
LOC7[0] = Torope_53046(LOC8);
Dispa_159595(&Result_160029, ((NimStringDesc*) &TMP199447), ((NimStringDesc*) &TMP199448), LOC7, 1);
break;
case ((NU8) 3) ... ((NU8) 65):
memset((void*)&LOC9, 0, sizeof(LOC9));
LOC9[0] = Torope_53046(Literal_160030);
Dispa_159595(&Result_160029, ((NimStringDesc*) &TMP199449), ((NimStringDesc*) &TMP199450), LOC9, 1);
break;
case ((NU8) 99):
case ((NU8) 98):
memset((void*)&LOC10, 0, sizeof(LOC10));
LOC11 = 0;
LOC11 = Esc_159506(Literal_160030, -1);
LOC10[0] = Torope_53046(LOC11);
Dispa_159595(&Result_160029, ((NimStringDesc*) &TMP199451), ((NimStringDesc*) &TMP199452), LOC10, 1);
break;
case ((NU8) 74) ... ((NU8) 76):
memset((void*)&LOC12, 0, sizeof(LOC12));
LOC13 = 0;
LOC13 = Esc_159506(Literal_160030, -1);
LOC12[0] = Torope_53046(LOC13);
Dispa_159595(&Result_160029, ((NimStringDesc*) &TMP199453), ((NimStringDesc*) &TMP199454), LOC12, 1);
break;
case ((NU8) 79):
memset((void*)&LOC14, 0, sizeof(LOC14));
LOC15 = 0;
LOC15 = Esc_159506(Literal_160030, -1);
LOC14[0] = Torope_53046(LOC15);
Dispa_159595(&Result_160029, ((NimStringDesc*) &TMP199455), ((NimStringDesc*) &TMP199456), LOC14, 1);
break;
case ((NU8) 66) ... ((NU8) 70):
memset((void*)&LOC16, 0, sizeof(LOC16));
LOC17 = 0;
LOC17 = Esc_159506(Literal_160030, -1);
LOC16[0] = Torope_53046(LOC17);
Dispa_159595(&Result_160029, ((NimStringDesc*) &TMP199457), ((NimStringDesc*) &TMP199458), LOC16, 1);
break;
case ((NU8) 71) ... ((NU8) 73):
memset((void*)&LOC18, 0, sizeof(LOC18));
LOC19 = 0;
LOC19 = Esc_159506(Literal_160030, -1);
LOC18[0] = Torope_53046(LOC19);
Dispa_159595(&Result_160029, ((NimStringDesc*) &TMP199459), ((NimStringDesc*) &TMP199460), LOC18, 1);
break;
case ((NU8) 2):
memset((void*)&LOC20, 0, sizeof(LOC20));
LOC21 = 0;
LOC21 = Esc_159506(Literal_160030, -1);
LOC20[0] = Torope_53046(LOC21);
Dispa_159595(&Result_160029, ((NimStringDesc*) &TMP199461), ((NimStringDesc*) &TMP199462), LOC20, 1);
break;
case ((NU8) 102):
case ((NU8) 103):
case ((NU8) 104):
case ((NU8) 105):
App_53036(&Result_160029, Literal_160030);
break;
case ((NU8) 80):
case ((NU8) 81):
case ((NU8) 82):
case ((NU8) 83):
case ((NU8) 84):
case ((NU8) 85):
case ((NU8) 86):
case ((NU8) 87):
case ((NU8) 88):
case ((NU8) 89):
case ((NU8) 90):
case ((NU8) 91):
case ((NU8) 92):
case ((NU8) 93):
case ((NU8) 94):
case ((NU8) 95):
case ((NU8) 96):
case ((NU8) 97):
case ((NU8) 101):
memset((void*)&LOC22, 0, sizeof(LOC22));
LOC23 = 0;
LOC23 = Esc_159506(Literal_160030, -1);
LOC22[0] = Torope_53046(LOC23);
Dispa_159595(&Result_160029, ((NimStringDesc*) &TMP199463), ((NimStringDesc*) &TMP199464), LOC22, 1);
break;
default:
LOC24 = 0;
LOC24 = rawNewString(Toktypetostr_78145[(Kind_160031)-0]->Sup.len + 17);
appendString(LOC24, ((NimStringDesc*) &TMP199465));
appendString(LOC24, Toktypetostr_78145[(Kind_160031)-0]);
appendChar(LOC24, 41);
Internalerror_49208((*N_160025).Info, LOC24);
break;
}
} LA6: ;
(*D_160024).Id += 1;
LOC25 = 0;
LOC25 = Getconfigvar_47140(((NimStringDesc*) &TMP199469));
memset((void*)&LOC26, 0, sizeof(LOC26));
LOC26[0] = Name_160028;
LOC26[1] = Result_160029;
LOC26[2] = Comm_160032;
LOC26[3] = Torope_53049(((NI64) ((*D_160024).Id)));
LOC27 = 0;
LOC27 = Ropeformatnamedvars_159215(LOC25, TMP199470, 4, LOC26, 4);
App_53031(&(*D_160024).Section[(K_160027)-0], LOC27);
LOC28 = 0;
LOC28 = Getconfigvar_47140(((NimStringDesc*) &TMP199475));
memset((void*)&LOC29, 0, sizeof(LOC29));
LOC30 = 0;
LOC30 = Getname_159893(Namenode_160026, (*D_160024).Splitafter);
LOC29[0] = Torope_53046(LOC30);
LOC29[1] = Result_160029;
LOC29[2] = Comm_160032;
LOC29[3] = Torope_53049(((NI64) ((*D_160024).Id)));
LOC31 = 0;
LOC31 = Ropeformatnamedvars_159215(LOC28, TMP199470, 4, LOC29, 4);
App_53031(&(*D_160024).Toc[(K_160027)-0], LOC31);
LOC32 = 0;
LOC32 = Getrstname_159958(Namenode_160026);
Setindexforsourceterm_159639(D_160024, LOC32, (*D_160024).Id);
BeforeRet: ;
}
N_NIMCALL(NIM_BOOL, Checkforfalse_160941)(TY56526* N_160943) {
NIM_BOOL Result_160944;
NIM_BOOL LOC1;
Result_160944 = 0;
LOC1 = ((*N_160943).Kind == ((NU8) 2));
if (!(LOC1)) goto LA2;
LOC1 = Identeq_55028((*N_160943).KindU.S5.Ident, ((NimStringDesc*) &TMP199477));
LA2: ;
Result_160944 = LOC1;
return Result_160944;
}
static N_INLINE(TY56526*, Lastson_56810)(TY56526* N_56812) {
TY56526* Result_58916;
NI LOC1;
Result_58916 = 0;
Result_58916 = NIM_NIL;
LOC1 = Sonslen_56804(N_56812);
Result_58916 = (*N_56812).KindU.S6.Sons->data[(NI32)(LOC1 - 1)];
return Result_58916;
}
N_NIMCALL(NimStringDesc*, Getmodulefile_160966)(TY56526* N_160968) {
NimStringDesc* Result_160969;
Result_160969 = 0;
Result_160969 = NIM_NIL;
switch ((*N_160968).Kind) {
case ((NU8) 14):
case ((NU8) 15):
case ((NU8) 16):
Result_160969 = copyString((*N_160968).KindU.S3.Strval);
break;
case ((NU8) 2):
Result_160969 = copyString((*(*N_160968).KindU.S5.Ident).S);
break;
case ((NU8) 3):
Result_160969 = copyString((*(*(*N_160968).KindU.S4.Sym).Name).S);
break;
default:
Internalerror_49208((*N_160968).Info, ((NimStringDesc*) &TMP199480));
Result_160969 = copyString(((NimStringDesc*) &TMP199218));
break;
}
return Result_160969;
}
N_NIMCALL(void, Tracedeps_161006)(TY159017* D_161008, TY56526* N_161009) {
TY53407 LOC4;
NimStringDesc* LOC5;
if (!!(((*D_161008).Section[(((NU8) 6))-0] == NIM_NIL))) goto LA2;
App_53036(&(*D_161008).Section[(((NU8) 6))-0], ((NimStringDesc*) &TMP199478));
LA2: ;
memset((void*)&LOC4, 0, sizeof(LOC4));
LOC5 = 0;
LOC5 = Getmodulefile_160966(N_161009);
LOC4[0] = Torope_53046(LOC5);
Dispa_159595(&(*D_161008).Section[(((NU8) 6))-0], ((NimStringDesc*) &TMP199479), ((NimStringDesc*) &TMP199215), LOC4, 1);
}
N_NIMCALL(void, Generatedoc_161028)(TY159017* D_161030, TY56526* N_161031) {
TY53008* LOC1;
NI I_161113;
NI HEX3Atmp_161393;
NI LOC2;
NI Res_161395;
NI I_161179;
NI HEX3Atmp_161396;
NI LOC7;
NI Res_161398;
NI I_161245;
NI HEX3Atmp_161399;
NI LOC12;
NI Res_161401;
NI I_161311;
NI HEX3Atmp_161402;
NI LOC17;
NI Res_161404;
NIM_BOOL LOC20;
TY56526* LOC23;
NI I_161368;
NI HEX3Atmp_161405;
NI LOC24;
NI Res_161407;
switch ((*N_161031).Kind) {
case ((NU8) 105):
LOC1 = 0;
LOC1 = Gencomment_159684(D_161030, N_161031);
App_53031(&(*D_161030).Moddesc, LOC1);
break;
case ((NU8) 69):
Genitem_160022(D_161030, N_161031, (*N_161031).KindU.S6.Sons->data[0], ((NU8) 10));
break;
case ((NU8) 70):
Genitem_160022(D_161030, N_161031, (*N_161031).KindU.S6.Sons->data[0], ((NU8) 11));
break;
case ((NU8) 74):
Genitem_160022(D_161030, N_161031, (*N_161031).KindU.S6.Sons->data[0], ((NU8) 12));
break;
case ((NU8) 72):
Genitem_160022(D_161030, N_161031, (*N_161031).KindU.S6.Sons->data[0], ((NU8) 14));
break;
case ((NU8) 73):
Genitem_160022(D_161030, N_161031, (*N_161031).KindU.S6.Sons->data[0], ((NU8) 15));
break;
case ((NU8) 71):
Genitem_160022(D_161030, N_161031, (*N_161031).KindU.S6.Sons->data[0], ((NU8) 13));
break;
case ((NU8) 87):
I_161113 = 0;
HEX3Atmp_161393 = 0;
LOC2 = Sonslen_56804(N_161031);
HEX3Atmp_161393 = (NI32)(LOC2 - 1);
Res_161395 = 0;
Res_161395 = 0;
while (1) {
if (!(Res_161395 <= HEX3Atmp_161393)) goto LA3;
I_161113 = Res_161395;
if (!!(((*(*N_161031).KindU.S6.Sons->data[I_161113]).Kind == ((NU8) 105)))) goto LA5;
Genitem_160022(D_161030, (*N_161031).KindU.S6.Sons->data[I_161113], (*(*N_161031).KindU.S6.Sons->data[I_161113]).KindU.S6.Sons->data[0], ((NU8) 9));
LA5: ;
Res_161395 += 1;
} LA3: ;
break;
case ((NU8) 88):
I_161179 = 0;
HEX3Atmp_161396 = 0;
LOC7 = Sonslen_56804(N_161031);
HEX3Atmp_161396 = (NI32)(LOC7 - 1);
Res_161398 = 0;
Res_161398 = 0;
while (1) {
if (!(Res_161398 <= HEX3Atmp_161396)) goto LA8;
I_161179 = Res_161398;
if (!!(((*(*N_161031).KindU.S6.Sons->data[I_161179]).Kind == ((NU8) 105)))) goto LA10;
Genitem_160022(D_161030, (*N_161031).KindU.S6.Sons->data[I_161179], (*(*N_161031).KindU.S6.Sons->data[I_161179]).KindU.S6.Sons->data[0], ((NU8) 8));
LA10: ;
Res_161398 += 1;
} LA8: ;
break;
case ((NU8) 90):
I_161245 = 0;
HEX3Atmp_161399 = 0;
LOC12 = Sonslen_56804(N_161031);
HEX3Atmp_161399 = (NI32)(LOC12 - 1);
Res_161401 = 0;
Res_161401 = 0;
while (1) {
if (!(Res_161401 <= HEX3Atmp_161399)) goto LA13;
I_161245 = Res_161401;
if (!!(((*(*N_161031).KindU.S6.Sons->data[I_161245]).Kind == ((NU8) 105)))) goto LA15;
Genitem_160022(D_161030, (*N_161031).KindU.S6.Sons->data[I_161245], (*(*N_161031).KindU.S6.Sons->data[I_161245]).KindU.S6.Sons->data[0], ((NU8) 7));
LA15: ;
Res_161401 += 1;
} LA13: ;
break;
case ((NU8) 101):
I_161311 = 0;
HEX3Atmp_161402 = 0;
LOC17 = Sonslen_56804(N_161031);
HEX3Atmp_161402 = (NI32)(LOC17 - 1);
Res_161404 = 0;
Res_161404 = 0;
while (1) {
if (!(Res_161404 <= HEX3Atmp_161402)) goto LA18;
I_161311 = Res_161404;
Generatedoc_161028(D_161030, (*N_161031).KindU.S6.Sons->data[I_161311]);
Res_161404 += 1;
} LA18: ;
break;
case ((NU8) 83):
LOC20 = Checkforfalse_160941((*(*N_161031).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[0]);
if (!!(LOC20)) goto LA21;
LOC23 = 0;
LOC23 = Lastson_56810((*N_161031).KindU.S6.Sons->data[0]);
Generatedoc_161028(D_161030, LOC23);
LA21: ;
break;
case ((NU8) 102):
I_161368 = 0;
HEX3Atmp_161405 = 0;
LOC24 = Sonslen_56804(N_161031);
HEX3Atmp_161405 = (NI32)(LOC24 - 1);
Res_161407 = 0;
Res_161407 = 0;
while (1) {
if (!(Res_161407 <= HEX3Atmp_161405)) goto LA25;
I_161368 = Res_161407;
Tracedeps_161006(D_161030, (*N_161031).KindU.S6.Sons->data[I_161368]);
Res_161407 += 1;
} LA25: ;
break;
case ((NU8) 103):
Tracedeps_161006(D_161030, (*N_161031).KindU.S6.Sons->data[0]);
break;
default:
break;
}
}
N_NIMCALL(TY53008*, Rendertocentry_160582)(TY159017* D_160584, TY159011 E_160585) {
TY53008* Result_160586;
TY179695 LOC1;
Result_160586 = 0;
Result_160586 = NIM_NIL;
memset((void*)&LOC1, 0, sizeof(LOC1));
LOC1[0] = E_160585.Refname;
LOC1[1] = E_160585.Header;
Result_160586 = Dispf_159579(((NimStringDesc*) &TMP199481), ((NimStringDesc*) &TMP199482), LOC1, 2);
return Result_160586;
}
N_NIMCALL(TY53008*, Rendertocentries_160591)(TY159017* D_160593, NI* J_160595, NI Lvl_160596) {
TY53008* Result_160597;
NI A_160600;
TY53008* LOC5;
TY53008* LOC8;
TY53407 LOC12;
Result_160597 = 0;
Result_160597 = NIM_NIL;
Result_160597 = NIM_NIL;
while (1) {
if (!((*J_160595) <= ((*D_160593).Tocpart->Sup.len-1))) goto LA1;
A_160600 = 0;
A_160600 = (NI32)abs((*(*D_160593).Tocpart->data[(*J_160595)].N).Level);
if (!(A_160600 == Lvl_160596)) goto LA3;
LOC5 = 0;
LOC5 = Rendertocentry_160582(D_160593, (*D_160593).Tocpart->data[(*J_160595)]);
App_53031(&Result_160597, LOC5);
(*J_160595) += 1;
goto LA2;
LA3: ;
if (!(Lvl_160596 < A_160600)) goto LA6;
LOC8 = 0;
LOC8 = Rendertocentries_160591(D_160593, J_160595, A_160600);
App_53031(&Result_160597, LOC8);
goto LA2;
LA6: ;
goto LA1;
LA2: ;
} LA1: ;
if (!(1 < Lvl_160596)) goto LA10;
memset((void*)&LOC12, 0, sizeof(LOC12));
LOC12[0] = Result_160597;
Result_160597 = Dispf_159579(((NimStringDesc*) &TMP199483), ((NimStringDesc*) &TMP199484), LOC12, 1);
LA10: ;
return Result_160597;
}
N_NIMCALL(void, Gensection_161408)(TY159017* D_161410, NU8 Kind_161411) {
TY53008* Title_161428;
NimStringDesc* LOC4;
TY166439 LOC5;
NimStringDesc* LOC6;
TY166439 LOC7;
Title_161428 = 0;
if (!((*D_161410).Section[(Kind_161411)-0] == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
Title_161428 = NIM_NIL;
Title_161428 = Torope_53046(Sectionnames_161412[(Kind_161411)-6]);
LOC4 = 0;
LOC4 = Getconfigvar_47140(((NimStringDesc*) &TMP199495));
memset((void*)&LOC5, 0, sizeof(LOC5));
LOC5[0] = Torope_53049(((NI64) (Kind_161411)));
LOC5[1] = Title_161428;
LOC5[2] = Torope_53049(((NI64) ((NI32)(Kind_161411 + 50))));
LOC5[3] = (*D_161410).Section[(Kind_161411)-0];
asgnRefNoCycle((void**) &(*D_161410).Section[(Kind_161411)-0], Ropeformatnamedvars_159215(LOC4, TMP199496, 4, LOC5, 4));
LOC6 = 0;
LOC6 = Getconfigvar_47140(((NimStringDesc*) &TMP199501));
memset((void*)&LOC7, 0, sizeof(LOC7));
LOC7[0] = Torope_53049(((NI64) (Kind_161411)));
LOC7[1] = Title_161428;
LOC7[2] = Torope_53049(((NI64) ((NI32)(Kind_161411 + 50))));
LOC7[3] = (*D_161410).Toc[(Kind_161411)-0];
asgnRefNoCycle((void**) &(*D_161410).Toc[(Kind_161411)-0], Ropeformatnamedvars_159215(LOC6, TMP199496, 4, LOC7, 4));
BeforeRet: ;
}
N_NIMCALL(TY53008*, Genoutfile_161465)(TY159017* D_161467) {
TY53008* Result_161468;
TY53008* Code_161469;
TY53008* Toc_161470;
TY53008* Title_161471;
TY53008* Content_161472;
NimStringDesc* Bodyname_161473;
NI J_161474;
NU8 I_161506;
NU8 Res_161576;
NimStringDesc* LOC5;
TY53407 LOC6;
NU8 I_161535;
NU8 Res_161578;
NimStringDesc* LOC11;
NimStringDesc* LOC12;
NimStringDesc* LOC13;
NimStringDesc* LOC17;
TY167067 LOC18;
NimStringDesc* LOC19;
NimStringDesc* LOC20;
NimStringDesc* LOC24;
TY167893 LOC25;
NimStringDesc* LOC26;
NimStringDesc* LOC27;
Result_161468 = 0;
Code_161469 = 0;
Toc_161470 = 0;
Title_161471 = 0;
Content_161472 = 0;
Bodyname_161473 = 0;
Result_161468 = NIM_NIL;
Code_161469 = NIM_NIL;
Toc_161470 = NIM_NIL;
Title_161471 = NIM_NIL;
Content_161472 = NIM_NIL;
Bodyname_161473 = NIM_NIL;
J_161474 = 0;
J_161474 = 0;
Toc_161470 = Rendertocentries_160591(D_161467, &J_161474, 1);
Code_161469 = NIM_NIL;
Content_161472 = NIM_NIL;
Title_161471 = NIM_NIL;
I_161506 = 0;
Res_161576 = 0;
Res_161576 = ((NU8) 0);
while (1) {
if (!(Res_161576 <= ((NU8) 20))) goto LA1;
I_161506 = Res_161576;
Gensection_161408(D_161467, I_161506);
App_53031(&Toc_161470, (*D_161467).Toc[(I_161506)-0]);
Res_161576 += 1;
} LA1: ;
if (!!((Toc_161470 == NIM_NIL))) goto LA3;
LOC5 = 0;
LOC5 = Getconfigvar_47140(((NimStringDesc*) &TMP199502));
memset((void*)&LOC6, 0, sizeof(LOC6));
LOC6[0] = Toc_161470;
Toc_161470 = Ropeformatnamedvars_159215(LOC5, TMP199503, 1, LOC6, 1);
LA3: ;
I_161535 = 0;
Res_161578 = 0;
Res_161578 = ((NU8) 0);
while (1) {
if (!(Res_161578 <= ((NU8) 20))) goto LA7;
I_161535 = Res_161578;
App_53031(&Code_161469, (*D_161467).Section[(I_161535)-0]);
Res_161578 += 1;
} LA7: ;
if (!!(((*D_161467).Meta[(((NU8) 1))-0] == NIM_NIL))) goto LA9;
Title_161471 = (*D_161467).Meta[(((NU8) 1))-0];
goto LA8;
LA9: ;
LOC11 = 0;
LOC12 = 0;
LOC12 = nosChangeFileExt((*D_161467).Filename, ((NimStringDesc*) &TMP199218));
LOC13 = 0;
LOC13 = nosextractFilename(LOC12);
LOC11 = rawNewString(LOC13->Sup.len + 7);
appendString(LOC11, ((NimStringDesc*) &TMP199504));
appendString(LOC11, LOC13);
Title_161471 = Torope_53046(LOC11);
LA8: ;
if (!(*D_161467).Hastoc) goto LA15;
Bodyname_161473 = copyString(((NimStringDesc*) &TMP199505));
goto LA14;
LA15: ;
Bodyname_161473 = copyString(((NimStringDesc*) &TMP199506));
LA14: ;
LOC17 = 0;
LOC17 = Getconfigvar_47140(Bodyname_161473);
memset((void*)&LOC18, 0, sizeof(LOC18));
LOC18[0] = Title_161471;
LOC18[1] = Toc_161470;
LOC18[2] = (*D_161467).Moddesc;
LOC19 = 0;
LOC19 = ntgetDateStr();
LOC18[3] = Torope_53046(LOC19);
LOC20 = 0;
LOC20 = ntgetClockStr();
LOC18[4] = Torope_53046(LOC20);
LOC18[5] = Code_161469;
Content_161472 = Ropeformatnamedvars_159215(LOC17, TMP199507, 6, LOC18, 6);
if (!!(((Gglobaloptions_47084 &(1<<((((NU8) 6))&31)))!=0))) goto LA22;
LOC24 = 0;
LOC24 = Getconfigvar_47140(((NimStringDesc*) &TMP199513));
memset((void*)&LOC25, 0, sizeof(LOC25));
LOC25[0] = Title_161471;
LOC25[1] = Toc_161470;
LOC25[2] = (*D_161467).Moddesc;
LOC26 = 0;
LOC26 = ntgetDateStr();
LOC25[3] = Torope_53046(LOC26);
LOC27 = 0;
LOC27 = ntgetClockStr();
LOC25[4] = Torope_53046(LOC27);
LOC25[5] = Content_161472;
LOC25[6] = (*D_161467).Meta[(((NU8) 3))-0];
LOC25[7] = (*D_161467).Meta[(((NU8) 4))-0];
Code_161469 = Ropeformatnamedvars_159215(LOC24, TMP199514, 8, LOC25, 8);
goto LA21;
LA22: ;
Code_161469 = Content_161472;
LA21: ;
Result_161468 = Code_161469;
return Result_161468;
}
N_NIMCALL(void, Writeoutput_161593)(TY159017* D_161595, NimStringDesc* Filename_161596, NimStringDesc* Outext_161597) {
TY53008* Content_161598;
NimStringDesc* LOC4;
Content_161598 = 0;
Content_161598 = NIM_NIL;
Content_161598 = Genoutfile_161465(D_161595);
if (!((Gglobaloptions_47084 &(1<<((((NU8) 20))&31)))!=0)) goto LA2;
Writerope_53605(&stdout, Content_161598);
goto LA1;
LA2: ;
LOC4 = 0;
LOC4 = Getoutfile_47167(Filename_161596, Outext_161597);
Writerope_53055(Content_161598, LOC4);
LA1: ;
}
N_NIMCALL(TY53008*, Renderrstsons_160229)(TY159017* D_160231, TY151077* N_160232) {
TY53008* Result_160233;
NI I_160242;
NI HEX3Atmp_160244;
NI LOC1;
NI Res_160246;
TY53008* LOC3;
Result_160233 = 0;
Result_160233 = NIM_NIL;
I_160242 = 0;
HEX3Atmp_160244 = 0;
LOC1 = Rsonslen_151091(N_160232);
HEX3Atmp_160244 = (NI32)(LOC1 - 1);
Res_160246 = 0;
Res_160246 = 0;
while (1) {
if (!(Res_160246 <= HEX3Atmp_160244)) goto LA2;
I_160242 = Res_160246;
LOC3 = 0;
LOC3 = Renderrsttorst_160225(D_160231, (*N_160232).Sons->data[I_160242]);
App_53031(&Result_160233, LOC3);
Res_160246 += 1;
} LA2: ;
return Result_160233;
}
N_NIMCALL(TY53008*, Renderrsttorst_160225)(TY159017* D_160227, TY151077* N_160228) {
TY53008* Result_160251;
TY53008* Ind_160268;
NimStringDesc* LOC4;
NI L_160269;
TY165012 LOC5;
NimStringDesc* LOC6;
NI L_160274;
TY165012 LOC7;
NimStringDesc* LOC8;
TY179695 LOC9;
NimStringDesc* LOC10;
TY179695 LOC11;
TY179695 LOC15;
TY179695 LOC19;
TY179695 LOC20;
TY179695 LOC24;
NI L_160408;
NI LOC25;
TY166439 LOC26;
NI LOC27;
NimStringDesc* LOC28;
TY179695 LOC29;
TY53407 LOC30;
TY179695 LOC31;
TY179695 LOC32;
TY53407 LOC33;
TY53407 LOC34;
TY53407 LOC35;
TY53407 LOC36;
TY53407 LOC37;
TY53407 LOC38;
TY53407 LOC39;
NIM_BOOL LOC41;
TY179695 LOC48;
TY53407 LOC49;
Result_160251 = 0;
Ind_160268 = 0;
Result_160251 = NIM_NIL;
Result_160251 = NIM_NIL;
if (!(N_160228 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
Ind_160268 = NIM_NIL;
LOC4 = 0;
LOC4 = nsuRepeatChar((*D_160227).Indent, 32);
Ind_160268 = Torope_53046(LOC4);
switch ((*N_160228).Kind) {
case ((NU8) 0):
Result_160251 = Renderrstsons_160229(D_160227, N_160228);
break;
case ((NU8) 1):
Result_160251 = Renderrstsons_160229(D_160227, N_160228);
L_160269 = 0;
L_160269 = Ropelen_53052(Result_160251);
memset((void*)&LOC5, 0, sizeof(LOC5));
LOC5[0] = Ind_160268;
LOC5[1] = Result_160251;
LOC6 = 0;
LOC6 = nsuRepeatChar(L_160269, Lvltochar_160252[((*N_160228).Level)-0]);
LOC5[2] = Torope_53046(LOC6);
Result_160251 = Ropef_53066(((NimStringDesc*) &TMP199515), LOC5, 3);
break;
case ((NU8) 2):
Result_160251 = Renderrstsons_160229(D_160227, N_160228);
L_160274 = 0;
L_160274 = Ropelen_53052(Result_160251);
memset((void*)&LOC7, 0, sizeof(LOC7));
LOC7[0] = Ind_160268;
LOC7[1] = Result_160251;
LOC8 = 0;
LOC8 = nsuRepeatChar(L_160274, Lvltochar_160252[((*N_160228).Level)-0]);
LOC7[2] = Torope_53046(LOC8);
Result_160251 = Ropef_53066(((NimStringDesc*) &TMP199516), LOC7, 3);
break;
case ((NU8) 3):
memset((void*)&LOC9, 0, sizeof(LOC9));
LOC9[0] = Ind_160268;
LOC10 = 0;
LOC10 = nsuRepeatChar((NI32)(78 - (*D_160227).Indent), 45);
LOC9[1] = Torope_53046(LOC10);
Result_160251 = Ropef_53066(((NimStringDesc*) &TMP199517), LOC9, 2);
break;
case ((NU8) 4):
Result_160251 = Renderrstsons_160229(D_160227, N_160228);
memset((void*)&LOC11, 0, sizeof(LOC11));
LOC11[0] = Ind_160268;
LOC11[1] = Result_160251;
Result_160251 = Ropef_53066(((NimStringDesc*) &TMP199518), LOC11, 2);
break;
case ((NU8) 6):
(*D_160227).Indent += 2;
Result_160251 = Renderrstsons_160229(D_160227, N_160228);
if (!!((Result_160251 == NIM_NIL))) goto LA13;
memset((void*)&LOC15, 0, sizeof(LOC15));
LOC15[0] = Ind_160268;
LOC15[1] = Result_160251;
Result_160251 = Ropef_53066(((NimStringDesc*) &TMP199519), LOC15, 2);
LA13: ;
(*D_160227).Indent -= 2;
break;
case ((NU8) 8):
(*D_160227).Indent += 4;
Result_160251 = Renderrstsons_160229(D_160227, N_160228);
if (!!((Result_160251 == NIM_NIL))) goto LA17;
memset((void*)&LOC19, 0, sizeof(LOC19));
LOC19[0] = Ind_160268;
LOC19[1] = Result_160251;
Result_160251 = Ropef_53066(((NimStringDesc*) &TMP199520), LOC19, 2);
LA17: ;
(*D_160227).Indent -= 4;
break;
case ((NU8) 17):
case ((NU8) 13):
case ((NU8) 9):
case ((NU8) 10):
case ((NU8) 26):
case ((NU8) 15):
case ((NU8) 16):
case ((NU8) 37):
case ((NU8) 5):
case ((NU8) 7):
Result_160251 = Renderrstsons_160229(D_160227, N_160228);
break;
case ((NU8) 11):
Result_160251 = Renderrstsons_160229(D_160227, N_160228);
memset((void*)&LOC20, 0, sizeof(LOC20));
LOC20[0] = Ind_160268;
LOC20[1] = Result_160251;
Result_160251 = Ropef_53066(((NimStringDesc*) &TMP199518), LOC20, 2);
break;
case ((NU8) 12):
(*D_160227).Indent += 2;
Result_160251 = Renderrstsons_160229(D_160227, N_160228);
if (!!(((*(*N_160228).Sons->data[0]).Kind == ((NU8) 5)))) goto LA22;
memset((void*)&LOC24, 0, sizeof(LOC24));
LOC24[0] = Ind_160268;
LOC24[1] = Result_160251;
Result_160251 = Ropef_53066(((NimStringDesc*) &TMP199521), LOC24, 2);
LA22: ;
(*D_160227).Indent -= 2;
break;
case ((NU8) 14):
Result_160251 = Renderrsttorst_160225(D_160227, (*N_160228).Sons->data[0]);
L_160408 = 0;
LOC25 = Ropelen_53052(Result_160251);
L_160408 = (((NI32)(LOC25 + 3) >= 30) ? (NI32)(LOC25 + 3) : 30);
(*D_160227).Indent += L_160408;
memset((void*)&LOC26, 0, sizeof(LOC26));
LOC26[0] = Ind_160268;
LOC26[1] = Result_160251;
LOC27 = Ropelen_53052(Result_160251);
LOC28 = 0;
LOC28 = nsuRepeatChar((NI32)((NI32)(L_160408 - LOC27) - 2), 32);
LOC26[2] = Torope_53046(LOC28);
LOC26[3] = Renderrsttorst_160225(D_160227, (*N_160228).Sons->data[1]);
Result_160251 = Ropef_53066(((NimStringDesc*) &TMP199522), LOC26, 4);
(*D_160227).Indent -= L_160408;
break;
case ((NU8) 27):
Result_160251 = Renderrstsons_160229(D_160227, N_160228);
memset((void*)&LOC29, 0, sizeof(LOC29));
LOC29[0] = Ind_160268;
LOC29[1] = Result_160251;
Result_160251 = Ropef_53066(((NimStringDesc*) &TMP199523), LOC29, 2);
break;
case ((NU8) 28):
(*D_160227).Indent += 2;
Result_160251 = Renderrstsons_160229(D_160227, N_160228);
(*D_160227).Indent -= 2;
break;
case ((NU8) 39):
Result_160251 = Renderrstsons_160229(D_160227, N_160228);
memset((void*)&LOC30, 0, sizeof(LOC30));
LOC30[0] = Result_160251;
Result_160251 = Ropef_53066(((NimStringDesc*) &TMP199524), LOC30, 1);
break;
case ((NU8) 38):
memset((void*)&LOC31, 0, sizeof(LOC31));
LOC31[0] = Renderrsttorst_160225(D_160227, (*N_160228).Sons->data[0]);
LOC31[1] = Renderrsttorst_160225(D_160227, (*N_160228).Sons->data[1]);
Result_160251 = Ropef_53066(((NimStringDesc*) &TMP199525), LOC31, 2);
break;
case ((NU8) 53):
Result_160251 = Renderrsttorst_160225(D_160227, (*N_160228).Sons->data[0]);
memset((void*)&LOC32, 0, sizeof(LOC32));
LOC32[0] = Result_160251;
LOC32[1] = Renderrsttorst_160225(D_160227, (*N_160228).Sons->data[1]);
Result_160251 = Ropef_53066(((NimStringDesc*) &TMP199526), LOC32, 2);
break;
case ((NU8) 54):
Result_160251 = Renderrstsons_160229(D_160227, N_160228);
memset((void*)&LOC33, 0, sizeof(LOC33));
LOC33[0] = Result_160251;
Result_160251 = Ropef_53066(((NimStringDesc*) &TMP199527), LOC33, 1);
break;
case ((NU8) 55):
Result_160251 = Renderrstsons_160229(D_160227, N_160228);
memset((void*)&LOC34, 0, sizeof(LOC34));
LOC34[0] = Result_160251;
Result_160251 = Ropef_53066(((NimStringDesc*) &TMP199528), LOC34, 1);
break;
case ((NU8) 56):
Result_160251 = Renderrstsons_160229(D_160227, N_160228);
memset((void*)&LOC35, 0, sizeof(LOC35));
LOC35[0] = Result_160251;
Result_160251 = Ropef_53066(((NimStringDesc*) &TMP199529), LOC35, 1);
break;
case ((NU8) 57):
Result_160251 = Renderrstsons_160229(D_160227, N_160228);
memset((void*)&LOC36, 0, sizeof(LOC36));
LOC36[0] = Result_160251;
Result_160251 = Ropef_53066(((NimStringDesc*) &TMP199530), LOC36, 1);
break;
case ((NU8) 58):
Result_160251 = Renderrstsons_160229(D_160227, N_160228);
memset((void*)&LOC37, 0, sizeof(LOC37));
LOC37[0] = Result_160251;
Result_160251 = Ropef_53066(((NimStringDesc*) &TMP199531), LOC37, 1);
break;
case ((NU8) 59):
Result_160251 = Renderrstsons_160229(D_160227, N_160228);
memset((void*)&LOC38, 0, sizeof(LOC38));
LOC38[0] = Result_160251;
Result_160251 = Ropef_53066(((NimStringDesc*) &TMP199532), LOC38, 1);
break;
case ((NU8) 60):
(*D_160227).Verbatim += 1;
Result_160251 = Renderrstsons_160229(D_160227, N_160228);
memset((void*)&LOC39, 0, sizeof(LOC39));
LOC39[0] = Result_160251;
Result_160251 = Ropef_53066(((NimStringDesc*) &TMP199533), LOC39, 1);
(*D_160227).Verbatim -= 1;
break;
case ((NU8) 62):
LOC41 = ((*D_160227).Verbatim == 0);
if (!(LOC41)) goto LA42;
LOC41 = eqStrings((*N_160228).Text, ((NimStringDesc*) &TMP199534));
LA42: ;
if (!LOC41) goto LA43;
Result_160251 = Torope_53046(((NimStringDesc*) &TMP199535));
goto LA40;
LA43: ;
Result_160251 = Torope_53046((*N_160228).Text);
LA40: ;
break;
case ((NU8) 51):
(*D_160227).Indent += 3;
if (!!(((*N_160228).Sons->data[2] == NIM_NIL))) goto LA46;
Result_160251 = Renderrstsons_160229(D_160227, (*N_160228).Sons->data[2]);
LA46: ;
(*D_160227).Indent -= 3;
memset((void*)&LOC48, 0, sizeof(LOC48));
LOC48[0] = Ind_160268;
LOC48[1] = Result_160251;
Result_160251 = Ropef_53066(((NimStringDesc*) &TMP199536), LOC48, 2);
break;
case ((NU8) 44):
memset((void*)&LOC49, 0, sizeof(LOC49));
LOC49[0] = Ind_160268;
Result_160251 = Ropef_53066(((NimStringDesc*) &TMP199537), LOC49, 1);
break;
default:
Rawmessage_49094(((NU8) 190), reprEnum((*N_160228).Kind, NTI151008));
break;
}
BeforeRet: ;
return Result_160251;
}
N_NIMCALL(void, Generateindex_161579)(TY159017* D_161581) {
TY53008* LOC4;
if (!!(((*D_161581).Theindex == NIM_NIL))) goto LA2;
Sortindex_151123((*D_161581).Theindex);
LOC4 = 0;
LOC4 = Renderrsttorst_160225(D_161581, (*D_161581).Indexfile);
Writerope_53055(LOC4, Gindexfile_47088);
LA2: ;
}
N_NIMCALL(void, Commanddoc_159001)(NimStringDesc* Filename_159003) {
TY56526* Ast_161614;
NimStringDesc* LOC1;
TY159017* D_161626;
Ast_161614 = 0;
D_161626 = 0;
Ast_161614 = NIM_NIL;
LOC1 = 0;
LOC1 = nosaddFileExt(Filename_159003, ((NimStringDesc*) &TMP199136));
Ast_161614 = Parsefile_93031(LOC1);
if (!(Ast_161614 == NIM_NIL)) goto LA3;
goto BeforeRet;
LA3: ;
D_161626 = NIM_NIL;
D_161626 = Newdocumentor_159159(Filename_159003);
Initindexfile_159129(D_161626);
(*D_161626).Hastoc = NIM_TRUE;
Generatedoc_161028(D_161626, Ast_161614);
Writeoutput_161593(D_161626, Filename_159003, ((NimStringDesc*) &TMP199145));
Generateindex_161579(D_161626);
BeforeRet: ;
}
N_NIMCALL(void, Commandrstaux_161627)(NimStringDesc* Filename_161629, NimStringDesc* Outext_161630) {
NimStringDesc* Filen_161631;
TY159017* D_161632;
TY151077* Rst_161634;
NimStringDesc* LOC1;
Filen_161631 = 0;
D_161632 = 0;
Rst_161634 = 0;
Filen_161631 = NIM_NIL;
Filen_161631 = nosaddFileExt(Filename_161629, ((NimStringDesc*) &TMP199144));
D_161632 = NIM_NIL;
D_161632 = Newdocumentor_159159(Filen_161631);
Initindexfile_159129(D_161632);
Rst_161634 = NIM_NIL;
LOC1 = 0;
LOC1 = Readfile_3847(Filen_161631);
Rst_161634 = Rstparse_151082(LOC1, NIM_FALSE, Filen_161631, 0, 1, &(*D_161632).Hastoc);
asgnRefNoCycle((void**) &(*D_161632).Moddesc, Renderrsttoout_159612(D_161632, Rst_161634));
Writeoutput_161593(D_161632, Filename_161629, Outext_161630);
Generateindex_161579(D_161632);
}
N_NIMCALL(void, Commandrst2html_159004)(NimStringDesc* Filename_159006) {
Commandrstaux_161627(Filename_159006, ((NimStringDesc*) &TMP199145));
}
N_NIMCALL(void, Commandrst2tex_159007)(NimStringDesc* Filename_159009) {
asgnRefNoCycle((void**) &Splitter_159045, copyString(((NimStringDesc*) &TMP199539)));
Commandrstaux_161627(Filename_159009, ((NimStringDesc*) &TMP199540));
}
N_NOINLINE(void, docgenInit)(void) {
asgnRefNoCycle((void**) &Splitter_159045, copyString(((NimStringDesc*) &TMP159046)));
}

