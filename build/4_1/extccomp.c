/* Generated by Nimrod Compiler v0.8.11 */
/*   (c) 2011 Andreas Rumpf */

typedef long int NI;
typedef unsigned long int NU;
#include "nimbase.h"

typedef struct TY71008 TY71008;
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct TY10802 TY10802;
typedef struct TNimType TNimType;
typedef struct TY10818 TY10818;
typedef struct TY11196 TY11196;
typedef struct TY10814 TY10814;
typedef struct TY10810 TY10810;
typedef struct TY11194 TY11194;
typedef struct TY44019 TY44019;
typedef struct TNimNode TNimNode;
typedef struct TY44013 TY44013;
typedef struct TY52036 TY52036;
typedef struct TY52449 TY52449;
typedef struct TY38661 TY38661;
typedef struct TY53008 TY53008;
typedef struct TY44015 TY44015;
typedef struct TNimObject TNimObject;
typedef struct TY39221 TY39221;
struct TGenericSeq {
NI len;
NI space;
};
typedef NIM_CHAR TY245[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY245 data;
};
struct TY71008 {
NimStringDesc* Name;
NimStringDesc* Objext;
NimStringDesc* Optspeed;
NimStringDesc* Optsize;
NimStringDesc* Compilerexe;
NimStringDesc* Compiletmpl;
NimStringDesc* Buildgui;
NimStringDesc* Builddll;
NimStringDesc* Linkerexe;
NimStringDesc* Linktmpl;
NimStringDesc* Includecmd;
NimStringDesc* Debug;
NimStringDesc* Pic;
NimStringDesc* Asmstmtfrmt;
NU8 Props;
};
typedef TY71008 TY71042[12];
struct TY10802 {
NI Refcount;
TNimType* Typ;
};
struct TY10818 {
NI Len;
NI Cap;
TY10802** D;
};
struct TY10814 {
NI Counter;
NI Max;
TY10810* Head;
TY10810** Data;
};
struct TY11194 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY11196 {
TY10818 Zct;
TY10818 Decstack;
TY10814 Cycleroots;
TY10818 Tempstack;
TY11194 Stat;
};
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TY44019 {
TNimType* m_type;
TY44013* Head;
TY44013* Tail;
NI Counter;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct TY52036 {
NimStringDesc* Name;
NimStringDesc* Pardir;
NimStringDesc* Dllfrmt;
NimStringDesc* Altdirsep;
NimStringDesc* Objext;
NimStringDesc* Newline;
NimStringDesc* Pathsep;
NimStringDesc* Dirsep;
NimStringDesc* Scriptext;
NimStringDesc* Curdir;
NimStringDesc* Exeext;
NimStringDesc* Extsep;
NU8 Props;
};
typedef TY52036 TY52054[21];
struct TY52449 {
NimStringDesc* Name;
NI Intsize;
NU8 Endian;
NI Floatsize;
NI Bit;
};
typedef TY52449 TY52462[13];
struct TY38661 {
NimStringDesc* Dir;
NimStringDesc* Name;
NimStringDesc* Ext;
};
typedef NimStringDesc* TY71726[12];
typedef TY53008* TY53407[1];
struct TNimObject {
TNimType* m_type;
};
struct TY44013 {
  TNimObject Sup;
TY44013* Prev;
TY44013* Next;
};
struct TY44015 {
  TY44013 Sup;
NimStringDesc* Data;
};
typedef NimStringDesc* TY47337[1];
typedef NimStringDesc* TY48843[1];
typedef NimStringDesc* TY72019[14];
typedef NI TY8814[16];
struct TY10810 {
TY10810* Next;
NI Key;
TY8814 Bits;
};
struct TY53008 {
  TNimObject Sup;
TY53008* Left;
TY53008* Right;
NI Length;
NimStringDesc* Data;
};
struct TY39221 {
  TGenericSeq Sup;
  NimStringDesc* data[SEQ_DECL_SIZE];
};
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13218, void* Src_13219);
static N_INLINE(TY10802*, Usrtocell_11612)(void* Usr_11614);
static N_INLINE(NI, Atomicinc_3221)(NI* Memloc_3224, NI X_3225);
static N_INLINE(NI, Atomicdec_3226)(NI* Memloc_3229, NI X_3230);
static N_INLINE(void, Rtladdzct_12601)(TY10802* C_12603);
N_NOINLINE(void, Addzct_11601)(TY10818* S_11604, TY10802* C_11605);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* Src_18712);
N_NIMCALL(NIM_BOOL, Externalfilechanged_71524)(NimStringDesc* Filename_71526);
N_NIMCALL(NimStringDesc*, Togeneratedfile_47110)(NimStringDesc* Path_47112, NimStringDesc* Ext_47113);
N_NIMCALL(int, Footprint_71520)(NimStringDesc* Filename_71522);
N_NIMCALL(int, HEX3EHEX3C_51092)(int C_51094, NimStringDesc* S_51095);
N_NIMCALL(int, Crcfromfile_51029)(NimStringDesc* Filename_51031);
N_NIMCALL(NIM_BOOL, Open_3817)(FILE** F_3820, NimStringDesc* Filename_3821, NU8 Mode_3822, NI Bufsize_3823);
N_NIMCALL(NimStringDesc*, Readline_3887)(FILE* F_3889);
N_NIMCALL(NI, nsuParseInt)(NimStringDesc* S_25452);
N_NIMCALL(NimStringDesc*, nimIntToStr)(NI X_19403);
N_NIMCALL(void, Appendstr_44061)(TY44019* List_44064, NimStringDesc* Data_44065);
N_NIMCALL(void, Prependstr_44071)(TY44019* List_44074, NimStringDesc* Data_44075);
N_NIMCALL(NimStringDesc*, Completegeneratedfilepath_47106)(NimStringDesc* F_47108, NIM_BOOL Createsubdir_47109);
N_NIMCALL(NI, nsuFindStr)(NimStringDesc* S_26208, NimStringDesc* Sub_26209, NI Start_26210);
N_NIMCALL(void, Addopt_71443)(NimStringDesc** Dest_71446, NimStringDesc* Src_71447);
static N_INLINE(void, appendString)(NimStringDesc* Dest_18799, NimStringDesc* Src_18800);
N_NIMCALL(NimStringDesc*, resizeString)(NimStringDesc* Dest_18789, NI Addlen_18790);
N_NIMCALL(NU8, Nametocc_71350)(NimStringDesc* Name_71352);
N_NIMCALL(NI, nsuCmpIgnoreStyle)(NimStringDesc* A_24632, NimStringDesc* B_24633);
N_NIMCALL(void, Rawmessage_49094)(NU8 Msg_49096, NimStringDesc* Arg_49097);
N_NIMCALL(NimStringDesc*, Getconfigvar_47140)(NimStringDesc* Key_47142);
N_NIMCALL(NimStringDesc*, rawNewString)(NI Space_18689);
N_NIMCALL(void, Undefsymbol_65056)(NimStringDesc* Symbol_65058);
N_NIMCALL(void, Definesymbol_65053)(NimStringDesc* Symbol_65055);
N_NIMCALL(void, Addcompileoption_71464)(NimStringDesc* Option_71466);
N_NIMCALL(void, Addlinkoption_71456)(NimStringDesc* Option_71458);
N_NIMCALL(void, nossplitFile)(NimStringDesc* Path_38660, TY38661* Result);
N_NIMCALL(NIM_BOOL, Existsconfigvar_47137)(NimStringDesc* Key_47139);
N_NIMCALL(NimStringDesc*, Getdebug_71601)(NU8 C_71603);
N_NIMCALL(NimStringDesc*, Getoptspeed_71597)(NU8 C_71599);
N_NIMCALL(NimStringDesc*, Getoptsize_71605)(NU8 C_71607);
N_NIMCALL(NimStringDesc*, nosaddFileExt)(NimStringDesc* Filename_38830, NimStringDesc* Ext_38831);
static N_INLINE(void, appendChar)(NimStringDesc* Dest_18816, NIM_CHAR C_18817);
N_NIMCALL(NimStringDesc*, Quoteifcontainswhite_26268)(NimStringDesc* S_26270);
N_NIMCALL(NimStringDesc*, nosJoinPath)(NimStringDesc* Head_38403, NimStringDesc* Tail_38404);
N_NIMCALL(NimStringDesc*, nosextractFilename)(NimStringDesc* Path_38730);
N_NIMCALL(NimStringDesc*, Toobjfile_71512)(NimStringDesc* Filenamewithoutext_71514);
N_NIMCALL(NimStringDesc*, nosChangeFileExt)(NimStringDesc* Filename_38820, NimStringDesc* Ext_38821);
N_NIMCALL(NimStringDesc*, Completecfilepath_71507)(NimStringDesc* Cfile_71509, NIM_BOOL Createsubdir_71510);
N_NIMCALL(NimStringDesc*, nsuFormatOpenArray)(NimStringDesc* Formatstr_24959, NimStringDesc** A_24961, NI A_24961Len0);
N_NIMCALL(NimStringDesc*, Getprefixdir_47114)(void);
N_NIMCALL(NimStringDesc*, addChar)(NimStringDesc* S_1803, NIM_CHAR C_1804);
N_NIMCALL(void, nsuAddf)(NimStringDesc** S_24733, NimStringDesc* Formatstr_24734, NimStringDesc** A_24736, NI A_24736Len0);
N_NIMCALL(TY53008*, Torope_53046)(NimStringDesc* S_53048);
N_NIMCALL(void, App_53031)(TY53008** A_53034, TY53008* B_53035);
N_NIMCALL(TY53008*, Genmappingfiles_72053)(TY44019* List_72055);
N_NIMCALL(void, Appf_53071)(TY53008** C_53074, NimStringDesc* Frmt_53075, TY53008** Args_53077, NI Args_53077Len0);
N_NIMCALL(void, Writerope_53055)(TY53008* Head_53057, NimStringDesc* Filename_53058);
N_NIMCALL(void*, newSeq)(TNimType* Typ_14404, NI Len_14405);
N_NIMCALL(void, Compilecfile_71733)(TY44019* List_71735, TY53008** Script_71737, TY39221** Cmds_71739, NIM_BOOL Isexternal_71740);
N_NIMCALL(NimStringDesc*, Getcompilecfilecmd_71612)(NimStringDesc* Cfilename_71614, NIM_BOOL Isexternal_71615);
N_NIMCALL(TGenericSeq*, incrSeq)(TGenericSeq* Seq_18842, NI Elemsize_18843);
N_NIMCALL(void, App_53036)(TY53008** A_53039, NimStringDesc* B_53040);
N_NIMCALL(NI, nospcountProcessors)(void);
N_NIMCALL(NI, nospexecCmd)(NimStringDesc* Command_69231);
N_NIMCALL(NI, nospexecProcesses)(NimStringDesc** Cmds_69686, NI Cmds_69686Len0, NU8 Options_69688, NI N_69689);
N_NIMCALL(void, Rawmessage_49020)(NU8 Msg_49022, NimStringDesc** Args_49024, NI Args_49024Len0);
N_NIMCALL(void, Execexternalprogram_71570)(NimStringDesc* Cmd_71572);
N_NIMCALL(void, Msgwriteln_48794)(NimStringDesc* S_48796);
N_NIMCALL(void, Generatescript_71590)(NimStringDesc* Projectfile_71592, TY53008* Script_71593);
N_NIMCALL(NimStringDesc*, HEX2F_38480)(NimStringDesc* Head_38482, NimStringDesc* Tail_38483);
static N_INLINE(void, Writeln_71546)(FILE* F_71549, NimStringDesc* X_71550);
N_NIMCALL(void, Write_3866)(FILE* F_3868, NimStringDesc* S_3869);
STRING_LITERAL(TMP71262, "gcc", 3);
STRING_LITERAL(TMP71263, "o", 1);
STRING_LITERAL(TMP71264, " -O3 -ffast-math ", 17);
STRING_LITERAL(TMP71265, " -Os -ffast-math ", 17);
STRING_LITERAL(TMP71266, "-c $options $include -o $objfile $file", 38);
STRING_LITERAL(TMP71267, " -mwindows", 10);
STRING_LITERAL(TMP71268, " -shared", 8);
STRING_LITERAL(TMP71269, "$options $buildgui $builddll -o $exefile $objfiles", 50);
STRING_LITERAL(TMP71270, " -I", 3);
STRING_LITERAL(TMP71271, "", 0);
STRING_LITERAL(TMP71272, "-fPIC", 5);
STRING_LITERAL(TMP71273, "asm($1);$n", 10);
STRING_LITERAL(TMP71274, "llvm_gcc", 8);
STRING_LITERAL(TMP71275, "llvm-gcc", 8);
STRING_LITERAL(TMP71276, "lcc", 3);
STRING_LITERAL(TMP71277, "obj", 3);
STRING_LITERAL(TMP71278, " -O -p6 ", 8);
STRING_LITERAL(TMP71279, "$options $include -Fo$objfile $file", 35);
STRING_LITERAL(TMP71280, " -subsystem windows", 19);
STRING_LITERAL(TMP71281, " -dll", 5);
STRING_LITERAL(TMP71282, "lcclnk", 6);
STRING_LITERAL(TMP71283, "$options $buildgui $builddll -O $exefile $objfiles", 50);
STRING_LITERAL(TMP71284, " -g5 ", 5);
STRING_LITERAL(TMP71285, "_asm{$n$1$n}$n", 14);
STRING_LITERAL(TMP71286, "bcc", 3);
STRING_LITERAL(TMP71287, " -O2 -6 ", 8);
STRING_LITERAL(TMP71288, " -O1 -6 ", 8);
STRING_LITERAL(TMP71289, "bcc32", 5);
STRING_LITERAL(TMP71290, "-c $options $include -o$objfile $file", 37);
STRING_LITERAL(TMP71291, " -tW", 4);
STRING_LITERAL(TMP71292, " -tWD", 5);
STRING_LITERAL(TMP71293, "$options $buildgui $builddll -e$exefile $objfiles", 49);
STRING_LITERAL(TMP71294, "__asm{$n$1$n}$n", 15);
STRING_LITERAL(TMP71295, "dmc", 3);
STRING_LITERAL(TMP71296, " -ff -o -6 ", 11);
STRING_LITERAL(TMP71297, " -L/exet:nt/su:windows", 22);
STRING_LITERAL(TMP71298, " -WD", 4);
STRING_LITERAL(TMP71299, "$options $buildgui $builddll -o$exefile $objfiles", 49);
STRING_LITERAL(TMP71300, " -g ", 4);
STRING_LITERAL(TMP71301, "wcc", 3);
STRING_LITERAL(TMP71302, " -ox -on -6 -d0 -fp6 -zW ", 25);
STRING_LITERAL(TMP71303, "wcl386", 6);
STRING_LITERAL(TMP71304, "-c $options $include -fo=$objfile $file", 39);
STRING_LITERAL(TMP71305, " -bw", 4);
STRING_LITERAL(TMP71306, " -bd", 4);
STRING_LITERAL(TMP71307, "$options $buildgui $builddll -fe=$exefile $objfiles ", 52);
STRING_LITERAL(TMP71308, " -i=", 4);
STRING_LITERAL(TMP71309, " -d2 ", 5);
STRING_LITERAL(TMP71310, "vcc", 3);
STRING_LITERAL(TMP71311, " /Ogityb2 /G7 /arch:SSE2 ", 25);
STRING_LITERAL(TMP71312, " /O1 /G7 ", 9);
STRING_LITERAL(TMP71313, "cl", 2);
STRING_LITERAL(TMP71314, "/c $options $include /Fo$objfile $file", 38);
STRING_LITERAL(TMP71315, " /link /SUBSYSTEM:WINDOWS ", 26);
STRING_LITERAL(TMP71316, " /LD", 4);
STRING_LITERAL(TMP71317, "$options $builddll /Fe$exefile $objfiles $buildgui", 50);
STRING_LITERAL(TMP71318, " /I", 3);
STRING_LITERAL(TMP71319, " /GZ /Zi ", 9);
STRING_LITERAL(TMP71320, "tcc", 3);
STRING_LITERAL(TMP71321, "UNAVAILABLE!", 12);
STRING_LITERAL(TMP71322, "-o $exefile $options $buildgui $builddll $objfiles", 50);
STRING_LITERAL(TMP71323, "pcc", 3);
STRING_LITERAL(TMP71324, " -Ox ", 5);
STRING_LITERAL(TMP71325, " -Os ", 5);
STRING_LITERAL(TMP71326, "cc", 2);
STRING_LITERAL(TMP71327, "-c $options $include -Fo$objfile $file", 38);
STRING_LITERAL(TMP71328, " -SUBSYSTEM:WINDOWS", 19);
STRING_LITERAL(TMP71329, " -DLL", 5);
STRING_LITERAL(TMP71330, "$options $buildgui $builddll -OUT:$exefile $objfiles", 52);
STRING_LITERAL(TMP71331, " -Zi ", 5);
STRING_LITERAL(TMP71332, "ucc", 3);
STRING_LITERAL(TMP71333, " -O3 ", 5);
STRING_LITERAL(TMP71334, " -O1 ", 5);
STRING_LITERAL(TMP71335, " -shared ", 9);
STRING_LITERAL(TMP71336, "icc", 3);
STRING_LITERAL(TMP71337, " -mdll", 6);
STRING_LITERAL(TMP71338, "gpp", 3);
STRING_LITERAL(TMP71339, "g++", 3);
NIM_CONST TY71042 Cc_71041 = {{((NimStringDesc*) &TMP71262),
((NimStringDesc*) &TMP71263),
((NimStringDesc*) &TMP71264),
((NimStringDesc*) &TMP71265),
((NimStringDesc*) &TMP71262),
((NimStringDesc*) &TMP71266),
((NimStringDesc*) &TMP71267),
((NimStringDesc*) &TMP71268),
((NimStringDesc*) &TMP71262),
((NimStringDesc*) &TMP71269),
((NimStringDesc*) &TMP71270),
((NimStringDesc*) &TMP71271),
((NimStringDesc*) &TMP71272),
((NimStringDesc*) &TMP71273),
7}
,
{((NimStringDesc*) &TMP71274),
((NimStringDesc*) &TMP71263),
((NimStringDesc*) &TMP71264),
((NimStringDesc*) &TMP71265),
((NimStringDesc*) &TMP71275),
((NimStringDesc*) &TMP71266),
((NimStringDesc*) &TMP71267),
((NimStringDesc*) &TMP71268),
((NimStringDesc*) &TMP71275),
((NimStringDesc*) &TMP71269),
((NimStringDesc*) &TMP71270),
((NimStringDesc*) &TMP71271),
((NimStringDesc*) &TMP71272),
((NimStringDesc*) &TMP71273),
7}
,
{((NimStringDesc*) &TMP71276),
((NimStringDesc*) &TMP71277),
((NimStringDesc*) &TMP71278),
((NimStringDesc*) &TMP71278),
((NimStringDesc*) &TMP71276),
((NimStringDesc*) &TMP71279),
((NimStringDesc*) &TMP71280),
((NimStringDesc*) &TMP71281),
((NimStringDesc*) &TMP71282),
((NimStringDesc*) &TMP71283),
((NimStringDesc*) &TMP71270),
((NimStringDesc*) &TMP71284),
((NimStringDesc*) &TMP71271),
((NimStringDesc*) &TMP71285),
0}
,
{((NimStringDesc*) &TMP71286),
((NimStringDesc*) &TMP71277),
((NimStringDesc*) &TMP71287),
((NimStringDesc*) &TMP71288),
((NimStringDesc*) &TMP71289),
((NimStringDesc*) &TMP71290),
((NimStringDesc*) &TMP71291),
((NimStringDesc*) &TMP71292),
((NimStringDesc*) &TMP71289),
((NimStringDesc*) &TMP71293),
((NimStringDesc*) &TMP71270),
((NimStringDesc*) &TMP71271),
((NimStringDesc*) &TMP71271),
((NimStringDesc*) &TMP71294),
4}
,
{((NimStringDesc*) &TMP71295),
((NimStringDesc*) &TMP71277),
((NimStringDesc*) &TMP71296),
((NimStringDesc*) &TMP71296),
((NimStringDesc*) &TMP71295),
((NimStringDesc*) &TMP71290),
((NimStringDesc*) &TMP71297),
((NimStringDesc*) &TMP71298),
((NimStringDesc*) &TMP71295),
((NimStringDesc*) &TMP71299),
((NimStringDesc*) &TMP71270),
((NimStringDesc*) &TMP71300),
((NimStringDesc*) &TMP71271),
((NimStringDesc*) &TMP71294),
4}
,
{((NimStringDesc*) &TMP71301),
((NimStringDesc*) &TMP71277),
((NimStringDesc*) &TMP71302),
((NimStringDesc*) &TMP71271),
((NimStringDesc*) &TMP71303),
((NimStringDesc*) &TMP71304),
((NimStringDesc*) &TMP71305),
((NimStringDesc*) &TMP71306),
((NimStringDesc*) &TMP71303),
((NimStringDesc*) &TMP71307),
((NimStringDesc*) &TMP71308),
((NimStringDesc*) &TMP71309),
((NimStringDesc*) &TMP71271),
((NimStringDesc*) &TMP71294),
4}
,
{((NimStringDesc*) &TMP71310),
((NimStringDesc*) &TMP71277),
((NimStringDesc*) &TMP71311),
((NimStringDesc*) &TMP71312),
((NimStringDesc*) &TMP71313),
((NimStringDesc*) &TMP71314),
((NimStringDesc*) &TMP71315),
((NimStringDesc*) &TMP71316),
((NimStringDesc*) &TMP71313),
((NimStringDesc*) &TMP71317),
((NimStringDesc*) &TMP71318),
((NimStringDesc*) &TMP71319),
((NimStringDesc*) &TMP71271),
((NimStringDesc*) &TMP71294),
12}
,
{((NimStringDesc*) &TMP71320),
((NimStringDesc*) &TMP71263),
((NimStringDesc*) &TMP71271),
((NimStringDesc*) &TMP71271),
((NimStringDesc*) &TMP71320),
((NimStringDesc*) &TMP71266),
((NimStringDesc*) &TMP71321),
((NimStringDesc*) &TMP71268),
((NimStringDesc*) &TMP71320),
((NimStringDesc*) &TMP71322),
((NimStringDesc*) &TMP71270),
((NimStringDesc*) &TMP71300),
((NimStringDesc*) &TMP71271),
((NimStringDesc*) &TMP71294),
3}
,
{((NimStringDesc*) &TMP71323),
((NimStringDesc*) &TMP71277),
((NimStringDesc*) &TMP71324),
((NimStringDesc*) &TMP71325),
((NimStringDesc*) &TMP71326),
((NimStringDesc*) &TMP71327),
((NimStringDesc*) &TMP71328),
((NimStringDesc*) &TMP71329),
((NimStringDesc*) &TMP71326),
((NimStringDesc*) &TMP71330),
((NimStringDesc*) &TMP71270),
((NimStringDesc*) &TMP71331),
((NimStringDesc*) &TMP71271),
((NimStringDesc*) &TMP71294),
0}
,
{((NimStringDesc*) &TMP71332),
((NimStringDesc*) &TMP71263),
((NimStringDesc*) &TMP71333),
((NimStringDesc*) &TMP71334),
((NimStringDesc*) &TMP71326),
((NimStringDesc*) &TMP71266),
((NimStringDesc*) &TMP71271),
((NimStringDesc*) &TMP71335),
((NimStringDesc*) &TMP71326),
((NimStringDesc*) &TMP71322),
((NimStringDesc*) &TMP71270),
((NimStringDesc*) &TMP71271),
((NimStringDesc*) &TMP71271),
((NimStringDesc*) &TMP71294),
0}
,
{((NimStringDesc*) &TMP71336),
((NimStringDesc*) &TMP71263),
((NimStringDesc*) &TMP71333),
((NimStringDesc*) &TMP71325),
((NimStringDesc*) &TMP71336),
((NimStringDesc*) &TMP71266),
((NimStringDesc*) &TMP71267),
((NimStringDesc*) &TMP71337),
((NimStringDesc*) &TMP71336),
((NimStringDesc*) &TMP71269),
((NimStringDesc*) &TMP71270),
((NimStringDesc*) &TMP71271),
((NimStringDesc*) &TMP71272),
((NimStringDesc*) &TMP71273),
7}
,
{((NimStringDesc*) &TMP71338),
((NimStringDesc*) &TMP71263),
((NimStringDesc*) &TMP71264),
((NimStringDesc*) &TMP71265),
((NimStringDesc*) &TMP71339),
((NimStringDesc*) &TMP71266),
((NimStringDesc*) &TMP71267),
((NimStringDesc*) &TMP71337),
((NimStringDesc*) &TMP71339),
((NimStringDesc*) &TMP71269),
((NimStringDesc*) &TMP71270),
((NimStringDesc*) &TMP71300),
((NimStringDesc*) &TMP71272),
((NimStringDesc*) &TMP71273),
7}
}
;
STRING_LITERAL(TMP71343, "c", 1);
STRING_LITERAL(TMP197648, "crc", 3);
extern NIM_CONST TY52054 Os_52053;
extern NIM_CONST TY52462 Cpu_52461;
STRING_LITERAL(TMP197650, "0", 1);
STRING_LITERAL(TMP197667, " ", 1);
STRING_LITERAL(TMP197673, ".options.always", 15);
STRING_LITERAL(TMP197674, ".options.linker", 15);
STRING_LITERAL(TMP197675, ".path", 5);
STRING_LITERAL(TMP197725, ".cpp", 4);
STRING_LITERAL(TMP197726, ".m", 2);
STRING_LITERAL(TMP198831, ".debug", 6);
STRING_LITERAL(TMP198832, ".options.debug", 14);
STRING_LITERAL(TMP198833, ".speed", 6);
STRING_LITERAL(TMP198834, ".options.speed", 14);
STRING_LITERAL(TMP198835, ".size", 5);
STRING_LITERAL(TMP198836, ".options.size", 13);
STRING_LITERAL(TMP198837, ".always", 7);
STRING_LITERAL(TMP198838, ".exe", 4);
STRING_LITERAL(TMP198839, "exe", 3);
STRING_LITERAL(TMP198840, "file", 4);
STRING_LITERAL(TMP198841, "objfile", 7);
STRING_LITERAL(TMP198842, "options", 7);
STRING_LITERAL(TMP198843, "include", 7);
STRING_LITERAL(TMP198844, "nimrod", 6);
STRING_LITERAL(TMP198845, "lib", 3);
STRING_LITERAL(TMP198855, "[C_Files]\012", 10);
STRING_LITERAL(TMP198856, "--file:r\"$1\"$n", 14);
STRING_LITERAL(TMP198857, "[Symbols]$n$1", 13);
STRING_LITERAL(TMP198858, "mapping.txt", 11);
STRING_LITERAL(TMP198919, ".linkerexe", 10);
STRING_LITERAL(TMP198920, "builddll", 8);
STRING_LITERAL(TMP198921, "buildgui", 8);
STRING_LITERAL(TMP198922, "objfiles", 8);
STRING_LITERAL(TMP198923, "exefile", 7);
STRING_LITERAL(TMP198924, "compile_", 8);
STRING_LITERAL(TMP199567, "\012", 1);
NU8 Ccompiler_71340;
NimStringDesc* Cext_71342;
extern TY11196 Gch_11214;
TY44019 Tolink_71344;
extern TNimType* NTI44019; /* TLinkedList */
TY44019 Tocompile_71345;
TY44019 Externaltocompile_71346;
NimStringDesc* Linkoptions_71347;
NimStringDesc* Compileoptions_71348;
NimStringDesc* Ccompilerpath_71349;
NI Filecounter_71611;
extern NU32 Gglobaloptions_47084;
extern NU8 Targetos_52570;
extern NU8 Targetcpu_52568;
extern NU8 Gcmd_47089;
extern NU32 Goptions_47082;
extern NU8 Hostos_52571;
extern NimStringDesc* Libpath_47117;
extern NimStringDesc* Projectpath_47118;
extern TNimType* NTI39221; /* seq[string] */
extern NimStringDesc* Tnl_52581;
extern NI Gnumberofprocessors_47091;
extern NI Gverbosity_47090;
static N_INLINE(TY10802*, Usrtocell_11612)(void* Usr_11614) {
TY10802* Result_11615;
Result_11615 = 0;
Result_11615 = ((TY10802*) ((NI32)((NU32)(((NI) (Usr_11614))) - (NU32)(((NI) (((NI)sizeof(TY10802))))))));
return Result_11615;
}
static N_INLINE(NI, Atomicinc_3221)(NI* Memloc_3224, NI X_3225) {
NI Result_7807;
Result_7807 = 0;
(*Memloc_3224) += X_3225;
Result_7807 = (*Memloc_3224);
return Result_7807;
}
static N_INLINE(NI, Atomicdec_3226)(NI* Memloc_3229, NI X_3230) {
NI Result_8006;
Result_8006 = 0;
(*Memloc_3229) -= X_3230;
Result_8006 = (*Memloc_3229);
return Result_8006;
}
static N_INLINE(void, Rtladdzct_12601)(TY10802* C_12603) {
Addzct_11601(&Gch_11214.Zct, C_12603);
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13218, void* Src_13219) {
TY10802* C_13220;
NI LOC4;
TY10802* C_13222;
NI LOC9;
if (!!((Src_13219 == NIM_NIL))) goto LA2;
C_13220 = 0;
C_13220 = Usrtocell_11612(Src_13219);
LOC4 = Atomicinc_3221(&(*C_13220).Refcount, 8);
LA2: ;
if (!!(((*Dest_13218) == NIM_NIL))) goto LA6;
C_13222 = 0;
C_13222 = Usrtocell_11612((*Dest_13218));
LOC9 = Atomicdec_3226(&(*C_13222).Refcount, 8);
if (!((NU32)(LOC9) < (NU32)(8))) goto LA10;
Rtladdzct_12601(C_13222);
LA10: ;
LA6: ;
(*Dest_13218) = Src_13219;
}
N_NIMCALL(int, Footprint_71520)(NimStringDesc* Filename_71522) {
int Result_71523;
int LOC1;
int LOC2;
int LOC3;
Result_71523 = 0;
LOC1 = Crcfromfile_51029(Filename_71522);
LOC2 = HEX3EHEX3C_51092(LOC1, Os_52053[(Targetos_52570)-1].Name);
LOC3 = HEX3EHEX3C_51092(LOC2, Cpu_52461[(Targetcpu_52568)-1].Name);
Result_71523 = HEX3EHEX3C_51092(LOC3, Cc_71041[(Ccompiler_71340)-1].Name);
return Result_71523;
}
N_NIMCALL(NIM_BOOL, Externalfilechanged_71524)(NimStringDesc* Filename_71526) {
NIM_BOOL Result_71527;
NimStringDesc* Crcfile_71528;
NI Currentcrc_71529;
int LOC1;
FILE* F_71530;
NIM_BOOL LOC3;
NimStringDesc* Line_71532;
NIM_BOOL LOC7;
NI Oldcrc_71537;
NIM_BOOL LOC15;
NimStringDesc* LOC18;
Crcfile_71528 = 0;
Line_71532 = 0;
Result_71527 = 0;
Crcfile_71528 = NIM_NIL;
Crcfile_71528 = Togeneratedfile_47110(Filename_71526, ((NimStringDesc*) &TMP197648));
Currentcrc_71529 = 0;
LOC1 = Footprint_71520(Filename_71526);
Currentcrc_71529 = ((NI) (LOC1));
F_71530 = 0;
LOC3 = Open_3817(&F_71530, Crcfile_71528, ((NU8) 0), -1);
if (!LOC3) goto LA4;
Line_71532 = NIM_NIL;
Line_71532 = Readline_3887(F_71530);
LOC7 = Line_71532 == 0;
if (LOC7) goto LA8;
LOC7 = (Line_71532->Sup.len == 0);
LA8: ;
if (!LOC7) goto LA9;
Line_71532 = copyString(((NimStringDesc*) &TMP197650));
LA9: ;
fclose(F_71530);
Oldcrc_71537 = 0;
Oldcrc_71537 = nsuParseInt(Line_71532);
Result_71527 = !((Oldcrc_71537 == Currentcrc_71529));
goto LA2;
LA4: ;
Result_71527 = NIM_TRUE;
LA2: ;
if (!Result_71527) goto LA12;
LOC15 = Open_3817(&F_71530, Crcfile_71528, ((NU8) 1), -1);
if (!LOC15) goto LA16;
LOC18 = 0;
LOC18 = nimIntToStr(Currentcrc_71529);
Writeln_71546(F_71530, LOC18);
fclose(F_71530);
LA16: ;
LA12: ;
return Result_71527;
}
N_NIMCALL(void, Addexternalfiletocompile_71551)(NimStringDesc* Filename_71553) {
NIM_BOOL LOC2;
LOC2 = ((Gglobaloptions_47084 &(1<<((((NU8) 1))&31)))!=0);
if (LOC2) goto LA3;
LOC2 = Externalfilechanged_71524(Filename_71553);
LA3: ;
if (!LOC2) goto LA4;
Appendstr_44061(&Externaltocompile_71346, Filename_71553);
LA4: ;
}
N_NIMCALL(void, Addfiletolink_71566)(NimStringDesc* Filename_71568) {
Prependstr_44071(&Tolink_71344, Filename_71568);
}
N_NIMCALL(NimStringDesc*, Completecfilepath_71507)(NimStringDesc* Cfile_71509, NIM_BOOL Createsubdir_71510) {
NimStringDesc* Result_71511;
Result_71511 = 0;
Result_71511 = NIM_NIL;
Result_71511 = Completegeneratedfilepath_47106(Cfile_71509, Createsubdir_71510);
return Result_71511;
}
static N_INLINE(void, appendString)(NimStringDesc* Dest_18799, NimStringDesc* Src_18800) {
memcpy(((NCSTRING) (&(*Dest_18799).data[((*Dest_18799).Sup.len)-0])), ((NCSTRING) ((*Src_18800).data)), ((int) ((NI32)((NI32)((*Src_18800).Sup.len + 1) * 1))));
(*Dest_18799).Sup.len += (*Src_18800).Sup.len;
}
N_NIMCALL(void, Addopt_71443)(NimStringDesc** Dest_71446, NimStringDesc* Src_71447) {
NIM_BOOL LOC2;
LOC2 = ((*Dest_71446)->Sup.len == 0);
if (LOC2) goto LA3;
LOC2 = !(((NU8)((*Dest_71446)->data[(NI32)((NI32)((*Dest_71446)->Sup.len - 1) + 0)]) == (NU8)(32)));
LA3: ;
if (!LOC2) goto LA4;
(*Dest_71446) = resizeString((*Dest_71446), 1);
appendString((*Dest_71446), ((NimStringDesc*) &TMP197667));
LA4: ;
(*Dest_71446) = resizeString((*Dest_71446), Src_71447->Sup.len + 0);
appendString((*Dest_71446), Src_71447);
}
N_NIMCALL(void, Addcompileoption_71464)(NimStringDesc* Option_71466) {
NI LOC2;
LOC2 = nsuFindStr(Compileoptions_71348, Option_71466, 0);
if (!(LOC2 < 0)) goto LA3;
Addopt_71443(&Compileoptions_71348, Option_71466);
LA3: ;
}
N_NIMCALL(void, Addlinkoption_71456)(NimStringDesc* Option_71458) {
NI LOC2;
LOC2 = nsuFindStr(Linkoptions_71347, Option_71458, 0);
if (!(LOC2 < 0)) goto LA3;
Addopt_71443(&Linkoptions_71347, Option_71458);
LA3: ;
}
N_NIMCALL(NU8, Nametocc_71350)(NimStringDesc* Name_71352) {
NU8 Result_71353;
NU8 I_71393;
NU8 Res_71397;
NI LOC3;
Result_71353 = 0;
I_71393 = 0;
Res_71397 = 0;
Res_71397 = ((NU8) 1);
while (1) {
if (!(Res_71397 <= ((NU8) 12))) goto LA1;
I_71393 = Res_71397;
LOC3 = nsuCmpIgnoreStyle(Name_71352, Cc_71041[(I_71393)-1].Name);
if (!(LOC3 == 0)) goto LA4;
Result_71353 = I_71393;
goto BeforeRet;
LA4: ;
Res_71397 += 1;
} LA1: ;
Result_71353 = ((NU8) 0);
BeforeRet: ;
return Result_71353;
}
N_NIMCALL(void, Setcc_71398)(NimStringDesc* Ccname_71400) {
NimStringDesc* LOC4;
NimStringDesc* LOC5;
NimStringDesc* LOC6;
NU8 I_71440;
NU8 Res_71442;
Ccompiler_71340 = Nametocc_71350(Ccname_71400);
if (!(Ccompiler_71340 == ((NU8) 0))) goto LA2;
Rawmessage_49094(((NU8) 46), Ccname_71400);
LA2: ;
LOC4 = 0;
LOC4 = rawNewString(Cc_71041[(Ccompiler_71340)-1].Name->Sup.len + 15);
appendString(LOC4, Cc_71041[(Ccompiler_71340)-1].Name);
appendString(LOC4, ((NimStringDesc*) &TMP197673));
asgnRefNoCycle((void**) &Compileoptions_71348, Getconfigvar_47140(LOC4));
LOC5 = 0;
LOC5 = rawNewString(Cc_71041[(Ccompiler_71340)-1].Name->Sup.len + 15);
appendString(LOC5, Cc_71041[(Ccompiler_71340)-1].Name);
appendString(LOC5, ((NimStringDesc*) &TMP197674));
asgnRefNoCycle((void**) &Linkoptions_71347, Getconfigvar_47140(LOC5));
LOC6 = 0;
LOC6 = rawNewString(Cc_71041[(Ccompiler_71340)-1].Name->Sup.len + 5);
appendString(LOC6, Cc_71041[(Ccompiler_71340)-1].Name);
appendString(LOC6, ((NimStringDesc*) &TMP197675));
asgnRefNoCycle((void**) &Ccompilerpath_71349, Getconfigvar_47140(LOC6));
I_71440 = 0;
Res_71442 = 0;
Res_71442 = ((NU8) 1);
while (1) {
if (!(Res_71442 <= ((NU8) 12))) goto LA7;
I_71440 = Res_71442;
Undefsymbol_65056(Cc_71041[(I_71440)-1].Name);
Res_71442 += 1;
} LA7: ;
Definesymbol_65053(Cc_71041[(Ccompiler_71340)-1].Name);
}
N_NIMCALL(void, Initvars_71472)(void) {
NU8 I_71482;
NU8 Res_71506;
NimStringDesc* LOC7;
NimStringDesc* LOC8;
NimStringDesc* LOC9;
NimStringDesc* LOC10;
NimStringDesc* LOC14;
I_71482 = 0;
Res_71506 = 0;
Res_71506 = ((NU8) 1);
while (1) {
if (!(Res_71506 <= ((NU8) 12))) goto LA1;
I_71482 = Res_71506;
Undefsymbol_65056(Cc_71041[(I_71482)-1].Name);
Res_71506 += 1;
} LA1: ;
Definesymbol_65053(Cc_71041[(Ccompiler_71340)-1].Name);
if (!(Gcmd_47089 == ((NU8) 2))) goto LA3;
asgnRefNoCycle((void**) &Cext_71342, copyString(((NimStringDesc*) &TMP197725)));
goto LA2;
LA3: ;
if (!(Gcmd_47089 == ((NU8) 3))) goto LA5;
asgnRefNoCycle((void**) &Cext_71342, copyString(((NimStringDesc*) &TMP197726)));
goto LA2;
LA5: ;
LA2: ;
LOC7 = 0;
LOC7 = rawNewString(Cc_71041[(Ccompiler_71340)-1].Name->Sup.len + 15);
appendString(LOC7, Cc_71041[(Ccompiler_71340)-1].Name);
appendString(LOC7, ((NimStringDesc*) &TMP197673));
LOC8 = 0;
LOC8 = Getconfigvar_47140(LOC7);
Addcompileoption_71464(LOC8);
LOC9 = 0;
LOC9 = rawNewString(Cc_71041[(Ccompiler_71340)-1].Name->Sup.len + 15);
appendString(LOC9, Cc_71041[(Ccompiler_71340)-1].Name);
appendString(LOC9, ((NimStringDesc*) &TMP197674));
LOC10 = 0;
LOC10 = Getconfigvar_47140(LOC9);
Addlinkoption_71456(LOC10);
if (!(Ccompilerpath_71349->Sup.len == 0)) goto LA12;
LOC14 = 0;
LOC14 = rawNewString(Cc_71041[(Ccompiler_71340)-1].Name->Sup.len + 5);
appendString(LOC14, Cc_71041[(Ccompiler_71340)-1].Name);
appendString(LOC14, ((NimStringDesc*) &TMP197675));
asgnRefNoCycle((void**) &Ccompilerpath_71349, Getconfigvar_47140(LOC14));
LA12: ;
}
N_NIMCALL(NimStringDesc*, Getdebug_71601)(NU8 C_71603) {
NimStringDesc* Result_71604;
NimStringDesc* LOC1;
Result_71604 = 0;
Result_71604 = NIM_NIL;
LOC1 = 0;
LOC1 = rawNewString(Cc_71041[(C_71603)-1].Name->Sup.len + 14);
appendString(LOC1, Cc_71041[(C_71603)-1].Name);
appendString(LOC1, ((NimStringDesc*) &TMP198832));
Result_71604 = Getconfigvar_47140(LOC1);
if (!((Result_71604) && (Result_71604)->Sup.len == 0)) goto LA3;
Result_71604 = copyString(Cc_71041[(C_71603)-1].Debug);
LA3: ;
return Result_71604;
}
N_NIMCALL(NimStringDesc*, Getoptspeed_71597)(NU8 C_71599) {
NimStringDesc* Result_71600;
NimStringDesc* LOC1;
Result_71600 = 0;
Result_71600 = NIM_NIL;
LOC1 = 0;
LOC1 = rawNewString(Cc_71041[(C_71599)-1].Name->Sup.len + 14);
appendString(LOC1, Cc_71041[(C_71599)-1].Name);
appendString(LOC1, ((NimStringDesc*) &TMP198834));
Result_71600 = Getconfigvar_47140(LOC1);
if (!((Result_71600) && (Result_71600)->Sup.len == 0)) goto LA3;
Result_71600 = copyString(Cc_71041[(C_71599)-1].Optspeed);
LA3: ;
return Result_71600;
}
N_NIMCALL(NimStringDesc*, Getoptsize_71605)(NU8 C_71607) {
NimStringDesc* Result_71608;
NimStringDesc* LOC1;
Result_71608 = 0;
Result_71608 = NIM_NIL;
LOC1 = 0;
LOC1 = rawNewString(Cc_71041[(C_71607)-1].Name->Sup.len + 13);
appendString(LOC1, Cc_71041[(C_71607)-1].Name);
appendString(LOC1, ((NimStringDesc*) &TMP198836));
Result_71608 = Getconfigvar_47140(LOC1);
if (!((Result_71608) && (Result_71608)->Sup.len == 0)) goto LA3;
Result_71608 = copyString(Cc_71041[(C_71607)-1].Optsize);
LA3: ;
return Result_71608;
}
static N_INLINE(void, appendChar)(NimStringDesc* Dest_18816, NIM_CHAR C_18817) {
(*Dest_18816).data[((*Dest_18816).Sup.len)-0] = C_18817;
(*Dest_18816).data[((NI32)((*Dest_18816).Sup.len + 1))-0] = 0;
(*Dest_18816).Sup.len += 1;
}
N_NIMCALL(NimStringDesc*, Toobjfile_71512)(NimStringDesc* Filenamewithoutext_71514) {
NimStringDesc* Result_71515;
Result_71515 = 0;
Result_71515 = NIM_NIL;
Result_71515 = nosChangeFileExt(Filenamewithoutext_71514, Cc_71041[(Ccompiler_71340)-1].Objext);
return Result_71515;
}
N_NIMCALL(NimStringDesc*, Getcompilecfilecmd_71612)(NimStringDesc* Cfilename_71614, NIM_BOOL Isexternal_71615) {
NimStringDesc* Result_71616;
NimStringDesc* Cfile_71617;
NimStringDesc* Objfile_71618;
NimStringDesc* Options_71619;
NimStringDesc* Includecmd_71620;
NimStringDesc* Compilepattern_71621;
NimStringDesc* Key_71622;
NimStringDesc* Trunk_71623;
NimStringDesc* Exe_71624;
NU8 C_71625;
TY38661 LOC1;
NimStringDesc* LOC5;
NIM_BOOL LOC7;
NimStringDesc* LOC10;
NimStringDesc* LOC11;
NimStringDesc* LOC15;
NIM_BOOL LOC17;
NimStringDesc* LOC20;
NimStringDesc* LOC21;
NimStringDesc* LOC24;
NIM_BOOL LOC26;
NimStringDesc* LOC29;
NimStringDesc* LOC30;
NimStringDesc* LOC31;
NIM_BOOL LOC33;
NimStringDesc* LOC36;
NimStringDesc* LOC37;
NIM_BOOL LOC39;
NIM_BOOL LOC46;
NimStringDesc* LOC50;
NimStringDesc* LOC54;
NIM_BOOL LOC59;
NimStringDesc* LOC63;
NimStringDesc* LOC64;
TY71726 LOC65;
NimStringDesc* LOC66;
TY71726 LOC67;
NimStringDesc* LOC68;
Result_71616 = 0;
Cfile_71617 = 0;
Objfile_71618 = 0;
Options_71619 = 0;
Includecmd_71620 = 0;
Compilepattern_71621 = 0;
Key_71622 = 0;
Trunk_71623 = 0;
Exe_71624 = 0;
Result_71616 = NIM_NIL;
Cfile_71617 = NIM_NIL;
Objfile_71618 = NIM_NIL;
Options_71619 = NIM_NIL;
Includecmd_71620 = NIM_NIL;
Compilepattern_71621 = NIM_NIL;
Key_71622 = NIM_NIL;
Trunk_71623 = NIM_NIL;
Exe_71624 = NIM_NIL;
C_71625 = 0;
C_71625 = Ccompiler_71340;
Options_71619 = copyString(Compileoptions_71348);
memset((void*)&LOC1, 0, sizeof(LOC1));
nossplitFile(Cfilename_71614, &LOC1);
Trunk_71623 = copyString(LOC1.Name);
if (!((Gglobaloptions_47084 &(1<<((((NU8) 9))&31)))!=0)) goto LA3;
LOC5 = 0;
LOC5 = rawNewString(Trunk_71623->Sup.len + 6);
appendString(LOC5, Trunk_71623);
appendString(LOC5, ((NimStringDesc*) &TMP198831));
Key_71622 = LOC5;
LOC7 = Existsconfigvar_47137(Key_71622);
if (!LOC7) goto LA8;
LOC10 = 0;
LOC10 = Getconfigvar_47140(Key_71622);
Addopt_71443(&Options_71619, LOC10);
goto LA6;
LA8: ;
LOC11 = 0;
LOC11 = Getdebug_71601(C_71625);
Addopt_71443(&Options_71619, LOC11);
LA6: ;
LA3: ;
if (!((Goptions_47082 &(1<<((((NU8) 13))&31)))!=0)) goto LA13;
LOC15 = 0;
LOC15 = rawNewString(Trunk_71623->Sup.len + 6);
appendString(LOC15, Trunk_71623);
appendString(LOC15, ((NimStringDesc*) &TMP198833));
Key_71622 = LOC15;
LOC17 = Existsconfigvar_47137(Key_71622);
if (!LOC17) goto LA18;
LOC20 = 0;
LOC20 = Getconfigvar_47140(Key_71622);
Addopt_71443(&Options_71619, LOC20);
goto LA16;
LA18: ;
LOC21 = 0;
LOC21 = Getoptspeed_71597(C_71625);
Addopt_71443(&Options_71619, LOC21);
LA16: ;
goto LA12;
LA13: ;
if (!((Goptions_47082 &(1<<((((NU8) 14))&31)))!=0)) goto LA22;
LOC24 = 0;
LOC24 = rawNewString(Trunk_71623->Sup.len + 5);
appendString(LOC24, Trunk_71623);
appendString(LOC24, ((NimStringDesc*) &TMP198835));
Key_71622 = LOC24;
LOC26 = Existsconfigvar_47137(Key_71622);
if (!LOC26) goto LA27;
LOC29 = 0;
LOC29 = Getconfigvar_47140(Key_71622);
Addopt_71443(&Options_71619, LOC29);
goto LA25;
LA27: ;
LOC30 = 0;
LOC30 = Getoptsize_71605(C_71625);
Addopt_71443(&Options_71619, LOC30);
LA25: ;
goto LA12;
LA22: ;
LA12: ;
LOC31 = 0;
LOC31 = rawNewString(Trunk_71623->Sup.len + 7);
appendString(LOC31, Trunk_71623);
appendString(LOC31, ((NimStringDesc*) &TMP198837));
Key_71622 = LOC31;
LOC33 = Existsconfigvar_47137(Key_71622);
if (!LOC33) goto LA34;
LOC36 = 0;
LOC36 = Getconfigvar_47140(Key_71622);
Addopt_71443(&Options_71619, LOC36);
LA34: ;
Exe_71624 = copyString(Cc_71041[(C_71625)-1].Compilerexe);
LOC37 = 0;
LOC37 = rawNewString(Cc_71041[(C_71625)-1].Name->Sup.len + 4);
appendString(LOC37, Cc_71041[(C_71625)-1].Name);
appendString(LOC37, ((NimStringDesc*) &TMP198838));
Key_71622 = LOC37;
LOC39 = Existsconfigvar_47137(Key_71622);
if (!LOC39) goto LA40;
Exe_71624 = Getconfigvar_47140(Key_71622);
LA40: ;
if (!(Targetos_52570 == ((NU8) 2))) goto LA43;
Exe_71624 = nosaddFileExt(Exe_71624, ((NimStringDesc*) &TMP198839));
LA43: ;
LOC46 = ((Gglobaloptions_47084 &(1<<((((NU8) 10))&31)))!=0);
if (!(LOC46)) goto LA47;
LOC46 = ((Os_52053[(Targetos_52570)-1].Props &(1<<((((NU8) 0))&7)))!=0);
LA47: ;
if (!LOC46) goto LA48;
LOC50 = 0;
LOC50 = rawNewString(Cc_71041[(C_71625)-1].Pic->Sup.len + 1);
appendChar(LOC50, 32);
appendString(LOC50, Cc_71041[(C_71625)-1].Pic);
Options_71619 = resizeString(Options_71619, LOC50->Sup.len + 0);
appendString(Options_71619, LOC50);
LA48: ;
if (!(Targetos_52570 == Hostos_52571)) goto LA52;
Includecmd_71620 = copyString(Cc_71041[(C_71625)-1].Includecmd);
LOC54 = 0;
LOC54 = Quoteifcontainswhite_26268(Libpath_47117);
Includecmd_71620 = resizeString(Includecmd_71620, LOC54->Sup.len + 0);
appendString(Includecmd_71620, LOC54);
Compilepattern_71621 = nosJoinPath(Ccompilerpath_71349, Exe_71624);
goto LA51;
LA52: ;
Includecmd_71620 = copyString(((NimStringDesc*) &TMP71271));
Compilepattern_71621 = copyString(Cc_71041[(C_71625)-1].Compilerexe);
LA51: ;
if (!(Targetos_52570 == Hostos_52571)) goto LA56;
Cfile_71617 = copyString(Cfilename_71614);
goto LA55;
LA56: ;
Cfile_71617 = nosextractFilename(Cfilename_71614);
LA55: ;
LOC59 = !(Isexternal_71615);
if (LOC59) goto LA60;
LOC59 = !((Targetos_52570 == Hostos_52571));
LA60: ;
if (!LOC59) goto LA61;
Objfile_71618 = Toobjfile_71512(Cfile_71617);
goto LA58;
LA61: ;
LOC63 = 0;
LOC63 = Toobjfile_71512(Cfile_71617);
Objfile_71618 = Completecfilepath_71507(LOC63, NIM_TRUE);
LA58: ;
LOC64 = 0;
LOC64 = nosaddFileExt(Cfile_71617, Cext_71342);
Cfile_71617 = Quoteifcontainswhite_26268(LOC64);
Objfile_71618 = Quoteifcontainswhite_26268(Objfile_71618);
memset((void*)&LOC65, 0, sizeof(LOC65));
LOC65[0] = copyString(((NimStringDesc*) &TMP198840));
LOC65[1] = copyString(Cfile_71617);
LOC65[2] = copyString(((NimStringDesc*) &TMP198841));
LOC65[3] = copyString(Objfile_71618);
LOC65[4] = copyString(((NimStringDesc*) &TMP198842));
LOC65[5] = copyString(Options_71619);
LOC65[6] = copyString(((NimStringDesc*) &TMP198843));
LOC65[7] = copyString(Includecmd_71620);
LOC65[8] = copyString(((NimStringDesc*) &TMP198844));
LOC65[9] = Getprefixdir_47114();
LOC65[10] = copyString(((NimStringDesc*) &TMP198845));
LOC65[11] = copyString(Libpath_47117);
LOC66 = 0;
LOC66 = nsuFormatOpenArray(Compilepattern_71621, LOC65, 12);
Result_71616 = Quoteifcontainswhite_26268(LOC66);
Result_71616 = addChar(Result_71616, 32);
memset((void*)&LOC67, 0, sizeof(LOC67));
LOC67[0] = copyString(((NimStringDesc*) &TMP198840));
LOC67[1] = copyString(Cfile_71617);
LOC67[2] = copyString(((NimStringDesc*) &TMP198841));
LOC67[3] = copyString(Objfile_71618);
LOC67[4] = copyString(((NimStringDesc*) &TMP198842));
LOC67[5] = copyString(Options_71619);
LOC67[6] = copyString(((NimStringDesc*) &TMP198843));
LOC67[7] = copyString(Includecmd_71620);
LOC67[8] = copyString(((NimStringDesc*) &TMP198844));
LOC68 = 0;
LOC68 = Getprefixdir_47114();
LOC67[9] = Quoteifcontainswhite_26268(LOC68);
LOC67[10] = copyString(((NimStringDesc*) &TMP198845));
LOC67[11] = Quoteifcontainswhite_26268(Libpath_47117);
nsuAddf(&Result_71616, Cc_71041[(C_71625)-1].Compiletmpl, LOC67, 12);
return Result_71616;
}
N_NIMCALL(void, Addfiletocompile_71516)(NimStringDesc* Filename_71518) {
Appendstr_44061(&Tocompile_71345, Filename_71518);
}
N_NIMCALL(TY53008*, Genmappingfiles_72053)(TY44019* List_72055) {
TY53008* Result_72056;
TY44015* It_72057;
TY53407 LOC2;
NimStringDesc* LOC3;
Result_72056 = 0;
It_72057 = 0;
Result_72056 = NIM_NIL;
It_72057 = NIM_NIL;
It_72057 = ((TY44015*) ((*List_72055).Head));
while (1) {
if (!!((It_72057 == NIM_NIL))) goto LA1;
memset((void*)&LOC2, 0, sizeof(LOC2));
LOC3 = 0;
LOC3 = nosaddFileExt((*It_72057).Data, Cext_71342);
LOC2[0] = Torope_53046(LOC3);
Appf_53071(&Result_72056, ((NimStringDesc*) &TMP198856), LOC2, 1);
It_72057 = ((TY44015*) ((*It_72057).Sup.Next));
} LA1: ;
return Result_72056;
}
N_NIMCALL(void, Writemapping_72074)(TY53008* Gsymbolmapping_72076) {
TY53008* Code_72088;
TY53008* LOC4;
TY53008* LOC5;
TY53407 LOC6;
NimStringDesc* LOC7;
Code_72088 = 0;
if (!!(((Gglobaloptions_47084 &(1<<((((NU8) 13))&31)))!=0))) goto LA2;
goto BeforeRet;
LA2: ;
Code_72088 = NIM_NIL;
Code_72088 = Torope_53046(((NimStringDesc*) &TMP198855));
LOC4 = 0;
LOC4 = Genmappingfiles_72053(&Tocompile_71345);
App_53031(&Code_72088, LOC4);
LOC5 = 0;
LOC5 = Genmappingfiles_72053(&Externaltocompile_71346);
App_53031(&Code_72088, LOC5);
memset((void*)&LOC6, 0, sizeof(LOC6));
LOC6[0] = Gsymbolmapping_72076;
Appf_53071(&Code_72088, ((NimStringDesc*) &TMP198857), LOC6, 1);
LOC7 = 0;
LOC7 = nosJoinPath(Projectpath_47118, ((NimStringDesc*) &TMP198858));
Writerope_53055(Code_72088, LOC7);
BeforeRet: ;
}
N_NIMCALL(void, Compilecfile_71733)(TY44019* List_71735, TY53008** Script_71737, TY39221** Cmds_71739, NIM_BOOL Isexternal_71740) {
TY44015* It_71741;
NimStringDesc* Compilecmd_71765;
It_71741 = 0;
Compilecmd_71765 = 0;
It_71741 = NIM_NIL;
It_71741 = ((TY44015*) ((*List_71735).Head));
while (1) {
if (!!((It_71741 == NIM_NIL))) goto LA1;
Filecounter_71611 += 1;
Compilecmd_71765 = NIM_NIL;
Compilecmd_71765 = Getcompilecfilecmd_71612((*It_71741).Data, Isexternal_71740);
if (!!(((Gglobaloptions_47084 &(1<<((((NU8) 6))&31)))!=0))) goto LA3;
(*Cmds_71739) = (TY39221*) incrSeq(&((*Cmds_71739))->Sup, sizeof(NimStringDesc*));
asgnRefNoCycle((void**) &(*Cmds_71739)->data[(*Cmds_71739)->Sup.len-1], copyString(Compilecmd_71765));
LA3: ;
if (!((Gglobaloptions_47084 &(1<<((((NU8) 12))&31)))!=0)) goto LA6;
App_53036(Script_71737, Compilecmd_71765);
App_53036(Script_71737, Tnl_52581);
LA6: ;
It_71741 = ((TY44015*) ((*It_71741).Sup.Next));
} LA1: ;
}
N_NIMCALL(void, Execexternalprogram_71570)(NimStringDesc* Cmd_71572) {
NIM_BOOL LOC2;
NI LOC7;
LOC2 = ((Gglobaloptions_47084 &(1<<((((NU8) 5))&31)))!=0);
if (LOC2) goto LA3;
LOC2 = (0 < Gverbosity_47090);
LA3: ;
if (!LOC2) goto LA4;
Msgwriteln_48794(Cmd_71572);
LA4: ;
LOC7 = nospexecCmd(Cmd_71572);
if (!!((LOC7 == 0))) goto LA8;
Rawmessage_49094(((NU8) 62), ((NimStringDesc*) &TMP71271));
LA8: ;
}
N_NIMCALL(void, Generatescript_71590)(NimStringDesc* Projectfile_71592, TY53008* Script_71593) {
TY38661 LOC1;
NimStringDesc* Dir_71594;
NimStringDesc* Name_71595;
NimStringDesc* Ext_71596;
NimStringDesc* LOC2;
NimStringDesc* LOC3;
NimStringDesc* LOC4;
Dir_71594 = 0;
Name_71595 = 0;
Ext_71596 = 0;
memset((void*)&LOC1, 0, sizeof(LOC1));
nossplitFile(Projectfile_71592, &LOC1);
Dir_71594 = NIM_NIL;
Dir_71594 = copyString(LOC1.Dir);
Name_71595 = NIM_NIL;
Name_71595 = copyString(LOC1.Name);
Ext_71596 = NIM_NIL;
Ext_71596 = copyString(LOC1.Ext);
LOC2 = 0;
LOC2 = rawNewString(Name_71595->Sup.len + 8);
appendString(LOC2, ((NimStringDesc*) &TMP198924));
appendString(LOC2, Name_71595);
LOC3 = 0;
LOC3 = nosaddFileExt(LOC2, Os_52053[(Targetos_52570)-1].Scriptext);
LOC4 = 0;
LOC4 = HEX2F_38480(Dir_71594, LOC3);
Writerope_53055(Script_71593, LOC4);
}
N_NIMCALL(void, Callccompiler_71806)(NimStringDesc* Projectfile_71808) {
NimStringDesc* Linkcmd_71809;
NimStringDesc* Buildgui_71810;
NimStringDesc* Builddll_71811;
NU8 C_71833;
TY53008* Script_71834;
TY39221* Cmds_71851;
NI Res_71869;
NI I_71895;
NI HEX3Atmp_72050;
NI Res_72052;
NI LOC14;
NIM_BOOL LOC15;
TY47337 LOC22;
NimStringDesc* Linkerexe_71936;
NimStringDesc* LOC26;
NimStringDesc* LOC36;
NimStringDesc* Exefile_71970;
TY48843 LOC43;
TY38661 LOC44;
NimStringDesc* LOC45;
TY38661 LOC46;
TY38661 LOC50;
TY44015* It_71995;
NimStringDesc* Objfiles_71996;
NimStringDesc* LOC55;
NimStringDesc* LOC56;
NimStringDesc* LOC57;
NimStringDesc* LOC58;
TY72019 LOC59;
NimStringDesc* LOC60;
TY72019 LOC61;
NimStringDesc* LOC62;
Linkcmd_71809 = 0;
Buildgui_71810 = 0;
Builddll_71811 = 0;
Script_71834 = 0;
Cmds_71851 = 0;
Linkerexe_71936 = 0;
Exefile_71970 = 0;
It_71995 = 0;
Objfiles_71996 = 0;
Linkcmd_71809 = NIM_NIL;
Buildgui_71810 = NIM_NIL;
Builddll_71811 = NIM_NIL;
if (!((Gglobaloptions_47084 & 4160) == 64)) goto LA2;
goto BeforeRet;
LA2: ;
Filecounter_71611 = 0;
C_71833 = 0;
C_71833 = Ccompiler_71340;
Script_71834 = NIM_NIL;
Script_71834 = NIM_NIL;
Cmds_71851 = NIM_NIL;
Cmds_71851 = (TY39221*) newSeq(NTI39221, 0);
Compilecfile_71733(&Tocompile_71345, &Script_71834, &Cmds_71851, NIM_FALSE);
Compilecfile_71733(&Externaltocompile_71346, &Script_71834, &Cmds_71851, NIM_TRUE);
if (!!(((Gglobaloptions_47084 &(1<<((((NU8) 6))&31)))!=0))) goto LA5;
if (!(Gnumberofprocessors_47091 == 0)) goto LA8;
Gnumberofprocessors_47091 = nospcountProcessors();
LA8: ;
Res_71869 = 0;
Res_71869 = 0;
if (!(Gnumberofprocessors_47091 <= 1)) goto LA11;
I_71895 = 0;
HEX3Atmp_72050 = 0;
HEX3Atmp_72050 = (Cmds_71851->Sup.len-1);
Res_72052 = 0;
Res_72052 = 0;
while (1) {
if (!(Res_72052 <= HEX3Atmp_72050)) goto LA13;
I_71895 = Res_72052;
LOC14 = nospexecCmd(Cmds_71851->data[I_71895]);
Res_71869 = ((LOC14 >= Res_71869) ? LOC14 : Res_71869);
Res_72052 += 1;
} LA13: ;
goto LA10;
LA11: ;
LOC15 = ((Gglobaloptions_47084 &(1<<((((NU8) 5))&31)))!=0);
if (LOC15) goto LA16;
LOC15 = (0 < Gverbosity_47090);
LA16: ;
if (!LOC15) goto LA17;
Res_71869 = nospexecProcesses(Cmds_71851->data, Cmds_71851->Sup.len, 11, Gnumberofprocessors_47091);
goto LA10;
LA17: ;
Res_71869 = nospexecProcesses(Cmds_71851->data, Cmds_71851->Sup.len, 10, Gnumberofprocessors_47091);
LA10: ;
if (!!((Res_71869 == 0))) goto LA20;
memset((void*)&LOC22, 0, sizeof(LOC22));
Rawmessage_49020(((NU8) 62), LOC22, 0);
LA20: ;
LA5: ;
if (!!(((Gglobaloptions_47084 &(1<<((((NU8) 7))&31)))!=0))) goto LA24;
Linkerexe_71936 = NIM_NIL;
LOC26 = 0;
LOC26 = rawNewString(Cc_71041[(C_71833)-1].Name->Sup.len + 10);
appendString(LOC26, Cc_71041[(C_71833)-1].Name);
appendString(LOC26, ((NimStringDesc*) &TMP198919));
Linkerexe_71936 = Getconfigvar_47140(LOC26);
if (!(Linkerexe_71936->Sup.len == 0)) goto LA28;
Linkerexe_71936 = copyString(Cc_71041[(C_71833)-1].Linkerexe);
LA28: ;
if (!(Targetos_52570 == ((NU8) 2))) goto LA31;
Linkerexe_71936 = nosaddFileExt(Linkerexe_71936, ((NimStringDesc*) &TMP198839));
LA31: ;
if (!!((Hostos_52571 == Targetos_52570))) goto LA34;
Linkcmd_71809 = Quoteifcontainswhite_26268(Linkerexe_71936);
goto LA33;
LA34: ;
LOC36 = 0;
LOC36 = nosJoinPath(Ccompilerpath_71349, Linkerexe_71936);
Linkcmd_71809 = Quoteifcontainswhite_26268(LOC36);
LA33: ;
if (!((Gglobaloptions_47084 &(1<<((((NU8) 11))&31)))!=0)) goto LA38;
Buildgui_71810 = copyString(Cc_71041[(C_71833)-1].Buildgui);
goto LA37;
LA38: ;
Buildgui_71810 = copyString(((NimStringDesc*) &TMP71271));
LA37: ;
Exefile_71970 = NIM_NIL;
if (!((Gglobaloptions_47084 &(1<<((((NU8) 10))&31)))!=0)) goto LA41;
memset((void*)&LOC43, 0, sizeof(LOC43));
memset((void*)&LOC44, 0, sizeof(LOC44));
nossplitFile(Projectfile_71808, &LOC44);
LOC43[0] = copyString(LOC44.Name);
Exefile_71970 = nsuFormatOpenArray(Os_52053[(Targetos_52570)-1].Dllfrmt, LOC43, 1);
Builddll_71811 = copyString(Cc_71041[(C_71833)-1].Builddll);
goto LA40;
LA41: ;
LOC45 = 0;
memset((void*)&LOC46, 0, sizeof(LOC46));
nossplitFile(Projectfile_71808, &LOC46);
LOC45 = rawNewString(LOC46.Name->Sup.len + Os_52053[(Targetos_52570)-1].Exeext->Sup.len + 0);
appendString(LOC45, LOC46.Name);
appendString(LOC45, Os_52053[(Targetos_52570)-1].Exeext);
Exefile_71970 = LOC45;
Builddll_71811 = copyString(((NimStringDesc*) &TMP71271));
LA40: ;
if (!(Targetos_52570 == Hostos_52571)) goto LA48;
memset((void*)&LOC50, 0, sizeof(LOC50));
nossplitFile(Projectfile_71808, &LOC50);
Exefile_71970 = nosJoinPath(LOC50.Dir, Exefile_71970);
LA48: ;
Exefile_71970 = Quoteifcontainswhite_26268(Exefile_71970);
It_71995 = NIM_NIL;
It_71995 = ((TY44015*) (Tolink_71344.Head));
Objfiles_71996 = NIM_NIL;
Objfiles_71996 = copyString(((NimStringDesc*) &TMP71271));
while (1) {
if (!!((It_71995 == NIM_NIL))) goto LA51;
Objfiles_71996 = addChar(Objfiles_71996, 32);
if (!(Targetos_52570 == Hostos_52571)) goto LA53;
LOC55 = 0;
LOC55 = nosaddFileExt((*It_71995).Data, Cc_71041[(Ccompiler_71340)-1].Objext);
LOC56 = 0;
LOC56 = Quoteifcontainswhite_26268(LOC55);
Objfiles_71996 = resizeString(Objfiles_71996, LOC56->Sup.len + 0);
appendString(Objfiles_71996, LOC56);
goto LA52;
LA53: ;
LOC57 = 0;
LOC57 = nosaddFileExt((*It_71995).Data, Cc_71041[(Ccompiler_71340)-1].Objext);
LOC58 = 0;
LOC58 = Quoteifcontainswhite_26268(LOC57);
Objfiles_71996 = resizeString(Objfiles_71996, LOC58->Sup.len + 0);
appendString(Objfiles_71996, LOC58);
LA52: ;
It_71995 = ((TY44015*) ((*It_71995).Sup.Next));
} LA51: ;
memset((void*)&LOC59, 0, sizeof(LOC59));
LOC59[0] = copyString(((NimStringDesc*) &TMP198920));
LOC59[1] = copyString(Builddll_71811);
LOC59[2] = copyString(((NimStringDesc*) &TMP198921));
LOC59[3] = copyString(Buildgui_71810);
LOC59[4] = copyString(((NimStringDesc*) &TMP198842));
LOC59[5] = copyString(Linkoptions_71347);
LOC59[6] = copyString(((NimStringDesc*) &TMP198922));
LOC59[7] = copyString(Objfiles_71996);
LOC59[8] = copyString(((NimStringDesc*) &TMP198923));
LOC59[9] = copyString(Exefile_71970);
LOC59[10] = copyString(((NimStringDesc*) &TMP198844));
LOC59[11] = Getprefixdir_47114();
LOC59[12] = copyString(((NimStringDesc*) &TMP198845));
LOC59[13] = copyString(Libpath_47117);
LOC60 = 0;
LOC60 = nsuFormatOpenArray(Linkcmd_71809, LOC59, 14);
Linkcmd_71809 = Quoteifcontainswhite_26268(LOC60);
Linkcmd_71809 = addChar(Linkcmd_71809, 32);
memset((void*)&LOC61, 0, sizeof(LOC61));
LOC61[0] = copyString(((NimStringDesc*) &TMP198920));
LOC61[1] = copyString(Builddll_71811);
LOC61[2] = copyString(((NimStringDesc*) &TMP198921));
LOC61[3] = copyString(Buildgui_71810);
LOC61[4] = copyString(((NimStringDesc*) &TMP198842));
LOC61[5] = copyString(Linkoptions_71347);
LOC61[6] = copyString(((NimStringDesc*) &TMP198922));
LOC61[7] = copyString(Objfiles_71996);
LOC61[8] = copyString(((NimStringDesc*) &TMP198923));
LOC61[9] = copyString(Exefile_71970);
LOC61[10] = copyString(((NimStringDesc*) &TMP198844));
LOC62 = 0;
LOC62 = Getprefixdir_47114();
LOC61[11] = Quoteifcontainswhite_26268(LOC62);
LOC61[12] = copyString(((NimStringDesc*) &TMP198845));
LOC61[13] = Quoteifcontainswhite_26268(Libpath_47117);
nsuAddf(&Linkcmd_71809, Cc_71041[(C_71833)-1].Linktmpl, LOC61, 14);
if (!!(((Gglobaloptions_47084 &(1<<((((NU8) 6))&31)))!=0))) goto LA64;
Execexternalprogram_71570(Linkcmd_71809);
LA64: ;
goto LA23;
LA24: ;
Linkcmd_71809 = copyString(((NimStringDesc*) &TMP71271));
LA23: ;
if (!((Gglobaloptions_47084 &(1<<((((NU8) 12))&31)))!=0)) goto LA67;
App_53036(&Script_71834, Linkcmd_71809);
App_53036(&Script_71834, Tnl_52581);
Generatescript_71590(Projectfile_71808, Script_71834);
LA67: ;
BeforeRet: ;
}
static N_INLINE(void, Writeln_71546)(FILE* F_71549, NimStringDesc* X_71550) {
Write_3866(F_71549, X_71550);
Write_3866(F_71549, ((NimStringDesc*) &TMP199567));
}
N_NOINLINE(void, extccompInit)(void) {
Tolink_71344.m_type = NTI44019;
Tocompile_71345.m_type = NTI44019;
Externaltocompile_71346.m_type = NTI44019;
Ccompiler_71340 = ((NU8) 1);
asgnRefNoCycle((void**) &Cext_71342, copyString(((NimStringDesc*) &TMP71343)));
asgnRefNoCycle((void**) &Linkoptions_71347, copyString(((NimStringDesc*) &TMP71271)));
asgnRefNoCycle((void**) &Compileoptions_71348, copyString(((NimStringDesc*) &TMP71271)));
asgnRefNoCycle((void**) &Ccompilerpath_71349, copyString(((NimStringDesc*) &TMP71271)));
}

