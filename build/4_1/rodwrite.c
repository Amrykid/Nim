/* Generated by Nimrod Compiler v0.8.11 */
/*   (c) 2011 Andreas Rumpf */

typedef long int NI;
typedef unsigned long int NU;
#include "nimbase.h"

typedef struct TY56895 TY56895;
typedef struct TY56891 TY56891;
typedef struct TY56893 TY56893;
typedef struct TGenericSeq TGenericSeq;
typedef struct TY106006 TY106006;
typedef struct TY106002 TY106002;
typedef struct TY56548 TY56548;
typedef struct NimStringDesc NimStringDesc;
typedef struct TY94031 TY94031;
typedef struct TY56526 TY56526;
typedef struct TY55005 TY55005;
typedef struct TNimObject TNimObject;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct TY56552 TY56552;
typedef struct TY55011 TY55011;
typedef struct TY48538 TY48538;
typedef struct TY56530 TY56530;
typedef struct TY56528 TY56528;
typedef struct TY56540 TY56540;
typedef struct TY53008 TY53008;
typedef struct TY56544 TY56544;
typedef struct TY112004 TY112004;
typedef struct TY94029 TY94029;
typedef struct TY61215 TY61215;
typedef struct TY61213 TY61213;
typedef struct TY61211 TY61211;
typedef struct TY56550 TY56550;
typedef struct TY39221 TY39221;
typedef struct TY10802 TY10802;
typedef struct TY10814 TY10814;
typedef struct TY11196 TY11196;
typedef struct TY10818 TY10818;
typedef struct TY10810 TY10810;
typedef struct TY11194 TY11194;
typedef struct TY61071 TY61071;
typedef struct TY56520 TY56520;
typedef struct TY44013 TY44013;
typedef struct TY56564 TY56564;
typedef struct TY56562 TY56562;
typedef struct TY56560 TY56560;
struct TGenericSeq {
NI len;
NI space;
};
struct TY56895 {
NI Counter;
NI Max;
TY56891* Head;
TY56893* Data;
};
typedef NIM_CHAR TY245[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY245 data;
};
typedef N_NIMCALL_PTR(TY106002*, TY106007) (TY56548* Module_106008, NimStringDesc* Filename_106009);
typedef N_NIMCALL_PTR(TY106002*, TY106012) (TY56548* Module_106013, NimStringDesc* Filename_106014, TY94031* Rd_106015);
typedef N_NIMCALL_PTR(TY56526*, TY106018) (TY106002* P_106019, TY56526* N_106020);
typedef N_NIMCALL_PTR(TY56526*, TY106023) (TY106002* P_106024, TY56526* Toplevelstmt_106025);
struct TY106006 {
TY106007 Open;
TY106012 Opencached;
TY106018 Close;
TY106023 Process;
};
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TNimObject {
TNimType* m_type;
};
struct TY55005 {
  TNimObject Sup;
NI Id;
};
struct TY48538 {
NI16 Line;
NI16 Col;
int Fileindex;
};
struct TY56530 {
TNimType* m_type;
NI Counter;
TY56528* Data;
};
struct TY56540 {
NU8 K;
NU8 S;
NU8 Flags;
TY56552* T;
TY53008* R;
NI A;
};
struct TY56548 {
  TY55005 Sup;
NU8 Kind;
NU8 Magic;
TY56552* Typ;
TY55011* Name;
TY48538 Info;
TY56548* Owner;
NU32 Flags;
TY56530 Tab;
TY56526* Ast;
NU32 Options;
NI Position;
NI Offset;
TY56540 Loc;
TY56544* Annex;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct TY106002 {
  TNimObject Sup;
};
struct TY61211 {
NI Key;
NI Val;
};
struct TY61215 {
NI Counter;
TY61213* Data;
};
struct TY94029 {
NI Lastidxkey;
NI Lastidxval;
TY61215 Tab;
TY53008* R;
NI Offset;
};
struct TY112004 {
  TY106002 Sup;
TY56548* Module;
int Crc;
NU32 Options;
TY53008* Defines;
TY53008* Incldeps;
TY53008* Moddeps;
TY53008* Interf;
TY53008* Compilerprocs;
TY94029 Index;
TY94029 Imports;
TY53008* Converters;
TY53008* Init;
TY53008* Data;
NimStringDesc* Filename;
TY56528* Sstack;
TY56550* Tstack;
TY39221* Files;
};
struct TY10802 {
NI Refcount;
TNimType* Typ;
};
struct TY10818 {
NI Len;
NI Cap;
TY10802** D;
};
struct TY10814 {
NI Counter;
NI Max;
TY10810* Head;
TY10810** Data;
};
struct TY11194 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY11196 {
TY10818 Zct;
TY10818 Decstack;
TY10814 Cycleroots;
TY10818 Tempstack;
TY11194 Stat;
};
struct TY61071 {
NI H;
};
struct TY55011 {
  TY55005 Sup;
NimStringDesc* S;
TY55011* Next;
NI H;
};
typedef TY53008* TY179695[2];
typedef TY53008* TY53407[1];
struct TY56552 {
  TY55005 Sup;
NU8 Kind;
TY56550* Sons;
TY56526* N;
NU8 Flags;
NU8 Callconv;
TY56548* Owner;
TY56548* Sym;
NI64 Size;
NI Align;
NI Containerid;
TY56540 Loc;
};
typedef TY53008* TY165012[3];
struct TY56526 {
TY56552* Typ;
NimStringDesc* Comment;
TY48538 Info;
NU8 Flags;
NU8 Kind;
union {
struct {NI64 Intval;
} S1;
struct {NF64 Floatval;
} S2;
struct {NimStringDesc* Strval;
} S3;
struct {TY56548* Sym;
} S4;
struct {TY55011* Ident;
} S5;
struct {TY56520* Sons;
} S6;
} KindU;
};
struct TY44013 {
  TNimObject Sup;
TY44013* Prev;
TY44013* Next;
};
struct TY56544 {
  TY44013 Sup;
NU8 Kind;
NIM_BOOL Generated;
TY53008* Name;
TY56526* Path;
};
typedef NI TY8814[16];
struct TY56891 {
TY56891* Next;
NI Key;
TY8814 Bits;
};
struct TY56560 {
TY55005* Key;
TNimObject* Val;
};
struct TY56564 {
NI Counter;
TY56562* Data;
};
struct TY94031 {
  TNimObject Sup;
NI Pos;
NimStringDesc* S;
NU32 Options;
NU8 Reason;
TY39221* Moddeps;
TY39221* Files;
NI Dataidx;
NI Convertersidx;
NI Initidx;
NI Interfidx;
NI Compilerprocsidx;
NI Cgenidx;
NimStringDesc* Filename;
TY94029 Index;
TY94029 Imports;
NI Readerindex;
NI Line;
NI Moduleid;
TY56564 Syms;
};
struct TY53008 {
  TNimObject Sup;
TY53008* Left;
TY53008* Right;
NI Length;
NimStringDesc* Data;
};
struct TY10810 {
TY10810* Next;
NI Key;
TY8814 Bits;
};
struct TY56893 {
  TGenericSeq Sup;
  TY56891* data[SEQ_DECL_SIZE];
};
struct TY56528 {
  TGenericSeq Sup;
  TY56548* data[SEQ_DECL_SIZE];
};
struct TY61213 {
  TGenericSeq Sup;
  TY61211 data[SEQ_DECL_SIZE];
};
struct TY56550 {
  TGenericSeq Sup;
  TY56552* data[SEQ_DECL_SIZE];
};
struct TY39221 {
  TGenericSeq Sup;
  NimStringDesc* data[SEQ_DECL_SIZE];
};
struct TY56520 {
  TGenericSeq Sup;
  TY56526* data[SEQ_DECL_SIZE];
};
struct TY56562 {
  TGenericSeq Sup;
  TY56560 data[SEQ_DECL_SIZE];
};
N_NIMCALL(void, Intsetinit_56919)(TY56895* S_56922);
N_NIMCALL(void, Initpass_106031)(TY106006* P_106034);
N_NIMCALL(TY106002*, Myopen_113827)(TY56548* Module_113829, NimStringDesc* Filename_113830);
N_NIMCALL(void, Internalerror_49212)(NimStringDesc* Errmsg_49214);
N_NIMCALL(TY112004*, Newrodwriter_112024)(NimStringDesc* Modfilename_112026, int Crc_112027, TY56548* Module_112028);
N_NIMCALL(void*, newObj)(TNimType* Typ_13910, NI Size_13911);
N_NIMCALL(void*, newSeq)(TNimType* Typ_14404, NI Len_14405);
static N_INLINE(void, asgnRef)(void** Dest_13214, void* Src_13215);
static N_INLINE(void, Incref_13202)(TY10802* C_13204);
static N_INLINE(NI, Atomicinc_3221)(NI* Memloc_3224, NI X_3225);
static N_INLINE(NIM_BOOL, Canbecycleroot_11616)(TY10802* C_11618);
static N_INLINE(void, Rtladdcycleroot_12252)(TY10802* C_12254);
N_NOINLINE(void, Incl_11080)(TY10814* S_11083, TY10802* Cell_11084);
static N_INLINE(TY10802*, Usrtocell_11612)(void* Usr_11614);
static N_INLINE(void, Decref_13001)(TY10802* C_13003);
static N_INLINE(NI, Atomicdec_3226)(NI* Memloc_3229, NI X_3230);
static N_INLINE(void, Rtladdzct_12601)(TY10802* C_12603);
N_NOINLINE(void, Addzct_11601)(TY10818* S_11604, TY10802* C_11605);
N_NIMCALL(void, Initiitable_61220)(TY61215* X_61223);
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13218, void* Src_13219);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* Src_18712);
N_NIMCALL(TY53008*, Getdefines_112056)(void);
N_NIMCALL(TY56548*, Inittabiter_61073)(TY61071* Ti_61076, TY56530* Tab_61077);
N_NIMCALL(void, App_53036)(TY53008** A_53039, NimStringDesc* B_53040);
N_NIMCALL(TY56548*, Nextiter_61078)(TY61071* Ti_61081, TY56530* Tab_61082);
N_NIMCALL(int, Getcrc_94064)(NimStringDesc* Filename_94066);
N_NIMCALL(void, Rawaddinterfacesym_113293)(TY112004* W_113295, TY56548* S_113296);
N_NIMCALL(void, Pushsym_112269)(TY112004* W_112271, TY56548* S_112272);
N_NIMCALL(NI, Iitableget_61224)(TY61215 T_61226, NI Key_61227);
N_NIMCALL(TGenericSeq*, setLengthSeq)(TGenericSeq* Seq_19003, NI Elemsize_19004, NI Newlen_19005);
N_NIMCALL(void, Processstacks_112053)(TY112004* W_112055);
N_NIMCALL(void, Symstack_113083)(TY112004* W_113085);
N_NIMCALL(TY56548*, Getmodule_61198)(TY56548* S_61200);
static N_INLINE(void, appendString)(NimStringDesc* Dest_18799, NimStringDesc* Src_18800);
N_NIMCALL(NimStringDesc*, rawNewString)(NI Space_18689);
N_NIMCALL(NI, Ropelen_53052)(TY53008* A_53054);
N_NIMCALL(void, Addtoindex_113066)(TY94029* W_113069, NI Key_113070, NI Val_113071);
N_NIMCALL(void, App_53031)(TY53008** A_53034, TY53008* B_53035);
N_NIMCALL(TY53008*, Encodeint_94073)(NI64 X_94075);
N_NIMCALL(void, Appf_53071)(TY53008** C_53074, NimStringDesc* Frmt_53075, TY53008** Args_53077, NI Args_53077Len0);
N_NIMCALL(void, Iitableput_61228)(TY61215* T_61231, NI Key_61232, NI Val_61233);
N_NIMCALL(TY53008*, Encodesym_112853)(TY112004* W_112855, TY56548* S_112856);
N_NIMCALL(TY53008*, Torope_53046)(NimStringDesc* S_53048);
N_NIMCALL(TY53008*, Encodestr_112048)(TY112004* W_112050, NimStringDesc* S_112051);
N_NIMCALL(TY53008*, Encode_94076)(NimStringDesc* S_94078);
N_NIMCALL(void, Pushtype_112240)(TY112004* W_112242, TY56552* T_112243);
N_NIMCALL(NI, Fileidx_112089)(TY112004* W_112091, NimStringDesc* Filename_112092);
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* A_18649, NimStringDesc* B_18650);
N_NIMCALL(NimStringDesc*, Tofilename_48724)(TY48538 Info_48726);
N_NIMCALL(NIM_BOOL, Astneeded_106057)(TY56548* S_106059);
N_NIMCALL(TY53008*, Encodenode_112298)(TY112004* W_112300, TY48538 Finfo_112301, TY56526* N_112302);
N_NIMCALL(NimStringDesc*, nimFloatToStr)(NF X_19463);
static N_INLINE(NI, Sonslen_56804)(TY56526* N_56806);
N_NIMCALL(TY53008*, Encodeloc_112548)(TY112004* W_112550, TY56540 Loc_112551);
N_NIMCALL(NimStringDesc*, Ropetostr_53063)(TY53008* P_53065);
N_NIMCALL(TY53008*, Ropef_53066)(NimStringDesc* Frmt_53068, TY53008** Args_53070, NI Args_53070Len0);
N_NIMCALL(TY53008*, Encodelib_112827)(TY112004* W_112829, TY56544* Lib_112830, TY48538 Info_112831);
N_NIMCALL(void, Typestack_113214)(TY112004* W_113216);
N_NIMCALL(TY53008*, Encodetype_112659)(TY112004* W_112661, TY56552* T_112662);
N_NIMCALL(TY48538, Unknownlineinfo_48575)(void);
static N_INLINE(NI, Sonslen_56807)(TY56552* N_56809);
N_NIMCALL(TY56526*, Myclose_113837)(TY106002* C_113839, TY56526* N_113840);
N_NIMCALL(void, Writerod_112045)(TY112004* W_112047);
N_NIMCALL(void, Writerope_53055)(TY53008* Head_53057, NimStringDesc* Filename_53058);
N_NIMCALL(NimStringDesc*, Completegeneratedfilepath_47106)(NimStringDesc* F_47108, NIM_BOOL Createsubdir_47109);
N_NIMCALL(NimStringDesc*, nosChangeFileExt)(NimStringDesc* Filename_38820, NimStringDesc* Ext_38821);
N_NIMCALL(TY56526*, Process_113405)(TY106002* C_113407, TY56526* N_113408);
N_NIMCALL(void, Addinterfacesym_112037)(TY112004* W_112039, TY56548* S_112040);
N_NIMCALL(void, Internalerror_49208)(TY48538 Info_49210, NimStringDesc* Errmsg_49211);
N_NIMCALL(void, Addmoddep_112029)(TY112004* W_112031, NimStringDesc* Dep_112032);
N_NIMCALL(NimStringDesc*, Getmodulefile_111013)(TY56526* N_111015);
N_NIMCALL(void, Addstmt_112041)(TY112004* W_112043, TY56526* N_112044);
N_NIMCALL(void, Addincldep_112033)(TY112004* W_112035, NimStringDesc* Dep_112036);
N_NIMCALL(int, Crcfromfile_51029)(NimStringDesc* Filename_51031);
STRING_LITERAL(TMP198859, "rodwrite: module ID not set", 27);
STRING_LITERAL(TMP198861, " ", 1);
STRING_LITERAL(TMP198862, "symStack: module nil: ", 22);
STRING_LITERAL(TMP198863, "\012", 1);
STRING_LITERAL(TMP198864, "$1 $2\012", 6);
STRING_LITERAL(TMP198865, "{}", 2);
STRING_LITERAL(TMP198866, "+$1", 3);
STRING_LITERAL(TMP198867, "&$1", 3);
STRING_LITERAL(TMP198868, "^$1", 3);
STRING_LITERAL(TMP198869, "?$1,$2,$3", 9);
STRING_LITERAL(TMP198870, "*$1", 3);
STRING_LITERAL(TMP198871, "$$$1", 4);
STRING_LITERAL(TMP198872, "@$1", 3);
STRING_LITERAL(TMP198873, "()", 2);
STRING_LITERAL(TMP198874, "(", 1);
STRING_LITERAL(TMP198875, "?$1,$2", 6);
STRING_LITERAL(TMP198876, "?$1", 3);
STRING_LITERAL(TMP198877, "!$1", 3);
STRING_LITERAL(TMP198878, ")", 1);
STRING_LITERAL(TMP198879, "%$1", 3);
STRING_LITERAL(TMP198880, "`$1", 3);
STRING_LITERAL(TMP198881, "<$1>", 4);
STRING_LITERAL(TMP198882, "|$1", 3);
STRING_LITERAL(TMP198883, "[]", 2);
STRING_LITERAL(TMP198884, "encodeType: tyForward", 21);
STRING_LITERAL(TMP198885, "/$1", 3);
STRING_LITERAL(TMP198886, "=$1", 3);
STRING_LITERAL(TMP198887, "^()", 3);
STRING_LITERAL(TMP198888, "NIM:", 4);
STRING_LITERAL(TMP198889, "1012", 4);
STRING_LITERAL(TMP198890, "ID:", 3);
STRING_LITERAL(TMP198891, "CRC:", 4);
STRING_LITERAL(TMP198892, "OPTIONS:", 8);
STRING_LITERAL(TMP198893, "DEFINES:", 8);
STRING_LITERAL(TMP198894, "FILES(\012", 7);
STRING_LITERAL(TMP198895, ")\012", 2);
STRING_LITERAL(TMP198896, "INCLUDES(\012", 10);
STRING_LITERAL(TMP198897, "DEPS:", 5);
STRING_LITERAL(TMP198898, "INTERF(\012", 8);
STRING_LITERAL(TMP198899, "COMPILERPROCS(\012", 15);
STRING_LITERAL(TMP198900, "INDEX(\012", 7);
STRING_LITERAL(TMP198901, "IMPORTS(\012", 9);
STRING_LITERAL(TMP198902, "CONVERTERS:", 11);
STRING_LITERAL(TMP198903, "INIT(\012", 6);
STRING_LITERAL(TMP198904, "DATA(\012", 6);
STRING_LITERAL(TMP198905, "rod", 3);
STRING_LITERAL(TMP198906, "rodwrite.process", 16);
TY56895 Debugwritten_113082;
extern NU32 Gglobaloptions_47084;
extern TNimType* NTI112006; /* PRodWriter */
extern TNimType* NTI112004; /* TRodWriter */
extern TNimType* NTI56528; /* TSymSeq */
extern TY11196 Gch_11214;
extern TNimType* NTI56550; /* TTypeSeq */
extern TY56530 Gsymbols_65001;
extern NU32 Goptions_47082;
extern TNimType* NTI39221; /* seq[string] */
static N_INLINE(NI, Atomicinc_3221)(NI* Memloc_3224, NI X_3225) {
NI Result_7807;
Result_7807 = 0;
(*Memloc_3224) += X_3225;
Result_7807 = (*Memloc_3224);
return Result_7807;
}
static N_INLINE(NIM_BOOL, Canbecycleroot_11616)(TY10802* C_11618) {
NIM_BOOL Result_11619;
Result_11619 = 0;
Result_11619 = !((((*(*C_11618).Typ).flags &(1<<((((NU8) 1))&7)))!=0));
return Result_11619;
}
static N_INLINE(void, Rtladdcycleroot_12252)(TY10802* C_12254) {
Incl_11080(&Gch_11214.Cycleroots, C_12254);
}
static N_INLINE(void, Incref_13202)(TY10802* C_13204) {
NI LOC1;
NIM_BOOL LOC3;
LOC1 = Atomicinc_3221(&(*C_13204).Refcount, 8);
LOC3 = Canbecycleroot_11616(C_13204);
if (!LOC3) goto LA4;
Rtladdcycleroot_12252(C_13204);
LA4: ;
}
static N_INLINE(TY10802*, Usrtocell_11612)(void* Usr_11614) {
TY10802* Result_11615;
Result_11615 = 0;
Result_11615 = ((TY10802*) ((NI32)((NU32)(((NI) (Usr_11614))) - (NU32)(((NI) (((NI)sizeof(TY10802))))))));
return Result_11615;
}
static N_INLINE(NI, Atomicdec_3226)(NI* Memloc_3229, NI X_3230) {
NI Result_8006;
Result_8006 = 0;
(*Memloc_3229) -= X_3230;
Result_8006 = (*Memloc_3229);
return Result_8006;
}
static N_INLINE(void, Rtladdzct_12601)(TY10802* C_12603) {
Addzct_11601(&Gch_11214.Zct, C_12603);
}
static N_INLINE(void, Decref_13001)(TY10802* C_13003) {
NI LOC2;
NIM_BOOL LOC5;
LOC2 = Atomicdec_3226(&(*C_13003).Refcount, 8);
if (!((NU32)(LOC2) < (NU32)(8))) goto LA3;
Rtladdzct_12601(C_13003);
goto LA1;
LA3: ;
LOC5 = Canbecycleroot_11616(C_13003);
if (!LOC5) goto LA6;
Rtladdcycleroot_12252(C_13003);
goto LA1;
LA6: ;
LA1: ;
}
static N_INLINE(void, asgnRef)(void** Dest_13214, void* Src_13215) {
TY10802* LOC4;
TY10802* LOC8;
if (!!((Src_13215 == NIM_NIL))) goto LA2;
LOC4 = Usrtocell_11612(Src_13215);
Incref_13202(LOC4);
LA2: ;
if (!!(((*Dest_13214) == NIM_NIL))) goto LA6;
LOC8 = Usrtocell_11612((*Dest_13214));
Decref_13001(LOC8);
LA6: ;
(*Dest_13214) = Src_13215;
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13218, void* Src_13219) {
TY10802* C_13220;
NI LOC4;
TY10802* C_13222;
NI LOC9;
if (!!((Src_13219 == NIM_NIL))) goto LA2;
C_13220 = 0;
C_13220 = Usrtocell_11612(Src_13219);
LOC4 = Atomicinc_3221(&(*C_13220).Refcount, 8);
LA2: ;
if (!!(((*Dest_13218) == NIM_NIL))) goto LA6;
C_13222 = 0;
C_13222 = Usrtocell_11612((*Dest_13218));
LOC9 = Atomicdec_3226(&(*C_13222).Refcount, 8);
if (!((NU32)(LOC9) < (NU32)(8))) goto LA10;
Rtladdzct_12601(C_13222);
LA10: ;
LA6: ;
(*Dest_13218) = Src_13219;
}
N_NIMCALL(TY53008*, Getdefines_112056)(void) {
TY53008* Result_112058;
TY61071 It_112059;
TY56548* S_112061;
Result_112058 = 0;
S_112061 = 0;
Result_112058 = NIM_NIL;
memset((void*)&It_112059, 0, sizeof(It_112059));
S_112061 = NIM_NIL;
S_112061 = Inittabiter_61073(&It_112059, &Gsymbols_65001);
Result_112058 = NIM_NIL;
while (1) {
if (!!((S_112061 == NIM_NIL))) goto LA1;
if (!((*S_112061).Position == 1)) goto LA3;
if (!!((Result_112058 == NIM_NIL))) goto LA6;
App_53036(&Result_112058, ((NimStringDesc*) &TMP198861));
LA6: ;
App_53036(&Result_112058, (*(*S_112061).Name).S);
LA3: ;
S_112061 = Nextiter_61078(&It_112059, &Gsymbols_65001);
} LA1: ;
return Result_112058;
}
N_NIMCALL(TY112004*, Newrodwriter_112024)(NimStringDesc* Modfilename_112026, int Crc_112027, TY56548* Module_112028) {
TY112004* Result_112148;
Result_112148 = 0;
Result_112148 = NIM_NIL;
Result_112148 = (TY112004*) newObj(NTI112006, sizeof(TY112004));
(*Result_112148).Sup.Sup.m_type = NTI112004;
asgnRef((void**) &(*Result_112148).Sstack, (TY56528*) newSeq(NTI56528, 0));
asgnRef((void**) &(*Result_112148).Tstack, (TY56550*) newSeq(NTI56550, 0));
Initiitable_61220(&(*Result_112148).Index.Tab);
Initiitable_61220(&(*Result_112148).Imports.Tab);
asgnRefNoCycle((void**) &(*Result_112148).Filename, copyString(Modfilename_112026));
(*Result_112148).Crc = Crc_112027;
asgnRef((void**) &(*Result_112148).Module, Module_112028);
asgnRefNoCycle((void**) &(*Result_112148).Defines, Getdefines_112056());
(*Result_112148).Options = Goptions_47082;
asgnRefNoCycle((void**) &(*Result_112148).Files, (TY39221*) newSeq(NTI39221, 0));
return Result_112148;
}
N_NIMCALL(void, Pushsym_112269)(TY112004* W_112271, TY56548* S_112272) {
NI LOC2;
NI L_112285;
LOC2 = Iitableget_61224((*W_112271).Index.Tab, (*S_112272).Sup.Id);
if (!(LOC2 == (-2147483647 -1))) goto LA3;
L_112285 = 0;
L_112285 = (*W_112271).Sstack->Sup.len;
(*W_112271).Sstack = (TY56528*) setLengthSeq(&((*W_112271).Sstack)->Sup, sizeof(TY56548*), (NI32)(L_112285 + 1));
asgnRef((void**) &(*W_112271).Sstack->data[L_112285], S_112272);
LA3: ;
}
static N_INLINE(void, appendString)(NimStringDesc* Dest_18799, NimStringDesc* Src_18800) {
memcpy(((NCSTRING) (&(*Dest_18799).data[((*Dest_18799).Sup.len)-0])), ((NCSTRING) ((*Src_18800).data)), ((int) ((NI32)((NI32)((*Src_18800).Sup.len + 1) * 1))));
(*Dest_18799).Sup.len += (*Src_18800).Sup.len;
}
N_NIMCALL(void, Addtoindex_113066)(TY94029* W_113069, NI Key_113070, NI Val_113071) {
TY53008* LOC4;
TY179695 LOC5;
if (!((NI32)(Key_113070 - (*W_113069).Lastidxkey) == 1)) goto LA2;
LOC4 = 0;
LOC4 = Encodeint_94073(((NI64) ((NI32)(Val_113071 - (*W_113069).Lastidxval))));
App_53031(&(*W_113069).R, LOC4);
App_53036(&(*W_113069).R, ((NimStringDesc*) &TMP198863));
goto LA1;
LA2: ;
memset((void*)&LOC5, 0, sizeof(LOC5));
LOC5[0] = Encodeint_94073(((NI64) ((NI32)(Key_113070 - (*W_113069).Lastidxkey))));
LOC5[1] = Encodeint_94073(((NI64) ((NI32)(Val_113071 - (*W_113069).Lastidxval))));
Appf_53071(&(*W_113069).R, ((NimStringDesc*) &TMP198864), LOC5, 2);
LA1: ;
(*W_113069).Lastidxkey = Key_113070;
(*W_113069).Lastidxval = Val_113071;
Iitableput_61228(&(*W_113069).Tab, Key_113070, Val_113071);
}
N_NIMCALL(TY53008*, Encodestr_112048)(TY112004* W_112050, NimStringDesc* S_112051) {
TY53008* Result_112052;
Result_112052 = 0;
Result_112052 = NIM_NIL;
Result_112052 = Encode_94076(S_112051);
return Result_112052;
}
N_NIMCALL(void, Pushtype_112240)(TY112004* W_112242, TY56552* T_112243) {
NI LOC2;
NI L_112256;
LOC2 = Iitableget_61224((*W_112242).Index.Tab, (*T_112243).Sup.Id);
if (!(LOC2 == (-2147483647 -1))) goto LA3;
L_112256 = 0;
L_112256 = (*W_112242).Tstack->Sup.len;
(*W_112242).Tstack = (TY56550*) setLengthSeq(&((*W_112242).Tstack)->Sup, sizeof(TY56552*), (NI32)(L_112256 + 1));
asgnRef((void**) &(*W_112242).Tstack->data[L_112256], T_112243);
LA3: ;
}
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* A_18649, NimStringDesc* B_18650) {
NIM_BOOL Result_18651;
NIM_BOOL LOC5;
NIM_BOOL LOC9;
int LOC11;
Result_18651 = 0;
if (!(A_18649 == B_18650)) goto LA2;
Result_18651 = NIM_TRUE;
goto BeforeRet;
LA2: ;
LOC5 = (A_18649 == NIM_NIL);
if (LOC5) goto LA6;
LOC5 = (B_18650 == NIM_NIL);
LA6: ;
if (!LOC5) goto LA7;
Result_18651 = NIM_FALSE;
goto BeforeRet;
LA7: ;
LOC9 = ((*A_18649).Sup.len == (*B_18650).Sup.len);
if (!(LOC9)) goto LA10;
LOC11 = memcmp(((NCSTRING) ((*A_18649).data)), ((NCSTRING) ((*B_18650).data)), ((int) ((NI32)((*A_18649).Sup.len * 1))));
LOC9 = (LOC11 == ((NI32) 0));
LA10: ;
Result_18651 = LOC9;
goto BeforeRet;
BeforeRet: ;
return Result_18651;
}
N_NIMCALL(NI, Fileidx_112089)(TY112004* W_112091, NimStringDesc* Filename_112092) {
NI Result_112093;
NI I_112117;
NI HEX3Atmp_112140;
NI Res_112142;
Result_112093 = 0;
I_112117 = 0;
HEX3Atmp_112140 = 0;
HEX3Atmp_112140 = ((*W_112091).Files->Sup.len-1);
Res_112142 = 0;
Res_112142 = 0;
while (1) {
if (!(Res_112142 <= HEX3Atmp_112140)) goto LA1;
I_112117 = Res_112142;
if (!eqStrings((*W_112091).Files->data[I_112117], Filename_112092)) goto LA3;
Result_112093 = I_112117;
goto BeforeRet;
LA3: ;
Res_112142 += 1;
} LA1: ;
Result_112093 = (*W_112091).Files->Sup.len;
(*W_112091).Files = (TY39221*) setLengthSeq(&((*W_112091).Files)->Sup, sizeof(NimStringDesc*), (NI32)(Result_112093 + 1));
asgnRefNoCycle((void**) &(*W_112091).Files->data[Result_112093], copyString(Filename_112092));
BeforeRet: ;
return Result_112093;
}
static N_INLINE(NI, Sonslen_56804)(TY56526* N_56806) {
NI Result_57897;
Result_57897 = 0;
if (!(*N_56806).KindU.S6.Sons == 0) goto LA2;
Result_57897 = 0;
goto LA1;
LA2: ;
Result_57897 = (*N_56806).KindU.S6.Sons->Sup.len;
LA1: ;
return Result_57897;
}
N_NIMCALL(TY53008*, Encodenode_112298)(TY112004* W_112300, TY48538 Finfo_112301, TY56526* N_112302) {
TY53008* Result_112303;
TY53008* LOC4;
TY165012 LOC8;
NimStringDesc* LOC9;
NI LOC10;
TY179695 LOC13;
TY53407 LOC16;
NU8 F_112352;
TY53407 LOC20;
TY53407 LOC24;
TY53407 LOC28;
TY53407 LOC32;
NimStringDesc* LOC33;
TY53407 LOC37;
TY53407 LOC38;
TY53407 LOC39;
NI I_112530;
NI HEX3Atmp_112545;
NI LOC40;
NI Res_112547;
TY53008* LOC42;
Result_112303 = 0;
Result_112303 = NIM_NIL;
if (!(N_112302 == NIM_NIL)) goto LA2;
Result_112303 = Torope_53046(((NimStringDesc*) &TMP198873));
goto BeforeRet;
LA2: ;
Result_112303 = Torope_53046(((NimStringDesc*) &TMP198874));
LOC4 = 0;
LOC4 = Encodeint_94073(((NI64) ((*N_112302).Kind)));
App_53031(&Result_112303, LOC4);
if (!!((Finfo_112301.Fileindex == (*N_112302).Info.Fileindex))) goto LA6;
memset((void*)&LOC8, 0, sizeof(LOC8));
LOC8[0] = Encodeint_94073(((NI64) ((*N_112302).Info.Col)));
LOC8[1] = Encodeint_94073(((NI64) ((*N_112302).Info.Line)));
LOC9 = 0;
LOC9 = Tofilename_48724((*N_112302).Info);
LOC10 = Fileidx_112089(W_112300, LOC9);
LOC8[2] = Encodeint_94073(((NI64) (LOC10)));
Appf_53071(&Result_112303, ((NimStringDesc*) &TMP198869), LOC8, 3);
goto LA5;
LA6: ;
if (!!((Finfo_112301.Line == (*N_112302).Info.Line))) goto LA11;
memset((void*)&LOC13, 0, sizeof(LOC13));
LOC13[0] = Encodeint_94073(((NI64) ((*N_112302).Info.Col)));
LOC13[1] = Encodeint_94073(((NI64) ((*N_112302).Info.Line)));
Appf_53071(&Result_112303, ((NimStringDesc*) &TMP198875), LOC13, 2);
goto LA5;
LA11: ;
if (!!((Finfo_112301.Col == (*N_112302).Info.Col))) goto LA14;
memset((void*)&LOC16, 0, sizeof(LOC16));
LOC16[0] = Encodeint_94073(((NI64) ((*N_112302).Info.Col)));
Appf_53071(&Result_112303, ((NimStringDesc*) &TMP198876), LOC16, 1);
goto LA5;
LA14: ;
LA5: ;
memset((void*)&F_112352, 0, sizeof(F_112352));
F_112352 = ((*N_112302).Flags & 30);
if (!!((F_112352 == 0))) goto LA18;
memset((void*)&LOC20, 0, sizeof(LOC20));
LOC20[0] = Encodeint_94073(((NI64) (((int) (F_112352)))));
Appf_53071(&Result_112303, ((NimStringDesc*) &TMP198871), LOC20, 1);
LA18: ;
if (!!(((*N_112302).Typ == NIM_NIL))) goto LA22;
memset((void*)&LOC24, 0, sizeof(LOC24));
LOC24[0] = Encodeint_94073(((NI64) ((*(*N_112302).Typ).Sup.Id)));
Appf_53071(&Result_112303, ((NimStringDesc*) &TMP198868), LOC24, 1);
Pushtype_112240(W_112300, (*N_112302).Typ);
LA22: ;
switch ((*N_112302).Kind) {
case ((NU8) 5) ... ((NU8) 10):
if (!!(((*N_112302).KindU.S1.Intval == 0))) goto LA26;
memset((void*)&LOC28, 0, sizeof(LOC28));
LOC28[0] = Encodeint_94073((*N_112302).KindU.S1.Intval);
Appf_53071(&Result_112303, ((NimStringDesc*) &TMP198877), LOC28, 1);
LA26: ;
break;
case ((NU8) 11) ... ((NU8) 13):
if (!!((((NF) ((*N_112302).KindU.S2.Floatval)) == 0.0))) goto LA30;
memset((void*)&LOC32, 0, sizeof(LOC32));
LOC33 = 0;
LOC33 = nimFloatToStr(((NF) ((*N_112302).KindU.S2.Floatval)));
LOC32[0] = Encodestr_112048(W_112300, LOC33);
Appf_53071(&Result_112303, ((NimStringDesc*) &TMP198877), LOC32, 1);
LA30: ;
break;
case ((NU8) 14) ... ((NU8) 16):
if (!!((((*N_112302).KindU.S3.Strval) && ((*N_112302).KindU.S3.Strval)->Sup.len == 0))) goto LA35;
memset((void*)&LOC37, 0, sizeof(LOC37));
LOC37[0] = Encodestr_112048(W_112300, (*N_112302).KindU.S3.Strval);
Appf_53071(&Result_112303, ((NimStringDesc*) &TMP198877), LOC37, 1);
LA35: ;
break;
case ((NU8) 2):
memset((void*)&LOC38, 0, sizeof(LOC38));
LOC38[0] = Encodestr_112048(W_112300, (*(*N_112302).KindU.S5.Ident).S);
Appf_53071(&Result_112303, ((NimStringDesc*) &TMP198877), LOC38, 1);
break;
case ((NU8) 3):
memset((void*)&LOC39, 0, sizeof(LOC39));
LOC39[0] = Encodeint_94073(((NI64) ((*(*N_112302).KindU.S4.Sym).Sup.Id)));
Appf_53071(&Result_112303, ((NimStringDesc*) &TMP198877), LOC39, 1);
Pushsym_112269(W_112300, (*N_112302).KindU.S4.Sym);
break;
default:
I_112530 = 0;
HEX3Atmp_112545 = 0;
LOC40 = Sonslen_56804(N_112302);
HEX3Atmp_112545 = (NI32)(LOC40 - 1);
Res_112547 = 0;
Res_112547 = 0;
while (1) {
if (!(Res_112547 <= HEX3Atmp_112545)) goto LA41;
I_112530 = Res_112547;
LOC42 = 0;
LOC42 = Encodenode_112298(W_112300, (*N_112302).Info, (*N_112302).KindU.S6.Sons->data[I_112530]);
App_53031(&Result_112303, LOC42);
Res_112547 += 1;
} LA41: ;
break;
}
App_53036(&Result_112303, ((NimStringDesc*) &TMP198878));
BeforeRet: ;
return Result_112303;
}
N_NIMCALL(TY53008*, Encodeloc_112548)(TY112004* W_112550, TY56540 Loc_112551) {
TY53008* Result_112552;
TY53008* LOC4;
TY53407 LOC8;
TY53407 LOC12;
TY53407 LOC16;
TY53407 LOC20;
NimStringDesc* LOC21;
TY53407 LOC25;
TY53407 LOC29;
Result_112552 = 0;
Result_112552 = NIM_NIL;
Result_112552 = NIM_NIL;
if (!!((Loc_112551.K == ((NU8) 0)))) goto LA2;
LOC4 = 0;
LOC4 = Encodeint_94073(((NI64) (Loc_112551.K)));
App_53031(&Result_112552, LOC4);
LA2: ;
if (!!((Loc_112551.S == ((NU8) 0)))) goto LA6;
memset((void*)&LOC8, 0, sizeof(LOC8));
LOC8[0] = Encodeint_94073(((NI64) (Loc_112551.S)));
Appf_53071(&Result_112552, ((NimStringDesc*) &TMP198870), LOC8, 1);
LA6: ;
if (!!((Loc_112551.Flags == 0))) goto LA10;
memset((void*)&LOC12, 0, sizeof(LOC12));
LOC12[0] = Encodeint_94073(((NI64) (((int) (Loc_112551.Flags)))));
Appf_53071(&Result_112552, ((NimStringDesc*) &TMP198871), LOC12, 1);
LA10: ;
if (!!((Loc_112551.T == NIM_NIL))) goto LA14;
memset((void*)&LOC16, 0, sizeof(LOC16));
LOC16[0] = Encodeint_94073(((NI64) ((*Loc_112551.T).Sup.Id)));
Appf_53071(&Result_112552, ((NimStringDesc*) &TMP198868), LOC16, 1);
Pushtype_112240(W_112550, Loc_112551.T);
LA14: ;
if (!!((Loc_112551.R == NIM_NIL))) goto LA18;
memset((void*)&LOC20, 0, sizeof(LOC20));
LOC21 = 0;
LOC21 = Ropetostr_53063(Loc_112551.R);
LOC20[0] = Encodestr_112048(W_112550, LOC21);
Appf_53071(&Result_112552, ((NimStringDesc*) &TMP198877), LOC20, 1);
LA18: ;
if (!!((Loc_112551.A == 0))) goto LA23;
memset((void*)&LOC25, 0, sizeof(LOC25));
LOC25[0] = Encodeint_94073(((NI64) (Loc_112551.A)));
Appf_53071(&Result_112552, ((NimStringDesc*) &TMP198876), LOC25, 1);
LA23: ;
if (!!((Result_112552 == NIM_NIL))) goto LA27;
memset((void*)&LOC29, 0, sizeof(LOC29));
LOC29[0] = Result_112552;
Result_112552 = Ropef_53066(((NimStringDesc*) &TMP198881), LOC29, 1);
LA27: ;
return Result_112552;
}
N_NIMCALL(TY53008*, Encodelib_112827)(TY112004* W_112829, TY56544* Lib_112830, TY48538 Info_112831) {
TY53008* Result_112832;
TY53407 LOC1;
TY53407 LOC2;
NimStringDesc* LOC3;
TY53407 LOC4;
Result_112832 = 0;
Result_112832 = NIM_NIL;
Result_112832 = NIM_NIL;
memset((void*)&LOC1, 0, sizeof(LOC1));
LOC1[0] = Encodeint_94073(((NI64) ((*Lib_112830).Kind)));
Appf_53071(&Result_112832, ((NimStringDesc*) &TMP198882), LOC1, 1);
memset((void*)&LOC2, 0, sizeof(LOC2));
LOC3 = 0;
LOC3 = Ropetostr_53063((*Lib_112830).Name);
LOC2[0] = Encodestr_112048(W_112829, LOC3);
Appf_53071(&Result_112832, ((NimStringDesc*) &TMP198882), LOC2, 1);
memset((void*)&LOC4, 0, sizeof(LOC4));
LOC4[0] = Encodenode_112298(W_112829, Info_112831, (*Lib_112830).Path);
Appf_53071(&Result_112832, ((NimStringDesc*) &TMP198882), LOC4, 1);
return Result_112832;
}
N_NIMCALL(TY53008*, Encodesym_112853)(TY112004* W_112855, TY56548* S_112856) {
TY53008* Result_112857;
TY56526* Codeast_112858;
TY53008* Col_112859;
TY53008* Line_112860;
TY53008* LOC4;
TY53407 LOC5;
TY53407 LOC6;
TY53407 LOC10;
TY165012 LOC17;
NimStringDesc* LOC18;
NI LOC19;
TY53407 LOC23;
TY53407 LOC27;
TY53407 LOC31;
NIM_BOOL LOC36;
TY53008* LOC39;
TY53407 LOC46;
TY53407 LOC50;
TY53407 LOC54;
TY53008* LOC55;
TY53008* LOC59;
Result_112857 = 0;
Codeast_112858 = 0;
Col_112859 = 0;
Line_112860 = 0;
Result_112857 = NIM_NIL;
Codeast_112858 = NIM_NIL;
Col_112859 = NIM_NIL;
Line_112860 = NIM_NIL;
Codeast_112858 = NIM_NIL;
if (!(S_112856 == NIM_NIL)) goto LA2;
Result_112857 = Torope_53046(((NimStringDesc*) &TMP198865));
goto BeforeRet;
LA2: ;
Result_112857 = NIM_NIL;
LOC4 = 0;
LOC4 = Encodeint_94073(((NI64) ((*S_112856).Kind)));
App_53031(&Result_112857, LOC4);
memset((void*)&LOC5, 0, sizeof(LOC5));
LOC5[0] = Encodeint_94073(((NI64) ((*S_112856).Sup.Id)));
Appf_53071(&Result_112857, ((NimStringDesc*) &TMP198866), LOC5, 1);
memset((void*)&LOC6, 0, sizeof(LOC6));
LOC6[0] = Encodestr_112048(W_112855, (*(*S_112856).Name).S);
Appf_53071(&Result_112857, ((NimStringDesc*) &TMP198867), LOC6, 1);
if (!!(((*S_112856).Typ == NIM_NIL))) goto LA8;
memset((void*)&LOC10, 0, sizeof(LOC10));
LOC10[0] = Encodeint_94073(((NI64) ((*(*S_112856).Typ).Sup.Id)));
Appf_53071(&Result_112857, ((NimStringDesc*) &TMP198868), LOC10, 1);
Pushtype_112240(W_112855, (*S_112856).Typ);
LA8: ;
if (!((*S_112856).Info.Col == ((NI16) -1))) goto LA12;
Col_112859 = NIM_NIL;
goto LA11;
LA12: ;
Col_112859 = Encodeint_94073(((NI64) ((*S_112856).Info.Col)));
LA11: ;
if (!((*S_112856).Info.Line == ((NI16) -1))) goto LA15;
Line_112860 = NIM_NIL;
goto LA14;
LA15: ;
Line_112860 = Encodeint_94073(((NI64) ((*S_112856).Info.Line)));
LA14: ;
memset((void*)&LOC17, 0, sizeof(LOC17));
LOC17[0] = Col_112859;
LOC17[1] = Line_112860;
LOC18 = 0;
LOC18 = Tofilename_48724((*S_112856).Info);
LOC19 = Fileidx_112089(W_112855, LOC18);
LOC17[2] = Encodeint_94073(((NI64) (LOC19)));
Appf_53071(&Result_112857, ((NimStringDesc*) &TMP198869), LOC17, 3);
if (!!(((*S_112856).Owner == NIM_NIL))) goto LA21;
memset((void*)&LOC23, 0, sizeof(LOC23));
LOC23[0] = Encodeint_94073(((NI64) ((*(*S_112856).Owner).Sup.Id)));
Appf_53071(&Result_112857, ((NimStringDesc*) &TMP198870), LOC23, 1);
Pushsym_112269(W_112855, (*S_112856).Owner);
LA21: ;
if (!!(((*S_112856).Flags == 0))) goto LA25;
memset((void*)&LOC27, 0, sizeof(LOC27));
LOC27[0] = Encodeint_94073(((NI64) (((int) ((*S_112856).Flags)))));
Appf_53071(&Result_112857, ((NimStringDesc*) &TMP198871), LOC27, 1);
LA25: ;
if (!!(((*S_112856).Magic == ((NU8) 0)))) goto LA29;
memset((void*)&LOC31, 0, sizeof(LOC31));
LOC31[0] = Encodeint_94073(((NI64) ((*S_112856).Magic)));
Appf_53071(&Result_112857, ((NimStringDesc*) &TMP198872), LOC31, 1);
LA29: ;
if (!!(((*S_112856).Ast == NIM_NIL))) goto LA33;
LOC36 = Astneeded_106057(S_112856);
if (!!(LOC36)) goto LA37;
Codeast_112858 = (*(*S_112856).Ast).KindU.S6.Sons->data[4];
asgnRefNoCycle((void**) &(*(*S_112856).Ast).KindU.S6.Sons->data[4], NIM_NIL);
LA37: ;
LOC39 = 0;
LOC39 = Encodenode_112298(W_112855, (*S_112856).Info, (*S_112856).Ast);
App_53031(&Result_112857, LOC39);
if (!!((Codeast_112858 == NIM_NIL))) goto LA41;
asgnRefNoCycle((void**) &(*(*S_112856).Ast).KindU.S6.Sons->data[4], Codeast_112858);
LA41: ;
LA33: ;
if (!!(((*S_112856).Options == (*W_112855).Options))) goto LA44;
memset((void*)&LOC46, 0, sizeof(LOC46));
LOC46[0] = Encodeint_94073(((NI64) (((int) ((*S_112856).Options)))));
Appf_53071(&Result_112857, ((NimStringDesc*) &TMP198877), LOC46, 1);
LA44: ;
if (!!(((*S_112856).Position == 0))) goto LA48;
memset((void*)&LOC50, 0, sizeof(LOC50));
LOC50[0] = Encodeint_94073(((NI64) ((*S_112856).Position)));
Appf_53071(&Result_112857, ((NimStringDesc*) &TMP198879), LOC50, 1);
LA48: ;
if (!!(((*S_112856).Offset == -1))) goto LA52;
memset((void*)&LOC54, 0, sizeof(LOC54));
LOC54[0] = Encodeint_94073(((NI64) ((*S_112856).Offset)));
Appf_53071(&Result_112857, ((NimStringDesc*) &TMP198880), LOC54, 1);
LA52: ;
LOC55 = 0;
LOC55 = Encodeloc_112548(W_112855, (*S_112856).Loc);
App_53031(&Result_112857, LOC55);
if (!!(((*S_112856).Annex == NIM_NIL))) goto LA57;
LOC59 = 0;
LOC59 = Encodelib_112827(W_112855, (*S_112856).Annex, (*S_112856).Info);
App_53031(&Result_112857, LOC59);
LA57: ;
BeforeRet: ;
return Result_112857;
}
N_NIMCALL(void, Symstack_113083)(TY112004* W_113085) {
NI I_113086;
NI L_113087;
TY56548* S_113088;
TY56548* M_113089;
NI LOC3;
NimStringDesc* LOC9;
NIM_BOOL LOC11;
TY53008* LOC15;
TY179695 LOC19;
TY179695 LOC23;
TY53008* LOC30;
NI LOC31;
S_113088 = 0;
M_113089 = 0;
I_113086 = 0;
L_113087 = 0;
S_113088 = NIM_NIL;
M_113089 = NIM_NIL;
I_113086 = 0;
while (1) {
if (!(I_113086 < (*W_113085).Sstack->Sup.len)) goto LA1;
S_113088 = (*W_113085).Sstack->data[I_113086];
LOC3 = Iitableget_61224((*W_113085).Index.Tab, (*S_113088).Sup.Id);
if (!(LOC3 == (-2147483647 -1))) goto LA4;
M_113089 = Getmodule_61198(S_113088);
if (!(M_113089 == NIM_NIL)) goto LA7;
LOC9 = 0;
LOC9 = rawNewString((*(*S_113088).Name).S->Sup.len + 22);
appendString(LOC9, ((NimStringDesc*) &TMP198862));
appendString(LOC9, (*(*S_113088).Name).S);
Internalerror_49212(LOC9);
LA7: ;
LOC11 = ((*M_113089).Sup.Id == (*(*W_113085).Module).Sup.Id);
if (LOC11) goto LA12;
LOC11 = (((*S_113088).Flags &(1<<((((NU8) 4))&31)))!=0);
LA12: ;
if (!LOC11) goto LA13;
L_113087 = Ropelen_53052((*W_113085).Data);
Addtoindex_113066(&(*W_113085).Index, (*S_113088).Sup.Id, L_113087);
LOC15 = 0;
LOC15 = Encodesym_112853(W_113085, S_113088);
App_53031(&(*W_113085).Data, LOC15);
App_53036(&(*W_113085).Data, ((NimStringDesc*) &TMP198863));
if (!(((*S_113088).Flags &(1<<((((NU8) 3))&31)))!=0)) goto LA17;
memset((void*)&LOC19, 0, sizeof(LOC19));
LOC19[0] = Encode_94076((*(*S_113088).Name).S);
LOC19[1] = Encodeint_94073(((NI64) ((*S_113088).Sup.Id)));
Appf_53071(&(*W_113085).Interf, ((NimStringDesc*) &TMP198864), LOC19, 2);
LA17: ;
if (!(((*S_113088).Flags &(1<<((((NU8) 19))&31)))!=0)) goto LA21;
memset((void*)&LOC23, 0, sizeof(LOC23));
LOC23[0] = Encode_94076((*(*S_113088).Name).S);
LOC23[1] = Encodeint_94073(((NI64) ((*S_113088).Sup.Id)));
Appf_53071(&(*W_113085).Compilerprocs, ((NimStringDesc*) &TMP198864), LOC23, 2);
LA21: ;
if (!((*S_113088).Kind == ((NU8) 13))) goto LA25;
if (!!(((*W_113085).Converters == NIM_NIL))) goto LA28;
App_53036(&(*W_113085).Converters, ((NimStringDesc*) &TMP198861));
LA28: ;
LOC30 = 0;
LOC30 = Encodeint_94073(((NI64) ((*S_113088).Sup.Id)));
App_53031(&(*W_113085).Converters, LOC30);
LA25: ;
goto LA10;
LA13: ;
LOC31 = Iitableget_61224((*W_113085).Imports.Tab, (*S_113088).Sup.Id);
if (!(LOC31 == (-2147483647 -1))) goto LA32;
Addtoindex_113066(&(*W_113085).Imports, (*S_113088).Sup.Id, (*M_113089).Sup.Id);
goto LA10;
LA32: ;
LA10: ;
LA4: ;
I_113086 += 1;
} LA1: ;
(*W_113085).Sstack = (TY56528*) setLengthSeq(&((*W_113085).Sstack)->Sup, sizeof(TY56548*), 0);
}
static N_INLINE(NI, Sonslen_56807)(TY56552* N_56809) {
NI Result_57761;
Result_57761 = 0;
if (!(*N_56809).Sons == 0) goto LA2;
Result_57761 = 0;
goto LA1;
LA2: ;
Result_57761 = (*N_56809).Sons->Sup.len;
LA1: ;
return Result_57761;
}
N_NIMCALL(TY53008*, Encodetype_112659)(TY112004* W_112661, TY56552* T_112662) {
TY53008* Result_112663;
TY53008* LOC7;
TY53407 LOC8;
TY48538 LOC12;
TY53008* LOC13;
TY53407 LOC17;
TY53407 LOC21;
TY53407 LOC25;
TY53407 LOC29;
TY53407 LOC33;
TY53407 LOC37;
TY53407 LOC41;
TY53008* LOC42;
NI I_112806;
NI HEX3Atmp_112824;
NI LOC43;
NI Res_112826;
TY53407 LOC48;
Result_112663 = 0;
Result_112663 = NIM_NIL;
if (!(T_112662 == NIM_NIL)) goto LA2;
Result_112663 = Torope_53046(((NimStringDesc*) &TMP198883));
goto BeforeRet;
LA2: ;
Result_112663 = NIM_NIL;
if (!((*T_112662).Kind == ((NU8) 30))) goto LA5;
Internalerror_49212(((NimStringDesc*) &TMP198884));
LA5: ;
LOC7 = 0;
LOC7 = Encodeint_94073(((NI64) ((*T_112662).Kind)));
App_53031(&Result_112663, LOC7);
memset((void*)&LOC8, 0, sizeof(LOC8));
LOC8[0] = Encodeint_94073(((NI64) ((*T_112662).Sup.Id)));
Appf_53071(&Result_112663, ((NimStringDesc*) &TMP198866), LOC8, 1);
if (!!(((*T_112662).N == NIM_NIL))) goto LA10;
LOC12 = Unknownlineinfo_48575();
LOC13 = 0;
LOC13 = Encodenode_112298(W_112661, LOC12, (*T_112662).N);
App_53031(&Result_112663, LOC13);
LA10: ;
if (!!(((*T_112662).Flags == 0))) goto LA15;
memset((void*)&LOC17, 0, sizeof(LOC17));
LOC17[0] = Encodeint_94073(((NI64) (((int) ((*T_112662).Flags)))));
Appf_53071(&Result_112663, ((NimStringDesc*) &TMP198871), LOC17, 1);
LA15: ;
if (!!(((*T_112662).Callconv == ((NU8) 0)))) goto LA19;
memset((void*)&LOC21, 0, sizeof(LOC21));
LOC21[0] = Encodeint_94073(((NI64) ((*T_112662).Callconv)));
Appf_53071(&Result_112663, ((NimStringDesc*) &TMP198876), LOC21, 1);
LA19: ;
if (!!(((*T_112662).Owner == NIM_NIL))) goto LA23;
memset((void*)&LOC25, 0, sizeof(LOC25));
LOC25[0] = Encodeint_94073(((NI64) ((*(*T_112662).Owner).Sup.Id)));
Appf_53071(&Result_112663, ((NimStringDesc*) &TMP198870), LOC25, 1);
Pushsym_112269(W_112661, (*T_112662).Owner);
LA23: ;
if (!!(((*T_112662).Sym == NIM_NIL))) goto LA27;
memset((void*)&LOC29, 0, sizeof(LOC29));
LOC29[0] = Encodeint_94073(((NI64) ((*(*T_112662).Sym).Sup.Id)));
Appf_53071(&Result_112663, ((NimStringDesc*) &TMP198867), LOC29, 1);
Pushsym_112269(W_112661, (*T_112662).Sym);
LA27: ;
if (!!(((*T_112662).Size == -1))) goto LA31;
memset((void*)&LOC33, 0, sizeof(LOC33));
LOC33[0] = Encodeint_94073((*T_112662).Size);
Appf_53071(&Result_112663, ((NimStringDesc*) &TMP198885), LOC33, 1);
LA31: ;
if (!!(((*T_112662).Align == 2))) goto LA35;
memset((void*)&LOC37, 0, sizeof(LOC37));
LOC37[0] = Encodeint_94073(((NI64) ((*T_112662).Align)));
Appf_53071(&Result_112663, ((NimStringDesc*) &TMP198886), LOC37, 1);
LA35: ;
if (!!(((*T_112662).Containerid == 0))) goto LA39;
memset((void*)&LOC41, 0, sizeof(LOC41));
LOC41[0] = Encodeint_94073(((NI64) ((*T_112662).Containerid)));
Appf_53071(&Result_112663, ((NimStringDesc*) &TMP198872), LOC41, 1);
LA39: ;
LOC42 = 0;
LOC42 = Encodeloc_112548(W_112661, (*T_112662).Loc);
App_53031(&Result_112663, LOC42);
I_112806 = 0;
HEX3Atmp_112824 = 0;
LOC43 = Sonslen_56807(T_112662);
HEX3Atmp_112824 = (NI32)(LOC43 - 1);
Res_112826 = 0;
Res_112826 = 0;
while (1) {
if (!(Res_112826 <= HEX3Atmp_112824)) goto LA44;
I_112806 = Res_112826;
if (!((*T_112662).Sons->data[I_112806] == NIM_NIL)) goto LA46;
App_53036(&Result_112663, ((NimStringDesc*) &TMP198887));
goto LA45;
LA46: ;
memset((void*)&LOC48, 0, sizeof(LOC48));
LOC48[0] = Encodeint_94073(((NI64) ((*(*T_112662).Sons->data[I_112806]).Sup.Id)));
Appf_53071(&Result_112663, ((NimStringDesc*) &TMP198868), LOC48, 1);
Pushtype_112240(W_112661, (*T_112662).Sons->data[I_112806]);
LA45: ;
Res_112826 += 1;
} LA44: ;
BeforeRet: ;
return Result_112663;
}
N_NIMCALL(void, Typestack_113214)(TY112004* W_113216) {
NI I_113217;
NI LOC3;
NI L_113234;
TY53008* LOC6;
I_113217 = 0;
I_113217 = 0;
while (1) {
if (!(I_113217 < (*W_113216).Tstack->Sup.len)) goto LA1;
LOC3 = Iitableget_61224((*W_113216).Index.Tab, (*(*W_113216).Tstack->data[I_113217]).Sup.Id);
if (!(LOC3 == (-2147483647 -1))) goto LA4;
L_113234 = 0;
L_113234 = Ropelen_53052((*W_113216).Data);
Addtoindex_113066(&(*W_113216).Index, (*(*W_113216).Tstack->data[I_113217]).Sup.Id, L_113234);
LOC6 = 0;
LOC6 = Encodetype_112659(W_113216, (*W_113216).Tstack->data[I_113217]);
App_53031(&(*W_113216).Data, LOC6);
App_53036(&(*W_113216).Data, ((NimStringDesc*) &TMP198863));
LA4: ;
I_113217 += 1;
} LA1: ;
(*W_113216).Tstack = (TY56550*) setLengthSeq(&((*W_113216).Tstack)->Sup, sizeof(TY56552*), 0);
}
N_NIMCALL(void, Processstacks_112053)(TY112004* W_112055) {
NIM_BOOL LOC2;
while (1) {
LOC2 = (0 < (*W_112055).Tstack->Sup.len);
if (LOC2) goto LA3;
LOC2 = (0 < (*W_112055).Sstack->Sup.len);
LA3: ;
if (!LOC2) goto LA1;
Symstack_113083(W_112055);
Typestack_113214(W_112055);
} LA1: ;
}
N_NIMCALL(void, Rawaddinterfacesym_113293)(TY112004* W_113295, TY56548* S_113296) {
Pushsym_112269(W_113295, S_113296);
Processstacks_112053(W_113295);
}
N_NIMCALL(TY106002*, Myopen_113827)(TY56548* Module_113829, NimStringDesc* Filename_113830) {
TY106002* Result_113831;
TY112004* W_113836;
int LOC4;
Result_113831 = 0;
W_113836 = 0;
Result_113831 = NIM_NIL;
if (!((*Module_113829).Sup.Id < 0)) goto LA2;
Internalerror_49212(((NimStringDesc*) &TMP198859));
LA2: ;
W_113836 = NIM_NIL;
LOC4 = Getcrc_94064(Filename_113830);
W_113836 = Newrodwriter_112024(Filename_113830, LOC4, Module_113829);
Rawaddinterfacesym_113293(W_113836, Module_113829);
Result_113831 = &W_113836->Sup;
return Result_113831;
}
N_NIMCALL(void, Writerod_112045)(TY112004* W_112047) {
TY53008* Content_113347;
TY53008* LOC1;
TY53008* LOC2;
TY53008* LOC3;
TY53008* LOC4;
TY53008* LOC5;
TY53008* LOC6;
TY53008* LOC7;
TY53008* LOC8;
TY53008* LOC9;
NI I_113371;
NI HEX3Atmp_113402;
NI Res_113404;
TY53008* LOC11;
TY53008* LOC12;
TY53008* LOC13;
TY53008* LOC14;
TY53008* LOC15;
TY53008* LOC16;
TY53008* LOC17;
TY53008* LOC18;
TY53008* LOC19;
TY53008* LOC20;
TY53008* LOC21;
TY53008* LOC22;
TY53008* LOC23;
TY53008* LOC24;
TY53008* LOC25;
TY53008* LOC26;
TY53008* LOC27;
TY53008* LOC28;
TY53008* LOC29;
NimStringDesc* LOC30;
NimStringDesc* LOC31;
Content_113347 = 0;
Processstacks_112053(W_112047);
Content_113347 = NIM_NIL;
Content_113347 = Torope_53046(((NimStringDesc*) &TMP198888));
LOC1 = 0;
LOC1 = Torope_53046(((NimStringDesc*) &TMP198889));
App_53031(&Content_113347, LOC1);
App_53036(&Content_113347, ((NimStringDesc*) &TMP198863));
LOC2 = 0;
LOC2 = Torope_53046(((NimStringDesc*) &TMP198890));
App_53031(&Content_113347, LOC2);
LOC3 = 0;
LOC3 = Encodeint_94073(((NI64) ((*(*W_112047).Module).Sup.Id)));
App_53031(&Content_113347, LOC3);
App_53036(&Content_113347, ((NimStringDesc*) &TMP198863));
LOC4 = 0;
LOC4 = Torope_53046(((NimStringDesc*) &TMP198891));
App_53031(&Content_113347, LOC4);
LOC5 = 0;
LOC5 = Encodeint_94073(((NI64) ((*W_112047).Crc)));
App_53031(&Content_113347, LOC5);
App_53036(&Content_113347, ((NimStringDesc*) &TMP198863));
LOC6 = 0;
LOC6 = Torope_53046(((NimStringDesc*) &TMP198892));
App_53031(&Content_113347, LOC6);
LOC7 = 0;
LOC7 = Encodeint_94073(((NI64) (((int) ((*W_112047).Options)))));
App_53031(&Content_113347, LOC7);
App_53036(&Content_113347, ((NimStringDesc*) &TMP198863));
LOC8 = 0;
LOC8 = Torope_53046(((NimStringDesc*) &TMP198893));
App_53031(&Content_113347, LOC8);
App_53031(&Content_113347, (*W_112047).Defines);
App_53036(&Content_113347, ((NimStringDesc*) &TMP198863));
LOC9 = 0;
LOC9 = Torope_53046(((NimStringDesc*) &TMP198894));
App_53031(&Content_113347, LOC9);
I_113371 = 0;
HEX3Atmp_113402 = 0;
HEX3Atmp_113402 = ((*W_112047).Files->Sup.len-1);
Res_113404 = 0;
Res_113404 = 0;
while (1) {
if (!(Res_113404 <= HEX3Atmp_113402)) goto LA10;
I_113371 = Res_113404;
LOC11 = 0;
LOC11 = Encode_94076((*W_112047).Files->data[I_113371]);
App_53031(&Content_113347, LOC11);
App_53036(&Content_113347, ((NimStringDesc*) &TMP198863));
Res_113404 += 1;
} LA10: ;
LOC12 = 0;
LOC12 = Torope_53046(((NimStringDesc*) &TMP198895));
App_53031(&Content_113347, LOC12);
LOC13 = 0;
LOC13 = Torope_53046(((NimStringDesc*) &TMP198896));
App_53031(&Content_113347, LOC13);
App_53031(&Content_113347, (*W_112047).Incldeps);
LOC14 = 0;
LOC14 = Torope_53046(((NimStringDesc*) &TMP198895));
App_53031(&Content_113347, LOC14);
LOC15 = 0;
LOC15 = Torope_53046(((NimStringDesc*) &TMP198897));
App_53031(&Content_113347, LOC15);
App_53031(&Content_113347, (*W_112047).Moddeps);
App_53036(&Content_113347, ((NimStringDesc*) &TMP198863));
LOC16 = 0;
LOC16 = Torope_53046(((NimStringDesc*) &TMP198898));
App_53031(&Content_113347, LOC16);
App_53031(&Content_113347, (*W_112047).Interf);
LOC17 = 0;
LOC17 = Torope_53046(((NimStringDesc*) &TMP198895));
App_53031(&Content_113347, LOC17);
LOC18 = 0;
LOC18 = Torope_53046(((NimStringDesc*) &TMP198899));
App_53031(&Content_113347, LOC18);
App_53031(&Content_113347, (*W_112047).Compilerprocs);
LOC19 = 0;
LOC19 = Torope_53046(((NimStringDesc*) &TMP198895));
App_53031(&Content_113347, LOC19);
LOC20 = 0;
LOC20 = Torope_53046(((NimStringDesc*) &TMP198900));
App_53031(&Content_113347, LOC20);
App_53031(&Content_113347, (*W_112047).Index.R);
LOC21 = 0;
LOC21 = Torope_53046(((NimStringDesc*) &TMP198895));
App_53031(&Content_113347, LOC21);
LOC22 = 0;
LOC22 = Torope_53046(((NimStringDesc*) &TMP198901));
App_53031(&Content_113347, LOC22);
App_53031(&Content_113347, (*W_112047).Imports.R);
LOC23 = 0;
LOC23 = Torope_53046(((NimStringDesc*) &TMP198895));
App_53031(&Content_113347, LOC23);
LOC24 = 0;
LOC24 = Torope_53046(((NimStringDesc*) &TMP198902));
App_53031(&Content_113347, LOC24);
App_53031(&Content_113347, (*W_112047).Converters);
LOC25 = 0;
LOC25 = Torope_53046(((NimStringDesc*) &TMP198863));
App_53031(&Content_113347, LOC25);
LOC26 = 0;
LOC26 = Torope_53046(((NimStringDesc*) &TMP198903));
App_53031(&Content_113347, LOC26);
App_53031(&Content_113347, (*W_112047).Init);
LOC27 = 0;
LOC27 = Torope_53046(((NimStringDesc*) &TMP198895));
App_53031(&Content_113347, LOC27);
LOC28 = 0;
LOC28 = Torope_53046(((NimStringDesc*) &TMP198904));
App_53031(&Content_113347, LOC28);
App_53031(&Content_113347, (*W_112047).Data);
LOC29 = 0;
LOC29 = Torope_53046(((NimStringDesc*) &TMP198895));
App_53031(&Content_113347, LOC29);
LOC30 = 0;
LOC30 = nosChangeFileExt((*W_112047).Filename, ((NimStringDesc*) &TMP198905));
LOC31 = 0;
LOC31 = Completegeneratedfilepath_47106(LOC30, NIM_TRUE);
Writerope_53055(Content_113347, LOC31);
}
N_NIMCALL(TY56526*, Myclose_113837)(TY106002* C_113839, TY56526* N_113840) {
TY56526* Result_113841;
TY112004* W_113842;
Result_113841 = 0;
W_113842 = 0;
Result_113841 = NIM_NIL;
W_113842 = NIM_NIL;
W_113842 = ((TY112004*) (C_113839));
Writerod_112045(W_113842);
Result_113841 = N_113840;
return Result_113841;
}
N_NIMCALL(void, Addinterfacesym_112037)(TY112004* W_112039, TY56548* S_112040) {
if (!(W_112039 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
if (!!(((524296 & (*S_112040).Flags) == 0))) goto LA5;
Rawaddinterfacesym_113293(W_112039, S_112040);
LA5: ;
BeforeRet: ;
}
N_NIMCALL(void, Addmoddep_112029)(TY112004* W_112031, NimStringDesc* Dep_112032) {
NI LOC4;
TY53008* LOC5;
if (!!(((*W_112031).Moddeps == NIM_NIL))) goto LA2;
App_53036(&(*W_112031).Moddeps, ((NimStringDesc*) &TMP198861));
LA2: ;
LOC4 = Fileidx_112089(W_112031, Dep_112032);
LOC5 = 0;
LOC5 = Encodeint_94073(((NI64) (LOC4)));
App_53031(&(*W_112031).Moddeps, LOC5);
}
N_NIMCALL(void, Addstmt_112041)(TY112004* W_112043, TY56526* N_112044) {
NI LOC1;
TY53008* LOC2;
TY48538 LOC3;
TY53008* LOC4;
LOC1 = Ropelen_53052((*W_112043).Data);
LOC2 = 0;
LOC2 = Encodeint_94073(((NI64) (LOC1)));
App_53031(&(*W_112043).Init, LOC2);
App_53036(&(*W_112043).Init, ((NimStringDesc*) &TMP198863));
LOC3 = Unknownlineinfo_48575();
LOC4 = 0;
LOC4 = Encodenode_112298(W_112043, LOC3, N_112044);
App_53031(&(*W_112043).Data, LOC4);
App_53036(&(*W_112043).Data, ((NimStringDesc*) &TMP198863));
Processstacks_112053(W_112043);
}
N_NIMCALL(void, Addincldep_112033)(TY112004* W_112035, NimStringDesc* Dep_112036) {
NI LOC1;
TY53008* LOC2;
int LOC3;
TY53008* LOC4;
LOC1 = Fileidx_112089(W_112035, Dep_112036);
LOC2 = 0;
LOC2 = Encodeint_94073(((NI64) (LOC1)));
App_53031(&(*W_112035).Incldeps, LOC2);
App_53036(&(*W_112035).Incldeps, ((NimStringDesc*) &TMP198861));
LOC3 = Crcfromfile_51029(Dep_112036);
LOC4 = 0;
LOC4 = Encodeint_94073(((NI64) (LOC3)));
App_53031(&(*W_112035).Incldeps, LOC4);
App_53036(&(*W_112035).Incldeps, ((NimStringDesc*) &TMP198863));
}
N_NIMCALL(TY56526*, Process_113405)(TY106002* C_113407, TY56526* N_113408) {
TY56526* Result_113409;
TY112004* W_113421;
NI I_113430;
NI HEX3Atmp_113806;
NI LOC4;
NI Res_113808;
TY56526* LOC6;
TY56548* S_113467;
TY56548* S_113492;
NIM_BOOL LOC11;
NIM_BOOL LOC12;
NI I_113555;
NI HEX3Atmp_113810;
NI LOC17;
NI Res_113812;
TY56526* A_113568;
NI I_113619;
NI HEX3Atmp_113814;
NI LOC26;
NI Res_113816;
TY56526* A_113632;
NI I_113683;
NI HEX3Atmp_113818;
NI LOC35;
NI Res_113820;
TY56526* A_113696;
TY56548* S_113751;
NI I_113760;
NI HEX3Atmp_113821;
NI LOC44;
NI Res_113823;
NimStringDesc* LOC46;
NimStringDesc* LOC47;
NI I_113793;
NI HEX3Atmp_113824;
NI LOC48;
NI Res_113826;
NimStringDesc* LOC50;
Result_113409 = 0;
W_113421 = 0;
S_113467 = 0;
S_113492 = 0;
A_113568 = 0;
A_113632 = 0;
A_113696 = 0;
S_113751 = 0;
Result_113409 = NIM_NIL;
Result_113409 = N_113408;
if (!(C_113407 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
W_113421 = NIM_NIL;
W_113421 = ((TY112004*) (C_113407));
switch ((*N_113408).Kind) {
case ((NU8) 101):
I_113430 = 0;
HEX3Atmp_113806 = 0;
LOC4 = Sonslen_56804(N_113408);
HEX3Atmp_113806 = (NI32)(LOC4 - 1);
Res_113808 = 0;
Res_113808 = 0;
while (1) {
if (!(Res_113808 <= HEX3Atmp_113806)) goto LA5;
I_113430 = Res_113808;
LOC6 = 0;
LOC6 = Process_113405(C_113407, (*N_113408).KindU.S6.Sons->data[I_113430]);
Res_113808 += 1;
} LA5: ;
break;
case ((NU8) 73):
case ((NU8) 72):
S_113467 = NIM_NIL;
S_113467 = (*(*N_113408).KindU.S6.Sons->data[0]).KindU.S4.Sym;
Addinterfacesym_112037(W_113421, S_113467);
break;
case ((NU8) 69):
case ((NU8) 70):
case ((NU8) 74):
case ((NU8) 71):
S_113492 = NIM_NIL;
S_113492 = (*(*N_113408).KindU.S6.Sons->data[0]).KindU.S4.Sym;
if (!(S_113492 == NIM_NIL)) goto LA8;
Internalerror_49208((*N_113408).Info, ((NimStringDesc*) &TMP198906));
LA8: ;
LOC12 = !(((*N_113408).KindU.S6.Sons->data[4] == NIM_NIL));
if (LOC12) goto LA13;
LOC12 = !(((*S_113492).Magic == ((NU8) 0)));
LA13: ;
LOC11 = LOC12;
if (LOC11) goto LA14;
LOC11 = !((((*S_113492).Flags &(1<<((((NU8) 6))&31)))!=0));
LA14: ;
if (!LOC11) goto LA15;
Addinterfacesym_112037(W_113421, S_113492);
LA15: ;
break;
case ((NU8) 87):
I_113555 = 0;
HEX3Atmp_113810 = 0;
LOC17 = Sonslen_56804(N_113408);
HEX3Atmp_113810 = (NI32)(LOC17 - 1);
Res_113812 = 0;
Res_113812 = 0;
while (1) {
if (!(Res_113812 <= HEX3Atmp_113810)) goto LA18;
I_113555 = Res_113812;
A_113568 = NIM_NIL;
A_113568 = (*N_113408).KindU.S6.Sons->data[I_113555];
if (!((*A_113568).Kind == ((NU8) 105))) goto LA21;
goto LA19;
LA21: ;
if (!!(((*A_113568).Kind == ((NU8) 25)))) goto LA24;
Internalerror_49208((*A_113568).Info, ((NimStringDesc*) &TMP198906));
LA24: ;
Addinterfacesym_112037(W_113421, (*(*A_113568).KindU.S6.Sons->data[0]).KindU.S4.Sym);
LA19: ;
Res_113812 += 1;
} LA18: ;
break;
case ((NU8) 88):
I_113619 = 0;
HEX3Atmp_113814 = 0;
LOC26 = Sonslen_56804(N_113408);
HEX3Atmp_113814 = (NI32)(LOC26 - 1);
Res_113816 = 0;
Res_113816 = 0;
while (1) {
if (!(Res_113816 <= HEX3Atmp_113814)) goto LA27;
I_113619 = Res_113816;
A_113632 = NIM_NIL;
A_113632 = (*N_113408).KindU.S6.Sons->data[I_113619];
if (!((*A_113632).Kind == ((NU8) 105))) goto LA30;
goto LA28;
LA30: ;
if (!!(((*A_113632).Kind == ((NU8) 89)))) goto LA33;
Internalerror_49208((*A_113632).Info, ((NimStringDesc*) &TMP198906));
LA33: ;
Addinterfacesym_112037(W_113421, (*(*A_113632).KindU.S6.Sons->data[0]).KindU.S4.Sym);
LA28: ;
Res_113816 += 1;
} LA27: ;
break;
case ((NU8) 90):
I_113683 = 0;
HEX3Atmp_113818 = 0;
LOC35 = Sonslen_56804(N_113408);
HEX3Atmp_113818 = (NI32)(LOC35 - 1);
Res_113820 = 0;
Res_113820 = 0;
while (1) {
if (!(Res_113820 <= HEX3Atmp_113818)) goto LA36;
I_113683 = Res_113820;
A_113696 = NIM_NIL;
A_113696 = (*N_113408).KindU.S6.Sons->data[I_113683];
if (!((*A_113696).Kind == ((NU8) 105))) goto LA39;
goto LA37;
LA39: ;
if (!!(((*(*A_113696).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA42;
Internalerror_49208((*A_113696).Info, ((NimStringDesc*) &TMP198906));
LA42: ;
S_113751 = NIM_NIL;
S_113751 = (*(*A_113696).KindU.S6.Sons->data[0]).KindU.S4.Sym;
Addinterfacesym_112037(W_113421, S_113751);
LA37: ;
Res_113820 += 1;
} LA36: ;
break;
case ((NU8) 102):
I_113760 = 0;
HEX3Atmp_113821 = 0;
LOC44 = Sonslen_56804(N_113408);
HEX3Atmp_113821 = (NI32)(LOC44 - 1);
Res_113823 = 0;
Res_113823 = 0;
while (1) {
if (!(Res_113823 <= HEX3Atmp_113821)) goto LA45;
I_113760 = Res_113823;
LOC46 = 0;
LOC46 = Getmodulefile_111013((*N_113408).KindU.S6.Sons->data[I_113760]);
Addmoddep_112029(W_113421, LOC46);
Res_113823 += 1;
} LA45: ;
Addstmt_112041(W_113421, N_113408);
break;
case ((NU8) 103):
LOC47 = 0;
LOC47 = Getmodulefile_111013((*N_113408).KindU.S6.Sons->data[0]);
Addmoddep_112029(W_113421, LOC47);
Addstmt_112041(W_113421, N_113408);
break;
case ((NU8) 104):
I_113793 = 0;
HEX3Atmp_113824 = 0;
LOC48 = Sonslen_56804(N_113408);
HEX3Atmp_113824 = (NI32)(LOC48 - 1);
Res_113826 = 0;
Res_113826 = 0;
while (1) {
if (!(Res_113826 <= HEX3Atmp_113824)) goto LA49;
I_113793 = Res_113826;
LOC50 = 0;
LOC50 = Getmodulefile_111013((*N_113408).KindU.S6.Sons->data[I_113793]);
Addincldep_112033(W_113421, LOC50);
Res_113826 += 1;
} LA49: ;
break;
case ((NU8) 81):
Addstmt_112041(W_113421, N_113408);
break;
default:
break;
}
BeforeRet: ;
return Result_113409;
}
N_NIMCALL(TY106006, Rodwritepass_112001)(void) {
TY106006 Result_113845;
memset((void*)&Result_113845, 0, sizeof(Result_113845));
Initpass_106031(&Result_113845);
if (!((Gglobaloptions_47084 &(1<<((((NU8) 15))&31)))!=0)) goto LA2;
Result_113845.Open = Myopen_113827;
Result_113845.Close = Myclose_113837;
Result_113845.Process = Process_113405;
LA2: ;
return Result_113845;
}
N_NOINLINE(void, rodwriteInit)(void) {
Intsetinit_56919(&Debugwritten_113082);
}

