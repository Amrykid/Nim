/* Generated by Nimrod Compiler v0.8.11 */
/*   (c) 2011 Andreas Rumpf */

typedef long int NI;
typedef unsigned long int NU;
#include "nimbase.h"

typedef struct TY55901 TY55901;
typedef struct TY55897 TY55897;
typedef struct TY55899 TY55899;
typedef struct TGenericSeq TGenericSeq;
typedef struct TY105006 TY105006;
typedef struct TY105002 TY105002;
typedef struct TY55548 TY55548;
typedef struct NimStringDesc NimStringDesc;
typedef struct TY93031 TY93031;
typedef struct TY55526 TY55526;
typedef struct TY54005 TY54005;
typedef struct TNimObject TNimObject;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct TY55552 TY55552;
typedef struct TY54011 TY54011;
typedef struct TY47539 TY47539;
typedef struct TY55530 TY55530;
typedef struct TY55528 TY55528;
typedef struct TY55540 TY55540;
typedef struct TY52008 TY52008;
typedef struct TY55544 TY55544;
typedef struct TY111004 TY111004;
typedef struct TY93029 TY93029;
typedef struct TY60220 TY60220;
typedef struct TY60218 TY60218;
typedef struct TY60216 TY60216;
typedef struct TY55550 TY55550;
typedef struct TY39221 TY39221;
typedef struct TY11002 TY11002;
typedef struct TY11014 TY11014;
typedef struct TY11396 TY11396;
typedef struct TY11018 TY11018;
typedef struct TY11010 TY11010;
typedef struct TY11394 TY11394;
typedef struct TY60076 TY60076;
typedef struct TY55520 TY55520;
typedef struct TY43013 TY43013;
typedef struct TY55564 TY55564;
typedef struct TY55562 TY55562;
typedef struct TY55560 TY55560;
struct TGenericSeq {
NI len;
NI space;
};
struct TY55901 {
NI Counter;
NI Max;
TY55897* Head;
TY55899* Data;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
typedef N_NIMCALL_PTR(TY105002*, TY105007) (TY55548* Module_105008, NimStringDesc* Filename_105009);
typedef N_NIMCALL_PTR(TY105002*, TY105012) (TY55548* Module_105013, NimStringDesc* Filename_105014, TY93031* Rd_105015);
typedef N_NIMCALL_PTR(TY55526*, TY105018) (TY105002* P_105019, TY55526* N_105020);
typedef N_NIMCALL_PTR(TY55526*, TY105023) (TY105002* P_105024, TY55526* Toplevelstmt_105025);
struct TY105006 {
TY105007 Open;
TY105012 Opencached;
TY105018 Close;
TY105023 Process;
};
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TNimObject {
TNimType* m_type;
};
struct TY54005 {
  TNimObject Sup;
NI Id;
};
struct TY47539 {
NI16 Line;
NI16 Col;
int Fileindex;
};
struct TY55530 {
TNimType* m_type;
NI Counter;
TY55528* Data;
};
struct TY55540 {
NU8 K;
NU8 S;
NU8 Flags;
TY55552* T;
TY52008* R;
NI A;
};
struct TY55548 {
  TY54005 Sup;
NU8 Kind;
NU8 Magic;
TY55552* Typ;
TY54011* Name;
TY47539 Info;
TY55548* Owner;
NU32 Flags;
TY55530 Tab;
TY55526* Ast;
NU32 Options;
NI Position;
NI Offset;
TY55540 Loc;
TY55544* Annex;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct TY105002 {
  TNimObject Sup;
};
struct TY60216 {
NI Key;
NI Val;
};
struct TY60220 {
NI Counter;
TY60218* Data;
};
struct TY93029 {
NI Lastidxkey;
NI Lastidxval;
TY60220 Tab;
TY52008* R;
NI Offset;
};
struct TY111004 {
  TY105002 Sup;
TY55548* Module;
int Crc;
NU32 Options;
TY52008* Defines;
TY52008* Incldeps;
TY52008* Moddeps;
TY52008* Interf;
TY52008* Compilerprocs;
TY93029 Index;
TY93029 Imports;
TY52008* Converters;
TY52008* Init;
TY52008* Data;
NimStringDesc* Filename;
TY55528* Sstack;
TY55550* Tstack;
TY39221* Files;
};
struct TY11002 {
NI Refcount;
TNimType* Typ;
};
struct TY11018 {
NI Len;
NI Cap;
TY11002** D;
};
struct TY11014 {
NI Counter;
NI Max;
TY11010* Head;
TY11010** Data;
};
struct TY11394 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY11396 {
TY11018 Zct;
TY11018 Decstack;
TY11014 Cycleroots;
TY11018 Tempstack;
TY11394 Stat;
};
struct TY60076 {
NI H;
};
struct TY54011 {
  TY54005 Sup;
NimStringDesc* S;
TY54011* Next;
NI H;
};
typedef TY52008* TY175845[2];
typedef TY52008* TY52407[1];
struct TY55552 {
  TY54005 Sup;
NU8 Kind;
TY55550* Sons;
TY55526* N;
NU8 Flags;
NU8 Callconv;
TY55548* Owner;
TY55548* Sym;
NI64 Size;
NI Align;
NI Containerid;
TY55540 Loc;
};
typedef TY52008* TY161012[3];
struct TY55526 {
TY55552* Typ;
NimStringDesc* Comment;
TY47539 Info;
NU8 Flags;
NU8 Kind;
union {
struct {NI64 Intval;
} S1;
struct {NF64 Floatval;
} S2;
struct {NimStringDesc* Strval;
} S3;
struct {TY55548* Sym;
} S4;
struct {TY54011* Ident;
} S5;
struct {TY55520* Sons;
} S6;
} KindU;
};
struct TY43013 {
  TNimObject Sup;
TY43013* Prev;
TY43013* Next;
};
struct TY55544 {
  TY43013 Sup;
NU8 Kind;
NIM_BOOL Generated;
TY52008* Name;
TY55526* Path;
};
typedef NI TY9014[16];
struct TY55897 {
TY55897* Next;
NI Key;
TY9014 Bits;
};
struct TY55560 {
TY54005* Key;
TNimObject* Val;
};
struct TY55564 {
NI Counter;
TY55562* Data;
};
struct TY93031 {
  TNimObject Sup;
NI Pos;
NimStringDesc* S;
NU32 Options;
NU8 Reason;
TY39221* Moddeps;
TY39221* Files;
NI Dataidx;
NI Convertersidx;
NI Initidx;
NI Interfidx;
NI Compilerprocsidx;
NI Cgenidx;
NimStringDesc* Filename;
TY93029 Index;
TY93029 Imports;
NI Readerindex;
NI Line;
NI Moduleid;
TY55564 Syms;
};
struct TY52008 {
  TNimObject Sup;
TY52008* Left;
TY52008* Right;
NI Length;
NimStringDesc* Data;
};
struct TY11010 {
TY11010* Next;
NI Key;
TY9014 Bits;
};
struct TY55899 {
  TGenericSeq Sup;
  TY55897* data[SEQ_DECL_SIZE];
};
struct TY55528 {
  TGenericSeq Sup;
  TY55548* data[SEQ_DECL_SIZE];
};
struct TY60218 {
  TGenericSeq Sup;
  TY60216 data[SEQ_DECL_SIZE];
};
struct TY55550 {
  TGenericSeq Sup;
  TY55552* data[SEQ_DECL_SIZE];
};
struct TY39221 {
  TGenericSeq Sup;
  NimStringDesc* data[SEQ_DECL_SIZE];
};
struct TY55520 {
  TGenericSeq Sup;
  TY55526* data[SEQ_DECL_SIZE];
};
struct TY55562 {
  TGenericSeq Sup;
  TY55560 data[SEQ_DECL_SIZE];
};
N_NIMCALL(void, Intsetinit_55925)(TY55901* S_55928);
N_NIMCALL(void, Initpass_105031)(TY105006* P_105034);
N_NIMCALL(TY105002*, Myopen_112827)(TY55548* Module_112829, NimStringDesc* Filename_112830);
N_NIMCALL(void, Internalerror_47578)(NimStringDesc* Errmsg_47580);
N_NIMCALL(TY111004*, Newrodwriter_111024)(NimStringDesc* Modfilename_111026, int Crc_111027, TY55548* Module_111028);
N_NIMCALL(void*, newObj)(TNimType* Typ_14110, NI Size_14111);
N_NIMCALL(void*, newSeq)(TNimType* Typ_14604, NI Len_14605);
static N_INLINE(void, asgnRef)(void** Dest_13414, void* Src_13415);
static N_INLINE(void, Incref_13402)(TY11002* C_13404);
static N_INLINE(NI, Atomicinc_3401)(NI* Memloc_3404, NI X_3405);
static N_INLINE(NIM_BOOL, Canbecycleroot_11816)(TY11002* C_11818);
static N_INLINE(void, Rtladdcycleroot_12452)(TY11002* C_12454);
N_NOINLINE(void, Incl_11280)(TY11014* S_11283, TY11002* Cell_11284);
static N_INLINE(TY11002*, Usrtocell_11812)(void* Usr_11814);
static N_INLINE(void, Decref_13201)(TY11002* C_13203);
static N_INLINE(NI, Atomicdec_3406)(NI* Memloc_3409, NI X_3410);
static N_INLINE(void, Rtladdzct_12801)(TY11002* C_12803);
N_NOINLINE(void, Addzct_11801)(TY11018* S_11804, TY11002* C_11805);
N_NIMCALL(void, Initiitable_60225)(TY60220* X_60228);
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13418, void* Src_13419);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* Src_18912);
N_NIMCALL(TY52008*, Getdefines_111056)(void);
N_NIMCALL(TY55548*, Inittabiter_60078)(TY60076* Ti_60081, TY55530* Tab_60082);
N_NIMCALL(void, App_52036)(TY52008** A_52039, NimStringDesc* B_52040);
N_NIMCALL(TY55548*, Nextiter_60083)(TY60076* Ti_60086, TY55530* Tab_60087);
N_NIMCALL(int, Getcrc_93064)(NimStringDesc* Filename_93066);
N_NIMCALL(void, Rawaddinterfacesym_112293)(TY111004* W_112295, TY55548* S_112296);
N_NIMCALL(void, Pushsym_111269)(TY111004* W_111271, TY55548* S_111272);
N_NIMCALL(NI, Iitableget_60229)(TY60220 T_60231, NI Key_60232);
N_NIMCALL(TGenericSeq*, setLengthSeq)(TGenericSeq* Seq_19203, NI Elemsize_19204, NI Newlen_19205);
N_NIMCALL(void, Processstacks_111053)(TY111004* W_111055);
N_NIMCALL(void, Symstack_112083)(TY111004* W_112085);
N_NIMCALL(TY55548*, Getmodule_60203)(TY55548* S_60205);
static N_INLINE(void, appendString)(NimStringDesc* Dest_18999, NimStringDesc* Src_19000);
N_NIMCALL(NimStringDesc*, rawNewString)(NI Space_18889);
N_NIMCALL(NI, Ropelen_52052)(TY52008* A_52054);
N_NIMCALL(void, Addtoindex_112066)(TY93029* W_112069, NI Key_112070, NI Val_112071);
N_NIMCALL(void, App_52031)(TY52008** A_52034, TY52008* B_52035);
N_NIMCALL(TY52008*, Encodeint_93073)(NI64 X_93075);
N_NIMCALL(void, Appf_52071)(TY52008** C_52074, NimStringDesc* Frmt_52075, TY52008** Args_52077, NI Args_52077Len0);
N_NIMCALL(void, Iitableput_60233)(TY60220* T_60236, NI Key_60237, NI Val_60238);
N_NIMCALL(TY52008*, Encodesym_111853)(TY111004* W_111855, TY55548* S_111856);
N_NIMCALL(TY52008*, Torope_52046)(NimStringDesc* S_52048);
N_NIMCALL(TY52008*, Encodestr_111048)(TY111004* W_111050, NimStringDesc* S_111051);
N_NIMCALL(TY52008*, Encode_93076)(NimStringDesc* S_93078);
N_NIMCALL(void, Pushtype_111240)(TY111004* W_111242, TY55552* T_111243);
N_NIMCALL(NI, Fileidx_111089)(TY111004* W_111091, NimStringDesc* Filename_111092);
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* A_18849, NimStringDesc* B_18850);
N_NIMCALL(NimStringDesc*, Tofilename_47586)(TY47539 Info_47588);
N_NIMCALL(NIM_BOOL, Astneeded_105041)(TY55548* S_105043);
N_NIMCALL(TY52008*, Encodenode_111298)(TY111004* W_111300, TY47539 Finfo_111301, TY55526* N_111302);
N_NIMCALL(NimStringDesc*, nimFloatToStr)(NF X_19663);
static N_INLINE(NI, Sonslen_55804)(TY55526* N_55806);
N_NIMCALL(TY52008*, Encodeloc_111548)(TY111004* W_111550, TY55540 Loc_111551);
N_NIMCALL(NimStringDesc*, Ropetostr_52063)(TY52008* P_52065);
N_NIMCALL(TY52008*, Ropef_52066)(NimStringDesc* Frmt_52068, TY52008** Args_52070, NI Args_52070Len0);
N_NIMCALL(TY52008*, Encodelib_111827)(TY111004* W_111829, TY55544* Lib_111830, TY47539 Info_111831);
N_NIMCALL(void, Typestack_112214)(TY111004* W_112216);
N_NIMCALL(TY52008*, Encodetype_111659)(TY111004* W_111661, TY55552* T_111662);
N_NIMCALL(TY47539, Unknownlineinfo_47543)(void);
static N_INLINE(NI, Sonslen_55807)(TY55552* N_55809);
N_NIMCALL(TY55526*, Myclose_112837)(TY105002* C_112839, TY55526* N_112840);
N_NIMCALL(void, Writerod_111045)(TY111004* W_111047);
N_NIMCALL(void, Writerope_52055)(TY52008* Head_52057, NimStringDesc* Filename_52058);
N_NIMCALL(NimStringDesc*, Completegeneratedfilepath_46101)(NimStringDesc* F_46103, NIM_BOOL Createsubdir_46104);
N_NIMCALL(NimStringDesc*, nosChangeFileExt)(NimStringDesc* Filename_38820, NimStringDesc* Ext_38821);
N_NIMCALL(TY55526*, Process_112405)(TY105002* C_112407, TY55526* N_112408);
N_NIMCALL(void, Addinterfacesym_111037)(TY111004* W_111039, TY55548* S_111040);
N_NIMCALL(void, Internalerror_47574)(TY47539 Info_47576, NimStringDesc* Errmsg_47577);
N_NIMCALL(void, Addmoddep_111029)(TY111004* W_111031, NimStringDesc* Dep_111032);
N_NIMCALL(NimStringDesc*, Getmodulefile_110013)(TY55526* N_110015);
N_NIMCALL(void, Addstmt_111041)(TY111004* W_111043, TY55526* N_111044);
N_NIMCALL(void, Addincldep_111033)(TY111004* W_111035, NimStringDesc* Dep_111036);
N_NIMCALL(int, Crcfromfile_50029)(NimStringDesc* Filename_50031);
STRING_LITERAL(TMP196808, "rodwrite: module ID not set", 27);
STRING_LITERAL(TMP196810, " ", 1);
STRING_LITERAL(TMP196811, "symStack: module nil: ", 22);
STRING_LITERAL(TMP196812, "\012", 1);
STRING_LITERAL(TMP196813, "$1 $2\012", 6);
STRING_LITERAL(TMP196814, "{}", 2);
STRING_LITERAL(TMP196815, "+$1", 3);
STRING_LITERAL(TMP196816, "&$1", 3);
STRING_LITERAL(TMP196817, "^$1", 3);
STRING_LITERAL(TMP196818, "?$1,$2,$3", 9);
STRING_LITERAL(TMP196819, "*$1", 3);
STRING_LITERAL(TMP196820, "$$$1", 4);
STRING_LITERAL(TMP196821, "@$1", 3);
STRING_LITERAL(TMP196822, "()", 2);
STRING_LITERAL(TMP196823, "(", 1);
STRING_LITERAL(TMP196824, "?$1,$2", 6);
STRING_LITERAL(TMP196825, "?$1", 3);
STRING_LITERAL(TMP196826, "!$1", 3);
STRING_LITERAL(TMP196827, ")", 1);
STRING_LITERAL(TMP196828, "%$1", 3);
STRING_LITERAL(TMP196829, "`$1", 3);
STRING_LITERAL(TMP196830, "<$1>", 4);
STRING_LITERAL(TMP196831, "|$1", 3);
STRING_LITERAL(TMP196832, "[]", 2);
STRING_LITERAL(TMP196833, "encodeType: tyForward", 21);
STRING_LITERAL(TMP196834, "/$1", 3);
STRING_LITERAL(TMP196835, "=$1", 3);
STRING_LITERAL(TMP196836, "^()", 3);
STRING_LITERAL(TMP196837, "NIM:", 4);
STRING_LITERAL(TMP196838, "1012", 4);
STRING_LITERAL(TMP196839, "ID:", 3);
STRING_LITERAL(TMP196840, "CRC:", 4);
STRING_LITERAL(TMP196841, "OPTIONS:", 8);
STRING_LITERAL(TMP196842, "DEFINES:", 8);
STRING_LITERAL(TMP196843, "FILES(\012", 7);
STRING_LITERAL(TMP196844, ")\012", 2);
STRING_LITERAL(TMP196845, "INCLUDES(\012", 10);
STRING_LITERAL(TMP196846, "DEPS:", 5);
STRING_LITERAL(TMP196847, "INTERF(\012", 8);
STRING_LITERAL(TMP196848, "COMPILERPROCS(\012", 15);
STRING_LITERAL(TMP196849, "INDEX(\012", 7);
STRING_LITERAL(TMP196850, "IMPORTS(\012", 9);
STRING_LITERAL(TMP196851, "CONVERTERS:", 11);
STRING_LITERAL(TMP196852, "INIT(\012", 6);
STRING_LITERAL(TMP196853, "DATA(\012", 6);
STRING_LITERAL(TMP196854, "rod", 3);
STRING_LITERAL(TMP196855, "rodwrite.process", 16);
TY55901 Debugwritten_112082;
extern NU32 Gglobaloptions_46079;
extern TNimType* NTI111006; /* PRodWriter */
extern TNimType* NTI111004; /* TRodWriter */
extern TNimType* NTI55528; /* TSymSeq */
extern TY11396 Gch_11414;
extern TNimType* NTI55550; /* TTypeSeq */
extern TY55530 Gsymbols_64001;
extern NU32 Goptions_46077;
extern TNimType* NTI39221; /* seq[string] */
static N_INLINE(NI, Atomicinc_3401)(NI* Memloc_3404, NI X_3405) {
NI Result_8007;
Result_8007 = 0;
(*Memloc_3404) += X_3405;
Result_8007 = (*Memloc_3404);
return Result_8007;
}
static N_INLINE(NIM_BOOL, Canbecycleroot_11816)(TY11002* C_11818) {
NIM_BOOL Result_11819;
Result_11819 = 0;
Result_11819 = !((((*(*C_11818).Typ).flags &(1<<((((NU8) 1))&7)))!=0));
return Result_11819;
}
static N_INLINE(void, Rtladdcycleroot_12452)(TY11002* C_12454) {
Incl_11280(&Gch_11414.Cycleroots, C_12454);
}
static N_INLINE(void, Incref_13402)(TY11002* C_13404) {
NI LOC1;
NIM_BOOL LOC3;
LOC1 = Atomicinc_3401(&(*C_13404).Refcount, 8);
LOC3 = Canbecycleroot_11816(C_13404);
if (!LOC3) goto LA4;
Rtladdcycleroot_12452(C_13404);
LA4: ;
}
static N_INLINE(TY11002*, Usrtocell_11812)(void* Usr_11814) {
TY11002* Result_11815;
Result_11815 = 0;
Result_11815 = ((TY11002*) ((NI32)((NU32)(((NI) (Usr_11814))) - (NU32)(((NI) (((NI)sizeof(TY11002))))))));
return Result_11815;
}
static N_INLINE(NI, Atomicdec_3406)(NI* Memloc_3409, NI X_3410) {
NI Result_8206;
Result_8206 = 0;
(*Memloc_3409) -= X_3410;
Result_8206 = (*Memloc_3409);
return Result_8206;
}
static N_INLINE(void, Rtladdzct_12801)(TY11002* C_12803) {
Addzct_11801(&Gch_11414.Zct, C_12803);
}
static N_INLINE(void, Decref_13201)(TY11002* C_13203) {
NI LOC2;
NIM_BOOL LOC5;
LOC2 = Atomicdec_3406(&(*C_13203).Refcount, 8);
if (!((NU32)(LOC2) < (NU32)(8))) goto LA3;
Rtladdzct_12801(C_13203);
goto LA1;
LA3: ;
LOC5 = Canbecycleroot_11816(C_13203);
if (!LOC5) goto LA6;
Rtladdcycleroot_12452(C_13203);
goto LA1;
LA6: ;
LA1: ;
}
static N_INLINE(void, asgnRef)(void** Dest_13414, void* Src_13415) {
TY11002* LOC4;
TY11002* LOC8;
if (!!((Src_13415 == NIM_NIL))) goto LA2;
LOC4 = Usrtocell_11812(Src_13415);
Incref_13402(LOC4);
LA2: ;
if (!!(((*Dest_13414) == NIM_NIL))) goto LA6;
LOC8 = Usrtocell_11812((*Dest_13414));
Decref_13201(LOC8);
LA6: ;
(*Dest_13414) = Src_13415;
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13418, void* Src_13419) {
TY11002* C_13420;
NI LOC4;
TY11002* C_13422;
NI LOC9;
if (!!((Src_13419 == NIM_NIL))) goto LA2;
C_13420 = 0;
C_13420 = Usrtocell_11812(Src_13419);
LOC4 = Atomicinc_3401(&(*C_13420).Refcount, 8);
LA2: ;
if (!!(((*Dest_13418) == NIM_NIL))) goto LA6;
C_13422 = 0;
C_13422 = Usrtocell_11812((*Dest_13418));
LOC9 = Atomicdec_3406(&(*C_13422).Refcount, 8);
if (!((NU32)(LOC9) < (NU32)(8))) goto LA10;
Rtladdzct_12801(C_13422);
LA10: ;
LA6: ;
(*Dest_13418) = Src_13419;
}
N_NIMCALL(TY52008*, Getdefines_111056)(void) {
TY52008* Result_111058;
TY60076 It_111059;
TY55548* S_111061;
Result_111058 = 0;
memset((void*)&It_111059, 0, sizeof(It_111059));
S_111061 = 0;
S_111061 = Inittabiter_60078(&It_111059, &Gsymbols_64001);
Result_111058 = NIM_NIL;
while (1) {
if (!!((S_111061 == NIM_NIL))) goto LA1;
if (!((*S_111061).Position == 1)) goto LA3;
if (!!((Result_111058 == NIM_NIL))) goto LA6;
App_52036(&Result_111058, ((NimStringDesc*) &TMP196810));
LA6: ;
App_52036(&Result_111058, (*(*S_111061).Name).S);
LA3: ;
S_111061 = Nextiter_60083(&It_111059, &Gsymbols_64001);
} LA1: ;
return Result_111058;
}
N_NIMCALL(TY111004*, Newrodwriter_111024)(NimStringDesc* Modfilename_111026, int Crc_111027, TY55548* Module_111028) {
TY111004* Result_111148;
Result_111148 = 0;
Result_111148 = (TY111004*) newObj(NTI111006, sizeof(TY111004));
(*Result_111148).Sup.Sup.m_type = NTI111004;
asgnRef((void**) &(*Result_111148).Sstack, (TY55528*) newSeq(NTI55528, 0));
asgnRef((void**) &(*Result_111148).Tstack, (TY55550*) newSeq(NTI55550, 0));
Initiitable_60225(&(*Result_111148).Index.Tab);
Initiitable_60225(&(*Result_111148).Imports.Tab);
asgnRefNoCycle((void**) &(*Result_111148).Filename, copyString(Modfilename_111026));
(*Result_111148).Crc = Crc_111027;
asgnRef((void**) &(*Result_111148).Module, Module_111028);
asgnRefNoCycle((void**) &(*Result_111148).Defines, Getdefines_111056());
(*Result_111148).Options = Goptions_46077;
asgnRefNoCycle((void**) &(*Result_111148).Files, (TY39221*) newSeq(NTI39221, 0));
return Result_111148;
}
N_NIMCALL(void, Pushsym_111269)(TY111004* W_111271, TY55548* S_111272) {
NI LOC2;
NI L_111285;
LOC2 = Iitableget_60229((*W_111271).Index.Tab, (*S_111272).Sup.Id);
if (!(LOC2 == (-2147483647 -1))) goto LA3;
L_111285 = 0;
L_111285 = (*W_111271).Sstack->Sup.len;
(*W_111271).Sstack = (TY55528*) setLengthSeq(&((*W_111271).Sstack)->Sup, sizeof(TY55548*), (NI32)(L_111285 + 1));
asgnRef((void**) &(*W_111271).Sstack->data[L_111285], S_111272);
LA3: ;
}
static N_INLINE(void, appendString)(NimStringDesc* Dest_18999, NimStringDesc* Src_19000) {
memcpy(((NCSTRING) (&(*Dest_18999).data[((*Dest_18999).Sup.len)-0])), ((NCSTRING) ((*Src_19000).data)), ((int) ((NI32)((NI32)((*Src_19000).Sup.len + 1) * 1))));
(*Dest_18999).Sup.len += (*Src_19000).Sup.len;
}
N_NIMCALL(void, Addtoindex_112066)(TY93029* W_112069, NI Key_112070, NI Val_112071) {
TY52008* LOC4;
TY175845 LOC5;
if (!((NI32)(Key_112070 - (*W_112069).Lastidxkey) == 1)) goto LA2;
LOC4 = 0;
LOC4 = Encodeint_93073(((NI64) ((NI32)(Val_112071 - (*W_112069).Lastidxval))));
App_52031(&(*W_112069).R, LOC4);
App_52036(&(*W_112069).R, ((NimStringDesc*) &TMP196812));
goto LA1;
LA2: ;
memset((void*)&LOC5, 0, sizeof(LOC5));
LOC5[0] = Encodeint_93073(((NI64) ((NI32)(Key_112070 - (*W_112069).Lastidxkey))));
LOC5[1] = Encodeint_93073(((NI64) ((NI32)(Val_112071 - (*W_112069).Lastidxval))));
Appf_52071(&(*W_112069).R, ((NimStringDesc*) &TMP196813), LOC5, 2);
LA1: ;
(*W_112069).Lastidxkey = Key_112070;
(*W_112069).Lastidxval = Val_112071;
Iitableput_60233(&(*W_112069).Tab, Key_112070, Val_112071);
}
N_NIMCALL(TY52008*, Encodestr_111048)(TY111004* W_111050, NimStringDesc* S_111051) {
TY52008* Result_111052;
Result_111052 = 0;
Result_111052 = Encode_93076(S_111051);
return Result_111052;
}
N_NIMCALL(void, Pushtype_111240)(TY111004* W_111242, TY55552* T_111243) {
NI LOC2;
NI L_111256;
LOC2 = Iitableget_60229((*W_111242).Index.Tab, (*T_111243).Sup.Id);
if (!(LOC2 == (-2147483647 -1))) goto LA3;
L_111256 = 0;
L_111256 = (*W_111242).Tstack->Sup.len;
(*W_111242).Tstack = (TY55550*) setLengthSeq(&((*W_111242).Tstack)->Sup, sizeof(TY55552*), (NI32)(L_111256 + 1));
asgnRef((void**) &(*W_111242).Tstack->data[L_111256], T_111243);
LA3: ;
}
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* A_18849, NimStringDesc* B_18850) {
NIM_BOOL Result_18851;
NIM_BOOL LOC5;
NIM_BOOL LOC9;
int LOC11;
Result_18851 = 0;
if (!(A_18849 == B_18850)) goto LA2;
Result_18851 = NIM_TRUE;
goto BeforeRet;
LA2: ;
LOC5 = (A_18849 == NIM_NIL);
if (LOC5) goto LA6;
LOC5 = (B_18850 == NIM_NIL);
LA6: ;
if (!LOC5) goto LA7;
Result_18851 = NIM_FALSE;
goto BeforeRet;
LA7: ;
LOC9 = ((*A_18849).Sup.len == (*B_18850).Sup.len);
if (!(LOC9)) goto LA10;
LOC11 = memcmp(((NCSTRING) ((*A_18849).data)), ((NCSTRING) ((*B_18850).data)), ((int) ((NI32)((*A_18849).Sup.len * 1))));
LOC9 = (LOC11 == ((NI32) 0));
LA10: ;
Result_18851 = LOC9;
goto BeforeRet;
BeforeRet: ;
return Result_18851;
}
N_NIMCALL(NI, Fileidx_111089)(TY111004* W_111091, NimStringDesc* Filename_111092) {
NI Result_111093;
NI I_111117;
NI HEX3Atmp_111140;
NI Res_111142;
Result_111093 = 0;
I_111117 = 0;
HEX3Atmp_111140 = 0;
HEX3Atmp_111140 = ((*W_111091).Files->Sup.len-1);
Res_111142 = 0;
Res_111142 = 0;
while (1) {
if (!(Res_111142 <= HEX3Atmp_111140)) goto LA1;
I_111117 = Res_111142;
if (!eqStrings((*W_111091).Files->data[I_111117], Filename_111092)) goto LA3;
Result_111093 = I_111117;
goto BeforeRet;
LA3: ;
Res_111142 += 1;
} LA1: ;
Result_111093 = (*W_111091).Files->Sup.len;
(*W_111091).Files = (TY39221*) setLengthSeq(&((*W_111091).Files)->Sup, sizeof(NimStringDesc*), (NI32)(Result_111093 + 1));
asgnRefNoCycle((void**) &(*W_111091).Files->data[Result_111093], copyString(Filename_111092));
BeforeRet: ;
return Result_111093;
}
static N_INLINE(NI, Sonslen_55804)(TY55526* N_55806) {
NI Result_56886;
Result_56886 = 0;
if (!(*N_55806).KindU.S6.Sons == 0) goto LA2;
Result_56886 = 0;
goto LA1;
LA2: ;
Result_56886 = (*N_55806).KindU.S6.Sons->Sup.len;
LA1: ;
return Result_56886;
}
N_NIMCALL(TY52008*, Encodenode_111298)(TY111004* W_111300, TY47539 Finfo_111301, TY55526* N_111302) {
TY52008* Result_111303;
TY52008* LOC4;
TY161012 LOC8;
NimStringDesc* LOC9;
NI LOC10;
TY175845 LOC13;
TY52407 LOC16;
NU8 F_111352;
TY52407 LOC20;
TY52407 LOC24;
TY52407 LOC28;
TY52407 LOC32;
NimStringDesc* LOC33;
TY52407 LOC37;
TY52407 LOC38;
TY52407 LOC39;
NI I_111530;
NI HEX3Atmp_111545;
NI LOC40;
NI Res_111547;
TY52008* LOC42;
Result_111303 = 0;
if (!(N_111302 == NIM_NIL)) goto LA2;
Result_111303 = Torope_52046(((NimStringDesc*) &TMP196822));
goto BeforeRet;
LA2: ;
Result_111303 = Torope_52046(((NimStringDesc*) &TMP196823));
LOC4 = 0;
LOC4 = Encodeint_93073(((NI64) ((*N_111302).Kind)));
App_52031(&Result_111303, LOC4);
if (!!((Finfo_111301.Fileindex == (*N_111302).Info.Fileindex))) goto LA6;
memset((void*)&LOC8, 0, sizeof(LOC8));
LOC8[0] = Encodeint_93073(((NI64) ((*N_111302).Info.Col)));
LOC8[1] = Encodeint_93073(((NI64) ((*N_111302).Info.Line)));
LOC9 = 0;
LOC9 = Tofilename_47586((*N_111302).Info);
LOC10 = Fileidx_111089(W_111300, LOC9);
LOC8[2] = Encodeint_93073(((NI64) (LOC10)));
Appf_52071(&Result_111303, ((NimStringDesc*) &TMP196818), LOC8, 3);
goto LA5;
LA6: ;
if (!!((Finfo_111301.Line == (*N_111302).Info.Line))) goto LA11;
memset((void*)&LOC13, 0, sizeof(LOC13));
LOC13[0] = Encodeint_93073(((NI64) ((*N_111302).Info.Col)));
LOC13[1] = Encodeint_93073(((NI64) ((*N_111302).Info.Line)));
Appf_52071(&Result_111303, ((NimStringDesc*) &TMP196824), LOC13, 2);
goto LA5;
LA11: ;
if (!!((Finfo_111301.Col == (*N_111302).Info.Col))) goto LA14;
memset((void*)&LOC16, 0, sizeof(LOC16));
LOC16[0] = Encodeint_93073(((NI64) ((*N_111302).Info.Col)));
Appf_52071(&Result_111303, ((NimStringDesc*) &TMP196825), LOC16, 1);
goto LA5;
LA14: ;
LA5: ;
memset((void*)&F_111352, 0, sizeof(F_111352));
F_111352 = ((*N_111302).Flags & 30);
if (!!((F_111352 == 0))) goto LA18;
memset((void*)&LOC20, 0, sizeof(LOC20));
LOC20[0] = Encodeint_93073(((NI64) (((int) (F_111352)))));
Appf_52071(&Result_111303, ((NimStringDesc*) &TMP196820), LOC20, 1);
LA18: ;
if (!!(((*N_111302).Typ == NIM_NIL))) goto LA22;
memset((void*)&LOC24, 0, sizeof(LOC24));
LOC24[0] = Encodeint_93073(((NI64) ((*(*N_111302).Typ).Sup.Id)));
Appf_52071(&Result_111303, ((NimStringDesc*) &TMP196817), LOC24, 1);
Pushtype_111240(W_111300, (*N_111302).Typ);
LA22: ;
switch ((*N_111302).Kind) {
case ((NU8) 5) ... ((NU8) 10):
if (!!(((*N_111302).KindU.S1.Intval == 0))) goto LA26;
memset((void*)&LOC28, 0, sizeof(LOC28));
LOC28[0] = Encodeint_93073((*N_111302).KindU.S1.Intval);
Appf_52071(&Result_111303, ((NimStringDesc*) &TMP196826), LOC28, 1);
LA26: ;
break;
case ((NU8) 11) ... ((NU8) 13):
if (!!((((NF) ((*N_111302).KindU.S2.Floatval)) == 0.0))) goto LA30;
memset((void*)&LOC32, 0, sizeof(LOC32));
LOC33 = 0;
LOC33 = nimFloatToStr(((NF) ((*N_111302).KindU.S2.Floatval)));
LOC32[0] = Encodestr_111048(W_111300, LOC33);
Appf_52071(&Result_111303, ((NimStringDesc*) &TMP196826), LOC32, 1);
LA30: ;
break;
case ((NU8) 14) ... ((NU8) 16):
if (!!((((*N_111302).KindU.S3.Strval) && ((*N_111302).KindU.S3.Strval)->Sup.len == 0))) goto LA35;
memset((void*)&LOC37, 0, sizeof(LOC37));
LOC37[0] = Encodestr_111048(W_111300, (*N_111302).KindU.S3.Strval);
Appf_52071(&Result_111303, ((NimStringDesc*) &TMP196826), LOC37, 1);
LA35: ;
break;
case ((NU8) 2):
memset((void*)&LOC38, 0, sizeof(LOC38));
LOC38[0] = Encodestr_111048(W_111300, (*(*N_111302).KindU.S5.Ident).S);
Appf_52071(&Result_111303, ((NimStringDesc*) &TMP196826), LOC38, 1);
break;
case ((NU8) 3):
memset((void*)&LOC39, 0, sizeof(LOC39));
LOC39[0] = Encodeint_93073(((NI64) ((*(*N_111302).KindU.S4.Sym).Sup.Id)));
Appf_52071(&Result_111303, ((NimStringDesc*) &TMP196826), LOC39, 1);
Pushsym_111269(W_111300, (*N_111302).KindU.S4.Sym);
break;
default:
I_111530 = 0;
HEX3Atmp_111545 = 0;
LOC40 = Sonslen_55804(N_111302);
HEX3Atmp_111545 = (NI32)(LOC40 - 1);
Res_111547 = 0;
Res_111547 = 0;
while (1) {
if (!(Res_111547 <= HEX3Atmp_111545)) goto LA41;
I_111530 = Res_111547;
LOC42 = 0;
LOC42 = Encodenode_111298(W_111300, (*N_111302).Info, (*N_111302).KindU.S6.Sons->data[I_111530]);
App_52031(&Result_111303, LOC42);
Res_111547 += 1;
} LA41: ;
break;
}
App_52036(&Result_111303, ((NimStringDesc*) &TMP196827));
BeforeRet: ;
return Result_111303;
}
N_NIMCALL(TY52008*, Encodeloc_111548)(TY111004* W_111550, TY55540 Loc_111551) {
TY52008* Result_111552;
TY52008* LOC4;
TY52407 LOC8;
TY52407 LOC12;
TY52407 LOC16;
TY52407 LOC20;
NimStringDesc* LOC21;
TY52407 LOC25;
TY52407 LOC29;
Result_111552 = 0;
Result_111552 = NIM_NIL;
if (!!((Loc_111551.K == ((NU8) 0)))) goto LA2;
LOC4 = 0;
LOC4 = Encodeint_93073(((NI64) (Loc_111551.K)));
App_52031(&Result_111552, LOC4);
LA2: ;
if (!!((Loc_111551.S == ((NU8) 0)))) goto LA6;
memset((void*)&LOC8, 0, sizeof(LOC8));
LOC8[0] = Encodeint_93073(((NI64) (Loc_111551.S)));
Appf_52071(&Result_111552, ((NimStringDesc*) &TMP196819), LOC8, 1);
LA6: ;
if (!!((Loc_111551.Flags == 0))) goto LA10;
memset((void*)&LOC12, 0, sizeof(LOC12));
LOC12[0] = Encodeint_93073(((NI64) (((int) (Loc_111551.Flags)))));
Appf_52071(&Result_111552, ((NimStringDesc*) &TMP196820), LOC12, 1);
LA10: ;
if (!!((Loc_111551.T == NIM_NIL))) goto LA14;
memset((void*)&LOC16, 0, sizeof(LOC16));
LOC16[0] = Encodeint_93073(((NI64) ((*Loc_111551.T).Sup.Id)));
Appf_52071(&Result_111552, ((NimStringDesc*) &TMP196817), LOC16, 1);
Pushtype_111240(W_111550, Loc_111551.T);
LA14: ;
if (!!((Loc_111551.R == NIM_NIL))) goto LA18;
memset((void*)&LOC20, 0, sizeof(LOC20));
LOC21 = 0;
LOC21 = Ropetostr_52063(Loc_111551.R);
LOC20[0] = Encodestr_111048(W_111550, LOC21);
Appf_52071(&Result_111552, ((NimStringDesc*) &TMP196826), LOC20, 1);
LA18: ;
if (!!((Loc_111551.A == 0))) goto LA23;
memset((void*)&LOC25, 0, sizeof(LOC25));
LOC25[0] = Encodeint_93073(((NI64) (Loc_111551.A)));
Appf_52071(&Result_111552, ((NimStringDesc*) &TMP196825), LOC25, 1);
LA23: ;
if (!!((Result_111552 == NIM_NIL))) goto LA27;
memset((void*)&LOC29, 0, sizeof(LOC29));
LOC29[0] = Result_111552;
Result_111552 = Ropef_52066(((NimStringDesc*) &TMP196830), LOC29, 1);
LA27: ;
return Result_111552;
}
N_NIMCALL(TY52008*, Encodelib_111827)(TY111004* W_111829, TY55544* Lib_111830, TY47539 Info_111831) {
TY52008* Result_111832;
TY52407 LOC1;
TY52407 LOC2;
NimStringDesc* LOC3;
TY52407 LOC4;
Result_111832 = 0;
Result_111832 = NIM_NIL;
memset((void*)&LOC1, 0, sizeof(LOC1));
LOC1[0] = Encodeint_93073(((NI64) ((*Lib_111830).Kind)));
Appf_52071(&Result_111832, ((NimStringDesc*) &TMP196831), LOC1, 1);
memset((void*)&LOC2, 0, sizeof(LOC2));
LOC3 = 0;
LOC3 = Ropetostr_52063((*Lib_111830).Name);
LOC2[0] = Encodestr_111048(W_111829, LOC3);
Appf_52071(&Result_111832, ((NimStringDesc*) &TMP196831), LOC2, 1);
memset((void*)&LOC4, 0, sizeof(LOC4));
LOC4[0] = Encodenode_111298(W_111829, Info_111831, (*Lib_111830).Path);
Appf_52071(&Result_111832, ((NimStringDesc*) &TMP196831), LOC4, 1);
return Result_111832;
}
N_NIMCALL(TY52008*, Encodesym_111853)(TY111004* W_111855, TY55548* S_111856) {
TY52008* Result_111857;
TY55526* Codeast_111858;
TY52008* Col_111859;
TY52008* Line_111860;
TY52008* LOC4;
TY52407 LOC5;
TY52407 LOC6;
TY52407 LOC10;
TY161012 LOC17;
NimStringDesc* LOC18;
NI LOC19;
TY52407 LOC23;
TY52407 LOC27;
TY52407 LOC31;
NIM_BOOL LOC36;
TY52008* LOC39;
TY52407 LOC46;
TY52407 LOC50;
TY52407 LOC54;
TY52008* LOC55;
TY52008* LOC59;
Result_111857 = 0;
Codeast_111858 = 0;
Col_111859 = 0;
Line_111860 = 0;
Codeast_111858 = NIM_NIL;
if (!(S_111856 == NIM_NIL)) goto LA2;
Result_111857 = Torope_52046(((NimStringDesc*) &TMP196814));
goto BeforeRet;
LA2: ;
Result_111857 = NIM_NIL;
LOC4 = 0;
LOC4 = Encodeint_93073(((NI64) ((*S_111856).Kind)));
App_52031(&Result_111857, LOC4);
memset((void*)&LOC5, 0, sizeof(LOC5));
LOC5[0] = Encodeint_93073(((NI64) ((*S_111856).Sup.Id)));
Appf_52071(&Result_111857, ((NimStringDesc*) &TMP196815), LOC5, 1);
memset((void*)&LOC6, 0, sizeof(LOC6));
LOC6[0] = Encodestr_111048(W_111855, (*(*S_111856).Name).S);
Appf_52071(&Result_111857, ((NimStringDesc*) &TMP196816), LOC6, 1);
if (!!(((*S_111856).Typ == NIM_NIL))) goto LA8;
memset((void*)&LOC10, 0, sizeof(LOC10));
LOC10[0] = Encodeint_93073(((NI64) ((*(*S_111856).Typ).Sup.Id)));
Appf_52071(&Result_111857, ((NimStringDesc*) &TMP196817), LOC10, 1);
Pushtype_111240(W_111855, (*S_111856).Typ);
LA8: ;
if (!((*S_111856).Info.Col == ((NI16) -1))) goto LA12;
Col_111859 = NIM_NIL;
goto LA11;
LA12: ;
Col_111859 = Encodeint_93073(((NI64) ((*S_111856).Info.Col)));
LA11: ;
if (!((*S_111856).Info.Line == ((NI16) -1))) goto LA15;
Line_111860 = NIM_NIL;
goto LA14;
LA15: ;
Line_111860 = Encodeint_93073(((NI64) ((*S_111856).Info.Line)));
LA14: ;
memset((void*)&LOC17, 0, sizeof(LOC17));
LOC17[0] = Col_111859;
LOC17[1] = Line_111860;
LOC18 = 0;
LOC18 = Tofilename_47586((*S_111856).Info);
LOC19 = Fileidx_111089(W_111855, LOC18);
LOC17[2] = Encodeint_93073(((NI64) (LOC19)));
Appf_52071(&Result_111857, ((NimStringDesc*) &TMP196818), LOC17, 3);
if (!!(((*S_111856).Owner == NIM_NIL))) goto LA21;
memset((void*)&LOC23, 0, sizeof(LOC23));
LOC23[0] = Encodeint_93073(((NI64) ((*(*S_111856).Owner).Sup.Id)));
Appf_52071(&Result_111857, ((NimStringDesc*) &TMP196819), LOC23, 1);
Pushsym_111269(W_111855, (*S_111856).Owner);
LA21: ;
if (!!(((*S_111856).Flags == 0))) goto LA25;
memset((void*)&LOC27, 0, sizeof(LOC27));
LOC27[0] = Encodeint_93073(((NI64) (((int) ((*S_111856).Flags)))));
Appf_52071(&Result_111857, ((NimStringDesc*) &TMP196820), LOC27, 1);
LA25: ;
if (!!(((*S_111856).Magic == ((NU8) 0)))) goto LA29;
memset((void*)&LOC31, 0, sizeof(LOC31));
LOC31[0] = Encodeint_93073(((NI64) ((*S_111856).Magic)));
Appf_52071(&Result_111857, ((NimStringDesc*) &TMP196821), LOC31, 1);
LA29: ;
if (!!(((*S_111856).Ast == NIM_NIL))) goto LA33;
LOC36 = Astneeded_105041(S_111856);
if (!!(LOC36)) goto LA37;
Codeast_111858 = (*(*S_111856).Ast).KindU.S6.Sons->data[4];
asgnRefNoCycle((void**) &(*(*S_111856).Ast).KindU.S6.Sons->data[4], NIM_NIL);
LA37: ;
LOC39 = 0;
LOC39 = Encodenode_111298(W_111855, (*S_111856).Info, (*S_111856).Ast);
App_52031(&Result_111857, LOC39);
if (!!((Codeast_111858 == NIM_NIL))) goto LA41;
asgnRefNoCycle((void**) &(*(*S_111856).Ast).KindU.S6.Sons->data[4], Codeast_111858);
LA41: ;
LA33: ;
if (!!(((*S_111856).Options == (*W_111855).Options))) goto LA44;
memset((void*)&LOC46, 0, sizeof(LOC46));
LOC46[0] = Encodeint_93073(((NI64) (((int) ((*S_111856).Options)))));
Appf_52071(&Result_111857, ((NimStringDesc*) &TMP196826), LOC46, 1);
LA44: ;
if (!!(((*S_111856).Position == 0))) goto LA48;
memset((void*)&LOC50, 0, sizeof(LOC50));
LOC50[0] = Encodeint_93073(((NI64) ((*S_111856).Position)));
Appf_52071(&Result_111857, ((NimStringDesc*) &TMP196828), LOC50, 1);
LA48: ;
if (!!(((*S_111856).Offset == -1))) goto LA52;
memset((void*)&LOC54, 0, sizeof(LOC54));
LOC54[0] = Encodeint_93073(((NI64) ((*S_111856).Offset)));
Appf_52071(&Result_111857, ((NimStringDesc*) &TMP196829), LOC54, 1);
LA52: ;
LOC55 = 0;
LOC55 = Encodeloc_111548(W_111855, (*S_111856).Loc);
App_52031(&Result_111857, LOC55);
if (!!(((*S_111856).Annex == NIM_NIL))) goto LA57;
LOC59 = 0;
LOC59 = Encodelib_111827(W_111855, (*S_111856).Annex, (*S_111856).Info);
App_52031(&Result_111857, LOC59);
LA57: ;
BeforeRet: ;
return Result_111857;
}
N_NIMCALL(void, Symstack_112083)(TY111004* W_112085) {
NI I_112086;
NI L_112087;
TY55548* S_112088;
TY55548* M_112089;
NI LOC3;
NimStringDesc* LOC9;
NIM_BOOL LOC11;
TY52008* LOC15;
TY175845 LOC19;
TY175845 LOC23;
TY52008* LOC30;
NI LOC31;
I_112086 = 0;
L_112087 = 0;
S_112088 = 0;
M_112089 = 0;
I_112086 = 0;
while (1) {
if (!(I_112086 < (*W_112085).Sstack->Sup.len)) goto LA1;
S_112088 = (*W_112085).Sstack->data[I_112086];
LOC3 = Iitableget_60229((*W_112085).Index.Tab, (*S_112088).Sup.Id);
if (!(LOC3 == (-2147483647 -1))) goto LA4;
M_112089 = Getmodule_60203(S_112088);
if (!(M_112089 == NIM_NIL)) goto LA7;
LOC9 = 0;
LOC9 = rawNewString((*(*S_112088).Name).S->Sup.len + 22);
appendString(LOC9, ((NimStringDesc*) &TMP196811));
appendString(LOC9, (*(*S_112088).Name).S);
Internalerror_47578(LOC9);
LA7: ;
LOC11 = ((*M_112089).Sup.Id == (*(*W_112085).Module).Sup.Id);
if (LOC11) goto LA12;
LOC11 = (((*S_112088).Flags &(1<<((((NU8) 4))&31)))!=0);
LA12: ;
if (!LOC11) goto LA13;
L_112087 = Ropelen_52052((*W_112085).Data);
Addtoindex_112066(&(*W_112085).Index, (*S_112088).Sup.Id, L_112087);
LOC15 = 0;
LOC15 = Encodesym_111853(W_112085, S_112088);
App_52031(&(*W_112085).Data, LOC15);
App_52036(&(*W_112085).Data, ((NimStringDesc*) &TMP196812));
if (!(((*S_112088).Flags &(1<<((((NU8) 3))&31)))!=0)) goto LA17;
memset((void*)&LOC19, 0, sizeof(LOC19));
LOC19[0] = Encode_93076((*(*S_112088).Name).S);
LOC19[1] = Encodeint_93073(((NI64) ((*S_112088).Sup.Id)));
Appf_52071(&(*W_112085).Interf, ((NimStringDesc*) &TMP196813), LOC19, 2);
LA17: ;
if (!(((*S_112088).Flags &(1<<((((NU8) 19))&31)))!=0)) goto LA21;
memset((void*)&LOC23, 0, sizeof(LOC23));
LOC23[0] = Encode_93076((*(*S_112088).Name).S);
LOC23[1] = Encodeint_93073(((NI64) ((*S_112088).Sup.Id)));
Appf_52071(&(*W_112085).Compilerprocs, ((NimStringDesc*) &TMP196813), LOC23, 2);
LA21: ;
if (!((*S_112088).Kind == ((NU8) 13))) goto LA25;
if (!!(((*W_112085).Converters == NIM_NIL))) goto LA28;
App_52036(&(*W_112085).Converters, ((NimStringDesc*) &TMP196810));
LA28: ;
LOC30 = 0;
LOC30 = Encodeint_93073(((NI64) ((*S_112088).Sup.Id)));
App_52031(&(*W_112085).Converters, LOC30);
LA25: ;
goto LA10;
LA13: ;
LOC31 = Iitableget_60229((*W_112085).Imports.Tab, (*S_112088).Sup.Id);
if (!(LOC31 == (-2147483647 -1))) goto LA32;
Addtoindex_112066(&(*W_112085).Imports, (*S_112088).Sup.Id, (*M_112089).Sup.Id);
goto LA10;
LA32: ;
LA10: ;
LA4: ;
I_112086 += 1;
} LA1: ;
(*W_112085).Sstack = (TY55528*) setLengthSeq(&((*W_112085).Sstack)->Sup, sizeof(TY55548*), 0);
}
static N_INLINE(NI, Sonslen_55807)(TY55552* N_55809) {
NI Result_56750;
Result_56750 = 0;
if (!(*N_55809).Sons == 0) goto LA2;
Result_56750 = 0;
goto LA1;
LA2: ;
Result_56750 = (*N_55809).Sons->Sup.len;
LA1: ;
return Result_56750;
}
N_NIMCALL(TY52008*, Encodetype_111659)(TY111004* W_111661, TY55552* T_111662) {
TY52008* Result_111663;
TY52008* LOC7;
TY52407 LOC8;
TY47539 LOC12;
TY52008* LOC13;
TY52407 LOC17;
TY52407 LOC21;
TY52407 LOC25;
TY52407 LOC29;
TY52407 LOC33;
TY52407 LOC37;
TY52407 LOC41;
TY52008* LOC42;
NI I_111806;
NI HEX3Atmp_111824;
NI LOC43;
NI Res_111826;
TY52407 LOC48;
Result_111663 = 0;
if (!(T_111662 == NIM_NIL)) goto LA2;
Result_111663 = Torope_52046(((NimStringDesc*) &TMP196832));
goto BeforeRet;
LA2: ;
Result_111663 = NIM_NIL;
if (!((*T_111662).Kind == ((NU8) 30))) goto LA5;
Internalerror_47578(((NimStringDesc*) &TMP196833));
LA5: ;
LOC7 = 0;
LOC7 = Encodeint_93073(((NI64) ((*T_111662).Kind)));
App_52031(&Result_111663, LOC7);
memset((void*)&LOC8, 0, sizeof(LOC8));
LOC8[0] = Encodeint_93073(((NI64) ((*T_111662).Sup.Id)));
Appf_52071(&Result_111663, ((NimStringDesc*) &TMP196815), LOC8, 1);
if (!!(((*T_111662).N == NIM_NIL))) goto LA10;
LOC12 = Unknownlineinfo_47543();
LOC13 = 0;
LOC13 = Encodenode_111298(W_111661, LOC12, (*T_111662).N);
App_52031(&Result_111663, LOC13);
LA10: ;
if (!!(((*T_111662).Flags == 0))) goto LA15;
memset((void*)&LOC17, 0, sizeof(LOC17));
LOC17[0] = Encodeint_93073(((NI64) (((int) ((*T_111662).Flags)))));
Appf_52071(&Result_111663, ((NimStringDesc*) &TMP196820), LOC17, 1);
LA15: ;
if (!!(((*T_111662).Callconv == ((NU8) 0)))) goto LA19;
memset((void*)&LOC21, 0, sizeof(LOC21));
LOC21[0] = Encodeint_93073(((NI64) ((*T_111662).Callconv)));
Appf_52071(&Result_111663, ((NimStringDesc*) &TMP196825), LOC21, 1);
LA19: ;
if (!!(((*T_111662).Owner == NIM_NIL))) goto LA23;
memset((void*)&LOC25, 0, sizeof(LOC25));
LOC25[0] = Encodeint_93073(((NI64) ((*(*T_111662).Owner).Sup.Id)));
Appf_52071(&Result_111663, ((NimStringDesc*) &TMP196819), LOC25, 1);
Pushsym_111269(W_111661, (*T_111662).Owner);
LA23: ;
if (!!(((*T_111662).Sym == NIM_NIL))) goto LA27;
memset((void*)&LOC29, 0, sizeof(LOC29));
LOC29[0] = Encodeint_93073(((NI64) ((*(*T_111662).Sym).Sup.Id)));
Appf_52071(&Result_111663, ((NimStringDesc*) &TMP196816), LOC29, 1);
Pushsym_111269(W_111661, (*T_111662).Sym);
LA27: ;
if (!!(((*T_111662).Size == -1))) goto LA31;
memset((void*)&LOC33, 0, sizeof(LOC33));
LOC33[0] = Encodeint_93073((*T_111662).Size);
Appf_52071(&Result_111663, ((NimStringDesc*) &TMP196834), LOC33, 1);
LA31: ;
if (!!(((*T_111662).Align == 2))) goto LA35;
memset((void*)&LOC37, 0, sizeof(LOC37));
LOC37[0] = Encodeint_93073(((NI64) ((*T_111662).Align)));
Appf_52071(&Result_111663, ((NimStringDesc*) &TMP196835), LOC37, 1);
LA35: ;
if (!!(((*T_111662).Containerid == 0))) goto LA39;
memset((void*)&LOC41, 0, sizeof(LOC41));
LOC41[0] = Encodeint_93073(((NI64) ((*T_111662).Containerid)));
Appf_52071(&Result_111663, ((NimStringDesc*) &TMP196821), LOC41, 1);
LA39: ;
LOC42 = 0;
LOC42 = Encodeloc_111548(W_111661, (*T_111662).Loc);
App_52031(&Result_111663, LOC42);
I_111806 = 0;
HEX3Atmp_111824 = 0;
LOC43 = Sonslen_55807(T_111662);
HEX3Atmp_111824 = (NI32)(LOC43 - 1);
Res_111826 = 0;
Res_111826 = 0;
while (1) {
if (!(Res_111826 <= HEX3Atmp_111824)) goto LA44;
I_111806 = Res_111826;
if (!((*T_111662).Sons->data[I_111806] == NIM_NIL)) goto LA46;
App_52036(&Result_111663, ((NimStringDesc*) &TMP196836));
goto LA45;
LA46: ;
memset((void*)&LOC48, 0, sizeof(LOC48));
LOC48[0] = Encodeint_93073(((NI64) ((*(*T_111662).Sons->data[I_111806]).Sup.Id)));
Appf_52071(&Result_111663, ((NimStringDesc*) &TMP196817), LOC48, 1);
Pushtype_111240(W_111661, (*T_111662).Sons->data[I_111806]);
LA45: ;
Res_111826 += 1;
} LA44: ;
BeforeRet: ;
return Result_111663;
}
N_NIMCALL(void, Typestack_112214)(TY111004* W_112216) {
NI I_112217;
NI LOC3;
NI L_112234;
TY52008* LOC6;
I_112217 = 0;
I_112217 = 0;
while (1) {
if (!(I_112217 < (*W_112216).Tstack->Sup.len)) goto LA1;
LOC3 = Iitableget_60229((*W_112216).Index.Tab, (*(*W_112216).Tstack->data[I_112217]).Sup.Id);
if (!(LOC3 == (-2147483647 -1))) goto LA4;
L_112234 = 0;
L_112234 = Ropelen_52052((*W_112216).Data);
Addtoindex_112066(&(*W_112216).Index, (*(*W_112216).Tstack->data[I_112217]).Sup.Id, L_112234);
LOC6 = 0;
LOC6 = Encodetype_111659(W_112216, (*W_112216).Tstack->data[I_112217]);
App_52031(&(*W_112216).Data, LOC6);
App_52036(&(*W_112216).Data, ((NimStringDesc*) &TMP196812));
LA4: ;
I_112217 += 1;
} LA1: ;
(*W_112216).Tstack = (TY55550*) setLengthSeq(&((*W_112216).Tstack)->Sup, sizeof(TY55552*), 0);
}
N_NIMCALL(void, Processstacks_111053)(TY111004* W_111055) {
NIM_BOOL LOC2;
while (1) {
LOC2 = (0 < (*W_111055).Tstack->Sup.len);
if (LOC2) goto LA3;
LOC2 = (0 < (*W_111055).Sstack->Sup.len);
LA3: ;
if (!LOC2) goto LA1;
Symstack_112083(W_111055);
Typestack_112214(W_111055);
} LA1: ;
}
N_NIMCALL(void, Rawaddinterfacesym_112293)(TY111004* W_112295, TY55548* S_112296) {
Pushsym_111269(W_112295, S_112296);
Processstacks_111053(W_112295);
}
N_NIMCALL(TY105002*, Myopen_112827)(TY55548* Module_112829, NimStringDesc* Filename_112830) {
TY105002* Result_112831;
TY111004* W_112836;
int LOC4;
Result_112831 = 0;
if (!((*Module_112829).Sup.Id < 0)) goto LA2;
Internalerror_47578(((NimStringDesc*) &TMP196808));
LA2: ;
W_112836 = 0;
LOC4 = Getcrc_93064(Filename_112830);
W_112836 = Newrodwriter_111024(Filename_112830, LOC4, Module_112829);
Rawaddinterfacesym_112293(W_112836, Module_112829);
Result_112831 = &W_112836->Sup;
return Result_112831;
}
N_NIMCALL(void, Writerod_111045)(TY111004* W_111047) {
TY52008* Content_112347;
TY52008* LOC1;
TY52008* LOC2;
TY52008* LOC3;
TY52008* LOC4;
TY52008* LOC5;
TY52008* LOC6;
TY52008* LOC7;
TY52008* LOC8;
TY52008* LOC9;
NI I_112371;
NI HEX3Atmp_112402;
NI Res_112404;
TY52008* LOC11;
TY52008* LOC12;
TY52008* LOC13;
TY52008* LOC14;
TY52008* LOC15;
TY52008* LOC16;
TY52008* LOC17;
TY52008* LOC18;
TY52008* LOC19;
TY52008* LOC20;
TY52008* LOC21;
TY52008* LOC22;
TY52008* LOC23;
TY52008* LOC24;
TY52008* LOC25;
TY52008* LOC26;
TY52008* LOC27;
TY52008* LOC28;
TY52008* LOC29;
NimStringDesc* LOC30;
NimStringDesc* LOC31;
Processstacks_111053(W_111047);
Content_112347 = 0;
Content_112347 = Torope_52046(((NimStringDesc*) &TMP196837));
LOC1 = 0;
LOC1 = Torope_52046(((NimStringDesc*) &TMP196838));
App_52031(&Content_112347, LOC1);
App_52036(&Content_112347, ((NimStringDesc*) &TMP196812));
LOC2 = 0;
LOC2 = Torope_52046(((NimStringDesc*) &TMP196839));
App_52031(&Content_112347, LOC2);
LOC3 = 0;
LOC3 = Encodeint_93073(((NI64) ((*(*W_111047).Module).Sup.Id)));
App_52031(&Content_112347, LOC3);
App_52036(&Content_112347, ((NimStringDesc*) &TMP196812));
LOC4 = 0;
LOC4 = Torope_52046(((NimStringDesc*) &TMP196840));
App_52031(&Content_112347, LOC4);
LOC5 = 0;
LOC5 = Encodeint_93073(((NI64) ((*W_111047).Crc)));
App_52031(&Content_112347, LOC5);
App_52036(&Content_112347, ((NimStringDesc*) &TMP196812));
LOC6 = 0;
LOC6 = Torope_52046(((NimStringDesc*) &TMP196841));
App_52031(&Content_112347, LOC6);
LOC7 = 0;
LOC7 = Encodeint_93073(((NI64) (((int) ((*W_111047).Options)))));
App_52031(&Content_112347, LOC7);
App_52036(&Content_112347, ((NimStringDesc*) &TMP196812));
LOC8 = 0;
LOC8 = Torope_52046(((NimStringDesc*) &TMP196842));
App_52031(&Content_112347, LOC8);
App_52031(&Content_112347, (*W_111047).Defines);
App_52036(&Content_112347, ((NimStringDesc*) &TMP196812));
LOC9 = 0;
LOC9 = Torope_52046(((NimStringDesc*) &TMP196843));
App_52031(&Content_112347, LOC9);
I_112371 = 0;
HEX3Atmp_112402 = 0;
HEX3Atmp_112402 = ((*W_111047).Files->Sup.len-1);
Res_112404 = 0;
Res_112404 = 0;
while (1) {
if (!(Res_112404 <= HEX3Atmp_112402)) goto LA10;
I_112371 = Res_112404;
LOC11 = 0;
LOC11 = Encode_93076((*W_111047).Files->data[I_112371]);
App_52031(&Content_112347, LOC11);
App_52036(&Content_112347, ((NimStringDesc*) &TMP196812));
Res_112404 += 1;
} LA10: ;
LOC12 = 0;
LOC12 = Torope_52046(((NimStringDesc*) &TMP196844));
App_52031(&Content_112347, LOC12);
LOC13 = 0;
LOC13 = Torope_52046(((NimStringDesc*) &TMP196845));
App_52031(&Content_112347, LOC13);
App_52031(&Content_112347, (*W_111047).Incldeps);
LOC14 = 0;
LOC14 = Torope_52046(((NimStringDesc*) &TMP196844));
App_52031(&Content_112347, LOC14);
LOC15 = 0;
LOC15 = Torope_52046(((NimStringDesc*) &TMP196846));
App_52031(&Content_112347, LOC15);
App_52031(&Content_112347, (*W_111047).Moddeps);
App_52036(&Content_112347, ((NimStringDesc*) &TMP196812));
LOC16 = 0;
LOC16 = Torope_52046(((NimStringDesc*) &TMP196847));
App_52031(&Content_112347, LOC16);
App_52031(&Content_112347, (*W_111047).Interf);
LOC17 = 0;
LOC17 = Torope_52046(((NimStringDesc*) &TMP196844));
App_52031(&Content_112347, LOC17);
LOC18 = 0;
LOC18 = Torope_52046(((NimStringDesc*) &TMP196848));
App_52031(&Content_112347, LOC18);
App_52031(&Content_112347, (*W_111047).Compilerprocs);
LOC19 = 0;
LOC19 = Torope_52046(((NimStringDesc*) &TMP196844));
App_52031(&Content_112347, LOC19);
LOC20 = 0;
LOC20 = Torope_52046(((NimStringDesc*) &TMP196849));
App_52031(&Content_112347, LOC20);
App_52031(&Content_112347, (*W_111047).Index.R);
LOC21 = 0;
LOC21 = Torope_52046(((NimStringDesc*) &TMP196844));
App_52031(&Content_112347, LOC21);
LOC22 = 0;
LOC22 = Torope_52046(((NimStringDesc*) &TMP196850));
App_52031(&Content_112347, LOC22);
App_52031(&Content_112347, (*W_111047).Imports.R);
LOC23 = 0;
LOC23 = Torope_52046(((NimStringDesc*) &TMP196844));
App_52031(&Content_112347, LOC23);
LOC24 = 0;
LOC24 = Torope_52046(((NimStringDesc*) &TMP196851));
App_52031(&Content_112347, LOC24);
App_52031(&Content_112347, (*W_111047).Converters);
LOC25 = 0;
LOC25 = Torope_52046(((NimStringDesc*) &TMP196812));
App_52031(&Content_112347, LOC25);
LOC26 = 0;
LOC26 = Torope_52046(((NimStringDesc*) &TMP196852));
App_52031(&Content_112347, LOC26);
App_52031(&Content_112347, (*W_111047).Init);
LOC27 = 0;
LOC27 = Torope_52046(((NimStringDesc*) &TMP196844));
App_52031(&Content_112347, LOC27);
LOC28 = 0;
LOC28 = Torope_52046(((NimStringDesc*) &TMP196853));
App_52031(&Content_112347, LOC28);
App_52031(&Content_112347, (*W_111047).Data);
LOC29 = 0;
LOC29 = Torope_52046(((NimStringDesc*) &TMP196844));
App_52031(&Content_112347, LOC29);
LOC30 = 0;
LOC30 = nosChangeFileExt((*W_111047).Filename, ((NimStringDesc*) &TMP196854));
LOC31 = 0;
LOC31 = Completegeneratedfilepath_46101(LOC30, NIM_TRUE);
Writerope_52055(Content_112347, LOC31);
}
N_NIMCALL(TY55526*, Myclose_112837)(TY105002* C_112839, TY55526* N_112840) {
TY55526* Result_112841;
TY111004* W_112842;
Result_112841 = 0;
W_112842 = 0;
W_112842 = ((TY111004*) (C_112839));
Writerod_111045(W_112842);
Result_112841 = N_112840;
return Result_112841;
}
N_NIMCALL(void, Addinterfacesym_111037)(TY111004* W_111039, TY55548* S_111040) {
if (!(W_111039 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
if (!!(((524296 & (*S_111040).Flags) == 0))) goto LA5;
Rawaddinterfacesym_112293(W_111039, S_111040);
LA5: ;
BeforeRet: ;
}
N_NIMCALL(void, Addmoddep_111029)(TY111004* W_111031, NimStringDesc* Dep_111032) {
NI LOC4;
TY52008* LOC5;
if (!!(((*W_111031).Moddeps == NIM_NIL))) goto LA2;
App_52036(&(*W_111031).Moddeps, ((NimStringDesc*) &TMP196810));
LA2: ;
LOC4 = Fileidx_111089(W_111031, Dep_111032);
LOC5 = 0;
LOC5 = Encodeint_93073(((NI64) (LOC4)));
App_52031(&(*W_111031).Moddeps, LOC5);
}
N_NIMCALL(void, Addstmt_111041)(TY111004* W_111043, TY55526* N_111044) {
NI LOC1;
TY52008* LOC2;
TY47539 LOC3;
TY52008* LOC4;
LOC1 = Ropelen_52052((*W_111043).Data);
LOC2 = 0;
LOC2 = Encodeint_93073(((NI64) (LOC1)));
App_52031(&(*W_111043).Init, LOC2);
App_52036(&(*W_111043).Init, ((NimStringDesc*) &TMP196812));
LOC3 = Unknownlineinfo_47543();
LOC4 = 0;
LOC4 = Encodenode_111298(W_111043, LOC3, N_111044);
App_52031(&(*W_111043).Data, LOC4);
App_52036(&(*W_111043).Data, ((NimStringDesc*) &TMP196812));
Processstacks_111053(W_111043);
}
N_NIMCALL(void, Addincldep_111033)(TY111004* W_111035, NimStringDesc* Dep_111036) {
NI LOC1;
TY52008* LOC2;
int LOC3;
TY52008* LOC4;
LOC1 = Fileidx_111089(W_111035, Dep_111036);
LOC2 = 0;
LOC2 = Encodeint_93073(((NI64) (LOC1)));
App_52031(&(*W_111035).Incldeps, LOC2);
App_52036(&(*W_111035).Incldeps, ((NimStringDesc*) &TMP196810));
LOC3 = Crcfromfile_50029(Dep_111036);
LOC4 = 0;
LOC4 = Encodeint_93073(((NI64) (LOC3)));
App_52031(&(*W_111035).Incldeps, LOC4);
App_52036(&(*W_111035).Incldeps, ((NimStringDesc*) &TMP196812));
}
N_NIMCALL(TY55526*, Process_112405)(TY105002* C_112407, TY55526* N_112408) {
TY55526* Result_112409;
TY111004* W_112421;
NI I_112430;
NI HEX3Atmp_112806;
NI LOC4;
NI Res_112808;
TY55526* LOC6;
TY55548* S_112467;
TY55548* S_112492;
NIM_BOOL LOC11;
NIM_BOOL LOC12;
NI I_112555;
NI HEX3Atmp_112810;
NI LOC17;
NI Res_112812;
TY55526* A_112568;
NI I_112619;
NI HEX3Atmp_112814;
NI LOC26;
NI Res_112816;
TY55526* A_112632;
NI I_112683;
NI HEX3Atmp_112818;
NI LOC35;
NI Res_112820;
TY55526* A_112696;
TY55548* S_112751;
NI I_112760;
NI HEX3Atmp_112821;
NI LOC44;
NI Res_112823;
NimStringDesc* LOC46;
NimStringDesc* LOC47;
NI I_112793;
NI HEX3Atmp_112824;
NI LOC48;
NI Res_112826;
NimStringDesc* LOC50;
Result_112409 = 0;
Result_112409 = N_112408;
if (!(C_112407 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
W_112421 = 0;
W_112421 = ((TY111004*) (C_112407));
switch ((*N_112408).Kind) {
case ((NU8) 101):
I_112430 = 0;
HEX3Atmp_112806 = 0;
LOC4 = Sonslen_55804(N_112408);
HEX3Atmp_112806 = (NI32)(LOC4 - 1);
Res_112808 = 0;
Res_112808 = 0;
while (1) {
if (!(Res_112808 <= HEX3Atmp_112806)) goto LA5;
I_112430 = Res_112808;
LOC6 = 0;
LOC6 = Process_112405(C_112407, (*N_112408).KindU.S6.Sons->data[I_112430]);
Res_112808 += 1;
} LA5: ;
break;
case ((NU8) 73):
case ((NU8) 72):
S_112467 = 0;
S_112467 = (*(*N_112408).KindU.S6.Sons->data[0]).KindU.S4.Sym;
Addinterfacesym_111037(W_112421, S_112467);
break;
case ((NU8) 69):
case ((NU8) 70):
case ((NU8) 74):
case ((NU8) 71):
S_112492 = 0;
S_112492 = (*(*N_112408).KindU.S6.Sons->data[0]).KindU.S4.Sym;
if (!(S_112492 == NIM_NIL)) goto LA8;
Internalerror_47574((*N_112408).Info, ((NimStringDesc*) &TMP196855));
LA8: ;
LOC12 = !(((*N_112408).KindU.S6.Sons->data[4] == NIM_NIL));
if (LOC12) goto LA13;
LOC12 = !(((*S_112492).Magic == ((NU8) 0)));
LA13: ;
LOC11 = LOC12;
if (LOC11) goto LA14;
LOC11 = !((((*S_112492).Flags &(1<<((((NU8) 6))&31)))!=0));
LA14: ;
if (!LOC11) goto LA15;
Addinterfacesym_111037(W_112421, S_112492);
LA15: ;
break;
case ((NU8) 87):
I_112555 = 0;
HEX3Atmp_112810 = 0;
LOC17 = Sonslen_55804(N_112408);
HEX3Atmp_112810 = (NI32)(LOC17 - 1);
Res_112812 = 0;
Res_112812 = 0;
while (1) {
if (!(Res_112812 <= HEX3Atmp_112810)) goto LA18;
I_112555 = Res_112812;
A_112568 = 0;
A_112568 = (*N_112408).KindU.S6.Sons->data[I_112555];
if (!((*A_112568).Kind == ((NU8) 105))) goto LA21;
goto LA19;
LA21: ;
if (!!(((*A_112568).Kind == ((NU8) 25)))) goto LA24;
Internalerror_47574((*A_112568).Info, ((NimStringDesc*) &TMP196855));
LA24: ;
Addinterfacesym_111037(W_112421, (*(*A_112568).KindU.S6.Sons->data[0]).KindU.S4.Sym);
LA19: ;
Res_112812 += 1;
} LA18: ;
break;
case ((NU8) 88):
I_112619 = 0;
HEX3Atmp_112814 = 0;
LOC26 = Sonslen_55804(N_112408);
HEX3Atmp_112814 = (NI32)(LOC26 - 1);
Res_112816 = 0;
Res_112816 = 0;
while (1) {
if (!(Res_112816 <= HEX3Atmp_112814)) goto LA27;
I_112619 = Res_112816;
A_112632 = 0;
A_112632 = (*N_112408).KindU.S6.Sons->data[I_112619];
if (!((*A_112632).Kind == ((NU8) 105))) goto LA30;
goto LA28;
LA30: ;
if (!!(((*A_112632).Kind == ((NU8) 89)))) goto LA33;
Internalerror_47574((*A_112632).Info, ((NimStringDesc*) &TMP196855));
LA33: ;
Addinterfacesym_111037(W_112421, (*(*A_112632).KindU.S6.Sons->data[0]).KindU.S4.Sym);
LA28: ;
Res_112816 += 1;
} LA27: ;
break;
case ((NU8) 90):
I_112683 = 0;
HEX3Atmp_112818 = 0;
LOC35 = Sonslen_55804(N_112408);
HEX3Atmp_112818 = (NI32)(LOC35 - 1);
Res_112820 = 0;
Res_112820 = 0;
while (1) {
if (!(Res_112820 <= HEX3Atmp_112818)) goto LA36;
I_112683 = Res_112820;
A_112696 = 0;
A_112696 = (*N_112408).KindU.S6.Sons->data[I_112683];
if (!((*A_112696).Kind == ((NU8) 105))) goto LA39;
goto LA37;
LA39: ;
if (!!(((*(*A_112696).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA42;
Internalerror_47574((*A_112696).Info, ((NimStringDesc*) &TMP196855));
LA42: ;
S_112751 = 0;
S_112751 = (*(*A_112696).KindU.S6.Sons->data[0]).KindU.S4.Sym;
Addinterfacesym_111037(W_112421, S_112751);
LA37: ;
Res_112820 += 1;
} LA36: ;
break;
case ((NU8) 102):
I_112760 = 0;
HEX3Atmp_112821 = 0;
LOC44 = Sonslen_55804(N_112408);
HEX3Atmp_112821 = (NI32)(LOC44 - 1);
Res_112823 = 0;
Res_112823 = 0;
while (1) {
if (!(Res_112823 <= HEX3Atmp_112821)) goto LA45;
I_112760 = Res_112823;
LOC46 = 0;
LOC46 = Getmodulefile_110013((*N_112408).KindU.S6.Sons->data[I_112760]);
Addmoddep_111029(W_112421, LOC46);
Res_112823 += 1;
} LA45: ;
Addstmt_111041(W_112421, N_112408);
break;
case ((NU8) 103):
LOC47 = 0;
LOC47 = Getmodulefile_110013((*N_112408).KindU.S6.Sons->data[0]);
Addmoddep_111029(W_112421, LOC47);
Addstmt_111041(W_112421, N_112408);
break;
case ((NU8) 104):
I_112793 = 0;
HEX3Atmp_112824 = 0;
LOC48 = Sonslen_55804(N_112408);
HEX3Atmp_112824 = (NI32)(LOC48 - 1);
Res_112826 = 0;
Res_112826 = 0;
while (1) {
if (!(Res_112826 <= HEX3Atmp_112824)) goto LA49;
I_112793 = Res_112826;
LOC50 = 0;
LOC50 = Getmodulefile_110013((*N_112408).KindU.S6.Sons->data[I_112793]);
Addincldep_111033(W_112421, LOC50);
Res_112826 += 1;
} LA49: ;
break;
case ((NU8) 81):
Addstmt_111041(W_112421, N_112408);
break;
default:
break;
}
BeforeRet: ;
return Result_112409;
}
N_NIMCALL(TY105006, Rodwritepass_111001)(void) {
TY105006 Result_112845;
memset((void*)&Result_112845, 0, sizeof(Result_112845));
Initpass_105031(&Result_112845);
if (!((Gglobaloptions_46079 &(1<<((((NU8) 15))&31)))!=0)) goto LA2;
Result_112845.Open = Myopen_112827;
Result_112845.Close = Myclose_112837;
Result_112845.Process = Process_112405;
LA2: ;
return Result_112845;
}
N_NOINLINE(void, rodwriteInit)(void) {
Intsetinit_55925(&Debugwritten_112082);
}

