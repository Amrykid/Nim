/* Generated by Nimrod Compiler v0.8.11 */
/*   (c) 2011 Andreas Rumpf */

typedef long int NI;
typedef unsigned long int NU;
#include "nimbase.h"

typedef struct TY55548 TY55548;
typedef struct TY107012 TY107012;
typedef struct TY60084 TY60084;
typedef struct TY54011 TY54011;
typedef struct TY55530 TY55530;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct TY55528 TY55528;
typedef struct TGenericSeq TGenericSeq;
typedef struct TY105002 TY105002;
typedef struct TNimObject TNimObject;
typedef struct TY107006 TY107006;
typedef struct TY55526 TY55526;
typedef struct TY60099 TY60099;
typedef struct TY60101 TY60101;
typedef struct TY55895 TY55895;
typedef struct TY55891 TY55891;
typedef struct TY55893 TY55893;
typedef struct TY43019 TY43019;
typedef struct TY43013 TY43013;
typedef struct NimStringDesc NimStringDesc;
typedef struct TY54005 TY54005;
typedef struct TY55552 TY55552;
typedef struct TY47538 TY47538;
typedef struct TY55540 TY55540;
typedef struct TY52008 TY52008;
typedef struct TY55544 TY55544;
typedef struct TY55520 TY55520;
typedef struct TY55550 TY55550;
struct TY60084 {
NI H;
TY54011* Name;
};
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TGenericSeq {
NI len;
NI space;
};
struct TY55530 {
TNimType* m_type;
NI Counter;
TY55528* Data;
};
struct TNimObject {
TNimType* m_type;
};
struct TY105002 {
  TNimObject Sup;
};
struct TY60099 {
NI Tos;
TY60101* Stack;
};
struct TY55895 {
NI Counter;
NI Max;
TY55891* Head;
TY55893* Data;
};
struct TY43019 {
TNimType* m_type;
TY43013* Head;
TY43013* Tail;
NI Counter;
};
typedef N_NIMCALL_PTR(TY55526*, TY107032) (TY107012* C_107033, TY55526* N_107034);
typedef N_NIMCALL_PTR(TY55526*, TY107037) (TY107012* C_107038, TY55526* N_107039);
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
struct TY107012 {
  TY105002 Sup;
TY55548* Module;
TY107006* P;
NI Instcounter;
TY55526* Generics;
NI Lastgenericidx;
TY60099 Tab;
TY55895 Ambiguoussymbols;
TY55528* Converters;
TY43019 Optionstack;
TY43019 Libs;
NIM_BOOL Fromcache;
TY107032 Semconstexpr;
TY107037 Semexpr;
TY55895 Includedfiles;
NimStringDesc* Filename;
TY55530 Userpragmas;
};
struct TY54005 {
  TNimObject Sup;
NI Id;
};
struct TY47538 {
NI16 Line;
NI16 Col;
int Fileindex;
};
struct TY55540 {
NU8 K;
NU8 S;
NU8 Flags;
TY55552* T;
TY52008* R;
NI A;
};
struct TY55548 {
  TY54005 Sup;
NU8 Kind;
NU8 Magic;
TY55552* Typ;
TY54011* Name;
TY47538 Info;
TY55548* Owner;
NU32 Flags;
TY55530 Tab;
TY55526* Ast;
NU32 Options;
NI Position;
NI Offset;
TY55540 Loc;
TY55544* Annex;
};
struct TY55526 {
TY55552* Typ;
NimStringDesc* Comment;
TY47538 Info;
NU8 Flags;
NU8 Kind;
union {
struct {NI64 Intval;
} S1;
struct {NF64 Floatval;
} S2;
struct {NimStringDesc* Strval;
} S3;
struct {TY55548* Sym;
} S4;
struct {TY54011* Ident;
} S5;
struct {TY55520* Sons;
} S6;
} KindU;
};
struct TY54011 {
  TY54005 Sup;
NimStringDesc* S;
TY54011* Next;
NI H;
};
struct TY55552 {
  TY54005 Sup;
NU8 Kind;
TY55550* Sons;
TY55526* N;
NU8 Flags;
NU8 Callconv;
TY55548* Owner;
TY55548* Sym;
NI64 Size;
NI Align;
NI Containerid;
TY55540 Loc;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct TY107006 {
TY55548* Owner;
TY55548* Resultsym;
NI Nestedloopcounter;
NI Nestedblockcounter;
};
typedef NI TY8814[16];
struct TY55891 {
TY55891* Next;
NI Key;
TY8814 Bits;
};
struct TY43013 {
  TNimObject Sup;
TY43013* Prev;
TY43013* Next;
};
struct TY52008 {
  TNimObject Sup;
TY52008* Left;
TY52008* Right;
NI Length;
NimStringDesc* Data;
};
struct TY55544 {
  TY43013 Sup;
NU8 Kind;
NIM_BOOL Generated;
TY52008* Name;
TY55526* Path;
};
struct TY55528 {
  TGenericSeq Sup;
  TY55548* data[SEQ_DECL_SIZE];
};
struct TY60101 {
  TGenericSeq Sup;
  TY55530 data[SEQ_DECL_SIZE];
};
struct TY55893 {
  TGenericSeq Sup;
  TY55891* data[SEQ_DECL_SIZE];
};
struct TY55520 {
  TGenericSeq Sup;
  TY55526* data[SEQ_DECL_SIZE];
};
struct TY55550 {
  TGenericSeq Sup;
  TY55552* data[SEQ_DECL_SIZE];
};
N_NIMCALL(TY55548*, Initidentiter_60087)(TY60084* Ti_60090, TY55530* Tab_60091, TY54011* S_60092);
N_NIMCALL(NIM_BOOL, Equalgenericparams_121014)(TY55526* Proca_121016, TY55526* Procb_121017);
static N_INLINE(NI, Sonslen_55804)(TY55526* N_55806);
N_NIMCALL(void, Internalerror_48159)(TY47538 Info_48161, NimStringDesc* Errmsg_48162);
N_NIMCALL(NIM_BOOL, Sametypeornil_97052)(TY55552* A_97054, TY55552* B_97055);
N_NIMCALL(NIM_BOOL, Exprstructuralequivalent_96035)(TY55526* A_96037, TY55526* B_96038);
N_NIMCALL(NU8, Equalparams_97065)(TY55526* A_97067, TY55526* B_97068);
N_NIMCALL(void, Localerror_48144)(TY47538 Info_48146, NU8 Msg_48147, NimStringDesc* Arg_48148);
N_NIMCALL(TY55548*, Nextidentiter_60093)(TY60084* Ti_60096, TY55530* Tab_60097);
N_NIMCALL(NIM_BOOL, Paramsfitborrow_121248)(TY55526* A_121250, TY55526* B_121251);
N_NIMCALL(NIM_BOOL, Equalordistinctof_97056)(TY55552* X_97058, TY55552* Y_97059);
STRING_LITERAL(TMP196176, "equalGenericParams", 18);
static N_INLINE(NI, Sonslen_55804)(TY55526* N_55806) {
NI Result_56880;
Result_56880 = 0;
if (!(*N_55806).KindU.S6.Sons == 0) goto LA2;
Result_56880 = 0;
goto LA1;
LA2: ;
Result_56880 = (*N_55806).KindU.S6.Sons->Sup.len;
LA1: ;
return Result_56880;
}
N_NIMCALL(NIM_BOOL, Equalgenericparams_121014)(TY55526* Proca_121016, TY55526* Procb_121017) {
NIM_BOOL Result_121018;
TY55548* A_121019;
TY55548* B_121020;
NIM_BOOL LOC5;
NI LOC10;
NI LOC11;
NI I_121077;
NI HEX3Atmp_121192;
NI LOC14;
NI Res_121194;
NIM_BOOL LOC23;
NIM_BOOL LOC25;
NIM_BOOL LOC29;
NIM_BOOL LOC34;
Result_121018 = 0;
A_121019 = 0;
B_121020 = 0;
Result_121018 = (Proca_121016 == Procb_121017);
if (!Result_121018) goto LA2;
goto BeforeRet;
LA2: ;
LOC5 = (Proca_121016 == NIM_NIL);
if (LOC5) goto LA6;
LOC5 = (Procb_121017 == NIM_NIL);
LA6: ;
if (!LOC5) goto LA7;
goto BeforeRet;
LA7: ;
LOC10 = Sonslen_55804(Proca_121016);
LOC11 = Sonslen_55804(Procb_121017);
if (!!((LOC10 == LOC11))) goto LA12;
goto BeforeRet;
LA12: ;
I_121077 = 0;
HEX3Atmp_121192 = 0;
LOC14 = Sonslen_55804(Proca_121016);
HEX3Atmp_121192 = (NI32)(LOC14 - 1);
Res_121194 = 0;
Res_121194 = 0;
while (1) {
if (!(Res_121194 <= HEX3Atmp_121192)) goto LA15;
I_121077 = Res_121194;
if (!!(((*(*Proca_121016).KindU.S6.Sons->data[I_121077]).Kind == ((NU8) 3)))) goto LA17;
Internalerror_48159((*Proca_121016).Info, ((NimStringDesc*) &TMP196176));
LA17: ;
if (!!(((*(*Procb_121017).KindU.S6.Sons->data[I_121077]).Kind == ((NU8) 3)))) goto LA20;
Internalerror_48159((*Procb_121017).Info, ((NimStringDesc*) &TMP196176));
LA20: ;
A_121019 = (*(*Proca_121016).KindU.S6.Sons->data[I_121077]).KindU.S4.Sym;
B_121020 = (*(*Procb_121017).KindU.S6.Sons->data[I_121077]).KindU.S4.Sym;
LOC23 = !(((*(*A_121019).Name).Sup.Id == (*(*B_121020).Name).Sup.Id));
if (LOC23) goto LA24;
LOC25 = Sametypeornil_97052((*A_121019).Typ, (*B_121020).Typ);
LOC23 = !(LOC25);
LA24: ;
if (!LOC23) goto LA26;
goto BeforeRet;
LA26: ;
LOC29 = !(((*A_121019).Ast == NIM_NIL));
if (!(LOC29)) goto LA30;
LOC29 = !(((*B_121020).Ast == NIM_NIL));
LA30: ;
if (!LOC29) goto LA31;
LOC34 = Exprstructuralequivalent_96035((*A_121019).Ast, (*B_121020).Ast);
if (!!(LOC34)) goto LA35;
goto BeforeRet;
LA35: ;
LA31: ;
Res_121194 += 1;
} LA15: ;
Result_121018 = NIM_TRUE;
BeforeRet: ;
return Result_121018;
}
N_NIMCALL(TY55548*, Searchforproc_121004)(TY107012* C_121006, TY55548* Fn_121007, NI Tos_121008) {
TY55548* Result_121200;
TY60084 It_121201;
NIM_BOOL LOC6;
NU8 LOC9;
Result_121200 = 0;
memset((void*)&It_121201, 0, sizeof(It_121201));
Result_121200 = Initidentiter_60087(&It_121201, &(*C_121006).Tab.Stack->data[Tos_121008], (*Fn_121007).Name);
while (1) {
if (!!((Result_121200 == NIM_NIL))) goto LA1;
if (!((*Result_121200).Kind == (*Fn_121007).Kind)) goto LA3;
LOC6 = Equalgenericparams_121014((*(*Result_121200).Ast).KindU.S6.Sons->data[1], (*(*Fn_121007).Ast).KindU.S6.Sons->data[1]);
if (!LOC6) goto LA7;
LOC9 = Equalparams_97065((*(*Result_121200).Typ).N, (*(*Fn_121007).Typ).N);
switch (LOC9) {
case ((NU8) 1):
goto BeforeRet;
break;
case ((NU8) 2):
Localerror_48144((*Fn_121007).Info, ((NU8) 63), (*(*Fn_121007).Name).S);
goto BeforeRet;
break;
case ((NU8) 0):
break;
}
LA7: ;
LA3: ;
Result_121200 = Nextidentiter_60093(&It_121201, &(*C_121006).Tab.Stack->data[Tos_121008]);
} LA1: ;
BeforeRet: ;
return Result_121200;
}
N_NIMCALL(NIM_BOOL, Paramsfitborrow_121248)(TY55526* A_121250, TY55526* B_121251) {
NIM_BOOL Result_121252;
NI Length_121253;
NI LOC2;
NI I_121264;
NI HEX3Atmp_121357;
NI Res_121359;
TY55548* M_121289;
TY55548* N_121314;
NIM_BOOL LOC7;
NIM_BOOL LOC11;
Result_121252 = 0;
Length_121253 = 0;
Length_121253 = Sonslen_55804(A_121250);
Result_121252 = NIM_FALSE;
LOC2 = Sonslen_55804(B_121251);
if (!(Length_121253 == LOC2)) goto LA3;
I_121264 = 0;
HEX3Atmp_121357 = 0;
HEX3Atmp_121357 = (NI32)(Length_121253 - 1);
Res_121359 = 0;
Res_121359 = 1;
while (1) {
if (!(Res_121359 <= HEX3Atmp_121357)) goto LA5;
I_121264 = Res_121359;
M_121289 = 0;
M_121289 = (*(*A_121250).KindU.S6.Sons->data[I_121264]).KindU.S4.Sym;
N_121314 = 0;
N_121314 = (*(*B_121251).KindU.S6.Sons->data[I_121264]).KindU.S4.Sym;
LOC7 = Equalordistinctof_97056((*M_121289).Typ, (*N_121314).Typ);
if (!!(LOC7)) goto LA8;
goto BeforeRet;
LA8: ;
Res_121359 += 1;
} LA5: ;
LOC11 = Equalordistinctof_97056((*(*A_121250).KindU.S6.Sons->data[0]).Typ, (*(*B_121251).KindU.S6.Sons->data[0]).Typ);
if (!!(LOC11)) goto LA12;
goto BeforeRet;
LA12: ;
Result_121252 = NIM_TRUE;
LA3: ;
BeforeRet: ;
return Result_121252;
}
N_NIMCALL(TY55548*, Searchforborrowproc_121009)(TY107012* C_121011, TY55548* Fn_121012, NI Tos_121013) {
TY55548* Result_121365;
TY60084 It_121366;
NI Scope_121389;
NI Res_121439;
NIM_BOOL LOC4;
NIM_BOOL LOC9;
NIM_BOOL LOC13;
Result_121365 = 0;
memset((void*)&It_121366, 0, sizeof(It_121366));
Scope_121389 = 0;
Res_121439 = 0;
Res_121439 = Tos_121013;
while (1) {
if (!(0 <= Res_121439)) goto LA1;
Scope_121389 = Res_121439;
Result_121365 = Initidentiter_60087(&It_121366, &(*C_121011).Tab.Stack->data[Scope_121389], (*Fn_121012).Name);
while (1) {
if (!!((Result_121365 == NIM_NIL))) goto LA2;
LOC4 = ((*Result_121365).Kind == (*Fn_121012).Kind);
if (!(LOC4)) goto LA5;
LOC4 = !(((*Result_121365).Sup.Id == (*Fn_121012).Sup.Id));
LA5: ;
if (!LOC4) goto LA6;
LOC9 = Equalgenericparams_121014((*(*Result_121365).Ast).KindU.S6.Sons->data[1], (*(*Fn_121012).Ast).KindU.S6.Sons->data[1]);
if (!LOC9) goto LA10;
LOC13 = Paramsfitborrow_121248((*(*Fn_121012).Typ).N, (*(*Result_121365).Typ).N);
if (!LOC13) goto LA14;
goto BeforeRet;
LA14: ;
LA10: ;
LA6: ;
Result_121365 = Nextidentiter_60093(&It_121366, &(*C_121011).Tab.Stack->data[Scope_121389]);
} LA2: ;
Res_121439 -= 1;
} LA1: ;
BeforeRet: ;
return Result_121365;
}
N_NOINLINE(void, procfindInit)(void) {
}

