/* Generated by Nimrod Compiler v0.8.10 */
/*   (c) 2010 Andreas Rumpf */

typedef long int NI;
typedef unsigned long int NU;
#include "nimbase.h"

typedef struct TY55551 TY55551;
typedef struct TY54005 TY54005;
typedef struct TNimObject TNimObject;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct TY55549 TY55549;
typedef struct TGenericSeq TGenericSeq;
typedef struct TY55525 TY55525;
typedef struct TY55547 TY55547;
typedef struct TY55539 TY55539;
typedef struct TY52008 TY52008;
typedef struct NimStringDesc NimStringDesc;
typedef struct TY47532 TY47532;
typedef struct TY54011 TY54011;
typedef struct TY55519 TY55519;
typedef struct TY55529 TY55529;
typedef struct TY55527 TY55527;
typedef struct TY55543 TY55543;
typedef struct TY55900 TY55900;
typedef struct TY55896 TY55896;
typedef struct TY55898 TY55898;
typedef struct TY43013 TY43013;
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TNimObject {
TNimType* m_type;
};
struct TY54005 {
  TNimObject Sup;
NI Id;
};
struct TGenericSeq {
NI len;
NI space;
};
struct TY55539 {
NU8 K;
NU8 S;
NU8 Flags;
TY55551* T;
TY52008* R;
NI A;
};
struct TY55551 {
  TY54005 Sup;
NU8 Kind;
TY55549* Sons;
TY55525* N;
NU8 Flags;
NU8 Callconv;
TY55547* Owner;
TY55547* Sym;
NI64 Size;
NI Align;
NI Containerid;
TY55539 Loc;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
struct TY47532 {
NI16 Line;
NI16 Col;
int Fileindex;
};
struct TY55525 {
TY55551* Typ;
NimStringDesc* Comment;
TY47532 Info;
NU8 Flags;
NU8 Kind;
union {
struct {NI64 Intval;
} S1;
struct {NF64 Floatval;
} S2;
struct {NimStringDesc* Strval;
} S3;
struct {TY55547* Sym;
} S4;
struct {TY54011* Ident;
} S5;
struct {TY55519* Sons;
} S6;
} KindU;
};
struct TY55529 {
TNimType* m_type;
NI Counter;
TY55527* Data;
};
struct TY55547 {
  TY54005 Sup;
NU8 Kind;
NU8 Magic;
TY55551* Typ;
TY54011* Name;
TY47532 Info;
TY55547* Owner;
NU32 Flags;
TY55529 Tab;
TY55525* Ast;
NU32 Options;
NI Position;
NI Offset;
TY55539 Loc;
TY55543* Annex;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
typedef NimStringDesc* TY97495[40];
struct TY54011 {
  TY54005 Sup;
NimStringDesc* S;
TY54011* Next;
NI H;
};
typedef NimStringDesc* TY55016[10];
typedef N_NIMCALL_PTR(NIM_BOOL, TY96025) (TY55551* T_96030, TNimObject* Closure_96031);
struct TY55900 {
NI Counter;
NI Max;
TY55896* Head;
TY55898* Data;
};
typedef N_NIMCALL_PTR(NIM_BOOL, TY96029) (TY55551* T_96036);
struct TY52008 {
  TNimObject Sup;
TY52008* Left;
TY52008* Right;
NI Length;
NimStringDesc* Data;
};
struct TY43013 {
  TNimObject Sup;
TY43013* Prev;
TY43013* Next;
};
struct TY55543 {
  TY43013 Sup;
NU8 Kind;
NIM_BOOL Generated;
TY52008* Name;
TY55525* Path;
};
typedef NI TY8814[16];
struct TY55896 {
TY55896* Next;
NI Key;
TY8814 Bits;
};
struct TY55549 {
  TGenericSeq Sup;
  TY55551* data[SEQ_DECL_SIZE];
};
struct TY55519 {
  TGenericSeq Sup;
  TY55525* data[SEQ_DECL_SIZE];
};
struct TY55527 {
  TGenericSeq Sup;
  TY55547* data[SEQ_DECL_SIZE];
};
struct TY55898 {
  TGenericSeq Sup;
  TY55896* data[SEQ_DECL_SIZE];
};
N_NIMCALL(TY55551*, Lastson_55812)(TY55551* N_55814);
N_NIMCALL(NI64, Lastord_96004)(TY55551* T_96006);
N_NIMCALL(NI64, Getordvalue_96107)(TY55525* N_96109);
N_NIMCALL(void, Limessage_47562)(TY47532 Info_47564, NU8 Msg_47565, NimStringDesc* Arg_47566);
N_NIMCALL(NI, Sonslen_55803)(TY55525* N_55805);
N_NIMCALL(NI64, Firstord_96001)(TY55551* T_96003);
N_NIMCALL(NI, Sonslen_55806)(TY55551* N_55808);
N_NIMCALL(void, Internalerror_47571)(NimStringDesc* Errmsg_47573);
static N_INLINE(void, appendString)(NimStringDesc* Dest_18792, NimStringDesc* Src_18793);
N_NIMCALL(NimStringDesc*, reprEnum)(NI E_19779, TNimType* Typ_19780);
static N_INLINE(void, appendChar)(NimStringDesc* Dest_18809, NIM_CHAR C_18810);
N_NIMCALL(NimStringDesc*, rawNewString)(NI Space_18687);
N_NIMCALL(NI64, Lengthord_96007)(TY55551* T_96009);
N_NIMCALL(TY55551*, Elemtype_96089)(TY55551* T_96091);
N_NIMCALL(NI64, Computesize_96110)(TY55551* Typ_96112);
N_NIMCALL(NI64, Computesizeaux_99203)(TY55551* Typ_99205, NI64* A_99207);
N_NIMCALL(NI64, Align_99198)(NI64 Address_99200, NI64 Alignment_99201);
N_NIMCALL(NIM_BOOL, Isobjectwithtypefieldpredicate_96978)(TY55551* T_96980);
N_NIMCALL(NI64, Computerecsizeaux_99208)(TY55525* N_99210, NI64* A_99212, NI64* Curroffset_99213);
N_NIMCALL(TY55525*, Lastson_55809)(TY55525* N_55811);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* Src_18708);
N_NIMCALL(NimStringDesc*, Typetostring_96014)(TY55551* Typ_96016, NU8 Prefer_96017);
N_NIMCALL(NimStringDesc*, Rangetostr_97436)(TY55525* N_97438);
N_NIMCALL(NimStringDesc*, Valuetostring_55874)(TY55525* A_55876);
N_NIMCALL(NimStringDesc*, resizeString)(NimStringDesc* Dest_18782, NI Addlen_18783);
N_NIMCALL(NimStringDesc*, addChar)(NimStringDesc* S_1603, NIM_CHAR C_1604);
static N_INLINE(void, Addsep_25820)(NimStringDesc** Dest_25823, NimStringDesc* Sep_25824, NI Startlen_25825);
N_NIMCALL(NIM_BOOL, Isordinaltype_96069)(TY55551* T_96071);
N_NIMCALL(void, Intsetinit_55924)(TY55900* S_55927);
N_NIMCALL(NIM_BOOL, Iterovertypeaux_96694)(TY55900* Marker_96697, TY55551* T_96698, TY96025 Iter_96699, TNimObject* Closure_96700);
N_NIMCALL(NIM_BOOL, Intsetcontainsorincl_55928)(TY55900* S_55931, NI Key_55932);
N_NIMCALL(NIM_BOOL, Iterovernode_96701)(TY55900* Marker_96704, TY55525* N_96705, TY96025 Iter_96706, TNimObject* Closure_96707);
N_NIMCALL(TY55551*, Skiptypes_96085)(TY55551* T_96087, NU64 Kinds_96088);
N_NIMCALL(NIM_BOOL, Sametuple_98511)(TY55551* A_98513, TY55551* B_98514, NIM_BOOL Distinctof_98515);
N_NIMCALL(NIM_BOOL, Equalordistinctof_96056)(TY55551* X_96058, TY55551* Y_96059);
N_NIMCALL(NIM_BOOL, Samevalue_55866)(TY55525* A_55868, TY55525* B_55869);
N_NIMCALL(NIM_BOOL, Sametype_96048)(TY55551* X_96050, TY55551* Y_96051);
N_NIMCALL(void, Internalerror_47567)(TY47532 Info_47569, NimStringDesc* Errmsg_47570);
N_NIMCALL(NIM_BOOL, Sametypeornil_96052)(TY55551* A_96054, TY55551* B_96055);
N_NIMCALL(NU8, Equalparam_98138)(TY55547* A_98140, TY55547* B_98141);
N_NIMCALL(NIM_BOOL, Exprstructuralequivalent_95035)(TY55525* A_95037, TY55525* B_95038);
N_NIMCALL(NIM_BOOL, Typeallowedaux_98969)(TY55900* Marker_98972, TY55551* Typ_98973, NU8 Kind_98974);
N_NIMCALL(NIM_BOOL, Typeallowednode_98975)(TY55900* Marker_98978, TY55525* N_98979, NU8 Kind_98980);
N_NIMCALL(void, Debug_59160)(TY55551* N_59162);
N_NIMCALL(NIM_BOOL, Searchtypefor_96953)(TY55551* T_96955, TY96029 Predicate_96956);
N_NIMCALL(NIM_BOOL, Searchtypeforaux_96799)(TY55551* T_96801, TY96029 Predicate_96802, TY55900* Marker_96804);
N_NIMCALL(NIM_BOOL, Searchtypenodeforaux_96805)(TY55525* N_96807, TY96029 P_96808, TY55900* Marker_96810);
N_NIMCALL(NIM_BOOL, Isgbcref_97135)(TY55551* T_97137);
N_NIMCALL(NIM_BOOL, Canformacycleaux_97175)(TY55900* Marker_97178, TY55551* Typ_97179, NI Startid_97180);
N_NIMCALL(NIM_BOOL, Canformacyclenode_97181)(TY55900* Marker_97184, TY55525* N_97185, NI Startid_97186);
N_NIMCALL(NU8, Analyseobjectwithtypefieldaux_97035)(TY55551* T_97037, TY55900* Marker_97039);
NIM_CONST NU64 Abstractptrs_96075 = 14723072;
NIM_CONST NU64 Abstractvar_96077 = 8431616;
NIM_CONST NU64 Abstractrange_96079 = 1091584;
NIM_CONST NU64 Abstractvarrange_96081 = 9480192;
NIM_CONST NU64 Abstractinst_96083 = 43008;
STRING_LITERAL(TMP196944, "", 0);
STRING_LITERAL(TMP196945, "invalid kind for first(", 23);
STRING_LITERAL(TMP196946, "invalid kind for last(", 22);
STRING_LITERAL(TMP196959, "computeRecSizeAux(record case branch)", 37);
STRING_LITERAL(TMP196960, "computeRecSizeAux()", 19);
STRING_LITERAL(TMP196961, "getSize(", 8);
STRING_LITERAL(TMP197004, "None", 4);
STRING_LITERAL(TMP197005, "bool", 4);
STRING_LITERAL(TMP197006, "Char", 4);
STRING_LITERAL(TMP197007, "empty", 5);
STRING_LITERAL(TMP197008, "Array Constructor [$1]", 22);
STRING_LITERAL(TMP197009, "nil", 3);
STRING_LITERAL(TMP197010, "expr", 4);
STRING_LITERAL(TMP197011, "stmt", 4);
STRING_LITERAL(TMP197012, "typeDesc", 8);
STRING_LITERAL(TMP197013, "GenericInvokation", 17);
STRING_LITERAL(TMP197014, "GenericBody", 11);
STRING_LITERAL(TMP197015, "GenericInst", 11);
STRING_LITERAL(TMP197016, "GenericParam", 12);
STRING_LITERAL(TMP197017, "distinct $1", 11);
STRING_LITERAL(TMP197018, "enum", 4);
STRING_LITERAL(TMP197019, "ordinal[$1]", 11);
STRING_LITERAL(TMP197020, "array[$1, $2]", 13);
STRING_LITERAL(TMP197021, "object", 6);
STRING_LITERAL(TMP197022, "tuple", 5);
STRING_LITERAL(TMP197023, "set[$1]", 7);
STRING_LITERAL(TMP197024, "range[$1]", 9);
STRING_LITERAL(TMP197025, "ptr ", 4);
STRING_LITERAL(TMP197026, "ref ", 4);
STRING_LITERAL(TMP197027, "var ", 4);
STRING_LITERAL(TMP197028, "seq[$1]", 7);
STRING_LITERAL(TMP197029, "proc", 4);
STRING_LITERAL(TMP197030, "pointer", 7);
STRING_LITERAL(TMP197031, "OpenArray[$1]", 13);
STRING_LITERAL(TMP197032, "string", 6);
STRING_LITERAL(TMP197033, "CString", 7);
STRING_LITERAL(TMP197034, "Forward", 7);
STRING_LITERAL(TMP197035, "int", 3);
STRING_LITERAL(TMP197036, "int8", 4);
STRING_LITERAL(TMP197037, "int16", 5);
STRING_LITERAL(TMP197038, "int32", 5);
STRING_LITERAL(TMP197039, "int64", 5);
STRING_LITERAL(TMP197040, "float", 5);
STRING_LITERAL(TMP197041, "float32", 7);
STRING_LITERAL(TMP197042, "float64", 7);
STRING_LITERAL(TMP197043, "float128", 8);
NIM_CONST TY97495 Typetostr_97494 = {((NimStringDesc*) &TMP197004),
((NimStringDesc*) &TMP197005),
((NimStringDesc*) &TMP197006),
((NimStringDesc*) &TMP197007),
((NimStringDesc*) &TMP197008),
((NimStringDesc*) &TMP197009),
((NimStringDesc*) &TMP197010),
((NimStringDesc*) &TMP197011),
((NimStringDesc*) &TMP197012),
((NimStringDesc*) &TMP197013),
((NimStringDesc*) &TMP197014),
((NimStringDesc*) &TMP197015),
((NimStringDesc*) &TMP197016),
((NimStringDesc*) &TMP197017),
((NimStringDesc*) &TMP197018),
((NimStringDesc*) &TMP197019),
((NimStringDesc*) &TMP197020),
((NimStringDesc*) &TMP197021),
((NimStringDesc*) &TMP197022),
((NimStringDesc*) &TMP197023),
((NimStringDesc*) &TMP197024),
((NimStringDesc*) &TMP197025),
((NimStringDesc*) &TMP197026),
((NimStringDesc*) &TMP197027),
((NimStringDesc*) &TMP197028),
((NimStringDesc*) &TMP197029),
((NimStringDesc*) &TMP197030),
((NimStringDesc*) &TMP197031),
((NimStringDesc*) &TMP197032),
((NimStringDesc*) &TMP197033),
((NimStringDesc*) &TMP197034),
((NimStringDesc*) &TMP197035),
((NimStringDesc*) &TMP197036),
((NimStringDesc*) &TMP197037),
((NimStringDesc*) &TMP197038),
((NimStringDesc*) &TMP197039),
((NimStringDesc*) &TMP197040),
((NimStringDesc*) &TMP197041),
((NimStringDesc*) &TMP197042),
((NimStringDesc*) &TMP197043)}
;
STRING_LITERAL(TMP197044, "array[", 6);
STRING_LITERAL(TMP197046, "..", 2);
STRING_LITERAL(TMP197047, ", ", 2);
STRING_LITERAL(TMP197048, "Array constructor[", 18);
STRING_LITERAL(TMP197049, "seq[", 4);
STRING_LITERAL(TMP197050, "ordinal[", 8);
STRING_LITERAL(TMP197051, "set[", 4);
STRING_LITERAL(TMP197052, "openarray[", 10);
STRING_LITERAL(TMP197053, "distinct ", 9);
STRING_LITERAL(TMP197054, "tuple[", 6);
STRING_LITERAL(TMP197055, ": ", 2);
extern NIM_CONST TY97495 Typetostr_97494;
STRING_LITERAL(TMP197056, "range ", 6);
STRING_LITERAL(TMP197057, "proc (", 6);
extern NIM_CONST TY55016 Callingconvtostr_55015;
STRING_LITERAL(TMP197058, "noSideEffect", 12);
STRING_LITERAL(TMP197059, "{.", 2);
STRING_LITERAL(TMP197060, ".}", 2);
STRING_LITERAL(TMP197076, "sameTuple", 9);
STRING_LITERAL(TMP197087, "getProcHeader", 13);
STRING_LITERAL(TMP197283, "searchTypeNodeForAux(record case branch)", 40);
STRING_LITERAL(TMP197284, "searchTypeNodeForAux()", 22);
extern NI Intsize_51570;
extern TNimType* NTI55162; /* TTypeKind */
extern NI Floatsize_51571;
extern NI Ptrsize_51572;
N_NIMCALL(TY55551*, Skiptypes_96085)(TY55551* T_96087, NU64 Kinds_96088) {
TY55551* Result_96607;
Result_96607 = 0;
Result_96607 = T_96087;
while (1) {
if (!((Kinds_96088 &(IL64(1)<<(((*Result_96607).Kind)&IL64(63))))!=0)) goto LA1;
Result_96607 = Lastson_55812(Result_96607);
} LA1: ;
return Result_96607;
}
N_NIMCALL(NI64, Getordvalue_96107)(TY55525* N_96109) {
NI64 Result_96263;
Result_96263 = 0;
switch ((*N_96109).Kind) {
case ((NU8) 5) ... ((NU8) 10):
Result_96263 = (*N_96109).KindU.S1.Intval;
break;
case ((NU8) 18):
Result_96263 = 0;
break;
default:
Limessage_47562((*N_96109).Info, ((NU8) 71), ((NimStringDesc*) &TMP196944));
Result_96263 = 0;
break;
}
return Result_96263;
}
static N_INLINE(void, appendString)(NimStringDesc* Dest_18792, NimStringDesc* Src_18793) {
memcpy(((NCSTRING) (&(*Dest_18792).data[((*Dest_18792).Sup.len)-0])), ((NCSTRING) ((*Src_18793).data)), ((int) ((NI32)((NI32)((*Src_18793).Sup.len + 1) * 1))));
(*Dest_18792).Sup.len += (*Src_18793).Sup.len;
}
static N_INLINE(void, appendChar)(NimStringDesc* Dest_18809, NIM_CHAR C_18810) {
(*Dest_18809).data[((*Dest_18809).Sup.len)-0] = C_18810;
(*Dest_18809).data[((NI32)((*Dest_18809).Sup.len + 1))-0] = 0;
(*Dest_18809).Sup.len += 1;
}
N_NIMCALL(NI64, Firstord_96001)(TY55551* T_96003) {
NI64 Result_97918;
NIM_BOOL LOC5;
NI LOC6;
TY55551* LOC10;
NimStringDesc* LOC11;
Result_97918 = 0;
switch ((*T_96003).Kind) {
case ((NU8) 1):
case ((NU8) 2):
case ((NU8) 24):
case ((NU8) 27):
case ((NU8) 28):
Result_97918 = 0;
break;
case ((NU8) 19):
case ((NU8) 23):
Result_97918 = Firstord_96001((*T_96003).Sons->data[0]);
break;
case ((NU8) 16):
case ((NU8) 4):
Result_97918 = Firstord_96001((*T_96003).Sons->data[0]);
break;
case ((NU8) 20):
Result_97918 = Getordvalue_96107((*(*T_96003).N).KindU.S6.Sons->data[0]);
break;
case ((NU8) 31):
if (!(Intsize_51570 == 4)) goto LA2;
Result_97918 = (-2147483647 -1);
goto LA1;
LA2: ;
Result_97918 = (IL64(-9223372036854775807) - IL64(1));
LA1: ;
break;
case ((NU8) 32):
Result_97918 = -128;
break;
case ((NU8) 33):
Result_97918 = -32768;
break;
case ((NU8) 34):
Result_97918 = (-2147483647 -1);
break;
case ((NU8) 35):
Result_97918 = (IL64(-9223372036854775807) - IL64(1));
break;
case ((NU8) 14):
LOC6 = Sonslen_55806(T_96003);
LOC5 = (0 < LOC6);
if (!(LOC5)) goto LA7;
LOC5 = !(((*T_96003).Sons->data[0] == NIM_NIL));
LA7: ;
if (!LOC5) goto LA8;
Result_97918 = Firstord_96001((*T_96003).Sons->data[0]);
goto LA4;
LA8: ;
Result_97918 = ((NI64) ((*(*(*(*T_96003).N).KindU.S6.Sons->data[0]).KindU.S4.Sym).Position));
LA4: ;
break;
case ((NU8) 11):
case ((NU8) 13):
LOC10 = 0;
LOC10 = Lastson_55812(T_96003);
Result_97918 = Firstord_96001(LOC10);
break;
default:
LOC11 = 0;
LOC11 = rawNewString(reprEnum((*T_96003).Kind, NTI55162)->Sup.len + 24);
appendString(LOC11, ((NimStringDesc*) &TMP196945));
appendString(LOC11, reprEnum((*T_96003).Kind, NTI55162));
appendChar(LOC11, 41);
Internalerror_47571(LOC11);
Result_97918 = 0;
break;
}
return Result_97918;
}
N_NIMCALL(NI64, Lastord_96004)(TY55551* T_96006) {
NI64 Result_98034;
NI LOC4;
TY55551* LOC5;
NimStringDesc* LOC6;
Result_98034 = 0;
switch ((*T_96006).Kind) {
case ((NU8) 1):
Result_98034 = 1;
break;
case ((NU8) 2):
Result_98034 = 255;
break;
case ((NU8) 19):
case ((NU8) 23):
Result_98034 = Lastord_96004((*T_96006).Sons->data[0]);
break;
case ((NU8) 16):
case ((NU8) 4):
Result_98034 = Lastord_96004((*T_96006).Sons->data[0]);
break;
case ((NU8) 20):
Result_98034 = Getordvalue_96107((*(*T_96006).N).KindU.S6.Sons->data[1]);
break;
case ((NU8) 31):
if (!(Intsize_51570 == 4)) goto LA2;
Result_98034 = 2147483647;
goto LA1;
LA2: ;
Result_98034 = IL64(9223372036854775807);
LA1: ;
break;
case ((NU8) 32):
Result_98034 = 127;
break;
case ((NU8) 33):
Result_98034 = 32767;
break;
case ((NU8) 34):
Result_98034 = 2147483647;
break;
case ((NU8) 35):
Result_98034 = IL64(9223372036854775807);
break;
case ((NU8) 14):
LOC4 = Sonslen_55803((*T_96006).N);
Result_98034 = ((NI64) ((*(*(*(*T_96006).N).KindU.S6.Sons->data[(NI32)(LOC4 - 1)]).KindU.S4.Sym).Position));
break;
case ((NU8) 11):
case ((NU8) 13):
LOC5 = 0;
LOC5 = Lastson_55812(T_96006);
Result_98034 = Firstord_96001(LOC5);
break;
default:
LOC6 = 0;
LOC6 = rawNewString(reprEnum((*T_96006).Kind, NTI55162)->Sup.len + 23);
appendString(LOC6, ((NimStringDesc*) &TMP196946));
appendString(LOC6, reprEnum((*T_96006).Kind, NTI55162));
appendChar(LOC6, 41);
Internalerror_47571(LOC6);
Result_98034 = 0;
break;
}
return Result_98034;
}
N_NIMCALL(NI64, Lengthord_96007)(TY55551* T_96009) {
NI64 Result_98137;
NI64 LOC1;
NI64 LOC2;
Result_98137 = 0;
switch ((*T_96009).Kind) {
case ((NU8) 35):
case ((NU8) 34):
case ((NU8) 31):
Result_98137 = Lastord_96004(T_96009);
break;
case ((NU8) 13):
Result_98137 = Lengthord_96007((*T_96009).Sons->data[0]);
break;
default:
LOC1 = Lastord_96004(T_96009);
LOC2 = Firstord_96001(T_96009);
Result_98137 = (NI64)((NI64)(LOC1 - LOC2) + 1);
break;
}
return Result_98137;
}
N_NIMCALL(TY55551*, Elemtype_96089)(TY55551* T_96091) {
TY55551* Result_96453;
TY55551* LOC1;
Result_96453 = 0;
switch ((*T_96091).Kind) {
case ((NU8) 11):
case ((NU8) 13):
LOC1 = 0;
LOC1 = Lastson_55812(T_96091);
Result_96453 = Elemtype_96089(LOC1);
break;
case ((NU8) 16):
case ((NU8) 4):
Result_96453 = (*T_96091).Sons->data[1];
break;
default:
Result_96453 = (*T_96091).Sons->data[0];
break;
}
return Result_96453;
}
N_NIMCALL(NI, Inheritancediff_96119)(TY55551* A_96121, TY55551* B_96122) {
NI Result_96166;
TY55551* X_96167;
TY55551* Y_96193;
Result_96166 = 0;
X_96167 = 0;
X_96167 = A_96121;
Result_96166 = 0;
while (1) {
if (!!((X_96167 == NIM_NIL))) goto LA1;
if (!((*X_96167).Sup.Id == (*B_96122).Sup.Id)) goto LA3;
goto BeforeRet;
LA3: ;
X_96167 = (*X_96167).Sons->data[0];
Result_96166 -= 1;
} LA1: ;
Y_96193 = 0;
Y_96193 = B_96122;
Result_96166 = 0;
while (1) {
if (!!((Y_96193 == NIM_NIL))) goto LA5;
if (!((*Y_96193).Sup.Id == (*A_96121).Sup.Id)) goto LA7;
goto BeforeRet;
LA7: ;
Y_96193 = (*Y_96193).Sons->data[0];
Result_96166 += 1;
} LA5: ;
Result_96166 = 2147483647;
BeforeRet: ;
return Result_96166;
}
N_NIMCALL(NI64, Align_99198)(NI64 Address_99200, NI64 Alignment_99201) {
NI64 Result_99202;
Result_99202 = 0;
Result_99202 = ((NI64)(Address_99200 + (NI64)(Alignment_99201 - 1)) & ~((NI64)(Alignment_99201 - 1)));
return Result_99202;
}
N_NIMCALL(NIM_BOOL, Isobjectwithtypefieldpredicate_96978)(TY55551* T_96980) {
NIM_BOOL Result_96981;
NIM_BOOL LOC1;
NIM_BOOL LOC2;
NIM_BOOL LOC3;
NIM_BOOL LOC6;
Result_96981 = 0;
LOC3 = ((*T_96980).Kind == ((NU8) 17));
if (!(LOC3)) goto LA4;
LOC3 = ((*T_96980).Sons->data[0] == NIM_NIL);
LA4: ;
LOC2 = LOC3;
if (!(LOC2)) goto LA5;
LOC6 = !(((*T_96980).Sym == NIM_NIL));
if (!(LOC6)) goto LA7;
LOC6 = (((*(*T_96980).Sym).Flags &(1<<((((NU8) 11))&31)))!=0);
LA7: ;
LOC2 = !(LOC6);
LA5: ;
LOC1 = LOC2;
if (!(LOC1)) goto LA8;
LOC1 = !((((*T_96980).Flags &(1<<((((NU8) 2))&7)))!=0));
LA8: ;
Result_96981 = LOC1;
return Result_96981;
}
N_NIMCALL(NI64, Computerecsizeaux_99208)(TY55525* N_99210, NI64* A_99212, NI64* Curroffset_99213) {
NI64 Result_99214;
NI64 Maxalign_99215;
NI64 Maxsize_99216;
NI64 B_99217;
NI64 Res_99218;
NI I_99259;
NI HEX3Atmp_99341;
NI LOC1;
NI Res_99343;
TY55525* LOC3;
NI64 LOC7;
NI64 LOC8;
NI I_99298;
NI HEX3Atmp_99347;
NI LOC9;
NI Res_99349;
NI64 LOC14;
NI64 LOC15;
Result_99214 = 0;
Maxalign_99215 = 0;
Maxsize_99216 = 0;
B_99217 = 0;
Res_99218 = 0;
switch ((*N_99210).Kind) {
case ((NU8) 114):
Result_99214 = Computerecsizeaux_99208((*N_99210).KindU.S6.Sons->data[0], A_99212, Curroffset_99213);
Maxsize_99216 = 0;
Maxalign_99215 = 1;
I_99259 = 0;
HEX3Atmp_99341 = 0;
LOC1 = Sonslen_55803(N_99210);
HEX3Atmp_99341 = (NI32)(LOC1 - 1);
Res_99343 = 0;
Res_99343 = 1;
while (1) {
if (!(Res_99343 <= HEX3Atmp_99341)) goto LA2;
I_99259 = Res_99343;
switch ((*(*N_99210).KindU.S6.Sons->data[I_99259]).Kind) {
case ((NU8) 75):
case ((NU8) 78):
LOC3 = 0;
LOC3 = Lastson_55809((*N_99210).KindU.S6.Sons->data[I_99259]);
Res_99218 = Computerecsizeaux_99208(LOC3, &B_99217, Curroffset_99213);
if (!(Res_99218 < 0)) goto LA5;
Result_99214 = Res_99218;
goto BeforeRet;
LA5: ;
Maxsize_99216 = ((Maxsize_99216 >= Res_99218) ? Maxsize_99216 : Res_99218);
Maxalign_99215 = ((Maxalign_99215 >= B_99217) ? Maxalign_99215 : B_99217);
break;
default:
Internalerror_47571(((NimStringDesc*) &TMP196959));
break;
}
Res_99343 += 1;
} LA2: ;
LOC7 = Align_99198((*Curroffset_99213), Maxalign_99215);
(*Curroffset_99213) = (NI64)(LOC7 + Maxsize_99216);
LOC8 = Align_99198(Result_99214, Maxalign_99215);
Result_99214 = (NI64)(LOC8 + Maxsize_99216);
(*A_99212) = Maxalign_99215;
break;
case ((NU8) 113):
Result_99214 = 0;
Maxalign_99215 = 1;
I_99298 = 0;
HEX3Atmp_99347 = 0;
LOC9 = Sonslen_55803(N_99210);
HEX3Atmp_99347 = (NI32)(LOC9 - 1);
Res_99349 = 0;
Res_99349 = 0;
while (1) {
if (!(Res_99349 <= HEX3Atmp_99347)) goto LA10;
I_99298 = Res_99349;
Res_99218 = Computerecsizeaux_99208((*N_99210).KindU.S6.Sons->data[I_99298], &B_99217, Curroffset_99213);
if (!(Res_99218 < 0)) goto LA12;
Result_99214 = Res_99218;
goto BeforeRet;
LA12: ;
LOC14 = Align_99198((*Curroffset_99213), B_99217);
(*Curroffset_99213) = (NI64)(LOC14 + Res_99218);
LOC15 = Align_99198(Result_99214, B_99217);
Result_99214 = (NI64)(LOC15 + Res_99218);
if (!(Maxalign_99215 < B_99217)) goto LA17;
Maxalign_99215 = B_99217;
LA17: ;
Res_99349 += 1;
} LA10: ;
(*A_99212) = Maxalign_99215;
break;
case ((NU8) 3):
Result_99214 = Computesizeaux_99203((*(*N_99210).KindU.S4.Sym).Typ, A_99212);
(*(*N_99210).KindU.S4.Sym).Offset = ((NI) ((*Curroffset_99213)));
break;
default:
Internalerror_47571(((NimStringDesc*) &TMP196960));
(*A_99212) = 1;
Result_99214 = -1;
break;
}
BeforeRet: ;
return Result_99214;
}
N_NIMCALL(NI64, Computesizeaux_99203)(TY55551* Typ_99205, NI64* A_99207) {
NI64 Result_99357;
NI64 Res_99358;
NI64 Maxalign_99359;
NI64 Length_99360;
NI64 Curroffset_99361;
NI64 LOC10;
NI64 LOC11;
NI64 LOC13;
NI64 LOC32;
NI64 LOC35;
NI64 LOC36;
NI I_99400;
NI HEX3Atmp_99424;
NI LOC37;
NI Res_99426;
NI64 LOC42;
NIM_BOOL LOC49;
TY55551* LOC58;
Result_99357 = 0;
Res_99358 = 0;
Maxalign_99359 = 0;
Length_99360 = 0;
Curroffset_99361 = 0;
if (!((*Typ_99205).Size == -2)) goto LA2;
Result_99357 = -2;
goto BeforeRet;
LA2: ;
if (!(0 <= (*Typ_99205).Size)) goto LA5;
Result_99357 = (*Typ_99205).Size;
(*A_99207) = ((NI64) ((*Typ_99205).Align));
goto BeforeRet;
LA5: ;
(*Typ_99205).Size = -2;
switch ((*Typ_99205).Kind) {
case ((NU8) 31):
Result_99357 = ((NI64) (Intsize_51570));
(*A_99207) = Result_99357;
break;
case ((NU8) 32):
case ((NU8) 1):
case ((NU8) 2):
Result_99357 = 1;
(*A_99207) = Result_99357;
break;
case ((NU8) 33):
Result_99357 = 2;
(*A_99207) = Result_99357;
break;
case ((NU8) 34):
case ((NU8) 37):
Result_99357 = 4;
(*A_99207) = Result_99357;
break;
case ((NU8) 35):
case ((NU8) 38):
Result_99357 = 8;
(*A_99207) = Result_99357;
break;
case ((NU8) 36):
Result_99357 = ((NI64) (Floatsize_51571));
(*A_99207) = Result_99357;
break;
case ((NU8) 25):
if (!((*Typ_99205).Callconv == ((NU8) 8))) goto LA8;
Result_99357 = ((NI64) ((NI32)(2 * Ptrsize_51572)));
goto LA7;
LA8: ;
Result_99357 = ((NI64) (Ptrsize_51572));
LA7: ;
(*A_99207) = ((NI64) (Ptrsize_51572));
break;
case ((NU8) 5):
case ((NU8) 29):
case ((NU8) 28):
case ((NU8) 24):
case ((NU8) 21):
case ((NU8) 22):
case ((NU8) 27):
Result_99357 = ((NI64) (Ptrsize_51572));
(*A_99207) = Result_99357;
break;
case ((NU8) 16):
case ((NU8) 4):
LOC10 = Lengthord_96007((*Typ_99205).Sons->data[0]);
LOC11 = Computesizeaux_99203((*Typ_99205).Sons->data[1], A_99207);
Result_99357 = (NI64)(LOC10 * LOC11);
break;
case ((NU8) 14):
LOC13 = Firstord_96001(Typ_99205);
if (!(LOC13 < 0)) goto LA14;
Result_99357 = 4;
goto LA12;
LA14: ;
Length_99360 = Lastord_96004(Typ_99205);
if (!((NI64)(Length_99360 + 1) < 256)) goto LA17;
Result_99357 = 1;
goto LA16;
LA17: ;
if (!((NI64)(Length_99360 + 1) < 65536)) goto LA19;
Result_99357 = 2;
goto LA16;
LA19: ;
if (!((NI64)(Length_99360 + 1) < IL64(4294967296))) goto LA21;
Result_99357 = 4;
goto LA16;
LA21: ;
Result_99357 = 8;
LA16: ;
LA12: ;
(*A_99207) = Result_99357;
break;
case ((NU8) 19):
Length_99360 = Lengthord_96007((*Typ_99205).Sons->data[0]);
if (!(Length_99360 <= 8)) goto LA24;
Result_99357 = 1;
goto LA23;
LA24: ;
if (!(Length_99360 <= 16)) goto LA26;
Result_99357 = 2;
goto LA23;
LA26: ;
if (!(Length_99360 <= 32)) goto LA28;
Result_99357 = 4;
goto LA23;
LA28: ;
if (!(Length_99360 <= 64)) goto LA30;
Result_99357 = 8;
goto LA23;
LA30: ;
LOC32 = Align_99198(Length_99360, 8);
if (!((NI64)(LOC32 % 8) == 0)) goto LA33;
LOC35 = Align_99198(Length_99360, 8);
Result_99357 = (NI64)(LOC35 / 8);
goto LA23;
LA33: ;
LOC36 = Align_99198(Length_99360, 8);
Result_99357 = (NI64)((NI64)(LOC36 / 8) + 1);
LA23: ;
(*A_99207) = Result_99357;
break;
case ((NU8) 20):
Result_99357 = Computesizeaux_99203((*Typ_99205).Sons->data[0], A_99207);
break;
case ((NU8) 18):
Result_99357 = 0;
Maxalign_99359 = 1;
I_99400 = 0;
HEX3Atmp_99424 = 0;
LOC37 = Sonslen_55806(Typ_99205);
HEX3Atmp_99424 = (NI32)(LOC37 - 1);
Res_99426 = 0;
Res_99426 = 0;
while (1) {
if (!(Res_99426 <= HEX3Atmp_99424)) goto LA38;
I_99400 = Res_99426;
Res_99358 = Computesizeaux_99203((*Typ_99205).Sons->data[I_99400], A_99207);
if (!(Res_99358 < 0)) goto LA40;
Result_99357 = Res_99358;
goto BeforeRet;
LA40: ;
Maxalign_99359 = ((Maxalign_99359 >= (*A_99207)) ? Maxalign_99359 : (*A_99207));
LOC42 = Align_99198(Result_99357, (*A_99207));
Result_99357 = (NI64)(LOC42 + Res_99358);
Res_99426 += 1;
} LA38: ;
Result_99357 = Align_99198(Result_99357, Maxalign_99359);
(*A_99207) = Maxalign_99359;
break;
case ((NU8) 17):
if (!!(((*Typ_99205).Sons->data[0] == NIM_NIL))) goto LA44;
Result_99357 = Computesizeaux_99203((*Typ_99205).Sons->data[0], A_99207);
if (!(Result_99357 < 0)) goto LA47;
goto BeforeRet;
LA47: ;
Maxalign_99359 = (*A_99207);
goto LA43;
LA44: ;
LOC49 = Isobjectwithtypefieldpredicate_96978(Typ_99205);
if (!LOC49) goto LA50;
Result_99357 = ((NI64) (Intsize_51570));
Maxalign_99359 = Result_99357;
goto LA43;
LA50: ;
Result_99357 = 0;
Maxalign_99359 = 1;
LA43: ;
Curroffset_99361 = Result_99357;
Result_99357 = Computerecsizeaux_99208((*Typ_99205).N, A_99207, &Curroffset_99361);
if (!(Result_99357 < 0)) goto LA53;
goto BeforeRet;
LA53: ;
if (!((*A_99207) < Maxalign_99359)) goto LA56;
(*A_99207) = Maxalign_99359;
LA56: ;
Result_99357 = Align_99198(Result_99357, (*A_99207));
break;
case ((NU8) 11):
case ((NU8) 13):
case ((NU8) 10):
LOC58 = 0;
LOC58 = Lastson_55812(Typ_99205);
Result_99357 = Computesizeaux_99203(LOC58, A_99207);
break;
default:
Result_99357 = -1;
break;
}
(*Typ_99205).Size = Result_99357;
(*Typ_99205).Align = ((NI) ((*A_99207)));
BeforeRet: ;
return Result_99357;
}
N_NIMCALL(NI64, Computesize_96110)(TY55551* Typ_96112) {
NI64 Result_99432;
NI64 A_99433;
Result_99432 = 0;
A_99433 = 0;
A_99433 = 1;
Result_99432 = Computesizeaux_99203(Typ_96112, &A_99433);
return Result_99432;
}
N_NIMCALL(NI64, Getsize_96113)(TY55551* Typ_96115) {
NI64 Result_99438;
NimStringDesc* LOC4;
Result_99438 = 0;
Result_99438 = Computesize_96110(Typ_96115);
if (!(Result_99438 < 0)) goto LA2;
LOC4 = 0;
LOC4 = rawNewString(reprEnum((*Typ_96115).Kind, NTI55162)->Sup.len + 9);
appendString(LOC4, ((NimStringDesc*) &TMP196961));
appendString(LOC4, reprEnum((*Typ_96115).Kind, NTI55162));
appendChar(LOC4, 41);
Internalerror_47571(LOC4);
LA2: ;
return Result_99438;
}
N_NIMCALL(NimStringDesc*, Rangetostr_97436)(TY55525* N_97438) {
NimStringDesc* Result_97439;
NimStringDesc* LOC1;
NimStringDesc* LOC2;
NimStringDesc* LOC3;
Result_97439 = 0;
LOC1 = 0;
LOC2 = 0;
LOC2 = Valuetostring_55874((*N_97438).KindU.S6.Sons->data[0]);
LOC3 = 0;
LOC3 = Valuetostring_55874((*N_97438).KindU.S6.Sons->data[1]);
LOC1 = rawNewString(LOC2->Sup.len + LOC3->Sup.len + 2);
appendString(LOC1, LOC2);
appendString(LOC1, ((NimStringDesc*) &TMP197046));
appendString(LOC1, LOC3);
Result_97439 = LOC1;
return Result_97439;
}
static N_INLINE(void, Addsep_25820)(NimStringDesc** Dest_25823, NimStringDesc* Sep_25824, NI Startlen_25825) {
if (!(Startlen_25825 < (*Dest_25823)->Sup.len)) goto LA2;
(*Dest_25823) = resizeString((*Dest_25823), Sep_25824->Sup.len + 0);
appendString((*Dest_25823), Sep_25824);
LA2: ;
}
N_NIMCALL(NimStringDesc*, Typetostring_96014)(TY55551* Typ_96016, NU8 Prefer_96017) {
NimStringDesc* Result_97493;
TY55551* T_97498;
NIM_BOOL LOC5;
TY55551* LOC9;
NimStringDesc* LOC13;
NimStringDesc* LOC14;
NimStringDesc* LOC15;
NimStringDesc* LOC16;
NimStringDesc* LOC17;
NimStringDesc* LOC18;
NimStringDesc* LOC19;
NimStringDesc* LOC20;
NI I_97606;
NI HEX3Atmp_97875;
NI LOC21;
NI Res_97877;
NimStringDesc* LOC26;
NimStringDesc* LOC27;
NimStringDesc* LOC28;
NimStringDesc* LOC29;
NimStringDesc* LOC30;
NimStringDesc* LOC31;
NimStringDesc* LOC32;
NimStringDesc* LOC33;
NimStringDesc* LOC34;
NimStringDesc* LOC35;
NimStringDesc* LOC36;
NimStringDesc* LOC37;
NimStringDesc* LOC38;
NimStringDesc* LOC39;
NI I_97713;
NI HEX3Atmp_97881;
NI LOC43;
NI Res_97883;
NimStringDesc* LOC45;
NimStringDesc* LOC46;
NI LOC48;
NI I_97784;
NI HEX3Atmp_97887;
NI LOC51;
NI Res_97889;
NimStringDesc* LOC53;
NI LOC55;
NimStringDesc* LOC58;
NimStringDesc* LOC59;
NimStringDesc* LOC60;
NimStringDesc* LOC61;
NI I_97810;
NI HEX3Atmp_97893;
NI LOC62;
NI Res_97895;
NimStringDesc* LOC64;
NI LOC66;
NimStringDesc* LOC72;
NimStringDesc* LOC73;
NimStringDesc* Prag_97832;
NimStringDesc* LOC83;
Result_97493 = 0;
T_97498 = 0;
T_97498 = Typ_96016;
Result_97493 = copyString(((NimStringDesc*) &TMP196944));
if (!(T_97498 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
LOC5 = (Prefer_96017 == ((NU8) 0));
if (!(LOC5)) goto LA6;
LOC5 = !(((*T_97498).Sym == NIM_NIL));
LA6: ;
if (!LOC5) goto LA7;
Result_97493 = copyString((*(*(*T_97498).Sym).Name).S);
goto BeforeRet;
LA7: ;
switch ((*T_97498).Kind) {
case ((NU8) 11):
LOC9 = 0;
LOC9 = Lastson_55812(T_97498);
Result_97493 = Typetostring_96014(LOC9, Prefer_96017);
break;
case ((NU8) 16):
if (!((*(*T_97498).Sons->data[0]).Kind == ((NU8) 20))) goto LA11;
LOC13 = 0;
LOC14 = 0;
LOC14 = Rangetostr_97436((*(*T_97498).Sons->data[0]).N);
LOC15 = 0;
LOC15 = Typetostring_96014((*T_97498).Sons->data[1], ((NU8) 0));
LOC13 = rawNewString(LOC14->Sup.len + LOC15->Sup.len + 9);
appendString(LOC13, ((NimStringDesc*) &TMP197044));
appendString(LOC13, LOC14);
appendString(LOC13, ((NimStringDesc*) &TMP197047));
appendString(LOC13, LOC15);
appendChar(LOC13, 93);
Result_97493 = LOC13;
goto LA10;
LA11: ;
LOC16 = 0;
LOC17 = 0;
LOC17 = Typetostring_96014((*T_97498).Sons->data[0], ((NU8) 0));
LOC18 = 0;
LOC18 = Typetostring_96014((*T_97498).Sons->data[1], ((NU8) 0));
LOC16 = rawNewString(LOC17->Sup.len + LOC18->Sup.len + 9);
appendString(LOC16, ((NimStringDesc*) &TMP197044));
appendString(LOC16, LOC17);
appendString(LOC16, ((NimStringDesc*) &TMP197047));
appendString(LOC16, LOC18);
appendChar(LOC16, 93);
Result_97493 = LOC16;
LA10: ;
break;
case ((NU8) 9):
case ((NU8) 10):
LOC19 = 0;
LOC20 = 0;
LOC20 = Typetostring_96014((*T_97498).Sons->data[0], ((NU8) 0));
LOC19 = rawNewString(LOC20->Sup.len + 1);
appendString(LOC19, LOC20);
appendChar(LOC19, 91);
Result_97493 = LOC19;
I_97606 = 0;
HEX3Atmp_97875 = 0;
LOC21 = Sonslen_55806(T_97498);
HEX3Atmp_97875 = (NI32)(LOC21 - 1);
Res_97877 = 0;
Res_97877 = 1;
while (1) {
if (!(Res_97877 <= HEX3Atmp_97875)) goto LA22;
I_97606 = Res_97877;
if (!(1 < I_97606)) goto LA24;
Result_97493 = resizeString(Result_97493, 2);
appendString(Result_97493, ((NimStringDesc*) &TMP197047));
LA24: ;
LOC26 = 0;
LOC26 = Typetostring_96014((*T_97498).Sons->data[I_97606], ((NU8) 0));
Result_97493 = resizeString(Result_97493, LOC26->Sup.len + 0);
appendString(Result_97493, LOC26);
Res_97877 += 1;
} LA22: ;
Result_97493 = addChar(Result_97493, 93);
break;
case ((NU8) 4):
LOC27 = 0;
LOC28 = 0;
LOC28 = Rangetostr_97436((*(*T_97498).Sons->data[0]).N);
LOC29 = 0;
LOC29 = Typetostring_96014((*T_97498).Sons->data[1], ((NU8) 0));
LOC27 = rawNewString(LOC28->Sup.len + LOC29->Sup.len + 21);
appendString(LOC27, ((NimStringDesc*) &TMP197048));
appendString(LOC27, LOC28);
appendString(LOC27, ((NimStringDesc*) &TMP197047));
appendString(LOC27, LOC29);
appendChar(LOC27, 93);
Result_97493 = LOC27;
break;
case ((NU8) 24):
LOC30 = 0;
LOC31 = 0;
LOC31 = Typetostring_96014((*T_97498).Sons->data[0], ((NU8) 0));
LOC30 = rawNewString(LOC31->Sup.len + 5);
appendString(LOC30, ((NimStringDesc*) &TMP197049));
appendString(LOC30, LOC31);
appendChar(LOC30, 93);
Result_97493 = LOC30;
break;
case ((NU8) 15):
LOC32 = 0;
LOC33 = 0;
LOC33 = Typetostring_96014((*T_97498).Sons->data[0], ((NU8) 0));
LOC32 = rawNewString(LOC33->Sup.len + 9);
appendString(LOC32, ((NimStringDesc*) &TMP197050));
appendString(LOC32, LOC33);
appendChar(LOC32, 93);
Result_97493 = LOC32;
break;
case ((NU8) 19):
LOC34 = 0;
LOC35 = 0;
LOC35 = Typetostring_96014((*T_97498).Sons->data[0], ((NU8) 0));
LOC34 = rawNewString(LOC35->Sup.len + 5);
appendString(LOC34, ((NimStringDesc*) &TMP197051));
appendString(LOC34, LOC35);
appendChar(LOC34, 93);
Result_97493 = LOC34;
break;
case ((NU8) 27):
LOC36 = 0;
LOC37 = 0;
LOC37 = Typetostring_96014((*T_97498).Sons->data[0], ((NU8) 0));
LOC36 = rawNewString(LOC37->Sup.len + 11);
appendString(LOC36, ((NimStringDesc*) &TMP197052));
appendString(LOC36, LOC37);
appendChar(LOC36, 93);
Result_97493 = LOC36;
break;
case ((NU8) 13):
LOC38 = 0;
LOC39 = 0;
LOC39 = Typetostring_96014((*T_97498).Sons->data[0], ((NU8) 0));
LOC38 = rawNewString(LOC39->Sup.len + 9);
appendString(LOC38, ((NimStringDesc*) &TMP197053));
appendString(LOC38, LOC39);
Result_97493 = LOC38;
break;
case ((NU8) 18):
Result_97493 = copyString(((NimStringDesc*) &TMP197054));
if (!!(((*T_97498).N == NIM_NIL))) goto LA41;
I_97713 = 0;
HEX3Atmp_97881 = 0;
LOC43 = Sonslen_55803((*T_97498).N);
HEX3Atmp_97881 = (NI32)(LOC43 - 1);
Res_97883 = 0;
Res_97883 = 0;
while (1) {
if (!(Res_97883 <= HEX3Atmp_97881)) goto LA44;
I_97713 = Res_97883;
LOC45 = 0;
LOC46 = 0;
LOC46 = Typetostring_96014((*T_97498).Sons->data[I_97713], ((NU8) 0));
LOC45 = rawNewString((*(*(*(*(*T_97498).N).KindU.S6.Sons->data[I_97713]).KindU.S4.Sym).Name).S->Sup.len + LOC46->Sup.len + 2);
appendString(LOC45, (*(*(*(*(*T_97498).N).KindU.S6.Sons->data[I_97713]).KindU.S4.Sym).Name).S);
appendString(LOC45, ((NimStringDesc*) &TMP197055));
appendString(LOC45, LOC46);
Result_97493 = resizeString(Result_97493, LOC45->Sup.len + 0);
appendString(Result_97493, LOC45);
LOC48 = Sonslen_55803((*T_97498).N);
if (!(I_97713 < (NI32)(LOC48 - 1))) goto LA49;
Result_97493 = resizeString(Result_97493, 2);
appendString(Result_97493, ((NimStringDesc*) &TMP197047));
LA49: ;
Res_97883 += 1;
} LA44: ;
goto LA40;
LA41: ;
I_97784 = 0;
HEX3Atmp_97887 = 0;
LOC51 = Sonslen_55806(T_97498);
HEX3Atmp_97887 = (NI32)(LOC51 - 1);
Res_97889 = 0;
Res_97889 = 0;
while (1) {
if (!(Res_97889 <= HEX3Atmp_97887)) goto LA52;
I_97784 = Res_97889;
LOC53 = 0;
LOC53 = Typetostring_96014((*T_97498).Sons->data[I_97784], ((NU8) 0));
Result_97493 = resizeString(Result_97493, LOC53->Sup.len + 0);
appendString(Result_97493, LOC53);
LOC55 = Sonslen_55806(T_97498);
if (!(I_97784 < (NI32)(LOC55 - 1))) goto LA56;
Result_97493 = resizeString(Result_97493, 2);
appendString(Result_97493, ((NimStringDesc*) &TMP197047));
LA56: ;
Res_97889 += 1;
} LA52: ;
LA40: ;
Result_97493 = addChar(Result_97493, 93);
break;
case ((NU8) 21):
case ((NU8) 22):
case ((NU8) 23):
LOC58 = 0;
LOC59 = 0;
LOC59 = Typetostring_96014((*T_97498).Sons->data[0], ((NU8) 0));
LOC58 = rawNewString(Typetostr_97494[((*T_97498).Kind)-0]->Sup.len + LOC59->Sup.len + 0);
appendString(LOC58, Typetostr_97494[((*T_97498).Kind)-0]);
appendString(LOC58, LOC59);
Result_97493 = LOC58;
break;
case ((NU8) 20):
LOC60 = 0;
LOC61 = 0;
LOC61 = Rangetostr_97436((*T_97498).N);
LOC60 = rawNewString(LOC61->Sup.len + 6);
appendString(LOC60, ((NimStringDesc*) &TMP197056));
appendString(LOC60, LOC61);
Result_97493 = LOC60;
break;
case ((NU8) 25):
Result_97493 = copyString(((NimStringDesc*) &TMP197057));
I_97810 = 0;
HEX3Atmp_97893 = 0;
LOC62 = Sonslen_55806(T_97498);
HEX3Atmp_97893 = (NI32)(LOC62 - 1);
Res_97895 = 0;
Res_97895 = 1;
while (1) {
if (!(Res_97895 <= HEX3Atmp_97893)) goto LA63;
I_97810 = Res_97895;
LOC64 = 0;
LOC64 = Typetostring_96014((*T_97498).Sons->data[I_97810], ((NU8) 0));
Result_97493 = resizeString(Result_97493, LOC64->Sup.len + 0);
appendString(Result_97493, LOC64);
LOC66 = Sonslen_55806(T_97498);
if (!(I_97810 < (NI32)(LOC66 - 1))) goto LA67;
Result_97493 = resizeString(Result_97493, 2);
appendString(Result_97493, ((NimStringDesc*) &TMP197047));
LA67: ;
Res_97895 += 1;
} LA63: ;
Result_97493 = addChar(Result_97493, 41);
if (!!(((*T_97498).Sons->data[0] == NIM_NIL))) goto LA70;
LOC72 = 0;
LOC73 = 0;
LOC73 = Typetostring_96014((*T_97498).Sons->data[0], ((NU8) 0));
LOC72 = rawNewString(LOC73->Sup.len + 2);
appendString(LOC72, ((NimStringDesc*) &TMP197055));
appendString(LOC72, LOC73);
Result_97493 = resizeString(Result_97493, LOC72->Sup.len + 0);
appendString(Result_97493, LOC72);
LA70: ;
Prag_97832 = 0;
if (!!(((*T_97498).Callconv == ((NU8) 0)))) goto LA75;
Prag_97832 = copyString(Callingconvtostr_55015[((*T_97498).Callconv)-0]);
goto LA74;
LA75: ;
Prag_97832 = copyString(((NimStringDesc*) &TMP196944));
LA74: ;
if (!(((*T_97498).Flags &(1<<((((NU8) 1))&7)))!=0)) goto LA78;
Addsep_25820(&Prag_97832, ((NimStringDesc*) &TMP197047), 0);
Prag_97832 = resizeString(Prag_97832, 12);
appendString(Prag_97832, ((NimStringDesc*) &TMP197058));
LA78: ;
if (!!((Prag_97832->Sup.len == 0))) goto LA81;
LOC83 = 0;
LOC83 = rawNewString(Prag_97832->Sup.len + 4);
appendString(LOC83, ((NimStringDesc*) &TMP197059));
appendString(LOC83, Prag_97832);
appendString(LOC83, ((NimStringDesc*) &TMP197060));
Result_97493 = resizeString(Result_97493, LOC83->Sup.len + 0);
appendString(Result_97493, LOC83);
LA81: ;
break;
default:
Result_97493 = copyString(Typetostr_97494[((*T_97498).Kind)-0]);
break;
}
BeforeRet: ;
return Result_97493;
}
N_NIMCALL(TY55551*, Base_96021)(TY55551* T_96023) {
TY55551* Result_97914;
Result_97914 = 0;
Result_97914 = (*T_96023).Sons->data[0];
return Result_97914;
}
N_NIMCALL(NIM_BOOL, Isordinaltype_96069)(TY55551* T_96071) {
NIM_BOOL Result_96623;
NIM_BOOL LOC1;
NIM_BOOL LOC3;
Result_96623 = 0;
LOC1 = ((*T_96071).Kind == ((NU8) 2) || (*T_96071).Kind >= ((NU8) 31) && (*T_96071).Kind <= ((NU8) 35) || (*T_96071).Kind == ((NU8) 1) || (*T_96071).Kind == ((NU8) 14));
if (LOC1) goto LA2;
LOC3 = ((*T_96071).Kind == ((NU8) 20) || (*T_96071).Kind == ((NU8) 15));
if (!(LOC3)) goto LA4;
LOC3 = Isordinaltype_96069((*T_96071).Sons->data[0]);
LA4: ;
LOC1 = LOC3;
LA2: ;
Result_96623 = LOC1;
return Result_96623;
}
N_NIMCALL(NIM_BOOL, Iterovernode_96701)(TY55900* Marker_96704, TY55525* N_96705, TY96025 Iter_96706, TNimObject* Closure_96707) {
NIM_BOOL Result_96708;
NI I_96727;
NI HEX3Atmp_96741;
NI LOC4;
NI Res_96743;
Result_96708 = 0;
Result_96708 = NIM_FALSE;
if (!!((N_96705 == NIM_NIL))) goto LA2;
switch ((*N_96705).Kind) {
case ((NU8) 0) ... ((NU8) 18):
Result_96708 = Iterovertypeaux_96694(Marker_96704, (*N_96705).Typ, Iter_96706, Closure_96707);
break;
default:
I_96727 = 0;
HEX3Atmp_96741 = 0;
LOC4 = Sonslen_55803(N_96705);
HEX3Atmp_96741 = (NI32)(LOC4 - 1);
Res_96743 = 0;
Res_96743 = 0;
while (1) {
if (!(Res_96743 <= HEX3Atmp_96741)) goto LA5;
I_96727 = Res_96743;
Result_96708 = Iterovernode_96701(Marker_96704, (*N_96705).KindU.S6.Sons->data[I_96727], Iter_96706, Closure_96707);
if (!Result_96708) goto LA7;
goto BeforeRet;
LA7: ;
Res_96743 += 1;
} LA5: ;
break;
}
LA2: ;
BeforeRet: ;
return Result_96708;
}
N_NIMCALL(NIM_BOOL, Iterovertypeaux_96694)(TY55900* Marker_96697, TY55551* T_96698, TY96025 Iter_96699, TNimObject* Closure_96700) {
NIM_BOOL Result_96753;
NIM_BOOL LOC8;
TY55551* LOC11;
NI I_96772;
NI HEX3Atmp_96785;
NI LOC12;
NI Res_96787;
Result_96753 = 0;
Result_96753 = NIM_FALSE;
if (!(T_96698 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
Result_96753 = Iter_96699(T_96698, Closure_96700);
if (!Result_96753) goto LA5;
goto BeforeRet;
LA5: ;
LOC8 = Intsetcontainsorincl_55928(Marker_96697, (*T_96698).Sup.Id);
if (!!(LOC8)) goto LA9;
switch ((*T_96698).Kind) {
case ((NU8) 11):
case ((NU8) 10):
LOC11 = 0;
LOC11 = Lastson_55812(T_96698);
Result_96753 = Iterovertypeaux_96694(Marker_96697, LOC11, Iter_96699, Closure_96700);
break;
default:
I_96772 = 0;
HEX3Atmp_96785 = 0;
LOC12 = Sonslen_55806(T_96698);
HEX3Atmp_96785 = (NI32)(LOC12 - 1);
Res_96787 = 0;
Res_96787 = 0;
while (1) {
if (!(Res_96787 <= HEX3Atmp_96785)) goto LA13;
I_96772 = Res_96787;
Result_96753 = Iterovertypeaux_96694(Marker_96697, (*T_96698).Sons->data[I_96772], Iter_96699, Closure_96700);
if (!Result_96753) goto LA15;
goto BeforeRet;
LA15: ;
Res_96787 += 1;
} LA13: ;
if (!!(((*T_96698).N == NIM_NIL))) goto LA18;
Result_96753 = Iterovernode_96701(Marker_96697, (*T_96698).N, Iter_96699, Closure_96700);
LA18: ;
break;
}
LA9: ;
BeforeRet: ;
return Result_96753;
}
N_NIMCALL(NIM_BOOL, Iterovertype_96038)(TY55551* T_96040, TY96025 Iter_96041, TNimObject* Closure_96042) {
NIM_BOOL Result_96795;
TY55900 Marker_96796;
Result_96795 = 0;
memset((void*)&Marker_96796, 0, sizeof(Marker_96796));
Intsetinit_55924(&Marker_96796);
Result_96795 = Iterovertypeaux_96694(&Marker_96796, T_96040, Iter_96041, Closure_96042);
return Result_96795;
}
N_NIMCALL(NIM_BOOL, Equalordistinctof_96056)(TY55551* X_96058, TY55551* Y_96059) {
NIM_BOOL Result_98800;
NIM_BOOL LOC5;
TY55551* A_98833;
TY55551* B_98835;
TY55551* LOC18;
TY55551* LOC19;
NI LOC21;
NI LOC22;
NI I_98896;
NI HEX3Atmp_98964;
NI LOC25;
NI Res_98966;
NIM_BOOL LOC31;
NIM_BOOL LOC35;
NIM_BOOL LOC36;
Result_98800 = 0;
if (!(X_96058 == Y_96059)) goto LA2;
Result_98800 = NIM_TRUE;
goto BeforeRet;
LA2: ;
LOC5 = (X_96058 == NIM_NIL);
if (LOC5) goto LA6;
LOC5 = (Y_96059 == NIM_NIL);
LA6: ;
if (!LOC5) goto LA7;
Result_98800 = NIM_FALSE;
goto BeforeRet;
LA7: ;
A_98833 = 0;
A_98833 = Skiptypes_96085(X_96058, 2048);
B_98835 = 0;
B_98835 = Skiptypes_96085(Y_96059, 2048);
if (!!(((*A_98833).Kind == (*B_98835).Kind))) goto LA10;
if (!((*A_98833).Kind == ((NU8) 13))) goto LA13;
A_98833 = (*A_98833).Sons->data[0];
LA13: ;
if (!!(((*A_98833).Kind == (*B_98835).Kind))) goto LA16;
Result_98800 = NIM_FALSE;
goto BeforeRet;
LA16: ;
LA10: ;
switch ((*A_98833).Kind) {
case ((NU8) 3):
case ((NU8) 2):
case ((NU8) 1):
case ((NU8) 5):
case ((NU8) 26):
case ((NU8) 28):
case ((NU8) 29):
case ((NU8) 31) ... ((NU8) 39):
case ((NU8) 6):
case ((NU8) 7):
case ((NU8) 8):
Result_98800 = NIM_TRUE;
break;
case ((NU8) 14):
case ((NU8) 30):
case ((NU8) 17):
case ((NU8) 13):
Result_98800 = ((*A_98833).Sup.Id == (*B_98835).Sup.Id);
break;
case ((NU8) 18):
Result_98800 = Sametuple_98511(A_98833, B_98835, NIM_TRUE);
break;
case ((NU8) 11):
LOC18 = 0;
LOC18 = Lastson_55812(A_98833);
LOC19 = 0;
LOC19 = Lastson_55812(B_98835);
Result_98800 = Equalordistinctof_96056(LOC18, LOC19);
break;
case ((NU8) 12):
case ((NU8) 9):
case ((NU8) 10):
case ((NU8) 24):
case ((NU8) 15):
case ((NU8) 27):
case ((NU8) 19):
case ((NU8) 22):
case ((NU8) 21):
case ((NU8) 23):
case ((NU8) 4):
case ((NU8) 16):
case ((NU8) 25):
LOC21 = Sonslen_55806(A_98833);
LOC22 = Sonslen_55806(B_98835);
if (!(LOC21 == LOC22)) goto LA23;
Result_98800 = NIM_TRUE;
I_98896 = 0;
HEX3Atmp_98964 = 0;
LOC25 = Sonslen_55806(A_98833);
HEX3Atmp_98964 = (NI32)(LOC25 - 1);
Res_98966 = 0;
Res_98966 = 0;
while (1) {
if (!(Res_98966 <= HEX3Atmp_98964)) goto LA26;
I_98896 = Res_98966;
Result_98800 = Equalordistinctof_96056((*A_98833).Sons->data[I_98896], (*B_98835).Sons->data[I_98896]);
if (!!(Result_98800)) goto LA28;
goto BeforeRet;
LA28: ;
Res_98966 += 1;
} LA26: ;
LOC31 = Result_98800;
if (!(LOC31)) goto LA32;
LOC31 = ((*A_98833).Kind == ((NU8) 25));
LA32: ;
if (!LOC31) goto LA33;
Result_98800 = ((*A_98833).Callconv == (*B_98835).Callconv);
LA33: ;
goto LA20;
LA23: ;
Result_98800 = NIM_FALSE;
LA20: ;
break;
case ((NU8) 20):
LOC36 = Equalordistinctof_96056((*A_98833).Sons->data[0], (*B_98835).Sons->data[0]);
if (!(LOC36)) goto LA37;
LOC36 = Samevalue_55866((*(*A_98833).N).KindU.S6.Sons->data[0], (*(*B_98835).N).KindU.S6.Sons->data[0]);
LA37: ;
LOC35 = LOC36;
if (!(LOC35)) goto LA38;
LOC35 = Samevalue_55866((*(*A_98833).N).KindU.S6.Sons->data[1], (*(*B_98835).N).KindU.S6.Sons->data[1]);
LA38: ;
Result_98800 = LOC35;
break;
case ((NU8) 0):
Result_98800 = NIM_FALSE;
break;
}
BeforeRet: ;
return Result_98800;
}
N_NIMCALL(NIM_BOOL, Sametuple_98511)(TY55551* A_98513, TY55551* B_98514, NIM_BOOL Distinctof_98515) {
NIM_BOOL Result_98516;
TY55547* X_98517;
TY55547* Y_98518;
NI LOC2;
NI LOC3;
NI I_98528;
NI HEX3Atmp_98652;
NI LOC6;
NI Res_98654;
NIM_BOOL LOC15;
NI I_98558;
NI HEX3Atmp_98658;
NI LOC19;
NI Res_98660;
Result_98516 = 0;
X_98517 = 0;
Y_98518 = 0;
LOC2 = Sonslen_55806(A_98513);
LOC3 = Sonslen_55806(B_98514);
if (!(LOC2 == LOC3)) goto LA4;
Result_98516 = NIM_TRUE;
I_98528 = 0;
HEX3Atmp_98652 = 0;
LOC6 = Sonslen_55806(A_98513);
HEX3Atmp_98652 = (NI32)(LOC6 - 1);
Res_98654 = 0;
Res_98654 = 0;
while (1) {
if (!(Res_98654 <= HEX3Atmp_98652)) goto LA7;
I_98528 = Res_98654;
if (!Distinctof_98515) goto LA9;
Result_98516 = Equalordistinctof_96056((*A_98513).Sons->data[I_98528], (*B_98514).Sons->data[I_98528]);
goto LA8;
LA9: ;
Result_98516 = Sametype_96048((*A_98513).Sons->data[I_98528], (*B_98514).Sons->data[I_98528]);
LA8: ;
if (!!(Result_98516)) goto LA12;
goto BeforeRet;
LA12: ;
Res_98654 += 1;
} LA7: ;
LOC15 = !(((*A_98513).N == NIM_NIL));
if (!(LOC15)) goto LA16;
LOC15 = !(((*B_98514).N == NIM_NIL));
LA16: ;
if (!LOC15) goto LA17;
I_98558 = 0;
HEX3Atmp_98658 = 0;
LOC19 = Sonslen_55803((*A_98513).N);
HEX3Atmp_98658 = (NI32)(LOC19 - 1);
Res_98660 = 0;
Res_98660 = 0;
while (1) {
if (!(Res_98660 <= HEX3Atmp_98658)) goto LA20;
I_98558 = Res_98660;
if (!!(((*(*(*A_98513).N).KindU.S6.Sons->data[I_98558]).Kind == ((NU8) 3)))) goto LA22;
Internalerror_47567((*(*A_98513).N).Info, ((NimStringDesc*) &TMP197076));
LA22: ;
if (!!(((*(*(*B_98514).N).KindU.S6.Sons->data[I_98558]).Kind == ((NU8) 3)))) goto LA25;
Internalerror_47567((*(*B_98514).N).Info, ((NimStringDesc*) &TMP197076));
LA25: ;
X_98517 = (*(*(*A_98513).N).KindU.S6.Sons->data[I_98558]).KindU.S4.Sym;
Y_98518 = (*(*(*B_98514).N).KindU.S6.Sons->data[I_98558]).KindU.S4.Sym;
Result_98516 = ((*(*X_98517).Name).Sup.Id == (*(*Y_98518).Name).Sup.Id);
if (!!(Result_98516)) goto LA28;
goto LA20;
LA28: ;
Res_98660 += 1;
} LA20: ;
LA17: ;
goto LA1;
LA4: ;
Result_98516 = NIM_FALSE;
LA1: ;
BeforeRet: ;
return Result_98516;
}
N_NIMCALL(NIM_BOOL, Sametypeornil_96052)(TY55551* A_96054, TY55551* B_96055) {
NIM_BOOL Result_98362;
NIM_BOOL LOC5;
Result_98362 = 0;
if (!(A_96054 == B_96055)) goto LA2;
Result_98362 = NIM_TRUE;
goto LA1;
LA2: ;
LOC5 = (A_96054 == NIM_NIL);
if (LOC5) goto LA6;
LOC5 = (B_96055 == NIM_NIL);
LA6: ;
if (!LOC5) goto LA7;
Result_98362 = NIM_FALSE;
goto LA4;
LA7: ;
Result_98362 = Sametype_96048(A_96054, B_96055);
LA4: ;
LA1: ;
return Result_98362;
}
N_NIMCALL(NIM_BOOL, Sametype_96048)(TY55551* X_96050, TY55551* Y_96051) {
NIM_BOOL Result_98667;
TY55551* A_98678;
TY55551* B_98680;
TY55551* LOC7;
TY55551* LOC8;
NI LOC10;
NI LOC11;
NI I_98723;
NI HEX3Atmp_98791;
NI LOC14;
NI Res_98793;
NIM_BOOL LOC20;
NIM_BOOL LOC24;
NIM_BOOL LOC25;
Result_98667 = 0;
if (!(X_96050 == Y_96051)) goto LA2;
Result_98667 = NIM_TRUE;
goto BeforeRet;
LA2: ;
A_98678 = 0;
A_98678 = Skiptypes_96085(X_96050, 2048);
B_98680 = 0;
B_98680 = Skiptypes_96085(Y_96051, 2048);
if (!!(((*A_98678).Kind == (*B_98680).Kind))) goto LA5;
Result_98667 = NIM_FALSE;
goto BeforeRet;
LA5: ;
switch ((*A_98678).Kind) {
case ((NU8) 3):
case ((NU8) 2):
case ((NU8) 1):
case ((NU8) 5):
case ((NU8) 26):
case ((NU8) 28):
case ((NU8) 29):
case ((NU8) 31) ... ((NU8) 39):
case ((NU8) 6):
case ((NU8) 7):
case ((NU8) 8):
Result_98667 = NIM_TRUE;
break;
case ((NU8) 14):
case ((NU8) 30):
case ((NU8) 17):
case ((NU8) 13):
Result_98667 = ((*A_98678).Sup.Id == (*B_98680).Sup.Id);
break;
case ((NU8) 18):
Result_98667 = Sametuple_98511(A_98678, B_98680, NIM_FALSE);
break;
case ((NU8) 11):
LOC7 = 0;
LOC7 = Lastson_55812(A_98678);
LOC8 = 0;
LOC8 = Lastson_55812(B_98680);
Result_98667 = Sametype_96048(LOC7, LOC8);
break;
case ((NU8) 12):
case ((NU8) 9):
case ((NU8) 10):
case ((NU8) 24):
case ((NU8) 15):
case ((NU8) 27):
case ((NU8) 19):
case ((NU8) 22):
case ((NU8) 21):
case ((NU8) 23):
case ((NU8) 4):
case ((NU8) 16):
case ((NU8) 25):
LOC10 = Sonslen_55806(A_98678);
LOC11 = Sonslen_55806(B_98680);
if (!(LOC10 == LOC11)) goto LA12;
Result_98667 = NIM_TRUE;
I_98723 = 0;
HEX3Atmp_98791 = 0;
LOC14 = Sonslen_55806(A_98678);
HEX3Atmp_98791 = (NI32)(LOC14 - 1);
Res_98793 = 0;
Res_98793 = 0;
while (1) {
if (!(Res_98793 <= HEX3Atmp_98791)) goto LA15;
I_98723 = Res_98793;
Result_98667 = Sametypeornil_96052((*A_98678).Sons->data[I_98723], (*B_98680).Sons->data[I_98723]);
if (!!(Result_98667)) goto LA17;
goto BeforeRet;
LA17: ;
Res_98793 += 1;
} LA15: ;
LOC20 = Result_98667;
if (!(LOC20)) goto LA21;
LOC20 = ((*A_98678).Kind == ((NU8) 25));
LA21: ;
if (!LOC20) goto LA22;
Result_98667 = ((*A_98678).Callconv == (*B_98680).Callconv);
LA22: ;
goto LA9;
LA12: ;
Result_98667 = NIM_FALSE;
LA9: ;
break;
case ((NU8) 20):
LOC25 = Sametypeornil_96052((*A_98678).Sons->data[0], (*B_98680).Sons->data[0]);
if (!(LOC25)) goto LA26;
LOC25 = Samevalue_55866((*(*A_98678).N).KindU.S6.Sons->data[0], (*(*B_98680).N).KindU.S6.Sons->data[0]);
LA26: ;
LOC24 = LOC25;
if (!(LOC24)) goto LA27;
LOC24 = Samevalue_55866((*(*A_98678).N).KindU.S6.Sons->data[1], (*(*B_98680).N).KindU.S6.Sons->data[1]);
LA27: ;
Result_98667 = LOC24;
break;
case ((NU8) 0):
Result_98667 = NIM_FALSE;
break;
}
BeforeRet: ;
return Result_98667;
}
N_NIMCALL(NimStringDesc*, Getprocheader_96018)(TY55547* Sym_96020) {
NimStringDesc* Result_96316;
NimStringDesc* LOC1;
TY55525* N_96321;
NI I_96344;
NI HEX3Atmp_96445;
NI LOC2;
NI Res_96447;
TY55525* P_96357;
NimStringDesc* LOC7;
NI LOC9;
NimStringDesc* LOC15;
NimStringDesc* LOC16;
Result_96316 = 0;
LOC1 = 0;
LOC1 = rawNewString((*(*Sym_96020).Name).S->Sup.len + 1);
appendString(LOC1, (*(*Sym_96020).Name).S);
appendChar(LOC1, 40);
Result_96316 = LOC1;
N_96321 = 0;
N_96321 = (*(*Sym_96020).Typ).N;
I_96344 = 0;
HEX3Atmp_96445 = 0;
LOC2 = Sonslen_55803(N_96321);
HEX3Atmp_96445 = (NI32)(LOC2 - 1);
Res_96447 = 0;
Res_96447 = 1;
while (1) {
if (!(Res_96447 <= HEX3Atmp_96445)) goto LA3;
I_96344 = Res_96447;
P_96357 = 0;
P_96357 = (*N_96321).KindU.S6.Sons->data[I_96344];
if (!!(((*P_96357).Kind == ((NU8) 3)))) goto LA5;
Internalerror_47571(((NimStringDesc*) &TMP197087));
LA5: ;
Result_96316 = resizeString(Result_96316, (*(*(*P_96357).KindU.S4.Sym).Name).S->Sup.len + 0);
appendString(Result_96316, (*(*(*P_96357).KindU.S4.Sym).Name).S);
Result_96316 = resizeString(Result_96316, 2);
appendString(Result_96316, ((NimStringDesc*) &TMP197055));
LOC7 = 0;
LOC7 = Typetostring_96014((*(*P_96357).KindU.S4.Sym).Typ, ((NU8) 0));
Result_96316 = resizeString(Result_96316, LOC7->Sup.len + 0);
appendString(Result_96316, LOC7);
LOC9 = Sonslen_55803(N_96321);
if (!!((I_96344 == (NI32)(LOC9 - 1)))) goto LA10;
Result_96316 = resizeString(Result_96316, 2);
appendString(Result_96316, ((NimStringDesc*) &TMP197047));
LA10: ;
Res_96447 += 1;
} LA3: ;
Result_96316 = addChar(Result_96316, 41);
if (!!(((*(*N_96321).KindU.S6.Sons->data[0]).Typ == NIM_NIL))) goto LA13;
LOC15 = 0;
LOC16 = 0;
LOC16 = Typetostring_96014((*(*N_96321).KindU.S6.Sons->data[0]).Typ, ((NU8) 0));
LOC15 = rawNewString(Result_96316->Sup.len + LOC16->Sup.len + 2);
appendString(LOC15, Result_96316);
appendString(LOC15, ((NimStringDesc*) &TMP197055));
appendString(LOC15, LOC16);
Result_96316 = LOC15;
LA13: ;
return Result_96316;
}
N_NIMCALL(NIM_BOOL, Enumhaswholes_96072)(TY55551* T_96074) {
NIM_BOOL Result_96662;
TY55551* B_96663;
NIM_BOOL LOC2;
Result_96662 = 0;
B_96663 = 0;
B_96663 = T_96074;
while (1) {
if (!((*B_96663).Kind == ((NU8) 20))) goto LA1;
B_96663 = (*B_96663).Sons->data[0];
} LA1: ;
LOC2 = ((*B_96663).Kind == ((NU8) 14));
if (!(LOC2)) goto LA3;
LOC2 = (((*B_96663).Flags &(1<<((((NU8) 4))&7)))!=0);
LA3: ;
Result_96662 = LOC2;
return Result_96662;
}
N_NIMCALL(NU8, Equalparam_98138)(TY55547* A_98140, TY55547* B_98141) {
NU8 Result_98142;
NIM_BOOL LOC2;
NIM_BOOL LOC8;
NIM_BOOL LOC13;
Result_98142 = 0;
LOC2 = Sametypeornil_96052((*A_98140).Typ, (*B_98141).Typ);
if (!LOC2) goto LA3;
if (!((*A_98140).Ast == (*B_98141).Ast)) goto LA6;
Result_98142 = ((NU8) 1);
goto LA5;
LA6: ;
LOC8 = !(((*A_98140).Ast == NIM_NIL));
if (!(LOC8)) goto LA9;
LOC8 = !(((*B_98141).Ast == NIM_NIL));
LA9: ;
if (!LOC8) goto LA10;
LOC13 = Exprstructuralequivalent_95035((*A_98140).Ast, (*B_98141).Ast);
if (!LOC13) goto LA14;
Result_98142 = ((NU8) 1);
goto LA12;
LA14: ;
Result_98142 = ((NU8) 2);
LA12: ;
goto LA5;
LA10: ;
if (!!(((*A_98140).Ast == NIM_NIL))) goto LA16;
Result_98142 = ((NU8) 1);
goto LA5;
LA16: ;
if (!!(((*B_98141).Ast == NIM_NIL))) goto LA18;
Result_98142 = ((NU8) 2);
goto LA5;
LA18: ;
LA5: ;
goto LA1;
LA3: ;
Result_98142 = ((NU8) 0);
LA1: ;
return Result_98142;
}
N_NIMCALL(NU8, Equalparams_96065)(TY55525* A_96067, TY55525* B_96068) {
NU8 Result_98200;
NI Length_98201;
TY55547* M_98202;
TY55547* N_98203;
NI LOC2;
NI I_98213;
NI HEX3Atmp_98353;
NI Res_98355;
NU8 LOC6;
NIM_BOOL LOC11;
NIM_BOOL LOC15;
Result_98200 = 0;
Length_98201 = 0;
M_98202 = 0;
N_98203 = 0;
Result_98200 = ((NU8) 1);
Length_98201 = Sonslen_55803(A_96067);
LOC2 = Sonslen_55803(B_96068);
if (!!((Length_98201 == LOC2))) goto LA3;
Result_98200 = ((NU8) 0);
goto LA1;
LA3: ;
I_98213 = 0;
HEX3Atmp_98353 = 0;
HEX3Atmp_98353 = (NI32)(Length_98201 - 1);
Res_98355 = 0;
Res_98355 = 1;
while (1) {
if (!(Res_98355 <= HEX3Atmp_98353)) goto LA5;
I_98213 = Res_98355;
M_98202 = (*(*A_96067).KindU.S6.Sons->data[I_98213]).KindU.S4.Sym;
N_98203 = (*(*B_96068).KindU.S6.Sons->data[I_98213]).KindU.S4.Sym;
LOC6 = Equalparam_98138(M_98202, N_98203);
switch (LOC6) {
case ((NU8) 0):
Result_98200 = ((NU8) 0);
goto BeforeRet;
break;
case ((NU8) 1):
break;
case ((NU8) 2):
Result_98200 = ((NU8) 2);
break;
}
if (!!(((*(*M_98202).Name).Sup.Id == (*(*N_98203).Name).Sup.Id))) goto LA8;
Result_98200 = ((NU8) 0);
goto BeforeRet;
LA8: ;
Res_98355 += 1;
} LA5: ;
LOC11 = Sametypeornil_96052((*(*A_96067).KindU.S6.Sons->data[0]).Typ, (*(*B_96068).KindU.S6.Sons->data[0]).Typ);
if (!!(LOC11)) goto LA12;
LOC15 = ((*(*A_96067).KindU.S6.Sons->data[0]).Typ == NIM_NIL);
if (LOC15) goto LA16;
LOC15 = ((*(*B_96068).KindU.S6.Sons->data[0]).Typ == NIM_NIL);
LA16: ;
if (!LOC15) goto LA17;
Result_98200 = ((NU8) 0);
goto LA14;
LA17: ;
Result_98200 = ((NU8) 2);
LA14: ;
LA12: ;
LA1: ;
BeforeRet: ;
return Result_98200;
}
N_NIMCALL(NIM_BOOL, Typeallowednode_98975)(TY55900* Marker_98978, TY55525* N_98979, NU8 Kind_98980) {
NIM_BOOL Result_98981;
NI I_99000;
NI HEX3Atmp_99014;
NI LOC10;
NI Res_99016;
Result_98981 = 0;
Result_98981 = NIM_TRUE;
if (!!((N_98979 == NIM_NIL))) goto LA2;
Result_98981 = Typeallowedaux_98969(Marker_98978, (*N_98979).Typ, Kind_98980);
if (!!(Result_98981)) goto LA5;
Debug_59160((*N_98979).Typ);
LA5: ;
if (!Result_98981) goto LA8;
switch ((*N_98979).Kind) {
case ((NU8) 0) ... ((NU8) 18):
break;
default:
I_99000 = 0;
HEX3Atmp_99014 = 0;
LOC10 = Sonslen_55803(N_98979);
HEX3Atmp_99014 = (NI32)(LOC10 - 1);
Res_99016 = 0;
Res_99016 = 0;
while (1) {
if (!(Res_99016 <= HEX3Atmp_99014)) goto LA11;
I_99000 = Res_99016;
Result_98981 = Typeallowednode_98975(Marker_98978, (*N_98979).KindU.S6.Sons->data[I_99000], Kind_98980);
if (!!(Result_98981)) goto LA13;
goto BeforeRet;
LA13: ;
Res_99016 += 1;
} LA11: ;
break;
}
LA8: ;
LA2: ;
BeforeRet: ;
return Result_98981;
}
N_NIMCALL(NIM_BOOL, Typeallowedaux_98969)(TY55900* Marker_98972, TY55551* Typ_98973, NU8 Kind_98974) {
NIM_BOOL Result_99025;
TY55551* T_99026;
TY55551* T2_99027;
NIM_BOOL LOC5;
NIM_BOOL LOC8;
NIM_BOOL LOC10;
NI I_99076;
NI HEX3Atmp_99173;
NI LOC12;
NI Res_99175;
TY55551* LOC20;
TY55551* LOC21;
NIM_BOOL LOC22;
NIM_BOOL LOC24;
NIM_BOOL LOC25;
NI I_99152;
NI HEX3Atmp_99179;
NI LOC28;
NI Res_99181;
NI I_99160;
NI HEX3Atmp_99185;
NI LOC33;
NI Res_99187;
Result_99025 = 0;
T_99026 = 0;
T2_99027 = 0;
Result_99025 = NIM_TRUE;
if (!(Typ_98973 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
LOC5 = Intsetcontainsorincl_55928(Marker_98972, (*Typ_98973).Sup.Id);
if (!LOC5) goto LA6;
goto BeforeRet;
LA6: ;
T_99026 = Skiptypes_96085(Typ_98973, 43008);
switch ((*T_99026).Kind) {
case ((NU8) 23):
T2_99027 = Skiptypes_96085((*T_99026).Sons->data[0], 43008);
switch ((*T2_99027).Kind) {
case ((NU8) 23):
Result_99025 = NIM_FALSE;
break;
case ((NU8) 27):
LOC8 = (Kind_98974 == ((NU8) 3));
if (!(LOC8)) goto LA9;
LOC8 = Typeallowedaux_98969(Marker_98972, T2_99027, Kind_98974);
LA9: ;
Result_99025 = LOC8;
break;
default:
LOC10 = !((Kind_98974 == ((NU8) 7)));
if (!(LOC10)) goto LA11;
LOC10 = Typeallowedaux_98969(Marker_98972, T2_99027, Kind_98974);
LA11: ;
Result_99025 = LOC10;
break;
}
break;
case ((NU8) 25):
I_99076 = 0;
HEX3Atmp_99173 = 0;
LOC12 = Sonslen_55806(T_99026);
HEX3Atmp_99173 = (NI32)(LOC12 - 1);
Res_99175 = 0;
Res_99175 = 1;
while (1) {
if (!(Res_99175 <= HEX3Atmp_99173)) goto LA13;
I_99076 = Res_99175;
Result_99025 = Typeallowedaux_98969(Marker_98972, (*T_99026).Sons->data[I_99076], ((NU8) 3));
if (!!(Result_99025)) goto LA15;
goto BeforeRet;
LA15: ;
Res_99175 += 1;
} LA13: ;
if (!!(((*T_99026).Sons->data[0] == NIM_NIL))) goto LA18;
Result_99025 = Typeallowedaux_98969(Marker_98972, (*T_99026).Sons->data[0], ((NU8) 8));
LA18: ;
break;
case ((NU8) 6):
case ((NU8) 7):
case ((NU8) 8):
Result_99025 = NIM_TRUE;
break;
case ((NU8) 10):
case ((NU8) 12):
case ((NU8) 30):
case ((NU8) 0):
case ((NU8) 9):
Result_99025 = NIM_FALSE;
break;
case ((NU8) 3):
case ((NU8) 5):
Result_99025 = (Kind_98974 == ((NU8) 7));
break;
case ((NU8) 28):
case ((NU8) 1):
case ((NU8) 2):
case ((NU8) 14):
case ((NU8) 31) ... ((NU8) 39):
case ((NU8) 29):
case ((NU8) 26):
Result_99025 = NIM_TRUE;
break;
case ((NU8) 15):
Result_99025 = (Kind_98974 == ((NU8) 3));
break;
case ((NU8) 11):
case ((NU8) 13):
LOC20 = 0;
LOC20 = Lastson_55812(T_99026);
Result_99025 = Typeallowedaux_98969(Marker_98972, LOC20, Kind_98974);
break;
case ((NU8) 20):
LOC21 = 0;
LOC21 = Skiptypes_96085((*T_99026).Sons->data[0], 43008);
Result_99025 = ((*LOC21).Kind == ((NU8) 2) || (*LOC21).Kind == ((NU8) 14) || (*LOC21).Kind >= ((NU8) 31) && (*LOC21).Kind <= ((NU8) 39));
break;
case ((NU8) 27):
LOC22 = (Kind_98974 == ((NU8) 3));
if (!(LOC22)) goto LA23;
LOC22 = Typeallowedaux_98969(Marker_98972, (*T_99026).Sons->data[0], ((NU8) 8));
LA23: ;
Result_99025 = LOC22;
break;
case ((NU8) 24):
LOC25 = !((Kind_98974 == ((NU8) 7)));
if (!(LOC25)) goto LA26;
LOC25 = Typeallowedaux_98969(Marker_98972, (*T_99026).Sons->data[0], ((NU8) 8));
LA26: ;
LOC24 = LOC25;
if (LOC24) goto LA27;
LOC24 = ((*(*T_99026).Sons->data[0]).Kind == ((NU8) 3));
LA27: ;
Result_99025 = LOC24;
break;
case ((NU8) 16):
Result_99025 = Typeallowedaux_98969(Marker_98972, (*T_99026).Sons->data[1], ((NU8) 8));
break;
case ((NU8) 21):
case ((NU8) 22):
Result_99025 = Typeallowedaux_98969(Marker_98972, (*T_99026).Sons->data[0], ((NU8) 8));
break;
case ((NU8) 4):
case ((NU8) 18):
case ((NU8) 19):
I_99152 = 0;
HEX3Atmp_99179 = 0;
LOC28 = Sonslen_55806(T_99026);
HEX3Atmp_99179 = (NI32)(LOC28 - 1);
Res_99181 = 0;
Res_99181 = 0;
while (1) {
if (!(Res_99181 <= HEX3Atmp_99179)) goto LA29;
I_99152 = Res_99181;
Result_99025 = Typeallowedaux_98969(Marker_98972, (*T_99026).Sons->data[I_99152], Kind_98974);
if (!!(Result_99025)) goto LA31;
goto BeforeRet;
LA31: ;
Res_99181 += 1;
} LA29: ;
break;
case ((NU8) 17):
I_99160 = 0;
HEX3Atmp_99185 = 0;
LOC33 = Sonslen_55806(T_99026);
HEX3Atmp_99185 = (NI32)(LOC33 - 1);
Res_99187 = 0;
Res_99187 = 0;
while (1) {
if (!(Res_99187 <= HEX3Atmp_99185)) goto LA34;
I_99160 = Res_99187;
Result_99025 = Typeallowedaux_98969(Marker_98972, (*T_99026).Sons->data[I_99160], ((NU8) 8));
if (!!(Result_99025)) goto LA36;
goto BeforeRet;
LA36: ;
Res_99187 += 1;
} LA34: ;
if (!!(((*T_99026).N == NIM_NIL))) goto LA39;
Result_99025 = Typeallowednode_98975(Marker_98972, (*T_99026).N, ((NU8) 8));
LA39: ;
break;
}
BeforeRet: ;
return Result_99025;
}
N_NIMCALL(NIM_BOOL, Typeallowed_96134)(TY55551* T_96136, NU8 Kind_96137) {
NIM_BOOL Result_99194;
TY55900 Marker_99195;
Result_99194 = 0;
memset((void*)&Marker_99195, 0, sizeof(Marker_99195));
Intsetinit_55924(&Marker_99195);
Result_99194 = Typeallowedaux_98969(&Marker_99195, T_96136, Kind_96137);
return Result_99194;
}
N_NIMCALL(NIM_BOOL, Searchtypenodeforaux_96805)(TY55525* N_96807, TY96029 P_96808, TY55900* Marker_96810) {
NIM_BOOL Result_96811;
NI I_96819;
NI HEX3Atmp_96910;
NI LOC1;
NI Res_96912;
NI I_96872;
NI HEX3Atmp_96916;
NI LOC9;
NI Res_96918;
TY55525* LOC11;
Result_96811 = 0;
Result_96811 = NIM_FALSE;
switch ((*N_96807).Kind) {
case ((NU8) 113):
I_96819 = 0;
HEX3Atmp_96910 = 0;
LOC1 = Sonslen_55803(N_96807);
HEX3Atmp_96910 = (NI32)(LOC1 - 1);
Res_96912 = 0;
Res_96912 = 0;
while (1) {
if (!(Res_96912 <= HEX3Atmp_96910)) goto LA2;
I_96819 = Res_96912;
Result_96811 = Searchtypenodeforaux_96805((*N_96807).KindU.S6.Sons->data[I_96819], P_96808, Marker_96810);
if (!Result_96811) goto LA4;
goto BeforeRet;
LA4: ;
Res_96912 += 1;
} LA2: ;
break;
case ((NU8) 114):
Result_96811 = Searchtypenodeforaux_96805((*N_96807).KindU.S6.Sons->data[0], P_96808, Marker_96810);
if (!Result_96811) goto LA7;
goto BeforeRet;
LA7: ;
I_96872 = 0;
HEX3Atmp_96916 = 0;
LOC9 = Sonslen_55803(N_96807);
HEX3Atmp_96916 = (NI32)(LOC9 - 1);
Res_96918 = 0;
Res_96918 = 1;
while (1) {
if (!(Res_96918 <= HEX3Atmp_96916)) goto LA10;
I_96872 = Res_96918;
switch ((*(*N_96807).KindU.S6.Sons->data[I_96872]).Kind) {
case ((NU8) 75):
case ((NU8) 78):
LOC11 = 0;
LOC11 = Lastson_55809((*N_96807).KindU.S6.Sons->data[I_96872]);
Result_96811 = Searchtypenodeforaux_96805(LOC11, P_96808, Marker_96810);
if (!Result_96811) goto LA13;
goto BeforeRet;
LA13: ;
break;
default:
Internalerror_47571(((NimStringDesc*) &TMP197283));
break;
}
Res_96918 += 1;
} LA10: ;
break;
case ((NU8) 3):
Result_96811 = Searchtypeforaux_96799((*(*N_96807).KindU.S4.Sym).Typ, P_96808, Marker_96810);
break;
default:
Internalerror_47567((*N_96807).Info, ((NimStringDesc*) &TMP197284));
break;
}
BeforeRet: ;
return Result_96811;
}
N_NIMCALL(NIM_BOOL, Searchtypeforaux_96799)(TY55551* T_96801, TY96029 Predicate_96802, TY55900* Marker_96804) {
NIM_BOOL Result_96927;
NIM_BOOL LOC5;
TY55551* LOC14;
NI I_96946;
NI HEX3Atmp_96948;
NI LOC15;
NI Res_96950;
Result_96927 = 0;
Result_96927 = NIM_FALSE;
if (!(T_96801 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
LOC5 = Intsetcontainsorincl_55928(Marker_96804, (*T_96801).Sup.Id);
if (!LOC5) goto LA6;
goto BeforeRet;
LA6: ;
Result_96927 = Predicate_96802(T_96801);
if (!Result_96927) goto LA9;
goto BeforeRet;
LA9: ;
switch ((*T_96801).Kind) {
case ((NU8) 17):
Result_96927 = Searchtypeforaux_96799((*T_96801).Sons->data[0], Predicate_96802, Marker_96804);
if (!!(Result_96927)) goto LA12;
Result_96927 = Searchtypenodeforaux_96805((*T_96801).N, Predicate_96802, Marker_96804);
LA12: ;
break;
case ((NU8) 11):
case ((NU8) 13):
LOC14 = 0;
LOC14 = Lastson_55812(T_96801);
Result_96927 = Searchtypeforaux_96799(LOC14, Predicate_96802, Marker_96804);
break;
case ((NU8) 16):
case ((NU8) 4):
case ((NU8) 19):
case ((NU8) 18):
I_96946 = 0;
HEX3Atmp_96948 = 0;
LOC15 = Sonslen_55806(T_96801);
HEX3Atmp_96948 = (NI32)(LOC15 - 1);
Res_96950 = 0;
Res_96950 = 0;
while (1) {
if (!(Res_96950 <= HEX3Atmp_96948)) goto LA16;
I_96946 = Res_96950;
Result_96927 = Searchtypeforaux_96799((*T_96801).Sons->data[I_96946], Predicate_96802, Marker_96804);
if (!Result_96927) goto LA18;
goto BeforeRet;
LA18: ;
Res_96950 += 1;
} LA16: ;
break;
default:
break;
}
BeforeRet: ;
return Result_96927;
}
N_NIMCALL(NIM_BOOL, Searchtypefor_96953)(TY55551* T_96955, TY96029 Predicate_96956) {
NIM_BOOL Result_96957;
TY55900 Marker_96958;
Result_96957 = 0;
memset((void*)&Marker_96958, 0, sizeof(Marker_96958));
Intsetinit_55924(&Marker_96958);
Result_96957 = Searchtypeforaux_96799(T_96955, Predicate_96956, &Marker_96958);
return Result_96957;
}
N_NIMCALL(NIM_BOOL, Isgbcref_97135)(TY55551* T_97137) {
NIM_BOOL Result_97138;
Result_97138 = 0;
Result_97138 = ((*T_97137).Kind == ((NU8) 22) || (*T_97137).Kind == ((NU8) 24) || (*T_97137).Kind == ((NU8) 28));
return Result_97138;
}
N_NIMCALL(NIM_BOOL, Containsgarbagecollectedref_96095)(TY55551* Typ_96097) {
NIM_BOOL Result_97154;
Result_97154 = 0;
Result_97154 = Searchtypefor_96953(Typ_96097, Isgbcref_97135);
return Result_97154;
}
N_NIMCALL(NIM_BOOL, Canformacyclenode_97181)(TY55900* Marker_97184, TY55525* N_97185, NI Startid_97186) {
NIM_BOOL Result_97187;
NI I_97206;
NI HEX3Atmp_97220;
NI LOC7;
NI Res_97222;
Result_97187 = 0;
Result_97187 = NIM_FALSE;
if (!!((N_97185 == NIM_NIL))) goto LA2;
Result_97187 = Canformacycleaux_97175(Marker_97184, (*N_97185).Typ, Startid_97186);
if (!!(Result_97187)) goto LA5;
switch ((*N_97185).Kind) {
case ((NU8) 0) ... ((NU8) 18):
break;
default:
I_97206 = 0;
HEX3Atmp_97220 = 0;
LOC7 = Sonslen_55803(N_97185);
HEX3Atmp_97220 = (NI32)(LOC7 - 1);
Res_97222 = 0;
Res_97222 = 0;
while (1) {
if (!(Res_97222 <= HEX3Atmp_97220)) goto LA8;
I_97206 = Res_97222;
Result_97187 = Canformacyclenode_97181(Marker_97184, (*N_97185).KindU.S6.Sons->data[I_97206], Startid_97186);
if (!Result_97187) goto LA10;
goto BeforeRet;
LA10: ;
Res_97222 += 1;
} LA8: ;
break;
}
LA5: ;
LA2: ;
BeforeRet: ;
return Result_97187;
}
N_NIMCALL(NIM_BOOL, Canformacycleaux_97175)(TY55900* Marker_97178, TY55551* Typ_97179, NI Startid_97180) {
NIM_BOOL Result_97231;
TY55551* T_97232;
NIM_BOOL LOC11;
NI I_97273;
NI HEX3Atmp_97288;
NI LOC14;
NI Res_97290;
Result_97231 = 0;
T_97232 = 0;
Result_97231 = NIM_FALSE;
if (!(Typ_97179 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
if (!(((*Typ_97179).Flags &(1<<((((NU8) 3))&7)))!=0)) goto LA5;
goto BeforeRet;
LA5: ;
T_97232 = Skiptypes_96085(Typ_97179, 43008);
if (!(((*T_97232).Flags &(1<<((((NU8) 3))&7)))!=0)) goto LA8;
goto BeforeRet;
LA8: ;
switch ((*T_97232).Kind) {
case ((NU8) 18):
case ((NU8) 17):
case ((NU8) 22):
case ((NU8) 24):
case ((NU8) 16):
case ((NU8) 4):
case ((NU8) 27):
LOC11 = Intsetcontainsorincl_55928(Marker_97178, (*T_97232).Sup.Id);
if (!!(LOC11)) goto LA12;
I_97273 = 0;
HEX3Atmp_97288 = 0;
LOC14 = Sonslen_55806(T_97232);
HEX3Atmp_97288 = (NI32)(LOC14 - 1);
Res_97290 = 0;
Res_97290 = 0;
while (1) {
if (!(Res_97290 <= HEX3Atmp_97288)) goto LA15;
I_97273 = Res_97290;
Result_97231 = Canformacycleaux_97175(Marker_97178, (*T_97232).Sons->data[I_97273], Startid_97180);
if (!Result_97231) goto LA17;
goto BeforeRet;
LA17: ;
Res_97290 += 1;
} LA15: ;
if (!!(((*T_97232).N == NIM_NIL))) goto LA20;
Result_97231 = Canformacyclenode_97181(Marker_97178, (*T_97232).N, Startid_97180);
LA20: ;
goto LA10;
LA12: ;
Result_97231 = ((*T_97232).Sup.Id == Startid_97180);
LA10: ;
break;
default:
break;
}
BeforeRet: ;
return Result_97231;
}
N_NIMCALL(NIM_BOOL, Canformacycle_96101)(TY55551* Typ_96103) {
NIM_BOOL Result_97296;
TY55900 Marker_97297;
Result_97296 = 0;
memset((void*)&Marker_97297, 0, sizeof(Marker_97297));
Intsetinit_55924(&Marker_97297);
Result_97296 = Canformacycleaux_97175(&Marker_97297, Typ_96103, (*Typ_96103).Sup.Id);
return Result_97296;
}
N_NIMCALL(NU8, Analyseobjectwithtypefieldaux_97035)(TY55551* T_97037, TY55900* Marker_97039) {
NU8 Result_97040;
NU8 Res_97041;
NIM_BOOL LOC8;
NI I_97071;
NI HEX3Atmp_97117;
NI LOC11;
NI Res_97119;
NIM_BOOL LOC23;
TY55551* LOC26;
NI I_97106;
NI HEX3Atmp_97123;
NI LOC27;
NI Res_97125;
Result_97040 = 0;
Res_97041 = 0;
Result_97040 = ((NU8) 0);
if (!(T_97037 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*T_97037).Kind) {
case ((NU8) 17):
if (!!(((*T_97037).N == NIM_NIL))) goto LA5;
LOC8 = Searchtypenodeforaux_96805((*T_97037).N, Isobjectwithtypefieldpredicate_96978, Marker_97039);
if (!LOC8) goto LA9;
Result_97040 = ((NU8) 2);
goto BeforeRet;
LA9: ;
LA5: ;
I_97071 = 0;
HEX3Atmp_97117 = 0;
LOC11 = Sonslen_55806(T_97037);
HEX3Atmp_97117 = (NI32)(LOC11 - 1);
Res_97119 = 0;
Res_97119 = 0;
while (1) {
if (!(Res_97119 <= HEX3Atmp_97117)) goto LA12;
I_97071 = Res_97119;
Res_97041 = Analyseobjectwithtypefieldaux_97035((*T_97037).Sons->data[I_97071], Marker_97039);
if (!(Res_97041 == ((NU8) 2))) goto LA14;
Result_97040 = ((NU8) 2);
goto BeforeRet;
LA14: ;
if (!(Res_97041 == ((NU8) 1))) goto LA17;
Result_97040 = ((NU8) 1);
LA17: ;
Res_97119 += 1;
} LA12: ;
if (!(Result_97040 == ((NU8) 0))) goto LA20;
LOC23 = Isobjectwithtypefieldpredicate_96978(T_97037);
if (!LOC23) goto LA24;
Result_97040 = ((NU8) 1);
LA24: ;
LA20: ;
break;
case ((NU8) 11):
case ((NU8) 13):
LOC26 = 0;
LOC26 = Lastson_55812(T_97037);
Result_97040 = Analyseobjectwithtypefieldaux_97035(LOC26, Marker_97039);
break;
case ((NU8) 16):
case ((NU8) 4):
case ((NU8) 18):
I_97106 = 0;
HEX3Atmp_97123 = 0;
LOC27 = Sonslen_55806(T_97037);
HEX3Atmp_97123 = (NI32)(LOC27 - 1);
Res_97125 = 0;
Res_97125 = 0;
while (1) {
if (!(Res_97125 <= HEX3Atmp_97123)) goto LA28;
I_97106 = Res_97125;
Res_97041 = Analyseobjectwithtypefieldaux_97035((*T_97037).Sons->data[I_97106], Marker_97039);
if (!!((Res_97041 == ((NU8) 0)))) goto LA30;
Result_97040 = ((NU8) 2);
goto BeforeRet;
LA30: ;
Res_97125 += 1;
} LA28: ;
break;
default:
break;
}
BeforeRet: ;
return Result_97040;
}
N_NIMCALL(NU8, Analyseobjectwithtypefield_96131)(TY55551* T_96133) {
NU8 Result_97131;
TY55900 Marker_97132;
Result_97131 = 0;
memset((void*)&Marker_97132, 0, sizeof(Marker_97132));
Intsetinit_55924(&Marker_97132);
Result_97131 = Analyseobjectwithtypefieldaux_97035(T_96133, &Marker_97132);
return Result_97131;
}
N_NIMCALL(NIM_BOOL, Ispureobject_96116)(TY55551* Typ_96118) {
NIM_BOOL Result_96224;
TY55551* T_96225;
NIM_BOOL LOC2;
Result_96224 = 0;
T_96225 = 0;
T_96225 = Typ_96118;
while (1) {
if (!!(((*T_96225).Sons->data[0] == NIM_NIL))) goto LA1;
T_96225 = (*T_96225).Sons->data[0];
} LA1: ;
LOC2 = !(((*T_96225).Sym == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC2 = (((*(*T_96225).Sym).Flags &(1<<((((NU8) 11))&31)))!=0);
LA3: ;
Result_96224 = LOC2;
return Result_96224;
}
N_NOINLINE(void, typesInit)(void) {
}

