/* Generated by Nimrod Compiler v0.8.11 */
/*   (c) 2011 Andreas Rumpf */

typedef long long int NI;
typedef unsigned long long int NU;
#include "nimbase.h"

typedef struct TY55552 TY55552;
typedef struct TY54005 TY54005;
typedef struct TNimObject TNimObject;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct TY55550 TY55550;
typedef struct TGenericSeq TGenericSeq;
typedef struct TY55526 TY55526;
typedef struct TY55548 TY55548;
typedef struct TY55540 TY55540;
typedef struct TY52008 TY52008;
typedef struct NimStringDesc NimStringDesc;
typedef struct TY47539 TY47539;
typedef struct TY54011 TY54011;
typedef struct TY55520 TY55520;
typedef struct TY55530 TY55530;
typedef struct TY55528 TY55528;
typedef struct TY55544 TY55544;
typedef struct TY55901 TY55901;
typedef struct TY55897 TY55897;
typedef struct TY55899 TY55899;
typedef struct TY43013 TY43013;
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TNimObject {
TNimType* m_type;
};
struct TY54005 {
  TNimObject Sup;
NI Id;
};
struct TGenericSeq {
NI len;
NI space;
};
struct TY55540 {
NU8 K;
NU8 S;
NU8 Flags;
TY55552* T;
TY52008* R;
NI A;
};
struct TY55552 {
  TY54005 Sup;
NU8 Kind;
TY55550* Sons;
TY55526* N;
NU8 Flags;
NU8 Callconv;
TY55548* Owner;
TY55548* Sym;
NI64 Size;
NI Align;
NI Containerid;
TY55540 Loc;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
struct TY47539 {
NI16 Line;
NI16 Col;
int Fileindex;
};
struct TY55526 {
TY55552* Typ;
NimStringDesc* Comment;
TY47539 Info;
NU8 Flags;
NU8 Kind;
union {
struct {NI64 Intval;
} S1;
struct {NF64 Floatval;
} S2;
struct {NimStringDesc* Strval;
} S3;
struct {TY55548* Sym;
} S4;
struct {TY54011* Ident;
} S5;
struct {TY55520* Sons;
} S6;
} KindU;
};
struct TY55530 {
TNimType* m_type;
NI Counter;
TY55528* Data;
};
struct TY55548 {
  TY54005 Sup;
NU8 Kind;
NU8 Magic;
TY55552* Typ;
TY54011* Name;
TY47539 Info;
TY55548* Owner;
NU32 Flags;
TY55530 Tab;
TY55526* Ast;
NU32 Options;
NI Position;
NI Offset;
TY55540 Loc;
TY55544* Annex;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
typedef NimStringDesc* TY98424[40];
struct TY54011 {
  TY54005 Sup;
NimStringDesc* S;
TY54011* Next;
NI H;
};
typedef NimStringDesc* TY55016[10];
typedef N_NIMCALL_PTR(NIM_BOOL, TY97025) (TY55552* T_97030, TNimObject* Closure_97031);
struct TY55901 {
NI Counter;
NI Max;
TY55897* Head;
TY55899* Data;
};
typedef N_NIMCALL_PTR(NIM_BOOL, TY97029) (TY55552* T_97036);
struct TY52008 {
  TNimObject Sup;
TY52008* Left;
TY52008* Right;
NI Length;
NimStringDesc* Data;
};
struct TY43013 {
  TNimObject Sup;
TY43013* Prev;
TY43013* Next;
};
struct TY55544 {
  TY43013 Sup;
NU8 Kind;
NIM_BOOL Generated;
TY52008* Name;
TY55526* Path;
};
typedef NI TY9014[8];
struct TY55897 {
TY55897* Next;
NI Key;
TY9014 Bits;
};
struct TY55550 {
  TGenericSeq Sup;
  TY55552* data[SEQ_DECL_SIZE];
};
struct TY55520 {
  TGenericSeq Sup;
  TY55526* data[SEQ_DECL_SIZE];
};
struct TY55528 {
  TGenericSeq Sup;
  TY55548* data[SEQ_DECL_SIZE];
};
struct TY55899 {
  TGenericSeq Sup;
  TY55897* data[SEQ_DECL_SIZE];
};
static N_INLINE(TY55552*, Lastson_55813)(TY55552* N_55815);
static N_INLINE(NI, Sonslen_55807)(TY55552* N_55809);
N_NIMCALL(NI64, Lastord_97004)(TY55552* T_97006);
N_NIMCALL(NI64, Getordvalue_97109)(TY55526* N_97111);
N_NIMCALL(void, Limessage_47569)(TY47539 Info_47571, NU8 Msg_47572, NimStringDesc* Arg_47573);
static N_INLINE(NI, Sonslen_55804)(TY55526* N_55806);
N_NIMCALL(NI64, Firstord_97001)(TY55552* T_97003);
N_NIMCALL(void, Internalerror_47578)(NimStringDesc* Errmsg_47580);
static N_INLINE(void, appendString)(NimStringDesc* Dest_18999, NimStringDesc* Src_19000);
N_NIMCALL(NimStringDesc*, reprEnum)(NI E_19971, TNimType* Typ_19972);
static N_INLINE(void, appendChar)(NimStringDesc* Dest_19016, NIM_CHAR C_19017);
N_NIMCALL(NimStringDesc*, rawNewString)(NI Space_18889);
N_NIMCALL(NI64, Lengthord_97007)(TY55552* T_97009);
N_NIMCALL(TY55552*, Elemtype_97091)(TY55552* T_97093);
N_NIMCALL(NI64, Computesize_97112)(TY55552* Typ_97114);
N_NIMCALL(NI64, Computesizeaux_99906)(TY55552* Typ_99908, NI64* A_99910);
N_NIMCALL(NI64, Align_99901)(NI64 Address_99903, NI64 Alignment_99904);
N_NIMCALL(NIM_BOOL, Isobjectwithtypefieldpredicate_97935)(TY55552* T_97937);
N_NIMCALL(NI64, Computerecsizeaux_99911)(TY55526* N_99913, NI64* A_99915, NI64* Curroffset_99916);
static N_INLINE(TY55526*, Lastson_55810)(TY55526* N_55812);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* Src_18912);
N_NIMCALL(NimStringDesc*, Typetostring_97014)(TY55552* Typ_97016, NU8 Prefer_97017);
N_NIMCALL(NimStringDesc*, resizeString)(NimStringDesc* Dest_18989, NI Addlen_18990);
N_NIMCALL(NimStringDesc*, addChar)(NimStringDesc* S_1803, NIM_CHAR C_1804);
N_NIMCALL(NimStringDesc*, Rangetostr_98381)(TY55526* N_98383);
N_NIMCALL(NimStringDesc*, Valuetostring_55875)(TY55526* A_55877);
static N_INLINE(void, Addsep_25897)(NimStringDesc** Dest_25900, NimStringDesc* Sep_25901, NI Startlen_25902);
N_NIMCALL(NIM_BOOL, Isordinaltype_97069)(TY55552* T_97071);
N_NIMCALL(void, Intsetinit_55925)(TY55901* S_55928);
N_NIMCALL(NIM_BOOL, Iterovertypeaux_97661)(TY55901* Marker_97664, TY55552* T_97665, TY97025 Iter_97666, TNimObject* Closure_97667);
N_NIMCALL(NIM_BOOL, Intsetcontainsorincl_55929)(TY55901* S_55932, NI Key_55933);
N_NIMCALL(NIM_BOOL, Iterovernode_97668)(TY55901* Marker_97671, TY55526* N_97672, TY97025 Iter_97673, TNimObject* Closure_97674);
N_NIMCALL(TY55552*, Skiptypes_97087)(TY55552* T_97089, NU64 Kinds_97090);
N_NIMCALL(NIM_BOOL, Sametuple_99230)(TY55552* A_99232, TY55552* B_99233, NIM_BOOL Distinctof_99234);
N_NIMCALL(NIM_BOOL, Equalordistinctof_97056)(TY55552* X_97058, TY55552* Y_97059);
N_NIMCALL(NIM_BOOL, Samevalue_55867)(TY55526* A_55869, TY55526* B_55870);
N_NIMCALL(NIM_BOOL, Sametype_97048)(TY55552* X_97050, TY55552* Y_97051);
N_NIMCALL(void, Internalerror_47574)(TY47539 Info_47576, NimStringDesc* Errmsg_47577);
N_NIMCALL(NIM_BOOL, Sametypeornil_97052)(TY55552* A_97054, TY55552* B_97055);
N_NIMCALL(NU8, Equalparam_98859)(TY55548* A_98861, TY55548* B_98862);
N_NIMCALL(NIM_BOOL, Exprstructuralequivalent_96035)(TY55526* A_96037, TY55526* B_96038);
N_NIMCALL(NIM_BOOL, Typeallowedaux_99680)(TY55901* Marker_99683, TY55552* Typ_99684, NU8 Kind_99685);
N_NIMCALL(NIM_BOOL, Typeallowednode_99686)(TY55901* Marker_99689, TY55526* N_99690, NU8 Kind_99691);
N_NIMCALL(NIM_BOOL, Searchtypefor_97910)(TY55552* T_97912, TY97029 Predicate_97913);
N_NIMCALL(NIM_BOOL, Searchtypeforaux_97762)(TY55552* T_97764, TY97029 Predicate_97765, TY55901* Marker_97767);
N_NIMCALL(NIM_BOOL, Searchtypenodeforaux_97768)(TY55526* N_97770, TY97029 P_97771, TY55901* Marker_97773);
N_NIMCALL(NIM_BOOL, Isgbcref_98088)(TY55552* T_98090);
N_NIMCALL(NIM_BOOL, Canformacycleaux_98128)(TY55901* Marker_98131, TY55552* Typ_98132, NI Startid_98133);
N_NIMCALL(NIM_BOOL, Canformacyclenode_98134)(TY55901* Marker_98137, TY55526* N_98138, NI Startid_98139);
N_NIMCALL(NU8, Analyseobjectwithtypefieldaux_97992)(TY55552* T_97994, TY55901* Marker_97996);
NIM_CONST NU64 Abstractptrs_97075 = 14723072;
NIM_CONST NU64 Abstractvar_97077 = 8431616;
NIM_CONST NU64 Abstractrange_97079 = 1091584;
NIM_CONST NU64 Abstractvarrange_97081 = 9480192;
NIM_CONST NU64 Abstractinst_97083 = 43008;
NIM_CONST NU64 Skipptrs_97085 = 14682112;
STRING_LITERAL(TMP195939, "", 0);
STRING_LITERAL(TMP195940, "invalid kind for first(", 23);
STRING_LITERAL(TMP195941, "invalid kind for last(", 22);
STRING_LITERAL(TMP195954, "computeRecSizeAux(record case branch)", 37);
STRING_LITERAL(TMP195955, "computeRecSizeAux()", 19);
STRING_LITERAL(TMP195956, "getSize(", 8);
STRING_LITERAL(TMP195999, "None", 4);
STRING_LITERAL(TMP196000, "bool", 4);
STRING_LITERAL(TMP196001, "Char", 4);
STRING_LITERAL(TMP196002, "empty", 5);
STRING_LITERAL(TMP196003, "Array Constructor [$1]", 22);
STRING_LITERAL(TMP196004, "nil", 3);
STRING_LITERAL(TMP196005, "expr", 4);
STRING_LITERAL(TMP196006, "stmt", 4);
STRING_LITERAL(TMP196007, "typeDesc", 8);
STRING_LITERAL(TMP196008, "GenericInvokation", 17);
STRING_LITERAL(TMP196009, "GenericBody", 11);
STRING_LITERAL(TMP196010, "GenericInst", 11);
STRING_LITERAL(TMP196011, "GenericParam", 12);
STRING_LITERAL(TMP196012, "distinct $1", 11);
STRING_LITERAL(TMP196013, "enum", 4);
STRING_LITERAL(TMP196014, "ordinal[$1]", 11);
STRING_LITERAL(TMP196015, "array[$1, $2]", 13);
STRING_LITERAL(TMP196016, "object", 6);
STRING_LITERAL(TMP196017, "tuple", 5);
STRING_LITERAL(TMP196018, "set[$1]", 7);
STRING_LITERAL(TMP196019, "range[$1]", 9);
STRING_LITERAL(TMP196020, "ptr ", 4);
STRING_LITERAL(TMP196021, "ref ", 4);
STRING_LITERAL(TMP196022, "var ", 4);
STRING_LITERAL(TMP196023, "seq[$1]", 7);
STRING_LITERAL(TMP196024, "proc", 4);
STRING_LITERAL(TMP196025, "pointer", 7);
STRING_LITERAL(TMP196026, "OpenArray[$1]", 13);
STRING_LITERAL(TMP196027, "string", 6);
STRING_LITERAL(TMP196028, "CString", 7);
STRING_LITERAL(TMP196029, "Forward", 7);
STRING_LITERAL(TMP196030, "int", 3);
STRING_LITERAL(TMP196031, "int8", 4);
STRING_LITERAL(TMP196032, "int16", 5);
STRING_LITERAL(TMP196033, "int32", 5);
STRING_LITERAL(TMP196034, "int64", 5);
STRING_LITERAL(TMP196035, "float", 5);
STRING_LITERAL(TMP196036, "float32", 7);
STRING_LITERAL(TMP196037, "float64", 7);
STRING_LITERAL(TMP196038, "float128", 8);
NIM_CONST TY98424 Typetostr_98423 = {((NimStringDesc*) &TMP195999),
((NimStringDesc*) &TMP196000),
((NimStringDesc*) &TMP196001),
((NimStringDesc*) &TMP196002),
((NimStringDesc*) &TMP196003),
((NimStringDesc*) &TMP196004),
((NimStringDesc*) &TMP196005),
((NimStringDesc*) &TMP196006),
((NimStringDesc*) &TMP196007),
((NimStringDesc*) &TMP196008),
((NimStringDesc*) &TMP196009),
((NimStringDesc*) &TMP196010),
((NimStringDesc*) &TMP196011),
((NimStringDesc*) &TMP196012),
((NimStringDesc*) &TMP196013),
((NimStringDesc*) &TMP196014),
((NimStringDesc*) &TMP196015),
((NimStringDesc*) &TMP196016),
((NimStringDesc*) &TMP196017),
((NimStringDesc*) &TMP196018),
((NimStringDesc*) &TMP196019),
((NimStringDesc*) &TMP196020),
((NimStringDesc*) &TMP196021),
((NimStringDesc*) &TMP196022),
((NimStringDesc*) &TMP196023),
((NimStringDesc*) &TMP196024),
((NimStringDesc*) &TMP196025),
((NimStringDesc*) &TMP196026),
((NimStringDesc*) &TMP196027),
((NimStringDesc*) &TMP196028),
((NimStringDesc*) &TMP196029),
((NimStringDesc*) &TMP196030),
((NimStringDesc*) &TMP196031),
((NimStringDesc*) &TMP196032),
((NimStringDesc*) &TMP196033),
((NimStringDesc*) &TMP196034),
((NimStringDesc*) &TMP196035),
((NimStringDesc*) &TMP196036),
((NimStringDesc*) &TMP196037),
((NimStringDesc*) &TMP196038)}
;
STRING_LITERAL(TMP196039, ", ", 2);
STRING_LITERAL(TMP196040, "array[", 6);
STRING_LITERAL(TMP196042, "..", 2);
STRING_LITERAL(TMP196043, "Array constructor[", 18);
STRING_LITERAL(TMP196044, "seq[", 4);
STRING_LITERAL(TMP196045, "ordinal[", 8);
STRING_LITERAL(TMP196046, "set[", 4);
STRING_LITERAL(TMP196047, "openarray[", 10);
STRING_LITERAL(TMP196048, "distinct ", 9);
STRING_LITERAL(TMP196049, "tuple[", 6);
STRING_LITERAL(TMP196050, ": ", 2);
extern NIM_CONST TY98424 Typetostr_98423;
STRING_LITERAL(TMP196051, "range ", 6);
STRING_LITERAL(TMP196052, "proc (", 6);
extern NIM_CONST TY55016 Callingconvtostr_55015;
STRING_LITERAL(TMP196053, "noSideEffect", 12);
STRING_LITERAL(TMP196054, "{.", 2);
STRING_LITERAL(TMP196055, ".}", 2);
STRING_LITERAL(TMP196071, "sameTuple", 9);
STRING_LITERAL(TMP196082, "getProcHeader", 13);
STRING_LITERAL(TMP196270, "searchTypeNodeForAux(record case branch)", 40);
STRING_LITERAL(TMP196271, "searchTypeNodeForAux()", 22);
extern NI Intsize_51570;
extern TNimType* NTI55162; /* TTypeKind */
extern NI Floatsize_51571;
extern NI Ptrsize_51572;
static N_INLINE(NI, Sonslen_55807)(TY55552* N_55809) {
NI Result_56750;
Result_56750 = 0;
if (!(*N_55809).Sons == 0) goto LA2;
Result_56750 = 0;
goto LA1;
LA2: ;
Result_56750 = (*N_55809).Sons->Sup.len;
LA1: ;
return Result_56750;
}
static N_INLINE(TY55552*, Lastson_55813)(TY55552* N_55815) {
TY55552* Result_57841;
NI LOC1;
Result_57841 = 0;
LOC1 = Sonslen_55807(N_55815);
Result_57841 = (*N_55815).Sons->data[(NI64)(LOC1 - 1)];
return Result_57841;
}
N_NIMCALL(TY55552*, Skiptypes_97087)(TY55552* T_97089, NU64 Kinds_97090) {
TY55552* Result_97576;
Result_97576 = 0;
Result_97576 = T_97089;
while (1) {
if (!((Kinds_97090 &(IL64(1)<<(((*Result_97576).Kind)&IL64(63))))!=0)) goto LA1;
Result_97576 = Lastson_55813(Result_97576);
} LA1: ;
return Result_97576;
}
N_NIMCALL(NI64, Getordvalue_97109)(TY55526* N_97111) {
NI64 Result_97262;
Result_97262 = 0;
switch ((*N_97111).Kind) {
case ((NU8) 5) ... ((NU8) 10):
Result_97262 = (*N_97111).KindU.S1.Intval;
break;
case ((NU8) 18):
Result_97262 = 0;
break;
default:
Limessage_47569((*N_97111).Info, ((NU8) 71), ((NimStringDesc*) &TMP195939));
Result_97262 = 0;
break;
}
return Result_97262;
}
static N_INLINE(NI, Sonslen_55804)(TY55526* N_55806) {
NI Result_56886;
Result_56886 = 0;
if (!(*N_55806).KindU.S6.Sons == 0) goto LA2;
Result_56886 = 0;
goto LA1;
LA2: ;
Result_56886 = (*N_55806).KindU.S6.Sons->Sup.len;
LA1: ;
return Result_56886;
}
static N_INLINE(void, appendString)(NimStringDesc* Dest_18999, NimStringDesc* Src_19000) {
memcpy(((NCSTRING) (&(*Dest_18999).data[((*Dest_18999).Sup.len)-0])), ((NCSTRING) ((*Src_19000).data)), ((int) ((NI64)((NI64)((*Src_19000).Sup.len + 1) * 1))));
(*Dest_18999).Sup.len += (*Src_19000).Sup.len;
}
static N_INLINE(void, appendChar)(NimStringDesc* Dest_19016, NIM_CHAR C_19017) {
(*Dest_19016).data[((*Dest_19016).Sup.len)-0] = C_19017;
(*Dest_19016).data[((NI64)((*Dest_19016).Sup.len + 1))-0] = 0;
(*Dest_19016).Sup.len += 1;
}
N_NIMCALL(NI64, Firstord_97001)(TY55552* T_97003) {
NI64 Result_98661;
NIM_BOOL LOC5;
NI LOC6;
TY55552* LOC10;
NimStringDesc* LOC11;
Result_98661 = 0;
switch ((*T_97003).Kind) {
case ((NU8) 1):
case ((NU8) 2):
case ((NU8) 24):
case ((NU8) 27):
case ((NU8) 28):
Result_98661 = 0;
break;
case ((NU8) 19):
case ((NU8) 23):
Result_98661 = Firstord_97001((*T_97003).Sons->data[0]);
break;
case ((NU8) 16):
case ((NU8) 4):
Result_98661 = Firstord_97001((*T_97003).Sons->data[0]);
break;
case ((NU8) 20):
Result_98661 = Getordvalue_97109((*(*T_97003).N).KindU.S6.Sons->data[0]);
break;
case ((NU8) 31):
if (!(Intsize_51570 == 4)) goto LA2;
Result_98661 = (-2147483647 -1);
goto LA1;
LA2: ;
Result_98661 = (IL64(-9223372036854775807) - IL64(1));
LA1: ;
break;
case ((NU8) 32):
Result_98661 = -128;
break;
case ((NU8) 33):
Result_98661 = -32768;
break;
case ((NU8) 34):
Result_98661 = (-2147483647 -1);
break;
case ((NU8) 35):
Result_98661 = (IL64(-9223372036854775807) - IL64(1));
break;
case ((NU8) 14):
LOC6 = Sonslen_55807(T_97003);
LOC5 = (0 < LOC6);
if (!(LOC5)) goto LA7;
LOC5 = !(((*T_97003).Sons->data[0] == NIM_NIL));
LA7: ;
if (!LOC5) goto LA8;
Result_98661 = Firstord_97001((*T_97003).Sons->data[0]);
goto LA4;
LA8: ;
Result_98661 = ((NI64) ((*(*(*(*T_97003).N).KindU.S6.Sons->data[0]).KindU.S4.Sym).Position));
LA4: ;
break;
case ((NU8) 11):
case ((NU8) 13):
LOC10 = 0;
LOC10 = Lastson_55813(T_97003);
Result_98661 = Firstord_97001(LOC10);
break;
default:
LOC11 = 0;
LOC11 = rawNewString(reprEnum((*T_97003).Kind, NTI55162)->Sup.len + 24);
appendString(LOC11, ((NimStringDesc*) &TMP195940));
appendString(LOC11, reprEnum((*T_97003).Kind, NTI55162));
appendChar(LOC11, 41);
Internalerror_47578(LOC11);
Result_98661 = 0;
break;
}
return Result_98661;
}
N_NIMCALL(NI64, Lastord_97004)(TY55552* T_97006) {
NI64 Result_98767;
NI LOC4;
TY55552* LOC5;
NimStringDesc* LOC6;
Result_98767 = 0;
switch ((*T_97006).Kind) {
case ((NU8) 1):
Result_98767 = 1;
break;
case ((NU8) 2):
Result_98767 = 255;
break;
case ((NU8) 19):
case ((NU8) 23):
Result_98767 = Lastord_97004((*T_97006).Sons->data[0]);
break;
case ((NU8) 16):
case ((NU8) 4):
Result_98767 = Lastord_97004((*T_97006).Sons->data[0]);
break;
case ((NU8) 20):
Result_98767 = Getordvalue_97109((*(*T_97006).N).KindU.S6.Sons->data[1]);
break;
case ((NU8) 31):
if (!(Intsize_51570 == 4)) goto LA2;
Result_98767 = 2147483647;
goto LA1;
LA2: ;
Result_98767 = IL64(9223372036854775807);
LA1: ;
break;
case ((NU8) 32):
Result_98767 = 127;
break;
case ((NU8) 33):
Result_98767 = 32767;
break;
case ((NU8) 34):
Result_98767 = 2147483647;
break;
case ((NU8) 35):
Result_98767 = IL64(9223372036854775807);
break;
case ((NU8) 14):
LOC4 = Sonslen_55804((*T_97006).N);
Result_98767 = ((NI64) ((*(*(*(*T_97006).N).KindU.S6.Sons->data[(NI64)(LOC4 - 1)]).KindU.S4.Sym).Position));
break;
case ((NU8) 11):
case ((NU8) 13):
LOC5 = 0;
LOC5 = Lastson_55813(T_97006);
Result_98767 = Firstord_97001(LOC5);
break;
default:
LOC6 = 0;
LOC6 = rawNewString(reprEnum((*T_97006).Kind, NTI55162)->Sup.len + 23);
appendString(LOC6, ((NimStringDesc*) &TMP195941));
appendString(LOC6, reprEnum((*T_97006).Kind, NTI55162));
appendChar(LOC6, 41);
Internalerror_47578(LOC6);
Result_98767 = 0;
break;
}
return Result_98767;
}
N_NIMCALL(NI64, Lengthord_97007)(TY55552* T_97009) {
NI64 Result_98858;
NI64 LOC1;
NI64 LOC2;
Result_98858 = 0;
switch ((*T_97009).Kind) {
case ((NU8) 35):
case ((NU8) 34):
case ((NU8) 31):
Result_98858 = Lastord_97004(T_97009);
break;
case ((NU8) 13):
Result_98858 = Lengthord_97007((*T_97009).Sons->data[0]);
break;
default:
LOC1 = Lastord_97004(T_97009);
LOC2 = Firstord_97001(T_97009);
Result_98858 = (NI64)((NI64)(LOC1 - LOC2) + 1);
break;
}
return Result_98858;
}
N_NIMCALL(TY55552*, Elemtype_97091)(TY55552* T_97093) {
TY55552* Result_97430;
TY55552* LOC1;
Result_97430 = 0;
switch ((*T_97093).Kind) {
case ((NU8) 11):
case ((NU8) 13):
LOC1 = 0;
LOC1 = Lastson_55813(T_97093);
Result_97430 = Elemtype_97091(LOC1);
break;
case ((NU8) 16):
case ((NU8) 4):
Result_97430 = (*T_97093).Sons->data[1];
break;
default:
Result_97430 = (*T_97093).Sons->data[0];
break;
}
return Result_97430;
}
N_NIMCALL(NI, Inheritancediff_97121)(TY55552* A_97123, TY55552* B_97124) {
NI Result_97168;
TY55552* X_97169;
TY55552* Y_97195;
Result_97168 = 0;
X_97169 = 0;
X_97169 = A_97123;
Result_97168 = 0;
while (1) {
if (!!((X_97169 == NIM_NIL))) goto LA1;
if (!((*X_97169).Sup.Id == (*B_97124).Sup.Id)) goto LA3;
goto BeforeRet;
LA3: ;
X_97169 = (*X_97169).Sons->data[0];
Result_97168 -= 1;
} LA1: ;
Y_97195 = 0;
Y_97195 = B_97124;
Result_97168 = 0;
while (1) {
if (!!((Y_97195 == NIM_NIL))) goto LA5;
if (!((*Y_97195).Sup.Id == (*A_97123).Sup.Id)) goto LA7;
goto BeforeRet;
LA7: ;
Y_97195 = (*Y_97195).Sons->data[0];
Result_97168 += 1;
} LA5: ;
Result_97168 = IL64(9223372036854775807);
BeforeRet: ;
return Result_97168;
}
N_NIMCALL(NI64, Align_99901)(NI64 Address_99903, NI64 Alignment_99904) {
NI64 Result_99905;
Result_99905 = 0;
Result_99905 = ((NI64)(Address_99903 + (NI64)(Alignment_99904 - 1)) & ~((NI64)(Alignment_99904 - 1)));
return Result_99905;
}
N_NIMCALL(NIM_BOOL, Isobjectwithtypefieldpredicate_97935)(TY55552* T_97937) {
NIM_BOOL Result_97938;
NIM_BOOL LOC1;
NIM_BOOL LOC2;
NIM_BOOL LOC3;
NIM_BOOL LOC6;
Result_97938 = 0;
LOC3 = ((*T_97937).Kind == ((NU8) 17));
if (!(LOC3)) goto LA4;
LOC3 = ((*T_97937).Sons->data[0] == NIM_NIL);
LA4: ;
LOC2 = LOC3;
if (!(LOC2)) goto LA5;
LOC6 = !(((*T_97937).Sym == NIM_NIL));
if (!(LOC6)) goto LA7;
LOC6 = (((*(*T_97937).Sym).Flags &(1<<((((NU8) 11))&31)))!=0);
LA7: ;
LOC2 = !(LOC6);
LA5: ;
LOC1 = LOC2;
if (!(LOC1)) goto LA8;
LOC1 = !((((*T_97937).Flags &(1<<((((NU8) 2))&7)))!=0));
LA8: ;
Result_97938 = LOC1;
return Result_97938;
}
static N_INLINE(TY55526*, Lastson_55810)(TY55526* N_55812) {
TY55526* Result_57825;
NI LOC1;
Result_57825 = 0;
LOC1 = Sonslen_55804(N_55812);
Result_57825 = (*N_55812).KindU.S6.Sons->data[(NI64)(LOC1 - 1)];
return Result_57825;
}
N_NIMCALL(NI64, Computerecsizeaux_99911)(TY55526* N_99913, NI64* A_99915, NI64* Curroffset_99916) {
NI64 Result_99917;
NI64 Maxalign_99918;
NI64 Maxsize_99919;
NI64 B_99920;
NI64 Res_99921;
NI I_99963;
NI HEX3Atmp_100051;
NI LOC1;
NI Res_100053;
TY55526* LOC3;
NI64 LOC7;
NI64 LOC8;
NI I_100005;
NI HEX3Atmp_100054;
NI LOC9;
NI Res_100056;
NI64 LOC14;
NI64 LOC15;
Result_99917 = 0;
Maxalign_99918 = 0;
Maxsize_99919 = 0;
B_99920 = 0;
Res_99921 = 0;
switch ((*N_99913).Kind) {
case ((NU8) 114):
Result_99917 = Computerecsizeaux_99911((*N_99913).KindU.S6.Sons->data[0], A_99915, Curroffset_99916);
Maxsize_99919 = 0;
Maxalign_99918 = 1;
I_99963 = 0;
HEX3Atmp_100051 = 0;
LOC1 = Sonslen_55804(N_99913);
HEX3Atmp_100051 = (NI64)(LOC1 - 1);
Res_100053 = 0;
Res_100053 = 1;
while (1) {
if (!(Res_100053 <= HEX3Atmp_100051)) goto LA2;
I_99963 = Res_100053;
switch ((*(*N_99913).KindU.S6.Sons->data[I_99963]).Kind) {
case ((NU8) 75):
case ((NU8) 78):
LOC3 = 0;
LOC3 = Lastson_55810((*N_99913).KindU.S6.Sons->data[I_99963]);
Res_99921 = Computerecsizeaux_99911(LOC3, &B_99920, Curroffset_99916);
if (!(Res_99921 < 0)) goto LA5;
Result_99917 = Res_99921;
goto BeforeRet;
LA5: ;
Maxsize_99919 = ((Maxsize_99919 >= Res_99921) ? Maxsize_99919 : Res_99921);
Maxalign_99918 = ((Maxalign_99918 >= B_99920) ? Maxalign_99918 : B_99920);
break;
default:
Internalerror_47578(((NimStringDesc*) &TMP195954));
break;
}
Res_100053 += 1;
} LA2: ;
LOC7 = Align_99901((*Curroffset_99916), Maxalign_99918);
(*Curroffset_99916) = (NI64)(LOC7 + Maxsize_99919);
LOC8 = Align_99901(Result_99917, Maxalign_99918);
Result_99917 = (NI64)(LOC8 + Maxsize_99919);
(*A_99915) = Maxalign_99918;
break;
case ((NU8) 113):
Result_99917 = 0;
Maxalign_99918 = 1;
I_100005 = 0;
HEX3Atmp_100054 = 0;
LOC9 = Sonslen_55804(N_99913);
HEX3Atmp_100054 = (NI64)(LOC9 - 1);
Res_100056 = 0;
Res_100056 = 0;
while (1) {
if (!(Res_100056 <= HEX3Atmp_100054)) goto LA10;
I_100005 = Res_100056;
Res_99921 = Computerecsizeaux_99911((*N_99913).KindU.S6.Sons->data[I_100005], &B_99920, Curroffset_99916);
if (!(Res_99921 < 0)) goto LA12;
Result_99917 = Res_99921;
goto BeforeRet;
LA12: ;
LOC14 = Align_99901((*Curroffset_99916), B_99920);
(*Curroffset_99916) = (NI64)(LOC14 + Res_99921);
LOC15 = Align_99901(Result_99917, B_99920);
Result_99917 = (NI64)(LOC15 + Res_99921);
if (!(Maxalign_99918 < B_99920)) goto LA17;
Maxalign_99918 = B_99920;
LA17: ;
Res_100056 += 1;
} LA10: ;
(*A_99915) = Maxalign_99918;
break;
case ((NU8) 3):
Result_99917 = Computesizeaux_99906((*(*N_99913).KindU.S4.Sym).Typ, A_99915);
(*(*N_99913).KindU.S4.Sym).Offset = ((NI) ((*Curroffset_99916)));
break;
default:
Internalerror_47578(((NimStringDesc*) &TMP195955));
(*A_99915) = 1;
Result_99917 = -1;
break;
}
BeforeRet: ;
return Result_99917;
}
N_NIMCALL(NI64, Computesizeaux_99906)(TY55552* Typ_99908, NI64* A_99910) {
NI64 Result_100062;
NI64 Res_100063;
NI64 Maxalign_100064;
NI64 Length_100065;
NI64 Curroffset_100066;
NI64 LOC10;
NI64 LOC11;
NI64 LOC13;
NI64 LOC32;
NI64 LOC35;
NI64 LOC36;
NI I_100114;
NI HEX3Atmp_100145;
NI LOC37;
NI Res_100147;
NI64 LOC42;
NIM_BOOL LOC49;
TY55552* LOC58;
Result_100062 = 0;
Res_100063 = 0;
Maxalign_100064 = 0;
Length_100065 = 0;
Curroffset_100066 = 0;
if (!((*Typ_99908).Size == -2)) goto LA2;
Result_100062 = -2;
goto BeforeRet;
LA2: ;
if (!(0 <= (*Typ_99908).Size)) goto LA5;
Result_100062 = (*Typ_99908).Size;
(*A_99910) = ((NI64) ((*Typ_99908).Align));
goto BeforeRet;
LA5: ;
(*Typ_99908).Size = -2;
switch ((*Typ_99908).Kind) {
case ((NU8) 31):
Result_100062 = ((NI64) (Intsize_51570));
(*A_99910) = Result_100062;
break;
case ((NU8) 32):
case ((NU8) 1):
case ((NU8) 2):
Result_100062 = 1;
(*A_99910) = Result_100062;
break;
case ((NU8) 33):
Result_100062 = 2;
(*A_99910) = Result_100062;
break;
case ((NU8) 34):
case ((NU8) 37):
Result_100062 = 4;
(*A_99910) = Result_100062;
break;
case ((NU8) 35):
case ((NU8) 38):
Result_100062 = 8;
(*A_99910) = Result_100062;
break;
case ((NU8) 36):
Result_100062 = ((NI64) (Floatsize_51571));
(*A_99910) = Result_100062;
break;
case ((NU8) 25):
if (!((*Typ_99908).Callconv == ((NU8) 8))) goto LA8;
Result_100062 = ((NI64) ((NI64)(2 * Ptrsize_51572)));
goto LA7;
LA8: ;
Result_100062 = ((NI64) (Ptrsize_51572));
LA7: ;
(*A_99910) = ((NI64) (Ptrsize_51572));
break;
case ((NU8) 5):
case ((NU8) 29):
case ((NU8) 28):
case ((NU8) 24):
case ((NU8) 21):
case ((NU8) 22):
case ((NU8) 27):
Result_100062 = ((NI64) (Ptrsize_51572));
(*A_99910) = Result_100062;
break;
case ((NU8) 16):
case ((NU8) 4):
LOC10 = Lengthord_97007((*Typ_99908).Sons->data[0]);
LOC11 = Computesizeaux_99906((*Typ_99908).Sons->data[1], A_99910);
Result_100062 = (NI64)(LOC10 * LOC11);
break;
case ((NU8) 14):
LOC13 = Firstord_97001(Typ_99908);
if (!(LOC13 < 0)) goto LA14;
Result_100062 = 4;
goto LA12;
LA14: ;
Length_100065 = Lastord_97004(Typ_99908);
if (!((NI64)(Length_100065 + 1) < 256)) goto LA17;
Result_100062 = 1;
goto LA16;
LA17: ;
if (!((NI64)(Length_100065 + 1) < 65536)) goto LA19;
Result_100062 = 2;
goto LA16;
LA19: ;
if (!((NI64)(Length_100065 + 1) < IL64(4294967296))) goto LA21;
Result_100062 = 4;
goto LA16;
LA21: ;
Result_100062 = 8;
LA16: ;
LA12: ;
(*A_99910) = Result_100062;
break;
case ((NU8) 19):
Length_100065 = Lengthord_97007((*Typ_99908).Sons->data[0]);
if (!(Length_100065 <= 8)) goto LA24;
Result_100062 = 1;
goto LA23;
LA24: ;
if (!(Length_100065 <= 16)) goto LA26;
Result_100062 = 2;
goto LA23;
LA26: ;
if (!(Length_100065 <= 32)) goto LA28;
Result_100062 = 4;
goto LA23;
LA28: ;
if (!(Length_100065 <= 64)) goto LA30;
Result_100062 = 8;
goto LA23;
LA30: ;
LOC32 = Align_99901(Length_100065, 8);
if (!((NI64)(LOC32 % 8) == 0)) goto LA33;
LOC35 = Align_99901(Length_100065, 8);
Result_100062 = (NI64)(LOC35 / 8);
goto LA23;
LA33: ;
LOC36 = Align_99901(Length_100065, 8);
Result_100062 = (NI64)((NI64)(LOC36 / 8) + 1);
LA23: ;
(*A_99910) = Result_100062;
break;
case ((NU8) 20):
Result_100062 = Computesizeaux_99906((*Typ_99908).Sons->data[0], A_99910);
break;
case ((NU8) 18):
Result_100062 = 0;
Maxalign_100064 = 1;
I_100114 = 0;
HEX3Atmp_100145 = 0;
LOC37 = Sonslen_55807(Typ_99908);
HEX3Atmp_100145 = (NI64)(LOC37 - 1);
Res_100147 = 0;
Res_100147 = 0;
while (1) {
if (!(Res_100147 <= HEX3Atmp_100145)) goto LA38;
I_100114 = Res_100147;
Res_100063 = Computesizeaux_99906((*Typ_99908).Sons->data[I_100114], A_99910);
if (!(Res_100063 < 0)) goto LA40;
Result_100062 = Res_100063;
goto BeforeRet;
LA40: ;
Maxalign_100064 = ((Maxalign_100064 >= (*A_99910)) ? Maxalign_100064 : (*A_99910));
LOC42 = Align_99901(Result_100062, (*A_99910));
Result_100062 = (NI64)(LOC42 + Res_100063);
Res_100147 += 1;
} LA38: ;
Result_100062 = Align_99901(Result_100062, Maxalign_100064);
(*A_99910) = Maxalign_100064;
break;
case ((NU8) 17):
if (!!(((*Typ_99908).Sons->data[0] == NIM_NIL))) goto LA44;
Result_100062 = Computesizeaux_99906((*Typ_99908).Sons->data[0], A_99910);
if (!(Result_100062 < 0)) goto LA47;
goto BeforeRet;
LA47: ;
Maxalign_100064 = (*A_99910);
goto LA43;
LA44: ;
LOC49 = Isobjectwithtypefieldpredicate_97935(Typ_99908);
if (!LOC49) goto LA50;
Result_100062 = ((NI64) (Intsize_51570));
Maxalign_100064 = Result_100062;
goto LA43;
LA50: ;
Result_100062 = 0;
Maxalign_100064 = 1;
LA43: ;
Curroffset_100066 = Result_100062;
Result_100062 = Computerecsizeaux_99911((*Typ_99908).N, A_99910, &Curroffset_100066);
if (!(Result_100062 < 0)) goto LA53;
goto BeforeRet;
LA53: ;
if (!((*A_99910) < Maxalign_100064)) goto LA56;
(*A_99910) = Maxalign_100064;
LA56: ;
Result_100062 = Align_99901(Result_100062, (*A_99910));
break;
case ((NU8) 11):
case ((NU8) 13):
case ((NU8) 10):
LOC58 = 0;
LOC58 = Lastson_55813(Typ_99908);
Result_100062 = Computesizeaux_99906(LOC58, A_99910);
break;
default:
Result_100062 = -1;
break;
}
(*Typ_99908).Size = Result_100062;
(*Typ_99908).Align = ((NI) ((*A_99910)));
BeforeRet: ;
return Result_100062;
}
N_NIMCALL(NI64, Computesize_97112)(TY55552* Typ_97114) {
NI64 Result_100151;
NI64 A_100152;
Result_100151 = 0;
A_100152 = 0;
A_100152 = 1;
Result_100151 = Computesizeaux_99906(Typ_97114, &A_100152);
return Result_100151;
}
N_NIMCALL(NI64, Getsize_97115)(TY55552* Typ_97117) {
NI64 Result_100157;
NimStringDesc* LOC4;
Result_100157 = 0;
Result_100157 = Computesize_97112(Typ_97117);
if (!(Result_100157 < 0)) goto LA2;
LOC4 = 0;
LOC4 = rawNewString(reprEnum((*Typ_97117).Kind, NTI55162)->Sup.len + 9);
appendString(LOC4, ((NimStringDesc*) &TMP195956));
appendString(LOC4, reprEnum((*Typ_97117).Kind, NTI55162));
appendChar(LOC4, 41);
Internalerror_47578(LOC4);
LA2: ;
return Result_100157;
}
N_NIMCALL(NimStringDesc*, Rangetostr_98381)(TY55526* N_98383) {
NimStringDesc* Result_98384;
NimStringDesc* LOC1;
NimStringDesc* LOC2;
NimStringDesc* LOC3;
Result_98384 = 0;
LOC1 = 0;
LOC2 = 0;
LOC2 = Valuetostring_55875((*N_98383).KindU.S6.Sons->data[0]);
LOC3 = 0;
LOC3 = Valuetostring_55875((*N_98383).KindU.S6.Sons->data[1]);
LOC1 = rawNewString(LOC2->Sup.len + LOC3->Sup.len + 2);
appendString(LOC1, LOC2);
appendString(LOC1, ((NimStringDesc*) &TMP196042));
appendString(LOC1, LOC3);
Result_98384 = LOC1;
return Result_98384;
}
static N_INLINE(void, Addsep_25897)(NimStringDesc** Dest_25900, NimStringDesc* Sep_25901, NI Startlen_25902) {
if (!(Startlen_25902 < (*Dest_25900)->Sup.len)) goto LA2;
(*Dest_25900) = resizeString((*Dest_25900), Sep_25901->Sup.len + 0);
appendString((*Dest_25900), Sep_25901);
LA2: ;
}
N_NIMCALL(NimStringDesc*, Typetostring_97014)(TY55552* Typ_97016, NU8 Prefer_97017) {
NimStringDesc* Result_98422;
TY55552* T_98427;
NIM_BOOL LOC5;
NimStringDesc* LOC9;
NimStringDesc* LOC10;
NI I_98481;
NI HEX3Atmp_98629;
NI LOC11;
NI Res_98631;
NimStringDesc* LOC16;
NimStringDesc* LOC20;
NimStringDesc* LOC21;
NimStringDesc* LOC22;
NimStringDesc* LOC23;
NimStringDesc* LOC24;
NimStringDesc* LOC25;
NimStringDesc* LOC26;
NimStringDesc* LOC27;
NimStringDesc* LOC28;
NimStringDesc* LOC29;
NimStringDesc* LOC30;
NimStringDesc* LOC31;
NimStringDesc* LOC32;
NimStringDesc* LOC33;
NimStringDesc* LOC34;
NimStringDesc* LOC35;
NimStringDesc* LOC36;
NimStringDesc* LOC37;
NimStringDesc* LOC38;
NI I_98516;
NI HEX3Atmp_98632;
NI LOC42;
NI Res_98634;
NimStringDesc* LOC44;
NimStringDesc* LOC45;
NI LOC47;
NI I_98574;
NI HEX3Atmp_98635;
NI LOC50;
NI Res_98637;
NimStringDesc* LOC52;
NI LOC54;
NimStringDesc* LOC57;
NimStringDesc* LOC58;
NimStringDesc* LOC59;
NimStringDesc* LOC60;
NI I_98587;
NI HEX3Atmp_98638;
NI LOC61;
NI Res_98640;
NimStringDesc* LOC63;
NI LOC65;
NimStringDesc* LOC71;
NimStringDesc* LOC72;
NimStringDesc* Prag_98603;
NimStringDesc* LOC82;
Result_98422 = 0;
T_98427 = 0;
T_98427 = Typ_97016;
Result_98422 = copyString(((NimStringDesc*) &TMP195939));
if (!(T_98427 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
LOC5 = (Prefer_97017 == ((NU8) 0));
if (!(LOC5)) goto LA6;
LOC5 = !(((*T_98427).Sym == NIM_NIL));
LA6: ;
if (!LOC5) goto LA7;
Result_98422 = copyString((*(*(*T_98427).Sym).Name).S);
goto BeforeRet;
LA7: ;
switch ((*T_98427).Kind) {
case ((NU8) 10):
case ((NU8) 11):
case ((NU8) 9):
LOC9 = 0;
LOC10 = 0;
LOC10 = Typetostring_97014((*T_98427).Sons->data[0], ((NU8) 0));
LOC9 = rawNewString(LOC10->Sup.len + 1);
appendString(LOC9, LOC10);
appendChar(LOC9, 91);
Result_98422 = LOC9;
I_98481 = 0;
HEX3Atmp_98629 = 0;
LOC11 = Sonslen_55807(T_98427);
HEX3Atmp_98629 = (NI64)((NI64)(LOC11 - 1) - !(((*T_98427).Kind == ((NU8) 9))));
Res_98631 = 0;
Res_98631 = 1;
while (1) {
if (!(Res_98631 <= HEX3Atmp_98629)) goto LA12;
I_98481 = Res_98631;
if (!(1 < I_98481)) goto LA14;
Result_98422 = resizeString(Result_98422, 2);
appendString(Result_98422, ((NimStringDesc*) &TMP196039));
LA14: ;
LOC16 = 0;
LOC16 = Typetostring_97014((*T_98427).Sons->data[I_98481], ((NU8) 0));
Result_98422 = resizeString(Result_98422, LOC16->Sup.len + 0);
appendString(Result_98422, LOC16);
Res_98631 += 1;
} LA12: ;
Result_98422 = addChar(Result_98422, 93);
break;
case ((NU8) 16):
if (!((*(*T_98427).Sons->data[0]).Kind == ((NU8) 20))) goto LA18;
LOC20 = 0;
LOC21 = 0;
LOC21 = Rangetostr_98381((*(*T_98427).Sons->data[0]).N);
LOC22 = 0;
LOC22 = Typetostring_97014((*T_98427).Sons->data[1], ((NU8) 0));
LOC20 = rawNewString(LOC21->Sup.len + LOC22->Sup.len + 9);
appendString(LOC20, ((NimStringDesc*) &TMP196040));
appendString(LOC20, LOC21);
appendString(LOC20, ((NimStringDesc*) &TMP196039));
appendString(LOC20, LOC22);
appendChar(LOC20, 93);
Result_98422 = LOC20;
goto LA17;
LA18: ;
LOC23 = 0;
LOC24 = 0;
LOC24 = Typetostring_97014((*T_98427).Sons->data[0], ((NU8) 0));
LOC25 = 0;
LOC25 = Typetostring_97014((*T_98427).Sons->data[1], ((NU8) 0));
LOC23 = rawNewString(LOC24->Sup.len + LOC25->Sup.len + 9);
appendString(LOC23, ((NimStringDesc*) &TMP196040));
appendString(LOC23, LOC24);
appendString(LOC23, ((NimStringDesc*) &TMP196039));
appendString(LOC23, LOC25);
appendChar(LOC23, 93);
Result_98422 = LOC23;
LA17: ;
break;
case ((NU8) 4):
LOC26 = 0;
LOC27 = 0;
LOC27 = Rangetostr_98381((*(*T_98427).Sons->data[0]).N);
LOC28 = 0;
LOC28 = Typetostring_97014((*T_98427).Sons->data[1], ((NU8) 0));
LOC26 = rawNewString(LOC27->Sup.len + LOC28->Sup.len + 21);
appendString(LOC26, ((NimStringDesc*) &TMP196043));
appendString(LOC26, LOC27);
appendString(LOC26, ((NimStringDesc*) &TMP196039));
appendString(LOC26, LOC28);
appendChar(LOC26, 93);
Result_98422 = LOC26;
break;
case ((NU8) 24):
LOC29 = 0;
LOC30 = 0;
LOC30 = Typetostring_97014((*T_98427).Sons->data[0], ((NU8) 0));
LOC29 = rawNewString(LOC30->Sup.len + 5);
appendString(LOC29, ((NimStringDesc*) &TMP196044));
appendString(LOC29, LOC30);
appendChar(LOC29, 93);
Result_98422 = LOC29;
break;
case ((NU8) 15):
LOC31 = 0;
LOC32 = 0;
LOC32 = Typetostring_97014((*T_98427).Sons->data[0], ((NU8) 0));
LOC31 = rawNewString(LOC32->Sup.len + 9);
appendString(LOC31, ((NimStringDesc*) &TMP196045));
appendString(LOC31, LOC32);
appendChar(LOC31, 93);
Result_98422 = LOC31;
break;
case ((NU8) 19):
LOC33 = 0;
LOC34 = 0;
LOC34 = Typetostring_97014((*T_98427).Sons->data[0], ((NU8) 0));
LOC33 = rawNewString(LOC34->Sup.len + 5);
appendString(LOC33, ((NimStringDesc*) &TMP196046));
appendString(LOC33, LOC34);
appendChar(LOC33, 93);
Result_98422 = LOC33;
break;
case ((NU8) 27):
LOC35 = 0;
LOC36 = 0;
LOC36 = Typetostring_97014((*T_98427).Sons->data[0], ((NU8) 0));
LOC35 = rawNewString(LOC36->Sup.len + 11);
appendString(LOC35, ((NimStringDesc*) &TMP196047));
appendString(LOC35, LOC36);
appendChar(LOC35, 93);
Result_98422 = LOC35;
break;
case ((NU8) 13):
LOC37 = 0;
LOC38 = 0;
LOC38 = Typetostring_97014((*T_98427).Sons->data[0], ((NU8) 0));
LOC37 = rawNewString(LOC38->Sup.len + 9);
appendString(LOC37, ((NimStringDesc*) &TMP196048));
appendString(LOC37, LOC38);
Result_98422 = LOC37;
break;
case ((NU8) 18):
Result_98422 = copyString(((NimStringDesc*) &TMP196049));
if (!!(((*T_98427).N == NIM_NIL))) goto LA40;
I_98516 = 0;
HEX3Atmp_98632 = 0;
LOC42 = Sonslen_55804((*T_98427).N);
HEX3Atmp_98632 = (NI64)(LOC42 - 1);
Res_98634 = 0;
Res_98634 = 0;
while (1) {
if (!(Res_98634 <= HEX3Atmp_98632)) goto LA43;
I_98516 = Res_98634;
LOC44 = 0;
LOC45 = 0;
LOC45 = Typetostring_97014((*T_98427).Sons->data[I_98516], ((NU8) 0));
LOC44 = rawNewString((*(*(*(*(*T_98427).N).KindU.S6.Sons->data[I_98516]).KindU.S4.Sym).Name).S->Sup.len + LOC45->Sup.len + 2);
appendString(LOC44, (*(*(*(*(*T_98427).N).KindU.S6.Sons->data[I_98516]).KindU.S4.Sym).Name).S);
appendString(LOC44, ((NimStringDesc*) &TMP196050));
appendString(LOC44, LOC45);
Result_98422 = resizeString(Result_98422, LOC44->Sup.len + 0);
appendString(Result_98422, LOC44);
LOC47 = Sonslen_55804((*T_98427).N);
if (!(I_98516 < (NI64)(LOC47 - 1))) goto LA48;
Result_98422 = resizeString(Result_98422, 2);
appendString(Result_98422, ((NimStringDesc*) &TMP196039));
LA48: ;
Res_98634 += 1;
} LA43: ;
goto LA39;
LA40: ;
I_98574 = 0;
HEX3Atmp_98635 = 0;
LOC50 = Sonslen_55807(T_98427);
HEX3Atmp_98635 = (NI64)(LOC50 - 1);
Res_98637 = 0;
Res_98637 = 0;
while (1) {
if (!(Res_98637 <= HEX3Atmp_98635)) goto LA51;
I_98574 = Res_98637;
LOC52 = 0;
LOC52 = Typetostring_97014((*T_98427).Sons->data[I_98574], ((NU8) 0));
Result_98422 = resizeString(Result_98422, LOC52->Sup.len + 0);
appendString(Result_98422, LOC52);
LOC54 = Sonslen_55807(T_98427);
if (!(I_98574 < (NI64)(LOC54 - 1))) goto LA55;
Result_98422 = resizeString(Result_98422, 2);
appendString(Result_98422, ((NimStringDesc*) &TMP196039));
LA55: ;
Res_98637 += 1;
} LA51: ;
LA39: ;
Result_98422 = addChar(Result_98422, 93);
break;
case ((NU8) 21):
case ((NU8) 22):
case ((NU8) 23):
LOC57 = 0;
LOC58 = 0;
LOC58 = Typetostring_97014((*T_98427).Sons->data[0], ((NU8) 0));
LOC57 = rawNewString(Typetostr_98423[((*T_98427).Kind)-0]->Sup.len + LOC58->Sup.len + 0);
appendString(LOC57, Typetostr_98423[((*T_98427).Kind)-0]);
appendString(LOC57, LOC58);
Result_98422 = LOC57;
break;
case ((NU8) 20):
LOC59 = 0;
LOC60 = 0;
LOC60 = Rangetostr_98381((*T_98427).N);
LOC59 = rawNewString(LOC60->Sup.len + 6);
appendString(LOC59, ((NimStringDesc*) &TMP196051));
appendString(LOC59, LOC60);
Result_98422 = LOC59;
break;
case ((NU8) 25):
Result_98422 = copyString(((NimStringDesc*) &TMP196052));
I_98587 = 0;
HEX3Atmp_98638 = 0;
LOC61 = Sonslen_55807(T_98427);
HEX3Atmp_98638 = (NI64)(LOC61 - 1);
Res_98640 = 0;
Res_98640 = 1;
while (1) {
if (!(Res_98640 <= HEX3Atmp_98638)) goto LA62;
I_98587 = Res_98640;
LOC63 = 0;
LOC63 = Typetostring_97014((*T_98427).Sons->data[I_98587], ((NU8) 0));
Result_98422 = resizeString(Result_98422, LOC63->Sup.len + 0);
appendString(Result_98422, LOC63);
LOC65 = Sonslen_55807(T_98427);
if (!(I_98587 < (NI64)(LOC65 - 1))) goto LA66;
Result_98422 = resizeString(Result_98422, 2);
appendString(Result_98422, ((NimStringDesc*) &TMP196039));
LA66: ;
Res_98640 += 1;
} LA62: ;
Result_98422 = addChar(Result_98422, 41);
if (!!(((*T_98427).Sons->data[0] == NIM_NIL))) goto LA69;
LOC71 = 0;
LOC72 = 0;
LOC72 = Typetostring_97014((*T_98427).Sons->data[0], ((NU8) 0));
LOC71 = rawNewString(LOC72->Sup.len + 2);
appendString(LOC71, ((NimStringDesc*) &TMP196050));
appendString(LOC71, LOC72);
Result_98422 = resizeString(Result_98422, LOC71->Sup.len + 0);
appendString(Result_98422, LOC71);
LA69: ;
Prag_98603 = 0;
if (!!(((*T_98427).Callconv == ((NU8) 0)))) goto LA74;
Prag_98603 = copyString(Callingconvtostr_55015[((*T_98427).Callconv)-0]);
goto LA73;
LA74: ;
Prag_98603 = copyString(((NimStringDesc*) &TMP195939));
LA73: ;
if (!(((*T_98427).Flags &(1<<((((NU8) 1))&7)))!=0)) goto LA77;
Addsep_25897(&Prag_98603, ((NimStringDesc*) &TMP196039), 0);
Prag_98603 = resizeString(Prag_98603, 12);
appendString(Prag_98603, ((NimStringDesc*) &TMP196053));
LA77: ;
if (!!((Prag_98603->Sup.len == 0))) goto LA80;
LOC82 = 0;
LOC82 = rawNewString(Prag_98603->Sup.len + 4);
appendString(LOC82, ((NimStringDesc*) &TMP196054));
appendString(LOC82, Prag_98603);
appendString(LOC82, ((NimStringDesc*) &TMP196055));
Result_98422 = resizeString(Result_98422, LOC82->Sup.len + 0);
appendString(Result_98422, LOC82);
LA80: ;
break;
default:
Result_98422 = copyString(Typetostr_98423[((*T_98427).Kind)-0]);
break;
}
BeforeRet: ;
return Result_98422;
}
N_NIMCALL(TY55552*, Base_97021)(TY55552* T_97023) {
TY55552* Result_98657;
Result_98657 = 0;
Result_98657 = (*T_97023).Sons->data[0];
return Result_98657;
}
N_NIMCALL(NIM_BOOL, Isordinaltype_97069)(TY55552* T_97071) {
NIM_BOOL Result_97591;
NIM_BOOL LOC1;
NIM_BOOL LOC3;
Result_97591 = 0;
LOC1 = ((IL64(66572009478) &(IL64(1)<<(((*T_97071).Kind)&IL64(63))))!=0);
if (LOC1) goto LA2;
LOC3 = ((1081344 &(IL64(1)<<(((*T_97071).Kind)&IL64(63))))!=0);
if (!(LOC3)) goto LA4;
LOC3 = Isordinaltype_97069((*T_97071).Sons->data[0]);
LA4: ;
LOC1 = LOC3;
LA2: ;
Result_97591 = LOC1;
return Result_97591;
}
N_NIMCALL(NIM_BOOL, Iterovernode_97668)(TY55901* Marker_97671, TY55526* N_97672, TY97025 Iter_97673, TNimObject* Closure_97674) {
NIM_BOOL Result_97675;
NI I_97695;
NI HEX3Atmp_97708;
NI LOC4;
NI Res_97710;
Result_97675 = 0;
Result_97675 = NIM_FALSE;
if (!!((N_97672 == NIM_NIL))) goto LA2;
switch ((*N_97672).Kind) {
case ((NU8) 0) ... ((NU8) 18):
Result_97675 = Iterovertypeaux_97661(Marker_97671, (*N_97672).Typ, Iter_97673, Closure_97674);
break;
default:
I_97695 = 0;
HEX3Atmp_97708 = 0;
LOC4 = Sonslen_55804(N_97672);
HEX3Atmp_97708 = (NI64)(LOC4 - 1);
Res_97710 = 0;
Res_97710 = 0;
while (1) {
if (!(Res_97710 <= HEX3Atmp_97708)) goto LA5;
I_97695 = Res_97710;
Result_97675 = Iterovernode_97668(Marker_97671, (*N_97672).KindU.S6.Sons->data[I_97695], Iter_97673, Closure_97674);
if (!Result_97675) goto LA7;
goto BeforeRet;
LA7: ;
Res_97710 += 1;
} LA5: ;
break;
}
LA2: ;
BeforeRet: ;
return Result_97675;
}
N_NIMCALL(NIM_BOOL, Iterovertypeaux_97661)(TY55901* Marker_97664, TY55552* T_97665, TY97025 Iter_97666, TNimObject* Closure_97667) {
NIM_BOOL Result_97718;
NIM_BOOL LOC8;
TY55552* LOC11;
NI I_97738;
NI HEX3Atmp_97750;
NI LOC12;
NI Res_97752;
Result_97718 = 0;
Result_97718 = NIM_FALSE;
if (!(T_97665 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
Result_97718 = Iter_97666(T_97665, Closure_97667);
if (!Result_97718) goto LA5;
goto BeforeRet;
LA5: ;
LOC8 = Intsetcontainsorincl_55929(Marker_97664, (*T_97665).Sup.Id);
if (!!(LOC8)) goto LA9;
switch ((*T_97665).Kind) {
case ((NU8) 11):
case ((NU8) 10):
LOC11 = 0;
LOC11 = Lastson_55813(T_97665);
Result_97718 = Iterovertypeaux_97661(Marker_97664, LOC11, Iter_97666, Closure_97667);
break;
default:
I_97738 = 0;
HEX3Atmp_97750 = 0;
LOC12 = Sonslen_55807(T_97665);
HEX3Atmp_97750 = (NI64)(LOC12 - 1);
Res_97752 = 0;
Res_97752 = 0;
while (1) {
if (!(Res_97752 <= HEX3Atmp_97750)) goto LA13;
I_97738 = Res_97752;
Result_97718 = Iterovertypeaux_97661(Marker_97664, (*T_97665).Sons->data[I_97738], Iter_97666, Closure_97667);
if (!Result_97718) goto LA15;
goto BeforeRet;
LA15: ;
Res_97752 += 1;
} LA13: ;
if (!!(((*T_97665).N == NIM_NIL))) goto LA18;
Result_97718 = Iterovernode_97668(Marker_97664, (*T_97665).N, Iter_97666, Closure_97667);
LA18: ;
break;
}
LA9: ;
BeforeRet: ;
return Result_97718;
}
N_NIMCALL(NIM_BOOL, Iterovertype_97038)(TY55552* T_97040, TY97025 Iter_97041, TNimObject* Closure_97042) {
NIM_BOOL Result_97758;
TY55901 Marker_97759;
Result_97758 = 0;
memset((void*)&Marker_97759, 0, sizeof(Marker_97759));
Intsetinit_55925(&Marker_97759);
Result_97758 = Iterovertypeaux_97661(&Marker_97759, T_97040, Iter_97041, Closure_97042);
return Result_97758;
}
N_NIMCALL(NIM_BOOL, Equalordistinctof_97056)(TY55552* X_97058, TY55552* Y_97059) {
NIM_BOOL Result_99513;
NIM_BOOL LOC5;
TY55552* A_99546;
TY55552* B_99548;
TY55552* LOC18;
TY55552* LOC19;
NI LOC21;
NI LOC22;
NI I_99610;
NI HEX3Atmp_99677;
NI LOC25;
NI Res_99679;
NIM_BOOL LOC31;
NIM_BOOL LOC35;
NIM_BOOL LOC36;
Result_99513 = 0;
if (!(X_97058 == Y_97059)) goto LA2;
Result_99513 = NIM_TRUE;
goto BeforeRet;
LA2: ;
LOC5 = (X_97058 == NIM_NIL);
if (LOC5) goto LA6;
LOC5 = (Y_97059 == NIM_NIL);
LA6: ;
if (!LOC5) goto LA7;
Result_99513 = NIM_FALSE;
goto BeforeRet;
LA7: ;
A_99546 = 0;
A_99546 = Skiptypes_97087(X_97058, 2048);
B_99548 = 0;
B_99548 = Skiptypes_97087(Y_97059, 2048);
if (!!(((*A_99546).Kind == (*B_99548).Kind))) goto LA10;
if (!((*A_99546).Kind == ((NU8) 13))) goto LA13;
A_99546 = (*A_99546).Sons->data[0];
LA13: ;
if (!!(((*A_99546).Kind == (*B_99548).Kind))) goto LA16;
Result_99513 = NIM_FALSE;
goto BeforeRet;
LA16: ;
LA10: ;
switch ((*A_99546).Kind) {
case ((NU8) 3):
case ((NU8) 2):
case ((NU8) 1):
case ((NU8) 5):
case ((NU8) 26):
case ((NU8) 28):
case ((NU8) 29):
case ((NU8) 31) ... ((NU8) 39):
case ((NU8) 6):
case ((NU8) 7):
case ((NU8) 8):
Result_99513 = NIM_TRUE;
break;
case ((NU8) 14):
case ((NU8) 30):
case ((NU8) 17):
case ((NU8) 13):
Result_99513 = ((*A_99546).Sup.Id == (*B_99548).Sup.Id);
break;
case ((NU8) 18):
Result_99513 = Sametuple_99230(A_99546, B_99548, NIM_TRUE);
break;
case ((NU8) 11):
LOC18 = 0;
LOC18 = Lastson_55813(A_99546);
LOC19 = 0;
LOC19 = Lastson_55813(B_99548);
Result_99513 = Equalordistinctof_97056(LOC18, LOC19);
break;
case ((NU8) 12):
case ((NU8) 9):
case ((NU8) 10):
case ((NU8) 24):
case ((NU8) 15):
case ((NU8) 27):
case ((NU8) 19):
case ((NU8) 22):
case ((NU8) 21):
case ((NU8) 23):
case ((NU8) 4):
case ((NU8) 16):
case ((NU8) 25):
LOC21 = Sonslen_55807(A_99546);
LOC22 = Sonslen_55807(B_99548);
if (!(LOC21 == LOC22)) goto LA23;
Result_99513 = NIM_TRUE;
I_99610 = 0;
HEX3Atmp_99677 = 0;
LOC25 = Sonslen_55807(A_99546);
HEX3Atmp_99677 = (NI64)(LOC25 - 1);
Res_99679 = 0;
Res_99679 = 0;
while (1) {
if (!(Res_99679 <= HEX3Atmp_99677)) goto LA26;
I_99610 = Res_99679;
Result_99513 = Equalordistinctof_97056((*A_99546).Sons->data[I_99610], (*B_99548).Sons->data[I_99610]);
if (!!(Result_99513)) goto LA28;
goto BeforeRet;
LA28: ;
Res_99679 += 1;
} LA26: ;
LOC31 = Result_99513;
if (!(LOC31)) goto LA32;
LOC31 = ((*A_99546).Kind == ((NU8) 25));
LA32: ;
if (!LOC31) goto LA33;
Result_99513 = ((*A_99546).Callconv == (*B_99548).Callconv);
LA33: ;
goto LA20;
LA23: ;
Result_99513 = NIM_FALSE;
LA20: ;
break;
case ((NU8) 20):
LOC36 = Equalordistinctof_97056((*A_99546).Sons->data[0], (*B_99548).Sons->data[0]);
if (!(LOC36)) goto LA37;
LOC36 = Samevalue_55867((*(*A_99546).N).KindU.S6.Sons->data[0], (*(*B_99548).N).KindU.S6.Sons->data[0]);
LA37: ;
LOC35 = LOC36;
if (!(LOC35)) goto LA38;
LOC35 = Samevalue_55867((*(*A_99546).N).KindU.S6.Sons->data[1], (*(*B_99548).N).KindU.S6.Sons->data[1]);
LA38: ;
Result_99513 = LOC35;
break;
case ((NU8) 0):
Result_99513 = NIM_FALSE;
break;
}
BeforeRet: ;
return Result_99513;
}
N_NIMCALL(NIM_BOOL, Sametuple_99230)(TY55552* A_99232, TY55552* B_99233, NIM_BOOL Distinctof_99234) {
NIM_BOOL Result_99235;
TY55548* X_99236;
TY55548* Y_99237;
NI LOC2;
NI LOC3;
NI I_99248;
NI HEX3Atmp_99372;
NI LOC6;
NI Res_99374;
NIM_BOOL LOC15;
NI I_99279;
NI HEX3Atmp_99375;
NI LOC19;
NI Res_99377;
Result_99235 = 0;
X_99236 = 0;
Y_99237 = 0;
LOC2 = Sonslen_55807(A_99232);
LOC3 = Sonslen_55807(B_99233);
if (!(LOC2 == LOC3)) goto LA4;
Result_99235 = NIM_TRUE;
I_99248 = 0;
HEX3Atmp_99372 = 0;
LOC6 = Sonslen_55807(A_99232);
HEX3Atmp_99372 = (NI64)(LOC6 - 1);
Res_99374 = 0;
Res_99374 = 0;
while (1) {
if (!(Res_99374 <= HEX3Atmp_99372)) goto LA7;
I_99248 = Res_99374;
if (!Distinctof_99234) goto LA9;
Result_99235 = Equalordistinctof_97056((*A_99232).Sons->data[I_99248], (*B_99233).Sons->data[I_99248]);
goto LA8;
LA9: ;
Result_99235 = Sametype_97048((*A_99232).Sons->data[I_99248], (*B_99233).Sons->data[I_99248]);
LA8: ;
if (!!(Result_99235)) goto LA12;
goto BeforeRet;
LA12: ;
Res_99374 += 1;
} LA7: ;
LOC15 = !(((*A_99232).N == NIM_NIL));
if (!(LOC15)) goto LA16;
LOC15 = !(((*B_99233).N == NIM_NIL));
LA16: ;
if (!LOC15) goto LA17;
I_99279 = 0;
HEX3Atmp_99375 = 0;
LOC19 = Sonslen_55804((*A_99232).N);
HEX3Atmp_99375 = (NI64)(LOC19 - 1);
Res_99377 = 0;
Res_99377 = 0;
while (1) {
if (!(Res_99377 <= HEX3Atmp_99375)) goto LA20;
I_99279 = Res_99377;
if (!!(((*(*(*A_99232).N).KindU.S6.Sons->data[I_99279]).Kind == ((NU8) 3)))) goto LA22;
Internalerror_47574((*(*A_99232).N).Info, ((NimStringDesc*) &TMP196071));
LA22: ;
if (!!(((*(*(*B_99233).N).KindU.S6.Sons->data[I_99279]).Kind == ((NU8) 3)))) goto LA25;
Internalerror_47574((*(*B_99233).N).Info, ((NimStringDesc*) &TMP196071));
LA25: ;
X_99236 = (*(*(*A_99232).N).KindU.S6.Sons->data[I_99279]).KindU.S4.Sym;
Y_99237 = (*(*(*B_99233).N).KindU.S6.Sons->data[I_99279]).KindU.S4.Sym;
Result_99235 = ((*(*X_99236).Name).Sup.Id == (*(*Y_99237).Name).Sup.Id);
if (!!(Result_99235)) goto LA28;
goto LA20;
LA28: ;
Res_99377 += 1;
} LA20: ;
LA17: ;
goto LA1;
LA4: ;
Result_99235 = NIM_FALSE;
LA1: ;
BeforeRet: ;
return Result_99235;
}
N_NIMCALL(NIM_BOOL, Sametypeornil_97052)(TY55552* A_97054, TY55552* B_97055) {
NIM_BOOL Result_99081;
NIM_BOOL LOC5;
Result_99081 = 0;
if (!(A_97054 == B_97055)) goto LA2;
Result_99081 = NIM_TRUE;
goto LA1;
LA2: ;
LOC5 = (A_97054 == NIM_NIL);
if (LOC5) goto LA6;
LOC5 = (B_97055 == NIM_NIL);
LA6: ;
if (!LOC5) goto LA7;
Result_99081 = NIM_FALSE;
goto LA4;
LA7: ;
Result_99081 = Sametype_97048(A_97054, B_97055);
LA4: ;
LA1: ;
return Result_99081;
}
N_NIMCALL(NIM_BOOL, Sametype_97048)(TY55552* X_97050, TY55552* Y_97051) {
NIM_BOOL Result_99382;
TY55552* A_99393;
TY55552* B_99395;
TY55552* LOC7;
TY55552* LOC8;
NI LOC10;
NI LOC11;
NI I_99439;
NI HEX3Atmp_99506;
NI LOC14;
NI Res_99508;
NIM_BOOL LOC20;
NIM_BOOL LOC24;
NIM_BOOL LOC25;
Result_99382 = 0;
if (!(X_97050 == Y_97051)) goto LA2;
Result_99382 = NIM_TRUE;
goto BeforeRet;
LA2: ;
A_99393 = 0;
A_99393 = Skiptypes_97087(X_97050, 2048);
B_99395 = 0;
B_99395 = Skiptypes_97087(Y_97051, 2048);
if (!!(((*A_99393).Kind == (*B_99395).Kind))) goto LA5;
Result_99382 = NIM_FALSE;
goto BeforeRet;
LA5: ;
switch ((*A_99393).Kind) {
case ((NU8) 3):
case ((NU8) 2):
case ((NU8) 1):
case ((NU8) 5):
case ((NU8) 26):
case ((NU8) 28):
case ((NU8) 29):
case ((NU8) 31) ... ((NU8) 39):
case ((NU8) 6):
case ((NU8) 7):
case ((NU8) 8):
Result_99382 = NIM_TRUE;
break;
case ((NU8) 14):
case ((NU8) 30):
case ((NU8) 17):
case ((NU8) 13):
Result_99382 = ((*A_99393).Sup.Id == (*B_99395).Sup.Id);
break;
case ((NU8) 18):
Result_99382 = Sametuple_99230(A_99393, B_99395, NIM_FALSE);
break;
case ((NU8) 11):
LOC7 = 0;
LOC7 = Lastson_55813(A_99393);
LOC8 = 0;
LOC8 = Lastson_55813(B_99395);
Result_99382 = Sametype_97048(LOC7, LOC8);
break;
case ((NU8) 12):
case ((NU8) 9):
case ((NU8) 10):
case ((NU8) 24):
case ((NU8) 15):
case ((NU8) 27):
case ((NU8) 19):
case ((NU8) 22):
case ((NU8) 21):
case ((NU8) 23):
case ((NU8) 4):
case ((NU8) 16):
case ((NU8) 25):
LOC10 = Sonslen_55807(A_99393);
LOC11 = Sonslen_55807(B_99395);
if (!(LOC10 == LOC11)) goto LA12;
Result_99382 = NIM_TRUE;
I_99439 = 0;
HEX3Atmp_99506 = 0;
LOC14 = Sonslen_55807(A_99393);
HEX3Atmp_99506 = (NI64)(LOC14 - 1);
Res_99508 = 0;
Res_99508 = 0;
while (1) {
if (!(Res_99508 <= HEX3Atmp_99506)) goto LA15;
I_99439 = Res_99508;
Result_99382 = Sametypeornil_97052((*A_99393).Sons->data[I_99439], (*B_99395).Sons->data[I_99439]);
if (!!(Result_99382)) goto LA17;
goto BeforeRet;
LA17: ;
Res_99508 += 1;
} LA15: ;
LOC20 = Result_99382;
if (!(LOC20)) goto LA21;
LOC20 = ((*A_99393).Kind == ((NU8) 25));
LA21: ;
if (!LOC20) goto LA22;
Result_99382 = ((*A_99393).Callconv == (*B_99395).Callconv);
LA22: ;
goto LA9;
LA12: ;
Result_99382 = NIM_FALSE;
LA9: ;
break;
case ((NU8) 20):
LOC25 = Sametypeornil_97052((*A_99393).Sons->data[0], (*B_99395).Sons->data[0]);
if (!(LOC25)) goto LA26;
LOC25 = Samevalue_55867((*(*A_99393).N).KindU.S6.Sons->data[0], (*(*B_99395).N).KindU.S6.Sons->data[0]);
LA26: ;
LOC24 = LOC25;
if (!(LOC24)) goto LA27;
LOC24 = Samevalue_55867((*(*A_99393).N).KindU.S6.Sons->data[1], (*(*B_99395).N).KindU.S6.Sons->data[1]);
LA27: ;
Result_99382 = LOC24;
break;
case ((NU8) 0):
Result_99382 = NIM_FALSE;
break;
}
BeforeRet: ;
return Result_99382;
}
N_NIMCALL(NimStringDesc*, Getprocheader_97018)(TY55548* Sym_97020) {
NimStringDesc* Result_97315;
NimStringDesc* LOC1;
TY55526* N_97316;
NI I_97340;
NI HEX3Atmp_97424;
NI LOC2;
NI Res_97426;
TY55526* P_97353;
NimStringDesc* LOC7;
NI LOC9;
NimStringDesc* LOC15;
NimStringDesc* LOC16;
Result_97315 = 0;
LOC1 = 0;
LOC1 = rawNewString((*(*Sym_97020).Name).S->Sup.len + 1);
appendString(LOC1, (*(*Sym_97020).Name).S);
appendChar(LOC1, 40);
Result_97315 = LOC1;
N_97316 = 0;
N_97316 = (*(*Sym_97020).Typ).N;
I_97340 = 0;
HEX3Atmp_97424 = 0;
LOC2 = Sonslen_55804(N_97316);
HEX3Atmp_97424 = (NI64)(LOC2 - 1);
Res_97426 = 0;
Res_97426 = 1;
while (1) {
if (!(Res_97426 <= HEX3Atmp_97424)) goto LA3;
I_97340 = Res_97426;
P_97353 = 0;
P_97353 = (*N_97316).KindU.S6.Sons->data[I_97340];
if (!!(((*P_97353).Kind == ((NU8) 3)))) goto LA5;
Internalerror_47578(((NimStringDesc*) &TMP196082));
LA5: ;
Result_97315 = resizeString(Result_97315, (*(*(*P_97353).KindU.S4.Sym).Name).S->Sup.len + 0);
appendString(Result_97315, (*(*(*P_97353).KindU.S4.Sym).Name).S);
Result_97315 = resizeString(Result_97315, 2);
appendString(Result_97315, ((NimStringDesc*) &TMP196050));
LOC7 = 0;
LOC7 = Typetostring_97014((*(*P_97353).KindU.S4.Sym).Typ, ((NU8) 0));
Result_97315 = resizeString(Result_97315, LOC7->Sup.len + 0);
appendString(Result_97315, LOC7);
LOC9 = Sonslen_55804(N_97316);
if (!!((I_97340 == (NI64)(LOC9 - 1)))) goto LA10;
Result_97315 = resizeString(Result_97315, 2);
appendString(Result_97315, ((NimStringDesc*) &TMP196039));
LA10: ;
Res_97426 += 1;
} LA3: ;
Result_97315 = addChar(Result_97315, 41);
if (!!(((*(*N_97316).KindU.S6.Sons->data[0]).Typ == NIM_NIL))) goto LA13;
LOC15 = 0;
LOC16 = 0;
LOC16 = Typetostring_97014((*(*N_97316).KindU.S6.Sons->data[0]).Typ, ((NU8) 0));
LOC15 = rawNewString(Result_97315->Sup.len + LOC16->Sup.len + 2);
appendString(LOC15, Result_97315);
appendString(LOC15, ((NimStringDesc*) &TMP196050));
appendString(LOC15, LOC16);
Result_97315 = LOC15;
LA13: ;
return Result_97315;
}
N_NIMCALL(NIM_BOOL, Enumhaswholes_97072)(TY55552* T_97074) {
NIM_BOOL Result_97630;
TY55552* B_97631;
NIM_BOOL LOC2;
Result_97630 = 0;
B_97631 = 0;
B_97631 = T_97074;
while (1) {
if (!((*B_97631).Kind == ((NU8) 20))) goto LA1;
B_97631 = (*B_97631).Sons->data[0];
} LA1: ;
LOC2 = ((*B_97631).Kind == ((NU8) 14));
if (!(LOC2)) goto LA3;
LOC2 = (((*B_97631).Flags &(1<<((((NU8) 4))&7)))!=0);
LA3: ;
Result_97630 = LOC2;
return Result_97630;
}
N_NIMCALL(NU8, Equalparam_98859)(TY55548* A_98861, TY55548* B_98862) {
NU8 Result_98863;
NIM_BOOL LOC2;
NIM_BOOL LOC8;
NIM_BOOL LOC13;
Result_98863 = 0;
LOC2 = Sametypeornil_97052((*A_98861).Typ, (*B_98862).Typ);
if (!LOC2) goto LA3;
if (!((*A_98861).Ast == (*B_98862).Ast)) goto LA6;
Result_98863 = ((NU8) 1);
goto LA5;
LA6: ;
LOC8 = !(((*A_98861).Ast == NIM_NIL));
if (!(LOC8)) goto LA9;
LOC8 = !(((*B_98862).Ast == NIM_NIL));
LA9: ;
if (!LOC8) goto LA10;
LOC13 = Exprstructuralequivalent_96035((*A_98861).Ast, (*B_98862).Ast);
if (!LOC13) goto LA14;
Result_98863 = ((NU8) 1);
goto LA12;
LA14: ;
Result_98863 = ((NU8) 2);
LA12: ;
goto LA5;
LA10: ;
if (!!(((*A_98861).Ast == NIM_NIL))) goto LA16;
Result_98863 = ((NU8) 1);
goto LA5;
LA16: ;
if (!!(((*B_98862).Ast == NIM_NIL))) goto LA18;
Result_98863 = ((NU8) 2);
goto LA5;
LA18: ;
LA5: ;
goto LA1;
LA3: ;
Result_98863 = ((NU8) 0);
LA1: ;
return Result_98863;
}
N_NIMCALL(NU8, Equalparams_97065)(TY55526* A_97067, TY55526* B_97068) {
NU8 Result_98921;
NI Length_98922;
TY55548* M_98923;
TY55548* N_98924;
NI LOC2;
NI I_98935;
NI HEX3Atmp_99074;
NI Res_99076;
NU8 LOC6;
NIM_BOOL LOC11;
NIM_BOOL LOC15;
Result_98921 = 0;
Length_98922 = 0;
M_98923 = 0;
N_98924 = 0;
Result_98921 = ((NU8) 1);
Length_98922 = Sonslen_55804(A_97067);
LOC2 = Sonslen_55804(B_97068);
if (!!((Length_98922 == LOC2))) goto LA3;
Result_98921 = ((NU8) 0);
goto LA1;
LA3: ;
I_98935 = 0;
HEX3Atmp_99074 = 0;
HEX3Atmp_99074 = (NI64)(Length_98922 - 1);
Res_99076 = 0;
Res_99076 = 1;
while (1) {
if (!(Res_99076 <= HEX3Atmp_99074)) goto LA5;
I_98935 = Res_99076;
M_98923 = (*(*A_97067).KindU.S6.Sons->data[I_98935]).KindU.S4.Sym;
N_98924 = (*(*B_97068).KindU.S6.Sons->data[I_98935]).KindU.S4.Sym;
LOC6 = Equalparam_98859(M_98923, N_98924);
switch (LOC6) {
case ((NU8) 0):
Result_98921 = ((NU8) 0);
goto BeforeRet;
break;
case ((NU8) 1):
break;
case ((NU8) 2):
Result_98921 = ((NU8) 2);
break;
}
if (!!(((*(*M_98923).Name).Sup.Id == (*(*N_98924).Name).Sup.Id))) goto LA8;
Result_98921 = ((NU8) 0);
goto BeforeRet;
LA8: ;
Res_99076 += 1;
} LA5: ;
LOC11 = Sametypeornil_97052((*(*A_97067).KindU.S6.Sons->data[0]).Typ, (*(*B_97068).KindU.S6.Sons->data[0]).Typ);
if (!!(LOC11)) goto LA12;
LOC15 = ((*(*A_97067).KindU.S6.Sons->data[0]).Typ == NIM_NIL);
if (LOC15) goto LA16;
LOC15 = ((*(*B_97068).KindU.S6.Sons->data[0]).Typ == NIM_NIL);
LA16: ;
if (!LOC15) goto LA17;
Result_98921 = ((NU8) 0);
goto LA14;
LA17: ;
Result_98921 = ((NU8) 2);
LA14: ;
LA12: ;
LA1: ;
BeforeRet: ;
return Result_98921;
}
N_NIMCALL(NIM_BOOL, Typeallowednode_99686)(TY55901* Marker_99689, TY55526* N_99690, NU8 Kind_99691) {
NIM_BOOL Result_99692;
NI I_99712;
NI HEX3Atmp_99725;
NI LOC7;
NI Res_99727;
Result_99692 = 0;
Result_99692 = NIM_TRUE;
if (!!((N_99690 == NIM_NIL))) goto LA2;
Result_99692 = Typeallowedaux_99680(Marker_99689, (*N_99690).Typ, Kind_99691);
if (!Result_99692) goto LA5;
switch ((*N_99690).Kind) {
case ((NU8) 0) ... ((NU8) 18):
break;
default:
I_99712 = 0;
HEX3Atmp_99725 = 0;
LOC7 = Sonslen_55804(N_99690);
HEX3Atmp_99725 = (NI64)(LOC7 - 1);
Res_99727 = 0;
Res_99727 = 0;
while (1) {
if (!(Res_99727 <= HEX3Atmp_99725)) goto LA8;
I_99712 = Res_99727;
Result_99692 = Typeallowednode_99686(Marker_99689, (*N_99690).KindU.S6.Sons->data[I_99712], Kind_99691);
if (!!(Result_99692)) goto LA10;
goto BeforeRet;
LA10: ;
Res_99727 += 1;
} LA8: ;
break;
}
LA5: ;
LA2: ;
BeforeRet: ;
return Result_99692;
}
N_NIMCALL(NIM_BOOL, Typeallowedaux_99680)(TY55901* Marker_99683, TY55552* Typ_99684, NU8 Kind_99685) {
NIM_BOOL Result_99734;
TY55552* T_99735;
TY55552* T2_99736;
NIM_BOOL LOC5;
NIM_BOOL LOC8;
NIM_BOOL LOC10;
NI I_99786;
NI HEX3Atmp_99884;
NI LOC12;
NI Res_99886;
TY55552* LOC20;
TY55552* LOC21;
NIM_BOOL LOC22;
NIM_BOOL LOC24;
NIM_BOOL LOC25;
NI I_99863;
NI HEX3Atmp_99887;
NI LOC28;
NI Res_99889;
NI I_99872;
NI HEX3Atmp_99890;
NI LOC33;
NI Res_99892;
Result_99734 = 0;
T_99735 = 0;
T2_99736 = 0;
Result_99734 = NIM_TRUE;
if (!(Typ_99684 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
LOC5 = Intsetcontainsorincl_55929(Marker_99683, (*Typ_99684).Sup.Id);
if (!LOC5) goto LA6;
goto BeforeRet;
LA6: ;
T_99735 = Skiptypes_97087(Typ_99684, 43008);
switch ((*T_99735).Kind) {
case ((NU8) 23):
T2_99736 = Skiptypes_97087((*T_99735).Sons->data[0], 43008);
switch ((*T2_99736).Kind) {
case ((NU8) 23):
Result_99734 = NIM_FALSE;
break;
case ((NU8) 27):
LOC8 = (Kind_99685 == ((NU8) 3));
if (!(LOC8)) goto LA9;
LOC8 = Typeallowedaux_99680(Marker_99683, T2_99736, Kind_99685);
LA9: ;
Result_99734 = LOC8;
break;
default:
LOC10 = !((Kind_99685 == ((NU8) 8)));
if (!(LOC10)) goto LA11;
LOC10 = Typeallowedaux_99680(Marker_99683, T2_99736, Kind_99685);
LA11: ;
Result_99734 = LOC10;
break;
}
break;
case ((NU8) 25):
I_99786 = 0;
HEX3Atmp_99884 = 0;
LOC12 = Sonslen_55807(T_99735);
HEX3Atmp_99884 = (NI64)(LOC12 - 1);
Res_99886 = 0;
Res_99886 = 1;
while (1) {
if (!(Res_99886 <= HEX3Atmp_99884)) goto LA13;
I_99786 = Res_99886;
Result_99734 = Typeallowedaux_99680(Marker_99683, (*T_99735).Sons->data[I_99786], ((NU8) 3));
if (!!(Result_99734)) goto LA15;
goto BeforeRet;
LA15: ;
Res_99886 += 1;
} LA13: ;
if (!!(((*T_99735).Sons->data[0] == NIM_NIL))) goto LA18;
Result_99734 = Typeallowedaux_99680(Marker_99683, (*T_99735).Sons->data[0], ((NU8) 9));
LA18: ;
break;
case ((NU8) 6):
case ((NU8) 7):
case ((NU8) 8):
Result_99734 = NIM_TRUE;
break;
case ((NU8) 10):
case ((NU8) 12):
case ((NU8) 30):
case ((NU8) 0):
case ((NU8) 9):
Result_99734 = NIM_FALSE;
break;
case ((NU8) 3):
case ((NU8) 5):
Result_99734 = (Kind_99685 == ((NU8) 8));
break;
case ((NU8) 28):
case ((NU8) 1):
case ((NU8) 2):
case ((NU8) 14):
case ((NU8) 31) ... ((NU8) 39):
case ((NU8) 29):
case ((NU8) 26):
Result_99734 = NIM_TRUE;
break;
case ((NU8) 15):
Result_99734 = (Kind_99685 == ((NU8) 3));
break;
case ((NU8) 11):
case ((NU8) 13):
LOC20 = 0;
LOC20 = Lastson_55813(T_99735);
Result_99734 = Typeallowedaux_99680(Marker_99683, LOC20, Kind_99685);
break;
case ((NU8) 20):
LOC21 = 0;
LOC21 = Skiptypes_97087((*T_99735).Sons->data[0], 43008);
Result_99734 = ((IL64(1097364160516) &(IL64(1)<<(((*LOC21).Kind)&IL64(63))))!=0);
break;
case ((NU8) 27):
LOC22 = (Kind_99685 == ((NU8) 3));
if (!(LOC22)) goto LA23;
LOC22 = Typeallowedaux_99680(Marker_99683, (*T_99735).Sons->data[0], ((NU8) 9));
LA23: ;
Result_99734 = LOC22;
break;
case ((NU8) 24):
LOC25 = !((Kind_99685 == ((NU8) 8)));
if (!(LOC25)) goto LA26;
LOC25 = Typeallowedaux_99680(Marker_99683, (*T_99735).Sons->data[0], ((NU8) 9));
LA26: ;
LOC24 = LOC25;
if (LOC24) goto LA27;
LOC24 = ((*(*T_99735).Sons->data[0]).Kind == ((NU8) 3));
LA27: ;
Result_99734 = LOC24;
break;
case ((NU8) 16):
Result_99734 = Typeallowedaux_99680(Marker_99683, (*T_99735).Sons->data[1], ((NU8) 9));
break;
case ((NU8) 21):
case ((NU8) 22):
Result_99734 = Typeallowedaux_99680(Marker_99683, (*T_99735).Sons->data[0], ((NU8) 9));
break;
case ((NU8) 4):
case ((NU8) 18):
case ((NU8) 19):
I_99863 = 0;
HEX3Atmp_99887 = 0;
LOC28 = Sonslen_55807(T_99735);
HEX3Atmp_99887 = (NI64)(LOC28 - 1);
Res_99889 = 0;
Res_99889 = 0;
while (1) {
if (!(Res_99889 <= HEX3Atmp_99887)) goto LA29;
I_99863 = Res_99889;
Result_99734 = Typeallowedaux_99680(Marker_99683, (*T_99735).Sons->data[I_99863], Kind_99685);
if (!!(Result_99734)) goto LA31;
goto BeforeRet;
LA31: ;
Res_99889 += 1;
} LA29: ;
break;
case ((NU8) 17):
I_99872 = 0;
HEX3Atmp_99890 = 0;
LOC33 = Sonslen_55807(T_99735);
HEX3Atmp_99890 = (NI64)(LOC33 - 1);
Res_99892 = 0;
Res_99892 = 0;
while (1) {
if (!(Res_99892 <= HEX3Atmp_99890)) goto LA34;
I_99872 = Res_99892;
Result_99734 = Typeallowedaux_99680(Marker_99683, (*T_99735).Sons->data[I_99872], ((NU8) 9));
if (!!(Result_99734)) goto LA36;
goto BeforeRet;
LA36: ;
Res_99892 += 1;
} LA34: ;
if (!!(((*T_99735).N == NIM_NIL))) goto LA39;
Result_99734 = Typeallowednode_99686(Marker_99683, (*T_99735).N, ((NU8) 9));
LA39: ;
break;
}
BeforeRet: ;
return Result_99734;
}
N_NIMCALL(NIM_BOOL, Typeallowed_97136)(TY55552* T_97138, NU8 Kind_97139) {
NIM_BOOL Result_99897;
TY55901 Marker_99898;
Result_99897 = 0;
memset((void*)&Marker_99898, 0, sizeof(Marker_99898));
Intsetinit_55925(&Marker_99898);
Result_99897 = Typeallowedaux_99680(&Marker_99898, T_97138, Kind_97139);
return Result_99897;
}
N_NIMCALL(NIM_BOOL, Searchtypenodeforaux_97768)(TY55526* N_97770, TY97029 P_97771, TY55901* Marker_97773) {
NIM_BOOL Result_97774;
NI I_97783;
NI HEX3Atmp_97874;
NI LOC1;
NI Res_97876;
NI I_97837;
NI HEX3Atmp_97877;
NI LOC9;
NI Res_97879;
TY55526* LOC11;
Result_97774 = 0;
Result_97774 = NIM_FALSE;
switch ((*N_97770).Kind) {
case ((NU8) 113):
I_97783 = 0;
HEX3Atmp_97874 = 0;
LOC1 = Sonslen_55804(N_97770);
HEX3Atmp_97874 = (NI64)(LOC1 - 1);
Res_97876 = 0;
Res_97876 = 0;
while (1) {
if (!(Res_97876 <= HEX3Atmp_97874)) goto LA2;
I_97783 = Res_97876;
Result_97774 = Searchtypenodeforaux_97768((*N_97770).KindU.S6.Sons->data[I_97783], P_97771, Marker_97773);
if (!Result_97774) goto LA4;
goto BeforeRet;
LA4: ;
Res_97876 += 1;
} LA2: ;
break;
case ((NU8) 114):
Result_97774 = Searchtypenodeforaux_97768((*N_97770).KindU.S6.Sons->data[0], P_97771, Marker_97773);
if (!Result_97774) goto LA7;
goto BeforeRet;
LA7: ;
I_97837 = 0;
HEX3Atmp_97877 = 0;
LOC9 = Sonslen_55804(N_97770);
HEX3Atmp_97877 = (NI64)(LOC9 - 1);
Res_97879 = 0;
Res_97879 = 1;
while (1) {
if (!(Res_97879 <= HEX3Atmp_97877)) goto LA10;
I_97837 = Res_97879;
switch ((*(*N_97770).KindU.S6.Sons->data[I_97837]).Kind) {
case ((NU8) 75):
case ((NU8) 78):
LOC11 = 0;
LOC11 = Lastson_55810((*N_97770).KindU.S6.Sons->data[I_97837]);
Result_97774 = Searchtypenodeforaux_97768(LOC11, P_97771, Marker_97773);
if (!Result_97774) goto LA13;
goto BeforeRet;
LA13: ;
break;
default:
Internalerror_47578(((NimStringDesc*) &TMP196270));
break;
}
Res_97879 += 1;
} LA10: ;
break;
case ((NU8) 3):
Result_97774 = Searchtypeforaux_97762((*(*N_97770).KindU.S4.Sym).Typ, P_97771, Marker_97773);
break;
default:
Internalerror_47574((*N_97770).Info, ((NimStringDesc*) &TMP196271));
break;
}
BeforeRet: ;
return Result_97774;
}
N_NIMCALL(NIM_BOOL, Searchtypeforaux_97762)(TY55552* T_97764, TY97029 Predicate_97765, TY55901* Marker_97767) {
NIM_BOOL Result_97886;
NIM_BOOL LOC5;
TY55552* LOC14;
NI I_97906;
NI HEX3Atmp_97907;
NI LOC15;
NI Res_97909;
Result_97886 = 0;
Result_97886 = NIM_FALSE;
if (!(T_97764 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
LOC5 = Intsetcontainsorincl_55929(Marker_97767, (*T_97764).Sup.Id);
if (!LOC5) goto LA6;
goto BeforeRet;
LA6: ;
Result_97886 = Predicate_97765(T_97764);
if (!Result_97886) goto LA9;
goto BeforeRet;
LA9: ;
switch ((*T_97764).Kind) {
case ((NU8) 17):
Result_97886 = Searchtypeforaux_97762((*T_97764).Sons->data[0], Predicate_97765, Marker_97767);
if (!!(Result_97886)) goto LA12;
Result_97886 = Searchtypenodeforaux_97768((*T_97764).N, Predicate_97765, Marker_97767);
LA12: ;
break;
case ((NU8) 11):
case ((NU8) 13):
LOC14 = 0;
LOC14 = Lastson_55813(T_97764);
Result_97886 = Searchtypeforaux_97762(LOC14, Predicate_97765, Marker_97767);
break;
case ((NU8) 16):
case ((NU8) 4):
case ((NU8) 19):
case ((NU8) 18):
I_97906 = 0;
HEX3Atmp_97907 = 0;
LOC15 = Sonslen_55807(T_97764);
HEX3Atmp_97907 = (NI64)(LOC15 - 1);
Res_97909 = 0;
Res_97909 = 0;
while (1) {
if (!(Res_97909 <= HEX3Atmp_97907)) goto LA16;
I_97906 = Res_97909;
Result_97886 = Searchtypeforaux_97762((*T_97764).Sons->data[I_97906], Predicate_97765, Marker_97767);
if (!Result_97886) goto LA18;
goto BeforeRet;
LA18: ;
Res_97909 += 1;
} LA16: ;
break;
default:
break;
}
BeforeRet: ;
return Result_97886;
}
N_NIMCALL(NIM_BOOL, Searchtypefor_97910)(TY55552* T_97912, TY97029 Predicate_97913) {
NIM_BOOL Result_97914;
TY55901 Marker_97915;
Result_97914 = 0;
memset((void*)&Marker_97915, 0, sizeof(Marker_97915));
Intsetinit_55925(&Marker_97915);
Result_97914 = Searchtypeforaux_97762(T_97912, Predicate_97913, &Marker_97915);
return Result_97914;
}
N_NIMCALL(NIM_BOOL, Isgbcref_98088)(TY55552* T_98090) {
NIM_BOOL Result_98091;
Result_98091 = 0;
Result_98091 = ((289406976 &(IL64(1)<<(((*T_98090).Kind)&IL64(63))))!=0);
return Result_98091;
}
N_NIMCALL(NIM_BOOL, Containsgarbagecollectedref_97097)(TY55552* Typ_97099) {
NIM_BOOL Result_98107;
Result_98107 = 0;
Result_98107 = Searchtypefor_97910(Typ_97099, Isgbcref_98088);
return Result_98107;
}
N_NIMCALL(NIM_BOOL, Canformacyclenode_98134)(TY55901* Marker_98137, TY55526* N_98138, NI Startid_98139) {
NIM_BOOL Result_98140;
NI I_98160;
NI HEX3Atmp_98173;
NI LOC7;
NI Res_98175;
Result_98140 = 0;
Result_98140 = NIM_FALSE;
if (!!((N_98138 == NIM_NIL))) goto LA2;
Result_98140 = Canformacycleaux_98128(Marker_98137, (*N_98138).Typ, Startid_98139);
if (!!(Result_98140)) goto LA5;
switch ((*N_98138).Kind) {
case ((NU8) 0) ... ((NU8) 18):
break;
default:
I_98160 = 0;
HEX3Atmp_98173 = 0;
LOC7 = Sonslen_55804(N_98138);
HEX3Atmp_98173 = (NI64)(LOC7 - 1);
Res_98175 = 0;
Res_98175 = 0;
while (1) {
if (!(Res_98175 <= HEX3Atmp_98173)) goto LA8;
I_98160 = Res_98175;
Result_98140 = Canformacyclenode_98134(Marker_98137, (*N_98138).KindU.S6.Sons->data[I_98160], Startid_98139);
if (!Result_98140) goto LA10;
goto BeforeRet;
LA10: ;
Res_98175 += 1;
} LA8: ;
break;
}
LA5: ;
LA2: ;
BeforeRet: ;
return Result_98140;
}
N_NIMCALL(NIM_BOOL, Canformacycleaux_98128)(TY55901* Marker_98131, TY55552* Typ_98132, NI Startid_98133) {
NIM_BOOL Result_98182;
TY55552* T_98183;
NIM_BOOL LOC11;
NI I_98225;
NI HEX3Atmp_98239;
NI LOC14;
NI Res_98241;
Result_98182 = 0;
T_98183 = 0;
Result_98182 = NIM_FALSE;
if (!(Typ_98132 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
if (!(((*Typ_98132).Flags &(1<<((((NU8) 3))&7)))!=0)) goto LA5;
goto BeforeRet;
LA5: ;
T_98183 = Skiptypes_97087(Typ_98132, 43008);
if (!(((*T_98183).Flags &(1<<((((NU8) 3))&7)))!=0)) goto LA8;
goto BeforeRet;
LA8: ;
switch ((*T_98183).Kind) {
case ((NU8) 18):
case ((NU8) 17):
case ((NU8) 22):
case ((NU8) 24):
case ((NU8) 16):
case ((NU8) 4):
case ((NU8) 27):
LOC11 = Intsetcontainsorincl_55929(Marker_98131, (*T_98183).Sup.Id);
if (!!(LOC11)) goto LA12;
I_98225 = 0;
HEX3Atmp_98239 = 0;
LOC14 = Sonslen_55807(T_98183);
HEX3Atmp_98239 = (NI64)(LOC14 - 1);
Res_98241 = 0;
Res_98241 = 0;
while (1) {
if (!(Res_98241 <= HEX3Atmp_98239)) goto LA15;
I_98225 = Res_98241;
Result_98182 = Canformacycleaux_98128(Marker_98131, (*T_98183).Sons->data[I_98225], Startid_98133);
if (!Result_98182) goto LA17;
goto BeforeRet;
LA17: ;
Res_98241 += 1;
} LA15: ;
if (!!(((*T_98183).N == NIM_NIL))) goto LA20;
Result_98182 = Canformacyclenode_98134(Marker_98131, (*T_98183).N, Startid_98133);
LA20: ;
goto LA10;
LA12: ;
Result_98182 = ((*T_98183).Sup.Id == Startid_98133);
LA10: ;
break;
default:
break;
}
BeforeRet: ;
return Result_98182;
}
N_NIMCALL(NIM_BOOL, Canformacycle_97103)(TY55552* Typ_97105) {
NIM_BOOL Result_98245;
TY55901 Marker_98246;
Result_98245 = 0;
memset((void*)&Marker_98246, 0, sizeof(Marker_98246));
Intsetinit_55925(&Marker_98246);
Result_98245 = Canformacycleaux_98128(&Marker_98246, Typ_97105, (*Typ_97105).Sup.Id);
return Result_98245;
}
N_NIMCALL(NU8, Analyseobjectwithtypefieldaux_97992)(TY55552* T_97994, TY55901* Marker_97996) {
NU8 Result_97997;
NU8 Res_97998;
NIM_BOOL LOC8;
NI I_98029;
NI HEX3Atmp_98075;
NI LOC11;
NI Res_98077;
NIM_BOOL LOC23;
TY55552* LOC26;
NI I_98065;
NI HEX3Atmp_98078;
NI LOC27;
NI Res_98080;
Result_97997 = 0;
Res_97998 = 0;
Result_97997 = ((NU8) 0);
if (!(T_97994 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*T_97994).Kind) {
case ((NU8) 17):
if (!!(((*T_97994).N == NIM_NIL))) goto LA5;
LOC8 = Searchtypenodeforaux_97768((*T_97994).N, Isobjectwithtypefieldpredicate_97935, Marker_97996);
if (!LOC8) goto LA9;
Result_97997 = ((NU8) 2);
goto BeforeRet;
LA9: ;
LA5: ;
I_98029 = 0;
HEX3Atmp_98075 = 0;
LOC11 = Sonslen_55807(T_97994);
HEX3Atmp_98075 = (NI64)(LOC11 - 1);
Res_98077 = 0;
Res_98077 = 0;
while (1) {
if (!(Res_98077 <= HEX3Atmp_98075)) goto LA12;
I_98029 = Res_98077;
Res_97998 = Analyseobjectwithtypefieldaux_97992((*T_97994).Sons->data[I_98029], Marker_97996);
if (!(Res_97998 == ((NU8) 2))) goto LA14;
Result_97997 = ((NU8) 2);
goto BeforeRet;
LA14: ;
if (!(Res_97998 == ((NU8) 1))) goto LA17;
Result_97997 = ((NU8) 1);
LA17: ;
Res_98077 += 1;
} LA12: ;
if (!(Result_97997 == ((NU8) 0))) goto LA20;
LOC23 = Isobjectwithtypefieldpredicate_97935(T_97994);
if (!LOC23) goto LA24;
Result_97997 = ((NU8) 1);
LA24: ;
LA20: ;
break;
case ((NU8) 11):
case ((NU8) 13):
LOC26 = 0;
LOC26 = Lastson_55813(T_97994);
Result_97997 = Analyseobjectwithtypefieldaux_97992(LOC26, Marker_97996);
break;
case ((NU8) 16):
case ((NU8) 4):
case ((NU8) 18):
I_98065 = 0;
HEX3Atmp_98078 = 0;
LOC27 = Sonslen_55807(T_97994);
HEX3Atmp_98078 = (NI64)(LOC27 - 1);
Res_98080 = 0;
Res_98080 = 0;
while (1) {
if (!(Res_98080 <= HEX3Atmp_98078)) goto LA28;
I_98065 = Res_98080;
Res_97998 = Analyseobjectwithtypefieldaux_97992((*T_97994).Sons->data[I_98065], Marker_97996);
if (!!((Res_97998 == ((NU8) 0)))) goto LA30;
Result_97997 = ((NU8) 2);
goto BeforeRet;
LA30: ;
Res_98080 += 1;
} LA28: ;
break;
default:
break;
}
BeforeRet: ;
return Result_97997;
}
N_NIMCALL(NU8, Analyseobjectwithtypefield_97133)(TY55552* T_97135) {
NU8 Result_98084;
TY55901 Marker_98085;
Result_98084 = 0;
memset((void*)&Marker_98085, 0, sizeof(Marker_98085));
Intsetinit_55925(&Marker_98085);
Result_98084 = Analyseobjectwithtypefieldaux_97992(T_97135, &Marker_98085);
return Result_98084;
}
N_NIMCALL(NIM_BOOL, Ispureobject_97118)(TY55552* Typ_97120) {
NIM_BOOL Result_97224;
TY55552* T_97225;
NIM_BOOL LOC2;
Result_97224 = 0;
T_97225 = 0;
T_97225 = Typ_97120;
while (1) {
if (!!(((*T_97225).Sons->data[0] == NIM_NIL))) goto LA1;
T_97225 = (*T_97225).Sons->data[0];
} LA1: ;
LOC2 = !(((*T_97225).Sym == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC2 = (((*(*T_97225).Sym).Flags &(1<<((((NU8) 11))&31)))!=0);
LA3: ;
Result_97224 = LOC2;
return Result_97224;
}
N_NOINLINE(void, typesInit)(void) {
}

