/* Generated by Nimrod Compiler v0.8.11 */
/*   (c) 2011 Andreas Rumpf */

typedef long long int NI;
typedef unsigned long long int NU;
#include "nimbase.h"

typedef struct TY104006 TY104006;
typedef struct TY104002 TY104002;
typedef struct TY54547 TY54547;
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct TY92031 TY92031;
typedef struct TY54525 TY54525;
typedef struct TY106012 TY106012;
typedef struct TNimObject TNimObject;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct TY106006 TY106006;
typedef struct TY59104 TY59104;
typedef struct TY59106 TY59106;
typedef struct TY54529 TY54529;
typedef struct TY54527 TY54527;
typedef struct TY54900 TY54900;
typedef struct TY54896 TY54896;
typedef struct TY54898 TY54898;
typedef struct TY42019 TY42019;
typedef struct TY42013 TY42013;
typedef struct TY46536 TY46536;
typedef struct TY53005 TY53005;
typedef struct TY54551 TY54551;
typedef struct TY53011 TY53011;
typedef struct TY54539 TY54539;
typedef struct TY51008 TY51008;
typedef struct TY54543 TY54543;
typedef struct TY54519 TY54519;
typedef struct TY54549 TY54549;
typedef struct TY107004 TY107004;
typedef struct TY59089 TY59089;
typedef struct TY10402 TY10402;
typedef struct TY10414 TY10414;
typedef struct TY10790 TY10790;
typedef struct TY10418 TY10418;
typedef struct TY10410 TY10410;
typedef struct TY10788 TY10788;
typedef struct TY114006 TY114006;
typedef struct TY114004 TY114004;
typedef struct TY54569 TY54569;
typedef struct TY54567 TY54567;
typedef struct TY54565 TY54565;
typedef struct TY126030 TY126030;
typedef struct TY54563 TY54563;
typedef struct TY54561 TY54561;
typedef struct TY54559 TY54559;
typedef struct TY125684 TY125684;
typedef struct TY106002 TY106002;
typedef struct TY38221 TY38221;
typedef struct TY92029 TY92029;
typedef struct TY59220 TY59220;
typedef struct TY59218 TY59218;
typedef struct TY59216 TY59216;
struct TGenericSeq {
NI len;
NI space;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
typedef N_NIMCALL_PTR(TY104002*, TY104007) (TY54547* Module_104008, NimStringDesc* Filename_104009);
typedef N_NIMCALL_PTR(TY104002*, TY104012) (TY54547* Module_104013, NimStringDesc* Filename_104014, TY92031* Rd_104015);
typedef N_NIMCALL_PTR(TY54525*, TY104018) (TY104002* P_104019, TY54525* N_104020);
typedef N_NIMCALL_PTR(TY54525*, TY104023) (TY104002* P_104024, TY54525* Toplevelstmt_104025);
struct TY104006 {
TY104007 Open;
TY104012 Opencached;
TY104018 Close;
TY104023 Process;
};
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TNimObject {
TNimType* m_type;
};
struct TY104002 {
  TNimObject Sup;
};
struct TY54529 {
TNimType* m_type;
NI Counter;
TY54527* Data;
};
struct TY59104 {
NI Tos;
TY59106* Stack;
};
struct TY54900 {
NI Counter;
NI Max;
TY54896* Head;
TY54898* Data;
};
struct TY42019 {
TNimType* m_type;
TY42013* Head;
TY42013* Tail;
NI Counter;
};
typedef N_NIMCALL_PTR(TY54525*, TY106032) (TY106012* C_106033, TY54525* N_106034);
typedef N_NIMCALL_PTR(TY54525*, TY106037) (TY106012* C_106038, TY54525* N_106039);
struct TY106012 {
  TY104002 Sup;
TY54547* Module;
TY106006* P;
NI Instcounter;
TY54525* Generics;
NI Lastgenericidx;
TY59104 Tab;
TY54900 Ambiguoussymbols;
TY54527* Converters;
TY42019 Optionstack;
TY42019 Libs;
NIM_BOOL Fromcache;
TY106032 Semconstexpr;
TY106037 Semexpr;
TY54900 Includedfiles;
NimStringDesc* Filename;
TY54529 Userpragmas;
};
struct TY46536 {
NI16 Line;
NI16 Col;
int Fileindex;
};
struct TY53005 {
  TNimObject Sup;
NI Id;
};
struct TY54539 {
NU8 K;
NU8 S;
NU8 Flags;
TY54551* T;
TY51008* R;
NI A;
};
struct TY54547 {
  TY53005 Sup;
NU8 Kind;
NU8 Magic;
TY54551* Typ;
TY53011* Name;
TY46536 Info;
TY54547* Owner;
NU32 Flags;
TY54529 Tab;
TY54525* Ast;
NU32 Options;
NI Position;
NI Offset;
TY54539 Loc;
TY54543* Annex;
};
struct TY54525 {
TY54551* Typ;
NimStringDesc* Comment;
TY46536 Info;
NU8 Flags;
NU8 Kind;
union {
struct {NI64 Intval;
} S1;
struct {NF64 Floatval;
} S2;
struct {NimStringDesc* Strval;
} S3;
struct {TY54547* Sym;
} S4;
struct {TY53011* Ident;
} S5;
struct {TY54519* Sons;
} S6;
} KindU;
};
struct TY54551 {
  TY53005 Sup;
NU8 Kind;
TY54549* Sons;
TY54525* N;
NU8 Flags;
NU8 Callconv;
TY54547* Owner;
TY54547* Sym;
NI64 Size;
NI Align;
NI Containerid;
TY54539 Loc;
};
struct TY53011 {
  TY53005 Sup;
NimStringDesc* S;
TY53011* Next;
NI H;
};
struct TY59089 {
NI H;
TY53011* Name;
};
struct TY107004 {
NI Stackptr;
TY59089 It;
TY54547* M;
NU8 Mode;
};
struct TY10402 {
NI Refcount;
TNimType* Typ;
};
struct TY10418 {
NI Len;
NI Cap;
TY10402** D;
};
struct TY10414 {
NI Counter;
NI Max;
TY10410* Head;
TY10410** Data;
};
struct TY10788 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY10790 {
TY10418 Zct;
TY10418 Decstack;
TY10414 Cycleroots;
TY10418 Tempstack;
TY10788 Stat;
};
struct TY54565 {
TY53005* Key;
TY54525* Val;
};
struct TY54569 {
NI Counter;
TY54567* Data;
};
struct TY114004 {
TY54569 Mapping;
TY54547* Prc;
TY54525* Call;
TY114004* Next;
TY54519* Params;
};
typedef NU8 TY179021[16];
struct TY54559 {
TY53005* Key;
TNimObject* Val;
};
struct TY54563 {
NI Counter;
TY54561* Data;
};
struct TY126030 {
NI Exactmatches;
NI Subtypematches;
NI Intconvmatches;
NI Convmatches;
NI Genericmatches;
NU8 State;
TY54551* Callee;
TY54547* Calleesym;
TY54525* Call;
TY54563 Bindings;
NIM_BOOL Basetypematch;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
typedef N_NIMCALL_PTR(NIM_BOOL, TY96025) (TY54551* T_96030, TNimObject* Closure_96031);
struct TY125684 {
TY106012* C;
TY54563 Typemap;
TY54563 Symmap;
TY46536 Info;
};
typedef NimStringDesc* TY72026[3];
struct TY42013 {
  TNimObject Sup;
TY42013* Prev;
TY42013* Next;
};
struct TY106002 {
  TY42013 Sup;
NU32 Options;
NU8 Defaultcc;
TY54543* Dynlib;
NU32 Notes;
};
typedef NimStringDesc* TY46866[1];
typedef NU8 TY121007[28];
struct TY106006 {
TY54547* Owner;
TY54547* Resultsym;
NI Nestedloopcounter;
NI Nestedblockcounter;
};
typedef NU8 TY133898[29];
typedef N_NIMCALL_PTR(TY54525*, TY104048) (NimStringDesc* Filename_104049);
typedef NimStringDesc* TY114148[2];
typedef NimStringDesc* TY132440[2];
struct TY59216 {
NI Key;
NI Val;
};
struct TY59220 {
NI Counter;
TY59218* Data;
};
struct TY92029 {
NI Lastidxkey;
NI Lastidxval;
TY59220 Tab;
TY51008* R;
NI Offset;
};
struct TY92031 {
  TNimObject Sup;
NI Pos;
NimStringDesc* S;
NU32 Options;
NU8 Reason;
TY38221* Moddeps;
TY38221* Files;
NI Dataidx;
NI Convertersidx;
NI Initidx;
NI Interfidx;
NI Compilerprocsidx;
NI Cgenidx;
NimStringDesc* Filename;
TY92029 Index;
TY92029 Imports;
NI Readerindex;
NI Line;
NI Moduleid;
TY54563 Syms;
};
typedef NI TY8414[8];
struct TY54896 {
TY54896* Next;
NI Key;
TY8414 Bits;
};
struct TY51008 {
  TNimObject Sup;
TY51008* Left;
TY51008* Right;
NI Length;
NimStringDesc* Data;
};
struct TY54543 {
  TY42013 Sup;
NU8 Kind;
NIM_BOOL Generated;
TY51008* Name;
TY54525* Path;
};
struct TY10410 {
TY10410* Next;
NI Key;
TY8414 Bits;
};
struct TY114006 {
  TY104002 Sup;
TY54547* Module;
TY114004* Tos;
TY54525* Lastexception;
NIM_BOOL Opteval;
};
struct TY54527 {
  TGenericSeq Sup;
  TY54547* data[SEQ_DECL_SIZE];
};
struct TY59106 {
  TGenericSeq Sup;
  TY54529 data[SEQ_DECL_SIZE];
};
struct TY54898 {
  TGenericSeq Sup;
  TY54896* data[SEQ_DECL_SIZE];
};
struct TY54519 {
  TGenericSeq Sup;
  TY54525* data[SEQ_DECL_SIZE];
};
struct TY54549 {
  TGenericSeq Sup;
  TY54551* data[SEQ_DECL_SIZE];
};
struct TY54567 {
  TGenericSeq Sup;
  TY54565 data[SEQ_DECL_SIZE];
};
struct TY54561 {
  TGenericSeq Sup;
  TY54559 data[SEQ_DECL_SIZE];
};
struct TY38221 {
  TGenericSeq Sup;
  NimStringDesc* data[SEQ_DECL_SIZE];
};
struct TY59218 {
  TGenericSeq Sup;
  TY59216 data[SEQ_DECL_SIZE];
};
N_NIMCALL(void, Initpass_104031)(TY104006* P_104034);
N_NIMCALL(TY104002*, Myopen_145274)(TY54547* Module_145276, NimStringDesc* Filename_145277);
N_NIMCALL(TY106012*, Newcontext_106046)(TY54547* Module_106048, NimStringDesc* Nimfile_106049);
N_NIMCALL(void, Internalerror_46571)(TY46536 Info_46573, NimStringDesc* Errmsg_46574);
N_NIMCALL(TY54525*, Semconstexpr_124171)(TY106012* C_124173, TY54525* N_124174);
N_NIMCALL(TY54525*, Semexprwithtype_124122)(TY106012* C_124124, TY54525* N_124125, NU8 Flags_124128);
N_NIMCALL(TY54525*, Semexpr_124115)(TY106012* C_124117, TY54525* N_124118, NU8 Flags_124121);
N_NIMCALL(TY54547*, Lookup_107049)(TY106012* C_107051, TY54525* N_107052);
N_NIMCALL(TY54525*, Semsym_131956)(TY106012* C_131958, TY54525* N_131959, TY54547* S_131960, NU8 Flags_131961);
N_NIMCALL(void, Limessage_46566)(TY46536 Info_46568, NU8 Msg_46569, NimStringDesc* Arg_46570);
N_NIMCALL(TY54547*, Getmodule_59203)(TY54547* S_59205);
N_NIMCALL(TY54525*, Symchoice_124549)(TY106012* C_124551, TY54525* N_124552, TY54547* S_124553);
N_NIMCALL(TY54547*, Initoverloaditer_107058)(TY107004* O_107061, TY106012* C_107062, TY54525* N_107063);
N_NIMCALL(TY54547*, Nextoverloaditer_107064)(TY107004* O_107067, TY106012* C_107068, TY54525* N_107069);
N_NIMCALL(TY54525*, Newsymnode_54734)(TY54547* Sym_54736);
N_NIMCALL(void, Markused_124065)(TY54525* N_124067, TY54547* S_124068);
N_NIMCALL(TY54525*, Newnodeit_54741)(NU8 Kind_54743, TY46536 Info_54744, TY54551* Typ_54745);
N_NIMCALL(TY54551*, Newtypes_106077)(NU8 Kind_106079, TY106012* C_106080);
N_NIMCALL(void, Addson_54823)(TY54525* Father_54825, TY54525* Son_54826);
N_NIMCALL(TY54525*, Copytree_54858)(TY54525* Src_54860);
static N_INLINE(void, asgnRef)(void** Dest_12814, void* Src_12815);
static N_INLINE(void, Incref_12802)(TY10402* C_12804);
static N_INLINE(NI, Atomicinc_3001)(NI* Memloc_3004, NI X_3005);
static N_INLINE(NIM_BOOL, Canbecycleroot_11216)(TY10402* C_11218);
static N_INLINE(void, Rtladdcycleroot_11852)(TY10402* C_11854);
N_NOINLINE(void, Incl_10674)(TY10414* S_10677, TY10402* Cell_10678);
static N_INLINE(TY10402*, Usrtocell_11212)(void* Usr_11214);
static N_INLINE(void, Decref_12601)(TY10402* C_12603);
static N_INLINE(NI, Atomicdec_3006)(NI* Memloc_3009, NI X_3010);
static N_INLINE(void, Rtladdzct_12201)(TY10402* C_12203);
N_NOINLINE(void, Addzct_11201)(TY10418* S_11204, TY10402* C_11205);
N_NIMCALL(TY54525*, Semmacroexpr_125073)(TY106012* C_125075, TY54525* N_125076, TY54547* Sym_125077, NIM_BOOL Semcheck_125078);
N_NIMCALL(TY114006*, Newevalcontext_114033)(TY54547* Module_114035, NimStringDesc* Filename_114036, NIM_BOOL Opteval_114037);
N_NIMCALL(TY114004*, Newstackframe_114024)(void);
static N_INLINE(void, asgnRefNoCycle)(void** Dest_12818, void* Src_12819);
N_NIMCALL(TGenericSeq*, setLengthSeq)(TGenericSeq* Seq_18603, NI Elemsize_18604, NI Newlen_18605);
N_NIMCALL(void, Pushstackframe_114026)(TY114006* C_114028, TY114004* T_114029);
N_NIMCALL(TY54525*, Eval_114038)(TY114006* C_114040, TY54525* N_114041);
N_NIMCALL(void, Popstackframe_114030)(TY114006* C_114032);
N_NIMCALL(NIM_BOOL, Cyclictree_95043)(TY54525* N_95045);
N_NIMCALL(TY54525*, Semaftermacrocall_124246)(TY106012* C_124248, TY54525* N_124249, TY54547* S_124250);
N_NIMCALL(TY54525*, Semstmt_124143)(TY106012* C_124145, TY54525* N_124146);
N_NIMCALL(TY54525*, Semasgn_140591)(TY106012* C_140593, TY54525* N_140594);
N_NIMCALL(void, Checksonslen_106099)(TY54525* N_106101, NI Length_106102);
N_NIMCALL(TY54525*, Builtinfieldaccess_135161)(TY106012* C_135163, TY54525* N_135164, NU8 Flags_135165);
N_NIMCALL(TY54547*, Qualifiedlookup_107053)(TY106012* C_107055, TY54525* N_107056, NIM_BOOL Ambiguouscheck_107057);
N_NIMCALL(TY53011*, Consideracc_124003)(TY54525* N_124005);
N_NIMCALL(NimStringDesc*, Rendertree_84042)(TY54525* N_84044, NU8 Renderflags_84047);
N_NIMCALL(TY54547*, Getsymfromlist_59194)(TY54525* List_59196, TY53011* Ident_59197, NI Start_59198);
N_NIMCALL(NIM_BOOL, Istypeexpr_134865)(TY54525* N_134867);
N_NIMCALL(TY54551*, Skiptypes_96087)(TY54551* T_96089, NU64 Kinds_96090);
N_NIMCALL(TY54547*, Lookupinrecordandbuildcheck_134890)(TY106012* C_134892, TY54525* N_134893, TY54525* R_134894, TY53011* Field_134895, TY54525** Check_134897);
static N_INLINE(NI, Sonslen_54803)(TY54525* N_54805);
N_NIMCALL(void, Checkminsonslen_106103)(TY54525* N_106105, NI Length_106106);
N_NIMCALL(void, Illformedast_106092)(TY54525* N_106094);
N_NIMCALL(TY54525*, Newnodei_54737)(NU8 Kind_54739, TY46536 Info_54740);
static N_INLINE(TY54525*, Lastson_54809)(TY54525* N_54811);
N_NIMCALL(void, unsureAsgnRef)(void** Dest_12826, void* Src_12827);
N_NIMCALL(TY54525*, Newidentnode_54730)(TY53011* Ident_54732, TY46536 Info_54733);
N_NIMCALL(TY53011*, Getident_53016)(NimStringDesc* Identifier_53018);
N_NIMCALL(TY54525*, Makederef_135132)(TY54525* N_135134);
N_NIMCALL(TY54525*, Propertywriteaccess_140571)(TY106012* C_140573, TY54525* N_140574, TY54525* A_140575);
static N_INLINE(TY54525*, HEX5BHEX5D_56051)(TY54525* N_56053, NI I_56054);
static N_INLINE(void, appendString)(NimStringDesc* Dest_18392, NimStringDesc* Src_18393);
static N_INLINE(void, appendChar)(NimStringDesc* Dest_18409, NIM_CHAR C_18410);
N_NIMCALL(NimStringDesc*, rawNewString)(NI Space_18287);
N_NIMCALL(TY54525*, Semdirectcallanalyseeffects_134063)(TY106012* C_134065, TY54525* N_134066, NU8 Flags_134067);
N_NIMCALL(TY54525*, Semdirectcall_128680)(TY106012* C_128682, TY54525* N_128683, NU32 Filter_128684);
N_NIMCALL(TY54525*, Semdirectcallwithbinding_128535)(TY106012* C_128537, TY54525* N_128538, TY54525* F_128539, NU32 Filter_128540, TY54525* Initialbinding_128541);
N_NIMCALL(void, Initcandidate_126064)(TY126030* C_126067, TY54547* Callee_126068, TY54525* Binding_126069);
static N_INLINE(void, Initcandidateaux_126053)(TY126030* C_126056, TY54551* Callee_126057);
N_NIMCALL(void, Initidtable_54754)(TY54563* X_54757);
N_NIMCALL(void, Idtableput_59171)(TY54563* T_59174, TY53005* Key_59175, TNimObject* Val_59176);
N_NIMCALL(void, Matches_127903)(TY106012* C_127905, TY54525* N_127906, TY126030* M_127908);
N_NIMCALL(TY54551*, Base_96021)(TY54551* T_96023);
N_NIMCALL(void, Intsetinit_54924)(TY54900* S_54927);
N_NIMCALL(NIM_BOOL, Intsetcontainsorincl_54928)(TY54900* S_54931, NI Key_54932);
N_NIMCALL(TY54525*, Paramtypesmatch_127664)(TY106012* C_127666, TY126030* M_127668, TY54551* F_127669, TY54551* A_127670, TY54525* Arg_127671);
N_NIMCALL(TY54525*, Paramtypesmatchaux_127518)(TY106012* C_127520, TY126030* M_127522, TY54551* F_127523, TY54551* A_127524, TY54525* Arg_127525);
N_NIMCALL(NU8, Typerel_126303)(TY54563* Mapping_126306, TY54551* F_126307, TY54551* A_126308);
static N_INLINE(TY54551*, Lastson_54812)(TY54551* N_54814);
static N_INLINE(NI, Sonslen_54806)(TY54551* N_54808);
N_NIMCALL(NU8, Handlerange_126334)(TY54551* F_126336, TY54551* A_126337, NU8 Min_126338, NU8 Max_126339);
N_NIMCALL(NU8, Handlefloatrange_126400)(TY54551* F_126402, TY54551* A_126403);
N_NIMCALL(NU8, Minrel_126473)(NU8 A_126475, NU8 B_126476);
N_NIMCALL(NI64, Lengthord_96007)(TY54551* T_96009);
N_NIMCALL(NIM_BOOL, Isordinaltype_96069)(TY54551* T_96071);
N_NIMCALL(void, Internalerror_46575)(NimStringDesc* Errmsg_46577);
N_NIMCALL(NU8, Tuplerel_126487)(TY54563* Mapping_126490, TY54551* F_126491, TY54551* A_126492);
N_NIMCALL(NIM_BOOL, Isobjectsubtype_126443)(TY54551* A_126445, TY54551* F_126446);
N_NIMCALL(NI64, Firstord_96001)(TY54551* T_96003);
N_NIMCALL(TNimObject*, Idtableget_59163)(TY54563 T_59165, TY53005* Key_59166);
N_NIMCALL(TY54551*, Concretetype_126309)(TY54563 Mapping_126311, TY54551* T_126312);
N_NIMCALL(TY54551*, Newtype_54706)(NU8 Kind_54708, TY54547* Owner_54709);
N_NIMCALL(void, Addson_54827)(TY54551* Father_54829, TY54551* Son_54830);
N_NIMCALL(NimStringDesc*, reprEnum)(NI E_19355, TNimType* Typ_19356);
N_NIMCALL(TY54525*, Implicitconv_127437)(NU8 Kind_127439, TY54551* F_127440, TY54525* Arg_127441, TY126030* M_127442, TY106012* C_127443);
N_NIMCALL(NIM_BOOL, Containsgenerictype_125203)(TY54551* T_125205);
N_NIMCALL(NIM_BOOL, Iterovertype_96038)(TY54551* T_96040, TY96025 Iter_96041, TNimObject* Closure_96042);
N_NIMCALL(NIM_BOOL, Containsgenerictypeiter_125187)(TY54551* T_125189, TNimObject* Closure_125190);
N_NIMCALL(TY54551*, Getinstantiatedtype_127408)(TY106012* C_127410, TY54525* Arg_127411, TY126030* M_127412, TY54551* F_127413);
N_NIMCALL(TY54551*, Generatetypeinstance_125978)(TY106012* P_125980, TY54563 Pt_125981, TY54525* Arg_125982, TY54551* T_125983);
N_NIMCALL(void, Copyidtable_54798)(TY54563* Dest_54801, TY54563 Src_54802);
N_NIMCALL(void, Pushinfocontext_46610)(TY46536 Info_46612);
N_NIMCALL(TY54551*, Replacetypevarst_125689)(TY125684* Cl_125692, TY54551* T_125693);
N_NIMCALL(TY54551*, Lookuptypevar_125834)(TY125684* Cl_125836, TY54551* T_125837);
N_NIMCALL(NimStringDesc*, Typetostring_96014)(TY54551* Typ_96016, NU8 Prefer_96017);
N_NIMCALL(TY54551*, Copytype_54770)(TY54551* T_54772, TY54547* Owner_54773, NIM_BOOL Keepid_54774);
N_NIMCALL(TY54551*, Searchinsttypes_125138)(TY54563 Tab_125140, TY54551* Key_125141);
N_NIMCALL(NIM_BOOL, Sametype_96048)(TY54551* X_96050, TY54551* Y_96051);
N_NIMCALL(TY54525*, Replacetypevarsn_125699)(TY125684* Cl_125702, TY54525* N_125703);
N_NIMCALL(TY54525*, Copynode_54855)(TY54525* Src_54857);
N_NIMCALL(TY54547*, Replacetypevarss_125694)(TY125684* Cl_125697, TY54547* S_125698);
N_NIMCALL(TY54547*, Copysym_54775)(TY54547* S_54777, NIM_BOOL Keepid_54778);
N_NIMCALL(void, Newsons_54815)(TY54525* Father_54817, NI Length_54818);
N_NIMCALL(void, Checkconstructedtype_125639)(TY46536 Info_125641, TY54551* T_125642);
N_NIMCALL(NI64, Computesize_96112)(TY54551* Typ_96114);
N_NIMCALL(void, Popinfocontext_46613)(void);
N_NIMCALL(TY54525*, Userconvmatch_127456)(TY106012* C_127458, TY126030* M_127460, TY54551* F_127461, TY54551* A_127462, TY54525* Arg_127463);
N_NIMCALL(void, Initcandidate_126058)(TY126030* C_126061, TY54551* Callee_126062);
N_NIMCALL(void, Copycandidate_126107)(TY126030* A_126110, TY126030* B_126111);
N_NIMCALL(void, genericAssign)(void* Dest_19165, void* Src_19166, TNimType* Mt_19167);
N_NIMCALL(NI, Cmpcandidates_126113)(TY126030* A_126115, TY126030* B_126116);
N_NIMCALL(void, Setson_127860)(TY54525* Father_127862, NI At_127863, TY54525* Son_127864);
N_NIMCALL(TY54551*, Getsystype_101008)(NU8 Kind_101010);
N_NIMCALL(NIM_BOOL, Samemethoddispatcher_128459)(TY54547* A_128461, TY54547* B_128462);
N_NIMCALL(NimStringDesc*, nsuFormatOpenArray)(NimStringDesc* Formatstr_23943, NimStringDesc** A_23945, NI A_23945Len0);
N_NIMCALL(NimStringDesc*, Msgkindtostring_46592)(NU8 Kind_46594);
N_NIMCALL(NimStringDesc*, Getprocheader_96018)(TY54547* Sym_96020);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* Src_18308);
N_NIMCALL(TY54547*, Generateinstance_125132)(TY106012* C_125134, TY54547* Fn_125135, TY54563 Pt_125136, TY46536 Info_125137);
N_NIMCALL(TY54547*, Getcurrowner_106107)(void);
N_NIMCALL(void, Pushowner_106109)(TY54547* Owner_106111);
N_NIMCALL(void, Openscope_59146)(TY59104* Tab_59149);
N_NIMCALL(void, Instantiategenericparamlist_125207)(TY106012* C_125209, TY54525* N_125210, TY54563 Pt_125211);
N_NIMCALL(TY54547*, Newsym_54701)(NU8 Symkind_54703, TY53011* Name_54704, TY54547* Owner_54705);
N_NIMCALL(void, Adddecl_107026)(TY106012* C_107028, TY54547* Sym_107029);
N_NIMCALL(void, Semparamlist_124147)(TY106012* C_124149, TY54525* N_124150, TY54525* Genericparams_124151, TY54547* S_124152);
N_NIMCALL(TY54551*, Semproctypenode_131319)(TY106012* C_131321, TY54525* N_131322, TY54525* Genericparams_131323, TY54551* Prev_131324);
N_NIMCALL(TY54551*, Neworprevtype_128829)(NU8 Kind_128831, TY54551* Prev_128832, TY106012* C_128833);
N_NIMCALL(TY106002*, Lastoptionentry_106053)(TY106012* C_106055);
N_NIMCALL(TY54551*, Paramtype_131298)(TY106012* C_131300, TY54525* N_131301, TY54525* Genericparams_131302, TY54900* Cl_131304);
N_NIMCALL(TY54551*, Semtypenode_124138)(TY106012* C_124140, TY54525* N_124141, TY54551* Prev_124142);
N_NIMCALL(TY54547*, Semtypeident_129606)(TY106012* C_129608, TY54525* N_129609);
N_NIMCALL(TY54551*, Semarray_129455)(TY106012* C_129457, TY54525* N_129458, TY54551* Prev_129459);
N_NIMCALL(TY54551*, Semrangeaux_129303)(TY106012* C_129305, TY54525* N_129306, TY54551* Prev_129307);
N_NIMCALL(NIM_BOOL, Enumhaswholes_96072)(TY54551* T_96074);
N_NIMCALL(NIM_BOOL, Levalue_54870)(TY54525* A_54872, TY54525* B_54873);
N_NIMCALL(TY54551*, Semcontainer_129207)(TY106012* C_129209, TY54525* N_129210, NU8 Kind_129211, NimStringDesc* Kindstr_129212, TY54551* Prev_129213);
N_NIMCALL(TY54551*, Semrange_129402)(TY106012* C_129404, TY54525* N_129405, TY54551* Prev_129406);
N_NIMCALL(TY54551*, Semset_129166)(TY106012* C_129168, TY54525* N_129169, TY54551* Prev_129170);
N_NIMCALL(TY54551*, Semordinal_129564)(TY106012* C_129566, TY54525* N_129567, TY54551* Prev_129568);
N_NIMCALL(TY54551*, Semgeneric_129788)(TY106012* C_129790, TY54525* N_129791, TY54547* S_129792, TY54551* Prev_129793);
N_NIMCALL(TY54551*, Instgenericcontainer_124166)(TY106012* C_124168, TY54525* N_124169, TY54551* Header_124170);
N_NIMCALL(void, Assigntype_54779)(TY54551* Dest_54781, TY54551* Src_54782);
N_NIMCALL(TY54551*, Semobjectnode_131087)(TY106012* C_131089, TY54525* N_131090, TY54551* Prev_131091);
N_NIMCALL(void, Addinheritedfields_131066)(TY106012* C_131068, TY54900* Check_131070, NI* Pos_131072, TY54551* Obj_131073);
N_NIMCALL(void, Addinheritedfieldsaux_130949)(TY106012* C_130951, TY54900* Check_130953, NI* Pos_130955, TY54525* N_130956);
N_NIMCALL(void, Intsetincl_54914)(TY54900* S_54917, NI Key_54918);
N_NIMCALL(void, Semrecordnodeaux_130319)(TY106012* C_130321, TY54525* N_130322, TY54900* Check_130324, NI* Pos_130326, TY54525* Father_130327, TY54547* Rectype_130328);
N_NIMCALL(void, Checkbool_128779)(TY54525* T_128781);
N_NIMCALL(void, Semrecordcase_130329)(TY106012* C_130331, TY54525* N_130332, TY54900* Check_130334, NI* Pos_130336, TY54525* Father_130337, TY54547* Rectype_130338);
N_NIMCALL(void, Semcasebranch_130170)(TY106012* C_130172, TY54525* T_130173, TY54525* Branch_130174, NI Branchindex_130175, NI64* Covered_130177);
N_NIMCALL(void, Sembranchexpr_130131)(TY106012* C_130133, TY54525* T_130134, TY54525** Ex_130136);
N_NIMCALL(NU8, Cmptypes_127400)(TY54551* F_127402, TY54551* A_127403);
N_NIMCALL(void, Typemismatch_128803)(TY54525* N_128805, TY54551* Formal_128806, TY54551* Actual_128807);
N_NIMCALL(NIM_BOOL, Emptyrange_103019)(TY54525* A_103021, TY54525* B_103022);
N_NIMCALL(NI64, Getordvalue_96109)(TY54525* N_96111);
N_NIMCALL(void, Checkforoverlap_130073)(TY106012* C_130075, TY54525* T_130076, TY54525* Ex_130077, NI Branchindex_130078);
N_NIMCALL(NIM_BOOL, Overlap_103006)(TY54525* A_103008, TY54525* B_103009);
N_NIMCALL(void, Delson_54835)(TY54525* Father_54837, NI Idx_54838);
N_NIMCALL(TY54547*, Semidentwithpragma_124098)(TY106012* C_124100, NU8 Kind_124101, TY54525* N_124102, NU32 Allowed_124103);
N_NIMCALL(TY54547*, Semidentvis_124092)(TY106012* C_124094, NU8 Kind_124095, TY54525* N_124096, NU32 Allowed_124097);
N_NIMCALL(TY54547*, Newsyms_124059)(NU8 Kind_124061, TY54525* N_124062, TY106012* C_124063);
N_NIMCALL(void, Pragma_121028)(TY106012* C_121030, TY54547* Sym_121031, TY54525* N_121032, TY121007 Validpragmas_121033);
N_NIMCALL(TY51008*, Torope_51046)(NimStringDesc* S_51048);
N_NIMCALL(TY54551*, Semtuple_129631)(TY106012* C_129633, TY54525* N_129634, TY54551* Prev_129635);
N_NIMCALL(TY54551*, Semanyref_129230)(TY106012* C_129232, TY54525* N_129233, NU8 Kind_129234, NimStringDesc* Kindstr_129235, TY54551* Prev_129236);
N_NIMCALL(TY54551*, Semvartype_129253)(TY106012* C_129255, TY54525* N_129256, TY54551* Prev_129257);
N_NIMCALL(TY54551*, Semdistinct_129283)(TY106012* C_129285, TY54525* N_129286, TY54551* Prev_129287);
N_NIMCALL(TY54551*, Semenum_128855)(TY106012* C_128857, TY54525* N_128858, TY54551* Prev_128859);
N_NIMCALL(NI64, Lastord_96004)(TY54551* T_96006);
N_NIMCALL(void, Strtableadd_59061)(TY54529* T_59064, TY54547* N_59065);
N_NIMCALL(void, Adddeclat_107030)(TY106012* C_107032, TY54547* Sym_107033, NI At_107034);
N_NIMCALL(TY54551*, Semstmtlisttype_131563)(TY106012* C_131565, TY54525* N_131566, TY54551* Prev_131567);
N_NIMCALL(TY54551*, Semblocktype_131628)(TY106012* C_131630, TY54525* N_131631, TY54551* Prev_131632);
N_NIMCALL(void, Closescope_107017)(TY59104* Tab_107020);
N_NIMCALL(TY54551*, Addtypevarsofgenericbody_131224)(TY106012* C_131226, TY54551* T_131227, TY54525* Genericparams_131228, TY54900* Cl_131230);
N_NIMCALL(TY54525*, Fitnode_124129)(TY106012* C_124131, TY54551* Formal_124132, TY54525* Arg_124133);
N_NIMCALL(TY54525*, Indextypesmatch_127850)(TY106012* C_127852, TY54551* F_127853, TY54551* A_127854, TY54525* Arg_127855);
N_NIMCALL(void, Addparams_124153)(TY106012* C_124155, TY54525* N_124156);
N_NIMCALL(TY54547*, Genericcacheget_125298)(TY106012* C_125300, TY54547* Genericsym_125301, TY54547* Instsym_125302);
N_NIMCALL(NU8, Equalparams_96065)(TY54525* A_96067, TY54525* B_96068);
N_NIMCALL(void, Genericcacheadd_125418)(TY106012* C_125420, TY54547* Genericsym_125421, TY54547* Instsym_125422);
N_NIMCALL(TY54525*, Newnode_54710)(NU8 Kind_54712);
N_NIMCALL(TY106006*, Newproccon_106050)(TY54547* Owner_106052);
N_NIMCALL(void, Addresult_124157)(TY106012* C_124159, TY54551* T_124160, TY46536 Info_124161);
N_NIMCALL(void, Addresultnode_124162)(TY106012* C_124164, TY54525* N_124165);
N_NIMCALL(TY54525*, Semstmtscope_124104)(TY106012* C_124106, TY54525* N_124107);
N_NIMCALL(void, Popowner_106112)(void);
N_NIMCALL(void, Fixabstracttype_133197)(TY106012* C_133199, TY54525* N_133200);
N_NIMCALL(TY54525*, Semarrayconstr_133035)(TY106012* C_133037, TY54525* N_133038);
N_NIMCALL(TY54551*, Makerangetype_106086)(TY106012* C_106088, NI64 First_106089, NI64 Last_106090, TY46536 Info_106091);
N_NIMCALL(TY54551*, Elemtype_96091)(TY54551* T_96093);
N_NIMCALL(void, Changetype_132821)(TY54525* N_132823, TY54551* Newtype_132824);
N_NIMCALL(void, Analyseifaddresstakenincall_133893)(TY106012* C_133895, TY54525* N_133896);
N_NIMCALL(NU8, Isassignable_133460)(TY54525* N_133462);
N_NIMCALL(TY54525*, Analyseifaddresstaken_133675)(TY106012* C_133677, TY54525* N_133678);
N_NIMCALL(TY54525*, Newhiddenaddrtaken_133640)(TY106012* C_133642, TY54525* N_133643);
N_NIMCALL(TY54551*, Makevartype_106073)(TY106012* C_106075, TY54551* Basetype_106076);
N_NIMCALL(TY54525*, Semsubscript_135721)(TY106012* C_135723, TY54525* N_135724, NU8 Flags_135725);
N_NIMCALL(TY54525*, Buildoverloadedsubscripts_135681)(TY54525* N_135683, NIM_BOOL Inasgn_135684);
N_NIMCALL(void, Add_55969)(TY54525* Father_55971, TY54525* Son_55972);
static N_INLINE(NI, Len_55923)(TY54525* N_55925);
N_NIMCALL(NimStringDesc*, resizeString)(NimStringDesc* Dest_18382, NI Addlen_18383);
N_NIMCALL(void, Addsliceopr_135643)(NimStringDesc** Result_135646, TY54525* N_135647);
N_NIMCALL(void, Addsonifnotnil_54831)(TY54525* Father_54833, TY54525* N_54834);
N_NIMCALL(TY54525*, Semexprnotype_139703)(TY106012* C_139705, TY54525* N_139706);
N_NIMCALL(TY54525*, Semcommand_144729)(TY106012* C_144731, TY54525* N_144732);
N_NIMCALL(TY54525*, Semblock_140153)(TY106012* C_140155, TY54525* N_140156);
N_NIMCALL(TY54525*, Semraise_142191)(TY106012* C_142193, TY54525* N_142194);
N_NIMCALL(TY54525*, Semvar_141296)(TY106012* C_141298, TY54525* N_141299);
N_NIMCALL(NIM_BOOL, Typeallowed_96136)(TY54551* T_96138, NU8 Kind_96139);
N_NIMCALL(void, Addinterfacedecl_107040)(TY106012* C_107042, TY54547* Sym_107043);
N_NIMCALL(TY54525*, Semconst_141594)(TY106012* C_141596, TY54525* N_141597);
N_NIMCALL(TY54525*, Semandevalconstexpr_124198)(TY106012* C_124200, TY54525* N_124201);
N_NIMCALL(TY54525*, Getconstexpr_112010)(TY54547* M_112012, TY54525* N_112013);
N_NIMCALL(TY54525*, Evalconstexpr_114042)(TY54547* Module_114044, TY54525* E_114045);
N_NIMCALL(TY54525*, Fitremovehiddenconv_141254)(TY106012* C_141256, TY54551* Typ_141257, TY54525* N_141258);
N_NIMCALL(TY54525*, Semtypesection_142694)(TY106012* C_142696, TY54525* N_142697);
N_NIMCALL(void, Processmagictype_131895)(TY106012* C_131897, TY54547* M_131898);
N_NIMCALL(void, Setmagictype_131890)(TY54547* M_131892, NU8 Kind_131893, NI Size_131894);
static N_INLINE(NI, Getid_54693)(void);
N_NIMCALL(TY54525*, Semgenericparamlist_142469)(TY106012* C_142471, TY54525* N_142472, TY54551* Father_142473);
N_NIMCALL(TY54525*, Semif_139858)(TY106012* C_139860, TY54525* N_139861);
N_NIMCALL(TY54525*, Semwhen_139728)(TY106012* C_139730, TY54525* N_139731);
N_NIMCALL(void, Idsynchronizationpoint_54698)(NI Idrange_54700);
N_NIMCALL(TY54525*, Semdiscard_139983)(TY106012* C_139985, TY54525* N_139986);
N_NIMCALL(TY54525*, Semwhile_140276)(TY106012* C_140278, TY54525* N_140279);
N_NIMCALL(TY54525*, Semtry_142274)(TY106012* C_142276, TY54525* N_142277);
N_NIMCALL(TY54525*, Sembreakorcontinue_140035)(TY106012* C_140037, TY54525* N_140038);
N_NIMCALL(TY54525*, Semfor_141784)(TY106012* C_141786, TY54525* N_141787);
N_NIMCALL(TY54547*, Strtableget_59066)(TY54529* T_59068, TY53011* Name_59069);
N_NIMCALL(TY54525*, Semcase_140381)(TY106012* C_140383, TY54525* N_140384);
N_NIMCALL(NI64, Tocover_140367)(TY54551* T_140369);
N_NIMCALL(TY54525*, Semreturn_140907)(TY106012* C_140909, TY54525* N_140910);
N_NIMCALL(TY54525*, Semasm_140256)(TY106012* Con_140258, TY54525* N_140259);
N_NIMCALL(NIM_CHAR, Pragmaasm_121034)(TY106012* C_121036, TY54525* N_121037);
N_NIMCALL(TY54525*, Semasmoremit_122593)(TY106012* Con_122595, TY54525* N_122596, NIM_CHAR Marker_122597);
N_NIMCALL(TY54525*, Semyield_141123)(TY106012* C_141125, TY54525* N_141126);
N_NIMCALL(TY54525*, Semiterator_144424)(TY106012* C_144426, TY54525* N_144427);
N_NIMCALL(TY54525*, Semprocaux_143662)(TY106012* C_143664, TY54525* N_143665, NU8 Kind_143666, TY121007 Validpragmas_143667);
N_NIMCALL(TY54547*, Searchforproc_120004)(TY106012* C_120006, TY54547* Fn_120007, NI Tos_120008);
N_NIMCALL(void, Addinterfaceoverloadablesymat_107044)(TY106012* C_107046, TY54547* Sym_107047, NI At_107048);
N_NIMCALL(void, Addinterfacedeclat_107245)(TY106012* C_107247, TY54547* Sym_107248, NI At_107249);
N_NIMCALL(void, Addgenericparamlisttoscope_142639)(TY106012* C_142641, TY54525* N_142642);
N_NIMCALL(TY54525*, Semgenericstmtscope_138109)(TY106012* C_138111, TY54525* N_138112, NU8 Flags_138115);
N_NIMCALL(TY54525*, Semgenericstmt_138102)(TY106012* C_138104, TY54525* N_138105, NU8 Flags_138108);
N_NIMCALL(TY54525*, Semgenericstmtsymbol_138119)(TY106012* C_138121, TY54525* N_138122, TY54547* S_138123);
N_NIMCALL(TY54525*, Semtemplateexpr_131901)(TY106012* C_131903, TY54525* N_131904, TY54547* S_131905, NIM_BOOL Semcheck_131906);
N_NIMCALL(TY54525*, Evaltemplate_124504)(TY106012* C_124506, TY54525* N_124507, TY54547* Sym_124508);
N_NIMCALL(TY54525*, Evaltemplateargs_124424)(TY106012* C_124426, TY54525* N_124427, TY54547* S_124428);
N_NIMCALL(TY54525*, Evaltemplateaux_124337)(TY106012* C_124339, TY54525* Templ_124340, TY54525* Actual_124341, TY54547* Sym_124342);
N_NIMCALL(TY54525*, Semmacrostmt_137499)(TY106012* C_137501, TY54525* N_137502, NIM_BOOL Semcheck_137503);
N_NIMCALL(NIM_BOOL, Iscallexpr_137483)(TY54525* N_137485);
N_NIMCALL(TY54525*, Getidentnode_138145)(TY54525* N_138147);
N_NIMCALL(void, Semborrow_143368)(TY106012* C_143370, TY54525* N_143371, TY54547* S_143372);
N_NIMCALL(TY54547*, Searchforborrowproc_120009)(TY106012* C_120011, TY54547* Fn_120012, NI Tos_120013);
N_NIMCALL(void, Sideeffectscheck_143397)(TY106012* C_143399, TY54547* S_143400);
N_NIMCALL(TY54525*, Semproc_144489)(TY106012* C_144491, TY54525* N_144492);
N_NIMCALL(TY54525*, Semmethod_144494)(TY106012* C_144496, TY54525* N_144497);
N_NIMCALL(NIM_BOOL, Istoplevel_124053)(TY106012* C_124055);
N_NIMCALL(TY54525*, Semconverterdef_144543)(TY106012* C_144545, TY54525* N_144546);
N_NIMCALL(void, Addconverter_106058)(TY106012* C_106060, TY54547* Conv_106061);
N_NIMCALL(TY54525*, Semmacrodef_144610)(TY106012* C_144612, TY54525* N_144613);
N_NIMCALL(TY54525*, Semtemplatedef_124750)(TY106012* C_124752, TY54525* N_124753);
N_NIMCALL(TY54525*, Resolvetemplateparams_124598)(TY106012* C_124600, TY54525* N_124601, NIM_BOOL Withinbind_124602, TY54900* Tobind_124604);
N_NIMCALL(NIM_BOOL, Intsetcontains_54910)(TY54900* S_54912, NI Key_54913);
N_NIMCALL(TY54547*, Symtablocalget_59120)(TY59104 Tab_59122, TY53011* S_59123);
N_NIMCALL(TY54525*, Transformtoexpr_124709)(TY54525* N_124711);
N_NIMCALL(TY54525*, Evalimport_109001)(TY106012* C_109003, TY54525* N_109004);
N_NIMCALL(TY54525*, Evalfrom_109005)(TY106012* C_109007, TY54525* N_109008);
N_NIMCALL(TY54525*, Evalinclude_144700)(TY106012* C_144702, TY54525* N_144703);
N_NIMCALL(NimStringDesc*, Getmodulefile_109013)(TY54525* N_109015);
N_NIMCALL(NI, Includefilename_46615)(NimStringDesc* F_46617);
N_NIMCALL(void, Intsetexcl_54919)(TY54900* S_54922, NI Key_54923);
N_NIMCALL(TY54525*, Semfieldaccess_131908)(TY106012* C_131910, TY54525* N_131911, NU8 Flags_131914);
N_NIMCALL(TY54547*, Symtabget_59116)(TY59104 Tab_59118, TY53011* S_59119);
N_NIMCALL(TY54525*, Semconv_132211)(TY106012* C_132213, TY54525* N_132214, TY54547* S_132215);
N_NIMCALL(void, Checkconvertible_132062)(TY46536 Info_132064, TY54551* Castdest_132065, TY54551* Src_132066);
N_NIMCALL(void, Checkconversionbetweenobjects_132050)(TY46536 Info_132052, TY54551* Castdest_132053, TY54551* Src_132054);
N_NIMCALL(NI, Inheritancediff_96121)(TY54551* A_96123, TY54551* B_96124);
N_NIMCALL(NIM_BOOL, Equalordistinctof_96056)(TY54551* X_96058, TY54551* Y_96059);
N_NIMCALL(TY54525*, Semdirectop_134522)(TY106012* C_134524, TY54525* N_134525, NU8 Flags_134526);
N_NIMCALL(void, Semopaux_132665)(TY106012* C_132667, TY54525* N_132668);
N_NIMCALL(TY54525*, Overloadedcallopr_132784)(TY106012* C_132786, TY54525* N_132787);
N_NIMCALL(NimStringDesc*, Getnotfounderror_126179)(TY106012* C_126181, TY54525* N_126182);
N_NIMCALL(NimStringDesc*, addChar)(NimStringDesc* S_1603, NIM_CHAR C_1604);
N_NIMCALL(TY54525*, Semmagic_134858)(TY106012* C_134860, TY54525* N_134861, TY54547* S_134862, NU8 Flags_134863);
N_NIMCALL(TY54525*, Semdefined_134731)(TY106012* C_134733, TY54525* N_134734, NIM_BOOL Onlycurrentscope_134735);
N_NIMCALL(TY54525*, Newintnode_54713)(NU8 Kind_54715, NI64 Intval_54716);
N_NIMCALL(TY54547*, Lookupfordefined_134589)(TY106012* C_134591, TY54525* N_134592, NIM_BOOL Onlycurrentscope_134593);
N_NIMCALL(NIM_BOOL, Isdefined_63059)(TY53011* Symbol_63061);
N_NIMCALL(TY54525*, Setms_134829)(TY54525* N_134831, TY54547* S_134832);
N_NIMCALL(TY54525*, Semlowhigh_132433)(TY106012* C_132435, TY54525* N_132436, NU8 M_132437);
N_NIMCALL(TY54525*, Semsizeof_132508)(TY106012* C_132510, TY54525* N_132511);
N_NIMCALL(TY54525*, Semis_132540)(TY106012* C_132542, TY54525* N_132543);
N_NIMCALL(TY54525*, Semecho_134550)(TY106012* C_134552, TY54525* N_134553);
N_NIMCALL(TY54525*, Semindirectop_134208)(TY106012* C_134210, TY54525* N_134211, NU8 Flags_134212);
N_NIMCALL(TY54525*, Partialspecialization_125989)(TY106012* C_125991, TY54525* N_125992, TY54547* S_125993);
N_NIMCALL(TY54525*, Semarrayaccess_135991)(TY106012* C_135993, TY54525* N_135994, NU8 Flags_135995);
N_NIMCALL(NU8, Checkpar_136769)(TY54525* N_136771);
N_NIMCALL(TY54525*, Semtuplepositionsconstr_137255)(TY106012* C_137257, TY54525* N_137258);
N_NIMCALL(TY54525*, Semtuplefieldsconstr_136918)(TY106012* C_136920, TY54525* N_136921);
N_NIMCALL(TY54525*, Semsetconstr_136394)(TY106012* C_136396, TY54525* N_136397);
N_NIMCALL(TY54525*, Semlambda_124134)(TY106012* C_124136, TY54525* N_124137);
N_NIMCALL(TY54551*, Makeptrtype_106069)(TY106012* C_106071, TY54551* Basetype_106072);
N_NIMCALL(TY54525*, Semcast_132357)(TY106012* C_132359, TY54525* N_132360);
N_NIMCALL(NIM_BOOL, Iscastable_132174)(TY54551* Dst_132176, TY54551* Src_132177);
N_NIMCALL(TY54525*, Semifexpr_136201)(TY106012* C_136203, TY54525* N_136204);
N_NIMCALL(TY54525*, Semstmtlistexpr_137305)(TY106012* C_137307, TY54525* N_137308);
N_NIMCALL(TY54525*, Semblockexpr_137381)(TY106012* C_137383, TY54525* N_137384);
N_NIMCALL(TY54525*, Semexprnoflags_145267)(TY106012* C_145269, TY54525* N_145270);
N_NIMCALL(void, Symtabadd_59124)(TY59104* Tab_59127, TY54547* E_59128);
N_NIMCALL(void, Initsystem_101017)(TY59104* Tab_101020);
N_NIMCALL(void, Importallsymbols_109009)(TY106012* C_109011, TY54547* Frommod_109012);
N_NIMCALL(TY104002*, Myopencached_145307)(TY54547* Module_145309, NimStringDesc* Filename_145310, TY92031* Rd_145311);
N_NIMCALL(TY54525*, Myclose_145325)(TY104002* Context_145327, TY54525* N_145328);
N_NIMCALL(void, Rawclosescope_59150)(TY59104* Tab_59153);
N_NIMCALL(void, Addcodeforgenerics_145149)(TY106012* C_145151, TY54525* N_145152);
N_NIMCALL(TY54525*, Myprocess_145314)(TY104002* Context_145316, TY54525* N_145317);
NIM_CONST NU64 Constabstracttypes_131899 = IL64(1097364930612);
STRING_LITERAL(TMP193923, "sem.myOpen", 10);
STRING_LITERAL(TMP193925, "", 0);
NIM_CONST TY179021 Lastblockstmts_144739 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x80, 0x07, 0x00, 0x00, 0x00}
;
STRING_LITERAL(TMP194056, "in", 2);
STRING_LITERAL(TMP194057, "not", 3);
STRING_LITERAL(TMP194058, "forward type in typeRel()", 25);
STRING_LITERAL(TMP194059, "tupleRel", 8);
STRING_LITERAL(TMP194060, "typeRel: tyGenericInvokation -> tyGenericInvokation", 51);
STRING_LITERAL(TMP194061, "wrong instantiated type!", 24);
STRING_LITERAL(TMP194062, "lookup failed", 13);
STRING_LITERAL(TMP194063, "has constraints: ", 17);
STRING_LITERAL(TMP194064, "typeRel(", 8);
STRING_LITERAL(TMP194065, "substitution with generic parameter", 35);
STRING_LITERAL(TMP194066, "no generic body", 15);
STRING_LITERAL(TMP194068, "acyclic", 7);
STRING_LITERAL(TMP194069, "ReplaceTypeVarsT: tyGenericBody", 31);
STRING_LITERAL(TMP194070, "getInstantiatedType", 19);
STRING_LITERAL(TMP194071, "implicitConv", 12);
STRING_LITERAL(TMP194076, "x.state is not csMatch", 22);
STRING_LITERAL(TMP194077, "matches", 7);
STRING_LITERAL(TMP194079, "calleeSym.ast is nil", 20);
STRING_LITERAL(TMP194080, "nesting too deep", 16);
STRING_LITERAL(TMP194081, "generateInstance", 16);
STRING_LITERAL(TMP194082, "instantiateGenericParamList; no generic params", 46);
STRING_LITERAL(TMP194083, "instantiateGenericParamList; no symbol", 38);
STRING_LITERAL(TMP194084, "instantiateGenericParamList: ", 29);
STRING_LITERAL(TMP194085, "semRangeAux", 11);
STRING_LITERAL(TMP194086, "openarray", 9);
STRING_LITERAL(TMP194087, "range", 5);
STRING_LITERAL(TMP194088, "set", 3);
STRING_LITERAL(TMP194089, "ordinal", 7);
STRING_LITERAL(TMP194090, "seq", 3);
STRING_LITERAL(TMP194091, "semtypes.semGeneric", 19);
STRING_LITERAL(TMP194092, "addInheritedFieldsAux", 21);
STRING_LITERAL(TMP194093, "addInheritedFieldsAux(record case branch)", 41);
STRING_LITERAL(TMP194094, "addInheritedFieldsAux()", 23);
STRING_LITERAL(TMP194095, "semObjectNode", 13);
STRING_LITERAL(TMP194096, "semRecordNodeAux", 16);
STRING_LITERAL(TMP194097, "semRecordCase: dicriminant is no symbol", 39);
STRING_LITERAL(TMP194098, ") ", 2);
static NIM_CONST TY121007 TMP194104 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x70, 0x00, 0x00, 0x00, 0x20, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00}
;static NIM_CONST TY121007 TMP194105 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x70, 0x2D, 0x0C, 0x00, 0x20, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x20}
;static NIM_CONST TY121007 TMP194106 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x70, 0x21, 0x00, 0x00, 0x20, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP194107, "ref", 3);
STRING_LITERAL(TMP194108, "ptr", 3);
STRING_LITERAL(TMP194109, "var", 3);
STRING_LITERAL(TMP194110, "distinct", 8);
STRING_LITERAL(TMP194111, "dummy", 5);
static NIM_CONST TY121007 TMP194112 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x40, 0x00, 0x00, 0x40, 0xF8, 0x1F,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP194114, "addTypeVarsOfGenericBody", 24);
STRING_LITERAL(TMP194115, "addTypeVarsOfGenericBody 2", 26);
STRING_LITERAL(TMP194116, "addParams", 9);
STRING_LITERAL(TMP194117, "GenericCacheGet", 15);
STRING_LITERAL(TMP194119, "result", 6);
STRING_LITERAL(TMP194121, "semDirectCallAnalyseEffects", 27);
STRING_LITERAL(TMP194122, "changeType: no tuple type for constructor", 41);
STRING_LITERAL(TMP194123, "changeType: no tuple fields", 27);
STRING_LITERAL(TMP194124, "changeType(): invalid tuple constr", 34);
STRING_LITERAL(TMP194125, "changeType(): invalid identifier", 32);
STRING_LITERAL(TMP194126, "fixAbstractType: ", 17);
NIM_CONST TY133898 Fakevarparams_133897 = {
0x00, 0xEC, 0x30, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x1C, 0x16, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00}
;
static NIM_CONST TY133898 TMP194127 = {
0x00, 0xEC, 0x30, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x1C, 0x16, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP194129, "analyseIfAddressTaken", 21);
STRING_LITERAL(TMP194130, "[", 1);
STRING_LITERAL(TMP194131, ",", 1);
STRING_LITERAL(TMP194132, "..", 2);
STRING_LITERAL(TMP194133, "..$", 3);
STRING_LITERAL(TMP194134, "$..", 3);
STRING_LITERAL(TMP194135, "$..$", 4);
STRING_LITERAL(TMP194136, "]=", 2);
STRING_LITERAL(TMP194137, "]", 1);
STRING_LITERAL(TMP194143, "tuple", 5);
static NIM_CONST TY121007 TMP194160 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x72, 0x23, 0x08, 0x00, 0x20, 0x00, 0x00,
0x00, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x40, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP194161, "semTypeSection: containerID", 27);
STRING_LITERAL(TMP194162, "semGenericParamList", 19);
STRING_LITERAL(TMP194163, "semTypeSection()", 16);
STRING_LITERAL(TMP194164, "semWhen", 7);
STRING_LITERAL(TMP194165, "countup", 7);
STRING_LITERAL(TMP194166, "\'return\'", 8);
STRING_LITERAL(TMP194167, "semReturn", 9);
STRING_LITERAL(TMP194168, "semYield", 8);
static NIM_CONST TY121007 TMP194169 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x08, 0x02, 0xE0, 0xFD, 0x3D, 0x02, 0x80,
0xFF, 0x0D, 0x00, 0x05, 0xA0, 0x00, 0x00, 0x04,
0x04, 0x00, 0x00, 0x40}
;STRING_LITERAL(TMP194172, "addGenericParamListToScope", 26);
STRING_LITERAL(TMP194173, "semProcAux", 10);
static NIM_CONST TY121007 TMP194174 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x70, 0x51, 0x00, 0x00, 0x20, 0xF8, 0x1F,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x04, 0x00,
0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP194175, "iterator", 8);
static NIM_CONST TY121007 TMP194176 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x70, 0xF3, 0x1D, 0x00, 0x60, 0xF8, 0x1F,
0x00, 0x00, 0x00, 0x08, 0x00, 0x00, 0x04, 0x00,
0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP194177, "method", 6);
STRING_LITERAL(TMP194178, "converter", 9);
STRING_LITERAL(TMP194179, "macro", 5);
static NIM_CONST TY121007 TMP194180 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x80, 0x71, 0x41, 0x08, 0x00, 0x20, 0xF8, 0x1F,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP194181, "template", 8);
STRING_LITERAL(TMP194182, "import", 6);
STRING_LITERAL(TMP194188, "from", 4);
STRING_LITERAL(TMP194192, "include", 7);
STRING_LITERAL(TMP194193, "SemStmt: result = nil", 21);
STRING_LITERAL(TMP194194, "no default for", 14);
NIM_CONST NU64 Integraltypes_132067 = IL64(1097364160518);
STRING_LITERAL(TMP194195, "()", 2);
STRING_LITERAL(TMP194196, ": ", 2);
STRING_LITERAL(TMP194197, ", ", 2);
STRING_LITERAL(TMP194198, "\012", 1);
STRING_LITERAL(TMP194199, "low", 3);
STRING_LITERAL(TMP194200, "high", 4);
NIM_CONST TY132440 Optostr_132439 = {((NimStringDesc*) &TMP194199),
((NimStringDesc*) &TMP194200)}
;
extern NIM_CONST TY132440 Optostr_132439;
STRING_LITERAL(TMP194201, "sizeof", 6);
STRING_LITERAL(TMP194202, "$", 1);
STRING_LITERAL(TMP194203, ")\012", 2);
STRING_LITERAL(TMP194204, "semExpr() to implement", 22);
STRING_LITERAL(TMP194205, ":anonymous", 10);
static NIM_CONST TY121007 TMP194206 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x70, 0xF3, 0x04, 0x00, 0x20, 0xF8, 0x1F,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP194208, "semIfExpr", 9);
STRING_LITERAL(TMP194209, "semExprWithType", 15);
STRING_LITERAL(TMP194210, "n is not nil", 12);
STRING_LITERAL(TMP194211, "addCodeForGenerics", 18);
STRING_LITERAL(TMP194212, "no code for ", 12);
NI Evaltemplatecounter_124423;
extern TY10790 Gch_10808;
extern TNimType* NTI54162; /* TTypeKind */
extern TY54563 Ginsttypes_106045;
extern TNimType* NTI126030; /* TCandidate */
extern NI Intsize_50570;
extern NI Floatsize_50571;
extern NI Ptrsize_50572;
extern NI Gid_54692;
extern TY54547* Systemmodule_101004;
extern NU32 Goptions_45076;
extern TY104048 Gincludefile_104051;
extern NU32 Gglobaloptions_45078;
N_NIMCALL(void, Markused_124065)(TY54525* N_124067, TY54547* S_124068) {
(*S_124068).Flags |=(1<<((NI32)(((NU8) 0))%(sizeof(NI32)*8)));
if (!(((*S_124068).Flags &(1<<((((NU8) 22))&31)))!=0)) goto LA2;
Limessage_46566((*N_124067).Info, ((NU8) 215), (*(*S_124068).Name).S);
LA2: ;
}
N_NIMCALL(TY54525*, Symchoice_124549)(TY106012* C_124551, TY54525* N_124552, TY54547* S_124553) {
TY54525* Result_124554;
TY54547* A_124555;
TY107004 O_124556;
NI I_124557;
TY54551* LOC5;
TY54525* LOC7;
Result_124554 = 0;
A_124555 = 0;
memset((void*)&O_124556, 0, sizeof(O_124556));
I_124557 = 0;
I_124557 = 0;
A_124555 = Initoverloaditer_107058(&O_124556, C_124551, N_124552);
while (1) {
if (!!((A_124555 == NIM_NIL))) goto LA1;
A_124555 = Nextoverloaditer_107064(&O_124556, C_124551, N_124552);
I_124557 += 1;
} LA1: ;
if (!(I_124557 <= 1)) goto LA3;
Result_124554 = Newsymnode_54734(S_124553);
(*Result_124554).Info = (*N_124552).Info;
Markused_124065(N_124552, S_124553);
goto LA2;
LA3: ;
LOC5 = 0;
LOC5 = Newtypes_106077(((NU8) 0), C_124551);
Result_124554 = Newnodeit_54741(((NU8) 46), (*N_124552).Info, LOC5);
A_124555 = Initoverloaditer_107058(&O_124556, C_124551, N_124552);
while (1) {
if (!!((A_124555 == NIM_NIL))) goto LA6;
LOC7 = 0;
LOC7 = Newsymnode_54734(A_124555);
Addson_54823(Result_124554, LOC7);
A_124555 = Nextoverloaditer_107064(&O_124556, C_124551, N_124552);
} LA6: ;
LA2: ;
return Result_124554;
}
static N_INLINE(NI, Atomicinc_3001)(NI* Memloc_3004, NI X_3005) {
NI Result_7407;
Result_7407 = 0;
(*Memloc_3004) += X_3005;
Result_7407 = (*Memloc_3004);
return Result_7407;
}
static N_INLINE(NIM_BOOL, Canbecycleroot_11216)(TY10402* C_11218) {
NIM_BOOL Result_11219;
Result_11219 = 0;
Result_11219 = !((((*(*C_11218).Typ).flags &(1<<((((NU8) 1))&7)))!=0));
return Result_11219;
}
static N_INLINE(void, Rtladdcycleroot_11852)(TY10402* C_11854) {
Incl_10674(&Gch_10808.Cycleroots, C_11854);
}
static N_INLINE(void, Incref_12802)(TY10402* C_12804) {
NI LOC1;
NIM_BOOL LOC3;
LOC1 = Atomicinc_3001(&(*C_12804).Refcount, 8);
LOC3 = Canbecycleroot_11216(C_12804);
if (!LOC3) goto LA4;
Rtladdcycleroot_11852(C_12804);
LA4: ;
}
static N_INLINE(TY10402*, Usrtocell_11212)(void* Usr_11214) {
TY10402* Result_11215;
Result_11215 = 0;
Result_11215 = ((TY10402*) ((NI64)((NU64)(((NI) (Usr_11214))) - (NU64)(((NI) (((NI)sizeof(TY10402))))))));
return Result_11215;
}
static N_INLINE(NI, Atomicdec_3006)(NI* Memloc_3009, NI X_3010) {
NI Result_7606;
Result_7606 = 0;
(*Memloc_3009) -= X_3010;
Result_7606 = (*Memloc_3009);
return Result_7606;
}
static N_INLINE(void, Rtladdzct_12201)(TY10402* C_12203) {
Addzct_11201(&Gch_10808.Zct, C_12203);
}
static N_INLINE(void, Decref_12601)(TY10402* C_12603) {
NI LOC2;
NIM_BOOL LOC5;
LOC2 = Atomicdec_3006(&(*C_12603).Refcount, 8);
if (!((NU64)(LOC2) < (NU64)(8))) goto LA3;
Rtladdzct_12201(C_12603);
goto LA1;
LA3: ;
LOC5 = Canbecycleroot_11216(C_12603);
if (!LOC5) goto LA6;
Rtladdcycleroot_11852(C_12603);
goto LA1;
LA6: ;
LA1: ;
}
static N_INLINE(void, asgnRef)(void** Dest_12814, void* Src_12815) {
TY10402* LOC4;
TY10402* LOC8;
if (!!((Src_12815 == NIM_NIL))) goto LA2;
LOC4 = Usrtocell_11212(Src_12815);
Incref_12802(LOC4);
LA2: ;
if (!!(((*Dest_12814) == NIM_NIL))) goto LA6;
LOC8 = Usrtocell_11212((*Dest_12814));
Decref_12601(LOC8);
LA6: ;
(*Dest_12814) = Src_12815;
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_12818, void* Src_12819) {
TY10402* C_12820;
NI LOC4;
TY10402* C_12822;
NI LOC9;
if (!!((Src_12819 == NIM_NIL))) goto LA2;
C_12820 = 0;
C_12820 = Usrtocell_11212(Src_12819);
LOC4 = Atomicinc_3001(&(*C_12820).Refcount, 8);
LA2: ;
if (!!(((*Dest_12818) == NIM_NIL))) goto LA6;
C_12822 = 0;
C_12822 = Usrtocell_11212((*Dest_12818));
LOC9 = Atomicdec_3006(&(*C_12822).Refcount, 8);
if (!((NU64)(LOC9) < (NU64)(8))) goto LA10;
Rtladdzct_12201(C_12822);
LA10: ;
LA6: ;
(*Dest_12818) = Src_12819;
}
N_NIMCALL(TY53011*, Consideracc_124003)(TY54525* N_124005) {
TY53011* Result_124006;
TY54525* X_124007;
NimStringDesc* LOC4;
Result_124006 = 0;
X_124007 = 0;
X_124007 = N_124005;
if (!((*X_124007).Kind == ((NU8) 43))) goto LA2;
X_124007 = (*X_124007).KindU.S6.Sons->data[0];
LA2: ;
switch ((*X_124007).Kind) {
case ((NU8) 2):
Result_124006 = (*X_124007).KindU.S5.Ident;
break;
case ((NU8) 3):
Result_124006 = (*(*X_124007).KindU.S4.Sym).Name;
break;
default:
LOC4 = 0;
LOC4 = Rendertree_84042(N_124005, 0);
Limessage_46566((*N_124005).Info, ((NU8) 19), LOC4);
Result_124006 = NIM_NIL;
break;
}
return Result_124006;
}
N_NIMCALL(NIM_BOOL, Istypeexpr_134865)(TY54525* N_134867) {
NIM_BOOL Result_134868;
Result_134868 = 0;
switch ((*N_134867).Kind) {
case ((NU8) 4):
case ((NU8) 110):
Result_134868 = NIM_TRUE;
break;
case ((NU8) 3):
Result_134868 = ((*(*N_134867).KindU.S4.Sym).Kind == ((NU8) 7));
break;
default:
Result_134868 = NIM_FALSE;
break;
}
return Result_134868;
}
static N_INLINE(NI, Sonslen_54803)(TY54525* N_54805) {
NI Result_55880;
Result_55880 = 0;
if (!(*N_54805).KindU.S6.Sons == 0) goto LA2;
Result_55880 = 0;
goto LA1;
LA2: ;
Result_55880 = (*N_54805).KindU.S6.Sons->Sup.len;
LA1: ;
return Result_55880;
}
static N_INLINE(TY54525*, Lastson_54809)(TY54525* N_54811) {
TY54525* Result_56817;
NI LOC1;
Result_56817 = 0;
LOC1 = Sonslen_54803(N_54811);
Result_56817 = (*N_54811).KindU.S6.Sons->data[(NI64)(LOC1 - 1)];
return Result_56817;
}
N_NIMCALL(TY54547*, Lookupinrecordandbuildcheck_134890)(TY106012* C_134892, TY54525* N_134893, TY54525* R_134894, TY53011* Field_134895, TY54525** Check_134897) {
TY54547* Result_134898;
TY54525* S_134899;
TY54525* It_134900;
TY54525* Inexpr_134901;
TY54525* Notexpr_134902;
NI I_134910;
NI HEX3Atmp_144977;
NI LOC1;
NI Res_144979;
NI I_134985;
NI HEX3Atmp_144986;
NI LOC12;
NI Res_144988;
TY54525* LOC14;
NI J_135016;
NI HEX3Atmp_144980;
NI LOC18;
NI Res_144982;
TY54525* LOC20;
NI J_135047;
NI HEX3Atmp_144983;
NI LOC24;
NI Res_144985;
TY54525* LOC26;
TY53011* LOC27;
TY54525* LOC28;
TY54525* LOC29;
TY54525* LOC30;
TY54525* LOC31;
TY53011* LOC38;
TY54525* LOC39;
TY54525* LOC40;
TY53011* LOC41;
TY54525* LOC42;
TY54525* LOC43;
Result_134898 = 0;
S_134899 = 0;
It_134900 = 0;
Inexpr_134901 = 0;
Notexpr_134902 = 0;
Result_134898 = NIM_NIL;
switch ((*R_134894).Kind) {
case ((NU8) 113):
I_134910 = 0;
HEX3Atmp_144977 = 0;
LOC1 = Sonslen_54803(R_134894);
HEX3Atmp_144977 = (NI64)(LOC1 - 1);
Res_144979 = 0;
Res_144979 = 0;
while (1) {
if (!(Res_144979 <= HEX3Atmp_144977)) goto LA2;
I_134910 = Res_144979;
Result_134898 = Lookupinrecordandbuildcheck_134890(C_134892, N_134893, (*R_134894).KindU.S6.Sons->data[I_134910], Field_134895, Check_134897);
if (!!((Result_134898 == NIM_NIL))) goto LA4;
goto BeforeRet;
LA4: ;
Res_144979 += 1;
} LA2: ;
break;
case ((NU8) 114):
Checkminsonslen_106103(R_134894, 2);
if (!!(((*(*R_134894).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA7;
Illformedast_106092(R_134894);
LA7: ;
Result_134898 = Lookupinrecordandbuildcheck_134890(C_134892, N_134893, (*R_134894).KindU.S6.Sons->data[0], Field_134895, Check_134897);
if (!!((Result_134898 == NIM_NIL))) goto LA10;
goto BeforeRet;
LA10: ;
S_134899 = Newnodei_54737(((NU8) 31), (*R_134894).Info);
I_134985 = 0;
HEX3Atmp_144986 = 0;
LOC12 = Sonslen_54803(R_134894);
HEX3Atmp_144986 = (NI64)(LOC12 - 1);
Res_144988 = 0;
Res_144988 = 1;
while (1) {
if (!(Res_144988 <= HEX3Atmp_144986)) goto LA13;
I_134985 = Res_144988;
It_134900 = (*R_134894).KindU.S6.Sons->data[I_134985];
switch ((*It_134900).Kind) {
case ((NU8) 75):
LOC14 = 0;
LOC14 = Lastson_54809(It_134900);
Result_134898 = Lookupinrecordandbuildcheck_134890(C_134892, N_134893, LOC14, Field_134895, Check_134897);
if (!(Result_134898 == NIM_NIL)) goto LA16;
J_135016 = 0;
HEX3Atmp_144980 = 0;
LOC18 = Sonslen_54803(It_134900);
HEX3Atmp_144980 = (NI64)(LOC18 - 2);
Res_144982 = 0;
Res_144982 = 0;
while (1) {
if (!(Res_144982 <= HEX3Atmp_144980)) goto LA19;
J_135016 = Res_144982;
LOC20 = 0;
LOC20 = Copytree_54858((*It_134900).KindU.S6.Sons->data[J_135016]);
Addson_54823(S_134899, LOC20);
Res_144982 += 1;
} LA19: ;
goto LA15;
LA16: ;
if (!((*Check_134897) == NIM_NIL)) goto LA22;
unsureAsgnRef((void**) &(*Check_134897), Newnodei_54737(((NU8) 37), (*N_134893).Info));
Addson_54823((*Check_134897), NIM_NIL);
LA22: ;
S_134899 = Newnodei_54737(((NU8) 31), (*N_134893).Info);
J_135047 = 0;
HEX3Atmp_144983 = 0;
LOC24 = Sonslen_54803(It_134900);
HEX3Atmp_144983 = (NI64)(LOC24 - 2);
Res_144985 = 0;
Res_144985 = 0;
while (1) {
if (!(Res_144985 <= HEX3Atmp_144983)) goto LA25;
J_135047 = Res_144985;
LOC26 = 0;
LOC26 = Copytree_54858((*It_134900).KindU.S6.Sons->data[J_135047]);
Addson_54823(S_134899, LOC26);
Res_144985 += 1;
} LA25: ;
Inexpr_134901 = Newnodei_54737(((NU8) 21), (*N_134893).Info);
LOC27 = 0;
LOC27 = Getident_53016(((NimStringDesc*) &TMP194056));
LOC28 = 0;
LOC28 = Newidentnode_54730(LOC27, (*N_134893).Info);
Addson_54823(Inexpr_134901, LOC28);
LOC29 = 0;
LOC29 = Copytree_54858((*R_134894).KindU.S6.Sons->data[0]);
Addson_54823(Inexpr_134901, LOC29);
Addson_54823(Inexpr_134901, S_134899);
LOC30 = 0;
LOC30 = Semexpr_124115(C_134892, Inexpr_134901, 0);
Addson_54823((*Check_134897), LOC30);
goto BeforeRet;
LA15: ;
break;
case ((NU8) 78):
LOC31 = 0;
LOC31 = Lastson_54809(It_134900);
Result_134898 = Lookupinrecordandbuildcheck_134890(C_134892, N_134893, LOC31, Field_134895, Check_134897);
if (!!((Result_134898 == NIM_NIL))) goto LA33;
if (!((*Check_134897) == NIM_NIL)) goto LA36;
unsureAsgnRef((void**) &(*Check_134897), Newnodei_54737(((NU8) 37), (*N_134893).Info));
Addson_54823((*Check_134897), NIM_NIL);
LA36: ;
Inexpr_134901 = Newnodei_54737(((NU8) 21), (*N_134893).Info);
LOC38 = 0;
LOC38 = Getident_53016(((NimStringDesc*) &TMP194056));
LOC39 = 0;
LOC39 = Newidentnode_54730(LOC38, (*N_134893).Info);
Addson_54823(Inexpr_134901, LOC39);
LOC40 = 0;
LOC40 = Copytree_54858((*R_134894).KindU.S6.Sons->data[0]);
Addson_54823(Inexpr_134901, LOC40);
Addson_54823(Inexpr_134901, S_134899);
Notexpr_134902 = Newnodei_54737(((NU8) 21), (*N_134893).Info);
LOC41 = 0;
LOC41 = Getident_53016(((NimStringDesc*) &TMP194057));
LOC42 = 0;
LOC42 = Newidentnode_54730(LOC41, (*N_134893).Info);
Addson_54823(Notexpr_134902, LOC42);
Addson_54823(Notexpr_134902, Inexpr_134901);
LOC43 = 0;
LOC43 = Semexpr_124115(C_134892, Notexpr_134902, 0);
Addson_54823((*Check_134897), LOC43);
goto BeforeRet;
LA33: ;
break;
default:
Illformedast_106092(It_134900);
break;
}
Res_144988 += 1;
} LA13: ;
break;
case ((NU8) 3):
if (!((*(*(*R_134894).KindU.S4.Sym).Name).Sup.Id == (*Field_134895).Sup.Id)) goto LA45;
Result_134898 = (*R_134894).KindU.S4.Sym;
LA45: ;
break;
default:
Illformedast_106092(N_134893);
break;
}
BeforeRet: ;
return Result_134898;
}
N_NIMCALL(TY54525*, Makederef_135132)(TY54525* N_135134) {
TY54525* Result_135135;
TY54551* T_135137;
TY54525* A_135160;
Result_135135 = 0;
T_135137 = 0;
T_135137 = Skiptypes_96087((*N_135134).Typ, 2048);
Result_135135 = N_135134;
if (!((*T_135137).Kind == ((NU8) 23))) goto LA2;
Result_135135 = Newnodeit_54741(((NU8) 54), (*N_135134).Info, (*T_135137).Sons->data[0]);
Addson_54823(Result_135135, N_135134);
T_135137 = Skiptypes_96087((*T_135137).Sons->data[0], 2048);
LA2: ;
if (!((6291456 &(IL64(1)<<(((*T_135137).Kind)&IL64(63))))!=0)) goto LA5;
A_135160 = 0;
A_135160 = Result_135135;
Result_135135 = Newnodeit_54741(((NU8) 38), (*N_135134).Info, (*T_135137).Sons->data[0]);
Addson_54823(Result_135135, A_135160);
LA5: ;
return Result_135135;
}
N_NIMCALL(TY54525*, Builtinfieldaccess_135161)(TY106012* C_135163, TY54525* N_135164, NU8 Flags_135165) {
TY54525* Result_135166;
TY54547* S_135167;
TY53011* I_135226;
TY54551* Ty_135239;
TY54547* F_135240;
NIM_BOOL LOC14;
TY54525* Check_135331;
NIM_BOOL LOC32;
TY54547* LOC34;
NIM_BOOL LOC40;
Result_135166 = 0;
S_135167 = 0;
S_135167 = Qualifiedlookup_107053(C_135163, N_135164, NIM_TRUE);
if (!!((S_135167 == NIM_NIL))) goto LA2;
Result_135166 = Semsym_131956(C_135163, N_135164, S_135167, Flags_135165);
goto BeforeRet;
LA2: ;
Checksonslen_106099(N_135164, 2);
asgnRefNoCycle((void**) &(*N_135164).KindU.S6.Sons->data[0], Semexprwithtype_124122(C_135163, (*N_135164).KindU.S6.Sons->data[0], (1 | Flags_135165)));
I_135226 = 0;
I_135226 = Consideracc_124003((*N_135164).KindU.S6.Sons->data[1]);
Ty_135239 = 0;
Ty_135239 = (*(*N_135164).KindU.S6.Sons->data[0]).Typ;
F_135240 = 0;
F_135240 = NIM_NIL;
Result_135166 = NIM_NIL;
if (!((*Ty_135239).Kind == ((NU8) 14))) goto LA5;
while (1) {
if (!!((Ty_135239 == NIM_NIL))) goto LA7;
F_135240 = Getsymfromlist_59194((*Ty_135239).N, I_135226, 0);
if (!!((F_135240 == NIM_NIL))) goto LA9;
goto LA7;
LA9: ;
Ty_135239 = (*Ty_135239).Sons->data[0];
} LA7: ;
if (!!((F_135240 == NIM_NIL))) goto LA12;
Result_135166 = Newsymnode_54734(F_135240);
(*Result_135166).Info = (*N_135164).Info;
asgnRef((void**) &(*Result_135166).Typ, Ty_135239);
Markused_124065(N_135164, F_135240);
goto LA11;
LA12: ;
Limessage_46566((*(*N_135164).KindU.S6.Sons->data[1]).Info, ((NU8) 167), (*I_135226).S);
LA11: ;
goto BeforeRet;
goto LA4;
LA5: ;
LOC14 = !(((Flags_135165 &(1<<((((NU8) 0))&7)))!=0));
if (!(LOC14)) goto LA15;
LOC14 = Istypeexpr_134865((*N_135164).KindU.S6.Sons->data[0]);
LA15: ;
if (!LOC14) goto LA16;
Limessage_46566((*(*N_135164).KindU.S6.Sons->data[0]).Info, ((NU8) 162), ((NimStringDesc*) &TMP193925));
goto BeforeRet;
goto LA4;
LA16: ;
LA4: ;
Ty_135239 = Skiptypes_96087(Ty_135239, 14682112);
Check_135331 = 0;
Check_135331 = NIM_NIL;
if (!((*Ty_135239).Kind == ((NU8) 17))) goto LA19;
while (1) {
Check_135331 = NIM_NIL;
F_135240 = Lookupinrecordandbuildcheck_134890(C_135163, N_135164, (*Ty_135239).N, I_135226, &Check_135331);
if (!!((F_135240 == NIM_NIL))) goto LA23;
goto LA21;
LA23: ;
if (!((*Ty_135239).Sons->data[0] == NIM_NIL)) goto LA26;
goto LA21;
LA26: ;
Ty_135239 = Skiptypes_96087((*Ty_135239).Sons->data[0], 2048);
} LA21: ;
if (!!((F_135240 == NIM_NIL))) goto LA29;
LOC32 = !(((6 & (*F_135240).Flags) == 0));
if (LOC32) goto LA33;
LOC34 = 0;
LOC34 = Getmodule_59203(F_135240);
LOC32 = ((*LOC34).Sup.Id == (*(*C_135163).Module).Sup.Id);
LA33: ;
if (!LOC32) goto LA35;
asgnRefNoCycle((void**) &(*N_135164).KindU.S6.Sons->data[0], Makederef_135132((*N_135164).KindU.S6.Sons->data[0]));
asgnRefNoCycle((void**) &(*N_135164).KindU.S6.Sons->data[1], Newsymnode_54734(F_135240));
asgnRef((void**) &(*N_135164).Typ, (*F_135240).Typ);
Markused_124065(N_135164, F_135240);
if (!(Check_135331 == NIM_NIL)) goto LA38;
Result_135166 = N_135164;
goto LA37;
LA38: ;
asgnRefNoCycle((void**) &(*Check_135331).KindU.S6.Sons->data[0], N_135164);
asgnRef((void**) &(*Check_135331).Typ, (*N_135164).Typ);
Result_135166 = Check_135331;
LA37: ;
LA35: ;
LA29: ;
goto LA18;
LA19: ;
LOC40 = ((*Ty_135239).Kind == ((NU8) 18));
if (!(LOC40)) goto LA41;
LOC40 = !(((*Ty_135239).N == NIM_NIL));
LA41: ;
if (!LOC40) goto LA42;
F_135240 = Getsymfromlist_59194((*Ty_135239).N, I_135226, 0);
if (!!((F_135240 == NIM_NIL))) goto LA45;
asgnRefNoCycle((void**) &(*N_135164).KindU.S6.Sons->data[0], Makederef_135132((*N_135164).KindU.S6.Sons->data[0]));
asgnRefNoCycle((void**) &(*N_135164).KindU.S6.Sons->data[1], Newsymnode_54734(F_135240));
asgnRef((void**) &(*N_135164).Typ, (*F_135240).Typ);
Result_135166 = N_135164;
Markused_124065(N_135164, F_135240);
LA45: ;
goto LA18;
LA42: ;
LA18: ;
BeforeRet: ;
return Result_135166;
}
static N_INLINE(TY54525*, HEX5BHEX5D_56051)(TY54525* N_56053, NI I_56054) {
TY54525* Result_56055;
Result_56055 = 0;
Result_56055 = (*N_56053).KindU.S6.Sons->data[I_56054];
return Result_56055;
}
static N_INLINE(void, appendString)(NimStringDesc* Dest_18392, NimStringDesc* Src_18393) {
memcpy(((NCSTRING) (&(*Dest_18392).data[((*Dest_18392).Sup.len)-0])), ((NCSTRING) ((*Src_18393).data)), ((int) ((NI64)((NI64)((*Src_18393).Sup.len + 1) * 1))));
(*Dest_18392).Sup.len += (*Src_18393).Sup.len;
}
static N_INLINE(void, appendChar)(NimStringDesc* Dest_18409, NIM_CHAR C_18410) {
(*Dest_18409).data[((*Dest_18409).Sup.len)-0] = C_18410;
(*Dest_18409).data[((NI64)((*Dest_18409).Sup.len + 1))-0] = 0;
(*Dest_18409).Sup.len += 1;
}
static N_INLINE(void, Initcandidateaux_126053)(TY126030* C_126056, TY54551* Callee_126057) {
(*C_126056).Exactmatches = 0;
(*C_126056).Subtypematches = 0;
(*C_126056).Convmatches = 0;
(*C_126056).Intconvmatches = 0;
(*C_126056).Genericmatches = 0;
(*C_126056).State = ((NU8) 0);
unsureAsgnRef((void**) &(*C_126056).Callee, Callee_126057);
unsureAsgnRef((void**) &(*C_126056).Call, NIM_NIL);
(*C_126056).Basetypematch = NIM_FALSE;
}
N_NIMCALL(void, Initcandidate_126064)(TY126030* C_126067, TY54547* Callee_126068, TY54525* Binding_126069) {
TY54525* Typeparams_126082;
NI I_126092;
NI HEX3Atmp_128749;
NI LOC4;
NI LOC5;
NI Res_128751;
TY54551* Formaltypeparam_126105;
TY54525* LOC7;
Initcandidateaux_126053(C_126067, (*Callee_126068).Typ);
unsureAsgnRef((void**) &(*C_126067).Calleesym, Callee_126068);
Initidtable_54754(&(*C_126067).Bindings);
if (!!((Binding_126069 == NIM_NIL))) goto LA2;
Typeparams_126082 = 0;
Typeparams_126082 = HEX5BHEX5D_56051((*Callee_126068).Ast, 1);
I_126092 = 0;
HEX3Atmp_128749 = 0;
LOC4 = Sonslen_54803(Typeparams_126082);
LOC5 = Sonslen_54803(Binding_126069);
HEX3Atmp_128749 = ((LOC4 <= (NI64)(LOC5 - 1)) ? LOC4 : (NI64)(LOC5 - 1));
Res_128751 = 0;
Res_128751 = 1;
while (1) {
if (!(Res_128751 <= HEX3Atmp_128749)) goto LA6;
I_126092 = Res_128751;
Formaltypeparam_126105 = 0;
Formaltypeparam_126105 = (*(*Typeparams_126082).KindU.S6.Sons->data[(NI64)(I_126092 - 1)]).Typ;
LOC7 = 0;
LOC7 = HEX5BHEX5D_56051(Binding_126069, I_126092);
Idtableput_59171(&(*C_126067).Bindings, &Formaltypeparam_126105->Sup, &(*LOC7).Typ->Sup.Sup);
Res_128751 += 1;
} LA6: ;
LA2: ;
}
static N_INLINE(NI, Sonslen_54806)(TY54551* N_54808) {
NI Result_55744;
Result_55744 = 0;
if (!(*N_54808).Sons == 0) goto LA2;
Result_55744 = 0;
goto LA1;
LA2: ;
Result_55744 = (*N_54808).Sons->Sup.len;
LA1: ;
return Result_55744;
}
static N_INLINE(TY54551*, Lastson_54812)(TY54551* N_54814) {
TY54551* Result_56833;
NI LOC1;
Result_56833 = 0;
LOC1 = Sonslen_54806(N_54814);
Result_56833 = (*N_54814).Sons->data[(NI64)(LOC1 - 1)];
return Result_56833;
}
N_NIMCALL(NU8, Handlerange_126334)(TY54551* F_126336, TY54551* A_126337, NU8 Min_126338, NU8 Max_126339) {
NU8 Result_126340;
NU8 K_126351;
TY54551* LOC4;
NIM_BOOL LOC8;
NIM_BOOL LOC12;
Result_126340 = 0;
if (!((*A_126337).Kind == (*F_126336).Kind)) goto LA2;
Result_126340 = ((NU8) 5);
goto LA1;
LA2: ;
K_126351 = 0;
LOC4 = 0;
LOC4 = Skiptypes_96087(A_126337, 1048576);
K_126351 = (*LOC4).Kind;
if (!(K_126351 == (*F_126336).Kind)) goto LA6;
Result_126340 = ((NU8) 3);
goto LA5;
LA6: ;
LOC8 = ((*F_126336).Kind == ((NU8) 31));
if (!(LOC8)) goto LA9;
LOC8 = ((IL64(32212254720) &(IL64(1)<<((K_126351)&IL64(63))))!=0);
LA9: ;
if (!LOC8) goto LA10;
Result_126340 = ((NU8) 2);
goto LA5;
LA10: ;
LOC12 = (Min_126338 <= K_126351);
if (!(LOC12)) goto LA13;
LOC12 = (K_126351 <= Max_126339);
LA13: ;
if (!LOC12) goto LA14;
Result_126340 = ((NU8) 1);
goto LA5;
LA14: ;
Result_126340 = ((NU8) 0);
LA5: ;
LA1: ;
return Result_126340;
}
N_NIMCALL(NU8, Handlefloatrange_126400)(TY54551* F_126402, TY54551* A_126403) {
NU8 Result_126404;
NU8 K_126415;
TY54551* LOC4;
NIM_BOOL LOC8;
Result_126404 = 0;
if (!((*A_126403).Kind == (*F_126402).Kind)) goto LA2;
Result_126404 = ((NU8) 5);
goto LA1;
LA2: ;
K_126415 = 0;
LOC4 = 0;
LOC4 = Skiptypes_96087(A_126403, 1048576);
K_126415 = (*LOC4).Kind;
if (!(K_126415 == (*F_126402).Kind)) goto LA6;
Result_126404 = ((NU8) 3);
goto LA5;
LA6: ;
LOC8 = (((NU8) 36) <= K_126415);
if (!(LOC8)) goto LA9;
LOC8 = (K_126415 <= ((NU8) 39));
LA9: ;
if (!LOC8) goto LA10;
Result_126404 = ((NU8) 1);
goto LA5;
LA10: ;
Result_126404 = ((NU8) 0);
LA5: ;
LA1: ;
return Result_126404;
}
N_NIMCALL(NU8, Minrel_126473)(NU8 A_126475, NU8 B_126476) {
NU8 Result_126477;
Result_126477 = 0;
if (!(A_126475 <= B_126476)) goto LA2;
Result_126477 = A_126475;
goto LA1;
LA2: ;
Result_126477 = B_126476;
LA1: ;
return Result_126477;
}
N_NIMCALL(NU8, Tuplerel_126487)(TY54563* Mapping_126490, TY54551* F_126491, TY54551* A_126492) {
NU8 Result_126493;
NI LOC2;
NI LOC3;
NI I_126503;
NI HEX3Atmp_128755;
NI LOC6;
NI Res_128757;
NU8 M_126504;
NIM_BOOL LOC12;
NI I_126543;
NI HEX3Atmp_128758;
NI LOC16;
NI Res_128760;
TY54547* X_126610;
TY54547* Y_126635;
Result_126493 = 0;
Result_126493 = ((NU8) 0);
LOC2 = Sonslen_54806(A_126492);
LOC3 = Sonslen_54806(F_126491);
if (!(LOC2 == LOC3)) goto LA4;
Result_126493 = ((NU8) 5);
I_126503 = 0;
HEX3Atmp_128755 = 0;
LOC6 = Sonslen_54806(F_126491);
HEX3Atmp_128755 = (NI64)(LOC6 - 1);
Res_128757 = 0;
Res_128757 = 0;
while (1) {
if (!(Res_128757 <= HEX3Atmp_128755)) goto LA7;
I_126503 = Res_128757;
M_126504 = 0;
M_126504 = Typerel_126303(Mapping_126490, (*F_126491).Sons->data[I_126503], (*A_126492).Sons->data[I_126503]);
if (!(M_126504 < ((NU8) 3))) goto LA9;
Result_126493 = ((NU8) 0);
goto BeforeRet;
LA9: ;
Result_126493 = Minrel_126473(Result_126493, M_126504);
Res_128757 += 1;
} LA7: ;
LOC12 = !(((*F_126491).N == NIM_NIL));
if (!(LOC12)) goto LA13;
LOC12 = !(((*A_126492).N == NIM_NIL));
LA13: ;
if (!LOC12) goto LA14;
I_126543 = 0;
HEX3Atmp_128758 = 0;
LOC16 = Sonslen_54803((*F_126491).N);
HEX3Atmp_128758 = (NI64)(LOC16 - 1);
Res_128760 = 0;
Res_128760 = 0;
while (1) {
if (!(Res_128760 <= HEX3Atmp_128758)) goto LA17;
I_126543 = Res_128760;
if (!!(((*(*(*F_126491).N).KindU.S6.Sons->data[I_126543]).Kind == ((NU8) 3)))) goto LA19;
Internalerror_46571((*(*F_126491).N).Info, ((NimStringDesc*) &TMP194059));
LA19: ;
if (!!(((*(*(*A_126492).N).KindU.S6.Sons->data[I_126543]).Kind == ((NU8) 3)))) goto LA22;
Internalerror_46571((*(*A_126492).N).Info, ((NimStringDesc*) &TMP194059));
LA22: ;
X_126610 = 0;
X_126610 = (*(*(*F_126491).N).KindU.S6.Sons->data[I_126543]).KindU.S4.Sym;
Y_126635 = 0;
Y_126635 = (*(*(*A_126492).N).KindU.S6.Sons->data[I_126543]).KindU.S4.Sym;
if (!!(((*(*X_126610).Name).Sup.Id == (*(*Y_126635).Name).Sup.Id))) goto LA25;
Result_126493 = ((NU8) 0);
goto BeforeRet;
LA25: ;
Res_128760 += 1;
} LA17: ;
LA14: ;
LA4: ;
BeforeRet: ;
return Result_126493;
}
N_NIMCALL(NIM_BOOL, Isobjectsubtype_126443)(TY54551* A_126445, TY54551* F_126446) {
NIM_BOOL Result_126447;
TY54551* T_126448;
NIM_BOOL LOC2;
Result_126447 = 0;
T_126448 = 0;
T_126448 = A_126445;
while (1) {
LOC2 = !((T_126448 == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC2 = !(((*T_126448).Sup.Id == (*F_126446).Sup.Id));
LA3: ;
if (!LOC2) goto LA1;
T_126448 = Base_96021(T_126448);
} LA1: ;
Result_126447 = !((T_126448 == NIM_NIL));
return Result_126447;
}
N_NIMCALL(TY54551*, Concretetype_126309)(TY54563 Mapping_126311, TY54551* T_126312) {
TY54551* Result_126313;
TNimObject* LOC2;
Result_126313 = 0;
switch ((*T_126312).Kind) {
case ((NU8) 4):
Result_126313 = Newtype_54706(((NU8) 16), (*T_126312).Owner);
Addson_54827(Result_126313, (*T_126312).Sons->data[0]);
Addson_54827(Result_126313, (*T_126312).Sons->data[1]);
break;
case ((NU8) 5):
Result_126313 = NIM_NIL;
break;
case ((NU8) 12):
Result_126313 = T_126312;
while (1) {
LOC2 = 0;
LOC2 = Idtableget_59163(Mapping_126311, &T_126312->Sup);
Result_126313 = ((TY54551*) (LOC2));
if (!(Result_126313 == NIM_NIL)) goto LA4;
Internalerror_46575(((NimStringDesc*) &TMP194062));
LA4: ;
if (!!(((*Result_126313).Kind == ((NU8) 12)))) goto LA7;
goto LA1;
LA7: ;
} LA1: ;
break;
default:
Result_126313 = T_126312;
break;
}
return Result_126313;
}
N_NIMCALL(NU8, Typerel_126303)(TY54563* Mapping_126306, TY54551* F_126307, TY54551* A_126308) {
NU8 Result_126644;
TY54551* X_126645;
TY54551* Concrete_126646;
NU8 M_126647;
NIM_BOOL LOC2;
TY54551* LOC4;
TY54551* LOC7;
NIM_BOOL LOC9;
NIM_BOOL LOC14;
TY54551* LOC18;
TY54551* LOC24;
TY54551* LOC30;
TY54551* LOC31;
TY54551* LOC35;
TY54551* LOC41;
TY54551* LOC42;
TY54551* LOC43;
NU8 LOC44;
NU8 LOC45;
NIM_BOOL LOC53;
NI64 LOC55;
NI64 LOC56;
NU8 LOC61;
TY54551* LOC62;
TY54551* LOC63;
NIM_BOOL LOC68;
TY54551* LOC72;
NU8 LOC73;
NIM_BOOL LOC77;
TY54551* LOC81;
NU8 LOC82;
NIM_BOOL LOC86;
TY54551* LOC90;
NU8 LOC91;
NIM_BOOL LOC95;
NIM_BOOL LOC103;
NIM_BOOL LOC124;
NIM_BOOL LOC128;
NIM_BOOL LOC136;
TY54551* LOC143;
TY54551* LOC144;
TY54551* LOC148;
TY54551* LOC149;
NIM_BOOL LOC154;
NI LOC155;
NI LOC156;
NI I_127067;
NI HEX3Atmp_128761;
NI LOC160;
NI Res_128763;
NIM_BOOL LOC163;
NU8 LOC165;
NIM_BOOL LOC184;
NIM_BOOL LOC192;
NIM_BOOL LOC193;
NI64 LOC194;
TY54551* LOC196;
TY54551* LOC203;
TY54551* LOC204;
NIM_BOOL LOC212;
NI LOC214;
NI LOC215;
NI I_127257;
NI HEX3Atmp_128764;
NI LOC218;
NI Res_128766;
NU8 LOC224;
NI I_127292;
NI HEX3Atmp_128767;
NI LOC230;
NI Res_128769;
TNimObject* LOC232;
NIM_BOOL LOC234;
TNimObject* LOC238;
NI LOC243;
NimStringDesc* LOC249;
NI I_127344;
NI HEX3Atmp_128770;
NI LOC250;
NI Res_128772;
NU8 LOC253;
NimStringDesc* LOC266;
Result_126644 = 0;
X_126645 = 0;
Concrete_126646 = 0;
M_126647 = 0;
Result_126644 = ((NU8) 0);
LOC2 = ((*A_126308).Kind == ((NU8) 11));
if (!(LOC2)) goto LA3;
LOC4 = 0;
LOC4 = Skiptypes_96087(F_126307, 8388608);
LOC2 = !(((1536 &(IL64(1)<<(((*LOC4).Kind)&IL64(63))))!=0));
LA3: ;
if (!LOC2) goto LA5;
LOC7 = 0;
LOC7 = Lastson_54812(A_126308);
Result_126644 = Typerel_126303(Mapping_126306, F_126307, LOC7);
goto BeforeRet;
LA5: ;
LOC9 = ((*A_126308).Kind == ((NU8) 23));
if (!(LOC9)) goto LA10;
LOC9 = !(((*F_126307).Kind == ((NU8) 23)));
LA10: ;
if (!LOC9) goto LA11;
Result_126644 = Typerel_126303(Mapping_126306, F_126307, (*A_126308).Sons->data[0]);
goto BeforeRet;
LA11: ;
switch ((*F_126307).Kind) {
case ((NU8) 14):
LOC14 = ((*A_126308).Kind == (*F_126307).Kind);
if (!(LOC14)) goto LA15;
LOC14 = ((*A_126308).Sup.Id == (*F_126307).Sup.Id);
LA15: ;
if (!LOC14) goto LA16;
Result_126644 = ((NU8) 5);
goto LA13;
LA16: ;
LOC18 = 0;
LOC18 = Skiptypes_96087(A_126308, 1048576);
if (!((*LOC18).Sup.Id == (*F_126307).Sup.Id)) goto LA19;
Result_126644 = ((NU8) 3);
goto LA13;
LA19: ;
LA13: ;
break;
case ((NU8) 1):
case ((NU8) 2):
if (!((*A_126308).Kind == (*F_126307).Kind)) goto LA22;
Result_126644 = ((NU8) 5);
goto LA21;
LA22: ;
LOC24 = 0;
LOC24 = Skiptypes_96087(A_126308, 1048576);
if (!((*LOC24).Kind == (*F_126307).Kind)) goto LA25;
Result_126644 = ((NU8) 3);
goto LA21;
LA25: ;
LA21: ;
break;
case ((NU8) 20):
if (!((*A_126308).Kind == (*F_126307).Kind)) goto LA28;
LOC30 = 0;
LOC30 = Base_96021(A_126308);
LOC31 = 0;
LOC31 = Base_96021(F_126307);
Result_126644 = Typerel_126303(Mapping_126306, LOC30, LOC31);
if (!(Result_126644 < ((NU8) 4))) goto LA33;
Result_126644 = ((NU8) 0);
LA33: ;
goto LA27;
LA28: ;
LOC35 = 0;
LOC35 = Skiptypes_96087(F_126307, 1048576);
if (!((*LOC35).Kind == (*A_126308).Kind)) goto LA36;
Result_126644 = ((NU8) 1);
goto LA27;
LA36: ;
LA27: ;
break;
case ((NU8) 31):
Result_126644 = Handlerange_126334(F_126307, A_126308, ((NU8) 32), ((NU8) 34));
break;
case ((NU8) 32):
Result_126644 = Handlerange_126334(F_126307, A_126308, ((NU8) 32), ((NU8) 32));
break;
case ((NU8) 33):
Result_126644 = Handlerange_126334(F_126307, A_126308, ((NU8) 32), ((NU8) 33));
break;
case ((NU8) 34):
Result_126644 = Handlerange_126334(F_126307, A_126308, ((NU8) 31), ((NU8) 34));
break;
case ((NU8) 35):
Result_126644 = Handlerange_126334(F_126307, A_126308, ((NU8) 31), ((NU8) 35));
break;
case ((NU8) 36):
Result_126644 = Handlefloatrange_126400(F_126307, A_126308);
break;
case ((NU8) 37):
Result_126644 = Handlefloatrange_126400(F_126307, A_126308);
break;
case ((NU8) 38):
Result_126644 = Handlefloatrange_126400(F_126307, A_126308);
break;
case ((NU8) 39):
Result_126644 = Handlefloatrange_126400(F_126307, A_126308);
break;
case ((NU8) 23):
if (!((*A_126308).Kind == (*F_126307).Kind)) goto LA39;
LOC41 = 0;
LOC41 = Base_96021(F_126307);
LOC42 = 0;
LOC42 = Base_96021(A_126308);
Result_126644 = Typerel_126303(Mapping_126306, LOC41, LOC42);
goto LA38;
LA39: ;
LOC43 = 0;
LOC43 = Base_96021(F_126307);
Result_126644 = Typerel_126303(Mapping_126306, LOC43, A_126308);
LA38: ;
break;
case ((NU8) 16):
case ((NU8) 4):
switch ((*A_126308).Kind) {
case ((NU8) 16):
LOC44 = Typerel_126303(Mapping_126306, (*F_126307).Sons->data[0], (*A_126308).Sons->data[0]);
LOC45 = Typerel_126303(Mapping_126306, (*F_126307).Sons->data[1], (*A_126308).Sons->data[1]);
Result_126644 = Minrel_126473(LOC44, LOC45);
if (!(Result_126644 < ((NU8) 4))) goto LA47;
Result_126644 = ((NU8) 0);
LA47: ;
break;
case ((NU8) 4):
Result_126644 = Typerel_126303(Mapping_126306, (*F_126307).Sons->data[1], (*A_126308).Sons->data[1]);
if (!(Result_126644 < ((NU8) 4))) goto LA50;
Result_126644 = ((NU8) 0);
goto LA49;
LA50: ;
LOC53 = !((Result_126644 == ((NU8) 4)));
if (!(LOC53)) goto LA54;
LOC55 = Lengthord_96007(F_126307);
LOC56 = Lengthord_96007(A_126308);
LOC53 = !((LOC55 == LOC56));
LA54: ;
if (!LOC53) goto LA57;
Result_126644 = ((NU8) 0);
goto LA52;
LA57: ;
if (!((5632 &(IL64(1)<<(((*(*F_126307).Sons->data[0]).Kind)&IL64(63))))!=0)) goto LA59;
LOC61 = Typerel_126303(Mapping_126306, (*F_126307).Sons->data[0], (*A_126308).Sons->data[0]);
Result_126644 = Minrel_126473(Result_126644, LOC61);
goto LA52;
LA59: ;
LA52: ;
LA49: ;
break;
default:
break;
}
break;
case ((NU8) 27):
switch ((*A_126308).Kind) {
case ((NU8) 27):
LOC62 = 0;
LOC62 = Base_96021(F_126307);
LOC63 = 0;
LOC63 = Base_96021(A_126308);
Result_126644 = Typerel_126303(Mapping_126306, LOC62, LOC63);
if (!(Result_126644 < ((NU8) 4))) goto LA65;
Result_126644 = ((NU8) 0);
LA65: ;
break;
case ((NU8) 4):
LOC68 = !(((*(*F_126307).Sons->data[0]).Kind == ((NU8) 12)));
if (!(LOC68)) goto LA69;
LOC68 = ((*(*A_126308).Sons->data[1]).Kind == ((NU8) 3));
LA69: ;
if (!LOC68) goto LA70;
Result_126644 = ((NU8) 3);
goto LA67;
LA70: ;
LOC72 = 0;
LOC72 = Base_96021(F_126307);
LOC73 = Typerel_126303(Mapping_126306, LOC72, (*A_126308).Sons->data[1]);
if (!(((NU8) 4) <= LOC73)) goto LA74;
Result_126644 = ((NU8) 3);
goto LA67;
LA74: ;
LA67: ;
break;
case ((NU8) 16):
LOC77 = !(((*(*F_126307).Sons->data[0]).Kind == ((NU8) 12)));
if (!(LOC77)) goto LA78;
LOC77 = ((*(*A_126308).Sons->data[1]).Kind == ((NU8) 3));
LA78: ;
if (!LOC77) goto LA79;
Result_126644 = ((NU8) 3);
goto LA76;
LA79: ;
LOC81 = 0;
LOC81 = Base_96021(F_126307);
LOC82 = Typerel_126303(Mapping_126306, LOC81, (*A_126308).Sons->data[1]);
if (!(((NU8) 4) <= LOC82)) goto LA83;
Result_126644 = ((NU8) 1);
goto LA76;
LA83: ;
LA76: ;
break;
case ((NU8) 24):
LOC86 = !(((*(*F_126307).Sons->data[0]).Kind == ((NU8) 12)));
if (!(LOC86)) goto LA87;
LOC86 = ((*(*A_126308).Sons->data[0]).Kind == ((NU8) 3));
LA87: ;
if (!LOC86) goto LA88;
Result_126644 = ((NU8) 1);
goto LA85;
LA88: ;
LOC90 = 0;
LOC90 = Base_96021(F_126307);
LOC91 = Typerel_126303(Mapping_126306, LOC90, (*A_126308).Sons->data[0]);
if (!(((NU8) 4) <= LOC91)) goto LA92;
Result_126644 = ((NU8) 1);
goto LA85;
LA92: ;
LA85: ;
break;
default:
break;
}
break;
case ((NU8) 24):
switch ((*A_126308).Kind) {
case ((NU8) 5):
Result_126644 = ((NU8) 3);
break;
case ((NU8) 24):
LOC95 = !(((*(*F_126307).Sons->data[0]).Kind == ((NU8) 12)));
if (!(LOC95)) goto LA96;
LOC95 = ((*(*A_126308).Sons->data[0]).Kind == ((NU8) 3));
LA96: ;
if (!LOC95) goto LA97;
Result_126644 = ((NU8) 3);
goto LA94;
LA97: ;
Result_126644 = Typerel_126303(Mapping_126306, (*F_126307).Sons->data[0], (*A_126308).Sons->data[0]);
if (!(Result_126644 < ((NU8) 4))) goto LA100;
Result_126644 = ((NU8) 0);
LA100: ;
LA94: ;
break;
default:
break;
}
break;
case ((NU8) 15):
LOC103 = Isordinaltype_96069(A_126308);
if (!LOC103) goto LA104;
if (!((*A_126308).Kind == ((NU8) 15))) goto LA107;
X_126645 = (*A_126308).Sons->data[0];
goto LA106;
LA107: ;
X_126645 = A_126308;
LA106: ;
Result_126644 = Typerel_126303(Mapping_126306, (*F_126307).Sons->data[0], X_126645);
if (!(Result_126644 < ((NU8) 4))) goto LA110;
Result_126644 = ((NU8) 0);
LA110: ;
LA104: ;
break;
case ((NU8) 30):
Internalerror_46575(((NimStringDesc*) &TMP194058));
break;
case ((NU8) 5):
if (!((*A_126308).Kind == (*F_126307).Kind)) goto LA113;
Result_126644 = ((NU8) 5);
LA113: ;
break;
case ((NU8) 18):
if (!((*A_126308).Kind == ((NU8) 18))) goto LA116;
Result_126644 = Tuplerel_126487(Mapping_126306, F_126307, A_126308);
LA116: ;
break;
case ((NU8) 17):
if (!((*A_126308).Kind == ((NU8) 17))) goto LA119;
if (!((*A_126308).Sup.Id == (*F_126307).Sup.Id)) goto LA122;
Result_126644 = ((NU8) 5);
goto LA121;
LA122: ;
LOC124 = Isobjectsubtype_126443(A_126308, F_126307);
if (!LOC124) goto LA125;
Result_126644 = ((NU8) 3);
goto LA121;
LA125: ;
LA121: ;
LA119: ;
break;
case ((NU8) 13):
LOC128 = ((*A_126308).Kind == ((NU8) 13));
if (!(LOC128)) goto LA129;
LOC128 = ((*A_126308).Sup.Id == (*F_126307).Sup.Id);
LA129: ;
if (!LOC128) goto LA130;
Result_126644 = ((NU8) 5);
LA130: ;
break;
case ((NU8) 19):
if (!((*A_126308).Kind == ((NU8) 19))) goto LA133;
LOC136 = !(((*(*F_126307).Sons->data[0]).Kind == ((NU8) 12)));
if (!(LOC136)) goto LA137;
LOC136 = ((*(*A_126308).Sons->data[0]).Kind == ((NU8) 3));
LA137: ;
if (!LOC136) goto LA138;
Result_126644 = ((NU8) 3);
goto LA135;
LA138: ;
Result_126644 = Typerel_126303(Mapping_126306, (*F_126307).Sons->data[0], (*A_126308).Sons->data[0]);
if (!(Result_126644 <= ((NU8) 1))) goto LA141;
Result_126644 = ((NU8) 0);
LA141: ;
LA135: ;
LA133: ;
break;
case ((NU8) 21):
switch ((*A_126308).Kind) {
case ((NU8) 21):
LOC143 = 0;
LOC143 = Base_96021(F_126307);
LOC144 = 0;
LOC144 = Base_96021(A_126308);
Result_126644 = Typerel_126303(Mapping_126306, LOC143, LOC144);
if (!(Result_126644 <= ((NU8) 1))) goto LA146;
Result_126644 = ((NU8) 0);
LA146: ;
break;
case ((NU8) 5):
Result_126644 = ((NU8) 3);
break;
default:
break;
}
break;
case ((NU8) 22):
switch ((*A_126308).Kind) {
case ((NU8) 22):
LOC148 = 0;
LOC148 = Base_96021(F_126307);
LOC149 = 0;
LOC149 = Base_96021(A_126308);
Result_126644 = Typerel_126303(Mapping_126306, LOC148, LOC149);
if (!(Result_126644 <= ((NU8) 1))) goto LA151;
Result_126644 = ((NU8) 0);
LA151: ;
break;
case ((NU8) 5):
Result_126644 = ((NU8) 3);
break;
default:
break;
}
break;
case ((NU8) 25):
switch ((*A_126308).Kind) {
case ((NU8) 5):
Result_126644 = ((NU8) 3);
break;
case ((NU8) 25):
LOC155 = Sonslen_54806(F_126307);
LOC156 = Sonslen_54806(A_126308);
LOC154 = (LOC155 == LOC156);
if (!(LOC154)) goto LA157;
LOC154 = ((*F_126307).Callconv == (*A_126308).Callconv);
LA157: ;
if (!LOC154) goto LA158;
Result_126644 = ((NU8) 5);
I_127067 = 0;
HEX3Atmp_128761 = 0;
LOC160 = Sonslen_54806(F_126307);
HEX3Atmp_128761 = (NI64)(LOC160 - 1);
Res_128763 = 0;
Res_128763 = 1;
while (1) {
if (!(Res_128763 <= HEX3Atmp_128761)) goto LA161;
I_127067 = Res_128763;
M_126647 = Typerel_126303(Mapping_126306, (*F_126307).Sons->data[I_127067], (*A_126308).Sons->data[I_127067]);
LOC163 = (M_126647 == ((NU8) 0));
if (!(LOC163)) goto LA164;
LOC165 = Typerel_126303(Mapping_126306, (*A_126308).Sons->data[I_127067], (*F_126307).Sons->data[I_127067]);
LOC163 = (LOC165 == ((NU8) 3));
LA164: ;
if (!LOC163) goto LA166;
Result_126644 = ((NU8) 1);
goto LA162;
LA166: ;
if (!(M_126647 < ((NU8) 3))) goto LA168;
Result_126644 = ((NU8) 0);
goto BeforeRet;
goto LA162;
LA168: ;
Result_126644 = Minrel_126473(M_126647, Result_126644);
LA162: ;
Res_128763 += 1;
} LA161: ;
if (!!(((*F_126307).Sons->data[0] == NIM_NIL))) goto LA171;
if (!!(((*A_126308).Sons->data[0] == NIM_NIL))) goto LA174;
M_126647 = Typerel_126303(Mapping_126306, (*F_126307).Sons->data[0], (*A_126308).Sons->data[0]);
if (!(M_126647 < ((NU8) 3))) goto LA177;
Result_126644 = ((NU8) 0);
goto LA176;
LA177: ;
if (!(M_126647 == ((NU8) 3))) goto LA179;
Result_126644 = ((NU8) 1);
goto LA176;
LA179: ;
Result_126644 = Minrel_126473(M_126647, Result_126644);
LA176: ;
goto LA173;
LA174: ;
Result_126644 = ((NU8) 0);
LA173: ;
goto LA170;
LA171: ;
if (!!(((*A_126308).Sons->data[0] == NIM_NIL))) goto LA181;
Result_126644 = ((NU8) 0);
goto LA170;
LA181: ;
LA170: ;
LOC184 = (((*F_126307).Flags &(1<<((((NU8) 1))&7)))!=0);
if (!(LOC184)) goto LA185;
LOC184 = !((((*A_126308).Flags &(1<<((((NU8) 1))&7)))!=0));
LA185: ;
if (!LOC184) goto LA186;
Result_126644 = ((NU8) 0);
LA186: ;
LA158: ;
break;
default:
break;
}
break;
case ((NU8) 26):
switch ((*A_126308).Kind) {
case ((NU8) 26):
Result_126644 = ((NU8) 5);
break;
case ((NU8) 5):
Result_126644 = ((NU8) 3);
break;
case ((NU8) 21):
case ((NU8) 25):
case ((NU8) 29):
Result_126644 = ((NU8) 1);
break;
default:
break;
}
break;
case ((NU8) 28):
switch ((*A_126308).Kind) {
case ((NU8) 28):
Result_126644 = ((NU8) 5);
break;
case ((NU8) 5):
Result_126644 = ((NU8) 3);
break;
default:
break;
}
break;
case ((NU8) 29):
switch ((*A_126308).Kind) {
case ((NU8) 29):
Result_126644 = ((NU8) 5);
break;
case ((NU8) 5):
Result_126644 = ((NU8) 3);
break;
case ((NU8) 28):
Result_126644 = ((NU8) 1);
break;
case ((NU8) 21):
if (!((*(*A_126308).Sons->data[0]).Kind == ((NU8) 2))) goto LA189;
Result_126644 = ((NU8) 1);
LA189: ;
break;
case ((NU8) 16):
LOC194 = Firstord_96001((*A_126308).Sons->data[0]);
LOC193 = (LOC194 == 0);
if (!(LOC193)) goto LA195;
LOC196 = 0;
LOC196 = Skiptypes_96087((*A_126308).Sons->data[0], 1048576);
LOC193 = ((IL64(66571993088) &(IL64(1)<<(((*LOC196).Kind)&IL64(63))))!=0);
LA195: ;
LOC192 = LOC193;
if (!(LOC192)) goto LA197;
LOC192 = ((*(*A_126308).Sons->data[1]).Kind == ((NU8) 2));
LA197: ;
if (!LOC192) goto LA198;
Result_126644 = ((NU8) 1);
LA198: ;
break;
default:
break;
}
break;
case ((NU8) 3):
if (!((*A_126308).Kind == ((NU8) 3))) goto LA201;
Result_126644 = ((NU8) 5);
LA201: ;
break;
case ((NU8) 11):
LOC203 = 0;
LOC203 = Lastson_54812(F_126307);
Result_126644 = Typerel_126303(Mapping_126306, LOC203, A_126308);
break;
case ((NU8) 10):
LOC204 = 0;
LOC204 = Lastson_54812(F_126307);
Result_126644 = Typerel_126303(Mapping_126306, LOC204, A_126308);
break;
case ((NU8) 9):
if (!((*A_126308).Kind == ((NU8) 9))) goto LA206;
Internalerror_46575(((NimStringDesc*) &TMP194060));
LA206: ;
if (!((*A_126308).Kind == ((NU8) 11))) goto LA209;
LOC212 = ((*(*F_126307).Sons->data[0]).Containerid == (*(*A_126308).Sons->data[0]).Containerid);
if (!(LOC212)) goto LA213;
LOC214 = Sonslen_54806(A_126308);
LOC215 = Sonslen_54806(F_126307);
LOC212 = ((NI64)(LOC214 - 1) == LOC215);
LA213: ;
if (!LOC212) goto LA216;
I_127257 = 0;
HEX3Atmp_128764 = 0;
LOC218 = Sonslen_54806(F_126307);
HEX3Atmp_128764 = (NI64)(LOC218 - 1);
Res_128766 = 0;
Res_128766 = 1;
while (1) {
if (!(Res_128766 <= HEX3Atmp_128764)) goto LA219;
I_127257 = Res_128766;
if (!((*(*A_126308).Sons->data[I_127257]).Kind == ((NU8) 12))) goto LA221;
Internalerror_46575(((NimStringDesc*) &TMP194061));
LA221: ;
LOC224 = Typerel_126303(Mapping_126306, (*F_126307).Sons->data[I_127257], (*A_126308).Sons->data[I_127257]);
if (!(LOC224 < ((NU8) 4))) goto LA225;
goto BeforeRet;
LA225: ;
Res_128766 += 1;
} LA219: ;
Result_126644 = ((NU8) 4);
LA216: ;
goto LA208;
LA209: ;
Result_126644 = Typerel_126303(Mapping_126306, (*F_126307).Sons->data[0], A_126308);
if (!!((Result_126644 == ((NU8) 0)))) goto LA228;
I_127292 = 0;
HEX3Atmp_128767 = 0;
LOC230 = Sonslen_54806(F_126307);
HEX3Atmp_128767 = (NI64)(LOC230 - 1);
Res_128769 = 0;
Res_128769 = 1;
while (1) {
if (!(Res_128769 <= HEX3Atmp_128767)) goto LA231;
I_127292 = Res_128769;
LOC232 = 0;
LOC232 = Idtableget_59163((*Mapping_126306), &(*(*F_126307).Sons->data[0]).Sons->data[(NI64)(I_127292 - 1)]->Sup);
X_126645 = ((TY54551*) (LOC232));
LOC234 = (X_126645 == NIM_NIL);
if (LOC234) goto LA235;
LOC234 = ((*X_126645).Kind == ((NU8) 12));
LA235: ;
if (!LOC234) goto LA236;
Internalerror_46575(((NimStringDesc*) &TMP194061));
LA236: ;
Idtableput_59171(Mapping_126306, &(*F_126307).Sons->data[I_127292]->Sup, &X_126645->Sup.Sup);
Res_128769 += 1;
} LA231: ;
LA228: ;
LA208: ;
break;
case ((NU8) 12):
LOC238 = 0;
LOC238 = Idtableget_59163((*Mapping_126306), &F_126307->Sup);
X_126645 = ((TY54551*) (LOC238));
if (!(X_126645 == NIM_NIL)) goto LA240;
LOC243 = Sonslen_54806(F_126307);
if (!(LOC243 == 0)) goto LA244;
Concrete_126646 = Concretetype_126309((*Mapping_126306), A_126308);
if (!!((Concrete_126646 == NIM_NIL))) goto LA247;
Idtableput_59171(Mapping_126306, &F_126307->Sup, &Concrete_126646->Sup.Sup);
Result_126644 = ((NU8) 4);
LA247: ;
goto LA242;
LA244: ;
LOC249 = 0;
LOC249 = rawNewString((*(*(*F_126307).Sym).Name).S->Sup.len + 17);
appendString(LOC249, ((NimStringDesc*) &TMP194063));
appendString(LOC249, (*(*(*F_126307).Sym).Name).S);
Internalerror_46571((*(*F_126307).Sym).Info, LOC249);
I_127344 = 0;
HEX3Atmp_128770 = 0;
LOC250 = Sonslen_54806(F_126307);
HEX3Atmp_128770 = (NI64)(LOC250 - 1);
Res_128772 = 0;
Res_128772 = 0;
while (1) {
if (!(Res_128772 <= HEX3Atmp_128770)) goto LA251;
I_127344 = Res_128772;
LOC253 = Typerel_126303(Mapping_126306, (*F_126307).Sons->data[I_127344], A_126308);
if (!(((NU8) 3) <= LOC253)) goto LA254;
Concrete_126646 = Concretetype_126309((*Mapping_126306), A_126308);
if (!!((Concrete_126646 == NIM_NIL))) goto LA257;
Idtableput_59171(Mapping_126306, &F_126307->Sup, &Concrete_126646->Sup.Sup);
Result_126644 = ((NU8) 4);
LA257: ;
goto LA251;
LA254: ;
Res_128772 += 1;
} LA251: ;
LA242: ;
goto LA239;
LA240: ;
if (!((*A_126308).Kind == ((NU8) 3))) goto LA259;
Result_126644 = ((NU8) 4);
goto LA239;
LA259: ;
if (!((*X_126645).Kind == ((NU8) 12))) goto LA261;
Result_126644 = ((NU8) 4);
goto LA239;
LA261: ;
Result_126644 = Typerel_126303(Mapping_126306, X_126645, A_126308);
LA239: ;
break;
case ((NU8) 6):
case ((NU8) 7):
case ((NU8) 8):
if (!((*A_126308).Kind == (*F_126307).Kind)) goto LA264;
Result_126644 = ((NU8) 5);
goto LA263;
LA264: ;
switch ((*A_126308).Kind) {
case ((NU8) 6):
case ((NU8) 7):
case ((NU8) 8):
Result_126644 = ((NU8) 4);
break;
case ((NU8) 5):
Result_126644 = ((NU8) 3);
break;
default:
break;
}
LA263: ;
break;
default:
LOC266 = 0;
LOC266 = rawNewString(reprEnum((*F_126307).Kind, NTI54162)->Sup.len + 9);
appendString(LOC266, ((NimStringDesc*) &TMP194064));
appendString(LOC266, reprEnum((*F_126307).Kind, NTI54162));
appendChar(LOC266, 41);
Internalerror_46575(LOC266);
break;
}
BeforeRet: ;
return Result_126644;
}
N_NIMCALL(NIM_BOOL, Containsgenerictypeiter_125187)(TY54551* T_125189, TNimObject* Closure_125190) {
NIM_BOOL Result_125191;
Result_125191 = 0;
Result_125191 = ((5632 &(IL64(1)<<(((*T_125189).Kind)&IL64(63))))!=0);
return Result_125191;
}
N_NIMCALL(NIM_BOOL, Containsgenerictype_125203)(TY54551* T_125205) {
NIM_BOOL Result_125206;
Result_125206 = 0;
Result_125206 = Iterovertype_96038(T_125205, Containsgenerictypeiter_125187, NIM_NIL);
return Result_125206;
}
N_NIMCALL(TY54551*, Lookuptypevar_125834)(TY125684* Cl_125836, TY54551* T_125837) {
TY54551* Result_125838;
TNimObject* LOC1;
NimStringDesc* LOC5;
Result_125838 = 0;
LOC1 = 0;
LOC1 = Idtableget_59163((*Cl_125836).Typemap, &T_125837->Sup);
Result_125838 = ((TY54551*) (LOC1));
if (!(Result_125838 == NIM_NIL)) goto LA3;
LOC5 = 0;
LOC5 = Typetostring_96014(T_125837, ((NU8) 0));
Limessage_46566((*(*T_125837).Sym).Info, ((NU8) 122), LOC5);
goto LA2;
LA3: ;
if (!((*Result_125838).Kind == ((NU8) 12))) goto LA6;
Internalerror_46571((*Cl_125836).Info, ((NimStringDesc*) &TMP194065));
goto LA2;
LA6: ;
LA2: ;
return Result_125838;
}
N_NIMCALL(TY54551*, Searchinsttypes_125138)(TY54563 Tab_125140, TY54551* Key_125141) {
TY54551* Result_125142;
TNimObject* LOC1;
NIM_BOOL LOC3;
NI H_125163;
NI HEX3Atmp_128724;
NI Res_128726;
TY54551* T_125164;
NIM_BOOL Match_125178;
NI J_125186;
NI HEX3Atmp_128721;
NI LOC14;
NI Res_128723;
NIM_BOOL LOC17;
Result_125142 = 0;
LOC1 = 0;
LOC1 = Idtableget_59163(Tab_125140, &Key_125141->Sup);
Result_125142 = ((TY54551*) (LOC1));
LOC3 = (Result_125142 == NIM_NIL);
if (!(LOC3)) goto LA4;
LOC3 = (0 < Tab_125140.Counter);
LA4: ;
if (!LOC3) goto LA5;
H_125163 = 0;
HEX3Atmp_128724 = 0;
HEX3Atmp_128724 = (Tab_125140.Data->Sup.len-1);
Res_128726 = 0;
Res_128726 = 0;
while (1) {
if (!(Res_128726 <= HEX3Atmp_128724)) goto LA7;
H_125163 = Res_128726;
T_125164 = 0;
T_125164 = ((TY54551*) (Tab_125140.Data->data[H_125163].Key));
if (!!((T_125164 == NIM_NIL))) goto LA9;
if (!((*Key_125141).Containerid == (*T_125164).Containerid)) goto LA12;
Match_125178 = 0;
Match_125178 = NIM_TRUE;
J_125186 = 0;
HEX3Atmp_128721 = 0;
LOC14 = Sonslen_54806(T_125164);
HEX3Atmp_128721 = (NI64)(LOC14 - 1);
Res_128723 = 0;
Res_128723 = 0;
while (1) {
if (!(Res_128723 <= HEX3Atmp_128721)) goto LA15;
J_125186 = Res_128723;
LOC17 = Sametype_96048((*T_125164).Sons->data[J_125186], (*Key_125141).Sons->data[J_125186]);
if (!!(LOC17)) goto LA18;
Match_125178 = NIM_FALSE;
goto LA15;
LA18: ;
Res_128723 += 1;
} LA15: ;
if (!Match_125178) goto LA21;
Result_125142 = ((TY54551*) (Tab_125140.Data->data[H_125163].Val));
goto BeforeRet;
LA21: ;
LA12: ;
LA9: ;
Res_128726 += 1;
} LA7: ;
LA5: ;
BeforeRet: ;
return Result_125142;
}
N_NIMCALL(TY54547*, Replacetypevarss_125694)(TY125684* Cl_125697, TY54547* S_125698) {
TY54547* Result_125798;
TNimObject* LOC4;
Result_125798 = 0;
if (!(S_125698 == NIM_NIL)) goto LA2;
Result_125798 = NIM_NIL;
goto BeforeRet;
LA2: ;
LOC4 = 0;
LOC4 = Idtableget_59163((*Cl_125697).Symmap, &S_125698->Sup);
Result_125798 = ((TY54547*) (LOC4));
if (!(Result_125798 == NIM_NIL)) goto LA6;
Result_125798 = Copysym_54775(S_125698, NIM_FALSE);
(*Result_125798).Flags |=(1<<((NI32)(((NU8) 4))%(sizeof(NI32)*8)));
Idtableput_59171(&(*Cl_125697).Symmap, &S_125698->Sup, &Result_125798->Sup.Sup);
asgnRef((void**) &(*Result_125798).Typ, Replacetypevarst_125689(Cl_125697, (*S_125698).Typ));
asgnRef((void**) &(*Result_125798).Owner, (*S_125698).Owner);
asgnRefNoCycle((void**) &(*Result_125798).Ast, Replacetypevarsn_125699(Cl_125697, (*S_125698).Ast));
LA6: ;
BeforeRet: ;
return Result_125798;
}
N_NIMCALL(TY54525*, Replacetypevarsn_125699)(TY125684* Cl_125702, TY54525* N_125703) {
TY54525* Result_125704;
NI Length_125758;
NI I_125768;
NI HEX3Atmp_128734;
NI Res_128736;
Result_125704 = 0;
if (!!((N_125703 == NIM_NIL))) goto LA2;
Result_125704 = Copynode_54855(N_125703);
asgnRef((void**) &(*Result_125704).Typ, Replacetypevarst_125689(Cl_125702, (*N_125703).Typ));
switch ((*N_125703).Kind) {
case ((NU8) 0) ... ((NU8) 2):
case ((NU8) 4) ... ((NU8) 18):
break;
case ((NU8) 3):
asgnRef((void**) &(*Result_125704).KindU.S4.Sym, Replacetypevarss_125694(Cl_125702, (*N_125703).KindU.S4.Sym));
break;
default:
Length_125758 = 0;
Length_125758 = Sonslen_54803(N_125703);
if (!(0 < Length_125758)) goto LA5;
Newsons_54815(Result_125704, Length_125758);
I_125768 = 0;
HEX3Atmp_128734 = 0;
HEX3Atmp_128734 = (NI64)(Length_125758 - 1);
Res_128736 = 0;
Res_128736 = 0;
while (1) {
if (!(Res_128736 <= HEX3Atmp_128734)) goto LA7;
I_125768 = Res_128736;
asgnRefNoCycle((void**) &(*Result_125704).KindU.S6.Sons->data[I_125768], Replacetypevarsn_125699(Cl_125702, (*N_125703).KindU.S6.Sons->data[I_125768]));
Res_128736 += 1;
} LA7: ;
LA5: ;
break;
}
LA2: ;
return Result_125704;
}
N_NIMCALL(void, Checkconstructedtype_125639)(TY46536 Info_125641, TY54551* T_125642) {
NIM_BOOL LOC2;
TY54551* LOC4;
NI64 LOC8;
NimStringDesc* LOC11;
NIM_BOOL LOC13;
LOC2 = (((*T_125642).Flags &(1<<((((NU8) 3))&7)))!=0);
if (!(LOC2)) goto LA3;
LOC4 = 0;
LOC4 = Skiptypes_96087(T_125642, 43008);
LOC2 = !(((*LOC4).Kind == ((NU8) 17)));
LA3: ;
if (!LOC2) goto LA5;
Limessage_46566(Info_125641, ((NU8) 159), ((NimStringDesc*) &TMP194068));
LA5: ;
LOC8 = Computesize_96112(T_125642);
if (!(LOC8 < 0)) goto LA9;
LOC11 = 0;
LOC11 = Typetostring_96014(T_125642, ((NU8) 0));
Limessage_46566(Info_125641, ((NU8) 121), LOC11);
LA9: ;
LOC13 = ((*T_125642).Kind == ((NU8) 23));
if (!(LOC13)) goto LA14;
LOC13 = ((*(*T_125642).Sons->data[0]).Kind == ((NU8) 23));
LA14: ;
if (!LOC13) goto LA15;
Limessage_46566(Info_125641, ((NU8) 192), ((NimStringDesc*) &TMP193925));
LA15: ;
}
N_NIMCALL(TY54551*, Replacetypevarst_125689)(TY125684* Cl_125692, TY54551* T_125693) {
TY54551* Result_125864;
TY54551* Body_125865;
TY54551* Newbody_125866;
TY54551* X_125867;
TY54551* Header_125868;
NI I_125896;
NI HEX3Atmp_128737;
NI LOC7;
NI Res_128739;
NI I_125947;
NI HEX3Atmp_128740;
NI LOC21;
NI Res_128742;
TY54551* LOC23;
TY54551* LOC24;
TY54551* LOC25;
NIM_BOOL LOC27;
NI I_125956;
NI HEX3Atmp_128743;
NI LOC30;
NI Res_128745;
NimStringDesc* LOC35;
Result_125864 = 0;
Body_125865 = 0;
Newbody_125866 = 0;
X_125867 = 0;
Header_125868 = 0;
Result_125864 = T_125693;
if (!(T_125693 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*T_125693).Kind) {
case ((NU8) 12):
Result_125864 = Lookuptypevar_125834(&(*Cl_125692), T_125693);
break;
case ((NU8) 9):
Body_125865 = (*T_125693).Sons->data[0];
if (!!(((*Body_125865).Kind == ((NU8) 10)))) goto LA5;
Internalerror_46571((*Cl_125692).Info, ((NimStringDesc*) &TMP194066));
LA5: ;
Header_125868 = NIM_NIL;
I_125896 = 0;
HEX3Atmp_128737 = 0;
LOC7 = Sonslen_54806(T_125693);
HEX3Atmp_128737 = (NI64)(LOC7 - 1);
Res_128739 = 0;
Res_128739 = 1;
while (1) {
if (!(Res_128739 <= HEX3Atmp_128737)) goto LA8;
I_125896 = Res_128739;
if (!((*(*T_125693).Sons->data[I_125896]).Kind == ((NU8) 12))) goto LA10;
X_125867 = Lookuptypevar_125834(&(*Cl_125692), (*T_125693).Sons->data[I_125896]);
if (!(Header_125868 == NIM_NIL)) goto LA13;
Header_125868 = Copytype_54770(T_125693, (*T_125693).Owner, NIM_FALSE);
LA13: ;
asgnRef((void**) &(*Header_125868).Sons->data[I_125896], X_125867);
goto LA9;
LA10: ;
X_125867 = (*T_125693).Sons->data[I_125896];
LA9: ;
Idtableput_59171(&(*Cl_125692).Typemap, &(*Body_125865).Sons->data[(NI64)(I_125896 - 1)]->Sup, &X_125867->Sup.Sup);
Res_128739 += 1;
} LA8: ;
if (!(Header_125868 == NIM_NIL)) goto LA16;
Header_125868 = T_125693;
LA16: ;
Result_125864 = Searchinsttypes_125138(Ginsttypes_106045, Header_125868);
if (!!((Result_125864 == NIM_NIL))) goto LA19;
goto BeforeRet;
LA19: ;
Result_125864 = Newtype_54706(((NU8) 11), (*(*T_125693).Sons->data[0]).Owner);
I_125947 = 0;
HEX3Atmp_128740 = 0;
LOC21 = Sonslen_54806(T_125693);
HEX3Atmp_128740 = (NI64)(LOC21 - 1);
Res_128742 = 0;
Res_128742 = 0;
while (1) {
if (!(Res_128742 <= HEX3Atmp_128740)) goto LA22;
I_125947 = Res_128742;
Addson_54827(Result_125864, (*Header_125868).Sons->data[I_125947]);
Res_128742 += 1;
} LA22: ;
Idtableput_59171(&Ginsttypes_106045, &Header_125868->Sup, &Result_125864->Sup.Sup);
LOC23 = 0;
LOC23 = Lastson_54812(Body_125865);
Newbody_125866 = Replacetypevarst_125689(Cl_125692, LOC23);
LOC24 = 0;
LOC24 = Lastson_54812(Body_125865);
asgnRefNoCycle((void**) &(*Newbody_125866).N, Replacetypevarsn_125699(Cl_125692, (*LOC24).N));
Addson_54827(Result_125864, Newbody_125866);
Checkconstructedtype_125639((*Cl_125692).Info, Newbody_125866);
break;
case ((NU8) 10):
Internalerror_46571((*Cl_125692).Info, ((NimStringDesc*) &TMP194069));
LOC25 = 0;
LOC25 = Lastson_54812(T_125693);
Result_125864 = Replacetypevarst_125689(Cl_125692, LOC25);
break;
default:
LOC27 = Containsgenerictype_125203(T_125693);
if (!LOC27) goto LA28;
Result_125864 = Copytype_54770(T_125693, (*T_125693).Owner, NIM_FALSE);
I_125956 = 0;
HEX3Atmp_128743 = 0;
LOC30 = Sonslen_54806(Result_125864);
HEX3Atmp_128743 = (NI64)(LOC30 - 1);
Res_128745 = 0;
Res_128745 = 0;
while (1) {
if (!(Res_128745 <= HEX3Atmp_128743)) goto LA31;
I_125956 = Res_128745;
asgnRef((void**) &(*Result_125864).Sons->data[I_125956], Replacetypevarst_125689(Cl_125692, (*Result_125864).Sons->data[I_125956]));
Res_128745 += 1;
} LA31: ;
asgnRefNoCycle((void**) &(*Result_125864).N, Replacetypevarsn_125699(Cl_125692, (*Result_125864).N));
if (!((5632 &(IL64(1)<<(((*Result_125864).Kind)&IL64(63))))!=0)) goto LA33;
LOC35 = 0;
LOC35 = Typetostring_96014(T_125693, ((NU8) 0));
Limessage_46566((*Cl_125692).Info, ((NU8) 122), LOC35);
LA33: ;
LA28: ;
break;
}
BeforeRet: ;
return Result_125864;
}
N_NIMCALL(TY54551*, Generatetypeinstance_125978)(TY106012* P_125980, TY54563 Pt_125981, TY54525* Arg_125982, TY54551* T_125983) {
TY54551* Result_125984;
TY125684 Cl_125985;
Result_125984 = 0;
memset((void*)&Cl_125985, 0, sizeof(Cl_125985));
Initidtable_54754(&Cl_125985.Symmap);
Copyidtable_54798(&Cl_125985.Typemap, Pt_125981);
Cl_125985.Info = (*Arg_125982).Info;
Cl_125985.C = P_125980;
Pushinfocontext_46610((*Arg_125982).Info);
Result_125984 = Replacetypevarst_125689(&Cl_125985, T_125983);
Popinfocontext_46613();
return Result_125984;
}
N_NIMCALL(TY54551*, Getinstantiatedtype_127408)(TY106012* C_127410, TY54525* Arg_127411, TY126030* M_127412, TY54551* F_127413) {
TY54551* Result_127414;
TNimObject* LOC1;
Result_127414 = 0;
LOC1 = 0;
LOC1 = Idtableget_59163((*M_127412).Bindings, &F_127413->Sup);
Result_127414 = ((TY54551*) (LOC1));
if (!(Result_127414 == NIM_NIL)) goto LA3;
Result_127414 = Generatetypeinstance_125978(C_127410, (*M_127412).Bindings, Arg_127411, F_127413);
LA3: ;
if (!(Result_127414 == NIM_NIL)) goto LA6;
Internalerror_46571((*Arg_127411).Info, ((NimStringDesc*) &TMP194070));
LA6: ;
return Result_127414;
}
N_NIMCALL(TY54525*, Implicitconv_127437)(NU8 Kind_127439, TY54551* F_127440, TY54525* Arg_127441, TY126030* M_127442, TY106012* C_127443) {
TY54525* Result_127444;
NIM_BOOL LOC2;
Result_127444 = 0;
Result_127444 = Newnodei_54737(Kind_127439, (*Arg_127441).Info);
LOC2 = Containsgenerictype_125203(F_127440);
if (!LOC2) goto LA3;
asgnRef((void**) &(*Result_127444).Typ, Getinstantiatedtype_127408(C_127443, Arg_127441, M_127442, F_127440));
goto LA1;
LA3: ;
asgnRef((void**) &(*Result_127444).Typ, F_127440);
LA1: ;
if (!((*Result_127444).Typ == NIM_NIL)) goto LA6;
Internalerror_46571((*Arg_127441).Info, ((NimStringDesc*) &TMP194071));
LA6: ;
Addson_54823(Result_127444, NIM_NIL);
Addson_54823(Result_127444, Arg_127441);
return Result_127444;
}
N_NIMCALL(TY54525*, Userconvmatch_127456)(TY106012* C_127458, TY126030* M_127460, TY54551* F_127461, TY54551* A_127462, TY54525* Arg_127463) {
TY54525* Result_127464;
NI I_127482;
NI HEX3Atmp_128773;
NI Res_128775;
TY54551* Src_127483;
TY54551* Dest_127484;
NIM_BOOL LOC3;
NU8 LOC4;
NU8 LOC6;
TY54525* S_127505;
TY54525* LOC9;
Result_127464 = 0;
Result_127464 = NIM_NIL;
I_127482 = 0;
HEX3Atmp_128773 = 0;
HEX3Atmp_128773 = (NI64)((*C_127458).Converters->Sup.len - 1);
Res_128775 = 0;
Res_128775 = 0;
while (1) {
if (!(Res_128775 <= HEX3Atmp_128773)) goto LA1;
I_127482 = Res_128775;
Src_127483 = 0;
Src_127483 = (*(*(*C_127458).Converters->data[I_127482]).Typ).Sons->data[1];
Dest_127484 = 0;
Dest_127484 = (*(*(*C_127458).Converters->data[I_127482]).Typ).Sons->data[0];
LOC4 = Typerel_126303(&(*M_127460).Bindings, F_127461, Dest_127484);
LOC3 = (LOC4 == ((NU8) 5));
if (!(LOC3)) goto LA5;
LOC6 = Typerel_126303(&(*M_127460).Bindings, Src_127483, A_127462);
LOC3 = (LOC6 == ((NU8) 5));
LA5: ;
if (!LOC3) goto LA7;
S_127505 = 0;
S_127505 = Newsymnode_54734((*C_127458).Converters->data[I_127482]);
asgnRef((void**) &(*S_127505).Typ, (*(*C_127458).Converters->data[I_127482]).Typ);
(*S_127505).Info = (*Arg_127463).Info;
Result_127464 = Newnodeit_54741(((NU8) 49), (*Arg_127463).Info, (*(*S_127505).Typ).Sons->data[0]);
Addson_54823(Result_127464, S_127505);
LOC9 = 0;
LOC9 = Copytree_54858(Arg_127463);
Addson_54823(Result_127464, LOC9);
(*M_127460).Convmatches += 1;
goto BeforeRet;
LA7: ;
Res_128775 += 1;
} LA1: ;
BeforeRet: ;
return Result_127464;
}
N_NIMCALL(TY54525*, Paramtypesmatchaux_127518)(TY106012* C_127520, TY126030* M_127522, TY54551* F_127523, TY54551* A_127524, TY54525* Arg_127525) {
TY54525* Result_127526;
NU8 R_127528;
TY54525* LOC1;
TY54525* LOC2;
TY54525* LOC3;
TY54551* LOC5;
TY54525* LOC8;
TY54551* LOC10;
TY54525* LOC13;
NIM_BOOL LOC15;
TY54551* LOC19;
TY54551* LOC26;
TY54551* LOC27;
Result_127526 = 0;
R_127528 = 0;
R_127528 = Typerel_126303(&(*M_127522).Bindings, F_127523, A_127524);
switch (R_127528) {
case ((NU8) 1):
(*M_127522).Convmatches += 1;
LOC1 = 0;
LOC1 = Copytree_54858(Arg_127525);
Result_127526 = Implicitconv_127437(((NU8) 47), F_127523, LOC1, &(*M_127522), C_127520);
break;
case ((NU8) 2):
(*M_127522).Intconvmatches += 1;
LOC2 = 0;
LOC2 = Copytree_54858(Arg_127525);
Result_127526 = Implicitconv_127437(((NU8) 47), F_127523, LOC2, &(*M_127522), C_127520);
break;
case ((NU8) 3):
(*M_127522).Subtypematches += 1;
LOC3 = 0;
LOC3 = Copytree_54858(Arg_127525);
Result_127526 = Implicitconv_127437(((NU8) 48), F_127523, LOC3, &(*M_127522), C_127520);
break;
case ((NU8) 4):
(*M_127522).Genericmatches += 1;
Result_127526 = Copytree_54858(Arg_127525);
asgnRef((void**) &(*Result_127526).Typ, Getinstantiatedtype_127408(C_127520, Arg_127525, &(*M_127522), F_127523));
LOC5 = 0;
LOC5 = Skiptypes_96087((*Result_127526).Typ, 8431616);
if (!((134479872 &(IL64(1)<<(((*LOC5).Kind)&IL64(63))))!=0)) goto LA6;
LOC8 = 0;
LOC8 = Copytree_54858(Arg_127525);
Result_127526 = Implicitconv_127437(((NU8) 47), F_127523, LOC8, &(*M_127522), C_127520);
LA6: ;
break;
case ((NU8) 5):
(*M_127522).Exactmatches += 1;
Result_127526 = Copytree_54858(Arg_127525);
LOC10 = 0;
LOC10 = Skiptypes_96087(F_127523, 8431616);
if (!((134479872 &(IL64(1)<<(((*LOC10).Kind)&IL64(63))))!=0)) goto LA11;
LOC13 = 0;
LOC13 = Copytree_54858(Arg_127525);
Result_127526 = Implicitconv_127437(((NU8) 47), F_127523, LOC13, &(*M_127522), C_127520);
LA11: ;
break;
case ((NU8) 0):
Result_127526 = Userconvmatch_127456(C_127520, M_127522, F_127523, A_127524, Arg_127525);
LOC15 = (Result_127526 == NIM_NIL);
if (!(LOC15)) goto LA16;
LOC15 = ((*F_127523).Kind == ((NU8) 27));
LA16: ;
if (!LOC15) goto LA17;
LOC19 = 0;
LOC19 = Base_96021(F_127523);
R_127528 = Typerel_126303(&(*M_127522).Bindings, LOC19, A_127524);
if (!(((NU8) 4) <= R_127528)) goto LA21;
(*M_127522).Convmatches += 1;
Result_127526 = Copytree_54858(Arg_127525);
if (!(R_127528 == ((NU8) 4))) goto LA24;
LOC26 = 0;
LOC26 = Base_96021(F_127523);
asgnRef((void**) &(*Result_127526).Typ, Getinstantiatedtype_127408(C_127520, Arg_127525, &(*M_127522), LOC26));
LA24: ;
(*M_127522).Basetypematch = NIM_TRUE;
goto LA20;
LA21: ;
LOC27 = 0;
LOC27 = Base_96021(F_127523);
Result_127526 = Userconvmatch_127456(C_127520, M_127522, LOC27, A_127524, Arg_127525);
LA20: ;
LA17: ;
break;
}
return Result_127526;
}
N_NIMCALL(void, Initcandidate_126058)(TY126030* C_126061, TY54551* Callee_126062) {
Initcandidateaux_126053(C_126061, Callee_126062);
unsureAsgnRef((void**) &(*C_126061).Calleesym, NIM_NIL);
Initidtable_54754(&(*C_126061).Bindings);
}
N_NIMCALL(void, Copycandidate_126107)(TY126030* A_126110, TY126030* B_126111) {
(*A_126110).Exactmatches = (*B_126111).Exactmatches;
(*A_126110).Subtypematches = (*B_126111).Subtypematches;
(*A_126110).Convmatches = (*B_126111).Convmatches;
(*A_126110).Intconvmatches = (*B_126111).Intconvmatches;
(*A_126110).Genericmatches = (*B_126111).Genericmatches;
(*A_126110).State = (*B_126111).State;
unsureAsgnRef((void**) &(*A_126110).Callee, (*B_126111).Callee);
unsureAsgnRef((void**) &(*A_126110).Calleesym, (*B_126111).Calleesym);
unsureAsgnRef((void**) &(*A_126110).Call, Copytree_54858((*B_126111).Call));
(*A_126110).Basetypematch = (*B_126111).Basetypematch;
Copyidtable_54798(&(*A_126110).Bindings, (*B_126111).Bindings);
}
N_NIMCALL(NI, Cmpcandidates_126113)(TY126030* A_126115, TY126030* B_126116) {
NI Result_126117;
Result_126117 = 0;
Result_126117 = (NI64)((*A_126115).Exactmatches - (*B_126116).Exactmatches);
if (!!((Result_126117 == 0))) goto LA2;
goto BeforeRet;
LA2: ;
Result_126117 = (NI64)((*A_126115).Genericmatches - (*B_126116).Genericmatches);
if (!!((Result_126117 == 0))) goto LA5;
goto BeforeRet;
LA5: ;
Result_126117 = (NI64)((*A_126115).Subtypematches - (*B_126116).Subtypematches);
if (!!((Result_126117 == 0))) goto LA8;
goto BeforeRet;
LA8: ;
Result_126117 = (NI64)((*A_126115).Intconvmatches - (*B_126116).Intconvmatches);
if (!!((Result_126117 == 0))) goto LA11;
goto BeforeRet;
LA11: ;
Result_126117 = (NI64)((*A_126115).Convmatches - (*B_126116).Convmatches);
BeforeRet: ;
return Result_126117;
}
N_NIMCALL(TY54525*, Paramtypesmatch_127664)(TY106012* C_127666, TY126030* M_127668, TY54551* F_127669, TY54551* A_127670, TY54525* Arg_127671) {
TY54525* Result_127672;
NIM_BOOL LOC2;
TY126030 X_127693;
TY126030 Y_127694;
TY126030 Z_127695;
NI Best_127699;
NI I_127707;
NI HEX3Atmp_128776;
NI LOC6;
NI Res_128778;
NU8 R_127758;
NI Cmp_127768;
NIM_BOOL LOC22;
NI LOC24;
Result_127672 = 0;
LOC2 = (Arg_127671 == NIM_NIL);
if (LOC2) goto LA3;
LOC2 = !(((*Arg_127671).Kind == ((NU8) 46)));
LA3: ;
if (!LOC2) goto LA4;
Result_127672 = Paramtypesmatchaux_127518(C_127666, M_127668, F_127669, A_127670, Arg_127671);
goto LA1;
LA4: ;
memset((void*)&X_127693, 0, sizeof(X_127693));
memset((void*)&Y_127694, 0, sizeof(Y_127694));
memset((void*)&Z_127695, 0, sizeof(Z_127695));
Initcandidate_126058(&X_127693, (*M_127668).Callee);
Initcandidate_126058(&Y_127694, (*M_127668).Callee);
Initcandidate_126058(&Z_127695, (*M_127668).Callee);
X_127693.Calleesym = (*M_127668).Calleesym;
Y_127694.Calleesym = (*M_127668).Calleesym;
Z_127695.Calleesym = (*M_127668).Calleesym;
Best_127699 = 0;
Best_127699 = -1;
I_127707 = 0;
HEX3Atmp_128776 = 0;
LOC6 = Sonslen_54803(Arg_127671);
HEX3Atmp_128776 = (NI64)(LOC6 - 1);
Res_128778 = 0;
Res_128778 = 0;
while (1) {
if (!(Res_128778 <= HEX3Atmp_128776)) goto LA7;
I_127707 = Res_128778;
if (!((11264 &(1<<(((*(*(*Arg_127671).KindU.S6.Sons->data[I_127707]).KindU.S4.Sym).Kind)&31)))!=0)) goto LA9;
Copycandidate_126107(&Z_127695, &(*M_127668));
R_127758 = 0;
R_127758 = Typerel_126303(&Z_127695.Bindings, F_127669, (*(*Arg_127671).KindU.S6.Sons->data[I_127707]).Typ);
if (!!((R_127758 == ((NU8) 0)))) goto LA12;
switch (X_127693.State) {
case ((NU8) 0):
case ((NU8) 2):
genericAssign((void*)&X_127693, (void*)&Z_127695, NTI126030);
Best_127699 = I_127707;
X_127693.State = ((NU8) 1);
break;
case ((NU8) 1):
Cmp_127768 = 0;
Cmp_127768 = Cmpcandidates_126113(&X_127693, &Z_127695);
if (!(Cmp_127768 < 0)) goto LA15;
Best_127699 = I_127707;
genericAssign((void*)&X_127693, (void*)&Z_127695, NTI126030);
goto LA14;
LA15: ;
if (!(Cmp_127768 == 0)) goto LA17;
genericAssign((void*)&Y_127694, (void*)&Z_127695, NTI126030);
goto LA14;
LA17: ;
LA14: ;
break;
}
LA12: ;
LA9: ;
Res_128778 += 1;
} LA7: ;
if (!(X_127693.State == ((NU8) 0))) goto LA20;
Result_127672 = NIM_NIL;
goto LA19;
LA20: ;
LOC22 = (Y_127694.State == ((NU8) 1));
if (!(LOC22)) goto LA23;
LOC24 = Cmpcandidates_126113(&X_127693, &Y_127694);
LOC22 = (LOC24 == 0);
LA23: ;
if (!LOC22) goto LA25;
if (!!((X_127693.State == ((NU8) 1)))) goto LA28;
Internalerror_46571((*Arg_127671).Info, ((NimStringDesc*) &TMP194076));
LA28: ;
Result_127672 = NIM_NIL;
goto LA19;
LA25: ;
Markused_124065(Arg_127671, (*(*Arg_127671).KindU.S6.Sons->data[Best_127699]).KindU.S4.Sym);
Result_127672 = Paramtypesmatchaux_127518(C_127666, M_127668, F_127669, (*(*Arg_127671).KindU.S6.Sons->data[Best_127699]).Typ, (*Arg_127671).KindU.S6.Sons->data[Best_127699]);
LA19: ;
LA1: ;
return Result_127672;
}
N_NIMCALL(void, Setson_127860)(TY54525* Father_127862, NI At_127863, TY54525* Son_127864) {
NI LOC2;
LOC2 = Sonslen_54803(Father_127862);
if (!(LOC2 <= At_127863)) goto LA3;
(*Father_127862).KindU.S6.Sons = (TY54519*) setLengthSeq(&((*Father_127862).KindU.S6.Sons)->Sup, sizeof(TY54525*), (NI64)(At_127863 + 1));
LA3: ;
asgnRefNoCycle((void**) &(*Father_127862).KindU.S6.Sons->data[At_127863], Son_127864);
}
N_NIMCALL(void, Matches_127903)(TY106012* C_127905, TY54525* N_127906, TY126030* M_127908) {
NI F_127909;
NI A_127910;
NI Formallen_127911;
TY54525* LOC1;
TY54900 Marker_127924;
TY54525* Container_127926;
TY54547* Formal_127927;
NI LOC3;
NIM_BOOL LOC14;
TY54525* Arg_128092;
TY54551* LOC33;
TY54551* LOC36;
TY54525* LOC37;
TY54525* LOC38;
TY54525* LOC39;
TY54525* Arg_128222;
NIM_BOOL LOC43;
NIM_BOOL LOC44;
NIM_BOOL LOC53;
TY54525* Arg_128339;
TY54525* LOC62;
NI LOC67;
NIM_BOOL LOC69;
TY54525* LOC78;
TY54525* LOC79;
F_127909 = 0;
F_127909 = 1;
A_127910 = 0;
A_127910 = 1;
(*M_127908).State = ((NU8) 1);
unsureAsgnRef((void**) &(*M_127908).Call, Newnodei_54737(((NU8) 21), (*N_127906).Info));
asgnRef((void**) &(*(*M_127908).Call).Typ, Base_96021((*M_127908).Callee));
Formallen_127911 = 0;
Formallen_127911 = Sonslen_54803((*(*M_127908).Callee).N);
LOC1 = 0;
LOC1 = Copytree_54858((*N_127906).KindU.S6.Sons->data[0]);
Addson_54823((*M_127908).Call, LOC1);
memset((void*)&Marker_127924, 0, sizeof(Marker_127924));
Intsetinit_54924(&Marker_127924);
Container_127926 = 0;
Container_127926 = NIM_NIL;
Formal_127927 = 0;
Formal_127927 = NIM_NIL;
while (1) {
LOC3 = Sonslen_54803(N_127906);
if (!(A_127910 < LOC3)) goto LA2;
if (!((*(*N_127906).KindU.S6.Sons->data[A_127910]).Kind == ((NU8) 23))) goto LA5;
if (!!(((*(*(*N_127906).KindU.S6.Sons->data[A_127910]).KindU.S6.Sons->data[0]).Kind == ((NU8) 2)))) goto LA8;
Limessage_46566((*(*N_127906).KindU.S6.Sons->data[A_127910]).Info, ((NU8) 156), ((NimStringDesc*) &TMP193925));
(*M_127908).State = ((NU8) 2);
goto BeforeRet;
LA8: ;
Formal_127927 = Getsymfromlist_59194((*(*M_127908).Callee).N, (*(*(*N_127906).KindU.S6.Sons->data[A_127910]).KindU.S6.Sons->data[0]).KindU.S5.Ident, 1);
if (!(Formal_127927 == NIM_NIL)) goto LA11;
(*M_127908).State = ((NU8) 2);
goto BeforeRet;
LA11: ;
LOC14 = Intsetcontainsorincl_54928(&Marker_127924, (*Formal_127927).Position);
if (!LOC14) goto LA15;
Limessage_46566((*(*N_127906).KindU.S6.Sons->data[A_127910]).Info, ((NU8) 140), (*(*Formal_127927).Name).S);
(*M_127908).State = ((NU8) 2);
goto BeforeRet;
LA15: ;
(*M_127908).Basetypematch = NIM_FALSE;
Arg_128092 = 0;
Arg_128092 = Paramtypesmatch_127664(C_127905, M_127908, (*Formal_127927).Typ, (*(*N_127906).KindU.S6.Sons->data[A_127910]).Typ, (*(*N_127906).KindU.S6.Sons->data[A_127910]).KindU.S6.Sons->data[1]);
if (!(Arg_128092 == NIM_NIL)) goto LA18;
(*M_127908).State = ((NU8) 2);
goto BeforeRet;
LA18: ;
if (!(*M_127908).Basetypematch) goto LA21;
Container_127926 = Newnodei_54737(((NU8) 32), (*(*N_127906).KindU.S6.Sons->data[A_127910]).Info);
Addson_54823(Container_127926, Arg_128092);
Setson_127860((*M_127908).Call, (NI64)((*Formal_127927).Position + 1), Container_127926);
if (!!((F_127909 == (NI64)(Formallen_127911 - 1)))) goto LA24;
Container_127926 = NIM_NIL;
LA24: ;
goto LA20;
LA21: ;
Setson_127860((*M_127908).Call, (NI64)((*Formal_127927).Position + 1), Arg_128092);
LA20: ;
goto LA4;
LA5: ;
if (!(Formallen_127911 <= F_127909)) goto LA27;
if (!(((*(*M_127908).Callee).Flags &(1<<((((NU8) 0))&7)))!=0)) goto LA30;
LOC33 = 0;
LOC33 = Skiptypes_96087((*(*N_127906).KindU.S6.Sons->data[A_127910]).Typ, 8431616);
if (!((*LOC33).Kind == ((NU8) 28))) goto LA34;
LOC36 = 0;
LOC36 = Getsystype_101008(((NU8) 29));
LOC37 = 0;
LOC37 = Copytree_54858((*N_127906).KindU.S6.Sons->data[A_127910]);
LOC38 = 0;
LOC38 = Implicitconv_127437(((NU8) 47), LOC36, LOC37, &(*M_127908), C_127905);
Addson_54823((*M_127908).Call, LOC38);
goto LA32;
LA34: ;
LOC39 = 0;
LOC39 = Copytree_54858((*N_127906).KindU.S6.Sons->data[A_127910]);
Addson_54823((*M_127908).Call, LOC39);
LA32: ;
goto LA29;
LA30: ;
if (!!((Formal_127927 == NIM_NIL))) goto LA40;
(*M_127908).Basetypematch = NIM_FALSE;
Arg_128222 = 0;
Arg_128222 = Paramtypesmatch_127664(C_127905, M_127908, (*Formal_127927).Typ, (*(*N_127906).KindU.S6.Sons->data[A_127910]).Typ, (*N_127906).KindU.S6.Sons->data[A_127910]);
LOC44 = !((Arg_128222 == NIM_NIL));
if (!(LOC44)) goto LA45;
LOC44 = (*M_127908).Basetypematch;
LA45: ;
LOC43 = LOC44;
if (!(LOC43)) goto LA46;
LOC43 = !((Container_127926 == NIM_NIL));
LA46: ;
if (!LOC43) goto LA47;
Addson_54823(Container_127926, Arg_128222);
goto LA42;
LA47: ;
(*M_127908).State = ((NU8) 2);
goto BeforeRet;
LA42: ;
goto LA29;
LA40: ;
(*M_127908).State = ((NU8) 2);
goto BeforeRet;
LA29: ;
goto LA26;
LA27: ;
if (!!(((*(*(*(*M_127908).Callee).N).KindU.S6.Sons->data[F_127909]).Kind == ((NU8) 3)))) goto LA50;
Internalerror_46571((*(*N_127906).KindU.S6.Sons->data[A_127910]).Info, ((NimStringDesc*) &TMP194077));
LA50: ;
Formal_127927 = (*(*(*(*M_127908).Callee).N).KindU.S6.Sons->data[F_127909]).KindU.S4.Sym;
LOC53 = Intsetcontainsorincl_54928(&Marker_127924, (*Formal_127927).Position);
if (!LOC53) goto LA54;
Limessage_46566((*(*N_127906).KindU.S6.Sons->data[A_127910]).Info, ((NU8) 140), (*(*Formal_127927).Name).S);
(*M_127908).State = ((NU8) 2);
goto BeforeRet;
LA54: ;
(*M_127908).Basetypematch = NIM_FALSE;
Arg_128339 = 0;
Arg_128339 = Paramtypesmatch_127664(C_127905, M_127908, (*Formal_127927).Typ, (*(*N_127906).KindU.S6.Sons->data[A_127910]).Typ, (*N_127906).KindU.S6.Sons->data[A_127910]);
if (!(Arg_128339 == NIM_NIL)) goto LA57;
(*M_127908).State = ((NU8) 2);
goto BeforeRet;
LA57: ;
if (!(*M_127908).Basetypematch) goto LA60;
Container_127926 = Newnodei_54737(((NU8) 32), (*(*N_127906).KindU.S6.Sons->data[A_127910]).Info);
Addson_54823(Container_127926, Arg_128339);
LOC62 = 0;
LOC62 = Implicitconv_127437(((NU8) 47), (*Formal_127927).Typ, Container_127926, &(*M_127908), C_127905);
Setson_127860((*M_127908).Call, (NI64)((*Formal_127927).Position + 1), LOC62);
if (!!((F_127909 == (NI64)(Formallen_127911 - 1)))) goto LA64;
Container_127926 = NIM_NIL;
LA64: ;
goto LA59;
LA60: ;
Setson_127860((*M_127908).Call, (NI64)((*Formal_127927).Position + 1), Arg_128339);
LA59: ;
LA26: ;
LA4: ;
A_127910 += 1;
F_127909 += 1;
} LA2: ;
F_127909 = 1;
while (1) {
LOC67 = Sonslen_54803((*(*M_127908).Callee).N);
if (!(F_127909 < LOC67)) goto LA66;
Formal_127927 = (*(*(*(*M_127908).Callee).N).KindU.S6.Sons->data[F_127909]).KindU.S4.Sym;
LOC69 = Intsetcontainsorincl_54928(&Marker_127924, (*Formal_127927).Position);
if (!!(LOC69)) goto LA70;
if (!((*Formal_127927).Ast == NIM_NIL)) goto LA73;
if (!((*(*Formal_127927).Typ).Kind == ((NU8) 27))) goto LA76;
Container_127926 = Newnodei_54737(((NU8) 32), (*N_127906).Info);
LOC78 = 0;
LOC78 = Implicitconv_127437(((NU8) 47), (*Formal_127927).Typ, Container_127926, &(*M_127908), C_127905);
Addson_54823((*M_127908).Call, LOC78);
goto LA75;
LA76: ;
(*M_127908).State = ((NU8) 2);
goto LA66;
LA75: ;
goto LA72;
LA73: ;
LOC79 = 0;
LOC79 = Copytree_54858((*Formal_127927).Ast);
Setson_127860((*M_127908).Call, (NI64)((*Formal_127927).Position + 1), LOC79);
LA72: ;
LA70: ;
F_127909 += 1;
} LA66: ;
BeforeRet: ;
}
N_NIMCALL(NIM_BOOL, Samemethoddispatcher_128459)(TY54547* A_128461, TY54547* B_128462) {
NIM_BOOL Result_128463;
NIM_BOOL LOC2;
TY54525* Aa_128482;
TY54525* Bb_128483;
NIM_BOOL LOC7;
NIM_BOOL LOC8;
Result_128463 = 0;
Result_128463 = NIM_FALSE;
LOC2 = ((*A_128461).Kind == ((NU8) 11));
if (!(LOC2)) goto LA3;
LOC2 = ((*B_128462).Kind == ((NU8) 11));
LA3: ;
if (!LOC2) goto LA4;
Aa_128482 = 0;
Aa_128482 = Lastson_54809((*A_128461).Ast);
Bb_128483 = 0;
Bb_128483 = Lastson_54809((*B_128462).Ast);
LOC8 = ((*Aa_128482).Kind == ((NU8) 3));
if (!(LOC8)) goto LA9;
LOC8 = ((*Bb_128483).Kind == ((NU8) 3));
LA9: ;
LOC7 = LOC8;
if (!(LOC7)) goto LA10;
LOC7 = ((*Aa_128482).KindU.S4.Sym == (*Bb_128483).KindU.S4.Sym);
LA10: ;
if (!LOC7) goto LA11;
Result_128463 = NIM_TRUE;
LA11: ;
LA4: ;
return Result_128463;
}
N_NIMCALL(void, Instantiategenericparamlist_125207)(TY106012* C_125209, TY54525* N_125210, TY54563 Pt_125211) {
NI I_125228;
NI HEX3Atmp_128728;
NI LOC4;
NI Res_128730;
TY54525* A_125241;
TY54547* Q_125263;
TY54547* S_125276;
TY54547* LOC13;
TY54551* T_125277;
TNimObject* LOC14;
NimStringDesc* LOC21;
if (!!(((*N_125210).Kind == ((NU8) 65)))) goto LA2;
Internalerror_46571((*N_125210).Info, ((NimStringDesc*) &TMP194082));
LA2: ;
I_125228 = 0;
HEX3Atmp_128728 = 0;
LOC4 = Sonslen_54803(N_125210);
HEX3Atmp_128728 = (NI64)(LOC4 - 1);
Res_128730 = 0;
Res_128730 = 0;
while (1) {
if (!(Res_128730 <= HEX3Atmp_128728)) goto LA5;
I_125228 = Res_128730;
A_125241 = 0;
A_125241 = (*N_125210).KindU.S6.Sons->data[I_125228];
if (!!(((*A_125241).Kind == ((NU8) 3)))) goto LA8;
Internalerror_46571((*A_125241).Info, ((NimStringDesc*) &TMP194083));
LA8: ;
Q_125263 = 0;
Q_125263 = (*A_125241).KindU.S4.Sym;
if (!!(((4352 &(IL64(1)<<(((*(*Q_125263).Typ).Kind)&IL64(63))))!=0))) goto LA11;
goto LA6;
LA11: ;
S_125276 = 0;
LOC13 = 0;
LOC13 = Getcurrowner_106107();
S_125276 = Newsym_54701(((NU8) 7), (*Q_125263).Name, LOC13);
T_125277 = 0;
LOC14 = 0;
LOC14 = Idtableget_59163(Pt_125211, &(*Q_125263).Typ->Sup);
T_125277 = ((TY54551*) (LOC14));
if (!(T_125277 == NIM_NIL)) goto LA16;
Limessage_46566((*A_125241).Info, ((NU8) 122), (*(*S_125276).Name).S);
LA16: ;
if (!((*T_125277).Kind == ((NU8) 12))) goto LA19;
LOC21 = 0;
LOC21 = rawNewString((*(*Q_125263).Name).S->Sup.len + 29);
appendString(LOC21, ((NimStringDesc*) &TMP194084));
appendString(LOC21, (*(*Q_125263).Name).S);
Internalerror_46571((*A_125241).Info, LOC21);
LA19: ;
asgnRef((void**) &(*S_125276).Typ, T_125277);
Adddecl_107026(C_125209, S_125276);
LA6: ;
Res_128730 += 1;
} LA5: ;
}
N_NIMCALL(TY54551*, Neworprevtype_128829)(NU8 Kind_128831, TY54551* Prev_128832, TY106012* C_128833) {
TY54551* Result_128834;
Result_128834 = 0;
if (!(Prev_128832 == NIM_NIL)) goto LA2;
Result_128834 = Newtypes_106077(Kind_128831, C_128833);
goto LA1;
LA2: ;
Result_128834 = Prev_128832;
if (!((*Result_128834).Kind == ((NU8) 30))) goto LA5;
(*Result_128834).Kind = Kind_128831;
LA5: ;
LA1: ;
return Result_128834;
}
N_NIMCALL(TY54547*, Semtypeident_129606)(TY106012* C_129608, TY54525* N_129609) {
TY54547* Result_129610;
Result_129610 = 0;
Result_129610 = Qualifiedlookup_107053(C_129608, N_129609, NIM_TRUE);
if (!!((Result_129610 == NIM_NIL))) goto LA2;
Markused_124065(N_129609, Result_129610);
if (!!(((*Result_129610).Kind == ((NU8) 7)))) goto LA5;
Limessage_46566((*N_129609).Info, ((NU8) 60), ((NimStringDesc*) &TMP193925));
LA5: ;
goto LA1;
LA2: ;
Limessage_46566((*N_129609).Info, ((NU8) 19), ((NimStringDesc*) &TMP193925));
LA1: ;
return Result_129610;
}
N_NIMCALL(TY54551*, Semrangeaux_129303)(TY106012* C_129305, TY54525* N_129306, TY54551* Prev_129307) {
TY54551* Result_129308;
NIM_BOOL LOC5;
TY54525* A_129376;
TY54525* B_129389;
NIM_BOOL LOC10;
NIM_BOOL LOC17;
NIM_BOOL LOC21;
Result_129308 = 0;
if (!!(((*N_129306).Kind == ((NU8) 35)))) goto LA2;
Internalerror_46571((*N_129306).Info, ((NimStringDesc*) &TMP194085));
LA2: ;
Checksonslen_106099(N_129306, 2);
Result_129308 = Neworprevtype_128829(((NU8) 20), Prev_129307, C_129305);
asgnRefNoCycle((void**) &(*Result_129308).N, Newnodei_54737(((NU8) 35), (*N_129306).Info));
LOC5 = ((*N_129306).KindU.S6.Sons->data[0] == NIM_NIL);
if (LOC5) goto LA6;
LOC5 = ((*N_129306).KindU.S6.Sons->data[1] == NIM_NIL);
LA6: ;
if (!LOC5) goto LA7;
Limessage_46566((*N_129306).Info, ((NU8) 104), ((NimStringDesc*) &TMP193925));
LA7: ;
A_129376 = 0;
A_129376 = Semconstexpr_124171(C_129305, (*N_129306).KindU.S6.Sons->data[0]);
B_129389 = 0;
B_129389 = Semconstexpr_124171(C_129305, (*N_129306).KindU.S6.Sons->data[1]);
LOC10 = Sametype_96048((*A_129376).Typ, (*B_129389).Typ);
if (!!(LOC10)) goto LA11;
Limessage_46566((*N_129306).Info, ((NU8) 125), ((NimStringDesc*) &TMP193925));
LA11: ;
if (!!(((IL64(1097364160518) &(IL64(1)<<(((*(*A_129376).Typ).Kind)&IL64(63))))!=0))) goto LA14;
Limessage_46566((*N_129306).Info, ((NU8) 71), ((NimStringDesc*) &TMP193925));
LA14: ;
LOC17 = Enumhaswholes_96072((*A_129376).Typ);
if (!LOC17) goto LA18;
Limessage_46566((*N_129306).Info, ((NU8) 143), (*(*(*(*A_129376).Typ).Sym).Name).S);
LA18: ;
LOC21 = Levalue_54870(A_129376, B_129389);
if (!!(LOC21)) goto LA22;
Limessage_46566((*N_129306).Info, ((NU8) 104), ((NimStringDesc*) &TMP193925));
LA22: ;
Addson_54823((*Result_129308).N, A_129376);
Addson_54823((*Result_129308).N, B_129389);
Addson_54827(Result_129308, (*B_129389).Typ);
return Result_129308;
}
N_NIMCALL(TY54551*, Semarray_129455)(TY106012* C_129457, TY54525* N_129458, TY54551* Prev_129459) {
TY54551* Result_129460;
TY54551* Indx_129461;
TY54551* Base_129462;
NI LOC2;
NIM_BOOL LOC15;
NIM_BOOL LOC19;
Result_129460 = 0;
Indx_129461 = 0;
Base_129462 = 0;
Result_129460 = Neworprevtype_128829(((NU8) 16), Prev_129459, C_129457);
LOC2 = Sonslen_54803(N_129458);
if (!(LOC2 == 3)) goto LA3;
if (!((*(*N_129458).KindU.S6.Sons->data[1]).Kind == ((NU8) 35))) goto LA6;
Indx_129461 = Semrangeaux_129303(C_129457, (*N_129458).KindU.S6.Sons->data[1], NIM_NIL);
goto LA5;
LA6: ;
Indx_129461 = Semtypenode_124138(C_129457, (*N_129458).KindU.S6.Sons->data[1], NIM_NIL);
LA5: ;
Addson_54827(Result_129460, Indx_129461);
if (!((*Indx_129461).Kind == ((NU8) 11))) goto LA9;
Indx_129461 = Lastson_54812(Indx_129461);
LA9: ;
if (!!(((*Indx_129461).Kind == ((NU8) 12)))) goto LA12;
LOC15 = Isordinaltype_96069(Indx_129461);
if (!!(LOC15)) goto LA16;
Limessage_46566((*(*N_129458).KindU.S6.Sons->data[1]).Info, ((NU8) 71), ((NimStringDesc*) &TMP193925));
LA16: ;
LOC19 = Enumhaswholes_96072(Indx_129461);
if (!LOC19) goto LA20;
Limessage_46566((*(*N_129458).KindU.S6.Sons->data[1]).Info, ((NU8) 143), (*(*(*Indx_129461).Sym).Name).S);
LA20: ;
LA12: ;
Base_129462 = Semtypenode_124138(C_129457, (*N_129458).KindU.S6.Sons->data[2], NIM_NIL);
Addson_54827(Result_129460, Base_129462);
goto LA1;
LA3: ;
Limessage_46566((*N_129458).Info, ((NU8) 171), ((NimStringDesc*) &TMP193925));
LA1: ;
return Result_129460;
}
N_NIMCALL(TY54551*, Semcontainer_129207)(TY106012* C_129209, TY54525* N_129210, NU8 Kind_129211, NimStringDesc* Kindstr_129212, TY54551* Prev_129213) {
TY54551* Result_129214;
NI LOC2;
TY54551* Base_129229;
Result_129214 = 0;
Result_129214 = Neworprevtype_128829(Kind_129211, Prev_129213, C_129209);
LOC2 = Sonslen_54803(N_129210);
if (!(LOC2 == 2)) goto LA3;
Base_129229 = 0;
Base_129229 = Semtypenode_124138(C_129209, (*N_129210).KindU.S6.Sons->data[1], NIM_NIL);
Addson_54827(Result_129214, Base_129229);
goto LA1;
LA3: ;
Limessage_46566((*N_129210).Info, ((NU8) 170), Kindstr_129212);
LA1: ;
return Result_129214;
}
N_NIMCALL(TY54551*, Semrange_129402)(TY106012* C_129404, TY54525* N_129405, TY54551* Prev_129406) {
TY54551* Result_129407;
NI LOC2;
Result_129407 = 0;
Result_129407 = NIM_NIL;
LOC2 = Sonslen_54803(N_129405);
if (!(LOC2 == 2)) goto LA3;
if (!((*(*N_129405).KindU.S6.Sons->data[1]).Kind == ((NU8) 35))) goto LA6;
Result_129407 = Semrangeaux_129303(C_129404, (*N_129405).KindU.S6.Sons->data[1], Prev_129406);
goto LA5;
LA6: ;
Limessage_46566((*(*N_129405).KindU.S6.Sons->data[0]).Info, ((NU8) 93), ((NimStringDesc*) &TMP193925));
LA5: ;
goto LA1;
LA3: ;
Limessage_46566((*N_129405).Info, ((NU8) 170), ((NimStringDesc*) &TMP194087));
LA1: ;
return Result_129407;
}
N_NIMCALL(TY54551*, Semset_129166)(TY106012* C_129168, TY54525* N_129169, TY54551* Prev_129170) {
TY54551* Result_129171;
NI LOC2;
TY54551* Base_129186;
NIM_BOOL LOC12;
NI64 LOC16;
Result_129171 = 0;
Result_129171 = Neworprevtype_128829(((NU8) 19), Prev_129170, C_129168);
LOC2 = Sonslen_54803(N_129169);
if (!(LOC2 == 2)) goto LA3;
Base_129186 = 0;
Base_129186 = Semtypenode_124138(C_129168, (*N_129169).KindU.S6.Sons->data[1], NIM_NIL);
Addson_54827(Result_129171, Base_129186);
if (!((*Base_129186).Kind == ((NU8) 11))) goto LA6;
Base_129186 = Lastson_54812(Base_129186);
LA6: ;
if (!!(((*Base_129186).Kind == ((NU8) 12)))) goto LA9;
LOC12 = Isordinaltype_96069(Base_129186);
if (!!(LOC12)) goto LA13;
Limessage_46566((*N_129169).Info, ((NU8) 71), ((NimStringDesc*) &TMP193925));
LA13: ;
LOC16 = Lengthord_96007(Base_129186);
if (!(65536 < LOC16)) goto LA17;
Limessage_46566((*N_129169).Info, ((NU8) 117), ((NimStringDesc*) &TMP193925));
LA17: ;
LA9: ;
goto LA1;
LA3: ;
Limessage_46566((*N_129169).Info, ((NU8) 170), ((NimStringDesc*) &TMP194088));
LA1: ;
return Result_129171;
}
N_NIMCALL(TY54551*, Semordinal_129564)(TY106012* C_129566, TY54525* N_129567, TY54551* Prev_129568) {
TY54551* Result_129569;
NI LOC2;
TY54551* Base_129584;
NIM_BOOL LOC9;
Result_129569 = 0;
Result_129569 = Neworprevtype_128829(((NU8) 15), Prev_129568, C_129566);
LOC2 = Sonslen_54803(N_129567);
if (!(LOC2 == 2)) goto LA3;
Base_129584 = 0;
Base_129584 = Semtypenode_124138(C_129566, (*N_129567).KindU.S6.Sons->data[1], NIM_NIL);
if (!!(((*Base_129584).Kind == ((NU8) 12)))) goto LA6;
LOC9 = Isordinaltype_96069(Base_129584);
if (!!(LOC9)) goto LA10;
Limessage_46566((*(*N_129567).KindU.S6.Sons->data[1]).Info, ((NU8) 71), ((NimStringDesc*) &TMP193925));
LA10: ;
LA6: ;
Addson_54827(Result_129569, Base_129584);
goto LA1;
LA3: ;
Limessage_46566((*N_129567).Info, ((NU8) 170), ((NimStringDesc*) &TMP194089));
LA1: ;
return Result_129569;
}
N_NIMCALL(TY54551*, Instgenericcontainer_124166)(TY106012* C_124168, TY54525* N_124169, TY54551* Header_124170) {
TY54551* Result_125973;
TY125684 Cl_125974;
Result_125973 = 0;
memset((void*)&Cl_125974, 0, sizeof(Cl_125974));
Initidtable_54754(&Cl_125974.Symmap);
Initidtable_54754(&Cl_125974.Typemap);
Cl_125974.Info = (*N_124169).Info;
Cl_125974.C = C_124168;
Result_125973 = Replacetypevarst_125689(&Cl_125974, Header_124170);
return Result_125973;
}
N_NIMCALL(TY54551*, Semgeneric_129788)(TY106012* C_129790, TY54525* N_129791, TY54547* S_129792, TY54551* Prev_129793) {
TY54551* Result_129794;
TY54551* Elem_129795;
NIM_BOOL Isconcrete_129796;
NIM_BOOL LOC2;
NI LOC10;
NI LOC11;
NI I_129828;
NI HEX3Atmp_144890;
NI LOC14;
NI Res_144892;
Result_129794 = 0;
Elem_129795 = 0;
Isconcrete_129796 = 0;
LOC2 = ((*S_129792).Typ == NIM_NIL);
if (LOC2) goto LA3;
LOC2 = !(((*(*S_129792).Typ).Kind == ((NU8) 10)));
LA3: ;
if (!LOC2) goto LA4;
Limessage_46566((*N_129791).Info, ((NU8) 122), (*(*S_129792).Name).S);
LA4: ;
Result_129794 = Neworprevtype_128829(((NU8) 9), Prev_129793, C_129790);
if (!((*(*S_129792).Typ).Containerid == 0)) goto LA7;
Internalerror_46571((*N_129791).Info, ((NimStringDesc*) &TMP194091));
LA7: ;
LOC10 = Sonslen_54803(N_129791);
LOC11 = Sonslen_54806((*S_129792).Typ);
if (!!((LOC10 == LOC11))) goto LA12;
Limessage_46566((*N_129791).Info, ((NU8) 130), ((NimStringDesc*) &TMP193925));
LA12: ;
Addson_54827(Result_129794, (*S_129792).Typ);
Isconcrete_129796 = NIM_TRUE;
I_129828 = 0;
HEX3Atmp_144890 = 0;
LOC14 = Sonslen_54803(N_129791);
HEX3Atmp_144890 = (NI64)(LOC14 - 1);
Res_144892 = 0;
Res_144892 = 1;
while (1) {
if (!(Res_144892 <= HEX3Atmp_144890)) goto LA15;
I_129828 = Res_144892;
Elem_129795 = Semtypenode_124138(C_129790, (*N_129791).KindU.S6.Sons->data[I_129828], NIM_NIL);
if (!((*Elem_129795).Kind == ((NU8) 12))) goto LA17;
Isconcrete_129796 = NIM_FALSE;
LA17: ;
Addson_54827(Result_129794, Elem_129795);
Res_144892 += 1;
} LA15: ;
if (!Isconcrete_129796) goto LA20;
if (!((*S_129792).Ast == NIM_NIL)) goto LA23;
Limessage_46566((*N_129791).Info, ((NU8) 122), (*(*S_129792).Name).S);
LA23: ;
Result_129794 = Instgenericcontainer_124166(C_129790, N_129791, Result_129794);
LA20: ;
return Result_129794;
}
N_NIMCALL(void, Addinheritedfieldsaux_130949)(TY106012* C_130951, TY54900* Check_130953, NI* Pos_130955, TY54525* N_130956) {
NI I_130997;
NI HEX3Atmp_144914;
NI LOC4;
NI Res_144916;
TY54525* LOC6;
NI I_131029;
NI HEX3Atmp_144917;
NI LOC7;
NI Res_144919;
switch ((*N_130956).Kind) {
case ((NU8) 114):
if (!!(((*(*N_130956).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA2;
Internalerror_46571((*N_130956).Info, ((NimStringDesc*) &TMP194092));
LA2: ;
Addinheritedfieldsaux_130949(C_130951, Check_130953, Pos_130955, (*N_130956).KindU.S6.Sons->data[0]);
I_130997 = 0;
HEX3Atmp_144914 = 0;
LOC4 = Sonslen_54803(N_130956);
HEX3Atmp_144914 = (NI64)(LOC4 - 1);
Res_144916 = 0;
Res_144916 = 1;
while (1) {
if (!(Res_144916 <= HEX3Atmp_144914)) goto LA5;
I_130997 = Res_144916;
switch ((*(*N_130956).KindU.S6.Sons->data[I_130997]).Kind) {
case ((NU8) 75):
case ((NU8) 78):
LOC6 = 0;
LOC6 = Lastson_54809((*N_130956).KindU.S6.Sons->data[I_130997]);
Addinheritedfieldsaux_130949(C_130951, Check_130953, Pos_130955, LOC6);
break;
default:
Internalerror_46571((*N_130956).Info, ((NimStringDesc*) &TMP194093));
break;
}
Res_144916 += 1;
} LA5: ;
break;
case ((NU8) 113):
I_131029 = 0;
HEX3Atmp_144917 = 0;
LOC7 = Sonslen_54803(N_130956);
HEX3Atmp_144917 = (NI64)(LOC7 - 1);
Res_144919 = 0;
Res_144919 = 0;
while (1) {
if (!(Res_144919 <= HEX3Atmp_144917)) goto LA8;
I_131029 = Res_144919;
Addinheritedfieldsaux_130949(C_130951, Check_130953, Pos_130955, (*N_130956).KindU.S6.Sons->data[I_131029]);
Res_144919 += 1;
} LA8: ;
break;
case ((NU8) 3):
Intsetincl_54914(Check_130953, (*(*(*N_130956).KindU.S4.Sym).Name).Sup.Id);
(*Pos_130955) += 1;
break;
default:
Internalerror_46571((*N_130956).Info, ((NimStringDesc*) &TMP194094));
break;
}
}
N_NIMCALL(void, Addinheritedfields_131066)(TY106012* C_131068, TY54900* Check_131070, NI* Pos_131072, TY54551* Obj_131073) {
NIM_BOOL LOC2;
NI LOC3;
LOC3 = Sonslen_54806(Obj_131073);
LOC2 = (0 < LOC3);
if (!(LOC2)) goto LA4;
LOC2 = !(((*Obj_131073).Sons->data[0] == NIM_NIL));
LA4: ;
if (!LOC2) goto LA5;
Addinheritedfields_131066(C_131068, Check_131070, Pos_131072, (*Obj_131073).Sons->data[0]);
LA5: ;
Addinheritedfieldsaux_130949(C_131068, Check_131070, Pos_131072, (*Obj_131073).N);
}
N_NIMCALL(void, Checkbool_128779)(TY54525* T_128781) {
NIM_BOOL LOC2;
TY54551* LOC4;
LOC2 = ((*T_128781).Typ == NIM_NIL);
if (LOC2) goto LA3;
LOC4 = 0;
LOC4 = Skiptypes_96087((*T_128781).Typ, 8423424);
LOC2 = !(((*LOC4).Kind == ((NU8) 1)));
LA3: ;
if (!LOC2) goto LA5;
Limessage_46566((*T_128781).Info, ((NU8) 101), ((NimStringDesc*) &TMP193925));
LA5: ;
}
N_NIMCALL(NU8, Cmptypes_127400)(TY54551* F_127402, TY54551* A_127403) {
NU8 Result_127404;
TY54563 Mapping_127405;
Result_127404 = 0;
memset((void*)&Mapping_127405, 0, sizeof(Mapping_127405));
Initidtable_54754(&Mapping_127405);
Result_127404 = Typerel_126303(&Mapping_127405, F_127402, A_127403);
return Result_127404;
}
N_NIMCALL(void, Typemismatch_128803)(TY54525* N_128805, TY54551* Formal_128806, TY54551* Actual_128807) {
NimStringDesc* LOC1;
NimStringDesc* LOC2;
NimStringDesc* LOC3;
NimStringDesc* LOC4;
TY46866 LOC5;
NimStringDesc* LOC6;
LOC1 = 0;
LOC2 = 0;
LOC2 = Msgkindtostring_46592(((NU8) 126));
LOC3 = 0;
LOC3 = Typetostring_96014(Actual_128807, ((NU8) 0));
LOC4 = 0;
LOC4 = Msgkindtostring_46592(((NU8) 128));
memset((void*)&LOC5, 0, sizeof(LOC5));
LOC5[0] = Typetostring_96014(Formal_128806, ((NU8) 0));
LOC6 = 0;
LOC6 = nsuFormatOpenArray(LOC4, LOC5, 1);
LOC1 = rawNewString(LOC2->Sup.len + LOC3->Sup.len + LOC6->Sup.len + 2);
appendString(LOC1, LOC2);
appendString(LOC1, LOC3);
appendString(LOC1, ((NimStringDesc*) &TMP194098));
appendString(LOC1, LOC6);
Limessage_46566((*N_128805).Info, ((NU8) 4), LOC1);
}
N_NIMCALL(void, Sembranchexpr_130131)(TY106012* C_130133, TY54525* T_130134, TY54525** Ex_130136) {
NU8 LOC2;
unsureAsgnRef((void**) &(*Ex_130136), Semconstexpr_124171(C_130133, (*Ex_130136)));
Checkminsonslen_106103(T_130134, 1);
LOC2 = Cmptypes_127400((*(*T_130134).KindU.S6.Sons->data[0]).Typ, (*(*Ex_130136)).Typ);
if (!(LOC2 <= ((NU8) 1))) goto LA3;
Typemismatch_128803((*Ex_130136), (*(*T_130134).KindU.S6.Sons->data[0]).Typ, (*(*Ex_130136)).Typ);
LA3: ;
}
N_NIMCALL(void, Checkforoverlap_130073)(TY106012* C_130075, TY54525* T_130076, TY54525* Ex_130077, NI Branchindex_130078) {
NI I_130086;
NI HEX3Atmp_144896;
NI Res_144898;
NI J_130106;
NI HEX3Atmp_144893;
NI LOC2;
NI Res_144895;
NIM_BOOL LOC5;
I_130086 = 0;
HEX3Atmp_144896 = 0;
HEX3Atmp_144896 = (NI64)(Branchindex_130078 - 1);
Res_144898 = 0;
Res_144898 = 1;
while (1) {
if (!(Res_144898 <= HEX3Atmp_144896)) goto LA1;
I_130086 = Res_144898;
J_130106 = 0;
HEX3Atmp_144893 = 0;
LOC2 = Sonslen_54803((*T_130076).KindU.S6.Sons->data[I_130086]);
HEX3Atmp_144893 = (NI64)(LOC2 - 2);
Res_144895 = 0;
Res_144895 = 0;
while (1) {
if (!(Res_144895 <= HEX3Atmp_144893)) goto LA3;
J_130106 = Res_144895;
LOC5 = Overlap_103006((*(*T_130076).KindU.S6.Sons->data[I_130086]).KindU.S6.Sons->data[J_130106], Ex_130077);
if (!LOC5) goto LA6;
Limessage_46566((*Ex_130077).Info, ((NU8) 103), ((NimStringDesc*) &TMP193925));
LA6: ;
Res_144895 += 1;
} LA3: ;
Res_144898 += 1;
} LA1: ;
}
N_NIMCALL(void, Semcasebranch_130170)(TY106012* C_130172, TY54525* T_130173, TY54525* Branch_130174, NI Branchindex_130175, NI64* Covered_130177) {
NI I_130185;
NI HEX3Atmp_144899;
NI LOC1;
NI Res_144901;
TY54525* B_130198;
NIM_BOOL LOC7;
NI64 LOC10;
NI64 LOC11;
I_130185 = 0;
HEX3Atmp_144899 = 0;
LOC1 = Sonslen_54803(Branch_130174);
HEX3Atmp_144899 = (NI64)(LOC1 - 2);
Res_144901 = 0;
Res_144901 = 0;
while (1) {
if (!(Res_144901 <= HEX3Atmp_144899)) goto LA2;
I_130185 = Res_144901;
B_130198 = 0;
B_130198 = (*Branch_130174).KindU.S6.Sons->data[I_130185];
if (!((*B_130198).Kind == ((NU8) 35))) goto LA4;
Checksonslen_106099(B_130198, 2);
Sembranchexpr_130131(C_130172, T_130173, &(*B_130198).KindU.S6.Sons->data[0]);
Sembranchexpr_130131(C_130172, T_130173, &(*B_130198).KindU.S6.Sons->data[1]);
LOC7 = Emptyrange_103019((*B_130198).KindU.S6.Sons->data[0], (*B_130198).KindU.S6.Sons->data[1]);
if (!LOC7) goto LA8;
Limessage_46566((*B_130198).Info, ((NU8) 104), ((NimStringDesc*) &TMP193925));
LA8: ;
LOC10 = Getordvalue_96109((*B_130198).KindU.S6.Sons->data[1]);
LOC11 = Getordvalue_96109((*B_130198).KindU.S6.Sons->data[0]);
(*Covered_130177) = (NI64)((NI64)((NI64)((*Covered_130177) + LOC10) - LOC11) + 1);
goto LA3;
LA4: ;
Sembranchexpr_130131(C_130172, T_130173, &(*Branch_130174).KindU.S6.Sons->data[I_130185]);
(*Covered_130177) += 1;
LA3: ;
Checkforoverlap_130073(C_130172, T_130173, (*Branch_130174).KindU.S6.Sons->data[I_130185], Branchindex_130175);
Res_144901 += 1;
} LA2: ;
}
N_NIMCALL(void, Semrecordcase_130329)(TY106012* C_130331, TY54525* N_130332, TY54900* Check_130334, NI* Pos_130336, TY54525* Father_130337, TY54547* Rectype_130338) {
NI64 Covered_130339;
NIM_BOOL Chckcovered_130340;
TY54525* A_130341;
TY54525* B_130342;
TY54551* Typ_130343;
NIM_BOOL LOC5;
NI64 LOC9;
NI64 LOC13;
NI I_130484;
NI HEX3Atmp_144902;
NI LOC16;
NI Res_144904;
NI LOC18;
TY54525* LOC19;
NIM_BOOL LOC21;
NI64 LOC23;
Covered_130339 = 0;
Chckcovered_130340 = 0;
A_130341 = 0;
B_130342 = 0;
Typ_130343 = 0;
A_130341 = Copynode_54855(N_130332);
Checkminsonslen_106103(N_130332, 2);
Semrecordnodeaux_130319(C_130331, (*N_130332).KindU.S6.Sons->data[0], Check_130334, Pos_130336, A_130341, Rectype_130338);
if (!!(((*(*A_130341).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA2;
Internalerror_46575(((NimStringDesc*) &TMP194097));
LA2: ;
(*(*(*A_130341).KindU.S6.Sons->data[0]).KindU.S4.Sym).Flags |=(1<<((NI32)(((NU8) 21))%(sizeof(NI32)*8)));
Covered_130339 = 0;
Typ_130343 = Skiptypes_96087((*(*A_130341).KindU.S6.Sons->data[0]).Typ, 8431616);
LOC5 = Isordinaltype_96069(Typ_130343);
if (!!(LOC5)) goto LA6;
Limessage_46566((*N_130332).Info, ((NU8) 106), ((NimStringDesc*) &TMP193925));
LA6: ;
LOC9 = Firstord_96001(Typ_130343);
if (!(LOC9 < 0)) goto LA10;
Limessage_46566((*N_130332).Info, ((NU8) 107), (*(*(*(*A_130341).KindU.S6.Sons->data[0]).KindU.S4.Sym).Name).S);
LA10: ;
LOC13 = Lengthord_96007(Typ_130343);
if (!(32767 < LOC13)) goto LA14;
Limessage_46566((*N_130332).Info, ((NU8) 108), (*(*(*(*A_130341).KindU.S6.Sons->data[0]).KindU.S4.Sym).Name).S);
LA14: ;
Chckcovered_130340 = NIM_TRUE;
I_130484 = 0;
HEX3Atmp_144902 = 0;
LOC16 = Sonslen_54803(N_130332);
HEX3Atmp_144902 = (NI64)(LOC16 - 1);
Res_144904 = 0;
Res_144904 = 1;
while (1) {
if (!(Res_144904 <= HEX3Atmp_144902)) goto LA17;
I_130484 = Res_144904;
B_130342 = Copytree_54858((*N_130332).KindU.S6.Sons->data[I_130484]);
switch ((*(*N_130332).KindU.S6.Sons->data[I_130484]).Kind) {
case ((NU8) 75):
Checkminsonslen_106103(B_130342, 2);
Semcasebranch_130170(C_130331, A_130341, B_130342, I_130484, &Covered_130339);
break;
case ((NU8) 78):
Chckcovered_130340 = NIM_FALSE;
Checksonslen_106099(B_130342, 1);
break;
default:
Illformedast_106092(N_130332);
break;
}
LOC18 = Sonslen_54803(B_130342);
Delson_54835(B_130342, (NI64)(LOC18 - 1));
LOC19 = 0;
LOC19 = Lastson_54809((*N_130332).KindU.S6.Sons->data[I_130484]);
Semrecordnodeaux_130319(C_130331, LOC19, Check_130334, Pos_130336, B_130342, Rectype_130338);
Addson_54823(A_130341, B_130342);
Res_144904 += 1;
} LA17: ;
LOC21 = Chckcovered_130340;
if (!(LOC21)) goto LA22;
LOC23 = Lengthord_96007((*(*A_130341).KindU.S6.Sons->data[0]).Typ);
LOC21 = !((Covered_130339 == LOC23));
LA22: ;
if (!LOC21) goto LA24;
Limessage_46566((*A_130341).Info, ((NU8) 148), ((NimStringDesc*) &TMP193925));
LA24: ;
Addson_54823(Father_130337, A_130341);
}
N_NIMCALL(TY54547*, Newsyms_124059)(NU8 Kind_124061, TY54525* N_124062, TY106012* C_124063) {
TY54547* Result_124064;
TY53011* LOC1;
TY54547* LOC2;
Result_124064 = 0;
LOC1 = 0;
LOC1 = Consideracc_124003(N_124062);
LOC2 = 0;
LOC2 = Getcurrowner_106107();
Result_124064 = Newsym_54701(Kind_124061, LOC1, LOC2);
(*Result_124064).Info = (*N_124062).Info;
return Result_124064;
}
N_NIMCALL(TY54547*, Semidentvis_124092)(TY106012* C_124094, NU8 Kind_124095, TY54525* N_124096, NU32 Allowed_124097) {
TY54547* Result_129867;
NIM_BOOL LOC5;
NI LOC6;
TY53011* V_129936;
NIM_BOOL LOC11;
NIM_BOOL LOC15;
Result_129867 = 0;
if (!((*N_124096).Kind == ((NU8) 29))) goto LA2;
LOC6 = Sonslen_54803(N_124096);
LOC5 = (LOC6 == 2);
if (!(LOC5)) goto LA7;
LOC5 = ((*(*N_124096).KindU.S6.Sons->data[0]).Kind == ((NU8) 2));
LA7: ;
if (!LOC5) goto LA8;
Result_129867 = Newsyms_124059(Kind_124095, (*N_124096).KindU.S6.Sons->data[1], C_124094);
V_129936 = 0;
V_129936 = (*(*N_124096).KindU.S6.Sons->data[0]).KindU.S5.Ident;
LOC11 = ((Allowed_124097 &(1<<((((NU8) 1))&31)))!=0);
if (!(LOC11)) goto LA12;
LOC11 = ((*V_129936).Sup.Id == 69);
LA12: ;
if (!LOC11) goto LA13;
(*Result_129867).Flags |=(1<<((NI32)(((NU8) 1))%(sizeof(NI32)*8)));
goto LA10;
LA13: ;
LOC15 = ((Allowed_124097 &(1<<((((NU8) 2))&31)))!=0);
if (!(LOC15)) goto LA16;
LOC15 = ((*V_129936).Sup.Id == 70);
LA16: ;
if (!LOC15) goto LA17;
(*Result_129867).Flags |=(1<<((NI32)(((NU8) 2))%(sizeof(NI32)*8)));
goto LA10;
LA17: ;
Limessage_46566((*(*N_124096).KindU.S6.Sons->data[0]).Info, ((NU8) 172), (*V_129936).S);
LA10: ;
goto LA4;
LA8: ;
Illformedast_106092(N_124096);
LA4: ;
goto LA1;
LA2: ;
Result_129867 = Newsyms_124059(Kind_124095, N_124096, C_124094);
LA1: ;
return Result_129867;
}
N_NIMCALL(TY54547*, Semidentwithpragma_124098)(TY106012* C_124100, NU8 Kind_124101, TY54525* N_124102, NU32 Allowed_124103) {
TY54547* Result_130015;
Result_130015 = 0;
if (!((*N_124102).Kind == ((NU8) 34))) goto LA2;
Checksonslen_106099(N_124102, 2);
Result_130015 = Semidentvis_124092(C_124100, Kind_124101, (*N_124102).KindU.S6.Sons->data[0], Allowed_124103);
switch (Kind_124101) {
case ((NU8) 7):
break;
case ((NU8) 16):
Pragma_121028(C_124100, Result_130015, (*N_124102).KindU.S6.Sons->data[1], TMP194104);
break;
case ((NU8) 9):
Pragma_121028(C_124100, Result_130015, (*N_124102).KindU.S6.Sons->data[1], TMP194105);
break;
case ((NU8) 8):
Pragma_121028(C_124100, Result_130015, (*N_124102).KindU.S6.Sons->data[1], TMP194106);
break;
default:
break;
}
goto LA1;
LA2: ;
Result_130015 = Semidentvis_124092(C_124100, Kind_124101, N_124102, Allowed_124103);
LA1: ;
return Result_130015;
}
N_NIMCALL(void, Semrecordnodeaux_130319)(TY106012* C_130321, TY54525* N_130322, TY54900* Check_130324, NI* Pos_130326, TY54525* Father_130327, TY54547* Rectype_130328) {
NI Length_130546;
TY54547* F_130547;
TY54525* A_130548;
TY54525* It_130549;
TY54525* E_130550;
TY54525* Branch_130551;
TY54551* Typ_130552;
NI I_130571;
NI HEX3Atmp_144905;
NI LOC4;
NI Res_144907;
NIM_BOOL LOC13;
TY54525* LOC26;
NI I_130712;
NI HEX3Atmp_144908;
NI LOC30;
NI Res_144910;
NIM_BOOL LOC36;
NI I_130822;
NI HEX3Atmp_144911;
NI LOC46;
NI Res_144913;
NIM_BOOL LOC49;
NIM_BOOL LOC50;
NIM_BOOL LOC56;
TY54525* LOC62;
TY54525* LOC63;
Length_130546 = 0;
F_130547 = 0;
A_130548 = 0;
It_130549 = 0;
E_130550 = 0;
Branch_130551 = 0;
Typ_130552 = 0;
if (!(N_130322 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*N_130322).Kind) {
case ((NU8) 115):
Branch_130551 = NIM_NIL;
I_130571 = 0;
HEX3Atmp_144905 = 0;
LOC4 = Sonslen_54803(N_130322);
HEX3Atmp_144905 = (NI64)(LOC4 - 1);
Res_144907 = 0;
Res_144907 = 0;
while (1) {
if (!(Res_144907 <= HEX3Atmp_144905)) goto LA5;
I_130571 = Res_144907;
It_130549 = (*N_130322).KindU.S6.Sons->data[I_130571];
if (!(It_130549 == NIM_NIL)) goto LA7;
Illformedast_106092(N_130322);
LA7: ;
switch ((*It_130549).Kind) {
case ((NU8) 76):
Checksonslen_106099(It_130549, 2);
E_130550 = Semconstexpr_124171(C_130321, (*It_130549).KindU.S6.Sons->data[0]);
Checkbool_128779(E_130550);
if (!!(((*E_130550).Kind == ((NU8) 6)))) goto LA10;
Internalerror_46571((*E_130550).Info, ((NimStringDesc*) &TMP194096));
LA10: ;
LOC13 = !(((*E_130550).KindU.S1.Intval == 0));
if (!(LOC13)) goto LA14;
LOC13 = (Branch_130551 == NIM_NIL);
LA14: ;
if (!LOC13) goto LA15;
Branch_130551 = (*It_130549).KindU.S6.Sons->data[1];
LA15: ;
break;
case ((NU8) 78):
Checksonslen_106099(It_130549, 1);
if (!(Branch_130551 == NIM_NIL)) goto LA18;
Branch_130551 = (*It_130549).KindU.S6.Sons->data[0];
LA18: ;
break;
default:
Illformedast_106092(N_130322);
break;
}
Res_144907 += 1;
} LA5: ;
if (!!((Branch_130551 == NIM_NIL))) goto LA21;
Semrecordnodeaux_130319(C_130321, Branch_130551, Check_130324, Pos_130326, Father_130327, Rectype_130328);
LA21: ;
break;
case ((NU8) 114):
Semrecordcase_130329(C_130321, N_130322, Check_130324, Pos_130326, Father_130327, Rectype_130328);
break;
case ((NU8) 18):
if (!!(((*Father_130327).Kind == ((NU8) 113)))) goto LA24;
LOC26 = 0;
LOC26 = Newnodei_54737(((NU8) 113), (*N_130322).Info);
Addson_54823(Father_130327, LOC26);
LA24: ;
break;
case ((NU8) 113):
if (!((*Father_130327).Kind == ((NU8) 113))) goto LA28;
A_130548 = Father_130327;
goto LA27;
LA28: ;
A_130548 = Copynode_54855(N_130322);
LA27: ;
I_130712 = 0;
HEX3Atmp_144908 = 0;
LOC30 = Sonslen_54803(N_130322);
HEX3Atmp_144908 = (NI64)(LOC30 - 1);
Res_144910 = 0;
Res_144910 = 0;
while (1) {
if (!(Res_144910 <= HEX3Atmp_144908)) goto LA31;
I_130712 = Res_144910;
Semrecordnodeaux_130319(C_130321, (*N_130322).KindU.S6.Sons->data[I_130712], Check_130324, Pos_130326, A_130548, Rectype_130328);
Res_144910 += 1;
} LA31: ;
if (!!((A_130548 == Father_130327))) goto LA33;
Addson_54823(Father_130327, A_130548);
LA33: ;
break;
case ((NU8) 25):
Checkminsonslen_106103(N_130322, 3);
Length_130546 = Sonslen_54803(N_130322);
LOC36 = !(((*Father_130327).Kind == ((NU8) 113)));
if (!(LOC36)) goto LA37;
LOC36 = (4 <= Length_130546);
LA37: ;
if (!LOC36) goto LA38;
A_130548 = Newnodei_54737(((NU8) 113), (*N_130322).Info);
goto LA35;
LA38: ;
A_130548 = NIM_NIL;
LA35: ;
if (!!(((*N_130322).KindU.S6.Sons->data[(NI64)(Length_130546 - 1)] == NIM_NIL))) goto LA41;
Limessage_46566((*(*N_130322).KindU.S6.Sons->data[(NI64)(Length_130546 - 1)]).Info, ((NU8) 173), ((NimStringDesc*) &TMP193925));
LA41: ;
if (!((*N_130322).KindU.S6.Sons->data[(NI64)(Length_130546 - 2)] == NIM_NIL)) goto LA44;
Limessage_46566((*N_130322).Info, ((NU8) 60), ((NimStringDesc*) &TMP193925));
LA44: ;
Typ_130552 = Semtypenode_124138(C_130321, (*N_130322).KindU.S6.Sons->data[(NI64)(Length_130546 - 2)], NIM_NIL);
I_130822 = 0;
HEX3Atmp_144911 = 0;
LOC46 = Sonslen_54803(N_130322);
HEX3Atmp_144911 = (NI64)(LOC46 - 3);
Res_144913 = 0;
Res_144913 = 0;
while (1) {
if (!(Res_144913 <= HEX3Atmp_144911)) goto LA47;
I_130822 = Res_144913;
F_130547 = Semidentwithpragma_124098(C_130321, ((NU8) 16), (*N_130322).KindU.S6.Sons->data[I_130822], 6);
asgnRef((void**) &(*F_130547).Typ, Typ_130552);
(*F_130547).Position = (*Pos_130326);
LOC50 = !((Rectype_130328 == NIM_NIL));
if (!(LOC50)) goto LA51;
LOC50 = !(((384 & (*Rectype_130328).Flags) == 0));
LA51: ;
LOC49 = LOC50;
if (!(LOC49)) goto LA52;
LOC49 = ((*F_130547).Loc.R == NIM_NIL);
LA52: ;
if (!LOC49) goto LA53;
asgnRefNoCycle((void**) &(*F_130547).Loc.R, Torope_51046((*(*F_130547).Name).S));
(*F_130547).Flags = ((*F_130547).Flags | (384 & (*Rectype_130328).Flags));
LA53: ;
(*Pos_130326) += 1;
LOC56 = Intsetcontainsorincl_54928(Check_130324, (*(*F_130547).Name).Sup.Id);
if (!LOC56) goto LA57;
Limessage_46566((*(*N_130322).KindU.S6.Sons->data[I_130822]).Info, ((NU8) 37), (*(*F_130547).Name).S);
LA57: ;
if (!(A_130548 == NIM_NIL)) goto LA60;
LOC62 = 0;
LOC62 = Newsymnode_54734(F_130547);
Addson_54823(Father_130327, LOC62);
goto LA59;
LA60: ;
LOC63 = 0;
LOC63 = Newsymnode_54734(F_130547);
Addson_54823(A_130548, LOC63);
LA59: ;
Res_144913 += 1;
} LA47: ;
if (!!((A_130548 == NIM_NIL))) goto LA65;
Addson_54823(Father_130327, A_130548);
LA65: ;
break;
default:
Illformedast_106092(N_130322);
break;
}
BeforeRet: ;
}
N_NIMCALL(TY54551*, Semobjectnode_131087)(TY106012* C_131089, TY54525* N_131090, TY54551* Prev_131091) {
TY54551* Result_131092;
TY54900 Check_131093;
TY54551* Base_131094;
NI Pos_131095;
NIM_BOOL LOC11;
Result_131092 = 0;
memset((void*)&Check_131093, 0, sizeof(Check_131093));
Base_131094 = 0;
Pos_131095 = 0;
Intsetinit_54924(&Check_131093);
Pos_131095 = 0;
Checksonslen_106099(N_131090, 3);
if (!!(((*N_131090).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA2;
Base_131094 = Semtypenode_124138(C_131089, (*(*N_131090).KindU.S6.Sons->data[1]).KindU.S6.Sons->data[0], NIM_NIL);
if (!((*Base_131094).Kind == ((NU8) 17))) goto LA5;
Addinheritedfields_131066(C_131089, &Check_131093, &Pos_131095, Base_131094);
goto LA4;
LA5: ;
Limessage_46566((*(*N_131090).KindU.S6.Sons->data[1]).Info, ((NU8) 119), ((NimStringDesc*) &TMP193925));
LA4: ;
goto LA1;
LA2: ;
Base_131094 = NIM_NIL;
LA1: ;
if (!!(((*N_131090).Kind == ((NU8) 111)))) goto LA8;
Internalerror_46571((*N_131090).Info, ((NimStringDesc*) &TMP194095));
LA8: ;
Result_131092 = Neworprevtype_128829(((NU8) 17), Prev_131091, C_131089);
Addson_54827(Result_131092, Base_131094);
asgnRefNoCycle((void**) &(*Result_131092).N, Newnodei_54737(((NU8) 113), (*N_131090).Info));
Semrecordnodeaux_130319(C_131089, (*N_131090).KindU.S6.Sons->data[2], &Check_131093, &Pos_131095, (*Result_131092).N, (*Result_131092).Sym);
LOC11 = !((Base_131094 == NIM_NIL));
if (!(LOC11)) goto LA12;
LOC11 = (((*Base_131094).Flags &(1<<((((NU8) 2))&7)))!=0);
LA12: ;
if (!LOC11) goto LA13;
Limessage_46566((*(*N_131090).KindU.S6.Sons->data[1]).Info, ((NU8) 119), ((NimStringDesc*) &TMP193925));
LA13: ;
return Result_131092;
}
N_NIMCALL(TY54551*, Semtuple_129631)(TY106012* C_129633, TY54525* N_129634, TY54551* Prev_129635) {
TY54551* Result_129636;
NI Length_129637;
NI Counter_129638;
TY54551* Typ_129639;
TY54900 Check_129640;
TY54525* A_129641;
TY54547* Field_129642;
NI I_129651;
NI HEX3Atmp_144887;
NI LOC1;
NI Res_144889;
NI J_129750;
NI HEX3Atmp_144884;
NI Res_144886;
NIM_BOOL LOC14;
TY54525* LOC17;
Result_129636 = 0;
Length_129637 = 0;
Counter_129638 = 0;
Typ_129639 = 0;
memset((void*)&Check_129640, 0, sizeof(Check_129640));
A_129641 = 0;
Field_129642 = 0;
Result_129636 = Neworprevtype_128829(((NU8) 18), Prev_129635, C_129633);
asgnRefNoCycle((void**) &(*Result_129636).N, Newnodei_54737(((NU8) 113), (*N_129634).Info));
Intsetinit_54924(&Check_129640);
Counter_129638 = 0;
I_129651 = 0;
HEX3Atmp_144887 = 0;
LOC1 = Sonslen_54803(N_129634);
HEX3Atmp_144887 = (NI64)(LOC1 - 1);
Res_144889 = 0;
Res_144889 = 0;
while (1) {
if (!(Res_144889 <= HEX3Atmp_144887)) goto LA2;
I_129651 = Res_144889;
A_129641 = (*N_129634).KindU.S6.Sons->data[I_129651];
if (!!(((*A_129641).Kind == ((NU8) 25)))) goto LA4;
Illformedast_106092(A_129641);
LA4: ;
Checkminsonslen_106103(A_129641, 3);
Length_129637 = Sonslen_54803(A_129641);
if (!!(((*A_129641).KindU.S6.Sons->data[(NI64)(Length_129637 - 2)] == NIM_NIL))) goto LA7;
Typ_129639 = Semtypenode_124138(C_129633, (*A_129641).KindU.S6.Sons->data[(NI64)(Length_129637 - 2)], NIM_NIL);
goto LA6;
LA7: ;
Limessage_46566((*A_129641).Info, ((NU8) 60), ((NimStringDesc*) &TMP193925));
LA6: ;
if (!!(((*A_129641).KindU.S6.Sons->data[(NI64)(Length_129637 - 1)] == NIM_NIL))) goto LA10;
Limessage_46566((*(*A_129641).KindU.S6.Sons->data[(NI64)(Length_129637 - 1)]).Info, ((NU8) 173), ((NimStringDesc*) &TMP193925));
LA10: ;
J_129750 = 0;
HEX3Atmp_144884 = 0;
HEX3Atmp_144884 = (NI64)(Length_129637 - 3);
Res_144886 = 0;
Res_144886 = 0;
while (1) {
if (!(Res_144886 <= HEX3Atmp_144884)) goto LA12;
J_129750 = Res_144886;
Field_129642 = Newsyms_124059(((NU8) 16), (*A_129641).KindU.S6.Sons->data[J_129750], C_129633);
asgnRef((void**) &(*Field_129642).Typ, Typ_129639);
(*Field_129642).Position = Counter_129638;
Counter_129638 += 1;
LOC14 = Intsetcontainsorincl_54928(&Check_129640, (*(*Field_129642).Name).Sup.Id);
if (!LOC14) goto LA15;
Limessage_46566((*(*A_129641).KindU.S6.Sons->data[J_129750]).Info, ((NU8) 37), (*(*Field_129642).Name).S);
LA15: ;
LOC17 = 0;
LOC17 = Newsymnode_54734(Field_129642);
Addson_54823((*Result_129636).N, LOC17);
Addson_54827(Result_129636, Typ_129639);
Res_144886 += 1;
} LA12: ;
Res_144889 += 1;
} LA2: ;
return Result_129636;
}
N_NIMCALL(TY54551*, Semanyref_129230)(TY106012* C_129232, TY54525* N_129233, NU8 Kind_129234, NimStringDesc* Kindstr_129235, TY54551* Prev_129236) {
TY54551* Result_129237;
NI LOC2;
TY54551* Base_129252;
Result_129237 = 0;
Result_129237 = Neworprevtype_128829(Kind_129234, Prev_129236, C_129232);
LOC2 = Sonslen_54803(N_129233);
if (!(LOC2 == 1)) goto LA3;
Base_129252 = 0;
Base_129252 = Semtypenode_124138(C_129232, (*N_129233).KindU.S6.Sons->data[0], NIM_NIL);
Addson_54827(Result_129237, Base_129252);
goto LA1;
LA3: ;
Limessage_46566((*N_129233).Info, ((NU8) 170), Kindstr_129235);
LA1: ;
return Result_129237;
}
N_NIMCALL(TY54551*, Semvartype_129253)(TY106012* C_129255, TY54525* N_129256, TY54551* Prev_129257) {
TY54551* Result_129258;
NI LOC2;
TY54551* Base_129273;
Result_129258 = 0;
Result_129258 = Neworprevtype_128829(((NU8) 23), Prev_129257, C_129255);
LOC2 = Sonslen_54803(N_129256);
if (!(LOC2 == 1)) goto LA3;
Base_129273 = 0;
Base_129273 = Semtypenode_124138(C_129255, (*N_129256).KindU.S6.Sons->data[0], NIM_NIL);
if (!((*Base_129273).Kind == ((NU8) 23))) goto LA6;
Limessage_46566((*N_129256).Info, ((NU8) 192), ((NimStringDesc*) &TMP193925));
LA6: ;
Addson_54827(Result_129258, Base_129273);
goto LA1;
LA3: ;
Limessage_46566((*N_129256).Info, ((NU8) 170), ((NimStringDesc*) &TMP194109));
LA1: ;
return Result_129258;
}
N_NIMCALL(TY54551*, Semdistinct_129283)(TY106012* C_129285, TY54525* N_129286, TY54551* Prev_129287) {
TY54551* Result_129288;
NI LOC2;
TY54551* LOC5;
Result_129288 = 0;
Result_129288 = Neworprevtype_128829(((NU8) 13), Prev_129287, C_129285);
LOC2 = Sonslen_54803(N_129286);
if (!(LOC2 == 1)) goto LA3;
LOC5 = 0;
LOC5 = Semtypenode_124138(C_129285, (*N_129286).KindU.S6.Sons->data[0], NIM_NIL);
Addson_54827(Result_129288, LOC5);
goto LA1;
LA3: ;
Limessage_46566((*N_129286).Info, ((NU8) 170), ((NimStringDesc*) &TMP194110));
LA1: ;
return Result_129288;
}
N_NIMCALL(TY54551*, Semenum_128855)(TY106012* C_128857, TY54525* N_128858, TY54551* Prev_128859) {
TY54551* Result_128860;
NI64 Counter_128861;
NI64 X_128862;
TY54547* E_128863;
TY54551* Base_128864;
NI64 LOC7;
NI I_128940;
NI HEX3Atmp_144881;
NI LOC8;
NI Res_144883;
TY54525* V_129001;
TY54525* Strval_129002;
TY54551* LOC10;
NI LOC12;
TY54551* LOC16;
NIM_BOOL LOC29;
TY54525* LOC33;
Result_128860 = 0;
Counter_128861 = 0;
X_128862 = 0;
E_128863 = 0;
Base_128864 = 0;
Counter_128861 = 0;
Base_128864 = NIM_NIL;
Result_128860 = Neworprevtype_128829(((NU8) 14), Prev_128859, C_128857);
asgnRefNoCycle((void**) &(*Result_128860).N, Newnodei_54737(((NU8) 121), (*N_128858).Info));
Checkminsonslen_106103(N_128858, 1);
if (!!(((*N_128858).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA2;
Base_128864 = Semtypenode_124138(C_128857, (*(*N_128858).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[0], NIM_NIL);
if (!!(((*Base_128864).Kind == ((NU8) 14)))) goto LA5;
Limessage_46566((*(*N_128858).KindU.S6.Sons->data[0]).Info, ((NU8) 120), ((NimStringDesc*) &TMP193925));
LA5: ;
LOC7 = Lastord_96004(Base_128864);
Counter_128861 = (NI64)(LOC7 + 1);
LA2: ;
Addson_54827(Result_128860, Base_128864);
I_128940 = 0;
HEX3Atmp_144881 = 0;
LOC8 = Sonslen_54803(N_128858);
HEX3Atmp_144881 = (NI64)(LOC8 - 1);
Res_144883 = 0;
Res_144883 = 1;
while (1) {
if (!(Res_144883 <= HEX3Atmp_144881)) goto LA9;
I_128940 = Res_144883;
switch ((*(*N_128858).KindU.S6.Sons->data[I_128940]).Kind) {
case ((NU8) 122):
E_128863 = Newsyms_124059(((NU8) 17), (*(*N_128858).KindU.S6.Sons->data[I_128940]).KindU.S6.Sons->data[0], C_128857);
V_129001 = 0;
V_129001 = Semconstexpr_124171(C_128857, (*(*N_128858).KindU.S6.Sons->data[I_128940]).KindU.S6.Sons->data[1]);
Strval_129002 = 0;
Strval_129002 = NIM_NIL;
LOC10 = 0;
LOC10 = Skiptypes_96087((*V_129001).Typ, 43008);
switch ((*LOC10).Kind) {
case ((NU8) 18):
LOC12 = Sonslen_54803(V_129001);
if (!!((LOC12 == 2))) goto LA13;
Limessage_46566((*V_129001).Info, ((NU8) 109), ((NimStringDesc*) &TMP193925));
LA13: ;
Strval_129002 = (*V_129001).KindU.S6.Sons->data[1];
LOC16 = 0;
LOC16 = Skiptypes_96087((*Strval_129002).Typ, 43008);
if (!!(((805306368 &(IL64(1)<<(((*LOC16).Kind)&IL64(63))))!=0))) goto LA17;
Limessage_46566((*Strval_129002).Info, ((NU8) 6), ((NimStringDesc*) &TMP193925));
LA17: ;
X_128862 = Getordvalue_96109((*V_129001).KindU.S6.Sons->data[0]);
break;
case ((NU8) 28):
case ((NU8) 29):
Strval_129002 = V_129001;
X_128862 = Counter_128861;
break;
default:
X_128862 = Getordvalue_96109(V_129001);
break;
}
if (!!((I_128940 == 1))) goto LA20;
if (!!((X_128862 == Counter_128861))) goto LA23;
(*Result_128860).Flags |=(1<<((NI8)(((NU8) 4))%(sizeof(NI8)*8)));
LA23: ;
if (!(X_128862 < Counter_128861)) goto LA26;
Limessage_46566((*(*N_128858).KindU.S6.Sons->data[I_128940]).Info, ((NU8) 142), (*(*E_128863).Name).S);
LA26: ;
LA20: ;
asgnRefNoCycle((void**) &(*E_128863).Ast, Strval_129002);
Counter_128861 = X_128862;
break;
case ((NU8) 3):
E_128863 = (*(*N_128858).KindU.S6.Sons->data[I_128940]).KindU.S4.Sym;
break;
case ((NU8) 2):
E_128863 = Newsyms_124059(((NU8) 17), (*N_128858).KindU.S6.Sons->data[I_128940], C_128857);
break;
default:
Illformedast_106092(N_128858);
break;
}
asgnRef((void**) &(*E_128863).Typ, Result_128860);
(*E_128863).Position = ((NI) (Counter_128861));
LOC29 = !(((*Result_128860).Sym == NIM_NIL));
if (!(LOC29)) goto LA30;
LOC29 = (((*(*Result_128860).Sym).Flags &(1<<((((NU8) 3))&31)))!=0);
LA30: ;
if (!LOC29) goto LA31;
(*E_128863).Flags |=(1<<((NI32)(((NU8) 0))%(sizeof(NI32)*8)));
(*E_128863).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
Strtableadd_59061(&(*(*C_128857).Module).Tab, E_128863);
LA31: ;
LOC33 = 0;
LOC33 = Newsymnode_54734(E_128863);
Addson_54823((*Result_128860).N, LOC33);
Adddeclat_107030(C_128857, E_128863, ((NI) ((NI64)(((NI) ((*C_128857).Tab.Tos)) - 1))));
Counter_128861 += 1;
Res_144883 += 1;
} LA9: ;
return Result_128860;
}
N_NIMCALL(TY54551*, Semstmtlisttype_131563)(TY106012* C_131565, TY54525* N_131566, TY54551* Prev_131567) {
TY54551* Result_131568;
NI Length_131569;
NI I_131577;
NI HEX3Atmp_144935;
NI Res_144937;
Result_131568 = 0;
Checkminsonslen_106103(N_131566, 1);
Length_131569 = 0;
Length_131569 = Sonslen_54803(N_131566);
I_131577 = 0;
HEX3Atmp_144935 = 0;
HEX3Atmp_144935 = (NI64)(Length_131569 - 2);
Res_144937 = 0;
Res_144937 = 0;
while (1) {
if (!(Res_144937 <= HEX3Atmp_144935)) goto LA1;
I_131577 = Res_144937;
asgnRefNoCycle((void**) &(*N_131566).KindU.S6.Sons->data[I_131577], Semstmt_124143(C_131565, (*N_131566).KindU.S6.Sons->data[I_131577]));
Res_144937 += 1;
} LA1: ;
if (!(0 < Length_131569)) goto LA3;
Result_131568 = Semtypenode_124138(C_131565, (*N_131566).KindU.S6.Sons->data[(NI64)(Length_131569 - 1)], Prev_131567);
asgnRef((void**) &(*N_131566).Typ, Result_131568);
asgnRef((void**) &(*(*N_131566).KindU.S6.Sons->data[(NI64)(Length_131569 - 1)]).Typ, Result_131568);
goto LA2;
LA3: ;
Result_131568 = NIM_NIL;
LA2: ;
return Result_131568;
}
N_NIMCALL(TY54551*, Semblocktype_131628)(TY106012* C_131630, TY54525* N_131631, TY54551* Prev_131632) {
TY54551* Result_131633;
TY54547* LOC4;
Result_131633 = 0;
(*(*C_131630).P).Nestedblockcounter += 1;
Checksonslen_106099(N_131631, 2);
Openscope_59146(&(*C_131630).Tab);
if (!!(((*N_131631).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA2;
LOC4 = 0;
LOC4 = Newsyms_124059(((NU8) 19), (*N_131631).KindU.S6.Sons->data[0], C_131630);
Adddecl_107026(C_131630, LOC4);
LA2: ;
Result_131633 = Semstmtlisttype_131563(C_131630, (*N_131631).KindU.S6.Sons->data[1], Prev_131632);
asgnRef((void**) &(*(*N_131631).KindU.S6.Sons->data[1]).Typ, Result_131633);
asgnRef((void**) &(*N_131631).Typ, Result_131633);
Closescope_107017(&(*C_131630).Tab);
(*(*C_131630).P).Nestedblockcounter -= 1;
return Result_131633;
}
N_NIMCALL(TY54551*, Semtypenode_124138)(TY106012* C_124140, TY54525* N_124141, TY54551* Prev_124142) {
TY54551* Result_131724;
TY54547* S_131725;
TY54551* T_131726;
TY54525* LOC4;
NI LOC6;
NIM_BOOL LOC16;
TY53011* LOC23;
TY54525* LOC24;
Result_131724 = 0;
S_131725 = 0;
T_131726 = 0;
Result_131724 = NIM_NIL;
if (!(N_124141 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*N_124141).Kind) {
case ((NU8) 110):
LOC4 = 0;
LOC4 = Semexprwithtype_124122(C_124140, N_124141, 1);
Result_131724 = (*LOC4).Typ;
break;
case ((NU8) 30):
LOC6 = Sonslen_54803(N_124141);
if (!(LOC6 == 1)) goto LA7;
Result_131724 = Semtypenode_124138(C_124140, (*N_124141).KindU.S6.Sons->data[0], Prev_124142);
goto LA5;
LA7: ;
Limessage_46566((*N_124141).Info, ((NU8) 60), ((NimStringDesc*) &TMP193925));
LA5: ;
break;
case ((NU8) 33):
Checkminsonslen_106103(N_124141, 2);
S_131725 = Semtypeident_129606(C_124140, (*N_124141).KindU.S6.Sons->data[0]);
switch ((*S_131725).Magic) {
case ((NU8) 162):
Result_131724 = Semarray_129455(C_124140, N_124141, Prev_124142);
break;
case ((NU8) 163):
Result_131724 = Semcontainer_129207(C_124140, N_124141, ((NU8) 27), ((NimStringDesc*) &TMP194086), Prev_124142);
break;
case ((NU8) 164):
Result_131724 = Semrange_129402(C_124140, N_124141, Prev_124142);
break;
case ((NU8) 165):
Result_131724 = Semset_129166(C_124140, N_124141, Prev_124142);
break;
case ((NU8) 167):
Result_131724 = Semordinal_129564(C_124140, N_124141, Prev_124142);
break;
case ((NU8) 166):
Result_131724 = Semcontainer_129207(C_124140, N_124141, ((NU8) 24), ((NimStringDesc*) &TMP194090), Prev_124142);
break;
default:
Result_131724 = Semgeneric_129788(C_124140, N_124141, S_131725, Prev_124142);
break;
}
break;
case ((NU8) 2):
case ((NU8) 36):
case ((NU8) 43):
S_131725 = Semtypeident_129606(C_124140, N_124141);
if (!((*S_131725).Typ == NIM_NIL)) goto LA10;
Limessage_46566((*N_124141).Info, ((NU8) 60), ((NimStringDesc*) &TMP193925));
LA10: ;
if (!(Prev_124142 == NIM_NIL)) goto LA13;
Result_131724 = (*S_131725).Typ;
goto LA12;
LA13: ;
Assigntype_54779(Prev_124142, (*S_131725).Typ);
(*Prev_124142).Sup.Id = (*(*S_131725).Typ).Sup.Id;
Result_131724 = Prev_124142;
LA12: ;
break;
case ((NU8) 3):
LOC16 = ((*(*N_124141).KindU.S4.Sym).Kind == ((NU8) 7));
if (!(LOC16)) goto LA17;
LOC16 = !(((*(*N_124141).KindU.S4.Sym).Typ == NIM_NIL));
LA17: ;
if (!LOC16) goto LA18;
T_131726 = (*(*N_124141).KindU.S4.Sym).Typ;
if (!(Prev_124142 == NIM_NIL)) goto LA21;
Result_131724 = T_131726;
goto LA20;
LA21: ;
Assigntype_54779(Prev_124142, T_131726);
Result_131724 = Prev_124142;
LA20: ;
Markused_124065(N_124141, (*N_124141).KindU.S4.Sym);
goto LA15;
LA18: ;
Limessage_46566((*N_124141).Info, ((NU8) 60), ((NimStringDesc*) &TMP193925));
LA15: ;
break;
case ((NU8) 111):
Result_131724 = Semobjectnode_131087(C_124140, N_124141, Prev_124142);
break;
case ((NU8) 112):
Result_131724 = Semtuple_129631(C_124140, N_124141, Prev_124142);
break;
case ((NU8) 116):
Result_131724 = Semanyref_129230(C_124140, N_124141, ((NU8) 22), ((NimStringDesc*) &TMP194107), Prev_124142);
break;
case ((NU8) 117):
Result_131724 = Semanyref_129230(C_124140, N_124141, ((NU8) 21), ((NimStringDesc*) &TMP194108), Prev_124142);
break;
case ((NU8) 118):
Result_131724 = Semvartype_129253(C_124140, N_124141, Prev_124142);
break;
case ((NU8) 119):
Result_131724 = Semdistinct_129283(C_124140, N_124141, Prev_124142);
break;
case ((NU8) 120):
Checksonslen_106099(N_124141, 2);
Result_131724 = Semproctypenode_131319(C_124140, (*N_124141).KindU.S6.Sons->data[0], NIM_NIL, Prev_124142);
LOC23 = 0;
LOC23 = Getident_53016(((NimStringDesc*) &TMP194111));
LOC24 = 0;
LOC24 = Newidentnode_54730(LOC23, (*N_124141).Info);
S_131725 = Newsyms_124059(((NU8) 10), LOC24, C_124140);
asgnRef((void**) &(*S_131725).Typ, Result_131724);
Pragma_121028(C_124140, S_131725, (*N_124141).KindU.S6.Sons->data[1], TMP194112);
break;
case ((NU8) 121):
Result_131724 = Semenum_128855(C_124140, N_124141, Prev_124142);
break;
case ((NU8) 4):
Result_131724 = (*N_124141).Typ;
break;
case ((NU8) 108):
Result_131724 = Semstmtlisttype_131563(C_124140, N_124141, Prev_124142);
break;
case ((NU8) 109):
Result_131724 = Semblocktype_131628(C_124140, N_124141, Prev_124142);
break;
default:
Limessage_46566((*N_124141).Info, ((NU8) 60), ((NimStringDesc*) &TMP193925));
break;
}
BeforeRet: ;
return Result_131724;
}
N_NIMCALL(TY54551*, Addtypevarsofgenericbody_131224)(TY106012* C_131226, TY54551* T_131227, TY54525* Genericparams_131228, TY54900* Cl_131230) {
TY54551* Result_131231;
NIM_BOOL LOC5;
NI I_131250;
NI HEX3Atmp_144920;
NI LOC8;
NI Res_144922;
TY54547* S_131260;
NIM_BOOL LOC14;
TY54525* LOC18;
NI L_131281;
NI LOC19;
NI I_131289;
NI HEX3Atmp_144923;
NI LOC20;
NI Res_144925;
NI I_131297;
NI HEX3Atmp_144926;
NI LOC22;
NI Res_144928;
Result_131231 = 0;
Result_131231 = T_131227;
if (!(T_131227 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
LOC5 = Intsetcontainsorincl_54928(Cl_131230, (*T_131227).Sup.Id);
if (!LOC5) goto LA6;
goto BeforeRet;
LA6: ;
switch ((*T_131227).Kind) {
case ((NU8) 10):
Result_131231 = Newtypes_106077(((NU8) 9), C_131226);
Addson_54827(Result_131231, T_131227);
I_131250 = 0;
HEX3Atmp_144920 = 0;
LOC8 = Sonslen_54806(T_131227);
HEX3Atmp_144920 = (NI64)(LOC8 - 2);
Res_144922 = 0;
Res_144922 = 0;
while (1) {
if (!(Res_144922 <= HEX3Atmp_144920)) goto LA9;
I_131250 = Res_144922;
if (!!(((*(*T_131227).Sons->data[I_131250]).Kind == ((NU8) 12)))) goto LA11;
Internalerror_46575(((NimStringDesc*) &TMP194114));
LA11: ;
S_131260 = 0;
S_131260 = Copysym_54775((*(*T_131227).Sons->data[I_131250]).Sym, NIM_FALSE);
(*S_131260).Position = Sonslen_54803(Genericparams_131228);
LOC14 = ((*S_131260).Typ == NIM_NIL);
if (LOC14) goto LA15;
LOC14 = !(((*(*S_131260).Typ).Kind == ((NU8) 12)));
LA15: ;
if (!LOC14) goto LA16;
Internalerror_46575(((NimStringDesc*) &TMP194115));
LA16: ;
Adddecl_107026(C_131226, S_131260);
LOC18 = 0;
LOC18 = Newsymnode_54734(S_131260);
Addson_54823(Genericparams_131228, LOC18);
Addson_54827(Result_131231, (*T_131227).Sons->data[I_131250]);
Res_144922 += 1;
} LA9: ;
break;
case ((NU8) 11):
L_131281 = 0;
LOC19 = Sonslen_54806(T_131227);
L_131281 = (NI64)(LOC19 - 1);
asgnRef((void**) &(*T_131227).Sons->data[L_131281], Addtypevarsofgenericbody_131224(C_131226, (*T_131227).Sons->data[L_131281], Genericparams_131228, Cl_131230));
break;
case ((NU8) 9):
I_131289 = 0;
HEX3Atmp_144923 = 0;
LOC20 = Sonslen_54806(T_131227);
HEX3Atmp_144923 = (NI64)(LOC20 - 1);
Res_144925 = 0;
Res_144925 = 1;
while (1) {
if (!(Res_144925 <= HEX3Atmp_144923)) goto LA21;
I_131289 = Res_144925;
asgnRef((void**) &(*T_131227).Sons->data[I_131289], Addtypevarsofgenericbody_131224(C_131226, (*T_131227).Sons->data[I_131289], Genericparams_131228, Cl_131230));
Res_144925 += 1;
} LA21: ;
break;
default:
I_131297 = 0;
HEX3Atmp_144926 = 0;
LOC22 = Sonslen_54806(T_131227);
HEX3Atmp_144926 = (NI64)(LOC22 - 1);
Res_144928 = 0;
Res_144928 = 0;
while (1) {
if (!(Res_144928 <= HEX3Atmp_144926)) goto LA23;
I_131297 = Res_144928;
asgnRef((void**) &(*T_131227).Sons->data[I_131297], Addtypevarsofgenericbody_131224(C_131226, (*T_131227).Sons->data[I_131297], Genericparams_131228, Cl_131230));
Res_144928 += 1;
} LA23: ;
break;
}
BeforeRet: ;
return Result_131231;
}
N_NIMCALL(TY54551*, Paramtype_131298)(TY106012* C_131300, TY54525* N_131301, TY54525* Genericparams_131302, TY54900* Cl_131304) {
TY54551* Result_131305;
NIM_BOOL LOC2;
NI LOC4;
Result_131305 = 0;
Result_131305 = Semtypenode_124138(C_131300, N_131301, NIM_NIL);
LOC2 = !((Genericparams_131302 == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC4 = Sonslen_54803(Genericparams_131302);
LOC2 = (LOC4 == 0);
LA3: ;
if (!LOC2) goto LA5;
Result_131305 = Addtypevarsofgenericbody_131224(C_131300, Result_131305, Genericparams_131302, Cl_131304);
LA5: ;
return Result_131305;
}
N_NIMCALL(TY54525*, Indextypesmatch_127850)(TY106012* C_127852, TY54551* F_127853, TY54551* A_127854, TY54525* Arg_127855) {
TY54525* Result_127856;
TY126030 M_127857;
Result_127856 = 0;
memset((void*)&M_127857, 0, sizeof(M_127857));
Initcandidate_126058(&M_127857, F_127853);
Result_127856 = Paramtypesmatch_127664(C_127852, &M_127857, F_127853, A_127854, Arg_127855);
return Result_127856;
}
N_NIMCALL(TY54525*, Fitnode_124129)(TY106012* C_124131, TY54551* Formal_124132, TY54525* Arg_124133) {
TY54525* Result_128817;
Result_128817 = 0;
Result_128817 = Indextypesmatch_127850(C_124131, Formal_124132, (*Arg_124133).Typ, Arg_124133);
if (!(Result_128817 == NIM_NIL)) goto LA2;
Typemismatch_128803(Arg_124133, Formal_124132, (*Arg_124133).Typ);
LA2: ;
return Result_128817;
}
N_NIMCALL(TY54551*, Semproctypenode_131319)(TY106012* C_131321, TY54525* N_131322, TY54525* Genericparams_131323, TY54551* Prev_131324) {
TY54551* Result_131325;
TY54525* Def_131326;
TY54525* Res_131327;
TY54551* Typ_131328;
TY54900 Check_131329;
TY54900 Cl_131330;
TY106002* LOC1;
NIM_BOOL LOC3;
NI LOC5;
NI Counter_131346;
NI I_131354;
NI HEX3Atmp_144932;
NI LOC8;
NI Res_144934;
TY54525* A_131367;
NI Length_131377;
NU8 LOC23;
NI J_131488;
NI HEX3Atmp_144929;
NI Res_144931;
TY54547* Arg_131501;
NIM_BOOL LOC28;
TY54525* LOC31;
Result_131325 = 0;
Def_131326 = 0;
Res_131327 = 0;
Typ_131328 = 0;
memset((void*)&Check_131329, 0, sizeof(Check_131329));
memset((void*)&Cl_131330, 0, sizeof(Cl_131330));
Checkminsonslen_106103(N_131322, 1);
Result_131325 = Neworprevtype_128829(((NU8) 25), Prev_131324, C_131321);
LOC1 = 0;
LOC1 = Lastoptionentry_106053(C_131321);
(*Result_131325).Callconv = (*LOC1).Defaultcc;
asgnRefNoCycle((void**) &(*Result_131325).N, Newnodei_54737(((NU8) 66), (*N_131322).Info));
LOC3 = !((Genericparams_131323 == NIM_NIL));
if (!(LOC3)) goto LA4;
LOC5 = Sonslen_54803(Genericparams_131323);
LOC3 = (LOC5 == 0);
LA4: ;
if (!LOC3) goto LA6;
Intsetinit_54924(&Cl_131330);
LA6: ;
Addson_54827(Result_131325, NIM_NIL);
Res_131327 = Newnodei_54737(((NU8) 4), (*N_131322).Info);
Addson_54823((*Result_131325).N, Res_131327);
Intsetinit_54924(&Check_131329);
Counter_131346 = 0;
Counter_131346 = 0;
I_131354 = 0;
HEX3Atmp_144932 = 0;
LOC8 = Sonslen_54803(N_131322);
HEX3Atmp_144932 = (NI64)(LOC8 - 1);
Res_144934 = 0;
Res_144934 = 1;
while (1) {
if (!(Res_144934 <= HEX3Atmp_144932)) goto LA9;
I_131354 = Res_144934;
A_131367 = 0;
A_131367 = (*N_131322).KindU.S6.Sons->data[I_131354];
if (!!(((*A_131367).Kind == ((NU8) 25)))) goto LA11;
Illformedast_106092(A_131367);
LA11: ;
Checkminsonslen_106103(A_131367, 3);
Length_131377 = 0;
Length_131377 = Sonslen_54803(A_131367);
if (!!(((*A_131367).KindU.S6.Sons->data[(NI64)(Length_131377 - 2)] == NIM_NIL))) goto LA14;
Typ_131328 = Paramtype_131298(C_131321, (*A_131367).KindU.S6.Sons->data[(NI64)(Length_131377 - 2)], Genericparams_131323, &Cl_131330);
goto LA13;
LA14: ;
Typ_131328 = NIM_NIL;
LA13: ;
if (!!(((*A_131367).KindU.S6.Sons->data[(NI64)(Length_131377 - 1)] == NIM_NIL))) goto LA17;
Def_131326 = Semexprwithtype_124122(C_131321, (*A_131367).KindU.S6.Sons->data[(NI64)(Length_131377 - 1)], 0);
if (!!((Typ_131328 == NIM_NIL))) goto LA20;
LOC23 = Cmptypes_127400(Typ_131328, (*Def_131326).Typ);
if (!(LOC23 < ((NU8) 1))) goto LA24;
Typemismatch_128803((*A_131367).KindU.S6.Sons->data[(NI64)(Length_131377 - 1)], Typ_131328, (*Def_131326).Typ);
LA24: ;
Def_131326 = Fitnode_124129(C_131321, Typ_131328, Def_131326);
goto LA19;
LA20: ;
Typ_131328 = (*Def_131326).Typ;
LA19: ;
goto LA16;
LA17: ;
Def_131326 = NIM_NIL;
LA16: ;
J_131488 = 0;
HEX3Atmp_144929 = 0;
HEX3Atmp_144929 = (NI64)(Length_131377 - 3);
Res_144931 = 0;
Res_144931 = 0;
while (1) {
if (!(Res_144931 <= HEX3Atmp_144929)) goto LA26;
J_131488 = Res_144931;
Arg_131501 = 0;
Arg_131501 = Newsyms_124059(((NU8) 3), (*A_131367).KindU.S6.Sons->data[J_131488], C_131321);
asgnRef((void**) &(*Arg_131501).Typ, Typ_131328);
(*Arg_131501).Position = Counter_131346;
Counter_131346 += 1;
asgnRefNoCycle((void**) &(*Arg_131501).Ast, Copytree_54858(Def_131326));
LOC28 = Intsetcontainsorincl_54928(&Check_131329, (*(*Arg_131501).Name).Sup.Id);
if (!LOC28) goto LA29;
Limessage_46566((*(*A_131367).KindU.S6.Sons->data[J_131488]).Info, ((NU8) 37), (*(*Arg_131501).Name).S);
LA29: ;
LOC31 = 0;
LOC31 = Newsymnode_54734(Arg_131501);
Addson_54823((*Result_131325).N, LOC31);
Addson_54827(Result_131325, Typ_131328);
Res_144931 += 1;
} LA26: ;
Res_144934 += 1;
} LA9: ;
if (!!(((*N_131322).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA33;
asgnRef((void**) &(*Result_131325).Sons->data[0], Paramtype_131298(C_131321, (*N_131322).KindU.S6.Sons->data[0], Genericparams_131323, &Cl_131330));
asgnRef((void**) &(*Res_131327).Typ, (*Result_131325).Sons->data[0]);
LA33: ;
return Result_131325;
}
N_NIMCALL(void, Semparamlist_124147)(TY106012* C_124149, TY54525* N_124150, TY54525* Genericparams_124151, TY54547* S_124152) {
asgnRef((void**) &(*S_124152).Typ, Semproctypenode_131319(C_124149, N_124150, Genericparams_124151, NIM_NIL));
}
N_NIMCALL(void, Addparams_124153)(TY106012* C_124155, TY54525* N_124156) {
NI I_143322;
NI HEX3Atmp_145133;
NI LOC1;
NI Res_145135;
I_143322 = 0;
HEX3Atmp_145133 = 0;
LOC1 = Sonslen_54803(N_124156);
HEX3Atmp_145133 = (NI64)(LOC1 - 1);
Res_145135 = 0;
Res_145135 = 1;
while (1) {
if (!(Res_145135 <= HEX3Atmp_145133)) goto LA2;
I_143322 = Res_145135;
if (!!(((*(*N_124156).KindU.S6.Sons->data[I_143322]).Kind == ((NU8) 3)))) goto LA4;
Internalerror_46571((*N_124156).Info, ((NimStringDesc*) &TMP194116));
LA4: ;
Adddecl_107026(C_124155, (*(*N_124156).KindU.S6.Sons->data[I_143322]).KindU.S4.Sym);
Res_145135 += 1;
} LA2: ;
}
N_NIMCALL(TY54547*, Genericcacheget_125298)(TY106012* C_125300, TY54547* Genericsym_125301, TY54547* Instsym_125302) {
TY54547* Result_125303;
NI I_125311;
NI HEX3Atmp_128731;
NI LOC1;
NI Res_128733;
TY54547* A_125369;
TY54547* B_125408;
NU8 LOC10;
Result_125303 = 0;
Result_125303 = NIM_NIL;
I_125311 = 0;
HEX3Atmp_128731 = 0;
LOC1 = Sonslen_54803((*C_125300).Generics);
HEX3Atmp_128731 = (NI64)(LOC1 - 1);
Res_128733 = 0;
Res_128733 = 0;
while (1) {
if (!(Res_128733 <= HEX3Atmp_128731)) goto LA2;
I_125311 = Res_128733;
if (!!(((*(*(*C_125300).Generics).KindU.S6.Sons->data[I_125311]).Kind == ((NU8) 23)))) goto LA4;
Internalerror_46571((*Genericsym_125301).Info, ((NimStringDesc*) &TMP194117));
LA4: ;
A_125369 = 0;
A_125369 = (*(*(*(*C_125300).Generics).KindU.S6.Sons->data[I_125311]).KindU.S6.Sons->data[0]).KindU.S4.Sym;
if (!((*Genericsym_125301).Sup.Id == (*A_125369).Sup.Id)) goto LA7;
B_125408 = 0;
B_125408 = (*(*(*(*C_125300).Generics).KindU.S6.Sons->data[I_125311]).KindU.S6.Sons->data[1]).KindU.S4.Sym;
LOC10 = Equalparams_96065((*(*B_125408).Typ).N, (*(*Instsym_125302).Typ).N);
if (!(LOC10 == ((NU8) 1))) goto LA11;
Result_125303 = B_125408;
goto BeforeRet;
LA11: ;
LA7: ;
Res_128733 += 1;
} LA2: ;
BeforeRet: ;
return Result_125303;
}
N_NIMCALL(void, Genericcacheadd_125418)(TY106012* C_125420, TY54547* Genericsym_125421, TY54547* Instsym_125422) {
TY54525* N_125423;
TY54525* LOC1;
TY54525* LOC2;
N_125423 = 0;
N_125423 = Newnode_54710(((NU8) 23));
LOC1 = 0;
LOC1 = Newsymnode_54734(Genericsym_125421);
Addson_54823(N_125423, LOC1);
LOC2 = 0;
LOC2 = Newsymnode_54734(Instsym_125422);
Addson_54823(N_125423, LOC2);
Addson_54823((*C_125420).Generics, N_125423);
}
N_NIMCALL(void, Addresult_124157)(TY106012* C_124159, TY54551* T_124160, TY46536 Info_124161) {
TY54547* S_143438;
TY53011* LOC4;
TY54547* LOC5;
if (!!((T_124160 == NIM_NIL))) goto LA2;
S_143438 = 0;
LOC4 = 0;
LOC4 = Getident_53016(((NimStringDesc*) &TMP194119));
LOC5 = 0;
LOC5 = Getcurrowner_106107();
S_143438 = Newsym_54701(((NU8) 9), LOC4, LOC5);
(*S_143438).Info = Info_124161;
asgnRef((void**) &(*S_143438).Typ, T_124160);
(*S_143438).Flags |=(1<<((NI32)(((NU8) 12))%(sizeof(NI32)*8)));
(*S_143438).Flags |=(1<<((NI32)(((NU8) 0))%(sizeof(NI32)*8)));
Adddecl_107026(C_124159, S_143438);
asgnRef((void**) &(*(*C_124159).P).Resultsym, S_143438);
LA2: ;
}
N_NIMCALL(void, Addresultnode_124162)(TY106012* C_124164, TY54525* N_124165) {
TY54525* LOC4;
if (!!(((*(*C_124164).P).Resultsym == NIM_NIL))) goto LA2;
LOC4 = 0;
LOC4 = Newsymnode_54734((*(*C_124164).P).Resultsym);
Addson_54823(N_124165, LOC4);
LA2: ;
}
N_NIMCALL(TY54525*, Semstmtscope_124104)(TY106012* C_124106, TY54525* N_124107) {
TY54525* Result_144878;
Result_144878 = 0;
Openscope_59146(&(*C_124106).Tab);
Result_144878 = Semstmt_124143(C_124106, N_124107);
Closescope_107017(&(*C_124106).Tab);
return Result_144878;
}
N_NIMCALL(TY54547*, Generateinstance_125132)(TY106012* C_125134, TY54547* Fn_125135, TY54563 Pt_125136, TY46536 Info_125137) {
TY54547* Result_125430;
TY54547* Oldprc_125431;
TY54547* Oldmod_125432;
TY106006* Oldp_125433;
TY54525* N_125434;
TY54547* LOC4;
Result_125430 = 0;
Oldprc_125431 = 0;
Oldmod_125432 = 0;
Oldp_125433 = 0;
N_125434 = 0;
if (!(1000 < (*C_125134).Instcounter)) goto LA2;
Internalerror_46571((*(*Fn_125135).Ast).Info, ((NimStringDesc*) &TMP194080));
LA2: ;
(*C_125134).Instcounter += 1;
Oldp_125433 = (*C_125134).P;
Oldmod_125432 = (*C_125134).Module;
asgnRef((void**) &(*C_125134).Module, Getmodule_59203(Fn_125135));
Result_125430 = Copysym_54775(Fn_125135, NIM_FALSE);
(*Result_125430).Flags |=(1<<((NI32)(((NU8) 4))%(sizeof(NI32)*8)));
LOC4 = 0;
LOC4 = Getcurrowner_106107();
asgnRef((void**) &(*Result_125430).Owner, (*LOC4).Owner);
N_125434 = Copytree_54858((*Fn_125135).Ast);
asgnRefNoCycle((void**) &(*Result_125430).Ast, N_125434);
Pushowner_106109(Result_125430);
Openscope_59146(&(*C_125134).Tab);
if (!((*N_125434).KindU.S6.Sons->data[1] == NIM_NIL)) goto LA6;
Internalerror_46571((*N_125434).Info, ((NimStringDesc*) &TMP194081));
LA6: ;
asgnRefNoCycle((void**) &(*N_125434).KindU.S6.Sons->data[0], Newsymnode_54734(Result_125430));
Pushinfocontext_46610(Info_125137);
Instantiategenericparamlist_125207(C_125134, (*N_125434).KindU.S6.Sons->data[1], Pt_125136);
asgnRefNoCycle((void**) &(*N_125434).KindU.S6.Sons->data[1], NIM_NIL);
if (!!(((*N_125434).KindU.S6.Sons->data[2] == NIM_NIL))) goto LA9;
Semparamlist_124147(C_125134, (*N_125434).KindU.S6.Sons->data[2], NIM_NIL, Result_125430);
Addparams_124153(C_125134, (*(*Result_125430).Typ).N);
goto LA8;
LA9: ;
asgnRef((void**) &(*Result_125430).Typ, Newtypes_106077(((NU8) 25), C_125134));
Addson_54827((*Result_125430).Typ, NIM_NIL);
LA8: ;
Oldprc_125431 = Genericcacheget_125298(C_125134, Fn_125135, Result_125430);
if (!(Oldprc_125431 == NIM_NIL)) goto LA12;
Genericcacheadd_125418(C_125134, Fn_125135, Result_125430);
Adddecl_107026(C_125134, Result_125430);
if (!!(((*N_125434).KindU.S6.Sons->data[4] == NIM_NIL))) goto LA15;
asgnRefNoCycle((void**) &(*C_125134).P, Newproccon_106050(Result_125430));
if (!((11264 &(1<<(((*Result_125430).Kind)&31)))!=0)) goto LA18;
Addresult_124157(C_125134, (*(*Result_125430).Typ).Sons->data[0], (*N_125434).Info);
Addresultnode_124162(C_125134, N_125434);
LA18: ;
asgnRefNoCycle((void**) &(*N_125434).KindU.S6.Sons->data[4], Semstmtscope_124104(C_125134, (*N_125434).KindU.S6.Sons->data[4]));
LA15: ;
goto LA11;
LA12: ;
Result_125430 = Oldprc_125431;
LA11: ;
Popinfocontext_46613();
Closescope_107017(&(*C_125134).Tab);
Popowner_106112();
asgnRefNoCycle((void**) &(*C_125134).P, Oldp_125433);
asgnRef((void**) &(*C_125134).Module, Oldmod_125432);
(*C_125134).Instcounter -= 1;
return Result_125430;
}
N_NIMCALL(TY54525*, Semdirectcallwithbinding_128535)(TY106012* C_128537, TY54525* N_128538, TY54525* F_128539, NU32 Filter_128540, TY54525* Initialbinding_128541) {
TY54525* Result_128542;
TY107004 O_128543;
TY126030 X_128544;
TY126030 Y_128545;
TY126030 Z_128546;
TY54547* Sym_128548;
NI Cmp_128595;
NIM_BOOL LOC19;
NIM_BOOL LOC20;
NI LOC22;
NIM_BOOL LOC24;
NimStringDesc* LOC30;
TY72026 LOC31;
NimStringDesc* LOC32;
Result_128542 = 0;
memset((void*)&O_128543, 0, sizeof(O_128543));
memset((void*)&X_128544, 0, sizeof(X_128544));
memset((void*)&Y_128545, 0, sizeof(Y_128545));
memset((void*)&Z_128546, 0, sizeof(Z_128546));
Sym_128548 = 0;
Sym_128548 = Initoverloaditer_107058(&O_128543, C_128537, F_128539);
Result_128542 = NIM_NIL;
if (!(Sym_128548 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
Initcandidate_126064(&X_128544, Sym_128548, Initialbinding_128541);
Initcandidate_126064(&Y_128545, Sym_128548, Initialbinding_128541);
while (1) {
if (!!((Sym_128548 == NIM_NIL))) goto LA4;
if (!((Filter_128540 &(1<<(((*Sym_128548).Kind)&31)))!=0)) goto LA6;
Initcandidate_126064(&Z_128546, Sym_128548, Initialbinding_128541);
Z_128546.Calleesym = Sym_128548;
Matches_127903(C_128537, N_128538, &Z_128546);
if (!(Z_128546.State == ((NU8) 1))) goto LA9;
switch (X_128544.State) {
case ((NU8) 0):
case ((NU8) 2):
genericAssign((void*)&X_128544, (void*)&Z_128546, NTI126030);
break;
case ((NU8) 1):
Cmp_128595 = 0;
Cmp_128595 = Cmpcandidates_126113(&X_128544, &Z_128546);
if (!(Cmp_128595 < 0)) goto LA12;
genericAssign((void*)&X_128544, (void*)&Z_128546, NTI126030);
goto LA11;
LA12: ;
if (!(Cmp_128595 == 0)) goto LA14;
genericAssign((void*)&Y_128545, (void*)&Z_128546, NTI126030);
goto LA11;
LA14: ;
LA11: ;
break;
}
LA9: ;
LA6: ;
Sym_128548 = Nextoverloaditer_107064(&O_128543, C_128537, F_128539);
} LA4: ;
if (!(X_128544.State == ((NU8) 0))) goto LA17;
goto LA16;
LA17: ;
LOC20 = (Y_128545.State == ((NU8) 1));
if (!(LOC20)) goto LA21;
LOC22 = Cmpcandidates_126113(&X_128544, &Y_128545);
LOC20 = (LOC22 == 0);
LA21: ;
LOC19 = LOC20;
if (!(LOC19)) goto LA23;
LOC24 = Samemethoddispatcher_128459(X_128544.Calleesym, Y_128545.Calleesym);
LOC19 = !(LOC24);
LA23: ;
if (!LOC19) goto LA25;
if (!!((X_128544.State == ((NU8) 1)))) goto LA28;
Internalerror_46571((*N_128538).Info, ((NimStringDesc*) &TMP194076));
LA28: ;
LOC30 = 0;
LOC30 = Msgkindtostring_46592(((NU8) 129));
memset((void*)&LOC31, 0, sizeof(LOC31));
LOC31[0] = Getprocheader_96018(X_128544.Calleesym);
LOC31[1] = Getprocheader_96018(Y_128545.Calleesym);
LOC31[2] = copyString((*(*X_128544.Calleesym).Name).S);
LOC32 = 0;
LOC32 = nsuFormatOpenArray(LOC30, LOC31, 3);
Limessage_46566((*N_128538).Info, ((NU8) 4), LOC32);
goto LA16;
LA25: ;
Markused_124065(N_128538, X_128544.Calleesym);
if (!((*X_128544.Calleesym).Ast == NIM_NIL)) goto LA34;
Internalerror_46571((*N_128538).Info, ((NimStringDesc*) &TMP194079));
LA34: ;
if (!!(((*(*X_128544.Calleesym).Ast).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA37;
X_128544.Calleesym = Generateinstance_125132(C_128537, X_128544.Calleesym, X_128544.Bindings, (*N_128538).Info);
X_128544.Callee = (*X_128544.Calleesym).Typ;
LA37: ;
Result_128542 = X_128544.Call;
asgnRefNoCycle((void**) &(*Result_128542).KindU.S6.Sons->data[0], Newsymnode_54734(X_128544.Calleesym));
asgnRef((void**) &(*Result_128542).Typ, (*X_128544.Callee).Sons->data[0]);
LA16: ;
BeforeRet: ;
return Result_128542;
}
N_NIMCALL(TY54525*, Semdirectcall_128680)(TY106012* C_128682, TY54525* N_128683, NU32 Filter_128684) {
TY54525* Result_128685;
TY54525* Initialbinding_128686;
TY54525* F_128699;
Result_128685 = 0;
Initialbinding_128686 = 0;
F_128699 = 0;
F_128699 = (*N_128683).KindU.S6.Sons->data[0];
if (!((*F_128699).Kind == ((NU8) 33))) goto LA2;
Initialbinding_128686 = F_128699;
F_128699 = (*F_128699).KindU.S6.Sons->data[0];
goto LA1;
LA2: ;
Initialbinding_128686 = NIM_NIL;
LA1: ;
Result_128685 = Semdirectcallwithbinding_128535(C_128682, N_128683, F_128699, Filter_128684, Initialbinding_128686);
return Result_128685;
}
N_NIMCALL(TY54525*, Semdirectcallanalyseeffects_134063)(TY106012* C_134065, TY54525* N_134066, NU8 Flags_134067) {
TY54525* Result_134068;
TY54547* Callee_134138;
NIM_BOOL LOC11;
NIM_BOOL LOC19;
Result_134068 = 0;
if (!!(((Flags_134067 &(1<<((((NU8) 2))&7)))!=0))) goto LA2;
Result_134068 = Semdirectcall_128680(C_134065, N_134066, 11264);
goto LA1;
LA2: ;
Result_134068 = Semdirectcall_128680(C_134065, N_134066, 4096);
LA1: ;
if (!!((Result_134068 == NIM_NIL))) goto LA5;
if (!!(((*(*Result_134068).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA8;
Internalerror_46575(((NimStringDesc*) &TMP194121));
LA8: ;
Callee_134138 = 0;
Callee_134138 = (*(*Result_134068).KindU.S6.Sons->data[0]).KindU.S4.Sym;
LOC11 = ((*Callee_134138).Kind == ((NU8) 12));
if (!(LOC11)) goto LA12;
LOC11 = ((*Callee_134138).Sup.Id == (*(*(*C_134065).P).Owner).Sup.Id);
LA12: ;
if (!LOC11) goto LA13;
Limessage_46566((*N_134066).Info, ((NU8) 23), (*(*Callee_134138).Name).S);
LA13: ;
if (!!((((*Callee_134138).Flags &(1<<((((NU8) 13))&31)))!=0))) goto LA16;
LOC19 = (((*Callee_134138).Flags &(1<<((((NU8) 6))&31)))!=0);
if (LOC19) goto LA20;
LOC19 = !(((16512 & (*Callee_134138).Flags) == 0));
LA20: ;
if (!LOC19) goto LA21;
(*(*(*C_134065).P).Owner).Flags |=(1<<((NI32)(((NU8) 14))%(sizeof(NI32)*8)));
LA21: ;
LA16: ;
LA5: ;
return Result_134068;
}
N_NIMCALL(TY54525*, Semarrayconstr_133035)(TY106012* C_133037, TY54525* N_133038) {
TY54525* Result_133039;
NI LOC2;
TY54551* LOC5;
TY54525* X_133054;
NI64 Lastindex_133055;
TY54551* Indextype_133056;
TY54525* Idx_133078;
TY54525* LOC9;
TY54551* Typ_133104;
NI I_133112;
NI HEX3Atmp_144956;
NI LOC10;
NI Res_144958;
TY54525* Idx_133146;
NI64 LOC16;
TY54525* LOC19;
NI LOC20;
Result_133039 = 0;
Result_133039 = Newnodei_54737(((NU8) 32), (*N_133038).Info);
asgnRef((void**) &(*Result_133039).Typ, Newtypes_106077(((NU8) 4), C_133037));
Addson_54827((*Result_133039).Typ, NIM_NIL);
LOC2 = Sonslen_54803(N_133038);
if (!(LOC2 == 0)) goto LA3;
LOC5 = 0;
LOC5 = Newtypes_106077(((NU8) 3), C_133037);
Addson_54827((*Result_133039).Typ, LOC5);
goto LA1;
LA3: ;
X_133054 = 0;
X_133054 = (*N_133038).KindU.S6.Sons->data[0];
Lastindex_133055 = 0;
Lastindex_133055 = 0;
Indextype_133056 = 0;
Indextype_133056 = Getsystype_101008(((NU8) 31));
if (!((*X_133054).Kind == ((NU8) 24))) goto LA7;
Idx_133078 = 0;
Idx_133078 = Semconstexpr_124171(C_133037, (*X_133054).KindU.S6.Sons->data[0]);
Lastindex_133055 = Getordvalue_96109(Idx_133078);
Indextype_133056 = (*Idx_133078).Typ;
X_133054 = (*X_133054).KindU.S6.Sons->data[1];
LA7: ;
LOC9 = 0;
LOC9 = Semexprwithtype_124122(C_133037, X_133054, 0);
Addson_54823(Result_133039, LOC9);
Typ_133104 = 0;
Typ_133104 = Skiptypes_96087((*(*Result_133039).KindU.S6.Sons->data[0]).Typ, 8423424);
I_133112 = 0;
HEX3Atmp_144956 = 0;
LOC10 = Sonslen_54803(N_133038);
HEX3Atmp_144956 = (NI64)(LOC10 - 1);
Res_144958 = 0;
Res_144958 = 1;
while (1) {
if (!(Res_144958 <= HEX3Atmp_144956)) goto LA11;
I_133112 = Res_144958;
X_133054 = (*N_133038).KindU.S6.Sons->data[I_133112];
if (!((*X_133054).Kind == ((NU8) 24))) goto LA13;
Idx_133146 = 0;
Idx_133146 = Semconstexpr_124171(C_133037, (*X_133054).KindU.S6.Sons->data[0]);
Idx_133146 = Fitnode_124129(C_133037, Indextype_133056, Idx_133146);
LOC16 = Getordvalue_96109(Idx_133146);
if (!!(((NI64)(Lastindex_133055 + 1) == LOC16))) goto LA17;
Limessage_46566((*X_133054).Info, ((NU8) 141), ((NimStringDesc*) &TMP193925));
LA17: ;
X_133054 = (*X_133054).KindU.S6.Sons->data[1];
LA13: ;
asgnRefNoCycle((void**) &(*N_133038).KindU.S6.Sons->data[I_133112], Semexprwithtype_124122(C_133037, X_133054, 0));
LOC19 = 0;
LOC19 = Fitnode_124129(C_133037, Typ_133104, (*N_133038).KindU.S6.Sons->data[I_133112]);
Addson_54823(Result_133039, LOC19);
Lastindex_133055 += 1;
Res_144958 += 1;
} LA11: ;
Addson_54827((*Result_133039).Typ, Typ_133104);
LA1: ;
LOC20 = Sonslen_54803(Result_133039);
asgnRef((void**) &(*(*Result_133039).Typ).Sons->data[0], Makerangetype_106086(C_133037, 0, ((NI64) ((NI64)(LOC20 - 1))), (*N_133038).Info));
return Result_133039;
}
N_NIMCALL(void, Changetype_132821)(TY54525* N_132823, TY54551* Newtype_132824) {
TY54547* F_132825;
TY54525* A_132826;
TY54525* M_132827;
NI I_132835;
NI HEX3Atmp_144947;
NI LOC1;
NI Res_144949;
TY54551* LOC3;
NIM_BOOL LOC11;
NI LOC12;
NI I_132898;
NI HEX3Atmp_144950;
NI LOC16;
NI Res_144952;
NI I_132986;
NI HEX3Atmp_144953;
NI LOC24;
NI Res_144955;
TY54525* LOC26;
F_132825 = 0;
A_132826 = 0;
M_132827 = 0;
switch ((*N_132823).Kind) {
case ((NU8) 31):
case ((NU8) 32):
I_132835 = 0;
HEX3Atmp_144947 = 0;
LOC1 = Sonslen_54803(N_132823);
HEX3Atmp_144947 = (NI64)(LOC1 - 1);
Res_144949 = 0;
Res_144949 = 0;
while (1) {
if (!(Res_144949 <= HEX3Atmp_144947)) goto LA2;
I_132835 = Res_144949;
LOC3 = 0;
LOC3 = Elemtype_96091(Newtype_132824);
Changetype_132821((*N_132823).KindU.S6.Sons->data[I_132835], LOC3);
Res_144949 += 1;
} LA2: ;
break;
case ((NU8) 30):
if (!!(((*Newtype_132824).Kind == ((NU8) 18)))) goto LA5;
Internalerror_46571((*N_132823).Info, ((NimStringDesc*) &TMP194122));
LA5: ;
if (!((*Newtype_132824).N == NIM_NIL)) goto LA8;
Internalerror_46571((*N_132823).Info, ((NimStringDesc*) &TMP194123));
LA8: ;
LOC12 = Sonslen_54803(N_132823);
LOC11 = (0 < LOC12);
if (!(LOC11)) goto LA13;
LOC11 = ((*(*N_132823).KindU.S6.Sons->data[0]).Kind == ((NU8) 24));
LA13: ;
if (!LOC11) goto LA14;
I_132898 = 0;
HEX3Atmp_144950 = 0;
LOC16 = Sonslen_54803(N_132823);
HEX3Atmp_144950 = (NI64)(LOC16 - 1);
Res_144952 = 0;
Res_144952 = 0;
while (1) {
if (!(Res_144952 <= HEX3Atmp_144950)) goto LA17;
I_132898 = Res_144952;
M_132827 = (*(*N_132823).KindU.S6.Sons->data[I_132898]).KindU.S6.Sons->data[0];
if (!!(((*M_132827).Kind == ((NU8) 3)))) goto LA19;
Internalerror_46571((*M_132827).Info, ((NimStringDesc*) &TMP194124));
LA19: ;
F_132825 = Getsymfromlist_59194((*Newtype_132824).N, (*(*M_132827).KindU.S4.Sym).Name, 0);
if (!(F_132825 == NIM_NIL)) goto LA22;
Internalerror_46571((*M_132827).Info, ((NimStringDesc*) &TMP194125));
LA22: ;
Changetype_132821((*(*N_132823).KindU.S6.Sons->data[I_132898]).KindU.S6.Sons->data[1], (*F_132825).Typ);
Res_144952 += 1;
} LA17: ;
goto LA10;
LA14: ;
I_132986 = 0;
HEX3Atmp_144953 = 0;
LOC24 = Sonslen_54803(N_132823);
HEX3Atmp_144953 = (NI64)(LOC24 - 1);
Res_144955 = 0;
Res_144955 = 0;
while (1) {
if (!(Res_144955 <= HEX3Atmp_144953)) goto LA25;
I_132986 = Res_144955;
M_132827 = (*N_132823).KindU.S6.Sons->data[I_132986];
A_132826 = Newnodeit_54741(((NU8) 24), (*M_132827).Info, (*Newtype_132824).Sons->data[I_132986]);
LOC26 = 0;
LOC26 = Newsymnode_54734((*(*(*Newtype_132824).N).KindU.S6.Sons->data[I_132986]).KindU.S4.Sym);
Addson_54823(A_132826, LOC26);
Addson_54823(A_132826, M_132827);
Changetype_132821(M_132827, (*Newtype_132824).Sons->data[I_132986]);
asgnRefNoCycle((void**) &(*N_132823).KindU.S6.Sons->data[I_132986], A_132826);
Res_144955 += 1;
} LA25: ;
LA10: ;
break;
default:
break;
}
asgnRef((void**) &(*N_132823).Typ, Newtype_132824);
}
N_NIMCALL(void, Fixabstracttype_133197)(TY106012* C_133199, TY54525* N_133200) {
NI I_133208;
NI HEX3Atmp_144959;
NI LOC1;
NI Res_144961;
TY54525* It_133221;
TY54551* LOC7;
TY54551* S_133288;
NIM_BOOL LOC11;
TY54547* LOC15;
TY54551* LOC16;
TY54551* LOC17;
TY54551* LOC18;
TY54551* S_133343;
NimStringDesc* LOC24;
NimStringDesc* LOC25;
I_133208 = 0;
HEX3Atmp_144959 = 0;
LOC1 = Sonslen_54803(N_133200);
HEX3Atmp_144959 = (NI64)(LOC1 - 1);
Res_144961 = 0;
Res_144961 = 1;
while (1) {
if (!(Res_144961 <= HEX3Atmp_144959)) goto LA2;
I_133208 = Res_144961;
It_133221 = 0;
It_133221 = (*N_133200).KindU.S6.Sons->data[I_133208];
switch ((*It_133221).Kind) {
case ((NU8) 47):
case ((NU8) 48):
if (!((*(*It_133221).KindU.S6.Sons->data[1]).Kind == ((NU8) 32))) goto LA4;
asgnRefNoCycle((void**) &(*It_133221).KindU.S6.Sons->data[1], Semarrayconstr_133035(C_133199, (*It_133221).KindU.S6.Sons->data[1]));
LA4: ;
LOC7 = 0;
LOC7 = Skiptypes_96087((*It_133221).Typ, 8431616);
if (!((*LOC7).Kind == ((NU8) 27))) goto LA8;
S_133288 = 0;
S_133288 = Skiptypes_96087((*(*It_133221).KindU.S6.Sons->data[1]).Typ, 8431616);
LOC11 = ((*S_133288).Kind == ((NU8) 4));
if (!(LOC11)) goto LA12;
LOC11 = ((*(*S_133288).Sons->data[1]).Kind == ((NU8) 3));
LA12: ;
if (!LOC11) goto LA13;
LOC15 = 0;
LOC15 = Getcurrowner_106107();
S_133288 = Copytype_54770(S_133288, LOC15, NIM_FALSE);
LOC16 = 0;
LOC16 = Skiptypes_96087(S_133288, 8431616);
LOC17 = 0;
LOC17 = Skiptypes_96087((*It_133221).Typ, 8431616);
asgnRef((void**) &(*LOC16).Sons->data[1], Elemtype_96091(LOC17));
asgnRef((void**) &(*(*It_133221).KindU.S6.Sons->data[1]).Typ, S_133288);
LA13: ;
goto LA6;
LA8: ;
LOC18 = 0;
LOC18 = Skiptypes_96087((*(*It_133221).KindU.S6.Sons->data[1]).Typ, 8431616);
if (!((786480 &(IL64(1)<<(((*LOC18).Kind)&IL64(63))))!=0)) goto LA19;
S_133343 = 0;
S_133343 = Skiptypes_96087((*It_133221).Typ, 8431616);
Changetype_132821((*It_133221).KindU.S6.Sons->data[1], S_133343);
asgnRefNoCycle((void**) &(*N_133200).KindU.S6.Sons->data[I_133208], (*It_133221).KindU.S6.Sons->data[1]);
goto LA6;
LA19: ;
LA6: ;
break;
case ((NU8) 32):
asgnRefNoCycle((void**) &(*N_133200).KindU.S6.Sons->data[I_133208], Semarrayconstr_133035(C_133199, It_133221));
break;
default:
if (!((*It_133221).Typ == NIM_NIL)) goto LA22;
LOC24 = 0;
LOC25 = 0;
LOC25 = Rendertree_84042(It_133221, 0);
LOC24 = rawNewString(LOC25->Sup.len + 17);
appendString(LOC24, ((NimStringDesc*) &TMP194126));
appendString(LOC24, LOC25);
Internalerror_46571((*It_133221).Info, LOC24);
LA22: ;
break;
}
Res_144961 += 1;
} LA2: ;
}
N_NIMCALL(NU8, Isassignable_133460)(TY54525* N_133462) {
NU8 Result_133463;
TY54551* LOC5;
NIM_BOOL LOC9;
TY54551* LOC14;
TY54551* LOC18;
Result_133463 = 0;
Result_133463 = ((NU8) 0);
switch ((*N_133462).Kind) {
case ((NU8) 3):
if (!((544 &(1<<(((*(*N_133462).KindU.S4.Sym).Kind)&31)))!=0)) goto LA2;
Result_133463 = ((NU8) 1);
LA2: ;
break;
case ((NU8) 36):
Checkminsonslen_106103(N_133462, 1);
LOC5 = 0;
LOC5 = Skiptypes_96087((*(*N_133462).KindU.S6.Sons->data[0]).Typ, 43008);
if (!((14680064 &(IL64(1)<<(((*LOC5).Kind)&IL64(63))))!=0)) goto LA6;
Result_133463 = ((NU8) 1);
goto LA4;
LA6: ;
Result_133463 = Isassignable_133460((*N_133462).KindU.S6.Sons->data[0]);
LA4: ;
LOC9 = (Result_133463 == ((NU8) 1));
if (!(LOC9)) goto LA10;
LOC9 = (((*(*(*N_133462).KindU.S6.Sons->data[1]).KindU.S4.Sym).Flags &(1<<((((NU8) 21))&31)))!=0);
LA10: ;
if (!LOC9) goto LA11;
Result_133463 = ((NU8) 2);
LA11: ;
break;
case ((NU8) 33):
Checkminsonslen_106103(N_133462, 1);
LOC14 = 0;
LOC14 = Skiptypes_96087((*(*N_133462).KindU.S6.Sons->data[0]).Typ, 43008);
if (!((14680064 &(IL64(1)<<(((*LOC14).Kind)&IL64(63))))!=0)) goto LA15;
Result_133463 = ((NU8) 1);
goto LA13;
LA15: ;
Result_133463 = Isassignable_133460((*N_133462).KindU.S6.Sons->data[0]);
LA13: ;
break;
case ((NU8) 47):
case ((NU8) 48):
case ((NU8) 50):
LOC18 = 0;
LOC18 = Skiptypes_96087((*N_133462).Typ, 14723072);
if (!((134610944 &(IL64(1)<<(((*LOC18).Kind)&IL64(63))))!=0)) goto LA19;
Result_133463 = Isassignable_133460((*N_133462).KindU.S6.Sons->data[1]);
LA19: ;
break;
case ((NU8) 54):
case ((NU8) 38):
Result_133463 = ((NU8) 1);
break;
case ((NU8) 56):
case ((NU8) 55):
case ((NU8) 37):
Result_133463 = Isassignable_133460((*N_133462).KindU.S6.Sons->data[0]);
break;
default:
break;
}
return Result_133463;
}
N_NIMCALL(TY54525*, Newhiddenaddrtaken_133640)(TY106012* C_133642, TY54525* N_133643) {
TY54525* Result_133644;
TY54551* LOC4;
NU8 LOC6;
Result_133644 = 0;
if (!((*N_133643).Kind == ((NU8) 54))) goto LA2;
Checksonslen_106099(N_133643, 1);
Result_133644 = (*N_133643).KindU.S6.Sons->data[0];
goto LA1;
LA2: ;
LOC4 = 0;
LOC4 = Makevartype_106073(C_133642, (*N_133643).Typ);
Result_133644 = Newnodeit_54741(((NU8) 53), (*N_133643).Info, LOC4);
Addson_54823(Result_133644, N_133643);
LOC6 = Isassignable_133460(N_133643);
if (!!((LOC6 == ((NU8) 1)))) goto LA7;
Limessage_46566((*N_133643).Info, ((NU8) 124), ((NimStringDesc*) &TMP193925));
LA7: ;
LA1: ;
return Result_133644;
}
N_NIMCALL(TY54525*, Analyseifaddresstaken_133675)(TY106012* C_133677, TY54525* N_133678) {
TY54525* Result_133679;
TY54551* LOC2;
TY54551* LOC9;
TY54551* LOC13;
Result_133679 = 0;
Result_133679 = N_133678;
switch ((*N_133678).Kind) {
case ((NU8) 3):
LOC2 = 0;
LOC2 = Skiptypes_96087((*(*N_133678).KindU.S4.Sym).Typ, 43008);
if (!!(((*LOC2).Kind == ((NU8) 23)))) goto LA3;
(*(*N_133678).KindU.S4.Sym).Flags |=(1<<((NI32)(((NU8) 18))%(sizeof(NI32)*8)));
Result_133679 = Newhiddenaddrtaken_133640(C_133677, N_133678);
LA3: ;
break;
case ((NU8) 36):
Checksonslen_106099(N_133678, 2);
if (!!(((*(*N_133678).KindU.S6.Sons->data[1]).Kind == ((NU8) 3)))) goto LA6;
Internalerror_46571((*N_133678).Info, ((NimStringDesc*) &TMP194129));
LA6: ;
LOC9 = 0;
LOC9 = Skiptypes_96087((*(*(*N_133678).KindU.S6.Sons->data[1]).KindU.S4.Sym).Typ, 43008);
if (!!(((*LOC9).Kind == ((NU8) 23)))) goto LA10;
(*(*(*N_133678).KindU.S6.Sons->data[1]).KindU.S4.Sym).Flags |=(1<<((NI32)(((NU8) 18))%(sizeof(NI32)*8)));
Result_133679 = Newhiddenaddrtaken_133640(C_133677, N_133678);
LA10: ;
break;
case ((NU8) 33):
Checkminsonslen_106103(N_133678, 1);
LOC13 = 0;
LOC13 = Skiptypes_96087((*(*N_133678).KindU.S6.Sons->data[0]).Typ, 43008);
if (!!(((*LOC13).Kind == ((NU8) 23)))) goto LA14;
if (!((*(*N_133678).KindU.S6.Sons->data[0]).Kind == ((NU8) 3))) goto LA17;
(*(*(*N_133678).KindU.S6.Sons->data[0]).KindU.S4.Sym).Flags |=(1<<((NI32)(((NU8) 18))%(sizeof(NI32)*8)));
LA17: ;
Result_133679 = Newhiddenaddrtaken_133640(C_133677, N_133678);
LA14: ;
break;
default:
Result_133679 = Newhiddenaddrtaken_133640(C_133677, N_133678);
break;
}
return Result_133679;
}
N_NIMCALL(void, Analyseifaddresstakenincall_133893)(TY106012* C_133895, TY54525* N_133896) {
TY54551* T_133911;
NIM_BOOL LOC2;
NI I_133975;
NI HEX3Atmp_144962;
NI LOC6;
NI Res_144964;
NIM_BOOL LOC9;
NI LOC10;
TY54551* LOC12;
NU8 LOC16;
NI I_134027;
NI HEX3Atmp_144965;
NI LOC19;
NI Res_144967;
NIM_BOOL LOC22;
NI LOC23;
TY54551* LOC25;
Checkminsonslen_106103(N_133896, 1);
T_133911 = 0;
T_133911 = (*(*N_133896).KindU.S6.Sons->data[0]).Typ;
LOC2 = ((*(*N_133896).KindU.S6.Sons->data[0]).Kind == ((NU8) 3));
if (!(LOC2)) goto LA3;
LOC2 = ((TMP194127[(*(*(*N_133896).KindU.S6.Sons->data[0]).KindU.S4.Sym).Magic/8] &(1<<((*(*(*N_133896).KindU.S6.Sons->data[0]).KindU.S4.Sym).Magic%8)))!=0);
LA3: ;
if (!LOC2) goto LA4;
I_133975 = 0;
HEX3Atmp_144962 = 0;
LOC6 = Sonslen_54803(N_133896);
HEX3Atmp_144962 = (NI64)(LOC6 - 1);
Res_144964 = 0;
Res_144964 = 1;
while (1) {
if (!(Res_144964 <= HEX3Atmp_144962)) goto LA7;
I_133975 = Res_144964;
LOC10 = Sonslen_54806(T_133911);
LOC9 = (I_133975 < LOC10);
if (!(LOC9)) goto LA11;
LOC12 = 0;
LOC12 = Skiptypes_96087((*T_133911).Sons->data[I_133975], 43008);
LOC9 = ((*LOC12).Kind == ((NU8) 23));
LA11: ;
if (!LOC9) goto LA13;
LOC16 = Isassignable_133460((*N_133896).KindU.S6.Sons->data[I_133975]);
if (!!((LOC16 == ((NU8) 1)))) goto LA17;
Limessage_46566((*(*N_133896).KindU.S6.Sons->data[I_133975]).Info, ((NU8) 124), ((NimStringDesc*) &TMP193925));
LA17: ;
LA13: ;
Res_144964 += 1;
} LA7: ;
goto BeforeRet;
LA4: ;
I_134027 = 0;
HEX3Atmp_144965 = 0;
LOC19 = Sonslen_54803(N_133896);
HEX3Atmp_144965 = (NI64)(LOC19 - 1);
Res_144967 = 0;
Res_144967 = 1;
while (1) {
if (!(Res_144967 <= HEX3Atmp_144965)) goto LA20;
I_134027 = Res_144967;
LOC23 = Sonslen_54806(T_133911);
LOC22 = (I_134027 < LOC23);
if (!(LOC22)) goto LA24;
LOC25 = 0;
LOC25 = Skiptypes_96087((*T_133911).Sons->data[I_134027], 43008);
LOC22 = ((*LOC25).Kind == ((NU8) 23));
LA24: ;
if (!LOC22) goto LA26;
asgnRefNoCycle((void**) &(*N_133896).KindU.S6.Sons->data[I_134027], Analyseifaddresstaken_133675(C_133895, (*N_133896).KindU.S6.Sons->data[I_134027]));
LA26: ;
Res_144967 += 1;
} LA20: ;
BeforeRet: ;
}
N_NIMCALL(TY54525*, Propertywriteaccess_140571)(TY106012* C_140573, TY54525* N_140574, TY54525* A_140575) {
TY54525* Result_140576;
TY53011* Id_140577;
TY54525* LOC1;
NimStringDesc* LOC2;
TY53011* LOC3;
TY54525* LOC4;
TY54525* LOC5;
TY54525* LOC6;
TY54525* LOC7;
Result_140576 = 0;
Id_140577 = 0;
LOC1 = 0;
LOC1 = HEX5BHEX5D_56051(A_140575, 1);
Id_140577 = Consideracc_124003(LOC1);
Result_140576 = Newnodei_54737(((NU8) 21), (*N_140574).Info);
LOC2 = 0;
LOC2 = rawNewString((*Id_140577).S->Sup.len + 1);
appendString(LOC2, (*Id_140577).S);
appendChar(LOC2, 61);
LOC3 = 0;
LOC3 = Getident_53016(LOC2);
LOC4 = 0;
LOC4 = Newidentnode_54730(LOC3, (*N_140574).Info);
Addson_54823(Result_140576, LOC4);
LOC5 = 0;
LOC5 = HEX5BHEX5D_56051(A_140575, 0);
Addson_54823(Result_140576, LOC5);
LOC6 = 0;
LOC6 = HEX5BHEX5D_56051(N_140574, 1);
LOC7 = 0;
LOC7 = Semexpr_124115(C_140573, LOC6, 0);
Addson_54823(Result_140576, LOC7);
Result_140576 = Semdirectcallanalyseeffects_134063(C_140573, Result_140576, 0);
if (!!((Result_140576 == NIM_NIL))) goto LA9;
Fixabstracttype_133197(C_140573, Result_140576);
Analyseifaddresstakenincall_133893(C_140573, Result_140576);
goto LA8;
LA9: ;
Limessage_46566((*N_140574).Info, ((NU8) 77), (*Id_140577).S);
LA8: ;
return Result_140576;
}
N_NIMCALL(TY54525*, Semsubscript_135721)(TY106012* C_135723, TY54525* N_135724, NU8 Flags_135725) {
TY54525* Result_135726;
TY54551* Arr_135775;
NI I_135807;
NI HEX3Atmp_144992;
NI LOC1;
NI Res_144994;
TY54551* Indextype_135852;
TY54551* LOC3;
TY54525* Arg_135877;
TY54551* LOC10;
NI64 Idx_135986;
NIM_BOOL LOC14;
NI LOC16;
Result_135726 = 0;
Checkminsonslen_106103(N_135724, 2);
asgnRefNoCycle((void**) &(*N_135724).KindU.S6.Sons->data[0], Semexprwithtype_124122(C_135723, (*N_135724).KindU.S6.Sons->data[0], (Flags_135725 & ~ 1)));
Arr_135775 = 0;
Arr_135775 = Skiptypes_96087((*(*N_135724).KindU.S6.Sons->data[0]).Typ, 14682112);
switch ((*Arr_135775).Kind) {
case ((NU8) 16):
case ((NU8) 27):
case ((NU8) 4):
case ((NU8) 24):
case ((NU8) 28):
case ((NU8) 29):
Checksonslen_106099(N_135724, 2);
asgnRefNoCycle((void**) &(*N_135724).KindU.S6.Sons->data[0], Makederef_135132((*N_135724).KindU.S6.Sons->data[0]));
I_135807 = 0;
HEX3Atmp_144992 = 0;
LOC1 = Sonslen_54803(N_135724);
HEX3Atmp_144992 = (NI64)(LOC1 - 1);
Res_144994 = 0;
Res_144994 = 1;
while (1) {
if (!(Res_144994 <= HEX3Atmp_144992)) goto LA2;
I_135807 = Res_144994;
asgnRefNoCycle((void**) &(*N_135724).KindU.S6.Sons->data[I_135807], Semexprwithtype_124122(C_135723, (*N_135724).KindU.S6.Sons->data[I_135807], (Flags_135725 & ~ 1)));
Res_144994 += 1;
} LA2: ;
Indextype_135852 = 0;
LOC3 = 0;
if (!((*Arr_135775).Kind == ((NU8) 16))) goto LA5;
LOC3 = (*Arr_135775).Sons->data[0];
goto LA4;
LA5: ;
LOC3 = Getsystype_101008(((NU8) 31));
LA4: ;
Indextype_135852 = LOC3;
Arg_135877 = 0;
Arg_135877 = Indextypesmatch_127850(C_135723, Indextype_135852, (*(*N_135724).KindU.S6.Sons->data[1]).Typ, (*N_135724).KindU.S6.Sons->data[1]);
if (!!((Arg_135877 == NIM_NIL))) goto LA7;
asgnRefNoCycle((void**) &(*N_135724).KindU.S6.Sons->data[1], Arg_135877);
goto LA6;
LA7: ;
Limessage_46566((*N_135724).Info, ((NU8) 80), ((NimStringDesc*) &TMP193925));
LA6: ;
Result_135726 = N_135724;
asgnRef((void**) &(*Result_135726).Typ, Elemtype_96091(Arr_135775));
break;
case ((NU8) 18):
Checksonslen_106099(N_135724, 2);
asgnRefNoCycle((void**) &(*N_135724).KindU.S6.Sons->data[0], Makederef_135132((*N_135724).KindU.S6.Sons->data[0]));
asgnRefNoCycle((void**) &(*N_135724).KindU.S6.Sons->data[1], Semconstexpr_124171(C_135723, (*N_135724).KindU.S6.Sons->data[1]));
LOC10 = 0;
LOC10 = Skiptypes_96087((*(*N_135724).KindU.S6.Sons->data[1]).Typ, 1083392);
if (!((IL64(66571993088) &(IL64(1)<<(((*LOC10).Kind)&IL64(63))))!=0)) goto LA11;
Idx_135986 = 0;
Idx_135986 = Getordvalue_96109((*N_135724).KindU.S6.Sons->data[1]);
LOC14 = (0 <= Idx_135986);
if (!(LOC14)) goto LA15;
LOC16 = Sonslen_54806(Arr_135775);
LOC14 = (Idx_135986 < ((NI64) (LOC16)));
LA15: ;
if (!LOC14) goto LA17;
asgnRef((void**) &(*N_135724).Typ, (*Arr_135775).Sons->data[Idx_135986]);
goto LA13;
LA17: ;
Limessage_46566((*N_135724).Info, ((NU8) 182), ((NimStringDesc*) &TMP193925));
LA13: ;
goto LA9;
LA11: ;
Limessage_46566((*N_135724).Info, ((NU8) 80), ((NimStringDesc*) &TMP193925));
LA9: ;
Result_135726 = N_135724;
break;
default:
break;
}
return Result_135726;
}
static N_INLINE(NI, Len_55923)(TY54525* N_55925) {
NI Result_55926;
Result_55926 = 0;
if (!(*N_55925).KindU.S6.Sons == 0) goto LA2;
Result_55926 = 0;
goto LA1;
LA2: ;
Result_55926 = (*N_55925).KindU.S6.Sons->Sup.len;
LA1: ;
return Result_55926;
}
N_NIMCALL(void, Addsliceopr_135643)(NimStringDesc** Result_135646, TY54525* N_135647) {
TY54525* LOC2;
TY54525* LOC6;
TY54525* LOC9;
LOC2 = 0;
LOC2 = HEX5BHEX5D_56051(N_135647, 0);
if (!(LOC2 == NIM_NIL)) goto LA3;
LOC6 = 0;
LOC6 = HEX5BHEX5D_56051(N_135647, 1);
if (!(LOC6 == NIM_NIL)) goto LA7;
(*Result_135646) = resizeString((*Result_135646), 2);
appendString((*Result_135646), ((NimStringDesc*) &TMP194132));
goto LA5;
LA7: ;
(*Result_135646) = resizeString((*Result_135646), 3);
appendString((*Result_135646), ((NimStringDesc*) &TMP194133));
LA5: ;
goto LA1;
LA3: ;
LOC9 = 0;
LOC9 = HEX5BHEX5D_56051(N_135647, 1);
if (!(LOC9 == NIM_NIL)) goto LA10;
(*Result_135646) = resizeString((*Result_135646), 3);
appendString((*Result_135646), ((NimStringDesc*) &TMP194134));
goto LA1;
LA10: ;
(*Result_135646) = resizeString((*Result_135646), 4);
appendString((*Result_135646), ((NimStringDesc*) &TMP194135));
LA1: ;
}
N_NIMCALL(TY54525*, Buildoverloadedsubscripts_135681)(TY54525* N_135683, NIM_BOOL Inasgn_135684) {
TY54525* Result_135685;
TY54525* LOC1;
NimStringDesc* Opr_135686;
NI I_135696;
NI HEX3Atmp_144989;
NI LOC2;
NI Res_144991;
TY54525* LOC8;
TY54525* LOC11;
TY54525* LOC12;
TY54525* LOC13;
TY54525* LOC14;
TY54525* LOC15;
TY54525* LOC16;
TY54525* LOC17;
TY53011* LOC21;
Result_135685 = 0;
Result_135685 = Newnodei_54737(((NU8) 21), (*N_135683).Info);
Add_55969(Result_135685, NIM_NIL);
LOC1 = 0;
LOC1 = HEX5BHEX5D_56051(N_135683, 0);
Add_55969(Result_135685, LOC1);
Opr_135686 = 0;
Opr_135686 = copyString(((NimStringDesc*) &TMP194130));
I_135696 = 0;
HEX3Atmp_144989 = 0;
LOC2 = Len_55923(N_135683);
HEX3Atmp_144989 = (NI64)(LOC2 - 1);
Res_144991 = 0;
Res_144991 = 1;
while (1) {
if (!(Res_144991 <= HEX3Atmp_144989)) goto LA3;
I_135696 = Res_144991;
if (!(1 < I_135696)) goto LA5;
Opr_135686 = resizeString(Opr_135686, 1);
appendString(Opr_135686, ((NimStringDesc*) &TMP194131));
LA5: ;
LOC8 = 0;
LOC8 = HEX5BHEX5D_56051(N_135683, I_135696);
if (!((*LOC8).Kind == ((NU8) 35))) goto LA9;
LOC11 = 0;
LOC11 = HEX5BHEX5D_56051(N_135683, I_135696);
Checksonslen_106099(LOC11, 2);
LOC12 = 0;
LOC12 = HEX5BHEX5D_56051(N_135683, I_135696);
Addsliceopr_135643(&Opr_135686, LOC12);
LOC13 = 0;
LOC13 = HEX5BHEX5D_56051(N_135683, I_135696);
LOC14 = 0;
LOC14 = HEX5BHEX5D_56051(LOC13, 0);
Addsonifnotnil_54831(Result_135685, LOC14);
LOC15 = 0;
LOC15 = HEX5BHEX5D_56051(N_135683, I_135696);
LOC16 = 0;
LOC16 = HEX5BHEX5D_56051(LOC15, 1);
Addsonifnotnil_54831(Result_135685, LOC16);
goto LA7;
LA9: ;
LOC17 = 0;
LOC17 = HEX5BHEX5D_56051(N_135683, I_135696);
Add_55969(Result_135685, LOC17);
LA7: ;
Res_144991 += 1;
} LA3: ;
if (!Inasgn_135684) goto LA19;
Opr_135686 = resizeString(Opr_135686, 2);
appendString(Opr_135686, ((NimStringDesc*) &TMP194136));
goto LA18;
LA19: ;
Opr_135686 = resizeString(Opr_135686, 1);
appendString(Opr_135686, ((NimStringDesc*) &TMP194137));
LA18: ;
LOC21 = 0;
LOC21 = Getident_53016(Opr_135686);
asgnRefNoCycle((void**) &(*Result_135685).KindU.S6.Sons->data[0], Newidentnode_54730(LOC21, (*N_135683).Info));
return Result_135685;
}
N_NIMCALL(TY54525*, Semexprnotype_139703)(TY106012* C_139705, TY54525* N_139706) {
TY54525* Result_139707;
NIM_BOOL LOC2;
Result_139707 = 0;
Result_139707 = Semexpr_124115(C_139705, N_139706, 0);
LOC2 = !(((*Result_139707).Typ == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC2 = !(((*(*Result_139707).Typ).Kind == ((NU8) 7)));
LA3: ;
if (!LOC2) goto LA4;
Limessage_46566((*N_139706).Info, ((NU8) 137), ((NimStringDesc*) &TMP193925));
LA4: ;
return Result_139707;
}
N_NIMCALL(TY54525*, Semasgn_140591)(TY106012* C_140593, TY54525* N_140594) {
TY54525* Result_140595;
TY54525* A_140608;
TY54525* LOC4;
TY54525* LOC8;
TY54551* Le_140862;
NIM_BOOL LOC10;
TY54551* LOC11;
NU8 LOC13;
NimStringDesc* LOC16;
Result_140595 = 0;
Checksonslen_106099(N_140594, 2);
A_140608 = 0;
A_140608 = (*N_140594).KindU.S6.Sons->data[0];
switch ((*A_140608).Kind) {
case ((NU8) 36):
A_140608 = Builtinfieldaccess_135161(C_140593, A_140608, 2);
if (!(A_140608 == NIM_NIL)) goto LA2;
LOC4 = 0;
LOC4 = HEX5BHEX5D_56051(N_140594, 0);
Result_140595 = Propertywriteaccess_140571(C_140593, N_140594, LOC4);
goto BeforeRet;
LA2: ;
break;
case ((NU8) 33):
A_140608 = Semsubscript_135721(C_140593, A_140608, 2);
if (!(A_140608 == NIM_NIL)) goto LA6;
Result_140595 = Buildoverloadedsubscripts_135681((*N_140594).KindU.S6.Sons->data[0], NIM_TRUE);
LOC8 = 0;
LOC8 = HEX5BHEX5D_56051(N_140594, 1);
Add_55969(Result_140595, LOC8);
Result_140595 = Semexprnotype_139703(C_140593, Result_140595);
goto BeforeRet;
LA6: ;
break;
default:
A_140608 = Semexprwithtype_124122(C_140593, A_140608, 2);
break;
}
asgnRefNoCycle((void**) &(*N_140594).KindU.S6.Sons->data[0], A_140608);
asgnRefNoCycle((void**) &(*N_140594).KindU.S6.Sons->data[1], Semexprwithtype_124122(C_140593, (*N_140594).KindU.S6.Sons->data[1], 0));
Le_140862 = 0;
Le_140862 = (*A_140608).Typ;
LOC11 = 0;
LOC11 = Skiptypes_96087(Le_140862, 2048);
LOC10 = !(((*LOC11).Kind == ((NU8) 23)));
if (!(LOC10)) goto LA12;
LOC13 = Isassignable_133460(A_140608);
LOC10 = (LOC13 == ((NU8) 0));
LA12: ;
if (!LOC10) goto LA14;
LOC16 = 0;
LOC16 = Rendertree_84042(A_140608, 4);
Limessage_46566((*A_140608).Info, ((NU8) 174), LOC16);
goto LA9;
LA14: ;
asgnRefNoCycle((void**) &(*N_140594).KindU.S6.Sons->data[1], Fitnode_124129(C_140593, Le_140862, (*N_140594).KindU.S6.Sons->data[1]));
Fixabstracttype_133197(C_140593, N_140594);
LA9: ;
Result_140595 = N_140594;
BeforeRet: ;
return Result_140595;
}
N_NIMCALL(TY54525*, Semcommand_144729)(TY106012* C_144731, TY54525* N_144732) {
TY54525* Result_144733;
Result_144733 = 0;
Result_144733 = Semexprnotype_139703(C_144731, N_144732);
return Result_144733;
}
N_NIMCALL(TY54525*, Semblock_140153)(TY106012* C_140155, TY54525* N_140156) {
TY54525* Result_140157;
TY54547* Labl_140206;
Result_140157 = 0;
Result_140157 = N_140156;
(*(*C_140155).P).Nestedblockcounter += 1;
Checksonslen_106099(N_140156, 2);
Openscope_59146(&(*C_140155).Tab);
if (!!(((*N_140156).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA2;
Labl_140206 = 0;
Labl_140206 = Newsyms_124059(((NU8) 19), (*N_140156).KindU.S6.Sons->data[0], C_140155);
Adddecl_107026(C_140155, Labl_140206);
asgnRefNoCycle((void**) &(*N_140156).KindU.S6.Sons->data[0], Newsymnode_54734(Labl_140206));
LA2: ;
asgnRefNoCycle((void**) &(*N_140156).KindU.S6.Sons->data[1], Semstmt_124143(C_140155, (*N_140156).KindU.S6.Sons->data[1]));
Closescope_107017(&(*C_140155).Tab);
(*(*C_140155).P).Nestedblockcounter -= 1;
return Result_140157;
}
N_NIMCALL(TY54525*, Semraise_142191)(TY106012* C_142193, TY54525* N_142194) {
TY54525* Result_142195;
TY54551* Typ_142255;
NIM_BOOL LOC5;
Result_142195 = 0;
Result_142195 = N_142194;
Checksonslen_106099(N_142194, 1);
if (!!(((*N_142194).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA2;
asgnRefNoCycle((void**) &(*N_142194).KindU.S6.Sons->data[0], Semexprwithtype_124122(C_142193, (*N_142194).KindU.S6.Sons->data[0], 0));
Typ_142255 = 0;
Typ_142255 = (*(*N_142194).KindU.S6.Sons->data[0]).Typ;
LOC5 = !(((*Typ_142255).Kind == ((NU8) 22)));
if (LOC5) goto LA6;
LOC5 = !(((*(*Typ_142255).Sons->data[0]).Kind == ((NU8) 17)));
LA6: ;
if (!LOC5) goto LA7;
Limessage_46566((*N_142194).Info, ((NU8) 110), ((NimStringDesc*) &TMP193925));
LA7: ;
LA2: ;
return Result_142195;
}
N_NIMCALL(TY54525*, Semvar_141296)(TY106012* C_141298, TY54525* N_141299) {
TY54525* Result_141300;
NI Length_141301;
TY54525* A_141302;
TY54525* B_141303;
TY54525* Def_141304;
TY54551* Typ_141305;
TY54551* Tup_141306;
TY54547* V_141307;
NI I_141315;
NI HEX3Atmp_145096;
NI LOC1;
NI Res_145098;
NIM_BOOL LOC8;
NIM_BOOL LOC22;
NimStringDesc* LOC25;
NI LOC33;
NI J_141488;
NI HEX3Atmp_145093;
NI Res_145095;
TY54525* LOC46;
TY54525* LOC47;
Result_141300 = 0;
Length_141301 = 0;
A_141302 = 0;
B_141303 = 0;
Def_141304 = 0;
Typ_141305 = 0;
Tup_141306 = 0;
V_141307 = 0;
Result_141300 = Copynode_54855(N_141299);
I_141315 = 0;
HEX3Atmp_145096 = 0;
LOC1 = Sonslen_54803(N_141299);
HEX3Atmp_145096 = (NI64)(LOC1 - 1);
Res_145098 = 0;
Res_145098 = 0;
while (1) {
if (!(Res_145098 <= HEX3Atmp_145096)) goto LA2;
I_141315 = Res_145098;
A_141302 = (*N_141299).KindU.S6.Sons->data[I_141315];
if (!((*A_141302).Kind == ((NU8) 105))) goto LA5;
goto LA3;
LA5: ;
LOC8 = !(((*A_141302).Kind == ((NU8) 25)));
if (!(LOC8)) goto LA9;
LOC8 = !(((*A_141302).Kind == ((NU8) 26)));
LA9: ;
if (!LOC8) goto LA10;
Illformedast_106092(A_141302);
LA10: ;
Checkminsonslen_106103(A_141302, 3);
Length_141301 = Sonslen_54803(A_141302);
if (!!(((*A_141302).KindU.S6.Sons->data[(NI64)(Length_141301 - 2)] == NIM_NIL))) goto LA13;
Typ_141305 = Semtypenode_124138(C_141298, (*A_141302).KindU.S6.Sons->data[(NI64)(Length_141301 - 2)], NIM_NIL);
goto LA12;
LA13: ;
Typ_141305 = NIM_NIL;
LA12: ;
if (!!(((*A_141302).KindU.S6.Sons->data[(NI64)(Length_141301 - 1)] == NIM_NIL))) goto LA16;
Def_141304 = Semexprwithtype_124122(C_141298, (*A_141302).KindU.S6.Sons->data[(NI64)(Length_141301 - 1)], 0);
if (!!((Typ_141305 == NIM_NIL))) goto LA19;
Def_141304 = Fitnode_124129(C_141298, Typ_141305, Def_141304);
goto LA18;
LA19: ;
Typ_141305 = (*Def_141304).Typ;
LA18: ;
goto LA15;
LA16: ;
Def_141304 = NIM_NIL;
LA15: ;
LOC22 = Typeallowed_96136(Typ_141305, ((NU8) 9));
if (!!(LOC22)) goto LA23;
LOC25 = 0;
LOC25 = Typetostring_96014(Typ_141305, ((NU8) 0));
Limessage_46566((*A_141302).Info, ((NU8) 163), LOC25);
LA23: ;
Tup_141306 = Skiptypes_96087(Typ_141305, 2048);
if (!((*A_141302).Kind == ((NU8) 26))) goto LA27;
if (!!(((*Tup_141306).Kind == ((NU8) 18)))) goto LA30;
Limessage_46566((*A_141302).Info, ((NU8) 184), ((NimStringDesc*) &TMP194143));
LA30: ;
LOC33 = Sonslen_54806(Tup_141306);
if (!!(((NI64)(Length_141301 - 2) == LOC33))) goto LA34;
Limessage_46566((*A_141302).Info, ((NU8) 109), ((NimStringDesc*) &TMP193925));
LA34: ;
B_141303 = Newnodei_54737(((NU8) 26), (*A_141302).Info);
Newsons_54815(B_141303, Length_141301);
asgnRefNoCycle((void**) &(*B_141303).KindU.S6.Sons->data[(NI64)(Length_141301 - 2)], NIM_NIL);
asgnRefNoCycle((void**) &(*B_141303).KindU.S6.Sons->data[(NI64)(Length_141301 - 1)], Def_141304);
Addson_54823(Result_141300, B_141303);
LA27: ;
J_141488 = 0;
HEX3Atmp_145093 = 0;
HEX3Atmp_145093 = (NI64)(Length_141301 - 3);
Res_145095 = 0;
Res_145095 = 0;
while (1) {
if (!(Res_145095 <= HEX3Atmp_145093)) goto LA36;
J_141488 = Res_145095;
if (!((*(*(*C_141298).P).Owner).Kind == ((NU8) 6))) goto LA38;
V_141307 = Semidentwithpragma_124098(C_141298, ((NU8) 9), (*A_141302).KindU.S6.Sons->data[J_141488], 6);
(*V_141307).Flags |=(1<<((NI32)(((NU8) 5))%(sizeof(NI32)*8)));
goto LA37;
LA38: ;
V_141307 = Semidentwithpragma_124098(C_141298, ((NU8) 9), (*A_141302).KindU.S6.Sons->data[J_141488], 0);
LA37: ;
if (!!((((*V_141307).Flags & 6) == 0))) goto LA41;
(*V_141307).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
LA41: ;
Addinterfacedecl_107040(C_141298, V_141307);
if (!!(((*A_141302).Kind == ((NU8) 26)))) goto LA44;
asgnRef((void**) &(*V_141307).Typ, Typ_141305);
B_141303 = Newnodei_54737(((NU8) 25), (*A_141302).Info);
LOC46 = 0;
LOC46 = Newsymnode_54734(V_141307);
Addson_54823(B_141303, LOC46);
Addson_54823(B_141303, NIM_NIL);
LOC47 = 0;
LOC47 = Copytree_54858(Def_141304);
Addson_54823(B_141303, LOC47);
Addson_54823(Result_141300, B_141303);
goto LA43;
LA44: ;
asgnRef((void**) &(*V_141307).Typ, (*Tup_141306).Sons->data[J_141488]);
asgnRefNoCycle((void**) &(*B_141303).KindU.S6.Sons->data[J_141488], Newsymnode_54734(V_141307));
LA43: ;
Res_145095 += 1;
} LA36: ;
LA3: ;
Res_145098 += 1;
} LA2: ;
return Result_141300;
}
N_NIMCALL(TY54525*, Semandevalconstexpr_124198)(TY106012* C_124200, TY54525* N_124201) {
TY54525* Result_124202;
TY54525* E_124203;
NIM_BOOL LOC8;
Result_124202 = 0;
E_124203 = 0;
E_124203 = Semexprwithtype_124122(C_124200, N_124201, 0);
if (!(E_124203 == NIM_NIL)) goto LA2;
Limessage_46566((*N_124201).Info, ((NU8) 102), ((NimStringDesc*) &TMP193925));
Result_124202 = NIM_NIL;
goto BeforeRet;
LA2: ;
Result_124202 = Getconstexpr_112010((*C_124200).Module, E_124203);
if (!(Result_124202 == NIM_NIL)) goto LA5;
Result_124202 = Evalconstexpr_114042((*C_124200).Module, E_124203);
LOC8 = (Result_124202 == NIM_NIL);
if (LOC8) goto LA9;
LOC8 = ((*Result_124202).Kind == ((NU8) 1));
LA9: ;
if (!LOC8) goto LA10;
Limessage_46566((*N_124201).Info, ((NU8) 102), ((NimStringDesc*) &TMP193925));
LA10: ;
LA5: ;
BeforeRet: ;
return Result_124202;
}
N_NIMCALL(TY54525*, Fitremovehiddenconv_141254)(TY106012* C_141256, TY54551* Typ_141257, TY54525* N_141258) {
TY54525* Result_141259;
NIM_BOOL LOC4;
Result_141259 = 0;
Result_141259 = Fitnode_124129(C_141256, Typ_141257, N_141258);
if (!((*Result_141259).Kind == ((NU8) 47) || (*Result_141259).Kind == ((NU8) 48))) goto LA2;
Changetype_132821((*Result_141259).KindU.S6.Sons->data[1], Typ_141257);
Result_141259 = (*Result_141259).KindU.S6.Sons->data[1];
goto LA1;
LA2: ;
LOC4 = Sametype_96048((*Result_141259).Typ, Typ_141257);
if (!!(LOC4)) goto LA5;
Changetype_132821(Result_141259, Typ_141257);
goto LA1;
LA5: ;
LA1: ;
return Result_141259;
}
N_NIMCALL(TY54525*, Semconst_141594)(TY106012* C_141596, TY54525* N_141597) {
TY54525* Result_141598;
TY54525* A_141599;
TY54525* Def_141600;
TY54525* B_141601;
TY54547* V_141602;
TY54551* Typ_141603;
NI I_141611;
NI HEX3Atmp_145100;
NI LOC1;
NI Res_145102;
NIM_BOOL LOC20;
NimStringDesc* LOC23;
TY54525* LOC27;
TY54525* LOC28;
Result_141598 = 0;
A_141599 = 0;
Def_141600 = 0;
B_141601 = 0;
V_141602 = 0;
Typ_141603 = 0;
Result_141598 = Copynode_54855(N_141597);
I_141611 = 0;
HEX3Atmp_145100 = 0;
LOC1 = Sonslen_54803(N_141597);
HEX3Atmp_145100 = (NI64)(LOC1 - 1);
Res_145102 = 0;
Res_145102 = 0;
while (1) {
if (!(Res_145102 <= HEX3Atmp_145100)) goto LA2;
I_141611 = Res_145102;
A_141599 = (*N_141597).KindU.S6.Sons->data[I_141611];
if (!((*A_141599).Kind == ((NU8) 105))) goto LA5;
goto LA3;
LA5: ;
if (!!(((*A_141599).Kind == ((NU8) 89)))) goto LA8;
Illformedast_106092(A_141599);
LA8: ;
Checksonslen_106099(A_141599, 3);
if (!((*(*(*C_141596).P).Owner).Kind == ((NU8) 6))) goto LA11;
V_141602 = Semidentwithpragma_124098(C_141596, ((NU8) 8), (*A_141599).KindU.S6.Sons->data[0], 6);
(*V_141602).Flags |=(1<<((NI32)(((NU8) 5))%(sizeof(NI32)*8)));
goto LA10;
LA11: ;
V_141602 = Semidentwithpragma_124098(C_141596, ((NU8) 8), (*A_141599).KindU.S6.Sons->data[0], 0);
LA10: ;
if (!!(((*A_141599).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA14;
Typ_141603 = Semtypenode_124138(C_141596, (*A_141599).KindU.S6.Sons->data[1], NIM_NIL);
goto LA13;
LA14: ;
Typ_141603 = NIM_NIL;
LA13: ;
Def_141600 = Semandevalconstexpr_124198(C_141596, (*A_141599).KindU.S6.Sons->data[2]);
if (!!((Typ_141603 == NIM_NIL))) goto LA17;
Def_141600 = Fitremovehiddenconv_141254(C_141596, Typ_141603, Def_141600);
goto LA16;
LA17: ;
Typ_141603 = (*Def_141600).Typ;
LA16: ;
LOC20 = Typeallowed_96136(Typ_141603, ((NU8) 8));
if (!!(LOC20)) goto LA21;
LOC23 = 0;
LOC23 = Typetostring_96014(Typ_141603, ((NU8) 0));
Limessage_46566((*A_141599).Info, ((NU8) 163), LOC23);
LA21: ;
asgnRef((void**) &(*V_141602).Typ, Typ_141603);
asgnRefNoCycle((void**) &(*V_141602).Ast, Def_141600);
if (!!((((*V_141602).Flags & 6) == 0))) goto LA25;
(*V_141602).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
LA25: ;
Addinterfacedecl_107040(C_141596, V_141602);
B_141601 = Newnodei_54737(((NU8) 89), (*A_141599).Info);
LOC27 = 0;
LOC27 = Newsymnode_54734(V_141602);
Addson_54823(B_141601, LOC27);
Addson_54823(B_141601, NIM_NIL);
LOC28 = 0;
LOC28 = Copytree_54858(Def_141600);
Addson_54823(B_141601, LOC28);
Addson_54823(Result_141598, B_141601);
LA3: ;
Res_145102 += 1;
} LA2: ;
return Result_141598;
}
N_NIMCALL(void, Setmagictype_131890)(TY54547* M_131892, NU8 Kind_131893, NI Size_131894) {
(*(*M_131892).Typ).Kind = Kind_131893;
(*(*M_131892).Typ).Align = Size_131894;
(*(*M_131892).Typ).Size = ((NI64) (Size_131894));
}
N_NIMCALL(void, Processmagictype_131895)(TY106012* C_131897, TY54547* M_131898) {
TY54551* LOC1;
TY54551* LOC2;
TY54551* LOC3;
switch ((*M_131898).Magic) {
case ((NU8) 168):
Setmagictype_131890(M_131898, ((NU8) 31), Intsize_50570);
break;
case ((NU8) 169):
Setmagictype_131890(M_131898, ((NU8) 32), 1);
break;
case ((NU8) 170):
Setmagictype_131890(M_131898, ((NU8) 33), 2);
break;
case ((NU8) 171):
Setmagictype_131890(M_131898, ((NU8) 34), 4);
break;
case ((NU8) 172):
Setmagictype_131890(M_131898, ((NU8) 35), 8);
break;
case ((NU8) 173):
Setmagictype_131890(M_131898, ((NU8) 36), Floatsize_50571);
break;
case ((NU8) 174):
Setmagictype_131890(M_131898, ((NU8) 37), 4);
break;
case ((NU8) 175):
Setmagictype_131890(M_131898, ((NU8) 38), 8);
break;
case ((NU8) 176):
Setmagictype_131890(M_131898, ((NU8) 1), 1);
break;
case ((NU8) 177):
Setmagictype_131890(M_131898, ((NU8) 2), 1);
break;
case ((NU8) 178):
Setmagictype_131890(M_131898, ((NU8) 28), Ptrsize_50572);
LOC1 = 0;
LOC1 = Getsystype_101008(((NU8) 2));
Addson_54827((*M_131898).Typ, LOC1);
break;
case ((NU8) 179):
Setmagictype_131890(M_131898, ((NU8) 29), Ptrsize_50572);
LOC2 = 0;
LOC2 = Getsystype_101008(((NU8) 2));
Addson_54827((*M_131898).Typ, LOC2);
break;
case ((NU8) 180):
Setmagictype_131890(M_131898, ((NU8) 26), Ptrsize_50572);
break;
case ((NU8) 181):
Setmagictype_131890(M_131898, ((NU8) 19), 1);
LOC3 = 0;
LOC3 = Newtypes_106077(((NU8) 3), C_131897);
Addson_54827((*M_131898).Typ, LOC3);
break;
case ((NU8) 182):
Setmagictype_131890(M_131898, ((NU8) 20), Intsize_50570);
goto BeforeRet;
break;
case ((NU8) 183):
Setmagictype_131890(M_131898, ((NU8) 5), Ptrsize_50572);
break;
case ((NU8) 184):
Setmagictype_131890(M_131898, ((NU8) 6), 0);
break;
case ((NU8) 185):
Setmagictype_131890(M_131898, ((NU8) 7), 0);
break;
case ((NU8) 186):
Setmagictype_131890(M_131898, ((NU8) 8), 0);
break;
case ((NU8) 162):
case ((NU8) 163):
case ((NU8) 164):
case ((NU8) 165):
case ((NU8) 166):
case ((NU8) 167):
goto BeforeRet;
break;
default:
Limessage_46566((*M_131898).Info, ((NU8) 60), ((NimStringDesc*) &TMP193925));
break;
}
BeforeRet: ;
}
static N_INLINE(NI, Getid_54693)(void) {
NI Result_54948;
Result_54948 = 0;
Result_54948 = Gid_54692;
Gid_54692 += 1;
return Result_54948;
}
N_NIMCALL(TY54525*, Semgenericparamlist_142469)(TY106012* C_142471, TY54525* N_142472, TY54551* Father_142473) {
TY54525* Result_142474;
NI I_142491;
NI HEX3Atmp_145115;
NI LOC4;
NI Res_145117;
TY54525* A_142504;
NI L_142514;
TY54525* Def_142527;
TY54551* Typ_142528;
NI J_142582;
NI HEX3Atmp_145112;
NI Res_145114;
TY54547* S_142583;
NIM_BOOL LOC16;
TY54525* LOC23;
Result_142474 = 0;
Result_142474 = Copynode_54855(N_142472);
if (!!(((*N_142472).Kind == ((NU8) 65)))) goto LA2;
Internalerror_46571((*N_142472).Info, ((NimStringDesc*) &TMP194162));
LA2: ;
I_142491 = 0;
HEX3Atmp_145115 = 0;
LOC4 = Sonslen_54803(N_142472);
HEX3Atmp_145115 = (NI64)(LOC4 - 1);
Res_145117 = 0;
Res_145117 = 0;
while (1) {
if (!(Res_145117 <= HEX3Atmp_145115)) goto LA5;
I_142491 = Res_145117;
A_142504 = 0;
A_142504 = (*N_142472).KindU.S6.Sons->data[I_142491];
if (!!(((*A_142504).Kind == ((NU8) 25)))) goto LA7;
Illformedast_106092(N_142472);
LA7: ;
L_142514 = 0;
L_142514 = Sonslen_54803(A_142504);
Def_142527 = 0;
Def_142527 = (*A_142504).KindU.S6.Sons->data[(NI64)(L_142514 - 1)];
Typ_142528 = 0;
if (!!(((*A_142504).KindU.S6.Sons->data[(NI64)(L_142514 - 2)] == NIM_NIL))) goto LA10;
Typ_142528 = Semtypenode_124138(C_142471, (*A_142504).KindU.S6.Sons->data[(NI64)(L_142514 - 2)], NIM_NIL);
goto LA9;
LA10: ;
if (!!((Def_142527 == NIM_NIL))) goto LA12;
Typ_142528 = Newtypes_106077(((NU8) 6), C_142471);
goto LA9;
LA12: ;
Typ_142528 = NIM_NIL;
LA9: ;
J_142582 = 0;
HEX3Atmp_145112 = 0;
HEX3Atmp_145112 = (NI64)(L_142514 - 3);
Res_145114 = 0;
Res_145114 = 0;
while (1) {
if (!(Res_145114 <= HEX3Atmp_145112)) goto LA14;
J_142582 = Res_145114;
S_142583 = 0;
LOC16 = (Typ_142528 == NIM_NIL);
if (LOC16) goto LA17;
LOC16 = ((*Typ_142528).Kind == ((NU8) 8));
LA17: ;
if (!LOC16) goto LA18;
S_142583 = Newsyms_124059(((NU8) 7), (*A_142504).KindU.S6.Sons->data[J_142582], C_142471);
asgnRef((void**) &(*S_142583).Typ, Newtypes_106077(((NU8) 12), C_142471));
goto LA15;
LA18: ;
S_142583 = Newsyms_124059(((NU8) 4), (*A_142504).KindU.S6.Sons->data[J_142582], C_142471);
asgnRef((void**) &(*S_142583).Typ, Typ_142528);
LA15: ;
asgnRefNoCycle((void**) &(*S_142583).Ast, Def_142527);
asgnRef((void**) &(*(*S_142583).Typ).Sym, S_142583);
if (!!((Father_142473 == NIM_NIL))) goto LA21;
Addson_54827(Father_142473, (*S_142583).Typ);
LA21: ;
(*S_142583).Position = I_142491;
LOC23 = 0;
LOC23 = Newsymnode_54734(S_142583);
Addson_54823(Result_142474, LOC23);
Adddecl_107026(C_142471, S_142583);
Res_145114 += 1;
} LA14: ;
Res_145117 += 1;
} LA5: ;
return Result_142474;
}
N_NIMCALL(TY54525*, Semtypesection_142694)(TY106012* C_142696, TY54525* N_142697) {
TY54525* Result_142698;
TY54547* S_142699;
TY54551* T_142700;
TY54551* Body_142701;
NI I_142709;
NI HEX3Atmp_145122;
NI LOC1;
NI Res_145124;
TY54525* A_142722;
NI I_142889;
NI HEX3Atmp_145126;
NI LOC19;
NI Res_145128;
TY54525* A_142902;
NIM_BOOL LOC32;
NI LOC48;
NIM_BOOL LOC52;
NI I_143143;
NI HEX3Atmp_145130;
NI LOC56;
NI Res_145132;
TY54525* A_143156;
NIM_BOOL LOC69;
Result_142698 = 0;
S_142699 = 0;
T_142700 = 0;
Body_142701 = 0;
Result_142698 = N_142697;
I_142709 = 0;
HEX3Atmp_145122 = 0;
LOC1 = Sonslen_54803(N_142697);
HEX3Atmp_145122 = (NI64)(LOC1 - 1);
Res_145124 = 0;
Res_145124 = 0;
while (1) {
if (!(Res_145124 <= HEX3Atmp_145122)) goto LA2;
I_142709 = Res_145124;
A_142722 = 0;
A_142722 = (*N_142697).KindU.S6.Sons->data[I_142709];
if (!((*A_142722).Kind == ((NU8) 105))) goto LA5;
goto LA3;
LA5: ;
if (!!(((*A_142722).Kind == ((NU8) 91)))) goto LA8;
Illformedast_106092(A_142722);
LA8: ;
Checksonslen_106099(A_142722, 3);
if (!((*(*(*C_142696).P).Owner).Kind == ((NU8) 6))) goto LA11;
S_142699 = Semidentwithpragma_124098(C_142696, ((NU8) 7), (*A_142722).KindU.S6.Sons->data[0], 6);
(*S_142699).Flags |=(1<<((NI32)(((NU8) 5))%(sizeof(NI32)*8)));
goto LA10;
LA11: ;
S_142699 = Semidentwithpragma_124098(C_142696, ((NU8) 7), (*A_142722).KindU.S6.Sons->data[0], 0);
LA10: ;
if (!!((((*S_142699).Flags & 6) == 0))) goto LA14;
(*S_142699).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
LA14: ;
asgnRef((void**) &(*S_142699).Typ, Newtypes_106077(((NU8) 30), C_142696));
asgnRef((void**) &(*(*S_142699).Typ).Sym, S_142699);
if (!((*(*A_142722).KindU.S6.Sons->data[0]).Kind == ((NU8) 34))) goto LA17;
Pragma_121028(C_142696, S_142699, (*(*A_142722).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[1], TMP194160);
LA17: ;
Addinterfacedecl_107040(C_142696, S_142699);
asgnRefNoCycle((void**) &(*A_142722).KindU.S6.Sons->data[0], Newsymnode_54734(S_142699));
LA3: ;
Res_145124 += 1;
} LA2: ;
I_142889 = 0;
HEX3Atmp_145126 = 0;
LOC19 = Sonslen_54803(N_142697);
HEX3Atmp_145126 = (NI64)(LOC19 - 1);
Res_145128 = 0;
Res_145128 = 0;
while (1) {
if (!(Res_145128 <= HEX3Atmp_145126)) goto LA20;
I_142889 = Res_145128;
A_142902 = 0;
A_142902 = (*N_142697).KindU.S6.Sons->data[I_142889];
if (!((*A_142902).Kind == ((NU8) 105))) goto LA23;
goto LA21;
LA23: ;
if (!!(((*A_142902).Kind == ((NU8) 91)))) goto LA26;
Illformedast_106092(A_142902);
LA26: ;
Checksonslen_106099(A_142902, 3);
if (!!(((*(*A_142902).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA29;
Illformedast_106092(A_142902);
LA29: ;
S_142699 = (*(*A_142902).KindU.S6.Sons->data[0]).KindU.S4.Sym;
LOC32 = ((*S_142699).Magic == ((NU8) 0));
if (!(LOC32)) goto LA33;
LOC32 = ((*A_142902).KindU.S6.Sons->data[2] == NIM_NIL);
LA33: ;
if (!LOC32) goto LA34;
Limessage_46566((*A_142902).Info, ((NU8) 135), (*(*S_142699).Name).S);
LA34: ;
if (!!(((*S_142699).Magic == ((NU8) 0)))) goto LA37;
Processmagictype_131895(C_142696, S_142699);
LA37: ;
if (!!(((*A_142902).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA40;
Openscope_59146(&(*C_142696).Tab);
Pushowner_106109(S_142699);
(*(*S_142699).Typ).Kind = ((NU8) 10);
if (!!(((*(*S_142699).Typ).Containerid == 0))) goto LA43;
Internalerror_46571((*A_142902).Info, ((NimStringDesc*) &TMP194161));
LA43: ;
(*(*S_142699).Typ).Containerid = Getid_54693();
asgnRefNoCycle((void**) &(*A_142902).KindU.S6.Sons->data[1], Semgenericparamlist_142469(C_142696, (*A_142902).KindU.S6.Sons->data[1], (*S_142699).Typ));
Addson_54827((*S_142699).Typ, NIM_NIL);
asgnRefNoCycle((void**) &(*S_142699).Ast, A_142902);
Body_142701 = Semtypenode_124138(C_142696, (*A_142902).KindU.S6.Sons->data[2], NIM_NIL);
if (!!((Body_142701 == NIM_NIL))) goto LA46;
asgnRef((void**) &(*Body_142701).Sym, S_142699);
LA46: ;
LOC48 = Sonslen_54806((*S_142699).Typ);
asgnRef((void**) &(*(*S_142699).Typ).Sons->data[(NI64)(LOC48 - 1)], Body_142701);
Popowner_106112();
Closescope_107017(&(*C_142696).Tab);
goto LA39;
LA40: ;
if (!!(((*A_142902).KindU.S6.Sons->data[2] == NIM_NIL))) goto LA49;
Pushowner_106109(S_142699);
T_142700 = Semtypenode_124138(C_142696, (*A_142902).KindU.S6.Sons->data[2], (*S_142699).Typ);
LOC52 = !((T_142700 == (*S_142699).Typ));
if (!(LOC52)) goto LA53;
LOC52 = !(((*S_142699).Typ == NIM_NIL));
LA53: ;
if (!LOC52) goto LA54;
Internalerror_46571((*A_142902).Info, ((NimStringDesc*) &TMP194163));
LA54: ;
asgnRef((void**) &(*S_142699).Typ, T_142700);
asgnRefNoCycle((void**) &(*S_142699).Ast, A_142902);
Popowner_106112();
goto LA39;
LA49: ;
LA39: ;
LA21: ;
Res_145128 += 1;
} LA20: ;
I_143143 = 0;
HEX3Atmp_145130 = 0;
LOC56 = Sonslen_54803(N_142697);
HEX3Atmp_145130 = (NI64)(LOC56 - 1);
Res_145132 = 0;
Res_145132 = 0;
while (1) {
if (!(Res_145132 <= HEX3Atmp_145130)) goto LA57;
I_143143 = Res_145132;
A_143156 = 0;
A_143156 = (*N_142697).KindU.S6.Sons->data[I_143143];
if (!((*A_143156).Kind == ((NU8) 105))) goto LA60;
goto LA58;
LA60: ;
if (!!(((*(*A_143156).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA63;
Illformedast_106092(A_143156);
LA63: ;
S_142699 = (*(*A_143156).KindU.S6.Sons->data[0]).KindU.S4.Sym;
if (!((*A_143156).KindU.S6.Sons->data[1] == NIM_NIL)) goto LA66;
LOC69 = !(((*A_143156).KindU.S6.Sons->data[2] == NIM_NIL));
if (!(LOC69)) goto LA70;
LOC69 = ((*(*A_143156).KindU.S6.Sons->data[2]).Kind == ((NU8) 3) || (*(*A_143156).KindU.S6.Sons->data[2]).Kind == ((NU8) 2) || (*(*A_143156).KindU.S6.Sons->data[2]).Kind == ((NU8) 43));
LA70: ;
if (!LOC69) goto LA71;
T_142700 = Semtypenode_124138(C_142696, (*A_143156).KindU.S6.Sons->data[2], NIM_NIL);
if (!((147456 &(IL64(1)<<(((*T_142700).Kind)&IL64(63))))!=0)) goto LA74;
Assigntype_54779((*S_142699).Typ, T_142700);
(*(*S_142699).Typ).Sup.Id = (*T_142700).Sup.Id;
LA74: ;
LA71: ;
Checkconstructedtype_125639((*S_142699).Info, (*S_142699).Typ);
LA66: ;
LA58: ;
Res_145132 += 1;
} LA57: ;
return Result_142698;
}
N_NIMCALL(TY54525*, Semif_139858)(TY106012* C_139860, TY54525* N_139861) {
TY54525* Result_139862;
NI I_139870;
NI HEX3Atmp_145086;
NI LOC1;
NI Res_145088;
TY54525* It_139883;
NI LOC7;
Result_139862 = 0;
Result_139862 = N_139861;
I_139870 = 0;
HEX3Atmp_145086 = 0;
LOC1 = Sonslen_54803(N_139861);
HEX3Atmp_145086 = (NI64)(LOC1 - 1);
Res_145088 = 0;
Res_145088 = 0;
while (1) {
if (!(Res_145088 <= HEX3Atmp_145086)) goto LA2;
I_139870 = Res_145088;
It_139883 = 0;
It_139883 = (*N_139861).KindU.S6.Sons->data[I_139870];
if (!(It_139883 == NIM_NIL)) goto LA4;
Illformedast_106092(N_139861);
LA4: ;
switch ((*It_139883).Kind) {
case ((NU8) 76):
Checksonslen_106099(It_139883, 2);
Openscope_59146(&(*C_139860).Tab);
asgnRefNoCycle((void**) &(*It_139883).KindU.S6.Sons->data[0], Semexprwithtype_124122(C_139860, (*It_139883).KindU.S6.Sons->data[0], 0));
Checkbool_128779((*It_139883).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*It_139883).KindU.S6.Sons->data[1], Semstmt_124143(C_139860, (*It_139883).KindU.S6.Sons->data[1]));
Closescope_107017(&(*C_139860).Tab);
break;
case ((NU8) 78):
LOC7 = Sonslen_54803(It_139883);
if (!(LOC7 == 1)) goto LA8;
asgnRefNoCycle((void**) &(*It_139883).KindU.S6.Sons->data[0], Semstmtscope_124104(C_139860, (*It_139883).KindU.S6.Sons->data[0]));
goto LA6;
LA8: ;
Illformedast_106092(It_139883);
LA6: ;
break;
default:
Illformedast_106092(N_139861);
break;
}
Res_145088 += 1;
} LA2: ;
return Result_139862;
}
N_NIMCALL(TY54525*, Semwhen_139728)(TY106012* C_139730, TY54525* N_139731) {
TY54525* Result_139732;
NI I_139740;
NI HEX3Atmp_145083;
NI LOC1;
NI Res_145085;
TY54525* It_139753;
TY54525* E_139777;
NIM_BOOL LOC10;
Result_139732 = 0;
Result_139732 = NIM_NIL;
I_139740 = 0;
HEX3Atmp_145083 = 0;
LOC1 = Sonslen_54803(N_139731);
HEX3Atmp_145083 = (NI64)(LOC1 - 1);
Res_145085 = 0;
Res_145085 = 0;
while (1) {
if (!(Res_145085 <= HEX3Atmp_145083)) goto LA2;
I_139740 = Res_145085;
It_139753 = 0;
It_139753 = (*N_139731).KindU.S6.Sons->data[I_139740];
if (!(It_139753 == NIM_NIL)) goto LA4;
Illformedast_106092(N_139731);
LA4: ;
switch ((*It_139753).Kind) {
case ((NU8) 76):
Checksonslen_106099(It_139753, 2);
E_139777 = 0;
E_139777 = Semconstexpr_124171(C_139730, (*It_139753).KindU.S6.Sons->data[0]);
Checkbool_128779(E_139777);
if (!!(((*E_139777).Kind == ((NU8) 6)))) goto LA7;
Internalerror_46571((*N_139731).Info, ((NimStringDesc*) &TMP194164));
LA7: ;
LOC10 = !(((*E_139777).KindU.S1.Intval == 0));
if (!(LOC10)) goto LA11;
LOC10 = (Result_139732 == NIM_NIL);
LA11: ;
if (!LOC10) goto LA12;
Result_139732 = Semstmt_124143(C_139730, (*It_139753).KindU.S6.Sons->data[1]);
LA12: ;
break;
case ((NU8) 78):
Checksonslen_106099(It_139753, 1);
if (!(Result_139732 == NIM_NIL)) goto LA15;
Result_139732 = Semstmt_124143(C_139730, (*It_139753).KindU.S6.Sons->data[0]);
LA15: ;
break;
default:
Illformedast_106092(N_139731);
break;
}
Res_145085 += 1;
} LA2: ;
if (!(Result_139732 == NIM_NIL)) goto LA18;
Result_139732 = Newnodei_54737(((NU8) 18), (*N_139731).Info);
LA18: ;
Idsynchronizationpoint_54698(200);
return Result_139732;
}
N_NIMCALL(TY54525*, Semdiscard_139983)(TY106012* C_139985, TY54525* N_139986) {
TY54525* Result_139987;
Result_139987 = 0;
Result_139987 = N_139986;
Checksonslen_106099(N_139986, 1);
asgnRefNoCycle((void**) &(*N_139986).KindU.S6.Sons->data[0], Semexprwithtype_124122(C_139985, (*N_139986).KindU.S6.Sons->data[0], 0));
if (!((*(*N_139986).KindU.S6.Sons->data[0]).Typ == NIM_NIL)) goto LA2;
Limessage_46566((*N_139986).Info, ((NU8) 138), ((NimStringDesc*) &TMP193925));
LA2: ;
return Result_139987;
}
N_NIMCALL(TY54525*, Semwhile_140276)(TY106012* C_140278, TY54525* N_140279) {
TY54525* Result_140280;
Result_140280 = 0;
Result_140280 = N_140279;
Checksonslen_106099(N_140279, 2);
Openscope_59146(&(*C_140278).Tab);
asgnRefNoCycle((void**) &(*N_140279).KindU.S6.Sons->data[0], Semexprwithtype_124122(C_140278, (*N_140279).KindU.S6.Sons->data[0], 0));
Checkbool_128779((*N_140279).KindU.S6.Sons->data[0]);
(*(*C_140278).P).Nestedloopcounter += 1;
asgnRefNoCycle((void**) &(*N_140279).KindU.S6.Sons->data[1], Semstmt_124143(C_140278, (*N_140279).KindU.S6.Sons->data[1]));
(*(*C_140278).P).Nestedloopcounter -= 1;
Closescope_107017(&(*C_140278).Tab);
return Result_140280;
}
N_NIMCALL(TY54525*, Semtry_142274)(TY106012* C_142276, TY54525* N_142277) {
TY54525* Result_142278;
TY54900 Check_142279;
NI I_142312;
NI HEX3Atmp_145109;
NI LOC1;
NI Res_145111;
TY54525* A_142325;
NI Length_142326;
NI J_142343;
NI HEX3Atmp_145106;
NI Res_145108;
TY54551* Typ_142356;
NIM_BOOL LOC14;
Result_142278 = 0;
memset((void*)&Check_142279, 0, sizeof(Check_142279));
Result_142278 = N_142277;
Checkminsonslen_106103(N_142277, 2);
asgnRefNoCycle((void**) &(*N_142277).KindU.S6.Sons->data[0], Semstmtscope_124104(C_142276, (*N_142277).KindU.S6.Sons->data[0]));
Intsetinit_54924(&Check_142279);
I_142312 = 0;
HEX3Atmp_145109 = 0;
LOC1 = Sonslen_54803(N_142277);
HEX3Atmp_145109 = (NI64)(LOC1 - 1);
Res_145111 = 0;
Res_145111 = 1;
while (1) {
if (!(Res_145111 <= HEX3Atmp_145109)) goto LA2;
I_142312 = Res_145111;
A_142325 = 0;
A_142325 = (*N_142277).KindU.S6.Sons->data[I_142312];
Checkminsonslen_106103(A_142325, 1);
Length_142326 = 0;
Length_142326 = Sonslen_54803(A_142325);
if (!((*A_142325).Kind == ((NU8) 77))) goto LA4;
J_142343 = 0;
HEX3Atmp_145106 = 0;
HEX3Atmp_145106 = (NI64)(Length_142326 - 2);
Res_145108 = 0;
Res_145108 = 0;
while (1) {
if (!(Res_145108 <= HEX3Atmp_145106)) goto LA6;
J_142343 = Res_145108;
Typ_142356 = 0;
Typ_142356 = Semtypenode_124138(C_142276, (*A_142325).KindU.S6.Sons->data[J_142343], NIM_NIL);
if (!((*Typ_142356).Kind == ((NU8) 22))) goto LA8;
Typ_142356 = (*Typ_142356).Sons->data[0];
LA8: ;
if (!!(((*Typ_142356).Kind == ((NU8) 17)))) goto LA11;
Limessage_46566((*(*A_142325).KindU.S6.Sons->data[J_142343]).Info, ((NU8) 110), ((NimStringDesc*) &TMP193925));
LA11: ;
asgnRefNoCycle((void**) &(*A_142325).KindU.S6.Sons->data[J_142343], Newnodei_54737(((NU8) 4), (*(*A_142325).KindU.S6.Sons->data[J_142343]).Info));
asgnRef((void**) &(*(*A_142325).KindU.S6.Sons->data[J_142343]).Typ, Typ_142356);
LOC14 = Intsetcontainsorincl_54928(&Check_142279, (*Typ_142356).Sup.Id);
if (!LOC14) goto LA15;
Limessage_46566((*(*A_142325).KindU.S6.Sons->data[J_142343]).Info, ((NU8) 33), ((NimStringDesc*) &TMP193925));
LA15: ;
Res_145108 += 1;
} LA6: ;
goto LA3;
LA4: ;
if (!!(((*A_142325).Kind == ((NU8) 94)))) goto LA17;
Illformedast_106092(N_142277);
goto LA3;
LA17: ;
LA3: ;
asgnRefNoCycle((void**) &(*A_142325).KindU.S6.Sons->data[(NI64)(Length_142326 - 1)], Semstmtscope_124104(C_142276, (*A_142325).KindU.S6.Sons->data[(NI64)(Length_142326 - 1)]));
Res_145111 += 1;
} LA2: ;
return Result_142278;
}
N_NIMCALL(TY54525*, Sembreakorcontinue_140035)(TY106012* C_140037, TY54525* N_140038) {
TY54525* Result_140039;
TY54547* S_140063;
NIM_BOOL LOC5;
TY54525* X_140123;
NIM_BOOL LOC9;
NimStringDesc* LOC13;
Result_140039 = 0;
Result_140039 = N_140038;
Checksonslen_106099(N_140038, 1);
if (!!(((*N_140038).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA2;
S_140063 = 0;
switch ((*(*N_140038).KindU.S6.Sons->data[0]).Kind) {
case ((NU8) 2):
S_140063 = Lookup_107049(C_140037, (*N_140038).KindU.S6.Sons->data[0]);
break;
case ((NU8) 3):
S_140063 = (*(*N_140038).KindU.S6.Sons->data[0]).KindU.S4.Sym;
break;
default:
Illformedast_106092(N_140038);
break;
}
LOC5 = ((*S_140063).Kind == ((NU8) 19));
if (!(LOC5)) goto LA6;
LOC5 = ((*(*S_140063).Owner).Sup.Id == (*(*(*C_140037).P).Owner).Sup.Id);
LA6: ;
if (!LOC5) goto LA7;
X_140123 = 0;
X_140123 = Newsymnode_54734(S_140063);
(*X_140123).Info = (*N_140038).Info;
(*S_140063).Flags |=(1<<((NI32)(((NU8) 0))%(sizeof(NI32)*8)));
asgnRefNoCycle((void**) &(*N_140038).KindU.S6.Sons->data[0], X_140123);
goto LA4;
LA7: ;
Limessage_46566((*N_140038).Info, ((NU8) 161), (*(*S_140063).Name).S);
LA4: ;
goto LA1;
LA2: ;
LOC9 = ((*(*C_140037).P).Nestedloopcounter <= 0);
if (!(LOC9)) goto LA10;
LOC9 = ((*(*C_140037).P).Nestedblockcounter <= 0);
LA10: ;
if (!LOC9) goto LA11;
LOC13 = 0;
LOC13 = Rendertree_84042(N_140038, 4);
Limessage_46566((*N_140038).Info, ((NU8) 161), LOC13);
goto LA1;
LA11: ;
LA1: ;
return Result_140039;
}
N_NIMCALL(TY54525*, Semfor_141784)(TY106012* C_141786, TY54525* N_141787) {
TY54525* Result_141788;
NI Length_141789;
TY54547* V_141790;
TY54547* Countup_141791;
TY54551* Iter_141792;
TY54525* Countupnode_141793;
TY54525* Call_141794;
TY53011* LOC4;
NIM_BOOL LOC9;
NIM_BOOL LOC10;
NI LOC22;
NI I_142117;
NI HEX3Atmp_145103;
NI Res_145105;
Result_141788 = 0;
Length_141789 = 0;
V_141790 = 0;
Countup_141791 = 0;
Iter_141792 = 0;
Countupnode_141793 = 0;
Call_141794 = 0;
Result_141788 = N_141787;
Checkminsonslen_106103(N_141787, 3);
Length_141789 = Sonslen_54803(N_141787);
Openscope_59146(&(*C_141786).Tab);
if (!((*(*N_141787).KindU.S6.Sons->data[(NI64)(Length_141789 - 2)]).Kind == ((NU8) 35))) goto LA2;
Checksonslen_106099((*N_141787).KindU.S6.Sons->data[(NI64)(Length_141789 - 2)], 2);
Countupnode_141793 = Newnodei_54737(((NU8) 21), (*(*N_141787).KindU.S6.Sons->data[(NI64)(Length_141789 - 2)]).Info);
LOC4 = 0;
LOC4 = Getident_53016(((NimStringDesc*) &TMP194165));
Countup_141791 = Strtableget_59066(&(*Systemmodule_101004).Tab, LOC4);
if (!(Countup_141791 == NIM_NIL)) goto LA6;
Limessage_46566((*Countupnode_141793).Info, ((NU8) 61), ((NimStringDesc*) &TMP194165));
LA6: ;
Newsons_54815(Countupnode_141793, 3);
asgnRefNoCycle((void**) &(*Countupnode_141793).KindU.S6.Sons->data[0], Newsymnode_54734(Countup_141791));
asgnRefNoCycle((void**) &(*Countupnode_141793).KindU.S6.Sons->data[1], (*(*N_141787).KindU.S6.Sons->data[(NI64)(Length_141789 - 2)]).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*Countupnode_141793).KindU.S6.Sons->data[2], (*(*N_141787).KindU.S6.Sons->data[(NI64)(Length_141789 - 2)]).KindU.S6.Sons->data[1]);
asgnRefNoCycle((void**) &(*N_141787).KindU.S6.Sons->data[(NI64)(Length_141789 - 2)], Countupnode_141793);
LA2: ;
asgnRefNoCycle((void**) &(*N_141787).KindU.S6.Sons->data[(NI64)(Length_141789 - 2)], Semexprwithtype_124122(C_141786, (*N_141787).KindU.S6.Sons->data[(NI64)(Length_141789 - 2)], 4));
Call_141794 = (*N_141787).KindU.S6.Sons->data[(NI64)(Length_141789 - 2)];
LOC10 = !(((*Call_141794).Kind == ((NU8) 21)));
if (LOC10) goto LA11;
LOC10 = !(((*(*Call_141794).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)));
LA11: ;
LOC9 = LOC10;
if (LOC9) goto LA12;
LOC9 = !(((*(*(*Call_141794).KindU.S6.Sons->data[0]).KindU.S4.Sym).Kind == ((NU8) 12)));
LA12: ;
if (!LOC9) goto LA13;
Limessage_46566((*(*N_141787).KindU.S6.Sons->data[(NI64)(Length_141789 - 2)]).Info, ((NU8) 207), ((NimStringDesc*) &TMP193925));
LA13: ;
Iter_141792 = Skiptypes_96087((*(*N_141787).KindU.S6.Sons->data[(NI64)(Length_141789 - 2)]).Typ, 2048);
if (!!(((*Iter_141792).Kind == ((NU8) 18)))) goto LA16;
if (!!((Length_141789 == 3))) goto LA19;
Limessage_46566((*N_141787).Info, ((NU8) 109), ((NimStringDesc*) &TMP193925));
LA19: ;
V_141790 = Newsyms_124059(((NU8) 18), (*N_141787).KindU.S6.Sons->data[0], C_141786);
asgnRef((void**) &(*V_141790).Typ, Iter_141792);
asgnRefNoCycle((void**) &(*N_141787).KindU.S6.Sons->data[0], Newsymnode_54734(V_141790));
Adddecl_107026(C_141786, V_141790);
goto LA15;
LA16: ;
LOC22 = Sonslen_54806(Iter_141792);
if (!!(((NI64)(Length_141789 - 2) == LOC22))) goto LA23;
Limessage_46566((*N_141787).Info, ((NU8) 109), ((NimStringDesc*) &TMP193925));
LA23: ;
I_142117 = 0;
HEX3Atmp_145103 = 0;
HEX3Atmp_145103 = (NI64)(Length_141789 - 3);
Res_145105 = 0;
Res_145105 = 0;
while (1) {
if (!(Res_145105 <= HEX3Atmp_145103)) goto LA25;
I_142117 = Res_145105;
V_141790 = Newsyms_124059(((NU8) 18), (*N_141787).KindU.S6.Sons->data[I_142117], C_141786);
asgnRef((void**) &(*V_141790).Typ, (*Iter_141792).Sons->data[I_142117]);
asgnRefNoCycle((void**) &(*N_141787).KindU.S6.Sons->data[I_142117], Newsymnode_54734(V_141790));
Adddecl_107026(C_141786, V_141790);
Res_145105 += 1;
} LA25: ;
LA15: ;
(*(*C_141786).P).Nestedloopcounter += 1;
asgnRefNoCycle((void**) &(*N_141787).KindU.S6.Sons->data[(NI64)(Length_141789 - 1)], Semstmt_124143(C_141786, (*N_141787).KindU.S6.Sons->data[(NI64)(Length_141789 - 1)]));
Closescope_107017(&(*C_141786).Tab);
(*(*C_141786).P).Nestedloopcounter -= 1;
return Result_141788;
}
N_NIMCALL(NI64, Tocover_140367)(TY54551* T_140369) {
NI64 Result_140370;
TY54551* T2_140371;
NIM_BOOL LOC2;
NI LOC6;
TY54551* LOC7;
Result_140370 = 0;
T2_140371 = 0;
T2_140371 = Skiptypes_96087(T_140369, 9480192);
LOC2 = ((*T2_140371).Kind == ((NU8) 14));
if (!(LOC2)) goto LA3;
LOC2 = Enumhaswholes_96072(T2_140371);
LA3: ;
if (!LOC2) goto LA4;
LOC6 = Sonslen_54803((*T2_140371).N);
Result_140370 = ((NI64) (LOC6));
goto LA1;
LA4: ;
LOC7 = 0;
LOC7 = Skiptypes_96087(T_140369, 8431616);
Result_140370 = Lengthord_96007(LOC7);
LA1: ;
return Result_140370;
}
N_NIMCALL(TY54525*, Semcase_140381)(TY106012* C_140383, TY54525* N_140384) {
TY54525* Result_140385;
NIM_BOOL Chckcovered_140411;
NI64 Covered_140412;
TY54551* LOC1;
NI I_140432;
NI HEX3Atmp_145089;
NI LOC2;
NI Res_145091;
TY54525* X_140445;
NI Length_140447;
NIM_BOOL LOC5;
NI64 LOC7;
Result_140385 = 0;
Result_140385 = N_140384;
Checkminsonslen_106103(N_140384, 2);
Openscope_59146(&(*C_140383).Tab);
asgnRefNoCycle((void**) &(*N_140384).KindU.S6.Sons->data[0], Semexprwithtype_124122(C_140383, (*N_140384).KindU.S6.Sons->data[0], 0));
Chckcovered_140411 = 0;
Chckcovered_140411 = NIM_FALSE;
Covered_140412 = 0;
Covered_140412 = 0;
LOC1 = 0;
LOC1 = Skiptypes_96087((*(*N_140384).KindU.S6.Sons->data[0]).Typ, 9480192);
switch ((*LOC1).Kind) {
case ((NU8) 31) ... ((NU8) 35):
case ((NU8) 2):
case ((NU8) 14):
Chckcovered_140411 = NIM_TRUE;
break;
case ((NU8) 36) ... ((NU8) 39):
case ((NU8) 28):
break;
default:
Limessage_46566((*N_140384).Info, ((NU8) 105), ((NimStringDesc*) &TMP193925));
break;
}
I_140432 = 0;
HEX3Atmp_145089 = 0;
LOC2 = Sonslen_54803(N_140384);
HEX3Atmp_145089 = (NI64)(LOC2 - 1);
Res_145091 = 0;
Res_145091 = 1;
while (1) {
if (!(Res_145091 <= HEX3Atmp_145089)) goto LA3;
I_140432 = Res_145091;
X_140445 = 0;
X_140445 = (*N_140384).KindU.S6.Sons->data[I_140432];
switch ((*X_140445).Kind) {
case ((NU8) 75):
Checkminsonslen_106103(X_140445, 2);
Semcasebranch_130170(C_140383, N_140384, X_140445, I_140432, &Covered_140412);
Length_140447 = 0;
Length_140447 = Sonslen_54803(X_140445);
asgnRefNoCycle((void**) &(*X_140445).KindU.S6.Sons->data[(NI64)(Length_140447 - 1)], Semstmtscope_124104(C_140383, (*X_140445).KindU.S6.Sons->data[(NI64)(Length_140447 - 1)]));
break;
case ((NU8) 76):
Chckcovered_140411 = NIM_FALSE;
Checksonslen_106099(X_140445, 2);
asgnRefNoCycle((void**) &(*X_140445).KindU.S6.Sons->data[0], Semexprwithtype_124122(C_140383, (*X_140445).KindU.S6.Sons->data[0], 0));
Checkbool_128779((*X_140445).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*X_140445).KindU.S6.Sons->data[1], Semstmtscope_124104(C_140383, (*X_140445).KindU.S6.Sons->data[1]));
break;
case ((NU8) 78):
Chckcovered_140411 = NIM_FALSE;
Checksonslen_106099(X_140445, 1);
asgnRefNoCycle((void**) &(*X_140445).KindU.S6.Sons->data[0], Semstmtscope_124104(C_140383, (*X_140445).KindU.S6.Sons->data[0]));
break;
default:
Illformedast_106092(X_140445);
break;
}
Res_145091 += 1;
} LA3: ;
LOC5 = Chckcovered_140411;
if (!(LOC5)) goto LA6;
LOC7 = Tocover_140367((*(*N_140384).KindU.S6.Sons->data[0]).Typ);
LOC5 = !((Covered_140412 == LOC7));
LA6: ;
if (!LOC5) goto LA8;
Limessage_46566((*N_140384).Info, ((NU8) 148), ((NimStringDesc*) &TMP193925));
LA8: ;
Closescope_107017(&(*C_140383).Tab);
return Result_140385;
}
N_NIMCALL(TY54525*, Semreturn_140907)(TY106012* C_140909, TY54525* N_140910) {
TY54525* Result_140911;
TY54551* Restype_140912;
TY54525* A_140913;
NIM_BOOL LOC11;
TY54525* LOC18;
TY54525* LOC19;
Result_140911 = 0;
Restype_140912 = 0;
A_140913 = 0;
Result_140911 = N_140910;
Checksonslen_106099(N_140910, 1);
if (!!(((27648 &(1<<(((*(*(*C_140909).P).Owner).Kind)&31)))!=0))) goto LA2;
Limessage_46566((*N_140910).Info, ((NU8) 160), ((NimStringDesc*) &TMP194166));
LA2: ;
if (!!(((*N_140910).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA5;
asgnRefNoCycle((void**) &(*N_140910).KindU.S6.Sons->data[0], Semexprwithtype_124122(C_140909, (*N_140910).KindU.S6.Sons->data[0], 0));
Restype_140912 = (*(*(*(*C_140909).P).Owner).Typ).Sons->data[0];
if (!!((Restype_140912 == NIM_NIL))) goto LA8;
A_140913 = Newnodei_54737(((NU8) 63), (*(*N_140910).KindU.S6.Sons->data[0]).Info);
asgnRefNoCycle((void**) &(*N_140910).KindU.S6.Sons->data[0], Fitnode_124129(C_140909, Restype_140912, (*N_140910).KindU.S6.Sons->data[0]));
LOC11 = ((*(*N_140910).KindU.S6.Sons->data[0]).Kind == ((NU8) 3));
if (!(LOC11)) goto LA12;
LOC11 = (((*(*(*N_140910).KindU.S6.Sons->data[0]).KindU.S4.Sym).Flags &(1<<((((NU8) 12))&31)))!=0);
LA12: ;
if (!LOC11) goto LA13;
asgnRefNoCycle((void**) &(*N_140910).KindU.S6.Sons->data[0], NIM_NIL);
goto LA10;
LA13: ;
if (!((*(*C_140909).P).Resultsym == NIM_NIL)) goto LA16;
Internalerror_46571((*N_140910).Info, ((NimStringDesc*) &TMP194167));
LA16: ;
LOC18 = 0;
LOC18 = Newsymnode_54734((*(*C_140909).P).Resultsym);
LOC19 = 0;
LOC19 = Semexprwithtype_124122(C_140909, LOC18, 0);
Addson_54823(A_140913, LOC19);
Addson_54823(A_140913, (*N_140910).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*N_140910).KindU.S6.Sons->data[0], A_140913);
LA10: ;
goto LA7;
LA8: ;
Limessage_46566((*N_140910).Info, ((NU8) 36), ((NimStringDesc*) &TMP193925));
LA7: ;
LA5: ;
return Result_140911;
}
N_NIMCALL(TY54525*, Semasm_140256)(TY106012* Con_140258, TY54525* N_140259) {
TY54525* Result_140260;
NIM_CHAR Marker_140273;
Result_140260 = 0;
Checksonslen_106099(N_140259, 2);
Marker_140273 = 0;
Marker_140273 = Pragmaasm_121034(Con_140258, (*N_140259).KindU.S6.Sons->data[0]);
if (!((NU8)(Marker_140273) == (NU8)(0))) goto LA2;
Marker_140273 = 96;
LA2: ;
Result_140260 = Semasmoremit_122593(Con_140258, N_140259, Marker_140273);
return Result_140260;
}
N_NIMCALL(TY54525*, Semyield_141123)(TY106012* C_141125, TY54525* N_141126) {
TY54525* Result_141127;
NIM_BOOL LOC2;
TY54551* Restype_141195;
Result_141127 = 0;
Result_141127 = N_141126;
Checksonslen_106099(N_141126, 1);
LOC2 = ((*(*C_141125).P).Owner == NIM_NIL);
if (LOC2) goto LA3;
LOC2 = !(((*(*(*C_141125).P).Owner).Kind == ((NU8) 12)));
LA3: ;
if (!LOC2) goto LA4;
Limessage_46566((*N_141126).Info, ((NU8) 34), ((NimStringDesc*) &TMP193925));
LA4: ;
if (!!(((*N_141126).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA7;
asgnRefNoCycle((void**) &(*N_141126).KindU.S6.Sons->data[0], Semexprwithtype_124122(C_141125, (*N_141126).KindU.S6.Sons->data[0], 0));
Restype_141195 = 0;
Restype_141195 = (*(*(*(*C_141125).P).Owner).Typ).Sons->data[0];
if (!!((Restype_141195 == NIM_NIL))) goto LA10;
asgnRefNoCycle((void**) &(*N_141126).KindU.S6.Sons->data[0], Fitnode_124129(C_141125, Restype_141195, (*N_141126).KindU.S6.Sons->data[0]));
if (!((*(*N_141126).KindU.S6.Sons->data[0]).Typ == NIM_NIL)) goto LA13;
Internalerror_46571((*N_141126).Info, ((NimStringDesc*) &TMP194168));
LA13: ;
goto LA9;
LA10: ;
Limessage_46566((*N_141126).Info, ((NU8) 36), ((NimStringDesc*) &TMP193925));
LA9: ;
LA7: ;
return Result_141127;
}
N_NIMCALL(void, Addgenericparamlisttoscope_142639)(TY106012* C_142641, TY54525* N_142642) {
NI I_142659;
NI HEX3Atmp_145118;
NI LOC4;
NI Res_145120;
TY54525* A_142672;
if (!!(((*N_142642).Kind == ((NU8) 65)))) goto LA2;
Internalerror_46571((*N_142642).Info, ((NimStringDesc*) &TMP194172));
LA2: ;
I_142659 = 0;
HEX3Atmp_145118 = 0;
LOC4 = Sonslen_54803(N_142642);
HEX3Atmp_145118 = (NI64)(LOC4 - 1);
Res_145120 = 0;
Res_145120 = 0;
while (1) {
if (!(Res_145120 <= HEX3Atmp_145118)) goto LA5;
I_142659 = Res_145120;
A_142672 = 0;
A_142672 = (*N_142642).KindU.S6.Sons->data[I_142659];
if (!!(((*A_142672).Kind == ((NU8) 3)))) goto LA7;
Internalerror_46571((*A_142672).Info, ((NimStringDesc*) &TMP194172));
LA7: ;
Adddecl_107026(C_142641, (*A_142672).KindU.S4.Sym);
Res_145120 += 1;
} LA5: ;
}
N_NIMCALL(TY54525*, Evaltemplateargs_124424)(TY106012* C_124426, TY54525* N_124427, TY54547* S_124428) {
TY54525* Result_124429;
NI F_124430;
NI A_124431;
TY54525* Arg_124432;
NI I_124442;
NI HEX3Atmp_125064;
NI Res_125066;
TY54525* LOC14;
Result_124429 = 0;
F_124430 = 0;
A_124431 = 0;
Arg_124432 = 0;
F_124430 = Sonslen_54806((*S_124428).Typ);
switch ((*N_124427).Kind) {
case ((NU8) 21):
case ((NU8) 27):
case ((NU8) 28):
case ((NU8) 29):
case ((NU8) 20):
case ((NU8) 22):
A_124431 = Sonslen_54803(N_124427);
break;
default:
A_124431 = 0;
break;
}
if (!(F_124430 < A_124431)) goto LA2;
Limessage_46566((*N_124427).Info, ((NU8) 130), ((NimStringDesc*) &TMP193925));
LA2: ;
Result_124429 = Copynode_54855(N_124427);
I_124442 = 0;
HEX3Atmp_125064 = 0;
HEX3Atmp_125064 = (NI64)(F_124430 - 1);
Res_125066 = 0;
Res_125066 = 1;
while (1) {
if (!(Res_125066 <= HEX3Atmp_125064)) goto LA4;
I_124442 = Res_125066;
if (!(I_124442 < A_124431)) goto LA6;
Arg_124432 = (*N_124427).KindU.S6.Sons->data[I_124442];
goto LA5;
LA6: ;
Arg_124432 = Copytree_54858((*(*(*(*(*S_124428).Typ).N).KindU.S6.Sons->data[I_124442]).KindU.S4.Sym).Ast);
LA5: ;
if (!(Arg_124432 == NIM_NIL)) goto LA9;
Limessage_46566((*N_124427).Info, ((NU8) 130), ((NimStringDesc*) &TMP193925));
LA9: ;
if (!!(((448 &(IL64(1)<<(((*(*(*S_124428).Typ).Sons->data[I_124442]).Kind)&IL64(63))))!=0))) goto LA12;
LOC14 = 0;
LOC14 = Semexprwithtype_124122(C_124426, Arg_124432, 0);
Arg_124432 = Fitnode_124129(C_124426, (*(*S_124428).Typ).Sons->data[I_124442], LOC14);
LA12: ;
Addson_54823(Result_124429, Arg_124432);
Res_125066 += 1;
} LA4: ;
return Result_124429;
}
N_NIMCALL(TY54525*, Evaltemplateaux_124337)(TY106012* C_124339, TY54525* Templ_124340, TY54525* Actual_124341, TY54547* Sym_124342) {
TY54525* Result_124343;
TY54547* P_124344;
NIM_BOOL LOC5;
NI LOC9;
NI I_124398;
NI HEX3Atmp_125061;
NI LOC10;
NI Res_125063;
Result_124343 = 0;
P_124344 = 0;
if (!(Templ_124340 == NIM_NIL)) goto LA2;
Result_124343 = NIM_NIL;
goto BeforeRet;
LA2: ;
switch ((*Templ_124340).Kind) {
case ((NU8) 3):
P_124344 = (*Templ_124340).KindU.S4.Sym;
LOC5 = ((*P_124344).Kind == ((NU8) 3));
if (!(LOC5)) goto LA6;
LOC5 = ((*(*P_124344).Owner).Sup.Id == (*Sym_124342).Sup.Id);
LA6: ;
if (!LOC5) goto LA7;
Result_124343 = Copytree_54858((*Actual_124341).KindU.S6.Sons->data[(*P_124344).Position]);
goto LA4;
LA7: ;
Result_124343 = Copynode_54855(Templ_124340);
LA4: ;
break;
case ((NU8) 0) ... ((NU8) 2):
case ((NU8) 4) ... ((NU8) 18):
Result_124343 = Copynode_54855(Templ_124340);
break;
default:
Result_124343 = Copynode_54855(Templ_124340);
LOC9 = Sonslen_54803(Templ_124340);
Newsons_54815(Result_124343, LOC9);
I_124398 = 0;
HEX3Atmp_125061 = 0;
LOC10 = Sonslen_54803(Templ_124340);
HEX3Atmp_125061 = (NI64)(LOC10 - 1);
Res_125063 = 0;
Res_125063 = 0;
while (1) {
if (!(Res_125063 <= HEX3Atmp_125061)) goto LA11;
I_124398 = Res_125063;
asgnRefNoCycle((void**) &(*Result_124343).KindU.S6.Sons->data[I_124398], Evaltemplateaux_124337(C_124339, (*Templ_124340).KindU.S6.Sons->data[I_124398], Actual_124341, Sym_124342));
Res_125063 += 1;
} LA11: ;
break;
}
BeforeRet: ;
return Result_124343;
}
N_NIMCALL(TY54525*, Evaltemplate_124504)(TY106012* C_124506, TY54525* N_124507, TY54547* Sym_124508) {
TY54525* Result_124509;
TY54525* Args_124510;
Result_124509 = 0;
Args_124510 = 0;
Evaltemplatecounter_124423 += 1;
if (!(100 < Evaltemplatecounter_124423)) goto LA2;
Limessage_46566((*N_124507).Info, ((NU8) 180), ((NimStringDesc*) &TMP193925));
LA2: ;
Args_124510 = Evaltemplateargs_124424(C_124506, N_124507, Sym_124508);
Result_124509 = Evaltemplateaux_124337(C_124506, (*(*Sym_124508).Ast).KindU.S6.Sons->data[4], Args_124510, Sym_124508);
Evaltemplatecounter_124423 -= 1;
return Result_124509;
}
N_NIMCALL(TY54525*, Semtemplateexpr_131901)(TY106012* C_131903, TY54525* N_131904, TY54547* S_131905, NIM_BOOL Semcheck_131906) {
TY54525* Result_131907;
Result_131907 = 0;
Markused_124065(N_131904, S_131905);
Pushinfocontext_46610((*N_131904).Info);
Result_131907 = Evaltemplate_124504(C_131903, N_131904, S_131905);
if (!Semcheck_131906) goto LA2;
Result_131907 = Semaftermacrocall_124246(C_131903, Result_131907, S_131905);
LA2: ;
Popinfocontext_46613();
return Result_131907;
}
N_NIMCALL(TY54525*, Semgenericstmtsymbol_138119)(TY106012* C_138121, TY54525* N_138122, TY54547* S_138123) {
TY54525* Result_138124;
NIM_BOOL LOC2;
Result_138124 = 0;
switch ((*S_138123).Kind) {
case ((NU8) 0):
Result_138124 = N_138122;
break;
case ((NU8) 10):
case ((NU8) 11):
case ((NU8) 12):
case ((NU8) 13):
Result_138124 = Symchoice_124549(C_138121, N_138122, S_138123);
break;
case ((NU8) 15):
Result_138124 = Semtemplateexpr_131901(C_138121, N_138122, S_138123, NIM_FALSE);
break;
case ((NU8) 14):
Result_138124 = Semmacroexpr_125073(C_138121, N_138122, S_138123, NIM_FALSE);
break;
case ((NU8) 4):
Result_138124 = Newsymnode_54734(S_138123);
break;
case ((NU8) 3):
Result_138124 = N_138122;
break;
case ((NU8) 7):
LOC2 = !(((*S_138123).Typ == NIM_NIL));
if (!(LOC2)) goto LA3;
LOC2 = !(((*(*S_138123).Typ).Kind == ((NU8) 12)));
LA3: ;
if (!LOC2) goto LA4;
Result_138124 = Newsymnode_54734(S_138123);
goto LA1;
LA4: ;
Result_138124 = N_138122;
LA1: ;
break;
default:
Result_138124 = Newsymnode_54734(S_138123);
break;
}
return Result_138124;
}
N_NIMCALL(NIM_BOOL, Iscallexpr_137483)(TY54525* N_137485) {
NIM_BOOL Result_137486;
Result_137486 = 0;
Result_137486 = ((*N_137485).Kind == ((NU8) 21) || (*N_137485).Kind == ((NU8) 27) || (*N_137485).Kind == ((NU8) 28) || (*N_137485).Kind == ((NU8) 29) || (*N_137485).Kind == ((NU8) 20) || (*N_137485).Kind == ((NU8) 22));
return Result_137486;
}
N_NIMCALL(TY54525*, Semmacrostmt_137499)(TY106012* C_137501, TY54525* N_137502, NIM_BOOL Semcheck_137503) {
TY54525* Result_137504;
TY54525* A_137505;
NIM_BOOL LOC2;
TY54547* S_137554;
NIM_BOOL LOC9;
NI I_137597;
NI HEX3Atmp_145016;
NI LOC12;
NI Res_145018;
NI I_137629;
NI HEX3Atmp_145019;
NI LOC14;
NI Res_145021;
NimStringDesc* LOC16;
Result_137504 = 0;
Checkminsonslen_106103(N_137502, 2);
A_137505 = 0;
LOC2 = Iscallexpr_137483((*N_137502).KindU.S6.Sons->data[0]);
if (!LOC2) goto LA3;
A_137505 = (*(*N_137502).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[0];
goto LA1;
LA3: ;
A_137505 = (*N_137502).KindU.S6.Sons->data[0];
LA1: ;
S_137554 = 0;
S_137554 = Qualifiedlookup_107053(C_137501, A_137505, NIM_FALSE);
if (!!((S_137554 == NIM_NIL))) goto LA6;
switch ((*S_137554).Kind) {
case ((NU8) 14):
Result_137504 = Semmacroexpr_125073(C_137501, N_137502, S_137554, Semcheck_137503);
break;
case ((NU8) 15):
Result_137504 = Newnodei_54737(((NU8) 21), (*N_137502).Info);
Addson_54823(Result_137504, A_137505);
LOC9 = Iscallexpr_137483((*N_137502).KindU.S6.Sons->data[0]);
if (!LOC9) goto LA10;
I_137597 = 0;
HEX3Atmp_145016 = 0;
LOC12 = Sonslen_54803((*N_137502).KindU.S6.Sons->data[0]);
HEX3Atmp_145016 = (NI64)(LOC12 - 1);
Res_145018 = 0;
Res_145018 = 1;
while (1) {
if (!(Res_145018 <= HEX3Atmp_145016)) goto LA13;
I_137597 = Res_145018;
Addson_54823(Result_137504, (*(*N_137502).KindU.S6.Sons->data[0]).KindU.S6.Sons->data[I_137597]);
Res_145018 += 1;
} LA13: ;
LA10: ;
I_137629 = 0;
HEX3Atmp_145019 = 0;
LOC14 = Sonslen_54803(N_137502);
HEX3Atmp_145019 = (NI64)(LOC14 - 1);
Res_145021 = 0;
Res_145021 = 1;
while (1) {
if (!(Res_145021 <= HEX3Atmp_145019)) goto LA15;
I_137629 = Res_145021;
Addson_54823(Result_137504, (*N_137502).KindU.S6.Sons->data[I_137629]);
Res_145021 += 1;
} LA15: ;
Result_137504 = Semtemplateexpr_131901(C_137501, Result_137504, S_137554, Semcheck_137503);
break;
default:
Limessage_46566((*N_137502).Info, ((NU8) 205), (*(*S_137554).Name).S);
break;
}
goto LA5;
LA6: ;
LOC16 = 0;
LOC16 = Rendertree_84042(A_137505, 4);
Limessage_46566((*N_137502).Info, ((NU8) 166), LOC16);
LA5: ;
return Result_137504;
}
N_NIMCALL(TY54525*, Getidentnode_138145)(TY54525* N_138147) {
TY54525* Result_138148;
Result_138148 = 0;
switch ((*N_138147).Kind) {
case ((NU8) 29):
Result_138148 = Getidentnode_138145((*N_138147).KindU.S6.Sons->data[1]);
break;
case ((NU8) 34):
case ((NU8) 43):
Result_138148 = Getidentnode_138145((*N_138147).KindU.S6.Sons->data[0]);
break;
case ((NU8) 2):
Result_138148 = N_138147;
break;
default:
Illformedast_106092(N_138147);
Result_138148 = NIM_NIL;
break;
}
return Result_138148;
}
N_NIMCALL(TY54525*, Semgenericstmt_138102)(TY106012* C_138104, TY54525* N_138105, NU8 Flags_138108) {
TY54525* Result_138180;
NI L_138181;
TY54525* A_138182;
TY54547* S_138183;
NIM_BOOL LOC14;
NI I_138340;
NI HEX3Atmp_145022;
NI LOC18;
NI Res_145024;
NI I_138372;
NI HEX3Atmp_145025;
NI LOC20;
NI Res_145027;
NI I_138405;
NI HEX3Atmp_145028;
NI LOC22;
NI Res_145030;
NI I_138463;
NI HEX3Atmp_145034;
NI LOC24;
NI Res_145036;
NI J_138483;
NI HEX3Atmp_145031;
NI Res_145033;
NI I_138565;
NI HEX3Atmp_145037;
NI Res_145039;
TY54547* LOC28;
TY54547* LOC32;
NI I_138695;
NI HEX3Atmp_145043;
NI LOC33;
NI Res_145045;
NI J_138715;
NI HEX3Atmp_145040;
NI Res_145042;
NI I_138772;
NI HEX3Atmp_145050;
NI LOC36;
NI Res_145052;
NIM_BOOL LOC43;
NI J_138868;
NI HEX3Atmp_145047;
NI Res_145049;
TY54525* LOC48;
TY54547* LOC49;
NI I_138888;
NI HEX3Atmp_145056;
NI LOC50;
NI Res_145058;
NI J_138942;
NI HEX3Atmp_145053;
NI Res_145055;
TY54525* LOC56;
TY54547* LOC57;
NI I_138962;
NI HEX3Atmp_145060;
NI LOC58;
NI Res_145062;
TY54525* LOC67;
TY54547* LOC68;
NI I_139061;
NI HEX3Atmp_145064;
NI LOC69;
NI Res_145066;
TY54525* LOC78;
TY54547* LOC79;
NI I_139111;
NI HEX3Atmp_145068;
NI LOC80;
NI Res_145070;
NI I_139296;
NI HEX3Atmp_145071;
NI LOC95;
NI Res_145073;
TY54525* LOC97;
TY54547* LOC98;
NI I_139412;
NI HEX3Atmp_145077;
NI LOC102;
NI Res_145079;
NI J_139490;
NI HEX3Atmp_145074;
NI Res_145076;
TY54525* LOC108;
TY54547* LOC109;
TY54525* LOC110;
TY54547* LOC111;
TY53011* LOC118;
TY54547* LOC119;
NI I_139678;
NI HEX3Atmp_145080;
NI LOC120;
NI Res_145082;
Result_138180 = 0;
L_138181 = 0;
A_138182 = 0;
S_138183 = 0;
Result_138180 = N_138105;
if (!(N_138105 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*N_138105).Kind) {
case ((NU8) 2):
case ((NU8) 43):
S_138183 = Lookup_107049(C_138104, N_138105);
if (!((Flags_138108 &(1<<((((NU8) 0))&7)))!=0)) goto LA5;
Result_138180 = Symchoice_124549(C_138104, N_138105, S_138183);
goto LA4;
LA5: ;
Result_138180 = Semgenericstmtsymbol_138119(C_138104, N_138105, S_138183);
LA4: ;
break;
case ((NU8) 36):
S_138183 = Qualifiedlookup_107053(C_138104, N_138105, NIM_TRUE);
if (!!((S_138183 == NIM_NIL))) goto LA8;
Result_138180 = Semgenericstmtsymbol_138119(C_138104, N_138105, S_138183);
LA8: ;
break;
case ((NU8) 3) ... ((NU8) 18):
break;
case ((NU8) 45):
Result_138180 = Semgenericstmt_138102(C_138104, (*N_138105).KindU.S6.Sons->data[0], 1);
break;
case ((NU8) 21):
case ((NU8) 49):
case ((NU8) 27):
case ((NU8) 28):
case ((NU8) 20):
case ((NU8) 22):
Checkminsonslen_106103(N_138105, 1);
S_138183 = Qualifiedlookup_107053(C_138104, (*N_138105).KindU.S6.Sons->data[0], NIM_FALSE);
if (!!((S_138183 == NIM_NIL))) goto LA11;
switch ((*S_138183).Kind) {
case ((NU8) 14):
Result_138180 = Semmacroexpr_125073(C_138104, N_138105, S_138183, NIM_FALSE);
goto BeforeRet;
break;
case ((NU8) 15):
Result_138180 = Semtemplateexpr_131901(C_138104, N_138105, S_138183, NIM_FALSE);
goto BeforeRet;
break;
case ((NU8) 0):
case ((NU8) 3):
break;
case ((NU8) 10):
case ((NU8) 11):
case ((NU8) 12):
case ((NU8) 13):
asgnRefNoCycle((void**) &(*N_138105).KindU.S6.Sons->data[0], Symchoice_124549(C_138104, (*N_138105).KindU.S6.Sons->data[0], S_138183));
break;
case ((NU8) 4):
asgnRefNoCycle((void**) &(*N_138105).KindU.S6.Sons->data[0], Newsymnode_54734(S_138183));
break;
case ((NU8) 7):
LOC14 = !(((*S_138183).Typ == NIM_NIL));
if (!(LOC14)) goto LA15;
LOC14 = !(((*(*S_138183).Typ).Kind == ((NU8) 12)));
LA15: ;
if (!LOC14) goto LA16;
asgnRefNoCycle((void**) &(*N_138105).KindU.S6.Sons->data[0], Newsymnode_54734(S_138183));
LA16: ;
break;
default:
asgnRefNoCycle((void**) &(*N_138105).KindU.S6.Sons->data[0], Newsymnode_54734(S_138183));
break;
}
LA11: ;
I_138340 = 0;
HEX3Atmp_145022 = 0;
LOC18 = Sonslen_54803(N_138105);
HEX3Atmp_145022 = (NI64)(LOC18 - 1);
Res_145024 = 0;
Res_145024 = 1;
while (1) {
if (!(Res_145024 <= HEX3Atmp_145022)) goto LA19;
I_138340 = Res_145024;
asgnRefNoCycle((void**) &(*N_138105).KindU.S6.Sons->data[I_138340], Semgenericstmt_138102(C_138104, (*N_138105).KindU.S6.Sons->data[I_138340], Flags_138108));
Res_145024 += 1;
} LA19: ;
break;
case ((NU8) 79):
Result_138180 = Semmacrostmt_137499(C_138104, N_138105, NIM_FALSE);
break;
case ((NU8) 82):
I_138372 = 0;
HEX3Atmp_145025 = 0;
LOC20 = Sonslen_54803(N_138105);
HEX3Atmp_145025 = (NI64)(LOC20 - 1);
Res_145027 = 0;
Res_145027 = 0;
while (1) {
if (!(Res_145027 <= HEX3Atmp_145025)) goto LA21;
I_138372 = Res_145027;
asgnRefNoCycle((void**) &(*N_138105).KindU.S6.Sons->data[I_138372], Semgenericstmtscope_138109(C_138104, (*N_138105).KindU.S6.Sons->data[I_138372], 0));
Res_145027 += 1;
} LA21: ;
break;
case ((NU8) 85):
Openscope_59146(&(*C_138104).Tab);
I_138405 = 0;
HEX3Atmp_145028 = 0;
LOC22 = Sonslen_54803(N_138105);
HEX3Atmp_145028 = (NI64)(LOC22 - 1);
Res_145030 = 0;
Res_145030 = 0;
while (1) {
if (!(Res_145030 <= HEX3Atmp_145028)) goto LA23;
I_138405 = Res_145030;
asgnRefNoCycle((void**) &(*N_138105).KindU.S6.Sons->data[I_138405], Semgenericstmt_138102(C_138104, (*N_138105).KindU.S6.Sons->data[I_138405], 0));
Res_145030 += 1;
} LA23: ;
Closescope_107017(&(*C_138104).Tab);
break;
case ((NU8) 86):
Openscope_59146(&(*C_138104).Tab);
asgnRefNoCycle((void**) &(*N_138105).KindU.S6.Sons->data[0], Semgenericstmt_138102(C_138104, (*N_138105).KindU.S6.Sons->data[0], 0));
I_138463 = 0;
HEX3Atmp_145034 = 0;
LOC24 = Sonslen_54803(N_138105);
HEX3Atmp_145034 = (NI64)(LOC24 - 1);
Res_145036 = 0;
Res_145036 = 1;
while (1) {
if (!(Res_145036 <= HEX3Atmp_145034)) goto LA25;
I_138463 = Res_145036;
A_138182 = (*N_138105).KindU.S6.Sons->data[I_138463];
Checkminsonslen_106103(A_138182, 1);
L_138181 = Sonslen_54803(A_138182);
J_138483 = 0;
HEX3Atmp_145031 = 0;
HEX3Atmp_145031 = (NI64)(L_138181 - 2);
Res_145033 = 0;
Res_145033 = 0;
while (1) {
if (!(Res_145033 <= HEX3Atmp_145031)) goto LA26;
J_138483 = Res_145033;
asgnRefNoCycle((void**) &(*A_138182).KindU.S6.Sons->data[J_138483], Semgenericstmt_138102(C_138104, (*A_138182).KindU.S6.Sons->data[J_138483], 0));
Res_145033 += 1;
} LA26: ;
asgnRefNoCycle((void**) &(*A_138182).KindU.S6.Sons->data[(NI64)(L_138181 - 1)], Semgenericstmtscope_138109(C_138104, (*A_138182).KindU.S6.Sons->data[(NI64)(L_138181 - 1)], 0));
Res_145036 += 1;
} LA25: ;
Closescope_107017(&(*C_138104).Tab);
break;
case ((NU8) 84):
L_138181 = Sonslen_54803(N_138105);
Openscope_59146(&(*C_138104).Tab);
asgnRefNoCycle((void**) &(*N_138105).KindU.S6.Sons->data[(NI64)(L_138181 - 2)], Semgenericstmt_138102(C_138104, (*N_138105).KindU.S6.Sons->data[(NI64)(L_138181 - 2)], 0));
I_138565 = 0;
HEX3Atmp_145037 = 0;
HEX3Atmp_145037 = (NI64)(L_138181 - 3);
Res_145039 = 0;
Res_145039 = 0;
while (1) {
if (!(Res_145039 <= HEX3Atmp_145037)) goto LA27;
I_138565 = Res_145039;
LOC28 = 0;
LOC28 = Newsyms_124059(((NU8) 0), (*N_138105).KindU.S6.Sons->data[I_138565], C_138104);
Adddecl_107026(C_138104, LOC28);
Res_145039 += 1;
} LA27: ;
asgnRefNoCycle((void**) &(*N_138105).KindU.S6.Sons->data[(NI64)(L_138181 - 1)], Semgenericstmt_138102(C_138104, (*N_138105).KindU.S6.Sons->data[(NI64)(L_138181 - 1)], 0));
Closescope_107017(&(*C_138104).Tab);
break;
case ((NU8) 99):
case ((NU8) 107):
case ((NU8) 109):
Checksonslen_106099(N_138105, 2);
Openscope_59146(&(*C_138104).Tab);
if (!!(((*N_138105).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA30;
LOC32 = 0;
LOC32 = Newsyms_124059(((NU8) 0), (*N_138105).KindU.S6.Sons->data[0], C_138104);
Adddecl_107026(C_138104, LOC32);
LA30: ;
asgnRefNoCycle((void**) &(*N_138105).KindU.S6.Sons->data[1], Semgenericstmt_138102(C_138104, (*N_138105).KindU.S6.Sons->data[1], 0));
Closescope_107017(&(*C_138104).Tab);
break;
case ((NU8) 93):
Checkminsonslen_106103(N_138105, 2);
asgnRefNoCycle((void**) &(*N_138105).KindU.S6.Sons->data[0], Semgenericstmtscope_138109(C_138104, (*N_138105).KindU.S6.Sons->data[0], 0));
I_138695 = 0;
HEX3Atmp_145043 = 0;
LOC33 = Sonslen_54803(N_138105);
HEX3Atmp_145043 = (NI64)(LOC33 - 1);
Res_145045 = 0;
Res_145045 = 1;
while (1) {
if (!(Res_145045 <= HEX3Atmp_145043)) goto LA34;
I_138695 = Res_145045;
A_138182 = (*N_138105).KindU.S6.Sons->data[I_138695];
Checkminsonslen_106103(A_138182, 1);
L_138181 = Sonslen_54803(A_138182);
J_138715 = 0;
HEX3Atmp_145040 = 0;
HEX3Atmp_145040 = (NI64)(L_138181 - 2);
Res_145042 = 0;
Res_145042 = 0;
while (1) {
if (!(Res_145042 <= HEX3Atmp_145040)) goto LA35;
J_138715 = Res_145042;
asgnRefNoCycle((void**) &(*A_138182).KindU.S6.Sons->data[J_138715], Semgenericstmt_138102(C_138104, (*A_138182).KindU.S6.Sons->data[J_138715], 2));
Res_145042 += 1;
} LA35: ;
asgnRefNoCycle((void**) &(*A_138182).KindU.S6.Sons->data[(NI64)(L_138181 - 1)], Semgenericstmtscope_138109(C_138104, (*A_138182).KindU.S6.Sons->data[(NI64)(L_138181 - 1)], 0));
Res_145045 += 1;
} LA34: ;
break;
case ((NU8) 87):
I_138772 = 0;
HEX3Atmp_145050 = 0;
LOC36 = Sonslen_54803(N_138105);
HEX3Atmp_145050 = (NI64)(LOC36 - 1);
Res_145052 = 0;
Res_145052 = 0;
while (1) {
if (!(Res_145052 <= HEX3Atmp_145050)) goto LA37;
I_138772 = Res_145052;
A_138182 = (*N_138105).KindU.S6.Sons->data[I_138772];
if (!((*A_138182).Kind == ((NU8) 105))) goto LA40;
goto LA38;
LA40: ;
LOC43 = !(((*A_138182).Kind == ((NU8) 25)));
if (!(LOC43)) goto LA44;
LOC43 = !(((*A_138182).Kind == ((NU8) 26)));
LA44: ;
if (!LOC43) goto LA45;
Illformedast_106092(A_138182);
LA45: ;
Checkminsonslen_106103(A_138182, 3);
L_138181 = Sonslen_54803(A_138182);
asgnRefNoCycle((void**) &(*A_138182).KindU.S6.Sons->data[(NI64)(L_138181 - 2)], Semgenericstmt_138102(C_138104, (*A_138182).KindU.S6.Sons->data[(NI64)(L_138181 - 2)], 2));
asgnRefNoCycle((void**) &(*A_138182).KindU.S6.Sons->data[(NI64)(L_138181 - 1)], Semgenericstmt_138102(C_138104, (*A_138182).KindU.S6.Sons->data[(NI64)(L_138181 - 1)], 0));
J_138868 = 0;
HEX3Atmp_145047 = 0;
HEX3Atmp_145047 = (NI64)(L_138181 - 3);
Res_145049 = 0;
Res_145049 = 0;
while (1) {
if (!(Res_145049 <= HEX3Atmp_145047)) goto LA47;
J_138868 = Res_145049;
LOC48 = 0;
LOC48 = Getidentnode_138145((*A_138182).KindU.S6.Sons->data[J_138868]);
LOC49 = 0;
LOC49 = Newsyms_124059(((NU8) 0), LOC48, C_138104);
Adddecl_107026(C_138104, LOC49);
Res_145049 += 1;
} LA47: ;
LA38: ;
Res_145052 += 1;
} LA37: ;
break;
case ((NU8) 65):
I_138888 = 0;
HEX3Atmp_145056 = 0;
LOC50 = Sonslen_54803(N_138105);
HEX3Atmp_145056 = (NI64)(LOC50 - 1);
Res_145058 = 0;
Res_145058 = 0;
while (1) {
if (!(Res_145058 <= HEX3Atmp_145056)) goto LA51;
I_138888 = Res_145058;
A_138182 = (*N_138105).KindU.S6.Sons->data[I_138888];
if (!!(((*A_138182).Kind == ((NU8) 25)))) goto LA53;
Illformedast_106092(A_138182);
LA53: ;
Checkminsonslen_106103(A_138182, 3);
L_138181 = Sonslen_54803(A_138182);
asgnRefNoCycle((void**) &(*A_138182).KindU.S6.Sons->data[(NI64)(L_138181 - 2)], Semgenericstmt_138102(C_138104, (*A_138182).KindU.S6.Sons->data[(NI64)(L_138181 - 2)], 2));
J_138942 = 0;
HEX3Atmp_145053 = 0;
HEX3Atmp_145053 = (NI64)(L_138181 - 3);
Res_145055 = 0;
Res_145055 = 0;
while (1) {
if (!(Res_145055 <= HEX3Atmp_145053)) goto LA55;
J_138942 = Res_145055;
LOC56 = 0;
LOC56 = Getidentnode_138145((*A_138182).KindU.S6.Sons->data[J_138942]);
LOC57 = 0;
LOC57 = Newsyms_124059(((NU8) 0), LOC56, C_138104);
Adddecl_107026(C_138104, LOC57);
Res_145055 += 1;
} LA55: ;
Res_145058 += 1;
} LA51: ;
break;
case ((NU8) 88):
I_138962 = 0;
HEX3Atmp_145060 = 0;
LOC58 = Sonslen_54803(N_138105);
HEX3Atmp_145060 = (NI64)(LOC58 - 1);
Res_145062 = 0;
Res_145062 = 0;
while (1) {
if (!(Res_145062 <= HEX3Atmp_145060)) goto LA59;
I_138962 = Res_145062;
A_138182 = (*N_138105).KindU.S6.Sons->data[I_138962];
if (!((*A_138182).Kind == ((NU8) 105))) goto LA62;
goto LA60;
LA62: ;
if (!!(((*A_138182).Kind == ((NU8) 89)))) goto LA65;
Illformedast_106092(A_138182);
LA65: ;
Checksonslen_106099(A_138182, 3);
LOC67 = 0;
LOC67 = Getidentnode_138145((*A_138182).KindU.S6.Sons->data[0]);
LOC68 = 0;
LOC68 = Newsyms_124059(((NU8) 0), LOC67, C_138104);
Adddecl_107026(C_138104, LOC68);
asgnRefNoCycle((void**) &(*A_138182).KindU.S6.Sons->data[1], Semgenericstmt_138102(C_138104, (*A_138182).KindU.S6.Sons->data[1], 2));
asgnRefNoCycle((void**) &(*A_138182).KindU.S6.Sons->data[2], Semgenericstmt_138102(C_138104, (*A_138182).KindU.S6.Sons->data[2], 0));
LA60: ;
Res_145062 += 1;
} LA59: ;
break;
case ((NU8) 90):
I_139061 = 0;
HEX3Atmp_145064 = 0;
LOC69 = Sonslen_54803(N_138105);
HEX3Atmp_145064 = (NI64)(LOC69 - 1);
Res_145066 = 0;
Res_145066 = 0;
while (1) {
if (!(Res_145066 <= HEX3Atmp_145064)) goto LA70;
I_139061 = Res_145066;
A_138182 = (*N_138105).KindU.S6.Sons->data[I_139061];
if (!((*A_138182).Kind == ((NU8) 105))) goto LA73;
goto LA71;
LA73: ;
if (!!(((*A_138182).Kind == ((NU8) 91)))) goto LA76;
Illformedast_106092(A_138182);
LA76: ;
Checksonslen_106099(A_138182, 3);
LOC78 = 0;
LOC78 = Getidentnode_138145((*A_138182).KindU.S6.Sons->data[0]);
LOC79 = 0;
LOC79 = Newsyms_124059(((NU8) 0), LOC78, C_138104);
Adddecl_107026(C_138104, LOC79);
LA71: ;
Res_145066 += 1;
} LA70: ;
I_139111 = 0;
HEX3Atmp_145068 = 0;
LOC80 = Sonslen_54803(N_138105);
HEX3Atmp_145068 = (NI64)(LOC80 - 1);
Res_145070 = 0;
Res_145070 = 0;
while (1) {
if (!(Res_145070 <= HEX3Atmp_145068)) goto LA81;
I_139111 = Res_145070;
A_138182 = (*N_138105).KindU.S6.Sons->data[I_139111];
if (!((*A_138182).Kind == ((NU8) 105))) goto LA84;
goto LA82;
LA84: ;
if (!!(((*A_138182).Kind == ((NU8) 91)))) goto LA87;
Illformedast_106092(A_138182);
LA87: ;
Checksonslen_106099(A_138182, 3);
if (!!(((*A_138182).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA90;
Openscope_59146(&(*C_138104).Tab);
asgnRefNoCycle((void**) &(*A_138182).KindU.S6.Sons->data[1], Semgenericstmt_138102(C_138104, (*A_138182).KindU.S6.Sons->data[1], 0));
asgnRefNoCycle((void**) &(*A_138182).KindU.S6.Sons->data[2], Semgenericstmt_138102(C_138104, (*A_138182).KindU.S6.Sons->data[2], 2));
Closescope_107017(&(*C_138104).Tab);
goto LA89;
LA90: ;
asgnRefNoCycle((void**) &(*A_138182).KindU.S6.Sons->data[2], Semgenericstmt_138102(C_138104, (*A_138182).KindU.S6.Sons->data[2], 2));
LA89: ;
LA82: ;
Res_145070 += 1;
} LA81: ;
break;
case ((NU8) 121):
Checkminsonslen_106103(N_138105, 1);
if (!!(((*N_138105).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA93;
asgnRefNoCycle((void**) &(*N_138105).KindU.S6.Sons->data[0], Semgenericstmt_138102(C_138104, (*N_138105).KindU.S6.Sons->data[0], 2));
LA93: ;
I_139296 = 0;
HEX3Atmp_145071 = 0;
LOC95 = Sonslen_54803(N_138105);
HEX3Atmp_145071 = (NI64)(LOC95 - 1);
Res_145073 = 0;
Res_145073 = 1;
while (1) {
if (!(Res_145073 <= HEX3Atmp_145071)) goto LA96;
I_139296 = Res_145073;
switch ((*(*N_138105).KindU.S6.Sons->data[I_139296]).Kind) {
case ((NU8) 122):
A_138182 = (*(*N_138105).KindU.S6.Sons->data[I_139296]).KindU.S6.Sons->data[0];
break;
case ((NU8) 2):
A_138182 = (*N_138105).KindU.S6.Sons->data[I_139296];
break;
default:
Illformedast_106092(N_138105);
break;
}
LOC97 = 0;
LOC97 = Getidentnode_138145((*A_138182).KindU.S6.Sons->data[I_139296]);
LOC98 = 0;
LOC98 = Newsyms_124059(((NU8) 0), LOC97, C_138104);
Adddeclat_107030(C_138104, LOC98, ((NI) ((NI64)(((NI) ((*C_138104).Tab.Tos)) - 1))));
Res_145073 += 1;
} LA96: ;
break;
case ((NU8) 111):
case ((NU8) 112):
break;
case ((NU8) 66):
Checkminsonslen_106103(N_138105, 1);
if (!!(((*N_138105).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA100;
asgnRefNoCycle((void**) &(*N_138105).KindU.S6.Sons->data[0], Semgenericstmt_138102(C_138104, (*N_138105).KindU.S6.Sons->data[0], 2));
LA100: ;
I_139412 = 0;
HEX3Atmp_145077 = 0;
LOC102 = Sonslen_54803(N_138105);
HEX3Atmp_145077 = (NI64)(LOC102 - 1);
Res_145079 = 0;
Res_145079 = 1;
while (1) {
if (!(Res_145079 <= HEX3Atmp_145077)) goto LA103;
I_139412 = Res_145079;
A_138182 = (*N_138105).KindU.S6.Sons->data[I_139412];
if (!!(((*A_138182).Kind == ((NU8) 25)))) goto LA105;
Illformedast_106092(A_138182);
LA105: ;
Checkminsonslen_106103(A_138182, 3);
L_138181 = Sonslen_54803(A_138182);
asgnRefNoCycle((void**) &(*A_138182).KindU.S6.Sons->data[(NI64)(L_138181 - 1)], Semgenericstmt_138102(C_138104, (*A_138182).KindU.S6.Sons->data[(NI64)(L_138181 - 2)], 2));
asgnRefNoCycle((void**) &(*A_138182).KindU.S6.Sons->data[(NI64)(L_138181 - 1)], Semgenericstmt_138102(C_138104, (*A_138182).KindU.S6.Sons->data[(NI64)(L_138181 - 1)], 0));
J_139490 = 0;
HEX3Atmp_145074 = 0;
HEX3Atmp_145074 = (NI64)(L_138181 - 3);
Res_145076 = 0;
Res_145076 = 0;
while (1) {
if (!(Res_145076 <= HEX3Atmp_145074)) goto LA107;
J_139490 = Res_145076;
LOC108 = 0;
LOC108 = Getidentnode_138145((*A_138182).KindU.S6.Sons->data[J_139490]);
LOC109 = 0;
LOC109 = Newsyms_124059(((NU8) 0), LOC108, C_138104);
Adddecl_107026(C_138104, LOC109);
Res_145076 += 1;
} LA107: ;
Res_145079 += 1;
} LA103: ;
break;
case ((NU8) 69):
case ((NU8) 70):
case ((NU8) 71):
case ((NU8) 72):
case ((NU8) 73):
case ((NU8) 74):
case ((NU8) 42):
Checksonslen_106099(N_138105, 5);
LOC110 = 0;
LOC110 = Getidentnode_138145((*N_138105).KindU.S6.Sons->data[0]);
LOC111 = 0;
LOC111 = Newsyms_124059(((NU8) 0), LOC110, C_138104);
Adddecl_107026(C_138104, LOC111);
Openscope_59146(&(*C_138104).Tab);
asgnRefNoCycle((void**) &(*N_138105).KindU.S6.Sons->data[1], Semgenericstmt_138102(C_138104, (*N_138105).KindU.S6.Sons->data[1], 0));
if (!!(((*N_138105).KindU.S6.Sons->data[2] == NIM_NIL))) goto LA113;
if (!!(((*(*N_138105).KindU.S6.Sons->data[2]).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA116;
LOC118 = 0;
LOC118 = Getident_53016(((NimStringDesc*) &TMP194119));
LOC119 = 0;
LOC119 = Newsym_54701(((NU8) 0), LOC118, NIM_NIL);
Adddecl_107026(C_138104, LOC119);
LA116: ;
asgnRefNoCycle((void**) &(*N_138105).KindU.S6.Sons->data[2], Semgenericstmt_138102(C_138104, (*N_138105).KindU.S6.Sons->data[2], 0));
LA113: ;
asgnRefNoCycle((void**) &(*N_138105).KindU.S6.Sons->data[3], Semgenericstmt_138102(C_138104, (*N_138105).KindU.S6.Sons->data[3], 0));
asgnRefNoCycle((void**) &(*N_138105).KindU.S6.Sons->data[4], Semgenericstmtscope_138109(C_138104, (*N_138105).KindU.S6.Sons->data[4], 0));
Closescope_107017(&(*C_138104).Tab);
break;
default:
I_139678 = 0;
HEX3Atmp_145080 = 0;
LOC120 = Sonslen_54803(N_138105);
HEX3Atmp_145080 = (NI64)(LOC120 - 1);
Res_145082 = 0;
Res_145082 = 0;
while (1) {
if (!(Res_145082 <= HEX3Atmp_145080)) goto LA121;
I_139678 = Res_145082;
asgnRefNoCycle((void**) &(*Result_138180).KindU.S6.Sons->data[I_139678], Semgenericstmt_138102(C_138104, (*N_138105).KindU.S6.Sons->data[I_139678], Flags_138108));
Res_145082 += 1;
} LA121: ;
break;
}
BeforeRet: ;
return Result_138180;
}
N_NIMCALL(TY54525*, Semgenericstmtscope_138109)(TY106012* C_138111, TY54525* N_138112, NU8 Flags_138115) {
TY54525* Result_138116;
Result_138116 = 0;
Openscope_59146(&(*C_138111).Tab);
Result_138116 = Semgenericstmt_138102(C_138111, N_138112, Flags_138115);
Closescope_107017(&(*C_138111).Tab);
return Result_138116;
}
N_NIMCALL(void, Semborrow_143368)(TY106012* C_143370, TY54525* N_143371, TY54547* S_143372) {
TY54547* B_143373;
B_143373 = 0;
B_143373 = Searchforborrowproc_120009(C_143370, S_143372, (NI64)(((NI) ((*C_143370).Tab.Tos)) - 2));
if (!(B_143373 == NIM_NIL)) goto LA2;
Limessage_46566((*N_143371).Info, ((NU8) 136), ((NimStringDesc*) &TMP193925));
LA2: ;
asgnRefNoCycle((void**) &(*N_143371).KindU.S6.Sons->data[4], Newsymnode_54734(B_143373));
}
N_NIMCALL(void, Sideeffectscheck_143397)(TY106012* C_143399, TY54547* S_143400) {
if (!((24576 & (*S_143400).Flags) == 24576)) goto LA2;
Limessage_46566((*S_143400).Info, ((NU8) 206), (*(*S_143400).Name).S);
LA2: ;
}
N_NIMCALL(TY54525*, Semprocaux_143662)(TY106012* C_143664, TY54525* N_143665, NU8 Kind_143666, TY121007 Validpragmas_143667) {
TY54525* Result_143668;
TY54547* S_143669;
TY54547* Proto_143670;
TY54525* Gp_143671;
TY106006* Oldp_143732;
NI LOC14;
TY106002* LOC26;
NIM_BOOL LOC55;
NIM_BOOL LOC63;
NIM_BOOL LOC68;
TY53011* LOC72;
TY54547* LOC73;
Result_143668 = 0;
S_143669 = 0;
Proto_143670 = 0;
Gp_143671 = 0;
Result_143668 = N_143665;
Checksonslen_106099(N_143665, 5);
if (!((*(*(*C_143664).P).Owner).Kind == ((NU8) 6))) goto LA2;
S_143669 = Semidentvis_124092(C_143664, Kind_143666, (*N_143665).KindU.S6.Sons->data[0], 2);
(*S_143669).Flags |=(1<<((NI32)(((NU8) 5))%(sizeof(NI32)*8)));
goto LA1;
LA2: ;
S_143669 = Semidentvis_124092(C_143664, Kind_143666, (*N_143665).KindU.S6.Sons->data[0], 0);
LA1: ;
asgnRefNoCycle((void**) &(*N_143665).KindU.S6.Sons->data[0], Newsymnode_54734(S_143669));
Oldp_143732 = 0;
Oldp_143732 = (*C_143664).P;
if (!(((*S_143669).Flags &(1<<((((NU8) 1))&31)))!=0)) goto LA5;
(*S_143669).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
LA5: ;
asgnRefNoCycle((void**) &(*S_143669).Ast, N_143665);
Pushowner_106109(S_143669);
Openscope_59146(&(*C_143664).Tab);
if (!!(((*N_143665).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA8;
asgnRefNoCycle((void**) &(*N_143665).KindU.S6.Sons->data[1], Semgenericparamlist_142469(C_143664, (*N_143665).KindU.S6.Sons->data[1], NIM_NIL));
Gp_143671 = (*N_143665).KindU.S6.Sons->data[1];
goto LA7;
LA8: ;
Gp_143671 = Newnodei_54737(((NU8) 65), (*N_143665).Info);
LA7: ;
if (!!(((*N_143665).KindU.S6.Sons->data[2] == NIM_NIL))) goto LA11;
Semparamlist_124147(C_143664, (*N_143665).KindU.S6.Sons->data[2], Gp_143671, S_143669);
LOC14 = Sonslen_54803(Gp_143671);
if (!(0 < LOC14)) goto LA15;
if (!((*N_143665).KindU.S6.Sons->data[1] == NIM_NIL)) goto LA18;
asgnRefNoCycle((void**) &(*N_143665).KindU.S6.Sons->data[1], Gp_143671);
Semparamlist_124147(C_143664, (*N_143665).KindU.S6.Sons->data[2], NIM_NIL, S_143669);
LA18: ;
LA15: ;
Addparams_124153(C_143664, (*(*S_143669).Typ).N);
goto LA10;
LA11: ;
asgnRef((void**) &(*S_143669).Typ, Newtypes_106077(((NU8) 25), C_143664));
Addson_54827((*S_143669).Typ, NIM_NIL);
LA10: ;
Proto_143670 = Searchforproc_120004(C_143664, S_143669, (NI64)(((NI) ((*C_143664).Tab.Tos)) - 2));
if (!(Proto_143670 == NIM_NIL)) goto LA21;
if (!!(((*(*Oldp_143732).Owner).Kind == ((NU8) 6)))) goto LA24;
(*(*S_143669).Typ).Callconv = ((NU8) 8);
goto LA23;
LA24: ;
LOC26 = 0;
LOC26 = Lastoptionentry_106053(C_143664);
(*(*S_143669).Typ).Callconv = (*LOC26).Defaultcc;
LA23: ;
if (!((15424 &(1<<((Kind_143666)&31)))!=0)) goto LA28;
Addinterfaceoverloadablesymat_107044(C_143664, S_143669, (NI64)(((NI) ((*C_143664).Tab.Tos)) - 2));
goto LA27;
LA28: ;
Addinterfacedeclat_107245(C_143664, S_143669, ((NI) ((NI64)(((NI) ((*C_143664).Tab.Tos)) - 2))));
LA27: ;
if (!!(((*N_143665).KindU.S6.Sons->data[3] == NIM_NIL))) goto LA31;
Pragma_121028(C_143664, S_143669, (*N_143665).KindU.S6.Sons->data[3], Validpragmas_143667);
LA31: ;
goto LA20;
LA21: ;
if (!!(((*N_143665).KindU.S6.Sons->data[3] == NIM_NIL))) goto LA34;
Limessage_46566((*(*N_143665).KindU.S6.Sons->data[3]).Info, ((NU8) 133), ((NimStringDesc*) &TMP193925));
LA34: ;
if (!!((((*Proto_143670).Flags &(1<<((((NU8) 6))&31)))!=0))) goto LA37;
Limessage_46566((*N_143665).Info, ((NU8) 94), (*(*Proto_143670).Name).S);
LA37: ;
(*Proto_143670).Flags &= ~(1 << ((NI32)(((NU8) 6)) % (sizeof(NI32)*8)));
Closescope_107017(&(*C_143664).Tab);
Openscope_59146(&(*C_143664).Tab);
if (!!(((*(*Proto_143670).Ast).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA40;
Addgenericparamlisttoscope_142639(C_143664, (*(*Proto_143670).Ast).KindU.S6.Sons->data[1]);
LA40: ;
Addparams_124153(C_143664, (*(*Proto_143670).Typ).N);
(*Proto_143670).Info = (*S_143669).Info;
asgnRef((void**) &(*S_143669).Typ, (*Proto_143670).Typ);
S_143669 = Proto_143670;
asgnRefNoCycle((void**) &(*N_143665).KindU.S6.Sons->data[1], (*(*Proto_143670).Ast).KindU.S6.Sons->data[1]);
asgnRefNoCycle((void**) &(*N_143665).KindU.S6.Sons->data[2], (*(*Proto_143670).Ast).KindU.S6.Sons->data[2]);
if (!!(((*(*N_143665).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA43;
Internalerror_46571((*N_143665).Info, ((NimStringDesc*) &TMP194173));
LA43: ;
asgnRef((void**) &(*(*N_143665).KindU.S6.Sons->data[0]).KindU.S4.Sym, Proto_143670);
asgnRefNoCycle((void**) &(*Proto_143670).Ast, N_143665);
Popowner_106112();
Pushowner_106109(S_143669);
LA20: ;
(*S_143669).Options = Goptions_45076;
if (!!(((*N_143665).KindU.S6.Sons->data[4] == NIM_NIL))) goto LA46;
if (!(((*S_143669).Flags &(1<<((((NU8) 29))&31)))!=0)) goto LA49;
Limessage_46566((*(*N_143665).KindU.S6.Sons->data[4]).Info, ((NU8) 134), (*(*S_143669).Name).S);
LA49: ;
if (!((*N_143665).KindU.S6.Sons->data[1] == NIM_NIL)) goto LA52;
asgnRefNoCycle((void**) &(*C_143664).P, Newproccon_106050(S_143669));
LOC55 = !(((*(*S_143669).Typ).Sons->data[0] == NIM_NIL));
if (!(LOC55)) goto LA56;
LOC55 = !((Kind_143666 == ((NU8) 12)));
LA56: ;
if (!LOC55) goto LA57;
Addresult_124157(C_143664, (*(*S_143669).Typ).Sons->data[0], (*N_143665).Info);
LA57: ;
if (!!((((*S_143669).Flags &(1<<((((NU8) 7))&31)))!=0))) goto LA60;
asgnRefNoCycle((void**) &(*N_143665).KindU.S6.Sons->data[4], Semstmtscope_124104(C_143664, (*N_143665).KindU.S6.Sons->data[4]));
LA60: ;
LOC63 = !(((*(*S_143669).Typ).Sons->data[0] == NIM_NIL));
if (!(LOC63)) goto LA64;
LOC63 = !((Kind_143666 == ((NU8) 12)));
LA64: ;
if (!LOC63) goto LA65;
Addresultnode_124162(C_143664, N_143665);
LA65: ;
goto LA51;
LA52: ;
LOC68 = !(((*(*S_143669).Typ).Sons->data[0] == NIM_NIL));
if (!(LOC68)) goto LA69;
LOC68 = !((Kind_143666 == ((NU8) 12)));
LA69: ;
if (!LOC68) goto LA70;
LOC72 = 0;
LOC72 = Getident_53016(((NimStringDesc*) &TMP194119));
LOC73 = 0;
LOC73 = Newsym_54701(((NU8) 0), LOC72, NIM_NIL);
Adddecl_107026(C_143664, LOC73);
LA70: ;
asgnRefNoCycle((void**) &(*N_143665).KindU.S6.Sons->data[4], Semgenericstmtscope_138109(C_143664, (*N_143665).KindU.S6.Sons->data[4], 0));
LA51: ;
if (!(((*S_143669).Flags &(1<<((((NU8) 7))&31)))!=0)) goto LA75;
asgnRefNoCycle((void**) &(*N_143665).KindU.S6.Sons->data[4], NIM_NIL);
LA75: ;
goto LA45;
LA46: ;
if (!!((Proto_143670 == NIM_NIL))) goto LA78;
Limessage_46566((*N_143665).Info, ((NU8) 135), (*(*Proto_143670).Name).S);
LA78: ;
if (!((536871040 & (*S_143669).Flags) == 0)) goto LA81;
(*S_143669).Flags |=(1<<((NI32)(((NU8) 6))%(sizeof(NI32)*8)));
goto LA80;
LA81: ;
if (!(((*S_143669).Flags &(1<<((((NU8) 29))&31)))!=0)) goto LA83;
Semborrow_143368(C_143664, N_143665, S_143669);
goto LA80;
LA83: ;
LA80: ;
LA45: ;
Sideeffectscheck_143397(C_143664, S_143669);
Closescope_107017(&(*C_143664).Tab);
Popowner_106112();
asgnRefNoCycle((void**) &(*C_143664).P, Oldp_143732);
return Result_143668;
}
N_NIMCALL(TY54525*, Semiterator_144424)(TY106012* C_144426, TY54525* N_144427) {
TY54525* Result_144428;
TY54547* S_144453;
TY54551* T_144454;
Result_144428 = 0;
Result_144428 = Semprocaux_143662(C_144426, N_144427, ((NU8) 12), TMP194174);
S_144453 = 0;
S_144453 = (*(*Result_144428).KindU.S6.Sons->data[0]).KindU.S4.Sym;
T_144454 = 0;
T_144454 = (*S_144453).Typ;
if (!((*T_144454).Sons->data[0] == NIM_NIL)) goto LA2;
Limessage_46566((*N_144427).Info, ((NU8) 176), ((NimStringDesc*) &TMP194175));
LA2: ;
if (!((*N_144427).KindU.S6.Sons->data[4] == NIM_NIL)) goto LA5;
Limessage_46566((*N_144427).Info, ((NU8) 135), (*(*S_144453).Name).S);
LA5: ;
return Result_144428;
}
N_NIMCALL(TY54525*, Semproc_144489)(TY106012* C_144491, TY54525* N_144492) {
TY54525* Result_144493;
Result_144493 = 0;
Result_144493 = Semprocaux_143662(C_144491, N_144492, ((NU8) 10), TMP194176);
return Result_144493;
}
N_NIMCALL(NIM_BOOL, Istoplevel_124053)(TY106012* C_124055) {
NIM_BOOL Result_124056;
Result_124056 = 0;
Result_124056 = (((NI) ((*C_124055).Tab.Tos)) <= 2);
return Result_124056;
}
N_NIMCALL(TY54525*, Semmethod_144494)(TY106012* C_144496, TY54525* N_144497) {
TY54525* Result_144498;
NIM_BOOL LOC2;
TY54547* S_144523;
TY54551* T_144524;
NIM_BOOL Hasobjparam_144525;
NI Col_144533;
NI HEX3Atmp_145136;
NI LOC5;
NI Res_145138;
TY54551* LOC8;
Result_144498 = 0;
LOC2 = Istoplevel_124053(C_144496);
if (!!(LOC2)) goto LA3;
Limessage_46566((*N_144497).Info, ((NU8) 178), ((NimStringDesc*) &TMP194177));
LA3: ;
Result_144498 = Semprocaux_143662(C_144496, N_144497, ((NU8) 11), TMP194176);
S_144523 = 0;
S_144523 = (*(*Result_144498).KindU.S6.Sons->data[0]).KindU.S4.Sym;
T_144524 = 0;
T_144524 = (*S_144523).Typ;
Hasobjparam_144525 = 0;
Hasobjparam_144525 = NIM_FALSE;
Col_144533 = 0;
HEX3Atmp_145136 = 0;
LOC5 = Sonslen_54806(T_144524);
HEX3Atmp_145136 = (NI64)(LOC5 - 1);
Res_145138 = 0;
Res_145138 = 1;
while (1) {
if (!(Res_145138 <= HEX3Atmp_145136)) goto LA6;
Col_144533 = Res_145138;
LOC8 = 0;
LOC8 = Skiptypes_96087((*T_144524).Sons->data[Col_144533], 14682112);
if (!((*LOC8).Kind == ((NU8) 17))) goto LA9;
Hasobjparam_144525 = NIM_TRUE;
goto LA6;
LA9: ;
Res_145138 += 1;
} LA6: ;
if (!!(Hasobjparam_144525)) goto LA12;
Limessage_46566((*N_144497).Info, ((NU8) 179), ((NimStringDesc*) &TMP194177));
LA12: ;
return Result_144498;
}
N_NIMCALL(TY54525*, Semconverterdef_144543)(TY106012* C_144545, TY54525* N_144546) {
TY54525* Result_144547;
NIM_BOOL LOC2;
TY54547* S_144595;
TY54551* T_144596;
NI LOC12;
Result_144547 = 0;
LOC2 = Istoplevel_124053(C_144545);
if (!!(LOC2)) goto LA3;
Limessage_46566((*N_144546).Info, ((NU8) 178), ((NimStringDesc*) &TMP194178));
LA3: ;
Checksonslen_106099(N_144546, 5);
if (!!(((*N_144546).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA6;
Limessage_46566((*N_144546).Info, ((NU8) 153), ((NimStringDesc*) &TMP194178));
LA6: ;
Result_144547 = Semprocaux_143662(C_144545, N_144546, ((NU8) 13), TMP194176);
S_144595 = 0;
S_144595 = (*(*Result_144547).KindU.S6.Sons->data[0]).KindU.S4.Sym;
T_144596 = 0;
T_144596 = (*S_144595).Typ;
if (!((*T_144596).Sons->data[0] == NIM_NIL)) goto LA9;
Limessage_46566((*N_144546).Info, ((NU8) 176), ((NimStringDesc*) &TMP194178));
LA9: ;
LOC12 = Sonslen_54806(T_144596);
if (!!((LOC12 == 2))) goto LA13;
Limessage_46566((*N_144546).Info, ((NU8) 202), ((NimStringDesc*) &TMP194178));
LA13: ;
Addconverter_106058(C_144545, S_144595);
return Result_144547;
}
N_NIMCALL(TY54525*, Semmacrodef_144610)(TY106012* C_144612, TY54525* N_144613) {
TY54525* Result_144614;
TY54547* S_144662;
TY54551* T_144663;
NI LOC8;
Result_144614 = 0;
Checksonslen_106099(N_144613, 5);
if (!!(((*N_144613).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA2;
Limessage_46566((*N_144613).Info, ((NU8) 153), ((NimStringDesc*) &TMP194179));
LA2: ;
Result_144614 = Semprocaux_143662(C_144612, N_144613, ((NU8) 14), TMP194180);
S_144662 = 0;
S_144662 = (*(*Result_144614).KindU.S6.Sons->data[0]).KindU.S4.Sym;
T_144663 = 0;
T_144663 = (*S_144662).Typ;
if (!((*T_144663).Sons->data[0] == NIM_NIL)) goto LA5;
Limessage_46566((*N_144613).Info, ((NU8) 176), ((NimStringDesc*) &TMP194179));
LA5: ;
LOC8 = Sonslen_54806(T_144663);
if (!!((LOC8 == 2))) goto LA9;
Limessage_46566((*N_144613).Info, ((NU8) 202), ((NimStringDesc*) &TMP194179));
LA9: ;
if (!((*N_144613).KindU.S6.Sons->data[4] == NIM_NIL)) goto LA12;
Limessage_46566((*N_144613).Info, ((NU8) 135), (*(*S_144662).Name).S);
LA12: ;
return Result_144614;
}
N_NIMCALL(TY54525*, Resolvetemplateparams_124598)(TY106012* C_124600, TY54525* N_124601, NIM_BOOL Withinbind_124602, TY54900* Tobind_124604) {
TY54525* Result_124605;
TY54547* S_124606;
NIM_BOOL LOC5;
NIM_BOOL LOC7;
TY54547* LOC13;
NI I_124684;
NI HEX3Atmp_125067;
NI LOC14;
NI Res_125069;
Result_124605 = 0;
S_124606 = 0;
if (!(N_124601 == NIM_NIL)) goto LA2;
Result_124605 = NIM_NIL;
goto BeforeRet;
LA2: ;
switch ((*N_124601).Kind) {
case ((NU8) 2):
LOC5 = !(Withinbind_124602);
if (!(LOC5)) goto LA6;
LOC7 = Intsetcontains_54910(&(*Tobind_124604), (*(*N_124601).KindU.S5.Ident).Sup.Id);
LOC5 = !(LOC7);
LA6: ;
if (!LOC5) goto LA8;
S_124606 = Symtablocalget_59120((*C_124600).Tab, (*N_124601).KindU.S5.Ident);
if (!!((S_124606 == NIM_NIL))) goto LA11;
Result_124605 = Newsymnode_54734(S_124606);
(*Result_124605).Info = (*N_124601).Info;
goto LA10;
LA11: ;
Result_124605 = N_124601;
LA10: ;
goto LA4;
LA8: ;
Intsetincl_54914(Tobind_124604, (*(*N_124601).KindU.S5.Ident).Sup.Id);
LOC13 = 0;
LOC13 = Lookup_107049(C_124600, N_124601);
Result_124605 = Symchoice_124549(C_124600, N_124601, LOC13);
LA4: ;
break;
case ((NU8) 3) ... ((NU8) 18):
Result_124605 = N_124601;
break;
case ((NU8) 45):
Result_124605 = Resolvetemplateparams_124598(C_124600, (*N_124601).KindU.S6.Sons->data[0], NIM_TRUE, Tobind_124604);
break;
default:
Result_124605 = N_124601;
I_124684 = 0;
HEX3Atmp_125067 = 0;
LOC14 = Sonslen_54803(N_124601);
HEX3Atmp_125067 = (NI64)(LOC14 - 1);
Res_125069 = 0;
Res_125069 = 0;
while (1) {
if (!(Res_125069 <= HEX3Atmp_125067)) goto LA15;
I_124684 = Res_125069;
asgnRefNoCycle((void**) &(*Result_124605).KindU.S6.Sons->data[I_124684], Resolvetemplateparams_124598(C_124600, (*N_124601).KindU.S6.Sons->data[I_124684], Withinbind_124602, Tobind_124604));
Res_125069 += 1;
} LA15: ;
break;
}
BeforeRet: ;
return Result_124605;
}
N_NIMCALL(TY54525*, Transformtoexpr_124709)(TY54525* N_124711) {
TY54525* Result_124712;
NI Realstmt_124713;
NI I_124721;
NI HEX3Atmp_125070;
NI LOC1;
NI Res_125072;
Result_124712 = 0;
Realstmt_124713 = 0;
Result_124712 = N_124711;
switch ((*N_124711).Kind) {
case ((NU8) 101):
Realstmt_124713 = -1;
I_124721 = 0;
HEX3Atmp_125070 = 0;
LOC1 = Sonslen_54803(N_124711);
HEX3Atmp_125070 = (NI64)(LOC1 - 1);
Res_125072 = 0;
Res_125072 = 0;
while (1) {
if (!(Res_125072 <= HEX3Atmp_125070)) goto LA2;
I_124721 = Res_125072;
switch ((*(*N_124711).KindU.S6.Sons->data[I_124721]).Kind) {
case ((NU8) 105):
case ((NU8) 1):
case ((NU8) 18):
break;
default:
if (!(Realstmt_124713 == -1)) goto LA4;
Realstmt_124713 = I_124721;
goto LA3;
LA4: ;
Realstmt_124713 = -2;
LA3: ;
break;
}
Res_125072 += 1;
} LA2: ;
if (!(0 <= Realstmt_124713)) goto LA7;
Result_124712 = Transformtoexpr_124709((*N_124711).KindU.S6.Sons->data[Realstmt_124713]);
goto LA6;
LA7: ;
(*N_124711).Kind = ((NU8) 106);
LA6: ;
break;
case ((NU8) 99):
(*N_124711).Kind = ((NU8) 107);
break;
default:
break;
}
return Result_124712;
}
N_NIMCALL(TY54525*, Semtemplatedef_124750)(TY106012* C_124752, TY54525* N_124753) {
TY54525* Result_124754;
TY54547* S_124755;
TY54900 Tobind_124756;
TY54551* LOC16;
TY54525* LOC17;
Result_124754 = 0;
S_124755 = 0;
memset((void*)&Tobind_124756, 0, sizeof(Tobind_124756));
if (!((*(*(*C_124752).P).Owner).Kind == ((NU8) 6))) goto LA2;
S_124755 = Semidentvis_124092(C_124752, ((NU8) 15), (*N_124753).KindU.S6.Sons->data[0], 2);
(*S_124755).Flags |=(1<<((NI32)(((NU8) 5))%(sizeof(NI32)*8)));
goto LA1;
LA2: ;
S_124755 = Semidentvis_124092(C_124752, ((NU8) 15), (*N_124753).KindU.S6.Sons->data[0], 0);
LA1: ;
if (!(((*S_124755).Flags &(1<<((((NU8) 1))&31)))!=0)) goto LA5;
(*S_124755).Flags |=(1<<((NI32)(((NU8) 3))%(sizeof(NI32)*8)));
LA5: ;
Pushowner_106109(S_124755);
Openscope_59146(&(*C_124752).Tab);
asgnRefNoCycle((void**) &(*N_124753).KindU.S6.Sons->data[0], Newsymnode_54734(S_124755));
if (!!(((*N_124753).KindU.S6.Sons->data[3] == NIM_NIL))) goto LA8;
Limessage_46566((*N_124753).Info, ((NU8) 152), ((NimStringDesc*) &TMP194181));
LA8: ;
if (!!(((*N_124753).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA11;
Limessage_46566((*N_124753).Info, ((NU8) 153), ((NimStringDesc*) &TMP194181));
LA11: ;
if (!((*N_124753).KindU.S6.Sons->data[2] == NIM_NIL)) goto LA14;
asgnRef((void**) &(*S_124755).Typ, Newtypes_106077(((NU8) 25), C_124752));
asgnRefNoCycle((void**) &(*(*S_124755).Typ).N, Newnodei_54737(((NU8) 66), (*N_124753).Info));
LOC16 = 0;
LOC16 = Newtypes_106077(((NU8) 7), C_124752);
Addson_54827((*S_124755).Typ, LOC16);
LOC17 = 0;
LOC17 = Newnodeit_54741(((NU8) 4), (*N_124753).Info, (*(*S_124755).Typ).Sons->data[0]);
Addson_54823((*(*S_124755).Typ).N, LOC17);
goto LA13;
LA14: ;
Semparamlist_124147(C_124752, (*N_124753).KindU.S6.Sons->data[2], NIM_NIL, S_124755);
if (!((*(*N_124753).KindU.S6.Sons->data[2]).KindU.S6.Sons->data[0] == NIM_NIL)) goto LA19;
asgnRef((void**) &(*(*S_124755).Typ).Sons->data[0], Newtypes_106077(((NU8) 7), C_124752));
asgnRefNoCycle((void**) &(*(*(*S_124755).Typ).N).KindU.S6.Sons->data[0], Newnodeit_54741(((NU8) 4), (*N_124753).Info, (*(*S_124755).Typ).Sons->data[0]));
LA19: ;
LA13: ;
Addparams_124153(C_124752, (*(*S_124755).Typ).N);
Intsetinit_54924(&Tobind_124756);
asgnRefNoCycle((void**) &(*N_124753).KindU.S6.Sons->data[4], Resolvetemplateparams_124598(C_124752, (*N_124753).KindU.S6.Sons->data[4], NIM_FALSE, &Tobind_124756));
if (!!(((384 &(IL64(1)<<(((*(*(*S_124755).Typ).Sons->data[0]).Kind)&IL64(63))))!=0))) goto LA22;
asgnRefNoCycle((void**) &(*N_124753).KindU.S6.Sons->data[4], Transformtoexpr_124709((*N_124753).KindU.S6.Sons->data[4]));
LA22: ;
Closescope_107017(&(*C_124752).Tab);
Popowner_106112();
asgnRefNoCycle((void**) &(*S_124755).Ast, N_124753);
Result_124754 = N_124753;
if (!((*N_124753).KindU.S6.Sons->data[4] == NIM_NIL)) goto LA25;
Limessage_46566((*N_124753).Info, ((NU8) 135), (*(*S_124755).Name).S);
LA25: ;
Addinterfacedecl_107040(C_124752, S_124755);
return Result_124754;
}
N_NIMCALL(TY54525*, Evalinclude_144700)(TY106012* C_144702, TY54525* N_144703) {
TY54525* Result_144704;
NI I_144712;
NI HEX3Atmp_145139;
NI LOC1;
NI Res_145141;
NimStringDesc* F_144725;
NI Fileindex_144726;
NIM_BOOL LOC4;
TY54525* LOC7;
TY54525* LOC8;
Result_144704 = 0;
Result_144704 = Newnodei_54737(((NU8) 101), (*N_144703).Info);
Addson_54823(Result_144704, N_144703);
I_144712 = 0;
HEX3Atmp_145139 = 0;
LOC1 = Sonslen_54803(N_144703);
HEX3Atmp_145139 = (NI64)(LOC1 - 1);
Res_145141 = 0;
Res_145141 = 0;
while (1) {
if (!(Res_145141 <= HEX3Atmp_145139)) goto LA2;
I_144712 = Res_145141;
F_144725 = 0;
F_144725 = Getmodulefile_109013((*N_144703).KindU.S6.Sons->data[I_144712]);
Fileindex_144726 = 0;
Fileindex_144726 = Includefilename_46615(F_144725);
LOC4 = Intsetcontainsorincl_54928(&(*C_144702).Includedfiles, Fileindex_144726);
if (!LOC4) goto LA5;
Limessage_46566((*N_144703).Info, ((NU8) 23), F_144725);
LA5: ;
LOC7 = 0;
LOC7 = Gincludefile_104051(F_144725);
LOC8 = 0;
LOC8 = Semstmt_124143(C_144702, LOC7);
Addson_54823(Result_144704, LOC8);
Intsetexcl_54919(&(*C_144702).Includedfiles, Fileindex_144726);
Res_145141 += 1;
} LA2: ;
return Result_144704;
}
N_NIMCALL(TY54525*, Semstmt_124143)(TY106012* C_124145, TY54525* N_124146) {
TY54525* Result_144738;
NI Length_144763;
NI I_144771;
NI HEX3Atmp_145146;
NI Res_145148;
NI J_144826;
NI HEX3Atmp_145142;
NI HEX3Atmp_145143;
NI Res_145145;
NIM_BOOL LOC13;
NIM_BOOL LOC17;
NIM_BOOL LOC21;
Result_144738 = 0;
Result_144738 = N_124146;
if (!(N_124146 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
if (!(((*N_124146).Flags &(1<<((((NU8) 6))&7)))!=0)) goto LA5;
goto BeforeRet;
LA5: ;
switch ((*N_124146).Kind) {
case ((NU8) 63):
Result_144738 = Semasgn_140591(C_124145, N_124146);
break;
case ((NU8) 21):
case ((NU8) 27):
case ((NU8) 28):
case ((NU8) 29):
case ((NU8) 20):
case ((NU8) 79):
case ((NU8) 22):
Result_144738 = Semcommand_144729(C_124145, N_124146);
break;
case ((NU8) 1):
case ((NU8) 105):
case ((NU8) 18):
break;
case ((NU8) 99):
Result_144738 = Semblock_140153(C_124145, N_124146);
break;
case ((NU8) 101):
Length_144763 = 0;
Length_144763 = Sonslen_54803(N_124146);
I_144771 = 0;
HEX3Atmp_145146 = 0;
HEX3Atmp_145146 = (NI64)(Length_144763 - 1);
Res_145148 = 0;
Res_145148 = 0;
while (1) {
if (!(Res_145148 <= HEX3Atmp_145146)) goto LA7;
I_144771 = Res_145148;
asgnRefNoCycle((void**) &(*N_124146).KindU.S6.Sons->data[I_144771], Semstmt_124143(C_124145, (*N_124146).KindU.S6.Sons->data[I_144771]));
if (!((*(*N_124146).KindU.S6.Sons->data[I_144771]).Kind == ((NU8) 95) || (*(*N_124146).KindU.S6.Sons->data[I_144771]).Kind == ((NU8) 96) || (*(*N_124146).KindU.S6.Sons->data[I_144771]).Kind == ((NU8) 97) || (*(*N_124146).KindU.S6.Sons->data[I_144771]).Kind == ((NU8) 98))) goto LA9;
J_144826 = 0;
HEX3Atmp_145142 = 0;
HEX3Atmp_145143 = 0;
HEX3Atmp_145142 = (NI64)(I_144771 + 1);
HEX3Atmp_145143 = (NI64)(Length_144763 - 1);
Res_145145 = 0;
Res_145145 = HEX3Atmp_145142;
while (1) {
if (!(Res_145145 <= HEX3Atmp_145143)) goto LA11;
J_144826 = Res_145145;
switch ((*(*N_124146).KindU.S6.Sons->data[J_144826]).Kind) {
case ((NU8) 81):
case ((NU8) 105):
case ((NU8) 18):
case ((NU8) 1):
break;
default:
Limessage_46566((*(*N_124146).KindU.S6.Sons->data[J_144826]).Info, ((NU8) 38), ((NimStringDesc*) &TMP193925));
break;
}
Res_145145 += 1;
} LA11: ;
LA9: ;
Res_145148 += 1;
} LA7: ;
break;
case ((NU8) 95):
Result_144738 = Semraise_142191(C_124145, N_124146);
break;
case ((NU8) 87):
Result_144738 = Semvar_141296(C_124145, N_124146);
break;
case ((NU8) 88):
Result_144738 = Semconst_141594(C_124145, N_124146);
break;
case ((NU8) 90):
Result_144738 = Semtypesection_142694(C_124145, N_124146);
break;
case ((NU8) 82):
Result_144738 = Semif_139858(C_124145, N_124146);
break;
case ((NU8) 83):
Result_144738 = Semwhen_139728(C_124145, N_124146);
break;
case ((NU8) 100):
Result_144738 = Semdiscard_139983(C_124145, N_124146);
break;
case ((NU8) 85):
Result_144738 = Semwhile_140276(C_124145, N_124146);
break;
case ((NU8) 93):
Result_144738 = Semtry_142274(C_124145, N_124146);
break;
case ((NU8) 97):
case ((NU8) 98):
Result_144738 = Sembreakorcontinue_140035(C_124145, N_124146);
break;
case ((NU8) 84):
Result_144738 = Semfor_141784(C_124145, N_124146);
break;
case ((NU8) 86):
Result_144738 = Semcase_140381(C_124145, N_124146);
break;
case ((NU8) 96):
Result_144738 = Semreturn_140907(C_124145, N_124146);
break;
case ((NU8) 80):
Result_144738 = Semasm_140256(C_124145, N_124146);
break;
case ((NU8) 92):
Result_144738 = Semyield_141123(C_124145, N_124146);
break;
case ((NU8) 81):
Pragma_121028(C_124145, (*(*C_124145).P).Owner, N_124146, TMP194169);
break;
case ((NU8) 74):
Result_144738 = Semiterator_144424(C_124145, N_124146);
break;
case ((NU8) 69):
Result_144738 = Semproc_144489(C_124145, N_124146);
break;
case ((NU8) 70):
Result_144738 = Semmethod_144494(C_124145, N_124146);
break;
case ((NU8) 71):
Result_144738 = Semconverterdef_144543(C_124145, N_124146);
break;
case ((NU8) 72):
Result_144738 = Semmacrodef_144610(C_124145, N_124146);
break;
case ((NU8) 73):
Result_144738 = Semtemplatedef_124750(C_124145, N_124146);
break;
case ((NU8) 102):
LOC13 = Istoplevel_124053(C_124145);
if (!!(LOC13)) goto LA14;
Limessage_46566((*N_124146).Info, ((NU8) 178), ((NimStringDesc*) &TMP194182));
LA14: ;
Result_144738 = Evalimport_109001(C_124145, N_124146);
break;
case ((NU8) 103):
LOC17 = Istoplevel_124053(C_124145);
if (!!(LOC17)) goto LA18;
Limessage_46566((*N_124146).Info, ((NU8) 178), ((NimStringDesc*) &TMP194188));
LA18: ;
Result_144738 = Evalfrom_109005(C_124145, N_124146);
break;
case ((NU8) 104):
LOC21 = Istoplevel_124053(C_124145);
if (!!(LOC21)) goto LA22;
Limessage_46566((*N_124146).Info, ((NU8) 178), ((NimStringDesc*) &TMP194192));
LA22: ;
Result_144738 = Evalinclude_144700(C_124145, N_124146);
break;
default:
Limessage_46566((*N_124146).Info, ((NU8) 39), ((NimStringDesc*) &TMP193925));
break;
}
if (!(Result_144738 == NIM_NIL)) goto LA25;
Internalerror_46571((*N_124146).Info, ((NimStringDesc*) &TMP194193));
LA25: ;
(*Result_144738).Flags |=(1<<((NI8)(((NU8) 6))%(sizeof(NI8)*8)));
BeforeRet: ;
return Result_144738;
}
N_NIMCALL(TY54525*, Semaftermacrocall_124246)(TY106012* C_124248, TY54525* N_124249, TY54547* S_124250) {
TY54525* Result_124251;
NimStringDesc* LOC1;
Result_124251 = 0;
Result_124251 = N_124249;
switch ((*(*(*S_124250).Typ).Sons->data[0]).Kind) {
case ((NU8) 6):
Result_124251 = Semexpr_124115(C_124248, Result_124251, 0);
break;
case ((NU8) 7):
Result_124251 = Semstmt_124143(C_124248, Result_124251);
break;
case ((NU8) 8):
asgnRef((void**) &(*Result_124251).Typ, Semtypenode_124138(C_124248, Result_124251, NIM_NIL));
break;
default:
LOC1 = 0;
LOC1 = Typetostring_96014((*(*S_124250).Typ).Sons->data[0], ((NU8) 0));
Limessage_46566((*S_124250).Info, ((NU8) 154), LOC1);
break;
}
return Result_124251;
}
N_NIMCALL(TY54525*, Semmacroexpr_125073)(TY106012* C_125075, TY54525* N_125076, TY54547* Sym_125077, NIM_BOOL Semcheck_125078) {
TY54525* Result_125079;
TY114006* P_125094;
TY114004* S_125095;
TY54525* LOC4;
NIM_BOOL LOC6;
Result_125079 = 0;
Evaltemplatecounter_124423 += 1;
if (!(100 < Evaltemplatecounter_124423)) goto LA2;
Limessage_46566((*N_125076).Info, ((NU8) 180), ((NimStringDesc*) &TMP193925));
LA2: ;
Markused_124065(N_125076, Sym_125077);
P_125094 = 0;
P_125094 = Newevalcontext_114033((*C_125075).Module, ((NimStringDesc*) &TMP193925), NIM_FALSE);
S_125095 = 0;
S_125095 = Newstackframe_114024();
asgnRefNoCycle((void**) &(*S_125095).Call, N_125076);
(*S_125095).Params = (TY54519*) setLengthSeq(&((*S_125095).Params)->Sup, sizeof(TY54525*), 2);
asgnRefNoCycle((void**) &(*S_125095).Params->data[0], Newnodeit_54741(((NU8) 18), (*N_125076).Info, (*(*Sym_125077).Typ).Sons->data[0]));
asgnRefNoCycle((void**) &(*S_125095).Params->data[1], N_125076);
Pushstackframe_114026(P_125094, S_125095);
LOC4 = 0;
LOC4 = Eval_114038(P_125094, (*(*Sym_125077).Ast).KindU.S6.Sons->data[4]);
Result_125079 = (*S_125095).Params->data[0];
Popstackframe_114030(P_125094);
LOC6 = Cyclictree_95043(Result_125079);
if (!LOC6) goto LA7;
Limessage_46566((*N_125076).Info, ((NU8) 204), ((NimStringDesc*) &TMP193925));
LA7: ;
if (!Semcheck_125078) goto LA10;
Result_125079 = Semaftermacrocall_124246(C_125075, Result_125079, Sym_125077);
LA10: ;
Evaltemplatecounter_124423 -= 1;
return Result_125079;
}
N_NIMCALL(TY54525*, Semsym_131956)(TY106012* C_131958, TY54525* N_131959, TY54547* S_131960, NU8 Flags_131961) {
TY54525* Result_131962;
NIM_BOOL LOC2;
NIM_BOOL LOC7;
NIM_BOOL LOC8;
TY54547* LOC11;
Result_131962 = 0;
LOC2 = ((*S_131960).Kind == ((NU8) 7));
if (!(LOC2)) goto LA3;
LOC2 = !(((Flags_131961 &(1<<((((NU8) 0))&7)))!=0));
LA3: ;
if (!LOC2) goto LA4;
Limessage_46566((*N_131959).Info, ((NU8) 162), ((NimStringDesc*) &TMP193925));
LA4: ;
switch ((*S_131960).Kind) {
case ((NU8) 10):
case ((NU8) 11):
case ((NU8) 12):
case ((NU8) 13):
LOC8 = !((((*S_131960).Flags &(1<<((((NU8) 20))&31)))!=0));
if (!(LOC8)) goto LA9;
LOC8 = ((*(*S_131960).Typ).Callconv == ((NU8) 0));
LA9: ;
LOC7 = LOC8;
if (!(LOC7)) goto LA10;
LOC11 = 0;
LOC11 = Getmodule_59203(S_131960);
LOC7 = !(((*LOC11).Sup.Id == (*(*C_131958).Module).Sup.Id));
LA10: ;
if (!LOC7) goto LA12;
Limessage_46566((*N_131959).Info, ((NU8) 131), (*(*S_131960).Name).S);
LA12: ;
Result_131962 = Symchoice_124549(C_131958, N_131959, S_131960);
break;
case ((NU8) 8):
Markused_124065(N_131959, S_131960);
if (!((IL64(1097364930612) &(IL64(1)<<(((*(*S_131960).Typ).Kind)&IL64(63))))!=0)) goto LA15;
Result_131962 = Copytree_54858((*S_131960).Ast);
asgnRef((void**) &(*Result_131962).Typ, (*S_131960).Typ);
goto LA14;
LA15: ;
Result_131962 = Newsymnode_54734(S_131960);
LA14: ;
(*Result_131962).Info = (*N_131959).Info;
break;
case ((NU8) 14):
Result_131962 = Semmacroexpr_125073(C_131958, N_131959, S_131960, NIM_TRUE);
break;
case ((NU8) 15):
Result_131962 = Semtemplateexpr_131901(C_131958, N_131959, S_131960, NIM_TRUE);
break;
case ((NU8) 9):
Markused_124065(N_131959, S_131960);
if (!(((*S_131960).Flags &(1<<((((NU8) 5))&31)))!=0)) goto LA18;
(*(*(*C_131958).P).Owner).Flags |=(1<<((NI32)(((NU8) 14))%(sizeof(NI32)*8)));
LA18: ;
Result_131962 = Newsymnode_54734(S_131960);
(*Result_131962).Info = (*N_131959).Info;
break;
case ((NU8) 4):
if (!((*S_131960).Ast == NIM_NIL)) goto LA21;
Internalerror_46571((*N_131959).Info, ((NimStringDesc*) &TMP194194));
LA21: ;
Result_131962 = Semexpr_124115(C_131958, (*S_131960).Ast, 0);
break;
default:
Markused_124065(N_131959, S_131960);
Result_131962 = Newsymnode_54734(S_131960);
(*Result_131962).Info = (*N_131959).Info;
break;
}
return Result_131962;
}
N_NIMCALL(TY54525*, Semfieldaccess_131908)(TY106012* C_131910, TY54525* N_131911, NU8 Flags_131914) {
TY54525* Result_135533;
TY53011* I_135557;
TY54547* F_135558;
TY54525* LOC7;
TY54525* LOC8;
TY54525* LOC9;
Result_135533 = 0;
Result_135533 = Builtinfieldaccess_135161(C_131910, N_131911, Flags_131914);
if (!(Result_135533 == NIM_NIL)) goto LA2;
I_135557 = 0;
I_135557 = Consideracc_124003((*N_131911).KindU.S6.Sons->data[1]);
F_135558 = 0;
F_135558 = Symtabget_59116((*C_131910).Tab, I_135557);
if (!!((F_135558 == NIM_NIL))) goto LA5;
Result_135533 = Newnodei_54737(((NU8) 19), (*N_131911).Info);
LOC7 = 0;
LOC7 = Newidentnode_54730(I_135557, (*N_131911).Info);
Addson_54823(Result_135533, LOC7);
LOC8 = 0;
LOC8 = HEX5BHEX5D_56051(N_131911, 0);
LOC9 = 0;
LOC9 = Copytree_54858(LOC8);
Addson_54823(Result_135533, LOC9);
goto LA4;
LA5: ;
Limessage_46566((*N_131911).Info, ((NU8) 77), (*I_135557).S);
LA4: ;
LA2: ;
return Result_135533;
}
N_NIMCALL(void, Checkconversionbetweenobjects_132050)(TY46536 Info_132052, TY54551* Castdest_132053, TY54551* Src_132054) {
NI Diff_132055;
NimStringDesc* LOC4;
TY114148 LOC5;
NimStringDesc* LOC6;
Diff_132055 = 0;
Diff_132055 = Inheritancediff_96121(Castdest_132053, Src_132054);
if (!(Diff_132055 == IL64(9223372036854775807))) goto LA2;
LOC4 = 0;
LOC4 = Msgkindtostring_46592(((NU8) 139));
memset((void*)&LOC5, 0, sizeof(LOC5));
LOC5[0] = Typetostring_96014(Src_132054, ((NU8) 0));
LOC5[1] = Typetostring_96014(Castdest_132053, ((NU8) 0));
LOC6 = 0;
LOC6 = nsuFormatOpenArray(LOC4, LOC5, 2);
Limessage_46566(Info_132052, ((NU8) 4), LOC6);
LA2: ;
}
N_NIMCALL(void, Checkconvertible_132062)(TY46536 Info_132064, TY54551* Castdest_132065, TY54551* Src_132066) {
NIM_BOOL LOC2;
NimStringDesc* LOC8;
TY54551* D_132081;
TY54551* S_132082;
NIM_BOOL LOC10;
NIM_BOOL LOC11;
NimStringDesc* LOC17;
TY114148 LOC18;
NimStringDesc* LOC19;
NIM_BOOL LOC21;
NIM_BOOL LOC25;
TY54551* LOC26;
TY54551* LOC28;
NU8 LOC31;
NIM_BOOL LOC33;
NIM_BOOL LOC34;
NIM_BOOL LOC36;
NimStringDesc* LOC39;
TY114148 LOC40;
NimStringDesc* LOC41;
LOC2 = Sametype_96048(Castdest_132065, Src_132066);
if (!LOC2) goto LA3;
if (!!(((IL64(1097364144160) &(IL64(1)<<(((*Castdest_132065).Kind)&IL64(63))))!=0))) goto LA6;
LOC8 = 0;
LOC8 = Typetostring_96014(Castdest_132065, ((NU8) 0));
Limessage_46566(Info_132064, ((NU8) 229), LOC8);
LA6: ;
goto BeforeRet;
LA3: ;
D_132081 = 0;
D_132081 = Skiptypes_96087(Castdest_132065, 8431616);
S_132082 = 0;
S_132082 = Skiptypes_96087(Src_132066, 8431616);
while (1) {
LOC11 = !((D_132081 == NIM_NIL));
if (!(LOC11)) goto LA12;
LOC11 = ((6291456 &(IL64(1)<<(((*D_132081).Kind)&IL64(63))))!=0);
LA12: ;
LOC10 = LOC11;
if (!(LOC10)) goto LA13;
LOC10 = ((*D_132081).Kind == (*S_132082).Kind);
LA13: ;
if (!LOC10) goto LA9;
D_132081 = Base_96021(D_132081);
S_132082 = Base_96021(S_132082);
} LA9: ;
if (!(D_132081 == NIM_NIL)) goto LA15;
LOC17 = 0;
LOC17 = Msgkindtostring_46592(((NU8) 139));
memset((void*)&LOC18, 0, sizeof(LOC18));
LOC18[0] = Typetostring_96014(Src_132066, ((NU8) 0));
LOC18[1] = Typetostring_96014(Castdest_132065, ((NU8) 0));
LOC19 = 0;
LOC19 = nsuFormatOpenArray(LOC17, LOC18, 2);
Limessage_46566(Info_132064, ((NU8) 4), LOC19);
LA15: ;
LOC21 = ((*D_132081).Kind == ((NU8) 17));
if (!(LOC21)) goto LA22;
LOC21 = ((*S_132082).Kind == ((NU8) 17));
LA22: ;
if (!LOC21) goto LA23;
Checkconversionbetweenobjects_132050(Info_132064, D_132081, S_132082);
goto LA20;
LA23: ;
LOC26 = 0;
LOC26 = Skiptypes_96087(Castdest_132065, 9480192);
LOC25 = ((IL64(1097364160518) &(IL64(1)<<(((*LOC26).Kind)&IL64(63))))!=0);
if (!(LOC25)) goto LA27;
LOC28 = 0;
LOC28 = Skiptypes_96087(Src_132066, 9480192);
LOC25 = ((IL64(1097364160518) &(IL64(1)<<(((*LOC28).Kind)&IL64(63))))!=0);
LA27: ;
if (!LOC25) goto LA29;
goto LA20;
LA29: ;
LOC31 = Cmptypes_127400(D_132081, S_132082);
switch (LOC31) {
case ((NU8) 0):
case ((NU8) 4):
LOC34 = Equalordistinctof_96056(Castdest_132065, Src_132066);
LOC33 = !(LOC34);
if (!(LOC33)) goto LA35;
LOC36 = Equalordistinctof_96056(Src_132066, Castdest_132065);
LOC33 = !(LOC36);
LA35: ;
if (!LOC33) goto LA37;
LOC39 = 0;
LOC39 = Msgkindtostring_46592(((NU8) 139));
memset((void*)&LOC40, 0, sizeof(LOC40));
LOC40[0] = Typetostring_96014(Src_132066, ((NU8) 0));
LOC40[1] = Typetostring_96014(Castdest_132065, ((NU8) 0));
LOC41 = 0;
LOC41 = nsuFormatOpenArray(LOC39, LOC40, 2);
Limessage_46566(Info_132064, ((NU8) 4), LOC41);
LA37: ;
break;
default:
break;
}
LA20: ;
BeforeRet: ;
}
N_NIMCALL(TY54525*, Semconv_132211)(TY106012* C_132213, TY54525* N_132214, TY54547* S_132215) {
TY54525* Result_132216;
NI LOC2;
TY54525* LOC5;
TY54525* LOC6;
TY54525* Op_132267;
NI I_132284;
NI HEX3Atmp_144938;
NI LOC10;
NI Res_144940;
NIM_BOOL LOC13;
Result_132216 = 0;
LOC2 = Sonslen_54803(N_132214);
if (!!((LOC2 == 2))) goto LA3;
Limessage_46566((*N_132214).Info, ((NU8) 158), ((NimStringDesc*) &TMP193925));
LA3: ;
Result_132216 = Newnodei_54737(((NU8) 50), (*N_132214).Info);
asgnRef((void**) &(*Result_132216).Typ, Semtypenode_124138(C_132213, (*N_132214).KindU.S6.Sons->data[0], NIM_NIL));
LOC5 = 0;
LOC5 = Copytree_54858((*N_132214).KindU.S6.Sons->data[0]);
Addson_54823(Result_132216, LOC5);
LOC6 = 0;
LOC6 = Semexprwithtype_124122(C_132213, (*N_132214).KindU.S6.Sons->data[1], 0);
Addson_54823(Result_132216, LOC6);
Op_132267 = 0;
Op_132267 = (*Result_132216).KindU.S6.Sons->data[1];
if (!!(((*Op_132267).Kind == ((NU8) 46)))) goto LA8;
Checkconvertible_132062((*Result_132216).Info, (*Result_132216).Typ, (*Op_132267).Typ);
goto LA7;
LA8: ;
I_132284 = 0;
HEX3Atmp_144938 = 0;
LOC10 = Sonslen_54803(Op_132267);
HEX3Atmp_144938 = (NI64)(LOC10 - 1);
Res_144940 = 0;
Res_144940 = 0;
while (1) {
if (!(Res_144940 <= HEX3Atmp_144938)) goto LA11;
I_132284 = Res_144940;
LOC13 = Sametype_96048((*Result_132216).Typ, (*(*Op_132267).KindU.S6.Sons->data[I_132284]).Typ);
if (!LOC13) goto LA14;
Markused_124065(N_132214, (*(*Op_132267).KindU.S6.Sons->data[I_132284]).KindU.S4.Sym);
Result_132216 = (*Op_132267).KindU.S6.Sons->data[I_132284];
goto BeforeRet;
LA14: ;
Res_144940 += 1;
} LA11: ;
Limessage_46566((*N_132214).Info, ((NU8) 59), (*(*(*(*Op_132267).KindU.S6.Sons->data[0]).KindU.S4.Sym).Name).S);
LA7: ;
BeforeRet: ;
return Result_132216;
}
N_NIMCALL(void, Semopaux_132665)(TY106012* C_132667, TY54525* N_132668) {
NI I_132676;
NI HEX3Atmp_144941;
NI LOC1;
NI Res_144943;
TY54525* A_132689;
TY46536 Info_132711;
TY53011* LOC6;
I_132676 = 0;
HEX3Atmp_144941 = 0;
LOC1 = Sonslen_54803(N_132668);
HEX3Atmp_144941 = (NI64)(LOC1 - 1);
Res_144943 = 0;
Res_144943 = 1;
while (1) {
if (!(Res_144943 <= HEX3Atmp_144941)) goto LA2;
I_132676 = Res_144943;
A_132689 = 0;
A_132689 = (*N_132668).KindU.S6.Sons->data[I_132676];
if (!((*A_132689).Kind == ((NU8) 23))) goto LA4;
Checksonslen_106099(A_132689, 2);
memset((void*)&Info_132711, 0, sizeof(Info_132711));
Info_132711 = (*(*A_132689).KindU.S6.Sons->data[0]).Info;
LOC6 = 0;
LOC6 = Consideracc_124003((*A_132689).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*A_132689).KindU.S6.Sons->data[0], Newidentnode_54730(LOC6, Info_132711));
asgnRefNoCycle((void**) &(*A_132689).KindU.S6.Sons->data[1], Semexprwithtype_124122(C_132667, (*A_132689).KindU.S6.Sons->data[1], 0));
asgnRef((void**) &(*A_132689).Typ, (*(*A_132689).KindU.S6.Sons->data[1]).Typ);
goto LA3;
LA4: ;
asgnRefNoCycle((void**) &(*N_132668).KindU.S6.Sons->data[I_132676], Semexprwithtype_124122(C_132667, A_132689, 0));
LA3: ;
Res_144943 += 1;
} LA2: ;
}
N_NIMCALL(TY54525*, Overloadedcallopr_132784)(TY106012* C_132786, TY54525* N_132787) {
TY54525* Result_132788;
TY53011* Par_132789;
TY54547* LOC2;
TY54525* LOC5;
NI I_132808;
NI HEX3Atmp_144944;
NI LOC6;
NI Res_144946;
Result_132788 = 0;
Par_132789 = 0;
Par_132789 = Getident_53016(((NimStringDesc*) &TMP194195));
LOC2 = 0;
LOC2 = Symtabget_59116((*C_132786).Tab, Par_132789);
if (!(LOC2 == NIM_NIL)) goto LA3;
Result_132788 = NIM_NIL;
goto LA1;
LA3: ;
Result_132788 = Newnodei_54737(((NU8) 21), (*N_132787).Info);
LOC5 = 0;
LOC5 = Newidentnode_54730(Par_132789, (*N_132787).Info);
Addson_54823(Result_132788, LOC5);
I_132808 = 0;
HEX3Atmp_144944 = 0;
LOC6 = Sonslen_54803(N_132787);
HEX3Atmp_144944 = (NI64)(LOC6 - 1);
Res_144946 = 0;
Res_144946 = 0;
while (1) {
if (!(Res_144946 <= HEX3Atmp_144944)) goto LA7;
I_132808 = Res_144946;
Addson_54823(Result_132788, (*N_132787).KindU.S6.Sons->data[I_132808]);
Res_144946 += 1;
} LA7: ;
Result_132788 = Semexpr_124115(C_132786, Result_132788, 0);
LA1: ;
return Result_132788;
}
N_NIMCALL(NimStringDesc*, Getnotfounderror_126179)(TY106012* C_126181, TY54525* N_126182) {
NimStringDesc* Result_126183;
NI I_126191;
NI HEX3Atmp_128752;
NI LOC1;
NI Res_128754;
NimStringDesc* LOC6;
NimStringDesc* LOC7;
NI LOC9;
NimStringDesc* Candidates_126251;
TY107004 O_126252;
TY54547* Sym_126266;
NimStringDesc* LOC16;
NimStringDesc* LOC20;
NimStringDesc* LOC21;
Result_126183 = 0;
Result_126183 = Msgkindtostring_46592(((NU8) 126));
I_126191 = 0;
HEX3Atmp_128752 = 0;
LOC1 = Sonslen_54803(N_126182);
HEX3Atmp_128752 = (NI64)(LOC1 - 1);
Res_128754 = 0;
Res_128754 = 1;
while (1) {
if (!(Res_128754 <= HEX3Atmp_128752)) goto LA2;
I_126191 = Res_128754;
if (!((*(*N_126182).KindU.S6.Sons->data[I_126191]).Kind == ((NU8) 23))) goto LA4;
LOC6 = 0;
LOC6 = Rendertree_84042((*(*N_126182).KindU.S6.Sons->data[I_126191]).KindU.S6.Sons->data[0], 0);
Result_126183 = resizeString(Result_126183, LOC6->Sup.len + 0);
appendString(Result_126183, LOC6);
Result_126183 = resizeString(Result_126183, 2);
appendString(Result_126183, ((NimStringDesc*) &TMP194196));
LA4: ;
LOC7 = 0;
LOC7 = Typetostring_96014((*(*N_126182).KindU.S6.Sons->data[I_126191]).Typ, ((NU8) 0));
Result_126183 = resizeString(Result_126183, LOC7->Sup.len + 0);
appendString(Result_126183, LOC7);
LOC9 = Sonslen_54803(N_126182);
if (!!((I_126191 == (NI64)(LOC9 - 1)))) goto LA10;
Result_126183 = resizeString(Result_126183, 2);
appendString(Result_126183, ((NimStringDesc*) &TMP194197));
LA10: ;
Res_128754 += 1;
} LA2: ;
Result_126183 = addChar(Result_126183, 41);
Candidates_126251 = 0;
Candidates_126251 = copyString(((NimStringDesc*) &TMP193925));
memset((void*)&O_126252, 0, sizeof(O_126252));
Sym_126266 = 0;
Sym_126266 = Initoverloaditer_107058(&O_126252, C_126181, (*N_126182).KindU.S6.Sons->data[0]);
while (1) {
if (!!((Sym_126266 == NIM_NIL))) goto LA12;
if (!((15360 &(1<<(((*Sym_126266).Kind)&31)))!=0)) goto LA14;
LOC16 = 0;
LOC16 = Getprocheader_96018(Sym_126266);
Candidates_126251 = resizeString(Candidates_126251, LOC16->Sup.len + 0);
appendString(Candidates_126251, LOC16);
Candidates_126251 = resizeString(Candidates_126251, 1);
appendString(Candidates_126251, ((NimStringDesc*) &TMP194198));
LA14: ;
Sym_126266 = Nextoverloaditer_107064(&O_126252, C_126181, (*N_126182).KindU.S6.Sons->data[0]);
} LA12: ;
if (!!(((Candidates_126251) && (Candidates_126251)->Sup.len == 0))) goto LA18;
LOC20 = 0;
LOC21 = 0;
LOC21 = Msgkindtostring_46592(((NU8) 127));
LOC20 = rawNewString(LOC21->Sup.len + Candidates_126251->Sup.len + 2);
appendString(LOC20, ((NimStringDesc*) &TMP194198));
appendString(LOC20, LOC21);
appendString(LOC20, ((NimStringDesc*) &TMP194198));
appendString(LOC20, Candidates_126251);
Result_126183 = resizeString(Result_126183, LOC20->Sup.len + 0);
appendString(Result_126183, LOC20);
LA18: ;
return Result_126183;
}
N_NIMCALL(TY54525*, Semdirectop_134522)(TY106012* C_134524, TY54525* N_134525, NU8 Flags_134526) {
TY54525* Result_134527;
NimStringDesc* LOC7;
Result_134527 = 0;
Semopaux_132665(C_134524, N_134525);
Result_134527 = Semdirectcallanalyseeffects_134063(C_134524, N_134525, Flags_134526);
if (!(Result_134527 == NIM_NIL)) goto LA2;
Result_134527 = Overloadedcallopr_132784(C_134524, N_134525);
if (!(Result_134527 == NIM_NIL)) goto LA5;
LOC7 = 0;
LOC7 = Getnotfounderror_126179(C_134524, N_134525);
Limessage_46566((*N_134525).Info, ((NU8) 4), LOC7);
LA5: ;
LA2: ;
Fixabstracttype_133197(C_134524, Result_134527);
Analyseifaddresstakenincall_133893(C_134524, Result_134527);
return Result_134527;
}
N_NIMCALL(TY54547*, Lookupfordefined_134589)(TY106012* C_134591, TY54525* N_134592, NIM_BOOL Onlycurrentscope_134593) {
TY54547* Result_134594;
TY54547* M_134631;
NIM_BOOL LOC8;
TY53011* Ident_134697;
NimStringDesc* LOC18;
Result_134594 = 0;
switch ((*N_134592).Kind) {
case ((NU8) 2):
if (!Onlycurrentscope_134593) goto LA2;
Result_134594 = Symtablocalget_59120((*C_134591).Tab, (*N_134592).KindU.S5.Ident);
goto LA1;
LA2: ;
Result_134594 = Symtabget_59116((*C_134591).Tab, (*N_134592).KindU.S5.Ident);
LA1: ;
break;
case ((NU8) 36):
Result_134594 = NIM_NIL;
if (!Onlycurrentscope_134593) goto LA5;
goto BeforeRet;
LA5: ;
Checksonslen_106099(N_134592, 2);
M_134631 = 0;
M_134631 = Lookupfordefined_134589(C_134591, (*N_134592).KindU.S6.Sons->data[0], Onlycurrentscope_134593);
LOC8 = !((M_134631 == NIM_NIL));
if (!(LOC8)) goto LA9;
LOC8 = ((*M_134631).Kind == ((NU8) 6));
LA9: ;
if (!LOC8) goto LA10;
if (!((*(*N_134592).KindU.S6.Sons->data[1]).Kind == ((NU8) 2))) goto LA13;
Ident_134697 = 0;
Ident_134697 = (*(*N_134592).KindU.S6.Sons->data[1]).KindU.S5.Ident;
if (!(M_134631 == (*C_134591).Module)) goto LA16;
Result_134594 = Strtableget_59066(&(*C_134591).Tab.Stack->data[1], Ident_134697);
goto LA15;
LA16: ;
Result_134594 = Strtableget_59066(&(*M_134631).Tab, Ident_134697);
LA15: ;
goto LA12;
LA13: ;
Limessage_46566((*(*N_134592).KindU.S6.Sons->data[1]).Info, ((NU8) 19), ((NimStringDesc*) &TMP193925));
LA12: ;
LA10: ;
break;
case ((NU8) 43):
Checksonslen_106099(N_134592, 1);
Result_134594 = Lookupfordefined_134589(C_134591, (*N_134592).KindU.S6.Sons->data[0], Onlycurrentscope_134593);
break;
default:
LOC18 = 0;
LOC18 = Rendertree_84042(N_134592, 0);
Limessage_46566((*N_134592).Info, ((NU8) 19), LOC18);
Result_134594 = NIM_NIL;
break;
}
BeforeRet: ;
return Result_134594;
}
N_NIMCALL(TY54525*, Semdefined_134731)(TY106012* C_134733, TY54525* N_134734, NIM_BOOL Onlycurrentscope_134735) {
TY54525* Result_134736;
TY54547* LOC2;
NIM_BOOL LOC5;
NIM_BOOL LOC6;
Result_134736 = 0;
Checksonslen_106099(N_134734, 2);
Result_134736 = Newintnode_54713(((NU8) 6), 0);
LOC2 = 0;
LOC2 = Lookupfordefined_134589(C_134733, (*N_134734).KindU.S6.Sons->data[1], Onlycurrentscope_134735);
if (!!((LOC2 == NIM_NIL))) goto LA3;
(*Result_134736).KindU.S1.Intval = 1;
goto LA1;
LA3: ;
LOC6 = !(Onlycurrentscope_134735);
if (!(LOC6)) goto LA7;
LOC6 = ((*(*N_134734).KindU.S6.Sons->data[1]).Kind == ((NU8) 2));
LA7: ;
LOC5 = LOC6;
if (!(LOC5)) goto LA8;
LOC5 = Isdefined_63059((*(*N_134734).KindU.S6.Sons->data[1]).KindU.S5.Ident);
LA8: ;
if (!LOC5) goto LA9;
(*Result_134736).KindU.S1.Intval = 1;
goto LA1;
LA9: ;
LA1: ;
(*Result_134736).Info = (*N_134734).Info;
asgnRef((void**) &(*Result_134736).Typ, Getsystype_101008(((NU8) 1)));
return Result_134736;
}
N_NIMCALL(TY54525*, Setms_134829)(TY54525* N_134831, TY54547* S_134832) {
TY54525* Result_134833;
Result_134833 = 0;
Result_134833 = N_134831;
asgnRefNoCycle((void**) &(*N_134831).KindU.S6.Sons->data[0], Newsymnode_54734(S_134832));
(*(*N_134831).KindU.S6.Sons->data[0]).Info = (*N_134831).Info;
return Result_134833;
}
N_NIMCALL(TY54525*, Semlowhigh_132433)(TY106012* C_132435, TY54525* N_132436, NU8 M_132437) {
TY54525* Result_132438;
NI LOC2;
TY54551* Typ_132483;
Result_132438 = 0;
LOC2 = Sonslen_54803(N_132436);
if (!!((LOC2 == 2))) goto LA3;
Limessage_46566((*N_132436).Info, ((NU8) 66), Optostr_132439[(M_132437)-3]);
goto LA1;
LA3: ;
asgnRefNoCycle((void**) &(*N_132436).KindU.S6.Sons->data[1], Semexprwithtype_124122(C_132435, (*N_132436).KindU.S6.Sons->data[1], 1));
Typ_132483 = 0;
Typ_132483 = Skiptypes_96087((*(*N_132436).KindU.S6.Sons->data[1]).Typ, 9480192);
switch ((*Typ_132483).Kind) {
case ((NU8) 24):
case ((NU8) 28):
case ((NU8) 27):
asgnRef((void**) &(*N_132436).Typ, Getsystype_101008(((NU8) 31)));
break;
case ((NU8) 4):
case ((NU8) 16):
asgnRef((void**) &(*N_132436).Typ, (*(*(*N_132436).KindU.S6.Sons->data[1]).Typ).Sons->data[0]);
break;
case ((NU8) 31) ... ((NU8) 35):
case ((NU8) 2):
case ((NU8) 1):
case ((NU8) 14):
asgnRef((void**) &(*N_132436).Typ, (*(*N_132436).KindU.S6.Sons->data[1]).Typ);
break;
default:
Limessage_46566((*N_132436).Info, ((NU8) 64), Optostr_132439[(M_132437)-3]);
break;
}
LA1: ;
Result_132438 = N_132436;
return Result_132438;
}
N_NIMCALL(TY54525*, Semsizeof_132508)(TY106012* C_132510, TY54525* N_132511) {
TY54525* Result_132512;
NI LOC2;
Result_132512 = 0;
LOC2 = Sonslen_54803(N_132511);
if (!!((LOC2 == 2))) goto LA3;
Limessage_46566((*N_132511).Info, ((NU8) 66), ((NimStringDesc*) &TMP194201));
goto LA1;
LA3: ;
asgnRefNoCycle((void**) &(*N_132511).KindU.S6.Sons->data[1], Semexprwithtype_124122(C_132510, (*N_132511).KindU.S6.Sons->data[1], 1));
LA1: ;
asgnRef((void**) &(*N_132511).Typ, Getsystype_101008(((NU8) 31)));
Result_132512 = N_132511;
return Result_132512;
}
N_NIMCALL(TY54525*, Semis_132540)(TY106012* C_132542, TY54525* N_132543) {
TY54525* Result_132544;
NI LOC2;
TY54551* A_132609;
TY54551* B_132622;
NIM_BOOL LOC6;
NIM_BOOL LOC11;
NimStringDesc* LOC16;
Result_132544 = 0;
LOC2 = Sonslen_54803(N_132543);
if (!(LOC2 == 3)) goto LA3;
asgnRefNoCycle((void**) &(*N_132543).KindU.S6.Sons->data[1], Semexprwithtype_124122(C_132542, (*N_132543).KindU.S6.Sons->data[1], 1));
asgnRefNoCycle((void**) &(*N_132543).KindU.S6.Sons->data[2], Semexprwithtype_124122(C_132542, (*N_132543).KindU.S6.Sons->data[2], 1));
A_132609 = 0;
A_132609 = (*(*N_132543).KindU.S6.Sons->data[1]).Typ;
B_132622 = 0;
B_132622 = (*(*N_132543).KindU.S6.Sons->data[2]).Typ;
LOC6 = !(((*B_132622).Kind == ((NU8) 17)));
if (LOC6) goto LA7;
LOC6 = !(((*A_132609).Kind == ((NU8) 17)));
LA7: ;
if (!LOC6) goto LA8;
Limessage_46566((*N_132543).Info, ((NU8) 194), ((NimStringDesc*) &TMP193925));
LA8: ;
while (1) {
LOC11 = !((B_132622 == NIM_NIL));
if (!(LOC11)) goto LA12;
LOC11 = !(((*B_132622).Sup.Id == (*A_132609).Sup.Id));
LA12: ;
if (!LOC11) goto LA10;
B_132622 = (*B_132622).Sons->data[0];
} LA10: ;
if (!(B_132622 == NIM_NIL)) goto LA14;
LOC16 = 0;
LOC16 = Typetostring_96014(A_132609, ((NU8) 0));
Limessage_46566((*N_132543).Info, ((NU8) 195), LOC16);
LA14: ;
asgnRef((void**) &(*N_132543).Typ, Getsystype_101008(((NU8) 1)));
goto LA1;
LA3: ;
Limessage_46566((*N_132543).Info, ((NU8) 193), ((NimStringDesc*) &TMP193925));
LA1: ;
Result_132544 = N_132543;
return Result_132544;
}
N_NIMCALL(TY54525*, Semecho_134550)(TY106012* C_134552, TY54525* N_134553) {
TY54525* Result_134554;
NI I_134562;
NI HEX3Atmp_144974;
NI LOC1;
NI Res_144976;
TY54525* Arg_134575;
TY54525* Call_134576;
TY53011* LOC3;
TY54525* LOC4;
Result_134554 = 0;
Checkminsonslen_106103(N_134553, 1);
I_134562 = 0;
HEX3Atmp_144974 = 0;
LOC1 = Sonslen_54803(N_134553);
HEX3Atmp_144974 = (NI64)(LOC1 - 1);
Res_144976 = 0;
Res_144976 = 1;
while (1) {
if (!(Res_144976 <= HEX3Atmp_144974)) goto LA2;
I_134562 = Res_144976;
Arg_134575 = 0;
Arg_134575 = Semexprwithtype_124122(C_134552, (*N_134553).KindU.S6.Sons->data[I_134562], 0);
Call_134576 = 0;
Call_134576 = Newnodei_54737(((NU8) 21), (*Arg_134575).Info);
LOC3 = 0;
LOC3 = Getident_53016(((NimStringDesc*) &TMP194202));
LOC4 = 0;
LOC4 = Newidentnode_54730(LOC3, (*N_134553).Info);
Addson_54823(Call_134576, LOC4);
Addson_54823(Call_134576, Arg_134575);
asgnRefNoCycle((void**) &(*N_134553).KindU.S6.Sons->data[I_134562], Semexpr_124115(C_134552, Call_134576, 0));
Res_144976 += 1;
} LA2: ;
Result_134554 = N_134553;
return Result_134554;
}
N_NIMCALL(TY54525*, Semmagic_134858)(TY106012* C_134860, TY54525* N_134861, TY54547* S_134862, NU8 Flags_134863) {
TY54525* Result_134864;
TY54525* LOC1;
TY54525* LOC2;
TY54525* LOC3;
TY54525* LOC4;
TY54525* LOC5;
TY54525* LOC6;
TY54525* LOC7;
Result_134864 = 0;
Result_134864 = N_134861;
switch ((*S_134862).Magic) {
case ((NU8) 1):
LOC1 = 0;
LOC1 = Setms_134829(N_134861, S_134862);
Result_134864 = Semdefined_134731(C_134860, LOC1, NIM_FALSE);
break;
case ((NU8) 2):
LOC2 = 0;
LOC2 = Setms_134829(N_134861, S_134862);
Result_134864 = Semdefined_134731(C_134860, LOC2, NIM_TRUE);
break;
case ((NU8) 3):
LOC3 = 0;
LOC3 = Setms_134829(N_134861, S_134862);
Result_134864 = Semlowhigh_132433(C_134860, LOC3, ((NU8) 3));
break;
case ((NU8) 4):
LOC4 = 0;
LOC4 = Setms_134829(N_134861, S_134862);
Result_134864 = Semlowhigh_132433(C_134860, LOC4, ((NU8) 4));
break;
case ((NU8) 5):
LOC5 = 0;
LOC5 = Setms_134829(N_134861, S_134862);
Result_134864 = Semsizeof_132508(C_134860, LOC5);
break;
case ((NU8) 6):
LOC6 = 0;
LOC6 = Setms_134829(N_134861, S_134862);
Result_134864 = Semis_132540(C_134860, LOC6);
break;
case ((NU8) 7):
LOC7 = 0;
LOC7 = Setms_134829(N_134861, S_134862);
Result_134864 = Semecho_134550(C_134860, LOC7);
break;
default:
Result_134864 = Semdirectop_134522(C_134860, N_134861, Flags_134863);
break;
}
return Result_134864;
}
N_NIMCALL(TY54525*, Semindirectop_134208)(TY106012* C_134210, TY54525* N_134211, NU8 Flags_134212) {
TY54525* Result_134213;
TY54525* Prc_134226;
NI I_134324;
NI HEX3Atmp_144968;
NI LOC7;
NI Res_144970;
TY54551* T_134361;
NIM_BOOL LOC13;
TY126030 M_134417;
NimStringDesc* Msg_134429;
NI I_134437;
NI HEX3Atmp_144971;
NI LOC20;
NI Res_144973;
NimStringDesc* LOC25;
NimStringDesc* LOC26;
NimStringDesc* LOC27;
NimStringDesc* LOC28;
NimStringDesc* LOC38;
Result_134213 = 0;
Result_134213 = NIM_NIL;
Prc_134226 = 0;
Prc_134226 = (*N_134211).KindU.S6.Sons->data[0];
Checkminsonslen_106103(N_134211, 1);
if (!((*(*N_134211).KindU.S6.Sons->data[0]).Kind == ((NU8) 36))) goto LA2;
Checksonslen_106099((*N_134211).KindU.S6.Sons->data[0], 2);
asgnRefNoCycle((void**) &(*N_134211).KindU.S6.Sons->data[0], Semfieldaccess_131908(C_134210, (*N_134211).KindU.S6.Sons->data[0], 0));
if (!((*(*N_134211).KindU.S6.Sons->data[0]).Kind == ((NU8) 19))) goto LA5;
Result_134213 = (*N_134211).KindU.S6.Sons->data[0];
(*Result_134213).Kind = ((NU8) 21);
I_134324 = 0;
HEX3Atmp_144968 = 0;
LOC7 = Sonslen_54803(N_134211);
HEX3Atmp_144968 = (NI64)(LOC7 - 1);
Res_144970 = 0;
Res_144970 = 1;
while (1) {
if (!(Res_144970 <= HEX3Atmp_144968)) goto LA8;
I_134324 = Res_144970;
Addson_54823(Result_134213, (*N_134211).KindU.S6.Sons->data[I_134324]);
Res_144970 += 1;
} LA8: ;
Result_134213 = Semexpr_124115(C_134210, Result_134213, Flags_134212);
goto BeforeRet;
LA5: ;
goto LA1;
LA2: ;
asgnRefNoCycle((void**) &(*N_134211).KindU.S6.Sons->data[0], Semexpr_124115(C_134210, (*N_134211).KindU.S6.Sons->data[0], 0));
LA1: ;
Semopaux_132665(C_134210, N_134211);
T_134361 = 0;
T_134361 = NIM_NIL;
if (!!(((*(*N_134211).KindU.S6.Sons->data[0]).Typ == NIM_NIL))) goto LA10;
T_134361 = Skiptypes_96087((*(*N_134211).KindU.S6.Sons->data[0]).Typ, 43008);
LA10: ;
LOC13 = !((T_134361 == NIM_NIL));
if (!(LOC13)) goto LA14;
LOC13 = ((*T_134361).Kind == ((NU8) 25));
LA14: ;
if (!LOC13) goto LA15;
memset((void*)&M_134417, 0, sizeof(M_134417));
Initcandidate_126058(&M_134417, T_134361);
Matches_127903(C_134210, N_134211, &M_134417);
if (!!((M_134417.State == ((NU8) 1)))) goto LA18;
Msg_134429 = 0;
Msg_134429 = Msgkindtostring_46592(((NU8) 126));
I_134437 = 0;
HEX3Atmp_144971 = 0;
LOC20 = Sonslen_54803(N_134211);
HEX3Atmp_144971 = (NI64)(LOC20 - 1);
Res_144973 = 0;
Res_144973 = 1;
while (1) {
if (!(Res_144973 <= HEX3Atmp_144971)) goto LA21;
I_134437 = Res_144973;
if (!(1 < I_134437)) goto LA23;
Msg_134429 = resizeString(Msg_134429, 2);
appendString(Msg_134429, ((NimStringDesc*) &TMP194197));
LA23: ;
LOC25 = 0;
LOC25 = Typetostring_96014((*(*N_134211).KindU.S6.Sons->data[I_134437]).Typ, ((NU8) 0));
Msg_134429 = resizeString(Msg_134429, LOC25->Sup.len + 0);
appendString(Msg_134429, LOC25);
Res_144973 += 1;
} LA21: ;
LOC26 = 0;
LOC27 = 0;
LOC27 = Msgkindtostring_46592(((NU8) 127));
LOC28 = 0;
LOC28 = Typetostring_96014((*(*N_134211).KindU.S6.Sons->data[0]).Typ, ((NU8) 0));
LOC26 = rawNewString(LOC27->Sup.len + LOC28->Sup.len + 3);
appendString(LOC26, ((NimStringDesc*) &TMP194203));
appendString(LOC26, LOC27);
appendString(LOC26, ((NimStringDesc*) &TMP194198));
appendString(LOC26, LOC28);
Msg_134429 = resizeString(Msg_134429, LOC26->Sup.len + 0);
appendString(Msg_134429, LOC26);
Limessage_46566((*N_134211).Info, ((NU8) 4), Msg_134429);
Result_134213 = NIM_NIL;
goto LA17;
LA18: ;
Result_134213 = M_134417.Call;
LA17: ;
if (!!((((*T_134361).Flags &(1<<((((NU8) 1))&7)))!=0))) goto LA30;
(*(*(*C_134210).P).Owner).Flags |=(1<<((NI32)(((NU8) 14))%(sizeof(NI32)*8)));
LA30: ;
goto LA12;
LA15: ;
Result_134213 = Overloadedcallopr_132784(C_134210, N_134211);
if (!(Result_134213 == NIM_NIL)) goto LA33;
asgnRefNoCycle((void**) &(*N_134211).KindU.S6.Sons->data[0], Prc_134226);
Result_134213 = Semdirectcallanalyseeffects_134063(C_134210, N_134211, Flags_134212);
LA33: ;
if (!(Result_134213 == NIM_NIL)) goto LA36;
LOC38 = 0;
LOC38 = Rendertree_84042(N_134211, 4);
Limessage_46566((*N_134211).Info, ((NU8) 85), LOC38);
LA36: ;
LA12: ;
Fixabstracttype_133197(C_134210, Result_134213);
Analyseifaddresstakenincall_133893(C_134210, Result_134213);
BeforeRet: ;
return Result_134213;
}
N_NIMCALL(TY54525*, Partialspecialization_125989)(TY106012* C_125991, TY54525* N_125992, TY54547* S_125993) {
TY54525* Result_125994;
NI I_126002;
NI HEX3Atmp_128746;
NI LOC1;
NI Res_128748;
Result_125994 = 0;
I_126002 = 0;
HEX3Atmp_128746 = 0;
LOC1 = Sonslen_54803(N_125992);
HEX3Atmp_128746 = (NI64)(LOC1 - 1);
Res_128748 = 0;
Res_128748 = 1;
while (1) {
if (!(Res_128748 <= HEX3Atmp_128746)) goto LA2;
I_126002 = Res_128748;
asgnRef((void**) &(*(*N_125992).KindU.S6.Sons->data[I_126002]).Typ, Semtypenode_124138(C_125991, (*N_125992).KindU.S6.Sons->data[I_126002], NIM_NIL));
Res_128748 += 1;
} LA2: ;
Result_125994 = N_125992;
return Result_125994;
}
N_NIMCALL(TY54525*, Semarrayaccess_135991)(TY106012* C_135993, TY54525* N_135994, NU8 Flags_135995) {
TY54525* Result_135996;
TY54525* LOC4;
Result_135996 = 0;
Result_135996 = Semsubscript_135721(C_135993, N_135994, Flags_135995);
if (!(Result_135996 == NIM_NIL)) goto LA2;
LOC4 = 0;
LOC4 = Buildoverloadedsubscripts_135681(N_135994, NIM_FALSE);
Result_135996 = Semexpr_124115(C_135993, LOC4, 0);
LA2: ;
return Result_135996;
}
N_NIMCALL(NU8, Checkpar_136769)(TY54525* N_136771) {
NU8 Result_136772;
NI Length_136773;
NI I_136806;
NI HEX3Atmp_145004;
NI Res_145006;
NIM_BOOL LOC14;
Result_136772 = 0;
Length_136773 = 0;
Length_136773 = Sonslen_54803(N_136771);
if (!(Length_136773 == 0)) goto LA2;
Result_136772 = ((NU8) 3);
goto LA1;
LA2: ;
if (!(Length_136773 == 1)) goto LA4;
Result_136772 = ((NU8) 1);
goto LA1;
LA4: ;
if (!((*(*N_136771).KindU.S6.Sons->data[0]).Kind == ((NU8) 24))) goto LA7;
Result_136772 = ((NU8) 2);
goto LA6;
LA7: ;
Result_136772 = ((NU8) 3);
LA6: ;
I_136806 = 0;
HEX3Atmp_145004 = 0;
HEX3Atmp_145004 = (NI64)(Length_136773 - 1);
Res_145006 = 0;
Res_145006 = 0;
while (1) {
if (!(Res_145006 <= HEX3Atmp_145004)) goto LA9;
I_136806 = Res_145006;
if (!(Result_136772 == ((NU8) 2))) goto LA11;
LOC14 = !(((*(*N_136771).KindU.S6.Sons->data[I_136806]).Kind == ((NU8) 24)));
if (LOC14) goto LA15;
LOC14 = !(((*(*(*N_136771).KindU.S6.Sons->data[I_136806]).KindU.S6.Sons->data[0]).Kind == ((NU8) 3) || (*(*(*N_136771).KindU.S6.Sons->data[I_136806]).KindU.S6.Sons->data[0]).Kind == ((NU8) 2)));
LA15: ;
if (!LOC14) goto LA16;
Limessage_46566((*(*N_136771).KindU.S6.Sons->data[I_136806]).Info, ((NU8) 168), ((NimStringDesc*) &TMP193925));
Result_136772 = ((NU8) 0);
goto BeforeRet;
LA16: ;
goto LA10;
LA11: ;
if (!((*(*N_136771).KindU.S6.Sons->data[I_136806]).Kind == ((NU8) 24))) goto LA19;
Limessage_46566((*(*N_136771).KindU.S6.Sons->data[I_136806]).Info, ((NU8) 169), ((NimStringDesc*) &TMP193925));
Result_136772 = ((NU8) 0);
goto BeforeRet;
LA19: ;
LA10: ;
Res_145006 += 1;
} LA9: ;
LA1: ;
BeforeRet: ;
return Result_136772;
}
N_NIMCALL(TY54525*, Semtuplepositionsconstr_137255)(TY106012* C_137257, TY54525* N_137258) {
TY54525* Result_137259;
TY54551* Typ_137260;
NI I_137268;
NI HEX3Atmp_145010;
NI LOC1;
NI Res_145012;
Result_137259 = 0;
Result_137259 = N_137258;
Typ_137260 = 0;
Typ_137260 = Newtypes_106077(((NU8) 18), C_137257);
I_137268 = 0;
HEX3Atmp_145010 = 0;
LOC1 = Sonslen_54803(N_137258);
HEX3Atmp_145010 = (NI64)(LOC1 - 1);
Res_145012 = 0;
Res_145012 = 0;
while (1) {
if (!(Res_145012 <= HEX3Atmp_145010)) goto LA2;
I_137268 = Res_145012;
asgnRefNoCycle((void**) &(*N_137258).KindU.S6.Sons->data[I_137268], Semexprwithtype_124122(C_137257, (*N_137258).KindU.S6.Sons->data[I_137268], 0));
Addson_54827(Typ_137260, (*(*N_137258).KindU.S6.Sons->data[I_137268]).Typ);
Res_145012 += 1;
} LA2: ;
asgnRef((void**) &(*Result_137259).Typ, Typ_137260);
return Result_137259;
}
N_NIMCALL(TY54525*, Semtuplefieldsconstr_136918)(TY106012* C_136920, TY54525* N_136921) {
TY54525* Result_136922;
TY54900 Ids_136923;
TY54551* Typ_136924;
NI I_136933;
NI HEX3Atmp_145007;
NI LOC1;
NI Res_145009;
NIM_BOOL LOC4;
TY53011* Id_137003;
NIM_BOOL LOC12;
TY54547* F_137194;
TY54525* LOC15;
Result_136922 = 0;
memset((void*)&Ids_136923, 0, sizeof(Ids_136923));
Result_136922 = Newnodei_54737(((NU8) 30), (*N_136921).Info);
Typ_136924 = 0;
Typ_136924 = Newtypes_106077(((NU8) 18), C_136920);
asgnRefNoCycle((void**) &(*Typ_136924).N, Newnodei_54737(((NU8) 113), (*N_136921).Info));
Intsetinit_54924(&Ids_136923);
I_136933 = 0;
HEX3Atmp_145007 = 0;
LOC1 = Sonslen_54803(N_136921);
HEX3Atmp_145007 = (NI64)(LOC1 - 1);
Res_145009 = 0;
Res_145009 = 0;
while (1) {
if (!(Res_145009 <= HEX3Atmp_145007)) goto LA2;
I_136933 = Res_145009;
LOC4 = !(((*(*N_136921).KindU.S6.Sons->data[I_136933]).Kind == ((NU8) 24)));
if (LOC4) goto LA5;
LOC4 = !(((*(*(*N_136921).KindU.S6.Sons->data[I_136933]).KindU.S6.Sons->data[0]).Kind == ((NU8) 3) || (*(*(*N_136921).KindU.S6.Sons->data[I_136933]).KindU.S6.Sons->data[0]).Kind == ((NU8) 2)));
LA5: ;
if (!LOC4) goto LA6;
Illformedast_106092((*N_136921).KindU.S6.Sons->data[I_136933]);
LA6: ;
Id_137003 = 0;
if (!((*(*(*N_136921).KindU.S6.Sons->data[I_136933]).KindU.S6.Sons->data[0]).Kind == ((NU8) 2))) goto LA9;
Id_137003 = (*(*(*N_136921).KindU.S6.Sons->data[I_136933]).KindU.S6.Sons->data[0]).KindU.S5.Ident;
goto LA8;
LA9: ;
Id_137003 = (*(*(*(*N_136921).KindU.S6.Sons->data[I_136933]).KindU.S6.Sons->data[0]).KindU.S4.Sym).Name;
LA8: ;
LOC12 = Intsetcontainsorincl_54928(&Ids_136923, (*Id_137003).Sup.Id);
if (!LOC12) goto LA13;
Limessage_46566((*(*N_136921).KindU.S6.Sons->data[I_136933]).Info, ((NU8) 83), (*Id_137003).S);
LA13: ;
asgnRefNoCycle((void**) &(*(*N_136921).KindU.S6.Sons->data[I_136933]).KindU.S6.Sons->data[1], Semexprwithtype_124122(C_136920, (*(*N_136921).KindU.S6.Sons->data[I_136933]).KindU.S6.Sons->data[1], 0));
F_137194 = 0;
F_137194 = Newsyms_124059(((NU8) 16), (*(*N_136921).KindU.S6.Sons->data[I_136933]).KindU.S6.Sons->data[0], C_136920);
asgnRef((void**) &(*F_137194).Typ, (*(*(*N_136921).KindU.S6.Sons->data[I_136933]).KindU.S6.Sons->data[1]).Typ);
Addson_54827(Typ_136924, (*F_137194).Typ);
LOC15 = 0;
LOC15 = Newsymnode_54734(F_137194);
Addson_54823((*Typ_136924).N, LOC15);
asgnRefNoCycle((void**) &(*(*N_136921).KindU.S6.Sons->data[I_136933]).KindU.S6.Sons->data[0], Newsymnode_54734(F_137194));
Addson_54823(Result_136922, (*N_136921).KindU.S6.Sons->data[I_136933]);
Res_145009 += 1;
} LA2: ;
asgnRef((void**) &(*Result_136922).Typ, Typ_136924);
return Result_136922;
}
N_NIMCALL(TY54525*, Semsetconstr_136394)(TY106012* C_136396, TY54525* N_136397) {
TY54525* Result_136398;
NI LOC2;
TY54551* LOC5;
TY54551* Typ_136401;
NI I_136409;
NI HEX3Atmp_144998;
NI LOC6;
NI Res_145000;
NIM_BOOL LOC18;
NI64 LOC22;
NI I_136668;
NI HEX3Atmp_145001;
NI LOC25;
NI Res_145003;
TY54525* M_136669;
TY54525* LOC30;
TY54525* LOC31;
Result_136398 = 0;
Result_136398 = Newnodei_54737(((NU8) 31), (*N_136397).Info);
asgnRef((void**) &(*Result_136398).Typ, Newtypes_106077(((NU8) 19), C_136396));
LOC2 = Sonslen_54803(N_136397);
if (!(LOC2 == 0)) goto LA3;
LOC5 = 0;
LOC5 = Newtypes_106077(((NU8) 3), C_136396);
Addson_54827((*Result_136398).Typ, LOC5);
goto LA1;
LA3: ;
Typ_136401 = 0;
Typ_136401 = NIM_NIL;
I_136409 = 0;
HEX3Atmp_144998 = 0;
LOC6 = Sonslen_54803(N_136397);
HEX3Atmp_144998 = (NI64)(LOC6 - 1);
Res_145000 = 0;
Res_145000 = 0;
while (1) {
if (!(Res_145000 <= HEX3Atmp_144998)) goto LA7;
I_136409 = Res_145000;
if (!((*(*N_136397).KindU.S6.Sons->data[I_136409]).Kind == ((NU8) 35))) goto LA9;
Checksonslen_106099((*N_136397).KindU.S6.Sons->data[I_136409], 2);
asgnRefNoCycle((void**) &(*(*N_136397).KindU.S6.Sons->data[I_136409]).KindU.S6.Sons->data[0], Semexprwithtype_124122(C_136396, (*(*N_136397).KindU.S6.Sons->data[I_136409]).KindU.S6.Sons->data[0], 0));
asgnRefNoCycle((void**) &(*(*N_136397).KindU.S6.Sons->data[I_136409]).KindU.S6.Sons->data[1], Semexprwithtype_124122(C_136396, (*(*N_136397).KindU.S6.Sons->data[I_136409]).KindU.S6.Sons->data[1], 0));
if (!(Typ_136401 == NIM_NIL)) goto LA12;
Typ_136401 = Skiptypes_96087((*(*(*N_136397).KindU.S6.Sons->data[I_136409]).KindU.S6.Sons->data[0]).Typ, 8423424);
LA12: ;
asgnRef((void**) &(*(*N_136397).KindU.S6.Sons->data[I_136409]).Typ, (*(*(*N_136397).KindU.S6.Sons->data[I_136409]).KindU.S6.Sons->data[1]).Typ);
goto LA8;
LA9: ;
asgnRefNoCycle((void**) &(*N_136397).KindU.S6.Sons->data[I_136409], Semexprwithtype_124122(C_136396, (*N_136397).KindU.S6.Sons->data[I_136409], 0));
if (!(Typ_136401 == NIM_NIL)) goto LA15;
Typ_136401 = Skiptypes_96087((*(*N_136397).KindU.S6.Sons->data[I_136409]).Typ, 8423424);
LA15: ;
LA8: ;
Res_145000 += 1;
} LA7: ;
LOC18 = Isordinaltype_96069(Typ_136401);
if (!!(LOC18)) goto LA19;
Limessage_46566((*N_136397).Info, ((NU8) 71), ((NimStringDesc*) &TMP193925));
goto BeforeRet;
LA19: ;
LOC22 = Lengthord_96007(Typ_136401);
if (!(65536 < LOC22)) goto LA23;
Typ_136401 = Makerangetype_106086(C_136396, 0, 65535, (*N_136397).Info);
LA23: ;
Addson_54827((*Result_136398).Typ, Typ_136401);
I_136668 = 0;
HEX3Atmp_145001 = 0;
LOC25 = Sonslen_54803(N_136397);
HEX3Atmp_145001 = (NI64)(LOC25 - 1);
Res_145003 = 0;
Res_145003 = 0;
while (1) {
if (!(Res_145003 <= HEX3Atmp_145001)) goto LA26;
I_136668 = Res_145003;
M_136669 = 0;
if (!((*(*N_136397).KindU.S6.Sons->data[I_136668]).Kind == ((NU8) 35))) goto LA28;
M_136669 = Newnodei_54737(((NU8) 35), (*(*N_136397).KindU.S6.Sons->data[I_136668]).Info);
LOC30 = 0;
LOC30 = Fitnode_124129(C_136396, Typ_136401, (*(*N_136397).KindU.S6.Sons->data[I_136668]).KindU.S6.Sons->data[0]);
Addson_54823(M_136669, LOC30);
LOC31 = 0;
LOC31 = Fitnode_124129(C_136396, Typ_136401, (*(*N_136397).KindU.S6.Sons->data[I_136668]).KindU.S6.Sons->data[1]);
Addson_54823(M_136669, LOC31);
goto LA27;
LA28: ;
M_136669 = Fitnode_124129(C_136396, Typ_136401, (*N_136397).KindU.S6.Sons->data[I_136668]);
LA27: ;
Addson_54823(Result_136398, M_136669);
Res_145003 += 1;
} LA26: ;
LA1: ;
BeforeRet: ;
return Result_136398;
}
N_NIMCALL(TY54525*, Semlambda_124134)(TY106012* C_124136, TY54525* N_124137) {
TY54525* Result_143482;
TY54547* S_143483;
TY53011* LOC1;
TY54547* LOC2;
TY106006* Oldp_143484;
Result_143482 = 0;
Result_143482 = N_124137;
Checksonslen_106099(N_124137, 5);
S_143483 = 0;
LOC1 = 0;
LOC1 = Getident_53016(((NimStringDesc*) &TMP194205));
LOC2 = 0;
LOC2 = Getcurrowner_106107();
S_143483 = Newsym_54701(((NU8) 10), LOC1, LOC2);
(*S_143483).Info = (*N_124137).Info;
Oldp_143484 = 0;
Oldp_143484 = (*C_124136).P;
asgnRefNoCycle((void**) &(*S_143483).Ast, N_124137);
asgnRefNoCycle((void**) &(*N_124137).KindU.S6.Sons->data[0], Newsymnode_54734(S_143483));
Pushowner_106109(S_143483);
Openscope_59146(&(*C_124136).Tab);
if (!!(((*N_124137).KindU.S6.Sons->data[1] == NIM_NIL))) goto LA4;
Illformedast_106092(N_124137);
LA4: ;
if (!!(((*N_124137).KindU.S6.Sons->data[2] == NIM_NIL))) goto LA7;
Semparamlist_124147(C_124136, (*N_124137).KindU.S6.Sons->data[2], NIM_NIL, S_143483);
Addparams_124153(C_124136, (*(*S_143483).Typ).N);
goto LA6;
LA7: ;
asgnRef((void**) &(*S_143483).Typ, Newtypes_106077(((NU8) 25), C_124136));
Addson_54827((*S_143483).Typ, NIM_NIL);
LA6: ;
(*(*S_143483).Typ).Callconv = ((NU8) 8);
if (!!(((*N_124137).KindU.S6.Sons->data[3] == NIM_NIL))) goto LA10;
Pragma_121028(C_124136, S_143483, (*N_124137).KindU.S6.Sons->data[3], TMP194206);
LA10: ;
(*S_143483).Options = Goptions_45076;
if (!!(((*N_124137).KindU.S6.Sons->data[4] == NIM_NIL))) goto LA13;
if (!(((*S_143483).Flags &(1<<((((NU8) 7))&31)))!=0)) goto LA16;
Limessage_46566((*(*N_124137).KindU.S6.Sons->data[4]).Info, ((NU8) 134), (*(*S_143483).Name).S);
LA16: ;
asgnRefNoCycle((void**) &(*C_124136).P, Newproccon_106050(S_143483));
Addresult_124157(C_124136, (*(*S_143483).Typ).Sons->data[0], (*N_124137).Info);
asgnRefNoCycle((void**) &(*N_124137).KindU.S6.Sons->data[4], Semstmtscope_124104(C_124136, (*N_124137).KindU.S6.Sons->data[4]));
Addresultnode_124162(C_124136, N_124137);
goto LA12;
LA13: ;
Limessage_46566((*N_124137).Info, ((NU8) 135), (*(*S_143483).Name).S);
LA12: ;
Closescope_107017(&(*C_124136).Tab);
Popowner_106112();
asgnRefNoCycle((void**) &(*C_124136).P, Oldp_143484);
asgnRef((void**) &(*Result_143482).Typ, (*S_143483).Typ);
return Result_143482;
}
N_NIMCALL(NIM_BOOL, Iscastable_132174)(TY54551* Dst_132176, TY54551* Src_132177) {
NIM_BOOL Result_132178;
NI64 Ds_132179;
NI64 Ss_132180;
NIM_BOOL LOC6;
NIM_BOOL LOC7;
TY54551* LOC9;
TY54551* LOC11;
Result_132178 = 0;
Ds_132179 = 0;
Ss_132180 = 0;
Ds_132179 = Computesize_96112(Dst_132176);
Ss_132180 = Computesize_96112(Src_132177);
if (!(Ds_132179 < 0)) goto LA2;
Result_132178 = NIM_FALSE;
goto LA1;
LA2: ;
if (!(Ss_132180 < 0)) goto LA4;
Result_132178 = NIM_FALSE;
goto LA1;
LA4: ;
LOC7 = (Ss_132180 <= Ds_132179);
if (LOC7) goto LA8;
LOC9 = 0;
LOC9 = Skiptypes_96087(Dst_132176, 43008);
LOC7 = ((IL64(1097364144128) &(IL64(1)<<(((*LOC9).Kind)&IL64(63))))!=0);
LA8: ;
LOC6 = LOC7;
if (LOC6) goto LA10;
LOC11 = 0;
LOC11 = Skiptypes_96087(Src_132177, 43008);
LOC6 = ((IL64(1097364144128) &(IL64(1)<<(((*LOC11).Kind)&IL64(63))))!=0);
LA10: ;
Result_132178 = LOC6;
LA1: ;
return Result_132178;
}
N_NIMCALL(TY54525*, Semcast_132357)(TY106012* C_132359, TY54525* N_132360) {
TY54525* Result_132361;
TY54525* LOC4;
TY54525* LOC5;
NIM_BOOL LOC7;
NimStringDesc* LOC10;
Result_132361 = 0;
if (!((Gglobaloptions_45078 &(1<<((((NU8) 8))&31)))!=0)) goto LA2;
Limessage_46566((*N_132360).Info, ((NU8) 88), ((NimStringDesc*) &TMP193925));
LA2: ;
(*(*(*C_132359).P).Owner).Flags |=(1<<((NI32)(((NU8) 14))%(sizeof(NI32)*8)));
Checksonslen_106099(N_132360, 2);
Result_132361 = Newnodei_54737(((NU8) 51), (*N_132360).Info);
asgnRef((void**) &(*Result_132361).Typ, Semtypenode_124138(C_132359, (*N_132360).KindU.S6.Sons->data[0], NIM_NIL));
LOC4 = 0;
LOC4 = Copytree_54858((*N_132360).KindU.S6.Sons->data[0]);
Addson_54823(Result_132361, LOC4);
LOC5 = 0;
LOC5 = Semexprwithtype_124122(C_132359, (*N_132360).KindU.S6.Sons->data[1], 0);
Addson_54823(Result_132361, LOC5);
LOC7 = Iscastable_132174((*Result_132361).Typ, (*(*Result_132361).KindU.S6.Sons->data[1]).Typ);
if (!!(LOC7)) goto LA8;
LOC10 = 0;
LOC10 = Typetostring_96014((*Result_132361).Typ, ((NU8) 0));
Limessage_46566((*Result_132361).Info, ((NU8) 89), LOC10);
LA8: ;
return Result_132361;
}
N_NIMCALL(TY54525*, Semifexpr_136201)(TY106012* C_136203, TY54525* N_136204) {
TY54525* Result_136205;
TY54551* Typ_136206;
NI I_136214;
NI HEX3Atmp_144995;
NI LOC1;
NI Res_144997;
TY54525* It_136227;
Result_136205 = 0;
Result_136205 = N_136204;
Checkminsonslen_106103(N_136204, 2);
Typ_136206 = 0;
Typ_136206 = NIM_NIL;
I_136214 = 0;
HEX3Atmp_144995 = 0;
LOC1 = Sonslen_54803(N_136204);
HEX3Atmp_144995 = (NI64)(LOC1 - 1);
Res_144997 = 0;
Res_144997 = 0;
while (1) {
if (!(Res_144997 <= HEX3Atmp_144995)) goto LA2;
I_136214 = Res_144997;
It_136227 = 0;
It_136227 = (*N_136204).KindU.S6.Sons->data[I_136214];
switch ((*It_136227).Kind) {
case ((NU8) 40):
Checksonslen_106099(It_136227, 2);
asgnRefNoCycle((void**) &(*It_136227).KindU.S6.Sons->data[0], Semexprwithtype_124122(C_136203, (*It_136227).KindU.S6.Sons->data[0], 0));
Checkbool_128779((*It_136227).KindU.S6.Sons->data[0]);
asgnRefNoCycle((void**) &(*It_136227).KindU.S6.Sons->data[1], Semexprwithtype_124122(C_136203, (*It_136227).KindU.S6.Sons->data[1], 0));
if (!(Typ_136206 == NIM_NIL)) goto LA4;
Typ_136206 = (*(*It_136227).KindU.S6.Sons->data[1]).Typ;
goto LA3;
LA4: ;
asgnRefNoCycle((void**) &(*It_136227).KindU.S6.Sons->data[1], Fitnode_124129(C_136203, Typ_136206, (*It_136227).KindU.S6.Sons->data[1]));
LA3: ;
break;
case ((NU8) 41):
Checksonslen_106099(It_136227, 1);
asgnRefNoCycle((void**) &(*It_136227).KindU.S6.Sons->data[0], Semexprwithtype_124122(C_136203, (*It_136227).KindU.S6.Sons->data[0], 0));
if (!(Typ_136206 == NIM_NIL)) goto LA7;
Internalerror_46571((*It_136227).Info, ((NimStringDesc*) &TMP194208));
LA7: ;
asgnRefNoCycle((void**) &(*It_136227).KindU.S6.Sons->data[0], Fitnode_124129(C_136203, Typ_136206, (*It_136227).KindU.S6.Sons->data[0]));
break;
default:
Illformedast_106092(N_136204);
break;
}
Res_144997 += 1;
} LA2: ;
asgnRef((void**) &(*Result_136205).Typ, Typ_136206);
return Result_136205;
}
N_NIMCALL(TY54525*, Semstmtlistexpr_137305)(TY106012* C_137307, TY54525* N_137308) {
TY54525* Result_137309;
NI Length_137310;
NI I_137318;
NI HEX3Atmp_145013;
NI Res_145015;
Result_137309 = 0;
Result_137309 = N_137308;
Checkminsonslen_106103(N_137308, 1);
Length_137310 = 0;
Length_137310 = Sonslen_54803(N_137308);
I_137318 = 0;
HEX3Atmp_145013 = 0;
HEX3Atmp_145013 = (NI64)(Length_137310 - 2);
Res_145015 = 0;
Res_145015 = 0;
while (1) {
if (!(Res_145015 <= HEX3Atmp_145013)) goto LA1;
I_137318 = Res_145015;
asgnRefNoCycle((void**) &(*N_137308).KindU.S6.Sons->data[I_137318], Semstmt_124143(C_137307, (*N_137308).KindU.S6.Sons->data[I_137318]));
Res_145015 += 1;
} LA1: ;
if (!(0 < Length_137310)) goto LA3;
asgnRefNoCycle((void**) &(*N_137308).KindU.S6.Sons->data[(NI64)(Length_137310 - 1)], Semexprwithtype_124122(C_137307, (*N_137308).KindU.S6.Sons->data[(NI64)(Length_137310 - 1)], 0));
asgnRef((void**) &(*N_137308).Typ, (*(*N_137308).KindU.S6.Sons->data[(NI64)(Length_137310 - 1)]).Typ);
LA3: ;
return Result_137309;
}
N_NIMCALL(TY54525*, Semblockexpr_137381)(TY106012* C_137383, TY54525* N_137384) {
TY54525* Result_137385;
TY54547* LOC4;
Result_137385 = 0;
Result_137385 = N_137384;
(*(*C_137383).P).Nestedblockcounter += 1;
Checksonslen_106099(N_137384, 2);
Openscope_59146(&(*C_137383).Tab);
if (!!(((*N_137384).KindU.S6.Sons->data[0] == NIM_NIL))) goto LA2;
LOC4 = 0;
LOC4 = Newsyms_124059(((NU8) 19), (*N_137384).KindU.S6.Sons->data[0], C_137383);
Adddecl_107026(C_137383, LOC4);
LA2: ;
asgnRefNoCycle((void**) &(*N_137384).KindU.S6.Sons->data[1], Semstmtlistexpr_137305(C_137383, (*N_137384).KindU.S6.Sons->data[1]));
asgnRef((void**) &(*N_137384).Typ, (*(*N_137384).KindU.S6.Sons->data[1]).Typ);
Closescope_107017(&(*C_137383).Tab);
(*(*C_137383).P).Nestedblockcounter -= 1;
return Result_137385;
}
N_NIMCALL(TY54525*, Semexpr_124115)(TY106012* C_124117, TY54525* N_124118, NU8 Flags_124121) {
TY54525* Result_137650;
TY54547* S_137673;
TY54547* S_137840;
TY54547* S_137903;
NIM_BOOL LOC55;
NU8 LOC59;
TY54551* T_137976;
NU8 LOC61;
NimStringDesc* LOC64;
NimStringDesc* LOC65;
Result_137650 = 0;
Result_137650 = N_124118;
if (!(N_124118 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
if (!(((*N_124118).Flags &(1<<((((NU8) 6))&7)))!=0)) goto LA5;
goto BeforeRet;
LA5: ;
switch ((*N_124118).Kind) {
case ((NU8) 2):
S_137673 = 0;
S_137673 = Lookup_107049(C_124117, N_124118);
Result_137650 = Semsym_131956(C_124117, N_124118, S_137673, Flags_124121);
break;
case ((NU8) 3):
Result_137650 = Semsym_131956(C_124117, N_124118, (*N_124118).KindU.S4.Sym, Flags_124121);
break;
case ((NU8) 1):
case ((NU8) 0):
break;
case ((NU8) 18):
asgnRef((void**) &(*Result_137650).Typ, Getsystype_101008(((NU8) 5)));
break;
case ((NU8) 4):
if (!!(((Flags_124121 &(1<<((((NU8) 0))&7)))!=0))) goto LA8;
Limessage_46566((*N_124118).Info, ((NU8) 162), ((NimStringDesc*) &TMP193925));
LA8: ;
asgnRef((void**) &(*N_124118).Typ, Semtypenode_124138(C_124117, N_124118, NIM_NIL));
break;
case ((NU8) 6):
if (!((*Result_137650).Typ == NIM_NIL)) goto LA11;
asgnRef((void**) &(*Result_137650).Typ, Getsystype_101008(((NU8) 31)));
LA11: ;
break;
case ((NU8) 7):
if (!((*Result_137650).Typ == NIM_NIL)) goto LA14;
asgnRef((void**) &(*Result_137650).Typ, Getsystype_101008(((NU8) 32)));
LA14: ;
break;
case ((NU8) 8):
if (!((*Result_137650).Typ == NIM_NIL)) goto LA17;
asgnRef((void**) &(*Result_137650).Typ, Getsystype_101008(((NU8) 33)));
LA17: ;
break;
case ((NU8) 9):
if (!((*Result_137650).Typ == NIM_NIL)) goto LA20;
asgnRef((void**) &(*Result_137650).Typ, Getsystype_101008(((NU8) 34)));
LA20: ;
break;
case ((NU8) 10):
if (!((*Result_137650).Typ == NIM_NIL)) goto LA23;
asgnRef((void**) &(*Result_137650).Typ, Getsystype_101008(((NU8) 35)));
LA23: ;
break;
case ((NU8) 11):
if (!((*Result_137650).Typ == NIM_NIL)) goto LA26;
asgnRef((void**) &(*Result_137650).Typ, Getsystype_101008(((NU8) 36)));
LA26: ;
break;
case ((NU8) 12):
if (!((*Result_137650).Typ == NIM_NIL)) goto LA29;
asgnRef((void**) &(*Result_137650).Typ, Getsystype_101008(((NU8) 37)));
LA29: ;
break;
case ((NU8) 13):
if (!((*Result_137650).Typ == NIM_NIL)) goto LA32;
asgnRef((void**) &(*Result_137650).Typ, Getsystype_101008(((NU8) 38)));
LA32: ;
break;
case ((NU8) 14) ... ((NU8) 16):
if (!((*Result_137650).Typ == NIM_NIL)) goto LA35;
asgnRef((void**) &(*Result_137650).Typ, Getsystype_101008(((NU8) 28)));
LA35: ;
break;
case ((NU8) 5):
if (!((*Result_137650).Typ == NIM_NIL)) goto LA38;
asgnRef((void**) &(*Result_137650).Typ, Getsystype_101008(((NU8) 2)));
LA38: ;
break;
case ((NU8) 36):
Result_137650 = Semfieldaccess_131908(C_124117, N_124118, Flags_124121);
if (!((*Result_137650).Kind == ((NU8) 19))) goto LA41;
(*Result_137650).Kind = ((NU8) 21);
Result_137650 = Semexpr_124115(C_124117, Result_137650, Flags_124121);
LA41: ;
break;
case ((NU8) 45):
Result_137650 = Semexpr_124115(C_124117, (*N_124118).KindU.S6.Sons->data[0], Flags_124121);
break;
case ((NU8) 21):
case ((NU8) 27):
case ((NU8) 28):
case ((NU8) 29):
case ((NU8) 20):
case ((NU8) 22):
Checkminsonslen_106103(N_124118, 1);
S_137840 = 0;
S_137840 = Qualifiedlookup_107053(C_124117, (*N_124118).KindU.S6.Sons->data[0], NIM_FALSE);
if (!!((S_137840 == NIM_NIL))) goto LA44;
switch ((*S_137840).Kind) {
case ((NU8) 14):
Result_137650 = Semmacroexpr_125073(C_124117, N_124118, S_137840, NIM_TRUE);
break;
case ((NU8) 15):
Result_137650 = Semtemplateexpr_131901(C_124117, N_124118, S_137840, NIM_TRUE);
break;
case ((NU8) 7):
if (!!(((*N_124118).Kind == ((NU8) 21)))) goto LA47;
Limessage_46566((*N_124118).Info, ((NU8) 151), (*(*S_137840).Name).S);
LA47: ;
Result_137650 = Semconv_132211(C_124117, N_124118, S_137840);
break;
case ((NU8) 10):
case ((NU8) 11):
case ((NU8) 13):
case ((NU8) 12):
if (!((*S_137840).Magic == ((NU8) 0))) goto LA50;
Result_137650 = Semdirectop_134522(C_124117, N_124118, Flags_124121);
goto LA49;
LA50: ;
Result_137650 = Semmagic_134858(C_124117, N_124118, S_137840, Flags_124121);
LA49: ;
break;
default:
Result_137650 = Semindirectop_134208(C_124117, N_124118, Flags_124121);
break;
}
goto LA43;
LA44: ;
if (!((*(*N_124118).KindU.S6.Sons->data[0]).Kind == ((NU8) 46))) goto LA52;
Result_137650 = Semdirectop_134522(C_124117, N_124118, Flags_124121);
goto LA43;
LA52: ;
Result_137650 = Semindirectop_134208(C_124117, N_124118, Flags_124121);
LA43: ;
break;
case ((NU8) 79):
Result_137650 = Semmacrostmt_137499(C_124117, N_124118, NIM_TRUE);
break;
case ((NU8) 33):
Checkminsonslen_106103(N_124118, 1);
S_137903 = 0;
S_137903 = Qualifiedlookup_107053(C_124117, (*N_124118).KindU.S6.Sons->data[0], NIM_FALSE);
LOC55 = !((S_137903 == NIM_NIL));
if (!(LOC55)) goto LA56;
LOC55 = ((15360 &(1<<(((*S_137903).Kind)&31)))!=0);
LA56: ;
if (!LOC55) goto LA57;
Result_137650 = Partialspecialization_125989(C_124117, N_124118, S_137903);
goto LA54;
LA57: ;
Result_137650 = Semarrayaccess_135991(C_124117, N_124118, Flags_124121);
LA54: ;
break;
case ((NU8) 34):
Internalerror_46571((*N_124118).Info, ((NimStringDesc*) &TMP194204));
break;
case ((NU8) 30):
LOC59 = Checkpar_136769(N_124118);
switch (LOC59) {
case ((NU8) 0):
Result_137650 = NIM_NIL;
break;
case ((NU8) 3):
Result_137650 = Semtuplepositionsconstr_137255(C_124117, N_124118);
break;
case ((NU8) 2):
Result_137650 = Semtuplefieldsconstr_136918(C_124117, N_124118);
break;
case ((NU8) 1):
Result_137650 = Semexpr_124115(C_124117, (*N_124118).KindU.S6.Sons->data[0], 0);
break;
}
break;
case ((NU8) 31):
Result_137650 = Semsetconstr_136394(C_124117, N_124118);
break;
case ((NU8) 32):
Result_137650 = Semarrayconstr_133035(C_124117, N_124118);
break;
case ((NU8) 42):
Result_137650 = Semlambda_124134(C_124117, N_124118);
break;
case ((NU8) 38):
Checksonslen_106099(N_124118, 1);
asgnRefNoCycle((void**) &(*N_124118).KindU.S6.Sons->data[0], Semexprwithtype_124122(C_124117, (*N_124118).KindU.S6.Sons->data[0], 0));
Result_137650 = N_124118;
T_137976 = 0;
T_137976 = Skiptypes_96087((*(*N_124118).KindU.S6.Sons->data[0]).Typ, 8390656);
switch ((*T_137976).Kind) {
case ((NU8) 22):
case ((NU8) 21):
asgnRef((void**) &(*N_124118).Typ, (*T_137976).Sons->data[0]);
break;
default:
Limessage_46566((*(*N_124118).KindU.S6.Sons->data[0]).Info, ((NU8) 164), ((NimStringDesc*) &TMP193925));
break;
}
Result_137650 = N_124118;
break;
case ((NU8) 52):
Result_137650 = N_124118;
Checksonslen_106099(N_124118, 1);
asgnRefNoCycle((void**) &(*N_124118).KindU.S6.Sons->data[0], Semexprwithtype_124122(C_124117, (*N_124118).KindU.S6.Sons->data[0], 0));
LOC61 = Isassignable_133460((*N_124118).KindU.S6.Sons->data[0]);
if (!!((LOC61 == ((NU8) 1)))) goto LA62;
Limessage_46566((*N_124118).Info, ((NU8) 123), ((NimStringDesc*) &TMP193925));
LA62: ;
asgnRef((void**) &(*N_124118).Typ, Makeptrtype_106069(C_124117, (*(*N_124118).KindU.S6.Sons->data[0]).Typ));
break;
case ((NU8) 53):
case ((NU8) 54):
Checksonslen_106099(N_124118, 1);
asgnRefNoCycle((void**) &(*N_124118).KindU.S6.Sons->data[0], Semexpr_124115(C_124117, (*N_124118).KindU.S6.Sons->data[0], Flags_124121));
break;
case ((NU8) 51):
Result_137650 = Semcast_132357(C_124117, N_124118);
break;
case ((NU8) 43):
Checksonslen_106099(N_124118, 1);
Result_137650 = Semexpr_124115(C_124117, (*N_124118).KindU.S6.Sons->data[0], 0);
break;
case ((NU8) 39):
Result_137650 = Semifexpr_136201(C_124117, N_124118);
break;
case ((NU8) 106):
Result_137650 = Semstmtlistexpr_137305(C_124117, N_124118);
break;
case ((NU8) 107):
Result_137650 = Semblockexpr_137381(C_124117, N_124118);
break;
case ((NU8) 47):
case ((NU8) 48):
case ((NU8) 50):
case ((NU8) 49):
Checksonslen_106099(N_124118, 2);
break;
case ((NU8) 60):
case ((NU8) 61):
case ((NU8) 62):
case ((NU8) 55):
case ((NU8) 56):
Checksonslen_106099(N_124118, 1);
break;
case ((NU8) 57):
case ((NU8) 58):
case ((NU8) 59):
Checksonslen_106099(N_124118, 3);
break;
case ((NU8) 37):
Checkminsonslen_106103(N_124118, 2);
break;
case ((NU8) 46):
LOC64 = 0;
LOC64 = Rendertree_84042(N_124118, 4);
Limessage_46566((*N_124118).Info, ((NU8) 69), LOC64);
break;
default:
LOC65 = 0;
LOC65 = Rendertree_84042(N_124118, 4);
Limessage_46566((*N_124118).Info, ((NU8) 166), LOC65);
break;
}
(*Result_137650).Flags |=(1<<((NI8)(((NU8) 6))%(sizeof(NI8)*8)));
BeforeRet: ;
return Result_137650;
}
N_NIMCALL(TY54525*, Semexprwithtype_124122)(TY106012* C_124124, TY54525* N_124125, NU8 Flags_124128) {
TY54525* Result_131922;
NimStringDesc* LOC7;
TY54525* D_131955;
Result_131922 = 0;
Result_131922 = Semexpr_124115(C_124124, N_124125, Flags_124128);
if (!(Result_131922 == NIM_NIL)) goto LA2;
Internalerror_46575(((NimStringDesc*) &TMP194209));
LA2: ;
if (!((*Result_131922).Typ == NIM_NIL)) goto LA5;
LOC7 = 0;
LOC7 = Rendertree_84042(Result_131922, 4);
Limessage_46566((*N_124125).Info, ((NU8) 87), LOC7);
LA5: ;
if (!((*(*Result_131922).Typ).Kind == ((NU8) 23))) goto LA9;
D_131955 = 0;
D_131955 = Newnodeit_54741(((NU8) 54), (*Result_131922).Info, (*(*Result_131922).Typ).Sons->data[0]);
Addson_54823(D_131955, Result_131922);
Result_131922 = D_131955;
LA9: ;
return Result_131922;
}
N_NIMCALL(TY54525*, Semconstexpr_124171)(TY106012* C_124173, TY54525* N_124174) {
TY54525* Result_124175;
Result_124175 = 0;
Result_124175 = Semexprwithtype_124122(C_124173, N_124174, 0);
if (!(Result_124175 == NIM_NIL)) goto LA2;
Limessage_46566((*N_124174).Info, ((NU8) 102), ((NimStringDesc*) &TMP193925));
goto BeforeRet;
LA2: ;
Result_124175 = Getconstexpr_112010((*C_124173).Module, Result_124175);
if (!(Result_124175 == NIM_NIL)) goto LA5;
Limessage_46566((*N_124174).Info, ((NU8) 102), ((NimStringDesc*) &TMP193925));
LA5: ;
BeforeRet: ;
return Result_124175;
}
N_NIMCALL(TY54525*, Semexprnoflags_145267)(TY106012* C_145269, TY54525* N_145270) {
TY54525* Result_145271;
Result_145271 = 0;
Result_145271 = Semexpr_124115(C_145269, N_145270, 0);
return Result_145271;
}
N_NIMCALL(TY104002*, Myopen_145274)(TY54547* Module_145276, NimStringDesc* Filename_145277) {
TY104002* Result_145278;
TY106012* C_145279;
Result_145278 = 0;
C_145279 = 0;
C_145279 = Newcontext_106046(Module_145276, Filename_145277);
if (!!(((*C_145279).P == NIM_NIL))) goto LA2;
Internalerror_46571((*Module_145276).Info, ((NimStringDesc*) &TMP193923));
LA2: ;
(*C_145279).Semconstexpr = Semconstexpr_124171;
(*C_145279).Semexpr = Semexprnoflags_145267;
asgnRefNoCycle((void**) &(*C_145279).P, Newproccon_106050(Module_145276));
Pushowner_106109((*C_145279).Module);
Openscope_59146(&(*C_145279).Tab);
Symtabadd_59124(&(*C_145279).Tab, Module_145276);
if (!(((*Module_145276).Flags &(1<<((((NU8) 16))&31)))!=0)) goto LA5;
asgnRef((void**) &Systemmodule_101004, Module_145276);
Initsystem_101017(&(*C_145279).Tab);
goto LA4;
LA5: ;
Symtabadd_59124(&(*C_145279).Tab, Systemmodule_101004);
Importallsymbols_109009(C_145279, Systemmodule_101004);
LA4: ;
Openscope_59146(&(*C_145279).Tab);
Result_145278 = &C_145279->Sup;
return Result_145278;
}
N_NIMCALL(TY104002*, Myopencached_145307)(TY54547* Module_145309, NimStringDesc* Filename_145310, TY92031* Rd_145311) {
TY104002* Result_145312;
TY106012* C_145313;
TY104002* LOC1;
Result_145312 = 0;
C_145313 = 0;
LOC1 = 0;
LOC1 = Myopen_145274(Module_145309, Filename_145310);
C_145313 = ((TY106012*) (LOC1));
(*C_145313).Fromcache = NIM_TRUE;
Result_145312 = &C_145313->Sup;
return Result_145312;
}
N_NIMCALL(void, Addcodeforgenerics_145149)(TY106012* C_145151, TY54525* N_145152) {
NI I_145160;
NI HEX3Atmp_145263;
NI HEX3Atmp_145264;
NI LOC1;
NI Res_145266;
TY54525* It_145185;
TY54547* Prc_145207;
NIM_BOOL LOC7;
NIM_BOOL LOC12;
NimStringDesc* LOC16;
I_145160 = 0;
HEX3Atmp_145263 = 0;
HEX3Atmp_145264 = 0;
HEX3Atmp_145263 = (*C_145151).Lastgenericidx;
LOC1 = Sonslen_54803((*C_145151).Generics);
HEX3Atmp_145264 = (NI64)(LOC1 - 1);
Res_145266 = 0;
Res_145266 = HEX3Atmp_145263;
while (1) {
if (!(Res_145266 <= HEX3Atmp_145264)) goto LA2;
I_145160 = Res_145266;
It_145185 = 0;
It_145185 = (*(*(*C_145151).Generics).KindU.S6.Sons->data[I_145160]).KindU.S6.Sons->data[1];
if (!!(((*It_145185).Kind == ((NU8) 3)))) goto LA4;
Internalerror_46575(((NimStringDesc*) &TMP194211));
LA4: ;
Prc_145207 = 0;
Prc_145207 = (*It_145185).KindU.S4.Sym;
LOC7 = ((11264 &(1<<(((*Prc_145207).Kind)&31)))!=0);
if (!(LOC7)) goto LA8;
LOC7 = ((*Prc_145207).Magic == ((NU8) 0));
LA8: ;
if (!LOC7) goto LA9;
LOC12 = ((*Prc_145207).Ast == NIM_NIL);
if (LOC12) goto LA13;
LOC12 = ((*(*Prc_145207).Ast).KindU.S6.Sons->data[4] == NIM_NIL);
LA13: ;
if (!LOC12) goto LA14;
LOC16 = 0;
LOC16 = rawNewString((*(*Prc_145207).Name).S->Sup.len + 12);
appendString(LOC16, ((NimStringDesc*) &TMP194212));
appendString(LOC16, (*(*Prc_145207).Name).S);
Internalerror_46571((*Prc_145207).Info, LOC16);
LA14: ;
Addson_54823(N_145152, (*Prc_145207).Ast);
LA9: ;
Res_145266 += 1;
} LA2: ;
(*C_145151).Lastgenericidx = Sonslen_54803((*C_145151).Generics);
}
N_NIMCALL(TY54525*, Myclose_145325)(TY104002* Context_145327, TY54525* N_145328) {
TY54525* Result_145329;
TY106012* C_145330;
Result_145329 = 0;
C_145330 = 0;
C_145330 = ((TY106012*) (Context_145327));
Closescope_107017(&(*C_145330).Tab);
Rawclosescope_59150(&(*C_145330).Tab);
if (!(N_145328 == NIM_NIL)) goto LA2;
Result_145329 = Newnode_54710(((NU8) 101));
goto LA1;
LA2: ;
Internalerror_46571((*N_145328).Info, ((NimStringDesc*) &TMP194210));
LA1: ;
Addcodeforgenerics_145149(C_145330, Result_145329);
Popowner_106112();
asgnRefNoCycle((void**) &(*C_145330).P, NIM_NIL);
return Result_145329;
}
N_NIMCALL(TY54525*, Myprocess_145314)(TY104002* Context_145316, TY54525* N_145317) {
TY54525* Result_145318;
TY106012* C_145319;
NI LOC2;
TY54525* A_145322;
NI LOC6;
Result_145318 = 0;
Result_145318 = NIM_NIL;
C_145319 = 0;
C_145319 = ((TY106012*) (Context_145316));
Result_145318 = Semstmt_124143(C_145319, N_145317);
LOC2 = Sonslen_54803((*C_145319).Generics);
if (!(0 < LOC2)) goto LA3;
A_145322 = 0;
A_145322 = Newnodei_54737(((NU8) 101), (*N_145317).Info);
Addcodeforgenerics_145149(C_145319, A_145322);
LOC6 = Sonslen_54803(A_145322);
if (!(0 < LOC6)) goto LA7;
Addsonifnotnil_54831(A_145322, Result_145318);
Result_145318 = A_145322;
LA7: ;
LA3: ;
return Result_145318;
}
N_NIMCALL(TY104006, Sempass_124001)(void) {
TY104006 Result_145346;
memset((void*)&Result_145346, 0, sizeof(Result_145346));
Initpass_104031(&Result_145346);
Result_145346.Open = Myopen_145274;
Result_145346.Opencached = Myopencached_145307;
Result_145346.Close = Myclose_145325;
Result_145346.Process = Myprocess_145314;
return Result_145346;
}
N_NOINLINE(void, semInit)(void) {
Evaltemplatecounter_124423 = 0;
}

