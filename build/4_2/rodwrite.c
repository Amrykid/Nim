/* Generated by Nimrod Compiler v0.8.10 */
/*   (c) 2010 Andreas Rumpf */

typedef long long int NI;
typedef unsigned long long int NU;
#include "nimbase.h"

typedef struct TY55900 TY55900;
typedef struct TY55896 TY55896;
typedef struct TY55898 TY55898;
typedef struct TGenericSeq TGenericSeq;
typedef struct TY104006 TY104006;
typedef struct TY104002 TY104002;
typedef struct TY55547 TY55547;
typedef struct NimStringDesc NimStringDesc;
typedef struct TY92031 TY92031;
typedef struct TY55525 TY55525;
typedef struct TY54005 TY54005;
typedef struct TNimObject TNimObject;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct TY55551 TY55551;
typedef struct TY54011 TY54011;
typedef struct TY47532 TY47532;
typedef struct TY55529 TY55529;
typedef struct TY55527 TY55527;
typedef struct TY55539 TY55539;
typedef struct TY52008 TY52008;
typedef struct TY55543 TY55543;
typedef struct TY110004 TY110004;
typedef struct TY92029 TY92029;
typedef struct TY59223 TY59223;
typedef struct TY59221 TY59221;
typedef struct TY59219 TY59219;
typedef struct TY55549 TY55549;
typedef struct TY39422 TY39422;
typedef struct TY10802 TY10802;
typedef struct TY10814 TY10814;
typedef struct TY11190 TY11190;
typedef struct TY10818 TY10818;
typedef struct TY10810 TY10810;
typedef struct TY11188 TY11188;
typedef struct TY59079 TY59079;
typedef struct TY55519 TY55519;
typedef struct TY43013 TY43013;
typedef struct TY55563 TY55563;
typedef struct TY55561 TY55561;
typedef struct TY55559 TY55559;
struct TGenericSeq {
NI len;
NI space;
};
struct TY55900 {
NI Counter;
NI Max;
TY55896* Head;
TY55898* Data;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
typedef N_NIMCALL_PTR(TY104002*, TY104007) (TY55547* Module_104008, NimStringDesc* Filename_104009);
typedef N_NIMCALL_PTR(TY104002*, TY104012) (TY55547* Module_104013, NimStringDesc* Filename_104014, TY92031* Rd_104015);
typedef N_NIMCALL_PTR(TY55525*, TY104018) (TY104002* P_104019, TY55525* N_104020);
typedef N_NIMCALL_PTR(TY55525*, TY104023) (TY104002* P_104024, TY55525* Toplevelstmt_104025);
struct TY104006 {
TY104007 Open;
TY104012 Opencached;
TY104018 Close;
TY104023 Process;
};
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TNimObject {
TNimType* m_type;
};
struct TY54005 {
  TNimObject Sup;
NI Id;
};
struct TY47532 {
NI16 Line;
NI16 Col;
int Fileindex;
};
struct TY55529 {
TNimType* m_type;
NI Counter;
TY55527* Data;
};
struct TY55539 {
NU8 K;
NU8 S;
NU8 Flags;
TY55551* T;
TY52008* R;
NI A;
};
struct TY55547 {
  TY54005 Sup;
NU8 Kind;
NU8 Magic;
TY55551* Typ;
TY54011* Name;
TY47532 Info;
TY55547* Owner;
NU32 Flags;
TY55529 Tab;
TY55525* Ast;
NU32 Options;
NI Position;
NI Offset;
TY55539 Loc;
TY55543* Annex;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct TY104002 {
  TNimObject Sup;
};
struct TY59219 {
NI Key;
NI Val;
};
struct TY59223 {
NI Counter;
TY59221* Data;
};
struct TY92029 {
NI Lastidxkey;
NI Lastidxval;
TY59223 Tab;
TY52008* R;
NI Offset;
};
struct TY110004 {
  TY104002 Sup;
TY55547* Module;
int Crc;
NU32 Options;
TY52008* Defines;
TY52008* Incldeps;
TY52008* Moddeps;
TY52008* Interf;
TY52008* Compilerprocs;
TY92029 Index;
TY92029 Imports;
TY52008* Converters;
TY52008* Init;
TY52008* Data;
NimStringDesc* Filename;
TY55527* Sstack;
TY55549* Tstack;
TY39422* Files;
};
struct TY10802 {
NI Refcount;
TNimType* Typ;
};
struct TY10818 {
NI Len;
NI Cap;
TY10802** D;
};
struct TY10814 {
NI Counter;
NI Max;
TY10810* Head;
TY10810** Data;
};
struct TY11188 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY11190 {
TY10818 Zct;
TY10818 Decstack;
TY10814 Cycleroots;
TY10818 Tempstack;
NI Cyclerootslock;
NI Zctlock;
TY11188 Stat;
};
struct TY59079 {
NI H;
};
struct TY54011 {
  TY54005 Sup;
NimStringDesc* S;
TY54011* Next;
NI H;
};
typedef TY52008* TY176060[2];
typedef TY52008* TY52446[1];
struct TY55551 {
  TY54005 Sup;
NU8 Kind;
TY55549* Sons;
TY55525* N;
NU8 Flags;
NU8 Callconv;
TY55547* Owner;
TY55547* Sym;
NI64 Size;
NI Align;
NI Containerid;
TY55539 Loc;
};
typedef TY52008* TY160050[3];
struct TY55525 {
TY55551* Typ;
NimStringDesc* Comment;
TY47532 Info;
NU8 Flags;
NU8 Kind;
union {
struct {NI64 Intval;
} S1;
struct {NF64 Floatval;
} S2;
struct {NimStringDesc* Strval;
} S3;
struct {TY55547* Sym;
} S4;
struct {TY54011* Ident;
} S5;
struct {TY55519* Sons;
} S6;
} KindU;
};
struct TY43013 {
  TNimObject Sup;
TY43013* Prev;
TY43013* Next;
};
struct TY55543 {
  TY43013 Sup;
NU8 Kind;
NIM_BOOL Generated;
TY52008* Name;
TY55525* Path;
};
typedef NI TY8814[8];
struct TY55896 {
TY55896* Next;
NI Key;
TY8814 Bits;
};
struct TY55559 {
TY54005* Key;
TNimObject* Val;
};
struct TY55563 {
NI Counter;
TY55561* Data;
};
struct TY92031 {
  TNimObject Sup;
NI Pos;
NimStringDesc* S;
NU32 Options;
NU8 Reason;
TY39422* Moddeps;
TY39422* Files;
NI Dataidx;
NI Convertersidx;
NI Initidx;
NI Interfidx;
NI Compilerprocsidx;
NI Cgenidx;
NimStringDesc* Filename;
TY92029 Index;
TY92029 Imports;
NI Readerindex;
NI Line;
NI Moduleid;
TY55563 Syms;
};
struct TY52008 {
  TNimObject Sup;
TY52008* Left;
TY52008* Right;
NI Length;
NimStringDesc* Data;
};
struct TY10810 {
TY10810* Next;
NI Key;
TY8814 Bits;
};
struct TY55898 {
  TGenericSeq Sup;
  TY55896* data[SEQ_DECL_SIZE];
};
struct TY55527 {
  TGenericSeq Sup;
  TY55547* data[SEQ_DECL_SIZE];
};
struct TY59221 {
  TGenericSeq Sup;
  TY59219 data[SEQ_DECL_SIZE];
};
struct TY55549 {
  TGenericSeq Sup;
  TY55551* data[SEQ_DECL_SIZE];
};
struct TY39422 {
  TGenericSeq Sup;
  NimStringDesc* data[SEQ_DECL_SIZE];
};
struct TY55519 {
  TGenericSeq Sup;
  TY55525* data[SEQ_DECL_SIZE];
};
struct TY55561 {
  TGenericSeq Sup;
  TY55559 data[SEQ_DECL_SIZE];
};
N_NIMCALL(void, Intsetinit_55924)(TY55900* S_55927);
N_NIMCALL(void, Initpass_104031)(TY104006* P_104034);
N_NIMCALL(TY104002*, Myopen_111968)(TY55547* Module_111970, NimStringDesc* Filename_111971);
N_NIMCALL(void, Internalerror_47571)(NimStringDesc* Errmsg_47573);
N_NIMCALL(TY110004*, Newrodwriter_110024)(NimStringDesc* Modfilename_110026, int Crc_110027, TY55547* Module_110028);
N_NIMCALL(void*, newObj)(TNimType* Typ_13707, NI Size_13708);
N_NIMCALL(void*, newSeq)(TNimType* Typ_14204, NI Len_14205);
static N_INLINE(void, asgnRef)(void** Dest_13214, void* Src_13215);
static N_INLINE(void, Incref_13202)(TY10802* C_13204);
static N_INLINE(NI, Atomicinc_3001)(NI* Memloc_3004, NI X_3005);
static N_INLINE(NIM_BOOL, Canbecycleroot_11616)(TY10802* C_11618);
static N_INLINE(void, Rtladdcycleroot_12252)(TY10802* C_12254);
N_NOINLINE(void, Incl_11074)(TY10814* S_11077, TY10802* Cell_11078);
static N_INLINE(TY10802*, Usrtocell_11612)(void* Usr_11614);
static N_INLINE(void, Decref_13001)(TY10802* C_13003);
static N_INLINE(NI, Atomicdec_3006)(NI* Memloc_3009, NI X_3010);
static N_INLINE(void, Rtladdzct_12601)(TY10802* C_12603);
N_NOINLINE(void, Addzct_11601)(TY10818* S_11604, TY10802* C_11605);
N_NIMCALL(void, Initiitable_59228)(TY59223* X_59231);
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13218, void* Src_13219);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* Src_18708);
N_NIMCALL(TY52008*, Getdefines_110056)(void);
N_NIMCALL(TY55547*, Inittabiter_59081)(TY59079* Ti_59084, TY55529* Tab_59085);
N_NIMCALL(void, App_52036)(TY52008** A_52039, NimStringDesc* B_52040);
N_NIMCALL(TY55547*, Nextiter_59086)(TY59079* Ti_59089, TY55529* Tab_59090);
N_NIMCALL(int, Getcrc_92064)(NimStringDesc* Filename_92066);
N_NIMCALL(void, Rawaddinterfacesym_111327)(TY110004* W_111329, TY55547* S_111330);
N_NIMCALL(void, Pushsym_110272)(TY110004* W_110274, TY55547* S_110275);
N_NIMCALL(NI, Iitableget_59232)(TY59223 T_59234, NI Key_59235);
N_NIMCALL(TGenericSeq*, setLengthSeq)(TGenericSeq* Seq_19003, NI Elemsize_19004, NI Newlen_19005);
N_NIMCALL(void, Processstacks_110053)(TY110004* W_110055);
N_NIMCALL(void, Symstack_111098)(TY110004* W_111100);
N_NIMCALL(TY55547*, Getmodule_59206)(TY55547* S_59208);
static N_INLINE(void, appendString)(NimStringDesc* Dest_18792, NimStringDesc* Src_18793);
N_NIMCALL(NimStringDesc*, rawNewString)(NI Space_18687);
N_NIMCALL(NI, Ropelen_52055)(TY52008* A_52057);
N_NIMCALL(void, Addtoindex_111073)(TY92029* W_111076, NI Key_111077, NI Val_111078);
N_NIMCALL(void, App_52031)(TY52008** A_52034, TY52008* B_52035);
N_NIMCALL(TY52008*, Encodeint_92073)(NI64 X_92075);
N_NIMCALL(void, Appf_52074)(TY52008** C_52077, NimStringDesc* Frmt_52078, TY52008** Args_52080, NI Args_52080Len0);
N_NIMCALL(void, Iitableput_59236)(TY59223* T_59239, NI Key_59240, NI Val_59241);
N_NIMCALL(TY52008*, Encodesym_110860)(TY110004* W_110862, TY55547* S_110863);
N_NIMCALL(TY52008*, Torope_52046)(NimStringDesc* S_52048);
N_NIMCALL(TY52008*, Encodestr_110048)(TY110004* W_110050, NimStringDesc* S_110051);
N_NIMCALL(TY52008*, Encode_92076)(NimStringDesc* S_92078);
N_NIMCALL(void, Pushtype_110243)(TY110004* W_110245, TY55551* T_110246);
N_NIMCALL(NI, Fileidx_110090)(TY110004* W_110092, NimStringDesc* Filename_110093);
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* A_18647, NimStringDesc* B_18648);
N_NIMCALL(NimStringDesc*, Tofilename_47579)(TY47532 Info_47581);
N_NIMCALL(NIM_BOOL, Astneeded_104041)(TY55547* S_104043);
N_NIMCALL(TY52008*, Encodenode_110301)(TY110004* W_110303, TY47532 Finfo_110304, TY55525* N_110305);
N_NIMCALL(NimStringDesc*, nimFloatToStr)(NF X_19460);
N_NIMCALL(NI, Sonslen_55803)(TY55525* N_55805);
N_NIMCALL(TY52008*, Encodeloc_110553)(TY110004* W_110555, TY55539* Loc_110556);
N_NIMCALL(NimStringDesc*, Ropetostr_52066)(TY52008* P_52068);
N_NIMCALL(TY52008*, Ropef_52069)(NimStringDesc* Frmt_52071, TY52008** Args_52073, NI Args_52073Len0);
N_NIMCALL(TY52008*, Encodelib_110834)(TY110004* W_110836, TY55543* Lib_110837, TY47532 Info_110838);
N_NIMCALL(void, Typestack_111252)(TY110004* W_111254);
N_NIMCALL(TY52008*, Encodetype_110664)(TY110004* W_110666, TY55551* T_110667);
N_NIMCALL(TY47532, Unknownlineinfo_47536)(void);
N_NIMCALL(NI, Sonslen_55806)(TY55551* N_55808);
N_NIMCALL(TY55525*, Myclose_111976)(TY104002* C_111978, TY55525* N_111979);
N_NIMCALL(void, Writerod_110045)(TY110004* W_110047);
N_NIMCALL(void, Writerope_52058)(TY52008* Head_52060, NimStringDesc* Filename_52061);
N_NIMCALL(NimStringDesc*, Completegeneratedfilepath_46099)(NimStringDesc* F_46101, NIM_BOOL Createsubdir_46102);
N_NIMCALL(NimStringDesc*, nosChangeFileExt)(NimStringDesc* Filename_39020, NimStringDesc* Ext_39021);
N_NIMCALL(TY55525*, Process_111537)(TY104002* C_111539, TY55525* N_111540);
N_NIMCALL(void, Addinterfacesym_110037)(TY110004* W_110039, TY55547* S_110040);
N_NIMCALL(void, Internalerror_47567)(TY47532 Info_47569, NimStringDesc* Errmsg_47570);
N_NIMCALL(void, Addmoddep_110029)(TY110004* W_110031, NimStringDesc* Dep_110032);
N_NIMCALL(NimStringDesc*, Getmodulefile_109013)(TY55525* N_109015);
N_NIMCALL(void, Addstmt_110041)(TY110004* W_110043, TY55525* N_110044);
N_NIMCALL(void, Addincldep_110033)(TY110004* W_110035, NimStringDesc* Dep_110036);
N_NIMCALL(int, Crcfromfile_50029)(NimStringDesc* Filename_50031);
STRING_LITERAL(TMP197821, "rodwrite: module ID not set", 27);
STRING_LITERAL(TMP197823, " ", 1);
STRING_LITERAL(TMP197824, "symStack: module nil: ", 22);
STRING_LITERAL(TMP197825, "\012", 1);
STRING_LITERAL(TMP197826, "$1 $2\012", 6);
STRING_LITERAL(TMP197827, "{}", 2);
STRING_LITERAL(TMP197828, "+$1", 3);
STRING_LITERAL(TMP197829, "&$1", 3);
STRING_LITERAL(TMP197830, "^$1", 3);
STRING_LITERAL(TMP197831, "?$1,$2,$3", 9);
STRING_LITERAL(TMP197832, "*$1", 3);
STRING_LITERAL(TMP197833, "$$$1", 4);
STRING_LITERAL(TMP197834, "@$1", 3);
STRING_LITERAL(TMP197835, "()", 2);
STRING_LITERAL(TMP197836, "(", 1);
STRING_LITERAL(TMP197837, "?$1,$2", 6);
STRING_LITERAL(TMP197838, "?$1", 3);
STRING_LITERAL(TMP197839, "!$1", 3);
STRING_LITERAL(TMP197840, ")", 1);
STRING_LITERAL(TMP197841, "%$1", 3);
STRING_LITERAL(TMP197842, "`$1", 3);
STRING_LITERAL(TMP197843, "<$1>", 4);
STRING_LITERAL(TMP197844, "|$1", 3);
STRING_LITERAL(TMP197845, "[]", 2);
STRING_LITERAL(TMP197846, "encodeType: tyForward", 21);
STRING_LITERAL(TMP197847, "/$1", 3);
STRING_LITERAL(TMP197848, "=$1", 3);
STRING_LITERAL(TMP197849, "^()", 3);
STRING_LITERAL(TMP197850, "NIM:", 4);
STRING_LITERAL(TMP197851, "1012", 4);
STRING_LITERAL(TMP197852, "ID:", 3);
STRING_LITERAL(TMP197853, "CRC:", 4);
STRING_LITERAL(TMP197854, "OPTIONS:", 8);
STRING_LITERAL(TMP197855, "DEFINES:", 8);
STRING_LITERAL(TMP197856, "FILES(\012", 7);
STRING_LITERAL(TMP197857, ")\012", 2);
STRING_LITERAL(TMP197858, "INCLUDES(\012", 10);
STRING_LITERAL(TMP197859, "DEPS:", 5);
STRING_LITERAL(TMP197860, "INTERF(\012", 8);
STRING_LITERAL(TMP197861, "COMPILERPROCS(\012", 15);
STRING_LITERAL(TMP197862, "INDEX(\012", 7);
STRING_LITERAL(TMP197863, "IMPORTS(\012", 9);
STRING_LITERAL(TMP197864, "CONVERTERS:", 11);
STRING_LITERAL(TMP197865, "INIT(\012", 6);
STRING_LITERAL(TMP197866, "DATA(\012", 6);
STRING_LITERAL(TMP197867, "rod", 3);
STRING_LITERAL(TMP197868, "rodwrite.process", 16);
TY55900 Debugwritten_111097;
extern NU32 Gglobaloptions_46077;
extern TNimType* NTI110006; /* PRodWriter */
extern TNimType* NTI110004; /* TRodWriter */
extern TNimType* NTI55527; /* TSymSeq */
extern TY11190 Gch_11210;
extern TNimType* NTI55549; /* TTypeSeq */
extern TY55529 Gsymbols_63001;
extern NU32 Goptions_46075;
extern TNimType* NTI39422; /* seq[string] */
static N_INLINE(NI, Atomicinc_3001)(NI* Memloc_3004, NI X_3005) {
NI Result_7607;
Result_7607 = 0;
(*Memloc_3004) += X_3005;
Result_7607 = (*Memloc_3004);
return Result_7607;
}
static N_INLINE(NIM_BOOL, Canbecycleroot_11616)(TY10802* C_11618) {
NIM_BOOL Result_11619;
Result_11619 = 0;
Result_11619 = !((((*(*C_11618).Typ).flags &(1<<((((NU8) 1))&7)))!=0));
return Result_11619;
}
static N_INLINE(void, Rtladdcycleroot_12252)(TY10802* C_12254) {
Incl_11074(&Gch_11210.Cycleroots, C_12254);
}
static N_INLINE(void, Incref_13202)(TY10802* C_13204) {
NI LOC1;
NIM_BOOL LOC3;
LOC1 = Atomicinc_3001(&(*C_13204).Refcount, 8);
LOC3 = Canbecycleroot_11616(C_13204);
if (!LOC3) goto LA4;
Rtladdcycleroot_12252(C_13204);
LA4: ;
}
static N_INLINE(TY10802*, Usrtocell_11612)(void* Usr_11614) {
TY10802* Result_11615;
Result_11615 = 0;
Result_11615 = ((TY10802*) ((NI64)((NU64)(((NI) (Usr_11614))) - (NU64)(((NI) (((NI)sizeof(TY10802))))))));
return Result_11615;
}
static N_INLINE(NI, Atomicdec_3006)(NI* Memloc_3009, NI X_3010) {
NI Result_7806;
Result_7806 = 0;
(*Memloc_3009) -= X_3010;
Result_7806 = (*Memloc_3009);
return Result_7806;
}
static N_INLINE(void, Rtladdzct_12601)(TY10802* C_12603) {
Addzct_11601(&Gch_11210.Zct, C_12603);
}
static N_INLINE(void, Decref_13001)(TY10802* C_13003) {
NI LOC2;
NIM_BOOL LOC5;
LOC2 = Atomicdec_3006(&(*C_13003).Refcount, 8);
if (!((NU64)(LOC2) < (NU64)(8))) goto LA3;
Rtladdzct_12601(C_13003);
goto LA1;
LA3: ;
LOC5 = Canbecycleroot_11616(C_13003);
if (!LOC5) goto LA6;
Rtladdcycleroot_12252(C_13003);
goto LA1;
LA6: ;
LA1: ;
}
static N_INLINE(void, asgnRef)(void** Dest_13214, void* Src_13215) {
TY10802* LOC4;
TY10802* LOC8;
if (!!((Src_13215 == NIM_NIL))) goto LA2;
LOC4 = Usrtocell_11612(Src_13215);
Incref_13202(LOC4);
LA2: ;
if (!!(((*Dest_13214) == NIM_NIL))) goto LA6;
LOC8 = Usrtocell_11612((*Dest_13214));
Decref_13001(LOC8);
LA6: ;
(*Dest_13214) = Src_13215;
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_13218, void* Src_13219) {
TY10802* C_13220;
NI LOC4;
TY10802* C_13222;
NI LOC9;
if (!!((Src_13219 == NIM_NIL))) goto LA2;
C_13220 = 0;
C_13220 = Usrtocell_11612(Src_13219);
LOC4 = Atomicinc_3001(&(*C_13220).Refcount, 8);
LA2: ;
if (!!(((*Dest_13218) == NIM_NIL))) goto LA6;
C_13222 = 0;
C_13222 = Usrtocell_11612((*Dest_13218));
LOC9 = Atomicdec_3006(&(*C_13222).Refcount, 8);
if (!((NU64)(LOC9) < (NU64)(8))) goto LA10;
Rtladdzct_12601(C_13222);
LA10: ;
LA6: ;
(*Dest_13218) = Src_13219;
}
N_NIMCALL(TY52008*, Getdefines_110056)(void) {
TY52008* Result_110058;
TY59079 It_110059;
TY55547* S_110061;
Result_110058 = 0;
memset((void*)&It_110059, 0, sizeof(It_110059));
S_110061 = 0;
S_110061 = Inittabiter_59081(&It_110059, &Gsymbols_63001);
Result_110058 = NIM_NIL;
while (1) {
if (!!((S_110061 == NIM_NIL))) goto LA1;
if (!((*S_110061).Position == 1)) goto LA3;
if (!!((Result_110058 == NIM_NIL))) goto LA6;
App_52036(&Result_110058, ((NimStringDesc*) &TMP197823));
LA6: ;
App_52036(&Result_110058, (*(*S_110061).Name).S);
LA3: ;
S_110061 = Nextiter_59086(&It_110059, &Gsymbols_63001);
} LA1: ;
return Result_110058;
}
N_NIMCALL(TY110004*, Newrodwriter_110024)(NimStringDesc* Modfilename_110026, int Crc_110027, TY55547* Module_110028) {
TY110004* Result_110151;
Result_110151 = 0;
Result_110151 = (TY110004*) newObj(NTI110006, sizeof(TY110004));
(*Result_110151).Sup.Sup.m_type = NTI110004;
asgnRef((void**) &(*Result_110151).Sstack, (TY55527*) newSeq(NTI55527, 0));
asgnRef((void**) &(*Result_110151).Tstack, (TY55549*) newSeq(NTI55549, 0));
Initiitable_59228(&(*Result_110151).Index.Tab);
Initiitable_59228(&(*Result_110151).Imports.Tab);
asgnRefNoCycle((void**) &(*Result_110151).Filename, copyString(Modfilename_110026));
(*Result_110151).Crc = Crc_110027;
asgnRef((void**) &(*Result_110151).Module, Module_110028);
asgnRefNoCycle((void**) &(*Result_110151).Defines, Getdefines_110056());
(*Result_110151).Options = Goptions_46075;
asgnRefNoCycle((void**) &(*Result_110151).Files, (TY39422*) newSeq(NTI39422, 0));
return Result_110151;
}
N_NIMCALL(void, Pushsym_110272)(TY110004* W_110274, TY55547* S_110275) {
NI LOC2;
NI L_110288;
LOC2 = Iitableget_59232((*W_110274).Index.Tab, (*S_110275).Sup.Id);
if (!(LOC2 == (IL64(-9223372036854775807) - IL64(1)))) goto LA3;
L_110288 = 0;
L_110288 = (*W_110274).Sstack->Sup.len;
(*W_110274).Sstack = (TY55527*) setLengthSeq(&((*W_110274).Sstack)->Sup, sizeof(TY55547*), (NI64)(L_110288 + 1));
asgnRef((void**) &(*W_110274).Sstack->data[L_110288], S_110275);
LA3: ;
}
static N_INLINE(void, appendString)(NimStringDesc* Dest_18792, NimStringDesc* Src_18793) {
memcpy(((NCSTRING) (&(*Dest_18792).data[((*Dest_18792).Sup.len)-0])), ((NCSTRING) ((*Src_18793).data)), ((int) ((NI64)((NI64)((*Src_18793).Sup.len + 1) * 1))));
(*Dest_18792).Sup.len += (*Src_18793).Sup.len;
}
N_NIMCALL(void, Addtoindex_111073)(TY92029* W_111076, NI Key_111077, NI Val_111078) {
TY52008* LOC4;
TY176060 LOC5;
if (!((NI64)(Key_111077 - (*W_111076).Lastidxkey) == 1)) goto LA2;
LOC4 = 0;
LOC4 = Encodeint_92073(((NI64) ((NI64)(Val_111078 - (*W_111076).Lastidxval))));
App_52031(&(*W_111076).R, LOC4);
App_52036(&(*W_111076).R, ((NimStringDesc*) &TMP197825));
goto LA1;
LA2: ;
memset((void*)&LOC5, 0, sizeof(LOC5));
LOC5[0] = Encodeint_92073(((NI64) ((NI64)(Key_111077 - (*W_111076).Lastidxkey))));
LOC5[1] = Encodeint_92073(((NI64) ((NI64)(Val_111078 - (*W_111076).Lastidxval))));
Appf_52074(&(*W_111076).R, ((NimStringDesc*) &TMP197826), LOC5, 2);
LA1: ;
(*W_111076).Lastidxkey = Key_111077;
(*W_111076).Lastidxval = Val_111078;
Iitableput_59236(&(*W_111076).Tab, Key_111077, Val_111078);
}
N_NIMCALL(TY52008*, Encodestr_110048)(TY110004* W_110050, NimStringDesc* S_110051) {
TY52008* Result_110052;
Result_110052 = 0;
Result_110052 = Encode_92076(S_110051);
return Result_110052;
}
N_NIMCALL(void, Pushtype_110243)(TY110004* W_110245, TY55551* T_110246) {
NI LOC2;
NI L_110259;
LOC2 = Iitableget_59232((*W_110245).Index.Tab, (*T_110246).Sup.Id);
if (!(LOC2 == (IL64(-9223372036854775807) - IL64(1)))) goto LA3;
L_110259 = 0;
L_110259 = (*W_110245).Tstack->Sup.len;
(*W_110245).Tstack = (TY55549*) setLengthSeq(&((*W_110245).Tstack)->Sup, sizeof(TY55551*), (NI64)(L_110259 + 1));
asgnRef((void**) &(*W_110245).Tstack->data[L_110259], T_110246);
LA3: ;
}
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* A_18647, NimStringDesc* B_18648) {
NIM_BOOL Result_18649;
NIM_BOOL LOC5;
NIM_BOOL LOC9;
int LOC11;
Result_18649 = 0;
if (!(A_18647 == B_18648)) goto LA2;
Result_18649 = NIM_TRUE;
goto BeforeRet;
LA2: ;
LOC5 = (A_18647 == NIM_NIL);
if (LOC5) goto LA6;
LOC5 = (B_18648 == NIM_NIL);
LA6: ;
if (!LOC5) goto LA7;
Result_18649 = NIM_FALSE;
goto BeforeRet;
LA7: ;
LOC9 = ((*A_18647).Sup.len == (*B_18648).Sup.len);
if (!(LOC9)) goto LA10;
LOC11 = memcmp(((NCSTRING) ((*A_18647).data)), ((NCSTRING) ((*B_18648).data)), ((int) ((NI64)((*A_18647).Sup.len * 1))));
LOC9 = (LOC11 == ((NI32) 0));
LA10: ;
Result_18649 = LOC9;
goto BeforeRet;
BeforeRet: ;
return Result_18649;
}
N_NIMCALL(NI, Fileidx_110090)(TY110004* W_110092, NimStringDesc* Filename_110093) {
NI Result_110094;
NI I_110117;
NI HEX3Atmp_110141;
NI Res_110143;
Result_110094 = 0;
I_110117 = 0;
HEX3Atmp_110141 = 0;
HEX3Atmp_110141 = ((*W_110092).Files->Sup.len-1);
Res_110143 = 0;
Res_110143 = 0;
while (1) {
if (!(Res_110143 <= HEX3Atmp_110141)) goto LA1;
I_110117 = Res_110143;
if (!eqStrings((*W_110092).Files->data[I_110117], Filename_110093)) goto LA3;
Result_110094 = I_110117;
goto BeforeRet;
LA3: ;
Res_110143 += 1;
} LA1: ;
Result_110094 = (*W_110092).Files->Sup.len;
(*W_110092).Files = (TY39422*) setLengthSeq(&((*W_110092).Files)->Sup, sizeof(NimStringDesc*), (NI64)(Result_110094 + 1));
asgnRefNoCycle((void**) &(*W_110092).Files->data[Result_110094], copyString(Filename_110093));
BeforeRet: ;
return Result_110094;
}
N_NIMCALL(TY52008*, Encodenode_110301)(TY110004* W_110303, TY47532 Finfo_110304, TY55525* N_110305) {
TY52008* Result_110306;
TY52008* LOC4;
TY160050 LOC8;
NimStringDesc* LOC9;
NI LOC10;
TY176060 LOC13;
TY52446 LOC16;
NU8 F_110355;
TY52446 LOC20;
TY52446 LOC24;
TY52446 LOC28;
TY52446 LOC32;
NimStringDesc* LOC33;
TY52446 LOC37;
TY52446 LOC38;
TY52446 LOC39;
NI I_110532;
NI HEX3Atmp_110548;
NI LOC40;
NI Res_110550;
TY52008* LOC42;
Result_110306 = 0;
if (!(N_110305 == NIM_NIL)) goto LA2;
Result_110306 = Torope_52046(((NimStringDesc*) &TMP197835));
goto BeforeRet;
LA2: ;
Result_110306 = Torope_52046(((NimStringDesc*) &TMP197836));
LOC4 = 0;
LOC4 = Encodeint_92073(((NI64) ((*N_110305).Kind)));
App_52031(&Result_110306, LOC4);
if (!!((Finfo_110304.Fileindex == (*N_110305).Info.Fileindex))) goto LA6;
memset((void*)&LOC8, 0, sizeof(LOC8));
LOC8[0] = Encodeint_92073(((NI64) ((*N_110305).Info.Col)));
LOC8[1] = Encodeint_92073(((NI64) ((*N_110305).Info.Line)));
LOC9 = 0;
LOC9 = Tofilename_47579((*N_110305).Info);
LOC10 = Fileidx_110090(W_110303, LOC9);
LOC8[2] = Encodeint_92073(((NI64) (LOC10)));
Appf_52074(&Result_110306, ((NimStringDesc*) &TMP197831), LOC8, 3);
goto LA5;
LA6: ;
if (!!((Finfo_110304.Line == (*N_110305).Info.Line))) goto LA11;
memset((void*)&LOC13, 0, sizeof(LOC13));
LOC13[0] = Encodeint_92073(((NI64) ((*N_110305).Info.Col)));
LOC13[1] = Encodeint_92073(((NI64) ((*N_110305).Info.Line)));
Appf_52074(&Result_110306, ((NimStringDesc*) &TMP197837), LOC13, 2);
goto LA5;
LA11: ;
if (!!((Finfo_110304.Col == (*N_110305).Info.Col))) goto LA14;
memset((void*)&LOC16, 0, sizeof(LOC16));
LOC16[0] = Encodeint_92073(((NI64) ((*N_110305).Info.Col)));
Appf_52074(&Result_110306, ((NimStringDesc*) &TMP197838), LOC16, 1);
goto LA5;
LA14: ;
LA5: ;
memset((void*)&F_110355, 0, sizeof(F_110355));
F_110355 = ((*N_110305).Flags & 30);
if (!!((F_110355 == 0))) goto LA18;
memset((void*)&LOC20, 0, sizeof(LOC20));
LOC20[0] = Encodeint_92073(((NI64) (((int) (F_110355)))));
Appf_52074(&Result_110306, ((NimStringDesc*) &TMP197833), LOC20, 1);
LA18: ;
if (!!(((*N_110305).Typ == NIM_NIL))) goto LA22;
memset((void*)&LOC24, 0, sizeof(LOC24));
LOC24[0] = Encodeint_92073(((NI64) ((*(*N_110305).Typ).Sup.Id)));
Appf_52074(&Result_110306, ((NimStringDesc*) &TMP197830), LOC24, 1);
Pushtype_110243(W_110303, (*N_110305).Typ);
LA22: ;
switch ((*N_110305).Kind) {
case ((NU8) 5) ... ((NU8) 10):
if (!!(((*N_110305).KindU.S1.Intval == 0))) goto LA26;
memset((void*)&LOC28, 0, sizeof(LOC28));
LOC28[0] = Encodeint_92073((*N_110305).KindU.S1.Intval);
Appf_52074(&Result_110306, ((NimStringDesc*) &TMP197839), LOC28, 1);
LA26: ;
break;
case ((NU8) 11) ... ((NU8) 13):
if (!!((((NF) ((*N_110305).KindU.S2.Floatval)) == 0.00000))) goto LA30;
memset((void*)&LOC32, 0, sizeof(LOC32));
LOC33 = 0;
LOC33 = nimFloatToStr(((NF) ((*N_110305).KindU.S2.Floatval)));
LOC32[0] = Encodestr_110048(W_110303, LOC33);
Appf_52074(&Result_110306, ((NimStringDesc*) &TMP197839), LOC32, 1);
LA30: ;
break;
case ((NU8) 14) ... ((NU8) 16):
if (!!((((*N_110305).KindU.S3.Strval) && ((*N_110305).KindU.S3.Strval)->Sup.len == 0))) goto LA35;
memset((void*)&LOC37, 0, sizeof(LOC37));
LOC37[0] = Encodestr_110048(W_110303, (*N_110305).KindU.S3.Strval);
Appf_52074(&Result_110306, ((NimStringDesc*) &TMP197839), LOC37, 1);
LA35: ;
break;
case ((NU8) 2):
memset((void*)&LOC38, 0, sizeof(LOC38));
LOC38[0] = Encodestr_110048(W_110303, (*(*N_110305).KindU.S5.Ident).S);
Appf_52074(&Result_110306, ((NimStringDesc*) &TMP197839), LOC38, 1);
break;
case ((NU8) 3):
memset((void*)&LOC39, 0, sizeof(LOC39));
LOC39[0] = Encodeint_92073(((NI64) ((*(*N_110305).KindU.S4.Sym).Sup.Id)));
Appf_52074(&Result_110306, ((NimStringDesc*) &TMP197839), LOC39, 1);
Pushsym_110272(W_110303, (*N_110305).KindU.S4.Sym);
break;
default:
I_110532 = 0;
HEX3Atmp_110548 = 0;
LOC40 = Sonslen_55803(N_110305);
HEX3Atmp_110548 = (NI64)(LOC40 - 1);
Res_110550 = 0;
Res_110550 = 0;
while (1) {
if (!(Res_110550 <= HEX3Atmp_110548)) goto LA41;
I_110532 = Res_110550;
LOC42 = 0;
LOC42 = Encodenode_110301(W_110303, (*N_110305).Info, (*N_110305).KindU.S6.Sons->data[I_110532]);
App_52031(&Result_110306, LOC42);
Res_110550 += 1;
} LA41: ;
break;
}
App_52036(&Result_110306, ((NimStringDesc*) &TMP197840));
BeforeRet: ;
return Result_110306;
}
N_NIMCALL(TY52008*, Encodeloc_110553)(TY110004* W_110555, TY55539* Loc_110556) {
TY52008* Result_110557;
TY52008* LOC4;
TY52446 LOC8;
TY52446 LOC12;
TY52446 LOC16;
TY52446 LOC20;
NimStringDesc* LOC21;
TY52446 LOC25;
TY52446 LOC29;
Result_110557 = 0;
Result_110557 = NIM_NIL;
if (!!(((*Loc_110556).K == ((NU8) 0)))) goto LA2;
LOC4 = 0;
LOC4 = Encodeint_92073(((NI64) ((*Loc_110556).K)));
App_52031(&Result_110557, LOC4);
LA2: ;
if (!!(((*Loc_110556).S == ((NU8) 0)))) goto LA6;
memset((void*)&LOC8, 0, sizeof(LOC8));
LOC8[0] = Encodeint_92073(((NI64) ((*Loc_110556).S)));
Appf_52074(&Result_110557, ((NimStringDesc*) &TMP197832), LOC8, 1);
LA6: ;
if (!!(((*Loc_110556).Flags == 0))) goto LA10;
memset((void*)&LOC12, 0, sizeof(LOC12));
LOC12[0] = Encodeint_92073(((NI64) (((int) ((*Loc_110556).Flags)))));
Appf_52074(&Result_110557, ((NimStringDesc*) &TMP197833), LOC12, 1);
LA10: ;
if (!!(((*Loc_110556).T == NIM_NIL))) goto LA14;
memset((void*)&LOC16, 0, sizeof(LOC16));
LOC16[0] = Encodeint_92073(((NI64) ((*(*Loc_110556).T).Sup.Id)));
Appf_52074(&Result_110557, ((NimStringDesc*) &TMP197830), LOC16, 1);
Pushtype_110243(W_110555, (*Loc_110556).T);
LA14: ;
if (!!(((*Loc_110556).R == NIM_NIL))) goto LA18;
memset((void*)&LOC20, 0, sizeof(LOC20));
LOC21 = 0;
LOC21 = Ropetostr_52066((*Loc_110556).R);
LOC20[0] = Encodestr_110048(W_110555, LOC21);
Appf_52074(&Result_110557, ((NimStringDesc*) &TMP197839), LOC20, 1);
LA18: ;
if (!!(((*Loc_110556).A == 0))) goto LA23;
memset((void*)&LOC25, 0, sizeof(LOC25));
LOC25[0] = Encodeint_92073(((NI64) ((*Loc_110556).A)));
Appf_52074(&Result_110557, ((NimStringDesc*) &TMP197838), LOC25, 1);
LA23: ;
if (!!((Result_110557 == NIM_NIL))) goto LA27;
memset((void*)&LOC29, 0, sizeof(LOC29));
LOC29[0] = Result_110557;
Result_110557 = Ropef_52069(((NimStringDesc*) &TMP197843), LOC29, 1);
LA27: ;
return Result_110557;
}
N_NIMCALL(TY52008*, Encodelib_110834)(TY110004* W_110836, TY55543* Lib_110837, TY47532 Info_110838) {
TY52008* Result_110839;
TY52446 LOC1;
TY52446 LOC2;
NimStringDesc* LOC3;
TY52446 LOC4;
Result_110839 = 0;
Result_110839 = NIM_NIL;
memset((void*)&LOC1, 0, sizeof(LOC1));
LOC1[0] = Encodeint_92073(((NI64) ((*Lib_110837).Kind)));
Appf_52074(&Result_110839, ((NimStringDesc*) &TMP197844), LOC1, 1);
memset((void*)&LOC2, 0, sizeof(LOC2));
LOC3 = 0;
LOC3 = Ropetostr_52066((*Lib_110837).Name);
LOC2[0] = Encodestr_110048(W_110836, LOC3);
Appf_52074(&Result_110839, ((NimStringDesc*) &TMP197844), LOC2, 1);
memset((void*)&LOC4, 0, sizeof(LOC4));
LOC4[0] = Encodenode_110301(W_110836, Info_110838, (*Lib_110837).Path);
Appf_52074(&Result_110839, ((NimStringDesc*) &TMP197844), LOC4, 1);
return Result_110839;
}
N_NIMCALL(TY52008*, Encodesym_110860)(TY110004* W_110862, TY55547* S_110863) {
TY52008* Result_110864;
TY55525* Codeast_110865;
TY52008* Col_110866;
TY52008* Line_110867;
TY52008* LOC4;
TY52446 LOC5;
TY52446 LOC6;
TY52446 LOC10;
TY160050 LOC17;
NimStringDesc* LOC18;
NI LOC19;
TY52446 LOC23;
TY52446 LOC27;
TY52446 LOC31;
NIM_BOOL LOC36;
TY52008* LOC39;
TY52446 LOC46;
TY52446 LOC50;
TY52446 LOC54;
TY52008* LOC55;
TY52008* LOC59;
Result_110864 = 0;
Codeast_110865 = 0;
Col_110866 = 0;
Line_110867 = 0;
Codeast_110865 = NIM_NIL;
if (!(S_110863 == NIM_NIL)) goto LA2;
Result_110864 = Torope_52046(((NimStringDesc*) &TMP197827));
goto BeforeRet;
LA2: ;
Result_110864 = NIM_NIL;
LOC4 = 0;
LOC4 = Encodeint_92073(((NI64) ((*S_110863).Kind)));
App_52031(&Result_110864, LOC4);
memset((void*)&LOC5, 0, sizeof(LOC5));
LOC5[0] = Encodeint_92073(((NI64) ((*S_110863).Sup.Id)));
Appf_52074(&Result_110864, ((NimStringDesc*) &TMP197828), LOC5, 1);
memset((void*)&LOC6, 0, sizeof(LOC6));
LOC6[0] = Encodestr_110048(W_110862, (*(*S_110863).Name).S);
Appf_52074(&Result_110864, ((NimStringDesc*) &TMP197829), LOC6, 1);
if (!!(((*S_110863).Typ == NIM_NIL))) goto LA8;
memset((void*)&LOC10, 0, sizeof(LOC10));
LOC10[0] = Encodeint_92073(((NI64) ((*(*S_110863).Typ).Sup.Id)));
Appf_52074(&Result_110864, ((NimStringDesc*) &TMP197830), LOC10, 1);
Pushtype_110243(W_110862, (*S_110863).Typ);
LA8: ;
if (!((*S_110863).Info.Col == ((NI16) -1))) goto LA12;
Col_110866 = NIM_NIL;
goto LA11;
LA12: ;
Col_110866 = Encodeint_92073(((NI64) ((*S_110863).Info.Col)));
LA11: ;
if (!((*S_110863).Info.Line == ((NI16) -1))) goto LA15;
Line_110867 = NIM_NIL;
goto LA14;
LA15: ;
Line_110867 = Encodeint_92073(((NI64) ((*S_110863).Info.Line)));
LA14: ;
memset((void*)&LOC17, 0, sizeof(LOC17));
LOC17[0] = Col_110866;
LOC17[1] = Line_110867;
LOC18 = 0;
LOC18 = Tofilename_47579((*S_110863).Info);
LOC19 = Fileidx_110090(W_110862, LOC18);
LOC17[2] = Encodeint_92073(((NI64) (LOC19)));
Appf_52074(&Result_110864, ((NimStringDesc*) &TMP197831), LOC17, 3);
if (!!(((*S_110863).Owner == NIM_NIL))) goto LA21;
memset((void*)&LOC23, 0, sizeof(LOC23));
LOC23[0] = Encodeint_92073(((NI64) ((*(*S_110863).Owner).Sup.Id)));
Appf_52074(&Result_110864, ((NimStringDesc*) &TMP197832), LOC23, 1);
Pushsym_110272(W_110862, (*S_110863).Owner);
LA21: ;
if (!!(((*S_110863).Flags == 0))) goto LA25;
memset((void*)&LOC27, 0, sizeof(LOC27));
LOC27[0] = Encodeint_92073(((NI64) (((int) ((*S_110863).Flags)))));
Appf_52074(&Result_110864, ((NimStringDesc*) &TMP197833), LOC27, 1);
LA25: ;
if (!!(((*S_110863).Magic == ((NU8) 0)))) goto LA29;
memset((void*)&LOC31, 0, sizeof(LOC31));
LOC31[0] = Encodeint_92073(((NI64) ((*S_110863).Magic)));
Appf_52074(&Result_110864, ((NimStringDesc*) &TMP197834), LOC31, 1);
LA29: ;
if (!!(((*S_110863).Ast == NIM_NIL))) goto LA33;
LOC36 = Astneeded_104041(S_110863);
if (!!(LOC36)) goto LA37;
Codeast_110865 = (*(*S_110863).Ast).KindU.S6.Sons->data[4];
asgnRefNoCycle((void**) &(*(*S_110863).Ast).KindU.S6.Sons->data[4], NIM_NIL);
LA37: ;
LOC39 = 0;
LOC39 = Encodenode_110301(W_110862, (*S_110863).Info, (*S_110863).Ast);
App_52031(&Result_110864, LOC39);
if (!!((Codeast_110865 == NIM_NIL))) goto LA41;
asgnRefNoCycle((void**) &(*(*S_110863).Ast).KindU.S6.Sons->data[4], Codeast_110865);
LA41: ;
LA33: ;
if (!!(((*S_110863).Options == (*W_110862).Options))) goto LA44;
memset((void*)&LOC46, 0, sizeof(LOC46));
LOC46[0] = Encodeint_92073(((NI64) (((int) ((*S_110863).Options)))));
Appf_52074(&Result_110864, ((NimStringDesc*) &TMP197839), LOC46, 1);
LA44: ;
if (!!(((*S_110863).Position == 0))) goto LA48;
memset((void*)&LOC50, 0, sizeof(LOC50));
LOC50[0] = Encodeint_92073(((NI64) ((*S_110863).Position)));
Appf_52074(&Result_110864, ((NimStringDesc*) &TMP197841), LOC50, 1);
LA48: ;
if (!!(((*S_110863).Offset == -1))) goto LA52;
memset((void*)&LOC54, 0, sizeof(LOC54));
LOC54[0] = Encodeint_92073(((NI64) ((*S_110863).Offset)));
Appf_52074(&Result_110864, ((NimStringDesc*) &TMP197842), LOC54, 1);
LA52: ;
LOC55 = 0;
LOC55 = Encodeloc_110553(W_110862, &(*S_110863).Loc);
App_52031(&Result_110864, LOC55);
if (!!(((*S_110863).Annex == NIM_NIL))) goto LA57;
LOC59 = 0;
LOC59 = Encodelib_110834(W_110862, (*S_110863).Annex, (*S_110863).Info);
App_52031(&Result_110864, LOC59);
LA57: ;
BeforeRet: ;
return Result_110864;
}
N_NIMCALL(void, Symstack_111098)(TY110004* W_111100) {
NI I_111101;
NI L_111102;
TY55547* S_111103;
TY55547* M_111104;
NI LOC3;
NimStringDesc* LOC9;
NIM_BOOL LOC11;
TY52008* LOC15;
TY176060 LOC19;
TY176060 LOC23;
TY52008* LOC30;
NI LOC31;
I_111101 = 0;
L_111102 = 0;
S_111103 = 0;
M_111104 = 0;
I_111101 = 0;
while (1) {
if (!(I_111101 < (*W_111100).Sstack->Sup.len)) goto LA1;
S_111103 = (*W_111100).Sstack->data[I_111101];
LOC3 = Iitableget_59232((*W_111100).Index.Tab, (*S_111103).Sup.Id);
if (!(LOC3 == (IL64(-9223372036854775807) - IL64(1)))) goto LA4;
M_111104 = Getmodule_59206(S_111103);
if (!(M_111104 == NIM_NIL)) goto LA7;
LOC9 = 0;
LOC9 = rawNewString((*(*S_111103).Name).S->Sup.len + 22);
appendString(LOC9, ((NimStringDesc*) &TMP197824));
appendString(LOC9, (*(*S_111103).Name).S);
Internalerror_47571(LOC9);
LA7: ;
LOC11 = ((*M_111104).Sup.Id == (*(*W_111100).Module).Sup.Id);
if (LOC11) goto LA12;
LOC11 = (((*S_111103).Flags &(1<<((((NU8) 4))&31)))!=0);
LA12: ;
if (!LOC11) goto LA13;
L_111102 = Ropelen_52055((*W_111100).Data);
Addtoindex_111073(&(*W_111100).Index, (*S_111103).Sup.Id, L_111102);
LOC15 = 0;
LOC15 = Encodesym_110860(W_111100, S_111103);
App_52031(&(*W_111100).Data, LOC15);
App_52036(&(*W_111100).Data, ((NimStringDesc*) &TMP197825));
if (!(((*S_111103).Flags &(1<<((((NU8) 3))&31)))!=0)) goto LA17;
memset((void*)&LOC19, 0, sizeof(LOC19));
LOC19[0] = Encode_92076((*(*S_111103).Name).S);
LOC19[1] = Encodeint_92073(((NI64) ((*S_111103).Sup.Id)));
Appf_52074(&(*W_111100).Interf, ((NimStringDesc*) &TMP197826), LOC19, 2);
LA17: ;
if (!(((*S_111103).Flags &(1<<((((NU8) 19))&31)))!=0)) goto LA21;
memset((void*)&LOC23, 0, sizeof(LOC23));
LOC23[0] = Encode_92076((*(*S_111103).Name).S);
LOC23[1] = Encodeint_92073(((NI64) ((*S_111103).Sup.Id)));
Appf_52074(&(*W_111100).Compilerprocs, ((NimStringDesc*) &TMP197826), LOC23, 2);
LA21: ;
if (!((*S_111103).Kind == ((NU8) 12))) goto LA25;
if (!!(((*W_111100).Converters == NIM_NIL))) goto LA28;
App_52036(&(*W_111100).Converters, ((NimStringDesc*) &TMP197823));
LA28: ;
LOC30 = 0;
LOC30 = Encodeint_92073(((NI64) ((*S_111103).Sup.Id)));
App_52031(&(*W_111100).Converters, LOC30);
LA25: ;
goto LA10;
LA13: ;
LOC31 = Iitableget_59232((*W_111100).Imports.Tab, (*S_111103).Sup.Id);
if (!(LOC31 == (IL64(-9223372036854775807) - IL64(1)))) goto LA32;
Addtoindex_111073(&(*W_111100).Imports, (*S_111103).Sup.Id, (*M_111104).Sup.Id);
goto LA10;
LA32: ;
LA10: ;
LA4: ;
I_111101 += 1;
} LA1: ;
(*W_111100).Sstack = (TY55527*) setLengthSeq(&((*W_111100).Sstack)->Sup, sizeof(TY55547*), 0);
}
N_NIMCALL(TY52008*, Encodetype_110664)(TY110004* W_110666, TY55551* T_110667) {
TY52008* Result_110668;
TY52008* LOC7;
TY52446 LOC8;
TY47532 LOC12;
TY52008* LOC13;
TY52446 LOC17;
TY52446 LOC21;
TY52446 LOC25;
TY52446 LOC29;
TY52446 LOC33;
TY52446 LOC37;
TY52446 LOC41;
TY52008* LOC42;
NI I_110810;
NI HEX3Atmp_110829;
NI LOC43;
NI Res_110831;
TY52446 LOC48;
Result_110668 = 0;
if (!(T_110667 == NIM_NIL)) goto LA2;
Result_110668 = Torope_52046(((NimStringDesc*) &TMP197845));
goto BeforeRet;
LA2: ;
Result_110668 = NIM_NIL;
if (!((*T_110667).Kind == ((NU8) 30))) goto LA5;
Internalerror_47571(((NimStringDesc*) &TMP197846));
LA5: ;
LOC7 = 0;
LOC7 = Encodeint_92073(((NI64) ((*T_110667).Kind)));
App_52031(&Result_110668, LOC7);
memset((void*)&LOC8, 0, sizeof(LOC8));
LOC8[0] = Encodeint_92073(((NI64) ((*T_110667).Sup.Id)));
Appf_52074(&Result_110668, ((NimStringDesc*) &TMP197828), LOC8, 1);
if (!!(((*T_110667).N == NIM_NIL))) goto LA10;
LOC12 = Unknownlineinfo_47536();
LOC13 = 0;
LOC13 = Encodenode_110301(W_110666, LOC12, (*T_110667).N);
App_52031(&Result_110668, LOC13);
LA10: ;
if (!!(((*T_110667).Flags == 0))) goto LA15;
memset((void*)&LOC17, 0, sizeof(LOC17));
LOC17[0] = Encodeint_92073(((NI64) (((int) ((*T_110667).Flags)))));
Appf_52074(&Result_110668, ((NimStringDesc*) &TMP197833), LOC17, 1);
LA15: ;
if (!!(((*T_110667).Callconv == ((NU8) 0)))) goto LA19;
memset((void*)&LOC21, 0, sizeof(LOC21));
LOC21[0] = Encodeint_92073(((NI64) ((*T_110667).Callconv)));
Appf_52074(&Result_110668, ((NimStringDesc*) &TMP197838), LOC21, 1);
LA19: ;
if (!!(((*T_110667).Owner == NIM_NIL))) goto LA23;
memset((void*)&LOC25, 0, sizeof(LOC25));
LOC25[0] = Encodeint_92073(((NI64) ((*(*T_110667).Owner).Sup.Id)));
Appf_52074(&Result_110668, ((NimStringDesc*) &TMP197832), LOC25, 1);
Pushsym_110272(W_110666, (*T_110667).Owner);
LA23: ;
if (!!(((*T_110667).Sym == NIM_NIL))) goto LA27;
memset((void*)&LOC29, 0, sizeof(LOC29));
LOC29[0] = Encodeint_92073(((NI64) ((*(*T_110667).Sym).Sup.Id)));
Appf_52074(&Result_110668, ((NimStringDesc*) &TMP197829), LOC29, 1);
Pushsym_110272(W_110666, (*T_110667).Sym);
LA27: ;
if (!!(((*T_110667).Size == -1))) goto LA31;
memset((void*)&LOC33, 0, sizeof(LOC33));
LOC33[0] = Encodeint_92073((*T_110667).Size);
Appf_52074(&Result_110668, ((NimStringDesc*) &TMP197847), LOC33, 1);
LA31: ;
if (!!(((*T_110667).Align == 2))) goto LA35;
memset((void*)&LOC37, 0, sizeof(LOC37));
LOC37[0] = Encodeint_92073(((NI64) ((*T_110667).Align)));
Appf_52074(&Result_110668, ((NimStringDesc*) &TMP197848), LOC37, 1);
LA35: ;
if (!!(((*T_110667).Containerid == 0))) goto LA39;
memset((void*)&LOC41, 0, sizeof(LOC41));
LOC41[0] = Encodeint_92073(((NI64) ((*T_110667).Containerid)));
Appf_52074(&Result_110668, ((NimStringDesc*) &TMP197834), LOC41, 1);
LA39: ;
LOC42 = 0;
LOC42 = Encodeloc_110553(W_110666, &(*T_110667).Loc);
App_52031(&Result_110668, LOC42);
I_110810 = 0;
HEX3Atmp_110829 = 0;
LOC43 = Sonslen_55806(T_110667);
HEX3Atmp_110829 = (NI64)(LOC43 - 1);
Res_110831 = 0;
Res_110831 = 0;
while (1) {
if (!(Res_110831 <= HEX3Atmp_110829)) goto LA44;
I_110810 = Res_110831;
if (!((*T_110667).Sons->data[I_110810] == NIM_NIL)) goto LA46;
App_52036(&Result_110668, ((NimStringDesc*) &TMP197849));
goto LA45;
LA46: ;
memset((void*)&LOC48, 0, sizeof(LOC48));
LOC48[0] = Encodeint_92073(((NI64) ((*(*T_110667).Sons->data[I_110810]).Sup.Id)));
Appf_52074(&Result_110668, ((NimStringDesc*) &TMP197830), LOC48, 1);
Pushtype_110243(W_110666, (*T_110667).Sons->data[I_110810]);
LA45: ;
Res_110831 += 1;
} LA44: ;
BeforeRet: ;
return Result_110668;
}
N_NIMCALL(void, Typestack_111252)(TY110004* W_111254) {
NI I_111255;
NI LOC3;
NI L_111270;
TY52008* LOC6;
I_111255 = 0;
I_111255 = 0;
while (1) {
if (!(I_111255 < (*W_111254).Tstack->Sup.len)) goto LA1;
LOC3 = Iitableget_59232((*W_111254).Index.Tab, (*(*W_111254).Tstack->data[I_111255]).Sup.Id);
if (!(LOC3 == (IL64(-9223372036854775807) - IL64(1)))) goto LA4;
L_111270 = 0;
L_111270 = Ropelen_52055((*W_111254).Data);
Addtoindex_111073(&(*W_111254).Index, (*(*W_111254).Tstack->data[I_111255]).Sup.Id, L_111270);
LOC6 = 0;
LOC6 = Encodetype_110664(W_111254, (*W_111254).Tstack->data[I_111255]);
App_52031(&(*W_111254).Data, LOC6);
App_52036(&(*W_111254).Data, ((NimStringDesc*) &TMP197825));
LA4: ;
I_111255 += 1;
} LA1: ;
(*W_111254).Tstack = (TY55549*) setLengthSeq(&((*W_111254).Tstack)->Sup, sizeof(TY55551*), 0);
}
N_NIMCALL(void, Processstacks_110053)(TY110004* W_110055) {
NIM_BOOL LOC2;
while (1) {
LOC2 = (0 < (*W_110055).Tstack->Sup.len);
if (LOC2) goto LA3;
LOC2 = (0 < (*W_110055).Sstack->Sup.len);
LA3: ;
if (!LOC2) goto LA1;
Symstack_111098(W_110055);
Typestack_111252(W_110055);
} LA1: ;
}
N_NIMCALL(void, Rawaddinterfacesym_111327)(TY110004* W_111329, TY55547* S_111330) {
Pushsym_110272(W_111329, S_111330);
Processstacks_110053(W_111329);
}
N_NIMCALL(TY104002*, Myopen_111968)(TY55547* Module_111970, NimStringDesc* Filename_111971) {
TY104002* Result_111972;
TY110004* W_111975;
int LOC4;
Result_111972 = 0;
if (!((*Module_111970).Sup.Id < 0)) goto LA2;
Internalerror_47571(((NimStringDesc*) &TMP197821));
LA2: ;
W_111975 = 0;
LOC4 = Getcrc_92064(Filename_111971);
W_111975 = Newrodwriter_110024(Filename_111971, LOC4, Module_111970);
Rawaddinterfacesym_111327(W_111975, Module_111970);
Result_111972 = &W_111975->Sup;
return Result_111972;
}
N_NIMCALL(void, Writerod_110045)(TY110004* W_110047) {
TY52008* Content_111381;
TY52008* LOC1;
TY52008* LOC2;
TY52008* LOC3;
TY52008* LOC4;
TY52008* LOC5;
TY52008* LOC6;
TY52008* LOC7;
TY52008* LOC8;
TY52008* LOC9;
NI I_111412;
NI HEX3Atmp_111532;
NI Res_111534;
TY52008* LOC11;
TY52008* LOC12;
TY52008* LOC13;
TY52008* LOC14;
TY52008* LOC15;
TY52008* LOC16;
TY52008* LOC17;
TY52008* LOC18;
TY52008* LOC19;
TY52008* LOC20;
TY52008* LOC21;
TY52008* LOC22;
TY52008* LOC23;
TY52008* LOC24;
TY52008* LOC25;
TY52008* LOC26;
TY52008* LOC27;
TY52008* LOC28;
TY52008* LOC29;
NimStringDesc* LOC30;
NimStringDesc* LOC31;
Processstacks_110053(W_110047);
Content_111381 = 0;
Content_111381 = Torope_52046(((NimStringDesc*) &TMP197850));
LOC1 = 0;
LOC1 = Torope_52046(((NimStringDesc*) &TMP197851));
App_52031(&Content_111381, LOC1);
App_52036(&Content_111381, ((NimStringDesc*) &TMP197825));
LOC2 = 0;
LOC2 = Torope_52046(((NimStringDesc*) &TMP197852));
App_52031(&Content_111381, LOC2);
LOC3 = 0;
LOC3 = Encodeint_92073(((NI64) ((*(*W_110047).Module).Sup.Id)));
App_52031(&Content_111381, LOC3);
App_52036(&Content_111381, ((NimStringDesc*) &TMP197825));
LOC4 = 0;
LOC4 = Torope_52046(((NimStringDesc*) &TMP197853));
App_52031(&Content_111381, LOC4);
LOC5 = 0;
LOC5 = Encodeint_92073(((NI64) ((*W_110047).Crc)));
App_52031(&Content_111381, LOC5);
App_52036(&Content_111381, ((NimStringDesc*) &TMP197825));
LOC6 = 0;
LOC6 = Torope_52046(((NimStringDesc*) &TMP197854));
App_52031(&Content_111381, LOC6);
LOC7 = 0;
LOC7 = Encodeint_92073(((NI64) (((int) ((*W_110047).Options)))));
App_52031(&Content_111381, LOC7);
App_52036(&Content_111381, ((NimStringDesc*) &TMP197825));
LOC8 = 0;
LOC8 = Torope_52046(((NimStringDesc*) &TMP197855));
App_52031(&Content_111381, LOC8);
App_52031(&Content_111381, (*W_110047).Defines);
App_52036(&Content_111381, ((NimStringDesc*) &TMP197825));
LOC9 = 0;
LOC9 = Torope_52046(((NimStringDesc*) &TMP197856));
App_52031(&Content_111381, LOC9);
I_111412 = 0;
HEX3Atmp_111532 = 0;
HEX3Atmp_111532 = ((*W_110047).Files->Sup.len-1);
Res_111534 = 0;
Res_111534 = 0;
while (1) {
if (!(Res_111534 <= HEX3Atmp_111532)) goto LA10;
I_111412 = Res_111534;
LOC11 = 0;
LOC11 = Encode_92076((*W_110047).Files->data[I_111412]);
App_52031(&Content_111381, LOC11);
App_52036(&Content_111381, ((NimStringDesc*) &TMP197825));
Res_111534 += 1;
} LA10: ;
LOC12 = 0;
LOC12 = Torope_52046(((NimStringDesc*) &TMP197857));
App_52031(&Content_111381, LOC12);
LOC13 = 0;
LOC13 = Torope_52046(((NimStringDesc*) &TMP197858));
App_52031(&Content_111381, LOC13);
App_52031(&Content_111381, (*W_110047).Incldeps);
LOC14 = 0;
LOC14 = Torope_52046(((NimStringDesc*) &TMP197857));
App_52031(&Content_111381, LOC14);
LOC15 = 0;
LOC15 = Torope_52046(((NimStringDesc*) &TMP197859));
App_52031(&Content_111381, LOC15);
App_52031(&Content_111381, (*W_110047).Moddeps);
App_52036(&Content_111381, ((NimStringDesc*) &TMP197825));
LOC16 = 0;
LOC16 = Torope_52046(((NimStringDesc*) &TMP197860));
App_52031(&Content_111381, LOC16);
App_52031(&Content_111381, (*W_110047).Interf);
LOC17 = 0;
LOC17 = Torope_52046(((NimStringDesc*) &TMP197857));
App_52031(&Content_111381, LOC17);
LOC18 = 0;
LOC18 = Torope_52046(((NimStringDesc*) &TMP197861));
App_52031(&Content_111381, LOC18);
App_52031(&Content_111381, (*W_110047).Compilerprocs);
LOC19 = 0;
LOC19 = Torope_52046(((NimStringDesc*) &TMP197857));
App_52031(&Content_111381, LOC19);
LOC20 = 0;
LOC20 = Torope_52046(((NimStringDesc*) &TMP197862));
App_52031(&Content_111381, LOC20);
App_52031(&Content_111381, (*W_110047).Index.R);
LOC21 = 0;
LOC21 = Torope_52046(((NimStringDesc*) &TMP197857));
App_52031(&Content_111381, LOC21);
LOC22 = 0;
LOC22 = Torope_52046(((NimStringDesc*) &TMP197863));
App_52031(&Content_111381, LOC22);
App_52031(&Content_111381, (*W_110047).Imports.R);
LOC23 = 0;
LOC23 = Torope_52046(((NimStringDesc*) &TMP197857));
App_52031(&Content_111381, LOC23);
LOC24 = 0;
LOC24 = Torope_52046(((NimStringDesc*) &TMP197864));
App_52031(&Content_111381, LOC24);
App_52031(&Content_111381, (*W_110047).Converters);
LOC25 = 0;
LOC25 = Torope_52046(((NimStringDesc*) &TMP197825));
App_52031(&Content_111381, LOC25);
LOC26 = 0;
LOC26 = Torope_52046(((NimStringDesc*) &TMP197865));
App_52031(&Content_111381, LOC26);
App_52031(&Content_111381, (*W_110047).Init);
LOC27 = 0;
LOC27 = Torope_52046(((NimStringDesc*) &TMP197857));
App_52031(&Content_111381, LOC27);
LOC28 = 0;
LOC28 = Torope_52046(((NimStringDesc*) &TMP197866));
App_52031(&Content_111381, LOC28);
App_52031(&Content_111381, (*W_110047).Data);
LOC29 = 0;
LOC29 = Torope_52046(((NimStringDesc*) &TMP197857));
App_52031(&Content_111381, LOC29);
LOC30 = 0;
LOC30 = nosChangeFileExt((*W_110047).Filename, ((NimStringDesc*) &TMP197867));
LOC31 = 0;
LOC31 = Completegeneratedfilepath_46099(LOC30, NIM_TRUE);
Writerope_52058(Content_111381, LOC31);
}
N_NIMCALL(TY55525*, Myclose_111976)(TY104002* C_111978, TY55525* N_111979) {
TY55525* Result_111980;
TY110004* W_111981;
Result_111980 = 0;
W_111981 = 0;
W_111981 = ((TY110004*) (C_111978));
Writerod_110045(W_111981);
Result_111980 = N_111979;
return Result_111980;
}
N_NIMCALL(void, Addinterfacesym_110037)(TY110004* W_110039, TY55547* S_110040) {
if (!(W_110039 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
if (!!(((524296 & (*S_110040).Flags) == 0))) goto LA5;
Rawaddinterfacesym_111327(W_110039, S_110040);
LA5: ;
BeforeRet: ;
}
N_NIMCALL(void, Addmoddep_110029)(TY110004* W_110031, NimStringDesc* Dep_110032) {
NI LOC4;
TY52008* LOC5;
if (!!(((*W_110031).Moddeps == NIM_NIL))) goto LA2;
App_52036(&(*W_110031).Moddeps, ((NimStringDesc*) &TMP197823));
LA2: ;
LOC4 = Fileidx_110090(W_110031, Dep_110032);
LOC5 = 0;
LOC5 = Encodeint_92073(((NI64) (LOC4)));
App_52031(&(*W_110031).Moddeps, LOC5);
}
N_NIMCALL(void, Addstmt_110041)(TY110004* W_110043, TY55525* N_110044) {
NI LOC1;
TY52008* LOC2;
TY47532 LOC3;
TY52008* LOC4;
LOC1 = Ropelen_52055((*W_110043).Data);
LOC2 = 0;
LOC2 = Encodeint_92073(((NI64) (LOC1)));
App_52031(&(*W_110043).Init, LOC2);
App_52036(&(*W_110043).Init, ((NimStringDesc*) &TMP197825));
LOC3 = Unknownlineinfo_47536();
LOC4 = 0;
LOC4 = Encodenode_110301(W_110043, LOC3, N_110044);
App_52031(&(*W_110043).Data, LOC4);
App_52036(&(*W_110043).Data, ((NimStringDesc*) &TMP197825));
Processstacks_110053(W_110043);
}
N_NIMCALL(void, Addincldep_110033)(TY110004* W_110035, NimStringDesc* Dep_110036) {
NI LOC1;
TY52008* LOC2;
int LOC3;
TY52008* LOC4;
LOC1 = Fileidx_110090(W_110035, Dep_110036);
LOC2 = 0;
LOC2 = Encodeint_92073(((NI64) (LOC1)));
App_52031(&(*W_110035).Incldeps, LOC2);
App_52036(&(*W_110035).Incldeps, ((NimStringDesc*) &TMP197823));
LOC3 = Crcfromfile_50029(Dep_110036);
LOC4 = 0;
LOC4 = Encodeint_92073(((NI64) (LOC3)));
App_52031(&(*W_110035).Incldeps, LOC4);
App_52036(&(*W_110035).Incldeps, ((NimStringDesc*) &TMP197825));
}
N_NIMCALL(TY55525*, Process_111537)(TY104002* C_111539, TY55525* N_111540) {
TY55525* Result_111541;
TY110004* W_111553;
NI I_111561;
NI HEX3Atmp_111933;
NI LOC4;
NI Res_111935;
TY55525* LOC6;
TY55547* S_111598;
TY55547* S_111623;
NIM_BOOL LOC11;
NIM_BOOL LOC12;
NI I_111685;
NI HEX3Atmp_111939;
NI LOC17;
NI Res_111941;
TY55525* A_111698;
NI I_111748;
NI HEX3Atmp_111945;
NI LOC26;
NI Res_111947;
TY55525* A_111761;
NI I_111811;
NI HEX3Atmp_111951;
NI LOC35;
NI Res_111953;
TY55525* A_111824;
TY55547* S_111879;
NI I_111887;
NI HEX3Atmp_111957;
NI LOC44;
NI Res_111959;
NimStringDesc* LOC46;
NimStringDesc* LOC47;
NI I_111919;
NI HEX3Atmp_111963;
NI LOC48;
NI Res_111965;
NimStringDesc* LOC50;
Result_111541 = 0;
Result_111541 = N_111540;
if (!(C_111539 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
W_111553 = 0;
W_111553 = ((TY110004*) (C_111539));
switch ((*N_111540).Kind) {
case ((NU8) 101):
I_111561 = 0;
HEX3Atmp_111933 = 0;
LOC4 = Sonslen_55803(N_111540);
HEX3Atmp_111933 = (NI64)(LOC4 - 1);
Res_111935 = 0;
Res_111935 = 0;
while (1) {
if (!(Res_111935 <= HEX3Atmp_111933)) goto LA5;
I_111561 = Res_111935;
LOC6 = 0;
LOC6 = Process_111537(C_111539, (*N_111540).KindU.S6.Sons->data[I_111561]);
Res_111935 += 1;
} LA5: ;
break;
case ((NU8) 73):
case ((NU8) 72):
S_111598 = 0;
S_111598 = (*(*N_111540).KindU.S6.Sons->data[0]).KindU.S4.Sym;
Addinterfacesym_110037(W_111553, S_111598);
break;
case ((NU8) 69):
case ((NU8) 70):
case ((NU8) 74):
case ((NU8) 71):
S_111623 = 0;
S_111623 = (*(*N_111540).KindU.S6.Sons->data[0]).KindU.S4.Sym;
if (!(S_111623 == NIM_NIL)) goto LA8;
Internalerror_47567((*N_111540).Info, ((NimStringDesc*) &TMP197868));
LA8: ;
LOC12 = !(((*N_111540).KindU.S6.Sons->data[4] == NIM_NIL));
if (LOC12) goto LA13;
LOC12 = !(((*S_111623).Magic == ((NU8) 0)));
LA13: ;
LOC11 = LOC12;
if (LOC11) goto LA14;
LOC11 = !((((*S_111623).Flags &(1<<((((NU8) 6))&31)))!=0));
LA14: ;
if (!LOC11) goto LA15;
Addinterfacesym_110037(W_111553, S_111623);
LA15: ;
break;
case ((NU8) 87):
I_111685 = 0;
HEX3Atmp_111939 = 0;
LOC17 = Sonslen_55803(N_111540);
HEX3Atmp_111939 = (NI64)(LOC17 - 1);
Res_111941 = 0;
Res_111941 = 0;
while (1) {
if (!(Res_111941 <= HEX3Atmp_111939)) goto LA18;
I_111685 = Res_111941;
A_111698 = 0;
A_111698 = (*N_111540).KindU.S6.Sons->data[I_111685];
if (!((*A_111698).Kind == ((NU8) 105))) goto LA21;
goto LA19;
LA21: ;
if (!!(((*A_111698).Kind == ((NU8) 25)))) goto LA24;
Internalerror_47567((*A_111698).Info, ((NimStringDesc*) &TMP197868));
LA24: ;
Addinterfacesym_110037(W_111553, (*(*A_111698).KindU.S6.Sons->data[0]).KindU.S4.Sym);
LA19: ;
Res_111941 += 1;
} LA18: ;
break;
case ((NU8) 88):
I_111748 = 0;
HEX3Atmp_111945 = 0;
LOC26 = Sonslen_55803(N_111540);
HEX3Atmp_111945 = (NI64)(LOC26 - 1);
Res_111947 = 0;
Res_111947 = 0;
while (1) {
if (!(Res_111947 <= HEX3Atmp_111945)) goto LA27;
I_111748 = Res_111947;
A_111761 = 0;
A_111761 = (*N_111540).KindU.S6.Sons->data[I_111748];
if (!((*A_111761).Kind == ((NU8) 105))) goto LA30;
goto LA28;
LA30: ;
if (!!(((*A_111761).Kind == ((NU8) 89)))) goto LA33;
Internalerror_47567((*A_111761).Info, ((NimStringDesc*) &TMP197868));
LA33: ;
Addinterfacesym_110037(W_111553, (*(*A_111761).KindU.S6.Sons->data[0]).KindU.S4.Sym);
LA28: ;
Res_111947 += 1;
} LA27: ;
break;
case ((NU8) 90):
I_111811 = 0;
HEX3Atmp_111951 = 0;
LOC35 = Sonslen_55803(N_111540);
HEX3Atmp_111951 = (NI64)(LOC35 - 1);
Res_111953 = 0;
Res_111953 = 0;
while (1) {
if (!(Res_111953 <= HEX3Atmp_111951)) goto LA36;
I_111811 = Res_111953;
A_111824 = 0;
A_111824 = (*N_111540).KindU.S6.Sons->data[I_111811];
if (!((*A_111824).Kind == ((NU8) 105))) goto LA39;
goto LA37;
LA39: ;
if (!!(((*(*A_111824).KindU.S6.Sons->data[0]).Kind == ((NU8) 3)))) goto LA42;
Internalerror_47567((*A_111824).Info, ((NimStringDesc*) &TMP197868));
LA42: ;
S_111879 = 0;
S_111879 = (*(*A_111824).KindU.S6.Sons->data[0]).KindU.S4.Sym;
Addinterfacesym_110037(W_111553, S_111879);
LA37: ;
Res_111953 += 1;
} LA36: ;
break;
case ((NU8) 102):
I_111887 = 0;
HEX3Atmp_111957 = 0;
LOC44 = Sonslen_55803(N_111540);
HEX3Atmp_111957 = (NI64)(LOC44 - 1);
Res_111959 = 0;
Res_111959 = 0;
while (1) {
if (!(Res_111959 <= HEX3Atmp_111957)) goto LA45;
I_111887 = Res_111959;
LOC46 = 0;
LOC46 = Getmodulefile_109013((*N_111540).KindU.S6.Sons->data[I_111887]);
Addmoddep_110029(W_111553, LOC46);
Res_111959 += 1;
} LA45: ;
Addstmt_110041(W_111553, N_111540);
break;
case ((NU8) 103):
LOC47 = 0;
LOC47 = Getmodulefile_109013((*N_111540).KindU.S6.Sons->data[0]);
Addmoddep_110029(W_111553, LOC47);
Addstmt_110041(W_111553, N_111540);
break;
case ((NU8) 104):
I_111919 = 0;
HEX3Atmp_111963 = 0;
LOC48 = Sonslen_55803(N_111540);
HEX3Atmp_111963 = (NI64)(LOC48 - 1);
Res_111965 = 0;
Res_111965 = 0;
while (1) {
if (!(Res_111965 <= HEX3Atmp_111963)) goto LA49;
I_111919 = Res_111965;
LOC50 = 0;
LOC50 = Getmodulefile_109013((*N_111540).KindU.S6.Sons->data[I_111919]);
Addincldep_110033(W_111553, LOC50);
Res_111965 += 1;
} LA49: ;
break;
case ((NU8) 81):
Addstmt_110041(W_111553, N_111540);
break;
default:
break;
}
BeforeRet: ;
return Result_111541;
}
N_NIMCALL(TY104006, Rodwritepass_110001)(void) {
TY104006 Result_111984;
memset((void*)&Result_111984, 0, sizeof(Result_111984));
Initpass_104031(&Result_111984);
if (!((Gglobaloptions_46077 &(1<<((((NU8) 15))&31)))!=0)) goto LA2;
Result_111984.Open = Myopen_111968;
Result_111984.Close = Myclose_111976;
Result_111984.Process = Process_111537;
LA2: ;
return Result_111984;
}
N_NOINLINE(void, rodwriteInit)(void) {
Intsetinit_55924(&Debugwritten_111097);
}

