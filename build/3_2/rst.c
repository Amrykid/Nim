/* Generated by Nimrod Compiler v0.8.9 */
/*   (c) 2010 Andreas Rumpf */

typedef long long int NI;
typedef unsigned long long int NU;
#include "nimbase.h"

typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct TY143077 TY143077;
typedef struct TY143690 TY143690;
typedef struct TNimObject TNimObject;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct TY143137 TY143137;
typedef struct TY143135 TY143135;
typedef struct TY143686 TY143686;
typedef struct TY73281 TY73281;
typedef struct TY143695 TY143695;
typedef struct TY143684 TY143684;
typedef struct TY10402 TY10402;
typedef struct TY10418 TY10418;
typedef struct TY10790 TY10790;
typedef struct TY10414 TY10414;
typedef struct TY10410 TY10410;
typedef struct TY10788 TY10788;
typedef struct TY143139 TY143139;
typedef struct TY143075 TY143075;
typedef struct TY45532 TY45532;
typedef struct TY37422 TY37422;
typedef NU8 TY20402[32];
struct TGenericSeq {
NI len;
NI space;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
typedef NimStringDesc* TY145479[12];
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TNimObject {
TNimType* m_type;
};
struct TY143135 {
NU8 Kind;
NI Ival;
NimStringDesc* Symbol;
NI Line;
NI Col;
};
struct TY143690 {
  TNimObject Sup;
NI Idx;
TY143137* Tok;
TY143686* S;
TY73281* Indentstack;
NimStringDesc* Filename;
NI Line;
NI Col;
NIM_BOOL Hastoc;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct TY143684 {
NimStringDesc* Key;
TY143077* Value;
};
typedef NI TY24135[256];
struct TY143686 {
NI Ulevel;
NI Olevel;
TY143695* Subs;
TY143695* Refs;
TY24135 Underlinetolevel;
TY24135 Overlinetolevel;
};
struct TY10402 {
NI Refcount;
TNimType* Typ;
};
struct TY10418 {
NI Len;
NI Cap;
TY10402** D;
};
struct TY10414 {
NI Counter;
NI Max;
TY10410* Head;
TY10410** Data;
};
struct TY10788 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY10790 {
TY10418 Zct;
TY10418 Decstack;
TY10414 Cycleroots;
TY10418 Tempstack;
TY10788 Stat;
};
struct TY143139 {
  TNimObject Sup;
NCSTRING Buf;
NI Bufpos;
NI Line;
NI Col;
NI Baseindent;
NIM_BOOL Skippounds;
};
struct TY143077 {
NU8 Kind;
NimStringDesc* Text;
NI Level;
TY143075* Sons;
};
struct TY45532 {
NI16 Line;
NI16 Col;
int Fileindex;
};
typedef N_NIMCALL_PTR(TY143077*, TY147055) (TY143690* P_147061);
typedef NimStringDesc* TY146823[3];
typedef NI TY146828[3];
typedef NI TY8414[8];
struct TY10410 {
TY10410* Next;
NI Key;
TY8414 Bits;
};
struct TY143137 {
  TGenericSeq Sup;
  TY143135 data[SEQ_DECL_SIZE];
};
struct TY73281 {
  TGenericSeq Sup;
  NI data[SEQ_DECL_SIZE];
};
struct TY143695 {
  TGenericSeq Sup;
  TY143684 data[SEQ_DECL_SIZE];
};
struct TY143075 {
  TGenericSeq Sup;
  TY143077* data[SEQ_DECL_SIZE];
};
struct TY37422 {
  TGenericSeq Sup;
  NimStringDesc* data[SEQ_DECL_SIZE];
};
N_NIMCALL(void, Rawmessage_45553)(NU8 Msg_45555, NimStringDesc* Arg_45556);
N_NIMCALL(void, Initparser_143839)(TY143690* P_143842, TY143686* Sharedstate_143843);
N_NIMCALL(void*, newSeq)(TNimType* Typ_12603, NI Len_12604);
N_NIMCALL(void, unsureAsgnRef)(void** Dest_11622, void* Src_11623);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* Src_17108);
N_NIMCALL(TY143686*, Newsharedstate_143710)(void);
N_NIMCALL(void*, newObj)(TNimType* Typ_12107, NI Size_12108);
static N_INLINE(void, asgnRefNoCycle)(void** Dest_11616, void* Src_11617);
static N_INLINE(TY10402*, Usrtocell_10822)(void* Usr_10824);
static N_INLINE(void, Rtladdzct_11456)(TY10402* C_11458);
N_NOINLINE(void, Addzct_10811)(TY10418* S_10814, TY10402* C_10815);
N_NIMCALL(void, Gettokens_143438)(NimStringDesc* Buffer_143440, NIM_BOOL Skippounds_143441, TY143137** Tokens_143443);
N_NIMCALL(TGenericSeq*, setLengthSeq)(TGenericSeq* Seq_17403, NI Elemsize_17404, NI Newlen_17405);
N_NIMCALL(void, Rawgettok_143386)(TY143139* L_143389, TY143135* Tok_143391);
N_NIMCALL(void, Getthing_143158)(TY143139* L_143161, TY143135* Tok_143163, TY20402 S_143164);
N_NIMCALL(NimStringDesc*, addChar)(NimStringDesc* S_1603, NIM_CHAR C_1604);
N_NIMCALL(void, Getindent_143358)(TY143139* L_143361, TY143135* Tok_143363);
N_NIMCALL(NI, Getindentaux_143237)(TY143139* L_143240, NI Start_143241);
static N_INLINE(void, appendString)(NimStringDesc* Dest_17192, NimStringDesc* Src_17193);
N_NIMCALL(NimStringDesc*, nsuRepeatChar)(NI Count_23750, NIM_CHAR C_23751);
N_NIMCALL(NimStringDesc*, rawNewString)(NI Space_17087);
N_NIMCALL(void, Getadornment_143202)(TY143139* L_143205, TY143135* Tok_143207);
N_NIMCALL(TY143077*, Resolvesubs_147478)(TY143690* P_147481, TY143077* N_147482);
N_NIMCALL(NI, Findsub_143998)(TY143690* P_144001, TY143077* N_144002);
N_NIMCALL(NimStringDesc*, Addnodes_143108)(TY143077* N_143110);
N_NIMCALL(void, Addnodesaux_143874)(TY143077* N_143876, NimStringDesc** Result_143878);
N_NIMCALL(NimStringDesc*, resizeString)(NimStringDesc* Dest_17182, NI Addlen_17183);
N_NIMCALL(NI, Rsonslen_143091)(TY143077* N_143093);
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* A_17047, NimStringDesc* B_17048);
N_NIMCALL(NI, nsuCmpIgnoreStyle)(NimStringDesc* A_22638, NimStringDesc* B_22639);
N_NIMCALL(NimStringDesc*, Getenv_37625)(NimStringDesc* Key_37627);
N_NIMCALL(TY143077*, Newrstnode_143097)(NU8 Kind_143099, NimStringDesc* S_143100);
N_NIMCALL(TY143077*, Newrstnode_143094)(NU8 Kind_143096);
N_NIMCALL(void, Rstmessage_143765)(TY143690* P_143767, NU8 Msgkind_143768, NimStringDesc* Arg_143769);
N_NIMCALL(void, Limessage_45562)(TY45532 Info_45564, NU8 Msg_45565, NimStringDesc* Arg_45566);
N_NIMCALL(TY45532, Tokinfo_143760)(TY143690* P_143762, TY143135* Tok_143763);
N_NIMCALL(TY45532, Newlineinfo_45574)(NimStringDesc* Filename_45576, NI Line_45577, NI Col_45578);
N_NIMCALL(TY143077*, Findref_144121)(TY143690* P_144124, NimStringDesc* Key_144125);
N_NIMCALL(NimStringDesc*, Rstnodetorefname_143105)(TY143077* N_143107);
N_NIMCALL(void, Rstnodetorefnameaux_143922)(TY143077* N_143924, NimStringDesc** R_143926, NIM_BOOL* B_143928);
N_NIMCALL(void, Addson_143101)(TY143077* Father_143103, TY143077* Son_143104);
N_NIMCALL(TGenericSeq*, incrSeq)(TGenericSeq* Seq_17235, NI Elemsize_17236);
N_NIMCALL(TY143077*, Parsedoc_146151)(TY143690* P_146154);
N_NIMCALL(TY143077*, Parsesectionwrapper_147019)(TY143690* P_147022);
N_NIMCALL(void, Parsesection_145508)(TY143690* P_145511, TY143077* Result_145512);
N_NIMCALL(NI, Currind_143774)(TY143690* P_143776);
N_NIMCALL(void, Pushind_143778)(TY143690* P_143781, NI Ind_143782);
N_NIMCALL(void, Popind_143801)(TY143690* P_143804);
N_NIMCALL(NU8, Whichsection_145858)(TY143690* P_145860);
N_NIMCALL(NIM_BOOL, Match_144762)(TY143690* P_144764, NI Start_144765, NimStringDesc* Expr_144766);
N_NIMCALL(NIM_BOOL, Allcharsinset_23830)(NimStringDesc* S_23832, TY20402 Theset_23833);
N_NIMCALL(NI, Tokenafternewline_145784)(TY143690* P_145786);
N_NIMCALL(NIM_BOOL, Prednl_145822)(TY143690* P_145824);
N_NIMCALL(NIM_BOOL, Islineblock_145813)(TY143690* P_145815);
N_NIMCALL(void, Rstmessage_143770)(TY143690* P_143772, NU8 Msgkind_143773);
N_NIMCALL(NIM_BOOL, Isdeflist_145839)(TY143690* P_145841);
N_NIMCALL(TY143077*, Parseliteralblock_145682)(TY143690* P_145685);
N_NIMCALL(TY143077*, Parsebulletlist_146567)(TY143690* P_146570);
N_NIMCALL(TY143077*, Parselineblock_145871)(TY143690* P_145874);
N_NIMCALL(TY143077*, Parsedotdot_145678)(TY143690* P_145681);
N_NIMCALL(NimStringDesc*, Getdirective_145270)(TY143690* P_145273);
N_NIMCALL(NU8, Getdirkind_145495)(NimStringDesc* S_145497);
N_NIMCALL(NI, Binarystrsearch_44147)(NimStringDesc** X_44150, NI X_44150Len0, NimStringDesc* Y_44151);
N_NIMCALL(TY143077*, Dirinclude_147211)(TY143690* P_147214);
N_NIMCALL(TY143077*, Parsedirective_147197)(TY143690* P_147200, NU8 Flags_147201, TY147055 Contentparser_147202);
N_NIMCALL(TY143077*, Parsedirective_147063)(TY143690* P_147066, NU8 Flags_147067);
N_NIMCALL(TY143077*, Newleaf_144513)(TY143690* P_144516);
N_NIMCALL(void, Parseline_145502)(TY143690* P_145505, TY143077* Father_145506);
N_NIMCALL(void, Parseinline_145188)(TY143690* P_145191, TY143077* Father_145192);
N_NIMCALL(NIM_BOOL, Isinlinemarkupstart_144640)(TY143690* P_144642, NimStringDesc* Markup_144643);
N_NIMCALL(void, Parseuntil_145111)(TY143690* P_145114, TY143077* Father_145115, NimStringDesc* Postfix_145116, NIM_BOOL Interpretbackslash_145117);
N_NIMCALL(NIM_BOOL, Isinlinemarkupend_144597)(TY143690* P_144599, NimStringDesc* Markup_144600);
N_NIMCALL(void, Parsebackslash_144691)(TY143690* P_144694, TY143077* Father_144695);
N_NIMCALL(TY143077*, Parsepostfix_145010)(TY143690* P_145013, TY143077* N_145014);
N_NIMCALL(void, Fixupembeddedref_144941)(TY143077* N_144943, TY143077* A_144944, TY143077* B_144945);
N_NIMCALL(void, Setref_144078)(TY143690* P_144081, NimStringDesc* Key_144082, TY143077* Value_144083);
N_NIMCALL(void, Parseurl_145067)(TY143690* P_145070, TY143077* Father_145071);
N_NIMCALL(NIM_BOOL, Isurl_145053)(TY143690* P_145055, NI I_145056);
N_NIMCALL(TY143077*, Parsefields_145554)(TY143690* P_145557);
N_NIMCALL(TY143077*, Parsefield_145513)(TY143690* P_145516);
N_NIMCALL(NIM_BOOL, Indfollows_147182)(TY143690* P_147184);
N_NIMCALL(NimStringDesc*, nsuStrip)(NimStringDesc* S_22981, NIM_BOOL Leading_22982, NIM_BOOL Trailing_22983);
N_NIMCALL(NimStringDesc*, Findfile_44088)(NimStringDesc* F_44090);
N_NIMCALL(NimStringDesc*, Getfieldvalue_143111)(TY143077* N_143113, NimStringDesc* Fieldname_143114);
N_NIMCALL(void, Internalerror_45571)(NimStringDesc* Errmsg_45573);
N_NIMCALL(NimStringDesc*, reprEnum)(NI E_18179, TNimType* Typ_18180);
N_NIMCALL(NimStringDesc*, Readfile_3647)(NimStringDesc* Filename_3649);
N_NIMCALL(NI, nsuFindStr)(NimStringDesc* S_24219, NimStringDesc* Sub_24220, NI Start_24221);
N_NIMCALL(TY143077*, Dirimage_147252)(TY143690* P_147255);
N_NIMCALL(TY143077*, Dirfigure_147258)(TY143690* P_147261);
N_NIMCALL(TY143077*, Dirtitle_147264)(TY143690* P_147267);
N_NIMCALL(TY143077*, Dircontainer_147235)(TY143690* P_147238);
N_NIMCALL(TY143077*, Dircontents_147270)(TY143690* P_147273);
N_NIMCALL(TY143077*, Dirraw_147302)(TY143690* P_147305);
N_NIMCALL(NI, nsuCmpIgnoreCase)(NimStringDesc* A_22595, NimStringDesc* B_22596);
N_NIMCALL(void, Dirrawaux_147283)(TY143690* P_147286, TY143077** Result_147288, NU8 Kind_147289, TY147055 Contentparser_147290);
N_NIMCALL(TY143077*, Parsedirbody_147205)(TY143690* P_147208, TY147055 Contentparser_147209);
N_NIMCALL(TY143077*, Dircodeblock_147226)(TY143690* P_147229);
N_NIMCALL(TY143077*, Dirindex_147276)(TY143690* P_147279);
N_NIMCALL(TY143077*, Getreferencename_144518)(TY143690* P_144521, NimStringDesc* Endstr_144522);
N_NIMCALL(TY143077*, Untileol_144550)(TY143690* P_144553);
N_NIMCALL(void, Expect_144580)(TY143690* P_144583, NimStringDesc* Tok_144584);
N_NIMCALL(void, Setsub_144035)(TY143690* P_144038, NimStringDesc* Key_144039, TY143077* Value_144040);
N_NIMCALL(TY143077*, Parsecomment_145397)(TY143690* P_145400);
N_NIMCALL(TY143077*, Parseenumlist_146817)(TY143690* P_146820);
N_NIMCALL(TY143077*, Parsedefinitionlist_146723)(TY143690* P_146726);
N_NIMCALL(TY143077*, Parsetransition_146422)(TY143690* P_146425);
N_NIMCALL(TY143077*, Parseheadline_146001)(TY143690* P_146004);
N_NIMCALL(NI, Getlevel_145762)(NI* Map_145765, NI* Lvl_145767, NIM_CHAR C_145768);
N_NIMCALL(TY143077*, Parseoverline_146481)(TY143690* P_146484);
N_NIMCALL(TY143077*, Parsesimpletable_146155)(TY143690* P_146158);
N_NIMCALL(void, Getcolumns_146047)(TY143690* P_146050, TY73281** Cols_146052);
N_NIMCALL(NI, Tokend_146041)(TY143690* P_146043);
N_NIMCALL(TY143077*, Parseoptionlist_146629)(TY143690* P_146632);
N_NIMCALL(void, Parseparagraph_145932)(TY143690* P_145935, TY143077* Result_145936);
N_NIMCALL(void, Addsonifnotnil_143598)(TY143077* Father_143600, TY143077* Son_143601);
N_NIMCALL(NU8, Sonkind_146903)(TY143077* Father_146905, NI I_146906);
N_NIMCALL(NIM_BOOL, Matcheshyperlink_144250)(TY143077* H_144252, NimStringDesc* Filename_144253);
N_NIMCALL(NIM_BOOL, nsuStartsWith)(NimStringDesc* S_23769, NimStringDesc* Prefix_23770);
N_NIMCALL(NIM_BOOL, Eqrstnodes_144211)(TY143077* A_144213, TY143077* B_144214);
N_NIMCALL(NI, Cmpnodes_144141)(TY143077* A_144143, TY143077* B_144144);
NIM_CONST TY20402 Symchars_143130 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0x03,
0xFE, 0xFF, 0xFF, 0x07, 0xFE, 0xFF, 0xFF, 0x07,
0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF}
;
STRING_LITERAL(TMP145483, "", 0);
STRING_LITERAL(TMP145484, "author", 6);
STRING_LITERAL(TMP145485, "authors", 7);
STRING_LITERAL(TMP145486, "code-block", 10);
STRING_LITERAL(TMP145487, "container", 9);
STRING_LITERAL(TMP145488, "contents", 8);
STRING_LITERAL(TMP145489, "figure", 6);
STRING_LITERAL(TMP145490, "image", 5);
STRING_LITERAL(TMP145491, "include", 7);
STRING_LITERAL(TMP145492, "index", 5);
STRING_LITERAL(TMP145493, "raw", 3);
STRING_LITERAL(TMP145494, "title", 5);
NIM_CONST TY145479 Dirids_145478 = {((NimStringDesc*) &TMP145483),
((NimStringDesc*) &TMP145484),
((NimStringDesc*) &TMP145485),
((NimStringDesc*) &TMP145486),
((NimStringDesc*) &TMP145487),
((NimStringDesc*) &TMP145488),
((NimStringDesc*) &TMP145489),
((NimStringDesc*) &TMP145490),
((NimStringDesc*) &TMP145491),
((NimStringDesc*) &TMP145492),
((NimStringDesc*) &TMP145493),
((NimStringDesc*) &TMP145494)}
;
static NIM_CONST TY20402 TMP195098 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0x03,
0xFE, 0xFF, 0xFF, 0x07, 0xFE, 0xFF, 0xFF, 0x07,
0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF}
;static NIM_CONST TY20402 TMP195099 = {
0x00, 0x02, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP195100, "\012", 1);
STRING_LITERAL(TMP195101, "#", 1);
static NIM_CONST TY20402 TMP195102 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0x03,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP195103, "ii", 2);
STRING_LITERAL(TMP195104, " a", 2);
STRING_LITERAL(TMP195105, "i", 1);
STRING_LITERAL(TMP195106, "ai", 2);
STRING_LITERAL(TMP195107, "::", 2);
STRING_LITERAL(TMP195108, "+", 1);
STRING_LITERAL(TMP195109, "*", 1);
STRING_LITERAL(TMP195110, "-", 1);
STRING_LITERAL(TMP195111, "|", 1);
STRING_LITERAL(TMP195112, "..", 2);
STRING_LITERAL(TMP195113, ":", 1);
STRING_LITERAL(TMP195114, "(e) ", 4);
STRING_LITERAL(TMP195115, "+a+", 3);
STRING_LITERAL(TMP195116, "-w", 2);
STRING_LITERAL(TMP195117, "--w", 3);
STRING_LITERAL(TMP195118, "/w", 2);
STRING_LITERAL(TMP195119, "e) ", 3);
STRING_LITERAL(TMP195120, "e. ", 3);
static NIM_CONST TY20402 TMP195121 = {
0x00, 0x00, 0x00, 0x00, 0x84, 0xA1, 0x00, 0x14,
0x00, 0x00, 0x00, 0x88, 0x00, 0x00, 0x00, 0x08,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP195122, "\\", 1);
STRING_LITERAL(TMP195123, "**", 2);
static NIM_CONST TY20402 TMP195124 = {
0x00, 0x00, 0x00, 0x00, 0x86, 0xF2, 0x00, 0xCC,
0x00, 0x00, 0x00, 0xB0, 0x00, 0x00, 0x00, 0x20,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;STRING_LITERAL(TMP195125, "``", 2);
STRING_LITERAL(TMP195126, "\\\\", 2);
STRING_LITERAL(TMP195127, " ", 1);
STRING_LITERAL(TMP195128, "`", 1);
STRING_LITERAL(TMP195129, "_", 1);
STRING_LITERAL(TMP195130, ">", 1);
STRING_LITERAL(TMP195131, "<", 1);
STRING_LITERAL(TMP195132, ":w:", 3);
STRING_LITERAL(TMP195133, "idx", 3);
STRING_LITERAL(TMP195134, "literal", 7);
STRING_LITERAL(TMP195135, "strong", 6);
STRING_LITERAL(TMP195136, "emphasis", 8);
STRING_LITERAL(TMP195137, "sub", 3);
STRING_LITERAL(TMP195138, "subscript", 9);
STRING_LITERAL(TMP195139, "sup", 3);
STRING_LITERAL(TMP195140, "supscript", 9);
STRING_LITERAL(TMP195141, "//", 2);
STRING_LITERAL(TMP195142, ".", 1);
STRING_LITERAL(TMP195143, "getFieldValue (2): ", 19);
STRING_LITERAL(TMP195144, "\001\001", 2);
STRING_LITERAL(TMP195145, "\000\001\002", 3);
STRING_LITERAL(TMP195146, "Too many binary zeros in include file", 37);
STRING_LITERAL(TMP195147, "html", 4);
STRING_LITERAL(TMP195148, "file", 4);
STRING_LITERAL(TMP195149, "latex", 5);
STRING_LITERAL(TMP195150, " _", 2);
STRING_LITERAL(TMP195151, " |", 2);
STRING_LITERAL(TMP195152, "replace", 7);
STRING_LITERAL(TMP195153, " [", 2);
STRING_LITERAL(TMP195154, "]", 1);
NIM_CONST TY146823 Wildcards_146822 = {((NimStringDesc*) &TMP195114),
((NimStringDesc*) &TMP195119),
((NimStringDesc*) &TMP195120)}
;
NIM_CONST TY146828 Wildpos_146827 = {1,
0,
0}
;
extern NIM_CONST TY146823 Wildcards_146822;
extern NIM_CONST TY146828 Wildpos_146827;
STRING_LITERAL(TMP195155, "rst.parseSection()", 18);
extern TNimType* NTI143690; /* TRstParser */
extern TNimType* NTI73281; /* seq[int] */
extern TNimType* NTI143137; /* TTokenSeq */
extern TNimType* NTI143688; /* PSharedState */
extern TNimType* NTI143695; /* seq[TSubstitution] */
extern TY10790 Gch_10808;
extern TNimType* NTI143139; /* TLexer */
extern TNimType* NTI143073; /* PRSTNode */
extern TNimType* NTI143075; /* TRstNodeSeq */
extern TNimType* NTI143008; /* TRstNodeKind */
extern TNimType* NTI37422; /* seq[string] */
N_NIMCALL(void, Initparser_143839)(TY143690* P_143842, TY143686* Sharedstate_143843) {
unsureAsgnRef((void**) &(*P_143842).Indentstack, (TY73281*) newSeq(NTI73281, 1));
(*P_143842).Indentstack->data[0] = 0;
unsureAsgnRef((void**) &(*P_143842).Tok, (TY143137*) newSeq(NTI143137, 0));
(*P_143842).Idx = 0;
unsureAsgnRef((void**) &(*P_143842).Filename, copyString(((NimStringDesc*) &TMP145483)));
(*P_143842).Hastoc = NIM_FALSE;
(*P_143842).Col = 0;
(*P_143842).Line = 1;
unsureAsgnRef((void**) &(*P_143842).S, Sharedstate_143843);
}
static N_INLINE(TY10402*, Usrtocell_10822)(void* Usr_10824) {
TY10402* Result_10825;
Result_10825 = 0;
Result_10825 = ((TY10402*) ((NI64)((NU64)(((NI) (Usr_10824))) - (NU64)(((NI) (((NI)sizeof(TY10402))))))));
return Result_10825;
}
static N_INLINE(void, Rtladdzct_11456)(TY10402* C_11458) {
Addzct_10811(&Gch_10808.Zct, C_11458);
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_11616, void* Src_11617) {
TY10402* C_11618;
TY10402* C_11619;
if (!!((Src_11617 == NIM_NIL))) goto LA2;
C_11618 = 0;
C_11618 = Usrtocell_10822(Src_11617);
(*C_11618).Refcount = (NI64)((NU64)((*C_11618).Refcount) + (NU64)(8));
LA2: ;
if (!!(((*Dest_11616) == NIM_NIL))) goto LA5;
C_11619 = 0;
C_11619 = Usrtocell_10822((*Dest_11616));
(*C_11619).Refcount = (NI64)((NU64)((*C_11619).Refcount) - (NU64)(8));
if (!((NU64)((*C_11619).Refcount) < (NU64)(8))) goto LA8;
Rtladdzct_11456(C_11619);
LA8: ;
LA5: ;
(*Dest_11616) = Src_11617;
}
N_NIMCALL(TY143686*, Newsharedstate_143710)(void) {
TY143686* Result_143712;
Result_143712 = 0;
Result_143712 = (TY143686*) newObj(NTI143688, sizeof(TY143686));
asgnRefNoCycle((void**) &(*Result_143712).Subs, (TY143695*) newSeq(NTI143695, 0));
asgnRefNoCycle((void**) &(*Result_143712).Refs, (TY143695*) newSeq(NTI143695, 0));
return Result_143712;
}
N_NIMCALL(void, Getthing_143158)(TY143139* L_143161, TY143135* Tok_143163, TY20402 S_143164) {
NI Pos_143165;
(*Tok_143163).Kind = ((NU8) 3);
(*Tok_143163).Line = (*L_143161).Line;
(*Tok_143163).Col = (*L_143161).Col;
Pos_143165 = 0;
Pos_143165 = (*L_143161).Bufpos;
while (1) {
(*Tok_143163).Symbol = addChar((*Tok_143163).Symbol, (*L_143161).Buf[Pos_143165]);
Pos_143165 += 1;
if (!!(((S_143164[((NU8)((*L_143161).Buf[Pos_143165]))/8] &(1<<(((NU8)((*L_143161).Buf[Pos_143165]))%8)))!=0))) goto LA3;
goto LA1;
LA3: ;
} LA1: ;
(*L_143161).Col += (NI64)(Pos_143165 - (*L_143161).Bufpos);
(*L_143161).Bufpos = Pos_143165;
}
N_NIMCALL(NI, Getindentaux_143237)(TY143139* L_143240, NI Start_143241) {
NI Result_143242;
NI Pos_143243;
NCSTRING Buf_143244;
NIM_BOOL LOC22;
Result_143242 = 0;
Pos_143243 = 0;
Pos_143243 = Start_143241;
Buf_143244 = 0;
Buf_143244 = (*L_143240).Buf;
if (!((NU8)(Buf_143244[Pos_143243]) == (NU8)(13))) goto LA2;
if (!((NU8)(Buf_143244[(NI64)(Pos_143243 + 1)]) == (NU8)(10))) goto LA5;
Pos_143243 += 2;
goto LA4;
LA5: ;
Pos_143243 += 1;
LA4: ;
goto LA1;
LA2: ;
if (!((NU8)(Buf_143244[Pos_143243]) == (NU8)(10))) goto LA7;
Pos_143243 += 1;
goto LA1;
LA7: ;
LA1: ;
if (!(*L_143240).Skippounds) goto LA10;
if (!((NU8)(Buf_143244[Pos_143243]) == (NU8)(35))) goto LA13;
Pos_143243 += 1;
LA13: ;
if (!((NU8)(Buf_143244[Pos_143243]) == (NU8)(35))) goto LA16;
Pos_143243 += 1;
LA16: ;
LA10: ;
while (1) {
switch (((NU8)(Buf_143244[Pos_143243]))) {
case 32:
case 11:
case 12:
Pos_143243 += 1;
Result_143242 += 1;
break;
case 9:
Pos_143243 += 1;
Result_143242 = (NI64)((NI64)(Result_143242 - (NI64)(Result_143242 % 8)) + 8);
break;
default:
goto LA18;
break;
}
} LA18: ;
if (!((NU8)(Buf_143244[Pos_143243]) == (NU8)(0))) goto LA20;
Result_143242 = 0;
goto LA19;
LA20: ;
LOC22 = ((NU8)(Buf_143244[Pos_143243]) == (NU8)(10));
if (LOC22) goto LA23;
LOC22 = ((NU8)(Buf_143244[Pos_143243]) == (NU8)(13));
LA23: ;
if (!LOC22) goto LA24;
Result_143242 = Getindentaux_143237(L_143240, Pos_143243);
goto LA19;
LA24: ;
LA19: ;
(*L_143240).Bufpos = Pos_143243;
return Result_143242;
}
static N_INLINE(void, appendString)(NimStringDesc* Dest_17192, NimStringDesc* Src_17193) {
memcpy(((NCSTRING) (&(*Dest_17192).data[((*Dest_17192).Sup.len)-0])), ((NCSTRING) ((*Src_17193).data)), ((int) ((NI64)((NI64)((*Src_17193).Sup.len + 1) * 1))));
(*Dest_17192).Sup.len += (*Src_17193).Sup.len;
}
N_NIMCALL(void, Getindent_143358)(TY143139* L_143361, TY143135* Tok_143363) {
NimStringDesc* LOC1;
NimStringDesc* LOC2;
(*L_143361).Line += 1;
(*Tok_143363).Line = (*L_143361).Line;
(*Tok_143363).Col = 0;
(*Tok_143363).Kind = ((NU8) 1);
(*Tok_143363).Ival = Getindentaux_143237(L_143361, (*L_143361).Bufpos);
(*L_143361).Col = (*Tok_143363).Ival;
(*Tok_143363).Ival = (((NI64)((*Tok_143363).Ival - (*L_143361).Baseindent) >= 0) ? (NI64)((*Tok_143363).Ival - (*L_143361).Baseindent) : 0);
LOC2 = nsuRepeatChar((*Tok_143363).Ival, 32);
LOC1 = rawNewString(LOC2->Sup.len + 1);
appendString(LOC1, ((NimStringDesc*) &TMP195100));
appendString(LOC1, LOC2);
unsureAsgnRef((void**) &(*Tok_143363).Symbol, LOC1);
}
N_NIMCALL(void, Getadornment_143202)(TY143139* L_143205, TY143135* Tok_143207) {
NI Pos_143208;
NIM_CHAR C_143209;
(*Tok_143207).Kind = ((NU8) 4);
(*Tok_143207).Line = (*L_143205).Line;
(*Tok_143207).Col = (*L_143205).Col;
Pos_143208 = 0;
Pos_143208 = (*L_143205).Bufpos;
C_143209 = 0;
C_143209 = (*L_143205).Buf[Pos_143208];
while (1) {
(*Tok_143207).Symbol = addChar((*Tok_143207).Symbol, (*L_143205).Buf[Pos_143208]);
Pos_143208 += 1;
if (!!(((NU8)((*L_143205).Buf[Pos_143208]) == (NU8)(C_143209)))) goto LA3;
goto LA1;
LA3: ;
} LA1: ;
(*L_143205).Col += (NI64)(Pos_143208 - (*L_143205).Bufpos);
(*L_143205).Bufpos = Pos_143208;
}
N_NIMCALL(void, Rawgettok_143386)(TY143139* L_143389, TY143135* Tok_143391) {
NIM_CHAR C_143392;
unsureAsgnRef((void**) &(*Tok_143391).Symbol, copyString(((NimStringDesc*) &TMP145483)));
(*Tok_143391).Ival = 0;
C_143392 = 0;
C_143392 = (*L_143389).Buf[(*L_143389).Bufpos];
switch (((NU8)(C_143392))) {
case 97 ... 122:
case 65 ... 90:
case 128 ... 255:
case 48 ... 57:
Getthing_143158(L_143389, Tok_143391, TMP195098);
break;
case 32:
case 9:
case 11:
case 12:
Getthing_143158(L_143389, Tok_143391, TMP195099);
(*Tok_143391).Kind = ((NU8) 2);
if (!(((NU8)((*L_143389).Buf[(*L_143389).Bufpos])) == ((NU8)(13)) || ((NU8)((*L_143389).Buf[(*L_143389).Bufpos])) == ((NU8)(10)))) goto LA2;
Rawgettok_143386(L_143389, Tok_143391);
LA2: ;
break;
case 13:
case 10:
Getindent_143358(L_143389, Tok_143391);
break;
case 33:
case 34:
case 35:
case 36:
case 37:
case 38:
case 39:
case 40:
case 41:
case 42:
case 43:
case 44:
case 45:
case 46:
case 47:
case 58:
case 59:
case 60:
case 61:
case 62:
case 63:
case 64:
case 91:
case 92:
case 93:
case 94:
case 95:
case 96:
case 123:
case 124:
case 125:
case 126:
Getadornment_143202(L_143389, Tok_143391);
if (!((*Tok_143391).Symbol->Sup.len <= 3)) goto LA5;
(*Tok_143391).Kind = ((NU8) 5);
LA5: ;
break;
default:
(*Tok_143391).Line = (*L_143389).Line;
(*Tok_143391).Col = (*L_143389).Col;
if (!((NU8)(C_143392) == (NU8)(0))) goto LA8;
(*Tok_143391).Kind = ((NU8) 0);
goto LA7;
LA8: ;
(*Tok_143391).Kind = ((NU8) 6);
(*Tok_143391).Symbol = addChar((*Tok_143391).Symbol, C_143392);
(*L_143389).Bufpos += 1;
(*L_143389).Col += 1;
LA7: ;
break;
}
(*Tok_143391).Col = (((NI64)((*Tok_143391).Col - (*L_143389).Baseindent) >= 0) ? (NI64)((*Tok_143391).Col - (*L_143389).Baseindent) : 0);
}
N_NIMCALL(void, Gettokens_143438)(NimStringDesc* Buffer_143440, NIM_BOOL Skippounds_143441, TY143137** Tokens_143443) {
TY143139 L_143444;
NI Length_143455;
NIM_BOOL LOC2;
NIM_BOOL LOC3;
memset((void*)&L_143444, 0, sizeof(L_143444));
L_143444.Sup.m_type = NTI143139;
Length_143455 = 0;
Length_143455 = (*Tokens_143443)->Sup.len;
L_143444.Buf = Buffer_143440->data;
L_143444.Line = 1;
LOC3 = ((NU8)(L_143444.Buf[0]) == (NU8)(239));
if (!(LOC3)) goto LA4;
LOC3 = ((NU8)(L_143444.Buf[1]) == (NU8)(187));
LA4: ;
LOC2 = LOC3;
if (!(LOC2)) goto LA5;
LOC2 = ((NU8)(L_143444.Buf[2]) == (NU8)(191));
LA5: ;
if (!LOC2) goto LA6;
L_143444.Bufpos += 3;
LA6: ;
L_143444.Skippounds = Skippounds_143441;
if (!Skippounds_143441) goto LA9;
if (!((NU8)(L_143444.Buf[L_143444.Bufpos]) == (NU8)(35))) goto LA12;
L_143444.Bufpos += 1;
LA12: ;
if (!((NU8)(L_143444.Buf[L_143444.Bufpos]) == (NU8)(35))) goto LA15;
L_143444.Bufpos += 1;
LA15: ;
L_143444.Baseindent = 0;
while (1) {
if (!((NU8)(L_143444.Buf[L_143444.Bufpos]) == (NU8)(32))) goto LA17;
L_143444.Bufpos += 1;
L_143444.Baseindent += 1;
} LA17: ;
LA9: ;
while (1) {
Length_143455 += 1;
(*Tokens_143443) = (TY143137*) setLengthSeq(&((*Tokens_143443))->Sup, sizeof(TY143135), Length_143455);
Rawgettok_143386(&L_143444, &(*Tokens_143443)->data[(NI64)(Length_143455 - 1)]);
if (!((*Tokens_143443)->data[(NI64)(Length_143455 - 1)].Kind == ((NU8) 0))) goto LA20;
goto LA18;
LA20: ;
} LA18: ;
if (!((*Tokens_143443)->data[0].Kind == ((NU8) 2))) goto LA23;
(*Tokens_143443)->data[0].Ival = (*Tokens_143443)->data[0].Symbol->Sup.len;
(*Tokens_143443)->data[0].Kind = ((NU8) 1);
LA23: ;
}
N_NIMCALL(NI, Rsonslen_143091)(TY143077* N_143093) {
NI Result_143616;
Result_143616 = 0;
Result_143616 = (*N_143093).Sons->Sup.len;
return Result_143616;
}
N_NIMCALL(void, Addnodesaux_143874)(TY143077* N_143876, NimStringDesc** Result_143878) {
NI I_143910;
NI HEX3Atmp_143912;
NI LOC4;
NI Res_143914;
if (!((*N_143876).Kind == ((NU8) 62))) goto LA2;
(*Result_143878) = resizeString((*Result_143878), (*N_143876).Text->Sup.len + 0);
appendString((*Result_143878), (*N_143876).Text);
goto LA1;
LA2: ;
I_143910 = 0;
HEX3Atmp_143912 = 0;
LOC4 = Rsonslen_143091(N_143876);
HEX3Atmp_143912 = (NI64)(LOC4 - 1);
Res_143914 = 0;
Res_143914 = 0;
while (1) {
if (!(Res_143914 <= HEX3Atmp_143912)) goto LA5;
I_143910 = Res_143914;
Addnodesaux_143874((*N_143876).Sons->data[I_143910], Result_143878);
Res_143914 += 1;
} LA5: ;
LA1: ;
}
N_NIMCALL(NimStringDesc*, Addnodes_143108)(TY143077* N_143110) {
NimStringDesc* Result_143920;
Result_143920 = 0;
Result_143920 = copyString(((NimStringDesc*) &TMP145483));
Addnodesaux_143874(N_143110, &Result_143920);
return Result_143920;
}
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* A_17047, NimStringDesc* B_17048) {
NIM_BOOL Result_17049;
NIM_BOOL LOC5;
NIM_BOOL LOC9;
int LOC11;
Result_17049 = 0;
if (!(A_17047 == B_17048)) goto LA2;
Result_17049 = NIM_TRUE;
goto BeforeRet;
LA2: ;
LOC5 = (A_17047 == NIM_NIL);
if (LOC5) goto LA6;
LOC5 = (B_17048 == NIM_NIL);
LA6: ;
if (!LOC5) goto LA7;
Result_17049 = NIM_FALSE;
goto BeforeRet;
LA7: ;
LOC9 = ((*A_17047).Sup.len == (*B_17048).Sup.len);
if (!(LOC9)) goto LA10;
LOC11 = memcmp(((NCSTRING) ((*A_17047).data)), ((NCSTRING) ((*B_17048).data)), ((int) ((NI64)((*A_17047).Sup.len * 1))));
LOC9 = (LOC11 == ((NI32) 0));
LA10: ;
Result_17049 = LOC9;
goto BeforeRet;
BeforeRet: ;
return Result_17049;
}
N_NIMCALL(NI, Findsub_143998)(TY143690* P_144001, TY143077* N_144002) {
NI Result_144003;
NimStringDesc* Key_144004;
NI I_144012;
NI HEX3Atmp_144024;
NI Res_144026;
NI I_144020;
NI HEX3Atmp_144030;
NI Res_144032;
NI LOC7;
Result_144003 = 0;
Key_144004 = 0;
Key_144004 = Addnodes_143108(N_144002);
I_144012 = 0;
HEX3Atmp_144024 = 0;
HEX3Atmp_144024 = ((*(*P_144001).S).Subs->Sup.len-1);
Res_144026 = 0;
Res_144026 = 0;
while (1) {
if (!(Res_144026 <= HEX3Atmp_144024)) goto LA1;
I_144012 = Res_144026;
if (!eqStrings(Key_144004, (*(*P_144001).S).Subs->data[I_144012].Key)) goto LA3;
Result_144003 = I_144012;
goto BeforeRet;
LA3: ;
Res_144026 += 1;
} LA1: ;
I_144020 = 0;
HEX3Atmp_144030 = 0;
HEX3Atmp_144030 = ((*(*P_144001).S).Subs->Sup.len-1);
Res_144032 = 0;
Res_144032 = 0;
while (1) {
if (!(Res_144032 <= HEX3Atmp_144030)) goto LA5;
I_144020 = Res_144032;
LOC7 = nsuCmpIgnoreStyle(Key_144004, (*(*P_144001).S).Subs->data[I_144020].Key);
if (!(LOC7 == 0)) goto LA8;
Result_144003 = I_144020;
goto BeforeRet;
LA8: ;
Res_144032 += 1;
} LA5: ;
Result_144003 = -1;
BeforeRet: ;
return Result_144003;
}
N_NIMCALL(TY143077*, Newrstnode_143094)(NU8 Kind_143096) {
TY143077* Result_143630;
Result_143630 = 0;
Result_143630 = (TY143077*) newObj(NTI143073, sizeof(TY143077));
asgnRefNoCycle((void**) &(*Result_143630).Sons, (TY143075*) newSeq(NTI143075, 0));
(*Result_143630).Kind = Kind_143096;
return Result_143630;
}
N_NIMCALL(TY143077*, Newrstnode_143097)(NU8 Kind_143099, NimStringDesc* S_143100) {
TY143077* Result_143666;
Result_143666 = 0;
Result_143666 = Newrstnode_143094(Kind_143099);
asgnRefNoCycle((void**) &(*Result_143666).Text, copyString(S_143100));
return Result_143666;
}
N_NIMCALL(TY45532, Tokinfo_143760)(TY143690* P_143762, TY143135* Tok_143763) {
TY45532 Result_143764;
memset((void*)&Result_143764, 0, sizeof(Result_143764));
Result_143764 = Newlineinfo_45574((*P_143762).Filename, (NI64)((*P_143762).Line + (*Tok_143763).Line), (NI64)((*P_143762).Col + (*Tok_143763).Col));
return Result_143764;
}
N_NIMCALL(void, Rstmessage_143765)(TY143690* P_143767, NU8 Msgkind_143768, NimStringDesc* Arg_143769) {
TY45532 LOC1;
LOC1 = Tokinfo_143760(P_143767, &(*P_143767).Tok->data[(*P_143767).Idx]);
Limessage_45562(LOC1, Msgkind_143768, Arg_143769);
}
N_NIMCALL(TY143077*, Findref_144121)(TY143690* P_144124, NimStringDesc* Key_144125) {
TY143077* Result_144126;
NI I_144134;
NI HEX3Atmp_144136;
NI Res_144138;
Result_144126 = 0;
I_144134 = 0;
HEX3Atmp_144136 = 0;
HEX3Atmp_144136 = ((*(*P_144124).S).Refs->Sup.len-1);
Res_144138 = 0;
Res_144138 = 0;
while (1) {
if (!(Res_144138 <= HEX3Atmp_144136)) goto LA1;
I_144134 = Res_144138;
if (!eqStrings(Key_144125, (*(*P_144124).S).Refs->data[I_144134].Key)) goto LA3;
Result_144126 = (*(*P_144124).S).Refs->data[I_144134].Value;
goto BeforeRet;
LA3: ;
Res_144138 += 1;
} LA1: ;
BeforeRet: ;
return Result_144126;
}
N_NIMCALL(void, Rstnodetorefnameaux_143922)(TY143077* N_143924, NimStringDesc** R_143926, NIM_BOOL* B_143928) {
NI I_143947;
NI HEX3Atmp_143980;
NI Res_143982;
NI I_143978;
NI HEX3Atmp_143986;
NI LOC20;
NI Res_143988;
if (!((*N_143924).Kind == ((NU8) 62))) goto LA2;
I_143947 = 0;
HEX3Atmp_143980 = 0;
HEX3Atmp_143980 = (NI64)((NI64)((*N_143924).Text->Sup.len + 0) - 1);
Res_143982 = 0;
Res_143982 = 0;
while (1) {
if (!(Res_143982 <= HEX3Atmp_143980)) goto LA4;
I_143947 = Res_143982;
switch (((NU8)((*N_143924).Text->data[I_143947]))) {
case 48 ... 57:
if (!(*B_143928)) goto LA6;
(*R_143926) = addChar((*R_143926), 45);
(*B_143928) = NIM_FALSE;
LA6: ;
if (!((*R_143926)->Sup.len == 0)) goto LA9;
(*R_143926) = addChar((*R_143926), 90);
LA9: ;
(*R_143926) = addChar((*R_143926), (*N_143924).Text->data[I_143947]);
break;
case 97 ... 122:
if (!(*B_143928)) goto LA12;
(*R_143926) = addChar((*R_143926), 45);
(*B_143928) = NIM_FALSE;
LA12: ;
(*R_143926) = addChar((*R_143926), (*N_143924).Text->data[I_143947]);
break;
case 65 ... 90:
if (!(*B_143928)) goto LA15;
(*R_143926) = addChar((*R_143926), 45);
(*B_143928) = NIM_FALSE;
LA15: ;
(*R_143926) = addChar((*R_143926), ((NIM_CHAR) (((NI) ((NI64)((NI64)(((NU8)((*N_143924).Text->data[I_143947])) - 65) + 97))))));
break;
default:
if (!(0 < (*R_143926)->Sup.len)) goto LA18;
(*B_143928) = NIM_TRUE;
LA18: ;
break;
}
Res_143982 += 1;
} LA4: ;
goto LA1;
LA2: ;
I_143978 = 0;
HEX3Atmp_143986 = 0;
LOC20 = Rsonslen_143091(N_143924);
HEX3Atmp_143986 = (NI64)(LOC20 - 1);
Res_143988 = 0;
Res_143988 = 0;
while (1) {
if (!(Res_143988 <= HEX3Atmp_143986)) goto LA21;
I_143978 = Res_143988;
Rstnodetorefnameaux_143922((*N_143924).Sons->data[I_143978], R_143926, B_143928);
Res_143988 += 1;
} LA21: ;
LA1: ;
}
N_NIMCALL(NimStringDesc*, Rstnodetorefname_143105)(TY143077* N_143107) {
NimStringDesc* Result_143994;
NIM_BOOL B_143995;
Result_143994 = 0;
Result_143994 = copyString(((NimStringDesc*) &TMP145483));
B_143995 = 0;
B_143995 = NIM_FALSE;
Rstnodetorefnameaux_143922(N_143107, &Result_143994, &B_143995);
return Result_143994;
}
N_NIMCALL(void, Addson_143101)(TY143077* Father_143103, TY143077* Son_143104) {
(*Father_143103).Sons = (TY143075*) incrSeq(&((*Father_143103).Sons)->Sup, sizeof(TY143077*));
asgnRefNoCycle((void**) &(*Father_143103).Sons->data[(*Father_143103).Sons->Sup.len-1], Son_143104);
}
N_NIMCALL(TY143077*, Resolvesubs_147478)(TY143690* P_147481, TY143077* N_147482) {
TY143077* Result_147483;
NI X_147495;
NimStringDesc* Key_147498;
NimStringDesc* E_147499;
TY143077* Y_147500;
NimStringDesc* LOC10;
NI I_147519;
NI HEX3Atmp_147521;
NI LOC14;
NI Res_147523;
Result_147483 = 0;
Result_147483 = N_147482;
if (!(N_147482 == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
switch ((*N_147482).Kind) {
case ((NU8) 61):
X_147495 = 0;
X_147495 = Findsub_143998(P_147481, N_147482);
if (!(0 <= X_147495)) goto LA5;
Result_147483 = (*(*P_147481).S).Subs->data[X_147495].Value;
goto LA4;
LA5: ;
Key_147498 = 0;
Key_147498 = Addnodes_143108(N_147482);
E_147499 = 0;
E_147499 = Getenv_37625(Key_147498);
if (!!(((E_147499) && (E_147499)->Sup.len == 0))) goto LA8;
Result_147483 = Newrstnode_143097(((NU8) 62), E_147499);
goto LA7;
LA8: ;
Rstmessage_143765(&(*P_147481), ((NU8) 217), Key_147498);
LA7: ;
LA4: ;
break;
case ((NU8) 39):
Y_147500 = 0;
LOC10 = Rstnodetorefname_143105(N_147482);
Y_147500 = Findref_144121(P_147481, LOC10);
if (!!((Y_147500 == NIM_NIL))) goto LA12;
Result_147483 = Newrstnode_143094(((NU8) 38));
(*N_147482).Kind = ((NU8) 0);
Addson_143101(Result_147483, N_147482);
Addson_143101(Result_147483, Y_147500);
LA12: ;
break;
case ((NU8) 62):
break;
case ((NU8) 44):
(*P_147481).Hastoc = NIM_TRUE;
break;
default:
I_147519 = 0;
HEX3Atmp_147521 = 0;
LOC14 = Rsonslen_143091(N_147482);
HEX3Atmp_147521 = (NI64)(LOC14 - 1);
Res_147523 = 0;
Res_147523 = 0;
while (1) {
if (!(Res_147523 <= HEX3Atmp_147521)) goto LA15;
I_147519 = Res_147523;
asgnRefNoCycle((void**) &(*N_147482).Sons->data[I_147519], Resolvesubs_147478(P_147481, (*N_147482).Sons->data[I_147519]));
Res_147523 += 1;
} LA15: ;
break;
}
BeforeRet: ;
return Result_147483;
}
N_NIMCALL(NI, Currind_143774)(TY143690* P_143776) {
NI Result_143777;
Result_143777 = 0;
Result_143777 = (*P_143776).Indentstack->data[((*P_143776).Indentstack->Sup.len-1)];
return Result_143777;
}
N_NIMCALL(void, Pushind_143778)(TY143690* P_143781, NI Ind_143782) {
(*P_143781).Indentstack = (TY73281*) incrSeq(&((*P_143781).Indentstack)->Sup, sizeof(NI));
(*P_143781).Indentstack->data[(*P_143781).Indentstack->Sup.len-1] = Ind_143782;
}
N_NIMCALL(void, Popind_143801)(TY143690* P_143804) {
if (!(1 < (*P_143804).Indentstack->Sup.len)) goto LA2;
(*P_143804).Indentstack = (TY73281*) setLengthSeq(&((*P_143804).Indentstack)->Sup, sizeof(NI), (NI64)((*P_143804).Indentstack->Sup.len - 1));
LA2: ;
}
N_NIMCALL(NIM_BOOL, Match_144762)(TY143690* P_144764, NI Start_144765, NimStringDesc* Expr_144766) {
NIM_BOOL Result_144767;
NI I_144768;
NI J_144769;
NI Last_144772;
NIM_BOOL LOC2;
NIM_CHAR C_144855;
NI Length_144856;
NIM_BOOL LOC8;
NIM_BOOL LOC10;
NIM_BOOL LOC11;
Result_144767 = 0;
I_144768 = 0;
I_144768 = 0;
J_144769 = 0;
J_144769 = Start_144765;
Last_144772 = 0;
Last_144772 = (NI64)((NI64)(Expr_144766->Sup.len + 0) - 1);
while (1) {
if (!(I_144768 <= Last_144772)) goto LA1;
switch (((NU8)(Expr_144766->data[I_144768]))) {
case 119:
Result_144767 = ((*P_144764).Tok->data[J_144769].Kind == ((NU8) 3));
break;
case 32:
Result_144767 = ((*P_144764).Tok->data[J_144769].Kind == ((NU8) 2));
break;
case 105:
Result_144767 = ((*P_144764).Tok->data[J_144769].Kind == ((NU8) 1));
break;
case 112:
Result_144767 = ((*P_144764).Tok->data[J_144769].Kind == ((NU8) 5));
break;
case 97:
Result_144767 = ((*P_144764).Tok->data[J_144769].Kind == ((NU8) 4));
break;
case 111:
Result_144767 = ((*P_144764).Tok->data[J_144769].Kind == ((NU8) 6));
break;
case 84:
Result_144767 = NIM_TRUE;
break;
case 69:
Result_144767 = ((7 &(1<<(((*P_144764).Tok->data[J_144769].Kind)&7)))!=0);
break;
case 101:
LOC2 = ((*P_144764).Tok->data[J_144769].Kind == ((NU8) 3));
if (LOC2) goto LA3;
LOC2 = eqStrings((*P_144764).Tok->data[J_144769].Symbol, ((NimStringDesc*) &TMP195101));
LA3: ;
Result_144767 = LOC2;
if (!Result_144767) goto LA5;
switch (((NU8)((*P_144764).Tok->data[J_144769].Symbol->data[0]))) {
case 97 ... 122:
case 65 ... 90:
Result_144767 = ((*P_144764).Tok->data[J_144769].Symbol->Sup.len == 1);
break;
case 48 ... 57:
Result_144767 = Allcharsinset_23830((*P_144764).Tok->data[J_144769].Symbol, TMP195102);
break;
default:
break;
}
LA5: ;
break;
default:
C_144855 = 0;
C_144855 = Expr_144766->data[I_144768];
Length_144856 = 0;
Length_144856 = 0;
while (1) {
LOC8 = (I_144768 <= Last_144772);
if (!(LOC8)) goto LA9;
LOC8 = ((NU8)(Expr_144766->data[I_144768]) == (NU8)(C_144855));
LA9: ;
if (!LOC8) goto LA7;
I_144768 += 1;
Length_144856 += 1;
} LA7: ;
I_144768 -= 1;
LOC11 = ((48 &(1<<(((*P_144764).Tok->data[J_144769].Kind)&7)))!=0);
if (!(LOC11)) goto LA12;
LOC11 = ((*P_144764).Tok->data[J_144769].Symbol->Sup.len == Length_144856);
LA12: ;
LOC10 = LOC11;
if (!(LOC10)) goto LA13;
LOC10 = ((NU8)((*P_144764).Tok->data[J_144769].Symbol->data[0]) == (NU8)(C_144855));
LA13: ;
Result_144767 = LOC10;
break;
}
if (!!(Result_144767)) goto LA15;
goto BeforeRet;
LA15: ;
J_144769 += 1;
I_144768 += 1;
} LA1: ;
Result_144767 = NIM_TRUE;
BeforeRet: ;
return Result_144767;
}
N_NIMCALL(NI, Tokenafternewline_145784)(TY143690* P_145786) {
NI Result_145787;
Result_145787 = 0;
Result_145787 = (*P_145786).Idx;
while (1) {
switch ((*P_145786).Tok->data[Result_145787].Kind) {
case ((NU8) 0):
goto LA1;
break;
case ((NU8) 1):
Result_145787 += 1;
goto LA1;
break;
default:
Result_145787 += 1;
break;
}
} LA1: ;
return Result_145787;
}
N_NIMCALL(NIM_BOOL, Prednl_145822)(TY143690* P_145824) {
NIM_BOOL Result_145825;
NIM_BOOL LOC4;
NI LOC6;
Result_145825 = 0;
Result_145825 = NIM_TRUE;
if (!(0 < (*P_145824).Idx)) goto LA2;
LOC4 = ((*P_145824).Tok->data[(NI64)((*P_145824).Idx - 1)].Kind == ((NU8) 1));
if (!(LOC4)) goto LA5;
LOC6 = Currind_143774(P_145824);
LOC4 = ((*P_145824).Tok->data[(NI64)((*P_145824).Idx - 1)].Ival == LOC6);
LA5: ;
Result_145825 = LOC4;
LA2: ;
return Result_145825;
}
N_NIMCALL(NIM_BOOL, Islineblock_145813)(TY143690* P_145815) {
NIM_BOOL Result_145816;
NI J_145817;
NIM_BOOL LOC1;
NIM_BOOL LOC2;
Result_145816 = 0;
J_145817 = 0;
J_145817 = Tokenafternewline_145784(P_145815);
LOC2 = ((*P_145815).Tok->data[(*P_145815).Idx].Col == (*P_145815).Tok->data[J_145817].Col);
if (!(LOC2)) goto LA3;
LOC2 = eqStrings((*P_145815).Tok->data[J_145817].Symbol, ((NimStringDesc*) &TMP195111));
LA3: ;
LOC1 = LOC2;
if (LOC1) goto LA4;
LOC1 = ((*P_145815).Tok->data[(*P_145815).Idx].Col < (*P_145815).Tok->data[J_145817].Col);
LA4: ;
Result_145816 = LOC1;
return Result_145816;
}
N_NIMCALL(void, Rstmessage_143770)(TY143690* P_143772, NU8 Msgkind_143773) {
TY45532 LOC1;
LOC1 = Tokinfo_143760(P_143772, &(*P_143772).Tok->data[(*P_143772).Idx]);
Limessage_45562(LOC1, Msgkind_143773, (*P_143772).Tok->data[(*P_143772).Idx].Symbol);
}
N_NIMCALL(NIM_BOOL, Isdeflist_145839)(TY143690* P_145841) {
NIM_BOOL Result_145842;
NI J_145843;
NIM_BOOL LOC1;
NIM_BOOL LOC2;
Result_145842 = 0;
J_145843 = 0;
J_145843 = Tokenafternewline_145784(P_145841);
LOC2 = ((*P_145841).Tok->data[(*P_145841).Idx].Col < (*P_145841).Tok->data[J_145843].Col);
if (!(LOC2)) goto LA3;
LOC2 = ((104 &(1<<(((*P_145841).Tok->data[J_145843].Kind)&7)))!=0);
LA3: ;
LOC1 = LOC2;
if (!(LOC1)) goto LA4;
LOC1 = !(eqStrings((*P_145841).Tok->data[(NI64)(J_145843 - 2)].Symbol, ((NimStringDesc*) &TMP195107)));
LA4: ;
Result_145842 = LOC1;
return Result_145842;
}
N_NIMCALL(NU8, Whichsection_145858)(TY143690* P_145860) {
NU8 Result_145861;
NIM_BOOL LOC2;
NIM_BOOL LOC5;
NIM_BOOL LOC8;
NI LOC12;
NIM_BOOL LOC13;
NIM_BOOL LOC18;
NIM_BOOL LOC19;
NIM_BOOL LOC21;
NIM_BOOL LOC22;
NIM_BOOL LOC28;
NIM_BOOL LOC32;
NIM_BOOL LOC36;
NIM_BOOL LOC40;
NIM_BOOL LOC43;
NIM_BOOL LOC46;
NIM_BOOL LOC49;
NIM_BOOL LOC50;
NI LOC56;
NIM_BOOL LOC57;
NIM_BOOL LOC60;
NIM_BOOL LOC63;
Result_145861 = 0;
switch ((*P_145860).Tok->data[(*P_145860).Idx].Kind) {
case ((NU8) 4):
LOC2 = Match_144762(P_145860, (NI64)((*P_145860).Idx + 1), ((NimStringDesc*) &TMP195103));
if (!LOC2) goto LA3;
Result_145861 = ((NU8) 3);
goto LA1;
LA3: ;
LOC5 = Match_144762(P_145860, (NI64)((*P_145860).Idx + 1), ((NimStringDesc*) &TMP195104));
if (!LOC5) goto LA6;
Result_145861 = ((NU8) 29);
goto LA1;
LA6: ;
LOC8 = Match_144762(P_145860, (NI64)((*P_145860).Idx + 1), ((NimStringDesc*) &TMP195105));
if (!LOC8) goto LA9;
Result_145861 = ((NU8) 2);
goto LA1;
LA9: ;
Result_145861 = ((NU8) 62);
LA1: ;
break;
case ((NU8) 5):
LOC12 = Tokenafternewline_145784(P_145860);
LOC13 = Match_144762(P_145860, LOC12, ((NimStringDesc*) &TMP195106));
if (!LOC13) goto LA14;
Result_145861 = ((NU8) 1);
goto LA11;
LA14: ;
if (!eqStrings((*P_145860).Tok->data[(*P_145860).Idx].Symbol, ((NimStringDesc*) &TMP195107))) goto LA16;
Result_145861 = ((NU8) 24);
goto LA11;
LA16: ;
LOC19 = Prednl_145822(P_145860);
if (!(LOC19)) goto LA20;
LOC22 = eqStrings((*P_145860).Tok->data[(*P_145860).Idx].Symbol, ((NimStringDesc*) &TMP195108));
if (LOC22) goto LA23;
LOC22 = eqStrings((*P_145860).Tok->data[(*P_145860).Idx].Symbol, ((NimStringDesc*) &TMP195109));
LA23: ;
LOC21 = LOC22;
if (LOC21) goto LA24;
LOC21 = eqStrings((*P_145860).Tok->data[(*P_145860).Idx].Symbol, ((NimStringDesc*) &TMP195110));
LA24: ;
LOC19 = LOC21;
LA20: ;
LOC18 = LOC19;
if (!(LOC18)) goto LA25;
LOC18 = ((*P_145860).Tok->data[(NI64)((*P_145860).Idx + 1)].Kind == ((NU8) 2));
LA25: ;
if (!LOC18) goto LA26;
Result_145861 = ((NU8) 5);
goto LA11;
LA26: ;
LOC28 = eqStrings((*P_145860).Tok->data[(*P_145860).Idx].Symbol, ((NimStringDesc*) &TMP195111));
if (!(LOC28)) goto LA29;
LOC28 = Islineblock_145813(P_145860);
LA29: ;
if (!LOC28) goto LA30;
Result_145861 = ((NU8) 26);
goto LA11;
LA30: ;
LOC32 = eqStrings((*P_145860).Tok->data[(*P_145860).Idx].Symbol, ((NimStringDesc*) &TMP195112));
if (!(LOC32)) goto LA33;
LOC32 = Prednl_145822(P_145860);
LA33: ;
if (!LOC32) goto LA34;
Result_145861 = ((NU8) 40);
goto LA11;
LA34: ;
LOC36 = eqStrings((*P_145860).Tok->data[(*P_145860).Idx].Symbol, ((NimStringDesc*) &TMP195113));
if (!(LOC36)) goto LA37;
LOC36 = Prednl_145822(P_145860);
LA37: ;
if (!LOC36) goto LA38;
Result_145861 = ((NU8) 13);
goto LA11;
LA38: ;
LOC40 = Match_144762(P_145860, (*P_145860).Idx, ((NimStringDesc*) &TMP195114));
if (!LOC40) goto LA41;
Result_145861 = ((NU8) 7);
goto LA11;
LA41: ;
LOC43 = Match_144762(P_145860, (*P_145860).Idx, ((NimStringDesc*) &TMP195115));
if (!LOC43) goto LA44;
Result_145861 = ((NU8) 30);
Rstmessage_143770(P_145860, ((NU8) 184));
goto LA11;
LA44: ;
LOC46 = Isdeflist_145839(P_145860);
if (!LOC46) goto LA47;
Result_145861 = ((NU8) 9);
goto LA11;
LA47: ;
LOC50 = Match_144762(P_145860, (*P_145860).Idx, ((NimStringDesc*) &TMP195116));
if (LOC50) goto LA51;
LOC50 = Match_144762(P_145860, (*P_145860).Idx, ((NimStringDesc*) &TMP195117));
LA51: ;
LOC49 = LOC50;
if (LOC49) goto LA52;
LOC49 = Match_144762(P_145860, (*P_145860).Idx, ((NimStringDesc*) &TMP195118));
LA52: ;
if (!LOC49) goto LA53;
Result_145861 = ((NU8) 17);
goto LA11;
LA53: ;
Result_145861 = ((NU8) 4);
LA11: ;
break;
case ((NU8) 3):
case ((NU8) 6):
case ((NU8) 2):
LOC56 = Tokenafternewline_145784(P_145860);
LOC57 = Match_144762(P_145860, LOC56, ((NimStringDesc*) &TMP195106));
if (!LOC57) goto LA58;
Result_145861 = ((NU8) 1);
goto LA55;
LA58: ;
LOC60 = Isdeflist_145839(P_145860);
if (!LOC60) goto LA61;
Result_145861 = ((NU8) 9);
goto LA55;
LA61: ;
LOC63 = Match_144762(P_145860, (*P_145860).Idx, ((NimStringDesc*) &TMP195119));
if (LOC63) goto LA64;
LOC63 = Match_144762(P_145860, (*P_145860).Idx, ((NimStringDesc*) &TMP195120));
LA64: ;
if (!LOC63) goto LA65;
Result_145861 = ((NU8) 7);
goto LA55;
LA65: ;
Result_145861 = ((NU8) 4);
LA55: ;
break;
default:
Result_145861 = ((NU8) 62);
break;
}
return Result_145861;
}
N_NIMCALL(TY143077*, Parseliteralblock_145682)(TY143690* P_145685) {
TY143077* Result_145686;
TY143077* N_145687;
NI Indent_145697;
NimStringDesc* LOC8;
Result_145686 = 0;
Result_145686 = Newrstnode_143094(((NU8) 24));
N_145687 = 0;
N_145687 = Newrstnode_143097(((NU8) 62), ((NimStringDesc*) &TMP145483));
if (!((*P_145685).Tok->data[(*P_145685).Idx].Kind == ((NU8) 1))) goto LA2;
Indent_145697 = 0;
Indent_145697 = (*P_145685).Tok->data[(*P_145685).Idx].Ival;
(*P_145685).Idx += 1;
while (1) {
switch ((*P_145685).Tok->data[(*P_145685).Idx].Kind) {
case ((NU8) 0):
goto LA4;
break;
case ((NU8) 1):
if (!((*P_145685).Tok->data[(*P_145685).Idx].Ival < Indent_145697)) goto LA6;
goto LA4;
goto LA5;
LA6: ;
(*N_145687).Text = resizeString((*N_145687).Text, 1);
appendString((*N_145687).Text, ((NimStringDesc*) &TMP195100));
LOC8 = nsuRepeatChar((NI64)((*P_145685).Tok->data[(*P_145685).Idx].Ival - Indent_145697), 32);
(*N_145687).Text = resizeString((*N_145687).Text, LOC8->Sup.len + 0);
appendString((*N_145687).Text, LOC8);
(*P_145685).Idx += 1;
LA5: ;
break;
default:
(*N_145687).Text = resizeString((*N_145687).Text, (*P_145685).Tok->data[(*P_145685).Idx].Symbol->Sup.len + 0);
appendString((*N_145687).Text, (*P_145685).Tok->data[(*P_145685).Idx].Symbol);
(*P_145685).Idx += 1;
break;
}
} LA4: ;
goto LA1;
LA2: ;
while (1) {
if (!!(((3 &(1<<(((*P_145685).Tok->data[(*P_145685).Idx].Kind)&7)))!=0))) goto LA9;
(*N_145687).Text = resizeString((*N_145687).Text, (*P_145685).Tok->data[(*P_145685).Idx].Symbol->Sup.len + 0);
appendString((*N_145687).Text, (*P_145685).Tok->data[(*P_145685).Idx].Symbol);
(*P_145685).Idx += 1;
} LA9: ;
LA1: ;
Addson_143101(Result_145686, N_145687);
return Result_145686;
}
N_NIMCALL(TY143077*, Parsebulletlist_146567)(TY143690* P_146570) {
TY143077* Result_146571;
NimStringDesc* Bullet_146581;
NI Col_146582;
TY143077* Item_146595;
NIM_BOOL LOC6;
NIM_BOOL LOC7;
NIM_BOOL LOC8;
Result_146571 = 0;
Result_146571 = NIM_NIL;
if (!((*P_146570).Tok->data[(NI64)((*P_146570).Idx + 1)].Kind == ((NU8) 2))) goto LA2;
Bullet_146581 = 0;
Bullet_146581 = copyString((*P_146570).Tok->data[(*P_146570).Idx].Symbol);
Col_146582 = 0;
Col_146582 = (*P_146570).Tok->data[(*P_146570).Idx].Col;
Result_146571 = Newrstnode_143094(((NU8) 5));
Pushind_143778(P_146570, (*P_146570).Tok->data[(NI64)((*P_146570).Idx + 2)].Col);
(*P_146570).Idx += 2;
while (1) {
Item_146595 = 0;
Item_146595 = Newrstnode_143094(((NU8) 6));
Parsesection_145508(P_146570, Item_146595);
Addson_143101(Result_146571, Item_146595);
LOC8 = ((*P_146570).Tok->data[(*P_146570).Idx].Kind == ((NU8) 1));
if (!(LOC8)) goto LA9;
LOC8 = ((*P_146570).Tok->data[(*P_146570).Idx].Ival == Col_146582);
LA9: ;
LOC7 = LOC8;
if (!(LOC7)) goto LA10;
LOC7 = eqStrings((*P_146570).Tok->data[(NI64)((*P_146570).Idx + 1)].Symbol, Bullet_146581);
LA10: ;
LOC6 = LOC7;
if (!(LOC6)) goto LA11;
LOC6 = ((*P_146570).Tok->data[(NI64)((*P_146570).Idx + 2)].Kind == ((NU8) 2));
LA11: ;
if (!LOC6) goto LA12;
(*P_146570).Idx += 3;
goto LA5;
LA12: ;
goto LA4;
LA5: ;
} LA4: ;
Popind_143801(P_146570);
LA2: ;
return Result_146571;
}
N_NIMCALL(TY143077*, Parselineblock_145871)(TY143690* P_145874) {
TY143077* Result_145875;
NI Col_145885;
TY143077* Item_145898;
NIM_BOOL LOC6;
NIM_BOOL LOC7;
NIM_BOOL LOC8;
Result_145875 = 0;
Result_145875 = NIM_NIL;
if (!((*P_145874).Tok->data[(NI64)((*P_145874).Idx + 1)].Kind == ((NU8) 2))) goto LA2;
Col_145885 = 0;
Col_145885 = (*P_145874).Tok->data[(*P_145874).Idx].Col;
Result_145875 = Newrstnode_143094(((NU8) 26));
Pushind_143778(P_145874, (*P_145874).Tok->data[(NI64)((*P_145874).Idx + 2)].Col);
(*P_145874).Idx += 2;
while (1) {
Item_145898 = 0;
Item_145898 = Newrstnode_143094(((NU8) 27));
Parsesection_145508(P_145874, Item_145898);
Addson_143101(Result_145875, Item_145898);
LOC8 = ((*P_145874).Tok->data[(*P_145874).Idx].Kind == ((NU8) 1));
if (!(LOC8)) goto LA9;
LOC8 = ((*P_145874).Tok->data[(*P_145874).Idx].Ival == Col_145885);
LA9: ;
LOC7 = LOC8;
if (!(LOC7)) goto LA10;
LOC7 = eqStrings((*P_145874).Tok->data[(NI64)((*P_145874).Idx + 1)].Symbol, ((NimStringDesc*) &TMP195111));
LA10: ;
LOC6 = LOC7;
if (!(LOC6)) goto LA11;
LOC6 = ((*P_145874).Tok->data[(NI64)((*P_145874).Idx + 2)].Kind == ((NU8) 2));
LA11: ;
if (!LOC6) goto LA12;
(*P_145874).Idx += 3;
goto LA5;
LA12: ;
goto LA4;
LA5: ;
} LA4: ;
Popind_143801(P_145874);
LA2: ;
return Result_145875;
}
N_NIMCALL(NimStringDesc*, Getdirective_145270)(TY143690* P_145273) {
NimStringDesc* Result_145274;
NIM_BOOL LOC2;
NI J_145293;
Result_145274 = 0;
LOC2 = ((*P_145273).Tok->data[(*P_145273).Idx].Kind == ((NU8) 2));
if (!(LOC2)) goto LA3;
LOC2 = ((*P_145273).Tok->data[(NI64)((*P_145273).Idx + 1)].Kind == ((NU8) 3));
LA3: ;
if (!LOC2) goto LA4;
J_145293 = 0;
J_145293 = (*P_145273).Idx;
(*P_145273).Idx += 1;
Result_145274 = copyString((*P_145273).Tok->data[(*P_145273).Idx].Symbol);
(*P_145273).Idx += 1;
while (1) {
if (!((120 &(1<<(((*P_145273).Tok->data[(*P_145273).Idx].Kind)&7)))!=0)) goto LA6;
if (!eqStrings((*P_145273).Tok->data[(*P_145273).Idx].Symbol, ((NimStringDesc*) &TMP195107))) goto LA8;
goto LA6;
LA8: ;
Result_145274 = resizeString(Result_145274, (*P_145273).Tok->data[(*P_145273).Idx].Symbol->Sup.len + 0);
appendString(Result_145274, (*P_145273).Tok->data[(*P_145273).Idx].Symbol);
(*P_145273).Idx += 1;
} LA6: ;
if (!((*P_145273).Tok->data[(*P_145273).Idx].Kind == ((NU8) 2))) goto LA11;
(*P_145273).Idx += 1;
LA11: ;
if (!eqStrings((*P_145273).Tok->data[(*P_145273).Idx].Symbol, ((NimStringDesc*) &TMP195107))) goto LA14;
(*P_145273).Idx += 1;
if (!((*P_145273).Tok->data[(*P_145273).Idx].Kind == ((NU8) 2))) goto LA17;
(*P_145273).Idx += 1;
LA17: ;
goto LA13;
LA14: ;
(*P_145273).Idx = J_145293;
Result_145274 = copyString(((NimStringDesc*) &TMP145483));
LA13: ;
goto LA1;
LA4: ;
Result_145274 = copyString(((NimStringDesc*) &TMP145483));
LA1: ;
return Result_145274;
}
N_NIMCALL(NU8, Getdirkind_145495)(NimStringDesc* S_145497) {
NU8 Result_145498;
NI I_145499;
Result_145498 = 0;
I_145499 = 0;
I_145499 = Binarystrsearch_44147(Dirids_145478, 12, S_145497);
if (!(0 <= I_145499)) goto LA2;
Result_145498 = ((NU8) (I_145499));
goto LA1;
LA2: ;
Result_145498 = ((NU8) 0);
LA1: ;
return Result_145498;
}
N_NIMCALL(TY143077*, Newleaf_144513)(TY143690* P_144516) {
TY143077* Result_144517;
Result_144517 = 0;
Result_144517 = Newrstnode_143097(((NU8) 62), (*P_144516).Tok->data[(*P_144516).Idx].Symbol);
return Result_144517;
}
N_NIMCALL(NIM_BOOL, Isinlinemarkupstart_144640)(TY143690* P_144642, NimStringDesc* Markup_144643) {
NIM_BOOL Result_144644;
NIM_CHAR D_144645;
NIM_BOOL LOC4;
NIM_BOOL LOC5;
NIM_CHAR C_144686;
Result_144644 = 0;
D_144645 = 0;
Result_144644 = eqStrings((*P_144642).Tok->data[(*P_144642).Idx].Symbol, Markup_144643);
if (!!(Result_144644)) goto LA2;
goto BeforeRet;
LA2: ;
LOC5 = ((*P_144642).Idx == 0);
if (LOC5) goto LA6;
LOC5 = ((6 &(1<<(((*P_144642).Tok->data[(NI64)((*P_144642).Idx - 1)].Kind)&7)))!=0);
LA6: ;
LOC4 = LOC5;
if (LOC4) goto LA7;
LOC4 = ((TMP195121[((NU8)((*P_144642).Tok->data[(NI64)((*P_144642).Idx - 1)].Symbol->data[0]))/8] &(1<<(((NU8)((*P_144642).Tok->data[(NI64)((*P_144642).Idx - 1)].Symbol->data[0]))%8)))!=0);
LA7: ;
Result_144644 = LOC4;
if (!!(Result_144644)) goto LA9;
goto BeforeRet;
LA9: ;
Result_144644 = !(((7 &(1<<(((*P_144642).Tok->data[(NI64)((*P_144642).Idx + 1)].Kind)&7)))!=0));
if (!!(Result_144644)) goto LA12;
goto BeforeRet;
LA12: ;
if (!(0 < (*P_144642).Idx)) goto LA15;
if (!eqStrings((*P_144642).Tok->data[(NI64)((*P_144642).Idx - 1)].Symbol, ((NimStringDesc*) &TMP195122))) goto LA18;
Result_144644 = NIM_FALSE;
goto LA17;
LA18: ;
C_144686 = 0;
C_144686 = (*P_144642).Tok->data[(NI64)((*P_144642).Idx - 1)].Symbol->data[0];
switch (((NU8)(C_144686))) {
case 39:
case 34:
D_144645 = C_144686;
break;
case 40:
D_144645 = 41;
break;
case 91:
D_144645 = 93;
break;
case 123:
D_144645 = 125;
break;
case 60:
D_144645 = 62;
break;
default:
D_144645 = 0;
break;
}
if (!!(((NU8)(D_144645) == (NU8)(0)))) goto LA21;
Result_144644 = !(((NU8)((*P_144642).Tok->data[(NI64)((*P_144642).Idx + 1)].Symbol->data[0]) == (NU8)(D_144645)));
LA21: ;
LA17: ;
LA15: ;
BeforeRet: ;
return Result_144644;
}
N_NIMCALL(NIM_BOOL, Isinlinemarkupend_144597)(TY143690* P_144599, NimStringDesc* Markup_144600) {
NIM_BOOL Result_144601;
NIM_BOOL LOC7;
NIM_BOOL LOC16;
Result_144601 = 0;
Result_144601 = eqStrings((*P_144599).Tok->data[(*P_144599).Idx].Symbol, Markup_144600);
if (!!(Result_144601)) goto LA2;
goto BeforeRet;
LA2: ;
Result_144601 = !(((6 &(1<<(((*P_144599).Tok->data[(NI64)((*P_144599).Idx - 1)].Kind)&7)))!=0));
if (!!(Result_144601)) goto LA5;
goto BeforeRet;
LA5: ;
LOC7 = ((7 &(1<<(((*P_144599).Tok->data[(NI64)((*P_144599).Idx + 1)].Kind)&7)))!=0);
if (LOC7) goto LA8;
LOC7 = ((TMP195124[((NU8)((*P_144599).Tok->data[(NI64)((*P_144599).Idx + 1)].Symbol->data[0]))/8] &(1<<(((NU8)((*P_144599).Tok->data[(NI64)((*P_144599).Idx + 1)].Symbol->data[0]))%8)))!=0);
LA8: ;
Result_144601 = LOC7;
if (!!(Result_144601)) goto LA10;
goto BeforeRet;
LA10: ;
if (!(0 < (*P_144599).Idx)) goto LA13;
LOC16 = !(eqStrings(Markup_144600, ((NimStringDesc*) &TMP195125)));
if (!(LOC16)) goto LA17;
LOC16 = eqStrings((*P_144599).Tok->data[(NI64)((*P_144599).Idx - 1)].Symbol, ((NimStringDesc*) &TMP195122));
LA17: ;
if (!LOC16) goto LA18;
Result_144601 = NIM_FALSE;
LA18: ;
LA13: ;
BeforeRet: ;
return Result_144601;
}
N_NIMCALL(void, Parsebackslash_144691)(TY143690* P_144694, TY143077* Father_144695) {
TY143077* LOC4;
TY143077* LOC10;
TY143077* LOC11;
if (!eqStrings((*P_144694).Tok->data[(*P_144694).Idx].Symbol, ((NimStringDesc*) &TMP195126))) goto LA2;
LOC4 = Newrstnode_143097(((NU8) 62), ((NimStringDesc*) &TMP195122));
Addson_143101(Father_144695, LOC4);
(*P_144694).Idx += 1;
goto LA1;
LA2: ;
if (!eqStrings((*P_144694).Tok->data[(*P_144694).Idx].Symbol, ((NimStringDesc*) &TMP195122))) goto LA5;
(*P_144694).Idx += 1;
if (!!(((*P_144694).Tok->data[(*P_144694).Idx].Kind == ((NU8) 2)))) goto LA8;
LOC10 = Newleaf_144513(P_144694);
Addson_143101(Father_144695, LOC10);
LA8: ;
(*P_144694).Idx += 1;
goto LA1;
LA5: ;
LOC11 = Newleaf_144513(P_144694);
Addson_143101(Father_144695, LOC11);
(*P_144694).Idx += 1;
LA1: ;
}
N_NIMCALL(void, Parseuntil_145111)(TY143690* P_145114, TY143077* Father_145115, NimStringDesc* Postfix_145116, NIM_BOOL Interpretbackslash_145117) {
NIM_BOOL LOC3;
TY143077* LOC8;
TY143077* LOC9;
TY143077* LOC10;
TY143077* LOC14;
while (1) {
switch ((*P_145114).Tok->data[(*P_145114).Idx].Kind) {
case ((NU8) 5):
LOC3 = Isinlinemarkupend_144597(&(*P_145114), Postfix_145116);
if (!LOC3) goto LA4;
(*P_145114).Idx += 1;
goto LA1;
goto LA2;
LA4: ;
if (!Interpretbackslash_145117) goto LA6;
Parsebackslash_144691(P_145114, Father_145115);
goto LA2;
LA6: ;
LOC8 = Newleaf_144513(P_145114);
Addson_143101(Father_145115, LOC8);
(*P_145114).Idx += 1;
LA2: ;
break;
case ((NU8) 4):
case ((NU8) 3):
case ((NU8) 6):
LOC9 = Newleaf_144513(P_145114);
Addson_143101(Father_145115, LOC9);
(*P_145114).Idx += 1;
break;
case ((NU8) 1):
LOC10 = Newrstnode_143097(((NU8) 62), ((NimStringDesc*) &TMP195127));
Addson_143101(Father_145115, LOC10);
(*P_145114).Idx += 1;
if (!((*P_145114).Tok->data[(*P_145114).Idx].Kind == ((NU8) 1))) goto LA12;
Rstmessage_143765(&(*P_145114), ((NU8) 182), Postfix_145116);
goto LA1;
LA12: ;
break;
case ((NU8) 2):
LOC14 = Newrstnode_143097(((NU8) 62), ((NimStringDesc*) &TMP195127));
Addson_143101(Father_145115, LOC14);
(*P_145114).Idx += 1;
break;
default:
Rstmessage_143765(&(*P_145114), ((NU8) 182), Postfix_145116);
break;
}
} LA1: ;
}
N_NIMCALL(void, Fixupembeddedref_144941)(TY143077* N_144943, TY143077* A_144944, TY143077* B_144945) {
NI Sep_144946;
NI I_144969;
NI HEX3Atmp_144992;
NI LOC1;
NI Res_144994;
NI Incr_144974;
NI LOC6;
NIM_BOOL LOC8;
NI I_144982;
NI HEX3Atmp_144998;
NI Res_145000;
NI I_144990;
NI HEX3Atmp_145004;
NI HEX3Atmp_145005;
NI LOC12;
NI Res_145007;
Sep_144946 = 0;
Sep_144946 = -1;
I_144969 = 0;
HEX3Atmp_144992 = 0;
LOC1 = Rsonslen_143091(N_144943);
HEX3Atmp_144992 = (NI64)(LOC1 - 2);
Res_144994 = 0;
Res_144994 = HEX3Atmp_144992;
while (1) {
if (!(0 <= Res_144994)) goto LA2;
I_144969 = Res_144994;
if (!eqStrings((*(*N_144943).Sons->data[I_144969]).Text, ((NimStringDesc*) &TMP195131))) goto LA4;
Sep_144946 = I_144969;
goto LA2;
LA4: ;
Res_144994 -= 1;
} LA2: ;
Incr_144974 = 0;
LOC8 = (0 < Sep_144946);
if (!(LOC8)) goto LA9;
LOC8 = ((NU8)((*(*N_144943).Sons->data[(NI64)(Sep_144946 - 1)]).Text->data[0]) == (NU8)(32));
LA9: ;
if (!LOC8) goto LA10;
LOC6 = 2;
goto LA7;
LA10: ;
LOC6 = 1;
LA7: ;
Incr_144974 = LOC6;
I_144982 = 0;
HEX3Atmp_144998 = 0;
HEX3Atmp_144998 = (NI64)(Sep_144946 - Incr_144974);
Res_145000 = 0;
Res_145000 = 0;
while (1) {
if (!(Res_145000 <= HEX3Atmp_144998)) goto LA11;
I_144982 = Res_145000;
Addson_143101(A_144944, (*N_144943).Sons->data[I_144982]);
Res_145000 += 1;
} LA11: ;
I_144990 = 0;
HEX3Atmp_145004 = 0;
HEX3Atmp_145005 = 0;
HEX3Atmp_145004 = (NI64)(Sep_144946 + 1);
LOC12 = Rsonslen_143091(N_144943);
HEX3Atmp_145005 = (NI64)(LOC12 - 2);
Res_145007 = 0;
Res_145007 = HEX3Atmp_145004;
while (1) {
if (!(Res_145007 <= HEX3Atmp_145005)) goto LA13;
I_144990 = Res_145007;
Addson_143101(B_144945, (*N_144943).Sons->data[I_144990]);
Res_145007 += 1;
} LA13: ;
}
N_NIMCALL(void, Setref_144078)(TY143690* P_144081, NimStringDesc* Key_144082, TY143077* Value_144083) {
NI Length_144094;
NI I_144102;
NI HEX3Atmp_144116;
NI Res_144118;
Length_144094 = 0;
Length_144094 = (*(*P_144081).S).Refs->Sup.len;
I_144102 = 0;
HEX3Atmp_144116 = 0;
HEX3Atmp_144116 = (NI64)(Length_144094 - 1);
Res_144118 = 0;
Res_144118 = 0;
while (1) {
if (!(Res_144118 <= HEX3Atmp_144116)) goto LA1;
I_144102 = Res_144118;
if (!eqStrings(Key_144082, (*(*P_144081).S).Refs->data[I_144102].Key)) goto LA3;
asgnRefNoCycle((void**) &(*(*P_144081).S).Refs->data[I_144102].Value, Value_144083);
Rstmessage_143765(&(*P_144081), ((NU8) 216), Key_144082);
goto BeforeRet;
LA3: ;
Res_144118 += 1;
} LA1: ;
(*(*P_144081).S).Refs = (TY143695*) setLengthSeq(&((*(*P_144081).S).Refs)->Sup, sizeof(TY143684), (NI64)(Length_144094 + 1));
asgnRefNoCycle((void**) &(*(*P_144081).S).Refs->data[Length_144094].Key, copyString(Key_144082));
asgnRefNoCycle((void**) &(*(*P_144081).S).Refs->data[Length_144094].Value, Value_144083);
BeforeRet: ;
}
N_NIMCALL(TY143077*, Parsepostfix_145010)(TY143690* P_145013, TY143077* N_145014) {
TY143077* Result_145015;
NIM_BOOL LOC2;
NIM_BOOL LOC6;
TY143077* A_145028;
TY143077* B_145029;
NI LOC11;
NimStringDesc* LOC14;
NIM_BOOL LOC17;
NIM_BOOL LOC29;
NIM_BOOL LOC33;
TY143077* LOC37;
Result_145015 = 0;
Result_145015 = N_145014;
LOC2 = Isinlinemarkupend_144597(&(*P_145013), ((NimStringDesc*) &TMP195129));
if (!LOC2) goto LA3;
(*P_145013).Idx += 1;
LOC6 = eqStrings((*P_145013).Tok->data[(NI64)((*P_145013).Idx - 2)].Symbol, ((NimStringDesc*) &TMP195128));
if (!(LOC6)) goto LA7;
LOC6 = eqStrings((*P_145013).Tok->data[(NI64)((*P_145013).Idx - 3)].Symbol, ((NimStringDesc*) &TMP195130));
LA7: ;
if (!LOC6) goto LA8;
A_145028 = 0;
A_145028 = Newrstnode_143094(((NU8) 0));
B_145029 = 0;
B_145029 = Newrstnode_143094(((NU8) 0));
Fixupembeddedref_144941(N_145014, A_145028, B_145029);
LOC11 = Rsonslen_143091(A_145028);
if (!(LOC11 == 0)) goto LA12;
Result_145015 = Newrstnode_143094(((NU8) 37));
Addson_143101(Result_145015, B_145029);
goto LA10;
LA12: ;
Result_145015 = Newrstnode_143094(((NU8) 38));
Addson_143101(Result_145015, A_145028);
Addson_143101(Result_145015, B_145029);
LOC14 = Rstnodetorefname_143105(A_145028);
Setref_144078(P_145013, LOC14, B_145029);
LA10: ;
goto LA5;
LA8: ;
if (!((*N_145014).Kind == ((NU8) 59))) goto LA15;
(*N_145014).Kind = ((NU8) 39);
goto LA5;
LA15: ;
Result_145015 = Newrstnode_143094(((NU8) 39));
Addson_143101(Result_145015, N_145014);
LA5: ;
goto LA1;
LA3: ;
LOC17 = Match_144762(&(*P_145013), (*P_145013).Idx, ((NimStringDesc*) &TMP195132));
if (!LOC17) goto LA18;
if (!eqStrings((*P_145013).Tok->data[(NI64)((*P_145013).Idx + 1)].Symbol, ((NimStringDesc*) &TMP195133))) goto LA21;
(*N_145014).Kind = ((NU8) 56);
goto LA20;
LA21: ;
if (!eqStrings((*P_145013).Tok->data[(NI64)((*P_145013).Idx + 1)].Symbol, ((NimStringDesc*) &TMP195134))) goto LA23;
(*N_145014).Kind = ((NU8) 60);
goto LA20;
LA23: ;
if (!eqStrings((*P_145013).Tok->data[(NI64)((*P_145013).Idx + 1)].Symbol, ((NimStringDesc*) &TMP195135))) goto LA25;
(*N_145014).Kind = ((NU8) 58);
goto LA20;
LA25: ;
if (!eqStrings((*P_145013).Tok->data[(NI64)((*P_145013).Idx + 1)].Symbol, ((NimStringDesc*) &TMP195136))) goto LA27;
(*N_145014).Kind = ((NU8) 57);
goto LA20;
LA27: ;
LOC29 = eqStrings((*P_145013).Tok->data[(NI64)((*P_145013).Idx + 1)].Symbol, ((NimStringDesc*) &TMP195137));
if (LOC29) goto LA30;
LOC29 = eqStrings((*P_145013).Tok->data[(NI64)((*P_145013).Idx + 1)].Symbol, ((NimStringDesc*) &TMP195138));
LA30: ;
if (!LOC29) goto LA31;
(*N_145014).Kind = ((NU8) 54);
goto LA20;
LA31: ;
LOC33 = eqStrings((*P_145013).Tok->data[(NI64)((*P_145013).Idx + 1)].Symbol, ((NimStringDesc*) &TMP195139));
if (LOC33) goto LA34;
LOC33 = eqStrings((*P_145013).Tok->data[(NI64)((*P_145013).Idx + 1)].Symbol, ((NimStringDesc*) &TMP195140));
LA34: ;
if (!LOC33) goto LA35;
(*N_145014).Kind = ((NU8) 55);
goto LA20;
LA35: ;
Result_145015 = Newrstnode_143094(((NU8) 53));
(*N_145014).Kind = ((NU8) 0);
Addson_143101(Result_145015, N_145014);
LOC37 = Newrstnode_143097(((NU8) 62), (*P_145013).Tok->data[(NI64)((*P_145013).Idx + 1)].Symbol);
Addson_143101(Result_145015, LOC37);
LA20: ;
(*P_145013).Idx += 3;
goto LA1;
LA18: ;
LA1: ;
return Result_145015;
}
N_NIMCALL(NIM_BOOL, Isurl_145053)(TY143690* P_145055, NI I_145056) {
NIM_BOOL Result_145057;
NIM_BOOL LOC1;
NIM_BOOL LOC2;
NIM_BOOL LOC3;
Result_145057 = 0;
LOC3 = eqStrings((*P_145055).Tok->data[(NI64)(I_145056 + 1)].Symbol, ((NimStringDesc*) &TMP195113));
if (!(LOC3)) goto LA4;
LOC3 = eqStrings((*P_145055).Tok->data[(NI64)(I_145056 + 2)].Symbol, ((NimStringDesc*) &TMP195141));
LA4: ;
LOC2 = LOC3;
if (!(LOC2)) goto LA5;
LOC2 = ((*P_145055).Tok->data[(NI64)(I_145056 + 3)].Kind == ((NU8) 3));
LA5: ;
LOC1 = LOC2;
if (!(LOC1)) goto LA6;
LOC1 = eqStrings((*P_145055).Tok->data[(NI64)(I_145056 + 4)].Symbol, ((NimStringDesc*) &TMP195142));
LA6: ;
Result_145057 = LOC1;
return Result_145057;
}
N_NIMCALL(void, Parseurl_145067)(TY143690* P_145070, TY143077* Father_145071) {
NIM_BOOL LOC2;
TY143077* N_145072;
TY143077* LOC9;
TY143077* N_145097;
LOC2 = Isurl_145053(&(*P_145070), (*P_145070).Idx);
if (!LOC2) goto LA3;
N_145072 = 0;
N_145072 = Newrstnode_143094(((NU8) 37));
while (1) {
switch ((*P_145070).Tok->data[(*P_145070).Idx].Kind) {
case ((NU8) 3):
case ((NU8) 4):
case ((NU8) 6):
break;
case ((NU8) 5):
if (!!(((120 &(1<<(((*P_145070).Tok->data[(NI64)((*P_145070).Idx + 1)].Kind)&7)))!=0))) goto LA7;
goto LA5;
LA7: ;
break;
default:
goto LA5;
break;
}
LOC9 = Newleaf_144513(P_145070);
Addson_143101(N_145072, LOC9);
(*P_145070).Idx += 1;
} LA5: ;
Addson_143101(Father_145071, N_145072);
goto LA1;
LA3: ;
N_145097 = 0;
N_145097 = Newleaf_144513(P_145070);
(*P_145070).Idx += 1;
if (!eqStrings((*P_145070).Tok->data[(*P_145070).Idx].Symbol, ((NimStringDesc*) &TMP195129))) goto LA11;
N_145097 = Parsepostfix_145010(P_145070, N_145097);
LA11: ;
Addson_143101(Father_145071, N_145097);
LA1: ;
}
N_NIMCALL(void, Parseinline_145188)(TY143690* P_145191, TY143077* Father_145192) {
NIM_BOOL LOC2;
TY143077* N_145205;
NIM_BOOL LOC5;
TY143077* N_145218;
NIM_BOOL LOC8;
TY143077* N_145231;
NIM_BOOL LOC11;
TY143077* N_145244;
NIM_BOOL LOC14;
TY143077* N_145257;
TY143077* LOC17;
switch ((*P_145191).Tok->data[(*P_145191).Idx].Kind) {
case ((NU8) 5):
LOC2 = Isinlinemarkupstart_144640(&(*P_145191), ((NimStringDesc*) &TMP195123));
if (!LOC2) goto LA3;
(*P_145191).Idx += 1;
N_145205 = 0;
N_145205 = Newrstnode_143094(((NU8) 58));
Parseuntil_145111(P_145191, N_145205, ((NimStringDesc*) &TMP195123), NIM_TRUE);
Addson_143101(Father_145192, N_145205);
goto LA1;
LA3: ;
LOC5 = Isinlinemarkupstart_144640(&(*P_145191), ((NimStringDesc*) &TMP195109));
if (!LOC5) goto LA6;
(*P_145191).Idx += 1;
N_145218 = 0;
N_145218 = Newrstnode_143094(((NU8) 57));
Parseuntil_145111(P_145191, N_145218, ((NimStringDesc*) &TMP195109), NIM_TRUE);
Addson_143101(Father_145192, N_145218);
goto LA1;
LA6: ;
LOC8 = Isinlinemarkupstart_144640(&(*P_145191), ((NimStringDesc*) &TMP195125));
if (!LOC8) goto LA9;
(*P_145191).Idx += 1;
N_145231 = 0;
N_145231 = Newrstnode_143094(((NU8) 60));
Parseuntil_145111(P_145191, N_145231, ((NimStringDesc*) &TMP195125), NIM_FALSE);
Addson_143101(Father_145192, N_145231);
goto LA1;
LA9: ;
LOC11 = Isinlinemarkupstart_144640(&(*P_145191), ((NimStringDesc*) &TMP195128));
if (!LOC11) goto LA12;
(*P_145191).Idx += 1;
N_145244 = 0;
N_145244 = Newrstnode_143094(((NU8) 59));
Parseuntil_145111(P_145191, N_145244, ((NimStringDesc*) &TMP195128), NIM_TRUE);
N_145244 = Parsepostfix_145010(P_145191, N_145244);
Addson_143101(Father_145192, N_145244);
goto LA1;
LA12: ;
LOC14 = Isinlinemarkupstart_144640(&(*P_145191), ((NimStringDesc*) &TMP195111));
if (!LOC14) goto LA15;
(*P_145191).Idx += 1;
N_145257 = 0;
N_145257 = Newrstnode_143094(((NU8) 61));
Parseuntil_145111(P_145191, N_145257, ((NimStringDesc*) &TMP195111), NIM_FALSE);
Addson_143101(Father_145192, N_145257);
goto LA1;
LA15: ;
Parsebackslash_144691(P_145191, Father_145192);
LA1: ;
break;
case ((NU8) 3):
Parseurl_145067(P_145191, Father_145192);
break;
case ((NU8) 4):
case ((NU8) 6):
case ((NU8) 2):
LOC17 = Newleaf_144513(P_145191);
Addson_143101(Father_145192, LOC17);
(*P_145191).Idx += 1;
break;
default:
break;
}
}
N_NIMCALL(void, Parseline_145502)(TY143690* P_145505, TY143077* Father_145506) {
while (1) {
switch ((*P_145505).Tok->data[(*P_145505).Idx].Kind) {
case ((NU8) 2):
case ((NU8) 3):
case ((NU8) 6):
case ((NU8) 5):
Parseinline_145188(P_145505, Father_145506);
break;
default:
goto LA1;
break;
}
} LA1: ;
}
N_NIMCALL(TY143077*, Parsefield_145513)(TY143690* P_145516) {
TY143077* Result_145517;
NI Col_145518;
TY143077* Fieldname_145531;
TY143077* Fieldbody_145532;
NI Indent_145551;
Result_145517 = 0;
Result_145517 = Newrstnode_143094(((NU8) 14));
Col_145518 = 0;
Col_145518 = (*P_145516).Tok->data[(*P_145516).Idx].Col;
(*P_145516).Idx += 1;
Fieldname_145531 = 0;
Fieldname_145531 = Newrstnode_143094(((NU8) 15));
Parseuntil_145111(P_145516, Fieldname_145531, ((NimStringDesc*) &TMP195113), NIM_FALSE);
Fieldbody_145532 = 0;
Fieldbody_145532 = Newrstnode_143094(((NU8) 16));
if (!!(((*P_145516).Tok->data[(*P_145516).Idx].Kind == ((NU8) 1)))) goto LA2;
Parseline_145502(P_145516, Fieldbody_145532);
LA2: ;
if (!((*P_145516).Tok->data[(*P_145516).Idx].Kind == ((NU8) 1))) goto LA5;
Indent_145551 = 0;
Indent_145551 = (*P_145516).Tok->data[(*P_145516).Idx].Ival;
if (!(Col_145518 < Indent_145551)) goto LA8;
Pushind_143778(P_145516, Indent_145551);
Parsesection_145508(P_145516, Fieldbody_145532);
Popind_143801(P_145516);
LA8: ;
LA5: ;
Addson_143101(Result_145517, Fieldname_145531);
Addson_143101(Result_145517, Fieldbody_145532);
return Result_145517;
}
N_NIMCALL(TY143077*, Parsefields_145554)(TY143690* P_145557) {
TY143077* Result_145558;
NIM_BOOL LOC2;
NI Col_145568;
TY143077* LOC7;
NIM_BOOL LOC9;
NIM_BOOL LOC10;
Result_145558 = 0;
Result_145558 = NIM_NIL;
LOC2 = ((*P_145557).Tok->data[(*P_145557).Idx].Kind == ((NU8) 1));
if (!(LOC2)) goto LA3;
LOC2 = eqStrings((*P_145557).Tok->data[(NI64)((*P_145557).Idx + 1)].Symbol, ((NimStringDesc*) &TMP195113));
LA3: ;
if (!LOC2) goto LA4;
Col_145568 = 0;
Col_145568 = (*P_145557).Tok->data[(*P_145557).Idx].Ival;
Result_145558 = Newrstnode_143094(((NU8) 13));
(*P_145557).Idx += 1;
while (1) {
LOC7 = Parsefield_145513(P_145557);
Addson_143101(Result_145558, LOC7);
LOC10 = ((*P_145557).Tok->data[(*P_145557).Idx].Kind == ((NU8) 1));
if (!(LOC10)) goto LA11;
LOC10 = ((*P_145557).Tok->data[(*P_145557).Idx].Ival == Col_145568);
LA11: ;
LOC9 = LOC10;
if (!(LOC9)) goto LA12;
LOC9 = eqStrings((*P_145557).Tok->data[(NI64)((*P_145557).Idx + 1)].Symbol, ((NimStringDesc*) &TMP195113));
LA12: ;
if (!LOC9) goto LA13;
(*P_145557).Idx += 1;
goto LA8;
LA13: ;
goto LA6;
LA8: ;
} LA6: ;
LA4: ;
return Result_145558;
}
N_NIMCALL(TY143077*, Parsedirective_147063)(TY143690* P_147066, NU8 Flags_147067) {
TY143077* Result_147068;
TY143077* Args_147069;
TY143077* Options_147070;
TY143077* LOC8;
TY143077* LOC15;
NIM_BOOL LOC20;
NIM_BOOL LOC21;
Result_147068 = 0;
Result_147068 = Newrstnode_143094(((NU8) 40));
Args_147069 = 0;
Args_147069 = NIM_NIL;
Options_147070 = 0;
Options_147070 = NIM_NIL;
if (!((Flags_147067 &(1<<((((NU8) 0))&7)))!=0)) goto LA2;
Args_147069 = Newrstnode_143094(((NU8) 41));
if (!((Flags_147067 &(1<<((((NU8) 2))&7)))!=0)) goto LA5;
while (1) {
switch ((*P_147066).Tok->data[(*P_147066).Idx].Kind) {
case ((NU8) 3):
case ((NU8) 6):
case ((NU8) 5):
case ((NU8) 4):
LOC8 = Newleaf_144513(P_147066);
Addson_143101(Args_147069, LOC8);
(*P_147066).Idx += 1;
break;
default:
goto LA7;
break;
}
} LA7: ;
goto LA4;
LA5: ;
if (!((Flags_147067 &(1<<((((NU8) 3))&7)))!=0)) goto LA9;
while (1) {
if (!((*P_147066).Tok->data[(*P_147066).Idx].Kind == ((NU8) 2))) goto LA11;
(*P_147066).Idx += 1;
} LA11: ;
if (!((*P_147066).Tok->data[(*P_147066).Idx].Kind == ((NU8) 3))) goto LA13;
LOC15 = Newleaf_144513(P_147066);
Addson_143101(Args_147069, LOC15);
(*P_147066).Idx += 1;
goto LA12;
LA13: ;
Args_147069 = NIM_NIL;
LA12: ;
goto LA4;
LA9: ;
Parseline_145502(P_147066, Args_147069);
LA4: ;
LA2: ;
Addson_143101(Result_147068, Args_147069);
if (!((Flags_147067 &(1<<((((NU8) 1))&7)))!=0)) goto LA17;
LOC21 = ((*P_147066).Tok->data[(*P_147066).Idx].Kind == ((NU8) 1));
if (!(LOC21)) goto LA22;
LOC21 = (3 <= (*P_147066).Tok->data[(*P_147066).Idx].Ival);
LA22: ;
LOC20 = LOC21;
if (!(LOC20)) goto LA23;
LOC20 = eqStrings((*P_147066).Tok->data[(NI64)((*P_147066).Idx + 1)].Symbol, ((NimStringDesc*) &TMP195113));
LA23: ;
if (!LOC20) goto LA24;
Options_147070 = Parsefields_145554(P_147066);
LA24: ;
LA17: ;
Addson_143101(Result_147068, Options_147070);
return Result_147068;
}
N_NIMCALL(NIM_BOOL, Indfollows_147182)(TY143690* P_147184) {
NIM_BOOL Result_147185;
NIM_BOOL LOC1;
NI LOC3;
Result_147185 = 0;
LOC1 = ((*P_147184).Tok->data[(*P_147184).Idx].Kind == ((NU8) 1));
if (!(LOC1)) goto LA2;
LOC3 = Currind_143774(P_147184);
LOC1 = (LOC3 < (*P_147184).Tok->data[(*P_147184).Idx].Ival);
LA2: ;
Result_147185 = LOC1;
return Result_147185;
}
N_NIMCALL(TY143077*, Parsedirective_147197)(TY143690* P_147200, NU8 Flags_147201, TY147055 Contentparser_147202) {
TY143077* Result_147203;
NIM_BOOL LOC2;
TY143077* Content_147204;
Result_147203 = 0;
Result_147203 = Parsedirective_147063(P_147200, Flags_147201);
LOC2 = !(((void*) (Contentparser_147202)) == 0);
if (!(LOC2)) goto LA3;
LOC2 = Indfollows_147182(&(*P_147200));
LA3: ;
if (!LOC2) goto LA4;
Pushind_143778(P_147200, (*P_147200).Tok->data[(*P_147200).Idx].Ival);
Content_147204 = 0;
Content_147204 = Contentparser_147202(P_147200);
Popind_143801(P_147200);
Addson_143101(Result_147203, Content_147204);
goto LA1;
LA4: ;
Addson_143101(Result_147203, NIM_NIL);
LA1: ;
return Result_147203;
}
N_NIMCALL(NimStringDesc*, Getfieldvalue_143111)(TY143077* N_143113, NimStringDesc* Fieldname_143114) {
NimStringDesc* Result_145609;
NimStringDesc* LOC7;
NI I_145653;
NI HEX3Atmp_145658;
NI LOC8;
NI Res_145660;
TY143077* F_145654;
NimStringDesc* LOC11;
NI LOC12;
Result_145609 = 0;
Result_145609 = copyString(((NimStringDesc*) &TMP145483));
if (!((*N_143113).Sons->data[1] == NIM_NIL)) goto LA2;
goto BeforeRet;
LA2: ;
if (!!(((*(*N_143113).Sons->data[1]).Kind == ((NU8) 13)))) goto LA5;
LOC7 = rawNewString(reprEnum((*(*N_143113).Sons->data[1]).Kind, NTI143008)->Sup.len + 19);
appendString(LOC7, ((NimStringDesc*) &TMP195143));
appendString(LOC7, reprEnum((*(*N_143113).Sons->data[1]).Kind, NTI143008));
Internalerror_45571(LOC7);
LA5: ;
I_145653 = 0;
HEX3Atmp_145658 = 0;
LOC8 = Rsonslen_143091((*N_143113).Sons->data[1]);
HEX3Atmp_145658 = (NI64)(LOC8 - 1);
Res_145660 = 0;
Res_145660 = 0;
while (1) {
if (!(Res_145660 <= HEX3Atmp_145658)) goto LA9;
I_145653 = Res_145660;
F_145654 = 0;
F_145654 = (*(*N_143113).Sons->data[1]).Sons->data[I_145653];
LOC11 = Addnodes_143108((*F_145654).Sons->data[0]);
LOC12 = nsuCmpIgnoreStyle(LOC11, Fieldname_143114);
if (!(LOC12 == 0)) goto LA13;
Result_145609 = Addnodes_143108((*F_145654).Sons->data[1]);
if (!((Result_145609) && (Result_145609)->Sup.len == 0)) goto LA16;
Result_145609 = copyString(((NimStringDesc*) &TMP195144));
LA16: ;
goto BeforeRet;
LA13: ;
Res_145660 += 1;
} LA9: ;
BeforeRet: ;
return Result_145609;
}
N_NIMCALL(TY143077*, Dirinclude_147211)(TY143690* P_147214) {
TY143077* Result_147215;
TY143077* N_147217;
NimStringDesc* Filename_147218;
NimStringDesc* LOC1;
NimStringDesc* Path_147219;
NimStringDesc* LOC6;
NimStringDesc* LOC9;
TY143077* LOC10;
TY143690 Q_147220;
NimStringDesc* LOC11;
NI LOC13;
Result_147215 = 0;
Result_147215 = NIM_NIL;
N_147217 = 0;
N_147217 = Parsedirective_147197(P_147214, 7, NIM_NIL);
Filename_147218 = 0;
LOC1 = Addnodes_143108((*N_147217).Sons->data[0]);
Filename_147218 = nsuStrip(LOC1, NIM_TRUE, NIM_TRUE);
Path_147219 = 0;
Path_147219 = Findfile_44088(Filename_147218);
if (!((Path_147219) && (Path_147219)->Sup.len == 0)) goto LA3;
Rstmessage_143765(&(*P_147214), ((NU8) 2), Filename_147218);
goto LA2;
LA3: ;
LOC6 = Getfieldvalue_143111(N_147217, ((NimStringDesc*) &TMP195134));
if (!!(((LOC6) && (LOC6)->Sup.len == 0))) goto LA7;
Result_147215 = Newrstnode_143094(((NU8) 24));
LOC9 = Readfile_3647(Path_147219);
LOC10 = Newrstnode_143097(((NU8) 62), LOC9);
Addson_143101(Result_147215, LOC10);
goto LA5;
LA7: ;
memset((void*)&Q_147220, 0, sizeof(Q_147220));
Q_147220.Sup.m_type = NTI143690;
Initparser_143839(&Q_147220, (*P_147214).S);
Q_147220.Filename = copyString(Filename_147218);
LOC11 = Readfile_3647(Path_147219);
Gettokens_143438(LOC11, NIM_FALSE, &Q_147220.Tok);
LOC13 = nsuFindStr(Q_147220.Tok->data[(Q_147220.Tok->Sup.len-1)].Symbol, ((NimStringDesc*) &TMP195145), 0);
if (!(0 < LOC13)) goto LA14;
Internalerror_45571(((NimStringDesc*) &TMP195146));
LA14: ;
Result_147215 = Parsedoc_146151(&Q_147220);
LA5: ;
LA2: ;
return Result_147215;
}
N_NIMCALL(TY143077*, Dirimage_147252)(TY143690* P_147255) {
TY143077* Result_147256;
Result_147256 = 0;
Result_147256 = Parsedirective_147197(P_147255, 7, NIM_NIL);
(*Result_147256).Kind = ((NU8) 45);
return Result_147256;
}
N_NIMCALL(TY143077*, Dirfigure_147258)(TY143690* P_147261) {
TY143077* Result_147262;
Result_147262 = 0;
Result_147262 = Parsedirective_147197(P_147261, 7, Parsesectionwrapper_147019);
(*Result_147262).Kind = ((NU8) 46);
return Result_147262;
}
N_NIMCALL(TY143077*, Dirtitle_147264)(TY143690* P_147267) {
TY143077* Result_147268;
Result_147268 = 0;
Result_147268 = Parsedirective_147197(P_147267, 1, NIM_NIL);
(*Result_147268).Kind = ((NU8) 43);
return Result_147268;
}
N_NIMCALL(TY143077*, Dircontainer_147235)(TY143690* P_147238) {
TY143077* Result_147239;
Result_147239 = 0;
Result_147239 = Parsedirective_147197(P_147238, 1, Parsesectionwrapper_147019);
(*Result_147239).Kind = ((NU8) 50);
return Result_147239;
}
N_NIMCALL(TY143077*, Dircontents_147270)(TY143690* P_147273) {
TY143077* Result_147274;
Result_147274 = 0;
Result_147274 = Parsedirective_147197(P_147273, 1, NIM_NIL);
(*Result_147274).Kind = ((NU8) 44);
return Result_147274;
}
N_NIMCALL(TY143077*, Parsedirbody_147205)(TY143690* P_147208, TY147055 Contentparser_147209) {
TY143077* Result_147210;
NIM_BOOL LOC2;
Result_147210 = 0;
LOC2 = Indfollows_147182(&(*P_147208));
if (!LOC2) goto LA3;
Pushind_143778(P_147208, (*P_147208).Tok->data[(*P_147208).Idx].Ival);
Result_147210 = Contentparser_147209(P_147208);
Popind_143801(P_147208);
LA3: ;
return Result_147210;
}
N_NIMCALL(void, Dirrawaux_147283)(TY143690* P_147286, TY143077** Result_147288, NU8 Kind_147289, TY147055 Contentparser_147290) {
NimStringDesc* Filename_147291;
NimStringDesc* Path_147296;
NimStringDesc* F_147301;
TY143077* LOC7;
TY143077* LOC8;
Filename_147291 = 0;
Filename_147291 = Getfieldvalue_143111((*Result_147288), ((NimStringDesc*) &TMP195148));
if (!(0 < Filename_147291->Sup.len)) goto LA2;
Path_147296 = 0;
Path_147296 = Findfile_44088(Filename_147291);
if (!(Path_147296->Sup.len == 0)) goto LA5;
Rstmessage_143765(&(*P_147286), ((NU8) 2), Filename_147291);
goto LA4;
LA5: ;
F_147301 = 0;
F_147301 = Readfile_3647(Path_147296);
unsureAsgnRef((void**) &(*Result_147288), Newrstnode_143094(Kind_147289));
LOC7 = Newrstnode_143097(((NU8) 62), F_147301);
Addson_143101((*Result_147288), LOC7);
LA4: ;
goto LA1;
LA2: ;
(*(*Result_147288)).Kind = Kind_147289;
LOC8 = Parsedirbody_147205(P_147286, Contentparser_147290);
Addson_143101((*Result_147288), LOC8);
LA1: ;
}
N_NIMCALL(TY143077*, Dirraw_147302)(TY143690* P_147305) {
TY143077* Result_147306;
NI LOC5;
NI LOC8;
Result_147306 = 0;
Result_147306 = Parsedirective_147063(P_147305, 11);
if (!!(((*Result_147306).Sons->data[0] == NIM_NIL))) goto LA2;
LOC5 = nsuCmpIgnoreCase((*(*(*Result_147306).Sons->data[0]).Sons->data[0]).Text, ((NimStringDesc*) &TMP195147));
if (!(LOC5 == 0)) goto LA6;
Dirrawaux_147283(P_147305, &Result_147306, ((NU8) 48), Parseliteralblock_145682);
goto LA4;
LA6: ;
LOC8 = nsuCmpIgnoreCase((*(*(*Result_147306).Sons->data[0]).Sons->data[0]).Text, ((NimStringDesc*) &TMP195149));
if (!(LOC8 == 0)) goto LA9;
Dirrawaux_147283(P_147305, &Result_147306, ((NU8) 49), Parseliteralblock_145682);
goto LA4;
LA9: ;
Rstmessage_143765(&(*P_147305), ((NU8) 28), (*(*Result_147306).Sons->data[0]).Text);
LA4: ;
goto LA1;
LA2: ;
Dirrawaux_147283(P_147305, &Result_147306, ((NU8) 42), Parsesectionwrapper_147019);
LA1: ;
return Result_147306;
}
N_NIMCALL(TY143077*, Dircodeblock_147226)(TY143690* P_147229) {
TY143077* Result_147230;
NimStringDesc* Filename_147232;
NimStringDesc* LOC1;
NimStringDesc* Path_147233;
TY143077* N_147234;
NimStringDesc* LOC8;
TY143077* LOC9;
Result_147230 = 0;
Result_147230 = Parsedirective_147197(P_147229, 3, Parseliteralblock_145682);
Filename_147232 = 0;
LOC1 = Getfieldvalue_143111(Result_147230, ((NimStringDesc*) &TMP195148));
Filename_147232 = nsuStrip(LOC1, NIM_TRUE, NIM_TRUE);
if (!!(((Filename_147232) && (Filename_147232)->Sup.len == 0))) goto LA3;
Path_147233 = 0;
Path_147233 = Findfile_44088(Filename_147232);
if (!((Path_147233) && (Path_147233)->Sup.len == 0)) goto LA6;
Rstmessage_143765(&(*P_147229), ((NU8) 2), Filename_147232);
LA6: ;
N_147234 = 0;
N_147234 = Newrstnode_143094(((NU8) 24));
LOC8 = Readfile_3647(Path_147233);
LOC9 = Newrstnode_143097(((NU8) 62), LOC8);
Addson_143101(N_147234, LOC9);
asgnRefNoCycle((void**) &(*Result_147230).Sons->data[2], N_147234);
LA3: ;
(*Result_147230).Kind = ((NU8) 47);
return Result_147230;
}
N_NIMCALL(TY143077*, Dirindex_147276)(TY143690* P_147279) {
TY143077* Result_147280;
Result_147280 = 0;
Result_147280 = Parsedirective_147197(P_147279, 0, Parsesectionwrapper_147019);
(*Result_147280).Kind = ((NU8) 51);
return Result_147280;
}
N_NIMCALL(TY143077*, Getreferencename_144518)(TY143690* P_144521, NimStringDesc* Endstr_144522) {
TY143077* Result_144523;
TY143077* Res_144524;
TY143077* LOC2;
TY143077* LOC6;
Result_144523 = 0;
Res_144524 = 0;
Res_144524 = Newrstnode_143094(((NU8) 0));
while (1) {
switch ((*P_144521).Tok->data[(*P_144521).Idx].Kind) {
case ((NU8) 3):
case ((NU8) 6):
case ((NU8) 2):
LOC2 = Newleaf_144513(P_144521);
Addson_143101(Res_144524, LOC2);
break;
case ((NU8) 5):
if (!eqStrings((*P_144521).Tok->data[(*P_144521).Idx].Symbol, Endstr_144522)) goto LA4;
(*P_144521).Idx += 1;
goto LA1;
goto LA3;
LA4: ;
LOC6 = Newleaf_144513(P_144521);
Addson_143101(Res_144524, LOC6);
LA3: ;
break;
default:
Rstmessage_143765(&(*P_144521), ((NU8) 182), Endstr_144522);
goto LA1;
break;
}
(*P_144521).Idx += 1;
} LA1: ;
Result_144523 = Res_144524;
return Result_144523;
}
N_NIMCALL(TY143077*, Untileol_144550)(TY143690* P_144553) {
TY143077* Result_144554;
TY143077* LOC2;
Result_144554 = 0;
Result_144554 = Newrstnode_143094(((NU8) 0));
while (1) {
if (!!(((3 &(1<<(((*P_144553).Tok->data[(*P_144553).Idx].Kind)&7)))!=0))) goto LA1;
LOC2 = Newleaf_144513(P_144553);
Addson_143101(Result_144554, LOC2);
(*P_144553).Idx += 1;
} LA1: ;
return Result_144554;
}
N_NIMCALL(void, Expect_144580)(TY143690* P_144583, NimStringDesc* Tok_144584) {
if (!eqStrings((*P_144583).Tok->data[(*P_144583).Idx].Symbol, Tok_144584)) goto LA2;
(*P_144583).Idx += 1;
goto LA1;
LA2: ;
Rstmessage_143765(&(*P_144583), ((NU8) 182), Tok_144584);
LA1: ;
}
N_NIMCALL(void, Setsub_144035)(TY143690* P_144038, NimStringDesc* Key_144039, TY143077* Value_144040) {
NI Length_144051;
NI I_144059;
NI HEX3Atmp_144073;
NI Res_144075;
Length_144051 = 0;
Length_144051 = (*(*P_144038).S).Subs->Sup.len;
I_144059 = 0;
HEX3Atmp_144073 = 0;
HEX3Atmp_144073 = (NI64)(Length_144051 - 1);
Res_144075 = 0;
Res_144075 = 0;
while (1) {
if (!(Res_144075 <= HEX3Atmp_144073)) goto LA1;
I_144059 = Res_144075;
if (!eqStrings(Key_144039, (*(*P_144038).S).Subs->data[I_144059].Key)) goto LA3;
asgnRefNoCycle((void**) &(*(*P_144038).S).Subs->data[I_144059].Value, Value_144040);
goto BeforeRet;
LA3: ;
Res_144075 += 1;
} LA1: ;
(*(*P_144038).S).Subs = (TY143695*) setLengthSeq(&((*(*P_144038).S).Subs)->Sup, sizeof(TY143684), (NI64)(Length_144051 + 1));
asgnRefNoCycle((void**) &(*(*P_144038).S).Subs->data[Length_144051].Key, copyString(Key_144039));
asgnRefNoCycle((void**) &(*(*P_144038).S).Subs->data[Length_144051].Value, Value_144040);
BeforeRet: ;
}
N_NIMCALL(TY143077*, Parsecomment_145397)(TY143690* P_145400) {
TY143077* Result_145401;
NI Indent_145423;
Result_145401 = 0;
switch ((*P_145400).Tok->data[(*P_145400).Idx].Kind) {
case ((NU8) 1):
case ((NU8) 0):
if (!((*P_145400).Tok->data[(NI64)((*P_145400).Idx + 1)].Kind == ((NU8) 1))) goto LA2;
(*P_145400).Idx += 1;
goto LA1;
LA2: ;
Indent_145423 = 0;
Indent_145423 = (*P_145400).Tok->data[(*P_145400).Idx].Ival;
while (1) {
switch ((*P_145400).Tok->data[(*P_145400).Idx].Kind) {
case ((NU8) 0):
goto LA4;
break;
case ((NU8) 1):
if (!((*P_145400).Tok->data[(*P_145400).Idx].Ival < Indent_145423)) goto LA6;
goto LA4;
LA6: ;
break;
default:
break;
}
(*P_145400).Idx += 1;
} LA4: ;
LA1: ;
break;
default:
while (1) {
if (!!(((3 &(1<<(((*P_145400).Tok->data[(*P_145400).Idx].Kind)&7)))!=0))) goto LA8;
(*P_145400).Idx += 1;
} LA8: ;
break;
}
Result_145401 = NIM_NIL;
return Result_145401;
}
N_NIMCALL(TY143077*, Parsedotdot_145678)(TY143690* P_145681) {
TY143077* Result_147330;
NI Col_147331;
NimStringDesc* D_147344;
NU8 LOC4;
NIM_BOOL LOC5;
TY143077* A_147357;
TY143077* B_147379;
NimStringDesc* LOC11;
NIM_BOOL LOC12;
TY143077* A_147392;
TY143077* B_147393;
NI LOC19;
NI LOC22;
NimStringDesc* LOC25;
NIM_BOOL LOC26;
TY143077* A_147455;
TY143077* B_147477;
NimStringDesc* LOC32;
Result_147330 = 0;
Result_147330 = NIM_NIL;
Col_147331 = 0;
Col_147331 = (*P_145681).Tok->data[(*P_145681).Idx].Col;
(*P_145681).Idx += 1;
D_147344 = 0;
D_147344 = Getdirective_145270(P_145681);
if (!!(((D_147344) && (D_147344)->Sup.len == 0))) goto LA2;
Pushind_143778(P_145681, Col_147331);
LOC4 = Getdirkind_145495(D_147344);
switch (LOC4) {
case ((NU8) 8):
Result_147330 = Dirinclude_147211(P_145681);
break;
case ((NU8) 7):
Result_147330 = Dirimage_147252(P_145681);
break;
case ((NU8) 6):
Result_147330 = Dirfigure_147258(P_145681);
break;
case ((NU8) 11):
Result_147330 = Dirtitle_147264(P_145681);
break;
case ((NU8) 4):
Result_147330 = Dircontainer_147235(P_145681);
break;
case ((NU8) 5):
Result_147330 = Dircontents_147270(P_145681);
break;
case ((NU8) 10):
Result_147330 = Dirraw_147302(P_145681);
break;
case ((NU8) 3):
Result_147330 = Dircodeblock_147226(P_145681);
break;
case ((NU8) 9):
Result_147330 = Dirindex_147276(P_145681);
break;
default:
Rstmessage_143765(&(*P_145681), ((NU8) 28), D_147344);
break;
}
Popind_143801(P_145681);
goto LA1;
LA2: ;
LOC5 = Match_144762(&(*P_145681), (*P_145681).Idx, ((NimStringDesc*) &TMP195150));
if (!LOC5) goto LA6;
(*P_145681).Idx += 2;
A_147357 = 0;
A_147357 = Getreferencename_144518(P_145681, ((NimStringDesc*) &TMP195113));
if (!((*P_145681).Tok->data[(*P_145681).Idx].Kind == ((NU8) 2))) goto LA9;
(*P_145681).Idx += 1;
LA9: ;
B_147379 = 0;
B_147379 = Untileol_144550(P_145681);
LOC11 = Rstnodetorefname_143105(A_147357);
Setref_144078(P_145681, LOC11, B_147379);
goto LA1;
LA6: ;
LOC12 = Match_144762(&(*P_145681), (*P_145681).Idx, ((NimStringDesc*) &TMP195151));
if (!LOC12) goto LA13;
(*P_145681).Idx += 2;
A_147392 = 0;
A_147392 = Getreferencename_144518(P_145681, ((NimStringDesc*) &TMP195111));
B_147393 = 0;
if (!((*P_145681).Tok->data[(*P_145681).Idx].Kind == ((NU8) 2))) goto LA16;
(*P_145681).Idx += 1;
LA16: ;
LOC19 = nsuCmpIgnoreStyle((*P_145681).Tok->data[(*P_145681).Idx].Symbol, ((NimStringDesc*) &TMP195152));
if (!(LOC19 == 0)) goto LA20;
(*P_145681).Idx += 1;
Expect_144580(P_145681, ((NimStringDesc*) &TMP195107));
B_147393 = Untileol_144550(P_145681);
goto LA18;
LA20: ;
LOC22 = nsuCmpIgnoreStyle((*P_145681).Tok->data[(*P_145681).Idx].Symbol, ((NimStringDesc*) &TMP145490));
if (!(LOC22 == 0)) goto LA23;
(*P_145681).Idx += 1;
B_147393 = Dirimage_147252(P_145681);
goto LA18;
LA23: ;
Rstmessage_143765(&(*P_145681), ((NU8) 28), (*P_145681).Tok->data[(*P_145681).Idx].Symbol);
LA18: ;
LOC25 = Addnodes_143108(A_147392);
Setsub_144035(P_145681, LOC25, B_147393);
goto LA1;
LA13: ;
LOC26 = Match_144762(&(*P_145681), (*P_145681).Idx, ((NimStringDesc*) &TMP195153));
if (!LOC26) goto LA27;
(*P_145681).Idx += 2;
A_147455 = 0;
A_147455 = Getreferencename_144518(P_145681, ((NimStringDesc*) &TMP195154));
if (!((*P_145681).Tok->data[(*P_145681).Idx].Kind == ((NU8) 2))) goto LA30;
(*P_145681).Idx += 1;
LA30: ;
B_147477 = 0;
B_147477 = Untileol_144550(P_145681);
LOC32 = Rstnodetorefname_143105(A_147455);
Setref_144078(P_145681, LOC32, B_147477);
goto LA1;
LA27: ;
Result_147330 = Parsecomment_145397(P_145681);
LA1: ;
return Result_147330;
}
N_NIMCALL(TY143077*, Parseenumlist_146817)(TY143690* P_146820) {
TY143077* Result_146821;
NI W_146832;
NIM_BOOL LOC3;
NI Col_146849;
NI J_146862;
NIM_BOOL LOC10;
TY143077* Item_146865;
NIM_BOOL LOC16;
NIM_BOOL LOC17;
Result_146821 = 0;
Result_146821 = NIM_NIL;
W_146832 = 0;
W_146832 = 0;
while (1) {
if (!(W_146832 <= 2)) goto LA1;
LOC3 = Match_144762(&(*P_146820), (*P_146820).Idx, Wildcards_146822[(W_146832)-0]);
if (!LOC3) goto LA4;
goto LA1;
LA4: ;
W_146832 += 1;
} LA1: ;
if (!(W_146832 <= 2)) goto LA7;
Col_146849 = 0;
Col_146849 = (*P_146820).Tok->data[(*P_146820).Idx].Col;
Result_146821 = Newrstnode_143094(((NU8) 7));
(*P_146820).Idx += (NI64)(Wildpos_146827[(W_146832)-0] + 3);
J_146862 = 0;
J_146862 = Tokenafternewline_145784(&(*P_146820));
LOC10 = ((*P_146820).Tok->data[J_146862].Col == (*P_146820).Tok->data[(*P_146820).Idx].Col);
if (LOC10) goto LA11;
LOC10 = Match_144762(&(*P_146820), J_146862, Wildcards_146822[(W_146832)-0]);
LA11: ;
if (!LOC10) goto LA12;
Pushind_143778(P_146820, (*P_146820).Tok->data[(*P_146820).Idx].Col);
while (1) {
Item_146865 = 0;
Item_146865 = Newrstnode_143094(((NU8) 8));
Parsesection_145508(P_146820, Item_146865);
Addson_143101(Result_146821, Item_146865);
LOC17 = ((*P_146820).Tok->data[(*P_146820).Idx].Kind == ((NU8) 1));
if (!(LOC17)) goto LA18;
LOC17 = ((*P_146820).Tok->data[(*P_146820).Idx].Ival == Col_146849);
LA18: ;
LOC16 = LOC17;
if (!(LOC16)) goto LA19;
LOC16 = Match_144762(&(*P_146820), (NI64)((*P_146820).Idx + 1), Wildcards_146822[(W_146832)-0]);
LA19: ;
if (!LOC16) goto LA20;
(*P_146820).Idx += (NI64)(Wildpos_146827[(W_146832)-0] + 4);
goto LA15;
LA20: ;
goto LA14;
LA15: ;
} LA14: ;
Popind_143801(P_146820);
goto LA9;
LA12: ;
(*P_146820).Idx -= (NI64)(Wildpos_146827[(W_146832)-0] + 3);
Result_146821 = NIM_NIL;
LA9: ;
LA7: ;
return Result_146821;
}
N_NIMCALL(TY143077*, Parsedefinitionlist_146723)(TY143690* P_146726) {
TY143077* Result_146727;
NI J_146728;
NI LOC1;
NIM_BOOL LOC3;
NIM_BOOL LOC4;
NIM_BOOL LOC5;
NI LOC8;
NI Col_146742;
TY143077* A_146743;
NIM_BOOL LOC14;
NIM_BOOL LOC15;
NIM_BOOL LOC16;
NI LOC18;
TY143077* B_146767;
TY143077* C_146768;
NIM_BOOL LOC24;
NI LOC28;
NIM_BOOL LOC30;
NIM_BOOL LOC31;
NIM_BOOL LOC32;
NIM_BOOL LOC33;
NI LOC41;
Result_146727 = 0;
Result_146727 = NIM_NIL;
J_146728 = 0;
LOC1 = Tokenafternewline_145784(&(*P_146726));
J_146728 = (NI64)(LOC1 - 1);
LOC5 = (1 <= J_146728);
if (!(LOC5)) goto LA6;
LOC5 = ((*P_146726).Tok->data[J_146728].Kind == ((NU8) 1));
LA6: ;
LOC4 = LOC5;
if (!(LOC4)) goto LA7;
LOC8 = Currind_143774(&(*P_146726));
LOC4 = (LOC8 < (*P_146726).Tok->data[J_146728].Ival);
LA7: ;
LOC3 = LOC4;
if (!(LOC3)) goto LA9;
LOC3 = !(eqStrings((*P_146726).Tok->data[(NI64)(J_146728 - 1)].Symbol, ((NimStringDesc*) &TMP195107)));
LA9: ;
if (!LOC3) goto LA10;
Col_146742 = 0;
Col_146742 = (*P_146726).Tok->data[(*P_146726).Idx].Col;
Result_146727 = Newrstnode_143094(((NU8) 9));
while (1) {
J_146728 = (*P_146726).Idx;
A_146743 = 0;
A_146743 = Newrstnode_143094(((NU8) 11));
Parseline_145502(P_146726, A_146743);
LOC16 = ((*P_146726).Tok->data[(*P_146726).Idx].Kind == ((NU8) 1));
if (!(LOC16)) goto LA17;
LOC18 = Currind_143774(&(*P_146726));
LOC16 = (LOC18 < (*P_146726).Tok->data[(*P_146726).Idx].Ival);
LA17: ;
LOC15 = LOC16;
if (!(LOC15)) goto LA19;
LOC15 = !(eqStrings((*P_146726).Tok->data[(NI64)((*P_146726).Idx + 1)].Symbol, ((NimStringDesc*) &TMP195107)));
LA19: ;
LOC14 = LOC15;
if (!(LOC14)) goto LA20;
LOC14 = !(((3 &(1<<(((*P_146726).Tok->data[(NI64)((*P_146726).Idx + 1)].Kind)&7)))!=0));
LA20: ;
if (!LOC14) goto LA21;
Pushind_143778(P_146726, (*P_146726).Tok->data[(*P_146726).Idx].Ival);
B_146767 = 0;
B_146767 = Newrstnode_143094(((NU8) 12));
Parsesection_145508(P_146726, B_146767);
C_146768 = 0;
C_146768 = Newrstnode_143094(((NU8) 10));
Addson_143101(C_146768, A_146743);
Addson_143101(C_146768, B_146767);
Addson_143101(Result_146727, C_146768);
Popind_143801(P_146726);
goto LA13;
LA21: ;
(*P_146726).Idx = J_146728;
goto LA12;
LA13: ;
LOC24 = ((*P_146726).Tok->data[(*P_146726).Idx].Kind == ((NU8) 1));
if (!(LOC24)) goto LA25;
LOC24 = ((*P_146726).Tok->data[(*P_146726).Idx].Ival == Col_146742);
LA25: ;
if (!LOC24) goto LA26;
(*P_146726).Idx += 1;
LOC28 = Tokenafternewline_145784(&(*P_146726));
J_146728 = (NI64)(LOC28 - 1);
LOC33 = (1 <= J_146728);
if (!(LOC33)) goto LA34;
LOC33 = ((*P_146726).Tok->data[J_146728].Kind == ((NU8) 1));
LA34: ;
LOC32 = LOC33;
if (!(LOC32)) goto LA35;
LOC32 = (Col_146742 < (*P_146726).Tok->data[J_146728].Ival);
LA35: ;
LOC31 = LOC32;
if (!(LOC31)) goto LA36;
LOC31 = !(eqStrings((*P_146726).Tok->data[(NI64)(J_146728 - 1)].Symbol, ((NimStringDesc*) &TMP195107)));
LA36: ;
LOC30 = LOC31;
if (!(LOC30)) goto LA37;
LOC30 = !(((*P_146726).Tok->data[(NI64)(J_146728 + 1)].Kind == ((NU8) 1)));
LA37: ;
if (!LOC30) goto LA38;
goto LA29;
LA38: ;
goto LA12;
LA29: ;
LA26: ;
} LA12: ;
LOC41 = Rsonslen_143091(Result_146727);
if (!(LOC41 == 0)) goto LA42;
Result_146727 = NIM_NIL;
LA42: ;
LA10: ;
return Result_146727;
}
N_NIMCALL(TY143077*, Parsetransition_146422)(TY143690* P_146425) {
TY143077* Result_146426;
Result_146426 = 0;
Result_146426 = Newrstnode_143094(((NU8) 3));
(*P_146425).Idx += 1;
if (!((*P_146425).Tok->data[(*P_146425).Idx].Kind == ((NU8) 1))) goto LA2;
(*P_146425).Idx += 1;
LA2: ;
if (!((*P_146425).Tok->data[(*P_146425).Idx].Kind == ((NU8) 1))) goto LA5;
(*P_146425).Idx += 1;
LA5: ;
return Result_146426;
}
N_NIMCALL(NI, Getlevel_145762)(NI* Map_145765, NI* Lvl_145767, NIM_CHAR C_145768) {
NI Result_145769;
Result_145769 = 0;
if (!(Map_145765[(((NU8)(C_145768)))-0] == 0)) goto LA2;
(*Lvl_145767) += 1;
Map_145765[(((NU8)(C_145768)))-0] = (*Lvl_145767);
LA2: ;
Result_145769 = Map_145765[(((NU8)(C_145768)))-0];
return Result_145769;
}
N_NIMCALL(TY143077*, Parseheadline_146001)(TY143690* P_146004) {
TY143077* Result_146005;
NIM_CHAR C_146024;
Result_146005 = 0;
Result_146005 = Newrstnode_143094(((NU8) 1));
Parseline_145502(P_146004, Result_146005);
C_146024 = 0;
C_146024 = (*P_146004).Tok->data[(NI64)((*P_146004).Idx + 1)].Symbol->data[0];
(*P_146004).Idx += 2;
(*Result_146005).Level = Getlevel_145762((*(*P_146004).S).Underlinetolevel, &(*(*P_146004).S).Ulevel, C_146024);
return Result_146005;
}
N_NIMCALL(TY143077*, Parseoverline_146481)(TY143690* P_146484) {
TY143077* Result_146485;
NIM_CHAR C_146486;
NI LOC6;
TY143077* LOC9;
Result_146485 = 0;
C_146486 = 0;
C_146486 = (*P_146484).Tok->data[(*P_146484).Idx].Symbol->data[0];
(*P_146484).Idx += 2;
Result_146485 = Newrstnode_143094(((NU8) 2));
while (1) {
Parseline_145502(P_146484, Result_146485);
if (!((*P_146484).Tok->data[(*P_146484).Idx].Kind == ((NU8) 1))) goto LA3;
(*P_146484).Idx += 1;
LOC6 = Currind_143774(&(*P_146484));
if (!(LOC6 < (*P_146484).Tok->data[(NI64)((*P_146484).Idx - 1)].Ival)) goto LA7;
LOC9 = Newrstnode_143097(((NU8) 62), ((NimStringDesc*) &TMP195127));
Addson_143101(Result_146485, LOC9);
goto LA5;
LA7: ;
goto LA1;
LA5: ;
goto LA2;
LA3: ;
goto LA1;
LA2: ;
} LA1: ;
(*Result_146485).Level = Getlevel_145762((*(*P_146484).S).Overlinetolevel, &(*(*P_146484).S).Olevel, C_146486);
if (!((*P_146484).Tok->data[(*P_146484).Idx].Kind == ((NU8) 4))) goto LA11;
(*P_146484).Idx += 1;
if (!((*P_146484).Tok->data[(*P_146484).Idx].Kind == ((NU8) 1))) goto LA14;
(*P_146484).Idx += 1;
LA14: ;
LA11: ;
return Result_146485;
}
N_NIMCALL(NI, Tokend_146041)(TY143690* P_146043) {
NI Result_146044;
Result_146044 = 0;
Result_146044 = (NI64)((NI64)((*P_146043).Tok->data[(*P_146043).Idx].Col + (*P_146043).Tok->data[(*P_146043).Idx].Symbol->Sup.len) - 1);
return Result_146044;
}
N_NIMCALL(void, Getcolumns_146047)(TY143690* P_146050, TY73281** Cols_146052) {
NI L_146053;
L_146053 = 0;
L_146053 = 0;
while (1) {
L_146053 += 1;
(*Cols_146052) = (TY73281*) setLengthSeq(&((*Cols_146052))->Sup, sizeof(NI), L_146053);
(*Cols_146052)->data[(NI64)(L_146053 - 1)] = Tokend_146041(&(*P_146050));
(*P_146050).Idx += 1;
if (!!(((*P_146050).Tok->data[(*P_146050).Idx].Kind == ((NU8) 2)))) goto LA3;
goto LA1;
LA3: ;
(*P_146050).Idx += 1;
if (!!(((*P_146050).Tok->data[(*P_146050).Idx].Kind == ((NU8) 4)))) goto LA6;
goto LA1;
LA6: ;
} LA1: ;
if (!((*P_146050).Tok->data[(*P_146050).Idx].Kind == ((NU8) 1))) goto LA9;
(*P_146050).Idx += 1;
LA9: ;
(*Cols_146052)->data[(NI64)(L_146053 - 1)] = 32000;
}
N_NIMCALL(TY143077*, Parsesimpletable_146155)(TY143690* P_146158) {
TY143077* Result_146159;
TY73281* Cols_146160;
TY37422* Row_146162;
NI I_146163;
NI Last_146164;
NI Line_146165;
NIM_CHAR C_146166;
TY143690 Q_146167;
TY143077* A_146168;
TY143077* B_146169;
NI J_146264;
NI HEX3Atmp_146396;
NI LOC11;
NI Res_146398;
NI J_146281;
NI HEX3Atmp_146402;
NI Res_146404;
NI LOC20;
NI LOC30;
NI J_146383;
NI HEX3Atmp_146409;
NI Res_146411;
NI J_146391;
NI HEX3Atmp_146416;
NI Res_146418;
TY143077* LOC38;
Result_146159 = 0;
Cols_146160 = 0;
Row_146162 = 0;
I_146163 = 0;
Last_146164 = 0;
Line_146165 = 0;
C_146166 = 0;
memset((void*)&Q_146167, 0, sizeof(Q_146167));
Q_146167.Sup.m_type = NTI143690;
A_146168 = 0;
B_146169 = 0;
Result_146159 = Newrstnode_143094(((NU8) 29));
Cols_146160 = (TY73281*) newSeq(NTI73281, 0);
Row_146162 = (TY37422*) newSeq(NTI37422, 0);
A_146168 = NIM_NIL;
C_146166 = (*P_146158).Tok->data[(*P_146158).Idx].Symbol->data[0];
while (1) {
if (!((*P_146158).Tok->data[(*P_146158).Idx].Kind == ((NU8) 4))) goto LA3;
Last_146164 = Tokenafternewline_145784(&(*P_146158));
if (!((3 &(1<<(((*P_146158).Tok->data[Last_146164].Kind)&7)))!=0)) goto LA6;
(*P_146158).Idx = Last_146164;
goto LA1;
LA6: ;
Getcolumns_146047(P_146158, &Cols_146160);
Row_146162 = (TY37422*) setLengthSeq(&(Row_146162)->Sup, sizeof(NimStringDesc*), Cols_146160->Sup.len);
if (!!((A_146168 == NIM_NIL))) goto LA9;
J_146264 = 0;
HEX3Atmp_146396 = 0;
LOC11 = Rsonslen_143091(A_146168);
HEX3Atmp_146396 = (NI64)(LOC11 - 1);
Res_146398 = 0;
Res_146398 = 0;
while (1) {
if (!(Res_146398 <= HEX3Atmp_146396)) goto LA12;
J_146264 = Res_146398;
(*(*A_146168).Sons->data[J_146264]).Kind = ((NU8) 32);
Res_146398 += 1;
} LA12: ;
LA9: ;
LA3: ;
if (!((*P_146158).Tok->data[(*P_146158).Idx].Kind == ((NU8) 0))) goto LA14;
goto LA1;
LA14: ;
J_146281 = 0;
HEX3Atmp_146402 = 0;
HEX3Atmp_146402 = (Row_146162->Sup.len-1);
Res_146404 = 0;
Res_146404 = 0;
while (1) {
if (!(Res_146404 <= HEX3Atmp_146402)) goto LA16;
J_146281 = Res_146404;
asgnRefNoCycle((void**) &Row_146162->data[J_146281], copyString(((NimStringDesc*) &TMP145483)));
Res_146404 += 1;
} LA16: ;
Line_146165 = (*P_146158).Tok->data[(*P_146158).Idx].Line;
while (1) {
I_146163 = 0;
while (1) {
if (!!(((3 &(1<<(((*P_146158).Tok->data[(*P_146158).Idx].Kind)&7)))!=0))) goto LA18;
LOC20 = Tokend_146041(&(*P_146158));
if (!(LOC20 <= Cols_146160->data[I_146163])) goto LA21;
Row_146162->data[I_146163] = resizeString(Row_146162->data[I_146163], (*P_146158).Tok->data[(*P_146158).Idx].Symbol->Sup.len + 0);
appendString(Row_146162->data[I_146163], (*P_146158).Tok->data[(*P_146158).Idx].Symbol);
(*P_146158).Idx += 1;
goto LA19;
LA21: ;
if (!((*P_146158).Tok->data[(*P_146158).Idx].Kind == ((NU8) 2))) goto LA24;
(*P_146158).Idx += 1;
LA24: ;
I_146163 += 1;
LA19: ;
} LA18: ;
if (!((*P_146158).Tok->data[(*P_146158).Idx].Kind == ((NU8) 1))) goto LA27;
(*P_146158).Idx += 1;
LA27: ;
LOC30 = Tokend_146041(&(*P_146158));
if (!(LOC30 <= Cols_146160->data[0])) goto LA31;
goto LA17;
LA31: ;
if (!((17 &(1<<(((*P_146158).Tok->data[(*P_146158).Idx].Kind)&7)))!=0)) goto LA34;
goto LA17;
LA34: ;
J_146383 = 0;
HEX3Atmp_146409 = 0;
HEX3Atmp_146409 = (Row_146162->Sup.len-1);
Res_146411 = 0;
Res_146411 = 1;
while (1) {
if (!(Res_146411 <= HEX3Atmp_146409)) goto LA36;
J_146383 = Res_146411;
Row_146162->data[J_146383] = addChar(Row_146162->data[J_146383], 10);
Res_146411 += 1;
} LA36: ;
} LA17: ;
A_146168 = Newrstnode_143094(((NU8) 31));
J_146391 = 0;
HEX3Atmp_146416 = 0;
HEX3Atmp_146416 = (Row_146162->Sup.len-1);
Res_146418 = 0;
Res_146418 = 0;
while (1) {
if (!(Res_146418 <= HEX3Atmp_146416)) goto LA37;
J_146391 = Res_146418;
Initparser_143839(&Q_146167, (*P_146158).S);
Q_146167.Col = Cols_146160->data[J_146391];
Q_146167.Line = (NI64)(Line_146165 - 1);
Q_146167.Filename = copyString((*P_146158).Filename);
Gettokens_143438(Row_146162->data[J_146391], NIM_FALSE, &Q_146167.Tok);
B_146169 = Newrstnode_143094(((NU8) 33));
LOC38 = Parsedoc_146151(&Q_146167);
Addson_143101(B_146169, LOC38);
Addson_143101(A_146168, B_146169);
Res_146418 += 1;
} LA37: ;
Addson_143101(Result_146159, A_146168);
} LA1: ;
return Result_146159;
}
N_NIMCALL(TY143077*, Parseoptionlist_146629)(TY143690* P_146632) {
TY143077* Result_146633;
NIM_BOOL LOC3;
NIM_BOOL LOC4;
TY143077* A_146634;
TY143077* B_146635;
TY143077* C_146636;
NIM_BOOL LOC11;
TY143077* LOC15;
NI J_146686;
NIM_BOOL LOC17;
NIM_BOOL LOC18;
NI LOC21;
Result_146633 = 0;
Result_146633 = Newrstnode_143094(((NU8) 17));
while (1) {
LOC4 = Match_144762(&(*P_146632), (*P_146632).Idx, ((NimStringDesc*) &TMP195116));
if (LOC4) goto LA5;
LOC4 = Match_144762(&(*P_146632), (*P_146632).Idx, ((NimStringDesc*) &TMP195117));
LA5: ;
LOC3 = LOC4;
if (LOC3) goto LA6;
LOC3 = Match_144762(&(*P_146632), (*P_146632).Idx, ((NimStringDesc*) &TMP195118));
LA6: ;
if (!LOC3) goto LA7;
A_146634 = 0;
A_146634 = Newrstnode_143094(((NU8) 19));
B_146635 = 0;
B_146635 = Newrstnode_143094(((NU8) 23));
C_146636 = 0;
C_146636 = Newrstnode_143094(((NU8) 18));
while (1) {
if (!!(((3 &(1<<(((*P_146632).Tok->data[(*P_146632).Idx].Kind)&7)))!=0))) goto LA9;
LOC11 = ((*P_146632).Tok->data[(*P_146632).Idx].Kind == ((NU8) 2));
if (!(LOC11)) goto LA12;
LOC11 = (1 < (*P_146632).Tok->data[(*P_146632).Idx].Symbol->Sup.len);
LA12: ;
if (!LOC11) goto LA13;
(*P_146632).Idx += 1;
goto LA9;
LA13: ;
LOC15 = Newleaf_144513(P_146632);
Addson_143101(A_146634, LOC15);
(*P_146632).Idx += 1;
} LA9: ;
J_146686 = 0;
J_146686 = Tokenafternewline_145784(&(*P_146632));
LOC18 = (0 < J_146686);
if (!(LOC18)) goto LA19;
LOC18 = ((*P_146632).Tok->data[(NI64)(J_146686 - 1)].Kind == ((NU8) 1));
LA19: ;
LOC17 = LOC18;
if (!(LOC17)) goto LA20;
LOC21 = Currind_143774(&(*P_146632));
LOC17 = (LOC21 < (*P_146632).Tok->data[(NI64)(J_146686 - 1)].Ival);
LA20: ;
if (!LOC17) goto LA22;
Pushind_143778(P_146632, (*P_146632).Tok->data[(NI64)(J_146686 - 1)].Ival);
Parsesection_145508(P_146632, B_146635);
Popind_143801(P_146632);
goto LA16;
LA22: ;
Parseline_145502(P_146632, B_146635);
LA16: ;
if (!((*P_146632).Tok->data[(*P_146632).Idx].Kind == ((NU8) 1))) goto LA25;
(*P_146632).Idx += 1;
LA25: ;
Addson_143101(C_146636, A_146634);
Addson_143101(C_146636, B_146635);
Addson_143101(Result_146633, C_146636);
goto LA2;
LA7: ;
goto LA1;
LA2: ;
} LA1: ;
return Result_146633;
}
N_NIMCALL(void, Addsonifnotnil_143598)(TY143077* Father_143600, TY143077* Son_143601) {
if (!!((Son_143601 == NIM_NIL))) goto LA2;
Addson_143101(Father_143600, Son_143601);
LA2: ;
}
N_NIMCALL(void, Parseparagraph_145932)(TY143690* P_145935, TY143077* Result_145936) {
NI LOC5;
NU8 LOC8;
TY143077* LOC9;
TY143077* LOC10;
NIM_BOOL LOC12;
NIM_BOOL LOC13;
NI LOC16;
TY143077* LOC19;
TY143077* LOC20;
while (1) {
switch ((*P_145935).Tok->data[(*P_145935).Idx].Kind) {
case ((NU8) 1):
if (!((*P_145935).Tok->data[(NI64)((*P_145935).Idx + 1)].Kind == ((NU8) 1))) goto LA3;
(*P_145935).Idx += 1;
goto LA1;
goto LA2;
LA3: ;
LOC5 = Currind_143774(&(*P_145935));
if (!((*P_145935).Tok->data[(*P_145935).Idx].Ival == LOC5)) goto LA6;
(*P_145935).Idx += 1;
LOC8 = Whichsection_145858(&(*P_145935));
switch (LOC8) {
case ((NU8) 4):
case ((NU8) 62):
case ((NU8) 1):
case ((NU8) 2):
case ((NU8) 40):
LOC9 = Newrstnode_143097(((NU8) 62), ((NimStringDesc*) &TMP195127));
Addson_143101(Result_145936, LOC9);
break;
case ((NU8) 26):
LOC10 = Parselineblock_145871(P_145935);
Addsonifnotnil_143598(Result_145936, LOC10);
break;
default:
goto LA1;
break;
}
goto LA2;
LA6: ;
goto LA1;
LA2: ;
break;
case ((NU8) 5):
LOC13 = eqStrings((*P_145935).Tok->data[(*P_145935).Idx].Symbol, ((NimStringDesc*) &TMP195107));
if (!(LOC13)) goto LA14;
LOC13 = ((*P_145935).Tok->data[(NI64)((*P_145935).Idx + 1)].Kind == ((NU8) 1));
LA14: ;
LOC12 = LOC13;
if (!(LOC12)) goto LA15;
LOC16 = Currind_143774(&(*P_145935));
LOC12 = (LOC16 < (*P_145935).Tok->data[(NI64)((*P_145935).Idx + 1)].Ival);
LA15: ;
if (!LOC12) goto LA17;
LOC19 = Newrstnode_143097(((NU8) 62), ((NimStringDesc*) &TMP195113));
Addson_143101(Result_145936, LOC19);
(*P_145935).Idx += 1;
LOC20 = Parseliteralblock_145682(P_145935);
Addson_143101(Result_145936, LOC20);
goto LA1;
goto LA11;
LA17: ;
Parseinline_145188(P_145935, Result_145936);
LA11: ;
break;
case ((NU8) 2):
case ((NU8) 3):
case ((NU8) 4):
case ((NU8) 6):
Parseinline_145188(P_145935, Result_145936);
break;
default:
goto LA1;
break;
}
} LA1: ;
}
N_NIMCALL(NU8, Sonkind_146903)(TY143077* Father_146905, NI I_146906) {
NU8 Result_146907;
NI LOC2;
Result_146907 = 0;
Result_146907 = ((NU8) 62);
LOC2 = Rsonslen_143091(Father_146905);
if (!(I_146906 < LOC2)) goto LA3;
Result_146907 = (*(*Father_146905).Sons->data[I_146906]).Kind;
LA3: ;
return Result_146907;
}
N_NIMCALL(void, Parsesection_145508)(TY143690* P_145511, TY143077* Result_145512) {
NIM_BOOL Leave_146915;
NI LOC4;
NI LOC7;
TY143077* A_146943;
TY143077* A_146953;
NU8 K_146954;
NIM_BOOL LOC17;
NIM_BOOL LOC22;
NU8 LOC23;
NU8 LOC25;
while (1) {
Leave_146915 = 0;
Leave_146915 = NIM_FALSE;
while (1) {
if (!((*P_145511).Tok->data[(*P_145511).Idx].Kind == ((NU8) 1))) goto LA2;
LOC4 = Currind_143774(&(*P_145511));
if (!(LOC4 == (*P_145511).Tok->data[(*P_145511).Idx].Ival)) goto LA5;
(*P_145511).Idx += 1;
goto LA3;
LA5: ;
LOC7 = Currind_143774(&(*P_145511));
if (!(LOC7 < (*P_145511).Tok->data[(*P_145511).Idx].Ival)) goto LA8;
Pushind_143778(P_145511, (*P_145511).Tok->data[(*P_145511).Idx].Ival);
A_146943 = 0;
A_146943 = Newrstnode_143094(((NU8) 28));
Parsesection_145508(P_145511, A_146943);
Addson_143101(Result_145512, A_146943);
Popind_143801(P_145511);
goto LA3;
LA8: ;
Leave_146915 = NIM_TRUE;
goto LA2;
LA3: ;
} LA2: ;
if (!Leave_146915) goto LA11;
goto LA1;
LA11: ;
if (!((*P_145511).Tok->data[(*P_145511).Idx].Kind == ((NU8) 0))) goto LA14;
goto LA1;
LA14: ;
A_146953 = 0;
A_146953 = NIM_NIL;
K_146954 = 0;
K_146954 = Whichsection_145858(&(*P_145511));
switch (K_146954) {
case ((NU8) 24):
(*P_145511).Idx += 1;
A_146953 = Parseliteralblock_145682(P_145511);
break;
case ((NU8) 5):
A_146953 = Parsebulletlist_146567(P_145511);
break;
case ((NU8) 26):
A_146953 = Parselineblock_145871(P_145511);
break;
case ((NU8) 40):
A_146953 = Parsedotdot_145678(P_145511);
break;
case ((NU8) 7):
A_146953 = Parseenumlist_146817(P_145511);
break;
case ((NU8) 62):
Rstmessage_143770(&(*P_145511), ((NU8) 186));
break;
case ((NU8) 4):
break;
case ((NU8) 9):
A_146953 = Parsedefinitionlist_146723(P_145511);
break;
case ((NU8) 13):
(*P_145511).Idx -= 1;
A_146953 = Parsefields_145554(P_145511);
break;
case ((NU8) 3):
A_146953 = Parsetransition_146422(P_145511);
break;
case ((NU8) 1):
A_146953 = Parseheadline_146001(P_145511);
break;
case ((NU8) 2):
A_146953 = Parseoverline_146481(P_145511);
break;
case ((NU8) 29):
A_146953 = Parsesimpletable_146155(P_145511);
break;
case ((NU8) 17):
A_146953 = Parseoptionlist_146629(P_145511);
break;
default:
Internalerror_45571(((NimStringDesc*) &TMP195155));
break;
}
LOC17 = (A_146953 == NIM_NIL);
if (!(LOC17)) goto LA18;
LOC17 = !((K_146954 == ((NU8) 40)));
LA18: ;
if (!LOC17) goto LA19;
A_146953 = Newrstnode_143094(((NU8) 4));
Parseparagraph_145932(P_145511, A_146953);
LA19: ;
Addsonifnotnil_143598(Result_145512, A_146953);
} LA1: ;
LOC23 = Sonkind_146903(Result_145512, 0);
LOC22 = (LOC23 == ((NU8) 4));
if (!(LOC22)) goto LA24;
LOC25 = Sonkind_146903(Result_145512, 1);
LOC22 = !((LOC25 == ((NU8) 4)));
LA24: ;
if (!LOC22) goto LA26;
(*(*Result_145512).Sons->data[0]).Kind = ((NU8) 0);
LA26: ;
}
N_NIMCALL(TY143077*, Parsesectionwrapper_147019)(TY143690* P_147022) {
TY143077* Result_147023;
NIM_BOOL LOC2;
NI LOC4;
Result_147023 = 0;
Result_147023 = Newrstnode_143094(((NU8) 0));
Parsesection_145508(P_147022, Result_147023);
while (1) {
LOC2 = ((*Result_147023).Kind == ((NU8) 0));
if (!(LOC2)) goto LA3;
LOC4 = Rsonslen_143091(Result_147023);
LOC2 = (LOC4 == 1);
LA3: ;
if (!LOC2) goto LA1;
Result_147023 = (*Result_147023).Sons->data[0];
} LA1: ;
return Result_147023;
}
N_NIMCALL(TY143077*, Parsedoc_146151)(TY143690* P_146154) {
TY143077* Result_147040;
Result_147040 = 0;
Result_147040 = Parsesectionwrapper_147019(P_146154);
if (!!(((*P_146154).Tok->data[(*P_146154).Idx].Kind == ((NU8) 0)))) goto LA2;
Rstmessage_143770(&(*P_146154), ((NU8) 185));
LA2: ;
return Result_147040;
}
N_NIMCALL(TY143077*, Rstparse_143082)(NimStringDesc* Text_143084, NIM_BOOL Skippounds_143085, NimStringDesc* Filename_143086, NI Line_143087, NI Column_143088, NIM_BOOL* Hastoc_143090) {
TY143077* Result_147535;
TY143690 P_147536;
TY143686* LOC4;
TY143077* LOC5;
Result_147535 = 0;
memset((void*)&P_147536, 0, sizeof(P_147536));
P_147536.Sup.m_type = NTI143690;
if (!Text_143084 == 0) goto LA2;
Rawmessage_45553(((NU8) 2), Filename_143086);
LA2: ;
LOC4 = Newsharedstate_143710();
Initparser_143839(&P_147536, LOC4);
P_147536.Filename = copyString(Filename_143086);
P_147536.Line = Line_143087;
P_147536.Col = Column_143088;
Gettokens_143438(Text_143084, Skippounds_143085, &P_147536.Tok);
LOC5 = Parsedoc_146151(&P_147536);
Result_147535 = Resolvesubs_147478(&P_147536, LOC5);
(*Hastoc_143090) = P_147536.Hastoc;
return Result_147535;
}
N_NIMCALL(NIM_BOOL, Matcheshyperlink_144250)(TY143077* H_144252, NimStringDesc* Filename_144253) {
NIM_BOOL Result_144254;
NimStringDesc* S_144275;
NIM_BOOL LOC7;
Result_144254 = 0;
if (!((*H_144252).Kind == ((NU8) 0))) goto LA2;
Result_144254 = Matcheshyperlink_144250((*H_144252).Sons->data[0], Filename_144253);
goto LA1;
LA2: ;
if (!((*H_144252).Kind == ((NU8) 38))) goto LA4;
S_144275 = 0;
S_144275 = Addnodes_143108((*H_144252).Sons->data[1]);
LOC7 = nsuStartsWith(S_144275, Filename_144253);
if (!(LOC7)) goto LA8;
LOC7 = ((NU8)(S_144275->data[(NI64)(Filename_144253->Sup.len + 0)]) == (NU8)(35));
LA8: ;
if (!LOC7) goto LA9;
Result_144254 = NIM_TRUE;
goto LA6;
LA9: ;
Result_144254 = NIM_FALSE;
LA6: ;
goto LA1;
LA4: ;
Result_144254 = NIM_FALSE;
LA1: ;
return Result_144254;
}
N_NIMCALL(void, Clearindex_143126)(TY143077* Index_143128, NimStringDesc* Filename_143129) {
NI K_144284;
NI Items_144285;
NI Lastitem_144286;
TY143077* Val_144287;
NI I_144304;
NI HEX3Atmp_144431;
NI LOC1;
NI Res_144433;
NI J_144339;
NI HEX3Atmp_144425;
NI LOC9;
NI Res_144427;
NIM_BOOL LOC14;
NIM_BOOL LOC22;
NI I_144386;
NI HEX3Atmp_144441;
NI LOC25;
NI Res_144443;
K_144284 = 0;
Items_144285 = 0;
Lastitem_144286 = 0;
Val_144287 = 0;
I_144304 = 0;
HEX3Atmp_144431 = 0;
LOC1 = Rsonslen_143091(Index_143128);
HEX3Atmp_144431 = (NI64)(LOC1 - 1);
Res_144433 = 0;
Res_144433 = 0;
while (1) {
if (!(Res_144433 <= HEX3Atmp_144431)) goto LA2;
I_144304 = Res_144433;
Val_144287 = (*(*(*Index_143128).Sons->data[I_144304]).Sons->data[1]).Sons->data[0];
if (!((*Val_144287).Kind == ((NU8) 0))) goto LA4;
Val_144287 = (*Val_144287).Sons->data[0];
LA4: ;
if (!((*Val_144287).Kind == ((NU8) 5))) goto LA7;
Items_144285 = Rsonslen_143091(Val_144287);
Lastitem_144286 = -1;
J_144339 = 0;
HEX3Atmp_144425 = 0;
LOC9 = Rsonslen_143091(Val_144287);
HEX3Atmp_144425 = (NI64)(LOC9 - 1);
Res_144427 = 0;
Res_144427 = 0;
while (1) {
if (!(Res_144427 <= HEX3Atmp_144425)) goto LA10;
J_144339 = Res_144427;
if (!((*Val_144287).Sons->data[J_144339] == NIM_NIL)) goto LA12;
Items_144285 -= 1;
goto LA11;
LA12: ;
LOC14 = Matcheshyperlink_144250((*(*Val_144287).Sons->data[J_144339]).Sons->data[0], Filename_143129);
if (!LOC14) goto LA15;
asgnRefNoCycle((void**) &(*Val_144287).Sons->data[J_144339], NIM_NIL);
Items_144285 -= 1;
goto LA11;
LA15: ;
Lastitem_144286 = J_144339;
LA11: ;
Res_144427 += 1;
} LA10: ;
if (!(Items_144285 == 1)) goto LA18;
asgnRefNoCycle((void**) &(*(*(*Index_143128).Sons->data[I_144304]).Sons->data[1]).Sons->data[0], (*(*Val_144287).Sons->data[Lastitem_144286]).Sons->data[0]);
goto LA17;
LA18: ;
if (!(Items_144285 == 0)) goto LA20;
asgnRefNoCycle((void**) &(*Index_143128).Sons->data[I_144304], NIM_NIL);
goto LA17;
LA20: ;
LA17: ;
goto LA6;
LA7: ;
LOC22 = Matcheshyperlink_144250(Val_144287, Filename_143129);
if (!LOC22) goto LA23;
asgnRefNoCycle((void**) &(*Index_143128).Sons->data[I_144304], NIM_NIL);
goto LA6;
LA23: ;
LA6: ;
Res_144433 += 1;
} LA2: ;
K_144284 = 0;
I_144386 = 0;
HEX3Atmp_144441 = 0;
LOC25 = Rsonslen_143091(Index_143128);
HEX3Atmp_144441 = (NI64)(LOC25 - 1);
Res_144443 = 0;
Res_144443 = 0;
while (1) {
if (!(Res_144443 <= HEX3Atmp_144441)) goto LA26;
I_144386 = Res_144443;
if (!!(((*Index_143128).Sons->data[I_144386] == NIM_NIL))) goto LA28;
if (!!((K_144284 == I_144386))) goto LA31;
asgnRefNoCycle((void**) &(*Index_143128).Sons->data[K_144284], (*Index_143128).Sons->data[I_144386]);
LA31: ;
K_144284 += 1;
LA28: ;
Res_144443 += 1;
} LA26: ;
(*Index_143128).Sons = (TY143075*) setLengthSeq(&((*Index_143128).Sons)->Sup, sizeof(TY143077*), K_144284);
}
N_NIMCALL(TY143077*, Lastson_143667)(TY143077* N_143669) {
TY143077* Result_143670;
Result_143670 = 0;
Result_143670 = (*N_143669).Sons->data[(NI64)((*N_143669).Sons->Sup.len - 1)];
return Result_143670;
}
N_NIMCALL(NimStringDesc*, Getargument_143115)(TY143077* N_143117) {
NimStringDesc* Result_145666;
Result_145666 = 0;
if (!((*N_143117).Sons->data[0] == NIM_NIL)) goto LA2;
Result_145666 = copyString(((NimStringDesc*) &TMP145483));
goto LA1;
LA2: ;
Result_145666 = Addnodes_143108((*N_143117).Sons->data[0]);
LA1: ;
return Result_145666;
}
N_NIMCALL(NIM_BOOL, Eqrstnodes_144211)(TY143077* A_144213, TY143077* B_144214) {
NIM_BOOL Result_144215;
NI LOC8;
NI LOC9;
NI I_144243;
NI HEX3Atmp_144245;
NI LOC12;
NI Res_144247;
NIM_BOOL LOC15;
Result_144215 = 0;
if (!!(((*A_144213).Kind == (*B_144214).Kind))) goto LA2;
goto BeforeRet;
LA2: ;
if (!((*A_144213).Kind == ((NU8) 62))) goto LA5;
Result_144215 = eqStrings((*A_144213).Text, (*B_144214).Text);
goto LA4;
LA5: ;
LOC8 = Rsonslen_143091(A_144213);
LOC9 = Rsonslen_143091(B_144214);
if (!!((LOC8 == LOC9))) goto LA10;
goto BeforeRet;
LA10: ;
I_144243 = 0;
HEX3Atmp_144245 = 0;
LOC12 = Rsonslen_143091(A_144213);
HEX3Atmp_144245 = (NI64)(LOC12 - 1);
Res_144247 = 0;
Res_144247 = 0;
while (1) {
if (!(Res_144247 <= HEX3Atmp_144245)) goto LA13;
I_144243 = Res_144247;
LOC15 = Eqrstnodes_144211((*A_144213).Sons->data[I_144243], (*B_144214).Sons->data[I_144243]);
if (!!(LOC15)) goto LA16;
goto BeforeRet;
LA16: ;
Res_144247 += 1;
} LA13: ;
Result_144215 = NIM_TRUE;
LA4: ;
BeforeRet: ;
return Result_144215;
}
N_NIMCALL(void, Setindexpair_143118)(TY143077* Index_143120, TY143077* Key_143121, TY143077* Val_143122) {
TY143077* E_144451;
TY143077* A_144452;
TY143077* B_144453;
NI I_144479;
NI HEX3Atmp_144508;
NI LOC1;
NI Res_144510;
NIM_BOOL LOC4;
E_144451 = 0;
A_144452 = 0;
B_144453 = 0;
A_144452 = Newrstnode_143094(((NU8) 11));
Addson_143101(A_144452, Key_143121);
I_144479 = 0;
HEX3Atmp_144508 = 0;
LOC1 = Rsonslen_143091(Index_143120);
HEX3Atmp_144508 = (NI64)(LOC1 - 1);
Res_144510 = 0;
Res_144510 = 0;
while (1) {
if (!(Res_144510 <= HEX3Atmp_144508)) goto LA2;
I_144479 = Res_144510;
LOC4 = Eqrstnodes_144211((*(*Index_143120).Sons->data[I_144479]).Sons->data[0], A_144452);
if (!LOC4) goto LA5;
E_144451 = (*(*(*Index_143120).Sons->data[I_144479]).Sons->data[1]).Sons->data[0];
if (!!(((*E_144451).Kind == ((NU8) 5)))) goto LA8;
E_144451 = Newrstnode_143094(((NU8) 5));
B_144453 = Newrstnode_143094(((NU8) 6));
Addson_143101(B_144453, (*(*(*Index_143120).Sons->data[I_144479]).Sons->data[1]).Sons->data[0]);
Addson_143101(E_144451, B_144453);
asgnRefNoCycle((void**) &(*(*(*Index_143120).Sons->data[I_144479]).Sons->data[1]).Sons->data[0], E_144451);
LA8: ;
B_144453 = Newrstnode_143094(((NU8) 6));
Addson_143101(B_144453, Val_143122);
Addson_143101(E_144451, B_144453);
goto BeforeRet;
LA5: ;
Res_144510 += 1;
} LA2: ;
E_144451 = Newrstnode_143094(((NU8) 10));
B_144453 = Newrstnode_143094(((NU8) 12));
Addson_143101(B_144453, Val_143122);
Addson_143101(E_144451, A_144452);
Addson_143101(E_144451, B_144453);
Addson_143101(Index_143120, E_144451);
BeforeRet: ;
}
N_NIMCALL(NI, Cmpnodes_144141)(TY143077* A_144143, TY143077* B_144144) {
NI Result_144145;
TY143077* X_144164;
TY143077* Y_144165;
NimStringDesc* LOC1;
NimStringDesc* LOC2;
Result_144145 = 0;
X_144164 = 0;
X_144164 = (*A_144143).Sons->data[0];
Y_144165 = 0;
Y_144165 = (*B_144144).Sons->data[0];
LOC1 = Addnodes_143108(X_144164);
LOC2 = Addnodes_143108(Y_144165);
Result_144145 = nsuCmpIgnoreStyle(LOC1, LOC2);
return Result_144145;
}
N_NIMCALL(void, Sortindex_143123)(TY143077* A_143125) {
NI N_144178;
NI H_144179;
NI I_144189;
NI HEX3Atmp_144201;
NI Res_144203;
TY143077* V_144190;
NI J_144191;
NI LOC8;
N_144178 = 0;
N_144178 = Rsonslen_143091(A_143125);
H_144179 = 0;
H_144179 = 1;
while (1) {
H_144179 = (NI64)((NI64)(3 * H_144179) + 1);
if (!(N_144178 < H_144179)) goto LA3;
goto LA1;
LA3: ;
} LA1: ;
while (1) {
H_144179 = (NI64)(H_144179 / 3);
I_144189 = 0;
HEX3Atmp_144201 = 0;
HEX3Atmp_144201 = (NI64)(N_144178 - 1);
Res_144203 = 0;
Res_144203 = H_144179;
while (1) {
if (!(Res_144203 <= HEX3Atmp_144201)) goto LA6;
I_144189 = Res_144203;
V_144190 = 0;
V_144190 = (*A_143125).Sons->data[I_144189];
J_144191 = 0;
J_144191 = I_144189;
while (1) {
LOC8 = Cmpnodes_144141((*A_143125).Sons->data[(NI64)(J_144191 - H_144179)], V_144190);
if (!(0 <= LOC8)) goto LA7;
asgnRefNoCycle((void**) &(*A_143125).Sons->data[J_144191], (*A_143125).Sons->data[(NI64)(J_144191 - H_144179)]);
J_144191 = (NI64)(J_144191 - H_144179);
if (!(J_144191 < H_144179)) goto LA10;
goto LA7;
LA10: ;
} LA7: ;
asgnRefNoCycle((void**) &(*A_143125).Sons->data[J_144191], V_144190);
Res_144203 += 1;
} LA6: ;
if (!(H_144179 == 1)) goto LA13;
goto LA5;
LA13: ;
} LA5: ;
}
N_NOINLINE(void, rstInit)(void) {
}

