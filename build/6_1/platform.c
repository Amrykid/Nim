/* Generated by Nimrod Compiler v0.8.9 */
/*   (c) 2010 Andreas Rumpf */

typedef long int NI;
typedef unsigned long int NU;
#include "nimbase.h"

typedef struct TY49036 TY49036;
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct TY49448 TY49448;
typedef struct TY10402 TY10402;
typedef struct TNimType TNimType;
typedef struct TY10418 TY10418;
typedef struct TY10790 TY10790;
typedef struct TY10414 TY10414;
typedef struct TY10410 TY10410;
typedef struct TY10788 TY10788;
typedef struct TNimNode TNimNode;
struct TGenericSeq {
NI len;
NI space;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
struct TY49036 {
NimStringDesc* Name;
NimStringDesc* Pardir;
NimStringDesc* Dllfrmt;
NimStringDesc* Altdirsep;
NimStringDesc* Objext;
NimStringDesc* Newline;
NimStringDesc* Pathsep;
NimStringDesc* Dirsep;
NimStringDesc* Scriptext;
NimStringDesc* Curdir;
NimStringDesc* Exeext;
NimStringDesc* Extsep;
NU8 Props;
};
typedef TY49036 TY49054[21];
typedef NimStringDesc* TY49457[2];
struct TY49448 {
NimStringDesc* Name;
NI Intsize;
NU8 Endian;
NI Floatsize;
NI Bit;
};
typedef TY49448 TY49461[12];
struct TY10402 {
NI Refcount;
TNimType* Typ;
};
struct TY10418 {
NI Len;
NI Cap;
TY10402** D;
};
struct TY10414 {
NI Counter;
NI Max;
TY10410* Head;
TY10410** Data;
};
struct TY10788 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY10790 {
TY10418 Zct;
TY10418 Decstack;
TY10414 Cycleroots;
TY10418 Tempstack;
TY10788 Stat;
};
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
typedef NI TY8414[16];
struct TY10410 {
TY10410* Next;
NI Key;
TY8414 Bits;
};
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
N_NIMCALL(NU8, Nametocpu_49567)(NimStringDesc* Name_49569);
N_NIMCALL(NI, nsuCmpIgnoreStyle)(NimStringDesc* A_22638, NimStringDesc* B_22639);
N_NIMCALL(NU8, Nametoos_49564)(NimStringDesc* Name_49566);
N_NIMCALL(void, Settarget_49574)(NU8 O_49576, NU8 C_49577);
static N_INLINE(void, asgnRefNoCycle)(void** Dest_11616, void* Src_11617);
static N_INLINE(TY10402*, Usrtocell_10822)(void* Usr_10824);
static N_INLINE(void, Rtladdzct_11456)(TY10402* C_11458);
N_NOINLINE(void, Addzct_10811)(TY10418* S_10814, TY10402* C_10815);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* Src_17108);
STRING_LITERAL(TMP49384, "DOS", 3);
STRING_LITERAL(TMP49385, "..", 2);
STRING_LITERAL(TMP49386, "$1.dll", 6);
STRING_LITERAL(TMP49387, "/", 1);
STRING_LITERAL(TMP49388, ".obj", 4);
STRING_LITERAL(TMP49389, "\015\012", 2);
STRING_LITERAL(TMP49390, ";", 1);
STRING_LITERAL(TMP49391, "\\", 1);
STRING_LITERAL(TMP49392, ".bat", 4);
STRING_LITERAL(TMP49393, ".", 1);
STRING_LITERAL(TMP49394, ".exe", 4);
STRING_LITERAL(TMP49395, "Windows", 7);
STRING_LITERAL(TMP49396, "OS2", 3);
STRING_LITERAL(TMP49397, "Linux", 5);
STRING_LITERAL(TMP49398, "lib$1.so", 8);
STRING_LITERAL(TMP49399, ".o", 2);
STRING_LITERAL(TMP49400, "\012", 1);
STRING_LITERAL(TMP49401, ":", 1);
STRING_LITERAL(TMP49402, ".sh", 3);
STRING_LITERAL(TMP49403, "", 0);
STRING_LITERAL(TMP49404, "MorphOS", 7);
STRING_LITERAL(TMP49405, "SkyOS", 5);
STRING_LITERAL(TMP49406, "Solaris", 7);
STRING_LITERAL(TMP49407, "Irix", 4);
STRING_LITERAL(TMP49408, "NetBSD", 6);
STRING_LITERAL(TMP49409, "FreeBSD", 7);
STRING_LITERAL(TMP49410, "OpenBSD", 7);
STRING_LITERAL(TMP49411, "AIX", 3);
STRING_LITERAL(TMP49412, "PalmOS", 6);
STRING_LITERAL(TMP49413, "QNX", 3);
STRING_LITERAL(TMP49414, "Amiga", 5);
STRING_LITERAL(TMP49415, "$1.library", 10);
STRING_LITERAL(TMP49416, "Atari", 5);
STRING_LITERAL(TMP49417, ".tpp", 4);
STRING_LITERAL(TMP49418, "Netware", 7);
STRING_LITERAL(TMP49419, "$1.nlm", 6);
STRING_LITERAL(TMP49420, ".nlm", 4);
STRING_LITERAL(TMP49421, "MacOS", 5);
STRING_LITERAL(TMP49422, "::", 2);
STRING_LITERAL(TMP49423, "$1Lib", 5);
STRING_LITERAL(TMP49424, "\015", 1);
STRING_LITERAL(TMP49425, ",", 1);
STRING_LITERAL(TMP49426, "MacOSX", 6);
STRING_LITERAL(TMP49427, "lib$1.dylib", 11);
STRING_LITERAL(TMP49428, "EcmaScript", 10);
STRING_LITERAL(TMP49429, "NimrodVM", 8);
NIM_CONST TY49054 Os_49053 = {{((NimStringDesc*) &TMP49384),
((NimStringDesc*) &TMP49385),
((NimStringDesc*) &TMP49386),
((NimStringDesc*) &TMP49387),
((NimStringDesc*) &TMP49388),
((NimStringDesc*) &TMP49389),
((NimStringDesc*) &TMP49390),
((NimStringDesc*) &TMP49391),
((NimStringDesc*) &TMP49392),
((NimStringDesc*) &TMP49393),
((NimStringDesc*) &TMP49394),
((NimStringDesc*) &TMP49393),
2}
,
{((NimStringDesc*) &TMP49395),
((NimStringDesc*) &TMP49385),
((NimStringDesc*) &TMP49386),
((NimStringDesc*) &TMP49387),
((NimStringDesc*) &TMP49388),
((NimStringDesc*) &TMP49389),
((NimStringDesc*) &TMP49390),
((NimStringDesc*) &TMP49391),
((NimStringDesc*) &TMP49392),
((NimStringDesc*) &TMP49393),
((NimStringDesc*) &TMP49394),
((NimStringDesc*) &TMP49393),
2}
,
{((NimStringDesc*) &TMP49396),
((NimStringDesc*) &TMP49385),
((NimStringDesc*) &TMP49386),
((NimStringDesc*) &TMP49387),
((NimStringDesc*) &TMP49388),
((NimStringDesc*) &TMP49389),
((NimStringDesc*) &TMP49390),
((NimStringDesc*) &TMP49391),
((NimStringDesc*) &TMP49392),
((NimStringDesc*) &TMP49393),
((NimStringDesc*) &TMP49394),
((NimStringDesc*) &TMP49393),
2}
,
{((NimStringDesc*) &TMP49397),
((NimStringDesc*) &TMP49385),
((NimStringDesc*) &TMP49398),
((NimStringDesc*) &TMP49387),
((NimStringDesc*) &TMP49399),
((NimStringDesc*) &TMP49400),
((NimStringDesc*) &TMP49401),
((NimStringDesc*) &TMP49387),
((NimStringDesc*) &TMP49402),
((NimStringDesc*) &TMP49393),
((NimStringDesc*) &TMP49403),
((NimStringDesc*) &TMP49393),
5}
,
{((NimStringDesc*) &TMP49404),
((NimStringDesc*) &TMP49385),
((NimStringDesc*) &TMP49398),
((NimStringDesc*) &TMP49387),
((NimStringDesc*) &TMP49399),
((NimStringDesc*) &TMP49400),
((NimStringDesc*) &TMP49401),
((NimStringDesc*) &TMP49387),
((NimStringDesc*) &TMP49402),
((NimStringDesc*) &TMP49393),
((NimStringDesc*) &TMP49403),
((NimStringDesc*) &TMP49393),
5}
,
{((NimStringDesc*) &TMP49405),
((NimStringDesc*) &TMP49385),
((NimStringDesc*) &TMP49398),
((NimStringDesc*) &TMP49387),
((NimStringDesc*) &TMP49399),
((NimStringDesc*) &TMP49400),
((NimStringDesc*) &TMP49401),
((NimStringDesc*) &TMP49387),
((NimStringDesc*) &TMP49402),
((NimStringDesc*) &TMP49393),
((NimStringDesc*) &TMP49403),
((NimStringDesc*) &TMP49393),
5}
,
{((NimStringDesc*) &TMP49406),
((NimStringDesc*) &TMP49385),
((NimStringDesc*) &TMP49398),
((NimStringDesc*) &TMP49387),
((NimStringDesc*) &TMP49399),
((NimStringDesc*) &TMP49400),
((NimStringDesc*) &TMP49401),
((NimStringDesc*) &TMP49387),
((NimStringDesc*) &TMP49402),
((NimStringDesc*) &TMP49393),
((NimStringDesc*) &TMP49403),
((NimStringDesc*) &TMP49393),
5}
,
{((NimStringDesc*) &TMP49407),
((NimStringDesc*) &TMP49385),
((NimStringDesc*) &TMP49398),
((NimStringDesc*) &TMP49387),
((NimStringDesc*) &TMP49399),
((NimStringDesc*) &TMP49400),
((NimStringDesc*) &TMP49401),
((NimStringDesc*) &TMP49387),
((NimStringDesc*) &TMP49402),
((NimStringDesc*) &TMP49393),
((NimStringDesc*) &TMP49403),
((NimStringDesc*) &TMP49393),
5}
,
{((NimStringDesc*) &TMP49408),
((NimStringDesc*) &TMP49385),
((NimStringDesc*) &TMP49398),
((NimStringDesc*) &TMP49387),
((NimStringDesc*) &TMP49399),
((NimStringDesc*) &TMP49400),
((NimStringDesc*) &TMP49401),
((NimStringDesc*) &TMP49387),
((NimStringDesc*) &TMP49402),
((NimStringDesc*) &TMP49393),
((NimStringDesc*) &TMP49403),
((NimStringDesc*) &TMP49393),
5}
,
{((NimStringDesc*) &TMP49409),
((NimStringDesc*) &TMP49385),
((NimStringDesc*) &TMP49398),
((NimStringDesc*) &TMP49387),
((NimStringDesc*) &TMP49399),
((NimStringDesc*) &TMP49400),
((NimStringDesc*) &TMP49401),
((NimStringDesc*) &TMP49387),
((NimStringDesc*) &TMP49402),
((NimStringDesc*) &TMP49393),
((NimStringDesc*) &TMP49403),
((NimStringDesc*) &TMP49393),
5}
,
{((NimStringDesc*) &TMP49410),
((NimStringDesc*) &TMP49385),
((NimStringDesc*) &TMP49398),
((NimStringDesc*) &TMP49387),
((NimStringDesc*) &TMP49399),
((NimStringDesc*) &TMP49400),
((NimStringDesc*) &TMP49401),
((NimStringDesc*) &TMP49387),
((NimStringDesc*) &TMP49402),
((NimStringDesc*) &TMP49393),
((NimStringDesc*) &TMP49403),
((NimStringDesc*) &TMP49393),
5}
,
{((NimStringDesc*) &TMP49411),
((NimStringDesc*) &TMP49385),
((NimStringDesc*) &TMP49398),
((NimStringDesc*) &TMP49387),
((NimStringDesc*) &TMP49399),
((NimStringDesc*) &TMP49400),
((NimStringDesc*) &TMP49401),
((NimStringDesc*) &TMP49387),
((NimStringDesc*) &TMP49402),
((NimStringDesc*) &TMP49393),
((NimStringDesc*) &TMP49403),
((NimStringDesc*) &TMP49393),
5}
,
{((NimStringDesc*) &TMP49412),
((NimStringDesc*) &TMP49385),
((NimStringDesc*) &TMP49398),
((NimStringDesc*) &TMP49387),
((NimStringDesc*) &TMP49399),
((NimStringDesc*) &TMP49400),
((NimStringDesc*) &TMP49401),
((NimStringDesc*) &TMP49387),
((NimStringDesc*) &TMP49402),
((NimStringDesc*) &TMP49393),
((NimStringDesc*) &TMP49403),
((NimStringDesc*) &TMP49393),
1}
,
{((NimStringDesc*) &TMP49413),
((NimStringDesc*) &TMP49385),
((NimStringDesc*) &TMP49398),
((NimStringDesc*) &TMP49387),
((NimStringDesc*) &TMP49399),
((NimStringDesc*) &TMP49400),
((NimStringDesc*) &TMP49401),
((NimStringDesc*) &TMP49387),
((NimStringDesc*) &TMP49402),
((NimStringDesc*) &TMP49393),
((NimStringDesc*) &TMP49403),
((NimStringDesc*) &TMP49393),
5}
,
{((NimStringDesc*) &TMP49414),
((NimStringDesc*) &TMP49385),
((NimStringDesc*) &TMP49415),
((NimStringDesc*) &TMP49387),
((NimStringDesc*) &TMP49399),
((NimStringDesc*) &TMP49400),
((NimStringDesc*) &TMP49401),
((NimStringDesc*) &TMP49387),
((NimStringDesc*) &TMP49402),
((NimStringDesc*) &TMP49393),
((NimStringDesc*) &TMP49403),
((NimStringDesc*) &TMP49393),
1}
,
{((NimStringDesc*) &TMP49416),
((NimStringDesc*) &TMP49385),
((NimStringDesc*) &TMP49386),
((NimStringDesc*) &TMP49387),
((NimStringDesc*) &TMP49399),
((NimStringDesc*) &TMP49400),
((NimStringDesc*) &TMP49401),
((NimStringDesc*) &TMP49387),
((NimStringDesc*) &TMP49403),
((NimStringDesc*) &TMP49393),
((NimStringDesc*) &TMP49417),
((NimStringDesc*) &TMP49393),
1}
,
{((NimStringDesc*) &TMP49418),
((NimStringDesc*) &TMP49385),
((NimStringDesc*) &TMP49419),
((NimStringDesc*) &TMP49387),
((NimStringDesc*) &TMP49403),
((NimStringDesc*) &TMP49389),
((NimStringDesc*) &TMP49401),
((NimStringDesc*) &TMP49387),
((NimStringDesc*) &TMP49402),
((NimStringDesc*) &TMP49393),
((NimStringDesc*) &TMP49420),
((NimStringDesc*) &TMP49393),
2}
,
{((NimStringDesc*) &TMP49421),
((NimStringDesc*) &TMP49422),
((NimStringDesc*) &TMP49423),
((NimStringDesc*) &TMP49401),
((NimStringDesc*) &TMP49399),
((NimStringDesc*) &TMP49424),
((NimStringDesc*) &TMP49425),
((NimStringDesc*) &TMP49401),
((NimStringDesc*) &TMP49403),
((NimStringDesc*) &TMP49401),
((NimStringDesc*) &TMP49403),
((NimStringDesc*) &TMP49393),
2}
,
{((NimStringDesc*) &TMP49426),
((NimStringDesc*) &TMP49385),
((NimStringDesc*) &TMP49427),
((NimStringDesc*) &TMP49401),
((NimStringDesc*) &TMP49399),
((NimStringDesc*) &TMP49400),
((NimStringDesc*) &TMP49401),
((NimStringDesc*) &TMP49387),
((NimStringDesc*) &TMP49402),
((NimStringDesc*) &TMP49393),
((NimStringDesc*) &TMP49403),
((NimStringDesc*) &TMP49393),
5}
,
{((NimStringDesc*) &TMP49428),
((NimStringDesc*) &TMP49385),
((NimStringDesc*) &TMP49398),
((NimStringDesc*) &TMP49387),
((NimStringDesc*) &TMP49399),
((NimStringDesc*) &TMP49400),
((NimStringDesc*) &TMP49401),
((NimStringDesc*) &TMP49387),
((NimStringDesc*) &TMP49402),
((NimStringDesc*) &TMP49393),
((NimStringDesc*) &TMP49403),
((NimStringDesc*) &TMP49393),
0}
,
{((NimStringDesc*) &TMP49429),
((NimStringDesc*) &TMP49385),
((NimStringDesc*) &TMP49398),
((NimStringDesc*) &TMP49387),
((NimStringDesc*) &TMP49399),
((NimStringDesc*) &TMP49400),
((NimStringDesc*) &TMP49401),
((NimStringDesc*) &TMP49387),
((NimStringDesc*) &TMP49402),
((NimStringDesc*) &TMP49393),
((NimStringDesc*) &TMP49403),
((NimStringDesc*) &TMP49393),
0}
}
;
STRING_LITERAL(TMP49546, "littleEndian", 12);
STRING_LITERAL(TMP49547, "bigEndian", 9);
NIM_CONST TY49457 Endiantostr_49456 = {((NimStringDesc*) &TMP49546),
((NimStringDesc*) &TMP49547)}
;
STRING_LITERAL(TMP49548, "i386", 4);
STRING_LITERAL(TMP49549, "m68k", 4);
STRING_LITERAL(TMP49550, "alpha", 5);
STRING_LITERAL(TMP49551, "powerpc", 7);
STRING_LITERAL(TMP49552, "sparc", 5);
STRING_LITERAL(TMP49553, "vm", 2);
STRING_LITERAL(TMP49554, "ia64", 4);
STRING_LITERAL(TMP49555, "amd64", 5);
STRING_LITERAL(TMP49556, "mips", 4);
STRING_LITERAL(TMP49557, "arm", 3);
STRING_LITERAL(TMP49558, "ecmascript", 10);
STRING_LITERAL(TMP49559, "nimrodvm", 8);
NIM_CONST TY49461 Cpu_49460 = {{((NimStringDesc*) &TMP49548),
32,
((NU8) 0),
64,
32}
,
{((NimStringDesc*) &TMP49549),
32,
((NU8) 1),
64,
32}
,
{((NimStringDesc*) &TMP49550),
64,
((NU8) 0),
64,
64}
,
{((NimStringDesc*) &TMP49551),
32,
((NU8) 1),
64,
32}
,
{((NimStringDesc*) &TMP49552),
32,
((NU8) 1),
64,
32}
,
{((NimStringDesc*) &TMP49553),
32,
((NU8) 0),
64,
32}
,
{((NimStringDesc*) &TMP49554),
64,
((NU8) 0),
64,
64}
,
{((NimStringDesc*) &TMP49555),
64,
((NU8) 0),
64,
64}
,
{((NimStringDesc*) &TMP49556),
32,
((NU8) 1),
64,
32}
,
{((NimStringDesc*) &TMP49557),
32,
((NU8) 0),
64,
32}
,
{((NimStringDesc*) &TMP49558),
32,
((NU8) 1),
64,
32}
,
{((NimStringDesc*) &TMP49559),
32,
((NU8) 1),
64,
32}
}
;
STRING_LITERAL(TMP49696, "openbsd", 7);
NU8 Targetcpu_49560;
NU8 Hostcpu_49561;
NU8 Targetos_49562;
NU8 Hostos_49563;
NI Intsize_49570;
NI Floatsize_49571;
NI Ptrsize_49572;
NimStringDesc* Tnl_49573;
extern TY10790 Gch_10808;
N_NIMCALL(NU8, Nametocpu_49567)(NimStringDesc* Name_49569) {
NU8 Result_49649;
NU8 I_49688;
NU8 Res_49693;
NI LOC3;
Result_49649 = 0;
I_49688 = 0;
Res_49693 = 0;
Res_49693 = ((NU8) 1);
while (1) {
if (!(Res_49693 <= ((NU8) 12))) goto LA1;
I_49688 = Res_49693;
LOC3 = nsuCmpIgnoreStyle(Name_49569, Cpu_49460[(I_49688)-1].Name);
if (!(LOC3 == 0)) goto LA4;
Result_49649 = I_49688;
goto BeforeRet;
LA4: ;
Res_49693 += 1;
} LA1: ;
Result_49649 = ((NU8) 0);
BeforeRet: ;
return Result_49649;
}
N_NIMCALL(NU8, Nametoos_49564)(NimStringDesc* Name_49566) {
NU8 Result_49599;
NU8 I_49638;
NU8 Res_49643;
NI LOC3;
Result_49599 = 0;
I_49638 = 0;
Res_49643 = 0;
Res_49643 = ((NU8) 1);
while (1) {
if (!(Res_49643 <= ((NU8) 21))) goto LA1;
I_49638 = Res_49643;
LOC3 = nsuCmpIgnoreStyle(Name_49566, Os_49053[(I_49638)-1].Name);
if (!(LOC3 == 0)) goto LA4;
Result_49599 = I_49638;
goto BeforeRet;
LA4: ;
Res_49643 += 1;
} LA1: ;
Result_49599 = ((NU8) 0);
BeforeRet: ;
return Result_49599;
}
static N_INLINE(TY10402*, Usrtocell_10822)(void* Usr_10824) {
TY10402* Result_10825;
Result_10825 = 0;
Result_10825 = ((TY10402*) ((NI32)((NU32)(((NI) (Usr_10824))) - (NU32)(((NI) (((NI)sizeof(TY10402))))))));
return Result_10825;
}
static N_INLINE(void, Rtladdzct_11456)(TY10402* C_11458) {
Addzct_10811(&Gch_10808.Zct, C_11458);
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_11616, void* Src_11617) {
TY10402* C_11618;
TY10402* C_11619;
if (!!((Src_11617 == NIM_NIL))) goto LA2;
C_11618 = 0;
C_11618 = Usrtocell_10822(Src_11617);
(*C_11618).Refcount = (NI32)((NU32)((*C_11618).Refcount) + (NU32)(8));
LA2: ;
if (!!(((*Dest_11616) == NIM_NIL))) goto LA5;
C_11619 = 0;
C_11619 = Usrtocell_10822((*Dest_11616));
(*C_11619).Refcount = (NI32)((NU32)((*C_11619).Refcount) - (NU32)(8));
if (!((NU32)((*C_11619).Refcount) < (NU32)(8))) goto LA8;
Rtladdzct_11456(C_11619);
LA8: ;
LA5: ;
(*Dest_11616) = Src_11617;
}
N_NIMCALL(void, Settarget_49574)(NU8 O_49576, NU8 C_49577) {
Targetcpu_49560 = C_49577;
Targetos_49562 = O_49576;
Intsize_49570 = (NI32)(Cpu_49460[(C_49577)-1].Intsize / 8);
Floatsize_49571 = (NI32)(Cpu_49460[(C_49577)-1].Floatsize / 8);
Ptrsize_49572 = (NI32)(Cpu_49460[(C_49577)-1].Bit / 8);
asgnRefNoCycle((void**) &Tnl_49573, copyString(Os_49053[(O_49576)-1].Newline));
}
N_NOINLINE(void, platformInit)(void) {
Hostcpu_49561 = Nametocpu_49567(((NimStringDesc*) &TMP49548));
Hostos_49563 = Nametoos_49564(((NimStringDesc*) &TMP49696));
Settarget_49574(Hostos_49563, Hostcpu_49561);
}

